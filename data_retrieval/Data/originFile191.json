{"items":[{"tags":["java","java-11","byte-code-enhancement"],"owner":{"account_id":12854191,"reputation":1,"user_id":9298044,"display_name":"Guntupalli Dheeraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694510040,"creation_date":1694484553,"question_id":77085701,"body_markdown":"We are using a maven project that has the below dependencies\r\n\r\n```    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\r\n                &lt;artifactId&gt;net.tascalate.javaflow.api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\r\n                &lt;artifactId&gt;net.tascalate.javaflow.extras&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;net.tascalate.javaflow.tools.maven&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.7.5&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;javaflow-enhance-main-classes&lt;/id&gt;\r\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;javaflow-enhance&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n    \r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n```\r\nWe are using net.tascalate.javaflow maven plugin to enhance byte code, till jdk8 it is working fine and the build is successful.\r\nOnce we have upgraded the compiler to java 11 version we are getting the below error when running the maven install.\r\n\r\nThis is the error that was thrown when trying to install the maven project    \r\n```\r\n    [ERROR] net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\r\n    java.lang.RuntimeException: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\r\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:163)\r\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\r\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    Caused by: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\r\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:273)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\r\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\r\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    Caused by: java.lang.UnsupportedOperationException\r\n        at org.apache.commons.javaflow.providers.core.FastClassVerifier.getClass (FastClassVerifier.java:109)\r\n        at net.tascalate.asmx.tree.analysis.SimpleVerifier.isSubTypeOf (SimpleVerifier.java:214)\r\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:400)\r\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:44)\r\n        at net.tascalate.asmx.tree.analysis.Frame.executeInvokeInsn (Frame.java:684)\r\n        at net.tascalate.asmx.tree.analysis.Frame.execute (Frame.java:612)\r\n        at org.apache.commons.javaflow.providers.core.MonitoringFrame.execute (MonitoringFrame.java:72)\r\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:165)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\r\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\r\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n```\r\n    \r\nI have tried reverting the versions of the artifacts net.tascalate.javaflow.api to 2.6.0,           net.tascalate.javaflow.tools.maven to 2.4.1 but still there is same issue.\r\n    \r\nBut when I changed the maven compiler level to jdk 8 the project is building successfully.\r\n    \r\nAny help would be appreciated.","title":"Unable to Build maven project after upgrading to java11","body":"<p>We are using a maven project that has the below dependencies</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\n                &lt;artifactId&gt;net.tascalate.javaflow.api&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\n                &lt;artifactId&gt;net.tascalate.javaflow.extras&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\n                    &lt;artifactId&gt;net.tascalate.javaflow.tools.maven&lt;/artifactId&gt;\n                    &lt;version&gt;2.7.5&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;javaflow-enhance-main-classes&lt;/id&gt;\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;javaflow-enhance&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n    \n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>We are using net.tascalate.javaflow maven plugin to enhance byte code, till jdk8 it is working fine and the build is successful.\nOnce we have upgraded the compiler to java 11 version we are getting the below error when running the maven install.</p>\n<p>This is the error that was thrown when trying to install the maven project</p>\n<pre><code>    [ERROR] net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\n    java.lang.RuntimeException: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:163)\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n    Caused by: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:273)\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n    Caused by: java.lang.UnsupportedOperationException\n        at org.apache.commons.javaflow.providers.core.FastClassVerifier.getClass (FastClassVerifier.java:109)\n        at net.tascalate.asmx.tree.analysis.SimpleVerifier.isSubTypeOf (SimpleVerifier.java:214)\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:400)\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:44)\n        at net.tascalate.asmx.tree.analysis.Frame.executeInvokeInsn (Frame.java:684)\n        at net.tascalate.asmx.tree.analysis.Frame.execute (Frame.java:612)\n        at org.apache.commons.javaflow.providers.core.MonitoringFrame.execute (MonitoringFrame.java:72)\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:165)\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>I have tried reverting the versions of the artifacts net.tascalate.javaflow.api to 2.6.0,           net.tascalate.javaflow.tools.maven to 2.4.1 but still there is same issue.</p>\n<p>But when I changed the maven compiler level to jdk 8 the project is building successfully.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","jruby"],"answers":[{"tags":[],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694510012,"creation_date":1694510012,"answer_id":77087673,"question_id":77087511,"body_markdown":"I found, that the problem is on the Java side:\r\n\r\nFirst, the class `T` needs to be declared _public_. I don&#39;t know why I can create an instance of a non-public class, but can&#39;t call instance methods of it. This seems to be a Java-restriction.\r\n\r\nSecond, after renaming, the Java compiler insists that I also rename the file from `t.java` to `T.java`. The file name must match the class name.\r\n\r\nAfter these changes, the example works.","title":"JRuby can not call Java method","body":"<p>I found, that the problem is on the Java side:</p>\n<p>First, the class <code>T</code> needs to be declared <em>public</em>. I don't know why I can create an instance of a non-public class, but can't call instance methods of it. This seems to be a Java-restriction.</p>\n<p>Second, after renaming, the Java compiler insists that I also rename the file from <code>t.java</code> to <code>T.java</code>. The file name must match the class name.</p>\n<p>After these changes, the example works.</p>\n"}],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77087673,"answer_count":1,"score":0,"last_activity_date":1694510012,"creation_date":1694508898,"question_id":77087511,"body_markdown":"I tried to create a small example, where I invoke a method on a Java object, but I JRuby can&#39;t find the method. \r\n\r\nI have the following file:\r\n\r\nFile t.java with content\r\n\r\n    class T {\r\n      public T() {}\r\n      public String f() {\r\n        return &quot;abc&quot;;\r\n      }\r\n    }\r\n\r\nI then do (inside the directory of t.java):\r\n\r\n    javac t.java # Produces a file T.class\r\n    jruby -e &#39;java_import &quot;T&quot;; r=T.new; puts(r.f)&#39;\r\n\r\nthis produces the error message\r\n\r\n_NoMethodError: undefined method `f&#39; for #&lt;Java::Default::T:0x38cee291&gt;_\r\n\r\nInterestingly, the constructor (`T.new`) seems to have succeeded. Why can&#39;t I call the instance method `f`?\r\n\r\nPlatform:\r\n \r\nMacOS 12.6.5\r\n\r\njruby 9.4.3.0 (3.1.4) 2023-06-07 3086960792 Java HotSpot(TM) 64-Bit Server VM 25.341-b10 on 1.8.0_341-b10 +jit [x86_64-darwin]\r\n","title":"JRuby can not call Java method","body":"<p>I tried to create a small example, where I invoke a method on a Java object, but I JRuby can't find the method.</p>\n<p>I have the following file:</p>\n<p>File t.java with content</p>\n<pre><code>class T {\n  public T() {}\n  public String f() {\n    return &quot;abc&quot;;\n  }\n}\n</code></pre>\n<p>I then do (inside the directory of t.java):</p>\n<pre><code>javac t.java # Produces a file T.class\njruby -e 'java_import &quot;T&quot;; r=T.new; puts(r.f)'\n</code></pre>\n<p>this produces the error message</p>\n<p><em>NoMethodError: undefined method `f' for #Java::Default::T:0x38cee291</em></p>\n<p>Interestingly, the constructor (<code>T.new</code>) seems to have succeeded. Why can't I call the instance method <code>f</code>?</p>\n<p>Platform:</p>\n<p>MacOS 12.6.5</p>\n<p>jruby 9.4.3.0 (3.1.4) 2023-06-07 3086960792 Java HotSpot(TM) 64-Bit Server VM 25.341-b10 on 1.8.0_341-b10 +jit [x86_64-darwin]</p>\n"},{"tags":["java","line"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1374043816,"post_id":17692922,"comment_id":25779231,"body_markdown":"You could try creating a `Line2D` object that represents A &amp; B and use it&#39;s `contains` method","body":"You could try creating a <code>Line2D</code> object that represents A &amp; B and use it&#39;s <code>contains</code> method"},{"owner":{"account_id":2864110,"reputation":566,"user_id":2458755,"accept_rate":84,"display_name":"PunDefeated"},"score":1,"creation_date":1374044111,"post_id":17692922,"comment_id":25779390,"body_markdown":"y=mx+b.  Find the equation of the line containing A and B, and then see if C(x,y) satisfies the equation?","body":"y=mx+b.  Find the equation of the line containing A and B, and then see if C(x,y) satisfies the equation?"},{"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"score":0,"creation_date":1374044308,"post_id":17692922,"comment_id":25779505,"body_markdown":"this is what I have tried, but what to do when x2 and x1 are same\n\nfloat ratio = (y2 - y1) / (x2 - x1);\nThen:\n\nwidth = x2 - x1;\nfor(int i = 0; i &lt; width; i++) {\n    float x = x1 + i;\n    float y = y1 + (ratio * i);\n    points.add(new Point(x,y));\n}","body":"this is what I have tried, but what to do when x2 and x1 are same  float ratio = (y2 - y1) / (x2 - x1); Then:  width = x2 - x1; for(int i = 0; i &lt; width; i++) {     float x = x1 + i;     float y = y1 + (ratio * i);     points.add(new Point(x,y)); }"},{"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"score":0,"creation_date":1374044424,"post_id":17692922,"comment_id":25779568,"body_markdown":"@PunDefeated can you please explain a bit more, i am not good with math. How to do it ?","body":"@PunDefeated can you please explain a bit more, i am not good with math. How to do it ?"},{"owner":{"account_id":2864110,"reputation":566,"user_id":2458755,"accept_rate":84,"display_name":"PunDefeated"},"score":0,"creation_date":1374044798,"post_id":17692922,"comment_id":25779754,"body_markdown":"http://www.mathsisfun.com/algebra/line-equation-2points.html\nor the answer from @SeniorJD.","body":"<a href=\"http://www.mathsisfun.com/algebra/line-equation-2points.html\" rel=\"nofollow noreferrer\">mathsisfun.com/algebra/line-equation-2points.html</a> or the answer from @SeniorJD."},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1374046638,"post_id":17692922,"comment_id":25780761,"body_markdown":"user2061477, any solution that uses (only) gradients will fail spectacularly for vertical lines as the gradient approaches infinity. The answer from @MrROY will bypass those problems.","body":"user2061477, any solution that uses (only) gradients will fail spectacularly for vertical lines as the gradient approaches infinity. The answer from @MrROY will bypass those problems."},{"owner":{"account_id":258537,"reputation":12329,"user_id":540776,"accept_rate":92,"display_name":"superjos"},"score":1,"creation_date":1400109067,"post_id":17692922,"comment_id":36355288,"body_markdown":"Please have a look at this (older) [SO thread][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/328107/how-can-you-determine-a-point-is-between-two-other-points-on-a-line-segment","body":"Please have a look at this (older) [SO thread][1]        [1]: <a href=\"http://stackoverflow.com/questions/328107/how-can-you-determine-a-point-is-between-two-other-points-on-a-line-segment\" title=\"how can you determine a point is between two other points on a line segment\">stackoverflow.com/questions/328107/&hellip;</a>"},{"owner":{"account_id":8618069,"reputation":333,"user_id":6454135,"display_name":"Jeffery Tang"},"score":2,"creation_date":1554616231,"post_id":17692922,"comment_id":97812939,"body_markdown":"contains will always return false for line2D","body":"contains will always return false for line2D"}],"answers":[{"comments":[{"owner":{"account_id":2432954,"reputation":6986,"user_id":2123487,"accept_rate":86,"display_name":"SeniorJD"},"score":1,"creation_date":1374044464,"post_id":17693146,"comment_id":25779586,"body_markdown":"The `&quot;(&quot;` taken after `if` expected","body":"The <code>&quot;(&quot;</code> taken after <code>if</code> expected"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1374045510,"post_id":17693146,"comment_id":25780141,"body_markdown":"This assumes the line is equi-distant from A and B. i.e. it passes between the middle of A and B, not through it.","body":"This assumes the line is equi-distant from A and B. i.e. it passes between the middle of A and B, not through it."},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1374045734,"post_id":17693146,"comment_id":25780262,"body_markdown":"@Peter, if you mean the _point_ (C) is equidistant, no. The equality will hold if the point lies _anywhere_ on the line. If it&#39;s not on the line then you would have a discrepancy in distances (forming a triangle).","body":"@Peter, if you mean the <i>point</i> (C) is equidistant, no. The equality will hold if the point lies <i>anywhere</i> on the line. If it&#39;s not on the line then you would have a discrepancy in distances (forming a triangle)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1374049024,"post_id":17693146,"comment_id":25782030,"body_markdown":"This solution may be better for handling error. e.g. if the difference in distance is less than a pixel, C may appear on the line A-B.","body":"This solution may be better for handling error. e.g. if the difference in distance is less than a pixel, C may appear on the line A-B."},{"owner":{"account_id":391574,"reputation":22257,"user_id":752320,"accept_rate":100,"display_name":"Geobits"},"score":0,"creation_date":1375708828,"post_id":17693146,"comment_id":26424164,"body_markdown":"How does this work for the extrapolated line? In the example given, it is clear that `d(A,C) + d(B,C) != d(A,B)`. If you could get the *signed* distance(something like a vector), you could check this, but the formula given explicitly doesn&#39;t work for that example.","body":"How does this work for the extrapolated line? In the example given, it is clear that <code>d(A,C) + d(B,C) != d(A,B)</code>. If you could get the <i>signed</i> distance(something like a vector), you could check this, but the formula given explicitly doesn&#39;t work for that example."},{"owner":{"account_id":1439472,"reputation":784,"user_id":1998487,"accept_rate":83,"display_name":"czifro"},"score":0,"creation_date":1461552022,"post_id":17693146,"comment_id":61233409,"body_markdown":"This solution has a mathematical error in it. I tested the following: `C(5, 15)`, `A(5, 12)`, and `B(5, 25)`. Your solution of `distance(C, A) + distance(C, B) == distance(A, B)` returned false instead of true. If you could please explain why this does not work, I would appreciate it.","body":"This solution has a mathematical error in it. I tested the following: <code>C(5, 15)</code>, <code>A(5, 12)</code>, and <code>B(5, 25)</code>. Your solution of <code>distance(C, A) + distance(C, B) == distance(A, B)</code> returned false instead of true. If you could please explain why this does not work, I would appreciate it."},{"owner":{"account_id":6399224,"reputation":3847,"user_id":4962554,"accept_rate":71,"display_name":"eshirima"},"score":1,"creation_date":1509981371,"post_id":17693146,"comment_id":81229782,"body_markdown":"@czifro There&#39;s something wrong with your calculations because `distance(C, A) = 3`, `distance(C, B) = 10` and `distance(A, B) = 13`.","body":"@czifro There&#39;s something wrong with your calculations because <code>distance(C, A) = 3</code>, <code>distance(C, B) = 10</code> and <code>distance(A, B) = 13</code>."},{"owner":{"account_id":718764,"reputation":899,"user_id":639324,"display_name":"Damian Dixon"},"score":0,"creation_date":1523873548,"post_id":17693146,"comment_id":86723922,"body_markdown":"An optimisation in this specific case where you don&#39;t re-use the distance value is is to not do the sqrt.","body":"An optimisation in this specific case where you don&#39;t re-use the distance value is is to not do the sqrt."},{"owner":{"account_id":48930,"reputation":3645,"user_id":145504,"accept_rate":62,"display_name":"rgov"},"score":2,"creation_date":1548524356,"post_id":17693146,"comment_id":95575168,"body_markdown":"@DamianDixon That&#39;s not correct here, since you are adding the results of two square roots. (Sqrt(A) + Sqrt(B))^2 != (A + B). It&#39;s fine if you are comparing two distances directly, but not this way.","body":"@DamianDixon That&#39;s not correct here, since you are adding the results of two square roots. (Sqrt(A) + Sqrt(B))^2 != (A + B). It&#39;s fine if you are comparing two distances directly, but not this way."},{"owner":{"account_id":12117355,"reputation":483,"user_id":8850678,"display_name":"iamai"},"score":0,"creation_date":1602024403,"post_id":17693146,"comment_id":113587681,"body_markdown":"distance(A, C) + distance(B, C) == distance(A, B) won&#39;t be true most of the times,though itis supposed to be, as Math.sqrt results in decimals","body":"distance(A, C) + distance(B, C) == distance(A, B) won&#39;t be true most of the times,though itis supposed to be, as Math.sqrt results in decimals"},{"owner":{"account_id":5740121,"reputation":279,"user_id":4533090,"accept_rate":75,"display_name":"Miguel Bartelsman"},"score":0,"creation_date":1684735586,"post_id":17693146,"comment_id":134554484,"body_markdown":"This is great if you are using real numbers. However, for floating point arithmetic this is unlikely to produce the right answer. If you add an epsilon value to the check to compensate for that, the error unintuitively becomes an ellipse around the line, rather an actual distance from the line itself.","body":"This is great if you are using real numbers. However, for floating point arithmetic this is unlikely to produce the right answer. If you add an epsilon value to the check to compensate for that, the error unintuitively becomes an ellipse around the line, rather an actual distance from the line itself."}],"tags":[],"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"comment_count":11,"down_vote_count":1,"up_vote_count":142,"is_accepted":false,"score":141,"last_activity_date":1374046844,"creation_date":1374044183,"answer_id":17693146,"question_id":17692922,"body_markdown":"    if (distance(A, C) + distance(B, C) == distance(A, B))\r\n        return true; // C is on the line.\r\n    return false;    // C is not on the line.\r\nor just:\r\n\r\n    return distance(A, C) + distance(B, C) == distance(A, B);\r\n\r\nThe way this works is rather simple. If C lies on the `AB` line, you&#39;ll get the following scenario:\r\n\r\n    A-C------B\r\nand, regardless of where it lies on that line, `dist(AC) + dist(CB) == dist(AB)`. For any other case, you have a triangle of some description and &#39;dist(AC) + dist(CB) &gt; dist(AB)&#39;:\r\n\r\n    A-----B\r\n     \\   /\r\n      \\ /\r\n       C\r\n\r\nIn fact, this even works if C lies on the extrapolated line:\r\n\r\n    C---A-------B\r\nprovided that the distances are kept unsigned. The distance `dist(AB)` can be calculated as:\r\n\r\n      ___________________________\r\n     /           2              2\r\n    V (A.x - B.x)  + (A.y - B.y)\r\n\r\nKeep in mind the inherent limitations (limited precision) of floating point operations. It&#39;s possible that you may need to opt for a &quot;close enough&quot; test (say, less than one part per million error) to ensure correct functioning of the equality.\r\n","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<pre><code>if (distance(A, C) + distance(B, C) == distance(A, B))\n    return true; // C is on the line.\nreturn false;    // C is not on the line.\n</code></pre>\n\n<p>or just:</p>\n\n<pre><code>return distance(A, C) + distance(B, C) == distance(A, B);\n</code></pre>\n\n<p>The way this works is rather simple. If C lies on the <code>AB</code> line, you'll get the following scenario:</p>\n\n<pre><code>A-C------B\n</code></pre>\n\n<p>and, regardless of where it lies on that line, <code>dist(AC) + dist(CB) == dist(AB)</code>. For any other case, you have a triangle of some description and 'dist(AC) + dist(CB) > dist(AB)':</p>\n\n<pre><code>A-----B\n \\   /\n  \\ /\n   C\n</code></pre>\n\n<p>In fact, this even works if C lies on the extrapolated line:</p>\n\n<pre><code>C---A-------B\n</code></pre>\n\n<p>provided that the distances are kept unsigned. The distance <code>dist(AB)</code> can be calculated as:</p>\n\n<pre><code>  ___________________________\n /           2              2\nV (A.x - B.x)  + (A.y - B.y)\n</code></pre>\n\n<p>Keep in mind the inherent limitations (limited precision) of floating point operations. It's possible that you may need to opt for a \"close enough\" test (say, less than one part per million error) to ensure correct functioning of the equality.</p>\n"},{"comments":[{"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"score":0,"creation_date":1374045173,"post_id":17693189,"comment_id":25779971,"body_markdown":"what is the purpose of y = k*x + b; // k and b - numbers\nwhat is the value of k and b ?","body":"what is the purpose of y = k*x + b; // k and b - numbers what is the value of k and b ?"},{"owner":{"account_id":2432954,"reputation":6986,"user_id":2123487,"accept_rate":86,"display_name":"SeniorJD"},"score":0,"creation_date":1374045483,"post_id":17693189,"comment_id":25780125,"body_markdown":"It depends on A and B coordinates.","body":"It depends on A and B coordinates."},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":9,"creation_date":1374045601,"post_id":17693189,"comment_id":25780187,"body_markdown":"Don&#39;t try this at home if your lines can be horizontal or vertical :-)","body":"Don&#39;t try this at home if your lines can be horizontal or vertical :-)"},{"owner":{"account_id":2432954,"reputation":6986,"user_id":2123487,"accept_rate":86,"display_name":"SeniorJD"},"score":0,"creation_date":1374046943,"post_id":17693189,"comment_id":25780935,"body_markdown":"@paxdiablo it works for horizontal and vertical lines as well ;)","body":"@paxdiablo it works for horizontal and vertical lines as well ;)"},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1374047295,"post_id":17693189,"comment_id":25781094,"body_markdown":"Really? What is the `k` value for the line from `(1,0)` to `(1,2)` :-) Or just plug those two coords into your method: (x-1)/(1-1) is going to cause you (and Java) much grief and gnashing of teeth. It&#39;s not a _bad_ answer but you need to detect and adjust for infinite gradients first.","body":"Really? What is the <code>k</code> value for the line from <code>(1,0)</code> to <code>(1,2)</code> :-) Or just plug those two coords into your method: (x-1)/(1-1) is going to cause you (and Java) much grief and gnashing of teeth. It&#39;s not a <i>bad</i> answer but you need to detect and adjust for infinite gradients first."},{"owner":{"account_id":2432954,"reputation":6986,"user_id":2123487,"accept_rate":86,"display_name":"SeniorJD"},"score":0,"creation_date":1374047366,"post_id":17693189,"comment_id":25781128,"body_markdown":"+. But remember that for horizontal and vertical lines there is no more linear dependence. There is no dependence at all :) It is easy to check before calculating.","body":"+. But remember that for horizontal and vertical lines there is no more linear dependence. There is no dependence at all :) It is easy to check before calculating."},{"owner":{"account_id":3834905,"reputation":4950,"user_id":3179492,"accept_rate":90,"display_name":"Peter VARGA"},"score":0,"creation_date":1414933779,"post_id":17693189,"comment_id":41993020,"body_markdown":"This worked perfect for me. Very simple because of the mathematical explanation. The algorithm is then very simple. Works for all styles of a line. Even when C is not within A &amp; B then it works!","body":"This worked perfect for me. Very simple because of the mathematical explanation. The algorithm is then very simple. Works for all styles of a line. Even when C is not within A &amp; B then it works!"},{"owner":{"account_id":1236352,"reputation":557,"user_id":1199868,"accept_rate":17,"display_name":"Raj Trivedi"},"score":0,"creation_date":1450176848,"post_id":17693189,"comment_id":56315970,"body_markdown":"Do we have any faster solution if we have to search the point in say 25-30 lines?","body":"Do we have any faster solution if we have to search the point in say 25-30 lines?"},{"owner":{"account_id":1439472,"reputation":784,"user_id":1998487,"accept_rate":83,"display_name":"czifro"},"score":1,"creation_date":1461553528,"post_id":17693189,"comment_id":61233658,"body_markdown":"I believe if you do `(x1 - x2)(y - y1) == (y1 - y2)(x - x1)`, you do not need to do a horizontal or vertical check prior. Obviously the checks are to avoid divide by zero, but this does not suffer from that.","body":"I believe if you do <code>(x1 - x2)(y - y1) == (y1 - y2)(x - x1)</code>, you do not need to do a horizontal or vertical check prior. Obviously the checks are to avoid divide by zero, but this does not suffer from that."},{"owner":{"account_id":1439472,"reputation":784,"user_id":1998487,"accept_rate":83,"display_name":"czifro"},"score":1,"creation_date":1461553880,"post_id":17693189,"comment_id":61233721,"body_markdown":"However, bounds checking is necessary for horizontal and vertical lines.","body":"However, bounds checking is necessary for horizontal and vertical lines."},{"owner":{"account_id":1571078,"reputation":3729,"user_id":1458751,"accept_rate":75,"display_name":"Kanchu"},"score":0,"creation_date":1620938606,"post_id":17693189,"comment_id":119354236,"body_markdown":"Building on the solution by [czifro](https://stackoverflow.com/users/1998487/czifro) with bound check it should be `(x1 - x2) * (y - y1) == (y1 - y2) * (x - x1) &amp;&amp; x &gt;= Math.min(x1, x2) &amp;&amp; x &lt;= Math.max(x1, x2) &amp;&amp; y &gt;= Math.min(y1, y2) &amp;&amp; y &lt;= Math.max(y1, y2)`","body":"Building on the solution by <a href=\"https://stackoverflow.com/users/1998487/czifro\">czifro</a> with bound check it should be <code>(x1 - x2) * (y - y1) == (y1 - y2) * (x - x1) &amp;&amp; x &gt;= Math.min(x1, x2) &amp;&amp; x &lt;= Math.max(x1, x2) &amp;&amp; y &gt;= Math.min(y1, y2) &amp;&amp; y &lt;= Math.max(y1, y2)</code>"},{"owner":{"account_id":4299404,"reputation":1203,"user_id":3513453,"accept_rate":57,"display_name":"felipeek"},"score":0,"creation_date":1638911027,"post_id":17693189,"comment_id":124212813,"body_markdown":"this is my implementation of this solution in C, already including the handling of the horizontal/vertical lines and the degenerate case -&gt; https://gist.github.com/felipeek/93c873395506868e50ea6f2323eb3399","body":"this is my implementation of this solution in C, already including the handling of the horizontal/vertical lines and the degenerate case -&gt; <a href=\"https://gist.github.com/felipeek/93c873395506868e50ea6f2323eb3399\" rel=\"nofollow noreferrer\">gist.github.com/felipeek/93c873395506868e50ea6f2323eb3399</a>"}],"tags":[],"owner":{"account_id":2432954,"reputation":6986,"user_id":2123487,"accept_rate":86,"display_name":"SeniorJD"},"comment_count":12,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1374047515,"creation_date":1374044332,"answer_id":17693189,"question_id":17692922,"body_markdown":"**ATTENTION! Math-only!**\r\n\r\n![Try this!][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rmOxu.gif\r\n\r\nYou can try this formula. Put your `A(x1, y1)` and `B(x2, y2)` coordinates to formula, then you&#39;ll get something like\r\n\r\n    y = k*x + b; // k and b - numbers\r\nThen, any point which will satisfy this equation, will lie on your line. \r\nTo check that `C(x, y)` is between `A(x1, y1)` and `B(x2, y2)`, check this: `(x1&lt;x&lt;x2 &amp;&amp; y1&lt;y&lt;y2) || (x1&gt;x&gt;x2 &amp;&amp; y1&gt;y&gt;y2)`.\r\n\r\n**Example**\r\n\r\n    A(2,3) B(6,5)\r\n\r\nThe equation of line:\r\n\r\n    (y - 3)/(5 - 3) = (x - 2)/(6 - 2)\r\n    (y - 3)/2 = (x - 2)/4\r\n    4*(y - 3) = 2*(x - 2)\r\n    4y - 12 = 2x - 4\r\n    4y = 2x + 8\r\n    y = 1/2 * x + 2; // equation of line. k = 1/2, b = 2;\r\nLet&#39;s check if `C(4,4)` lies on this line.\r\n\r\n    2&lt;4&lt;6 &amp; 3&lt;4&lt;5 // C between A and B\r\nNow put C coordinates to equation:\r\n\r\n    4 = 1/2 * 4 + 2\r\n    4 = 2 + 2 // equal, C is on line AB\r\n\r\n**PS:** as @paxdiablo wrote, you need to check if line is horizontal or vertical before calculating. Just check \r\n\r\n    y1 == y2 || x1 == x2","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p><strong>ATTENTION! Math-only!</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/rmOxu.gif\" alt=\"Try this!\"></p>\n\n<p>You can try this formula. Put your <code>A(x1, y1)</code> and <code>B(x2, y2)</code> coordinates to formula, then you'll get something like</p>\n\n<pre><code>y = k*x + b; // k and b - numbers\n</code></pre>\n\n<p>Then, any point which will satisfy this equation, will lie on your line. \nTo check that <code>C(x, y)</code> is between <code>A(x1, y1)</code> and <code>B(x2, y2)</code>, check this: <code>(x1&lt;x&lt;x2 &amp;&amp; y1&lt;y&lt;y2) || (x1&gt;x&gt;x2 &amp;&amp; y1&gt;y&gt;y2)</code>.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>A(2,3) B(6,5)\n</code></pre>\n\n<p>The equation of line:</p>\n\n<pre><code>(y - 3)/(5 - 3) = (x - 2)/(6 - 2)\n(y - 3)/2 = (x - 2)/4\n4*(y - 3) = 2*(x - 2)\n4y - 12 = 2x - 4\n4y = 2x + 8\ny = 1/2 * x + 2; // equation of line. k = 1/2, b = 2;\n</code></pre>\n\n<p>Let's check if <code>C(4,4)</code> lies on this line.</p>\n\n<pre><code>2&lt;4&lt;6 &amp; 3&lt;4&lt;5 // C between A and B\n</code></pre>\n\n<p>Now put C coordinates to equation:</p>\n\n<pre><code>4 = 1/2 * 4 + 2\n4 = 2 + 2 // equal, C is on line AB\n</code></pre>\n\n<p><strong>PS:</strong> as @paxdiablo wrote, you need to check if line is horizontal or vertical before calculating. Just check </p>\n\n<pre><code>y1 == y2 || x1 == x2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1374045950,"post_id":17693639,"comment_id":25780364,"body_markdown":"This has the same problem as SeniorJD&#39;s answer. The gradient for a vertical line is infinite (or, more correctly, undefined but tends towards infinity).","body":"This has the same problem as SeniorJD&#39;s answer. The gradient for a vertical line is infinite (or, more correctly, undefined but tends towards infinity)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1374049268,"post_id":17693639,"comment_id":25782174,"body_markdown":"@paxdiablo Not dividing by 0 any more but I am not this solves the whole problem.","body":"@paxdiablo Not dividing by 0 any more but I am not this solves the whole problem."},{"owner":{"account_id":106243,"reputation":2506,"user_id":283102,"accept_rate":60,"display_name":"Shavais"},"score":5,"creation_date":1421648594,"post_id":17693639,"comment_id":44424477,"body_markdown":"For vertical lines or horizontal lines, this test (by itself) will return true if the point has the same x value for vertical lines, or y value for horizontal lines, regardless of whether or not the point is in between the end points of the line.","body":"For vertical lines or horizontal lines, this test (by itself) will return true if the point has the same x value for vertical lines, or y value for horizontal lines, regardless of whether or not the point is in between the end points of the line."},{"owner":{"account_id":7007599,"reputation":5591,"user_id":5371505,"accept_rate":48,"display_name":"PirateApp"},"score":0,"creation_date":1526095577,"post_id":17693639,"comment_id":87621580,"body_markdown":"how would this work for horizontal lines on say the x axis","body":"how would this work for horizontal lines on say the x axis"},{"owner":{"account_id":1111591,"reputation":2079,"user_id":1101963,"accept_rate":55,"display_name":"Yuriy Kulikov"},"score":2,"creation_date":1576001898,"post_id":17693639,"comment_id":104753483,"body_markdown":"Have to check that C.x in A.x..B.x and C.y in A.y..B.y. Otherwise you will match collinear points which are not between A and B","body":"Have to check that C.x in A.x..B.x and C.y in A.y..B.y. Otherwise you will match collinear points which are not between A and B"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":5,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1685193214,"creation_date":1374045831,"answer_id":17693639,"question_id":17692922,"body_markdown":"If you just want to check whether the point C is on the *infinite* line passing through the points A and B (rather than check whether C is on the line *segment* from A to B, i.e. C is also between them), the simplest implementation is:\r\n\r\n    // Are a, b and c on the same line?\r\n    public static boolean inLine(Point a, Point b, Point c) {\r\n       return (a.x - c.x)*(c.y - b.y) == (c.x - b.x)*(a.y - c.y);\r\n    }\r\n\r\nThis is morally equivalent to checking that gradient(A, C) == gradient(C, B), but rearranged to use multiplication instead of division to avoid divide-by-zero when one of the gradients is vertical (also, it gives exact results if using integers).\r\n\r\nIt is equivalent to checking that the [cross product](https://en.wikipedia.org/wiki/Cross_product#Computational_geometry) of (A - C) and (C - B) is equal to 0. The property of three points being on the same line is known as [collinearity](https://en.wikipedia.org/wiki/Collinearity).\r\n\r\nNote: there is a different test to see if C appears on the line between A and B if you draw it on a screen. Maths assumes that A, B, C are infinitely small points.\r\n","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>If you just want to check whether the point C is on the <em>infinite</em> line passing through the points A and B (rather than check whether C is on the line <em>segment</em> from A to B, i.e. C is also between them), the simplest implementation is:</p>\n<pre><code>// Are a, b and c on the same line?\npublic static boolean inLine(Point a, Point b, Point c) {\n   return (a.x - c.x)*(c.y - b.y) == (c.x - b.x)*(a.y - c.y);\n}\n</code></pre>\n<p>This is morally equivalent to checking that gradient(A, C) == gradient(C, B), but rearranged to use multiplication instead of division to avoid divide-by-zero when one of the gradients is vertical (also, it gives exact results if using integers).</p>\n<p>It is equivalent to checking that the <a href=\"https://en.wikipedia.org/wiki/Cross_product#Computational_geometry\" rel=\"nofollow noreferrer\">cross product</a> of (A - C) and (C - B) is equal to 0. The property of three points being on the same line is known as <a href=\"https://en.wikipedia.org/wiki/Collinearity\" rel=\"nofollow noreferrer\">collinearity</a>.</p>\n<p>Note: there is a different test to see if C appears on the line between A and B if you draw it on a screen. Maths assumes that A, B, C are infinitely small points.</p>\n"},{"comments":[{"owner":{"account_id":11382199,"reputation":2589,"user_id":8344820,"display_name":"Y.T."},"score":1,"creation_date":1629882898,"post_id":45682824,"comment_id":121801996,"body_markdown":"I don&#39;t understand the concept of exterior of a point.","body":"I don&#39;t understand the concept of exterior of a point."},{"owner":{"account_id":5740121,"reputation":279,"user_id":4533090,"accept_rate":75,"display_name":"Miguel Bartelsman"},"score":0,"creation_date":1684735891,"post_id":45682824,"comment_id":134554535,"body_markdown":"In this context, exterior means the point lies on the infinite line that passes point 1 and 2, but not on the line *segment* between the same two points.","body":"In this context, exterior means the point lies on the infinite line that passes point 1 and 2, but not on the line <i>segment</i> between the same two points."},{"owner":{"account_id":3737882,"reputation":558,"user_id":3108401,"accept_rate":50,"display_name":"Aznaveh"},"score":0,"creation_date":1694536055,"post_id":45682824,"comment_id":135902796,"body_markdown":"It deosn&#39;t make sense in math nor does it in programming. I guess there is a typo. the first &quot;=&quot; should be minus or something like that","body":"It deosn&#39;t make sense in math nor does it in programming. I guess there is a typo. the first &quot;=&quot; should be minus or something like that"}],"tags":[],"owner":{"account_id":11551816,"reputation":59,"user_id":8464196,"display_name":"CS Venkat"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1502743720,"creation_date":1502743720,"answer_id":45682824,"question_id":17692922,"body_markdown":"The above answers are unnecessarily complicated. The simplest is as follows. \r\n\r\n1. if (x-x1)/(x2-x1) = (y-y1)/(y2-y1) = alpha (a constant), then the point C(x,y) will lie on the line between pts 1 &amp; 2.\r\n\r\n2. If alpha &lt; 0.0, then C is exterior to point 1.\r\n3. If alpha &gt; 1.0, then C is exterior to point 2.\r\n4. Finally if alpha = [0,1.0], then C is interior to 1 &amp; 2.\r\n\r\nHope this answer helps. ","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>The above answers are unnecessarily complicated. The simplest is as follows. </p>\n\n<ol>\n<li><p>if (x-x1)/(x2-x1) = (y-y1)/(y2-y1) = alpha (a constant), then the point C(x,y) will lie on the line between pts 1 &amp; 2.</p></li>\n<li><p>If alpha &lt; 0.0, then C is exterior to point 1.</p></li>\n<li>If alpha > 1.0, then C is exterior to point 2.</li>\n<li>Finally if alpha = [0,1.0], then C is interior to 1 &amp; 2.</li>\n</ol>\n\n<p>Hope this answer helps. </p>\n"},{"tags":[],"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526899715,"creation_date":1526423598,"answer_id":50360045,"question_id":17692922,"body_markdown":"I think all the methods here have a pitfall, in that they are not dealing with rounding errors as rigorously as they could. Basically the methods described will tell you if your point is close enough to the line using some straightforward algorithm and that it will be more or less precise. \r\n\r\nWhy precision is important? Because it&#39;s the very problem presented by op. For a computer program there is no such thing as a point on a line, there is only point within an epsilon of a line and what that epsilon is needs to be documented.\r\n\r\nLet&#39;s illustrate the problem. Using the distance comparison algorithm: \r\n\r\nLet&#39;s say a segment goes from (0, 0) to (0, 2000), we are using floats in our application (which have around 7 decimal places of precision) and we test whether a point on (1E-6, 1000) is on the line or not.\r\n\r\nThe distance from either end of the segment to the point is 1000.0000000005 or 1000 + 5E-10, and, thus, the difference with the addition of the distance to and from the point is around 1E-9. But none of those values can be stored on a float with enough precission and the method will return `true`.\r\n\r\nIf we use a more precise method like calculating the distance to the closest point in the line, it returns a value that a float has enough precision to store and we could return false depending on the acceptable epsilon.\r\n\r\nI used floats in the example but the same applies to any floating point type such as double.\r\n\r\nOne solution is to use BigDecimal and whichever method you want if incurring in performance and memory hit is not an issue.\r\n\r\nA more precise method than comparing distances for floating points, and, more importantly, **consistently** precise, although at a higher computational cost, is calculating the distance to the closest point in the line.\r\n\r\nhttps://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\r\n\r\nIt looks like I&#39;m splitting hairs but I had to deal with this problem before. It&#39;s an issue when chaining geometric operations. If you don&#39;t control what kind of precission loss you are dealing with, eventually you will run into difficult bugs that will force you to reason rigorously about the code in order to fix them.","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>I think all the methods here have a pitfall, in that they are not dealing with rounding errors as rigorously as they could. Basically the methods described will tell you if your point is close enough to the line using some straightforward algorithm and that it will be more or less precise. </p>\n\n<p>Why precision is important? Because it's the very problem presented by op. For a computer program there is no such thing as a point on a line, there is only point within an epsilon of a line and what that epsilon is needs to be documented.</p>\n\n<p>Let's illustrate the problem. Using the distance comparison algorithm: </p>\n\n<p>Let's say a segment goes from (0, 0) to (0, 2000), we are using floats in our application (which have around 7 decimal places of precision) and we test whether a point on (1E-6, 1000) is on the line or not.</p>\n\n<p>The distance from either end of the segment to the point is 1000.0000000005 or 1000 + 5E-10, and, thus, the difference with the addition of the distance to and from the point is around 1E-9. But none of those values can be stored on a float with enough precission and the method will return <code>true</code>.</p>\n\n<p>If we use a more precise method like calculating the distance to the closest point in the line, it returns a value that a float has enough precision to store and we could return false depending on the acceptable epsilon.</p>\n\n<p>I used floats in the example but the same applies to any floating point type such as double.</p>\n\n<p>One solution is to use BigDecimal and whichever method you want if incurring in performance and memory hit is not an issue.</p>\n\n<p>A more precise method than comparing distances for floating points, and, more importantly, <strong>consistently</strong> precise, although at a higher computational cost, is calculating the distance to the closest point in the line.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\">Shortest distance between a point and a line segment</a></p>\n\n<p>It looks like I'm splitting hairs but I had to deal with this problem before. It's an issue when chaining geometric operations. If you don't control what kind of precission loss you are dealing with, eventually you will run into difficult bugs that will force you to reason rigorously about the code in order to fix them.</p>\n"},{"tags":[],"owner":{"account_id":13580766,"reputation":21,"user_id":9796848,"display_name":"Antoine C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533322801,"creation_date":1533322801,"answer_id":51678642,"question_id":17692922,"body_markdown":"An easy way to do that I believe would be the check the angle formed by the 3 points. \r\nIf the angle ACB is 180 degrees (or close to it,depending on how accurate you want to be) then the point C is between A and B.","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>An easy way to do that I believe would be the check the angle formed by the 3 points. \nIf the angle ACB is 180 degrees (or close to it,depending on how accurate you want to be) then the point C is between A and B.</p>\n"},{"tags":[],"owner":{"account_id":7701411,"reputation":1,"user_id":5833836,"display_name":"RobotFriend"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590669330,"creation_date":1590668611,"answer_id":62064627,"question_id":17692922,"body_markdown":"    def DistBetwPoints(p1, p2):\r\n        return math.sqrt( (p2[0] - p1[0])**2 + (p2[1] - p1[1])**2 )\r\n\r\n    # &quot;Check if point C is between line endpoints A and B&quot;\r\n    def PointBetwPoints(A, B, C):\r\n        dist_line_endp = DistBetwPoints(A,B)\r\n        if DistBetwPoints(A,C)&gt;dist_line_endp:       return 1\r\n        elif DistBetwPoints(B,C)&gt;dist_line_endp:     return 1\r\n        else:                                        return 0","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<pre><code>def DistBetwPoints(p1, p2):\n    return math.sqrt( (p2[0] - p1[0])**2 + (p2[1] - p1[1])**2 )\n\n# \"Check if point C is between line endpoints A and B\"\ndef PointBetwPoints(A, B, C):\n    dist_line_endp = DistBetwPoints(A,B)\n    if DistBetwPoints(A,C)&gt;dist_line_endp:       return 1\n    elif DistBetwPoints(B,C)&gt;dist_line_endp:     return 1\n    else:                                        return 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6637936,"reputation":521,"user_id":5124575,"display_name":"Tom&#225; Rika"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607093955,"creation_date":1607093955,"answer_id":65145818,"question_id":17692922,"body_markdown":"I think this might help\r\n\r\nhttps://stackoverflow.com/questions/11907947/how-to-check-if-a-point-lies-on-a-line-between-2-other-points\r\n\r\nThat solution uses only integers given you only provide integers which removes some pitfalls as well","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>I think this might help</p>\n<p><a href=\"https://stackoverflow.com/questions/11907947/how-to-check-if-a-point-lies-on-a-line-between-2-other-points\">How to check if a point lies on a line between 2 other points</a></p>\n<p>That solution uses only integers given you only provide integers which removes some pitfalls as well</p>\n"},{"comments":[{"owner":{"account_id":16168500,"reputation":188,"user_id":11672868,"display_name":"K-FLOW"},"score":0,"creation_date":1652974762,"post_id":67152336,"comment_id":127743045,"body_markdown":"Does this work for diagonal lines too?","body":"Does this work for diagonal lines too?"}],"tags":[],"owner":{"account_id":13958109,"reputation":449,"user_id":10079909,"display_name":"Richard"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618772370,"creation_date":1618772370,"answer_id":67152336,"question_id":17692922,"body_markdown":"Here is my C# solution. I believe the Java equivalent will be almost identical.\r\n\r\nNotes:\r\n1. Method will only return true if the point is within the bounds of the line (it does not assume an infinite line).\r\n2. It will handle vertical or horizontal lines.\r\n3. It calculates the distance of the point being checked from the line so allows a tolerance to be passed to the method.\r\n\r\n\r\n        /// &lt;summary&gt;\r\n        /// Check if Point C is on the line AB\r\n        /// &lt;/summary&gt;\r\n        public static bool IsOnLine(Point A, Point B, Point C, double tolerance)\r\n        {\r\n            double minX = Math.Min(A.X, B.X) - tolerance;\r\n            double maxX = Math.Max(A.X, B.X) + tolerance;\r\n            double minY = Math.Min(A.Y, B.Y) - tolerance;\r\n            double maxY = Math.Max(A.Y, B.Y) + tolerance;\r\n            \r\n            //Check C is within the bounds of the line\r\n            if (C.X &gt;= maxX || C.X &lt;= minX || C.Y &lt;= minY || C.Y &gt;= maxY)\r\n            {\r\n                return false;\r\n            }\r\n\r\n            // Check for when AB is vertical\r\n            if (A.X == B.X)\r\n            {\r\n                if (Math.Abs(A.X - C.X) &gt;= tolerance)\r\n                {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            // Check for when AB is horizontal\r\n            if (A.Y == B.Y)\r\n            {\r\n                if (Math.Abs(A.Y - C.Y) &gt;= tolerance)\r\n                {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n\r\n            // Check istance of the point form the line\r\n            double distFromLine = Math.Abs(((B.X - A.X)*(A.Y - C.Y))-((A.X - C.X)*(B.Y - A.Y))) / Math.Sqrt((B.X - A.X) * (B.X - A.X) + (B.Y - A.Y) * (B.Y - A.Y));\r\n            \r\n            if (distFromLine &gt;= tolerance)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n        }","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>Here is my C# solution. I believe the Java equivalent will be almost identical.</p>\n<p>Notes:</p>\n<ol>\n<li><p>Method will only return true if the point is within the bounds of the line (it does not assume an infinite line).</p>\n</li>\n<li><p>It will handle vertical or horizontal lines.</p>\n</li>\n<li><p>It calculates the distance of the point being checked from the line so allows a tolerance to be passed to the method.</p>\n<pre><code> /// &lt;summary&gt;\n /// Check if Point C is on the line AB\n /// &lt;/summary&gt;\n public static bool IsOnLine(Point A, Point B, Point C, double tolerance)\n {\n     double minX = Math.Min(A.X, B.X) - tolerance;\n     double maxX = Math.Max(A.X, B.X) + tolerance;\n     double minY = Math.Min(A.Y, B.Y) - tolerance;\n     double maxY = Math.Max(A.Y, B.Y) + tolerance;\n\n     //Check C is within the bounds of the line\n     if (C.X &gt;= maxX || C.X &lt;= minX || C.Y &lt;= minY || C.Y &gt;= maxY)\n     {\n         return false;\n     }\n\n     // Check for when AB is vertical\n     if (A.X == B.X)\n     {\n         if (Math.Abs(A.X - C.X) &gt;= tolerance)\n         {\n             return false;\n         }\n         return true;\n     }\n\n     // Check for when AB is horizontal\n     if (A.Y == B.Y)\n     {\n         if (Math.Abs(A.Y - C.Y) &gt;= tolerance)\n         {\n             return false;\n         }\n         return true;\n     }\n\n\n     // Check istance of the point form the line\n     double distFromLine = Math.Abs(((B.X - A.X)*(A.Y - C.Y))-((A.X - C.X)*(B.Y - A.Y))) / Math.Sqrt((B.X - A.X) * (B.X - A.X) + (B.Y - A.Y) * (B.Y - A.Y));\n\n     if (distFromLine &gt;= tolerance)\n     {\n         return false;\n     }\n     else\n     {\n         return true;\n     }\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7285619,"reputation":4502,"user_id":5553768,"accept_rate":80,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624540800,"creation_date":1624539745,"answer_id":68116337,"question_id":17692922,"body_markdown":"Here is a JavaScript function I made. You pass it three points (three objects with an x and y property). Points 1 and 2 define your line, and point 3 is the point you are testing.\r\n\r\nYou will receive an object back with some useful info:\r\n\r\n* `on_projected_line` - If `pt3` lies anywhere on the line including outside the points.\r\n* `on_line` - If `pt3` lies on the line and between or on `pt1` and `pt2`.\r\n* `x_between` - If `pt3` is between or on the x bounds.\r\n* `y_between` - If `pt3` is between or on the y bounds.\r\n* `between` - If `x_between` and `y_between` are both true.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /**\r\n     * @description Check if pt3 is on line defined by pt1 and pt2.\r\n     * @param {Object} pt1 The first point defining the line.\r\n     * @param {float} pt1.x\r\n     * @param {float} pt1.y\r\n     * @param {Object} pt2 The second point defining the line.\r\n     * @param {float} pt2.x\r\n     * @param {float} pt2.y\r\n     * @param {Object} pt3 The point to test.\r\n     * @param {float} pt3.x\r\n     * @param {float} pt3.y\r\n     */\r\n    function pointOnLine(pt1, pt2, pt3) {\r\n    \tconst result = {\r\n    \t\ton_projected_line: true,\r\n    \t\ton_line: false,\r\n    \t\tbetween_both: false,\r\n    \t\tbetween_x: false,\r\n    \t\tbetween_y: false,\r\n    \t};\r\n\r\n    \t// Determine if on line interior or exterior\r\n    \tconst x = (pt3.x - pt1.x) / (pt2.x - pt1.x);\r\n    \tconst y = (pt3.y - pt1.y) / (pt2.y - pt1.y);\r\n\r\n    \t// Check if on line equation\r\n    \tresult.on_projected_line = x === y;\r\n\r\n    \t// Check within x bounds\r\n    \tif (\r\n    \t\t(pt1.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt2.x) ||\r\n    \t\t(pt2.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt1.x)\r\n    \t) {\r\n    \t\tresult.between_x = true;\r\n    \t}\r\n\r\n    \t// Check within y bounds\r\n    \tif (\r\n    \t\t(pt1.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt2.y) ||\r\n    \t\t(pt2.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt1.y)\r\n    \t) {\r\n    \t\tresult.between_y = true;\r\n    \t}\r\n\r\n    \tresult.between_both = result.between_x &amp;&amp; result.between_y;\r\n    \tresult.on_line = result.on_projected_line &amp;&amp; result.between_both;\r\n    \treturn result;\r\n    }\r\n\r\n    console.log(&quot;pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2})&quot;)\r\n    console.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2}))\r\n\r\n    console.log(&quot;pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5})&quot;)\r\n    console.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5}))\r\n\r\n\r\n&lt;!-- end snippet --&gt;","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>Here is a JavaScript function I made. You pass it three points (three objects with an x and y property). Points 1 and 2 define your line, and point 3 is the point you are testing.</p>\n<p>You will receive an object back with some useful info:</p>\n<ul>\n<li><code>on_projected_line</code> - If <code>pt3</code> lies anywhere on the line including outside the points.</li>\n<li><code>on_line</code> - If <code>pt3</code> lies on the line and between or on <code>pt1</code> and <code>pt2</code>.</li>\n<li><code>x_between</code> - If <code>pt3</code> is between or on the x bounds.</li>\n<li><code>y_between</code> - If <code>pt3</code> is between or on the y bounds.</li>\n<li><code>between</code> - If <code>x_between</code> and <code>y_between</code> are both true.</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\n * @description Check if pt3 is on line defined by pt1 and pt2.\n * @param {Object} pt1 The first point defining the line.\n * @param {float} pt1.x\n * @param {float} pt1.y\n * @param {Object} pt2 The second point defining the line.\n * @param {float} pt2.x\n * @param {float} pt2.y\n * @param {Object} pt3 The point to test.\n * @param {float} pt3.x\n * @param {float} pt3.y\n */\nfunction pointOnLine(pt1, pt2, pt3) {\n    const result = {\n        on_projected_line: true,\n        on_line: false,\n        between_both: false,\n        between_x: false,\n        between_y: false,\n    };\n\n    // Determine if on line interior or exterior\n    const x = (pt3.x - pt1.x) / (pt2.x - pt1.x);\n    const y = (pt3.y - pt1.y) / (pt2.y - pt1.y);\n\n    // Check if on line equation\n    result.on_projected_line = x === y;\n\n    // Check within x bounds\n    if (\n        (pt1.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt2.x) ||\n        (pt2.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt1.x)\n    ) {\n        result.between_x = true;\n    }\n\n    // Check within y bounds\n    if (\n        (pt1.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt2.y) ||\n        (pt2.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt1.y)\n    ) {\n        result.between_y = true;\n    }\n\n    result.between_both = result.between_x &amp;&amp; result.between_y;\n    result.on_line = result.on_projected_line &amp;&amp; result.between_both;\n    return result;\n}\n\nconsole.log(\"pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2})\")\nconsole.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2}))\n\nconsole.log(\"pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5})\")\nconsole.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5}))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":26310378,"reputation":11,"user_id":19973989,"display_name":"KUSHAL GHOSH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667295723,"creation_date":1667294838,"answer_id":74273831,"question_id":17692922,"body_markdown":"    if ( (ymid - y1) * (x2-x1) == (xmid - x1) * (y2-y1) )  **is true, Z lies on line AB**\r\n\r\nStart Point : A (x1, y1),  \r\nEnd Point : B (x2, y2),  \r\nPoint That is on Line AB or Not : Z (xmid, ymid)\r\n\r\nI just condensed everyone&#39;s answers and this formula works the best for me.\r\n1) It avoids division by zero\r\n2) No distance calculation required\r\n3) Simple to implement\r\n\r\n**Edit:** In case you are dealing with floats, which you most probably are,\r\nuse this:\r\n\r\n       if( (ymid - y1) * (x2-x1) - (xmid - x1) * (y2-y1) &lt; DELTA )\r\n\r\nwhere the tolerance DELTA is a value close to zero.\r\nI usually set it to 0.05","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<pre><code>if ( (ymid - y1) * (x2-x1) == (xmid - x1) * (y2-y1) )  **is true, Z lies on line AB**\n</code></pre>\n<p>Start Point : A (x1, y1),<br />\nEnd Point : B (x2, y2),<br />\nPoint That is on Line AB or Not : Z (xmid, ymid)</p>\n<p>I just condensed everyone's answers and this formula works the best for me.</p>\n<ol>\n<li>It avoids division by zero</li>\n<li>No distance calculation required</li>\n<li>Simple to implement</li>\n</ol>\n<p><strong>Edit:</strong> In case you are dealing with floats, which you most probably are,\nuse this:</p>\n<pre><code>   if( (ymid - y1) * (x2-x1) - (xmid - x1) * (y2-y1) &lt; DELTA )\n</code></pre>\n<p>where the tolerance DELTA is a value close to zero.\nI usually set it to 0.05</p>\n"},{"tags":[],"owner":{"account_id":16933612,"reputation":707,"user_id":12247212,"display_name":"Natheeshkumar Rangasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694509831,"creation_date":1694509831,"answer_id":77087649,"question_id":17692922,"body_markdown":"One good library is available for this by turfjs.\r\n\r\n```\r\nvar pt = turf.point([0, 0]);\r\nvar line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\r\nvar isPointOnLine = turf.booleanPointOnLine(pt, line);\r\n```\r\n\r\nIf you want to reduce the accuracy use `epsilon` option\r\n\r\n```\r\nturf.booleanPointOnLine([c1, c2], turf.lineString([[x1, y1], [x2, y2]]), {epsilon: 10}))\r\n\r\n```\r\n\r\nHope this is helpful\r\n\r\nhttps://turfjs.org/docs/#booleanPointOnLine","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>One good library is available for this by turfjs.</p>\n<pre><code>var pt = turf.point([0, 0]);\nvar line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\nvar isPointOnLine = turf.booleanPointOnLine(pt, line);\n</code></pre>\n<p>If you want to reduce the accuracy use <code>epsilon</code> option</p>\n<pre><code>turf.booleanPointOnLine([c1, c2], turf.lineString([[x1, y1], [x2, y2]]), {epsilon: 10}))\n\n</code></pre>\n<p>Hope this is helpful</p>\n<p><a href=\"https://turfjs.org/docs/#booleanPointOnLine\" rel=\"nofollow noreferrer\">https://turfjs.org/docs/#booleanPointOnLine</a></p>\n"}],"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91365,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"answer_count":12,"score":59,"last_activity_date":1694509831,"creation_date":1374043481,"question_id":17692922,"body_markdown":"I have drawn a line between two points A(x,y)---B(x,y)\r\nNow I have a third point C(x,y). I want to know that if C lies on the line which is  drawn between A and B. \r\nI want to do it in java language. I have found couple of answers similar to this. But, all have some problems and no one is perfect.\r\n","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>I have drawn a line between two points A(x,y)---B(x,y)\nNow I have a third point C(x,y). I want to know that if C lies on the line which is  drawn between A and B. \nI want to do it in java language. I have found couple of answers similar to this. But, all have some problems and no one is perfect.</p>\n"},{"tags":["java","rest","multipartform-data","api-design"],"owner":{"account_id":16145483,"reputation":41,"user_id":11721167,"display_name":"pvncoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694509635,"creation_date":1694493378,"question_id":77086142,"body_markdown":"I have an API developed in Java 20 and Jakarta EE 10 with the Wildfly server. In this API, I can create multiple `BatchTechnicalRecordAttachments` at once. Each `BatchTechnicalRecordAttachment` is associated with both an `Attachment` and a `BatchTechnicalRecord`.\r\n\r\nWhen receiving the data, I know that each file is associated with a `BatchTechnicalRecord` because the `key` corresponds to the `id` of the `BatchTechnicalRecord`. Then, on the server, I process and save the file for the respective `BatchTechnicalRecord`.\r\n\r\nHere&#39;s an example of the data sent:\r\n[![Postman Example](https://i.stack.imgur.com/VHnvV.png)](https://i.stack.imgur.com/VHnvV.png)\r\n\r\nThe problem is as follows: I want to return the data in the `multipart/form-data` format as well. However, based on the example above, if I send 3 attachments for `BatchTechnicalRecord` with ID 1 and 1 attachment for `BatchTechnicalRecord` with ID 2, how can I return the `BatchTechnicalRecordAttachment ID` that was created along with the existing `BatchTechnicalRecord ID`?\r\n\r\nOne of the solutions I explored was to return the `key` as a JSON object, which would contain both the `idBatchTechnicalRecord` and the `idBatchTechnicalRecordAttachment` (created on the server) like this:\r\n[![Postman Response Example](https://i.stack.imgur.com/hbrS6.png)](https://i.stack.imgur.com/hbrS6.png)\r\n\r\nHowever, I&#39;m uncertain if this approach aligns with best practices for such scenarios.\r\n\r\nAnother solution I considered was to modify the endpoint to accept only one `BatchTechnicalRecord` request at a time. This would result in a URL structure like: `/api/batches/technical-records/{ID_BATCH_TECHNICAL_RECORD}/attachments`. This solution would require the consuming client to make separate requests for each record.\r\n\r\nI&#39;d appreciate insights and advice on whether these approaches are recommended or if there are alternative, more standard practices for handling this situation.","title":"How to Include Metadata for Individual Fields in a multipart/form-data Response?","body":"<p>I have an API developed in Java 20 and Jakarta EE 10 with the Wildfly server. In this API, I can create multiple <code>BatchTechnicalRecordAttachments</code> at once. Each <code>BatchTechnicalRecordAttachment</code> is associated with both an <code>Attachment</code> and a <code>BatchTechnicalRecord</code>.</p>\n<p>When receiving the data, I know that each file is associated with a <code>BatchTechnicalRecord</code> because the <code>key</code> corresponds to the <code>id</code> of the <code>BatchTechnicalRecord</code>. Then, on the server, I process and save the file for the respective <code>BatchTechnicalRecord</code>.</p>\n<p>Here's an example of the data sent:\n<a href=\"https://i.stack.imgur.com/VHnvV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VHnvV.png\" alt=\"Postman Example\" /></a></p>\n<p>The problem is as follows: I want to return the data in the <code>multipart/form-data</code> format as well. However, based on the example above, if I send 3 attachments for <code>BatchTechnicalRecord</code> with ID 1 and 1 attachment for <code>BatchTechnicalRecord</code> with ID 2, how can I return the <code>BatchTechnicalRecordAttachment ID</code> that was created along with the existing <code>BatchTechnicalRecord ID</code>?</p>\n<p>One of the solutions I explored was to return the <code>key</code> as a JSON object, which would contain both the <code>idBatchTechnicalRecord</code> and the <code>idBatchTechnicalRecordAttachment</code> (created on the server) like this:\n<a href=\"https://i.stack.imgur.com/hbrS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbrS6.png\" alt=\"Postman Response Example\" /></a></p>\n<p>However, I'm uncertain if this approach aligns with best practices for such scenarios.</p>\n<p>Another solution I considered was to modify the endpoint to accept only one <code>BatchTechnicalRecord</code> request at a time. This would result in a URL structure like: <code>/api/batches/technical-records/{ID_BATCH_TECHNICAL_RECORD}/attachments</code>. This solution would require the consuming client to make separate requests for each record.</p>\n<p>I'd appreciate insights and advice on whether these approaches are recommended or if there are alternative, more standard practices for handling this situation.</p>\n"},{"tags":["java","android","sqlite","android-volley"],"comments":[{"owner":{"account_id":1207648,"reputation":10346,"user_id":1176870,"accept_rate":95,"display_name":"Chris Stillwell"},"score":0,"creation_date":1476111540,"post_id":39961086,"comment_id":67201982,"body_markdown":"You have a server error (ie outside your app). You will need to check the server logs for the root cause of the error then go from there. If you are looking to handle the error on Android you will need to check the status returned by the server.","body":"You have a server error (ie outside your app). You will need to check the server logs for the root cause of the error then go from there. If you are looking to handle the error on Android you will need to check the status returned by the server."},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476111933,"post_id":39961086,"comment_id":67202239,"body_markdown":"@ChrisStillwell I have added server log","body":"@ChrisStillwell I have added server log"},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":1,"creation_date":1476112720,"post_id":39961086,"comment_id":67202744,"body_markdown":"I am getting empty body on server, so this might me error from app","body":"I am getting empty body on server, so this might me error from app"},{"owner":{"account_id":1052925,"reputation":12537,"user_id":1056359,"accept_rate":92,"display_name":"thepoosh"},"score":0,"creation_date":1476113131,"post_id":39961086,"comment_id":67203018,"body_markdown":"HTTP.500 us a response code your server gives, not something generated by Volley","body":"HTTP.500 us a response code your server gives, not something generated by Volley"},{"owner":{"account_id":1207648,"reputation":10346,"user_id":1176870,"accept_rate":95,"display_name":"Chris Stillwell"},"score":0,"creation_date":1476113150,"post_id":39961086,"comment_id":67203034,"body_markdown":"Looks like your server is encountering a null. Are you sending all the values to your server that it requires?","body":"Looks like your server is encountering a null. Are you sending all the values to your server that it requires?"},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476113566,"post_id":39961086,"comment_id":67203335,"body_markdown":"Server is sending error because it is receiving the null value. @ChrisStillwell.. and yes I am sending all the required values.","body":"Server is sending error because it is receiving the null value. @ChrisStillwell.. and yes I am sending all the required values."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1476114239,"post_id":39961086,"comment_id":67203755,"body_markdown":"You have access to the server? Then check the `abc.js` file.","body":"You have access to the server? Then check the <code>abc.js</code> file."},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476114508,"post_id":39961086,"comment_id":67203909,"body_markdown":"I checked the abc.js file. No error in abc.js error and I also check from Postman with same data.","body":"I checked the abc.js file. No error in abc.js error and I also check from Postman with same data."}],"answers":[{"comments":[{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476283817,"post_id":40001163,"comment_id":67281138,"body_markdown":"I am also sending the jsonObject. this was the typo error.  I checked with the postman, work fine with the same token.","body":"I am also sending the jsonObject. this was the typo error.  I checked with the postman, work fine with the same token."}],"tags":[],"owner":{"account_id":4283400,"reputation":88,"user_id":3502049,"accept_rate":75,"display_name":"KrithGhosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476282330,"creation_date":1476282330,"answer_id":40001163,"question_id":39961086,"body_markdown":"The json body you are sending as string, try to send it as a json object. The server might be expecting a json object. Else there can be issue with the headers values. Check in postman whether the header that you are sending from there is same as what you are sending from the app.","title":"Getting com.android.volley.ServerError","body":"<p>The json body you are sending as string, try to send it as a json object. The server might be expecting a json object. Else there can be issue with the headers values. Check in postman whether the header that you are sending from there is same as what you are sending from the app.</p>\n"}],"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10016,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1694509565,"creation_date":1476111184,"question_id":39961086,"body_markdown":"PUT request using volley\r\n&lt;pre&gt;\r\nLog.i(&quot;JsonObject is&quot;,finaljsonData.toString());\r\nOutput:-\r\n\r\n{&quot;stats&quot;:[{&quot;med_id&quot;:1,&quot;med_name&quot;:&quot;Evening&quot;,&quot;start_date&quot;:1476107306168,&quot;end_date&quot;:1476193706168,&quot;adherence&quot;:{&quot;taken_on&quot;:[1476107704867],&quot;missed_on&quot;:[]}}]}\r\n&lt;/pre&gt;\r\nCode:\r\n\r\n        JsonObjectHeader customRequest=new JsonObjectHeader(Request.Method.PUT,url, finaljsonData, listener, errorListener);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n        requestQueue.add(customRequest);\r\n\r\n\r\nAnd the JsonObjectHeader class is:-\r\n\r\n    public class JsonObjectHeader extends JsonRequest&lt;JSONObject&gt; {\r\n    \r\n        public JsonObjectHeader(int method, String url, String requestBody, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\r\n            super(method, url, requestBody, listener, errorListener);\r\n        }\r\n    \r\n        public JsonObjectHeader(String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener,\r\n                                Response.ErrorListener errorListener) {\r\n            this(jsonRequest == null ? Method.GET : Method.POST, url, jsonRequest,\r\n                    listener, errorListener);\r\n        }\r\n    \r\n        public JsonObjectHeader(int method, String url, JSONObject jsonRequest,\r\n                                Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\r\n            super(method, url, (jsonRequest == null) ? null : jsonRequest.toString(), listener,\r\n                    errorListener);\r\n        }\r\n    \r\n        @Override\r\n        protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\r\n    \r\n            try {\r\n                Log.i(&quot;Response parse&quot;,&quot;Yes&quot;);\r\n                String jsonString = new String(response.data,\r\n                        HttpHeaderParser.parseCharset(response.headers));\r\n                Log.i(&quot;Json String&quot;,jsonString);\r\n                Log.i(&quot;Response Complete&quot;,response.toString());\r\n                Log.i(&quot;Response Data&quot;,response.data.toString());\r\n                return Response.success(new JSONObject(jsonString),\r\n                        HttpHeaderParser.parseCacheHeaders(response));\r\n            } catch (UnsupportedEncodingException e) {\r\n                return Response.error(new ParseError(e));\r\n            } catch (JSONException je) {\r\n                return Response.error(new ParseError(je));\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n            headers.put(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n            headers.put(&quot;x-access-token&quot;, Constants.getTokenDB());\r\n            return headers;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nLogCat OutPut:\r\n&lt;pre&gt;\r\n10-10 19:45:15.186 22355-22426/user.com.test2 E/Surface: getSlotFromBufferLocked: unknown buffer: 0x7f5ba7cac7e0\r\n10-10 19:45:15.797 22355-22650/user.com.test2 E/Volley: [198] BasicNetwork.performRequest: Unexpected response code 500 for url\r\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err: com.android.volley.ServerError\r\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:163)\r\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:112)\r\n&lt;/pre&gt;\r\n\r\n\r\nServer LogCat:-\r\n\r\n    {}\r\n    www-user-9 PUT /medstats 500 4.579 ms - 627\r\n    \r\n     TypeError: Cannot read property &#39;length&#39; of undefined\r\n    www-user-9     at /abc.js:390:12\r\n    www-user-9     at Layer.handle [as handle_request] (/xyz.js.js:95:5)\r\n    www-user-9     at next (/abc.js:131:13)\r\n    www-user-9     at /abc.js:61:5\r\n    www-user-9     at //abc.js:27:18\r\n    www-user-9     at nextTickCallbackWith0Args (node.js:420:9)\r\n    www-user-9     at process._tickDomainCallback (node.js:390:13)\r\n\r\n\r\n\r\nI have tried using PostMan. So it is working fine: so I think no server error","title":"Getting com.android.volley.ServerError","body":"<p>PUT request using volley</p>\n\n<pre>\nLog.i(\"JsonObject is\",finaljsonData.toString());\nOutput:-\n\n{\"stats\":[{\"med_id\":1,\"med_name\":\"Evening\",\"start_date\":1476107306168,\"end_date\":1476193706168,\"adherence\":{\"taken_on\":[1476107704867],\"missed_on\":[]}}]}\n</pre>\n\n<p>Code:</p>\n\n<pre><code>    JsonObjectHeader customRequest=new JsonObjectHeader(Request.Method.PUT,url, finaljsonData, listener, errorListener);\n    RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n    requestQueue.add(customRequest);\n</code></pre>\n\n<p>And the JsonObjectHeader class is:-</p>\n\n<pre><code>public class JsonObjectHeader extends JsonRequest&lt;JSONObject&gt; {\n\n    public JsonObjectHeader(int method, String url, String requestBody, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\n        super(method, url, requestBody, listener, errorListener);\n    }\n\n    public JsonObjectHeader(String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener,\n                            Response.ErrorListener errorListener) {\n        this(jsonRequest == null ? Method.GET : Method.POST, url, jsonRequest,\n                listener, errorListener);\n    }\n\n    public JsonObjectHeader(int method, String url, JSONObject jsonRequest,\n                            Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\n        super(method, url, (jsonRequest == null) ? null : jsonRequest.toString(), listener,\n                errorListener);\n    }\n\n    @Override\n    protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\n\n        try {\n            Log.i(\"Response parse\",\"Yes\");\n            String jsonString = new String(response.data,\n                    HttpHeaderParser.parseCharset(response.headers));\n            Log.i(\"Json String\",jsonString);\n            Log.i(\"Response Complete\",response.toString());\n            Log.i(\"Response Data\",response.data.toString());\n            return Response.success(new JSONObject(jsonString),\n                    HttpHeaderParser.parseCacheHeaders(response));\n        } catch (UnsupportedEncodingException e) {\n            return Response.error(new ParseError(e));\n        } catch (JSONException je) {\n            return Response.error(new ParseError(je));\n        }\n\n    }\n\n    @Override\n    public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n        HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n        headers.put(\"Content-Type\", \"application/json; charset=utf-8\");\n        headers.put(\"x-access-token\", Constants.getTokenDB());\n        return headers;\n\n    }\n\n}\n</code></pre>\n\n<p>LogCat OutPut:</p>\n\n<pre>\n10-10 19:45:15.186 22355-22426/user.com.test2 E/Surface: getSlotFromBufferLocked: unknown buffer: 0x7f5ba7cac7e0\n10-10 19:45:15.797 22355-22650/user.com.test2 E/Volley: [198] BasicNetwork.performRequest: Unexpected response code 500 for url\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err: com.android.volley.ServerError\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:163)\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:112)\n</pre>\n\n<p>Server LogCat:-</p>\n\n<pre><code>{}\nwww-user-9 PUT /medstats 500 4.579 ms - 627\n\n TypeError: Cannot read property 'length' of undefined\nwww-user-9     at /abc.js:390:12\nwww-user-9     at Layer.handle [as handle_request] (/xyz.js.js:95:5)\nwww-user-9     at next (/abc.js:131:13)\nwww-user-9     at /abc.js:61:5\nwww-user-9     at //abc.js:27:18\nwww-user-9     at nextTickCallbackWith0Args (node.js:420:9)\nwww-user-9     at process._tickDomainCallback (node.js:390:13)\n</code></pre>\n\n<p>I have tried using PostMan. So it is working fine: so I think no server error</p>\n"},{"tags":["java","osgi","aem-6"],"answers":[{"comments":[{"owner":{"account_id":9503542,"reputation":47,"user_id":7063828,"accept_rate":75,"display_name":"Krups Solanki"},"score":0,"creation_date":1567510417,"post_id":57678753,"comment_id":101976754,"body_markdown":"Yes, all the above steps are already in place. Able to track the move event on pages by capturing the Event.PROPERTY_CHANGED | Event.NODE_MOVED on cq:Page &amp; cq:PageContent.\nHowever not able to track move event on the dam assets.","body":"Yes, all the above steps are already in place. Able to track the move event on pages by capturing the Event.PROPERTY_CHANGED | Event.NODE_MOVED on cq:Page &amp; cq:PageContent. However not able to track move event on the dam assets."},{"owner":{"account_id":9862375,"reputation":416,"user_id":7304893,"display_name":"Sudheer Donaboina"},"score":0,"creation_date":1568077182,"post_id":57678753,"comment_id":102151433,"body_markdown":"Have edited my answer and provided a sample event listener which listens to any event under /content, can be page or a dam asset","body":"Have edited my answer and provided a sample event listener which listens to any event under /content, can be page or a dam asset"}],"tags":[],"owner":{"account_id":9862375,"reputation":416,"user_id":7304893,"display_name":"Sudheer Donaboina"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568077154,"creation_date":1566922818,"answer_id":57678753,"question_id":57677618,"body_markdown":"I hope you have already created a service user and provided the required permissions. Along with the new system user, you have to map the user in the Sling Mapper Service. If the user is not mapped in the Sling Mapper Service, you will not be able to get the system user details and will not be able to track the events. If this is not done, you should be able to see errors in your log file when refreshing/restarting the bundle.\r\n\r\n&gt; Step by Step procedure for the requirement:\r\n&gt; \r\n&gt;  1. Create a system User\r\n&gt;  2. Provide the required permissions\r\n&gt;  3. Map the user in Sling Mapping Service\r\n&gt;  4. Install the Event Listener (Deploy the code)\r\n&gt;  5. Test the event changes\r\n\r\nFor more details on simple listener, you can refer to https://helpx.adobe.com/experience-manager/using/aem64_event_listener.html\r\n\r\n\r\nYou can refer to the sample below for listening the node addition or deletion \r\n\r\n&gt; https://github.com/sudheerdvn/aem-flash/blob/develop/core/src/main/java/com/flash/aem/core/listeners/SimpleEventListener.java\r\n\r\nIf you refer to Line 56: i have provided the path as &quot;/content&quot;, So all the events under **&quot;/content&quot;** will be listened in this listener, you can limit the listener by changing this path to limited set of folders.","title":"Track move operations on nodes over the entire repo","body":"<p>I hope you have already created a service user and provided the required permissions. Along with the new system user, you have to map the user in the Sling Mapper Service. If the user is not mapped in the Sling Mapper Service, you will not be able to get the system user details and will not be able to track the events. If this is not done, you should be able to see errors in your log file when refreshing/restarting the bundle.</p>\n\n<blockquote>\n  <p>Step by Step procedure for the requirement:</p>\n  \n  <ol>\n  <li>Create a system User</li>\n  <li>Provide the required permissions</li>\n  <li>Map the user in Sling Mapping Service</li>\n  <li>Install the Event Listener (Deploy the code)</li>\n  <li>Test the event changes</li>\n  </ol>\n</blockquote>\n\n<p>For more details on simple listener, you can refer to <a href=\"https://helpx.adobe.com/experience-manager/using/aem64_event_listener.html\" rel=\"nofollow noreferrer\">https://helpx.adobe.com/experience-manager/using/aem64_event_listener.html</a></p>\n\n<p>You can refer to the sample below for listening the node addition or deletion </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/sudheerdvn/aem-flash/blob/develop/core/src/main/java/com/flash/aem/core/listeners/SimpleEventListener.java\" rel=\"nofollow noreferrer\">https://github.com/sudheerdvn/aem-flash/blob/develop/core/src/main/java/com/flash/aem/core/listeners/SimpleEventListener.java</a></p>\n</blockquote>\n\n<p>If you refer to Line 56: i have provided the path as \"/content\", So all the events under <strong>\"/content\"</strong> will be listened in this listener, you can limit the listener by changing this path to limited set of folders.</p>\n"},{"tags":[],"owner":{"account_id":5450442,"reputation":350,"user_id":4335434,"display_name":"mahsum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568095696,"creation_date":1568095696,"answer_id":57864909,"question_id":57677618,"body_markdown":"I think the problem is that you didn&#39;t register to the appropriate events.\r\n\r\nTo my knowledge, It is not certain which kind of events will happen when you play with the nodes. You can use http://localhost:4502/system/console/events to see which events are happening in the system and register to the ones you are interested in. \r\n\r\nWhen I move /content/dam/asset.jpg to /content/dam/test/asset.jpg I see an event which you can use. Event details are as below:\r\n\r\n    Event Topic: org/apache/sling/event/notification/job/START\r\n    event.job.topic: com/adobe/cq/workflow/payload/move/job\r\n    payload.move.src.path: /content/dam/asset.jpg\r\n    payload.move.dest.path: /content/dam/test/asset.jpg\r\n","title":"Track move operations on nodes over the entire repo","body":"<p>I think the problem is that you didn't register to the appropriate events.</p>\n\n<p>To my knowledge, It is not certain which kind of events will happen when you play with the nodes. You can use <a href=\"http://localhost:4502/system/console/events\" rel=\"nofollow noreferrer\">http://localhost:4502/system/console/events</a> to see which events are happening in the system and register to the ones you are interested in. </p>\n\n<p>When I move /content/dam/asset.jpg to /content/dam/test/asset.jpg I see an event which you can use. Event details are as below:</p>\n\n<pre><code>Event Topic: org/apache/sling/event/notification/job/START\nevent.job.topic: com/adobe/cq/workflow/payload/move/job\npayload.move.src.path: /content/dam/asset.jpg\npayload.move.dest.path: /content/dam/test/asset.jpg\n</code></pre>\n"}],"owner":{"account_id":9503542,"reputation":47,"user_id":7063828,"accept_rate":75,"display_name":"Krups Solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694509273,"creation_date":1566918357,"question_id":57677618,"body_markdown":"Track the node move operations over the whole repo.\r\nNode can be of anytype.\r\nNode Move operation may happen through the following options:\r\n1. Drag drop through crxde\r\n2. Move operations from damadmin or siteadmin\r\n\r\nCould anyone please guide on what events the move operation can be tracked. \r\n\r\nCreated a event listener to catch the node movement event.\r\nEvent type used are NODE_ADDED, NODE_MOVED, NODE_REMOVED.\r\nCreated a config mentioning the paths which the eventListner should read, to catch the move Event of nodes (e.g. /content , /content/dam, /apps/myproject, etc/myproject)\r\nBut unable to catch the event through the the above Events operations.\r\nWhen i move the node(anytype), the onEvent method is not called.\r\n\r\n\r\n\r\n    @Component(immediate = true, service = EventListener.class,\r\n            configurationPolicy = ConfigurationPolicy.REQUIRE)\r\n    public final class MoveEventListener implements EventListener {\r\n    \r\n        /* Config property to read paths */\r\n        private static final String REPO_PATH = &quot;content.rootpath&quot;;\r\n        private static final String LAST_MODIFIED_BY = &quot;cq:lastModifiedBy&quot;;\r\n    \r\n        @Reference\r\n        private ResourceResolverFactory resolverFactory;\r\n        private ResourceResolver resourceResolver;\r\n        private Session session;\r\n        private ObservationManager observationManager;\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(MoveEventListener.class);\r\n    \r\n        private String[] repoPaths;\r\n    \r\n        /**\r\n         * Activate method.\r\n         *\r\n         * @param context **ComponentContext**\r\n         */\r\n        @Activate\r\n        protected void activate(final ComponentContext context) {\r\n            try {\r\n                log.debug(&quot;Inside Activate Move Listener&quot;);\r\n                resourceResolver = ResourceResolverUtils.getResourceResolver(resolverFactory,\r\n                        GlobalConstants.SERVICE_ACCOUNT_MPASPRODUCTS_DISPATCHER_FLUSH);\r\n                session = resourceResolver.adaptTo(Session.class);\r\n                observationManager = session != null\r\n                        ? (session.getWorkspace() != null ? session.getWorkspace().getObservationManager() : null)\r\n                        : null;\r\n                repoPaths = (String[]) context.getProperties().get(REPO_PATH);\r\n    \r\n                final String[] types = {&quot;nt:unstructured&quot;, &quot;sling:Folder&quot;, &quot;sling:OrderedFolder&quot;, &quot;nt:folder&quot;, &quot;dam:Asset&quot;,\r\n                        &quot;cq:Page&quot;, &quot;cq:PageContent&quot;};\r\n                /* final String[] types = {DamConstants.NT_DAM_ASSETCONTENT, StringConstants.NT_UNSTRUCTURED,\r\n                        NameConstants.NT_PAGE, GlobalConstants.CQ_PAGECONTENT}; */\r\n    \r\n                if (repoPaths != null) {\r\n                    for (String path : repoPaths) {\r\n                        log.debug(&quot;Paths: &quot; + path);\r\n                        if (observationManager != null) {\r\n                            observationManager.addEventListener(this, Event.NODE_ADDED | Event.NODE_MOVED | Event.NODE_REMOVED,\r\n                                    path, true, null, types, false);\r\n                            log.debug(&quot;Observing movement of nodes under {}&quot;, Arrays.asList(types), path);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Error occured in {} activation &quot;, getClass(), e);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Deactivate method.\r\n         */\r\n        @Deactivate\r\n        protected void deactivate() {\r\n            if (resourceResolver != null) {\r\n                resourceResolver.close();\r\n            }\r\n            log.info(this + &quot; component - deactiviated&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Event handling class.\r\n         *\r\n         * @param events\r\n         */\r\n        @Override\r\n        public void onEvent(final EventIterator events) {\r\n            log.debug(&quot;Inside On event&quot;);\r\n            while (events.hasNext()) {\r\n                Event event = events.nextEvent();\r\n                if (event.getType() == Event.NODE_ADDED || event.getType() == Event.NODE_MOVED || event.getType() == Event.NODE_REMOVED) {\r\n                    log.debug(&quot;Event occured in {}&quot;, event.getType());\r\n                    try {\r\n                        String path = event.getPath();\r\n                        Resource resource = resourceResolver.getResource(path);\r\n                        if (resource != null) {\r\n                            ValueMap value = resource.adaptTo(ValueMap.class);\r\n                            if (value != null) {\r\n                                String lastModifiedBy = value.get(LAST_MODIFIED_BY, String.class);\r\n                                log.debug(path + &quot; &quot; + &quot;Node moved&quot; + &quot; last modified by: &quot;\r\n                                        + lastModifiedBy);\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        log.error(&quot;Error found while processing event: &quot;, e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Track move operations on nodes over the entire repo","body":"<p>Track the node move operations over the whole repo.\nNode can be of anytype.\nNode Move operation may happen through the following options:\n1. Drag drop through crxde\n2. Move operations from damadmin or siteadmin</p>\n\n<p>Could anyone please guide on what events the move operation can be tracked. </p>\n\n<p>Created a event listener to catch the node movement event.\nEvent type used are NODE_ADDED, NODE_MOVED, NODE_REMOVED.\nCreated a config mentioning the paths which the eventListner should read, to catch the move Event of nodes (e.g. /content , /content/dam, /apps/myproject, etc/myproject)\nBut unable to catch the event through the the above Events operations.\nWhen i move the node(anytype), the onEvent method is not called.</p>\n\n<pre><code>@Component(immediate = true, service = EventListener.class,\n        configurationPolicy = ConfigurationPolicy.REQUIRE)\npublic final class MoveEventListener implements EventListener {\n\n    /* Config property to read paths */\n    private static final String REPO_PATH = \"content.rootpath\";\n    private static final String LAST_MODIFIED_BY = \"cq:lastModifiedBy\";\n\n    @Reference\n    private ResourceResolverFactory resolverFactory;\n    private ResourceResolver resourceResolver;\n    private Session session;\n    private ObservationManager observationManager;\n\n    private static final Logger log = LoggerFactory.getLogger(MoveEventListener.class);\n\n    private String[] repoPaths;\n\n    /**\n     * Activate method.\n     *\n     * @param context **ComponentContext**\n     */\n    @Activate\n    protected void activate(final ComponentContext context) {\n        try {\n            log.debug(\"Inside Activate Move Listener\");\n            resourceResolver = ResourceResolverUtils.getResourceResolver(resolverFactory,\n                    GlobalConstants.SERVICE_ACCOUNT_MPASPRODUCTS_DISPATCHER_FLUSH);\n            session = resourceResolver.adaptTo(Session.class);\n            observationManager = session != null\n                    ? (session.getWorkspace() != null ? session.getWorkspace().getObservationManager() : null)\n                    : null;\n            repoPaths = (String[]) context.getProperties().get(REPO_PATH);\n\n            final String[] types = {\"nt:unstructured\", \"sling:Folder\", \"sling:OrderedFolder\", \"nt:folder\", \"dam:Asset\",\n                    \"cq:Page\", \"cq:PageContent\"};\n            /* final String[] types = {DamConstants.NT_DAM_ASSETCONTENT, StringConstants.NT_UNSTRUCTURED,\n                    NameConstants.NT_PAGE, GlobalConstants.CQ_PAGECONTENT}; */\n\n            if (repoPaths != null) {\n                for (String path : repoPaths) {\n                    log.debug(\"Paths: \" + path);\n                    if (observationManager != null) {\n                        observationManager.addEventListener(this, Event.NODE_ADDED | Event.NODE_MOVED | Event.NODE_REMOVED,\n                                path, true, null, types, false);\n                        log.debug(\"Observing movement of nodes under {}\", Arrays.asList(types), path);\n                    }\n                }\n            }\n        } catch (Exception e) {\n            log.error(\"Error occured in {} activation \", getClass(), e);\n        }\n    }\n\n    /**\n     * Deactivate method.\n     */\n    @Deactivate\n    protected void deactivate() {\n        if (resourceResolver != null) {\n            resourceResolver.close();\n        }\n        log.info(this + \" component - deactiviated\");\n    }\n\n    /**\n     * Event handling class.\n     *\n     * @param events\n     */\n    @Override\n    public void onEvent(final EventIterator events) {\n        log.debug(\"Inside On event\");\n        while (events.hasNext()) {\n            Event event = events.nextEvent();\n            if (event.getType() == Event.NODE_ADDED || event.getType() == Event.NODE_MOVED || event.getType() == Event.NODE_REMOVED) {\n                log.debug(\"Event occured in {}\", event.getType());\n                try {\n                    String path = event.getPath();\n                    Resource resource = resourceResolver.getResource(path);\n                    if (resource != null) {\n                        ValueMap value = resource.adaptTo(ValueMap.class);\n                        if (value != null) {\n                            String lastModifiedBy = value.get(LAST_MODIFIED_BY, String.class);\n                            log.debug(path + \" \" + \"Node moved\" + \" last modified by: \"\n                                    + lastModifiedBy);\n                        }\n                    }\n                } catch (Exception e) {\n                    log.error(\"Error found while processing event: \", e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1587671137,"post_id":61377162,"comment_id":108610734,"body_markdown":"Exceptions thrown by send are different to ones handled by retry. Producer client does actual sending in a separate background thread, and carries out retries without the thread that called send knowing about it. If retries are successful them send only finds out about success (if it waits for the asynchronous outcome). If retries are exhausted then there is an asynchronous failure response. Send will synchronously get an exception if the send buffer has filled up so there is no space to add any more messages (eg if all pending messages are being retried)","body":"Exceptions thrown by send are different to ones handled by retry. Producer client does actual sending in a separate background thread, and carries out retries without the thread that called send knowing about it. If retries are successful them send only finds out about success (if it waits for the asynchronous outcome). If retries are exhausted then there is an asynchronous failure response. Send will synchronously get an exception if the send buffer has filled up so there is no space to add any more messages (eg if all pending messages are being retried)"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1587671211,"post_id":61377162,"comment_id":108610771,"body_markdown":"Not sure if the above helps but I think it is relevant to your question.","body":"Not sure if the above helps but I think it is relevant to your question."},{"owner":{"account_id":16984856,"reputation":73,"user_id":12285881,"display_name":"mmkk18"},"score":0,"creation_date":1587903407,"post_id":61377162,"comment_id":108686500,"body_markdown":"@Chris Thank you for that insight. Do you know then how i can verify if retries are happening...would that be logged in `server.log` or some other file?","body":"@Chris Thank you for that insight. Do you know then how i can verify if retries are happening...would that be logged in <code>server.log</code> or some other file?"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1587908892,"post_id":61377162,"comment_id":108688672,"body_markdown":"Hi, server end wouldn&#39;t know about retries, it would be in client logs - maybe bump up the log level","body":"Hi, server end wouldn&#39;t know about retries, it would be in client logs - maybe bump up the log level"},{"owner":{"account_id":9288030,"reputation":762,"user_id":6897259,"display_name":"WeiHao"},"score":0,"creation_date":1597393653,"post_id":61377162,"comment_id":112123762,"body_markdown":"Is there a specific Exception when the retries exceeds the configured limit?","body":"Is there a specific Exception when the retries exceeds the configured limit?"}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694509069,"creation_date":1694509069,"answer_id":77087545,"question_id":61377162,"body_markdown":"Regarding the &quot;potentially transient&quot; and &quot;permanent&quot; errors it&#39;s quite simple.\r\n\r\nPotentially transient ones are temporary errors that have a chance of resolving automatically within reasonable time: connection errors, temporary states (no leader for partition), etc.\r\n\r\nPermanent errors on the other hand are the ones that cannot be resolved with retries and most likely require a manual intervention: e.g. if a topic does not exist and is not auto-created then it&#39;ll require some external entity (such as a human) to create it.\r\n\r\nYou can find which errors are retriable for example here: https://kafka.apache.org/25/generated/protocol_errors.html \r\n\r\nRegarding the retires in the producer code, it looks like they are done on a different level.\r\nIf you trace the usage of `RETRIES_CONFIG` you&#39;ll see that `org.apache.kafka.clients.producer.KafkaProducer` passes that to create a `org.apache.kafka.clients.producer.internals.Sender` which is actually &quot;The background thread that handles the sending of produce requests to the Kafka cluster.&quot; It has the `canRetry()` method where the decision is made whether to retry the send or not.","title":"Kafka Producer: Understanding `retries` config param","body":"<p>Regarding the &quot;potentially transient&quot; and &quot;permanent&quot; errors it's quite simple.</p>\n<p>Potentially transient ones are temporary errors that have a chance of resolving automatically within reasonable time: connection errors, temporary states (no leader for partition), etc.</p>\n<p>Permanent errors on the other hand are the ones that cannot be resolved with retries and most likely require a manual intervention: e.g. if a topic does not exist and is not auto-created then it'll require some external entity (such as a human) to create it.</p>\n<p>You can find which errors are retriable for example here: <a href=\"https://kafka.apache.org/25/generated/protocol_errors.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/25/generated/protocol_errors.html</a></p>\n<p>Regarding the retires in the producer code, it looks like they are done on a different level.\nIf you trace the usage of <code>RETRIES_CONFIG</code> you'll see that <code>org.apache.kafka.clients.producer.KafkaProducer</code> passes that to create a <code>org.apache.kafka.clients.producer.internals.Sender</code> which is actually &quot;The background thread that handles the sending of produce requests to the Kafka cluster.&quot; It has the <code>canRetry()</code> method where the decision is made whether to retry the send or not.</p>\n"}],"owner":{"account_id":16984856,"reputation":73,"user_id":12285881,"display_name":"mmkk18"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694509069,"creation_date":1587600384,"question_id":61377162,"body_markdown":"Kafka Documentation for Producer Config parameter `retries` says that retry will happen for potentially transient errors.\r\n\r\n&gt;[Setting a value greater than zero will cause the client to resend any record whose send fails with a potentially transient error. Note that this retry is no different than if the client resent the record upon receiving the error. Allowing retries without setting max.in.flight.requests.per.connection to 1 will potentially change the ordering of records because if two batches are sent to a single partition, and the first fails and is retried but the second succeeds, then the records in the second batch may appear first. ](https://kafka.apache.org/20/documentation.html#producerconfigs)\r\n\r\n 1. What are these ***potentially transient errors***? What scenarios cause these &#39;transient errors&#39;?\r\n 2. In the source code, I see that there is a `RetriableException` Interface and `TimeoutException` implements it. But I have observed that retry does not happen for every timeout exception thrown by `send(ProducerRecord&lt;K,V&gt; record)` method of `org.apache.kafka.clients.producer`. So, what I am missing here ... Aren&#39;t all `RetriableException` retried when `retries` param is greater than 0?\r\n\r\n","title":"Kafka Producer: Understanding `retries` config param","body":"<p>Kafka Documentation for Producer Config parameter <code>retries</code> says that retry will happen for potentially transient errors.</p>\n\n<blockquote>\n  <p><a href=\"https://kafka.apache.org/20/documentation.html#producerconfigs\" rel=\"nofollow noreferrer\">Setting a value greater than zero will cause the client to resend any record whose send fails with a potentially transient error. Note that this retry is no different than if the client resent the record upon receiving the error. Allowing retries without setting max.in.flight.requests.per.connection to 1 will potentially change the ordering of records because if two batches are sent to a single partition, and the first fails and is retried but the second succeeds, then the records in the second batch may appear first. </a></p>\n</blockquote>\n\n<ol>\n<li>What are these <strong><em>potentially transient errors</em></strong>? What scenarios cause these 'transient errors'?</li>\n<li>In the source code, I see that there is a <code>RetriableException</code> Interface and <code>TimeoutException</code> implements it. But I have observed that retry does not happen for every timeout exception thrown by <code>send(ProducerRecord&lt;K,V&gt; record)</code> method of <code>org.apache.kafka.clients.producer</code>. So, what I am missing here ... Aren't all <code>RetriableException</code> retried when <code>retries</code> param is greater than 0?</li>\n</ol>\n"},{"tags":["java","jvm","compiler-optimization","jit","graalvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1694214575,"post_id":77067735,"comment_id":135866743,"body_markdown":"What problem are you trying to solve? What have you tried so far, what results do you see and what do you expect instead? Please [edit your question](https://stackoverflow.com/help/how-to-ask).","body":"What problem are you trying to solve? What have you tried so far, what results do you see and what do you expect instead? Please <a href=\"https://stackoverflow.com/help/how-to-ask\">edit your question</a>."},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694318823,"post_id":77067735,"comment_id":135874487,"body_markdown":"@apangin Edited, thanks","body":"@apangin Edited, thanks"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1694381940,"post_id":77067735,"comment_id":135880157,"body_markdown":"What VM version do you run? (`java -version`)","body":"What VM version do you run? (<code>java -version</code>)"},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694420116,"post_id":77067735,"comment_id":135883603,"body_markdown":"I&#39;m work with\n\n\n\n\njava 17.0.8 2023-07-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)","body":"I&#39;m work with     java 17.0.8 2023-07-18 LTS Java(TM) SE Runtime Environment (build 17.0.8+9-LTS-211) Java HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1694557708,"post_id":77067735,"comment_id":135906348,"body_markdown":"You are running OpenJDK HotSpot JVM, not GraalVM. Why not using GraalVM instead, which has everything you need out of the box?","body":"You are running OpenJDK HotSpot JVM, not GraalVM. Why not using GraalVM instead, which has everything you need out of the box?"},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694595816,"post_id":77067735,"comment_id":135910688,"body_markdown":"I&#39;m running OpenJDK HotSpot JVM and using a a JVMCI (Graal JIT compiler)\n\n\n\nsomething like this \nhttps://github.com/graalvm/graal-js-jdk11-maven-demo","body":"I&#39;m running OpenJDK HotSpot JVM and using a a JVMCI (Graal JIT compiler)    something like this  <a href=\"https://github.com/graalvm/graal-js-jdk11-maven-demo\" rel=\"nofollow noreferrer\">github.com/graalvm/graal-js-jdk11-maven-demo</a>"}],"answers":[{"comments":[{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694521011,"post_id":77087497,"comment_id":135899100,"body_markdown":"So in the next release, still need to use Graal JDK ? Or someting else ? Another API?","body":"So in the next release, still need to use Graal JDK ? Or someting else ? Another API?"}],"tags":[],"owner":{"account_id":13620499,"reputation":111,"user_id":10628628,"display_name":"Alina Yurenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694508816,"creation_date":1694508816,"answer_id":77087497,"question_id":77067735,"body_markdown":"Using Graal JIT to execute this code should not give you performance penalties, rather the opposite. You should just make sure you are indeed executing this code JIT compiled and not just interpreted, which would be much slower.\r\n\r\nOur general recommendation is to use the GraalVM JDK, which will give you the best performance and warmup. If for some reason you dont want to use Graal JIT, you can always disable it with `-XX:-UseJVMCICompiler` which effectively gives you an OpenJDK setup.\r\n\r\nYour use case should become simpler with the changes we are making in the next release, it will be released next week.","title":"JVMCI JIT Compiler (Graal Compiler)","body":"<p>Using Graal JIT to execute this code should not give you performance penalties, rather the opposite. You should just make sure you are indeed executing this code JIT compiled and not just interpreted, which would be much slower.</p>\n<p>Our general recommendation is to use the GraalVM JDK, which will give you the best performance and warmup. If for some reason you dont want to use Graal JIT, you can always disable it with <code>-XX:-UseJVMCICompiler</code> which effectively gives you an OpenJDK setup.</p>\n<p>Your use case should become simpler with the changes we are making in the next release, it will be released next week.</p>\n"}],"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77087497,"answer_count":1,"score":-1,"last_activity_date":1694508816,"creation_date":1694183243,"question_id":77067735,"body_markdown":"I have a Spring application that utilizes JavaScript scripts through ScriptEngine (the engine provided by graalvm https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/js/ScriptEngine/). I am considering enabling the Graal JIT compiler using JVMCI, but I&#39;m unsure about how this would impact my application&#39;s performance and whether it would be used exclusively for ScriptEngine or influence the entire application.\r\n\r\n\r\nhow I added the Graal JIT Compiler\r\n\r\n```\r\n&lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.10&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;copy&lt;/id&gt;\r\n                                &lt;phase&gt;process-test-classes&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;copy&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;artifactItems&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;compiler&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;compiler.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;compiler-management&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;compiler-management.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;truffle-api.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;graal-sdk.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                    &lt;/artifactItems&gt;\r\n                                    &lt;outputDirectory&gt;${compiler.dir}&lt;/outputDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;configuration&gt;\r\n                                    &lt;arguments&gt;\r\n                                        &lt;argument&gt;--module-path&lt;/argument&gt;\r\n                                        &lt;!-- automatically creates the modulepath using all project dependencies, also adding the project build directory --&gt;\r\n                                        &lt;modulepath/&gt;\r\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                                        &lt;!-- automatically creates the classpath using all project dependencies, also adding the project build directory --&gt;\r\n                                        &lt;classpath/&gt;\r\n                                        &lt;argument&gt;-XX:+UnlockExperimentalVMOptions&lt;/argument&gt;\r\n                                        &lt;argument&gt;-XX:+EnableJVMCI&lt;/argument&gt;\r\n                                        &lt;argument&gt;-XX:-UseJVMCICompiler&lt;/argument&gt;\r\n                                        &lt;argument&gt;--upgrade-module-path=${compiler.dir}/compiler.jar${path.separator}${compiler.dir}/compiler-management.jar&lt;/argument&gt;\r\n                                        &lt;argument&gt;org.benchmark.demo.Main&lt;/argument&gt;\r\n                                    &lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n```\r\n\r\n\r\nMy primary concerns are:\r\n\r\n1. If I enable the JIT compiler for Graal via JVMCI, will it exclusively enhance the performance of the ScriptEngine, or will it have broader implications on the entire application&#39;s execution?\r\n\r\n2. Is the Graal JIT compiler through JVMCI considered a top-tier choice within the JVM ecosystem?\r\n\r\nAdditionally, I would like to optimize the ScriptEngine&#39;s performance with Graal JIT without affecting other components of the application. Are there any strategies or suggestions for achieving this?","title":"JVMCI JIT Compiler (Graal Compiler)","body":"<p>I have a Spring application that utilizes JavaScript scripts through ScriptEngine (the engine provided by graalvm <a href=\"https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/js/ScriptEngine/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/js/ScriptEngine/</a>). I am considering enabling the Graal JIT compiler using JVMCI, but I'm unsure about how this would impact my application's performance and whether it would be used exclusively for ScriptEngine or influence the entire application.</p>\n<p>how I added the Graal JIT Compiler</p>\n<pre><code>&lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.10&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy&lt;/id&gt;\n                                &lt;phase&gt;process-test-classes&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;artifactItems&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\n                                            &lt;artifactId&gt;compiler&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;compiler.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\n                                            &lt;artifactId&gt;compiler-management&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;compiler-management.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\n                                            &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;truffle-api.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n                                            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;graal-sdk.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                    &lt;/artifactItems&gt;\n                                    &lt;outputDirectory&gt;${compiler.dir}&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n<pre><code>&lt;configuration&gt;\n                                    &lt;arguments&gt;\n                                        &lt;argument&gt;--module-path&lt;/argument&gt;\n                                        &lt;!-- automatically creates the modulepath using all project dependencies, also adding the project build directory --&gt;\n                                        &lt;modulepath/&gt;\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                                        &lt;!-- automatically creates the classpath using all project dependencies, also adding the project build directory --&gt;\n                                        &lt;classpath/&gt;\n                                        &lt;argument&gt;-XX:+UnlockExperimentalVMOptions&lt;/argument&gt;\n                                        &lt;argument&gt;-XX:+EnableJVMCI&lt;/argument&gt;\n                                        &lt;argument&gt;-XX:-UseJVMCICompiler&lt;/argument&gt;\n                                        &lt;argument&gt;--upgrade-module-path=${compiler.dir}/compiler.jar${path.separator}${compiler.dir}/compiler-management.jar&lt;/argument&gt;\n                                        &lt;argument&gt;org.benchmark.demo.Main&lt;/argument&gt;\n                                    &lt;/arguments&gt;\n                                &lt;/configuration&gt;\n</code></pre>\n<p>My primary concerns are:</p>\n<ol>\n<li><p>If I enable the JIT compiler for Graal via JVMCI, will it exclusively enhance the performance of the ScriptEngine, or will it have broader implications on the entire application's execution?</p>\n</li>\n<li><p>Is the Graal JIT compiler through JVMCI considered a top-tier choice within the JVM ecosystem?</p>\n</li>\n</ol>\n<p>Additionally, I would like to optimize the ScriptEngine's performance with Graal JIT without affecting other components of the application. Are there any strategies or suggestions for achieving this?</p>\n"},{"tags":["java","reactjs","maven","newrelic"],"owner":{"account_id":1334869,"reputation":1853,"user_id":1277860,"accept_rate":48,"display_name":"Kapil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694507906,"creation_date":1694487151,"question_id":77085813,"body_markdown":"We are using react js as front end and Java( maven) as backend.\r\nwe have included the new relic script in the index.html page which is not allowing the full response to load. Therefore the application is not loading.\r\n\r\nBelow is the screenshot where in the response is not fully loaded.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNew Relic script :\r\n [![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xeApB.png\r\n  [2]: https://i.stack.imgur.com/8PnUT.png","title":"Response is not fully loaded","body":"<p>We are using react js as front end and Java( maven) as backend.\nwe have included the new relic script in the index.html page which is not allowing the full response to load. Therefore the application is not loading.</p>\n<p>Below is the screenshot where in the response is not fully loaded.</p>\n<p><a href=\"https://i.stack.imgur.com/xeApB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeApB.png\" alt=\"enter image description here\" /></a></p>\n<p>New Relic script :\n<a href=\"https://i.stack.imgur.com/8PnUT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PnUT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","auth0"],"comments":[{"owner":{"account_id":6115102,"reputation":186,"user_id":4911621,"display_name":"ActivX"},"score":0,"creation_date":1607782832,"post_id":65255997,"comment_id":115383779,"body_markdown":"Could you provide more information about the issue?  I know, there aren&#39;t any issues to configure Auth0 in Spring Security","body":"Could you provide more information about the issue?  I know, there aren&#39;t any issues to configure Auth0 in Spring Security"},{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":1,"creation_date":1607799121,"post_id":65255997,"comment_id":115388509,"body_markdown":"It&#39;s quite simple to reproduce: Try to access a custom scope created for an API configured in Auth0, e.g. sth. like &quot;create:projects&quot;. Now try to use that scope via authorization code flow. It won&#39;t work as Auth0 requires an query parameter `&amp;audience=&lt;&lt;api_name&gt;&gt;` that Spring Security can&#39;t provide without having a `AuthorizationRequestCustomizer` patching the request. The issue is not that I&#39;m not able to configure Auth0, but I&#39;m not able to use custom scopes.","body":"It&#39;s quite simple to reproduce: Try to access a custom scope created for an API configured in Auth0, e.g. sth. like &quot;create:projects&quot;. Now try to use that scope via authorization code flow. It won&#39;t work as Auth0 requires an query parameter <code>&amp;audience=&lt;&lt;api_name&gt;&gt;</code> that Spring Security can&#39;t provide without having a <code>AuthorizationRequestCustomizer</code> patching the request. The issue is not that I&#39;m not able to configure Auth0, but I&#39;m not able to use custom scopes."}],"answers":[{"comments":[{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":2,"creation_date":1607948294,"post_id":65271066,"comment_id":115423440,"body_markdown":"Unluckily the is no easy way to just set the `AuthorizationRequestCustomizer` instead I  had to replace the whole `authorizationRequestResolver` by getting hold of a `ClientRegistrationRepository` and the autorization request base URI. With an parameterized  `DefaultOAuth2AuthorizationRequestResolver` using `authorizationRequestResolver.setAuthorizationRequestCustomizer(b -&gt; b.additionalParameters(Map.of(&quot;audience&quot;, &quot;http://localhost:8080/&quot;)));`","body":"Unluckily the is no easy way to just set the <code>AuthorizationRequestCustomizer</code> instead I  had to replace the whole <code>authorizationRequestResolver</code> by getting hold of a <code>ClientRegistrationRepository</code> and the autorization request base URI. With an parameterized  <code>DefaultOAuth2AuthorizationRequestResolver</code> using <code>authorizationRequestResolver.setAuthorizationRequestCustomiz&zwnj;&#8203;er(b -&gt; b.additionalParameters(Map.of(&quot;audience&quot;, &quot;http:&#47;&#47;localhost:8080&#47;&quot;)));</code>"}],"tags":[],"owner":{"account_id":6115102,"reputation":186,"user_id":4911621,"display_name":"ActivX"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1607816912,"creation_date":1607816912,"answer_id":65271066,"question_id":65255997,"body_markdown":"You can implement custom OAuth2AuthorizationRequestResolver and then add it to your spring security configuration\r\n\r\n    .oauth2Login(req-&gt;\r\n              req.authorizationEndpoint()\r\n             .authorizationRequestResolver(new YourCustomAuthorizationRequestResolver)\r\n     )\r\n\r\n","title":"How to set an AuthorizationRequestCustomizer on a DefaultOAuth2AuthorizationRequestResolver?","body":"<p>You can implement custom OAuth2AuthorizationRequestResolver and then add it to your spring security configuration</p>\n<pre><code>.oauth2Login(req-&gt;\n          req.authorizationEndpoint()\n         .authorizationRequestResolver(new YourCustomAuthorizationRequestResolver)\n )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8632149,"reputation":11,"user_id":6463447,"display_name":"Moary Chan"},"score":1,"creation_date":1694673966,"post_id":77087337,"comment_id":135922676,"body_markdown":"A better way is to redefine the redirect uri template, which includes the admin.context-path, such as redirect-uri-template: &quot;{baseUrl}${spring.boot.admin.context-path}/login/oauth2/code/&quot;, and also add the java configuration loginProcessingUrl(adminServerProperties.path(&quot;/login/oauth2/code/&quot;))","body":"A better way is to redefine the redirect uri template, which includes the admin.context-path, such as redirect-uri-template: &quot;{baseUrl}${spring.boot.admin.context-path}/login/oauth2/cod&zwnj;&#8203;e/&quot;, and also add the java configuration loginProcessingUrl(adminServerProperties.path(&quot;/login/oauth2&zwnj;&#8203;/code/&quot;))"}],"tags":[],"owner":{"account_id":8632149,"reputation":11,"user_id":6463447,"display_name":"Moary Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694507582,"creation_date":1694507582,"answer_id":77087337,"question_id":65255997,"body_markdown":"Below is my scenario:\r\nSpring Boot + Spring Boot Admin + Spring Security.\r\nWhen the property `spring.boot.admin.context-path` is configured, then the OAuth2 authorization code flow uses a wrong redirect uri, which does not include the `admin.context-path`.\r\n \r\nThe `org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#setAuthorizationRequestCustomizer` is not convenient to update redirect-uri \r\n via the builder, I also plan to rewrite the `DefaultOAuth2AuthorizationRequestResolver`, since I need to update the redirect uri generation logic. See below:\r\n`String redirectUriStr = expandRedirectUri(request, clientRegistration, redirectUriAction);`","title":"How to set an AuthorizationRequestCustomizer on a DefaultOAuth2AuthorizationRequestResolver?","body":"<p>Below is my scenario:\nSpring Boot + Spring Boot Admin + Spring Security.\nWhen the property <code>spring.boot.admin.context-path</code> is configured, then the OAuth2 authorization code flow uses a wrong redirect uri, which does not include the <code>admin.context-path</code>.</p>\n<p>The <code>org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#setAuthorizationRequestCustomizer</code> is not convenient to update redirect-uri\nvia the builder, I also plan to rewrite the <code>DefaultOAuth2AuthorizationRequestResolver</code>, since I need to update the redirect uri generation logic. See below:\n<code>String redirectUriStr = expandRedirectUri(request, clientRegistration, redirectUriAction);</code></p>\n"}],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65271066,"answer_count":2,"score":3,"last_activity_date":1694507582,"creation_date":1607707869,"question_id":65255997,"body_markdown":"While trying to get **Spring Security OAuth2 5.4.2** to work with custom scopes and **Auth0** in **authorization code flow**. I stumbled  over a small detail which I have no simple solution for.\r\n\r\nTo request custom scopes Auth0 requires a user to provide an **`audience` [parameter][1]**. The redirect URI is created in `org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#resolve(javax.servlet.http.HttpServletRequest, java.lang.String, java.lang.String)`.\r\n\r\nThis process can be amended by using a `AuthorizationRequestCustomizer`, however I do not see any means to inject a customizer and the `DefaultOAuth2AuthorizationRequestResolver` is not registered as a bean or at least I do not grasp how it is accessible.\r\n\r\n  [1]: https://auth0.com/docs/scopes/sample-use-cases-scopes-and-claims#authenticate-a-user-and-request-standard-claims-and-custom-api-access","title":"How to set an AuthorizationRequestCustomizer on a DefaultOAuth2AuthorizationRequestResolver?","body":"<p>While trying to get <strong>Spring Security OAuth2 5.4.2</strong> to work with custom scopes and <strong>Auth0</strong> in <strong>authorization code flow</strong>. I stumbled  over a small detail which I have no simple solution for.</p>\n<p>To request custom scopes Auth0 requires a user to provide an <strong><code>audience</code> <a href=\"https://auth0.com/docs/scopes/sample-use-cases-scopes-and-claims#authenticate-a-user-and-request-standard-claims-and-custom-api-access\" rel=\"nofollow noreferrer\">parameter</a></strong>. The redirect URI is created in <code>org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#resolve(javax.servlet.http.HttpServletRequest, java.lang.String, java.lang.String)</code>.</p>\n<p>This process can be amended by using a <code>AuthorizationRequestCustomizer</code>, however I do not see any means to inject a customizer and the <code>DefaultOAuth2AuthorizationRequestResolver</code> is not registered as a bean or at least I do not grasp how it is accessible.</p>\n"},{"tags":["java","postgresql","amazon-rds-proxy"],"owner":{"account_id":989210,"reputation":5391,"user_id":1006944,"accept_rate":74,"display_name":"Selvakumar Ponnusamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694507230,"creation_date":1694506561,"question_id":77087214,"body_markdown":"We are using RDS proxy for postgres.\r\n\r\nWe randomly get `The connection attempt failed. - code:0` error, but not all the time.\r\n\r\nThe application uses `PGSimpleDataSource`  which doesn&#39;t have any connection pool since RDS Proxy handles the connection pool.\r\n\r\nShould we use some other Datasource ?","title":"Getting The connection attempt failed. - code:0 from RDS Proxy","body":"<p>We are using RDS proxy for postgres.</p>\n<p>We randomly get <code>The connection attempt failed. - code:0</code> error, but not all the time.</p>\n<p>The application uses <code>PGSimpleDataSource</code>  which doesn't have any connection pool since RDS Proxy handles the connection pool.</p>\n<p>Should we use some other Datasource ?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1608968472,"post_id":65454203,"comment_id":115720261,"body_markdown":"*Just* for starters, if your method is a pure function, *why* don&#39;t you want it to be static?","body":"<i>Just</i> for starters, if your method is a pure function, <i>why</i> don&#39;t you want it to be static?"}],"answers":[{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694506610,"creation_date":1608973504,"answer_id":65454908,"question_id":65454203,"body_markdown":"Your application startup is failing because of `@Bean` method, spring is unable to find the value `n` to create the bean. You need to remove the Bean method and call the CommonUtils method directly:\r\n\r\n    &lt;p th:text=&quot;${@commonUtils.ConvertSecToHHMM(500)}&quot;&gt;&lt;/p&gt;","title":"How to call methods from a Thymeleaf template in Spring Boot?","body":"<p>Your application startup is failing because of <code>@Bean</code> method, spring is unable to find the value <code>n</code> to create the bean. You need to remove the Bean method and call the CommonUtils method directly:</p>\n<pre><code>&lt;p th:text=&quot;${@commonUtils.ConvertSecToHHMM(500)}&quot;&gt;&lt;/p&gt;\n</code></pre>\n"}],"owner":{"account_id":16315885,"reputation":53,"user_id":14765755,"display_name":"user14765755"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1609082883,"accepted_answer_id":65454908,"answer_count":1,"score":1,"last_activity_date":1694506610,"creation_date":1608965493,"question_id":65454203,"body_markdown":"I have created a method in class CommonUtils which I am trying to call in Thymeleaf, but it throws error \r\n\r\n&gt; EL1004E: Method call: Method ConvertSecToHHMM(java.lang.Integer)\r\n&gt; cannot be found on type com.exm.util.CommonUtils\r\n\r\n```\r\n@Component\r\npublic class CommonUtils {\r\n\r\n    // function convert second into hours and minutes.\r\n    public  String ConvertSecToHHMM(int n) {\r\n        n = n % (24 * 3600);\r\n        int hour = n / 3600;\r\n\r\n        n %= 3600;\r\n        int minutes = n / 60 ;\r\n\r\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\r\n        return finalTime;\r\n    }\r\n}\r\n```\r\nIn Thymeleaf I wrote this\r\n```\r\n&lt;td th:text=&quot;${T(com.exm.util.CommonUtils).ConvertSecToHHMM(recentActivities.timeSpent)}&quot;&gt;&lt;/td&gt;\r\n```\r\n\r\nwhen I make the method ConvertSecToHHMM(int n) static it works fine. **But I don&#39;t want to make that method static**.\r\n\r\nSo I tried another approach using bean injection; it also doesn&#39;t work for me:\r\n```\r\n@Configuration\r\npublic class MyConfigurations {\r\n    @Bean\r\n    public static String ConvertSecToHHMM(int n) {\r\n        n = n % (24 * 3600);\r\n        int hour = n / 3600;\r\n\r\n        n %= 3600;\r\n        int minutes = n / 60 ;\r\n\r\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\r\n        return finalTime;\r\n    }\r\n\r\n}\r\n```\r\nI get this error\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method ConvertSecToHHMM in com.exm.configurations.MyConfigurations required a bean of type &#39;int&#39; that could not be found.\r\n```\r\n\r\nIs there any way I can create my util methods in a separate class and I can call them from Thymeleaf whenever I want?","title":"How to call methods from a Thymeleaf template in Spring Boot?","body":"<p>I have created a method in class CommonUtils which I am trying to call in Thymeleaf, but it throws error</p>\n<blockquote>\n<p>EL1004E: Method call: Method ConvertSecToHHMM(java.lang.Integer)\ncannot be found on type com.exm.util.CommonUtils</p>\n</blockquote>\n<pre><code>@Component\npublic class CommonUtils {\n\n    // function convert second into hours and minutes.\n    public  String ConvertSecToHHMM(int n) {\n        n = n % (24 * 3600);\n        int hour = n / 3600;\n\n        n %= 3600;\n        int minutes = n / 60 ;\n\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\n        return finalTime;\n    }\n}\n</code></pre>\n<p>In Thymeleaf I wrote this</p>\n<pre><code>&lt;td th:text=&quot;${T(com.exm.util.CommonUtils).ConvertSecToHHMM(recentActivities.timeSpent)}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>when I make the method ConvertSecToHHMM(int n) static it works fine. <strong>But I don't want to make that method static</strong>.</p>\n<p>So I tried another approach using bean injection; it also doesn't work for me:</p>\n<pre><code>@Configuration\npublic class MyConfigurations {\n    @Bean\n    public static String ConvertSecToHHMM(int n) {\n        n = n % (24 * 3600);\n        int hour = n / 3600;\n\n        n %= 3600;\n        int minutes = n / 60 ;\n\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\n        return finalTime;\n    }\n\n}\n</code></pre>\n<p>I get this error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method ConvertSecToHHMM in com.exm.configurations.MyConfigurations required a bean of type 'int' that could not be found.\n</code></pre>\n<p>Is there any way I can create my util methods in a separate class and I can call them from Thymeleaf whenever I want?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1608033399,"post_id":65305306,"comment_id":115452568,"body_markdown":"common_google_signin_btn_text_dark_normal_background.9.png what is this error coming from here","body":"common_google_signin_btn_text_dark_normal_background.9.png what is this error coming from here"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608033582,"post_id":65305306,"comment_id":115452657,"body_markdown":"i m beginner so i don&#39;t have knowledge about it but the error while showed by android studio i copy pasted it so above is what android studio showed me","body":"i m beginner so i don&#39;t have knowledge about it but the error while showed by android studio i copy pasted it so above is what android studio showed me"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1608033747,"post_id":65305306,"comment_id":115452752,"body_markdown":"Check your drawable folder and for this or paste a github link or drive link where we can see your code and try to resolve","body":"Check your drawable folder and for this or paste a github link or drive link where we can see your code and try to resolve"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608034539,"post_id":65305306,"comment_id":115453105,"body_markdown":"https://drive.google.com/drive/folders/16rb9JuuNHGNhSN4A-ewNYA-POt7qJIx3?usp=sharing","body":"<a href=\"https://drive.google.com/drive/folders/16rb9JuuNHGNhSN4A-ewNYA-POt7qJIx3?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608034938,"post_id":65305306,"comment_id":115453297,"body_markdown":"just create a authentication page","body":"just create a authentication page"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608035334,"post_id":65305306,"comment_id":115453474,"body_markdown":"It also showing same while building apk","body":"It also showing same while building apk"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1608035376,"post_id":65305306,"comment_id":115453500,"body_markdown":"I am checking wait please","body":"I am checking wait please"},{"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"   - Atef Farouk"},"score":0,"creation_date":1694504725,"post_id":65305306,"comment_id":135895755,"body_markdown":"did you find a solution?","body":"did you find a solution?"}],"answers":[{"comments":[{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608037496,"post_id":65306128,"comment_id":115454549,"body_markdown":"no it is showing error while building  the project","body":"no it is showing error while building  the project"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608037630,"post_id":65306128,"comment_id":115454618,"body_markdown":".Execution failed for task &#39;:app:processDebugResources&#39;.\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.","body":".Execution failed for task &#39;:app:processDebugResources&#39;. &gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.    &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.       &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27e&zwnj;&#8203;fcac738b4f280b9ad0c0&zwnj;&#8203;7bda7\\jetified-play-&zwnj;&#8203;services-base-17.1.0&zwnj;&#8203;."},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608037675,"post_id":65306128,"comment_id":115454652,"body_markdown":"&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39; timed out, attempting to stop daemon.","body":"&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27&zwnj;&#8203;efcac738b4f280b9ad0c&zwnj;&#8203;07bda7\\jetified-play&zwnj;&#8203;-services-base-17.1.&zwnj;&#8203;0\\res\\drawable-xhdpi&zwnj;&#8203;-v4\\common_google_si&zwnj;&#8203;gnin_btn_text_dark_n&zwnj;&#8203;ormal_background.9.p&zwnj;&#8203;ng&#39; timed out, attempting to stop daemon."},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608037684,"post_id":65306128,"comment_id":115454655,"body_markdown":"This should not happen under normal circumstances, please file an issue if it does.\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.","body":"This should not happen under normal circumstances, please file an issue if it does.    &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.       &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27e&zwnj;&#8203;fcac738b4f280b9ad0c0&zwnj;&#8203;7bda7\\jetified-play-&zwnj;&#8203;services-base-17.1.0&zwnj;&#8203;."},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608037752,"post_id":65306128,"comment_id":115454683,"body_markdown":"it shows the Aapt2 stopped working check online solution and close and close program","body":"it shows the Aapt2 stopped working check online solution and close and close program"}],"tags":[],"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608036404,"creation_date":1608036404,"answer_id":65306128,"question_id":65305306,"body_markdown":"Okay paste this in your manifest file and check you call the theme out of Application \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.codewithabhy.howsapp&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            tools:ignore=&quot;ExtraText&quot;\r\n            android:theme=&quot;@style/Theme.HowsApp&quot;&gt;\r\n            &lt;activity android:name=&quot;.OTPActivity&quot;&gt;&lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.PhoneNumberActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>Okay paste this in your manifest file and check you call the theme out of Application</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.codewithabhy.howsapp&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;ExtraText&quot;\n        android:theme=&quot;@style/Theme.HowsApp&quot;&gt;\n        &lt;activity android:name=&quot;.OTPActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.PhoneNumberActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608139896,"post_id":65325425,"comment_id":115493740,"body_markdown":"But I am working  on windows 7 will it work","body":"But I am working  on windows 7 will it work"},{"owner":{"account_id":12129198,"reputation":7471,"user_id":8856784,"display_name":"Izabela Orlowska"},"score":0,"creation_date":1608217770,"post_id":65325425,"comment_id":115520688,"body_markdown":"I think so, there are available on https://support.microsoft.com/en-gb/help/2999226/update-for-universal-c-runtime-in-windows","body":"I think so, there are available on <a href=\"https://support.microsoft.com/en-gb/help/2999226/update-for-universal-c-runtime-in-windows\" rel=\"nofollow noreferrer\">support.microsoft.com/en-gb/help/2999226/&hellip;</a>"}],"tags":[],"owner":{"account_id":12129198,"reputation":7471,"user_id":8856784,"display_name":"Izabela Orlowska"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608129635,"creation_date":1608129635,"answer_id":65325425,"question_id":65305306,"body_markdown":"This is due to the newer AAPT2 version (which comes with newer AGP) having a dependency on up-to-date Windows universal C runtime libraries. If you don&#39;t have them yet, download from Microsoft&#39;s website, if you already do - see if there&#39;s an update available (even if you have to do it manually). Microsoft is doing a gradual roll-out of the updates, but sometimes they take longer for certain systems/architectures.","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>This is due to the newer AAPT2 version (which comes with newer AGP) having a dependency on up-to-date Windows universal C runtime libraries. If you don't have them yet, download from Microsoft's website, if you already do - see if there's an update available (even if you have to do it manually). Microsoft is doing a gradual roll-out of the updates, but sometimes they take longer for certain systems/architectures.</p>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"   - Atef Farouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694506478,"creation_date":1694506478,"answer_id":77087206,"question_id":65305306,"body_markdown":"I managed to solve the problem by changing below lines in `gradle` file project level\r\n\r\n    //       classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n\r\nto\r\n\r\n    classpath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n\r\n\r\n\r\nand from :\r\n\r\n    kotlin_version = &#39;1.5.0&#39;\r\n\r\nto `kotlin_version = &#39;1.7.10&#39;`","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>I managed to solve the problem by changing below lines in <code>gradle</code> file project level</p>\n<pre><code>//       classpath 'com.android.tools.build:gradle:4.1.3'\n</code></pre>\n<p>to</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.2.1'\n</code></pre>\n<p>and from :</p>\n<pre><code>kotlin_version = '1.5.0'\n</code></pre>\n<p>to <code>kotlin_version = '1.7.10'</code></p>\n"}],"owner":{"display_name":"user14772790"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694506478,"creation_date":1608033140,"question_id":65305306,"body_markdown":"I had Started building an app in android studio 4.0 on windows 7 64 bit .In that it doesn&#39;t show any error while writing code but when i start debugging the app in my real device it shows error that Aapt2.exe stopped working.can anyone guide to solve this problem?\r\n\r\n**Errors**\r\n\r\nExecution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n\r\n\r\n\r\n**And second error**\r\n\r\nAAPT2 process unexpectedly exit. Error output:\r\n\r\n[image of Aapt2 window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8FPBc.png\r\n\r\n\r\ncan anyone help?","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>I had Started building an app in android studio 4.0 on windows 7 64 bit .In that it doesn't show any error while writing code but when i start debugging the app in my real device it shows error that Aapt2.exe stopped working.can anyone guide to solve this problem?</p>\n<p><strong>Errors</strong></p>\n<p>Execution failed for task ':app:processDebugResources'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.</p>\n</blockquote>\n<p><strong>And second error</strong></p>\n<p>AAPT2 process unexpectedly exit. Error output:</p>\n<p><a href=\"https://i.stack.imgur.com/8FPBc.png\" rel=\"nofollow noreferrer\">image of Aapt2 window</a></p>\n<p>can anyone help?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694506356,"post_id":77087171,"comment_id":135896023,"body_markdown":"So your code is catching and logging the exception, and you&#39;re seeing that in your logs. What&#39;s the question?","body":"So your code is catching and logging the exception, and you&#39;re seeing that in your logs. What&#39;s the question?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1694509168,"post_id":77087171,"comment_id":135896534,"body_markdown":"Your filter isn&#39;t the only one that is being executed so each filter will show that method (at least the once that extend `OncePerRequestFilter`).","body":"Your filter isn&#39;t the only one that is being executed so each filter will show that method (at least the once that extend <code>OncePerRequestFilter</code>)."},{"owner":{"account_id":9683487,"reputation":11,"user_id":7184213,"display_name":"Trnh Quang Minh"},"score":0,"creation_date":1694511470,"post_id":77087171,"comment_id":135897041,"body_markdown":"@Jorn I dont know why it so much executed in that logs.\norg.springframework.web.filter.OncePerRequestFilter.doFilter is writing like 4 times.","body":"@Jorn I dont know why it so much executed in that logs. org.springframework.web.filter.OncePerRequestFilter.doFilter is writing like 4 times."}],"owner":{"account_id":9683487,"reputation":11,"user_id":7184213,"display_name":"Trnh Quang Minh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694506151,"creation_date":1694506151,"question_id":77087171,"body_markdown":"I am using @Around to write log. like this:\r\n\r\n\r\n```\r\n @Around(&quot;adminController()&quot;)\r\n    public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        String uuid = UUID.randomUUID().toString();\r\n        request.setAttribute(&quot;uuid&quot;, uuid);\r\n        String api = request.getRequestURI();\r\n        String ipAddress = request.getRemoteAddr();\r\n        if (&quot;GET&quot;.equals(request.getMethod())) {\r\n            return joinPoint.proceed();\r\n        }\r\n\r\n```\r\n\r\nAnd I override fuction doFilterInternal. like this:\r\n\r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n        // Get authorization header and validate\r\n        var token = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n        if (token == null || !token.startsWith(BEARER_PREFIX)) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n        token = token.substring(BEARER_PREFIX.length());\r\n\r\n        var authResult = this.authUseCase.authenticateToken(token);\r\n        if (authResult.isEmpty()) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n```\r\n\r\n\r\nand when I had exception, it write throwable like this:\r\n\r\n\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.vietlott.domain.sms.service.LoadSMSContentService.readSMS(LoadSMSContentService.java:63) ~[vietlott.admin-web-domain-0.1.0.jar:0.1.0]\r\n\tat com.vietlott.admin.controller.sms.SMSManagementController.readSMS(SMSManagementController.java:67) ~[classes/:na]\r\n\tat com.vietlott.admin.controller.sms.SMSManagementController$$FastClassBySpringCGLIB$$1a735b6c.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat com.vietlott.admin.aspect.LoggingAspect.logAround(LoggingAspect.java:118) ~[classes/:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.6.2.jar:5.6.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat com.vietlott.admin.controller.sms.SMSManagementController$$EnhancerBySpringCGLIB$$7df6d6c3.readSMS(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat com.vietlott.admin.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:69) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.4.jar:2.6.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```\r\n\r\nYou see: it have a lot of doFilterInternal throwing, and I am wondering if that&#39;s normal, or my code is violate singleton code java or something wrong about throwing exception of my application.\r\n\r\nAny Java Master can help me with this?\r\n\r\n\r\n\r\nIn my code, my Controller already catch this exception.!\r\n\r\n```\r\n@Operation(description = &quot;Xem ni dung tin nhn SMS&quot;)\r\n    @PostMapping(&quot;readSMS&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;smsManagement:readSMS&#39;)&quot;)\r\n    public GetSMSContentResponse readSMS(@Valid @RequestBody GetSMSContentRequest request) {\r\n        try {\r\n            return new GetSMSContentResponse(this.smsContentUseCase.readSMS(request.getSmsId()));\r\n        } catch (BadRequestException e) {\r\n            log.error(&quot;readSMS BadRequestException: &quot;, e);\r\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\r\n        } catch (Exception e) {\r\n            log.error(&quot;readSMS Exception: &quot;, e);\r\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\r\n        }\r\n    }\r\n```\r\n","title":"Duplicate doFilter on throwable in Java Spring Boot","body":"<p>I am using @Around to write log. like this:</p>\n<pre><code> @Around(&quot;adminController()&quot;)\n    public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {\n        String uuid = UUID.randomUUID().toString();\n        request.setAttribute(&quot;uuid&quot;, uuid);\n        String api = request.getRequestURI();\n        String ipAddress = request.getRemoteAddr();\n        if (&quot;GET&quot;.equals(request.getMethod())) {\n            return joinPoint.proceed();\n        }\n\n</code></pre>\n<p>And I override fuction doFilterInternal. like this:</p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\n        // Get authorization header and validate\n        var token = request.getHeader(HttpHeaders.AUTHORIZATION);\n        if (token == null || !token.startsWith(BEARER_PREFIX)) {\n            chain.doFilter(request, response);\n            return;\n        }\n        token = token.substring(BEARER_PREFIX.length());\n\n        var authResult = this.authUseCase.authenticateToken(token);\n        if (authResult.isEmpty()) {\n            chain.doFilter(request, response);\n            return;\n        }\n</code></pre>\n<p>and when I had exception, it write throwable like this:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.vietlott.domain.sms.service.LoadSMSContentService.readSMS(LoadSMSContentService.java:63) ~[vietlott.admin-web-domain-0.1.0.jar:0.1.0]\n    at com.vietlott.admin.controller.sms.SMSManagementController.readSMS(SMSManagementController.java:67) ~[classes/:na]\n    at com.vietlott.admin.controller.sms.SMSManagementController$$FastClassBySpringCGLIB$$1a735b6c.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-5.3.16.jar:5.3.16]\n    at com.vietlott.admin.aspect.LoggingAspect.logAround(LoggingAspect.java:118) ~[classes/:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.6.2.jar:5.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.16.jar:5.3.16]\n    at com.vietlott.admin.controller.sms.SMSManagementController$$EnhancerBySpringCGLIB$$7df6d6c3.readSMS(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at com.vietlott.admin.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:69) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.4.jar:2.6.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>You see: it have a lot of doFilterInternal throwing, and I am wondering if that's normal, or my code is violate singleton code java or something wrong about throwing exception of my application.</p>\n<p>Any Java Master can help me with this?</p>\n<p>In my code, my Controller already catch this exception.!</p>\n<pre><code>@Operation(description = &quot;Xem ni dung tin nhn SMS&quot;)\n    @PostMapping(&quot;readSMS&quot;)\n    @PreAuthorize(&quot;hasAuthority('smsManagement:readSMS')&quot;)\n    public GetSMSContentResponse readSMS(@Valid @RequestBody GetSMSContentRequest request) {\n        try {\n            return new GetSMSContentResponse(this.smsContentUseCase.readSMS(request.getSmsId()));\n        } catch (BadRequestException e) {\n            log.error(&quot;readSMS BadRequestException: &quot;, e);\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\n        } catch (Exception e) {\n            log.error(&quot;readSMS Exception: &quot;, e);\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1654032246,"post_id":72444114,"comment_id":127994760,"body_markdown":"You can try using a [WorkManager](https://developer.android.com/topic/libraries/architecture/workmanager).","body":"You can try using a <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">WorkManager</a>."},{"owner":{"account_id":24090454,"reputation":11,"user_id":18063792,"display_name":"Ibrahim Shabbir"},"score":0,"creation_date":1654325472,"post_id":72444114,"comment_id":128068619,"body_markdown":"I don&#39;t know about android studio much can you modify my code","body":"I don&#39;t know about android studio much can you modify my code"}],"answers":[{"tags":[],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505495,"creation_date":1694505495,"answer_id":77087091,"question_id":72444114,"body_markdown":"For Android 10+ you have to ask for another location permission - background location (see Google documentation [here][1]). Apart from that check if the application is battery optimized - this might prevent background location too. And yet another thing is manufacturer specific optimization. Please check if phone is optimized. If so, it is very likely this prevent background location too.\r\n\r\n\r\n  [1]: https://developer.android.com/training/location/background","title":"Android, get the location update when the screen is off","body":"<p>For Android 10+ you have to ask for another location permission - background location (see Google documentation <a href=\"https://developer.android.com/training/location/background\" rel=\"nofollow noreferrer\">here</a>). Apart from that check if the application is battery optimized - this might prevent background location too. And yet another thing is manufacturer specific optimization. Please check if phone is optimized. If so, it is very likely this prevent background location too.</p>\n"}],"owner":{"account_id":24090454,"reputation":11,"user_id":18063792,"display_name":"Ibrahim Shabbir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694505495,"creation_date":1653983945,"question_id":72444114,"body_markdown":"I use a started service with the fused api, and implement the location listener directly on it. The Location keeps updating even when the screen is locked, But it stops if the screen goes off.\r\n\r\nSo, is there any way to make sure that the location will keep updating when the screen is off?\r\n\r\nI read a lot of other questions and I don&#39;t really know what i&#39;m missing.\r\n\r\n\r\n        package com.trickyworld.locationupdates;\r\n    \r\n    import android.Manifest;\r\n    import android.app.Notification;\r\n    import android.app.NotificationChannel;\r\n    import android.app.NotificationManager;\r\n    import android.app.Service;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.graphics.Color;\r\n    import android.location.Location;\r\n    import android.os.Build;\r\n    import android.os.IBinder;\r\n    import android.os.Looper;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.app.NotificationCompat;\r\n    \r\n    \r\n    import com.google.android.gms.location.FusedLocationProviderClient;\r\n    import com.google.android.gms.location.LocationCallback;\r\n    import com.google.android.gms.location.LocationRequest;\r\n    import com.google.android.gms.location.LocationResult;\r\n    import com.google.android.gms.location.LocationServices;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    \r\n    import java.io.Console;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class LocationService extends Service {\r\n    \r\n    \r\n       public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\r\n    \r\n        FusedLocationProviderClient fusedLocationClient;\r\n        LocationRequest locationRequest;\r\n        LocationCallback locationCallback;\r\n    \r\n        private void startLocationUpdates() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper());\r\n        }\r\n    \r\n        protected void createLocationRequest() {\r\n            LocationRequest locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(3000);\r\n            locationRequest.setFastestInterval(5000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            new Notification();\r\n    \r\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) createNotificationChanel() ;\r\n            else startForeground(\r\n                    1,\r\n                    new Notification()\r\n            );\r\n    \r\n            locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(2000);\r\n            locationRequest.setFastestInterval(2000);\r\n            locationRequest.setMaxWaitTime(2000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n    \r\n            locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                    Location location =  locationResult.getLastLocation();\r\n                    //Toast.makeText(getApplicationContext(),\r\n                      //    &quot;Lat: &quot;+Double.toString(location.getLatitude()) + &#39;\\n&#39; +\r\n                        //    &quot;Long: &quot; + Double.toString(location.getLongitude()), Toast.LENGTH_LONG).show();\r\n    \r\n                    Log.d(&quot;Mesage&quot;,&quot;Lat: &quot;+Double.toString(location.getLatitude()) + &#39;\\n&#39; +\r\n                            &quot;Long: &quot; + Double.toString(location.getLongitude()));\r\n    \r\n    \r\n    \r\n                    //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\r\n    \r\n                   /* for (Location location : locationResult.getLocations()) {\r\n                      location\r\n                    }*/\r\n                }\r\n            };\r\n            startLocationUpdates();\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        private void createNotificationChanel() {\r\n            String notificationChannelId = &quot;Location channel id&quot;;\r\n            String channelName = &quot;Background Service&quot;;\r\n    \r\n            NotificationChannel chan = new NotificationChannel(\r\n                    notificationChannelId,\r\n                    channelName,\r\n                    NotificationManager.IMPORTANCE_NONE\r\n            );\r\n            chan.setLightColor(Color.BLUE);\r\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n    \r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n    \r\n            manager.createNotificationChannel(chan);\r\n    \r\n            NotificationCompat.Builder notificationBuilder =\r\n                   new NotificationCompat.Builder(this, notificationChannelId);\r\n    \r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setContentTitle(&quot;Location updates:&quot;)\r\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                    .setCategory(Notification.CATEGORY_SERVICE)\r\n                    .build();\r\n            startForeground(2, notification);\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            super.onStartCommand(intent, flags, startId);\r\n            return START_REDELIVER_INTENT;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            fusedLocationClient.removeLocationUpdates(locationCallback);\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Android, get the location update when the screen is off","body":"<p>I use a started service with the fused api, and implement the location listener directly on it. The Location keeps updating even when the screen is locked, But it stops if the screen goes off.</p>\n<p>So, is there any way to make sure that the location will keep updating when the screen is off?</p>\n<p>I read a lot of other questions and I don't really know what i'm missing.</p>\n<pre><code>    package com.trickyworld.locationupdates;\n\nimport android.Manifest;\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.location.Location;\nimport android.os.Build;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.app.NotificationCompat;\n\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.model.LatLng;\n\nimport java.io.Console;\nimport java.util.ArrayList;\n\n\npublic class LocationService extends Service {\n\n\n   public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\n\n    FusedLocationProviderClient fusedLocationClient;\n    LocationRequest locationRequest;\n    LocationCallback locationCallback;\n\n    private void startLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        fusedLocationClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n    }\n\n    protected void createLocationRequest() {\n        LocationRequest locationRequest = LocationRequest.create();\n        locationRequest.setInterval(3000);\n        locationRequest.setFastestInterval(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        new Notification();\n\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) createNotificationChanel() ;\n        else startForeground(\n                1,\n                new Notification()\n        );\n\n        locationRequest = LocationRequest.create();\n        locationRequest.setInterval(2000);\n        locationRequest.setFastestInterval(2000);\n        locationRequest.setMaxWaitTime(2000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                Location location =  locationResult.getLastLocation();\n                //Toast.makeText(getApplicationContext(),\n                  //    &quot;Lat: &quot;+Double.toString(location.getLatitude()) + '\\n' +\n                    //    &quot;Long: &quot; + Double.toString(location.getLongitude()), Toast.LENGTH_LONG).show();\n\n                Log.d(&quot;Mesage&quot;,&quot;Lat: &quot;+Double.toString(location.getLatitude()) + '\\n' +\n                        &quot;Long: &quot; + Double.toString(location.getLongitude()));\n\n\n\n                //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\n\n               /* for (Location location : locationResult.getLocations()) {\n                  location\n                }*/\n            }\n        };\n        startLocationUpdates();\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    private void createNotificationChanel() {\n        String notificationChannelId = &quot;Location channel id&quot;;\n        String channelName = &quot;Background Service&quot;;\n\n        NotificationChannel chan = new NotificationChannel(\n                notificationChannelId,\n                channelName,\n                NotificationManager.IMPORTANCE_NONE\n        );\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n\n        NotificationManager manager = getSystemService(NotificationManager.class);\n\n        manager.createNotificationChannel(chan);\n\n        NotificationCompat.Builder notificationBuilder =\n               new NotificationCompat.Builder(this, notificationChannelId);\n\n        Notification notification = notificationBuilder.setOngoing(true)\n                .setContentTitle(&quot;Location updates:&quot;)\n                .setPriority(NotificationManager.IMPORTANCE_MIN)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .build();\n        startForeground(2, notification);\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        super.onStartCommand(intent, flags, startId);\n        return START_REDELIVER_INTENT;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        fusedLocationClient.removeLocationUpdates(locationCallback);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dialog"],"answers":[{"comments":[{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1694506471,"post_id":77086946,"comment_id":135896048,"body_markdown":"Thanks @Sarmad Ali , your suggest was helpful , with the little exception to dismiss dialog and re-enable button only when I know if the state is really played because I change the button image to stop and viceversa.. Even I tried to use Thread but just I had to encapsulate the play code , not the `showProgress()` itself... Thanks again","body":"Thanks @Sarmad Ali , your suggest was helpful , with the little exception to dismiss dialog and re-enable button only when I know if the state is really played because I change the button image to stop and viceversa.. Even I tried to use Thread but just I had to encapsulate the play code , not the <code>showProgress()</code> itself... Thanks again"}],"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694504258,"creation_date":1694504258,"answer_id":77086946,"question_id":77086883,"body_markdown":"Try this:  \r\n\r\n \r\n\r\n     ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\r\n        buttonPlay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Disable the button to prevent multiple clicks\r\n                buttonPlay.setEnabled(false);\r\n        \r\n                // Show the progress dialog immediately\r\n                dialog = AppUtil.showProgress(adapterActivity);\r\n        \r\n                // Start a background thread for audio playback\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        // Play streaming on the background thread\r\n                        SingleAudio sd = getItem(position);\r\n                        if (sd != null) {\r\n                            sd.playerInstance.setDialog(dialog);\r\n        \r\n                            if (sd.playerInstance.inPlay()) {\r\n                                sd.playerInstance.stop();\r\n                            } else {\r\n                                sd.playerInstance.play();\r\n                            }\r\n                        }\r\n        \r\n                        // Dismiss the progress dialog on the main UI thread\r\n                        adapterActivity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                dialog.dismiss();\r\n                                // Re-enable the button when the operation is finished\r\n                                buttonPlay.setEnabled(true);\r\n                            }\r\n                        });\r\n                    }\r\n                }).start();\r\n            }\r\n        });\r\n\r\n","title":"How to show immediately ProgressBar dialog in Java?","body":"<p>Try this:</p>\n<pre><code> ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\n    buttonPlay.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // Disable the button to prevent multiple clicks\n            buttonPlay.setEnabled(false);\n    \n            // Show the progress dialog immediately\n            dialog = AppUtil.showProgress(adapterActivity);\n    \n            // Start a background thread for audio playback\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    // Play streaming on the background thread\n                    SingleAudio sd = getItem(position);\n                    if (sd != null) {\n                        sd.playerInstance.setDialog(dialog);\n    \n                        if (sd.playerInstance.inPlay()) {\n                            sd.playerInstance.stop();\n                        } else {\n                            sd.playerInstance.play();\n                        }\n                    }\n    \n                    // Dismiss the progress dialog on the main UI thread\n                    adapterActivity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            dialog.dismiss();\n                            // Re-enable the button when the operation is finished\n                            buttonPlay.setEnabled(true);\n                        }\n                    });\n                }\n            }).start();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12497205,"reputation":11,"user_id":9096787,"display_name":"EEGLRT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505460,"creation_date":1694505460,"answer_id":77087087,"question_id":77086883,"body_markdown":"You cannot.\r\n\r\nYou just register the dialog into the WindowManager when you invoke the `dialog.show()` method. It&#39;s up to Android System to show the  dialog content (later).\r\n\r\nI recommend to use a LiveData to observe the player state and toggle the dialog in the observer.\r\n\r\nIt&#39;s recommended to use DialogFragment rather than Dialog.\r\n\r\n ","title":"How to show immediately ProgressBar dialog in Java?","body":"<p>You cannot.</p>\n<p>You just register the dialog into the WindowManager when you invoke the <code>dialog.show()</code> method. It's up to Android System to show the  dialog content (later).</p>\n<p>I recommend to use a LiveData to observe the player state and toggle the dialog in the observer.</p>\n<p>It's recommended to use DialogFragment rather than Dialog.</p>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77086946,"answer_count":2,"score":1,"last_activity_date":1694505460,"creation_date":1694503617,"question_id":77086883,"body_markdown":"I created a progressbar dialog in a separate java file:\r\n\r\n    public class AppUtil {\r\n        // progress bar handling\r\n        public static Dialog showProgress(Activity activity) {\r\n            Dialog dialog = new Dialog(activity);\r\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            dialog.getWindow().setBackgroundDrawable(\r\n                    new ColorDrawable(0));\r\n            dialog.setContentView(R.layout.dialog_progress);\r\n            ProgressBar progressBar = dialog.findViewById(R.id.progressBar);\r\n            progressBar.getIndeterminateDrawable().setColorFilter(activity.getResources().getColor(R.color.fore_color), PorterDuff.Mode.MULTIPLY);\r\n            dialog.setCancelable(false);\r\n            dialog.show();\r\n            return dialog;\r\n        }\r\n    }\r\n\r\nand it has its own `RelativeLayout` xml resource layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/rl_progress&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar&quot;\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nbut if I call it in a play button progressbar doesn&#39;t show immediately but only when `onClick` button is finished:\r\n\r\n    ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\r\n    buttonPlay.setOnClickListener(new View.OnClickListener() {\r\n    \t@Override\r\n    \tpublic void onClick(View view) {\r\n    \t\t// play streaming\r\n    \t\tSingleAudio sd = getItem(position);\r\n    \t\tif (sd == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tdialog = AppUtil.showProgress(adapterActivity);\r\n    \t\tsd.playerInstance.setDialog(dialog);\r\n    \r\n    \t\tif (sd.playerInstance.inPlay()) {\r\n    \t\t\tsd.playerInstance.stop();\r\n    \t\t} else {\r\n    \t\t\tsd.playerInstance.play();\r\n    \t\t}\r\n    \t}\r\n    });\r\n\r\nwhere right after I call `showProgress()` , I pass the dialog to the player instance to dismiss the dialog once the song playing is started and the button play is changed to stop play.... I tried also to put `showProgress()` inside an `adapterActivity.runOnUiThread` too but it doesn&#39;t show immediately... I wanted to show immediately to prevent user to click again buttons and wait if the play process is completely started....shall I have missed something to consider?\r\n","title":"How to show immediately ProgressBar dialog in Java?","body":"<p>I created a progressbar dialog in a separate java file:</p>\n<pre><code>public class AppUtil {\n    // progress bar handling\n    public static Dialog showProgress(Activity activity) {\n        Dialog dialog = new Dialog(activity);\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        dialog.getWindow().setBackgroundDrawable(\n                new ColorDrawable(0));\n        dialog.setContentView(R.layout.dialog_progress);\n        ProgressBar progressBar = dialog.findViewById(R.id.progressBar);\n        progressBar.getIndeterminateDrawable().setColorFilter(activity.getResources().getColor(R.color.fore_color), PorterDuff.Mode.MULTIPLY);\n        dialog.setCancelable(false);\n        dialog.show();\n        return dialog;\n    }\n}\n</code></pre>\n<p>and it has its own <code>RelativeLayout</code> xml resource layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/rl_progress&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        android:layout_width=&quot;50dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>but if I call it in a play button progressbar doesn't show immediately but only when <code>onClick</code> button is finished:</p>\n<pre><code>ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\nbuttonPlay.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        // play streaming\n        SingleAudio sd = getItem(position);\n        if (sd == null) {\n            return;\n        }\n        \n        dialog = AppUtil.showProgress(adapterActivity);\n        sd.playerInstance.setDialog(dialog);\n\n        if (sd.playerInstance.inPlay()) {\n            sd.playerInstance.stop();\n        } else {\n            sd.playerInstance.play();\n        }\n    }\n});\n</code></pre>\n<p>where right after I call <code>showProgress()</code> , I pass the dialog to the player instance to dismiss the dialog once the song playing is started and the button play is changed to stop play.... I tried also to put <code>showProgress()</code> inside an <code>adapterActivity.runOnUiThread</code> too but it doesn't show immediately... I wanted to show immediately to prevent user to click again buttons and wait if the play process is completely started....shall I have missed something to consider?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654173068,"creation_date":1654172715,"answer_id":72476249,"question_id":72475915,"body_markdown":"**My answer here will focus on the Secrets Manager API part of your question**\r\n\r\nI recommend that you move from **AWS SDK for Java V1** to **AWS SDK for Java V2**. You can find V2 Java Secret Manager examples here.\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager \r\n\r\nHere is the Service Client for V2. \r\n\r\n     SecretsManagerClient secretsClient = SecretsManagerClient.builder()\r\n                    .region(region)\r\n                    .credentialsProvider(ProfileCredentialsProvider.create())\r\n                    .build();\r\n\r\nIn this example, I am using a ProfileCredentialsProvider that reads creds from .aws/Credentials. You can learn more about how V2 handles creds in the *AWS Java V2 DEV Guide*. \r\n\r\n[Using credentials][1]\r\n\r\nYou cannot use **ProfileCredentialsProvider** in an app deployed to a container as this file structure not part of the container. So you can use Amazon ECS container credentials:\r\n\r\n**The SDK uses the ContainerCredentialsProvider class to load credentials from the AWS_CONTAINER_CREDENTIALS_RELATIVE_URI system environment variable.**\r\n\r\nSee point 5 in the above Doc. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p><strong>My answer here will focus on the Secrets Manager API part of your question</strong></p>\n<p>I recommend that you move from <strong>AWS SDK for Java V1</strong> to <strong>AWS SDK for Java V2</strong>. You can find V2 Java Secret Manager examples here.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager</a></p>\n<p>Here is the Service Client for V2.</p>\n<pre><code> SecretsManagerClient secretsClient = SecretsManagerClient.builder()\n                .region(region)\n                .credentialsProvider(ProfileCredentialsProvider.create())\n                .build();\n</code></pre>\n<p>In this example, I am using a ProfileCredentialsProvider that reads creds from .aws/Credentials. You can learn more about how V2 handles creds in the <em>AWS Java V2 DEV Guide</em>.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">Using credentials</a></p>\n<p>You cannot use <strong>ProfileCredentialsProvider</strong> in an app deployed to a container as this file structure not part of the container. So you can use Amazon ECS container credentials:</p>\n<p><strong>The SDK uses the ContainerCredentialsProvider class to load credentials from the AWS_CONTAINER_CREDENTIALS_RELATIVE_URI system environment variable.</strong></p>\n<p>See point 5 in the above Doc.</p>\n"},{"comments":[{"owner":{"account_id":1378324,"reputation":484,"user_id":1311839,"accept_rate":84,"display_name":"Kuku"},"score":0,"creation_date":1655812561,"post_id":72477269,"comment_id":128415439,"body_markdown":"appreciate the suggestion","body":"appreciate the suggestion"}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654177366,"creation_date":1654177366,"answer_id":72477269,"question_id":72475915,"body_markdown":"I wouldn&#39;t recommend doing this via Java code at all. I would totally remove the `aws-java-sdk-secretsmanager` dependency, and use the [ECS support for injecting SecretsManager values as environment variables][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-secrets.html","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p>I wouldn't recommend doing this via Java code at all. I would totally remove the <code>aws-java-sdk-secretsmanager</code> dependency, and use the <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-secrets.html\" rel=\"nofollow noreferrer\">ECS support for injecting SecretsManager values as environment variables</a>.</p>\n"},{"tags":[],"owner":{"account_id":5564268,"reputation":637,"user_id":4412155,"display_name":"Bheem  Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694504904,"creation_date":1694504904,"answer_id":77087020,"question_id":72475915,"body_markdown":"**Read value from AWS secrets manager using java - spring boot**\r\n\r\nusing below code you can fetch the values from AWS secrets manager for Kafka credentials.\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Service;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.secretsmanager.SecretsManagerClient;\r\n    import software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest;\r\n    import software.amazon.awssdk.services.secretsmanager.model.GetSecretValueResponse;\r\n    \r\n    @Configuration\r\n    public class SecretManagerSdk {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(SecretManagerSdk.class); \r\n        \r\n        @Value(&quot;${mskRegion}&quot;)\r\n        private String mskRegion;\r\n    \r\n        @Value(&quot;${secretName}&quot;)\r\n        private String amazonSecretName;\r\n    \r\n        public String getSecretKey() {\r\n    \r\n            try {\r\n             log.info(&quot;SDK - start&quot;);\r\n               String mysecrets = this.getSecret();\r\n                log.info(&quot;SDK - end&quot;);\r\n                return mysecrets;\r\n            } catch (Exception e) {\r\n                throw e;\r\n    \r\n            }       \r\n        }\r\n    \r\n        public String getSecret() {\r\n            log.info(&quot;getting secret values&quot;);\r\n            String secretName = amazonSecretName;\r\n            Region region = Region.of(mskRegion);\r\n    \r\n            // Creating a Secrets Manager client\r\n            SecretsManagerClient client = SecretsManagerClient.builder().region(region).build();\r\n            GetSecretValueRequest getSecretValueRequest = GetSecretValueRequest.builder().secretId(secretName).build();\r\n            GetSecretValueResponse getSecretValueResponse;\r\n            try {\r\n                getSecretValueResponse = client.getSecretValue(getSecretValueRequest);\r\n            } catch (Exception e) {\r\n           \r\n               throw e;\r\n            }\r\n            String secret = getSecretValueResponse.secretString();\r\n            log.info(&quot;Secret fetched&quot;);\r\n            return secret;\r\n        }\r\n    }\r\n\r\nconfiguration changes in application.properties\r\n\r\n    mskRegion = ap-south-1\r\n    secretName = *************\r\n\r\nadd maven dependency on pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.19.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.19.14&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p><strong>Read value from AWS secrets manager using java - spring boot</strong></p>\n<p>using below code you can fetch the values from AWS secrets manager for Kafka credentials.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Service;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.secretsmanager.SecretsManagerClient;\nimport software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest;\nimport software.amazon.awssdk.services.secretsmanager.model.GetSecretValueResponse;\n\n@Configuration\npublic class SecretManagerSdk {\n\n    private static final Logger log = LoggerFactory.getLogger(SecretManagerSdk.class); \n    \n    @Value(&quot;${mskRegion}&quot;)\n    private String mskRegion;\n\n    @Value(&quot;${secretName}&quot;)\n    private String amazonSecretName;\n\n    public String getSecretKey() {\n\n        try {\n         log.info(&quot;SDK - start&quot;);\n           String mysecrets = this.getSecret();\n            log.info(&quot;SDK - end&quot;);\n            return mysecrets;\n        } catch (Exception e) {\n            throw e;\n\n        }       \n    }\n\n    public String getSecret() {\n        log.info(&quot;getting secret values&quot;);\n        String secretName = amazonSecretName;\n        Region region = Region.of(mskRegion);\n\n        // Creating a Secrets Manager client\n        SecretsManagerClient client = SecretsManagerClient.builder().region(region).build();\n        GetSecretValueRequest getSecretValueRequest = GetSecretValueRequest.builder().secretId(secretName).build();\n        GetSecretValueResponse getSecretValueResponse;\n        try {\n            getSecretValueResponse = client.getSecretValue(getSecretValueRequest);\n        } catch (Exception e) {\n       \n           throw e;\n        }\n        String secret = getSecretValueResponse.secretString();\n        log.info(&quot;Secret fetched&quot;);\n        return secret;\n    }\n}\n</code></pre>\n<p>configuration changes in application.properties</p>\n<pre><code>mskRegion = ap-south-1\nsecretName = *************\n</code></pre>\n<p>add maven dependency on pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n    &lt;version&gt;2.19.14&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sts&lt;/artifactId&gt;\n    &lt;version&gt;2.19.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1378324,"reputation":484,"user_id":1311839,"accept_rate":84,"display_name":"Kuku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72477269,"answer_count":3,"score":0,"last_activity_date":1694504904,"creation_date":1654171065,"question_id":72475915,"body_markdown":"Our application needs to connect to confluent kafka and thus we have the following setups inside application.yaml file\r\n\r\n    kafka:\r\n        properties:\r\n          sasl:\r\n            mechanism: PLAIN\r\n            jaas:\r\n              config: org.apache.kafka.common.security.plain.PlainLoginModule   required username={userName}   password={passWord};\r\n\r\nThe {userName} and {passWord} need to be replaced by value fetching from AWS secret manager. These are what I have done so far.\r\n\r\nStep 1: Use the following maven dependency\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-secretsmanager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStep 2: Create a configuration class and create a method annotated with @Bean to init a AWSSecretsManager client object.And we can get some key value pairs by using AWSSecretsManager object.\r\n\r\n    // Create a Secrets Manager client\r\n    AWSSecretsManager client  = AWSSecretsManagerClientBuilder.standard()\r\n    \t\t.withRegion(region)\r\n    \t\t.withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretKey)))\r\n    \t\t.build();\r\n\r\nI have the following questions to ask:\r\n1. How can we inject the value we get from secret manager and replace the placeholder in the application.yml file?\r\n2. To access AWSSecretsManager we need to pass AWS accessKey and seretKey. What is a good practice to provide those two values?\r\n\r\nSome more info:\r\n\r\nour application will be running on AWS ECS","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p>Our application needs to connect to confluent kafka and thus we have the following setups inside application.yaml file</p>\n<pre><code>kafka:\n    properties:\n      sasl:\n        mechanism: PLAIN\n        jaas:\n          config: org.apache.kafka.common.security.plain.PlainLoginModule   required username={userName}   password={passWord};\n</code></pre>\n<p>The {userName} and {passWord} need to be replaced by value fetching from AWS secret manager. These are what I have done so far.</p>\n<p>Step 1: Use the following maven dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-secretsmanager&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Step 2: Create a configuration class and create a method annotated with @Bean to init a AWSSecretsManager client object.And we can get some key value pairs by using AWSSecretsManager object.</p>\n<pre><code>// Create a Secrets Manager client\nAWSSecretsManager client  = AWSSecretsManagerClientBuilder.standard()\n        .withRegion(region)\n        .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretKey)))\n        .build();\n</code></pre>\n<p>I have the following questions to ask:</p>\n<ol>\n<li>How can we inject the value we get from secret manager and replace the placeholder in the application.yml file?</li>\n<li>To access AWSSecretsManager we need to pass AWS accessKey and seretKey. What is a good practice to provide those two values?</li>\n</ol>\n<p>Some more info:</p>\n<p>our application will be running on AWS ECS</p>\n"},{"tags":["java","ubuntu","apt-get"],"comments":[{"owner":{"account_id":2509521,"reputation":3294,"user_id":2182351,"accept_rate":25,"display_name":"Mani"},"score":2,"creation_date":1401469149,"post_id":23959615,"comment_id":36911511,"body_markdown":"http://askubuntu.com/questions/84483/how-to-completely-uninstall-java check the answer with bounty :)","body":"<a href=\"http://askubuntu.com/questions/84483/how-to-completely-uninstall-java\" title=\"how to completely uninstall java\">askubuntu.com/questions/84483/how-to-completely-uninstall-ja&zwnj;&#8203;va</a> check the answer with bounty :)"}],"answers":[{"comments":[{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":1,"creation_date":1401468677,"post_id":23959640,"comment_id":36911238,"body_markdown":"Just tried this.  it now says &quot;package default-jre is not installed&quot;, but java still is working.","body":"Just tried this.  it now says &quot;package default-jre is not installed&quot;, but java still is working."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401468835,"post_id":23959640,"comment_id":36911332,"body_markdown":"says &quot;package default-jre is not installed&quot;, but java still is working","body":"says &quot;package default-jre is not installed&quot;, but java still is working"},{"owner":{"account_id":4337833,"reputation":1060,"user_id":3541901,"display_name":"Bary12"},"score":0,"creation_date":1401468975,"post_id":23959640,"comment_id":36911413,"body_markdown":"try this: `sudo apt-get remove openjdk-6-jre`","body":"try this: <code>sudo apt-get remove openjdk-6-jre</code>"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401469182,"post_id":23959640,"comment_id":36911525,"body_markdown":"I am amazed apt-get does not have a way of listing installed packages.  I just tried your suggestion, and it proceded to do a lot of deleting stuff, and bizarrely, its also saying &quot;the following extra packages will be installed: icedtea-70jre0jamvm...openjdk-7-jre-headless....","body":"I am amazed apt-get does not have a way of listing installed packages.  I just tried your suggestion, and it proceded to do a lot of deleting stuff, and bizarrely, its also saying &quot;the following extra packages will be installed: icedtea-70jre0jamvm...openjdk-7-jre-headless...."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401469247,"post_id":23959640,"comment_id":36911559,"body_markdown":"After the remove did pages of stuff, when I try java -version, I get back &quot;java version 1.6.0_21&quot; and it says openJDK runtime.  so unistalling again had no effect.","body":"After the remove did pages of stuff, when I try java -version, I get back &quot;java version 1.6.0_21&quot; and it says openJDK runtime.  so unistalling again had no effect."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401469325,"post_id":23959640,"comment_id":36911601,"body_markdown":"If I say sudo apt-get remove openjdk-6-jre again, it now says not installed., but java still is.","body":"If I say sudo apt-get remove openjdk-6-jre again, it now says not installed., but java still is."},{"owner":{"account_id":4337833,"reputation":1060,"user_id":3541901,"display_name":"Bary12"},"score":3,"creation_date":1401469500,"post_id":23959640,"comment_id":36911698,"body_markdown":"reinstall default-jre and then:`sudo apt-get autoremove default-jre`","body":"reinstall default-jre and then:<code>sudo apt-get autoremove default-jre</code>"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401469712,"post_id":23959640,"comment_id":36911811,"body_markdown":"interestingly, if I do &quot;ls -l /usr/lib/jvm&quot; I see lots of weid and wonderful java versions already there.  E.g. java-1.7.0-openjdk-amd64  I wonder if the problem was that java was already on the box, but not correctly setup (so java command did not find java).  If this is the case, how do I switch to the 1.7 java?","body":"interestingly, if I do &quot;ls -l /usr/lib/jvm&quot; I see lots of weid and wonderful java versions already there.  E.g. java-1.7.0-openjdk-amd64  I wonder if the problem was that java was already on the box, but not correctly setup (so java command did not find java).  If this is the case, how do I switch to the 1.7 java?"},{"owner":{"account_id":4337833,"reputation":1060,"user_id":3541901,"display_name":"Bary12"},"score":0,"creation_date":1401469861,"post_id":23959640,"comment_id":36911887,"body_markdown":"take a look at [this](http://askubuntu.com/questions/272187/setting-jdk-7-as-default)","body":"take a look at <a href=\"http://askubuntu.com/questions/272187/setting-jdk-7-as-default\">this</a>"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401469861,"post_id":23959640,"comment_id":36911888,"body_markdown":"Just tried &quot;sudo apt-get autoremove default-jre&quot;. Says pakcage default-jre is not installed, so not removed, but they says the following packages will be removed: icedtea-netx-common, thunderbird-globalmenu  Java -version still returns 1.6.0_13","body":"Just tried &quot;sudo apt-get autoremove default-jre&quot;. Says pakcage default-jre is not installed, so not removed, but they says the following packages will be removed: icedtea-netx-common, thunderbird-globalmenu  Java -version still returns 1.6.0_13"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401469989,"post_id":23959640,"comment_id":36911947,"body_markdown":"Wow this worked: sudo update-alternatives --config java","body":"Wow this worked: sudo update-alternatives --config java"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1401470727,"post_id":23959640,"comment_id":36912313,"body_markdown":"Out of interest, how did you highlight the commands in your comments?","body":"Out of interest, how did you highlight the commands in your comments?"},{"owner":{"account_id":4337833,"reputation":1060,"user_id":3541901,"display_name":"Bary12"},"score":0,"creation_date":1401470792,"post_id":23959640,"comment_id":36912357,"body_markdown":"when you post a comment there is a yellow highlight under the text box that tells you how.","body":"when you post a comment there is a yellow highlight under the text box that tells you how."}],"tags":[],"owner":{"account_id":4337833,"reputation":1060,"user_id":3541901,"display_name":"Bary12"},"comment_count":13,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1401468589,"creation_date":1401468589,"answer_id":23959640,"question_id":23959615,"body_markdown":"    sudo apt-get remove default-jre\r\nremoves the package &quot;default-jre&quot;. all tho you should ask in [askUbuntu][1]\r\n\r\n\r\n  [1]: https://askubuntu.com/","title":"how to remove default-jre java installation from Ubuntu?","body":"<pre><code>sudo apt-get remove default-jre\n</code></pre>\n\n<p>removes the package \"default-jre\". all tho you should ask in <a href=\"https://askubuntu.com/\">askUbuntu</a></p>\n"},{"comments":[{"owner":{"account_id":6631898,"reputation":1065,"user_id":5120356,"display_name":"EzPizza"},"score":0,"creation_date":1631107482,"post_id":44950496,"comment_id":122134517,"body_markdown":"How is this an answer? It&#39;s a comment.","body":"How is this an answer? It&#39;s a comment."},{"owner":{"account_id":1380179,"reputation":1053,"user_id":2107145,"display_name":"Dheeraj Thedijje"},"score":0,"creation_date":1651667655,"post_id":44950496,"comment_id":127416769,"body_markdown":"worked for me, thats simplest answer","body":"worked for me, thats simplest answer"}],"tags":[],"owner":{"account_id":200282,"reputation":1966,"user_id":446043,"accept_rate":33,"display_name":"gvanto"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1499348067,"creation_date":1499348067,"answer_id":44950496,"question_id":23959615,"body_markdown":"Bary12&#39;s answer worked for me:\r\n\r\n&gt; sudo apt-get autoremove default-jre","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>Bary12's answer worked for me:</p>\n\n<blockquote>\n  <p>sudo apt-get autoremove default-jre</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":6253747,"reputation":420,"user_id":5408917,"accept_rate":17,"display_name":"xuxu"},"score":1,"creation_date":1531846837,"post_id":50246200,"comment_id":89745422,"body_markdown":"Thank You. Saved my day!","body":"Thank You. Saved my day!"},{"owner":{"account_id":8911826,"reputation":1771,"user_id":6651763,"display_name":"Fahima Mokhtari"},"score":0,"creation_date":1625694454,"post_id":50246200,"comment_id":120698359,"body_markdown":"For me, I needed to remove openjdk-11-jre too so that I removed Java entirely from my system.","body":"For me, I needed to remove openjdk-11-jre too so that I removed Java entirely from my system."}],"tags":[],"owner":{"account_id":3464510,"reputation":2917,"user_id":2900495,"accept_rate":74,"display_name":"Nishant Bhakta"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1525844311,"creation_date":1525844311,"answer_id":50246200,"question_id":23959615,"body_markdown":"**To completely remove jdk from your system, follow these below steps:**\r\n\r\n 1. Type `sudo apt-get autoremove default-jdk openjdk-` (Don&#39;t hit `Enter` right now).\r\n 2. Now press `tab` button for 2 or 3 times, you will get list of packages\r\n    starting with `openjdk-`.\r\n 3. Look for name like `openjdk-11-jdk`. You need to get java version,\r\n    here is 11.\r\n 4. Now complete your command to `sudo apt-get autoremove default-jdk\r\n    openjdk-11-jdk`. (Change 11 to your java version)\r\n 5. And Hit `Enter` button.\r\n\r\nNow you have done removing java from your system.","title":"how to remove default-jre java installation from Ubuntu?","body":"<p><strong>To completely remove jdk from your system, follow these below steps:</strong></p>\n\n<ol>\n<li>Type <code>sudo apt-get autoremove default-jdk openjdk-</code> (Don't hit <code>Enter</code> right now).</li>\n<li>Now press <code>tab</code> button for 2 or 3 times, you will get list of packages\nstarting with <code>openjdk-</code>.</li>\n<li>Look for name like <code>openjdk-11-jdk</code>. You need to get java version,\nhere is 11.</li>\n<li>Now complete your command to <code>sudo apt-get autoremove default-jdk\nopenjdk-11-jdk</code>. (Change 11 to your java version)</li>\n<li>And Hit <code>Enter</code> button.</li>\n</ol>\n\n<p>Now you have done removing java from your system.</p>\n"},{"tags":[],"owner":{"account_id":12842613,"reputation":21,"user_id":9290162,"display_name":"Achint Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560753775,"creation_date":1560753775,"answer_id":56625916,"question_id":23959615,"body_markdown":"You can remove Java 12 using this command--\r\n\r\n    sudo apt-get remove oracle-java12-installer\r\n\r\nyou can change the version by changing the 12 to the version present on your computer\r\n\r\nthen recheck by finding version -\r\n \r\n\r\n    java -version","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>You can remove Java 12 using this command--</p>\n\n<pre><code>sudo apt-get remove oracle-java12-installer\n</code></pre>\n\n<p>you can change the version by changing the 12 to the version present on your computer</p>\n\n<p>then recheck by finding version -</p>\n\n<pre><code>java -version\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17103440,"reputation":598,"user_id":12376007,"display_name":"enjoi4life411"},"score":0,"creation_date":1687605620,"post_id":64464408,"comment_id":134962248,"body_markdown":"This actually helped me. doing `sudo apt insstall default-jre` was telling me I had the most recent version but I wasnt getting `openjdk version &lt;version&gt;` when doing `java -version`. I just changed the option in update-alternatives to the path containg the java version I wanted (Java 11 in my case)","body":"This actually helped me. doing <code>sudo apt insstall default-jre</code> was telling me I had the most recent version but I wasnt getting <code>openjdk version &lt;version&gt;</code> when doing <code>java -version</code>. I just changed the option in update-alternatives to the path containg the java version I wanted (Java 11 in my case)"}],"tags":[],"owner":{"account_id":2205041,"reputation":360,"user_id":1948482,"display_name":"Kshitij"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603286290,"creation_date":1603286290,"answer_id":64464408,"question_id":23959615,"body_markdown":"\r\nTo set the Java version interactively:\r\n\r\nLog in as root or use sudo.\r\n\r\nView the Java alternatives.\r\n\r\n    $ update-alternatives --config java\r\n\r\nThis command lists the Java installations and prompts to select from the choices.\r\n\r\nSample response\r\n\r\nThere are 4 programs which provide &#39;java&#39;.\r\n\r\n\r\nSelection Command\r\n\r\n\r\n-----------------------------------------------\r\n\r\n\r\n1 /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java\r\n\r\n\r\n 2 * /usr/lib/jvm/zulu-6/bin/java\r\n\r\n\r\n3 /usr/lib/jvm/zulu-7/bin/java\r\n\r\n\r\n4 /usr/lib/jvm/zulu-8/bin/java\r\n\r\nSelect a Java version, at the prompt, type a number.\r\n\r\nPress enter to keep the default[*], or type selection number:\r\n\r\nSample response\r\n\r\nUsing &#39;/usr/lib/jvm/zulu-7/bin/java&#39; to provide &#39;java&#39;.\r\n\r\nVerify the switch, check the Java version.\r\n\r\n    $ java -version\r\n\r\nSample response\r\n\r\nopenjdk version &quot;1.7.0_65&quot;\r\n\r\nOpenJDK Runtime Environment (Zulu 7.6.0.1-linux64) (build 1.7.0_65-b17)\r\n\r\nOpenJDK 64-Bit Server VM (Zulu 7.6.0.1-linux64) (build 24.65-b04, mixed mode)\r\n\r\nTo set the Java version by path:\r\n\r\nLog in as root or use sudo.\r\n\r\nSpecify the path to use when running Java.\r\n\r\n    $ update-alternatives --set java /usr/lib/jvm/zulu8/bin/java","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>To set the Java version interactively:</p>\n<p>Log in as root or use sudo.</p>\n<p>View the Java alternatives.</p>\n<pre><code>$ update-alternatives --config java\n</code></pre>\n<p>This command lists the Java installations and prompts to select from the choices.</p>\n<p>Sample response</p>\n<p>There are 4 programs which provide 'java'.</p>\n<p>Selection Command</p>\n<hr />\n<p>1 /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java</p>\n<p>2 * /usr/lib/jvm/zulu-6/bin/java</p>\n<p>3 /usr/lib/jvm/zulu-7/bin/java</p>\n<p>4 /usr/lib/jvm/zulu-8/bin/java</p>\n<p>Select a Java version, at the prompt, type a number.</p>\n<p>Press enter to keep the default[*], or type selection number:</p>\n<p>Sample response</p>\n<p>Using '/usr/lib/jvm/zulu-7/bin/java' to provide 'java'.</p>\n<p>Verify the switch, check the Java version.</p>\n<pre><code>$ java -version\n</code></pre>\n<p>Sample response</p>\n<p>openjdk version &quot;1.7.0_65&quot;</p>\n<p>OpenJDK Runtime Environment (Zulu 7.6.0.1-linux64) (build 1.7.0_65-b17)</p>\n<p>OpenJDK 64-Bit Server VM (Zulu 7.6.0.1-linux64) (build 24.65-b04, mixed mode)</p>\n<p>To set the Java version by path:</p>\n<p>Log in as root or use sudo.</p>\n<p>Specify the path to use when running Java.</p>\n<pre><code>$ update-alternatives --set java /usr/lib/jvm/zulu8/bin/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668599288,"creation_date":1668599288,"answer_id":74459934,"question_id":23959615,"body_markdown":"I Installed Default JDK like this\r\n\r\n    sudo apt install -y default-jdk\r\n\r\nRemoved like this \r\n \r\n\r\n    sudo apt remove openjdk-11-jre-headless openjdk-11-jre openjdk-11-jdk-headless openjdk-11-jdk  \r\n\r\n\r\n","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>I Installed Default JDK like this</p>\n<pre><code>sudo apt install -y default-jdk\n</code></pre>\n<p>Removed like this</p>\n<pre><code>sudo apt remove openjdk-11-jre-headless openjdk-11-jre openjdk-11-jdk-headless openjdk-11-jdk  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25947706,"reputation":21,"user_id":19666217,"display_name":"SeeingDragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694504845,"creation_date":1694504845,"answer_id":77087014,"question_id":23959615,"body_markdown":"It may be useful for you.\r\nfirtstly,use this command to show all the jdk of installed.\r\n\r\n    dpkg -l | grep -i jdk\r\nSecondly,use this command to uninstall the jdk.\r\n\r\n    sudo apt purge &lt;package_name&gt;","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>It may be useful for you.\nfirtstly,use this command to show all the jdk of installed.</p>\n<pre><code>dpkg -l | grep -i jdk\n</code></pre>\n<p>Secondly,use this command to uninstall the jdk.</p>\n<pre><code>sudo apt purge &lt;package_name&gt;\n</code></pre>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67623,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":23959640,"answer_count":7,"score":14,"last_activity_date":1694504845,"creation_date":1401468501,"question_id":23959615,"body_markdown":"I had no java (i.e. java -version said java no found or similar)\r\n\r\nI installed it like this:\r\n\r\n    sudo apt-get install default-jre\r\n\r\nThis results in installing java 1.6 - I need java 1.7\r\n\r\nSo the next probelem is how to uninstall it.\r\n\r\nI tried this:\r\n\r\n    sudo apt-get --purge -remove default-jre\r\n\r\nWhich seemed to work, but when I do:\r\n\r\n    java -version\r\n\r\nI still java respond with 1.6 - i.e. id didnt uninstall java.  \r\n\r\nOk, so I guess -remove does not remove the thing it installed. Is there a way to o this?","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>I had no java (i.e. java -version said java no found or similar)</p>\n\n<p>I installed it like this:</p>\n\n<pre><code>sudo apt-get install default-jre\n</code></pre>\n\n<p>This results in installing java 1.6 - I need java 1.7</p>\n\n<p>So the next probelem is how to uninstall it.</p>\n\n<p>I tried this:</p>\n\n<pre><code>sudo apt-get --purge -remove default-jre\n</code></pre>\n\n<p>Which seemed to work, but when I do:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>I still java respond with 1.6 - i.e. id didnt uninstall java.  </p>\n\n<p>Ok, so I guess -remove does not remove the thing it installed. Is there a way to o this?</p>\n"},{"tags":["java","pdf","fonts","pdfbox","pdf-form"],"answers":[{"comments":[{"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"score":0,"creation_date":1431751274,"post_id":30248927,"comment_id":48643262,"body_markdown":"Thank you for the answer. The &quot;bold&quot; part is working fine, The &quot;font&quot; part is throwing java.lang.ArrayIndexOutOfBoundsException: -1\n\tat java.util.ArrayList.elementData(ArrayList.java:371)\n\tat java.util.ArrayList.get(ArrayList.java:384)\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDAppearance.getFontAndUpdateResources(PDAppearance.java:815)\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDAppearance.setAppearanceValue(PDAppearance.java:316)\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDVariableText.setValue(PDVariableText.java:131)","body":"Thank you for the answer. The &quot;bold&quot; part is working fine, The &quot;font&quot; part is throwing java.lang.ArrayIndexOutOfBoundsException: -1 \tat java.util.ArrayList.elementData(ArrayList.java:371) \tat java.util.ArrayList.get(ArrayList.java:384) \tat org.apache.pdfbox.pdmodel.interactive.form.PDAppearance.getF&zwnj;&#8203;ontAndUpdateResource&zwnj;&#8203;s(PDAppearance.java:&zwnj;&#8203;815) \tat org.apache.pdfbox.pdmodel.interactive.form.PDAppearance.setA&zwnj;&#8203;ppearanceValue(PDApp&zwnj;&#8203;earance.java:316) \tat org.apache.pdfbox.pdmodel.interactive.form.PDVariableText.se&zwnj;&#8203;tValue(PDVariableTex&zwnj;&#8203;t.java:131)"},{"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"score":0,"creation_date":1431751370,"post_id":30248927,"comment_id":48643277,"body_markdown":"When I debug it using eclipse, at the PDTrueTypeFont line in the prepareFont method, the font value is &quot;FO&quot;. Is that normal? I intentionally gave a wrong name and it throws a null pointer (to verify that the font is at the right path and is available to this method)","body":"When I debug it using eclipse, at the PDTrueTypeFont line in the prepareFont method, the font value is &quot;FO&quot;. Is that normal? I intentionally gave a wrong name and it throws a null pointer (to verify that the font is at the right path and is available to this method)"},{"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"score":0,"creation_date":1431751535,"post_id":30248927,"comment_id":48643297,"body_markdown":"Also, I found this:Cour -&gt; Courier\nCoBo -&gt; Courier-Bold\nCoOb -&gt; Courier-Oblique\nCoBO -&gt; Courier-BoldOblique\nHelv -&gt; Helvetica\nHeBo -&gt; Helvetica-Bold\nHeOb -&gt; Helvetica-Oblique\nHeBO -&gt; Helvetica-BoldOblique\nSymb -&gt; Symbol\nTiRo -&gt; Times-Roman\nTiBo -&gt; Times-Bold\nTiIt -&gt; Times-Italic\nTiBI -&gt; Times-BoldItalic\nZaDb -&gt; ZapfDingbats. I used HeBo and it worked fine to bold the font (instead of /Helv I used /HeBo","body":"Also, I found this:Cour -&gt; Courier CoBo -&gt; Courier-Bold CoOb -&gt; Courier-Oblique CoBO -&gt; Courier-BoldOblique Helv -&gt; Helvetica HeBo -&gt; Helvetica-Bold HeOb -&gt; Helvetica-Oblique HeBO -&gt; Helvetica-BoldOblique Symb -&gt; Symbol TiRo -&gt; Times-Roman TiBo -&gt; Times-Bold TiIt -&gt; Times-Italic TiBI -&gt; Times-BoldItalic ZaDb -&gt; ZapfDingbats. I used HeBo and it worked fine to bold the font (instead of /Helv I used /HeBo"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1431762467,"post_id":30248927,"comment_id":48645320,"body_markdown":"*The &quot;font&quot; part is throwing...* - please share your sample PDF  and the very code and inputs you used. As mentioned above, you can find the running example unit test on github which does work.","body":"<i>The &quot;font&quot; part is throwing...</i> - please share your sample PDF  and the very code and inputs you used. As mentioned above, you can find the running example unit test on github which does work."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1431762756,"post_id":30248927,"comment_id":48645385,"body_markdown":"*instead of /Helv I used /HeBo* - as mentioned above, in PDF you usually make text bold by using a font with bold glyphs, **HeBo** = Helvetica-bold is that pendant for Helvetica.","body":"<i>instead of /Helv I used /HeBo</i> - as mentioned above, in PDF you usually make text bold by using a font with bold glyphs, <b>HeBo</b> = Helvetica-bold is that pendant for Helvetica."},{"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"score":0,"creation_date":1431831896,"post_id":30248927,"comment_id":48664055,"body_markdown":"Does the code that you provided work for a PDF to set the &#39;default&#39; or /HeBo 10 Tf 0 g for some fields and the &#39;font&#39; for a few fields? If I need two different fonts (default font and custom font) in the same acroForm, does your code work? thank you. I used the code that you provided and was able to load the custom font successfully, but was unable to load two fonts in the same acroForm. Any input will be highly appreciated. Thanks again !","body":"Does the code that you provided work for a PDF to set the &#39;default&#39; or /HeBo 10 Tf 0 g for some fields and the &#39;font&#39; for a few fields? If I need two different fonts (default font and custom font) in the same acroForm, does your code work? thank you. I used the code that you provided and was able to load the custom font successfully, but was unable to load two fonts in the same acroForm. Any input will be highly appreciated. Thanks again !"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1431867431,"post_id":30248927,"comment_id":48671476,"body_markdown":"Please be aware that the names **Helv**, **HeBo**, etc.  are built-in defaults in Adobe Reader used if no fonts are defined. If you also have a custom font for forms, those defaults might not work. Thus, you will have to explicitly define such fonts. This is no magic but does require a line of code or two.","body":"Please be aware that the names <b>Helv</b>, <b>HeBo</b>, etc.  are built-in defaults in Adobe Reader used if no fonts are defined. If you also have a custom font for forms, those defaults might not work. Thus, you will have to explicitly define such fonts. This is no magic but does require a line of code or two."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1431938684,"post_id":30248927,"comment_id":48693399,"body_markdown":"*Does the code that you provided work for a PDF to set the &#39;default&#39; or /HeBo 10 Tf 0 g for some fields and the &#39;font&#39; for a few fields?* - As I added to my answer, **/HeBo** etc are not in general available by default. In which situation they are, I cannot tell. Nonetheless I corrected an issue in my code above, it used to drop any existing fonts when adding a new forn to the default form resources. Now it keeps them. The clean way to go is to check which fonts already are available in the default form resources and add all required missing ones.","body":"<i>Does the code that you provided work for a PDF to set the &#39;default&#39; or /HeBo 10 Tf 0 g for some fields and the &#39;font&#39; for a few fields?</i> - As I added to my answer, <b>/HeBo</b> etc are not in general available by default. In which situation they are, I cannot tell. Nonetheless I corrected an issue in my code above, it used to drop any existing fonts when adding a new forn to the default form resources. Now it keeps them. The clean way to go is to check which fonts already are available in the default form resources and add all required missing ones."},{"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"score":0,"creation_date":1432045906,"post_id":30248927,"comment_id":48751758,"body_markdown":"yes /HeBo works out of the box. For me to make it work, I had to add two fonts to the resources and use both of them. I could not get the default and custom font working together.","body":"yes /HeBo works out of the box. For me to make it work, I had to add two fonts to the resources and use both of them. I could not get the default and custom font working together."},{"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"score":0,"creation_date":1432046348,"post_id":30248927,"comment_id":48752124,"body_markdown":"I edited my question and added the code that I used to add two fonts to the resources.","body":"I edited my question and added the code that I used to add two fonts to the resources."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1432198075,"post_id":30248927,"comment_id":48828046,"body_markdown":"@user972391 I updated the answer with a section &quot;Using custom and standard fonts&quot;. Here I show how you can properly register the standard 14 fonts side-by-side with any custom fonts and use them in forms. This way you use a different name than **HeBo** for Helvetica Bold but you do it in a way not relying on some PDF viewer implementation.","body":"@user972391 I updated the answer with a section &quot;Using custom and standard fonts&quot;. Here I show how you can properly register the standard 14 fonts side-by-side with any custom fonts and use them in forms. This way you use a different name than <b>HeBo</b> for Helvetica Bold but you do it in a way not relying on some PDF viewer implementation."},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1536174375,"post_id":30248927,"comment_id":91333480,"body_markdown":"Regarding the Custom font solution (adding the TTF to the PDResources), the font name seems to be determined by the API (e.g., in my test, it was called `F3` rather than something more intuitive like `LiberationSans-Regular`. Do you know of a way to control the name? It&#39;s because I&#39;m setting the font with Adobe PDF Javascript later (and so a hard-coded name is important).","body":"Regarding the Custom font solution (adding the TTF to the PDResources), the font name seems to be determined by the API (e.g., in my test, it was called <code>F3</code> rather than something more intuitive like <code>LiberationSans-Regular</code>. Do you know of a way to control the name? It&#39;s because I&#39;m setting the font with Adobe PDF Javascript later (and so a hard-coded name is important)."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1536589481,"post_id":30248927,"comment_id":91467297,"body_markdown":"@Fuhrmanator Instead of `PDResources.add(PDFont)` you can use `PDResources.put(COSName, PDFont)`. This allows you to control the name for the font. As a drawback, though, this may result in the same font being registered with different name or (even worse) overwriting an existing, different registered font with your new one.","body":"@Fuhrmanator Instead of <code>PDResources.add(PDFont)</code> you can use <code>PDResources.put(COSName, PDFont)</code>. This allows you to control the name for the font. As a drawback, though, this may result in the same font being registered with different name or (even worse) overwriting an existing, different registered font with your new one."},{"owner":{"account_id":2295225,"reputation":1,"user_id":2016831,"accept_rate":17,"display_name":"B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"},"score":0,"creation_date":1655676392,"post_id":30248927,"comment_id":128382321,"body_markdown":"do u know if its possible to have one multiline field contain some bold, some regular, some italis etc? i may have to combine several fonts into oone field, but what would the default appearance sring look like?","body":"do u know if its possible to have one multiline field contain some bold, some regular, some italis etc? i may have to combine several fonts into oone field, but what would the default appearance sring look like?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1655711190,"post_id":30248927,"comment_id":128387503,"body_markdown":"If you want different styles in a single text field, you should consider setting the **RichText** flag of the field and use the **RV** entry of the field to set the rich text value (including certain XHTML and XFA styling tags). For details see ISO 32000-1 section 12.7.3.4 _Rich Text Strings_. I doubt, though, that PDFBox has appearance creation code for rich text. Thus, you may have to set **NeedAppearances** to `true`.","body":"If you want different styles in a single text field, you should consider setting the <b>RichText</b> flag of the field and use the <b>RV</b> entry of the field to set the rich text value (including certain XHTML and XFA styling tags). For details see ISO 32000-1 section 12.7.3.4 <i>Rich Text Strings</i>. I doubt, though, that PDFBox has appearance creation code for rich text. Thus, you may have to set <b>NeedAppearances</b> to <code>true</code>."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":15,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1694504332,"creation_date":1431644791,"answer_id":30248927,"question_id":30181250,"body_markdown":"*(You can find a runnable example here: [FillFormCustomFont.java][1])*\r\n\r\nUsing poor-man&#39;s-bold\r\n---\r\n\r\n&gt; 1. How do I bold the field? ... What I need to set to bold the field?\r\n\r\nIn PDF you usually make text bold by using a font with bold glyphs, also see your second question. If you don&#39;t have such a bold font at hands, you may instead use some poor-man&#39;s-bold technique, e.g. not only filling the letter but also stroking a line along its borders:\r\n\r\n    public static void setFieldBold(String name, String value) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        PDField field = acroForm.getField(name);\r\n\r\n        COSDictionary dict = ((PDField) field).getDictionary();\r\n        COSString defaultAppearance = (COSString) dict\r\n                .getDictionaryObject(COSName.DA);\r\n        if (defaultAppearance != null)\r\n        {\r\n            dict.setString(COSName.DA, &quot;/Helv 10 Tf 2 Tr .5 w 0 g&quot;);\r\n            if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\r\n                dict.setString(COSName.DA, &quot;/Helv 12 Tf 0 g&quot;);\r\n            }\r\n        }\r\n        if (field instanceof PDTextbox)\r\n        {\r\n            field = new PDTextbox(acroForm, dict);\r\n            ((PDField) field).setValue(value);\r\n        }\r\n    }\r\n\r\n(`2 Tr .5 w` = use rendering mode 2, i.e. fill and stroke, and use a line width of .5)\r\n\r\nInstead of\r\n\r\n![Using the OP&#39;s method][2]\r\n\r\nyou now get\r\n\r\n![Using the setFieldBold method][3]\r\n\r\nUsing custom fonts\r\n---\r\n\r\n&gt; 2. If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?\r\n\r\nIf you want to use an own font, you first need to register it in the **AcroForm** default resources like this:\r\n\r\n    public String prepareFont(PDDocument _pdfDocument) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        \r\n        PDResources res = acroForm.getDefaultResources();\r\n        if (res == null)\r\n            res = new PDResources();\r\n\r\n        InputStream fontStream = getClass().getResourceAsStream(&quot;LiberationSans-Regular.ttf&quot;);\r\n        PDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\r\n        String fontName = res.addFont(font);\r\n        acroForm.setDefaultResources(res);\r\n        \r\n        return fontName;\r\n    }\r\n\r\nThis method returns the font name to use in \r\n\r\n    public static void setField(String name, String value, String fontName) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        PDField field = acroForm.getField(name);\r\n\r\n        COSDictionary dict = ((PDField) field).getDictionary();\r\n        COSString defaultAppearance = (COSString) dict\r\n                .getDictionaryObject(COSName.DA);\r\n        if (defaultAppearance != null)\r\n        {\r\n            dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 10 Tf 0 g&quot;);\r\n            if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\r\n                dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 12 Tf 0 g&quot;);\r\n            }\r\n        }\r\n        if (field instanceof PDTextbox)\r\n        {\r\n            field = new PDTextbox(acroForm, dict);\r\n            ((PDField) field).setValue(value);\r\n        }\r\n    }\r\n\r\nYou now get\r\n\r\n![Using the setFieldBold method with font parameter][4]\r\n\r\nThe difference is not too big because the fonts are quite similar. Use the font of your choice for more effect.\r\n\r\nUsing **/Helv**, **/HeBo**, ...\r\n---\r\n\r\nThe OP found a list of font names **/Helv**, **/HeBo**, ..., probably in the PDFBox issue [PDFBOX-1234](https://issues.apache.org/jira/browse/PDFBOX-1234?focusedCommentId=14304601&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14304601), which appear to be usable without defining them in any resource dictionary.\r\n\r\n**These names are not a PDF feature**, i.e. the PDF specification does not know about them, on the contrary:\r\n\r\n&gt; The default appearance string (**DA**) contains any graphics state or text state operators needed to establish the graphics state parameters, such as text size and colour, for displaying the fields variable text. Only operators that are allowed within text objects shall occur in this string (see Figure 9). At a minimum, the string shall include a **Tf** (text font) operator along with its two operands, font and size. *The specified font value shall match a resource name in the **Font** entry of the default resource dictionary (referenced from the **DR** entry of the interactive form dictionary; see Table 218).*\r\n&gt;\r\n&gt; *(section 12.7.3.3 Field Dictionaries / Variable Text in ISO 32000-1)*\r\n\r\nThus, the specification does not know those default font names.\r\n\r\nNonetheless, Adobe Reader/Acrobat seem to support them, most likely because at some time in the distant past some form generating tool assumed them to be there and support for those forms was kept due to compatibility reasons.\r\n\r\nUsing this feature, therefore, might not be the best choice but your mileage may vary.\r\n\r\nUsing custom and standard fonts\r\n---\r\n\r\nIn his comments the OP indicated he wanted to use both custom and standard fonts in forms.\r\n\r\nTo do this I generalized the method `prepareFont` a bit and refactored the TTF import into a separate method:\r\n\r\n    public List&lt;String&gt; prepareFont(PDDocument _pdfDocument, List&lt;PDFont&gt; fonts) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        \r\n        PDResources res = acroForm.getDefaultResources();\r\n        if (res == null)\r\n            res = new PDResources();\r\n\r\n        List&lt;String&gt; fontNames = new ArrayList&lt;String&gt;();\r\n        for (PDFont font: fonts)\r\n        {\r\n            fontNames.add(res.addFont(font));\r\n        }\r\n\r\n        acroForm.setDefaultResources(res);\r\n        \r\n        return fontNames;\r\n    }\r\n\r\n    public PDFont loadTrueTypeFont(PDDocument _pdfDocument, String resourceName) throws IOException\r\n    {\r\n        try ( InputStream fontStream = getClass().getResourceAsStream(resourceName); )\r\n        {\r\n            return PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\r\n        }\r\n    }\r\n\r\nUsing these methods you can mix custom and standard fonts like this:\r\n\r\n    PDDocument doc = PDDocument.load(originalStream);\r\n    List&lt;String&gt; fontNames = prepareFont(doc, Arrays.asList(loadTrueTypeFont(doc, &quot;LiberationSans-Regular.ttf&quot;), PDType1Font.HELVETICA_BOLD));\r\n\r\n    setField(doc, &quot;FirstName&quot;, &quot;My first name&quot;, fontNames.get(0));\r\n    setField(doc, &quot;LastName&quot;, &quot;My last name&quot;, fontNames.get(1));\r\n    \r\n    doc.save(new File(RESULT_FOLDER, &quot;acroform-setFieldCustomStandard.pdf&quot;));\r\n    doc.close();\r\n\r\n&gt; *([FillFormCustomFont][5].testSetFieldCustomStandard_acroform)*\r\n\r\nResulting in \r\n\r\n![Using mixed custom and standard fonts][6]\r\n\r\n`PDType1Font` has constants for all 14 standard fonts. Thus, like this you can use standard fonts (mixed with custom fonts if desired) in form fields in a way that generates the proper **Font** entries in the default resources, i.e. without relying on proprietary default font names like **HeBo**.\r\n\r\nPS\r\n---\r\n&gt; Any documentation on what order the /Helv 10 Tf 0 g are arranged?\r\n\r\nYes, there is, cf. the specification [ISO 32000-1][7].\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\r\n  [2]: http://i.stack.imgur.com/fpbbS.png\r\n  [3]: http://i.stack.imgur.com/BD2AE.png\r\n  [4]: http://i.stack.imgur.com/cQiEN.png\r\n  [5]: https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\r\n  [6]: http://i.stack.imgur.com/EfFwP.png\r\n  [7]: https://opensource.adobe.com/dc-acrobat-sdk-docs/pdfstandards/PDF32000_2008.pdf","title":"Java PDFBox setting custom font for a few fields in PDF Form","body":"<p><em>(You can find a runnable example here: <a href=\"https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\" rel=\"nofollow noreferrer\">FillFormCustomFont.java</a>)</em></p>\n<h2>Using poor-man's-bold</h2>\n<blockquote>\n<ol>\n<li>How do I bold the field? ... What I need to set to bold the field?</li>\n</ol>\n</blockquote>\n<p>In PDF you usually make text bold by using a font with bold glyphs, also see your second question. If you don't have such a bold font at hands, you may instead use some poor-man's-bold technique, e.g. not only filling the letter but also stroking a line along its borders:</p>\n<pre><code>public static void setFieldBold(String name, String value) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    PDField field = acroForm.getField(name);\n\n    COSDictionary dict = ((PDField) field).getDictionary();\n    COSString defaultAppearance = (COSString) dict\n            .getDictionaryObject(COSName.DA);\n    if (defaultAppearance != null)\n    {\n        dict.setString(COSName.DA, &quot;/Helv 10 Tf 2 Tr .5 w 0 g&quot;);\n        if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\n            dict.setString(COSName.DA, &quot;/Helv 12 Tf 0 g&quot;);\n        }\n    }\n    if (field instanceof PDTextbox)\n    {\n        field = new PDTextbox(acroForm, dict);\n        ((PDField) field).setValue(value);\n    }\n}\n</code></pre>\n<p>(<code>2 Tr .5 w</code> = use rendering mode 2, i.e. fill and stroke, and use a line width of .5)</p>\n<p>Instead of</p>\n<p><img src=\"https://i.stack.imgur.com/fpbbS.png\" alt=\"Using the OP's method\" /></p>\n<p>you now get</p>\n<p><img src=\"https://i.stack.imgur.com/BD2AE.png\" alt=\"Using the setFieldBold method\" /></p>\n<h2>Using custom fonts</h2>\n<blockquote>\n<ol start=\"2\">\n<li>If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?</li>\n</ol>\n</blockquote>\n<p>If you want to use an own font, you first need to register it in the <strong>AcroForm</strong> default resources like this:</p>\n<pre><code>public String prepareFont(PDDocument _pdfDocument) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    \n    PDResources res = acroForm.getDefaultResources();\n    if (res == null)\n        res = new PDResources();\n\n    InputStream fontStream = getClass().getResourceAsStream(&quot;LiberationSans-Regular.ttf&quot;);\n    PDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\n    String fontName = res.addFont(font);\n    acroForm.setDefaultResources(res);\n    \n    return fontName;\n}\n</code></pre>\n<p>This method returns the font name to use in</p>\n<pre><code>public static void setField(String name, String value, String fontName) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    PDField field = acroForm.getField(name);\n\n    COSDictionary dict = ((PDField) field).getDictionary();\n    COSString defaultAppearance = (COSString) dict\n            .getDictionaryObject(COSName.DA);\n    if (defaultAppearance != null)\n    {\n        dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 10 Tf 0 g&quot;);\n        if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\n            dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 12 Tf 0 g&quot;);\n        }\n    }\n    if (field instanceof PDTextbox)\n    {\n        field = new PDTextbox(acroForm, dict);\n        ((PDField) field).setValue(value);\n    }\n}\n</code></pre>\n<p>You now get</p>\n<p><img src=\"https://i.stack.imgur.com/cQiEN.png\" alt=\"Using the setFieldBold method with font parameter\" /></p>\n<p>The difference is not too big because the fonts are quite similar. Use the font of your choice for more effect.</p>\n<h2>Using <strong>/Helv</strong>, <strong>/HeBo</strong>, ...</h2>\n<p>The OP found a list of font names <strong>/Helv</strong>, <strong>/HeBo</strong>, ..., probably in the PDFBox issue <a href=\"https://issues.apache.org/jira/browse/PDFBOX-1234?focusedCommentId=14304601&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14304601\" rel=\"nofollow noreferrer\">PDFBOX-1234</a>, which appear to be usable without defining them in any resource dictionary.</p>\n<p><strong>These names are not a PDF feature</strong>, i.e. the PDF specification does not know about them, on the contrary:</p>\n<blockquote>\n<p>The default appearance string (<strong>DA</strong>) contains any graphics state or text state operators needed to establish the graphics state parameters, such as text size and colour, for displaying the fields variable text. Only operators that are allowed within text objects shall occur in this string (see Figure 9). At a minimum, the string shall include a <strong>Tf</strong> (text font) operator along with its two operands, font and size. <em>The specified font value shall match a resource name in the <strong>Font</strong> entry of the default resource dictionary (referenced from the <strong>DR</strong> entry of the interactive form dictionary; see Table 218).</em></p>\n<p><em>(section 12.7.3.3 Field Dictionaries / Variable Text in ISO 32000-1)</em></p>\n</blockquote>\n<p>Thus, the specification does not know those default font names.</p>\n<p>Nonetheless, Adobe Reader/Acrobat seem to support them, most likely because at some time in the distant past some form generating tool assumed them to be there and support for those forms was kept due to compatibility reasons.</p>\n<p>Using this feature, therefore, might not be the best choice but your mileage may vary.</p>\n<h2>Using custom and standard fonts</h2>\n<p>In his comments the OP indicated he wanted to use both custom and standard fonts in forms.</p>\n<p>To do this I generalized the method <code>prepareFont</code> a bit and refactored the TTF import into a separate method:</p>\n<pre><code>public List&lt;String&gt; prepareFont(PDDocument _pdfDocument, List&lt;PDFont&gt; fonts) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    \n    PDResources res = acroForm.getDefaultResources();\n    if (res == null)\n        res = new PDResources();\n\n    List&lt;String&gt; fontNames = new ArrayList&lt;String&gt;();\n    for (PDFont font: fonts)\n    {\n        fontNames.add(res.addFont(font));\n    }\n\n    acroForm.setDefaultResources(res);\n    \n    return fontNames;\n}\n\npublic PDFont loadTrueTypeFont(PDDocument _pdfDocument, String resourceName) throws IOException\n{\n    try ( InputStream fontStream = getClass().getResourceAsStream(resourceName); )\n    {\n        return PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\n    }\n}\n</code></pre>\n<p>Using these methods you can mix custom and standard fonts like this:</p>\n<pre><code>PDDocument doc = PDDocument.load(originalStream);\nList&lt;String&gt; fontNames = prepareFont(doc, Arrays.asList(loadTrueTypeFont(doc, &quot;LiberationSans-Regular.ttf&quot;), PDType1Font.HELVETICA_BOLD));\n\nsetField(doc, &quot;FirstName&quot;, &quot;My first name&quot;, fontNames.get(0));\nsetField(doc, &quot;LastName&quot;, &quot;My last name&quot;, fontNames.get(1));\n\ndoc.save(new File(RESULT_FOLDER, &quot;acroform-setFieldCustomStandard.pdf&quot;));\ndoc.close();\n</code></pre>\n<blockquote>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\" rel=\"nofollow noreferrer\">FillFormCustomFont</a>.testSetFieldCustomStandard_acroform)</em></p>\n</blockquote>\n<p>Resulting in</p>\n<p><img src=\"https://i.stack.imgur.com/EfFwP.png\" alt=\"Using mixed custom and standard fonts\" /></p>\n<p><code>PDType1Font</code> has constants for all 14 standard fonts. Thus, like this you can use standard fonts (mixed with custom fonts if desired) in form fields in a way that generates the proper <strong>Font</strong> entries in the default resources, i.e. without relying on proprietary default font names like <strong>HeBo</strong>.</p>\n<h2>PS</h2>\n<blockquote>\n<p>Any documentation on what order the /Helv 10 Tf 0 g are arranged?</p>\n</blockquote>\n<p>Yes, there is, cf. the specification <a href=\"https://opensource.adobe.com/dc-acrobat-sdk-docs/pdfstandards/PDF32000_2008.pdf\" rel=\"nofollow noreferrer\">ISO 32000-1</a>.</p>\n"}],"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24179,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30248927,"answer_count":1,"score":11,"last_activity_date":1694504332,"creation_date":1431401225,"question_id":30181250,"body_markdown":"I am using Apache PDFBox to read a fillable PDF form and fill the fields based on some data. I am using the below code (as per suggestions from other SO answers) to get the default Appearance String and changing it (as you can see below, I am changing the font size from 10 to 12 if the field name is &quot;Field1&quot;. \r\n\r\n1. How do I bold the field? Any documentation on what order the /Helv 10 Tf 0 g are arranged? What I need to set to bold the field?\r\n2. If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?\r\n\r\nPlease note, the below code works fine by filling the specific &#39;value&#39; passed in the method parameter in the specific &#39;name&#39; field of the method parameter.\r\n\r\nThank you !\r\n\r\n    public static void setField(String name, String value ) throws     IOException {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        PDField field = acroForm.getField( name );\r\n        \r\n        COSDictionary dict = ((PDField)field).getDictionary();\r\n        COSString defaultAppearance = (COSString) dict.getDictionaryObject(COSName.DA);\r\n        if (defaultAppearance != null)\r\n        {\r\n            dict.setString(COSName.DA, &quot;/Helv 10 Tf 0 g&quot;);\r\n            if(name.equalsIgnoreCase(&quot;Field1&quot;))\r\n            {\r\n            \tdict.setString(COSName.DA, &quot;/Helv 12 Tf 0 g&quot;);\r\n            }\r\n        }\r\n        if(field instanceof PDTextbox)\r\n        {\r\n        \tfield= new PDTextbox(acroForm, dict);\r\n        \t((PDField)field).setValue(value);\r\n        }\r\n\r\nAs per mkl&#39;s answer, to use two fonts in the same PDF, I used the following method: I could not get the default font and a custom font working together, so I added two fonts to the resources and used them.\r\n\r\n    public List&lt;String&gt; prepareFont(PDDocument _pdfDocument) throws IOException\r\n\t{\r\n\t\tPDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n\t\tPDAcroForm acroForm = docCatalog.getAcroForm();\r\n\t\t\r\n\t\tPDResources res = acroForm.getDefaultResources();\r\n\t\tif (res == null)\r\n\t\t    res = new PDResources();\r\n\r\n\t\tInputStream fontStream = getClass().getResourceAsStream(&quot;LiberationSans-Regular.ttf&quot;);\r\n    InputStream fontStream2 = getClass().getResourceAsStream(&quot;Font2.ttf&quot;);\r\n\t\tPDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\r\n    PDTrueTypeFont font2 = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream2);\r\n        String fontName = res.addFont(font); \r\n    String fontName2 = res.addFont(font2);\r\n        acroForm.setDefaultResources(res);\r\n        List&lt;String&gt; fontList = new ArrayList&lt;String&gt;();    fontList.add(font1);fontList.add(font2);\r\n        return fontList;\r\n\t}\r\n","title":"Java PDFBox setting custom font for a few fields in PDF Form","body":"<p>I am using Apache PDFBox to read a fillable PDF form and fill the fields based on some data. I am using the below code (as per suggestions from other SO answers) to get the default Appearance String and changing it (as you can see below, I am changing the font size from 10 to 12 if the field name is \"Field1\". </p>\n\n<ol>\n<li>How do I bold the field? Any documentation on what order the /Helv 10 Tf 0 g are arranged? What I need to set to bold the field?</li>\n<li>If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?</li>\n</ol>\n\n<p>Please note, the below code works fine by filling the specific 'value' passed in the method parameter in the specific 'name' field of the method parameter.</p>\n\n<p>Thank you !</p>\n\n<pre><code>public static void setField(String name, String value ) throws     IOException {\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    PDField field = acroForm.getField( name );\n\n    COSDictionary dict = ((PDField)field).getDictionary();\n    COSString defaultAppearance = (COSString) dict.getDictionaryObject(COSName.DA);\n    if (defaultAppearance != null)\n    {\n        dict.setString(COSName.DA, \"/Helv 10 Tf 0 g\");\n        if(name.equalsIgnoreCase(\"Field1\"))\n        {\n            dict.setString(COSName.DA, \"/Helv 12 Tf 0 g\");\n        }\n    }\n    if(field instanceof PDTextbox)\n    {\n        field= new PDTextbox(acroForm, dict);\n        ((PDField)field).setValue(value);\n    }\n</code></pre>\n\n<p>As per mkl's answer, to use two fonts in the same PDF, I used the following method: I could not get the default font and a custom font working together, so I added two fonts to the resources and used them.</p>\n\n<pre><code>public List&lt;String&gt; prepareFont(PDDocument _pdfDocument) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n\n    PDResources res = acroForm.getDefaultResources();\n    if (res == null)\n        res = new PDResources();\n\n    InputStream fontStream = getClass().getResourceAsStream(\"LiberationSans-Regular.ttf\");\nInputStream fontStream2 = getClass().getResourceAsStream(\"Font2.ttf\");\n    PDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\nPDTrueTypeFont font2 = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream2);\n    String fontName = res.addFont(font); \nString fontName2 = res.addFont(font2);\n    acroForm.setDefaultResources(res);\n    List&lt;String&gt; fontList = new ArrayList&lt;String&gt;();    fontList.add(font1);fontList.add(font2);\n    return fontList;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673997740,"post_id":75152337,"comment_id":132620441,"body_markdown":"A plugin seems to be outdated, calling a method of the Maven integration (m2e) that no longer exists. See https://stackoverflow.com/questions/73757713/eclipse-2022-09-maven-update-failure#comment131909489_73757713 Unfortunately your question does not contain the full error details (in the _Error Log_ view select the error, hit Ctrl+C and paste the text into your question) and does also not say which m2e version you have and which plugins you have installed.","body":"A plugin seems to be outdated, calling a method of the Maven integration (m2e) that no longer exists. See <a href=\"https://stackoverflow.com/questions/73757713/eclipse-2022-09-maven-update-failure#comment131909489_73757713\" title=\"eclipse 2022 09 maven update failure%23comment131909489_73757713\">stackoverflow.com/questions/73757713/&hellip;</a> Unfortunately your question does not contain the full error details (in the <i>Error Log</i> view select the error, hit Ctrl+C and paste the text into your question) and does also not say which m2e version you have and which plugins you have installed."}],"answers":[{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694504092,"creation_date":1694504092,"answer_id":77086932,"question_id":75152337,"body_markdown":"I also encountered this error when creating a new spring project in Eclipse.\r\n***NoSuchMethodError***, when creating a new Spring project in Eclipse can be caused by various factors, including compatibility issues between different versions of libraries or plugins. \r\n**Installing the new Eclipse version worked for me**. Using the latest version of Eclipse ensures that I have access to the most up-to-date features, bug fixes, and compatibility improvements.\r\n","title":"Problem creating a new spring boot project in eclipse","body":"<p>I also encountered this error when creating a new spring project in Eclipse.\n<em><strong>NoSuchMethodError</strong></em>, when creating a new Spring project in Eclipse can be caused by various factors, including compatibility issues between different versions of libraries or plugins.\n<strong>Installing the new Eclipse version worked for me</strong>. Using the latest version of Eclipse ensures that I have access to the most up-to-date features, bug fixes, and compatibility improvements.</p>\n"}],"owner":{"account_id":27557002,"reputation":1,"user_id":21031003,"display_name":"Miguel Angel Correa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694504092,"creation_date":1673990455,"question_id":75152337,"body_markdown":"When I click on the &quot;create new spring starter project&quot; button I follow the steps and everything works normally but when I finish it I get the following error \r\n\r\nClick to view\r\n\r\n[1]:https://i.stack.imgur.com/v0W6Z.png\r\n\r\n![1]\r\n\r\nIn text its following error:\r\nNoSuchMethodError: &#39;void org.eclipse.m2e.core.project.ResolverConfiguration.setActiveProfiles(java.lang.String)&#39;\r\njava.lang.reflect.InvocationTargetException\r\n\r\nWhen I check the eclipse-workspace folder I get the projects created but I can&#39;t open them in eclipse","title":"Problem creating a new spring boot project in eclipse","body":"<p>When I click on the &quot;create new spring starter project&quot; button I follow the steps and everything works normally but when I finish it I get the following error</p>\n<p>Click to view</p>\n<p><img src=\"https://i.stack.imgur.com/v0W6Z.png\" alt=\"1\" /></p>\n<p>In text its following error:\nNoSuchMethodError: 'void org.eclipse.m2e.core.project.ResolverConfiguration.setActiveProfiles(java.lang.String)'\njava.lang.reflect.InvocationTargetException</p>\n<p>When I check the eclipse-workspace folder I get the projects created but I can't open them in eclipse</p>\n"},{"tags":["java","hashmap","switch-statement","case","class-constants"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1425122347,"post_id":28781011,"comment_id":45838993,"body_markdown":"Btw: your map is not a constant, because it is very easy to manipulate the stored values of that map.","body":"Btw: your map is not a constant, because it is very easy to manipulate the stored values of that map."},{"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"score":0,"creation_date":1425122798,"post_id":28781011,"comment_id":45839115,"body_markdown":"Thanks for the tip. I will use Collections.unmodifiableMap on the map.","body":"Thanks for the tip. I will use Collections.unmodifiableMap on the map."},{"owner":{"account_id":5327125,"reputation":1850,"user_id":4248850,"accept_rate":50,"display_name":"Sam Daniel"},"score":0,"creation_date":1694502785,"post_id":28781011,"comment_id":135895386,"body_markdown":"MANUAL and &quot;MANUAL&quot; are two different tokens, thats why your program does not find it. If you don&#39;t want enums, then creating a Constants class and define public static variables is what i would go for.","body":"MANUAL and &quot;MANUAL&quot; are two different tokens, thats why your program does not find it. If you don&#39;t want enums, then creating a Constants class and define public static variables is what i would go for."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694516485,"post_id":28781011,"comment_id":135898120,"body_markdown":"Use an `enum`. That&#39;s what they&#39;re for.","body":"Use an <code>enum</code>. That&#39;s what they&#39;re for."}],"answers":[{"comments":[{"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"score":0,"creation_date":1425122451,"post_id":28781030,"comment_id":45839022,"body_markdown":"I realized I can hard-code the String values in the case, but I wanted to use the values from the HashMap because by using your implementation, if I change the value in the HashMap from let&#39;s say MANUAL to MANUAL_MODE , it will not enter the case as the &quot;MANUAL&quot; String and the &quot;MANUAL_MODE&quot; value from the HashMap are not related.","body":"I realized I can hard-code the String values in the case, but I wanted to use the values from the HashMap because by using your implementation, if I change the value in the HashMap from let&#39;s say MANUAL to MANUAL_MODE , it will not enter the case as the &quot;MANUAL&quot; String and the &quot;MANUAL_MODE&quot; value from the HashMap are not related."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1425123566,"post_id":28781030,"comment_id":45839326,"body_markdown":"In that case define a constant and keep using that same constant reference in both the maps.","body":"In that case define a constant and keep using that same constant reference in both the maps."}],"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1425121957,"creation_date":1425121957,"answer_id":28781030,"question_id":28781011,"body_markdown":"If you are using Java 7 or above, you could do something like:\r\n\r\n    switch(Consts.valueOf(userType)) {\r\n    case &quot;MANUAL&quot;://notice quotes..\r\n        System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n        break;\r\n    case &quot;AUTO&quot;:\r\n        System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n        break;\r\n    case &quot;EXIT&quot;:\r\n        System.out.println(&quot;&gt;&gt; Good-bye&quot;);","title":"Java using HashMap with switch statement","body":"<p>If you are using Java 7 or above, you could do something like:</p>\n\n<pre><code>switch(Consts.valueOf(userType)) {\ncase \"MANUAL\"://notice quotes..\n    System.out.println(\"&gt;&gt; You have selected the manual mode\");\n    break;\ncase \"AUTO\":\n    System.out.println(\"&gt;&gt; You have selected the manual mode\");\n    break;\ncase \"EXIT\":\n    System.out.println(\"&gt;&gt; Good-bye\");\n</code></pre>\n"}],"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694502210,"creation_date":1425121808,"question_id":28781011,"body_markdown":"I have a constants class where I saved HashMaps of constants like:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * Constantes de uso general en el programa.\r\n     */\r\n    public final class Consts {\r\n\r\n        // Opciones del menu de juego.\r\n        public static final Map&lt;Integer, String&gt; GAMETYPE;\r\n        static\r\n        {\r\n            GAMETYPE = new HashMap&lt;&gt;();\r\n            GAMETYPE.put(1, &quot;MANUAL&quot;);\r\n            GAMETYPE.put(2, &quot;AUTOMATIC&quot;);\r\n            GAMETYPE.put(3, &quot;EXIT&quot;);\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param userType\r\n         * @return\r\n         */\r\n        public static String valueOf(int userType) {\r\n            return GAMETYPE.get(userType);\r\n        }\r\n        /**\r\n         * Impide construir objetos de esta clase.\r\n         */\r\n        private Consts(){\r\n            // Tampoco permite a la clase nativa llamar al constructor.\r\n            throw new AssertionError();\r\n        }\r\n    }\r\n\r\nI want to use this constants in a switch-case statement in another class like: \r\n\r\n    userType = sc.nextInt();\r\n    switch(Consts.valueOf(userType)) {\r\n        case MANUAL:\r\n            System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n            break;\r\n        case AUTO:\r\n            System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n            break;\r\n        case EXIT:\r\n            System.out.println(&quot;&gt;&gt; Good-bye&quot;);\r\n            break;\r\n\r\nStill the program does not find MANUAL, AUTO or EXIT. Any idea?\r\n\r\nPS: I do not want to use Enums (this is how I have the constants structured right now but I think that the fact of having many classes for constants makes difficult to follow the code) and I do not want to have the constants declared one by one like:\r\n\r\n    public static final int MANUAL = 1; \r\n    public static final int AUTO = 2; \r\n    public static final int EXIT = 3; \r\n\r\n as I want the constants to be structured in the constants class. Thanks!","title":"Java using HashMap with switch statement","body":"<p>I have a constants class where I saved HashMaps of constants like:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n/**\n * Constantes de uso general en el programa.\n */\npublic final class Consts {\n\n    // Opciones del menu de juego.\n    public static final Map&lt;Integer, String&gt; GAMETYPE;\n    static\n    {\n        GAMETYPE = new HashMap&lt;&gt;();\n        GAMETYPE.put(1, \"MANUAL\");\n        GAMETYPE.put(2, \"AUTOMATIC\");\n        GAMETYPE.put(3, \"EXIT\");\n    }\n\n    /**\n     *\n     * @param userType\n     * @return\n     */\n    public static String valueOf(int userType) {\n        return GAMETYPE.get(userType);\n    }\n    /**\n     * Impide construir objetos de esta clase.\n     */\n    private Consts(){\n        // Tampoco permite a la clase nativa llamar al constructor.\n        throw new AssertionError();\n    }\n}\n</code></pre>\n\n<p>I want to use this constants in a switch-case statement in another class like: </p>\n\n<pre><code>userType = sc.nextInt();\nswitch(Consts.valueOf(userType)) {\n    case MANUAL:\n        System.out.println(\"&gt;&gt; You have selected the manual mode\");\n        break;\n    case AUTO:\n        System.out.println(\"&gt;&gt; You have selected the manual mode\");\n        break;\n    case EXIT:\n        System.out.println(\"&gt;&gt; Good-bye\");\n        break;\n</code></pre>\n\n<p>Still the program does not find MANUAL, AUTO or EXIT. Any idea?</p>\n\n<p>PS: I do not want to use Enums (this is how I have the constants structured right now but I think that the fact of having many classes for constants makes difficult to follow the code) and I do not want to have the constants declared one by one like:</p>\n\n<pre><code>public static final int MANUAL = 1; \npublic static final int AUTO = 2; \npublic static final int EXIT = 3; \n</code></pre>\n\n<p>as I want the constants to be structured in the constants class. Thanks!</p>\n"},{"tags":["java","cmake"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694100509,"post_id":77060874,"comment_id":135849872,"body_markdown":"If you have a JDK installed what is there to stop you from running the same commands that you would from the command line for `jar`?","body":"If you have a JDK installed what is there to stop you from running the same commands that you would from the command line for <code>jar</code>?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694110380,"post_id":77060874,"comment_id":135851719,"body_markdown":"Please let us know the reason why you don&#39;t want to use Maven for this task. It will be useful to understand the context around the question.","body":"Please let us know the reason why you don&#39;t want to use Maven for this task. It will be useful to understand the context around the question."},{"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"score":0,"creation_date":1694500507,"post_id":77060874,"comment_id":135895024,"body_markdown":"@g00se I could use the same commands to create jar, but I didn&#39;t know the combination of cmake commands to use.","body":"@g00se I could use the same commands to create jar, but I didn&#39;t know the combination of cmake commands to use."},{"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"score":0,"creation_date":1694500510,"post_id":77060874,"comment_id":135895025,"body_markdown":"@aled not using maven is the requirement of the task.","body":"@aled not using maven is the requirement of the task."}],"answers":[{"tags":[],"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694501322,"creation_date":1694501322,"answer_id":77086658,"question_id":77060874,"body_markdown":"[add_custom_command()][1] needs to be used in combination with [add_custom_target()][2].\r\n\r\nadd_custom_command() is used to build the file with dependencies and add_custom_target() to build it to target.\r\n\r\n    add_custom_command(\r\n            OUTPUT &quot;sources.jar&quot;\r\n            COMMAND jar -cf &quot;sources.jar&quot; &quot;${CMAKE_CURRENT_SOURCE_DIR}&quot;\r\n            DEPENDS ${PROJECT_NAME}\r\n            VERBATIM\r\n            COMMENT &quot;creating sources jar&quot;\r\n    )\r\n\r\n    add_custom_target(SourcesJar\r\n            ALL\r\n            DEPENDS &quot;sources.jar&quot;\r\n            )\r\n\r\n\r\n  [1]: https://cmake.org/cmake/help/latest/command/add_custom_command.html\r\n  [2]: https://cmake.org/cmake/help/latest/command/add_custom_target.html","title":"create source.jar with cmake without maven","body":"<p><a href=\"https://cmake.org/cmake/help/latest/command/add_custom_command.html\" rel=\"nofollow noreferrer\">add_custom_command()</a> needs to be used in combination with <a href=\"https://cmake.org/cmake/help/latest/command/add_custom_target.html\" rel=\"nofollow noreferrer\">add_custom_target()</a>.</p>\n<p>add_custom_command() is used to build the file with dependencies and add_custom_target() to build it to target.</p>\n<pre><code>add_custom_command(\n        OUTPUT &quot;sources.jar&quot;\n        COMMAND jar -cf &quot;sources.jar&quot; &quot;${CMAKE_CURRENT_SOURCE_DIR}&quot;\n        DEPENDS ${PROJECT_NAME}\n        VERBATIM\n        COMMENT &quot;creating sources jar&quot;\n)\n\nadd_custom_target(SourcesJar\n        ALL\n        DEPENDS &quot;sources.jar&quot;\n        )\n</code></pre>\n"}],"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694501322,"creation_date":1694099744,"question_id":77060874,"body_markdown":"I would like to generate a source file jar (source.jar) via cmake -- without maven support. \r\n\r\nBy using add_jar(), I can create the binary java bindings for my project using cmake, but not source.jar \r\nFrom the [documentation ](https://cmake.org/cmake/help/latest/module/UseJava.html), I could not find a useful lead to solve the issue. \r\n\r\nAny idea on how to generate the jar via cmake?","title":"create source.jar with cmake without maven","body":"<p>I would like to generate a source file jar (source.jar) via cmake -- without maven support.</p>\n<p>By using add_jar(), I can create the binary java bindings for my project using cmake, but not source.jar\nFrom the <a href=\"https://cmake.org/cmake/help/latest/module/UseJava.html\" rel=\"nofollow noreferrer\">documentation </a>, I could not find a useful lead to solve the issue.</p>\n<p>Any idea on how to generate the jar via cmake?</p>\n"},{"tags":["java","spring-boot","lombok","maven-multi-module"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1694461472,"post_id":77084133,"comment_id":135891427,"body_markdown":"What is the module1 groupId, artifactId, and version?  Is that a listed dependency in module2?","body":"What is the module1 groupId, artifactId, and version?  Is that a listed dependency in module2?"}],"owner":{"account_id":17841291,"reputation":1,"user_id":12959114,"display_name":"Sagar Chidre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694501051,"creation_date":1694458315,"question_id":77084133,"body_markdown":"\r\n----------\r\n\r\nwhile building the module I am getting symbol not found issue even though getters setters are there and I am using lombok.\r\n\r\nIn moule1 all entites and DTO&#39;s are there I am able to acces those entites and DTO&#39;s in module 2 and it working fine but when I try to build module2 its giving error as **symbol not found.**\r\n\r\nNot able to understand what is the issue since I am new maven multi module project\r\n\r\n&gt;      this is my module1 pom.xml\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n&gt; ```\r\n&gt;  This is my module2 pom.xml\r\n&gt; ```\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nelito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!--&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;--&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```","title":"cannot find symbol issue for maven multimodule project","body":"<hr />\n<p>while building the module I am getting symbol not found issue even though getters setters are there and I am using lombok.</p>\n<p>In moule1 all entites and DTO's are there I am able to acces those entites and DTO's in module 2 and it working fine but when I try to build module2 its giving error as <strong>symbol not found.</strong></p>\n<p>Not able to understand what is the issue since I am new maven multi module project</p>\n<blockquote>\n<pre><code> this is my module1 pom.xml\n</code></pre>\n</blockquote>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<blockquote>\n<pre><code> This is my module2 pom.xml\n</code></pre>\n</blockquote>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nelito&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!--&lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;--&gt;\n                    \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694462407,"post_id":77082756,"comment_id":135891557,"body_markdown":"What is `logReader`? If it is a field, then each loop iteration will overwrite the previous value. The lambda passed to the scheduler captures the `logReader` variable in a closure and uses the latest value _at execution time_ (not at scheduling time). Without a [mre] (as _text_; in the question), this is just an educated guess.","body":"What is <code>logReader</code>? If it is a field, then each loop iteration will overwrite the previous value. The lambda passed to the scheduler captures the <code>logReader</code> variable in a closure and uses the latest value <i>at execution time</i> (not at scheduling time). Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (as <i>text</i>; in the question), this is just an educated guess."}],"answers":[{"tags":[],"owner":{"account_id":23126814,"reputation":45,"user_id":17232487,"display_name":"Bambi2k21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694500036,"creation_date":1694500036,"answer_id":77086544,"question_id":77082756,"body_markdown":"I have solved the problem. What was happing is that, it was not the value of the string that was being overwritten, but the object itself. This was happening because I declared &quot;logReader&quot;, as a global variable, so instead of creating a new object every time, it just overwrote the value, of the last object. I solved this by creating a new object every time I was iterating through the errors.\r\n\r\n```\r\nfor(int errorId = 0; errorId &lt; errors.size(); errorId++) {\r\n\r\n                LogReader logReader;\r\n                String errorText = logConfig.getErrorNames().get(errorId);\r\n\r\n                logReader = new LogReader(errorText, pathToLog, registry);\r\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\r\n                    try {\r\n                        logReader.runLogReader();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }, Duration.ofMillis(logReaderRerunTime));\r\n            }\r\n```","title":"Why is the global value getting overwritten from another object?","body":"<p>I have solved the problem. What was happing is that, it was not the value of the string that was being overwritten, but the object itself. This was happening because I declared &quot;logReader&quot;, as a global variable, so instead of creating a new object every time, it just overwrote the value, of the last object. I solved this by creating a new object every time I was iterating through the errors.</p>\n<pre><code>for(int errorId = 0; errorId &lt; errors.size(); errorId++) {\n\n                LogReader logReader;\n                String errorText = logConfig.getErrorNames().get(errorId);\n\n                logReader = new LogReader(errorText, pathToLog, registry);\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\n                    try {\n                        logReader.runLogReader();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                }, Duration.ofMillis(logReaderRerunTime));\n            }\n</code></pre>\n"}],"owner":{"account_id":23126814,"reputation":45,"user_id":17232487,"display_name":"Bambi2k21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77086544,"answer_count":1,"score":1,"last_activity_date":1694500036,"creation_date":1694444347,"question_id":77082756,"body_markdown":"I am developing a log reader, that counts, how many errors(that were specified in yaml), appear since the last time I checked(I made a fake log write where I write every 5 seconds one of the errors to the log.)\r\n```\r\n      logs:\r\n        - path: path-to-file\\logname.log\r\n          error_names:\r\n            - Error1t\r\n            - Error2t\r\n            - Error3t\r\n          interval: 10\r\n```\r\n\r\nThe problem is that I need to create for each log a different object. And then I add that object to a taskscheduller and it rerurns that code indefinetly.\r\n```\r\npublic void execute() throws DfException, IOException, InterruptedException {\r\n        int logFileAmount = config.getLogs().size();\r\n        for(int logId = 0; logId &lt; logFileAmount; logId++){\r\n\r\n            var logConfig = config.getLogs().get(logId);\r\n            var logReaderRerunTime = logConfig.getInterval() * 1000;\r\n            var errors = logConfig.getErrorNames();\r\n\r\n            for(int errorId = 0; errorId &lt; errors.size(); errorId++) {\r\n                var errorText = logConfig.getErrorNames().get(errorId);\r\n                System.out.println(errorText);\r\n                logReader = new LogReader(errorText, registry, config);\r\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\r\n                    try {\r\n                        logReader.runLogReader();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }, Duration.ofMillis(logReaderRerunTime));\r\n            }\r\n        }\r\n    }\r\n```\r\nThe logic behind the class(LogReader, you can see it bellow) is this: I append to a list(listOfLogs) the log that appeared since the last time I checked, and give it one of the error strings(errorText) so that it can see how many of them are in that list, thus I can now how many new errors appeared since the last time I checked.\r\nBut for some reason my output looks \r\n```\r\nError11t\r\nError11t 0\r\nError22t\r\nError22t 0\r\nError33t\r\nError11t 0\r\nError33t 0\r\nError22t 0\r\nError33t 0\r\n\r\n \r\nError33t 0\r\nError33t 0\r\nError33t 0\r\nError33t 3\r\nError33t 3\r\nError33t 88\r\n```\r\n\r\nSo what happens that after initialization of the object and the first task scheduller run, the value of all the strings in the object, become overwriten by the last string I gave. Why?\r\nFull Code:\r\nhttps://pastebin.com/JHQpmgGZ","title":"Why is the global value getting overwritten from another object?","body":"<p>I am developing a log reader, that counts, how many errors(that were specified in yaml), appear since the last time I checked(I made a fake log write where I write every 5 seconds one of the errors to the log.)</p>\n<pre><code>      logs:\n        - path: path-to-file\\logname.log\n          error_names:\n            - Error1t\n            - Error2t\n            - Error3t\n          interval: 10\n</code></pre>\n<p>The problem is that I need to create for each log a different object. And then I add that object to a taskscheduller and it rerurns that code indefinetly.</p>\n<pre><code>public void execute() throws DfException, IOException, InterruptedException {\n        int logFileAmount = config.getLogs().size();\n        for(int logId = 0; logId &lt; logFileAmount; logId++){\n\n            var logConfig = config.getLogs().get(logId);\n            var logReaderRerunTime = logConfig.getInterval() * 1000;\n            var errors = logConfig.getErrorNames();\n\n            for(int errorId = 0; errorId &lt; errors.size(); errorId++) {\n                var errorText = logConfig.getErrorNames().get(errorId);\n                System.out.println(errorText);\n                logReader = new LogReader(errorText, registry, config);\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\n                    try {\n                        logReader.runLogReader();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                }, Duration.ofMillis(logReaderRerunTime));\n            }\n        }\n    }\n</code></pre>\n<p>The logic behind the class(LogReader, you can see it bellow) is this: I append to a list(listOfLogs) the log that appeared since the last time I checked, and give it one of the error strings(errorText) so that it can see how many of them are in that list, thus I can now how many new errors appeared since the last time I checked.\nBut for some reason my output looks</p>\n<pre><code>Error11t\nError11t 0\nError22t\nError22t 0\nError33t\nError11t 0\nError33t 0\nError22t 0\nError33t 0\n\n \nError33t 0\nError33t 0\nError33t 0\nError33t 3\nError33t 3\nError33t 88\n</code></pre>\n<p>So what happens that after initialization of the object and the first task scheduller run, the value of all the strings in the object, become overwriten by the last string I gave. Why?\nFull Code:\n<a href=\"https://pastebin.com/JHQpmgGZ\" rel=\"nofollow noreferrer\">https://pastebin.com/JHQpmgGZ</a></p>\n"},{"tags":["java","eclipse","tomcat","command-line-interface"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694272655,"post_id":77064567,"comment_id":135871117,"body_markdown":"[`ant`](https://www.tutorialspoint.com/ant/ant_creating_war_files.htm) looks like a good option","body":"<a href=\"https://www.tutorialspoint.com/ant/ant_creating_war_files.htm\" rel=\"nofollow noreferrer\"><code>ant</code></a> looks like a good option"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694273102,"post_id":77064567,"comment_id":135871166,"body_markdown":"Where .java files are? same directory as .class ones? if so may a manual compile would be the easiest way","body":"Where .java files are? same directory as .class ones? if so may a manual compile would be the easiest way"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1694500005,"post_id":77064567,"comment_id":135894938,"body_markdown":"@LMC Thanks for your comment. Eclipse puts the calss file for a file `dao.java` which sits in `src/com/package/my` into the directory `bin/com/package/my`.  So it would be great if the command line tool did the same.","body":"@LMC Thanks for your comment. Eclipse puts the calss file for a file <code>dao.java</code> which sits in <code>src&#47;com&#47;package&#47;my</code> into the directory <code>bin&#47;com&#47;package&#47;my</code>.  So it would be great if the command line tool did the same."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694525860,"post_id":77064567,"comment_id":135900319,"body_markdown":"I meant to ask where are *.java files on remote machine. They should be packed inside the war file.","body":"I meant to ask where are *.java files on remote machine. They should be packed inside the war file."}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694499984,"creation_date":1694153984,"question_id":77064567,"body_markdown":"I have a web project in Eclipse with all the normal stuff: Some data access classes in `src`, some JSP pages in `WebContent` and some static files (css, images) in sub-directories in `WebContent`.\r\n\r\nIn Eclipse I can easily compile the project and spin up a dev Tomcat instance via Eclipse&#39;s _Servers_ pane.\r\n\r\nHowever I will need to move this project to a remote machine without GUI access. I have only terminal access which I will so to make minor changes to Java code and JSP files. After doing so, I need to compile the whole project and spin up a dev Tomcat to view the result. \r\n\r\nIs there a command line tool which can compile a Tomcat project and spin up a dev Tomcat with the project?\r\n\r\nOn the [Tomcat site][1] I found the [Tomcat Client Deployer][2] mentioned. However this tool looks quite complicated needing a lot of configuration. My (Eclipse) project  however contains all the config information already - I just would need a command line tool which reads them, compiles the WAR and spins up Tomcat...\r\n\r\n**New Idea:**\r\n\r\nMaybe Eclipse can be called from the command line without opening a GUI to do this?\r\n\r\n  [1]: https://tomcat.apache.org\r\n  [2]: https://tomcat.apache.org/tomcat-8.5-doc/deployer-howto.html#Deploying_using_the_Client_Deployer_Package\r\n","title":"Compiling a Tomcat project and spinning a dev Tomcat up from the command line","body":"<p>I have a web project in Eclipse with all the normal stuff: Some data access classes in <code>src</code>, some JSP pages in <code>WebContent</code> and some static files (css, images) in sub-directories in <code>WebContent</code>.</p>\n<p>In Eclipse I can easily compile the project and spin up a dev Tomcat instance via Eclipse's <em>Servers</em> pane.</p>\n<p>However I will need to move this project to a remote machine without GUI access. I have only terminal access which I will so to make minor changes to Java code and JSP files. After doing so, I need to compile the whole project and spin up a dev Tomcat to view the result.</p>\n<p>Is there a command line tool which can compile a Tomcat project and spin up a dev Tomcat with the project?</p>\n<p>On the <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Tomcat site</a> I found the <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/deployer-howto.html#Deploying_using_the_Client_Deployer_Package\" rel=\"nofollow noreferrer\">Tomcat Client Deployer</a> mentioned. However this tool looks quite complicated needing a lot of configuration. My (Eclipse) project  however contains all the config information already - I just would need a command line tool which reads them, compiles the WAR and spins up Tomcat...</p>\n<p><strong>New Idea:</strong></p>\n<p>Maybe Eclipse can be called from the command line without opening a GUI to do this?</p>\n"},{"tags":["java","firebase","rest","firebase-cloud-messaging"],"owner":{"account_id":29420022,"reputation":1,"user_id":22541942,"display_name":"Gopal Mehra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694499583,"creation_date":1694499366,"question_id":77086495,"body_markdown":"currently i am integrating v1 api of push notification Migrate from legacy FCM APIs to HTTP v1 and i am facing issue of **The registration token is not a valid FCM registration token** and in my case i&#39;ve generated the OAuth token from the **https://developers.google.com/oauthplayground/** platform and i am having request type post having url-https://fcm.googleapis.com/v1/projects/cedar-freedom-396911/messages:send and i am sending the OAuth token in authorization tab .\r\nNote.i am generating OAuth token from my dummy project of Firebase w.r.t client id and client secret.\r\nstill getting error \r\n\r\ni have tried many times and my oauth token is generted successfully and my android token is also working with last api of push notoification but in this updated api i am getting error of The registration token is not a valid FCM registration token provide me steps to resolve this isssue.\r\n\r\n\r\n[Postman image 1][1]\r\n[Postman image 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dIJUp.png\r\n  [2]: https://i.stack.imgur.com/jHbu6.png","title":"Issue in v1 Migrate from legacy FCM APIs to HTTP v1 getting error 400 Bead Request The registration token is not a valid FCM registration token","body":"<p>currently i am integrating v1 api of push notification Migrate from legacy FCM APIs to HTTP v1 and i am facing issue of <strong>The registration token is not a valid FCM registration token</strong> and in my case i've generated the OAuth token from the <strong><a href=\"https://developers.google.com/oauthplayground/\" rel=\"nofollow noreferrer\">https://developers.google.com/oauthplayground/</a></strong> platform and i am having request type post having url-https://fcm.googleapis.com/v1/projects/cedar-freedom-396911/messages:send and i am sending the OAuth token in authorization tab .\nNote.i am generating OAuth token from my dummy project of Firebase w.r.t client id and client secret.\nstill getting error</p>\n<p>i have tried many times and my oauth token is generted successfully and my android token is also working with last api of push notoification but in this updated api i am getting error of The registration token is not a valid FCM registration token provide me steps to resolve this isssue.</p>\n<p><a href=\"https://i.stack.imgur.com/dIJUp.png\" rel=\"nofollow noreferrer\">Postman image 1</a>\n<a href=\"https://i.stack.imgur.com/jHbu6.png\" rel=\"nofollow noreferrer\">Postman image 2</a></p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610973311,"post_id":65774604,"comment_id":116293421,"body_markdown":"Maybe this will help you https://www.baeldung.com/java-curl","body":"Maybe this will help you <a href=\"https://www.baeldung.com/java-curl\" rel=\"nofollow noreferrer\">baeldung.com/java-curl</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1610973429,"post_id":65774604,"comment_id":116293478,"body_markdown":"Are you using native Java, this can be easy if you are using Spring boot for example!","body":"Are you using native Java, this can be easy if you are using Spring boot for example!"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1610973559,"post_id":65774604,"comment_id":116293539,"body_markdown":"Take a look also to `RestTemplate` maybe it can help you","body":"Take a look also to <code>RestTemplate</code> maybe it can help you"},{"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"score":0,"creation_date":1610975286,"post_id":65774604,"comment_id":116294325,"body_markdown":"RestTemplate will be discontinued so if you are planning to make this long-term solution try WebClient from Spring","body":"RestTemplate will be discontinued so if you are planning to make this long-term solution try WebClient from Spring"},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1640977963,"post_id":65774604,"comment_id":124703386,"body_markdown":"Does this answer your question? [How to use java.net.URLConnection to fire and handle HTTP requests](https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">How to use java.net.URLConnection to fire and handle HTTP requests</a>"}],"answers":[{"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1610976140,"post_id":65775164,"comment_id":116294721,"body_markdown":"This is Spring specific solution. OP asked for a very general option to send HTTP request from Java.","body":"This is Spring specific solution. OP asked for a very general option to send HTTP request from Java."},{"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"score":0,"creation_date":1610976282,"post_id":65775164,"comment_id":116294791,"body_markdown":"@MichaelGantman he did not say not to use any framework though so why the downvote, there are many options, spring is one of them","body":"@MichaelGantman he did not say not to use any framework though so why the downvote, there are many options, spring is one of them"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1610976564,"post_id":65775164,"comment_id":116294932,"body_markdown":"You are correct - Spring is one of the options. If he uses spring then yes, that would be a way to do it. But if he doesn&#39;t then to use Spring just to make a simple HTTP request is huge overshot. Plus your answer is misleading making him think that if he needs to send HTTP request Spring would be the first option to think about. There are by far more simpler ways to send HTTP request. Hence the downvote. (Please don&#39;t take it personally).","body":"You are correct - Spring is one of the options. If he uses spring then yes, that would be a way to do it. But if he doesn&#39;t then to use Spring just to make a simple HTTP request is huge overshot. Plus your answer is misleading making him think that if he needs to send HTTP request Spring would be the first option to think about. There are by far more simpler ways to send HTTP request. Hence the downvote. (Please don&#39;t take it personally)."},{"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"score":0,"creation_date":1610977580,"post_id":65775164,"comment_id":116295461,"body_markdown":"@MichaelGantman I don&#39;t. I think the answer by Mark Bramnik is the best since it provides multiple approaches, this was just first that came to my mind, I have not thought of the possibility that the OP could be misled that he needs a 3rd party framework, so I&#39;ll take that to my future answers.","body":"@MichaelGantman I don&#39;t. I think the answer by Mark Bramnik is the best since it provides multiple approaches, this was just first that came to my mind, I have not thought of the possibility that the OP could be misled that he needs a 3rd party framework, so I&#39;ll take that to my future answers."}],"tags":[],"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610975423,"creation_date":1610975423,"answer_id":65775164,"question_id":65774604,"body_markdown":"If you are using Spring then try WebClient - it is a bit harder to understand in the begging (at least harder than RestTemplate) but it pays of since RestTemplate will be discontinued.\r\n\r\nYou can find an example here\r\n\r\nhttps://www.baeldung.com/spring-webclient-resttemplate\r\n\r\n    @GetMapping(value = &quot;/tweets-non-blocking&quot;, \r\n                produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;Tweet&gt; getTweetsNonBlocking() {\r\n        log.info(&quot;Starting NON-BLOCKING Controller!&quot;);\r\n        Flux&lt;Tweet&gt; tweetFlux = WebClient.create()\r\n          .get()\r\n          .uri(getSlowServiceUri())\r\n          .retrieve()\r\n          .bodyToFlux(Tweet.class);\r\n    \r\n        tweetFlux.subscribe(tweet -&gt; log.info(tweet.toString()));\r\n        log.info(&quot;Exiting NON-BLOCKING Controller!&quot;);\r\n        return tweetFlux;\r\n    }\r\n\r\nJust be aware that this is non-blocking (e.g. asynchronous) solution so you won&#39;t get the response right away, but you subscribe to the request and then process the response when it is available. There are also blocking options in WebClient","title":"How to send HTTP request from Java","body":"<p>If you are using Spring then try WebClient - it is a bit harder to understand in the begging (at least harder than RestTemplate) but it pays of since RestTemplate will be discontinued.</p>\n<p>You can find an example here</p>\n<p><a href=\"https://www.baeldung.com/spring-webclient-resttemplate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webclient-resttemplate</a></p>\n<pre><code>@GetMapping(value = &quot;/tweets-non-blocking&quot;, \n            produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;Tweet&gt; getTweetsNonBlocking() {\n    log.info(&quot;Starting NON-BLOCKING Controller!&quot;);\n    Flux&lt;Tweet&gt; tweetFlux = WebClient.create()\n      .get()\n      .uri(getSlowServiceUri())\n      .retrieve()\n      .bodyToFlux(Tweet.class);\n\n    tweetFlux.subscribe(tweet -&gt; log.info(tweet.toString()));\n    log.info(&quot;Exiting NON-BLOCKING Controller!&quot;);\n    return tweetFlux;\n}\n</code></pre>\n<p>Just be aware that this is non-blocking (e.g. asynchronous) solution so you won't get the response right away, but you subscribe to the request and then process the response when it is available. There are also blocking options in WebClient</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610975992,"creation_date":1610975992,"answer_id":65775312,"question_id":65774604,"body_markdown":"Java has its own classes that allow you to send HTTP request. See class [HttpURLConnection][1]. However, I recommend using 3d party libraries that significantly simplify this task. Good libraries would be [Apache Http client][2] or [OK Http client][3]. I also can offer you to use another Open source library that has an HTTP client as well. It is called MgntUtils library and it is written by me. In this case your code would look something like this:\r\n\r\n    \t    \tHttpClient workingClient = new HttpClient();\r\n    \t    \tworkingClient.setRequestProperty(&quot;accept&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n    \t    \tworkingClient.setRequestProperty(&quot;apikey&quot;, &quot;***&quot;);\r\n                workingClient.setConnectionUrl(&quot;https://***&quot;);\r\n                ByteBuffer buffer = \r\n                workingClient.sendHttpRequestForBinaryResponse(HttpMethod.GET);\r\n                \r\n                //or of your API returns contents of file as a string\r\n                String jsonStr = workingClient.sendHttpRequest(HttpMethod.GET);\r\n\r\nAfter that, your ByteBuffer buffer or String jsonStr will hold the content of your JSON file. And now you can do whatever you need with it. Here is [Javadoc for HttpClient][4] class. The MgntUtils library can be obtained as maven artifacts [here][5] or on [Github][6] (including source code and Javadoc)\r\n\r\n          \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/\r\n  [3]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [4]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [5]: https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases","title":"How to send HTTP request from Java","body":"<p>Java has its own classes that allow you to send HTTP request. See class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a>. However, I recommend using 3d party libraries that significantly simplify this task. Good libraries would be <a href=\"https://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow noreferrer\">Apache Http client</a> or <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OK Http client</a>. I also can offer you to use another Open source library that has an HTTP client as well. It is called MgntUtils library and it is written by me. In this case your code would look something like this:</p>\n<pre><code>            HttpClient workingClient = new HttpClient();\n            workingClient.setRequestProperty(&quot;accept&quot;, &quot;application/json;charset=UTF-8&quot;);\n            workingClient.setRequestProperty(&quot;apikey&quot;, &quot;***&quot;);\n            workingClient.setConnectionUrl(&quot;https://***&quot;);\n            ByteBuffer buffer = \n            workingClient.sendHttpRequestForBinaryResponse(HttpMethod.GET);\n            \n            //or of your API returns contents of file as a string\n            String jsonStr = workingClient.sendHttpRequest(HttpMethod.GET);\n</code></pre>\n<p>After that, your ByteBuffer buffer or String jsonStr will hold the content of your JSON file. And now you can do whatever you need with it. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">Javadoc for HttpClient</a> class. The MgntUtils library can be obtained as maven artifacts <a href=\"https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\" rel=\"nofollow noreferrer\">here</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"},{"comments":[{"owner":{"account_id":14959552,"reputation":548,"user_id":10799684,"display_name":"Ananth Kamath"},"score":0,"creation_date":1640582869,"post_id":65775322,"comment_id":124608270,"body_markdown":"If i want to use option 1, how shall is use POST() instead of GET() in HttpRequest?\nCould you please help?","body":"If i want to use option 1, how shall is use POST() instead of GET() in HttpRequest? Could you please help?"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1640593120,"post_id":65775322,"comment_id":124610245,"body_markdown":"Have you checked the link I&#39;ve provided in the answer? (The one that starts wuth &quot;For more examples see here&quot;) It contains an example of POST requests. Usually these requests come with Body, but this is related to HTTP in general and not to a particular http client, so you&#39;ll have to grasp this concept anyway.","body":"Have you checked the link I&#39;ve provided in the answer? (The one that starts wuth &quot;For more examples see here&quot;) It contains an example of POST requests. Usually these requests come with Body, but this is related to HTTP in general and not to a particular http client, so you&#39;ll have to grasp this concept anyway."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610976054,"creation_date":1610976054,"answer_id":65775322,"question_id":65774604,"body_markdown":"Java has a lot of options to work with HTTP.\r\n\r\n\r\n**Option 1**\r\n\r\nSince Java 9, there is a built-in HTTP client. So You can use it to create a request without any third-party libraries.\r\n\r\nA simple example is something like this:\r\n\r\n~~~\r\nHttpRequest request2 = HttpRequest.newBuilder()\r\n  .uri(new URI(&quot;some url&quot;))\r\n  .header(&quot;someHeader&quot;, &quot;value1&quot;)\r\n  .header(&quot;anotherHeader&quot;, &quot;value2&quot;)\r\n  .GET()\r\n  .build();\r\n~~~\r\n\r\nFor more examples see [here][1]\r\n\r\n**Option 2**\r\n\r\nUse third party libraries, there are many: [OkHttpClient][2], More &quot;old-school&quot; [Apache Http Client (HttpComponents][3]\r\n\r\n**Option 3**\r\n\r\nIf you&#39;re using spring, you might consider using Spring&#39;s WebClient. There are also wrappers in spring like RestTemplate that can come handy, but it really depends on what would you like to work with.\r\n\r\nMany clients are coming with http connection pools that should be properly set up.\r\nIn addition, in your example, I see that you work with https - all these clients support it but it should be properly set up.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-9-http-client\r\n  [2]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [3]: https://hc.apache.org/httpcomponents-client-ga/","title":"How to send HTTP request from Java","body":"<p>Java has a lot of options to work with HTTP.</p>\n<p><strong>Option 1</strong></p>\n<p>Since Java 9, there is a built-in HTTP client. So You can use it to create a request without any third-party libraries.</p>\n<p>A simple example is something like this:</p>\n<pre><code>HttpRequest request2 = HttpRequest.newBuilder()\n  .uri(new URI(&quot;some url&quot;))\n  .header(&quot;someHeader&quot;, &quot;value1&quot;)\n  .header(&quot;anotherHeader&quot;, &quot;value2&quot;)\n  .GET()\n  .build();\n</code></pre>\n<p>For more examples see <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>Option 2</strong></p>\n<p>Use third party libraries, there are many: <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OkHttpClient</a>, More &quot;old-school&quot; <a href=\"https://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow noreferrer\">Apache Http Client (HttpComponents</a></p>\n<p><strong>Option 3</strong></p>\n<p>If you're using spring, you might consider using Spring's WebClient. There are also wrappers in spring like RestTemplate that can come handy, but it really depends on what would you like to work with.</p>\n<p>Many clients are coming with http connection pools that should be properly set up.\nIn addition, in your example, I see that you work with https - all these clients support it but it should be properly set up.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694499398,"creation_date":1694499398,"answer_id":77086498,"question_id":65774604,"body_markdown":"To trigger a simple get request we can use following code \r\n\r\n\t\r\n\t@GetMapping(&quot;triggersimpleget&quot;)\r\n\tpublic void triggersimpleget() {\r\n\t\ttry {\r\n\t\t\t/**\r\n\t\t\t * request will be sent to url\r\n\t\t\t */\r\n\t\t\tString url = &quot;http://localhost:1818/simpleget&quot;;\r\n\t\t\tHashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\r\n\t\t\t/**\r\n\t\t\t * setting header to accept json\r\n\t\t\t */\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();//instead of this we can create a bean and autowire it.\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\r\n\t\t\t/**\r\n\t\t\t * exchange( urltobehit, httpmethod, header, response, urivaraibles\r\n\t\t\t * we are sending get request and expecting boolean response\r\n\t\t\t */\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class);\r\n\t\t\tif (response.getStatusCodeValue() == HttpStatus.OK.value()) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Printing Resoponse body\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.println(&quot;test makes call successful :: &quot; + response.getBody());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Error while test making call&quot;);\r\n\t\t\t}\r\n\t\t} catch (HttpStatusCodeException exception) {\r\n\t\t\t/**\r\n\t\t\t * to get status code for exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(exception);\r\n\t\t} catch (Exception e) {\r\n\t\t\t/**\r\n\t\t\t * Other exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n\r\nthe above method will send request to following method in which @corsorigin is added  as this for demo\r\n\r\n\r\n\t@GetMapping(&quot;simpleget&quot;)\r\n\t@CrossOrigin /** to allow request from any origin **/\r\n\tpublic boolean simpleget() {\r\n\t\tSystem.out.println(&quot;Thank you i received the hit&quot;);\r\n\t\treturn true;\r\n\t}\r\n\r\nfor testing we can hit following url\r\n\r\n    http://localhost:port/triggersimpleget\r\n\r\nTo send get request with query parameter we can use following code \r\n\r\n\t@GetMapping(&quot;hitwithqueryparam&quot;)\r\n\tpublic void test(@RequestParam(value = &quot;input1&quot;) String input1, @RequestParam(value = &quot;input2&quot;) String input2) {\r\n\t\t/**\r\n\t\t * This method takes two input and calls testtwo endpoint passing query parameter\r\n\t\t */\r\n\t\ttry {\r\n\t\t\tString url = &quot;http://localhost:1818/acceptqueryparam?string1={firstinput}&amp;string2={secondinput}&quot;;\r\n\t\t\tHashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\r\n\t\t\t/**\r\n\t\t\t * Building and mapping query parameter\r\n\t\t\t */\r\n\t\t\tqueryparams.put(&quot;firstinput&quot;, input1); //will map values into the curly bracket as query param {}\r\n\t\t\tqueryparams.put(&quot;secondinput&quot;, input2);//will map values into the curly bracket as query param {}\r\n\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\t\t\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class,queryparams);\r\n\t\t\tif (response.getStatusCodeValue() == HttpStatus.OK.value()) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Printing Resoponse body\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.println(&quot;test makes call successful :: &quot; + response.getBody());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Error while test making call&quot;);\r\n\t\t\t}\r\n\t\t} catch (HttpStatusCodeException exception) {\r\n\t\t\tSystem.err.println(exception);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n\r\nBelow method will accept and print the query param\r\n\r\n\t@GetMapping(&quot;acceptqueryparam&quot;)\r\n\t@CrossOrigin\r\n\tpublic boolean acceptqueryparam(@RequestParam(value = &quot;string1&quot;) String string1,\r\n\t\t\t@RequestParam(value = &quot;string2&quot;) String string2) {\r\n\t\t/**\r\n\t\t * endpoint accepts query parameter as input and prints\r\n\t\t */\r\n\t\tif (string1.length() != 0 &amp;&amp; string2.length() != 0) {\r\n\t\t\tSystem.out.println(&quot;Receieved &quot; + string1 + &quot; and &quot; + string2);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nTo trigger post request following is the code \r\n\r\n\t@GetMapping(&quot;triggersimplepost&quot;)\r\n\tpublic void triggersimplepost() {\r\n\t\ttry {\r\n\t\t\t/**\r\n\t\t\t * request will be sent to url\r\n\t\t\t */\r\n\t\t\tString url = &quot;http://localhost:1818/simplepost&quot;;\r\n\t\t\tHashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\r\n\t\t\treqpayload.put(&quot;user&quot;, &quot;john&quot;);\r\n\t\t\t/**\r\n\t\t\t * setting header to accept json\r\n\t\t\t */\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\t\t/**\r\n\t\t\t * Adding request payload.\r\n\t\t\t */\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\r\n\t\t\t/**\r\n\t\t\t * exchange( urltobehit, httpmethod, header, response, urivaraibles\r\n\t\t\t * we are sending get request and expecting boolean response\r\n\t\t\t */\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\r\n\t\t\tif (response.getStatusCodeValue() == HttpStatus.OK.value()) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Printing Resoponse body\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.println(&quot;test makes call successful :: &quot; + response.getBody());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Error while test making call&quot;);\r\n\t\t\t}\r\n\t\t} catch (HttpStatusCodeException exception) {\r\n\t\t\t/**\r\n\t\t\t * to get status code for exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(exception);\r\n\t\t} catch (Exception e) {\r\n\t\t\t/**\r\n\t\t\t * Other exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n\r\n**Here is brief explnation**\r\n\r\nhere we are passing the request payload by passing the map, request boy is built\r\n\r\n\t\t\tHashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\r\n\t\t\treqpayload.put(&quot;user&quot;, &quot;john&quot;);\r\n\r\nAdding headers \r\n\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\r\nCombining headers and body \r\n\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\r\n\r\nTriggering a post call with request body and expected response as boolean\r\n\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\r\n\r\nfollowing method accepts the data and reads the same \r\n\r\n\t@PostMapping(&quot;simplepost&quot;)\r\n\t@CrossOrigin\r\n\tpublic boolean simplepost(@RequestBody Map&lt;String,String&gt; req) {\r\n\t\tSystem.out.println(&quot;Get request body and reading json body with key user :: &quot;+req.get(&quot;user&quot;));\r\n\t\treturn true;\r\n\t}\r\n","title":"How to send HTTP request from Java","body":"<p>To trigger a simple get request we can use following code</p>\n<pre><code>@GetMapping(&quot;triggersimpleget&quot;)\npublic void triggersimpleget() {\n    try {\n        /**\n         * request will be sent to url\n         */\n        String url = &quot;http://localhost:1818/simpleget&quot;;\n        HashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\n        /**\n         * setting header to accept json\n         */\n        RestTemplate restTemplate = new RestTemplate();//instead of this we can create a bean and autowire it.\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\n        /**\n         * exchange( urltobehit, httpmethod, header, response, urivaraibles\n         * we are sending get request and expecting boolean response\n         */\n        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class);\n        if (response.getStatusCodeValue() == HttpStatus.OK.value()) {\n            /**\n             * Printing Resoponse body\n             */\n            System.out.println(&quot;test makes call successful :: &quot; + response.getBody());\n        } else {\n            System.err.println(&quot;Error while test making call&quot;);\n        }\n    } catch (HttpStatusCodeException exception) {\n        /**\n         * to get status code for exception\n         */\n        System.err.println(exception);\n    } catch (Exception e) {\n        /**\n         * Other exception\n         */\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p>the above method will send request to following method in which @corsorigin is added  as this for demo</p>\n<pre><code>@GetMapping(&quot;simpleget&quot;)\n@CrossOrigin /** to allow request from any origin **/\npublic boolean simpleget() {\n    System.out.println(&quot;Thank you i received the hit&quot;);\n    return true;\n}\n</code></pre>\n<p>for testing we can hit following url</p>\n<pre><code>http://localhost:port/triggersimpleget\n</code></pre>\n<p>To send get request with query parameter we can use following code</p>\n<pre><code>@GetMapping(&quot;hitwithqueryparam&quot;)\npublic void test(@RequestParam(value = &quot;input1&quot;) String input1, @RequestParam(value = &quot;input2&quot;) String input2) {\n    /**\n     * This method takes two input and calls testtwo endpoint passing query parameter\n     */\n    try {\n        String url = &quot;http://localhost:1818/acceptqueryparam?string1={firstinput}&amp;string2={secondinput}&quot;;\n        HashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\n        /**\n         * Building and mapping query parameter\n         */\n        queryparams.put(&quot;firstinput&quot;, input1); //will map values into the curly bracket as query param {}\n        queryparams.put(&quot;secondinput&quot;, input2);//will map values into the curly bracket as query param {}\n\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n        \n        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\n        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class,queryparams);\n        if (response.getStatusCodeValue() == HttpStatus.OK.value()) {\n            /**\n             * Printing Resoponse body\n             */\n            System.out.println(&quot;test makes call successful :: &quot; + response.getBody());\n        } else {\n            System.err.println(&quot;Error while test making call&quot;);\n        }\n    } catch (HttpStatusCodeException exception) {\n        System.err.println(exception);\n    } catch (Exception e) {\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p>Below method will accept and print the query param</p>\n<pre><code>@GetMapping(&quot;acceptqueryparam&quot;)\n@CrossOrigin\npublic boolean acceptqueryparam(@RequestParam(value = &quot;string1&quot;) String string1,\n        @RequestParam(value = &quot;string2&quot;) String string2) {\n    /**\n     * endpoint accepts query parameter as input and prints\n     */\n    if (string1.length() != 0 &amp;&amp; string2.length() != 0) {\n        System.out.println(&quot;Receieved &quot; + string1 + &quot; and &quot; + string2);\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>To trigger post request following is the code</p>\n<pre><code>@GetMapping(&quot;triggersimplepost&quot;)\npublic void triggersimplepost() {\n    try {\n        /**\n         * request will be sent to url\n         */\n        String url = &quot;http://localhost:1818/simplepost&quot;;\n        HashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\n        reqpayload.put(&quot;user&quot;, &quot;john&quot;);\n        /**\n         * setting header to accept json\n         */\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n        /**\n         * Adding request payload.\n         */\n        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\n        /**\n         * exchange( urltobehit, httpmethod, header, response, urivaraibles\n         * we are sending get request and expecting boolean response\n         */\n        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\n        if (response.getStatusCodeValue() == HttpStatus.OK.value()) {\n            /**\n             * Printing Resoponse body\n             */\n            System.out.println(&quot;test makes call successful :: &quot; + response.getBody());\n        } else {\n            System.err.println(&quot;Error while test making call&quot;);\n        }\n    } catch (HttpStatusCodeException exception) {\n        /**\n         * to get status code for exception\n         */\n        System.err.println(exception);\n    } catch (Exception e) {\n        /**\n         * Other exception\n         */\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p><strong>Here is brief explnation</strong></p>\n<p>here we are passing the request payload by passing the map, request boy is built</p>\n<pre><code>        HashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\n        reqpayload.put(&quot;user&quot;, &quot;john&quot;);\n</code></pre>\n<p>Adding headers</p>\n<pre><code>        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n</code></pre>\n<p>Combining headers and body</p>\n<pre><code>        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\n</code></pre>\n<p>Triggering a post call with request body and expected response as boolean</p>\n<pre><code>        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\n</code></pre>\n<p>following method accepts the data and reads the same</p>\n<pre><code>@PostMapping(&quot;simplepost&quot;)\n@CrossOrigin\npublic boolean simplepost(@RequestBody Map&lt;String,String&gt; req) {\n    System.out.println(&quot;Get request body and reading json body with key user :: &quot;+req.get(&quot;user&quot;));\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":1095931,"reputation":2143,"user_id":1089532,"accept_rate":28,"display_name":"Ilkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8781,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1694499398,"creation_date":1610973140,"question_id":65774604,"body_markdown":"i&#39;m creating java module to parse JSON file.\r\n\r\nTo receive file i need to send HTTP request. When I use curl my request looks like this:\r\n\r\n    curl -X GET &quot;https://***&quot; -H &quot;accept: application/json&quot; -H &quot;apikey: ***&quot;\r\n\r\nHow can I send the equivalent HTTP request from Java \r\n\r\n","title":"How to send HTTP request from Java","body":"<p>i'm creating java module to parse JSON file.</p>\n<p>To receive file i need to send HTTP request. When I use curl my request looks like this:</p>\n<pre><code>curl -X GET &quot;https://***&quot; -H &quot;accept: application/json&quot; -H &quot;apikey: ***&quot;\n</code></pre>\n<p>How can I send the equivalent HTTP request from Java</p>\n"},{"tags":["java","android","payment","upi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670277220,"post_id":74693187,"comment_id":131835019,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23685891,"reputation":131,"user_id":17710837,"display_name":"Dinesh2510"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670304460,"creation_date":1670304460,"answer_id":74697650,"question_id":74693187,"body_markdown":"First check the Your **startActivityForResult** code and **onActivityResult** code if this is proper or try to add the below line in manifest.\r\n\r\n\r\n    &lt;queries&gt;\r\n    &lt;package android:name=&quot;com.facebook.katana&quot; /&gt;\r\n    &lt;package android:name=&quot;com.facebook.orca&quot; /&gt;\r\n    &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\r\n    &lt;package android:name=&quot;net.one97.paytm&quot; /&gt;\r\n    &lt;package android:name=&quot;com.google.android.apps.nbu.paisa.user&quot; /&gt;\r\n    &lt;package android:name=&quot;com.phonepe.app&quot; /&gt;\r\n    &lt;package android:name=&quot;in.amazon.mShop.android.shopping&quot; /&gt;\r\n    &lt;package android:name=&quot;in.org.npci.upiapp&quot; /&gt;\r\n    &lt;/queries&gt;\r\n\r\n\r\n","title":"Android, how to open UPI Payment Apps using Intent chooser, not working on Android 11 and 12 versions","body":"<p>First check the Your <strong>startActivityForResult</strong> code and <strong>onActivityResult</strong> code if this is proper or try to add the below line in manifest.</p>\n<pre><code>&lt;queries&gt;\n&lt;package android:name=&quot;com.facebook.katana&quot; /&gt;\n&lt;package android:name=&quot;com.facebook.orca&quot; /&gt;\n&lt;package android:name=&quot;com.whatsapp&quot; /&gt;\n&lt;package android:name=&quot;net.one97.paytm&quot; /&gt;\n&lt;package android:name=&quot;com.google.android.apps.nbu.paisa.user&quot; /&gt;\n&lt;package android:name=&quot;com.phonepe.app&quot; /&gt;\n&lt;package android:name=&quot;in.amazon.mShop.android.shopping&quot; /&gt;\n&lt;package android:name=&quot;in.org.npci.upiapp&quot; /&gt;\n&lt;/queries&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14412901,"reputation":251,"user_id":10411158,"display_name":"Vengatesh Murugasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694499205,"creation_date":1694499205,"answer_id":77086482,"question_id":74693187,"body_markdown":"Is there any common way to find payment apps?\r\nBecause many new apps introducing UPI payments so in order to resolve the new apps we may need to add in manifest and re publish our app.","title":"Android, how to open UPI Payment Apps using Intent chooser, not working on Android 11 and 12 versions","body":"<p>Is there any common way to find payment apps?\nBecause many new apps introducing UPI payments so in order to resolve the new apps we may need to add in manifest and re publish our app.</p>\n"}],"owner":{"account_id":26249391,"reputation":15,"user_id":19922414,"display_name":"nihal kapoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74697650,"answer_count":2,"score":1,"last_activity_date":1694499205,"creation_date":1670267054,"question_id":74693187,"body_markdown":"I have developed an app for the payment system, i have to show all the available apps of payments installed on android system, I have implemented it but having some issues in some higher versions of android. \r\nThe intent chooser option is getting inflated in android 10 but not in above version. \r\nThanks\r\n\r\nI have written the code successfully but having some issues in 11 and 12 versions of android. \r\n","title":"Android, how to open UPI Payment Apps using Intent chooser, not working on Android 11 and 12 versions","body":"<p>I have developed an app for the payment system, i have to show all the available apps of payments installed on android system, I have implemented it but having some issues in some higher versions of android.\nThe intent chooser option is getting inflated in android 10 but not in above version.\nThanks</p>\n<p>I have written the code successfully but having some issues in 11 and 12 versions of android.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694319924,"post_id":77074537,"comment_id":135874535,"body_markdown":"What Apache POI version used?","body":"What Apache POI version used?"},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694436073,"post_id":77074537,"comment_id":135886468,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;","body":"&lt;dependency&gt;             &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;             &lt;artifactId&gt;poi&lt;/artifactId&gt;             &lt;version&gt;4.1.2&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694437354,"post_id":77074537,"comment_id":135886760,"body_markdown":"Can you upgrade to current version 5.2.3? That has [XWPFParagraph.insertNewHyperlinkRun](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-) to insert a `XWPFHyperlinkRun` on special position of paragraph instead only appending it at the end of paragraph. Then insert `XWPFHyperlinkRun` before found `XWPFRun`, copy text and main formats from found `XWPFRun` to the new `XWPFHyperlinkRun` and then remove found `XWPFRun`.","body":"Can you upgrade to current version 5.2.3? That has <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-\" rel=\"nofollow noreferrer\">XWPFParagraph.insertNewHyperlinkRun</a> to insert a <code>XWPFHyperlinkRun</code> on special position of paragraph instead only appending it at the end of paragraph. Then insert <code>XWPFHyperlinkRun</code> before found <code>XWPFRun</code>, copy text and main formats from found <code>XWPFRun</code> to the new <code>XWPFHyperlinkRun</code> and then remove found <code>XWPFRun</code>."},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694478952,"post_id":77074537,"comment_id":135893264,"body_markdown":"I tried after the upgrade with latest 5.2.3 . Still I am getting the error   java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos). Please refer the latest code snipet","body":"I tried after the upgrade with latest 5.2.3 . Still I am getting the error   java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos). Please refer the latest code snipet"}],"answers":[{"comments":[{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694629550,"post_id":77086458,"comment_id":135917789,"body_markdown":"Thank you for the detailed explanation. Your logical explanation aligns perfectly with my implementations.","body":"Thank you for the detailed explanation. Your logical explanation aligns perfectly with my implementations."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694498853,"creation_date":1694498853,"answer_id":77086458,"question_id":77074537,"body_markdown":"I am not able to follow your usage of  [XWPFParagraph.insertNewHyperlinkRun](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-), especially what that `subTextIndex` shall be for. And why using `i`, which is the position of the text run in the paragraph, as text position in `XWPFHyperlinkRun.setText`?\r\n\r\nThe main problem while replacing text runs in a Word document is to have correct text runs at all. Microsoft Word splits text in text runs for an arbitrary amount of reasons. So such approaches only can work, when the text run to replace is clearly formatted to really be a text run of it&#39;s own. Only If that is given, then one can find the text run to replace. \r\n\r\nBut creating a hyperlink cannot be done only by replacing something of a found `XWPFRun`. The hyperlink surrounds the text run. So the former `XWPFRun` must be surrounded by the new `XWPFHyperlinkRun `. To do so, one can insert a `XWPFHyperlinkRun` in paragraph before found `XWPFRun`, copy text and main formats from found `XWPFRun` to the new `XWPFHyperlinkRun` and then remove found `XWPFRun`.\r\n\r\nFollowing complete example does that. It surrounds found text runs with a hyperlink and replaces text. It bases on a Word document where the placeholder &quot;helloURL&quot; clearly is formatted to be a text run of it&#39;s own.\r\n\r\n`source.docx`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    public class WordXWPFRunToXWPFHyperlinkRun {\r\n        \r\n     static List&lt;XWPFParagraph&gt; paragraphs = null;  \r\n         \r\n     static void findParagraphsContainigText(IBody body, String text) {\r\n      for (IBodyElement bodyElement : body.getBodyElements()) {\r\n       if (bodyElement instanceof XWPFParagraph) {\r\n        XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\r\n        if (paragraph.getText().contains(text)) {\r\n         paragraphs.add(paragraph);  \r\n        }\r\n       } else if (bodyElement instanceof XWPFTable) {\r\n        XWPFTable table = (XWPFTable)bodyElement;\r\n        for (XWPFTableRow tableRow : table.getRows()) {\r\n         for (ICell tableICell : tableRow.getTableICells()) {\r\n          if (tableICell instanceof XWPFTableCell) {\r\n           XWPFTableCell tableCell = (XWPFTableCell)tableICell;\r\n           findParagraphsContainigText(tableCell, text);\r\n          }\r\n         }\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      try (   \r\n            XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./source.docx&quot;));\r\n            FileOutputStream out = new FileOutputStream(&quot;./result.docx&quot;) ) {\r\n       String key = &quot;helloURL&quot;; \r\n       String replacement = &quot;stackoverflow&quot;; \r\n       String uri = &quot;https://stackoverflow.com&quot;;  \r\n       paragraphs = new ArrayList&lt;XWPFParagraph&gt;();    \r\n       findParagraphsContainigText(document, key);\r\n       for (XWPFParagraph paragraph : paragraphs) {\r\n        List&lt;XWPFRun&gt; runs = paragraph.getRuns();\r\n        for (int i = 0; i &lt; runs.size(); i++ ) {\r\n         XWPFRun run = runs.get(i);\r\n         String text = run.getText(0);\r\n         if (text.contains(key)) {\r\n          text = text.replace(key, replacement);\r\n          //insert hyperlink run before run\r\n          XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(i, uri);\r\n          //set CTR of hyperlink run the same as run\r\n          hyperlinkRun.getCTHyperlink().setRArray(0, run.getCTR());\r\n    \t  //set textrun&#39;s text\r\n    \t  hyperlinkRun.setText(text, 0);\r\n          //set hyperlinkk formats\r\n          hyperlinkRun.setColor(&quot;0000FF&quot;);\r\n          hyperlinkRun.setUnderline(UnderlinePatterns.SINGLE);\r\n          //remove old run\r\n          paragraph.removeRun(i+1);\r\n         }\r\n        }        \r\n       } \r\n       document.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\n`result.docx`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0F4gX.png\r\n  [2]: https://i.stack.imgur.com/nP2cU.png","title":"How to modify XWPFRun object to hyperlink without creating new run","body":"<p>I am not able to follow your usage of  <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-\" rel=\"nofollow noreferrer\">XWPFParagraph.insertNewHyperlinkRun</a>, especially what that <code>subTextIndex</code> shall be for. And why using <code>i</code>, which is the position of the text run in the paragraph, as text position in <code>XWPFHyperlinkRun.setText</code>?</p>\n<p>The main problem while replacing text runs in a Word document is to have correct text runs at all. Microsoft Word splits text in text runs for an arbitrary amount of reasons. So such approaches only can work, when the text run to replace is clearly formatted to really be a text run of it's own. Only If that is given, then one can find the text run to replace.</p>\n<p>But creating a hyperlink cannot be done only by replacing something of a found <code>XWPFRun</code>. The hyperlink surrounds the text run. So the former <code>XWPFRun</code> must be surrounded by the new <code>XWPFHyperlinkRun </code>. To do so, one can insert a <code>XWPFHyperlinkRun</code> in paragraph before found <code>XWPFRun</code>, copy text and main formats from found <code>XWPFRun</code> to the new <code>XWPFHyperlinkRun</code> and then remove found <code>XWPFRun</code>.</p>\n<p>Following complete example does that. It surrounds found text runs with a hyperlink and replaces text. It bases on a Word document where the placeholder &quot;helloURL&quot; clearly is formatted to be a text run of it's own.</p>\n<p><code>source.docx</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/0F4gX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0F4gX.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class WordXWPFRunToXWPFHyperlinkRun {\n    \n static List&lt;XWPFParagraph&gt; paragraphs = null;  \n     \n static void findParagraphsContainigText(IBody body, String text) {\n  for (IBodyElement bodyElement : body.getBodyElements()) {\n   if (bodyElement instanceof XWPFParagraph) {\n    XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\n    if (paragraph.getText().contains(text)) {\n     paragraphs.add(paragraph);  \n    }\n   } else if (bodyElement instanceof XWPFTable) {\n    XWPFTable table = (XWPFTable)bodyElement;\n    for (XWPFTableRow tableRow : table.getRows()) {\n     for (ICell tableICell : tableRow.getTableICells()) {\n      if (tableICell instanceof XWPFTableCell) {\n       XWPFTableCell tableCell = (XWPFTableCell)tableICell;\n       findParagraphsContainigText(tableCell, text);\n      }\n     }\n    }\n   }\n  }\n }\n\n public static void main(String[] args) throws Exception {\n  try (   \n        XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./source.docx&quot;));\n        FileOutputStream out = new FileOutputStream(&quot;./result.docx&quot;) ) {\n   String key = &quot;helloURL&quot;; \n   String replacement = &quot;stackoverflow&quot;; \n   String uri = &quot;https://stackoverflow.com&quot;;  \n   paragraphs = new ArrayList&lt;XWPFParagraph&gt;();    \n   findParagraphsContainigText(document, key);\n   for (XWPFParagraph paragraph : paragraphs) {\n    List&lt;XWPFRun&gt; runs = paragraph.getRuns();\n    for (int i = 0; i &lt; runs.size(); i++ ) {\n     XWPFRun run = runs.get(i);\n     String text = run.getText(0);\n     if (text.contains(key)) {\n      text = text.replace(key, replacement);\n      //insert hyperlink run before run\n      XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(i, uri);\n      //set CTR of hyperlink run the same as run\n      hyperlinkRun.getCTHyperlink().setRArray(0, run.getCTR());\n      //set textrun's text\n      hyperlinkRun.setText(text, 0);\n      //set hyperlinkk formats\n      hyperlinkRun.setColor(&quot;0000FF&quot;);\n      hyperlinkRun.setUnderline(UnderlinePatterns.SINGLE);\n      //remove old run\n      paragraph.removeRun(i+1);\n     }\n    }        \n   } \n   document.write(out);\n  }\n }\n}\n</code></pre>\n<p><code>result.docx</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/nP2cU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nP2cU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77086458,"answer_count":1,"score":0,"last_activity_date":1694499053,"creation_date":1694309653,"question_id":77074537,"body_markdown":"I want to update XWPFRun text to a hyperlink without creating a new run. If I try to do so, I get this error java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos)\r\n\r\n   \r\n\r\n    private void updateRunsForParagraph1(XWPFParagraph p, String text, String key, Map&lt;String, String&gt; hyperlinkMap, Map&lt;String, List&lt;Boolean&gt;&gt; singleWordMap,SBCFormatDocument sbcFormatDocumentObj) throws IOException {\r\n    \r\n    \t\tfor (int i = 0; i &lt; p.getRuns().size(); i++) {\r\n    \t\t\ttry {\r\n    \t\t\t\tString tmpText = p.getRuns().get(i).toString();\r\n    \r\n    \t\t\t\tif (tmpText != null &amp;&amp; tmpText.equalsIgnoreCase(text)) {\r\n    \t\t\t\t\t//p.removeRun(i);\r\n    \t\t\t\t\tString[] subText = text.split(&quot; &quot;);\r\n    \t\t\t\t\tint subTextIndex = 0;\r\n    \t\t\t\t\twhile (subTextIndex &lt; subText.length) {\r\n    \t\t\t\t\t\tString word = subText[subTextIndex];\r\n    \r\n    \t\t\t\t\t\tif (hyperlinkMap.keySet().contains(word) &amp;&amp; tmpText.equalsIgnoreCase(text)) {\r\n    \t\t\t\t\t\t\t//p.createHyperlinkRun(word).setText(word, 0);\r\n    \t\t\t\t\t\t\tp.insertNewHyperlinkRun(subTextIndex + i, word).setText(word, i);\r\n    \t\t\t\t\t\t\t//p.insertNewRun(subTextIndex + i + 1).setText(&quot; &quot;, 0);\r\n    \r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tunderLineAndHyperLinkWordsforParagraph(p, word, subTextIndex + i,hyperlinkMap,singleWordMap,sbcFormatDocumentObj);\r\n    \r\n    \t\t\t\t\t\tsubTextIndex++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to modify XWPFRun object to hyperlink without creating new run","body":"<p>I want to update XWPFRun text to a hyperlink without creating a new run. If I try to do so, I get this error java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos)</p>\n<pre><code>private void updateRunsForParagraph1(XWPFParagraph p, String text, String key, Map&lt;String, String&gt; hyperlinkMap, Map&lt;String, List&lt;Boolean&gt;&gt; singleWordMap,SBCFormatDocument sbcFormatDocumentObj) throws IOException {\n\n        for (int i = 0; i &lt; p.getRuns().size(); i++) {\n            try {\n                String tmpText = p.getRuns().get(i).toString();\n\n                if (tmpText != null &amp;&amp; tmpText.equalsIgnoreCase(text)) {\n                    //p.removeRun(i);\n                    String[] subText = text.split(&quot; &quot;);\n                    int subTextIndex = 0;\n                    while (subTextIndex &lt; subText.length) {\n                        String word = subText[subTextIndex];\n\n                        if (hyperlinkMap.keySet().contains(word) &amp;&amp; tmpText.equalsIgnoreCase(text)) {\n                            //p.createHyperlinkRun(word).setText(word, 0);\n                            p.insertNewHyperlinkRun(subTextIndex + i, word).setText(word, i);\n                            //p.insertNewRun(subTextIndex + i + 1).setText(&quot; &quot;, 0);\n\n                        }\n\n                        underLineAndHyperLinkWordsforParagraph(p, word, subTextIndex + i,hyperlinkMap,singleWordMap,sbcFormatDocumentObj);\n\n                        subTextIndex++;\n                    }\n                    break;\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","hbase","apache-zookeeper"],"comments":[{"owner":{"account_id":122140,"reputation":13464,"user_id":315752,"accept_rate":78,"display_name":"Andr&#233; Staltz"},"score":0,"creation_date":1348694856,"post_id":12607349,"comment_id":16999963,"body_markdown":"First of all, you shouldn&#39;t have only one zookeeper host (localhost). At least three zookeeper hosts should be configured in the property ``hbase.zookeeper.quorum`` in hbase-site.xml","body":"First of all, you shouldn&#39;t have only one zookeeper host (localhost). At least three zookeeper hosts should be configured in the property <code>hbase.zookeeper.quorum</code> in hbase-site.xml"},{"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"score":0,"creation_date":1348738387,"post_id":12607349,"comment_id":17011649,"body_markdown":"even if i&#39;m trying the code on my local machine ? (is not necessary an hdfs for this tries)","body":"even if i&#39;m trying the code on my local machine ? (is not necessary an hdfs for this tries)"},{"owner":{"account_id":122140,"reputation":13464,"user_id":315752,"accept_rate":78,"display_name":"Andr&#233; Staltz"},"score":0,"creation_date":1348778490,"post_id":12607349,"comment_id":17030412,"body_markdown":"Oh ok, that&#39;s fine. But then I wonder why you gave a value for `zookeeper.znode.parent`. That&#39;s not something you should normally configure just to try the code. Check the description here http://hbase.apache.org/book/config.files.html that is, remove this property from your xml and try to run again.","body":"Oh ok, that&#39;s fine. But then I wonder why you gave a value for <code>zookeeper.znode.parent</code>. That&#39;s not something you should normally configure just to try the code. Check the description here <a href=\"http://hbase.apache.org/book/config.files.html\" rel=\"nofollow noreferrer\">hbase.apache.org/book/config.files.html</a> that is, remove this property from your xml and try to run again."},{"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"score":0,"creation_date":1348824068,"post_id":12607349,"comment_id":17042076,"body_markdown":"i removed from hbase-site.xml the `zookeeper.znode.parent` (and remained localhost on the qorum property) but it gave me the same error","body":"i removed from hbase-site.xml the <code>zookeeper.znode.parent</code> (and remained localhost on the qorum property) but it gave me the same error"},{"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"score":0,"creation_date":1348824900,"post_id":12607349,"comment_id":17042484,"body_markdown":"ok solved , i ran ./hbase-config.sh and ./zookeepers.sh and that solved the problem ... thank you for your help!","body":"ok solved , i ran ./hbase-config.sh and ./zookeepers.sh and that solved the problem ... thank you for your help!"}],"answers":[{"tags":[],"owner":{"account_id":1245225,"reputation":34084,"user_id":1206837,"accept_rate":50,"display_name":"Tariq"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349204186,"creation_date":1349204186,"answer_id":12696474,"question_id":12607349,"body_markdown":"If you are using HBase in standalone mode, you don&#39;t even need all these properties..Although, a pseudo or a fully distributed mode required additional settings..By looking at your config props, I am assuming you are using HBase in local mode.So you can skip all those things. And for a pseudo distributed mode HBase&#39;s default ZK is sufficient.","title":"Can&#39;t connect to zookeeper and then hbase master shuts down","body":"<p>If you are using HBase in standalone mode, you don't even need all these properties..Although, a pseudo or a fully distributed mode required additional settings..By looking at your config props, I am assuming you are using HBase in local mode.So you can skip all those things. And for a pseudo distributed mode HBase's default ZK is sufficient.</p>\n"}],"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11174,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1694498915,"creation_date":1348681208,"question_id":12607349,"body_markdown":"I use hbase 0.94.1 and zookeeper 3.3.6 after few attempts, the master of hbase shuts down and the sw exits\r\n\r\nThose are the errors that I get from the shell\r\n\r\n    12/09/26 18:58:35 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=180000 watcher=hconnection\r\n    12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Opening socket connection to server /127.0.0.1:2181\r\n    12/09/26 18:58:35 INFO zookeeper.RecoverableZooKeeper: The identifier of this process is 5133@xxx-xxx\r\n    12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Socket connection established to localhost/127.0.0.1:2181, initiating session\r\n    12/09/26 18:58:35 WARN zookeeper.ClientCnxnSocket: Connected to an old server; r-o mode will be unavailable\r\n    12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Session establishment complete on server localhost/127.0.0.1:2181, sessionid = 0x13a037edbb2000c, negotiated timeout = 40000\r\n    12/09/26 18:58:36 ERROR client.HConnectionManager$HConnectionImplementation: Check the value configured in &#39;zookeeper.znode.parent&#39;. There could be a mismatch with the one configured in the master.\r\n    12/09/26 18:58:36 INFO client.HConnectionManager$HConnectionImplementation: Closed zookeeper sessionid=0x13a037edbb2000c\r\n    12/09/26 18:58:36 INFO zookeeper.ZooKeeper: Session: 0x13a037edbb2000c closed\r\n    12/09/26 18:58:36 INFO zookeeper.ClientCnxn: EventThread shut down\r\n    \r\n    org.apache.hadoop.hbase.MasterNotRunningException: Retried 10 times\r\n    \tat org.apache.hadoop.hbase.client.HBaseAdmin.&lt;init&gt;(HBaseAdmin.java:127)\r\n    \tat util.HBaseHelper.&lt;init&gt;(HBaseHelper.java:29)\r\n    \tat util.HBaseHelper.getHelper(HBaseHelper.java:33)\r\n    \tat driver.ABoxHbaseTableMaker.makeTable(ABoxHbaseTableMaker.java:39)\r\n    \tat driver.ABoxImporterDriver.run(ABoxImporterDriver.java:55)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\r\n    \tat driver.ABoxImporterDriver.main(ABoxImporterDriver.java:32)\r\n    \tat gui.Main.jButton1ActionPerformed(Main.java:274)\r\n    \tat gui.Main.access$3(Main.java:241)\r\n    \tat gui.Main$5.actionPerformed(Main.java:160)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n        ...\r\n\r\nT tried to change the port but nothing.\r\n\r\nThose are the config files:\r\n\r\n**zoo.cfg:**\r\n\r\n    tickTime=2000\r\n    dataDir=/home/.../.../zookeeper-3.3.6/data\r\n    clientPort=2181\r\n\r\n**hbase-site.xml**\r\n\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\r\n        &lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\r\n      &lt;/property&gt;\r\n     &lt;property&gt;\r\n    \t&lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\r\n    \t&lt;value&gt;localhost&lt;/value&gt;\r\n     &lt;/property&gt;\r\n     &lt;property&gt;\r\n    \t&lt;name&gt;zookeeper.znode.parent&lt;/name&gt;\r\n    \t&lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\r\n     &lt;/property&gt;\r\n     &lt;property&gt;\r\n    \t&lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\r\n    \t&lt;value&gt;2181&lt;/value&gt;\r\n     &lt;/property&gt;\r\n    &lt;/configuration&gt;","title":"Can&#39;t connect to zookeeper and then hbase master shuts down","body":"<p>I use hbase 0.94.1 and zookeeper 3.3.6 after few attempts, the master of hbase shuts down and the sw exits</p>\n\n<p>Those are the errors that I get from the shell</p>\n\n<pre><code>12/09/26 18:58:35 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=180000 watcher=hconnection\n12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Opening socket connection to server /127.0.0.1:2181\n12/09/26 18:58:35 INFO zookeeper.RecoverableZooKeeper: The identifier of this process is 5133@xxx-xxx\n12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Socket connection established to localhost/127.0.0.1:2181, initiating session\n12/09/26 18:58:35 WARN zookeeper.ClientCnxnSocket: Connected to an old server; r-o mode will be unavailable\n12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Session establishment complete on server localhost/127.0.0.1:2181, sessionid = 0x13a037edbb2000c, negotiated timeout = 40000\n12/09/26 18:58:36 ERROR client.HConnectionManager$HConnectionImplementation: Check the value configured in 'zookeeper.znode.parent'. There could be a mismatch with the one configured in the master.\n12/09/26 18:58:36 INFO client.HConnectionManager$HConnectionImplementation: Closed zookeeper sessionid=0x13a037edbb2000c\n12/09/26 18:58:36 INFO zookeeper.ZooKeeper: Session: 0x13a037edbb2000c closed\n12/09/26 18:58:36 INFO zookeeper.ClientCnxn: EventThread shut down\n\norg.apache.hadoop.hbase.MasterNotRunningException: Retried 10 times\n    at org.apache.hadoop.hbase.client.HBaseAdmin.&lt;init&gt;(HBaseAdmin.java:127)\n    at util.HBaseHelper.&lt;init&gt;(HBaseHelper.java:29)\n    at util.HBaseHelper.getHelper(HBaseHelper.java:33)\n    at driver.ABoxHbaseTableMaker.makeTable(ABoxHbaseTableMaker.java:39)\n    at driver.ABoxImporterDriver.run(ABoxImporterDriver.java:55)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\n    at driver.ABoxImporterDriver.main(ABoxImporterDriver.java:32)\n    at gui.Main.jButton1ActionPerformed(Main.java:274)\n    at gui.Main.access$3(Main.java:241)\n    at gui.Main$5.actionPerformed(Main.java:160)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    ...\n</code></pre>\n\n<p>T tried to change the port but nothing.</p>\n\n<p>Those are the config files:</p>\n\n<p><strong>zoo.cfg:</strong></p>\n\n<pre><code>tickTime=2000\ndataDir=/home/.../.../zookeeper-3.3.6/data\nclientPort=2181\n</code></pre>\n\n<p><strong>hbase-site.xml</strong></p>\n\n<pre><code>&lt;configuration&gt;\n&lt;property&gt;\n    &lt;name&gt;hbase.rootdir&lt;/name&gt;\n    &lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\n  &lt;/property&gt;\n &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n    &lt;value&gt;localhost&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n    &lt;name&gt;zookeeper.znode.parent&lt;/name&gt;\n    &lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\n    &lt;value&gt;2181&lt;/value&gt;\n &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","mockito","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1694457642,"post_id":77082278,"comment_id":135890777,"body_markdown":"I revised my repo. Can you check MockJwtTokenProvider ?","body":"I revised my repo. Can you check MockJwtTokenProvider ?"}],"tags":[],"owner":{"account_id":13852559,"reputation":121,"user_id":10000150,"display_name":"Firas RG"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694462705,"creation_date":1694440702,"answer_id":77082278,"question_id":77077657,"body_markdown":"[Updated] Based on [your github repository][1], I see that, **in Runtime** you&#39;re using another utility class `JwtUtils` that doesn&#39;t have same structure and content like `MockJwtTokenProvider`! I think it&#39;s the reason behind your issue.\r\n\r\nThe following is *JwtUtils* class which works fine at runtime:\r\n```java\r\n\r\npackage com.example.demo.security.jwt;\r\n\r\nimport com.example.demo.security.CustomUserDetails;\r\nimport com.example.demo.util.Identity;\r\nimport io.jsonwebtoken.*;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.Map;\r\n\r\n@Component\r\n@Log4j2\r\npublic class JwtUtils {\r\n\r\n\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${jwt.expireMs}&quot;)\r\n    private int jwtExpirationMs;\r\n\r\n    private final Identity identity;\r\n\r\n    public JwtUtils(Identity identity) {\r\n        this.identity = identity;\r\n    }\r\n\r\n\r\n    public String generateJwtToken(Authentication auth) {\r\n        CustomUserDetails userDetails = (CustomUserDetails) auth.getPrincipal();\r\n        Map&lt;String, Object&gt; claims = userDetails.getClaims();\r\n        return createToken(claims, userDetails.getUsername());\r\n    }\r\n\r\n    public String createToken(Map&lt;String, Object&gt; claims, String subject) {\r\n        Date now = new Date();\r\n        Date expirationDate = new Date(now.getTime() + jwtExpirationMs);\r\n\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(subject)\r\n                .setIssuedAt(now)\r\n                .setExpiration(expirationDate)\r\n                .signWith(getSignInKey(),SignatureAlgorithm.HS512)\r\n                .compact();\r\n    }\r\n\r\n    public String generateJwtToken(CustomUserDetails customUserDetails) {\r\n        Map&lt;String, Object&gt; claims = customUserDetails.getClaims();\r\n        claims.put(TokenClaims.ID.getValue(), customUserDetails.getId());\r\n        return createToken(claims, customUserDetails.getUsername());\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSecret);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n    public Claims extractClaims(String token) {\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    public Long getIdFromToken(String token){\r\n        String idValue = extractClaims(token).get(TokenClaims.ID.getValue()).toString();\r\n        Double doubleValue = Double.parseDouble(idValue);\r\n        return doubleValue.longValue();\r\n    }\r\n\r\n    public String getEmailFromToken(String token){\r\n        return extractClaims(token).get(TokenClaims.EMAIL.getValue()).toString();\r\n    }\r\n\r\n    public boolean validateJwtToken(String authToken) {\r\n\r\n        log.info(&quot;JwtUtils | validateJwtToken | authToken: {}&quot;, authToken);\r\n\r\n        try {\r\n            Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (MalformedJwtException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | Invalid JWT token: {}&quot;, e.getMessage());\r\n        } catch (ExpiredJwtException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is expired: {}&quot;, e.getMessage());\r\n        } catch (UnsupportedJwtException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is unsupported: {}&quot;, e.getMessage());\r\n        } catch (IllegalArgumentException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | JWT claims string is empty: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public String extractTokenFromHeader(String authorizationHeader) {\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            return authorizationHeader.substring(7);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried to run the test in debug mode, and noticed an exception: \r\n\r\n```bash\r\nio.jsonwebtoken.security.weakkeyexception: The verification key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm\r\n```\r\n\r\nWhich means the key is not compatible with the encryption algorithm. Try to use `JwtUtils` in your tests instead and you&#39;ll be fine. \r\n\r\nAlso, as you&#39;re using spring-security-test, you must define a mock user with `@WithMockUser` annotation. Check the following example : \r\n```java\r\nclass AuthControllerTest  extends BaseControllerTest {\r\n\r\n    @MockBean\r\n    private AuthService authService;\r\n\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n    @WithMockUser(&quot;customer_1&quot;)\r\n    @Test\r\n    void refreshToken_ReturnSuccess() throws Exception {\r\n\r\n        User mockUser = User.builder()\r\n                .id(1L)\r\n                .username(&quot;customer_1&quot;)\r\n                .email(&quot;customer@bookdelivery.com&quot;)\r\n                .role(Role.ROLE_CUSTOMER)\r\n                .fullName(&quot;customer_fullname&quot;)\r\n                .build();\r\n\r\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n\r\n        // Generate a JWT token for the user\r\n        String mockToken = jwtUtils.generateJwtToken(userDetails);\r\n\r\n        String mockBearerToken = &quot;Bearer &quot; + mockToken;\r\n\r\n        // the rest of your method code\r\n    }\r\n\r\n    // your other test methods...\r\n}\r\n```\r\n\r\n  [1]: https://github.com/Rapter1990/bookdelivery","title":"How to use bearer token in Integration Test for mock or other way in Spring Boot (401 Unauthorized)","body":"<p>[Updated] Based on <a href=\"https://github.com/Rapter1990/bookdelivery\" rel=\"nofollow noreferrer\">your github repository</a>, I see that, <strong>in Runtime</strong> you're using another utility class <code>JwtUtils</code> that doesn't have same structure and content like <code>MockJwtTokenProvider</code>! I think it's the reason behind your issue.</p>\n<p>The following is <em>JwtUtils</em> class which works fine at runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.demo.security.jwt;\n\nimport com.example.demo.security.CustomUserDetails;\nimport com.example.demo.util.Identity;\nimport io.jsonwebtoken.*;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\nimport lombok.extern.log4j.Log4j2;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Component;\n\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.Map;\n\n@Component\n@Log4j2\npublic class JwtUtils {\n\n\n    @Value(&quot;${jwt.secret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${jwt.expireMs}&quot;)\n    private int jwtExpirationMs;\n\n    private final Identity identity;\n\n    public JwtUtils(Identity identity) {\n        this.identity = identity;\n    }\n\n\n    public String generateJwtToken(Authentication auth) {\n        CustomUserDetails userDetails = (CustomUserDetails) auth.getPrincipal();\n        Map&lt;String, Object&gt; claims = userDetails.getClaims();\n        return createToken(claims, userDetails.getUsername());\n    }\n\n    public String createToken(Map&lt;String, Object&gt; claims, String subject) {\n        Date now = new Date();\n        Date expirationDate = new Date(now.getTime() + jwtExpirationMs);\n\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(now)\n                .setExpiration(expirationDate)\n                .signWith(getSignInKey(),SignatureAlgorithm.HS512)\n                .compact();\n    }\n\n    public String generateJwtToken(CustomUserDetails customUserDetails) {\n        Map&lt;String, Object&gt; claims = customUserDetails.getClaims();\n        claims.put(TokenClaims.ID.getValue(), customUserDetails.getId());\n        return createToken(claims, customUserDetails.getUsername());\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSecret);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n    public Claims extractClaims(String token) {\n        return Jwts.parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    public Long getIdFromToken(String token){\n        String idValue = extractClaims(token).get(TokenClaims.ID.getValue()).toString();\n        Double doubleValue = Double.parseDouble(idValue);\n        return doubleValue.longValue();\n    }\n\n    public String getEmailFromToken(String token){\n        return extractClaims(token).get(TokenClaims.EMAIL.getValue()).toString();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n\n        log.info(&quot;JwtUtils | validateJwtToken | authToken: {}&quot;, authToken);\n\n        try {\n            Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(authToken);\n            return true;\n        } catch (MalformedJwtException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n\n    public String extractTokenFromHeader(String authorizationHeader) {\n\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            return authorizationHeader.substring(7);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I've tried to run the test in debug mode, and noticed an exception:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>io.jsonwebtoken.security.weakkeyexception: The verification key's size is 48 bits which is not secure enough for the HS256 algorithm\n</code></pre>\n<p>Which means the key is not compatible with the encryption algorithm. Try to use <code>JwtUtils</code> in your tests instead and you'll be fine.</p>\n<p>Also, as you're using spring-security-test, you must define a mock user with <code>@WithMockUser</code> annotation. Check the following example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AuthControllerTest  extends BaseControllerTest {\n\n    @MockBean\n    private AuthService authService;\n\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @WithMockUser(&quot;customer_1&quot;)\n    @Test\n    void refreshToken_ReturnSuccess() throws Exception {\n\n        User mockUser = User.builder()\n                .id(1L)\n                .username(&quot;customer_1&quot;)\n                .email(&quot;customer@bookdelivery.com&quot;)\n                .role(Role.ROLE_CUSTOMER)\n                .fullName(&quot;customer_fullname&quot;)\n                .build();\n\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n        // Generate a JWT token for the user\n        String mockToken = jwtUtils.generateJwtToken(userDetails);\n\n        String mockBearerToken = &quot;Bearer &quot; + mockToken;\n\n        // the rest of your method code\n    }\n\n    // your other test methods...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694498819,"creation_date":1694498819,"answer_id":77086455,"question_id":77077657,"body_markdown":"I also solved the issue by following this **approach**\r\n\r\n1 . Define **customUserDetailsService** and **jwtUtils** in **AuthControllerTest**  \r\n\r\n    @MockBean\r\n    private CustomUserDetailsService customUserDetailsService;\r\n    \r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n\r\n2 . Define **bearer token** \r\n\r\n     // given\r\n     User mockUser = User.builder()\r\n              .id(1L)\r\n              .username(&quot;customer_1&quot;)\r\n              .email(&quot;customer@bookdelivery.com&quot;)\r\n              .role(Role.ROLE_CUSTOMER)\r\n              .fullName(&quot;customer_fullname&quot;)\r\n              .build();\r\n    \r\n      CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n    \r\n    \r\n      String accessToken = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n      String mockBearerToken = &quot;Bearer &quot; + accessToken;\r\n\r\n\r\n3 . As I used **mysql** running on **docker** through **testcontainer**, the value cannot be found and I return **userDetails** with the usage of **mock**\r\n\r\n    when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\r\n\r\n\r\nHere is the final code shown below\r\n\r\n    class AuthControllerTest extends BaseControllerTest {\r\n\r\n    @MockBean\r\n    private AuthService authService;\r\n\r\n    @MockBean\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n      \r\n     \r\n     @Test\r\n        void refreshToken_ReturnSuccess() throws Exception {\r\n    \r\n            // given\r\n            User mockUser = User.builder()\r\n                    .id(1L)\r\n                    .username(&quot;customer_1&quot;)\r\n                    .email(&quot;customer@bookdelivery.com&quot;)\r\n                    .role(Role.ROLE_CUSTOMER)\r\n                    .fullName(&quot;customer_fullname&quot;)\r\n                    .build();\r\n    \r\n            CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n    \r\n    \r\n            String accessToken = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n            String mockBearerToken = &quot;Bearer &quot; + accessToken;\r\n    \r\n            TokenRefreshRequest request = TokenRefreshRequest.builder()\r\n                    .refreshToken(&quot;validRefreshToken&quot;)\r\n                    .build();\r\n    \r\n            TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\r\n                    .accessToken(&quot;newMockedToken&quot;)\r\n                    .refreshToken(&quot;validRefreshToken&quot;)\r\n                    .build();\r\n    \r\n            // when\r\n            when(authService.refreshToken(request)).thenReturn(mockResponse);\r\n            when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\r\n    \r\n            // then\r\n            mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\r\n                            .header(HttpHeaders.AUTHORIZATION, mockBearerToken)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .content(objectMapper.writeValueAsString(request)))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void logout_ReturnSuccess() throws Exception {\r\n    \r\n            // Given\r\n            User mockUser = User.builder()\r\n                    .id(1L)\r\n                    .username(&quot;customer_1&quot;)\r\n                    .email(&quot;customer@bookdelivery.com&quot;)\r\n                    .role(Role.ROLE_CUSTOMER)\r\n                    .fullName(&quot;customer_fullname&quot;)\r\n                    .build();\r\n    \r\n            CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n    \r\n    \r\n            String accessToken = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n            String mockBearerToken = &quot;Bearer &quot; + accessToken;\r\n    \r\n            // When\r\n            when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\r\n            when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\r\n    \r\n            // Then\r\n            mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\r\n                            .header(HttpHeaders.AUTHORIZATION, mockBearerToken))\r\n                    .andExpect(status().isOk());\r\n    \r\n            verify(authService).logout(mockBearerToken);\r\n    \r\n        }\r\n\r\n    }","title":"How to use bearer token in Integration Test for mock or other way in Spring Boot (401 Unauthorized)","body":"<p>I also solved the issue by following this <strong>approach</strong></p>\n<p>1 . Define <strong>customUserDetailsService</strong> and <strong>jwtUtils</strong> in <strong>AuthControllerTest</strong></p>\n<pre><code>@MockBean\nprivate CustomUserDetailsService customUserDetailsService;\n\n@Autowired\nprivate JwtUtils jwtUtils;\n</code></pre>\n<p>2 . Define <strong>bearer token</strong></p>\n<pre><code> // given\n User mockUser = User.builder()\n          .id(1L)\n          .username(&quot;customer_1&quot;)\n          .email(&quot;customer@bookdelivery.com&quot;)\n          .role(Role.ROLE_CUSTOMER)\n          .fullName(&quot;customer_fullname&quot;)\n          .build();\n\n  CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n\n  String accessToken = jwtUtils.generateJwtToken(userDetails);\n\n  String mockBearerToken = &quot;Bearer &quot; + accessToken;\n</code></pre>\n<p>3 . As I used <strong>mysql</strong> running on <strong>docker</strong> through <strong>testcontainer</strong>, the value cannot be found and I return <strong>userDetails</strong> with the usage of <strong>mock</strong></p>\n<pre><code>when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\n</code></pre>\n<p>Here is the final code shown below</p>\n<pre><code>class AuthControllerTest extends BaseControllerTest {\n\n@MockBean\nprivate AuthService authService;\n\n@MockBean\nprivate CustomUserDetailsService customUserDetailsService;\n\n@Autowired\nprivate JwtUtils jwtUtils;\n\n  \n \n @Test\n    void refreshToken_ReturnSuccess() throws Exception {\n\n        // given\n        User mockUser = User.builder()\n                .id(1L)\n                .username(&quot;customer_1&quot;)\n                .email(&quot;customer@bookdelivery.com&quot;)\n                .role(Role.ROLE_CUSTOMER)\n                .fullName(&quot;customer_fullname&quot;)\n                .build();\n\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n\n        String accessToken = jwtUtils.generateJwtToken(userDetails);\n\n        String mockBearerToken = &quot;Bearer &quot; + accessToken;\n\n        TokenRefreshRequest request = TokenRefreshRequest.builder()\n                .refreshToken(&quot;validRefreshToken&quot;)\n                .build();\n\n        TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\n                .accessToken(&quot;newMockedToken&quot;)\n                .refreshToken(&quot;validRefreshToken&quot;)\n                .build();\n\n        // when\n        when(authService.refreshToken(request)).thenReturn(mockResponse);\n        when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\n\n        // then\n        mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\n                        .header(HttpHeaders.AUTHORIZATION, mockBearerToken)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(request)))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n\n    }\n\n    @Test\n    void logout_ReturnSuccess() throws Exception {\n\n        // Given\n        User mockUser = User.builder()\n                .id(1L)\n                .username(&quot;customer_1&quot;)\n                .email(&quot;customer@bookdelivery.com&quot;)\n                .role(Role.ROLE_CUSTOMER)\n                .fullName(&quot;customer_fullname&quot;)\n                .build();\n\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n\n        String accessToken = jwtUtils.generateJwtToken(userDetails);\n\n        String mockBearerToken = &quot;Bearer &quot; + accessToken;\n\n        // When\n        when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\n        when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\n\n        // Then\n        mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\n                        .header(HttpHeaders.AUTHORIZATION, mockBearerToken))\n                .andExpect(status().isOk());\n\n        verify(authService).logout(mockBearerToken);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77086455,"answer_count":2,"score":0,"last_activity_date":1694498819,"creation_date":1694375194,"question_id":77077657,"body_markdown":"I have a problem to use bearer token in refresh token and logout as all these two processes are tackled with bearer token in Integration Test of my Spring Boot example.\r\n\r\nI created MockJwtTokenProvider  to create a mock bearer token for Integration test shown below\r\n\r\n    public class MockJwtTokenProvider {\r\n    \r\n    \r\n        private static final String SECRET_KEY = &quot;404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970&quot;;\r\n        public static final long EXPIRATION_TIME_MS = 3600000; // 1 hour\r\n    \r\n        public static String createMockJwtTokenForCustomer() {\r\n    \r\n            Claims claims = Jwts.claims()\r\n                    .setSubject(&quot;customer_1&quot;) // Set the username as the subject\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + MockJwtTokenProvider.EXPIRATION_TIME_MS));\r\n    \r\n            claims.put(&quot;roles&quot;, Collections.singletonList(&quot;ROLE_CUSTOMER&quot;));\r\n            claims.put(&quot;userFullName&quot;, &quot;customer_fullname&quot;);\r\n            claims.put(&quot;id&quot;, 1);\r\n            claims.put(&quot;email&quot;, &quot;customer@bookdelivery.com&quot;);\r\n    \r\n            // Create a secret key from your actual secret key string\r\n            SecretKey secretKey = Keys.hmacShaKeyFor(SECRET_KEY.getBytes());\r\n    \r\n            // Build the JWT token with the provided claims\r\n            String token = Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setIssuedAt(new Date())\r\n                    .signWith(secretKey, SignatureAlgorithm.HS512)\r\n                    .compact();\r\n    \r\n            return &quot;Bearer &quot; + token;\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is the relevant part of AuthControllerTest shown below\r\n\r\n    @Test\r\n    void refreshToken_ReturnSuccess() throws Exception {\r\n\r\n        // given\r\n        TokenRefreshRequest request = TokenRefreshRequest.builder()\r\n                .refreshToken(&quot;validRefreshToken&quot;)\r\n                .build();\r\n\r\n        TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\r\n                .accessToken(&quot;newMockedToken&quot;)\r\n                .refreshToken(&quot;validRefreshToken&quot;)\r\n                .build();\r\n\r\n\r\n        String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\r\n\r\n        // when\r\n        when(authService.refreshToken(request)).thenReturn(mockResponse);\r\n\r\n        // then\r\n        mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\r\n                        .header(&quot;Authorization&quot;, mockBearerToken)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(request)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n\r\n    }\r\n\r\n    @Test\r\n    void logout_ReturnSuccess() throws Exception {\r\n\r\n        // Given\r\n        String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\r\n\r\n        // When\r\n        when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\r\n\r\n        // Then\r\n        mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\r\n                        .header(&quot;Authorization&quot;, mockBearerToken))\r\n                .andExpect(status().isOk());\r\n\r\n        verify(authService).logout(mockBearerToken);\r\n\r\n    }\r\n\r\n\r\nI always got this issue shown below for refresh token and logout.\r\n\r\n    MockHttpServletResponse:\r\n               Status = 401\r\n        Error message = null\r\n              Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n         Content type = application/json\r\n                 Body = {&quot;path&quot;:&quot;&quot;,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Full authentication is required to access this resource&quot;,&quot;status&quot;:401}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\r\n    Expected :200\r\n    Actual   :401\r\n\r\nI also use real bearer token but I got the same error.\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/bookdelivery","title":"How to use bearer token in Integration Test for mock or other way in Spring Boot (401 Unauthorized)","body":"<p>I have a problem to use bearer token in refresh token and logout as all these two processes are tackled with bearer token in Integration Test of my Spring Boot example.</p>\n<p>I created MockJwtTokenProvider  to create a mock bearer token for Integration test shown below</p>\n<pre><code>public class MockJwtTokenProvider {\n\n\n    private static final String SECRET_KEY = &quot;404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970&quot;;\n    public static final long EXPIRATION_TIME_MS = 3600000; // 1 hour\n\n    public static String createMockJwtTokenForCustomer() {\n\n        Claims claims = Jwts.claims()\n                .setSubject(&quot;customer_1&quot;) // Set the username as the subject\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + MockJwtTokenProvider.EXPIRATION_TIME_MS));\n\n        claims.put(&quot;roles&quot;, Collections.singletonList(&quot;ROLE_CUSTOMER&quot;));\n        claims.put(&quot;userFullName&quot;, &quot;customer_fullname&quot;);\n        claims.put(&quot;id&quot;, 1);\n        claims.put(&quot;email&quot;, &quot;customer@bookdelivery.com&quot;);\n\n        // Create a secret key from your actual secret key string\n        SecretKey secretKey = Keys.hmacShaKeyFor(SECRET_KEY.getBytes());\n\n        // Build the JWT token with the provided claims\n        String token = Jwts.builder()\n                .setClaims(claims)\n                .setIssuedAt(new Date())\n                .signWith(secretKey, SignatureAlgorithm.HS512)\n                .compact();\n\n        return &quot;Bearer &quot; + token;\n    }\n}\n</code></pre>\n<p>Here is the relevant part of AuthControllerTest shown below</p>\n<pre><code>@Test\nvoid refreshToken_ReturnSuccess() throws Exception {\n\n    // given\n    TokenRefreshRequest request = TokenRefreshRequest.builder()\n            .refreshToken(&quot;validRefreshToken&quot;)\n            .build();\n\n    TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\n            .accessToken(&quot;newMockedToken&quot;)\n            .refreshToken(&quot;validRefreshToken&quot;)\n            .build();\n\n\n    String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\n\n    // when\n    when(authService.refreshToken(request)).thenReturn(mockResponse);\n\n    // then\n    mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\n                    .header(&quot;Authorization&quot;, mockBearerToken)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(request)))\n            .andExpect(status().isOk())\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n\n}\n\n@Test\nvoid logout_ReturnSuccess() throws Exception {\n\n    // Given\n    String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\n\n    // When\n    when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\n\n    // Then\n    mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\n                    .header(&quot;Authorization&quot;, mockBearerToken))\n            .andExpect(status().isOk());\n\n    verify(authService).logout(mockBearerToken);\n\n}\n</code></pre>\n<p>I always got this issue shown below for refresh token and logout.</p>\n<pre><code>MockHttpServletResponse:\n           Status = 401\n    Error message = null\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = application/json\n             Body = {&quot;path&quot;:&quot;&quot;,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Full authentication is required to access this resource&quot;,&quot;status&quot;:401}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\nExpected :200\nActual   :401\n</code></pre>\n<p>I also use real bearer token but I got the same error.</p>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/bookdelivery\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","multithreading","sleep","thread-sleep"],"comments":[{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1621788498,"post_id":67662106,"comment_id":119595804,"body_markdown":"For the first part I would say it would only put to sleep a single thread, either main or additional thread as additional thread will get its different stack and main only invokes the thread not control it, in second case only one thread should pause.","body":"For the first part I would say it would only put to sleep a single thread, either main or additional thread as additional thread will get its different stack and main only invokes the thread not control it, in second case only one thread should pause."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1621790239,"post_id":67662106,"comment_id":119596334,"body_markdown":"Imagine the chaos if you could instruct *other* threads to sleep.","body":"Imagine the chaos if you could instruct <i>other</i> threads to sleep."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1621827689,"post_id":67662106,"comment_id":119603569,"body_markdown":"1. It&#39;s a static method. It can therefore only possibly apply to one thread: the current thread. Nothing else makes sense. 2. &quot;Both `t2` and `t1` pause&quot;: no they don&#39;t.","body":"1. It&#39;s a static method. It can therefore only possibly apply to one thread: the current thread. Nothing else makes sense. 2. &quot;Both <code>t2</code> and <code>t1</code> pause&quot;: no they don&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694498257,"creation_date":1621788939,"answer_id":67662277,"question_id":67662106,"body_markdown":"In Java, threads are all equal peers, without grouping, parenting, or ownership.\r\n\r\nSo sleeping any one thread has no direct effect on other threads. \r\n\r\nCalling `Thread.sleep` sleeps whatever thread executes that method. Utterly simple, nothing more to explain.\r\n\r\nAs the [`Thread.sleep`][1] Javadoc says:\r\n\r\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, in modern Java we rarely need to address the `Thread` class directly. Instead we use executor service(s) to run `Runnable` or `Callable` tasks. So no need to call `new Thread`. And no need to extend from `Thread`. \r\n\r\n\r\n----------\r\n\r\nTip: In recent versions of Java, we can pass a `Duration` object to the `sleep` method rather than a count of milliseconds.  \r\n\r\n    Thread.sleep( Duration.ofSeconds( 42 ) ) ;\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#sleep(long)","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>In Java, threads are all equal peers, without grouping, parenting, or ownership.</p>\n<p>So sleeping any one thread has no direct effect on other threads.</p>\n<p>Calling <code>Thread.sleep</code> sleeps whatever thread executes that method. Utterly simple, nothing more to explain.</p>\n<p>As the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a> Javadoc says:</p>\n<blockquote>\n<p>Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds</p>\n</blockquote>\n<hr />\n<p>By the way, in modern Java we rarely need to address the <code>Thread</code> class directly. Instead we use executor service(s) to run <code>Runnable</code> or <code>Callable</code> tasks. So no need to call <code>new Thread</code>. And no need to extend from <code>Thread</code>.</p>\n<hr />\n<p>Tip: In recent versions of Java, we can pass a <code>Duration</code> object to the <code>sleep</code> method rather than a count of milliseconds.</p>\n<pre><code>Thread.sleep( Duration.ofSeconds( 42 ) ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621793558,"creation_date":1621793558,"answer_id":67662970,"question_id":67662106,"body_markdown":"Thread.sleep() pauses the current thread inside which the code is being executed, It have no impact on other threads. That thread can be &#39;main&#39; thread or threads spawned (started) from main thread.\r\n\r\nHowever Thread.sleep() is not the way to go to implement asynchronous tasks, like suspending some thread to wait by Thread.sleep() and then guessing that after that much time I can resume my thread and hoping that the event must have been completed for which your sleeping thread was waiting for. You will some low level mechanism like notify, wait, notifyAll .  Rather use Semaphores, Countdown latch and other better wrappers as suggested in the other answer. Comment below for more information or doubts you have, happy to help\r\n","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>Thread.sleep() pauses the current thread inside which the code is being executed, It have no impact on other threads. That thread can be 'main' thread or threads spawned (started) from main thread.</p>\n<p>However Thread.sleep() is not the way to go to implement asynchronous tasks, like suspending some thread to wait by Thread.sleep() and then guessing that after that much time I can resume my thread and hoping that the event must have been completed for which your sleeping thread was waiting for. You will some low level mechanism like notify, wait, notifyAll .  Rather use Semaphores, Countdown latch and other better wrappers as suggested in the other answer. Comment below for more information or doubts you have, happy to help</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621825547,"creation_date":1621825547,"answer_id":67666203,"question_id":67662106,"body_markdown":"`Thread.sleep()` is one of a number of things in Java that have really awful names.\\* Don&#39;t think of it &quot;sleeping&quot; any thread. There&#39;s a much simpler way to think about it:\r\n\r\n`Thread.sleep(n)` does NOTHING.\r\n\r\nIt does nothing for at least `n` milliseconds, and then it returns. That is all you need to know about `sleep()` (at least, it&#39;s all you need to know until you become a maintainer of a Java Runtime Environment.)\r\n\r\n-----------------\r\n\\* Java was invented by several really smart, PhD. computer scientists. Java is a simple, beautiful language; but they bestowed names on certain things that maybe seem obvious to experts, but which sometimes can be really confusing to beginners.","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p><code>Thread.sleep()</code> is one of a number of things in Java that have really awful names.* Don't think of it &quot;sleeping&quot; any thread. There's a much simpler way to think about it:</p>\n<p><code>Thread.sleep(n)</code> does NOTHING.</p>\n<p>It does nothing for at least <code>n</code> milliseconds, and then it returns. That is all you need to know about <code>sleep()</code> (at least, it's all you need to know until you become a maintainer of a Java Runtime Environment.)</p>\n<hr />\n<p>* Java was invented by several really smart, PhD. computer scientists. Java is a simple, beautiful language; but they bestowed names on certain things that maybe seem obvious to experts, but which sometimes can be really confusing to beginners.</p>\n"},{"tags":[],"owner":{"account_id":24265481,"reputation":11,"user_id":18214445,"display_name":"Rishabh Rastogi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680292059,"creation_date":1680292059,"answer_id":75902264,"question_id":67662106,"body_markdown":"I know I&#39;m late to the party but to answer your question explicitly - `Thread.sleep(n)` where n is in milliseconds causes current thread to sleep and doesn&#39;t affect the other threads.&lt;br&gt;\r\n1. If you call `Thread.sleep(1000)` inside main method, like below, your main  thread will sleep for 1 seconds while other threads will continue to run.\r\n```\r\nclass Task extends Thread {\r\n\r\n  @Override\r\n  public void run() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      System.out.println(\r\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\r\n    }\r\n\r\n  }\r\n}\r\n\r\npublic class ThreadSleepExample {\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    Task task = new Task();\r\n    task.start();\r\n    task.setName(&quot;Task Thread&quot;);\r\n    Thread.sleep(1000);\r\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\r\n    System.out.println(\r\n        &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; and I slept for a while&quot;); //This line gets printed after 1 second.\r\n\r\n\r\n  }\r\n}\r\n```\r\nOutput -\r\n```\r\nHello! I am Task Thread running without sleep - 0\r\nHello! I am Task Thread running without sleep - 1\r\nHello! I am Task Thread running without sleep - 2\r\nHello! I am Main Thread and I slept for a while\r\n```\r\n2. Now, when you invoke `Thread.sleep(n)` within a run method, it causes that thread to sleep and other threads including the main thread remains unaffected.\r\n```\r\nclass TaskWithSleep extends Thread {\r\n  @Override\r\n  public void run() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      System.out.println(\r\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running with sleep - &quot; + i);\r\n      try {\r\n        Thread.sleep(1000);\r\n      } catch (InterruptedException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass TaskWithoutSleep extends Thread {\r\n  @Override\r\n  public void run() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      System.out.println(\r\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\r\n    }\r\n  }\r\n}\r\n\r\npublic class ThreadSleepExample {\r\n\r\n  public static void main(String[] args) {\r\n    TaskWithSleep sleepTask = new TaskWithSleep();\r\n    sleepTask.setName(&quot;SleepTask Thread&quot;);\r\n\r\n    TaskWithoutSleep withoutSleepTask = new TaskWithoutSleep();\r\n    withoutSleepTask.setName(&quot;WithoutSleepTask Thread&quot;);\r\n\r\n    sleepTask.start();\r\n    withoutSleepTask.start();\r\n\r\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\r\n    System.out.println(&quot;I am &quot; + Thread.currentThread().getName()\r\n        + &quot; and I remain unaffected by sleep inside other threads&quot;);\r\n\r\n  }\r\n}\r\n```\r\nHere, `SleepTask Thread` will pause for 1 second after printing each line. Whereas other threads like `WithoutSleepTask Thread` and `Main Thread` will continue to execute.&lt;br&gt;\r\nHere is the output -\r\n```\r\nI am Main Thread and I remain unaffected by sleep inside other threads\r\nHello! I am WithoutSleepTask Thread running without sleep - 0\r\nHello! I am SleepTask Thread running with sleep - 0\r\nHello! I am WithoutSleepTask Thread running without sleep - 1\r\nHello! I am WithoutSleepTask Thread running without sleep - 2\r\nHello! I am SleepTask Thread running with sleep - 1\r\nHello! I am SleepTask Thread running with sleep - 2\r\n```\r\n\r\nSo in your case `t1` should sleep and `t2` should execute normally.","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>I know I'm late to the party but to answer your question explicitly - <code>Thread.sleep(n)</code> where n is in milliseconds causes current thread to sleep and doesn't affect the other threads.<br></p>\n<ol>\n<li>If you call <code>Thread.sleep(1000)</code> inside main method, like below, your main  thread will sleep for 1 seconds while other threads will continue to run.</li>\n</ol>\n<pre><code>class Task extends Thread {\n\n  @Override\n  public void run() {\n    for (int i = 0; i &lt; 3; i++) {\n      System.out.println(\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\n    }\n\n  }\n}\n\npublic class ThreadSleepExample {\n\n  public static void main(String[] args) throws InterruptedException {\n    Task task = new Task();\n    task.start();\n    task.setName(&quot;Task Thread&quot;);\n    Thread.sleep(1000);\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\n    System.out.println(\n        &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; and I slept for a while&quot;); //This line gets printed after 1 second.\n\n\n  }\n}\n</code></pre>\n<p>Output -</p>\n<pre><code>Hello! I am Task Thread running without sleep - 0\nHello! I am Task Thread running without sleep - 1\nHello! I am Task Thread running without sleep - 2\nHello! I am Main Thread and I slept for a while\n</code></pre>\n<ol start=\"2\">\n<li>Now, when you invoke <code>Thread.sleep(n)</code> within a run method, it causes that thread to sleep and other threads including the main thread remains unaffected.</li>\n</ol>\n<pre><code>class TaskWithSleep extends Thread {\n  @Override\n  public void run() {\n    for (int i = 0; i &lt; 3; i++) {\n      System.out.println(\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running with sleep - &quot; + i);\n      try {\n        Thread.sleep(1000);\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n    }\n  }\n}\n\nclass TaskWithoutSleep extends Thread {\n  @Override\n  public void run() {\n    for (int i = 0; i &lt; 3; i++) {\n      System.out.println(\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\n    }\n  }\n}\n\npublic class ThreadSleepExample {\n\n  public static void main(String[] args) {\n    TaskWithSleep sleepTask = new TaskWithSleep();\n    sleepTask.setName(&quot;SleepTask Thread&quot;);\n\n    TaskWithoutSleep withoutSleepTask = new TaskWithoutSleep();\n    withoutSleepTask.setName(&quot;WithoutSleepTask Thread&quot;);\n\n    sleepTask.start();\n    withoutSleepTask.start();\n\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\n    System.out.println(&quot;I am &quot; + Thread.currentThread().getName()\n        + &quot; and I remain unaffected by sleep inside other threads&quot;);\n\n  }\n}\n</code></pre>\n<p>Here, <code>SleepTask Thread</code> will pause for 1 second after printing each line. Whereas other threads like <code>WithoutSleepTask Thread</code> and <code>Main Thread</code> will continue to execute.<br>\nHere is the output -</p>\n<pre><code>I am Main Thread and I remain unaffected by sleep inside other threads\nHello! I am WithoutSleepTask Thread running without sleep - 0\nHello! I am SleepTask Thread running with sleep - 0\nHello! I am WithoutSleepTask Thread running without sleep - 1\nHello! I am WithoutSleepTask Thread running without sleep - 2\nHello! I am SleepTask Thread running with sleep - 1\nHello! I am SleepTask Thread running with sleep - 2\n</code></pre>\n<p>So in your case <code>t1</code> should sleep and <code>t2</code> should execute normally.</p>\n"}],"owner":{"account_id":20140234,"reputation":95,"user_id":14770216,"display_name":"Mariam Atef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":4,"score":1,"last_activity_date":1694498257,"creation_date":1621787903,"question_id":67662106,"body_markdown":"I&#39;m a bit confused about how Thread.sleep() works:\r\n\r\n1. If i call it inside the main method, and there are other created threads that are running. What would it pause: The main thread alone or all its subThreads along with it (considering them as a part of the main thread)?\r\nFor example:\r\n\r\n        public static void main(String arg[])\r\n        { \r\n            Thread t1 = new Thread();\r\n            t1.start();\r\n            Thread.Sleep(1000);\r\n        }\r\n\r\n2. If I invoke the `sleep()` method inside the `run()` method of a thread, when calling the `start()` method for the thread inside main, does it pause other threads, too? Because that happened with me ... although I know that in this case it should only pause the thread it was called inside\r\nFor example:\r\n\r\n        //thread Tester has a sleep() in its run() while NoSleep doesn&#39;t have\r\n         public static void main(String arg[])\r\n         { \r\n             Tester t1 = new Tester();\r\n             NoSleep t2 = new NoSleep();\r\n             t1.start();\r\n             t2.start();\r\n        }\r\n\r\nIn a code like this, both `t2` and `t1` pause I don&#39;t understand why.\r\n\r\n","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>I'm a bit confused about how Thread.sleep() works:</p>\n<ol>\n<li><p>If i call it inside the main method, and there are other created threads that are running. What would it pause: The main thread alone or all its subThreads along with it (considering them as a part of the main thread)?\nFor example:</p>\n<pre><code> public static void main(String arg[])\n { \n     Thread t1 = new Thread();\n     t1.start();\n     Thread.Sleep(1000);\n }\n</code></pre>\n</li>\n<li><p>If I invoke the <code>sleep()</code> method inside the <code>run()</code> method of a thread, when calling the <code>start()</code> method for the thread inside main, does it pause other threads, too? Because that happened with me ... although I know that in this case it should only pause the thread it was called inside\nFor example:</p>\n<pre><code> //thread Tester has a sleep() in its run() while NoSleep doesn't have\n  public static void main(String arg[])\n  { \n      Tester t1 = new Tester();\n      NoSleep t2 = new NoSleep();\n      t1.start();\n      t2.start();\n }\n</code></pre>\n</li>\n</ol>\n<p>In a code like this, both <code>t2</code> and <code>t1</code> pause I don't understand why.</p>\n"},{"tags":["java","c","class","java-native-interface","directory-structure"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1564756368,"post_id":57328302,"comment_id":101147157,"body_markdown":"Header files (`foo.h`) are needed only at compile time.  It is conventional to put them alongside the corresponding C source files, or occasionally in a separate `include/` directory, but as long as the C compilation is working correctly, whatever you are doing now is OK, in the sense that it is not a factor in whether the code runs correctly.","body":"Header files (<code>foo.h</code>) are needed only at compile time.  It is conventional to put them alongside the corresponding C source files, or occasionally in a separate <code>include&#47;</code> directory, but as long as the C compilation is working correctly, whatever you are doing now is OK, in the sense that it is not a factor in whether the code runs correctly."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1564756700,"post_id":57328302,"comment_id":101147362,"body_markdown":"However, it is neither necessary nor useful to compile the header files themselves.  Instead, the JNI C source files should `#include` the appropriate header(s).","body":"However, it is neither necessary nor useful to compile the header files themselves.  Instead, the JNI C source files should <code>#include</code> the appropriate header(s)."},{"owner":{"account_id":16210342,"reputation":11,"user_id":11770634,"display_name":"Connor Siem"},"score":0,"creation_date":1564756896,"post_id":57328302,"comment_id":101147486,"body_markdown":"okay that makes sense, but what about the .so files. Do I need to put them somewhere special or how do I get them to be included?","body":"okay that makes sense, but what about the .so files. Do I need to put them somewhere special or how do I get them to be included?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1564756922,"post_id":57328302,"comment_id":101147506,"body_markdown":"But as for why you&#39;re getting the specific errors you&#39;re getting, it&#39;s hard to tell without more information.  Generally, we need to see a [mre] in order to answer questions about why your program isn&#39;t working correctly.","body":"But as for why you&#39;re getting the specific errors you&#39;re getting, it&#39;s hard to tell without more information.  Generally, we need to see a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in order to answer questions about why your program isn&#39;t working correctly."},{"owner":{"account_id":16210342,"reputation":11,"user_id":11770634,"display_name":"Connor Siem"},"score":1,"creation_date":1564757016,"post_id":57328302,"comment_id":101147556,"body_markdown":"Alright I can try a hello world for this and post it","body":"Alright I can try a hello world for this and post it"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1564757515,"post_id":57328302,"comment_id":101147818,"body_markdown":"There is no need to `sudo cp` libraries around. You can get by with `export LD_LIBRARY_PATH=/home/pi/git/GPIO_I2C/src/c`","body":"There is no need to <code>sudo cp</code> libraries around. You can get by with <code>export LD_LIBRARY_PATH=&#47;home&#47;pi&#47;git&#47;GPIO_I2C&#47;src&#47;c</code>"},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":0,"creation_date":1565023567,"post_id":57328302,"comment_id":101212188,"body_markdown":"Even more, you can pass library location without altering `LD_LIBRARY_PATH` by using `-Djava.library.path=...`","body":"Even more, you can pass library location without altering <code>LD_LIBRARY_PATH</code> by using <code>-Djava.library.path=...</code>"}],"answers":[{"tags":[],"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564770205,"creation_date":1564770205,"answer_id":57331720,"question_id":57328302,"body_markdown":"If you&#39;ve managed to produce the .so file, what you need to do is tell the JVM where to find it. You do that by adding `-Djava.library.path=/directory/path/goes/here` to the JVM command line.\r\n\r\n(Next step, make sure to call `System.loadLibrary(&quot;myGPIOMethods&quot;)` before you try to call any of your native methods).","title":"JNI directory structure c and java","body":"<p>If you've managed to produce the .so file, what you need to do is tell the JVM where to find it. You do that by adding <code>-Djava.library.path=/directory/path/goes/here</code> to the JVM command line.</p>\n\n<p>(Next step, make sure to call <code>System.loadLibrary(\"myGPIOMethods\")</code> before you try to call any of your native methods).</p>\n"},{"comments":[{"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"score":0,"creation_date":1694473202,"post_id":57359231,"comment_id":135892879,"body_markdown":"dead links dead","body":"dead links dead"}],"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694497969,"creation_date":1565010342,"answer_id":57359231,"question_id":57328302,"body_markdown":"Take a look here: http://jnicookbook.owsiak.org/recipe-No-021/ where you can find sample of the code with various methods in different files.\r\n\r\nYou can also take a look here: http://jnicookbook.owsiak.org/recipe-No-021/\r\n\r\nBasically, what you want to have is a structure where all the headers and C code are in one place while Java code is inside another place.\r\n\r\nBasically, you can start with something as simple as:\r\n\r\n```\r\n.\r\n|-- Makefile\r\n|-- c\r\n|   |-- recipeNo021_AnotherFunction.c\r\n|   `-- recipeNo021_HelloWorld.c\r\n|-- java\r\n|   `-- recipeNo021\r\n|       `-- HelloWorld.java\r\n|-- lib\r\n`-- target\r\n```\r\n\r\nWhen it comes to simple JNI code, start with something super simple: `Hello world!`\r\n\r\nhttps://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo001","title":"JNI directory structure c and java","body":"<p>Take a look here: <a href=\"http://jnicookbook.owsiak.org/recipe-No-021/\" rel=\"nofollow noreferrer\">http://jnicookbook.owsiak.org/recipe-No-021/</a> where you can find sample of the code with various methods in different files.</p>\n<p>You can also take a look here: <a href=\"http://jnicookbook.owsiak.org/recipe-No-021/\" rel=\"nofollow noreferrer\">http://jnicookbook.owsiak.org/recipe-No-021/</a></p>\n<p>Basically, what you want to have is a structure where all the headers and C code are in one place while Java code is inside another place.</p>\n<p>Basically, you can start with something as simple as:</p>\n<pre><code>.\n|-- Makefile\n|-- c\n|   |-- recipeNo021_AnotherFunction.c\n|   `-- recipeNo021_HelloWorld.c\n|-- java\n|   `-- recipeNo021\n|       `-- HelloWorld.java\n|-- lib\n`-- target\n</code></pre>\n<p>When it comes to simple JNI code, start with something super simple: <code>Hello world!</code></p>\n<p><a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo001\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo001</a></p>\n"}],"owner":{"account_id":16210342,"reputation":11,"user_id":11770634,"display_name":"Connor Siem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694497969,"creation_date":1564755477,"question_id":57328302,"body_markdown":"I&#39;ve created 3 `JNI` classes and since I&#39;m new to programming I just had them all in the same file but now I have to set up the directory for them in a professional sense. \r\n\r\nThis includes `src` for the source code and `bin` for the classes but I have no idea where to put the `.h` and `.so` files and how to compile everything so it works. \r\n\r\n**I&#39;ve tried** to look into classpaths and stuff but I seem to just be stuck and can&#39;t get my code to run properly. I&#39;m **also trying** to understand and learn packages for this but I&#39;m stuck on that too.\r\n~~~\r\n#spaces are just for easier reading atm\r\n\r\ncd /home/pi/git/GPIO_I2C\r\nmkdir bin\r\njavac -d bin /home/pi/git/GPIO_I2C/src/com/company/gpioi2c/gpio/GPIOMethods.java -h ./bin\r\n\r\ncd bin\r\ngcc -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -c &quot;com_comapny_gpioi2c_gpio_GPIOMethods.h&quot;\r\n\r\ncd /home/pi/git/GPIO_I2C/src/c\r\n\r\ngcc -o libmyGPIOMethods.so -shared -fPIC -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux GPIOMethods.c -lc \r\n\r\nsudo cp libmyGPIOMethods.so /usr/lib\r\ncd /home/pi/git/GPIO_I2C/\r\njava -cp /home/pi/git/GPIO_I2C/bin/com/company/gpioi2c/gpio GPIOMethods\r\n~~~\r\n\r\nThis is **what I&#39;ve tried** to compile so far for just one of the methods but I&#39;m getting `Could not load main class` or `unsatisfied link error` depending on what I&#39;ve changed?","title":"JNI directory structure c and java","body":"<p>I've created 3 <code>JNI</code> classes and since I'm new to programming I just had them all in the same file but now I have to set up the directory for them in a professional sense. </p>\n\n<p>This includes <code>src</code> for the source code and <code>bin</code> for the classes but I have no idea where to put the <code>.h</code> and <code>.so</code> files and how to compile everything so it works. </p>\n\n<p><strong>I've tried</strong> to look into classpaths and stuff but I seem to just be stuck and can't get my code to run properly. I'm <strong>also trying</strong> to understand and learn packages for this but I'm stuck on that too.</p>\n\n<pre><code>#spaces are just for easier reading atm\n\ncd /home/pi/git/GPIO_I2C\nmkdir bin\njavac -d bin /home/pi/git/GPIO_I2C/src/com/company/gpioi2c/gpio/GPIOMethods.java -h ./bin\n\ncd bin\ngcc -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -c \"com_comapny_gpioi2c_gpio_GPIOMethods.h\"\n\ncd /home/pi/git/GPIO_I2C/src/c\n\ngcc -o libmyGPIOMethods.so -shared -fPIC -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux GPIOMethods.c -lc \n\nsudo cp libmyGPIOMethods.so /usr/lib\ncd /home/pi/git/GPIO_I2C/\njava -cp /home/pi/git/GPIO_I2C/bin/com/company/gpioi2c/gpio GPIOMethods\n</code></pre>\n\n<p>This is <strong>what I've tried</strong> to compile so far for just one of the methods but I'm getting <code>Could not load main class</code> or <code>unsatisfied link error</code> depending on what I've changed?</p>\n"},{"tags":["java","android","android-room"],"answers":[{"comments":[{"owner":{"account_id":26746945,"reputation":91,"user_id":21110009,"display_name":" "},"score":0,"creation_date":1694490321,"post_id":77085160,"comment_id":135894036,"body_markdown":"Thank you for help (this is the second time :). Unfortunately this answer  did not help. It may not be possible to combine 2 inserts into one transaction.","body":"Thank you for help (this is the second time :). Unfortunately this answer  did not help. It may not be possible to combine 2 inserts into one transaction."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694488429,"creation_date":1694472419,"answer_id":77085160,"question_id":77081001,"body_markdown":"Immediately before or after the `@Transaction` annotation include the following:-\r\n\r\n    @Query(&quot;&quot;)\r\n\r\ne.g. \r\n\r\n\r\n    @Transaction\r\n    @Query(&quot;&quot;)\r\n    insertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\r\n        insert(weighting);\r\n        insert(comment);\r\n    }\r\n\r\nRoom then sees the function(s) as using the Database, due to the dummy query and wraps the function within a transaction (at least this used to be the behaviour).\r\n\r\nThis is according to https://developer.android.com/reference/kotlin/androidx/room/Transaction, as per:-\r\n\r\n&gt; When used on a Query method that has a SELECT statement, the generated code for the Query will be run in a transaction. There are 2 main cases where you may want to do that:\r\n\r\n&gt; If the result of the query is fairly big, it is better to run it inside a transaction to receive a consistent result. Otherwise, if the query result does not fit into a single android.database.CursorWindow, the query result may be corrupted due to changes in the database in between cursor window swaps.\r\n\r\n&gt; If the result of the query is a POJO with {@link Relation} fields, these fields are queried separately. To receive consistent results between these queries, you also want to run them in a single transaction.\r\n\r\nAnd then :-\r\n\r\n&gt; Putting this annotation on an Insert, Update or Delete method has no impact because those methods are always run inside a transaction. Similarly, if a method is annotated with Query but runs an INSERT, UPDATE or DELETE statement, it is automatically wrapped in a transaction and this annotation has no effect. Room will only perform at most one transaction at a time, additional transactions are queued and executed on a first come, first serve order.\r\n\r\nSo the dummy query appears to fool Room into wrapping the otherwise ignored INSERT/UPDATE/DELETE (or whatever e.g. could be execSQL&#39;s, query or @Query annotated functions) into a Transaction.\r\n\r\n\r\nAnd then \r\n\r\n&gt; The transaction will be marked as successful unless an exception is thrown in the method body.\r\n","title":"Annotation (@Transaction) in Room Android not Work","body":"<p>Immediately before or after the <code>@Transaction</code> annotation include the following:-</p>\n<pre><code>@Query(&quot;&quot;)\n</code></pre>\n<p>e.g.</p>\n<pre><code>@Transaction\n@Query(&quot;&quot;)\ninsertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\n    insert(weighting);\n    insert(comment);\n}\n</code></pre>\n<p>Room then sees the function(s) as using the Database, due to the dummy query and wraps the function within a transaction (at least this used to be the behaviour).</p>\n<p>This is according to <a href=\"https://developer.android.com/reference/kotlin/androidx/room/Transaction\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/androidx/room/Transaction</a>, as per:-</p>\n<blockquote>\n<p>When used on a Query method that has a SELECT statement, the generated code for the Query will be run in a transaction. There are 2 main cases where you may want to do that:</p>\n</blockquote>\n<blockquote>\n<p>If the result of the query is fairly big, it is better to run it inside a transaction to receive a consistent result. Otherwise, if the query result does not fit into a single android.database.CursorWindow, the query result may be corrupted due to changes in the database in between cursor window swaps.</p>\n</blockquote>\n<blockquote>\n<p>If the result of the query is a POJO with {@link Relation} fields, these fields are queried separately. To receive consistent results between these queries, you also want to run them in a single transaction.</p>\n</blockquote>\n<p>And then :-</p>\n<blockquote>\n<p>Putting this annotation on an Insert, Update or Delete method has no impact because those methods are always run inside a transaction. Similarly, if a method is annotated with Query but runs an INSERT, UPDATE or DELETE statement, it is automatically wrapped in a transaction and this annotation has no effect. Room will only perform at most one transaction at a time, additional transactions are queued and executed on a first come, first serve order.</p>\n</blockquote>\n<p>So the dummy query appears to fool Room into wrapping the otherwise ignored INSERT/UPDATE/DELETE (or whatever e.g. could be execSQL's, query or @Query annotated functions) into a Transaction.</p>\n<p>And then</p>\n<blockquote>\n<p>The transaction will be marked as successful unless an exception is thrown in the method body.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26746945,"reputation":91,"user_id":21110009,"display_name":" "},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1694496738,"creation_date":1694496738,"answer_id":77086318,"question_id":77081001,"body_markdown":"That&#39;s the solution that worked (without @Transaction).\r\n\r\nMy service class:\r\n\r\n    public class DBCommonService {\r\n\r\n    private static final String TAG = DBCommonService.class.getName();\r\n\r\n    private final AppDatabase db;\r\n\r\n    public DBCommonService(AppDatabase db) {\r\n        this.db = db;\r\n    }\r\n\r\n    public long addWeightAndComment(WeightingDbEntity weighting, String comment) {\r\n\r\n        return db.runInTransaction(() -&gt; {\r\n            try {\r\n                long resAddWeight = db.getWeightingDao().insert(weighting);\r\n\r\n                long resAddComment = 0;\r\n                if(resAddWeight &gt; 0) {\r\n                    resAddComment = db.getCommentDao().insert(new CommentDbEntity((int)resAddWeight, comment));\r\n                }\r\n\r\n                return resAddComment &gt; 0 ? resAddWeight : 0L;\r\n\r\n            } catch (Exception e) {\r\n                Log.e(TAG, e.getMessage());\r\n                return 0L;\r\n            }\r\n        });\r\n    }","title":"Annotation (@Transaction) in Room Android not Work","body":"<p>That's the solution that worked (without @Transaction).</p>\n<p>My service class:</p>\n<pre><code>public class DBCommonService {\n\nprivate static final String TAG = DBCommonService.class.getName();\n\nprivate final AppDatabase db;\n\npublic DBCommonService(AppDatabase db) {\n    this.db = db;\n}\n\npublic long addWeightAndComment(WeightingDbEntity weighting, String comment) {\n\n    return db.runInTransaction(() -&gt; {\n        try {\n            long resAddWeight = db.getWeightingDao().insert(weighting);\n\n            long resAddComment = 0;\n            if(resAddWeight &gt; 0) {\n                resAddComment = db.getCommentDao().insert(new CommentDbEntity((int)resAddWeight, comment));\n            }\n\n            return resAddComment &gt; 0 ? resAddWeight : 0L;\n\n        } catch (Exception e) {\n            Log.e(TAG, e.getMessage());\n            return 0L;\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":26746945,"reputation":91,"user_id":21110009,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77086318,"answer_count":2,"score":0,"last_activity_date":1694496738,"creation_date":1694429545,"question_id":77081001,"body_markdown":"I use ROOM with SQLite.\r\n\r\nI have 2 entities:\r\n\r\n**Weight**\r\n\r\n    @Entity(\r\n        tableName = TABLE_WEIGHTING,\r\n        foreignKeys = {\r\n                @ForeignKey(entity = CowDbEntity.class,\r\n                        parentColumns = COW_COLUMN_ID,\r\n                        childColumns = WEIGHTING_COLUMN_COW_ID,\r\n                        onDelete = ForeignKey.CASCADE)\r\n        }\r\n    )\r\n    public class WeightingDbEntity {\r\n    \r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = WEIGHTING_COLUMN_ID)\r\n    private int id;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_NUM, defaultValue = &quot;0&quot;)\r\n    private int num;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_COW_ID)\r\n    private int cowId;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_FIXED_WEIGHT)\r\n    private float fixedWeight;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_GAIN, defaultValue = &quot;0&quot;)\r\n    private float weightGain;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_PREV_RECORD, defaultValue = &quot;0&quot;)\r\n    private int prevRecord;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_DATE)\r\n    private String date;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_SERVER_ID, defaultValue = &quot;0&quot;)\r\n    private int idWeightServer;\r\n...\r\n\r\nAnd **Comment**\r\n\r\n    @Entity(\r\n        tableName = TABLE_COMMENT,\r\n        foreignKeys = {@ForeignKey(entity = WeightingDbEntity.class,\r\n                parentColumns = WEIGHTING_COLUMN_ID,\r\n                childColumns = COMMENT_COLUMN_WEIGHTING_ID,\r\n                onDelete = ForeignKey.CASCADE)\r\n        } \r\n    ) \r\n    public class CommentDbEntity {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = COMMENT_COLUMN_ID)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = COMMENT_COLUMN_WEIGHTING_ID)\r\n    private int weightingId;\r\n\r\n    private String description;\r\n\r\n    public CommentDbEntity(int weightingId, String description) {\r\n        this.weightingId = weightingId;\r\n        this.description = description;\r\n    }\r\n...\r\n\r\nI also use DAO:\r\n\r\nfor **Weight**\r\n\r\n    @Dao\r\n    public interface WeightingDao { \r\n\r\n    @Insert\r\n    long insert(WeightingDbEntity weighting);\r\n\r\n...\r\n\r\nAnd DAO Comment:\r\n\r\n    @Dao\r\n    public interface CommentDao {\r\n\r\n    @Insert\r\n    long insert(CommentDbEntity comment);\r\n...\r\n\r\nI have a problem. I need to do something similar to this:\r\n\r\n     @Transaction\r\n    insertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\r\n        insert(weighting);\r\n        insert(comment);\r\n    }\r\n\r\n**I need 2 queries to be executed only together. To do this, I will use @Transaction.\r\nBut the queries are in different classes. I do not know how to do it better.**\r\n\r\nI tried to do:\r\n\r\nI created the service class:\r\n\r\n    public class DBCommonService {\r\n\r\n    private static final String TAG = DBCommonService.class.getName();\r\n\r\n    private final WeightingDao weightingDao;\r\n    private final CommentDao commentDao;\r\n    private final CowDao cowDao;\r\n    private final HistoryDao historyDao;\r\n    private final ActionDao actionDao;\r\n\r\n    public DBCommonService(WeightingDao weightingDao, CommentDao commentDao, CowDao cowDao, HistoryDao historyDao, ActionDao actionDao) {\r\n        this.weightingDao = weightingDao;\r\n        this.commentDao = commentDao;\r\n        this.cowDao = cowDao;\r\n        this.historyDao = historyDao;\r\n        this.actionDao = actionDao;\r\n    }\r\n    \r\n    @Transaction\r\n    public long addWeightAndComment(WeightingDbEntity weighting, String comment) {\r\n\r\n        try {\r\n            long resAddWeight = weightingDao.insert(weighting);\r\n\r\n            long resAddComment = 0;\r\n            if(resAddWeight &gt; 0) {\r\n                resAddComment = commentDao.insert(new CommentDbEntity((int)resAddWeight, comment));\r\n            }\r\n\r\n            return resAddComment &gt; 0 ? resAddWeight : 0;\r\n\r\n        } catch (Exception e) {\r\n            Log.e(TAG, e.getMessage());\r\n            return 0;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n**But it doesn&#39;t work.** If I add you, and the comment is added with an error, there will be no rollback. And as a result, the weight will be added without comment. How to do it right?\r\n\r\nPS: \r\nA solution has been proposed here https://stackoverflow.com/questions/48164003/android-room-transactions-across-daos\r\n\r\n    database.runInTransaction(new Runnable(){\r\n      @Override\r\n      public void run(){\r\n    Access all your daos here\r\n      }\r\n    });\r\n\r\nThis solution is a void method, but I need a result for check (id record).","title":"Annotation (@Transaction) in Room Android not Work","body":"<p>I use ROOM with SQLite.</p>\n<p>I have 2 entities:</p>\n<p><strong>Weight</strong></p>\n<pre><code>@Entity(\n    tableName = TABLE_WEIGHTING,\n    foreignKeys = {\n            @ForeignKey(entity = CowDbEntity.class,\n                    parentColumns = COW_COLUMN_ID,\n                    childColumns = WEIGHTING_COLUMN_COW_ID,\n                    onDelete = ForeignKey.CASCADE)\n    }\n)\npublic class WeightingDbEntity {\n\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = WEIGHTING_COLUMN_ID)\nprivate int id;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_NUM, defaultValue = &quot;0&quot;)\nprivate int num;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_COW_ID)\nprivate int cowId;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_FIXED_WEIGHT)\nprivate float fixedWeight;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_GAIN, defaultValue = &quot;0&quot;)\nprivate float weightGain;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_PREV_RECORD, defaultValue = &quot;0&quot;)\nprivate int prevRecord;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_DATE)\nprivate String date;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_SERVER_ID, defaultValue = &quot;0&quot;)\nprivate int idWeightServer;\n</code></pre>\n<p>...</p>\n<p>And <strong>Comment</strong></p>\n<pre><code>@Entity(\n    tableName = TABLE_COMMENT,\n    foreignKeys = {@ForeignKey(entity = WeightingDbEntity.class,\n            parentColumns = WEIGHTING_COLUMN_ID,\n            childColumns = COMMENT_COLUMN_WEIGHTING_ID,\n            onDelete = ForeignKey.CASCADE)\n    } \n) \npublic class CommentDbEntity {\n\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = COMMENT_COLUMN_ID)\nprivate int id;\n\n@ColumnInfo(name = COMMENT_COLUMN_WEIGHTING_ID)\nprivate int weightingId;\n\nprivate String description;\n\npublic CommentDbEntity(int weightingId, String description) {\n    this.weightingId = weightingId;\n    this.description = description;\n}\n</code></pre>\n<p>...</p>\n<p>I also use DAO:</p>\n<p>for <strong>Weight</strong></p>\n<pre><code>@Dao\npublic interface WeightingDao { \n\n@Insert\nlong insert(WeightingDbEntity weighting);\n</code></pre>\n<p>...</p>\n<p>And DAO Comment:</p>\n<pre><code>@Dao\npublic interface CommentDao {\n\n@Insert\nlong insert(CommentDbEntity comment);\n</code></pre>\n<p>...</p>\n<p>I have a problem. I need to do something similar to this:</p>\n<pre><code> @Transaction\ninsertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\n    insert(weighting);\n    insert(comment);\n}\n</code></pre>\n<p><strong>I need 2 queries to be executed only together. To do this, I will use @Transaction.\nBut the queries are in different classes. I do not know how to do it better.</strong></p>\n<p>I tried to do:</p>\n<p>I created the service class:</p>\n<pre><code>public class DBCommonService {\n\nprivate static final String TAG = DBCommonService.class.getName();\n\nprivate final WeightingDao weightingDao;\nprivate final CommentDao commentDao;\nprivate final CowDao cowDao;\nprivate final HistoryDao historyDao;\nprivate final ActionDao actionDao;\n\npublic DBCommonService(WeightingDao weightingDao, CommentDao commentDao, CowDao cowDao, HistoryDao historyDao, ActionDao actionDao) {\n    this.weightingDao = weightingDao;\n    this.commentDao = commentDao;\n    this.cowDao = cowDao;\n    this.historyDao = historyDao;\n    this.actionDao = actionDao;\n}\n\n@Transaction\npublic long addWeightAndComment(WeightingDbEntity weighting, String comment) {\n\n    try {\n        long resAddWeight = weightingDao.insert(weighting);\n\n        long resAddComment = 0;\n        if(resAddWeight &gt; 0) {\n            resAddComment = commentDao.insert(new CommentDbEntity((int)resAddWeight, comment));\n        }\n\n        return resAddComment &gt; 0 ? resAddWeight : 0;\n\n    } catch (Exception e) {\n        Log.e(TAG, e.getMessage());\n        return 0;\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>But it doesn't work.</strong> If I add you, and the comment is added with an error, there will be no rollback. And as a result, the weight will be added without comment. How to do it right?</p>\n<p>PS:\nA solution has been proposed here <a href=\"https://stackoverflow.com/questions/48164003/android-room-transactions-across-daos\">Android Room transactions across DAOs</a></p>\n<pre><code>database.runInTransaction(new Runnable(){\n  @Override\n  public void run(){\nAccess all your daos here\n  }\n});\n</code></pre>\n<p>This solution is a void method, but I need a result for check (id record).</p>\n"},{"tags":["java","swing","user-interface","netbeans","jframe"],"answers":[{"tags":[],"owner":{"display_name":"user22391295"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694496406,"creation_date":1694496406,"answer_id":77086300,"question_id":77086254,"body_markdown":"This happen because under your **`main`** in your **`com.mycompany.quiz_management`** class you only print the **&quot;Hello World&quot;** and you&#39;re not actually creating the instance of your **`indexx`** JFrame.\r\n\r\n\r\ninstantiate your **`indexx`** on your **`main`**.\r\n\r\n     public static void main(String[] args) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new indexx().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n","title":"New netbeans project outputs code but not jframe ui","body":"<p>This happen because under your <strong><code>main</code></strong> in your <strong><code>com.mycompany.quiz_management</code></strong> class you only print the <strong>&quot;Hello World&quot;</strong> and you're not actually creating the instance of your <strong><code>indexx</code></strong> JFrame.</p>\n<p>instantiate your <strong><code>indexx</code></strong> on your <strong><code>main</code></strong>.</p>\n<pre><code> public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new indexx().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":29265638,"reputation":1,"user_id":22421502,"display_name":"Tnsae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694496406,"creation_date":1694495514,"question_id":77086254,"body_markdown":"I just created a new java project and opened a jframe file. When i added a few buttons and previewed it, it looks fine. But when i run the file (indexx.java) it shows me only the standard &#39;Hello World&#39; output and nothing else. It&#39;s not showing the JFrame. \r\n\r\n\r\nI have looked over some tutorials on why it may have happened and none have worked. \r\n-Going to set project configuration and setting the Main Class to indexx has not worked\r\n\r\nIt just shows me BUILD SUCCESS\r\n\r\nThis is my indexx.java file\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\npublic class indexx extends javax.swing.JFrame {\r\n\r\n   \r\n    public indexx() {\r\n        initComponents();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        student = new javax.swing.JButton();\r\n        admin = new javax.swing.JButton();\r\n        exit = new javax.swing.JButton();\r\n        jLabel1 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setUndecorated(true);\r\n        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\r\n\r\n        student.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\r\n        student.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/studentedited.png&quot;))); // NOI18N\r\n        student.setText(&quot;Student&quot;);\r\n        student.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                studentActionPerformed(evt);\r\n            }\r\n        });\r\n        getContentPane().add(student, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 120, 150, -1));\r\n\r\n        admin.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\r\n        admin.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/admin_1.png&quot;))); // NOI18N\r\n        admin.setText(&quot;Admin&quot;);\r\n        admin.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                adminActionPerformed(evt);\r\n            }\r\n        });\r\n        getContentPane().add(admin, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 200, 150, -1));\r\n\r\n        exit.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\r\n        exit.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/exitt.png&quot;))); // NOI18N\r\n        exit.setText(&quot;Exit&quot;);\r\n        exit.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                exitActionPerformed(evt);\r\n            }\r\n        });\r\n        getContentPane().add(exit, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 280, 150, -1));\r\n\r\n        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/t.jpg&quot;))); // NOI18N\r\n        jLabel1.setText(&quot; &quot;);\r\n        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 840, 480));\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void studentActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n    }                                       \r\n\r\n    private void exitActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n\r\n        \r\n    int a = JOptionPane.showConfirmDialog(null, &quot;Exit Application?&quot;, &quot;Select&quot;, JOptionPane.YES_NO_OPTION);\r\n    if(a==0){\r\n        System.exit(0);\r\n    }else{}\r\n// TODO add your handling code here: \r\n    }                                    \r\n\r\n    private void adminActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n        // TODO add your handling code here:\r\n    }                                     \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new indexx().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton admin;\r\n    private javax.swing.JButton exit;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JButton student;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nAnd this is my main class\r\n\r\n\r\n```\r\npackage com.mycompany.quiz_management;\r\n//import javax.swing.JFrame;\r\n/**\r\n *\r\n * @author HP\r\n */\r\npublic class Quiz_Management {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI barely added anything and the tutorial i&#39;m following doesn&#39;t experience this problem. Any advice/help would be appreciated.\r\n","title":"New netbeans project outputs code but not jframe ui","body":"<p>I just created a new java project and opened a jframe file. When i added a few buttons and previewed it, it looks fine. But when i run the file (indexx.java) it shows me only the standard 'Hello World' output and nothing else. It's not showing the JFrame.</p>\n<p>I have looked over some tutorials on why it may have happened and none have worked.\n-Going to set project configuration and setting the Main Class to indexx has not worked</p>\n<p>It just shows me BUILD SUCCESS</p>\n<p>This is my indexx.java file</p>\n<pre><code>import javax.swing.JOptionPane;\npublic class indexx extends javax.swing.JFrame {\n\n   \n    public indexx() {\n        initComponents();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        student = new javax.swing.JButton();\n        admin = new javax.swing.JButton();\n        exit = new javax.swing.JButton();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setUndecorated(true);\n        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\n\n        student.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\n        student.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/studentedited.png&quot;))); // NOI18N\n        student.setText(&quot;Student&quot;);\n        student.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                studentActionPerformed(evt);\n            }\n        });\n        getContentPane().add(student, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 120, 150, -1));\n\n        admin.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\n        admin.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/admin_1.png&quot;))); // NOI18N\n        admin.setText(&quot;Admin&quot;);\n        admin.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                adminActionPerformed(evt);\n            }\n        });\n        getContentPane().add(admin, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 200, 150, -1));\n\n        exit.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\n        exit.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/exitt.png&quot;))); // NOI18N\n        exit.setText(&quot;Exit&quot;);\n        exit.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                exitActionPerformed(evt);\n            }\n        });\n        getContentPane().add(exit, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 280, 150, -1));\n\n        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/t.jpg&quot;))); // NOI18N\n        jLabel1.setText(&quot; &quot;);\n        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 840, 480));\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void studentActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // TODO add your handling code here:\n    }                                       \n\n    private void exitActionPerformed(java.awt.event.ActionEvent evt) {                                     \n\n        \n    int a = JOptionPane.showConfirmDialog(null, &quot;Exit Application?&quot;, &quot;Select&quot;, JOptionPane.YES_NO_OPTION);\n    if(a==0){\n        System.exit(0);\n    }else{}\n// TODO add your handling code here: \n    }                                    \n\n    private void adminActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new indexx().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton admin;\n    private javax.swing.JButton exit;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JButton student;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>And this is my main class</p>\n<pre><code>package com.mycompany.quiz_management;\n//import javax.swing.JFrame;\n/**\n *\n * @author HP\n */\npublic class Quiz_Management {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n\n</code></pre>\n<p>I barely added anything and the tutorial i'm following doesn't experience this problem. Any advice/help would be appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694498394,"post_id":77086286,"comment_id":135894759,"body_markdown":"As the last root cause suggests - `The last packet successfully received from the server was 221,081,546 milliseconds ago. ....., increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.`  Did you try to set `autoReconnect=true` in your JDBC URL?","body":"As the last root cause suggests - <code>The last packet successfully received from the server was 221,081,546 milliseconds ago. ....., increasing the server configured values for client timeouts, or using the Connector&#47;J connection property &#39;autoReconnect=true&#39; to avoid this problem.</code>  Did you try to set <code>autoReconnect=true</code> in your JDBC URL?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694498554,"post_id":77086286,"comment_id":135894783,"body_markdown":"Do you also have a `spring.datasource.validationQuery=SELECT 1`? This will be executed to keep the connection alive after some interval.","body":"Do you also have a <code>spring.datasource.validationQuery=SELECT 1</code>? This will be executed to keep the connection alive after some interval."},{"owner":{"account_id":26214471,"reputation":1,"user_id":22541717,"display_name":"user22541717"},"score":0,"creation_date":1694505993,"post_id":77086286,"comment_id":135895963,"body_markdown":"@Ishan I have not tried &#39;autoReconnect=true&#39; since somewhere in stack overflow, I found it is not recommended thus it has some disadvantages. Though I am going to give it a try now finding no other way.\n\nAnd I have no idea what does spring.datasource.validationQuery=SELECT 1 do?","body":"@Ishan I have not tried &#39;autoReconnect=true&#39; since somewhere in stack overflow, I found it is not recommended thus it has some disadvantages. Though I am going to give it a try now finding no other way.  And I have no idea what does spring.datasource.validationQuery=SELECT 1 do?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694506659,"post_id":77086286,"comment_id":135896083,"body_markdown":"`spring.datasource.validationQuery=SELECT 1` defines the SQL that is to be executed to determine if the connection is valid or not.  It is the simplest query possible. It should happen every few seconds/minutes. Also `spring.datasource.testOnBorrow=true` should be set to make sure whenever an already open connection is returned to a thread from the free connection pool, it is tested to be still valid. So, the thread never gets any invalid connection.","body":"<code>spring.datasource.validationQuery=SELECT 1</code> defines the SQL that is to be executed to determine if the connection is valid or not.  It is the simplest query possible. It should happen every few seconds/minutes. Also <code>spring.datasource.testOnBorrow=true</code> should be set to make sure whenever an already open connection is returned to a thread from the free connection pool, it is tested to be still valid. So, the thread never gets any invalid connection."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694507597,"post_id":77086286,"comment_id":135896237,"body_markdown":"On this page - https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.data - search for the term `spring.datasource.tomcat`. Those highlighted parameters have a few at the end like `spring.datasource.tomcat.validation-interval, spring.datasource.tomcat.validation-query, spring.datasource.tomcat.validation-query-timeout, spring.datasource.tomcat.validator-class-name`. Check those out.","body":"On this page - <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.data\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> - search for the term <code>spring.datasource.tomcat</code>. Those highlighted parameters have a few at the end like <code>spring.datasource.tomcat.validation-interval, spring.datasource.tomcat.validation-query, spring.datasource.tomcat.validation-query-timeout, spring.datasource.tomcat.validator-class-name</code>. Check those out."}],"owner":{"account_id":26214471,"reputation":1,"user_id":22541717,"display_name":"user22541717"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694496098,"creation_date":1694496098,"question_id":77086286,"body_markdown":"I have a running Spring Boot web application hosted in Tomcat 9 configured with MySQL database which is running without any issues. When the application is deployed in live server and kept idle for at least 12 hours the issue starts arising. The error is as follows.\r\n\r\n\r\n```\r\nHTTP Status 500  Internal Server Error\r\nType Exception Report\r\n\r\nMessage Request processing failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n```\r\n\r\n\r\nRoot Cause is\r\n\r\n```\r\norg.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\r\n\torg.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\r\n\torg.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\torg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\torg.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n```\r\n\r\nAnd Root cause follows like this\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: The last packet successfully received from the server was 221,081,546 milliseconds ago. The last packet sent successfully to the server was 221,081,546 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\tcom.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tcom.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tcom.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tcom.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)\r\n\tcom.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\r\n\torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\torg.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\torg.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\torg.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\torg.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n```\r\n\r\nThis problem arises only in live server and not in local dev environment when the application is kept idle for 12 hours. Doing a simple browser refresh solves the problem though.\r\n\r\nI have set this\r\n\r\n```\r\nserver.tomcat.keep-alive-timeout = -1\r\n```\r\n\r\nin **application.properties** but it has no effect.","title":"HTTP Status 500  Internal Server Error for idle Spring Boot Web Application com.mysql.cj.jdbc.exceptions.CommunicationsException","body":"<p>I have a running Spring Boot web application hosted in Tomcat 9 configured with MySQL database which is running without any issues. When the application is deployed in live server and kept idle for at least 12 hours the issue starts arising. The error is as follows.</p>\n<pre><code>HTTP Status 500  Internal Server Error\nType Exception Report\n\nMessage Request processing failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n</code></pre>\n<p>Root Cause is</p>\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\n    org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\n    org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n</code></pre>\n<p>And Root cause follows like this</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: The last packet successfully received from the server was 221,081,546 milliseconds ago. The last packet sent successfully to the server was 221,081,546 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)\n    com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    org.hibernate.loader.Loader.doQuery(Loader.java:956)\n</code></pre>\n<p>This problem arises only in live server and not in local dev environment when the application is kept idle for 12 hours. Doing a simple browser refresh solves the problem though.</p>\n<p>I have set this</p>\n<pre><code>server.tomcat.keep-alive-timeout = -1\n</code></pre>\n<p>in <strong>application.properties</strong> but it has no effect.</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":0,"creation_date":1498684939,"post_id":44810743,"comment_id":76606117,"body_markdown":"Hi and welcome to Stack Overflow, please take a time to go through the [welcome tour](https://stackoverflow.com/tour) to know your way around here (and also to earn your first badge), read how to create a [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and also check [How to Ask Good Questions](https://stackoverflow.com/help/how-to-ask) so you increase your chances to get feedback and useful answers.","body":"Hi and welcome to Stack Overflow, please take a time to go through the <a href=\"https://stackoverflow.com/tour\">welcome tour</a> to know your way around here (and also to earn your first badge), read how to create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and also check <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask Good Questions</a> so you increase your chances to get feedback and useful answers."}],"answers":[{"tags":[],"owner":{"account_id":8447748,"reputation":38031,"user_id":6337748,"accept_rate":38,"display_name":"notionquest"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1498741961,"creation_date":1498741961,"answer_id":44826147,"question_id":44810743,"body_markdown":"You can use the below `UpdateExpression` to remove the key from Map data type.\r\n\r\n    var params = {\r\n        TableName: &quot;yourTableName&quot;,\r\n        Key: {\r\n            &quot;ExHashKey&quot;: &quot;id_asdfqe123&quot;\r\n        },\r\n        UpdateExpression: &quot;REMOVE Data.key1&quot;,\r\n        ReturnValues: &quot;ALL_NEW&quot;\r\n    };","title":"DynamoDB - Remove key-value pair from Map","body":"<p>You can use the below <code>UpdateExpression</code> to remove the key from Map data type.</p>\n\n<pre><code>var params = {\n    TableName: \"yourTableName\",\n    Key: {\n        \"ExHashKey\": \"id_asdfqe123\"\n    },\n    UpdateExpression: \"REMOVE Data.key1\",\n    ReturnValues: \"ALL_NEW\"\n};\n</code></pre>\n"}],"owner":{"account_id":11215139,"reputation":43,"user_id":8228023,"display_name":"blucaroni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6730,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44826147,"answer_count":1,"score":4,"last_activity_date":1694491977,"creation_date":1498677138,"question_id":44810743,"body_markdown":"```json\r\n{\r\n  &quot;ExHashKey&quot;: &quot;id_asdfqe123&quot;,\r\n  &quot;Data&quot;: {\r\n    &quot;key1&quot;: &quot;val1&quot;,\r\n    &quot;key2&quot;: &quot;val2&quot;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m trying to delete elements from the &quot;Data&quot; map by key. Is there a way to do this other than just retrieving the entire item, making changes, and then writing it to the DB again? \r\n\r\nI&#39;ve poked around the `UpdateExpressions` API a fair amount and I haven&#39;t found anything that&#39;s worked. ","title":"DynamoDB - Remove key-value pair from Map","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ExHashKey&quot;: &quot;id_asdfqe123&quot;,\n  &quot;Data&quot;: {\n    &quot;key1&quot;: &quot;val1&quot;,\n    &quot;key2&quot;: &quot;val2&quot;\n  }\n}\n</code></pre>\n<p>I'm trying to delete elements from the &quot;Data&quot; map by key. Is there a way to do this other than just retrieving the entire item, making changes, and then writing it to the DB again?</p>\n<p>I've poked around the <code>UpdateExpressions</code> API a fair amount and I haven't found anything that's worked.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1694174127,"post_id":77066655,"comment_id":135860150,"body_markdown":"This is not a code writing service. Please show your best effort attempt to solve this and describe how it&#39;s not working.","body":"This is not a code writing service. Please show your best effort attempt to solve this and describe how it&#39;s not working."},{"owner":{"account_id":29394976,"reputation":1,"user_id":22522526,"display_name":"JavaLearner"},"score":0,"creation_date":1694174833,"post_id":77066655,"comment_id":135860298,"body_markdown":"Hi Bohemian,I tried to write using stream but i couldn&#39;t able to complete so I used some private methods to compare the versions and return the list.i wanted to know whether we can do it using stream.","body":"Hi Bohemian,I tried to write using stream but i couldn&#39;t able to complete so I used some private methods to compare the versions and return the list.i wanted to know whether we can do it using stream."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694175002,"post_id":77066655,"comment_id":135860333,"body_markdown":"*i wanted to know whether we can do it using stream.* Yes, you can","body":"<i>i wanted to know whether we can do it using stream.</i> Yes, you can"},{"owner":{"account_id":29394976,"reputation":1,"user_id":22522526,"display_name":"JavaLearner"},"score":0,"creation_date":1694189030,"post_id":77066655,"comment_id":135863192,"body_markdown":"Abra thank you so much for sharing the code,it&#39;s helpful.Appreciate it.","body":"Abra thank you so much for sharing the code,it&#39;s helpful.Appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694491818,"creation_date":1694434684,"answer_id":77081555,"question_id":77066655,"body_markdown":"```java\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic record MyObj(String id, String version) {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(List.of(new MyObj(&quot;bike&quot;,&quot;1.8&quot;),\r\n                                   new MyObj(&quot;bike&quot;,&quot;2.0&quot;),\r\n                                   new MyObj(&quot;car&quot;,&quot;3.4&quot;),\r\n                                   new MyObj(&quot;car&quot;,&quot;4.6&quot;))\r\n                               .stream()\r\n                               .collect(Collectors.groupingBy(m -&gt; m.id(),\r\n                                                              Collectors.maxBy((o1, o2) -&gt; o1.version().compareTo(o2.version()))))\r\n                               .values());\r\n    }\r\n}\r\n```\r\n`MyObj` lends itself to being a [record][1].\r\n\r\nIn the above code, I first create a `List` of `MyObj` instances using method [of][2] (that was added in JDK 9).\r\n\r\nThen I create a [`Stream&lt;MyObj&gt;`](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n\r\nMethod `groupingBy` returns a [`Map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html).\r\n\r\nFirst argument to method `groupingBy` is a [lambda expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) that provides the `Map` key.\r\n\r\nSecond argument to method `groupingBy` works on a `Stream&lt;List&lt;MyObj&gt;&gt;`. Hence `maxBy` will return the maximum element in each `List` element of the `Stream` and the maximum element is determined by the [`Comparator`](https://www.baeldung.com/java-comparator-comparable). In the above code, the `Comparator` compares the `version` member of each `MyObj` instance in a given `List`.\r\n\r\nThe result is a `Map` where the key is the `id` (of a `MyObj` object) and the value is the largest `version`.\r\n\r\nFinally, calling method `values` on the `Map` returns a `List` of the `Map` values where each value is wrapped in an [`Optional`](https://www.oracle.com/technical-resources/articles/java/java8-optional.html).\r\n\r\nRunning above code produces following:\r\n```none\r\n[Optional[MyClass[id=car, version=4.6]], Optional[MyClass[id=bike, version=2.0]]]\r\n```\r\nOnline demonstration available [here][3].\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://stackoverflow.com/questions/53051646/what-type-of-list-is-generated-by-list-of-in-java\r\n  [3]: https://www.jdoodle.com/ia/M4Z","title":"Java 8 Stream usage","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.stream.Collectors;\n\npublic record MyObj(String id, String version) {\n\n    public static void main(String[] args) {\n        System.out.println(List.of(new MyObj(&quot;bike&quot;,&quot;1.8&quot;),\n                                   new MyObj(&quot;bike&quot;,&quot;2.0&quot;),\n                                   new MyObj(&quot;car&quot;,&quot;3.4&quot;),\n                                   new MyObj(&quot;car&quot;,&quot;4.6&quot;))\n                               .stream()\n                               .collect(Collectors.groupingBy(m -&gt; m.id(),\n                                                              Collectors.maxBy((o1, o2) -&gt; o1.version().compareTo(o2.version()))))\n                               .values());\n    }\n}\n</code></pre>\n<p><code>MyObj</code> lends itself to being a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>In the above code, I first create a <code>List</code> of <code>MyObj</code> instances using method <a href=\"https://stackoverflow.com/questions/53051646/what-type-of-list-is-generated-by-list-of-in-java\">of</a> (that was added in JDK 9).</p>\n<p>Then I create a <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;MyObj&gt;</code></a>.</p>\n<p>Method <code>groupingBy</code> returns a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>.</p>\n<p>First argument to method <code>groupingBy</code> is a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a> that provides the <code>Map</code> key.</p>\n<p>Second argument to method <code>groupingBy</code> works on a <code>Stream&lt;List&lt;MyObj&gt;&gt;</code>. Hence <code>maxBy</code> will return the maximum element in each <code>List</code> element of the <code>Stream</code> and the maximum element is determined by the <a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>. In the above code, the <code>Comparator</code> compares the <code>version</code> member of each <code>MyObj</code> instance in a given <code>List</code>.</p>\n<p>The result is a <code>Map</code> where the key is the <code>id</code> (of a <code>MyObj</code> object) and the value is the largest <code>version</code>.</p>\n<p>Finally, calling method <code>values</code> on the <code>Map</code> returns a <code>List</code> of the <code>Map</code> values where each value is wrapped in an <a href=\"https://www.oracle.com/technical-resources/articles/java/java8-optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>.</p>\n<p>Running above code produces following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Optional[MyClass[id=car, version=4.6]], Optional[MyClass[id=bike, version=2.0]]]\n</code></pre>\n<p>Online demonstration available <a href=\"https://www.jdoodle.com/ia/M4Z\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":29394976,"reputation":1,"user_id":22522526,"display_name":"JavaLearner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1694491818,"creation_date":1694173992,"question_id":77066655,"body_markdown":"Is it possible to filter the list of objects using stream.\r\n\r\n\r\n    public class MyObj{\r\n        private String ID;\r\n        private String version;\r\n    }\r\n    MyObj obj1=new MyObj(&quot;bike&quot;,&quot;1.8&quot;);\r\n    MyObj obj2=new MyObj(&quot;bike&quot;,&quot;2.0&quot;);\r\n    MyObj obj3=new MyObj(&quot;car&quot;,&quot;3.4&quot;);\r\n    MyObj obj4=new MyObj(&quot;car&quot;,&quot;4.6&quot;);\r\n    List&lt;MyObj&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(obj1);\r\n    list.add(obj2);\r\n    list.add(obj3);\r\n    list.add(obj4);\r\n    List&lt;MyObj&gt; filteredData=list.stream(). filter(s1,s2-&gt; { if(s1.getId().equalsIgnoreCase(s2.getId()))\r\n     //** I stucked here ,not understanding how to compare objects in stream&quot; **//\r\n\r\n`List&lt;Myobj&gt; list` (contains all the mentioned objects above).\r\nI want to filter it in such a way that it returns a list containing distinct ID&#39;s of highest version.\r\nExample: It should return `List` of objects. Here it should return `obj2`, `obj4`.\r\n\r\nPlease help.\r\n\r\nI have tried using private methods to filter my list by passing ID and list of objects as a parameters. It will return list of objects of certain ID with highest version. And finallym I am cumulating all the lists to a single list.\r\nAnd I am expecting to do this using a stream if possible.","title":"Java 8 Stream usage","body":"<p>Is it possible to filter the list of objects using stream.</p>\n<pre><code>public class MyObj{\n    private String ID;\n    private String version;\n}\nMyObj obj1=new MyObj(&quot;bike&quot;,&quot;1.8&quot;);\nMyObj obj2=new MyObj(&quot;bike&quot;,&quot;2.0&quot;);\nMyObj obj3=new MyObj(&quot;car&quot;,&quot;3.4&quot;);\nMyObj obj4=new MyObj(&quot;car&quot;,&quot;4.6&quot;);\nList&lt;MyObj&gt; list = new ArrayList&lt;&gt;();\nlist.add(obj1);\nlist.add(obj2);\nlist.add(obj3);\nlist.add(obj4);\nList&lt;MyObj&gt; filteredData=list.stream(). filter(s1,s2-&gt; { if(s1.getId().equalsIgnoreCase(s2.getId()))\n //** I stucked here ,not understanding how to compare objects in stream&quot; **//\n</code></pre>\n<p><code>List&lt;Myobj&gt; list</code> (contains all the mentioned objects above).\nI want to filter it in such a way that it returns a list containing distinct ID's of highest version.\nExample: It should return <code>List</code> of objects. Here it should return <code>obj2</code>, <code>obj4</code>.</p>\n<p>Please help.</p>\n<p>I have tried using private methods to filter my list by passing ID and list of objects as a parameters. It will return list of objects of certain ID with highest version. And finallym I am cumulating all the lists to a single list.\nAnd I am expecting to do this using a stream if possible.</p>\n"},{"tags":["java","http","junit"],"comments":[{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1694450230,"post_id":77082787,"comment_id":135889496,"body_markdown":"But for some reason your method is _not_ executed ?","body":"But for some reason your method is <i>not</i> executed ?"}],"answers":[{"tags":[],"owner":{"account_id":8299475,"reputation":151,"user_id":6238538,"display_name":"Wang Peiming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694491419,"creation_date":1694491419,"answer_id":77086041,"question_id":77082787,"body_markdown":"If you want to execute your test on your computer rather than connected Android phone, then you should put your test code into the `src/test` instead of `src/androidTest`","title":"GET HTTP request Android Studio","body":"<p>If you want to execute your test on your computer rather than connected Android phone, then you should put your test code into the <code>src/test</code> instead of <code>src/androidTest</code></p>\n"}],"owner":{"account_id":29415619,"reputation":1,"user_id":22538521,"display_name":"Lorso69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694491419,"creation_date":1694444684,"question_id":77082787,"body_markdown":"I am writing a java test for an Android device in the androidTest directory. I need to perform an http get request ON MY computer. But for some reason my method is executed on a connected Android phone.\r\n\r\n\r\n```\r\npublic class HttpRequests {\r\n    @Test\r\n    public void dropSession() throws IOException {\r\n        String url = &quot;url.url&quot;;\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            if (!response.isSuccessful()) {\r\n                throw new IOException(&quot;Unexpected response code: &quot; + response);\r\n            }\r\n\r\n            String responseBody = response.body().string();\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"GET HTTP request Android Studio","body":"<p>I am writing a java test for an Android device in the androidTest directory. I need to perform an http get request ON MY computer. But for some reason my method is executed on a connected Android phone.</p>\n<pre><code>public class HttpRequests {\n    @Test\n    public void dropSession() throws IOException {\n        String url = &quot;url.url&quot;;\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(url)\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            if (!response.isSuccessful()) {\n                throw new IOException(&quot;Unexpected response code: &quot; + response);\n            }\n\n            String responseBody = response.body().string();\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","error-handling","compiler-errors","nullpointerexception"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694491610,"post_id":77086035,"comment_id":135894135,"body_markdown":"When you assign a value to `pInp` in `playerGo` you are not changing the value of `static String pInp;` so it will remain `null`.  The &quot;short&quot; answer would be to remove the parameter requirements for both `playerGo` and `compGo`.  I would the go the extra step of having those methods return their results, so you can then assign the results back to your variables.","body":"When you assign a value to <code>pInp</code> in <code>playerGo</code> you are not changing the value of <code>static String pInp;</code> so it will remain <code>null</code>.  The &quot;short&quot; answer would be to remove the parameter requirements for both <code>playerGo</code> and <code>compGo</code>.  I would the go the extra step of having those methods return their results, so you can then assign the results back to your variables."}],"owner":{"account_id":29419388,"reputation":1,"user_id":22541438,"display_name":"cottonballs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694494127,"answer_count":0,"score":0,"last_activity_date":1694491306,"creation_date":1694491306,"question_id":77086035,"body_markdown":"Exception in thread&quot;main&quot; \r\njava.lang.NullPointerException (at line 49 and 14)\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\tstatic String pInp;\r\n\tstatic int cpuInp;\r\n\tstatic Scanner scan = new Scanner(System.in);\r\n\tpublic static void main(String args[]) {\r\nSystem.out.print(&quot;Rock, Paper, or Scissors&quot;);\r\nplayerGo(pInp);\r\ncompGo(cpuInp);\r\ncheckWin(cpuInp, pInp);  **LINE 14**\r\n\t\t\t}\r\npublic static void playerGo(String pInp) {\r\n\t\r\n\t pInp = scan.nextLine();\r\n\tswitch (pInp) {\r\n\tcase &quot;Rock&quot; :\r\n\t\tSystem.out.println(&quot;Player chose Rock&quot;);\r\n\t\tbreak;\r\n\tcase &quot;Paper&quot; :\r\n\t\tSystem.out.println(&quot;Player chose Paper&quot;);\r\n\t\tbreak;\r\n\tcase &quot;Scissors&quot; :\r\n\t\tSystem.out.println(&quot;Player chose Scissors&quot;);\r\n\t\tbreak;\r\n\t}\t\r\n}\r\npublic static void compGo(int cpuInp) {\r\n\tRandom rand = new Random();\r\n\t cpuInp = rand.nextInt(3);\r\n\t\r\n\tswitch (cpuInp) {\r\n\tcase 0 :\r\n\t\tSystem.out.println(&quot;Computer chose Rock&quot;);\r\n\t\tbreak;\r\n\tcase 1 :\r\n\t\tSystem.out.println(&quot;Computer chose Paper&quot;);\r\n\t\tbreak;\r\n\tcase 2 :\r\n\t\tSystem.out.println(&quot;Computer chose Scissors&quot;);\r\n\t\tbreak;\r\n\t}\t\r\n\t\r\n}\r\npublic static void checkWin(int cpuInp, String pInp) {\r\n**LINE 49** if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Rock&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Scissors&quot;)) {\r\n\t\tSystem.out.println(&quot;Tie&quot;);\r\n\t\r\n} else if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Scissors&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Rock&quot;)) {\r\n\tSystem.out.print(&quot;Player Win&quot;);\r\n} else if (pInp.equals(&quot;Rock&quot;) &amp;&amp; cpuInp==1 || pInp.equals(&quot;Paper&quot;) &amp;&amp; cpuInp==2 || pInp.equals(&quot;Scissors&quot;) &amp;&amp; cpuInp==0) {\r\n\tSystem.out.print(&quot;Computer Win&quot;);\r\n}\r\n\r\n\r\n}\r\n}\r\n```\r\n\r\nI tried to make a rock paper scissors game. The first two methods for player and computer inputs work but the method to check who wins comes up with an exception error. \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n&gt; at (Line 49)\r\n&gt; at (Line 14)\r\n\r\n(Lines that made error are pointed out in code)","title":"What&#39;s the deal with this Exception error that pops up in my Rock Paper Scissors game?","body":"<p>Exception in thread&quot;main&quot;\njava.lang.NullPointerException (at line 49 and 14)</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    static String pInp;\n    static int cpuInp;\n    static Scanner scan = new Scanner(System.in);\n    public static void main(String args[]) {\nSystem.out.print(&quot;Rock, Paper, or Scissors&quot;);\nplayerGo(pInp);\ncompGo(cpuInp);\ncheckWin(cpuInp, pInp);  **LINE 14**\n            }\npublic static void playerGo(String pInp) {\n    \n     pInp = scan.nextLine();\n    switch (pInp) {\n    case &quot;Rock&quot; :\n        System.out.println(&quot;Player chose Rock&quot;);\n        break;\n    case &quot;Paper&quot; :\n        System.out.println(&quot;Player chose Paper&quot;);\n        break;\n    case &quot;Scissors&quot; :\n        System.out.println(&quot;Player chose Scissors&quot;);\n        break;\n    }   \n}\npublic static void compGo(int cpuInp) {\n    Random rand = new Random();\n     cpuInp = rand.nextInt(3);\n    \n    switch (cpuInp) {\n    case 0 :\n        System.out.println(&quot;Computer chose Rock&quot;);\n        break;\n    case 1 :\n        System.out.println(&quot;Computer chose Paper&quot;);\n        break;\n    case 2 :\n        System.out.println(&quot;Computer chose Scissors&quot;);\n        break;\n    }   \n    \n}\npublic static void checkWin(int cpuInp, String pInp) {\n**LINE 49** if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Rock&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Scissors&quot;)) {\n        System.out.println(&quot;Tie&quot;);\n    \n} else if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Scissors&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Rock&quot;)) {\n    System.out.print(&quot;Player Win&quot;);\n} else if (pInp.equals(&quot;Rock&quot;) &amp;&amp; cpuInp==1 || pInp.equals(&quot;Paper&quot;) &amp;&amp; cpuInp==2 || pInp.equals(&quot;Scissors&quot;) &amp;&amp; cpuInp==0) {\n    System.out.print(&quot;Computer Win&quot;);\n}\n\n\n}\n}\n</code></pre>\n<p>I tried to make a rock paper scissors game. The first two methods for player and computer inputs work but the method to check who wins comes up with an exception error.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat (Line 49)\nat (Line 14)</p>\n</blockquote>\n<p>(Lines that made error are pointed out in code)</p>\n"},{"tags":["java","performance","jar","classpath"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1340017154,"post_id":10980526,"comment_id":14507068,"body_markdown":"However, the caching of JAR file indexes means that the overhead of looking in extra places is minimal.","body":"However, the caching of JAR file indexes means that the overhead of looking in extra places is minimal."}],"tags":[],"owner":{"account_id":1555969,"reputation":1786,"user_id":1447481,"display_name":"Karthik Kumar Viswanathan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339419369,"creation_date":1339419369,"answer_id":10980526,"question_id":10980483,"body_markdown":"Yes, it has an impact - because the JVM looks for necessary classes in the JARs of the CLASSPATH. It also makes sense to keep sealed JARs, to tell the JVM not to look for related classes in other JARs.\r\n\r\nP.S.: javac is also a java program, for the record.\r\n\r\n","title":"Impacts of having unused JAR files in CLASSPATH","body":"<p>Yes, it has an impact - because the JVM looks for necessary classes in the JARs of the CLASSPATH. It also makes sense to keep sealed JARs, to tell the JVM not to look for related classes in other JARs.</p>\n\n<p>P.S.: javac is also a java program, for the record.</p>\n"},{"comments":[{"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"score":0,"creation_date":1339422677,"post_id":10980547,"comment_id":14343021,"body_markdown":"So that *small impact* is applicable at both compile time and run time?","body":"So that <i>small impact</i> is applicable at both compile time and run time?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1339423937,"post_id":10980547,"comment_id":14343660,"body_markdown":"Yes ... in both cases.  And not usually worth worrying about in either case.","body":"Yes ... in both cases.  And not usually worth worrying about in either case."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1694490777,"creation_date":1339419434,"answer_id":10980547,"question_id":10980483,"body_markdown":"&gt; Are there any impacts (such as loading of classes into memory, performance, etc.) of having unused JARs in the classpath either at compile time or run time?\r\n\r\nThere is going to be a small impact.  When the class loader (or the compiler&#39;s equivalent) starts, it has to read the index of each JAR file to find out what classes are in each JAR.  If you&#39;ve got unnecessary JARs on the classpath, the classloader has more work to do, and will (at least temporarily) use more memory to cache the indexes.\r\n\r\nThis applies to all kinds of Java application.  Other related impacts are:\r\n  \r\n  - the extra disk space needed to hold the unused JARs, and\r\n  - for unused JARs that are part of a downloadable installer or container, the extra time and network bandwidth needed to do the download.\r\n\r\n**The question that you didn&#39;t ask** ... is whether these impacts are significant.  The answer is &quot;Generally No&quot; ... but the more useless stuff you have on the classpath, etc, the greater the impact is going to be.\r\n\r\n------------------\r\n\r\nIMO, a more important problem with having unused JARs on the classpath is that it is likely to increase your maintenance overheads.  For example, if there are old unused JAR files that happen to have vulnerabilities, someone is liable to spend time checking and upgrading those JARs in response to a security scan ... not realizing that it doesn&#39;t affect *actual* security, and is (arguably&lt;sup&gt;1&lt;/sup&gt;) a waste of time.\r\n\r\n&lt;sup&gt;1 - It is certainly a waste of time in the sense that you wouldn&#39;t have needed to expended if the unused JAR had been removed in the first place!&lt;/sup&gt;","title":"Impacts of having unused JAR files in CLASSPATH","body":"<blockquote>\n<p>Are there any impacts (such as loading of classes into memory, performance, etc.) of having unused JARs in the classpath either at compile time or run time?</p>\n</blockquote>\n<p>There is going to be a small impact.  When the class loader (or the compiler's equivalent) starts, it has to read the index of each JAR file to find out what classes are in each JAR.  If you've got unnecessary JARs on the classpath, the classloader has more work to do, and will (at least temporarily) use more memory to cache the indexes.</p>\n<p>This applies to all kinds of Java application.  Other related impacts are:</p>\n<ul>\n<li>the extra disk space needed to hold the unused JARs, and</li>\n<li>for unused JARs that are part of a downloadable installer or container, the extra time and network bandwidth needed to do the download.</li>\n</ul>\n<p><strong>The question that you didn't ask</strong> ... is whether these impacts are significant.  The answer is &quot;Generally No&quot; ... but the more useless stuff you have on the classpath, etc, the greater the impact is going to be.</p>\n<hr />\n<p>IMO, a more important problem with having unused JARs on the classpath is that it is likely to increase your maintenance overheads.  For example, if there are old unused JAR files that happen to have vulnerabilities, someone is liable to spend time checking and upgrading those JARs in response to a security scan ... not realizing that it doesn't affect <em>actual</em> security, and is (arguably<sup>1</sup>) a waste of time.</p>\n<p><sup>1 - It is certainly a waste of time in the sense that you wouldn't have needed to expended if the unused JAR had been removed in the first place!</sup></p>\n"},{"comments":[{"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"score":0,"creation_date":1339422483,"post_id":10980584,"comment_id":14342918,"body_markdown":"I couldn&#39;t clearly understand this point -- `when a library needs to be upgraded, you can waste alot of time testing the application still works ok with the new version only to find the library was not used`.  Can you clarify on this?","body":"I couldn&#39;t clearly understand this point -- <code>when a library needs to be upgraded, you can waste alot of time testing the application still works ok with the new version only to find the library was not used</code>.  Can you clarify on this?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1339429271,"post_id":10980584,"comment_id":14346234,"body_markdown":"Say you have log4j version 1.1, but you want to use library X which needs log4j 1.2 for some reason.  You can&#39;t just drop in version 1.2 until you determine it doesn&#39;t break your application. So you retest your application using 1.2 to see if it still works and waste alot of time because you are not even using log4j. If you only have libraries you are actually using, this would not be an issue.","body":"Say you have log4j version 1.1, but you want to use library X which needs log4j 1.2 for some reason.  You can&#39;t just drop in version 1.2 until you determine it doesn&#39;t break your application. So you retest your application using 1.2 to see if it still works and waste alot of time because you are not even using log4j. If you only have libraries you are actually using, this would not be an issue."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339419581,"creation_date":1339419581,"answer_id":10980584,"question_id":10980483,"body_markdown":"The main problem is not performance as the cost is relatively small and only on loading new classes.  The main problem is maintainability.  For example, when a library needs to be upgraded, you can waste alot of time testing the application still works ok with the new version only to find the library was not used. (Say you have a new library which needs a newer version of a library you are already &quot;using&quot;)\r\n","title":"Impacts of having unused JAR files in CLASSPATH","body":"<p>The main problem is not performance as the cost is relatively small and only on loading new classes.  The main problem is maintainability.  For example, when a library needs to be upgraded, you can waste alot of time testing the application still works ok with the new version only to find the library was not used. (Say you have a new library which needs a newer version of a library you are already \"using\")</p>\n"}],"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2772,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":10980547,"answer_count":3,"score":9,"last_activity_date":1694490777,"creation_date":1339419195,"question_id":10980483,"body_markdown":"I&#39;ve read so many Q&amp;A here about tools available to find out *unused* JARs, such as:\r\n\r\n 1. [loosejar][1]\r\n 2. [Classpath Helper](http://classpathhelper.sourceforge.net/)\r\n\r\n\r\nMy question here is, are there any impacts (such as loading of classes into memory, performance,  etc.) of having unused JARs in the classpath either at compile time or run time?  Question applies to both running as a Standalone program and Web Server (Apache Tomcat), though I initially thought about only Standalone programs.\r\n\r\n**NOTE:** I&#39;m running JDK 6u32 (64-bit).\r\n\r\n  [1]: http://code.google.com/p/loosejar/ &quot;Utility library that can tell which jar libraries on your project&#39;s classpath are NOT used&quot;","title":"Impacts of having unused JAR files in CLASSPATH","body":"<p>I've read so many Q&amp;A here about tools available to find out <em>unused</em> JARs, such as:</p>\n\n<ol>\n<li><a href=\"http://code.google.com/p/loosejar/\">loosejar</a></li>\n<li><a href=\"http://classpathhelper.sourceforge.net/\">Classpath Helper</a></li>\n</ol>\n\n<p>My question here is, are there any impacts (such as loading of classes into memory, performance,  etc.) of having unused JARs in the classpath either at compile time or run time?  Question applies to both running as a Standalone program and Web Server (Apache Tomcat), though I initially thought about only Standalone programs.</p>\n\n<p><strong>NOTE:</strong> I'm running JDK 6u32 (64-bit).</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-parameter-store"],"answers":[{"tags":[],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694490021,"creation_date":1694490021,"answer_id":77085961,"question_id":77064301,"body_markdown":"I was not able to figure out a way to define a whole `Java HashMap` as a value of the `AWS Paramstore` value. However, I was able to define each property of the map separately as shown below. \r\n\r\nFirst entry of the map:\r\n\r\n    /config/my-app/dev/app.property.valueMap.key_one.property_one\r\n    /config/my-app/dev/app.property.valueMap.key_one.property_two\r\n\r\nSecond entry of the map:\r\n\r\n    /config/my-app/dev/app.property.valueMap.key_two.property_one\r\n    /config/my-app/dev/app.property.valueMap.key_two.property_two\r\n\r\nThis maybe not the most optimum or the best solution. However, it did the job done even though I had to define each value individually. Hope this would help someone, Thanks!","title":"How to set Spring boot HashMap in AWS Paramstore value and read via @ConfigurationProperties?","body":"<p>I was not able to figure out a way to define a whole <code>Java HashMap</code> as a value of the <code>AWS Paramstore</code> value. However, I was able to define each property of the map separately as shown below.</p>\n<p>First entry of the map:</p>\n<pre><code>/config/my-app/dev/app.property.valueMap.key_one.property_one\n/config/my-app/dev/app.property.valueMap.key_one.property_two\n</code></pre>\n<p>Second entry of the map:</p>\n<pre><code>/config/my-app/dev/app.property.valueMap.key_two.property_one\n/config/my-app/dev/app.property.valueMap.key_two.property_two\n</code></pre>\n<p>This maybe not the most optimum or the best solution. However, it did the job done even though I had to define each value individually. Hope this would help someone, Thanks!</p>\n"}],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085961,"answer_count":1,"score":0,"last_activity_date":1694490021,"creation_date":1694150406,"question_id":77064301,"body_markdown":"In my `spring boot` application I have some externalized configuration properties read from `AWS Parameter Store`. I do not use `AWS SSM Client` directly and extract the properties. I am using the `spring-cloud-starter-aws-parameter-store-config` and with few `bootstrap.yml` changes I am able to configure it. When the application starts, I am able to automatically detect the environment property source and extract configuration values with the help of `@ConfigurationProperties` annotation. \r\n\r\nSample bootstrap.yml is shown below:\r\n\r\n    aws:\r\n      paramstore:\r\n        enabled: true\r\n        name: my-app\r\n        prefix: /config\r\n        profileSeparator: /\r\n\r\nSample code is shown below:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;app.property&quot;)\r\n    public class TestObject {\r\n      private Map&lt;String, InnerObject&gt; valueMap = new HashMap&lt;&gt;();\r\n    \r\n      @Getter\r\n      @Setter\r\n      @AllArgsConstructor\r\n      @NoArgsConstructor\r\n      public static class InnerObject {\r\n        private int property_one = 20;\r\n        private int property_two = 10;\r\n      }\r\n    }\r\n\r\nSample AWS Parameter Store configuration name:\r\n\r\n    /config/my-app/dev/app.property.valueMap\r\n\r\nAll other properties (`String` &amp; `StringList`) works fine except with map. I was unable to figure out the way to define this map as a value within the `AWS Parameter Store` such that it resolves into my `Java` `HashMap`. Your insights are highly appreciated, thank you! ","title":"How to set Spring boot HashMap in AWS Paramstore value and read via @ConfigurationProperties?","body":"<p>In my <code>spring boot</code> application I have some externalized configuration properties read from <code>AWS Parameter Store</code>. I do not use <code>AWS SSM Client</code> directly and extract the properties. I am using the <code>spring-cloud-starter-aws-parameter-store-config</code> and with few <code>bootstrap.yml</code> changes I am able to configure it. When the application starts, I am able to automatically detect the environment property source and extract configuration values with the help of <code>@ConfigurationProperties</code> annotation.</p>\n<p>Sample bootstrap.yml is shown below:</p>\n<pre><code>aws:\n  paramstore:\n    enabled: true\n    name: my-app\n    prefix: /config\n    profileSeparator: /\n</code></pre>\n<p>Sample code is shown below:</p>\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(&quot;app.property&quot;)\npublic class TestObject {\n  private Map&lt;String, InnerObject&gt; valueMap = new HashMap&lt;&gt;();\n\n  @Getter\n  @Setter\n  @AllArgsConstructor\n  @NoArgsConstructor\n  public static class InnerObject {\n    private int property_one = 20;\n    private int property_two = 10;\n  }\n}\n</code></pre>\n<p>Sample AWS Parameter Store configuration name:</p>\n<pre><code>/config/my-app/dev/app.property.valueMap\n</code></pre>\n<p>All other properties (<code>String</code> &amp; <code>StringList</code>) works fine except with map. I was unable to figure out the way to define this map as a value within the <code>AWS Parameter Store</code> such that it resolves into my <code>Java</code> <code>HashMap</code>. Your insights are highly appreciated, thank you!</p>\n"},{"tags":["java","amazon-s3","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":19955204,"reputation":15,"user_id":14623964,"display_name":"Ralph"},"score":0,"creation_date":1648435160,"post_id":71616222,"comment_id":126615085,"body_markdown":"Thanks a lot for you answer.\nI have indeed set maxMessagePerPoll to 1 and have also set the bucket name, but I did not set a fileName (consumer) endpoint param. The same endpoint DSL with the same params worked perfectly (all files were processed but not deleted from source bucket) with the previous version of Camel AWS-S3 (i.e. using it with Camel 3.8.0). Therefore, I was hoping to see the same behavior after the upgrade to AWS2-S3.","body":"Thanks a lot for you answer. I have indeed set maxMessagePerPoll to 1 and have also set the bucket name, but I did not set a fileName (consumer) endpoint param. The same endpoint DSL with the same params worked perfectly (all files were processed but not deleted from source bucket) with the previous version of Camel AWS-S3 (i.e. using it with Camel 3.8.0). Therefore, I was hoping to see the same behavior after the upgrade to AWS2-S3."},{"owner":{"account_id":19955204,"reputation":15,"user_id":14623964,"display_name":"Ralph"},"score":0,"creation_date":1648435202,"post_id":71616222,"comment_id":126615094,"body_markdown":"It seems that now after the upgrade I have to implement my own mechanics to iterate over the files in the bucket.\nOne idea is to use a Camel/AWS interaction to first obtain a list of all the file names stored in the bucket and then in subsequent Camel/AWS polling interactions (using the fileName (consumer) endpoint param) to pick all the files of interest one-by-one.\n\nHowever, looking through the Camel AWS2-S3 endpoint spec and options it doesn&#39;t seem to be possible for a consumer to request such file list. \nAm I missing something?","body":"It seems that now after the upgrade I have to implement my own mechanics to iterate over the files in the bucket. One idea is to use a Camel/AWS interaction to first obtain a list of all the file names stored in the bucket and then in subsequent Camel/AWS polling interactions (using the fileName (consumer) endpoint param) to pick all the files of interest one-by-one.  However, looking through the Camel AWS2-S3 endpoint spec and options it doesn&#39;t seem to be possible for a consumer to request such file list.  Am I missing something?"},{"owner":{"account_id":19955204,"reputation":15,"user_id":14623964,"display_name":"Ralph"},"score":0,"creation_date":1648435397,"post_id":71616222,"comment_id":126615134,"body_markdown":"Of course I could use the moveAfterRead option but this isn&#39;t allowed/possible in the actual usage scenario.","body":"Of course I could use the moveAfterRead option but this isn&#39;t allowed/possible in the actual usage scenario."}],"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648207715,"creation_date":1648207715,"answer_id":71616222,"question_id":71612701,"body_markdown":"Apache Camel [AWS2 S3 Component][1] should work properly polling *AWS S3* bucket files as needed.\r\n\r\nHaving only one file polled should mean:\r\n* Either you specified both `bucketName` and `fileName` when configuring your consumer which will resolve to polling the same file again and again\r\n* Set the `maxMessagesPerPoll` to **1** while not deleting the processed messages which will as well resolve to polling the same file over and over\r\n* Either set a `prefix` or `delimiter` configuration option matching a single file\r\n\r\nYou should start inspecting your endpoint configuration to see if any of these mis-configuration options apply.\r\n\r\nOn the other hand, to achieve idempotency you have one of two ways:\r\n* Configure your consumer endpoint to `moveAfterRead` so that processed files are copied to a destination bucket avoiding them to be re-polled on next iteration (you need to configure the `destination` bucket). This solution would depend on your requirements and should be applicable only if you afford to have files in another bucket meaning no other component / service is relying on those files bien in the same source bucket\r\n* Configure a [`IdempotentConsumer`][2] backed by a repository of your choice in which case you can mark (and save) processed messages\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.15.x/aws2-s3-component.html\r\n  [2]: https://camel.apache.org/components/3.15.x/eips/idempotentConsumer-eip.html","title":"Idempotent Camel AWS2-S3 consumer not retrieving all files from bucket when deleteAfterRead is false","body":"<p>Apache Camel <a href=\"https://camel.apache.org/components/3.15.x/aws2-s3-component.html\" rel=\"nofollow noreferrer\">AWS2 S3 Component</a> should work properly polling <em>AWS S3</em> bucket files as needed.</p>\n<p>Having only one file polled should mean:</p>\n<ul>\n<li>Either you specified both <code>bucketName</code> and <code>fileName</code> when configuring your consumer which will resolve to polling the same file again and again</li>\n<li>Set the <code>maxMessagesPerPoll</code> to <strong>1</strong> while not deleting the processed messages which will as well resolve to polling the same file over and over</li>\n<li>Either set a <code>prefix</code> or <code>delimiter</code> configuration option matching a single file</li>\n</ul>\n<p>You should start inspecting your endpoint configuration to see if any of these mis-configuration options apply.</p>\n<p>On the other hand, to achieve idempotency you have one of two ways:</p>\n<ul>\n<li>Configure your consumer endpoint to <code>moveAfterRead</code> so that processed files are copied to a destination bucket avoiding them to be re-polled on next iteration (you need to configure the <code>destination</code> bucket). This solution would depend on your requirements and should be applicable only if you afford to have files in another bucket meaning no other component / service is relying on those files bien in the same source bucket</li>\n<li>Configure a <a href=\"https://camel.apache.org/components/3.15.x/eips/idempotentConsumer-eip.html\" rel=\"nofollow noreferrer\"><code>IdempotentConsumer</code></a> backed by a repository of your choice in which case you can mark (and save) processed messages</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13540286,"reputation":51,"user_id":9768181,"display_name":"FAF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694487925,"creation_date":1694487925,"answer_id":77085847,"question_id":71612701,"body_markdown":"I was struggling with that and for me this is the best solution. \r\nPut one route that checks if the file exists, and only if it exists call the second route\r\n\r\n            from(&quot;timer:foo?period=5000&quot;)\r\n        process(e -&gt; {\r\n        S3Client s3Client = // get your S3 client\r\n        String bucketName = &quot;com.xxx.input&quot;;\r\n        String key = &quot;tarjetas.csv&quot;;\r\n    \r\n        try { s3Client.headObject(HeadObjectRequest.builder().bucket(bucketName).key(key).build());\r\n               e.getIn().setBody(true);\r\n            } catch (NoSuchKeyException ex) {\r\n                e.getIn().setBody(false);\r\n            }\r\n        })\r\n        .filter(body().isEqualTo(true))\r\n        .to(&quot;direct:startMainRoute&quot;);\r\n    \r\n        from(&quot;direct:startMainRoute&quot;)\r\n    .pollEnrich(&quot;aws2-s3://com.xxx.input?amazonS3Client=#s3Client&amp;fileName=tarjetas.csv&amp;moveAfterRead=true&amp;destinationBucket=com.ffresco.processed&amp;delay=5000&quot;, 5000)\r\n        .process(new TestProcessor())\r\n        .split().tokenize(&quot;\\n&quot;, 1).streaming()\r\n        .log(&quot;Hello ${body}&quot;);","title":"Idempotent Camel AWS2-S3 consumer not retrieving all files from bucket when deleteAfterRead is false","body":"<p>I was struggling with that and for me this is the best solution.\nPut one route that checks if the file exists, and only if it exists call the second route</p>\n<pre><code>        from(&quot;timer:foo?period=5000&quot;)\n    process(e -&gt; {\n    S3Client s3Client = // get your S3 client\n    String bucketName = &quot;com.xxx.input&quot;;\n    String key = &quot;tarjetas.csv&quot;;\n\n    try { s3Client.headObject(HeadObjectRequest.builder().bucket(bucketName).key(key).build());\n           e.getIn().setBody(true);\n        } catch (NoSuchKeyException ex) {\n            e.getIn().setBody(false);\n        }\n    })\n    .filter(body().isEqualTo(true))\n    .to(&quot;direct:startMainRoute&quot;);\n\n    from(&quot;direct:startMainRoute&quot;)\n.pollEnrich(&quot;aws2-s3://com.xxx.input?amazonS3Client=#s3Client&amp;fileName=tarjetas.csv&amp;moveAfterRead=true&amp;destinationBucket=com.ffresco.processed&amp;delay=5000&quot;, 5000)\n    .process(new TestProcessor())\n    .split().tokenize(&quot;\\n&quot;, 1).streaming()\n    .log(&quot;Hello ${body}&quot;);\n</code></pre>\n"}],"owner":{"account_id":19955204,"reputation":15,"user_id":14623964,"display_name":"Ralph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694487925,"creation_date":1648187543,"question_id":71612701,"body_markdown":"I am using Camel AWS2-S3 with an idempotent consumer based on MemoryIdempotentRepository and try to read all files from an AWS/S3 bucket using Camel AWS2-S3 version 3.14.2. The intention is to keep the retrieved files in the bucket and therefore, deleteAfterRead is set to false.\r\nWhen debugging my code I see consecutive polls retrieving always only one single file which is always the same. After the second poll this file is correctly considered a duplicate and ignored. In my DEBUG log I see &quot;Ignoring duplicate message with id...&quot; for this file.\r\nHowever, although there are more files in my AWS/S3 bucket to retrieve, nothing happens until the polling delay initiating the next poll expires. \r\nBut then the next poll retrieves only the same already marked duplicate file and so on ...\r\n\r\nWhat is needed to make the s3client keep on retrieving the next file in the bucket after ignoring the previous one. \r\nAll versions of Camel starting at 3.9.0 show the same behavior.\r\n\r\nHas anyone run into the same problem and know how to solve this?\r\n\r\nMany thanks in advance.","title":"Idempotent Camel AWS2-S3 consumer not retrieving all files from bucket when deleteAfterRead is false","body":"<p>I am using Camel AWS2-S3 with an idempotent consumer based on MemoryIdempotentRepository and try to read all files from an AWS/S3 bucket using Camel AWS2-S3 version 3.14.2. The intention is to keep the retrieved files in the bucket and therefore, deleteAfterRead is set to false.\nWhen debugging my code I see consecutive polls retrieving always only one single file which is always the same. After the second poll this file is correctly considered a duplicate and ignored. In my DEBUG log I see &quot;Ignoring duplicate message with id...&quot; for this file.\nHowever, although there are more files in my AWS/S3 bucket to retrieve, nothing happens until the polling delay initiating the next poll expires.\nBut then the next poll retrieves only the same already marked duplicate file and so on ...</p>\n<p>What is needed to make the s3client keep on retrieving the next file in the bucket after ignoring the previous one.\nAll versions of Camel starting at 3.9.0 show the same behavior.</p>\n<p>Has anyone run into the same problem and know how to solve this?</p>\n<p>Many thanks in advance.</p>\n"},{"tags":["java","jquery","ajax","rest","spring-mvc"],"comments":[{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":0,"creation_date":1339208531,"post_id":10950383,"comment_id":14304933,"body_markdown":"Hi John, you may want to turn up your logging level to DEBUG or ALL. The Spring framework tends to log things at a lower level, and when trying to set up the framework, it&#39;s helpful to be able to see what&#39;s going on under the hood. Good luck!","body":"Hi John, you may want to turn up your logging level to DEBUG or ALL. The Spring framework tends to log things at a lower level, and when trying to set up the framework, it&#39;s helpful to be able to see what&#39;s going on under the hood. Good luck!"}],"answers":[{"comments":[{"owner":{"account_id":282074,"reputation":5607,"user_id":2144370,"accept_rate":72,"display_name":"SJS"},"score":0,"creation_date":1339168049,"post_id":10950536,"comment_id":14293626,"body_markdown":"I did this but the source is NULLs?","body":"I did this but the source is NULLs?"}],"tags":[],"owner":{"account_id":1363814,"reputation":5827,"user_id":1300669,"accept_rate":91,"display_name":"RP-"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339164792,"creation_date":1339164792,"answer_id":10950536,"question_id":10950383,"body_markdown":"Hope gives you a start!\r\n&lt;pre&gt;&lt;code&gt;\r\n$.ajax({\r\n    contentType : &quot;application/json&quot;,\r\n    dataType : &#39;json&#39;,\r\n    type : &quot;PUT&quot;,\r\n    url : targetUrl,\r\n    data : $(this).serializeObject(), //json serialization (like array.serializeArray() etc)\r\n    async : false,\r\n    success : function(data) {\r\n       // response\r\n    },\r\n    error : function(request, status, error) {\r\n       // any errors\r\n    }\r\n});\r\n&lt;/pre&gt;&lt;/code&gt;","title":"Ajax JQuery to Spring @RequestBody? How do I pass data?","body":"<p>Hope gives you a start!\n<pre><code>\n$.ajax({\n    contentType : \"application/json\",\n    dataType : 'json',\n    type : \"PUT\",\n    url : targetUrl,\n    data : $(this).serializeObject(), //json serialization (like array.serializeArray() etc)\n    async : false,\n    success : function(data) {\n       // response\n    },\n    error : function(request, status, error) {\n       // any errors\n    }\n});\n</pre></code></p>\n"},{"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339208469,"creation_date":1339208469,"answer_id":10957898,"question_id":10950383,"body_markdown":"When using REST, it&#39;s important to understand the distinction between the different HTTP methods. PUT generally means that you&#39;re going to create a new collection or replace an existing one. POST generally means that you&#39;re adding a record to a collection. The main difference between the two is that PUT is idempotent, which means that repeating the same operation repeatedly doesn&#39;t change the state of the server.\r\n\r\nIn your code below, you&#39;re method is called &quot;updateEmployee&quot;, which implies you&#39;re replacing a collection with a new one. Thus, PUT is the most appropriate HTTP Method to use in this scenario. However, you have a bug in your code. You didn&#39;t define the &quot;id&quot; in the parameter list:\r\n\r\n    // Added String id as a PathVariable\r\n    @RequestMapping(method=RequestMethod.PUT, value=&quot;/employee/{id}&quot;)\r\n    public ModelAndView updateEmployee(@RequestBody String body, @PathVariable String id) {   \r\n         \r\n            // You really don&#39;t need to do this. The Spring Framework can deserialize\r\n              // objects for you. However, one issue at a time ;)\r\n               // also, changed e to &quot;employee&quot; so the variable has a better name.\r\n            Source source = new StreamSource(new StringReader(body));\r\n            Employee employee = (Employee) jaxb2Mashaller.unmarshal(source);\r\n            \r\n            employeeDS.update(employee);\r\n            return new ModelAndView(XML_VIEW_NAME, &quot;object&quot;, employee);\r\n    }\r\n\r\n\r\nTo make the request to the server, use jQuery AJAX:\r\n\r\n    $.ajax({\r\n\t  url: &quot;/employee/2?t=&quot;+new Date().getTime(),\r\n\t  contentType: &#39;application/x-www-form-urlencoded&#39;,\r\n\t  type: &quot;PUT&quot;,\r\n\t  data: dataString,\r\n\t  context: document.body,\r\n\t  success: function(e){\r\n              alert(e);  \t\t\t\t   \r\n\t  },\r\n          error: function(jqXHR, textStatus, errorThrown) {\r\n              alert(&quot; + textStatus + &quot; : &quot; + errorThrown);\r\n          } \r\n    });\r\n\t\r\ndataString is a string representation of your data. You can either serialize the form, use JSON, or send a url-encoded form. Without seeing more code and more error messages in your question, it&#39;s unclear how you&#39;re representing your data when attempting to send it to the server. If you start here and fix the above errors in your Java code, this should get you past this specific error.\r\n\r\nAnother way to submit data to your REST method, just for testing, is to use a standard form, but use method=&quot;PUT&quot;, since that&#39;s what you&#39;re using in Spring:\r\n\r\n    &lt;form name=&quot;test&quot; action=&quot;/employee/2&quot; method=&quot;PUT&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;firstname&quot; /&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;lastname&quot; /&gt;\r\n        &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;submit&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\nThis will use application/x-www-form-urlencoded. If you&#39;re unable to deserialize that, then try using JSON instead. Good luck!","title":"Ajax JQuery to Spring @RequestBody? How do I pass data?","body":"<p>When using REST, it's important to understand the distinction between the different HTTP methods. PUT generally means that you're going to create a new collection or replace an existing one. POST generally means that you're adding a record to a collection. The main difference between the two is that PUT is idempotent, which means that repeating the same operation repeatedly doesn't change the state of the server.</p>\n\n<p>In your code below, you're method is called \"updateEmployee\", which implies you're replacing a collection with a new one. Thus, PUT is the most appropriate HTTP Method to use in this scenario. However, you have a bug in your code. You didn't define the \"id\" in the parameter list:</p>\n\n<pre><code>// Added String id as a PathVariable\n@RequestMapping(method=RequestMethod.PUT, value=\"/employee/{id}\")\npublic ModelAndView updateEmployee(@RequestBody String body, @PathVariable String id) {   \n\n        // You really don't need to do this. The Spring Framework can deserialize\n          // objects for you. However, one issue at a time ;)\n           // also, changed e to \"employee\" so the variable has a better name.\n        Source source = new StreamSource(new StringReader(body));\n        Employee employee = (Employee) jaxb2Mashaller.unmarshal(source);\n\n        employeeDS.update(employee);\n        return new ModelAndView(XML_VIEW_NAME, \"object\", employee);\n}\n</code></pre>\n\n<p>To make the request to the server, use jQuery AJAX:</p>\n\n<pre><code>$.ajax({\n  url: \"/employee/2?t=\"+new Date().getTime(),\n  contentType: 'application/x-www-form-urlencoded',\n  type: \"PUT\",\n  data: dataString,\n  context: document.body,\n  success: function(e){\n          alert(e);                    \n  },\n      error: function(jqXHR, textStatus, errorThrown) {\n          alert(\" + textStatus + \" : \" + errorThrown);\n      } \n});\n</code></pre>\n\n<p>dataString is a string representation of your data. You can either serialize the form, use JSON, or send a url-encoded form. Without seeing more code and more error messages in your question, it's unclear how you're representing your data when attempting to send it to the server. If you start here and fix the above errors in your Java code, this should get you past this specific error.</p>\n\n<p>Another way to submit data to your REST method, just for testing, is to use a standard form, but use method=\"PUT\", since that's what you're using in Spring:</p>\n\n<pre><code>&lt;form name=\"test\" action=\"/employee/2\" method=\"PUT\"&gt;\n    &lt;input type=\"text\" name=\"firstname\" /&gt;\n    &lt;input type=\"text\" name=\"lastname\" /&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This will use application/x-www-form-urlencoded. If you're unable to deserialize that, then try using JSON instead. Good luck!</p>\n"}],"owner":{"account_id":282074,"reputation":5607,"user_id":2144370,"accept_rate":72,"display_name":"SJS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8955,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694487855,"creation_date":1339164279,"question_id":10950383,"body_markdown":"Ajax JQuery to Spring @RequestBody? How do I pass data?  I being doing spring for sometime now with passing form fields but I am working on a new system and we would like to use Ajax and RESTful to pass data.  My controller looks like the sample one below but can someone please me with the ajax call to post it?? how do I post to the Spring controller and put the data in the body\r\n\r\n    @RequestMapping(method=RequestMethod.PUT, value=&quot;/employee/{id}&quot;)\r\n    public ModelAndView updateEmployee(@RequestBody String body) {\r\n    \t\tSource source = new StreamSource(new StringReader(body));\r\n    \t\tEmployee e = (Employee) jaxb2Mashaller.unmarshal(source);\r\n    \t\temployeeDS.update(e);\r\n    \t\treturn new ModelAndView(XML_VIEW_NAME, &quot;object&quot;, e);\r\n    \t}","title":"Ajax JQuery to Spring @RequestBody? How do I pass data?","body":"<p>Ajax JQuery to Spring @RequestBody? How do I pass data?  I being doing spring for sometime now with passing form fields but I am working on a new system and we would like to use Ajax and RESTful to pass data.  My controller looks like the sample one below but can someone please me with the ajax call to post it?? how do I post to the Spring controller and put the data in the body</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.PUT, value=\"/employee/{id}\")\npublic ModelAndView updateEmployee(@RequestBody String body) {\n        Source source = new StreamSource(new StringReader(body));\n        Employee e = (Employee) jaxb2Mashaller.unmarshal(source);\n        employeeDS.update(e);\n        return new ModelAndView(XML_VIEW_NAME, \"object\", e);\n    }\n</code></pre>\n"},{"tags":["java","flutter","gradle","huawei-mobile-services"],"owner":{"account_id":19023452,"reputation":1,"user_id":13887036,"display_name":"badees_abood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694487742,"creation_date":1694417954,"question_id":77079721,"body_markdown":"I have a problem when ever I build my flutter app, the problem occurs when the Gradle tries to build and calls for the resources:\r\n\r\n&gt; Certificate for &lt;developer.huawei.com&gt; doesn&#39;t match any of the subject alternative names: [a248.e.akamai.net, *.akamaized.net, *.akamaized-staging.net, *.akamaihd.net, *.akamaihd-staging.net]\r\nthis happens when trying to build my gradle app\r\n\r\nI tried fetching the cert from the huawei.com and implement it on the jdk using the key tool. \r\nIi also tried upgrading Gradle to the latest version.","title":"Gradle problem getting developer certificate","body":"<p>I have a problem when ever I build my flutter app, the problem occurs when the Gradle tries to build and calls for the resources:</p>\n<blockquote>\n<p>Certificate for &lt;developer.huawei.com&gt; doesn't match any of the subject alternative names: [a248.e.akamai.net, *.akamaized.net, *.akamaized-staging.net, *.akamaihd.net, *.akamaihd-staging.net]\nthis happens when trying to build my gradle app</p>\n</blockquote>\n<p>I tried fetching the cert from the huawei.com and implement it on the jdk using the key tool.\nIi also tried upgrading Gradle to the latest version.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14883843,"reputation":193,"user_id":12280406,"display_name":"solitude"},"score":1,"creation_date":1694486185,"post_id":77085728,"comment_id":135893757,"body_markdown":"You are returning &#39;null&#39; on your loadBackgroundBitmap() method. Also for better answer try asking question in English next time.","body":"You are returning &#39;null&#39; on your loadBackgroundBitmap() method. Also for better answer try asking question in English next time."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1694488543,"post_id":77085728,"comment_id":135893910,"body_markdown":"Por favor escribe en ingles o usa [es.so]","body":"Por favor escribe en ingles o usa <a href=\"https://es.stackoverflow.com\">Stack Overflow en espaol</a>"}],"answers":[{"comments":[{"owner":{"account_id":27105482,"reputation":11,"user_id":20651378,"display_name":"juan osorio"},"score":0,"creation_date":1694527489,"post_id":77085759,"comment_id":135900771,"body_markdown":"Me funciono la segunda opcion, pero al ejecutar me saca este error java.lang.StackOverflowError: stack size 8MB,  en el private Bitmap loadBackgroundBitmap","body":"Me funciono la segunda opcion, pero al ejecutar me saca este error java.lang.StackOverflowError: stack size 8MB,  en el private Bitmap loadBackgroundBitmap"}],"tags":[],"owner":{"display_name":"user22391295"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694485977,"creation_date":1694485977,"answer_id":77085759,"question_id":77085728,"body_markdown":"The error clearly states that you are returning a `null` on  \r\n\r\n    &gt; private Bitmap loadBackgroundBitmap() {\r\n    &gt;        return null;\r\n    &gt;     }\r\n\r\n and you are trying to access the `getWidth()` on your null object in your `createCombinedBitmap()` method.\r\n\r\nyou can fix it by updating your `loadBackgroundBitmap()` \r\nfor example:\r\n\r\n    private Bitmap loadBackgroundBitmap() {\r\n    // do not return as null. load your background here.\r\n    }\r\n\r\nAlso handle your potential null cases. for example:\r\n\r\n      Bitmap backgroundBitmap = loadBackgroundBitmap();\r\n        if (backgroundBitmap == null) {\r\n            Toast.makeText(this, &quot;This Background Bitmap is null&quot;, Toast.LENGTH_SHORT).show();\r\n            return null;\r\n        }","title":"ERROR java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference","body":"<p>The error clearly states that you are returning a <code>null</code> on</p>\n<pre><code>&gt; private Bitmap loadBackgroundBitmap() {\n&gt;        return null;\n&gt;     }\n</code></pre>\n<p>and you are trying to access the <code>getWidth()</code> on your null object in your <code>createCombinedBitmap()</code> method.</p>\n<p>you can fix it by updating your <code>loadBackgroundBitmap()</code>\nfor example:</p>\n<pre><code>private Bitmap loadBackgroundBitmap() {\n// do not return as null. load your background here.\n}\n</code></pre>\n<p>Also handle your potential null cases. for example:</p>\n<pre><code>  Bitmap backgroundBitmap = loadBackgroundBitmap();\n    if (backgroundBitmap == null) {\n        Toast.makeText(this, &quot;This Background Bitmap is null&quot;, Toast.LENGTH_SHORT).show();\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":27105482,"reputation":11,"user_id":20651378,"display_name":"juan osorio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694491001,"answer_count":1,"score":0,"last_activity_date":1694485977,"creation_date":1694485213,"question_id":77085728,"body_markdown":"Estoy intentando guardar como una imagen el contenido de todo un LinearLayout (con su background de fondo) que contiene varios  editText, En mi Activity tengo mi codigo asi, que me sale error cuando le doy click en el boton guardar.\r\n\r\n```\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\n\r\npublic class MainActivity extends Activity {\r\n    private LinearLayout backgroundLayout;\r\n    private EditText editText1;\r\n    private EditText editText2;\r\n    private Button saveButton;\r\n    private int imageCounter = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        backgroundLayout = findViewById(R.id.imageLayout);\r\n        editText1 = findViewById(R.id.editText1);\r\n        editText2 = findViewById(R.id.editText2);\r\n        saveButton = findViewById(R.id.saveButton);\r\n\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Combina el fondo y el texto en un solo Bitmap\r\n                Bitmap combinedBitmap = createCombinedBitmap();\r\n\r\n                // Guarda la imagen con un nombre &#250;nico\r\n                saveImageToFile(combinedBitmap);\r\n            }\r\n        });\r\n    }\r\n\r\n    private Bitmap createCombinedBitmap() {\r\n        Bitmap backgroundBitmap = loadBackgroundBitmap();\r\n        String text1 = editText1.getText().toString();\r\n        String text2 = editText2.getText().toString();\r\n\r\n        // Combina el fondo y el texto en un solo Bitmap\r\n        Bitmap combinedBitmap = Bitmap.createBitmap(\r\n                backgroundBitmap.getWidth(),\r\n                backgroundBitmap.getHeight(),\r\n                backgroundBitmap.getConfig());\r\n        Canvas canvas = new Canvas(combinedBitmap);\r\n        canvas.drawBitmap(backgroundBitmap, 0, 0, null);\r\n        // Agrega el texto a la imagen\r\n\r\n        return combinedBitmap;\r\n    }\r\n\r\n    private Bitmap loadBackgroundBitmap() {\r\n       return null;\r\n    }\r\n\r\n    private void saveImageToFile(Bitmap imageBitmap) {\r\n        Context context = getApplicationContext();\r\n        File directory = context.getExternalFilesDir(null);\r\n\r\n        // Crea un nombre de archivo &#250;nico basado en el contador\r\n        String fileName = &quot;imagen_&quot; + imageCounter + &quot;.png&quot;;\r\n        File file = new File(directory, fileName);\r\n\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n            fos.close();\r\n            // Notifica al usuario que la imagen se ha guardado con &#233;xito\r\n            Toast.makeText(this, &quot;Imagen guardada en &quot; + file.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n\r\n            // Incrementa el contador\r\n            imageCounter++;\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Toast.makeText(this, &quot;Error al guardar la imagen&quot;, Toast.LENGTH_SHORT).show();\r\n            // Maneja cualquier error que pueda ocurrir al guardar la imagen\r\n        }\r\n    }\r\n}\r\n\r\nIntento Guardar la imagen y me salen estos errores:\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: appskd.bateria.appguardarimagen, PID: 28463\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference\r\n        at appskd.bateria.appguardarimagen.MainActivity.createCombinedBitmap(MainActivity.java:53)\r\n        at appskd.bateria.appguardarimagen.MainActivity.access$000(MainActivity.java:16)\r\n        at appskd.bateria.appguardarimagen.MainActivity$1.onClick(MainActivity.java:38)\r\n        at android.view.View.performClick(View.java:6294)\r\n        at android.view.View$PerformClick.run(View.java:24770)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n```\r\n\r\nMe sale este error: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference","title":"ERROR java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference","body":"<p>Estoy intentando guardar como una imagen el contenido de todo un LinearLayout (con su background de fondo) que contiene varios  editText, En mi Activity tengo mi codigo asi, que me sale error cuando le doy click en el boton guardar.</p>\n<pre><code>import android.app.Activity;\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\n\npublic class MainActivity extends Activity {\n    private LinearLayout backgroundLayout;\n    private EditText editText1;\n    private EditText editText2;\n    private Button saveButton;\n    private int imageCounter = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        backgroundLayout = findViewById(R.id.imageLayout);\n        editText1 = findViewById(R.id.editText1);\n        editText2 = findViewById(R.id.editText2);\n        saveButton = findViewById(R.id.saveButton);\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Combina el fondo y el texto en un solo Bitmap\n                Bitmap combinedBitmap = createCombinedBitmap();\n\n                // Guarda la imagen con un nombre nico\n                saveImageToFile(combinedBitmap);\n            }\n        });\n    }\n\n    private Bitmap createCombinedBitmap() {\n        Bitmap backgroundBitmap = loadBackgroundBitmap();\n        String text1 = editText1.getText().toString();\n        String text2 = editText2.getText().toString();\n\n        // Combina el fondo y el texto en un solo Bitmap\n        Bitmap combinedBitmap = Bitmap.createBitmap(\n                backgroundBitmap.getWidth(),\n                backgroundBitmap.getHeight(),\n                backgroundBitmap.getConfig());\n        Canvas canvas = new Canvas(combinedBitmap);\n        canvas.drawBitmap(backgroundBitmap, 0, 0, null);\n        // Agrega el texto a la imagen\n\n        return combinedBitmap;\n    }\n\n    private Bitmap loadBackgroundBitmap() {\n       return null;\n    }\n\n    private void saveImageToFile(Bitmap imageBitmap) {\n        Context context = getApplicationContext();\n        File directory = context.getExternalFilesDir(null);\n\n        // Crea un nombre de archivo nico basado en el contador\n        String fileName = &quot;imagen_&quot; + imageCounter + &quot;.png&quot;;\n        File file = new File(directory, fileName);\n\n        try {\n            FileOutputStream fos = new FileOutputStream(file);\n            imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n            fos.close();\n            // Notifica al usuario que la imagen se ha guardado con xito\n            Toast.makeText(this, &quot;Imagen guardada en &quot; + file.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n\n            // Incrementa el contador\n            imageCounter++;\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error al guardar la imagen&quot;, Toast.LENGTH_SHORT).show();\n            // Maneja cualquier error que pueda ocurrir al guardar la imagen\n        }\n    }\n}\n\nIntento Guardar la imagen y me salen estos errores:\n\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: appskd.bateria.appguardarimagen, PID: 28463\n    java.lang.NullPointerException: Attempt to invoke virtual method 'int android.graphics.Bitmap.getWidth()' on a null object reference\n        at appskd.bateria.appguardarimagen.MainActivity.createCombinedBitmap(MainActivity.java:53)\n        at appskd.bateria.appguardarimagen.MainActivity.access$000(MainActivity.java:16)\n        at appskd.bateria.appguardarimagen.MainActivity$1.onClick(MainActivity.java:38)\n        at android.view.View.performClick(View.java:6294)\n        at android.view.View$PerformClick.run(View.java:24770)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n<p>Me sale este error: Attempt to invoke virtual method 'int android.graphics.Bitmap.getWidth()' on a null object reference</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1694264461,"post_id":77072359,"comment_id":135870295,"body_markdown":"`Thread derived = new Thread(base);` Just don&#39;t do that.","body":"<code>Thread derived = new Thread(base);</code> Just don&#39;t do that."},{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1694265881,"post_id":77072359,"comment_id":135870451,"body_markdown":"@tkausl, ok! But I got this problem from an educational example.","body":"@tkausl, ok! But I got this problem from an educational example."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694266517,"creation_date":1694265221,"answer_id":77072425,"question_id":77072359,"body_markdown":"It is a source of confusion that Thread implements Runnable. A Thread object is a Java Object that, once it starts, has a connection to an os thread. Having Runnable as an interface means we can separate a logical task, the Runnable, from the thing that runs it, the Thread. But letting Thread implement Runnable means the type system doesn&#39;t complain if you pass in a Thread as a constructor argument to another Thread.\r\n\r\n When you pass in some thread A as a constructor argument to another thread B you are saying, A is some object with a run method that I want B to execute. When your code in A calls getName, that is getName on A, but the thread executing the code is B. \r\n\r\nPassing A into B doesn&#39;t mean B will use A&#39;s os thread, it only means B will execute A&#39;s run method. `Thread.currentThread()` gets the Thread object that wraps the os thread executing the code. \r\n","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p>It is a source of confusion that Thread implements Runnable. A Thread object is a Java Object that, once it starts, has a connection to an os thread. Having Runnable as an interface means we can separate a logical task, the Runnable, from the thing that runs it, the Thread. But letting Thread implement Runnable means the type system doesn't complain if you pass in a Thread as a constructor argument to another Thread.</p>\n<p>When you pass in some thread A as a constructor argument to another thread B you are saying, A is some object with a run method that I want B to execute. When your code in A calls getName, that is getName on A, but the thread executing the code is B.</p>\n<p>Passing A into B doesn't mean B will use A's os thread, it only means B will execute A's run method. <code>Thread.currentThread()</code> gets the Thread object that wraps the os thread executing the code.</p>\n"},{"comments":[{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1694437260,"post_id":77072447,"comment_id":135886734,"body_markdown":"Could you please take a relook? Did I correctly understand?","body":"Could you please take a relook? Did I correctly understand?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694437717,"post_id":77072447,"comment_id":135886838,"body_markdown":"@Squared Not sure what all those arrows and colors mean, but yeah, you seem to have created a similar structure with your own classes, so I think you understood correctly. You can post another question if you are still confused.","body":"@Squared Not sure what all those arrows and colors mean, but yeah, you seem to have created a similar structure with your own classes, so I think you understood correctly. You can post another question if you are still confused."},{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1694437943,"post_id":77072447,"comment_id":135886892,"body_markdown":"Sorry for confusing! I mean the problem is that when we call derived.start() we then call run() which calls base.getName() , but not the derived.getName().","body":"Sorry for confusing! I mean the problem is that when we call derived.start() we then call run() which calls base.getName() , but not the derived.getName()."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694437983,"post_id":77072447,"comment_id":135886896,"body_markdown":"@Squared Yes that&#39;s right.","body":"@Squared Yes that&#39;s right."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694485917,"creation_date":1694265528,"answer_id":77072447,"question_id":77072359,"body_markdown":"`Thread.currentThread().getName()` and `this.getName()` return different names when you start the `derived` thread because `this` is not the same as `Thread.currentThread()`.\r\n\r\nYou create `derived` by using [the constructor][1] that takes in a `Runnable`. This creates a new thread that runs the `Runnable` (calls the `run` method). The argument you passed, `base`, is a `Thread` object, which also happens to be `Runnable`. \r\n\r\nHowever, the fact that `base` is a `Thread` (and not some other `Runnable` things) is not relevant. `derived.start()` still only starts the `derived` thread by calling `base.run()`. It does not start the `base` thread.\r\n\r\nSo `Thread.currentThread()` is the `derived` thread, but `this` refers to the `base` thread.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#%3Cinit%3E(java.lang.Runnable)","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p><code>Thread.currentThread().getName()</code> and <code>this.getName()</code> return different names when you start the <code>derived</code> thread because <code>this</code> is not the same as <code>Thread.currentThread()</code>.</p>\n<p>You create <code>derived</code> by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#%3Cinit%3E(java.lang.Runnable)\" rel=\"nofollow noreferrer\">the constructor</a> that takes in a <code>Runnable</code>. This creates a new thread that runs the <code>Runnable</code> (calls the <code>run</code> method). The argument you passed, <code>base</code>, is a <code>Thread</code> object, which also happens to be <code>Runnable</code>.</p>\n<p>However, the fact that <code>base</code> is a <code>Thread</code> (and not some other <code>Runnable</code> things) is not relevant. <code>derived.start()</code> still only starts the <code>derived</code> thread by calling <code>base.run()</code>. It does not start the <code>base</code> thread.</p>\n<p>So <code>Thread.currentThread()</code> is the <code>derived</code> thread, but <code>this</code> refers to the <code>base</code> thread.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694275767,"creation_date":1694275767,"answer_id":77073026,"question_id":77072359,"body_markdown":"When `base` is running - by calling `base.start();` -  getName() inside run() will correctly return the name of base, which will be something like &quot;Thread-0&quot; by default.\r\n\r\nWhen derived is running - by calling `derived.start();` -  it also executes base&#39;s run() method. Here, getName() will return the name of base (not derived) because getName() refers to the TestedThread object (base) on which it was called. This is true even though derived is the thread that is currently running the run() method.\r\n\r\nIt may be easier to understand if you add more logging to your example:\r\n\r\n    static class TestedThread extends Thread {\r\n        public void run() {\r\n            // Here this (running base or derived) always refers to the same instance - the base instance.\r\n            // The reason is that you created derived with base as a parameter,\r\n            // and the run from base always refers to base variable instance.\r\n            // Thread.currentThread() on the other hand refers to the instance of Thread instance on which you called start.\r\n            System.out.println(&quot;1: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + Thread.currentThread().getName());\r\n            System.out.println(&quot;2: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + getName());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TestedThread base = new TestedThread();\r\n        // Here base.getName() returns &quot;Thread-0&quot;\r\n\r\n        Thread derived = new Thread(base);\r\n        // Here derived.getName() returns &quot;Thread-1&quot;\r\n        // derived will execute code from base.run() - but code inside run() will refer to the base instance\r\n\r\n        derived.setName(&quot;derived&quot;);\r\n        // Here derived name is changed to &quot;derived&quot;\r\n\r\n        base.start();\r\n        derived.start();\r\n    }\r\n\r\nOn my computer it prints:\r\n\r\n    1: thid:15, th ref:1801046120, this=1990684586, derived\r\n    1: thid:14, th ref:1990684586, this=1990684586, Thread-0\r\n    2: thid:15, th ref:1801046120, this=1990684586, Thread-0\r\n    2: thid:14, th ref:1990684586, this=1990684586, Thread-0\r\n\r\nas you see, the `this` always returns the same value, this is why getName() (which is actually this.getName()) returns the same value.\r\n","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p>When <code>base</code> is running - by calling <code>base.start();</code> -  getName() inside run() will correctly return the name of base, which will be something like &quot;Thread-0&quot; by default.</p>\n<p>When derived is running - by calling <code>derived.start();</code> -  it also executes base's run() method. Here, getName() will return the name of base (not derived) because getName() refers to the TestedThread object (base) on which it was called. This is true even though derived is the thread that is currently running the run() method.</p>\n<p>It may be easier to understand if you add more logging to your example:</p>\n<pre><code>static class TestedThread extends Thread {\n    public void run() {\n        // Here this (running base or derived) always refers to the same instance - the base instance.\n        // The reason is that you created derived with base as a parameter,\n        // and the run from base always refers to base variable instance.\n        // Thread.currentThread() on the other hand refers to the instance of Thread instance on which you called start.\n        System.out.println(&quot;1: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + Thread.currentThread().getName());\n        System.out.println(&quot;2: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + getName());\n    }\n}\n\npublic static void main(String[] args) {\n    TestedThread base = new TestedThread();\n    // Here base.getName() returns &quot;Thread-0&quot;\n\n    Thread derived = new Thread(base);\n    // Here derived.getName() returns &quot;Thread-1&quot;\n    // derived will execute code from base.run() - but code inside run() will refer to the base instance\n\n    derived.setName(&quot;derived&quot;);\n    // Here derived name is changed to &quot;derived&quot;\n\n    base.start();\n    derived.start();\n}\n</code></pre>\n<p>On my computer it prints:</p>\n<pre><code>1: thid:15, th ref:1801046120, this=1990684586, derived\n1: thid:14, th ref:1990684586, this=1990684586, Thread-0\n2: thid:15, th ref:1801046120, this=1990684586, Thread-0\n2: thid:14, th ref:1990684586, this=1990684586, Thread-0\n</code></pre>\n<p>as you see, the <code>this</code> always returns the same value, this is why getName() (which is actually this.getName()) returns the same value.</p>\n"}],"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77072447,"answer_count":3,"score":1,"last_activity_date":1694485917,"creation_date":1694264266,"question_id":77072359,"body_markdown":"I thought about a Thread object like some abstraction that carries name and static Thread.currentThread() like the way to access to that Thread object. Obviously, it&#39;s wrong assumption.\r\n\r\n```\r\npublic class App {\r\n\r\n    static class TestedThread extends Thread {\r\n        public void run() {\r\n            // System.out.println(Thread.currentThread().getName()); // is ok\r\n            System.out.println(this.getName());// Why is there difference?\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TestedThread base = new TestedThread();\r\n        // base.start();\r\n\r\n        Thread derived = new Thread(base);\r\n        derived.setName(&quot;derived&quot;);\r\n        derived.start();\r\n    }\r\n}\r\n```\r\nIs it something like that?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gbpOq.png","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p>I thought about a Thread object like some abstraction that carries name and static Thread.currentThread() like the way to access to that Thread object. Obviously, it's wrong assumption.</p>\n<pre><code>public class App {\n\n    static class TestedThread extends Thread {\n        public void run() {\n            // System.out.println(Thread.currentThread().getName()); // is ok\n            System.out.println(this.getName());// Why is there difference?\n        }\n    }\n\n    public static void main(String[] args) {\n        TestedThread base = new TestedThread();\n        // base.start();\n\n        Thread derived = new Thread(base);\n        derived.setName(&quot;derived&quot;);\n        derived.start();\n    }\n}\n</code></pre>\n<p>Is it something like that?\n<a href=\"https://i.stack.imgur.com/gbpOq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbpOq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","httpclient","webclient"],"comments":[{"owner":{"account_id":20441862,"reputation":1,"user_id":14998538,"display_name":"XuHui Zhang"},"score":0,"creation_date":1694485555,"post_id":77085740,"comment_id":135893719,"body_markdown":"cxt.getDownloader().getWebClient()\n                .get()\n                .uri(&quot;xxxxxxx&quot;, AvaiRequest.builder().build().toMap())\n                .headers(this::setHeader)\n                .cookie(&quot;STORAGE_PREFERENCES&quot;, &quot;{&#39;STRICTLY_NECESSARY&#39;:true,&#39;PERFORMANCE&#39;:true,&#39;FUNCTIONAL&#39;:true,&#39;TARGETING&#39;:true,&#39;SOCIAL_MEDIA&#39;:true,&#39;PIXEL&#39;:true,&#39;GANALYTICS&#39;:true,&#39;__VERSION&#39;:2}&quot;)\n                .exchangeToMono(resp -&gt; {","body":"cxt.getDownloader().getWebClient()                 .get()                 .uri(&quot;xxxxxxx&quot;, AvaiRequest.builder().build().toMap())                 .headers(this::setHeader)                 .cookie(&quot;STORAGE_PREFERENCES&quot;, &quot;{&#39;STRICTLY_NECESSARY&#39;:true,&#39;PERFORMANCE&#39;:true,&#39;FUNCTIONAL&#39;:&zwnj;&#8203;true,&#39;TARGETING&#39;:tru&zwnj;&#8203;e,&#39;SOCIAL_MEDIA&#39;:tru&zwnj;&#8203;e,&#39;PIXEL&#39;:true,&#39;GANA&zwnj;&#8203;LYTICS&#39;:true,&#39;__VERS&zwnj;&#8203;ION&#39;:2}&quot;)                 .exchangeToMono(resp -&gt; {"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1694487587,"post_id":77085740,"comment_id":135893843,"body_markdown":"Please don&#39;t add comments to clarify or add code; code is unreadable in comments. [Edit] your question instead. A [mcve] would be helpful. See [ask].","body":"Please don&#39;t add comments to clarify or add code; code is unreadable in comments. <a href=\"https://stackoverflow.com/posts/77085740/edit\">Edit</a> your question instead. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":20441862,"reputation":1,"user_id":14998538,"display_name":"XuHui Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694497125,"answer_count":0,"score":0,"last_activity_date":1694485518,"creation_date":1694485518,"question_id":77085740,"body_markdown":"[enter image description here](https://i.stack.imgur.com/7t87k.png)\r\n\r\n`\r\n    java.lang.IllegalArgumentException: Cookie value contains an invalid char: ,\r\n\tat io.netty.handler.codec.http.cookie.CookieEncoder.validateCookie(CookieEncoder.java:48)\r\n\tat io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:217)\r\n\tat io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:86)\r\n\tat reactor.netty.http.client.HttpClientOperations.addCookie(HttpClientOperations.java:167)\r\n\tat org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$4(ReactorClientHttpRequest.java:133)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$5(ReactorClientHttpRequest.java:131)\r\n\tat java.base/java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:647)\r\n`\r\n\r\nI want to set the cookie like below\r\n\r\n\r\n\r\nit failed","title":"How can I set cookie value with the char , and &quot; in netty httpclient","body":"<p><a href=\"https://i.stack.imgur.com/7t87k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><code>java.lang.IllegalArgumentException: Cookie value contains an invalid char: , at io.netty.handler.codec.http.cookie.CookieEncoder.validateCookie(CookieEncoder.java:48) at io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:217) at io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:86) at reactor.netty.http.client.HttpClientOperations.addCookie(HttpClientOperations.java:167) at org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$4(ReactorClientHttpRequest.java:133) at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) at org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$5(ReactorClientHttpRequest.java:131) at java.base/java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:647)</code></p>\n<p>I want to set the cookie like below</p>\n<p>it failed</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":2,"creation_date":1694483980,"post_id":77085644,"comment_id":135893609,"body_markdown":"just google &quot;unnamed package not allowed in module&quot; or &quot;xxx.class found in top-level directory &quot;.faster than asking questions.","body":"just google &quot;unnamed package not allowed in module&quot; or &quot;xxx.class found in top-level directory &quot;.faster than asking questions."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1694485030,"post_id":77085644,"comment_id":135893678,"body_markdown":"This has exactly nothing to do with your import of `java.util.Scanner`. Read the error message.","body":"This has exactly nothing to do with your import of <code>java.util.Scanner</code>. Read the error message."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694486169,"post_id":77085644,"comment_id":135893753,"body_markdown":"You&#39;ve set up the java project to use jigsaw modules. Don&#39;t do that - it&#39;s not widely adopted and brings various complications. One of them is that all classes __must__ be in a package and your `project` class is not. You could put it in a package, but simpler to kill the 9-headed hydra by piercing it through the heart, than lopping one head off: Don&#39;t make it a jigsaw module based project.","body":"You&#39;ve set up the java project to use jigsaw modules. Don&#39;t do that - it&#39;s not widely adopted and brings various complications. One of them is that all classes <b>must</b> be in a package and your <code>project</code> class is not. You could put it in a package, but simpler to kill the 9-headed hydra by piercing it through the heart, than lopping one head off: Don&#39;t make it a jigsaw module based project."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694487756,"post_id":77085644,"comment_id":135893850,"body_markdown":"In addition, don&#39;t leave `// TODO` comments like that from your IDE littered around your code, and don&#39;t use `double` for monetary values.","body":"In addition, don&#39;t leave <code>&#47;&#47; TODO</code> comments like that from your IDE littered around your code, and don&#39;t use <code>double</code> for monetary values."}],"owner":{"account_id":27020112,"reputation":11,"user_id":20578222,"display_name":"Hoi Yin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694494238,"answer_count":0,"score":0,"last_activity_date":1694485055,"creation_date":1694483233,"question_id":77085644,"body_markdown":"So I am trying to create a calculator that calculates the new price of a product after its 20% discount.\r\n\r\nThis is the code that I have typed, and the following is the description of my error\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class project {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdouble old_price;\r\n\t\tdouble new_price;\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;What is the original price of your product&quot;);\r\n\t\t\r\n\t\tnew_price = old_price*(1+0.2);\r\n\t\tSystem.out.println(&quot;The price after our discount is&quot; +new_price);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: C:\\Users\\ceyze\\eclipse-workspace\\SalePriceCalculator\\bin\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: project.class found in top-level directory (unnamed package not allowed in module)\r\n```","title":"&quot;unnamed package not allowed in module&quot;","body":"<p>So I am trying to create a calculator that calculates the new price of a product after its 20% discount.</p>\n<p>This is the code that I have typed, and the following is the description of my error</p>\n<pre><code>import java.util.Scanner;\npublic class project {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        double old_price;\n        double new_price;\n        \n        Scanner scan = new Scanner(System.in);\n        \n        System.out.println(&quot;What is the original price of your product&quot;);\n        \n        new_price = old_price*(1+0.2);\n        System.out.println(&quot;The price after our discount is&quot; +new_price);\n        \n        \n        \n        \n    }\n\n}\n\nError occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: C:\\Users\\ceyze\\eclipse-workspace\\SalePriceCalculator\\bin\nCaused by: java.lang.module.InvalidModuleDescriptorException: project.class found in top-level directory (unnamed package not allowed in module)\n</code></pre>\n"},{"tags":["java","android","layout","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694484388,"creation_date":1694484388,"answer_id":77085692,"question_id":77084256,"body_markdown":"Looks like your bottom constraint for `menu` should be\r\n\r\n```xml\r\napp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n```\r\n\r\ninstead of\r\n\r\n```xml\r\napp:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\r\n```\r\n\r\nAnd the layout width/height of `scheduleViewer` should be 0dp\r\n\r\n```xml\r\nandroid:layout_width=&quot;0dp&quot;\r\nandroid:layout_height=&quot;0dp&quot;\r\n```\r\n\r\n(So they&#39;ll stretch instead of being the entire size of the parent)","title":"How to use ConstraintLayout normally and correctly?","body":"<p>Looks like your bottom constraint for <code>menu</code> should be</p>\n<pre class=\"lang-xml prettyprint-override\"><code>app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n</code></pre>\n<p>instead of</p>\n<pre class=\"lang-xml prettyprint-override\"><code>app:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\n</code></pre>\n<p>And the layout width/height of <code>scheduleViewer</code> should be 0dp</p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;0dp&quot;\n</code></pre>\n<p>(So they'll stretch instead of being the entire size of the parent)</p>\n"}],"owner":{"account_id":25408732,"reputation":3,"user_id":19216971,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085692,"answer_count":1,"score":0,"last_activity_date":1694484388,"creation_date":1694459730,"question_id":77084256,"body_markdown":"I&#39;ve got some problem with my android layout, and i&#39;ve got tired of trying to solve this. I&#39;ve got TabView, PageViewer and two buttons, but PageViewer covers other interface elements with its container, so pages are shown uncorrectly. How can I put PageViewer between tabs and buttons, so it would fit that without covering any other ui elements. Here&#39;s my code\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/scheduleDaySelector&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/scheduleViewer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/menu&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/scheduleDaySelector&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/menu&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;1dp&quot;\r\n        android:layout_marginEnd=&quot;1dp&quot;\r\n        android:layout_marginBottom=&quot;1dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/scheduleButton&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;@string/schedule_button&quot;\r\n            app:icon=&quot;@drawable/ic_schedule_button&quot;\r\n            app:iconGravity=&quot;textStart&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/announcementButton&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;@string/announcement_button&quot;\r\n            app:icon=&quot;@drawable/ic_announcement_button&quot;\r\n            app:iconGravity=&quot;textStart&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nI tried attaching the top and bottom of the PageViewer to the bottom of the TabView and the top of the button leyout, but nothing changed and the problem persisted. I&#39;ve been trying to solve this problem for an hour now, please help. Thanks in advance","title":"How to use ConstraintLayout normally and correctly?","body":"<p>I've got some problem with my android layout, and i've got tired of trying to solve this. I've got TabView, PageViewer and two buttons, but PageViewer covers other interface elements with its container, so pages are shown uncorrectly. How can I put PageViewer between tabs and buttons, so it would fit that without covering any other ui elements. Here's my code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/scheduleDaySelector&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/scheduleViewer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/menu&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/scheduleDaySelector&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/menu&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;1dp&quot;\n        android:layout_marginEnd=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;1dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/scheduleButton&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;@string/schedule_button&quot;\n            app:icon=&quot;@drawable/ic_schedule_button&quot;\n            app:iconGravity=&quot;textStart&quot; /&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/announcementButton&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;@string/announcement_button&quot;\n            app:icon=&quot;@drawable/ic_announcement_button&quot;\n            app:iconGravity=&quot;textStart&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried attaching the top and bottom of the PageViewer to the bottom of the TabView and the top of the button leyout, but nothing changed and the problem persisted. I've been trying to solve this problem for an hour now, please help. Thanks in advance</p>\n"},{"tags":["java","android","webrtc"],"comments":[{"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":1,"creation_date":1557424399,"post_id":56064641,"comment_id":98769973,"body_markdown":"Do you have a progruad rules set up for your release build? If so, please post your proguard rules as well.","body":"Do you have a progruad rules set up for your release build? If so, please post your proguard rules as well."},{"owner":{"account_id":1856725,"reputation":107,"user_id":1682127,"display_name":"Sadman Samee"},"score":0,"creation_date":1557428193,"post_id":56064641,"comment_id":98771680,"body_markdown":"Thanks I have figured it out, it was progurd issue.","body":"Thanks I have figured it out, it was progurd issue."},{"owner":{"account_id":1130134,"reputation":2727,"user_id":1116431,"display_name":"Bruno Leveque"},"score":0,"creation_date":1557428726,"post_id":56064641,"comment_id":98771907,"body_markdown":"@SadmanSamee Please can you also post your solution as an Answer (instead of mixing it with your question) and then accept it as the approved answer? Thank you.","body":"@SadmanSamee Please can you also post your solution as an Answer (instead of mixing it with your question) and then accept it as the approved answer? Thank you."},{"owner":{"account_id":5195749,"reputation":2617,"user_id":4157124,"display_name":"user4157124"},"score":0,"creation_date":1694484265,"post_id":56064641,"comment_id":135893633,"body_markdown":"@SadmanSamee Do not include solution to question please (post a separate answer instead).","body":"@SadmanSamee Do not include solution to question please (post a separate answer instead)."}],"answers":[{"comments":[{"owner":{"account_id":6156436,"reputation":1904,"user_id":4799284,"display_name":"ALEXANDER LOZANO"},"score":0,"creation_date":1612137292,"post_id":56102561,"comment_id":116665706,"body_markdown":"hello,  the link above  says:\n By default, the flags in this file are appended to flags specified\n# in /home/renyuzhuo/Android/Sdk/tools/proguard/proguard-android.txt\n# You can edit the include path and order by changing the proguardFiles\n# directive in build.gradle.\n#\n# For more details, see\n#   http://developer.android.com/guide/developing/tools/proguard.html","body":"hello,  the link above  says:  By default, the flags in this file are appended to flags specified # in /home/renyuzhuo/Android/Sdk/tools/proguard/proguard-android.&zwnj;&#8203;txt # You can edit the include path and order by changing the proguardFiles # directive in build.gradle. # # For more details, see #   <a href=\"http://developer.android.com/guide/developing/tools/proguard.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/developing/tools/proguard.html</a>"}],"tags":[],"owner":{"account_id":1856725,"reputation":107,"user_id":1682127,"display_name":"Sadman Samee"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557687886,"creation_date":1557687886,"answer_id":56102561,"question_id":56064641,"body_markdown":" It was happening due to progurd issue. simply putting\r\n\r\n        release {\r\n            consumerProguardFiles &#39;proguard-project.txt&#39;\r\n        }","title":"Webrtc part crashes only on Release Build works fine on Debug build","body":"<p>It was happening due to progurd issue. simply putting</p>\n\n<pre><code>    release {\n        consumerProguardFiles 'proguard-project.txt'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641922001,"creation_date":1641922001,"answer_id":70670967,"question_id":56064641,"body_markdown":"I was having the same problem and the solution was\r\n\r\nAdd file `proguard-rules.pro` to the `app` folder\r\n\r\n    ## WebRTC\r\n    -keep class com.cloudwebrtc.webrtc.** { *; }\r\n    -keep class org.webrtc.** { *; }\r\n\r\nand in build.gradle, add below 2 properties to buildTypes -&gt; release\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }","title":"Webrtc part crashes only on Release Build works fine on Debug build","body":"<p>I was having the same problem and the solution was</p>\n<p>Add file <code>proguard-rules.pro</code> to the <code>app</code> folder</p>\n<pre><code>## WebRTC\n-keep class com.cloudwebrtc.webrtc.** { *; }\n-keep class org.webrtc.** { *; }\n</code></pre>\n<p>and in build.gradle, add below 2 properties to buildTypes -&gt; release</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1856725,"reputation":107,"user_id":1682127,"display_name":"Sadman Samee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3659,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1694484245,"creation_date":1557422882,"question_id":56064641,"body_markdown":"I am developing a Webrtc video chat application. It works fine on Debug build and doesn&#39;t crash but crashes on Release Build. My Webrtc version is\r\n\r\n&gt;    implementation &#39;org.webrtc:google-webrtc:1.0.27771&#39;\r\n\r\n\r\nWhenever I call this function I get error \r\n   \r\n\r\n&gt;  # Fatal error in:\r\n&gt; ../../../../usr/local/google/home/sakal/code/webrtc-aar-release/src/sdk/android/src/jni/jni_generator_helper.cc,\r\n&gt; line 59\r\n\r\n\r\nAnd this is where it crashes, \r\n```\r\n    public void start() {\r\n\r\n        if (Nammu.checkPermission(CAMERA)) {\r\n\r\n            //NEW\r\n            PeerConnectionFactory.InitializationOptions initializationOptions =\r\n                    PeerConnectionFactory.InitializationOptions.builder(this)\r\n                            //.setEnableVideoHwAcceleration(true)\r\n                            .setEnableInternalTracer(true)\r\n                            //.setFieldTrials(&quot;WebRTC-FlexFEC-03/Enabled/&quot;)\r\n                            .createInitializationOptions();\r\n            PeerConnectionFactory.initialize(initializationOptions);\r\n\r\n           \r\n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\r\n            DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\r\n                    rootEglBase.getEglBaseContext(),  /* enableIntelVp8Encoder */true,  /* enableH264HighProfile */false);\r\n            DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\r\n\r\n            \r\n            //NEW\r\n        peerConnectionFactory = PeerConnectionFactory.builder()\r\n                .setOptions(options)\r\n                .setVideoEncoderFactory(defaultVideoEncoderFactory)\r\n                .setVideoDecoderFactory(defaultVideoDecoderFactory)\r\n                .createPeerConnectionFactory();\r\n\r\n            VideoCapturer videoCapturerAndroid;\r\n            videoCapturerAndroid = createCameraCapturer(new Camera1Enumerator(false));\r\n\r\n           \r\n            audioConstraints = new MediaConstraints();\r\n            videoConstraints = new MediaConstraints();\r\n            sdpConstraints = new MediaConstraints();\r\n\r\n            if (videoCapturerAndroid != null) {\r\n                \r\n                //NEW\r\n            SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, rootEglBase.getEglBaseContext());\r\n            videoSource = peerConnectionFactory.createVideoSource(videoCapturerAndroid.isScreencast());\r\n            videoCapturerAndroid.initialize(surfaceTextureHelper, getApplicationContext(), videoSource.getCapturerObserver());\r\n\r\n            }\r\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\r\n\r\n            //create an AudioSource instance\r\n            audioSource = peerConnectionFactory.createAudioSource(audioConstraints);\r\n\r\n            localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\r\n            localAudioTrack.setEnabled(true);\r\n            localAudioTrack.setVolume(1);\r\n\r\n            if (videoCapturerAndroid != null) {\r\n                videoCapturerAndroid.startCapture(1024, 720, 30);\r\n            }\r\n            \r\n            localVideoTrack.addSink(localVideoView);\r\n\r\n            localVideoView.setMirror(true);\r\n            remoteVideoView.setMirror(true);\r\n\r\n            gotUserMedia = true;\r\n            if (SignallingClient.getInstance().isInitiator) {\r\n                onTryToStart();\r\n            }\r\n        }else {\r\n            Nammu.askForPermission(this, CAMERA, permissionCameraCallback);\r\n        }\r\n    }\r\n```","title":"Webrtc part crashes only on Release Build works fine on Debug build","body":"<p>I am developing a Webrtc video chat application. It works fine on Debug build and doesn't crash but crashes on Release Build. My Webrtc version is</p>\n<blockquote>\n<p>implementation 'org.webrtc:google-webrtc:1.0.27771'</p>\n</blockquote>\n<p>Whenever I call this function I get error</p>\n<blockquote>\n<h1>Fatal error in:</h1>\n<p>../../../../usr/local/google/home/sakal/code/webrtc-aar-release/src/sdk/android/src/jni/jni_generator_helper.cc,\nline 59</p>\n</blockquote>\n<p>And this is where it crashes,</p>\n<pre><code>    public void start() {\n\n        if (Nammu.checkPermission(CAMERA)) {\n\n            //NEW\n            PeerConnectionFactory.InitializationOptions initializationOptions =\n                    PeerConnectionFactory.InitializationOptions.builder(this)\n                            //.setEnableVideoHwAcceleration(true)\n                            .setEnableInternalTracer(true)\n                            //.setFieldTrials(&quot;WebRTC-FlexFEC-03/Enabled/&quot;)\n                            .createInitializationOptions();\n            PeerConnectionFactory.initialize(initializationOptions);\n\n           \n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\n            DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\n                    rootEglBase.getEglBaseContext(),  /* enableIntelVp8Encoder */true,  /* enableH264HighProfile */false);\n            DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\n\n            \n            //NEW\n        peerConnectionFactory = PeerConnectionFactory.builder()\n                .setOptions(options)\n                .setVideoEncoderFactory(defaultVideoEncoderFactory)\n                .setVideoDecoderFactory(defaultVideoDecoderFactory)\n                .createPeerConnectionFactory();\n\n            VideoCapturer videoCapturerAndroid;\n            videoCapturerAndroid = createCameraCapturer(new Camera1Enumerator(false));\n\n           \n            audioConstraints = new MediaConstraints();\n            videoConstraints = new MediaConstraints();\n            sdpConstraints = new MediaConstraints();\n\n            if (videoCapturerAndroid != null) {\n                \n                //NEW\n            SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, rootEglBase.getEglBaseContext());\n            videoSource = peerConnectionFactory.createVideoSource(videoCapturerAndroid.isScreencast());\n            videoCapturerAndroid.initialize(surfaceTextureHelper, getApplicationContext(), videoSource.getCapturerObserver());\n\n            }\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\n\n            //create an AudioSource instance\n            audioSource = peerConnectionFactory.createAudioSource(audioConstraints);\n\n            localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\n            localAudioTrack.setEnabled(true);\n            localAudioTrack.setVolume(1);\n\n            if (videoCapturerAndroid != null) {\n                videoCapturerAndroid.startCapture(1024, 720, 30);\n            }\n            \n            localVideoTrack.addSink(localVideoView);\n\n            localVideoView.setMirror(true);\n            remoteVideoView.setMirror(true);\n\n            gotUserMedia = true;\n            if (SignallingClient.getInstance().isInitiator) {\n                onTryToStart();\n            }\n        }else {\n            Nammu.askForPermission(this, CAMERA, permissionCameraCallback);\n        }\n    }\n</code></pre>\n"},{"tags":["java","object","null"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1424409683,"post_id":28622092,"comment_id":45546223,"body_markdown":"Please show the code of `getMethodDataByFilter`","body":"Please show the code of <code>getMethodDataByFilter</code>"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1424409709,"post_id":28622092,"comment_id":45546235,"body_markdown":"because `m` is not `null` but  `m.getName()` is `null`","body":"because <code>m</code> is not <code>null</code> but  <code>m.getName()</code> is <code>null</code>"},{"owner":{"account_id":3006892,"reputation":3666,"user_id":2551236,"accept_rate":83,"display_name":"Vihar"},"score":0,"creation_date":1424409713,"post_id":28622092,"comment_id":45546236,"body_markdown":"please show the code where it throws Null pointer exception","body":"please show the code where it throws Null pointer exception"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1424411207,"post_id":28622092,"comment_id":45546689,"body_markdown":"post your full code.. and full stack trace your are getting... exception is some where else.","body":"post your full code.. and full stack trace your are getting... exception is some where else."},{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1621275297,"post_id":28622092,"comment_id":119441450,"body_markdown":"I think your service is null. That&#39;s why it throws null pointer","body":"I think your service is null. That&#39;s why it throws null pointer"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424410090,"creation_date":1424409765,"answer_id":28622134,"question_id":28622092,"body_markdown":"You need to change your code to :\r\n\r\n    if(myObject==null){   // check if object is null\r\n    System.out.println(&quot;myObject is NULL&quot;);\r\n    }\r\n    else{ // myObject should not be null here\r\n    if(myObject.getField1()==null) // check for fields within the object\r\n    {\r\n    System.out.println(&quot;field1 is NULL&quot;);\r\n    }\r\n    if(myObject.getField2()==null)\r\n    {\r\n    System.out.println(&quot;field2 is NULL&quot;);\r\n    }\r\n    ...\r\n    }\r\n\r\nNote if the object is null, then trying to access any *non-static* field / method on it will result in NPE.\r\n","title":"Check if Object has data or not?","body":"<p>You need to change your code to :</p>\n\n<pre><code>if(myObject==null){   // check if object is null\nSystem.out.println(\"myObject is NULL\");\n}\nelse{ // myObject should not be null here\nif(myObject.getField1()==null) // check for fields within the object\n{\nSystem.out.println(\"field1 is NULL\");\n}\nif(myObject.getField2()==null)\n{\nSystem.out.println(\"field2 is NULL\");\n}\n...\n}\n</code></pre>\n\n<p>Note if the object is null, then trying to access any <em>non-static</em> field / method on it will result in NPE.</p>\n"},{"comments":[{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious "},"score":0,"creation_date":1424410210,"post_id":28622139,"comment_id":45546391,"body_markdown":"No, `if ( m == null || m.getName()== null)` still shows `NPE` in `m.getName()`.","body":"No, <code>if ( m == null || m.getName()== null)</code> still shows <code>NPE</code> in <code>m.getName()</code>."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":1,"creation_date":1424410724,"post_id":28622139,"comment_id":45546538,"body_markdown":"@JavaCurious no and never.. `if ( m == null || m.getName()== null)` will not give you `NPE`","body":"@JavaCurious no and never.. <code>if ( m == null || m.getName()== null)</code> will not give you <code>NPE</code>"},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":0,"creation_date":1424411185,"post_id":28622139,"comment_id":45546683,"body_markdown":"I am making the reasonable assumption that `getName` is a simple getter.  If that is the case, the code will never give NPE because `||` will short circuit","body":"I am making the reasonable assumption that <code>getName</code> is a simple getter.  If that is the case, the code will never give NPE because <code>||</code> will short circuit"}],"tags":[],"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424409772,"creation_date":1424409772,"answer_id":28622139,"question_id":28622092,"body_markdown":"Try this `if ( m == null || m.getName()== null)`. Note that apart from m its name may also be `null`.","title":"Check if Object has data or not?","body":"<p>Try this <code>if ( m == null || m.getName()== null)</code>. Note that apart from m its name may also be <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious "},"score":0,"creation_date":1424410047,"post_id":28622140,"comment_id":45546345,"body_markdown":"No, `if (m.getName == null)` still throw `NPE`.","body":"No, <code>if (m.getName == null)</code> still throw <code>NPE</code>."},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1424410209,"post_id":28622140,"comment_id":45546390,"body_markdown":"@JavaCurious m.getName will throw NPE when m is null or if you do something silly in getName method.","body":"@JavaCurious m.getName will throw NPE when m is null or if you do something silly in getName method."},{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious "},"score":0,"creation_date":1424410580,"post_id":28622140,"comment_id":45546493,"body_markdown":"but I have not do any silly inside the `getName`, have just initialize the value.","body":"but I have not do any silly inside the <code>getName</code>, have just initialize the value."},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1424410613,"post_id":28622140,"comment_id":45546508,"body_markdown":"@JavaCurious Update your code in your question with the latest copy.","body":"@JavaCurious Update your code in your question with the latest copy."}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424410228,"creation_date":1424409775,"answer_id":28622140,"question_id":28622092,"body_markdown":"    m == null\r\n\r\nwill return false when object `m` is not null but it does not check all its attributes recursively inside object.\r\n\r\n    m.getName()\r\n\r\nseems to be returning null but even this statement will not throw NPE. But yes if you call `m.getName().isEmpty()` will throw NPE. You should better check like this:\r\n\r\n    if (m.getName() == null) //assuming you have already checked for m being null\r\n\r\n","title":"Check if Object has data or not?","body":"<pre><code>m == null\n</code></pre>\n\n<p>will return false when object <code>m</code> is not null but it does not check all its attributes recursively inside object.</p>\n\n<pre><code>m.getName()\n</code></pre>\n\n<p>seems to be returning null but even this statement will not throw NPE. But yes if you call <code>m.getName().isEmpty()</code> will throw NPE. You should better check like this:</p>\n\n<pre><code>if (m.getName() == null) //assuming you have already checked for m being null\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious "},"score":0,"creation_date":1424410304,"post_id":28622222,"comment_id":45546419,"body_markdown":"So how to check that `m` has received data or not ?","body":"So how to check that <code>m</code> has received data or not ?"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1424410400,"post_id":28622222,"comment_id":45546443,"body_markdown":"@JavaCurious you can check my last part of the answer.","body":"@JavaCurious you can check my last part of the answer."},{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious "},"score":0,"creation_date":1424410403,"post_id":28622222,"comment_id":45546447,"body_markdown":"Have tried all 3 without else but it throws `NPE` at `m.getName()==null` and if remove it then throws same at `m.getName().isEmpty()`.","body":"Have tried all 3 without else but it throws <code>NPE</code> at <code>m.getName()==null</code> and if remove it then throws same at <code>m.getName().isEmpty()</code>."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1424410494,"post_id":28622222,"comment_id":45546468,"body_markdown":"@JavaCurious you have to validate all the steps. coding is not a skipping","body":"@JavaCurious you have to validate all the steps. coding is not a skipping"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1424410679,"post_id":28622222,"comment_id":45546529,"body_markdown":"@RuchiraGayanRanaweera - I kind of disagree.. `m` and `m.getName()` are at different levels. Using `if(m==null){}else{ // check for fields of m.someMethod() here}` makes more sense.","body":"@RuchiraGayanRanaweera - I kind of disagree.. <code>m</code> and <code>m.getName()</code> are at different levels. Using <code>if(m==null){}else{ &#47;&#47; check for fields of m.someMethod() here}</code> makes more sense."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1424410989,"post_id":28622222,"comment_id":45546622,"body_markdown":"@TheLostMind same logic execute here too.. you can check it.","body":"@TheLostMind same logic execute here too.. you can check it."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1424411251,"post_id":28622222,"comment_id":45546709,"body_markdown":"@RuchiraGayanRanaweera - What if the OP wants to check 2 fields?","body":"@RuchiraGayanRanaweera - What if the OP wants to check 2 fields?"}],"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424410196,"creation_date":1424410196,"answer_id":28622222,"question_id":28622092,"body_markdown":"Explanation. \r\n\r\n    if(m == null){\r\n      System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nSince inside `if` not enter since `m` is not `null`. But \r\n\r\n    if(m.getName().isEmpty()){\r\n      System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nHere you get `NullPointerException` since `m.getName()` is `null`.\r\n\r\nSo you can try as follows\r\n\r\n     if(m == null){\r\n      System.out.println(&quot;m is null&quot;);\r\n     }else if(m.getName()==null){\r\n      System.out.println(&quot;m.getName() is null&quot;);\r\n     }else if(m.getName().isEmpty()){\r\n      System.out.println(&quot;m.getName() is empty&quot;);\r\n     }\r\n    ","title":"Check if Object has data or not?","body":"<p>Explanation. </p>\n\n<pre><code>if(m == null){\n  System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>Since inside <code>if</code> not enter since <code>m</code> is not <code>null</code>. But </p>\n\n<pre><code>if(m.getName().isEmpty()){\n  System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>Here you get <code>NullPointerException</code> since <code>m.getName()</code> is <code>null</code>.</p>\n\n<p>So you can try as follows</p>\n\n<pre><code> if(m == null){\n  System.out.println(\"m is null\");\n }else if(m.getName()==null){\n  System.out.println(\"m.getName() is null\");\n }else if(m.getName().isEmpty()){\n  System.out.println(\"m.getName() is empty\");\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5733546,"reputation":459,"user_id":4528383,"accept_rate":25,"display_name":"Sandeep Patange"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424412028,"creation_date":1424412028,"answer_id":28622566,"question_id":28622092,"body_markdown":"Check the object is null or not like this:\r\n\r\n    if(m != null &amp;&amp; m.getName != null) {\r\n     // Object m is not null and m.getName is also not null\r\n    } else {\r\n     // Either Object m is null or m.getName is null or both are null\r\n    }","title":"Check if Object has data or not?","body":"<p>Check the object is null or not like this:</p>\n\n<pre><code>if(m != null &amp;&amp; m.getName != null) {\n // Object m is not null and m.getName is also not null\n} else {\n // Either Object m is null or m.getName is null or both are null\n}\n</code></pre>\n"}],"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1694480926,"creation_date":1424409540,"question_id":28622092,"body_markdown":"I am calling method to get data as per passed text that will ping into database.\r\n\r\nSo I want to check if there is data arrived in object or not.\r\n\r\nCode :\r\n\r\n    Method m = service.getMethodDataByFilter(text);\r\n\r\nI have tried :\r\n\r\n    if(m == null){\r\n        System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nbut it does not entering inside it.\r\n\r\nI have also tried :\r\n\r\n    if(m.getName().isEmpty()){\r\n        System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nthen it throws `NPE` in condition because no data received.\r\n\r\nSo how to check if there is data inside object or not ?\r\n\r\n\r\nMethod Class :\r\n\r\n    public class Method {\r\n        private Integer id;\r\n        private String name;\r\n        // getter-setter\r\n    }\r\n\r\n**UPDATE**\r\n\r\nHave just try [Ruchira][1]    \r\n\r\n        if(m== null){\r\n            System.out.println(&quot;m is null&quot;);\r\n        }else if(m.getName()==null){\r\n            System.out.println(&quot;m.getName() is null&quot;);\r\n        }else if(m.getName().isEmpty()){\r\n            System.out.println(&quot;m.getName() is empty&quot;);\r\n        }\r\n\r\nStill throws same `NPE`.\r\n\r\n**FULL Method Code :**\r\n\r\n    public MethodDTO getMethod(String text){\r\n    \tMethod m = service.getMethod(text);\r\n    \r\n    \tif(m == null){\r\n    \t\tSystem.out.println(&quot;m is null&quot;);\r\n    \t}else if(m.getName()==null){\r\n    \t\tSystem.out.println(&quot;m.getName() is null&quot;);\r\n    \t}else if(m.getName().isEmpty()){\r\n    \t\tSystem.out.println(&quot;m.getName() is empty&quot;);\r\n    \t}\r\n    \r\n    \tModelMapper mapper = ModelMap.methodMapper();\r\n    \treturn mapper.map(m, MethodDTO.class);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1869846/ruchira-gayan-ranaweera","title":"Check if Object has data or not?","body":"<p>I am calling method to get data as per passed text that will ping into database.</p>\n\n<p>So I want to check if there is data arrived in object or not.</p>\n\n<p>Code :</p>\n\n<pre><code>Method m = service.getMethodDataByFilter(text);\n</code></pre>\n\n<p>I have tried :</p>\n\n<pre><code>if(m == null){\n    System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>but it does not entering inside it.</p>\n\n<p>I have also tried :</p>\n\n<pre><code>if(m.getName().isEmpty()){\n    System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>then it throws <code>NPE</code> in condition because no data received.</p>\n\n<p>So how to check if there is data inside object or not ?</p>\n\n<p>Method Class :</p>\n\n<pre><code>public class Method {\n    private Integer id;\n    private String name;\n    // getter-setter\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Have just try <a href=\"https://stackoverflow.com/users/1869846/ruchira-gayan-ranaweera\">Ruchira</a>    </p>\n\n<pre><code>    if(m== null){\n        System.out.println(\"m is null\");\n    }else if(m.getName()==null){\n        System.out.println(\"m.getName() is null\");\n    }else if(m.getName().isEmpty()){\n        System.out.println(\"m.getName() is empty\");\n    }\n</code></pre>\n\n<p>Still throws same <code>NPE</code>.</p>\n\n<p><strong>FULL Method Code :</strong></p>\n\n<pre><code>public MethodDTO getMethod(String text){\n    Method m = service.getMethod(text);\n\n    if(m == null){\n        System.out.println(\"m is null\");\n    }else if(m.getName()==null){\n        System.out.println(\"m.getName() is null\");\n    }else if(m.getName().isEmpty()){\n        System.out.println(\"m.getName() is empty\");\n    }\n\n    ModelMapper mapper = ModelMap.methodMapper();\n    return mapper.map(m, MethodDTO.class);\n}\n</code></pre>\n"},{"tags":["java","cookies"],"answers":[{"comments":[{"owner":{"account_id":3969683,"reputation":21,"user_id":3274585,"accept_rate":0,"display_name":"user3274585"},"score":0,"creation_date":1410296849,"post_id":25753301,"comment_id":40270917,"body_markdown":"I didn&#39;t get it. Could you explain to me what I need to add to my code, as this is a first time for me to write a cookie code.","body":"I didn&#39;t get it. Could you explain to me what I need to add to my code, as this is a first time for me to write a cookie code."}],"tags":[],"owner":{"account_id":4791546,"reputation":27,"user_id":3870599,"display_name":"Prozak123"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410295602,"creation_date":1410295602,"answer_id":25753301,"question_id":25753217,"body_markdown":"Part of My servlet, how i set cookie.\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tPrintWriter out = response.getWriter();\r\n    \tString ksywa = request.getParameter(&quot;ksywa&quot;);\r\n    \tout.print(&quot;Twoje nazwisko to &quot; + ksywa);\r\n    \tCookie cookie = new Cookie(&quot;pseudonim&quot;, ksywa);\r\n    \tcookie.setMaxAge(60*60);\r\n    \tresponse.addCookie(cookie);\r\n    }","title":"How to set Cookies in Java?","body":"<p>Part of My servlet, how i set cookie.</p>\n\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    PrintWriter out = response.getWriter();\n    String ksywa = request.getParameter(\"ksywa\");\n    out.print(\"Twoje nazwisko to \" + ksywa);\n    Cookie cookie = new Cookie(\"pseudonim\", ksywa);\n    cookie.setMaxAge(60*60);\n    response.addCookie(cookie);\n}\n</code></pre>\n"}],"owner":{"account_id":3969683,"reputation":21,"user_id":3274585,"accept_rate":0,"display_name":"user3274585"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694480926,"creation_date":1410295175,"question_id":25753217,"body_markdown":"I am writing a program to login to my University web site as a part of my project. The problem I have is how to set Cookies and let my browser enable these cookies, my code is below and gives me NullPoiterException, what I did wrong can someone help me:\r\n\r\n        for (String cookie : this.cookies) {\r\n            conn.addRequestProperty(&quot;Cookie&quot;, cookie.split(&quot;;&quot;, 1)[0]);\r\n        }","title":"How to set Cookies in Java?","body":"<p>I am writing a program to login to my University web site as a part of my project. The problem I have is how to set Cookies and let my browser enable these cookies, my code is below and gives me NullPoiterException, what I did wrong can someone help me:</p>\n\n<pre><code>    for (String cookie : this.cookies) {\n        conn.addRequestProperty(\"Cookie\", cookie.split(\";\", 1)[0]);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","androidx","dagger"],"answers":[{"comments":[{"owner":{"account_id":3982148,"reputation":389,"user_id":3283808,"display_name":"Elano Vasconcelos"},"score":0,"creation_date":1694535347,"post_id":77085541,"comment_id":135902652,"body_markdown":"could you give an example of &quot;// Inject your dependencies here&quot; ? I don&#39;t understand how to pass the arguments to HomeViewModelFactory","body":"could you give an example of &quot;// Inject your dependencies here&quot; ? I don&#39;t understand how to pass the arguments to HomeViewModelFactory"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1694926616,"post_id":77085541,"comment_id":135954373,"body_markdown":"Your class would need a &quot;constructor that takes the dependencies variables&quot; as arguments to &quot;inject the values&quot;. Put the constructor in and the properties that are the arguments for the global&#39;s that will have the values injected!","body":"Your class would need a &quot;constructor that takes the dependencies variables&quot; as arguments to &quot;inject the values&quot;. Put the constructor in and the properties that are the arguments for the global&#39;s that will have the values injected!"}],"tags":[],"owner":{"account_id":17832790,"reputation":33,"user_id":12952421,"display_name":"Kariem Seiam"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694480883,"creation_date":1694480883,"answer_id":77085541,"question_id":77069333,"body_markdown":"To fix the &quot;Class has no zero argument constructor&quot; error in your Android project, here&#39;s a simplified and recommended solution :\r\n\r\n1. Create a custom ViewModel Factory for `HomeViewModel` that can handle dependency injection.\r\n\r\n```kotlin\r\nclass HomeViewModelFactory @Inject constructor(\r\n    // Inject your dependencies here\r\n) : ViewModelProvider.Factory {\r\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\r\n        if (modelClass.isAssignableFrom(HomeViewModel::class.java)) {\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return HomeViewModel(\r\n                // Pass the injected dependencies here\r\n            ) as T\r\n        }\r\n        throw IllegalArgumentException(&quot;Unknown ViewModel class&quot;)\r\n    }\r\n}\r\n```\r\n\r\n2. Ensure you have a Dagger module set up to provide the dependencies required by `HomeViewModel` and `HomeViewModelFactory`.\r\n\r\n```kotlin\r\n@Module\r\nclass AppModule {\r\n    // Provide your dependencies here\r\n}\r\n```\r\n\r\n3. Update your `HomescreenFragment` to use the ViewModel with the custom factory for proper dependency injection.\r\n\r\n```kotlin\r\nclass HomescreenFragment : BaseMvRxFragment() {\r\n\r\n    @Inject\r\n    lateinit var viewModelFactory: HomeViewModelFactory\r\n\r\n    private val parentViewModel: HomeViewModel by viewModels { viewModelFactory }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nBy following these steps, your app should no longer crash, and you&#39;ll be able to use `parentViewModel` with its dependencies correctly injected. Ensure that your Dagger setup is providing the dependencies as required.","title":"Crash when the screen needs to be recreated, possible problem with dependency injection (Class has no zero argument constructor)","body":"<p>To fix the &quot;Class has no zero argument constructor&quot; error in your Android project, here's a simplified and recommended solution :</p>\n<ol>\n<li>Create a custom ViewModel Factory for <code>HomeViewModel</code> that can handle dependency injection.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class HomeViewModelFactory @Inject constructor(\n    // Inject your dependencies here\n) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n        if (modelClass.isAssignableFrom(HomeViewModel::class.java)) {\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\n            return HomeViewModel(\n                // Pass the injected dependencies here\n            ) as T\n        }\n        throw IllegalArgumentException(&quot;Unknown ViewModel class&quot;)\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Ensure you have a Dagger module set up to provide the dependencies required by <code>HomeViewModel</code> and <code>HomeViewModelFactory</code>.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Module\nclass AppModule {\n    // Provide your dependencies here\n}\n</code></pre>\n<ol start=\"3\">\n<li>Update your <code>HomescreenFragment</code> to use the ViewModel with the custom factory for proper dependency injection.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class HomescreenFragment : BaseMvRxFragment() {\n\n    @Inject\n    lateinit var viewModelFactory: HomeViewModelFactory\n\n    private val parentViewModel: HomeViewModel by viewModels { viewModelFactory }\n\n    // ...\n}\n</code></pre>\n<p>By following these steps, your app should no longer crash, and you'll be able to use <code>parentViewModel</code> with its dependencies correctly injected. Ensure that your Dagger setup is providing the dependencies as required.</p>\n"}],"owner":{"account_id":3982148,"reputation":389,"user_id":3283808,"display_name":"Elano Vasconcelos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694480883,"creation_date":1694200065,"question_id":77069333,"body_markdown":"I&#39;m working on an old Android project. I know a little about Android, but my focus is iOS. So maybe I&#39;m missing something simple here.\r\n\r\nProblem:\r\nThe Home screen is working, but when it needs to be recreated the app crashes. Today I&#39;m triggering it going on settings and changing the location permission.\r\n\r\n**Error**:\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.x.activities, PID: 16127\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.x.activities/com.x.ui.home.HomeActivity}: android.view.InflateException: Binary XML file line #23 in com.xxx.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\r\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\r\n                                                                                                    Caused by: java.lang.RuntimeException: Cannot create an instance of class com.x.ui.home.HomeViewModel\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:204)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:322)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)\r\n                                                                                                    \tat androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\r\n                                                                                                    \tat com.x.ui.homescreen.HomescreenFragment.getParentViewModel(HomescreenFragment.kt:47)\r\n                                                                                                    \tat com.x.ui.homescreen.HomescreenFragment.observeParentViewModel(HomescreenFragment.kt:130)\r\n                                                                                                    \tat com.x.ui.homescreen.HomescreenFragment.onViewCreated(HomescreenFragment.kt:96)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\r\n2023-09-08 14:54:08.143 16127-16127 AndroidRuntime          com.x.activities              E  \tat androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:394)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:260)\r\n                                                                                                    \tat androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)\r\n                                                                                                    \tat androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:136)\r\n                                                                                                    \tat androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:248)\r\n                                                                                                    \tat androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:227)\r\n                                                                                                    \tat android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1081)\r\n                                                                                                    \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1009)\r\n                                                                                                    \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:973)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1135)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1138)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\r\n                                                                                                    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:694)\r\n                                                                                                    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n                                                                                                    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:485)\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n                                                                                                    \tat com.x.ui.home.HomeActivity.onCreate(HomeActivity.kt:133)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8595)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8573)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.x.ui.home.HomeViewModel&gt; has no zero argument constructor\r\n                                                                                                    \tat java.lang.Class.newInstance(Native Method)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:202)\r\n                                                                                                    \t... 61 more\r\n```\r\n\r\n**HomescreenFragment**\r\n\r\n```\r\nclass HomescreenFragment : BaseMvRxFragment() {\r\n\r\nprivate val parentViewModel by homeViewModel() //line 47\r\n\r\n  @Inject\r\n  internal lateinit var viewModelFactory: HomescreenViewModel.Factory\r\n  private val viewModel: HomescreenViewModel by fragmentViewModel()\r\n\r\n  private val homescreenActionsController by lazy { HomescreenActionsController(requireActivity()) }\r\n\r\n  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n//...\r\n        observeParentViewModel() //line 96\r\n//...\r\n  }\r\n\r\n  private fun observeParentViewModel() =\r\n        parentViewModel.permissionRequestResult.observeEvent(viewLifecycleOwner) { //line 130\r\n            homescreenActionsController.onPermissionResult(it)\r\n  }\r\n//...\r\n}\r\n```\r\n\r\n**HomeActivity**\r\n\r\n```\r\nclass HomeActivity : AppCompatActivity(), HomeCallbacks, UsingLocation {\r\n\r\n  @Inject\r\n  lateinit var viewModelFactory: ViewModelProvider.Factory\r\n\r\n  override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        NetComponent.instance.inject(this)\r\n        initDagger()\r\n        setContentView(R.layout.activity_homescreen) //line 133\r\n///...\r\n  }\r\n///...\r\n}\r\n```\r\n\r\n**HomeViewModel**\r\n\r\n```\r\nclass HomeViewModel @Inject constructor(\r\n    private val userInbox: UserInbox,\r\n    private val prefUserInfo: PrefUserInfo,\r\n    private val prefAppInfo: PrefAppInfo,\r\n    private val prefOrgInfo: PrefOrgInfo,\r\n    private val realmController: RealmController,\r\n    private val api: Api,\r\n    private val loginState: LoginState,\r\n    private val application: LiveSafeApplication,\r\n    private val initializers: AppInitializer\r\n) : ViewModel(), PushJsonConsumer {\r\n\r\n  init {\r\n        NetComponent.instance.inject(this)\r\n        ///...\r\n  }\r\n\r\n  companion object {\r\n        fun Fragment.homeViewModel() = activityViewModels&lt;HomeViewModel&gt;()\r\n  }\r\n}\r\n```\r\n\r\n**activity_homescreen.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/homescreen_wrapper&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:navGraph=&quot;@navigation/nav_main&quot; /&gt; //line 23\r\n    &lt;/FrameLayout&gt;\r\n\r\n///...\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nOne suggestion that I found was to replace:\r\n\r\n`private val parentViewModel by homeViewModel()`\r\n\r\nwith\r\n\r\n```\r\n@Inject\r\nlateinit var viewModelFactory2: ViewModelProvider.Factory\r\n\r\nprivate val parentViewModel: HomeViewModel by viewModels { viewModelFactory2 }\r\n```\r\n\r\nif I do that the app won&#39;t crash anymore, but the code in the function observeParentViewModel isn&#39;t called, so I think I&#39;m getting a different instance.\r\n\r\n`parentViewModel` is only called in `observeParentViewModel` function, so I could use a different strategy if I still could call homescreenActionsController.onPermissionResult\r\n\r\nOther suggestion was to create a custom factory to be able to have a `HomeViewModel` with no arguments, but I didn&#39;t understand how I&#39;m going to pass the arguments to be able to create a `HomeViewModel`\r\n\r\nThe project isn&#39;t using Hilt, only Dagger.","title":"Crash when the screen needs to be recreated, possible problem with dependency injection (Class has no zero argument constructor)","body":"<p>I'm working on an old Android project. I know a little about Android, but my focus is iOS. So maybe I'm missing something simple here.</p>\n<p>Problem:\nThe Home screen is working, but when it needs to be recreated the app crashes. Today I'm triggering it going on settings and changing the location permission.</p>\n<p><strong>Error</strong>:</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.x.activities, PID: 16127\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.x.activities/com.x.ui.home.HomeActivity}: android.view.InflateException: Binary XML file line #23 in com.xxx.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\n                                                                                                    Caused by: java.lang.RuntimeException: Cannot create an instance of class com.x.ui.home.HomeViewModel\n                                                                                                        at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:204)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:322)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)\n                                                                                                        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)\n                                                                                                        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n                                                                                                        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n                                                                                                        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\n                                                                                                        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\n                                                                                                        at com.x.ui.homescreen.HomescreenFragment.getParentViewModel(HomescreenFragment.kt:47)\n                                                                                                        at com.x.ui.homescreen.HomescreenFragment.observeParentViewModel(HomescreenFragment.kt:130)\n                                                                                                        at com.x.ui.homescreen.HomescreenFragment.onViewCreated(HomescreenFragment.kt:96)\n                                                                                                        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n                                                                                                        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\n                                                                                                        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\n                                                                                                        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\n                                                                                                        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\n                                                                                                        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n                                                                                                        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\n                                                                                                        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\n                                                                                                        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\n2023-09-08 14:54:08.143 16127-16127 AndroidRuntime          com.x.activities              E     at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\n                                                                                                        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:394)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:260)\n                                                                                                        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)\n                                                                                                        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:136)\n                                                                                                        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:248)\n                                                                                                        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:227)\n                                                                                                        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1081)\n                                                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1009)\n                                                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:973)\n                                                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1135)\n                                                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\n                                                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1138)\n                                                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\n                                                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:694)\n                                                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n                                                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:485)\n                                                                                                        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\n                                                                                                        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n                                                                                                        at com.x.ui.home.HomeActivity.onCreate(HomeActivity.kt:133)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8595)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8573)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n                                                                                                    Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.x.ui.home.HomeViewModel&gt; has no zero argument constructor\n                                                                                                        at java.lang.Class.newInstance(Native Method)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:202)\n                                                                                                        ... 61 more\n</code></pre>\n<p><strong>HomescreenFragment</strong></p>\n<pre><code>class HomescreenFragment : BaseMvRxFragment() {\n\nprivate val parentViewModel by homeViewModel() //line 47\n\n  @Inject\n  internal lateinit var viewModelFactory: HomescreenViewModel.Factory\n  private val viewModel: HomescreenViewModel by fragmentViewModel()\n\n  private val homescreenActionsController by lazy { HomescreenActionsController(requireActivity()) }\n\n  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n//...\n        observeParentViewModel() //line 96\n//...\n  }\n\n  private fun observeParentViewModel() =\n        parentViewModel.permissionRequestResult.observeEvent(viewLifecycleOwner) { //line 130\n            homescreenActionsController.onPermissionResult(it)\n  }\n//...\n}\n</code></pre>\n<p><strong>HomeActivity</strong></p>\n<pre><code>class HomeActivity : AppCompatActivity(), HomeCallbacks, UsingLocation {\n\n  @Inject\n  lateinit var viewModelFactory: ViewModelProvider.Factory\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        NetComponent.instance.inject(this)\n        initDagger()\n        setContentView(R.layout.activity_homescreen) //line 133\n///...\n  }\n///...\n}\n</code></pre>\n<p><strong>HomeViewModel</strong></p>\n<pre><code>class HomeViewModel @Inject constructor(\n    private val userInbox: UserInbox,\n    private val prefUserInfo: PrefUserInfo,\n    private val prefAppInfo: PrefAppInfo,\n    private val prefOrgInfo: PrefOrgInfo,\n    private val realmController: RealmController,\n    private val api: Api,\n    private val loginState: LoginState,\n    private val application: LiveSafeApplication,\n    private val initializers: AppInitializer\n) : ViewModel(), PushJsonConsumer {\n\n  init {\n        NetComponent.instance.inject(this)\n        ///...\n  }\n\n  companion object {\n        fun Fragment.homeViewModel() = activityViewModels&lt;HomeViewModel&gt;()\n  }\n}\n</code></pre>\n<p><strong>activity_homescreen.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/homescreen_wrapper&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;fragment\n            android:id=&quot;@+id/nav_host_fragment&quot;\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:defaultNavHost=&quot;true&quot;\n            app:navGraph=&quot;@navigation/nav_main&quot; /&gt; //line 23\n    &lt;/FrameLayout&gt;\n\n///...\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>One suggestion that I found was to replace:</p>\n<p><code>private val parentViewModel by homeViewModel()</code></p>\n<p>with</p>\n<pre><code>@Inject\nlateinit var viewModelFactory2: ViewModelProvider.Factory\n\nprivate val parentViewModel: HomeViewModel by viewModels { viewModelFactory2 }\n</code></pre>\n<p>if I do that the app won't crash anymore, but the code in the function observeParentViewModel isn't called, so I think I'm getting a different instance.</p>\n<p><code>parentViewModel</code> is only called in <code>observeParentViewModel</code> function, so I could use a different strategy if I still could call homescreenActionsController.onPermissionResult</p>\n<p>Other suggestion was to create a custom factory to be able to have a <code>HomeViewModel</code> with no arguments, but I didn't understand how I'm going to pass the arguments to be able to create a <code>HomeViewModel</code></p>\n<p>The project isn't using Hilt, only Dagger.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694442688,"post_id":77082505,"comment_id":135887963,"body_markdown":"Have a duplicate `Set` of all the numbers. Upon each hit of square or square root, remove those numbers from that global set.  After the outer loop is over, the remaining numbers are not hit by anything - that&#39;s your 2nd output.","body":"Have a duplicate <code>Set</code> of all the numbers. Upon each hit of square or square root, remove those numbers from that global set.  After the outer loop is over, the remaining numbers are not hit by anything - that&#39;s your 2nd output."}],"answers":[{"tags":[],"owner":{"account_id":21004357,"reputation":13,"user_id":15434502,"display_name":"Aditya Shastri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694444387,"creation_date":1694444257,"answer_id":77082746,"question_id":77082505,"body_markdown":"So I found the solution with below code, I created One ArrayList to store the Element has squareroot and square relation and then compare it with Existing Array.\r\n\r\nbelow is the code snippet \r\n```\r\npublic class Demo {\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n        int [] sample = {9, 4 ,3 ,2, 6 , 1};\r\n        ArrayList&lt;Integer&gt; newarr = new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (int i =0 ;i &lt;sample.length ; i++){\r\n\r\n            int square = sample [i] * sample[i];\r\n\r\n            for ( int j= 0; j&lt; sample.length ; j ++){\r\n\r\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\r\n\r\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\r\n\r\n                    newarr.add(sample[i]);\r\n                    newarr.add(square);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(&quot;Unpaired : &quot;);\r\n        for (int i =0 ;i &lt;sample.length ; i++) {\r\n            if (!newarr.contains(sample[i])) {\r\n\r\n                System.out.print(sample[i] + &quot; , &quot;);\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```","title":"Java Programing | How can we print below output from given input","body":"<p>So I found the solution with below code, I created One ArrayList to store the Element has squareroot and square relation and then compare it with Existing Array.</p>\n<p>below is the code snippet</p>\n<pre><code>public class Demo {\n\n\n    public static void main(String[] args){\n\n        int [] sample = {9, 4 ,3 ,2, 6 , 1};\n        ArrayList&lt;Integer&gt; newarr = new ArrayList&lt;&gt;();\n\n\n        for (int i =0 ;i &lt;sample.length ; i++){\n\n            int square = sample [i] * sample[i];\n\n            for ( int j= 0; j&lt; sample.length ; j ++){\n\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\n\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\n\n                    newarr.add(sample[i]);\n                    newarr.add(square);\n                }\n\n            }\n\n        }\n\n        System.out.println(&quot;Unpaired : &quot;);\n        for (int i =0 ;i &lt;sample.length ; i++) {\n            if (!newarr.contains(sample[i])) {\n\n                System.out.print(sample[i] + &quot; , &quot;);\n            }\n\n        }\n\n\n\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694480496,"creation_date":1694478301,"answer_id":77085446,"question_id":77082505,"body_markdown":"For the _inner-loop_, skip _j_ when it&#39;s _i_.\r\n\r\n```java\r\nfor ( int j= 0; j&lt; sample.length ; j ++){\r\n    if (i == j) continue;\r\n```\r\n\r\nAnd, check for _mathsq_ instead of _sample [i]_.\r\n\r\n```java\r\nif (sample[j] == square || sample[j] == mathsq)\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n9==&gt; 3\r\n4==&gt; 2\r\n3==&gt; 9\r\n2==&gt; 4\r\n```\r\n\r\nIf you additionally want to print the unpaired numbers, use a _boolean_.\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\nint [] sample = {9, 4 ,3 ,2, 6 , 1};\r\nboolean x;\r\nfor (int i =0 ;i &lt;sample.length ; i++){\r\n\r\n    int square = sample [i] * sample[i];\r\n    double mathsq = Math.sqrt(sample[i]);\r\n    x = false;\r\n    for ( int j= 0; j&lt; sample.length ; j ++){\r\n        if (i == j) continue;\r\n\r\n        if (sample[j] == square || sample[j] == mathsq) {\r\n            System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\r\n            x = true;\r\n        }\r\n\r\n    }\r\n    if (!x) System.out.println(sample[i] + &quot; unpaired&quot;);\r\n\r\n}\r\n```","title":"Java Programing | How can we print below output from given input","body":"<p>For the <em>inner-loop</em>, skip <em>j</em> when it's <em>i</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( int j= 0; j&lt; sample.length ; j ++){\n    if (i == j) continue;\n</code></pre>\n<p>And, check for <em>mathsq</em> instead of <em>sample [i]</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (sample[j] == square || sample[j] == mathsq)\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>9==&gt; 3\n4==&gt; 2\n3==&gt; 9\n2==&gt; 4\n</code></pre>\n<p>If you additionally want to print the unpaired numbers, use a <em>boolean</em>.</p>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] sample = {9, 4 ,3 ,2, 6 , 1};\nboolean x;\nfor (int i =0 ;i &lt;sample.length ; i++){\n\n    int square = sample [i] * sample[i];\n    double mathsq = Math.sqrt(sample[i]);\n    x = false;\n    for ( int j= 0; j&lt; sample.length ; j ++){\n        if (i == j) continue;\n\n        if (sample[j] == square || sample[j] == mathsq) {\n            System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\n            x = true;\n        }\n\n    }\n    if (!x) System.out.println(sample[i] + &quot; unpaired&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":21004357,"reputation":13,"user_id":15434502,"display_name":"Aditya Shastri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1694480496,"creation_date":1694442390,"question_id":77082505,"body_markdown":"```\r\nInput = \r\nArray [] a = {1,2,3,6,9,4};\r\n\r\noutput: \r\nOutput 1  : need to print pair of number with square and squareroot\r\ne.g. 2 , 4\r\n     3 , 9\r\n\r\nOutput 2 : unpaired number : 1 and 6 for which we dont have any square root pair.\r\n```\r\n\r\n\r\nI am wirting below code to get output for the first part :\r\n```\r\nint [] sample = {9, 4 ,3 ,2, 6 , 1};\r\n\r\n        for (int i =0 ;i &lt;sample.length ; i++){\r\n\r\n            int square = sample [i] * sample[i];\r\n            double mathsq = Math.sqrt(sample[i]);\r\n\r\n            for ( int j= 0; j&lt; sample.length ; j ++){\r\n\r\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\r\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\r\n\r\n                }\r\n                \r\n            }\r\n\r\n\r\n        }\r\n```\r\n\r\nunable to find login for second scenario..","title":"Java Programing | How can we print below output from given input","body":"<pre><code>Input = \nArray [] a = {1,2,3,6,9,4};\n\noutput: \nOutput 1  : need to print pair of number with square and squareroot\ne.g. 2 , 4\n     3 , 9\n\nOutput 2 : unpaired number : 1 and 6 for which we dont have any square root pair.\n</code></pre>\n<p>I am wirting below code to get output for the first part :</p>\n<pre><code>int [] sample = {9, 4 ,3 ,2, 6 , 1};\n\n        for (int i =0 ;i &lt;sample.length ; i++){\n\n            int square = sample [i] * sample[i];\n            double mathsq = Math.sqrt(sample[i]);\n\n            for ( int j= 0; j&lt; sample.length ; j ++){\n\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\n\n                }\n                \n            }\n\n\n        }\n</code></pre>\n<p>unable to find login for second scenario..</p>\n"},{"tags":["java","multithreading","locking","mutex"],"comments":[{"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"score":0,"creation_date":1694476660,"post_id":77085128,"comment_id":135893117,"body_markdown":"@SolomonSlow I tried a lot of things (listed above) would it be more useful to give code snippets of each attempt? Ie I have put variations of `synchronized(lock)` in many places but none changed outcome","body":"@SolomonSlow I tried a lot of things (listed above) would it be more useful to give code snippets of each attempt? Ie I have put variations of <code>synchronized(lock)</code> in many places but none changed outcome"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1694477272,"post_id":77085128,"comment_id":135893173,"body_markdown":"Deleted my previous comments.","body":"Deleted my previous comments."}],"answers":[{"comments":[{"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"score":0,"creation_date":1694477040,"post_id":77085255,"comment_id":135893150,"body_markdown":"switching it to `static` in `ByteIterator` or even Solomon&#39;s suggestion of `private static final Object lock=new Object()` doesn&#39;t change the outcome, neither does just updating `getByte()` to be `synchronized`","body":"switching it to <code>static</code> in <code>ByteIterator</code> or even Solomon&#39;s suggestion of <code>private static final Object lock=new Object()</code> doesn&#39;t change the outcome, neither does just updating <code>getByte()</code> to be <code>synchronized</code>"},{"owner":{"account_id":29418215,"reputation":53,"user_id":22540550,"display_name":"Mike"},"score":0,"creation_date":1694482125,"post_id":77085255,"comment_id":135893472,"body_markdown":"In addition to what @rzwitserloot said, you&#39;re also printing outside of the synchronization, and forgetting that threads may be scheduled arbitrarily. I added a thread ID to your printout statement and that explains all &quot;out of order&quot; outputs.","body":"In addition to what @rzwitserloot said, you&#39;re also printing outside of the synchronization, and forgetting that threads may be scheduled arbitrarily. I added a thread ID to your printout statement and that explains all &quot;out of order&quot; outputs."},{"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"score":0,"creation_date":1694483588,"post_id":77085255,"comment_id":135893584,"body_markdown":"I had a thread ID previously, but I count the duplicates with a shell script, and it was easier to remove ID than to regex out the ID. In usual practice, I don&#39;t print the values, and am aware that order isn&#39;t consistent","body":"I had a thread ID previously, but I count the duplicates with a shell script, and it was easier to remove ID than to regex out the ID. In usual practice, I don&#39;t print the values, and am aware that order isn&#39;t consistent"}],"tags":[],"owner":{"account_id":29418215,"reputation":53,"user_id":22540550,"display_name":"Mike"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694474345,"creation_date":1694474345,"answer_id":77085255,"question_id":77085128,"body_markdown":"As posted, the `lockingObject` is an instance variable of `ByteIterator`, so of course every thread has its own copy and no two threads share the same lock.\r\n\r\nUse `synchronized static` which has a lock object per-class instead of per-instance:\r\n\r\n```java\r\npublic synchronized static Byte[] getByte() {\r\n    // ...\r\n}\r\n```","title":"How to mutex on a static function (in Java)?","body":"<p>As posted, the <code>lockingObject</code> is an instance variable of <code>ByteIterator</code>, so of course every thread has its own copy and no two threads share the same lock.</p>\n<p>Use <code>synchronized static</code> which has a lock object per-class instead of per-instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public synchronized static Byte[] getByte() {\n    // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"score":0,"creation_date":1694483432,"post_id":77085515,"comment_id":135893569,"body_markdown":"For the `Byte[]` vs `byte[]` discussion, i call `Arrays.stream(nextByte)` inside some of the code i removed from `getByte()` which according to [the docs](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html) has to be `Byte[]`\nI also use the `ByteIterator` obj to normally put the returned value into a list, which doesn&#39;t support primitive types, would you still use `byte[]`?","body":"For the <code>Byte[]</code> vs <code>byte[]</code> discussion, i call <code>Arrays.stream(nextByte)</code> inside some of the code i removed from <code>getByte()</code> which according to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">the docs</a> has to be <code>Byte[]</code> I also use the <code>ByteIterator</code> obj to normally put the returned value into a list, which doesn&#39;t support primitive types, would you still use <code>byte[]</code>?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694485931,"post_id":77085515,"comment_id":135893742,"body_markdown":"Yes, use `byte[]` - convert byte to Byte when storing in a list (if those lists are somewhat large, you don&#39;t wanna do that, a `List&lt;Byte&gt;` is about 32 times less efficient than a `byte[]`, it adds up fast), and don&#39;t stream byte arrays like that.","body":"Yes, use <code>byte[]</code> - convert byte to Byte when storing in a list (if those lists are somewhat large, you don&#39;t wanna do that, a <code>List&lt;Byte&gt;</code> is about 32 times less efficient than a <code>byte[]</code>, it adds up fast), and don&#39;t stream byte arrays like that."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694480147,"creation_date":1694480147,"answer_id":77085515,"question_id":77085128,"body_markdown":"You&#39;re making all sorts of mistakes. No single fix makes it work because you have multiple errors; you need to fix _all of them_.\r\n\r\n## Locking on public things\r\n\r\nDon&#39;t do that. Locks are incredibly hard to reason about as is, if you make the lock object &#39;public&#39;, as in, tons of code all over the system might hold a ref to that object, you&#39;re making it from &#39;difficult&#39; to &#39;utterly impossible&#39;. Locking on a string is therefore __a capital mistake__, do not, ever, do that.\r\n\r\nMake your own lock objects. And make sure they are private. And make sure that everything that needs to lock on it, locks on _the same object_. In some iterations of this question (you&#39;ve been editing it), you had a non-static field, meaning each `lockingObject` field in every instance of `ByteIterator` was pointing at a different object. `synchronized(x)` does __nothing__ except interact with other `synchronized(z)` statements, where `z` and `x` are pointing at the same object (`z == x` would be true).\r\n\r\n## Locks aren&#39;t applied consistently\r\n\r\nYour first call in ByteIterator&#39;s run is `getByte()`, which isn&#39;t in any synchronized block. Only the while loop that follows does this.\r\n\r\n## Locks are applied in the wrong place\r\n\r\nClearly the locking behaviour should occur in `getByte()`. Not in your ByteIterator run() method.\r\n\r\n## Primitive v reference types\r\n\r\n`Byte` is the wrapper type. You don&#39;t want that unless you really, really know what you are doing. You write `byte[]`. No, `Byte` and `byte` are not synonyms. `Byte` bad, `byte` good (later on in your java career you might learn when `Byte` is actually desired. It isn&#39;t, here).\r\n\r\n## Reference confusion\r\n\r\nCount the amount of `new` that will be executed in your code. That many objects exist. __And not a single one more__.\r\n\r\nSo let&#39;s go counting. You make a bunch of new ByteIterator objects, (1 per `threadCount`), as well as threads, but that&#39;s not what we are interested in. We&#39;re interested in `Byte[]` objects.\r\n\r\nYour JobQueue class has a static `initJobQueue` method. This method is invoked __only once__. This method executes some form of `new Byte[]` __only once__.\r\n\r\nEnd of count.\r\n\r\nThat means __there is only 1 Byte array FOR YOUR ENTIRE APPLICATION__.\r\n\r\nAll threads are sharing that byte array. Every write you make? It&#39;s all going to the same memory position. Every thread is jus writing all over each others business and the end result is a coinflippy mess (in the sense that every run will get you likely different results, the way threads interact is usually highly irregular, i.e. not repeatable).\r\n\r\n## Lets fix all 5 errors then\r\n\r\nGet every attempt to lock in any form out of your main class and `ByteIterator`.\r\n\r\nThen:\r\n\r\n```\r\npublic class JobQueue {\r\n    private static volatile byte[] nextByte; \r\n    private static final byte realMin = 0; // fixed values for debuging\r\n    private static final byte realMax = (byte) 89; \r\n    private static final Object lock = new Object(); // private!\r\n\r\n    public static void initJobQueue() {\r\n        nextByte = new Byte[ByteIterator.fleet.length];\r\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\r\n    }\r\n\r\n    public static Byte[] getByte() {\r\n      synchronized (lock) {\r\n        if(nextByte==null || checkEndVal(nextByte)) return null;\r\n\r\n//         Byte[] currentByte = nextByte; -- THIS DOES NOT MAKE A COPY --\r\n        byte[] currentByte = Arrays.copyOf(nextByte);\r\n    \r\n        // iterate the value\r\n        for (int i = 0; i &lt; nextByte.length; i++) {\r\n            if (currentByte[i]==realMax) {\r\n                currentByte[i]=realMin;\r\n            } else { \r\n                currentByte[i]++;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(checkEndVal(currentByte)) nextByte=null;\r\n        nextByte = currentByte;\r\n        return currentByte;\r\n    }\r\n```\r\n\r\nThe crucial clue is `Arrays.copyOf`. As per the javadoc, that __makes a new array__. The first call to `getByte()` will dutifully run synchronized (one-at-a-time) and returns a byte array back to its caller. Your code will then, while the first thread is still working on its byte array, call `getByte()` again which would write all over that one single byte array, causing a mess. This code does not do that - instead it makes a clone (`Arrays.copyOf` runs `new byte[]` somewhere inside it, so, that&#39;s +1), and then modifies that clone, and then returns that clone.\r\n\r\nEvery byte array that is returned by `getByte()` is __never modified__ by anything except, possibly, the code you gave it to.\r\n","title":"How to mutex on a static function (in Java)?","body":"<p>You're making all sorts of mistakes. No single fix makes it work because you have multiple errors; you need to fix <em>all of them</em>.</p>\n<h2>Locking on public things</h2>\n<p>Don't do that. Locks are incredibly hard to reason about as is, if you make the lock object 'public', as in, tons of code all over the system might hold a ref to that object, you're making it from 'difficult' to 'utterly impossible'. Locking on a string is therefore <strong>a capital mistake</strong>, do not, ever, do that.</p>\n<p>Make your own lock objects. And make sure they are private. And make sure that everything that needs to lock on it, locks on <em>the same object</em>. In some iterations of this question (you've been editing it), you had a non-static field, meaning each <code>lockingObject</code> field in every instance of <code>ByteIterator</code> was pointing at a different object. <code>synchronized(x)</code> does <strong>nothing</strong> except interact with other <code>synchronized(z)</code> statements, where <code>z</code> and <code>x</code> are pointing at the same object (<code>z == x</code> would be true).</p>\n<h2>Locks aren't applied consistently</h2>\n<p>Your first call in ByteIterator's run is <code>getByte()</code>, which isn't in any synchronized block. Only the while loop that follows does this.</p>\n<h2>Locks are applied in the wrong place</h2>\n<p>Clearly the locking behaviour should occur in <code>getByte()</code>. Not in your ByteIterator run() method.</p>\n<h2>Primitive v reference types</h2>\n<p><code>Byte</code> is the wrapper type. You don't want that unless you really, really know what you are doing. You write <code>byte[]</code>. No, <code>Byte</code> and <code>byte</code> are not synonyms. <code>Byte</code> bad, <code>byte</code> good (later on in your java career you might learn when <code>Byte</code> is actually desired. It isn't, here).</p>\n<h2>Reference confusion</h2>\n<p>Count the amount of <code>new</code> that will be executed in your code. That many objects exist. <strong>And not a single one more</strong>.</p>\n<p>So let's go counting. You make a bunch of new ByteIterator objects, (1 per <code>threadCount</code>), as well as threads, but that's not what we are interested in. We're interested in <code>Byte[]</code> objects.</p>\n<p>Your JobQueue class has a static <code>initJobQueue</code> method. This method is invoked <strong>only once</strong>. This method executes some form of <code>new Byte[]</code> <strong>only once</strong>.</p>\n<p>End of count.</p>\n<p>That means <strong>there is only 1 Byte array FOR YOUR ENTIRE APPLICATION</strong>.</p>\n<p>All threads are sharing that byte array. Every write you make? It's all going to the same memory position. Every thread is jus writing all over each others business and the end result is a coinflippy mess (in the sense that every run will get you likely different results, the way threads interact is usually highly irregular, i.e. not repeatable).</p>\n<h2>Lets fix all 5 errors then</h2>\n<p>Get every attempt to lock in any form out of your main class and <code>ByteIterator</code>.</p>\n<p>Then:</p>\n<pre><code>public class JobQueue {\n    private static volatile byte[] nextByte; \n    private static final byte realMin = 0; // fixed values for debuging\n    private static final byte realMax = (byte) 89; \n    private static final Object lock = new Object(); // private!\n\n    public static void initJobQueue() {\n        nextByte = new Byte[ByteIterator.fleet.length];\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\n    }\n\n    public static Byte[] getByte() {\n      synchronized (lock) {\n        if(nextByte==null || checkEndVal(nextByte)) return null;\n\n//         Byte[] currentByte = nextByte; -- THIS DOES NOT MAKE A COPY --\n        byte[] currentByte = Arrays.copyOf(nextByte);\n    \n        // iterate the value\n        for (int i = 0; i &lt; nextByte.length; i++) {\n            if (currentByte[i]==realMax) {\n                currentByte[i]=realMin;\n            } else { \n                currentByte[i]++;\n                break;\n            }\n        }\n\n        if(checkEndVal(currentByte)) nextByte=null;\n        nextByte = currentByte;\n        return currentByte;\n    }\n</code></pre>\n<p>The crucial clue is <code>Arrays.copyOf</code>. As per the javadoc, that <strong>makes a new array</strong>. The first call to <code>getByte()</code> will dutifully run synchronized (one-at-a-time) and returns a byte array back to its caller. Your code will then, while the first thread is still working on its byte array, call <code>getByte()</code> again which would write all over that one single byte array, causing a mess. This code does not do that - instead it makes a clone (<code>Arrays.copyOf</code> runs <code>new byte[]</code> somewhere inside it, so, that's +1), and then modifies that clone, and then returns that clone.</p>\n<p>Every byte array that is returned by <code>getByte()</code> is <strong>never modified</strong> by anything except, possibly, the code you gave it to.</p>\n"}],"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085515,"answer_count":2,"score":0,"last_activity_date":1694480147,"creation_date":1694471965,"question_id":77085128,"body_markdown":"I&#39;ve been struggling with java mutexing for a while now, I&#39;m trying to have `ByteIterator` objects each print a new (and unique) `byte[]` they get from the `JobQueue`, but they continually print repeat values\r\n\r\nHow can i make sure only one thread enters the static method `JobQueue.getByte()` at a time?\r\n\r\nHeres what i&#39;ve tried:\r\n- Syncronised methods *and* syncronised statments (with various lock objs)\r\n  - on both the thread `ByteIterator` and the `JobQueue` static method\r\n- Reentrant locks on both\r\n- Single permit semaphore (on both)\r\n\r\n\r\n\r\nand the code in question (`getByte()`):\r\n```java\r\npublic class JobQueue{\r\n    private static volatile Byte[] nextByte; \r\n    private static final Byte realMin = 0; // fixed values for debuging\r\n    private static final Byte realMax = (byte) 89; \r\n\r\n    public static void initJobQueue(){\r\n        nextByte = new Byte[ByteIterator.fleet.length];\r\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\r\n    }\r\n\r\n    //FIXME: this is the error prone method! \r\n    // This section should only be accessed by one thread at a time\r\n    //  (ie none recive a duplicate byte)\r\n    public static Byte[] getByte(){\r\n        if(nextByte==null || checkEndVal(nextByte)) return null;\r\n\r\n        Byte[] currentByte = nextByte;\r\n    \r\n        // iterate the value\r\n        for (int i = 0; i &lt; nextByte.length; i++) {\r\n            if (nextByte[i]==realMax){\r\n                nextByte[i]=realMin;\r\n            } else{\r\n                nextByte[i]++;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(checkEndVal(nextByte)) nextByte=null;\r\n        return currentByte;\r\n    }\r\n```\r\n\r\nThe running code and thread obj\r\n```java\r\nimport java.util.Arrays;\r\npublic class ByteIterator implements Runnable{  \r\n     // ---- Game state settings (public and fixed for debugging) \r\n    public static final int[] fleet = {2,3};\r\n    public static final int BOARD_SIZE = 5;\r\n\r\n    public static final String lockingObject=&quot;test&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        int threadCount = 2;\r\n        JobQueue.initJobQueue(); // setup the jobQueue\r\n\r\n        // ---- Create the threads\r\n        Thread[] threadArray = new Thread[threadCount]; \r\n        for(int i=0; i&lt;threadCount; i++){\r\n            threadArray[i] = new Thread(new ByteIterator());\r\n            threadArray[i].start();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run(){ // prints each next byte array\r\n        Byte[] foo = JobQueue.getByte();\r\n\r\n        while(foo != null){\r\n            System.out.println(Arrays.toString(foo));\r\n            synchronized (lockingObject) {\r\n                foo = JobQueue.getByte();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to mutex on a static function (in Java)?","body":"<p>I've been struggling with java mutexing for a while now, I'm trying to have <code>ByteIterator</code> objects each print a new (and unique) <code>byte[]</code> they get from the <code>JobQueue</code>, but they continually print repeat values</p>\n<p>How can i make sure only one thread enters the static method <code>JobQueue.getByte()</code> at a time?</p>\n<p>Heres what i've tried:</p>\n<ul>\n<li>Syncronised methods <em>and</em> syncronised statments (with various lock objs)\n<ul>\n<li>on both the thread <code>ByteIterator</code> and the <code>JobQueue</code> static method</li>\n</ul>\n</li>\n<li>Reentrant locks on both</li>\n<li>Single permit semaphore (on both)</li>\n</ul>\n<p>and the code in question (<code>getByte()</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JobQueue{\n    private static volatile Byte[] nextByte; \n    private static final Byte realMin = 0; // fixed values for debuging\n    private static final Byte realMax = (byte) 89; \n\n    public static void initJobQueue(){\n        nextByte = new Byte[ByteIterator.fleet.length];\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\n    }\n\n    //FIXME: this is the error prone method! \n    // This section should only be accessed by one thread at a time\n    //  (ie none recive a duplicate byte)\n    public static Byte[] getByte(){\n        if(nextByte==null || checkEndVal(nextByte)) return null;\n\n        Byte[] currentByte = nextByte;\n    \n        // iterate the value\n        for (int i = 0; i &lt; nextByte.length; i++) {\n            if (nextByte[i]==realMax){\n                nextByte[i]=realMin;\n            } else{\n                nextByte[i]++;\n                break;\n            }\n        }\n\n        if(checkEndVal(nextByte)) nextByte=null;\n        return currentByte;\n    }\n</code></pre>\n<p>The running code and thread obj</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\npublic class ByteIterator implements Runnable{  \n     // ---- Game state settings (public and fixed for debugging) \n    public static final int[] fleet = {2,3};\n    public static final int BOARD_SIZE = 5;\n\n    public static final String lockingObject=&quot;test&quot;;\n\n    public static void main(String[] args) {\n        int threadCount = 2;\n        JobQueue.initJobQueue(); // setup the jobQueue\n\n        // ---- Create the threads\n        Thread[] threadArray = new Thread[threadCount]; \n        for(int i=0; i&lt;threadCount; i++){\n            threadArray[i] = new Thread(new ByteIterator());\n            threadArray[i].start();\n        }\n    }\n\n    @Override\n    public void run(){ // prints each next byte array\n        Byte[] foo = JobQueue.getByte();\n\n        while(foo != null){\n            System.out.println(Arrays.toString(foo));\n            synchronized (lockingObject) {\n                foo = JobQueue.getByte();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694479405,"creation_date":1694479405,"answer_id":77085489,"question_id":77085268,"body_markdown":"The JMS [`MessageConsumer`][1] doesn&#39;t have a `getQueue()` method or any equivalent. However, every JMS [`Message`][2] you receive will have a [`getJMSDestination()`][3] method which will return a [`Destination`][4] which represents where the message came from. Using this information you can deduce the destination to which the consumer is connected.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#getJMSDestination--\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html","title":"How to get a queue from a consumer in JMS?","body":"<p>The JMS <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html\" rel=\"nofollow noreferrer\"><code>MessageConsumer</code></a> doesn't have a <code>getQueue()</code> method or any equivalent. However, every JMS <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\" rel=\"nofollow noreferrer\"><code>Message</code></a> you receive will have a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#getJMSDestination--\" rel=\"nofollow noreferrer\"><code>getJMSDestination()</code></a> method which will return a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html\" rel=\"nofollow noreferrer\"><code>Destination</code></a> which represents where the message came from. Using this information you can deduce the destination to which the consumer is connected.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085489,"answer_count":1,"score":0,"last_activity_date":1694479405,"creation_date":1694474561,"question_id":77085268,"body_markdown":"I have a code that gets a queue from browse, but I can&#39;t find a method that gets a queue from a consumer.Is it possible to get a queue from the consumer?\r\n\r\nMethod for getting a queue from browse:\r\n\r\n```java\r\nprivate void viewMessage() throws NamingException, JMSException {\r\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\r\n    queueBrowser = queueSession.createBrowser(queue);\r\n    System.out.println(queueBrowser.getQueue());\r\n}\r\n```\r\nBut I can&#39;t find a similar method, but in consumer\r\n\r\n","title":"How to get a queue from a consumer in JMS?","body":"<p>I have a code that gets a queue from browse, but I can't find a method that gets a queue from a consumer.Is it possible to get a queue from the consumer?</p>\n<p>Method for getting a queue from browse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void viewMessage() throws NamingException, JMSException {\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\n    queueBrowser = queueSession.createBrowser(queue);\n    System.out.println(queueBrowser.getQueue());\n}\n</code></pre>\n<p>But I can't find a similar method, but in consumer</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1517870226,"post_id":48632461,"comment_id":84262409,"body_markdown":"can u paste your code base ? full class including import statements ?","body":"can u paste your code base ? full class including import statements ?"}],"answers":[{"tags":[],"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517878019,"creation_date":1517878019,"answer_id":48633809,"question_id":48632461,"body_markdown":"Turns out some people in my company are using:\r\n\r\n`javax.ws.rs.core.MediaType` &lt;-- good\r\n\r\nand some people are using:\r\n\r\n`org.springframework.http.MediaType` &lt;-- bad (at least in Spring `@RequestMapping`)","title":"Why can&#39;t I use MediaType.APPLICATION_XML in a @RequestMapping","body":"<p>Turns out some people in my company are using:</p>\n\n<p><code>javax.ws.rs.core.MediaType</code> &lt;-- good</p>\n\n<p>and some people are using:</p>\n\n<p><code>org.springframework.http.MediaType</code> &lt;-- bad (at least in Spring <code>@RequestMapping</code>)</p>\n"},{"tags":[],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694478716,"creation_date":1694478716,"answer_id":77085461,"question_id":48632461,"body_markdown":"[Documentation.](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-requestmapping.html#mvc-ann-requestmapping-consumes)\r\n\r\nYou should add `&#39;_VALUE&#39;` after the type, only then it becomes a string.\r\n\r\n&gt; MediaType provides **constants** for commonly used media types, such as APPLICATION_JSON_VALUE and APPLICATION_XML_VALUE.\r\n\r\n```java\r\n@Target({ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RequestMapping(\r\n    method = {RequestMethod.GET}\r\n)\r\npublic @interface GetMapping {\r\n    // ...\r\n    @AliasFor(\r\n        annotation = RequestMapping.class\r\n    )\r\n    String[] consumes() default {};\r\n    // ...\r\n}\r\n```","title":"Why can&#39;t I use MediaType.APPLICATION_XML in a @RequestMapping","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-requestmapping.html#mvc-ann-requestmapping-consumes\" rel=\"nofollow noreferrer\">Documentation.</a></p>\n<p>You should add <code>'_VALUE'</code> after the type, only then it becomes a string.</p>\n<blockquote>\n<p>MediaType provides <strong>constants</strong> for commonly used media types, such as APPLICATION_JSON_VALUE and APPLICATION_XML_VALUE.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(\n    method = {RequestMethod.GET}\n)\npublic @interface GetMapping {\n    // ...\n    @AliasFor(\n        annotation = RequestMapping.class\n    )\n    String[] consumes() default {};\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694478716,"creation_date":1517869379,"question_id":48632461,"body_markdown":"When I change `MediaType.APPLICATION_JSON` to `MediaType.APPLICATION_XML` in a Spring `@RequestMapping`, I get the following error in my IDE: Attribute value must be constant.\r\n\r\nI&#39;ve dug down into the way `MediaType` constructs its constants - both _JSON and _XML are final variables set in a static initialization block. I can&#39;t see any difference between them, but one works and one doesn&#39;t.\r\n\r\nThank you for your help.","title":"Why can&#39;t I use MediaType.APPLICATION_XML in a @RequestMapping","body":"<p>When I change <code>MediaType.APPLICATION_JSON</code> to <code>MediaType.APPLICATION_XML</code> in a Spring <code>@RequestMapping</code>, I get the following error in my IDE: Attribute value must be constant.</p>\n\n<p>I've dug down into the way <code>MediaType</code> constructs its constants - both _JSON and _XML are final variables set in a static initialization block. I can't see any difference between them, but one works and one doesn't.</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"comments":[{"owner":{"account_id":19253641,"reputation":495,"user_id":14071053,"display_name":"Aks"},"score":0,"creation_date":1694483380,"post_id":77085444,"comment_id":135893566,"body_markdown":"https://stackoverflow.com/a/74072997/14071053","body":"<a href=\"https://stackoverflow.com/a/74072997/14071053\">stackoverflow.com/a/74072997/14071053</a>"}],"owner":{"account_id":28956196,"reputation":1,"user_id":22179697,"display_name":"thabang nthunya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694478254,"creation_date":1694478254,"question_id":77085444,"body_markdown":"I want to get the string value of the name of physical button pressed from android native code and pass it to flutter app. I used eventchannel to send data from kotlin code to dart code.\r\n\r\nI tried to stream key-event action using eventchannel.\r\n\r\nHere is my dart code: \r\n```\r\nimport &#39;dart:async&#39;;\r\n\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/services.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(MyApp());\r\n\r\nclass MyApp extends StatefulWidget {\r\n  @override\r\n  _MyAppState createState() =&gt; _MyAppState();\r\n}\r\n\r\nclass _MyAppState extends State&lt;MyApp&gt; {\r\n\r\n  String batteryStatus = &quot;Streaming...&quot;;\r\n  static const chargingChannel = EventChannel(&#39;nthunya.com/physicalButton&#39;);\r\n  late StreamSubscription _streamSubscription;\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    \r\n    onStreamBattery();\r\n\r\n  }\r\n\r\n  @override\r\n  void dispose() {\r\n    super.dispose();\r\n    _streamSubscription.cancel();\r\n  }\r\n\r\n  void onStreamBattery(){\r\n    _streamSubscription =\r\n    chargingChannel.receiveBroadcastStream().listen((event){\r\n      setState((){ batteryStatus = &#39;$event&#39;;});\r\n    });\r\n    \r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      home: Scaffold(\r\n        appBar: AppBar(\r\n          title: const Text(&#39;Hardware buttons find&#39;),\r\n        ),\r\n        body: Center(\r\n          child: Column(\r\n            mainAxisSize: MainAxisSize.min,\r\n            children: &lt;Widget&gt;[\r\n              Text(&#39;Button name: $batteryStatus\\n&#39;),\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\nHere is kotlin code:\r\n```\r\npackage com.example.flutter_panic_button1000\r\n\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.content.IntentFilter\r\nimport android.view.KeyEvent\r\nimport android.widget.Toast\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.EventChannel\r\n\r\nclass MainActivity: FlutterActivity() {\r\n\r\n    private val KEY_PRESS = &quot;nthunya.com/physicalButton&quot;\r\n    private lateinit var eventChannel: EventChannel\r\n\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine)\r\n\r\n        eventChannel = EventChannel(flutterEngine.dartExecutor.binaryMessenger, KEY_PRESS)\r\n        eventChannel.setStreamHandler(MyStreamHandler(context))\r\n    }\r\n}\r\n\r\nclass MyStreamHandler(private val context: Context) : EventChannel.StreamHandler{\r\n    private var receiver: BroadcastReceiver? = null\r\n\r\n    override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\r\n        if (events == null) return\r\n\r\n        receiver = initReceiver(events)\r\n        context.registerReceiver(receiver, IntentFilter(Intent.ACTION_MEDIA_BUTTON))\r\n    }\r\n\r\n    private fun initReceiver(events: EventChannel.EventSink): BroadcastReceiver? {\r\n\r\n        return object : BroadcastReceiver(){\r\n            override fun onReceive(context: Context?, intent: Intent?) {\r\n\r\n                when(intent?.getIntExtra(KeyEvent.ACTION_DOWN.toString(),-1)){\r\n                    KeyEvent.KEYCODE_VOLUME_DOWN -&gt; events.success(&quot;Volume down&quot;)\r\n                    KeyEvent.KEYCODE_VOLUME_UP-&gt; events.success(&quot;Volume up&quot;)\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    override fun onCancel(arguments: Any?) {\r\n        context.unregisterReceiver(receiver)\r\n        receiver = null\r\n    }\r\n}\r\n```\r\nThe program runs without errors, but it doesn&#39;t display the name of button pressed","title":"How do I stream android hardware buttons from android native code to flutter app?","body":"<p>I want to get the string value of the name of physical button pressed from android native code and pass it to flutter app. I used eventchannel to send data from kotlin code to dart code.</p>\n<p>I tried to stream key-event action using eventchannel.</p>\n<p>Here is my dart code:</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n  String batteryStatus = &quot;Streaming...&quot;;\n  static const chargingChannel = EventChannel('nthunya.com/physicalButton');\n  late StreamSubscription _streamSubscription;\n\n  @override\n  void initState() {\n    super.initState();\n    \n    onStreamBattery();\n\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _streamSubscription.cancel();\n  }\n\n  void onStreamBattery(){\n    _streamSubscription =\n    chargingChannel.receiveBroadcastStream().listen((event){\n      setState((){ batteryStatus = '$event';});\n    });\n    \n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('Hardware buttons find'),\n        ),\n        body: Center(\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: &lt;Widget&gt;[\n              Text('Button name: $batteryStatus\\n'),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Here is kotlin code:</p>\n<pre><code>package com.example.flutter_panic_button1000\n\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.content.IntentFilter\nimport android.view.KeyEvent\nimport android.widget.Toast\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.EventChannel\n\nclass MainActivity: FlutterActivity() {\n\n    private val KEY_PRESS = &quot;nthunya.com/physicalButton&quot;\n    private lateinit var eventChannel: EventChannel\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        eventChannel = EventChannel(flutterEngine.dartExecutor.binaryMessenger, KEY_PRESS)\n        eventChannel.setStreamHandler(MyStreamHandler(context))\n    }\n}\n\nclass MyStreamHandler(private val context: Context) : EventChannel.StreamHandler{\n    private var receiver: BroadcastReceiver? = null\n\n    override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\n        if (events == null) return\n\n        receiver = initReceiver(events)\n        context.registerReceiver(receiver, IntentFilter(Intent.ACTION_MEDIA_BUTTON))\n    }\n\n    private fun initReceiver(events: EventChannel.EventSink): BroadcastReceiver? {\n\n        return object : BroadcastReceiver(){\n            override fun onReceive(context: Context?, intent: Intent?) {\n\n                when(intent?.getIntExtra(KeyEvent.ACTION_DOWN.toString(),-1)){\n                    KeyEvent.KEYCODE_VOLUME_DOWN -&gt; events.success(&quot;Volume down&quot;)\n                    KeyEvent.KEYCODE_VOLUME_UP-&gt; events.success(&quot;Volume up&quot;)\n                }\n            }\n\n        }\n    }\n\n    override fun onCancel(arguments: Any?) {\n        context.unregisterReceiver(receiver)\n        receiver = null\n    }\n}\n</code></pre>\n<p>The program runs without errors, but it doesn't display the name of button pressed</p>\n"},{"tags":["java","arrays","list","loops"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694474270,"post_id":77084869,"comment_id":135892962,"body_markdown":"For reference, LeetCode 27 is at https://leetcode.com/problems/remove-element/","body":"For reference, LeetCode 27 is at <a href=\"https://leetcode.com/problems/remove-element/\" rel=\"nofollow noreferrer\">leetcode.com/problems/remove-element</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694474651,"post_id":77084869,"comment_id":135892991,"body_markdown":"Images of text, including example input, example expected output, example actual output, code, and error messages are [not well received](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) here. Such information should be in the question body. To ensure accuracy, using text copy-and-paste is advised.","body":"Images of text, including example input, example expected output, example actual output, code, and error messages are <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">not well received</a> here. Such information should be in the question body. To ensure accuracy, using text copy-and-paste is advised."}],"answers":[{"comments":[{"owner":{"account_id":24013613,"reputation":3,"user_id":21064334,"display_name":"Mawhadmd"},"score":0,"creation_date":1694518427,"post_id":77085399,"comment_id":135898516,"body_markdown":"Seems to be a misunderstanding from me, i never thought they would use k as the length of the answer, my English isn&#39;t excellent at all. Changing the value returned from &quot;k&quot; to ```k-nums.length``` solved the problem for me and it works like a charm now. Thanks You so much.","body":"Seems to be a misunderstanding from me, i never thought they would use k as the length of the answer, my English isn&#39;t excellent at all. Changing the value returned from &quot;k&quot; to <code>k-nums.length</code> solved the problem for me and it works like a charm now. Thanks You so much."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694477159,"creation_date":1694477159,"answer_id":77085399,"question_id":77084869,"body_markdown":"There seems to be confusion about what the LeetCode problem is asking the programmer to do. This is an example of why a link to the problem page included in the question body is helpful, when the source of the problem does have a page. This is typical of the programming challenge sites. (However, some of these sites require an account to see their problems.)\r\n\r\n- The `int` value, `k`, in the O/P code is the number of elements that were *removed* from the `nums` array. **This is where the bug is.** The value returned is supposed to be the number of elements that *remain* after the targeted values were removed.\r\n- LeetCode asks this problem be solved **in-place**. The expected solutions *do not* create an intermediate array, or other structures to temporarily hold data. Although the code in the question seems to have gotten away with it, this line `int[] expectedNums = new int[nums.length];` violates that constraint.  \r\n- I notice that the code in the question has a variable `expectedNums`. The automated judge described in the problem page also uses a variable with this same name. That hints that there might be another misunderstanding. The solution code is not expected to have a variable `expectedNums`. It is allowed to. But, if it does, the variable will be unrelated to the `expectedNums` in the code for the judge. \r\n- The description of the automated judge can be used to help design a solution to the given problem.\r\n\r\nI don&#39;t want to give the O/P an answer with complete code. I believe it will be more helpful if the O/P spends time thinking about how to solve this. \r\n\r\n- Bear in mind that the automated judge will sort the first `k` elements of `nums` array after the `removeElement` method is called. In Java, that would be `nums[0]` to `nums[k - 1]`.\r\n- The automated judge *doesn&#39;t care* what is `nums [k]` to `nums [nums.length - 1]`.","title":"Leetcode java code array output limited for no reason","body":"<p>There seems to be confusion about what the LeetCode problem is asking the programmer to do. This is an example of why a link to the problem page included in the question body is helpful, when the source of the problem does have a page. This is typical of the programming challenge sites. (However, some of these sites require an account to see their problems.)</p>\n<ul>\n<li>The <code>int</code> value, <code>k</code>, in the O/P code is the number of elements that were <em>removed</em> from the <code>nums</code> array. <strong>This is where the bug is.</strong> The value returned is supposed to be the number of elements that <em>remain</em> after the targeted values were removed.</li>\n<li>LeetCode asks this problem be solved <strong>in-place</strong>. The expected solutions <em>do not</em> create an intermediate array, or other structures to temporarily hold data. Although the code in the question seems to have gotten away with it, this line <code>int[] expectedNums = new int[nums.length];</code> violates that constraint.</li>\n<li>I notice that the code in the question has a variable <code>expectedNums</code>. The automated judge described in the problem page also uses a variable with this same name. That hints that there might be another misunderstanding. The solution code is not expected to have a variable <code>expectedNums</code>. It is allowed to. But, if it does, the variable will be unrelated to the <code>expectedNums</code> in the code for the judge.</li>\n<li>The description of the automated judge can be used to help design a solution to the given problem.</li>\n</ul>\n<p>I don't want to give the O/P an answer with complete code. I believe it will be more helpful if the O/P spends time thinking about how to solve this.</p>\n<ul>\n<li>Bear in mind that the automated judge will sort the first <code>k</code> elements of <code>nums</code> array after the <code>removeElement</code> method is called. In Java, that would be <code>nums[0]</code> to <code>nums[k - 1]</code>.</li>\n<li>The automated judge <em>doesn't care</em> what is <code>nums [k]</code> to <code>nums [nums.length - 1]</code>.</li>\n</ul>\n"}],"owner":{"account_id":24013613,"reputation":3,"user_id":21064334,"display_name":"Mawhadmd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77085399,"answer_count":1,"score":-3,"last_activity_date":1694477159,"creation_date":1694467630,"question_id":77084869,"body_markdown":"[output(supposed to be the stdout)](https://i.stack.imgur.com/28K8j.png)\r\ni&#39;m writting this code \r\n```\r\nclass Solution {\r\n    public int removeElement(int[] nums, int val) {\r\n        int k =0;\r\n         int[] expectedNums = new int[nums.length]; \r\n            for(int i =0,j=0; i&lt;nums.length;i++)\r\n    {\r\n        if(nums[i]==val)\r\n    k++;\r\n    else{\r\n    expectedNums[j]=nums[i];\r\n    j++;}\r\n    }\r\n     for(int i =0; i&lt;nums.length;i++){\r\n    nums[i]=expectedNums[i];}\r\n    for (int a = 0; a &lt; nums.length; a++) {\r\n        System.out.print( nums[a]);}\r\n    \r\n        return k;\r\n    }\r\n    \r\n}\r\n```\r\nproblem 27 in leetcode, as you can see in the screenshot, the output only shows first 2 elements then skips 2 elements, while the actual output is not. System.out.print shows that its 01304000. Leetcode output shows [0,1,3]. I know there is a much easier solution, and i wanna use it, but first i must know what&#39;s wrong with this code? i&#39;m new to leetcode, maybe copying lists and arrays here is not supported? Idk fr Please help thanks\r\n\r\nTried using ArrayList, changing \r\n```\r\nfor(int i =0; i&lt;nums.length;i++){\r\n    nums[i]=expectedNums[i];}\r\n```\r\nlength a lot. thought it was the issue.\r\nAlso Rewrote the code again and made sure nothing is limiting the array as fas as i know.\r\nI didn&#39;t directly change nums array elements, only copy. \r\n\r\n\r\n\r\n","title":"Leetcode java code array output limited for no reason","body":"<p><a href=\"https://i.stack.imgur.com/28K8j.png\" rel=\"nofollow noreferrer\">output(supposed to be the stdout)</a>\ni'm writting this code</p>\n<pre><code>class Solution {\n    public int removeElement(int[] nums, int val) {\n        int k =0;\n         int[] expectedNums = new int[nums.length]; \n            for(int i =0,j=0; i&lt;nums.length;i++)\n    {\n        if(nums[i]==val)\n    k++;\n    else{\n    expectedNums[j]=nums[i];\n    j++;}\n    }\n     for(int i =0; i&lt;nums.length;i++){\n    nums[i]=expectedNums[i];}\n    for (int a = 0; a &lt; nums.length; a++) {\n        System.out.print( nums[a]);}\n    \n        return k;\n    }\n    \n}\n</code></pre>\n<p>problem 27 in leetcode, as you can see in the screenshot, the output only shows first 2 elements then skips 2 elements, while the actual output is not. System.out.print shows that its 01304000. Leetcode output shows [0,1,3]. I know there is a much easier solution, and i wanna use it, but first i must know what's wrong with this code? i'm new to leetcode, maybe copying lists and arrays here is not supported? Idk fr Please help thanks</p>\n<p>Tried using ArrayList, changing</p>\n<pre><code>for(int i =0; i&lt;nums.length;i++){\n    nums[i]=expectedNums[i];}\n</code></pre>\n<p>length a lot. thought it was the issue.\nAlso Rewrote the code again and made sure nothing is limiting the array as fas as i know.\nI didn't directly change nums array elements, only copy.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":391972,"reputation":673,"user_id":752952,"accept_rate":50,"display_name":"Nurlan"},"score":0,"creation_date":1335035191,"post_id":10261651,"comment_id":13194424,"body_markdown":"why didn&#39;t you use just name=&quot;User.all&quot;?","body":"why didn&#39;t you use just name=&quot;User.all&quot;?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1335037720,"post_id":10261651,"comment_id":13194946,"body_markdown":"Eclipse can only confirm usage of constants. So, if I create the query with `&quot;User.all&quot;` it is a string that does not get checked. Using `User.ALL` gets checked before compiling if I spell it wrong.","body":"Eclipse can only confirm usage of constants. So, if I create the query with <code>&quot;User.all&quot;</code> it is a string that does not get checked. Using <code>User.ALL</code> gets checked before compiling if I spell it wrong."},{"owner":{"account_id":17076,"reputation":6330,"user_id":37856,"accept_rate":93,"display_name":"Peter Bratton"},"score":1,"creation_date":1337955994,"post_id":10261651,"comment_id":13979546,"body_markdown":"Can you post your hibernate.cfg.xml/persistence.xml?","body":"Can you post your hibernate.cfg.xml/persistence.xml?"},{"owner":{"account_id":40613,"reputation":884,"user_id":117682,"accept_rate":71,"display_name":"Felipe Cardoso Martins"},"score":0,"creation_date":1340311770,"post_id":10261651,"comment_id":14613505,"body_markdown":"Turn on your &quot;hibernate.log&quot; and check if appears a string like &quot;[org.hibernate.cfg.annotations.QueryBinder] (main:) Binding Named query: User.all =&gt; SELECT u FROM User u&quot;... Then check your persistence file and check if the class User is mapped.","body":"Turn on your &quot;hibernate.log&quot; and check if appears a string like &quot;[org.hibernate.cfg.annotations.QueryBinder] (main:) Binding Named query: User.all =&gt; SELECT u FROM User u&quot;... Then check your persistence file and check if the class User is mapped."},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1582841346,"post_id":10261651,"comment_id":106926080,"body_markdown":"Does this answer your question? [Named query not known - Annotations &amp; Hibernate](https://stackoverflow.com/questions/4037107/named-query-not-known-annotations-hibernate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4037107/named-query-not-known-annotations-hibernate\">Named query not known - Annotations &amp; Hibernate</a>"}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1340347862,"post_id":11147545,"comment_id":14621360,"body_markdown":"That&#39;s a good point to notice, but I used the proper import in mace case, unfortunately.","body":"That&#39;s a good point to notice, but I used the proper import in mace case, unfortunately."},{"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"score":0,"creation_date":1340572856,"post_id":11147545,"comment_id":14671872,"body_markdown":"Ahh well worth a try. Have you declared the class in your hibernate.cfg.xml (extensions at end can vary) as a &lt;mapping&gt;?","body":"Ahh well worth a try. Have you declared the class in your hibernate.cfg.xml (extensions at end can vary) as a &lt;mapping&gt;?"}],"tags":[],"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340316765,"creation_date":1340316765,"answer_id":11147545,"question_id":10261651,"body_markdown":"Not sure if this will be your issue but check out this post [here][1].\r\n\r\nThe issue was the use of:\r\n\r\n    org.hibernate.annotations.Entity\r\n\r\nInstead of:\r\n\r\n    javax.persistence.Entity\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4037107/named-query-not-known-annotations-hibernate","title":"&quot;Named query not known&quot; for named Hibernate query?","body":"<p>Not sure if this will be your issue but check out this post <a href=\"https://stackoverflow.com/questions/4037107/named-query-not-known-annotations-hibernate\">here</a>.</p>\n\n<p>The issue was the use of:</p>\n\n<pre><code>org.hibernate.annotations.Entity\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>javax.persistence.Entity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694474187,"creation_date":1694474187,"answer_id":77085248,"question_id":10261651,"body_markdown":"I had similar issue when I renamed an Entity class in my package.\r\nMake sure the full class name for the persistence unit in the persistence.xml matches your Entity class. e.g. \r\n\r\n       &lt;persistence-unit name=&quot;your_PU_name&quot; transaction-type=&quot;JTA&quot;&gt;\r\n          ...\r\n          &lt;class&gt; [ make sure here is the FQN of your entity class ] &lt;/class&gt;\r\n          ...\r\n       &lt;/persistence-unit&gt;","title":"&quot;Named query not known&quot; for named Hibernate query?","body":"<p>I had similar issue when I renamed an Entity class in my package.\nMake sure the full class name for the persistence unit in the persistence.xml matches your Entity class. e.g.</p>\n<pre><code>   &lt;persistence-unit name=&quot;your_PU_name&quot; transaction-type=&quot;JTA&quot;&gt;\n      ...\n      &lt;class&gt; [ make sure here is the FQN of your entity class ] &lt;/class&gt;\n      ...\n   &lt;/persistence-unit&gt;\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10535,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1694474187,"creation_date":1335031952,"question_id":10261651,"body_markdown":"What might be the problem?\r\n\r\n    @Entity\r\n    @NamedQueries( {\r\n        @NamedQuery(name = User.ALL,\r\n        \t\t\tquery = &quot;SELECT u FROM User u&quot;)\r\n    })\r\n    \r\n    public class User {\r\n    \tpublic static final String ALL = &quot;User.all&quot;;\r\n    }\r\n    \r\n    public class Service {\r\n    \tfind... with ... User.ALL\r\n    }\r\n\r\n\r\nStacktrace:\r\n    \r\n    Caused by: org.hibernate.MappingException: Named query not known: User.all\r\n    \tat org.hibernate.impl.AbstractSessionImpl.getNamedQuery(AbstractSessionImpl.java:93)\r\n    \tat org.hibernate.impl.SessionImpl.getNamedQuery(SessionImpl.java:1407)\r\n    \tat $Session_a5ad46cfa25.getNamedQuery(Unknown Source)\r\n    \tat $Session_a5ad46cf913.getNamedQuery(Unknown Source)\r\n    \tat de.medicshare.dal.HibernateCrudServiceDAO.findUniqueWithNamedQuery(HibernateCrudServiceDAO.java:83)\r\n    \tat $CrudServiceDAO_a5ad46cfa19.findUniqueWithNamedQuery(Unknown Source)\r\n    \tat $CrudServiceDAO_a5ad46cfa1b.findUniqueWithNamedQuery(Unknown Source)\r\n    \tat $CrudServiceDAO_a5ad46cf931.findUniqueWithNamedQuery(Unknown Source)\r\n    \tat de.medicshare.pages.Signup.proceedSignup(Signup.java:82)\r\n    \tat de.medicshare.pages.Signup.dispatchComponentEvent(Signup.java)\r\n    \tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.dispatchEvent(ComponentPageElementImpl.java:923)\r\n    \tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.processEventTriggering(ComponentPageElementImpl.java:1106)\r\n    \t... 90 more","title":"&quot;Named query not known&quot; for named Hibernate query?","body":"<p>What might be the problem?</p>\n\n<pre><code>@Entity\n@NamedQueries( {\n    @NamedQuery(name = User.ALL,\n                query = \"SELECT u FROM User u\")\n})\n\npublic class User {\n    public static final String ALL = \"User.all\";\n}\n\npublic class Service {\n    find... with ... User.ALL\n}\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>Caused by: org.hibernate.MappingException: Named query not known: User.all\n    at org.hibernate.impl.AbstractSessionImpl.getNamedQuery(AbstractSessionImpl.java:93)\n    at org.hibernate.impl.SessionImpl.getNamedQuery(SessionImpl.java:1407)\n    at $Session_a5ad46cfa25.getNamedQuery(Unknown Source)\n    at $Session_a5ad46cf913.getNamedQuery(Unknown Source)\n    at de.medicshare.dal.HibernateCrudServiceDAO.findUniqueWithNamedQuery(HibernateCrudServiceDAO.java:83)\n    at $CrudServiceDAO_a5ad46cfa19.findUniqueWithNamedQuery(Unknown Source)\n    at $CrudServiceDAO_a5ad46cfa1b.findUniqueWithNamedQuery(Unknown Source)\n    at $CrudServiceDAO_a5ad46cf931.findUniqueWithNamedQuery(Unknown Source)\n    at de.medicshare.pages.Signup.proceedSignup(Signup.java:82)\n    at de.medicshare.pages.Signup.dispatchComponentEvent(Signup.java)\n    at org.apache.tapestry5.internal.structure.ComponentPageElementImpl.dispatchEvent(ComponentPageElementImpl.java:923)\n    at org.apache.tapestry5.internal.structure.ComponentPageElementImpl.processEventTriggering(ComponentPageElementImpl.java:1106)\n    ... 90 more\n</code></pre>\n"},{"tags":["sms","sms-gateway","java"],"comments":[{"owner":{"account_id":19420,"reputation":17549,"user_id":45531,"accept_rate":83,"display_name":"Tim Lytle"},"score":0,"creation_date":1331607887,"post_id":9676063,"comment_id":12295008,"body_markdown":"If the cost per message is the problem, and you&#39;re doing a high volume, contact Nexmo to see what can be done (*disclaimer: I work with Nexmo*). Or, if these alerts are for your users, perhaps they could sign up (if they want that feature) and pass their API credentials to you.","body":"If the cost per message is the problem, and you&#39;re doing a high volume, contact Nexmo to see what can be done (<i>disclaimer: I work with Nexmo</i>). Or, if these alerts are for your users, perhaps they could sign up (if they want that feature) and pass their API credentials to you."},{"owner":{"account_id":484213,"reputation":189,"user_id":899751,"accept_rate":10,"display_name":"fers"},"score":0,"creation_date":1331650357,"post_id":9676063,"comment_id":12307378,"body_markdown":"@TimLytle could you give me support?","body":"@TimLytle could you give me support?"},{"owner":{"account_id":19420,"reputation":17549,"user_id":45531,"accept_rate":83,"display_name":"Tim Lytle"},"score":0,"creation_date":1331653767,"post_id":9676063,"comment_id":12308826,"body_markdown":"@fers Add a ticket here: https://nexmo.zendesk.com/ and I&#39;ll make sure you get a response.","body":"@fers Add a ticket here: <a href=\"https://nexmo.zendesk.com/\" rel=\"nofollow noreferrer\">nexmo.zendesk.com</a> and I&#39;ll make sure you get a response."}],"answers":[{"tags":[],"owner":{"account_id":289288,"reputation":9686,"user_id":590177,"accept_rate":100,"display_name":"Devin M"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1331594162,"creation_date":1331594162,"answer_id":9676150,"question_id":9676063,"body_markdown":"There are the free providers that you have found which may limit you to a certain number of messages or impose other restrictions. However many providers support an [email gateway][1] that you might be able to use to send messages. For example if you have a cell number and know the provider (for this example Verizon Wireless) then you can send an email to `number@vtext.com` and it will be sent to the cell as a SMS message. This might be an alternative for you to consider.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/List_of_SMS_gateways","title":"Send free sms with java","body":"<p>There are the free providers that you have found which may limit you to a certain number of messages or impose other restrictions. However many providers support an <a href=\"http://en.wikipedia.org/wiki/List_of_SMS_gateways\" rel=\"nofollow\">email gateway</a> that you might be able to use to send messages. For example if you have a cell number and know the provider (for this example Verizon Wireless) then you can send an email to <code>number@vtext.com</code> and it will be sent to the cell as a SMS message. This might be an alternative for you to consider.</p>\n"},{"tags":[],"owner":{"account_id":3819172,"reputation":9,"user_id":3167677,"display_name":"Nandy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1389777926,"creation_date":1389777926,"answer_id":21133448,"question_id":9676063,"body_markdown":"The below program is used to send sms using site2sms gateway     \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n\r\n    public class SendSMS\r\n    {\r\n    static String SMSApi = &quot;https://site2sms.p.mashape.com/index.php?uid=9095393259&amp;pwd=554182&amp;phone=9751931673&amp;msg=hai&quot;;\r\n\tstatic String head = &quot;aVi7utR6ZUkGLFkGRwXxd4wLsXz7c1QQ&quot;;\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString url = SMSApi;\r\n\t\t\tString smsApiResponse = sendMySMS(url);\r\n\t\t\tSystem.out.println(smsApiResponse);\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String sendMySMS(String url)\r\n\t{\r\n\t\tStringBuilder output = new StringBuilder();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tURL hp = new URL(url);\r\n\t\t\tSystem.out.println(url);\r\n\t\t\tURLConnection hpCon = hp.openConnection();\r\n\t\t\thpCon.setRequestProperty(&quot;X-Mashape-Authorization&quot;, head);\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(hpCon.getInputStream()));\r\n\t\t\tString inputLine;\r\n\t\t\twhile ((inputLine = in.readLine()) != null)\r\n\t\t\t\toutput.append(inputLine);\r\n\t\t\tin.close();\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn output.toString();\r\n\t}\r\n}\r\n\r\n","title":"Send free sms with java","body":"<p>The below program is used to send sms using site2sms gateway     </p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class SendSMS\n{\nstatic String SMSApi = \"https://site2sms.p.mashape.com/index.php?uid=9095393259&amp;pwd=554182&amp;phone=9751931673&amp;msg=hai\";\nstatic String head = \"aVi7utR6ZUkGLFkGRwXxd4wLsXz7c1QQ\";\npublic static void main(String[] args)\n{\n    try\n    {\n        String url = SMSApi;\n        String smsApiResponse = sendMySMS(url);\n        System.out.println(smsApiResponse);\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n\nprivate static String sendMySMS(String url)\n{\n    StringBuilder output = new StringBuilder();\n    try\n    {\n        URL hp = new URL(url);\n        System.out.println(url);\n        URLConnection hpCon = hp.openConnection();\n        hpCon.setRequestProperty(\"X-Mashape-Authorization\", head);\n        BufferedReader in = new BufferedReader(new InputStreamReader(hpCon.getInputStream()));\n        String inputLine;\n        while ((inputLine = in.readLine()) != null)\n            output.append(inputLine);\n        in.close();\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n    return output.toString();\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":484213,"reputation":189,"user_id":899751,"accept_rate":10,"display_name":"fers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8441,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694473480,"creation_date":1331593549,"question_id":9676063,"body_markdown":"In my company we need to send some alerts via SMS gateway, I have used the Nexmo API with java. It works perfect, however our company can&#39;t buy the service, so I was thinking; is there any free SMS gateway?\r\n\r\n","title":"Send free sms with java","body":"<p>In my company we need to send some alerts via SMS gateway, I have used the Nexmo API with java. It works perfect, however our company can't buy the service, so I was thinking; is there any free SMS gateway?</p>\n"},{"tags":["java","database","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690741212,"post_id":76798952,"comment_id":135392216,"body_markdown":"Does this answer your question? [how to reduce length of UUID generated using randomUUID( )](https://stackoverflow.com/questions/20994768/how-to-reduce-length-of-uuid-generated-using-randomuuid)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20994768/how-to-reduce-length-of-uuid-generated-using-randomuuid\">how to reduce length of UUID generated using randomUUID( )</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690743813,"post_id":76798952,"comment_id":135392478,"body_markdown":"`SecureRandom sr = new SecureRandom();byte[] a = new byte[11];sr.nextBytes(a);System.out.println(HexFormat.of().formatHex(a).substring(1));` is a possible approach if you&#39;re forced to generate it &#39;manually&#39;","body":"<code>SecureRandom sr = new SecureRandom();byte[] a = new byte[11];sr.nextBytes(a);System.out.println(HexFormat.of().f&zwnj;&#8203;ormatHex(a).substrin&zwnj;&#8203;g(1));</code> is a possible approach if you&#39;re forced to generate it &#39;manually&#39;"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690753238,"post_id":76798952,"comment_id":135393442,"body_markdown":"FYI Your &quot;shortened&quot; UUID-as-text approach is actually taking *more* memory, not less. a Java `String` object containing 21 US-ASCII characters takes 336 bits (21 * 16). Likely similar in your database. Natively storing a complete UUID value takes only 128 bits.","body":"FYI Your &quot;shortened&quot; UUID-as-text approach is actually taking <i>more</i> memory, not less. a Java <code>String</code> object containing 21 US-ASCII characters takes 336 bits (21 * 16). Likely similar in your database. Natively storing a complete UUID value takes only 128 bits."}],"answers":[{"comments":[{"owner":{"account_id":18903887,"reputation":51,"user_id":13791411,"display_name":"siddhartha agarwal"},"score":0,"creation_date":1690740285,"post_id":76799055,"comment_id":135392117,"body_markdown":"Could you please point me to an example that I can refer to for the same?","body":"Could you please point me to an example that I can refer to for the same?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1690740990,"post_id":76799055,"comment_id":135392195,"body_markdown":"Sorry, I don&#39;t know one as this is a very specific requirement to you. Take a look at the implementation of the method `UUID.randomUUID` and see if you can figure out how to write a class that generates a 21-character identifier.","body":"Sorry, I don&#39;t know one as this is a very specific requirement to you. Take a look at the implementation of the method <code>UUID.randomUUID</code> and see if you can figure out how to write a class that generates a 21-character identifier."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":2,"creation_date":1690741450,"post_id":76799055,"comment_id":135392241,"body_markdown":"Using Base85, you can encode 128 bits into 20 characters.","body":"Using Base85, you can encode 128 bits into 20 characters."}],"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690741671,"creation_date":1690740093,"answer_id":76799055,"question_id":76798952,"body_markdown":"You can implement your own generator. Use [`org.hibernate.id.UUIDGenerator`](https://github.com/hibernate/hibernate-orm/blob/ed88d050f87c0872b1829e6e1a0750ae18478c17/hibernate-core/src/main/java/org/hibernate/id/UUIDGenerator.java#L44) as an example of how to implement it.\r\n\r\nThe main problem is that I don&#39;t think it&#39;s possible to encode a UUID (128 bits) to 21 printable characters, so you&#39;ll need to implement an algorithm for the ID generation. You&#39;ll need to figure out what characters are valid for the generation and that will give you an idea of how many random bits you can use. As an example, if you can use all digits + upper/lower case ascii letters you can generate 21x6 bits and do a very basic mapping between 0-63 to one of those characters. Ideally this should include a checksum/parity character if there&#39;s a chance that the id will be entered manually.","title":"Generating a shortened 21-character ID with JPA and Hibernate","body":"<p>You can implement your own generator. Use <a href=\"https://github.com/hibernate/hibernate-orm/blob/ed88d050f87c0872b1829e6e1a0750ae18478c17/hibernate-core/src/main/java/org/hibernate/id/UUIDGenerator.java#L44\" rel=\"nofollow noreferrer\"><code>org.hibernate.id.UUIDGenerator</code></a> as an example of how to implement it.</p>\n<p>The main problem is that I don't think it's possible to encode a UUID (128 bits) to 21 printable characters, so you'll need to implement an algorithm for the ID generation. You'll need to figure out what characters are valid for the generation and that will give you an idea of how many random bits you can use. As an example, if you can use all digits + upper/lower case ascii letters you can generate 21x6 bits and do a very basic mapping between 0-63 to one of those characters. Ideally this should include a checksum/parity character if there's a chance that the id will be entered manually.</p>\n"}],"owner":{"account_id":18903887,"reputation":51,"user_id":13791411,"display_name":"siddhartha agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694473318,"creation_date":1690738684,"question_id":76798952,"body_markdown":"I am using JPA and Hibernate in my Java project, and I have an entity class with an id field that I want to generate as a shortened 21-character ID. \r\n\r\nCurrently, I am using the following annotations to generate a UUID for the id:\r\n```\r\n@Entity\r\npublic class MyEntity {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;u_id&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @GeneratedValue(generator = &quot;u_id&quot;)\r\n    private String id;\r\n\r\n}\r\n\r\n```\r\n\r\nHowever, I need the id to be shortened to 21 characters. I&#39;ve researched and couldn&#39;t find a **built-in solution** for this specific requirement.\r\n\r\nIs there any built-in method or a recommended approach to generate a shortened 21-character ID with JPA and Hibernate? If not, how can I implement a custom solution to achieve this? I want to ensure the **uniqueness** and **avoid** any potential **collisions** while generating these shortened IDs.\r\n","title":"Generating a shortened 21-character ID with JPA and Hibernate","body":"<p>I am using JPA and Hibernate in my Java project, and I have an entity class with an id field that I want to generate as a shortened 21-character ID.</p>\n<p>Currently, I am using the following annotations to generate a UUID for the id:</p>\n<pre><code>@Entity\npublic class MyEntity {\n\n    @Id\n    @GenericGenerator(name = &quot;u_id&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @GeneratedValue(generator = &quot;u_id&quot;)\n    private String id;\n\n}\n\n</code></pre>\n<p>However, I need the id to be shortened to 21 characters. I've researched and couldn't find a <strong>built-in solution</strong> for this specific requirement.</p>\n<p>Is there any built-in method or a recommended approach to generate a shortened 21-character ID with JPA and Hibernate? If not, how can I implement a custom solution to achieve this? I want to ensure the <strong>uniqueness</strong> and <strong>avoid</strong> any potential <strong>collisions</strong> while generating these shortened IDs.</p>\n"},{"tags":["java","generics","apache-commons-beanutils"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1694468878,"post_id":77084881,"comment_id":135892365,"body_markdown":"Each `if` statements could be moved to an entry in a Map&lt;Class&lt;?&gt;, MappingHandler&gt;, where a `MappingHandler` instance would contain the body of an `if` statement.  The method is currently static, but if dependency injection was used, the class would never have to change since new handlers would be registered somewhere else as part of the injected Map.","body":"Each <code>if</code> statements could be moved to an entry in a Map&lt;Class&lt;?&gt;, MappingHandler&gt;, where a <code>MappingHandler</code> instance would contain the body of an <code>if</code> statement.  The method is currently static, but if dependency injection was used, the class would never have to change since new handlers would be registered somewhere else as part of the injected Map."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694498428,"post_id":77084881,"comment_id":135894765,"body_markdown":"Handle each conversion _completely_ separately; don&#39;t use null; don&#39;t use BeanUtils and copy every field individually.","body":"Handle each conversion <i>completely</i> separately; don&#39;t use null; don&#39;t use BeanUtils and copy every field individually."},{"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"score":0,"creation_date":1694520688,"post_id":77084881,"comment_id":135899027,"body_markdown":"Why do you recommend to not use BeanUtils?","body":"Why do you recommend to not use BeanUtils?"}],"answers":[{"comments":[{"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"score":1,"creation_date":1694472886,"post_id":77085168,"comment_id":135892851,"body_markdown":"This looks more elegant than what I did. Thanks!","body":"This looks more elegant than what I did. Thanks!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694473082,"post_id":77085168,"comment_id":135892867,"body_markdown":"@nehacharya, I crossed the names here, _Config_ should be _ConfigRequest_.  I&#39;ll make an edit.","body":"@nehacharya, I crossed the names here, <i>Config</i> should be <i>ConfigRequest</i>.  I&#39;ll make an edit."},{"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"score":0,"creation_date":1694485008,"post_id":77085168,"comment_id":135893676,"body_markdown":"Sure, no worries! I understand.","body":"Sure, no worries! I understand."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694473209,"creation_date":1694472678,"answer_id":77085168,"question_id":77084881,"body_markdown":"&gt; _&quot;... I have around 15 different request objects to work with (which will lead to 15 `if` blocks)._\r\n&gt;\r\n&gt; _Is there a cleaner way of achieving the same goal with `Generics` or some other way I may have missed out? ...&quot;_\r\n\r\nRather than _generics_, utilize a class hierarchy.  \r\n\r\nDelegate each _if-statement_ from the corresponding class.\r\n\r\n```java\r\nabstract class Request {\r\n    abstract Object get();\r\n    boolean isConfig() { return this instanceof ConfigRequest; }\r\n    boolean isDecision() { return this instanceof DecisionRequest; }\r\n}\r\n\r\nclass ConfigRequest extends Request {\r\n    @Override\r\n    Config get() {\r\n        Config config = new Config(); //create JPA object to copy properties into from request body\r\n        BeanUtils.copyProperties(request, config);\r\n        return config;\r\n    }\r\n}\r\n\r\nclass DecisionRequest extends Request {\r\n    @Override\r\n    Decision get() {\r\n        Decision decision = new Decision();\r\n        BeanUtils.copyProperties(request, decision);\r\n        return decision;\r\n    }\r\n}\r\n```\r\n\r\nThen, simply return the _get_ call.\r\n\r\n```java\r\npublic static Object from(Request request) {\r\n    if(ObjectUtils.isEmpty(request)) return null;\r\n    return request.get();\r\n}\r\n```","title":"Better way of doing object conversion from one type to another?","body":"<blockquote>\n<p><em>&quot;... I have around 15 different request objects to work with (which will lead to 15 <code>if</code> blocks).</em></p>\n<p><em>Is there a cleaner way of achieving the same goal with <code>Generics</code> or some other way I may have missed out? ...&quot;</em></p>\n</blockquote>\n<p>Rather than <em>generics</em>, utilize a class hierarchy.</p>\n<p>Delegate each <em>if-statement</em> from the corresponding class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Request {\n    abstract Object get();\n    boolean isConfig() { return this instanceof ConfigRequest; }\n    boolean isDecision() { return this instanceof DecisionRequest; }\n}\n\nclass ConfigRequest extends Request {\n    @Override\n    Config get() {\n        Config config = new Config(); //create JPA object to copy properties into from request body\n        BeanUtils.copyProperties(request, config);\n        return config;\n    }\n}\n\nclass DecisionRequest extends Request {\n    @Override\n    Decision get() {\n        Decision decision = new Decision();\n        BeanUtils.copyProperties(request, decision);\n        return decision;\n    }\n}\n</code></pre>\n<p>Then, simply return the <em>get</em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object from(Request request) {\n    if(ObjectUtils.isEmpty(request)) return null;\n    return request.get();\n}\n</code></pre>\n"}],"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085168,"answer_count":1,"score":0,"last_activity_date":1694473209,"creation_date":1694467795,"question_id":77084881,"body_markdown":"I am converting objects that are coming through an `API` request body to `JPA` objects as below. \r\n\r\n    public class Converter {\r\n    \r\n       public static &lt;T&gt; Object from(T request) {\r\n            if(ObjectUtils.isEmpty(request))\r\n                return null;\r\n            if(request instanceof ConfigRequest) {\r\n                Config config = new Config(); //create JPA object to copy properties into from request body\r\n                BeanUtils.copyProperties(request, config);\r\n                return config;\r\n            }\r\n            if(request instanceof DecisionRequest) {\r\n                Decision decision = new Decision();\r\n                BeanUtils.copyProperties(request, decision);\r\n                return decision;\r\n            }\r\n            .......\r\n        }\r\n    }\r\n\r\nI have around 15 different request objects to work with (which will lead to 15 `if` blocks).\r\n\r\nIs there a cleaner way of achieving the same goal with `Generics` or some other way I may have missed out?\r\n\r\nTIA.","title":"Better way of doing object conversion from one type to another?","body":"<p>I am converting objects that are coming through an <code>API</code> request body to <code>JPA</code> objects as below.</p>\n<pre><code>public class Converter {\n\n   public static &lt;T&gt; Object from(T request) {\n        if(ObjectUtils.isEmpty(request))\n            return null;\n        if(request instanceof ConfigRequest) {\n            Config config = new Config(); //create JPA object to copy properties into from request body\n            BeanUtils.copyProperties(request, config);\n            return config;\n        }\n        if(request instanceof DecisionRequest) {\n            Decision decision = new Decision();\n            BeanUtils.copyProperties(request, decision);\n            return decision;\n        }\n        .......\n    }\n}\n</code></pre>\n<p>I have around 15 different request objects to work with (which will lead to 15 <code>if</code> blocks).</p>\n<p>Is there a cleaner way of achieving the same goal with <code>Generics</code> or some other way I may have missed out?</p>\n<p>TIA.</p>\n"},{"tags":["java","jackson","lombok"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1663832745,"post_id":73810994,"comment_id":130333015,"body_markdown":"try by adding a no param constructor. also provide setters and getters","body":"try by adding a no param constructor. also provide setters and getters"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1663833069,"post_id":73810994,"comment_id":130333128,"body_markdown":"Looks like you are using Lombok - you should add that tag. And search for &quot;Lombok jackson&quot;, you will find plenty of resources. This may also be useful: https://projectlombok.org/features/experimental/Jacksonized","body":"Looks like you are using Lombok - you should add that tag. And search for &quot;Lombok jackson&quot;, you will find plenty of resources. This may also be useful: <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/Jacksonized</a>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1694472369,"post_id":73810994,"comment_id":135892801,"body_markdown":"@assylias I&#39;ve confirmed that the code compiles and produces the given error under your assumptions that this is both Lombok &amp; Jackson, so I&#39;ve made your suggested edits to the question&#39;s tags.","body":"@assylias I&#39;ve confirmed that the code compiles and produces the given error under your assumptions that this is both Lombok &amp; Jackson, so I&#39;ve made your suggested edits to the question&#39;s tags."}],"answers":[{"tags":[],"owner":{"account_id":9058130,"reputation":1392,"user_id":6745604,"display_name":"Paula T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694471414,"creation_date":1694471414,"answer_id":77085095,"question_id":73810994,"body_markdown":"Probably won&#39;t help this exact case, but since this is the top search result I&#39;ll add this in case it&#39;s helpful to others: \r\n\r\nIt turns out interfaces can complicate things and result in this jackson error. This guide helped me: https://andrewtarry.com/posts/deserialising-an-interface-with-jackson/ ","title":"No Creators, like default constructor, exist, Cannot deserialize from Object value (no delegate- or property-based Creator)","body":"<p>Probably won't help this exact case, but since this is the top search result I'll add this in case it's helpful to others:</p>\n<p>It turns out interfaces can complicate things and result in this jackson error. This guide helped me: <a href=\"https://andrewtarry.com/posts/deserialising-an-interface-with-jackson/\" rel=\"nofollow noreferrer\">https://andrewtarry.com/posts/deserialising-an-interface-with-jackson/</a></p>\n"},{"tags":[],"owner":{"account_id":21921969,"reputation":56,"user_id":16205098,"display_name":"Vasyl Ivanochko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694471781,"creation_date":1694471781,"answer_id":77085116,"question_id":73810994,"body_markdown":"You have two variants of what to do:\r\n\r\n 1. Use `@Builder` instead of `@Builder(builderClassName = &quot;Builder&quot;)`. Lombok will create the builder name automatically.\r\n 2. Add `@NoArgsConstructor` and `@Setter` annotations on the class level.","title":"No Creators, like default constructor, exist, Cannot deserialize from Object value (no delegate- or property-based Creator)","body":"<p>You have two variants of what to do:</p>\n<ol>\n<li>Use <code>@Builder</code> instead of <code>@Builder(builderClassName = &quot;Builder&quot;)</code>. Lombok will create the builder name automatically.</li>\n<li>Add <code>@NoArgsConstructor</code> and <code>@Setter</code> annotations on the class level.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694472890,"creation_date":1694472276,"answer_id":77085147,"question_id":73810994,"body_markdown":"Adding the [`@Jacksonized`](https://projectlombok.org/features/experimental/Jacksonized) Lombok annotation to your class got it working for me:\r\n\r\n```lang-java\r\n@Getter\r\n@Builder(builderClassName = &quot;Builder&quot;)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@Jacksonized\r\npublic class Test {\r\n```\r\n\r\nPer the Lombok documentation:\r\n\r\n&gt; The `@Jacksonized` annotation is an add-on annotation for [`@Builder`](https://projectlombok.org/features/Builder) and [`@SuperBuilder`](https://projectlombok.org/features/experimental/SuperBuilder). It automatically configures the generated builder class to be used by [Jackson](https://github.com/FasterXML/jackson)&#39;s deserialization. It only has an effect if present at a context where there is also a `@Builder` or a `@SuperBuilder`; a warning is emitted otherwise.\r\n&gt; \r\n&gt; Without `@Jacksonized`, you would have to customize your builder class(es). With `@Jacksonized`, you can simply write something like this to let Jackson use the generated builder:\r\n&gt; \r\n&gt; ```lang-java\r\n&gt; @Jacksonized @Builder\r\n&gt; @JsonIgnoreProperties(ignoreUnknown = true)\r\n&gt; public class JacksonExample {\r\n&gt; \tprivate List&lt;Foo&gt; foos;\r\n&gt; }\r\n&gt; ```\r\n\r\n","title":"No Creators, like default constructor, exist, Cannot deserialize from Object value (no delegate- or property-based Creator)","body":"<p>Adding the <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\"><code>@Jacksonized</code></a> Lombok annotation to your class got it working for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder(builderClassName = &quot;Builder&quot;)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Jacksonized\npublic class Test {\n</code></pre>\n<p>Per the Lombok documentation:</p>\n<blockquote>\n<p>The <code>@Jacksonized</code> annotation is an add-on annotation for <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\"><code>@Builder</code></a> and <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\"><code>@SuperBuilder</code></a>. It automatically configures the generated builder class to be used by <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>'s deserialization. It only has an effect if present at a context where there is also a <code>@Builder</code> or a <code>@SuperBuilder</code>; a warning is emitted otherwise.</p>\n<p>Without <code>@Jacksonized</code>, you would have to customize your builder class(es). With <code>@Jacksonized</code>, you can simply write something like this to let Jackson use the generated builder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Jacksonized @Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class JacksonExample {\n  private List&lt;Foo&gt; foos;\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4024,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694472890,"creation_date":1663832687,"question_id":73810994,"body_markdown":"I am getting this error for this class while deserializing the data, any input what I am doing wrong here.  No Creators, like default constructor, exist, Cannot deserialize from Object value (no delegate- or property-based Creator)\r\n    \r\n     @Getter\r\n    @Builder(builderClassName = &quot;Builder&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n      public class Test\r\n    {\r\n    \r\n    public Test(String service, String user) {\r\n            this.service = service;\r\n            this.user = user;\r\n        }\r\n       \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n       \r\n        @JsonProperty(&quot;service&quot;)\r\n        private String service;\r\n    \r\n        \r\n        @JsonProperty(&quot;user&quot;)\r\n        private String user;\r\n    \r\n        \r\n        @SuppressWarnings(&quot;java:S2094&quot;)\r\n        public static class Builder\r\n        {\r\n           \r\n        }\r\n    }","title":"No Creators, like default constructor, exist, Cannot deserialize from Object value (no delegate- or property-based Creator)","body":"<p>I am getting this error for this class while deserializing the data, any input what I am doing wrong here.  No Creators, like default constructor, exist, Cannot deserialize from Object value (no delegate- or property-based Creator)</p>\n<pre><code> @Getter\n@Builder(builderClassName = &quot;Builder&quot;)\n@JsonIgnoreProperties(ignoreUnknown = true)\n  public class Test\n{\n\npublic Test(String service, String user) {\n        this.service = service;\n        this.user = user;\n    }\n   \n    private static final long serialVersionUID = 1L;\n\n   \n    @JsonProperty(&quot;service&quot;)\n    private String service;\n\n    \n    @JsonProperty(&quot;user&quot;)\n    private String user;\n\n    \n    @SuppressWarnings(&quot;java:S2094&quot;)\n    public static class Builder\n    {\n       \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","intellij-idea","backend"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1658162663,"post_id":73025635,"comment_id":128977818,"body_markdown":"It looks like there is no version of hs-test with the version &quot;release-SNAPSHOT&quot;. Some more info on [this wiki page](https://github.com/hyperskill/hs-test/wiki/Initial-setup). Try modifying your `build.gradle` file to use a different version than &quot;release-SNAPSHOT&quot; of hs-test.","body":"It looks like there is no version of hs-test with the version &quot;release-SNAPSHOT&quot;. Some more info on <a href=\"https://github.com/hyperskill/hs-test/wiki/Initial-setup\" rel=\"nofollow noreferrer\">this wiki page</a>. Try modifying your <code>build.gradle</code> file to use a different version than &quot;release-SNAPSHOT&quot; of hs-test."}],"answers":[{"comments":[{"owner":{"account_id":25357689,"reputation":21,"user_id":19173547,"display_name":"Catalin Danis"},"score":0,"creation_date":1658225547,"post_id":73028088,"comment_id":128993170,"body_markdown":"still not worked","body":"still not worked"}],"tags":[],"owner":{"account_id":19124458,"reputation":56,"user_id":13967728,"display_name":"Ilnur Galimov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658175149,"creation_date":1658175149,"answer_id":73028088,"question_id":73025635,"body_markdown":"Could you please select JDK 17 as Gradle JVM in **Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle**?\r\nAfter that, please ensure that JDK 17 is selected as Project SDK in **File | Project Structure**.","title":"Intellij idea error when checking hyperskill project","body":"<p>Could you please select JDK 17 as Gradle JVM in <strong>Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle</strong>?\nAfter that, please ensure that JDK 17 is selected as Project SDK in <strong>File | Project Structure</strong>.</p>\n"},{"comments":[{"owner":{"account_id":25357689,"reputation":21,"user_id":19173547,"display_name":"Catalin Danis"},"score":0,"creation_date":1658244419,"post_id":73028706,"comment_id":129001127,"body_markdown":"thanks it worked !!! (you need to modifiy testImplementation)","body":"thanks it worked !!! (you need to modifiy testImplementation)"},{"owner":{"account_id":3761787,"reputation":766,"user_id":3126507,"display_name":"satuser"},"score":0,"creation_date":1666403985,"post_id":73028706,"comment_id":130935794,"body_markdown":"after following this answer still problem persist then go to path specified in the error message and delete SNAPSHOT folder and try. it worked for me.","body":"after following this answer still problem persist then go to path specified in the error message and delete SNAPSHOT folder and try. it worked for me."}],"tags":[],"owner":{"account_id":25592385,"reputation":61,"user_id":19368886,"display_name":"dogemillionkam"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694472529,"creation_date":1658178821,"answer_id":73028706,"question_id":73025635,"body_markdown":"Go to the `build.gradle` file for this project and replace the following line:\r\n```\r\n&#39;com.github.hyperskill:hs-test:release-SNAPSHOT&#39;\r\n```\r\nWith\r\n```\r\n&#39;com.github.hyperskill:hs-test:master-SNAPSHOT&#39;\r\n```\r\nIt seems that the `release` branch has an error, so change it to `master`.\r\n\r\nThen, open up IntelliJ and restart Gradle.\r\n\r\n","title":"Intellij idea error when checking hyperskill project","body":"<p>Go to the <code>build.gradle</code> file for this project and replace the following line:</p>\n<pre><code>'com.github.hyperskill:hs-test:release-SNAPSHOT'\n</code></pre>\n<p>With</p>\n<pre><code>'com.github.hyperskill:hs-test:master-SNAPSHOT'\n</code></pre>\n<p>It seems that the <code>release</code> branch has an error, so change it to <code>master</code>.</p>\n<p>Then, open up IntelliJ and restart Gradle.</p>\n"}],"owner":{"account_id":25357689,"reputation":21,"user_id":19173547,"display_name":"Catalin Danis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694472529,"creation_date":1658161708,"question_id":73025635,"body_markdown":"I am currently working on Hyperskill (JetBrains academy) on Java Backend Developer track. Every project that I try to check from the Intellij Idea IDE gives me this error:\r\n\r\nFailed to launch checking\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:Simple_Search_Engine-task:compileTestJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:Simple_Search_Engine-task:testCompileClasspath&#39;.\r\n   &gt; Could not find com.github.hyperskill:hs-test:release-SNAPSHOT.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/com/github/hyperskill/hs-test/release-SNAPSHOT/maven-metadata.xml\r\n       - https://repo.maven.apache.org/maven2/com/github/hyperskill/hs-test/release-SNAPSHOT/hs-test-release-SNAPSHOT.pom\r\n       - https://jitpack.io/com/github/hyperskill/hs-test/release-SNAPSHOT/maven-metadata.xml\r\n       - https://jitpack.io/com/github/hyperskill/hs-test/release-SNAPSHOT/hs-test-release-v8-g6845035-132.pom\r\n     Required by:\r\n         project :Simple_Search_Engine-task\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3s\r\n\r\n&gt; Task :Simple_Search_Engine-task:compileJava UP-TO-DATE\r\n&gt; Task :Simple_Search_Engine-task:processResources NO-SOURCE\r\n&gt; Task :Simple_Search_Engine-task:classes UP-TO-DATE\r\n&gt; Task :util:compileJava NO-SOURCE\r\n&gt; Task :util:processResources NO-SOURCE\r\n&gt; Task :util:classes UP-TO-DATE\r\n&gt; Task :util:compileTestJava NO-SOURCE\r\n&gt; Task :util:processTestResources NO-SOURCE\r\n&gt; Task :util:testClasses UP-TO-DATE\r\n&gt; Task :Simple_Search_Engine-task:compileTestJava FAILED\r\n2 actionable tasks: 1 executed, 1 up-to-date\r\n\r\nMy project: https://drive.google.com/drive/folders/1xEV47YXdkVRUfB0JPSEkmcPtBbb5rbvJ?usp=sharing \r\n\r\nProject from hyperskill: https://hyperskill.org/projects/66?track=12\r\n\r\nI tried reinstalling the IDE or changing the project that I am working but the same errors. When I am uploading the solve directly on hyperskill website it works perfectly fine.\r\n\r\nHere is also a video if it is more helpful: https://youtu.be/nvrpHuVq44A\r\n\r\nPlease help me! :D","title":"Intellij idea error when checking hyperskill project","body":"<p>I am currently working on Hyperskill (JetBrains academy) on Java Backend Developer track. Every project that I try to check from the Intellij Idea IDE gives me this error:</p>\n<p>Failed to launch checking</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':Simple_Search_Engine-task:compileTestJava'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':Simple_Search_Engine-task:testCompileClasspath'.\nCould not find com.github.hyperskill:hs-test:release-SNAPSHOT.\nSearched in the following locations:\n- <a href=\"https://repo.maven.apache.org/maven2/com/github/hyperskill/hs-test/release-SNAPSHOT/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/github/hyperskill/hs-test/release-SNAPSHOT/maven-metadata.xml</a>\n- <a href=\"https://repo.maven.apache.org/maven2/com/github/hyperskill/hs-test/release-SNAPSHOT/hs-test-release-SNAPSHOT.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/github/hyperskill/hs-test/release-SNAPSHOT/hs-test-release-SNAPSHOT.pom</a>\n- <a href=\"https://jitpack.io/com/github/hyperskill/hs-test/release-SNAPSHOT/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://jitpack.io/com/github/hyperskill/hs-test/release-SNAPSHOT/maven-metadata.xml</a>\n- <a href=\"https://jitpack.io/com/github/hyperskill/hs-test/release-SNAPSHOT/hs-test-release-v8-g6845035-132.pom\" rel=\"nofollow noreferrer\">https://jitpack.io/com/github/hyperskill/hs-test/release-SNAPSHOT/hs-test-release-v8-g6845035-132.pom</a>\nRequired by:\nproject :Simple_Search_Engine-task</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 3s</p>\n<blockquote>\n<p>Task :Simple_Search_Engine-task:compileJava UP-TO-DATE\nTask :Simple_Search_Engine-task:processResources NO-SOURCE\nTask :Simple_Search_Engine-task:classes UP-TO-DATE\nTask :util:compileJava NO-SOURCE\nTask :util:processResources NO-SOURCE\nTask :util:classes UP-TO-DATE\nTask :util:compileTestJava NO-SOURCE\nTask :util:processTestResources NO-SOURCE\nTask :util:testClasses UP-TO-DATE\nTask :Simple_Search_Engine-task:compileTestJava FAILED\n2 actionable tasks: 1 executed, 1 up-to-date</p>\n</blockquote>\n<p>My project: <a href=\"https://drive.google.com/drive/folders/1xEV47YXdkVRUfB0JPSEkmcPtBbb5rbvJ?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1xEV47YXdkVRUfB0JPSEkmcPtBbb5rbvJ?usp=sharing</a></p>\n<p>Project from hyperskill: <a href=\"https://hyperskill.org/projects/66?track=12\" rel=\"nofollow noreferrer\">https://hyperskill.org/projects/66?track=12</a></p>\n<p>I tried reinstalling the IDE or changing the project that I am working but the same errors. When I am uploading the solve directly on hyperskill website it works perfectly fine.</p>\n<p>Here is also a video if it is more helpful: <a href=\"https://youtu.be/nvrpHuVq44A\" rel=\"nofollow noreferrer\">https://youtu.be/nvrpHuVq44A</a></p>\n<p>Please help me! :D</p>\n"},{"tags":["java","java-8","hibernate-validator","websphere-9"],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694472121,"creation_date":1694472121,"question_id":77085138,"body_markdown":"I am maintaining an old application that is built on Java 8 and deployed in a WebSphere 9.\r\n\r\nI&#39;ve added `javax.validation.constraints.Past` annotation in a `java.time.LocalDateTime` field, like this:\r\n\r\n\t@Past\r\n\tprivate LocalDateTime dataMandato;\r\n\r\nMy dependencies:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.1&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nBut when I deploy the code and execute it I get:\r\n\r\n    javax.validation.UnexpectedTypeException: No validator could be found for type java.time.LocalDateTime. See: @Past at private java.time.LocalDateTime br.com.company.project.dto.pessoa.EntradaCadastroPessoaFisicaDTO.dataMandato\r\n\r\nAnd in my WebSphere shared libs I have the following:\r\n\r\n[![WebSphere shared libs][1]][1]\r\n\r\nAm I missing any other dependency?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qj0P9.png","title":"javax.validation.UnexpectedTypeException: No validator could be found for type java.time.LocalDateTime. See: @Past at private java.time.LocalDateTime","body":"<p>I am maintaining an old application that is built on Java 8 and deployed in a WebSphere 9.</p>\n<p>I've added <code>javax.validation.constraints.Past</code> annotation in a <code>java.time.LocalDateTime</code> field, like this:</p>\n<pre><code>@Past\nprivate LocalDateTime dataMandato;\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;8.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.6.15.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.2.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n    &lt;version&gt;5.6.15.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But when I deploy the code and execute it I get:</p>\n<pre><code>javax.validation.UnexpectedTypeException: No validator could be found for type java.time.LocalDateTime. See: @Past at private java.time.LocalDateTime br.com.company.project.dto.pessoa.EntradaCadastroPessoaFisicaDTO.dataMandato\n</code></pre>\n<p>And in my WebSphere shared libs I have the following:</p>\n<p><a href=\"https://i.stack.imgur.com/qj0P9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qj0P9.png\" alt=\"WebSphere shared libs\" /></a></p>\n<p>Am I missing any other dependency?</p>\n"},{"tags":["java","spring-boot","influxdb","micrometer","spring-micrometer"],"answers":[{"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688453746,"post_id":76601030,"comment_id":135072390,"body_markdown":"Hm, if I got you correctly I should call `Metrics.counter(&quot;registration.upsigned&quot;).step();` between those two lines from the question?","body":"Hm, if I got you correctly I should call <code>Metrics.counter(&quot;registration.upsigned&quot;).step();</code> between those two lines from the question?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688473215,"post_id":76601030,"comment_id":135076369,"body_markdown":"Sorry for the late reply. No @Grim, I think there is no such functionality: the test increases the clock using `config.step()` but only for testing purposes, you shouldn&#39;t use it, I don&#39;t know if it is even possible. I tried meaning that your log trace will always output the last interval recorded value, never the actual one.  Perhaps, a way to go could be using [`LoggingMeterRegistry`](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/logging/LoggingMeterRegistry.java): it will behave as described too, but I think it could","body":"Sorry for the late reply. No @Grim, I think there is no such functionality: the test increases the clock using <code>config.step()</code> but only for testing purposes, you shouldn&#39;t use it, I don&#39;t know if it is even possible. I tried meaning that your log trace will always output the last interval recorded value, never the actual one.  Perhaps, a way to go could be using <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/logging/LoggingMeterRegistry.java\" rel=\"nofollow noreferrer\"><code>LoggingMeterRegistry</code></a>: it will behave as described too, but I think it could"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688473237,"post_id":76601030,"comment_id":135076376,"body_markdown":"give you a proper logging.","body":"give you a proper logging."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688475200,"post_id":76601030,"comment_id":135076837,"body_markdown":"Sorry I do no get the point.","body":"Sorry I do no get the point."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688490178,"post_id":76601030,"comment_id":135079979,"body_markdown":"My bad @Grim, I am afraid I explained myself in a confusing way, please, forget the previous comments. Please, could you review my updated answer? I hope it makes everything more clear.","body":"My bad @Grim, I am afraid I explained myself in a confusing way, please, forget the previous comments. Please, could you review my updated answer? I hope it makes everything more clear."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688798435,"post_id":76601030,"comment_id":135124901,"body_markdown":"Hm, I do not understand your diagram. Since it is not clear what `Current` represents, is the value **After the operation** meant? Could you guide me how to read this exotic diagram or use a proper UML diagram?","body":"Hm, I do not understand your diagram. Since it is not clear what <code>Current</code> represents, is the value <b>After the operation</b> meant? Could you guide me how to read this exotic diagram or use a proper UML diagram?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688829349,"post_id":76601030,"comment_id":135127991,"body_markdown":"Sorry @Grim, is the diagram presented in the official micrometer documentation, Any way, I prepared one &quot;UML&quot; diagram manually. Please, could you review it? I hope it makes everything clear.","body":"Sorry @Grim, is the diagram presented in the official micrometer documentation, Any way, I prepared one &quot;UML&quot; diagram manually. Please, could you review it? I hope it makes everything clear."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688835221,"post_id":76601030,"comment_id":135128621,"body_markdown":"Ok, now I absolutly understand your point. Please let me check that!","body":"Ok, now I absolutly understand your point. Please let me check that!"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688853472,"post_id":76601030,"comment_id":135130399,"body_markdown":"That is great @Grim. I hope it helps.","body":"That is great @Grim. I hope it helps."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688929955,"post_id":76601030,"comment_id":135137254,"body_markdown":"I updated the answer with a small program to illustrate the described behavior. I hope it helps in some way","body":"I updated the answer with a small program to illustrate the described behavior. I hope it helps in some way"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688975322,"post_id":76601030,"comment_id":135141800,"body_markdown":"About 10 Minutes I count-up every 30 seconds. The value does not increase.","body":"About 10 Minutes I count-up every 30 seconds. The value does not increase."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1688978627,"post_id":76601030,"comment_id":135142573,"body_markdown":"Hi @Grim. Please, can you share your configuration and the test you performed? As you can see, although I used `SimpleMeterRegistry` in the example program, the behavior should be the same for InfluxDB. the underlying step behavior is the same.","body":"Hi @Grim. Please, can you share your configuration and the test you performed? As you can see, although I used <code>SimpleMeterRegistry</code> in the example program, the behavior should be the same for InfluxDB. the underlying step behavior is the same."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688992586,"post_id":76601030,"comment_id":135145476,"body_markdown":"Hey. We could do a live-session if you like. Send me the link to a google-meet and I will join and share my screen.","body":"Hey. We could do a live-session if you like. Send me the link to a google-meet and I will join and share my screen."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689006457,"post_id":76601030,"comment_id":135149013,"body_markdown":"I am sorry @Grim, I just realized your message. Sorry, I will be glad to help you in anything you need to, but I prefer not meeting with anybody outside of the site, I am sorry, I hope you understand.  Please,  can you share a simple code snippet of how you are perming the test?","body":"I am sorry @Grim, I just realized your message. Sorry, I will be glad to help you in anything you need to, but I prefer not meeting with anybody outside of the site, I am sorry, I hope you understand.  Please,  can you share a simple code snippet of how you are perming the test?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689071238,"post_id":76601030,"comment_id":135158007,"body_markdown":"`\t/**\n\t * Test the counter for grafana.\n\t */\n\t@Scheduled(fixedDelay = EVERY_30SECONDS)\n\tpublic void heartBeat() {\n\t\tMetrics.counter(&quot;heartBeat&quot;).increment();\n\t\tLOG.info(&quot;Heartbeat hit count of &quot; + Metrics.counter(&quot;heartBeat&quot;).count() + &quot;. The class of the counter is: &quot;\n\t\t\t\t+ Metrics.counter(&quot;heartBeat&quot;).getClass().getCanonicalName());\n\t}` I did it about 10 minutes. The metric is 0 or 2, no further incrementation. After 10 minutes: `INFORMATION: Heartbeat hit count of 2.0. The class of the counter is: io.micrometer.core.instrument.composite.CompositeCounter`","body":"`\t/** \t * Test the counter for grafana. \t */ \t@Scheduled(fixedDelay = EVERY_30SECONDS) \tpublic void heartBeat() { \t\tMetrics.counter(&quot;heartBeat&quot;).increment(); \t\tLOG.info(&quot;Heartbeat hit count of &quot; + Metrics.counter(&quot;heartBeat&quot;).count() + &quot;. The class of the counter is: &quot; \t\t\t\t+ Metrics.counter(&quot;heartBeat&quot;).getClass().getCanonicalName()); \t}` I did it about 10 minutes. The metric is 0 or 2, no further incrementation. After 10 minutes: <code>INFORMATION: Heartbeat hit count of 2.0. The class of the counter is: io.micrometer.core.instrument.composite.CompositeCounter</code>"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689075940,"post_id":76601030,"comment_id":135158984,"body_markdown":"Thank you very much for sharing your test @Grim. Nice implementation by the way. Please, let me check it out: I am concerned about the reason why the counter is a composite one.","body":"Thank you very much for sharing your test @Grim. Nice implementation by the way. Please, let me check it out: I am concerned about the reason why the counter is a composite one."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689076954,"post_id":76601030,"comment_id":135159163,"body_markdown":"@Grim What logs do you obtain every 30 seconds? If you configured your step interval 1 minute and you are performing the test every 30 seconds the values `0` and `2` could be valid ones: 2 increments of 1 in a minute, interval elapsed, and reset to zero. Please, can you share the log output?","body":"@Grim What logs do you obtain every 30 seconds? If you configured your step interval 1 minute and you are performing the test every 30 seconds the values <code>0</code> and <code>2</code> could be valid ones: 2 increments of 1 in a minute, interval elapsed, and reset to zero. Please, can you share the log output?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689078663,"post_id":76601030,"comment_id":135159552,"body_markdown":"I shared the log-output already. The log-output does not change but repeat 20 times in 10 minutes.","body":"I shared the log-output already. The log-output does not change but repeat 20 times in 10 minutes."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689080117,"post_id":76601030,"comment_id":135159942,"body_markdown":"I understand @Grim, thank you.","body":"I understand @Grim, thank you."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689097819,"post_id":76601030,"comment_id":135164009,"body_markdown":"@Grim I think the logs still make sense: my previous comment was not right enough, I said that the test is performed every 30 seconds with a step interval of 1 minute, and that the logs report `2` for the two increments and then it reset the count to `0`, but it is not true, it reset the count to the current incremented value, which, according to your setup turns out to be `2` as well. To confirm the hypothesis please, try using the following code:","body":"@Grim I think the logs still make sense: my previous comment was not right enough, I said that the test is performed every 30 seconds with a step interval of 1 minute, and that the logs report <code>2</code> for the two increments and then it reset the count to <code>0</code>, but it is not true, it reset the count to the current incremented value, which, according to your setup turns out to be <code>2</code> as well. To confirm the hypothesis please, try using the following code:"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689097889,"post_id":76601030,"comment_id":135164025,"body_markdown":"`/** * Test the counter for grafana. */\n@Scheduled(fixedDelay = EVERY_30SECONDS)\npublic void heartBeat() {\n  // Consider define r as an instance variable\n  Random r = new Random();\n  int amount = r.nextInt(10) + 1;\n  Metrics.counter(&quot;heartBeat&quot;).increment(amount);\n  LOG.info(&quot;Heartbeat hit count of &quot; + Metrics.counter(&quot;heartBeat&quot;).count() + &quot;. Amount incremented: &quot; + amount + &quot;. The class of the counter is: &quot; + Metrics.counter(&quot;heartBeat&quot;).getClass().getCanonicalName());\n}`\n\nDoes the log makes more sense?","body":"<code>&#47;** * Test the counter for grafana. *&#47; @Scheduled(fixedDelay = EVERY_30SECONDS) public void heartBeat() {   &#47;&#47; Consider define r as an instance variable   Random r = new Random();   int amount = r.nextInt(10) + 1;   Metrics.counter(&quot;heartBeat&quot;).increment(amount);   LOG.info(&quot;Heartbeat hit count of &quot; + Metrics.counter(&quot;heartBeat&quot;).count() + &quot;. Amount incremented: &quot; + amount + &quot;. The class of the counter is: &quot; + Metrics.counter(&quot;heartBeat&quot;).getClass().getCanonicalName()); }</code>  Does the log makes more sense?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689098002,"post_id":76601030,"comment_id":135164052,"body_markdown":"On the other hand, forgive me, please, I forgot that we are using Spring Boot, not only Micrometer. The logs indicates that you are using a `CompositeCounter` because Spring Boot configures Micrometer in that way in order to be able to register every `MeterRegistry` implementation you need to, mostly by introspecting your classpath.","body":"On the other hand, forgive me, please, I forgot that we are using Spring Boot, not only Micrometer. The logs indicates that you are using a <code>CompositeCounter</code> because Spring Boot configures Micrometer in that way in order to be able to register every <code>MeterRegistry</code> implementation you need to, mostly by introspecting your classpath."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689197654,"post_id":76601030,"comment_id":135181147,"body_markdown":"@Grim Were you able to perform the suggested test? Perhaps, running it with a scheduled delay of 1 minute, the same value than your step interval could be of help as well.","body":"@Grim Were you able to perform the suggested test? Perhaps, running it with a scheduled delay of 1 minute, the same value than your step interval could be of help as well."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689198270,"post_id":76601030,"comment_id":135181222,"body_markdown":"Sorry, I just realized your answer. Does it mean that the test is still failing?","body":"Sorry, I just realized your answer. Does it mean that the test is still failing?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689198876,"post_id":76601030,"comment_id":135181305,"body_markdown":"No, I did not executed the test. Not even once. I do not know if the test is failing or passing. A test is not allowed to change the live code. So whatever the test fail or pass, the problem will remain unchanged. Althou you have all informations yourself to find out if the test pass or fail. If you like to know if the test fail or pass, you could easily test it yourself. I see no benefit in executing your test to solve my problem.","body":"No, I did not executed the test. Not even once. I do not know if the test is failing or passing. A test is not allowed to change the live code. So whatever the test fail or pass, the problem will remain unchanged. Althou you have all informations yourself to find out if the test pass or fail. If you like to know if the test fail or pass, you could easily test it yourself. I see no benefit in executing your test to solve my problem."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689199498,"post_id":76601030,"comment_id":135181382,"body_markdown":"I understand @Grim, sorry, I proposed you to perform the test because it is based in the one you provided with minimal tweaks, so I think it could be worth value to check it out because I think in fact everything is working properly and that the value `2` in your logs is just a coincidence of the combination of your increment, step interval, and fixed delay. In any way, you are right, I will try to perform the test myself. Sorry again.","body":"I understand @Grim, sorry, I proposed you to perform the test because it is based in the one you provided with minimal tweaks, so I think it could be worth value to check it out because I think in fact everything is working properly and that the value <code>2</code> in your logs is just a coincidence of the combination of your increment, step interval, and fixed delay. In any way, you are right, I will try to perform the test myself. Sorry again."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689199896,"post_id":76601030,"comment_id":135181422,"body_markdown":"As written in the question, there are two indicators that it is not working properly. The indicator is that neither the log nor the graph increment. Also, if the test fail or pass does not help me changing the code accordingly to increment the value correctly. If however the testresult give another idea, please post it as a answer, I will test it since you show hugh effort to solve this question.","body":"As written in the question, there are two indicators that it is not working properly. The indicator is that neither the log nor the graph increment. Also, if the test fail or pass does not help me changing the code accordingly to increment the value correctly. If however the testresult give another idea, please post it as a answer, I will test it since you show hugh effort to solve this question."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689200357,"post_id":76601030,"comment_id":135181483,"body_markdown":"Yes @Grim, I understand your point. I will try to review the whole setup again: in my answer, I always try describing the InfluxDB meter registry in the context of micrometer standalone, but certainly Spring Boot could be introducing a different behavior. I am sorry if I confused you in any way, it wasn&#39;t my intention. I hope to be able to come back to you again with a suitable solution in this context.","body":"Yes @Grim, I understand your point. I will try to review the whole setup again: in my answer, I always try describing the InfluxDB meter registry in the context of micrometer standalone, but certainly Spring Boot could be introducing a different behavior. I am sorry if I confused you in any way, it wasn&#39;t my intention. I hope to be able to come back to you again with a suitable solution in this context."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689200660,"post_id":76601030,"comment_id":135181531,"body_markdown":"It is not your task, the micrometer ppl are more repsonsible I think. Let me frankly say it this way: Mind your own business. Love.","body":"It is not your task, the micrometer ppl are more repsonsible I think. Let me frankly say it this way: Mind your own business. Love."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689200895,"post_id":76601030,"comment_id":135181559,"body_markdown":"You are right @Grim, thanks. Either way, I&#39;m sorry I couldn&#39;t help you mate.","body":"You are right @Grim, thanks. Either way, I&#39;m sorry I couldn&#39;t help you mate."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":30,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1688918510,"creation_date":1688337300,"answer_id":76601030,"question_id":76504609,"body_markdown":"The behavior you described could be explained by the following.\r\n\r\nAs indicated in my original answer [InfluxMeterRegistry](https://github.com/micrometer-metrics/micrometer/blob/main/implementations/micrometer-registry-influx/src/main/java/io/micrometer/influx/InfluxMeterRegistry.java) under the hood uses [`StepCounter`s](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepCounter.java) to implement counters.\r\n\r\nTo obtain the actual `count` `StepCounter` uses the [following code](https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepCounter.java#L43-L46):\r\n\r\n```java\r\n@Override\r\npublic double count() {\r\n    return value.poll();\r\n}\r\n```\r\n\r\nwhere value turns out to be a convenient [implementation for handling `double` values](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepDouble.java) of the [`StepValue` class](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepValue.java).\r\n\r\nPlease, be aware that when describing `poll`, they [indicate](https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepValue.java#L81-L87):\r\n\r\n```java\r\n/**\r\n * @return The value for the last completed interval.\r\n */\r\npublic V poll() {\r\n    rollCount(clock.wallTime());\r\n    return previous;\r\n}\r\n```\r\n\r\ni.e. it is reporting the value for the last completed interval, not the actual one.\r\n\r\nConsider review [this test](https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/test/java/io/micrometer/core/instrument/step/StepValueTest.java#L33-L76), reproduced here for completeness, I think it describes the programmed behavior in a very clear way:\r\n\r\n```java\r\n@Test\r\nvoid poll() {\r\n    final AtomicLong aLong = new AtomicLong(42);\r\n    final long stepTime = 60;\r\n\r\n\r\n    final StepValue&lt;Long&gt; stepValue = new StepValue&lt;Long&gt;(clock, stepTime) {\r\n        @Override\r\n        public Supplier&lt;Long&gt; valueSupplier() {\r\n            return () -&gt; aLong.getAndSet(0);\r\n        }\r\n\r\n\r\n        @Override\r\n        public Long noValue() {\r\n            return 0L;\r\n        }\r\n    };\r\n\r\n\r\n    assertThat(stepValue.poll()).isEqualTo(0L);\r\n\r\n\r\n    clock.add(Duration.ofMillis(1));\r\n    assertThat(stepValue.poll()).isEqualTo(0L);\r\n\r\n\r\n    clock.add(Duration.ofMillis(59));\r\n    assertThat(stepValue.poll()).isEqualTo(42L);\r\n\r\n\r\n    clock.add(Duration.ofMillis(60));\r\n    assertThat(stepValue.poll()).isEqualTo(0L);\r\n\r\n\r\n    clock.add(Duration.ofMillis(60));\r\n    assertThat(stepValue.poll()).isEqualTo(0L);\r\n\r\n\r\n    aLong.set(24);\r\n    assertThat(stepValue.poll()).isEqualTo(0L);\r\n\r\n\r\n    clock.add(Duration.ofMillis(60));\r\n    assertThat(stepValue.poll()).isEqualTo(24L);\r\n\r\n\r\n    clock.add(Duration.ofMillis(stepTime / 2));\r\n    aLong.set(27);\r\n    assertThat(stepValue.poll()).isEqualTo(24L);\r\n\r\n\r\n    stepValue._closingRollover();\r\n    assertThat(stepValue.poll()).isEqualTo(27L);\r\n}\r\n```\r\n\r\nNote that for this purpose `increment` is doing something &quot;equivalent&quot; to the different `aLong.set` presented in the previous test code.\r\n\r\nI think [this other test](https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/test/java/io/micrometer/core/instrument/step/StepCounterTest.java#L54-L69) could be of help as well for describing how the value reported is the one for the last completed interval, not the actual one:\r\n\r\n```java\r\n@Test\r\nvoid count() {\r\n    Counter counter = registry.counter(&quot;my.counter&quot;);\r\n\r\n\r\n    assertThat(counter).isInstanceOf(StepCounter.class);\r\n    assertThat(counter.count()).isEqualTo(0);\r\n    counter.increment();\r\n    clock.add(config.step());\r\n    assertThat(counter.count()).isEqualTo(1);\r\n    counter.increment();\r\n    counter.increment(5);\r\n    clock.add(config.step());\r\n    assertThat(counter.count()).isEqualTo(6);\r\n    clock.add(config.step());\r\n    assertThat(counter.count()).isEqualTo(0);\r\n}\r\n```\r\n\r\nIn conclusion, what I tried meaning is that the log in your code fragment:\r\n\r\n```java\r\nMetrics.counter(&quot;registration.upsigned&quot;).increment();\r\nLOG.info(&quot;Size of registration-counter now: &quot; + Metrics.counter(&quot;registration.upsigned&quot;).count());\r\n```\r\n\r\nwill always print out the value for the last completed interval, not for the current one, and it may be or not the value you expect depending on whether or not the interval in which you performed the `increment` elapsed.\r\n\r\nThat is not specific for InfluxDB but for any Metrics registry implementation based on the step concept.\r\n\r\nIn any case, the most valuable information you can obtain is the one that is actually published to your backend, InfluxDB or the one you defined - which causes among other things the step related values to be polled.\r\n\r\nI don&#39;t know if it will shed some additional light or not, but you can read about this rate data aggregation step based mechanism in the Micrometer documentation when they describe [client side rate aggregation](https://micrometer.io/docs/concepts#_client_side) - please, note that InfluxBD [is one of this client-side rate aggregation monitoring system](https://micrometer.io/docs/concepts#_supported_monitoring_systems). From the docs:\r\n\r\n&gt; Micrometer efficiently maintains rate data by means of a step value \r\n&gt; that accumulates data for the current publishing interval. When the \r\n&gt; step value is polled (when publishing, for example), if the step \r\n&gt; value detects that the current interval has elapsed, it moves \r\n&gt; current data to previous state. This previous state is what is \r\n&gt; reported until the next time current data overwrites it. The \r\n&gt; following image shows the interaction of current and previous \r\n&gt; state, along with polling:\r\n\r\n[![Behavior of a step value][1]][1]\r\n\r\n_\\* From my understanding the arrows signal publish events._\r\n\r\nAs indicated, your log (which, as you can see in the source code presented above, `poll`s when performing `count`) will always report the previous value presented in the image which may or not be the same you expect according to your `increment`s invocations and step intervals (your log may behave as the first `pollAsRate` presented in the image, in which it will print out `0` despite the fact two `increment`s were performed).\r\n\r\nIf you prefer, here is a simplified version of the process, more focused in your example:\r\n\r\n[![uml for process][2]][2]\r\n\r\nPlease, take in mind that a step based counter:\r\n\r\n - Always maintains two values under the hood, the current one, internal, not visible outside the class, and a previous one, visible, the one that is taking into account when publishing data.\r\n - Every step is configured with a time interval for rate aggregation.\r\n - The previous value is updated with the current value when any of two things happen:\r\n    - A poll is requested, either by invoking `count` manually or usually when publishing information to your metrics registry, __and__ the step interval is elapsed.\r\n    - Micrometer shutdowns and claims for a closing rollover, i.e., send the last acquired data to your metrics repository.\r\n\r\nTo illustrate it, please, consider the following test case, I think it could be of help:\r\n\r\n```java\r\nimport java.time.Duration;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport io.micrometer.core.instrument.Clock;\r\nimport io.micrometer.core.instrument.Counter;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport io.micrometer.core.instrument.Tags;\r\nimport io.micrometer.core.instrument.simple.CountingMode;\r\nimport io.micrometer.core.instrument.simple.SimpleConfig;\r\nimport io.micrometer.core.instrument.simple.SimpleMeterRegistry;\r\n\r\npublic class MicrometerTest {\r\n\r\n  @Test\r\n  public void testStepCounterBehavior() {\r\n    Clock clock = Clock.SYSTEM;\r\n    MeterRegistry registry = new SimpleMeterRegistry(new SimpleConfig() {\r\n      @Override\r\n      public String get(String key) {\r\n        return null;\r\n      }\r\n\r\n      @Override\r\n      public CountingMode mode() {\r\n        return CountingMode.STEP;\r\n      }\r\n\r\n      @Override\r\n      public Duration step() {\r\n        return Duration.ofMillis(1000);\r\n      }\r\n    }, clock);\r\n\r\n    double value = -1, previousValue = -1;\r\n    Tags tags = Tags.empty();\r\n    Counter counter = registry.counter(&quot;test.counter&quot;, tags);\r\n    long start = clock.wallTime();\r\n    counter.increment();\r\n\r\n    int i = 0;\r\n    while (clock.wallTime() &lt; start + 5000) {\r\n      value = counter.count();\r\n      if (value != previousValue) {\r\n        System.out.printf(&quot;Current value: %.0f. Elapsed (millis): %d.\\n&quot;, value, clock.wallTime() - start);\r\n        previousValue = value;\r\n        if (i++ == 2) {\r\n          counter.increment(3);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt will output, with some random bias, something similar to:\r\n\r\n```\r\nCurrent value: 0. Elapsed (millis): 0.\r\nCurrent value: 1. Elapsed (millis): 601.\r\nCurrent value: 0. Elapsed (millis): 1600.\r\nCurrent value: 3. Elapsed (millis): 2600.\r\nCurrent value: 0. Elapsed (millis): 3600.\r\n```\r\n\r\nNote that except for the first spurious output which reports a time less than the configured `1` second step interval, I think motivated by the different initialization stuff, the values and time printed are consistent with the explanation provided.\r\n\r\n  [1]: https://i.stack.imgur.com/TKyEY.png\r\n  [2]: https://i.stack.imgur.com/eRrMj.jpg","title":"Spring Boot Metrics.counter(&quot;x&quot;).count() always return 0 for Influxdb","body":"<p>The behavior you described could be explained by the following.</p>\n<p>As indicated in my original answer <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/implementations/micrometer-registry-influx/src/main/java/io/micrometer/influx/InfluxMeterRegistry.java\" rel=\"nofollow noreferrer\">InfluxMeterRegistry</a> under the hood uses <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepCounter.java\" rel=\"nofollow noreferrer\"><code>StepCounter</code>s</a> to implement counters.</p>\n<p>To obtain the actual <code>count</code> <code>StepCounter</code> uses the <a href=\"https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepCounter.java#L43-L46\" rel=\"nofollow noreferrer\">following code</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic double count() {\n    return value.poll();\n}\n</code></pre>\n<p>where value turns out to be a convenient <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepDouble.java\" rel=\"nofollow noreferrer\">implementation for handling <code>double</code> values</a> of the <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepValue.java\" rel=\"nofollow noreferrer\"><code>StepValue</code> class</a>.</p>\n<p>Please, be aware that when describing <code>poll</code>, they <a href=\"https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/main/java/io/micrometer/core/instrument/step/StepValue.java#L81-L87\" rel=\"nofollow noreferrer\">indicate</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @return The value for the last completed interval.\n */\npublic V poll() {\n    rollCount(clock.wallTime());\n    return previous;\n}\n</code></pre>\n<p>i.e. it is reporting the value for the last completed interval, not the actual one.</p>\n<p>Consider review <a href=\"https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/test/java/io/micrometer/core/instrument/step/StepValueTest.java#L33-L76\" rel=\"nofollow noreferrer\">this test</a>, reproduced here for completeness, I think it describes the programmed behavior in a very clear way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid poll() {\n    final AtomicLong aLong = new AtomicLong(42);\n    final long stepTime = 60;\n\n\n    final StepValue&lt;Long&gt; stepValue = new StepValue&lt;Long&gt;(clock, stepTime) {\n        @Override\n        public Supplier&lt;Long&gt; valueSupplier() {\n            return () -&gt; aLong.getAndSet(0);\n        }\n\n\n        @Override\n        public Long noValue() {\n            return 0L;\n        }\n    };\n\n\n    assertThat(stepValue.poll()).isEqualTo(0L);\n\n\n    clock.add(Duration.ofMillis(1));\n    assertThat(stepValue.poll()).isEqualTo(0L);\n\n\n    clock.add(Duration.ofMillis(59));\n    assertThat(stepValue.poll()).isEqualTo(42L);\n\n\n    clock.add(Duration.ofMillis(60));\n    assertThat(stepValue.poll()).isEqualTo(0L);\n\n\n    clock.add(Duration.ofMillis(60));\n    assertThat(stepValue.poll()).isEqualTo(0L);\n\n\n    aLong.set(24);\n    assertThat(stepValue.poll()).isEqualTo(0L);\n\n\n    clock.add(Duration.ofMillis(60));\n    assertThat(stepValue.poll()).isEqualTo(24L);\n\n\n    clock.add(Duration.ofMillis(stepTime / 2));\n    aLong.set(27);\n    assertThat(stepValue.poll()).isEqualTo(24L);\n\n\n    stepValue._closingRollover();\n    assertThat(stepValue.poll()).isEqualTo(27L);\n}\n</code></pre>\n<p>Note that for this purpose <code>increment</code> is doing something &quot;equivalent&quot; to the different <code>aLong.set</code> presented in the previous test code.</p>\n<p>I think <a href=\"https://github.com/micrometer-metrics/micrometer/blob/6f19bf935cd618d3fb88f9af0eaeebc23865963c/micrometer-core/src/test/java/io/micrometer/core/instrument/step/StepCounterTest.java#L54-L69\" rel=\"nofollow noreferrer\">this other test</a> could be of help as well for describing how the value reported is the one for the last completed interval, not the actual one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid count() {\n    Counter counter = registry.counter(&quot;my.counter&quot;);\n\n\n    assertThat(counter).isInstanceOf(StepCounter.class);\n    assertThat(counter.count()).isEqualTo(0);\n    counter.increment();\n    clock.add(config.step());\n    assertThat(counter.count()).isEqualTo(1);\n    counter.increment();\n    counter.increment(5);\n    clock.add(config.step());\n    assertThat(counter.count()).isEqualTo(6);\n    clock.add(config.step());\n    assertThat(counter.count()).isEqualTo(0);\n}\n</code></pre>\n<p>In conclusion, what I tried meaning is that the log in your code fragment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Metrics.counter(&quot;registration.upsigned&quot;).increment();\nLOG.info(&quot;Size of registration-counter now: &quot; + Metrics.counter(&quot;registration.upsigned&quot;).count());\n</code></pre>\n<p>will always print out the value for the last completed interval, not for the current one, and it may be or not the value you expect depending on whether or not the interval in which you performed the <code>increment</code> elapsed.</p>\n<p>That is not specific for InfluxDB but for any Metrics registry implementation based on the step concept.</p>\n<p>In any case, the most valuable information you can obtain is the one that is actually published to your backend, InfluxDB or the one you defined - which causes among other things the step related values to be polled.</p>\n<p>I don't know if it will shed some additional light or not, but you can read about this rate data aggregation step based mechanism in the Micrometer documentation when they describe <a href=\"https://micrometer.io/docs/concepts#_client_side\" rel=\"nofollow noreferrer\">client side rate aggregation</a> - please, note that InfluxBD <a href=\"https://micrometer.io/docs/concepts#_supported_monitoring_systems\" rel=\"nofollow noreferrer\">is one of this client-side rate aggregation monitoring system</a>. From the docs:</p>\n<blockquote>\n<p>Micrometer efficiently maintains rate data by means of a step value\nthat accumulates data for the current publishing interval. When the\nstep value is polled (when publishing, for example), if the step\nvalue detects that the current interval has elapsed, it moves\ncurrent data to previous state. This previous state is what is\nreported until the next time current data overwrites it. The\nfollowing image shows the interaction of current and previous\nstate, along with polling:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/TKyEY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKyEY.png\" alt=\"Behavior of a step value\" /></a></p>\n<p><em>* From my understanding the arrows signal publish events.</em></p>\n<p>As indicated, your log (which, as you can see in the source code presented above, <code>poll</code>s when performing <code>count</code>) will always report the previous value presented in the image which may or not be the same you expect according to your <code>increment</code>s invocations and step intervals (your log may behave as the first <code>pollAsRate</code> presented in the image, in which it will print out <code>0</code> despite the fact two <code>increment</code>s were performed).</p>\n<p>If you prefer, here is a simplified version of the process, more focused in your example:</p>\n<p><a href=\"https://i.stack.imgur.com/eRrMj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eRrMj.jpg\" alt=\"uml for process\" /></a></p>\n<p>Please, take in mind that a step based counter:</p>\n<ul>\n<li>Always maintains two values under the hood, the current one, internal, not visible outside the class, and a previous one, visible, the one that is taking into account when publishing data.</li>\n<li>Every step is configured with a time interval for rate aggregation.</li>\n<li>The previous value is updated with the current value when any of two things happen:\n<ul>\n<li>A poll is requested, either by invoking <code>count</code> manually or usually when publishing information to your metrics registry, <strong>and</strong> the step interval is elapsed.</li>\n<li>Micrometer shutdowns and claims for a closing rollover, i.e., send the last acquired data to your metrics repository.</li>\n</ul>\n</li>\n</ul>\n<p>To illustrate it, please, consider the following test case, I think it could be of help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\n\nimport org.junit.jupiter.api.Test;\n\nimport io.micrometer.core.instrument.Clock;\nimport io.micrometer.core.instrument.Counter;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport io.micrometer.core.instrument.Tags;\nimport io.micrometer.core.instrument.simple.CountingMode;\nimport io.micrometer.core.instrument.simple.SimpleConfig;\nimport io.micrometer.core.instrument.simple.SimpleMeterRegistry;\n\npublic class MicrometerTest {\n\n  @Test\n  public void testStepCounterBehavior() {\n    Clock clock = Clock.SYSTEM;\n    MeterRegistry registry = new SimpleMeterRegistry(new SimpleConfig() {\n      @Override\n      public String get(String key) {\n        return null;\n      }\n\n      @Override\n      public CountingMode mode() {\n        return CountingMode.STEP;\n      }\n\n      @Override\n      public Duration step() {\n        return Duration.ofMillis(1000);\n      }\n    }, clock);\n\n    double value = -1, previousValue = -1;\n    Tags tags = Tags.empty();\n    Counter counter = registry.counter(&quot;test.counter&quot;, tags);\n    long start = clock.wallTime();\n    counter.increment();\n\n    int i = 0;\n    while (clock.wallTime() &lt; start + 5000) {\n      value = counter.count();\n      if (value != previousValue) {\n        System.out.printf(&quot;Current value: %.0f. Elapsed (millis): %d.\\n&quot;, value, clock.wallTime() - start);\n        previousValue = value;\n        if (i++ == 2) {\n          counter.increment(3);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>It will output, with some random bias, something similar to:</p>\n<pre><code>Current value: 0. Elapsed (millis): 0.\nCurrent value: 1. Elapsed (millis): 601.\nCurrent value: 0. Elapsed (millis): 1600.\nCurrent value: 3. Elapsed (millis): 2600.\nCurrent value: 0. Elapsed (millis): 3600.\n</code></pre>\n<p>Note that except for the first spurious output which reports a time less than the configured <code>1</code> second step interval, I think motivated by the different initialization stuff, the values and time printed are consistent with the explanation provided.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694472027,"creation_date":1689196818,"answer_id":76674523,"question_id":76504609,"body_markdown":"# Not possible at the moment (12.07.2023)\r\n\r\nIt might be solved in the future but there was no 100% solution at the moment. It might be better to not use micrometer in Java at the moment, instead a direct influxdb connection might help.\r\n\r\nThis might change in the future, you could check other answers to this question. If there is no other answer this issue might already be solved.","title":"Spring Boot Metrics.counter(&quot;x&quot;).count() always return 0 for Influxdb","body":"<h1>Not possible at the moment (12.07.2023)</h1>\n<p>It might be solved in the future but there was no 100% solution at the moment. It might be better to not use micrometer in Java at the moment, instead a direct influxdb connection might help.</p>\n<p>This might change in the future, you could check other answers to this question. If there is no other answer this issue might already be solved.</p>\n"}],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76674523,"answer_count":2,"score":4,"last_activity_date":1694472027,"creation_date":1687160963,"question_id":76504609,"body_markdown":"Having a spring-boot (2.7.10) application include:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-influx&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nConnecting successfully to InfluxDB.\r\n\r\nNow, executing\r\n\r\n    Metrics.counter(&quot;registration.upsigned&quot;).increment();\r\n\tLOG.info(&quot;Size of registration-counter now: &quot; + Metrics.counter(&quot;registration.upsigned&quot;).count());\r\n\r\nCreate successfully a tick in grafana\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut the logging-result remains 0:\r\n\r\n    19-Jun-2023 07:25:15.282 INFO [https-jsse-nio2-14xx26-443-exec-123] xxx.register Size of registration-counter now: 0.0\r\n\r\nHow to keep increment the counter and surviving reboots of the application?\r\n\r\n  [1]: https://i.stack.imgur.com/E1qXN.png","title":"Spring Boot Metrics.counter(&quot;x&quot;).count() always return 0 for Influxdb","body":"<p>Having a spring-boot (2.7.10) application include:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-influx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Connecting successfully to InfluxDB.</p>\n<p>Now, executing</p>\n<pre><code>Metrics.counter(&quot;registration.upsigned&quot;).increment();\nLOG.info(&quot;Size of registration-counter now: &quot; + Metrics.counter(&quot;registration.upsigned&quot;).count());\n</code></pre>\n<p>Create successfully a tick in grafana</p>\n<p><a href=\"https://i.stack.imgur.com/E1qXN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E1qXN.png\" alt=\"enter image description here\" /></a></p>\n<p>But the logging-result remains 0:</p>\n<pre><code>19-Jun-2023 07:25:15.282 INFO [https-jsse-nio2-14xx26-443-exec-123] xxx.register Size of registration-counter now: 0.0\n</code></pre>\n<p>How to keep increment the counter and surviving reboots of the application?</p>\n"},{"tags":["java","spring-boot","rest","spotify","openfeign"],"owner":{"account_id":29418145,"reputation":1,"user_id":22540492,"display_name":"Pascal Edouard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694471749,"creation_date":1694471749,"question_id":77085115,"body_markdown":"I am building a project that involves authentication with the Spotify API. I managed to get to the first part and receive the access code from the Spotify API. My problem is when I try to make a POST request to https://accounts.spotify.com/api/token . I first make a JSON object with parameters such as the code, the access type and the redirect uri. I also try to send a header with the Authorization information. This is what it looks like\r\n\r\n\r\n```\r\n@FeignClient(name = &quot;authentication&quot;, url = &quot;https://accounts.spotify.com/api/token&quot;)\r\npublic interface AuthenticationProxy {\r\n\r\n    @PostMapping(value = &quot;&quot;, produces = &quot;application/x-www-form-urlencoded&quot;)\r\n    public EntityResponse&lt;SpotifyTokens&gt; getAccessToken\r\n            (@RequestBody JSONObject body,\r\n             @RequestHeader(name = &quot;Authorization&quot;) String authorization);\r\n}\r\n```\r\n\r\nHowever when I launch the application and get to this endpoint this is the response I get :\r\nfeign.FeignException$UnsupportedMediaType: [415 Unsupported Media Type] during [POST] to [https://accounts.spotify.com/api/token] [AuthenticationProxy#getAccessToken(JSONObject,String)]\r\n\r\nDoes anyone knows how to fix this?\r\nThank you.\r\n\r\n\r\nI first tried to send directly my own objects, then I used the JSON dependency to create JSON objects. Then instead of trying to send a body using @RequestBody I tried to send each parameters by themselves using @RequestParam. I have no idea how to fix this.","title":"Get Access Token from Spotify API using OpenFeign (Spring Boot Java)","body":"<p>I am building a project that involves authentication with the Spotify API. I managed to get to the first part and receive the access code from the Spotify API. My problem is when I try to make a POST request to <a href=\"https://accounts.spotify.com/api/token\" rel=\"nofollow noreferrer\">https://accounts.spotify.com/api/token</a> . I first make a JSON object with parameters such as the code, the access type and the redirect uri. I also try to send a header with the Authorization information. This is what it looks like</p>\n<pre><code>@FeignClient(name = &quot;authentication&quot;, url = &quot;https://accounts.spotify.com/api/token&quot;)\npublic interface AuthenticationProxy {\n\n    @PostMapping(value = &quot;&quot;, produces = &quot;application/x-www-form-urlencoded&quot;)\n    public EntityResponse&lt;SpotifyTokens&gt; getAccessToken\n            (@RequestBody JSONObject body,\n             @RequestHeader(name = &quot;Authorization&quot;) String authorization);\n}\n</code></pre>\n<p>However when I launch the application and get to this endpoint this is the response I get :\nfeign.FeignException$UnsupportedMediaType: [415 Unsupported Media Type] during [POST] to [https://accounts.spotify.com/api/token] [AuthenticationProxy#getAccessToken(JSONObject,String)]</p>\n<p>Does anyone knows how to fix this?\nThank you.</p>\n<p>I first tried to send directly my own objects, then I used the JSON dependency to create JSON objects. Then instead of trying to send a body using @RequestBody I tried to send each parameters by themselves using @RequestParam. I have no idea how to fix this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1694468636,"post_id":77084928,"comment_id":135892337,"body_markdown":"Change `double minval = 0;` to `double minval = Double.MAX_VALUE;`","body":"Change <code>double minval = 0;</code> to <code>double minval = Double.MAX_VALUE;</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1694468673,"post_id":77084928,"comment_id":135892342,"body_markdown":"And you want to update it when `minval &gt;`, not `&lt;`.","body":"And you want to update it when <code>minval &gt;</code>, not <code>&lt;</code>."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1694468699,"post_id":77084928,"comment_id":135892344,"body_markdown":"@HovercraftFullOfEels `Double.MAX_VALUE` in Java (you&#39;re thinking of C#), but otherwise correct.","body":"@HovercraftFullOfEels <code>Double.MAX_VALUE</code> in Java (you&#39;re thinking of C#), but otherwise correct."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1694468746,"post_id":77084928,"comment_id":135892349,"body_markdown":"And `int i` is conventionally declared inside the `for` header. And `i&lt;=xlast-1` can be simplified to `i &lt; xlast`.","body":"And <code>int i</code> is conventionally declared inside the <code>for</code> header. And <code>i&lt;=xlast-1</code> can be simplified to <code>i &lt; xlast</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1694468761,"post_id":77084928,"comment_id":135892351,"body_markdown":"@SilvioMayolo: Darn. And I&#39;ve had my coffee this morning, although you&#39;d never know it. Thanks for catching and correcting!","body":"@SilvioMayolo: Darn. And I&#39;ve had my coffee this morning, although you&#39;d never know it. Thanks for catching and correcting!"}],"answers":[{"comments":[{"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"score":1,"creation_date":1694470813,"post_id":77085006,"comment_id":135892624,"body_markdown":"Thank you for the answer, I may implement the stream though I&#39;m not sure. Any idea how I can use the same kind of function but return a string getter which is also the lowest volume object? I&#39;m trying to just insert it in the for loop but it&#39;s not working the way I expected","body":"Thank you for the answer, I may implement the stream though I&#39;m not sure. Any idea how I can use the same kind of function but return a string getter which is also the lowest volume object? I&#39;m trying to just insert it in the for loop but it&#39;s not working the way I expected"},{"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"score":0,"creation_date":1694472344,"post_id":77085006,"comment_id":135892799,"body_markdown":"nevermind figured it out","body":"nevermind figured it out"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694472911,"post_id":77085006,"comment_id":135892854,"body_markdown":"@ThomasHutton, you can convert the returning _double_ value to a _String_ with the _[String#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(double))_ method.","body":"@ThomasHutton, you can convert the returning <i>double</i> value to a <i>String</i> with the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(double)\" rel=\"nofollow noreferrer\">String#valueOf</a></i> method."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694470576,"creation_date":1694469966,"answer_id":77085006,"question_id":77084928,"body_markdown":"&gt; _&quot;... In each iteration of the for loop, `minval` is compared against the next element the array and updated because the next one is larger each time. ...&quot;_\r\n\r\nYour values are incorrect.  \r\nInitialize _minval_ to the first value, and start _i_ at 1.\r\n\r\n```java\r\npublic static double findMinVolume(Solids[]x,int xlast){\r\n    int i = 0;\r\n    double minval = x[0].getVolume();\r\n    for(i=1;i&lt;=xlast-1;i++){\r\n        if (minval &lt; x[i].getVolume())\r\n            minval = x[i].getVolume();\r\n    }\r\n    return minval;\r\n}\r\n```\r\n\r\nAlternately, you can stream _x_, utilizing the _[limit](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#limit(long))_, _[mapToDouble](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#mapToDouble(java.util.function.ToDoubleFunction))_ and _[min](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/DoubleStream.html#min())_ methods.\r\n\r\n```java\r\npublic static double findMinVolume(Solids[]x,int xlast){\r\n    return\r\n        Stream.of(x)\r\n              .limit(xlast - 1)\r\n              .mapToDouble(Solids::getVolume)\r\n              .min()\r\n              .getAsDouble();\r\n}\r\n```","title":"Finding minimum double attribute in array of objects","body":"<blockquote>\n<p><em>&quot;... In each iteration of the for loop, <code>minval</code> is compared against the next element the array and updated because the next one is larger each time. ...&quot;</em></p>\n</blockquote>\n<p>Your values are incorrect.<br />\nInitialize <em>minval</em> to the first value, and start <em>i</em> at 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double findMinVolume(Solids[]x,int xlast){\n    int i = 0;\n    double minval = x[0].getVolume();\n    for(i=1;i&lt;=xlast-1;i++){\n        if (minval &lt; x[i].getVolume())\n            minval = x[i].getVolume();\n    }\n    return minval;\n}\n</code></pre>\n<p>Alternately, you can stream <em>x</em>, utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#limit(long)\" rel=\"nofollow noreferrer\">limit</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#mapToDouble(java.util.function.ToDoubleFunction)\" rel=\"nofollow noreferrer\">mapToDouble</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/DoubleStream.html#min()\" rel=\"nofollow noreferrer\">min</a></em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double findMinVolume(Solids[]x,int xlast){\n    return\n        Stream.of(x)\n              .limit(xlast - 1)\n              .mapToDouble(Solids::getVolume)\n              .min()\n              .getAsDouble();\n}\n</code></pre>\n"}],"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085006,"answer_count":1,"score":0,"last_activity_date":1694470576,"creation_date":1694468584,"question_id":77084928,"body_markdown":"I&#39;m fairly certain I know what is going wrong here, I just don&#39;t know how to fix this. In each iteration of the for loop, `minval` is compared against the next element the array and updated because the next one is larger each time. How do I save the `minval` to be compared each time?\r\n```\r\n    public static double findMinVolume(Solids[]x,int xlast){\r\n        int i = 0;\r\n        double minval = 0;\r\n        for(i=0;i&lt;=xlast-1;i++){\r\n            if (minval &lt; x[i].getVolume())\r\n                minval = x[i].getVolume();\r\n        }\r\n        return minval;\r\n```","title":"Finding minimum double attribute in array of objects","body":"<p>I'm fairly certain I know what is going wrong here, I just don't know how to fix this. In each iteration of the for loop, <code>minval</code> is compared against the next element the array and updated because the next one is larger each time. How do I save the <code>minval</code> to be compared each time?</p>\n<pre><code>    public static double findMinVolume(Solids[]x,int xlast){\n        int i = 0;\n        double minval = 0;\n        for(i=0;i&lt;=xlast-1;i++){\n            if (minval &lt; x[i].getVolume())\n                minval = x[i].getVolume();\n        }\n        return minval;\n</code></pre>\n"},{"tags":["java","android","android-studio","android-emulator"],"owner":{"account_id":28703501,"reputation":1,"user_id":21980266,"display_name":"Paul sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694604013,"answer_count":1,"score":0,"last_activity_date":1694470356,"creation_date":1694438136,"question_id":77081975,"body_markdown":"after adding AVD and running on it, even though nothing show up I can&#39;t close it because it says it&#39;s still running. Also I don&#39;t have &quot;emulator&quot; in the tool bar and I can&#39;t find any answer related to the current version.\r\n\r\n\r\n\r\nwhat should I do about it?","title":"emulator doesn&#39;t show up even though app is running","body":"<p>after adding AVD and running on it, even though nothing show up I can't close it because it says it's still running. Also I don't have &quot;emulator&quot; in the tool bar and I can't find any answer related to the current version.</p>\n<p>what should I do about it?</p>\n"},{"tags":["java","intellij-idea","google-drive-api","google-drive-realtime-api"],"comments":[{"owner":{"account_id":7941028,"reputation":6743,"user_id":5995040,"display_name":"Mr.Rebot"},"score":0,"creation_date":1542922435,"post_id":53419754,"comment_id":93750107,"body_markdown":"What does your code look like that doesn&#39;t work? Please provide a [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve) that demonstrates the issue.","body":"What does your code look like that doesn&#39;t work? Please provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> that demonstrates the issue."}],"answers":[{"tags":[],"owner":{"account_id":29379413,"reputation":1,"user_id":22539419,"display_name":"Brockdish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694453597,"creation_date":1694453597,"answer_id":77083733,"question_id":53419754,"body_markdown":"I downloaded the project of the plugin DriveBackupV2 to see how other people did this\r\n(https://github.com/MaxMaeder/DriveBackupV2)\r\nYou can do that too so you have the libraries needed:\r\n\r\n[image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/kn7My.png\r\n\r\nWhen you added these you have to paste\r\n\r\n        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.9-R0.1-SNAPSHOT&lt;/version&gt;\r\n                            &lt;type&gt;jar&lt;/type&gt;\r\n                            &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\r\n                            &lt;version&gt;v2-rev393-1.25.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninto your pom.xml (yes the indents are wrong)\r\nand then all the other needed libraries will be added automatically\r\n","title":"Google Drive API Java IntelliJ Setup","body":"<p>I downloaded the project of the plugin DriveBackupV2 to see how other people did this\n(<a href=\"https://github.com/MaxMaeder/DriveBackupV2\" rel=\"nofollow noreferrer\">https://github.com/MaxMaeder/DriveBackupV2</a>)\nYou can do that too so you have the libraries needed:</p>\n<p><a href=\"https://i.stack.imgur.com/kn7My.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>When you added these you have to paste</p>\n<pre><code>    &lt;dependency&gt;\n                        &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n                        &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n                        &lt;version&gt;1.9-R0.1-SNAPSHOT&lt;/version&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                        &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n                        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n                        &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n                        &lt;version&gt;v2-rev393-1.25.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>into your pom.xml (yes the indents are wrong)\nand then all the other needed libraries will be added automatically</p>\n"}],"owner":{"account_id":7907291,"reputation":33,"user_id":5972386,"display_name":"Anderson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694470152,"creation_date":1542830877,"question_id":53419754,"body_markdown":"I am trying to write a simple program that renames video files and uploads them directly to Google Drive using Google Drive API. I have already in the Main class written code to rename my files. My next step is I&#39;d like to upload them to the drive.\r\n\r\nMy trouble is in integrating the Google Drive API to my existing code. I have followed the quick setup guide here : https://developers.google.com/drive/api/v3/quickstart/java , I have the gradle build and credentials and all, but I have trouble understanding how my classes will interact. My imports have errors, and my project directory looks atrocious. I&#39;m hoping someone can take a look on how this came to be and how can I resolve it. \r\n\r\n![My Project Directory][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0NHkN.png","title":"Google Drive API Java IntelliJ Setup","body":"<p>I am trying to write a simple program that renames video files and uploads them directly to Google Drive using Google Drive API. I have already in the Main class written code to rename my files. My next step is I'd like to upload them to the drive.</p>\n<p>My trouble is in integrating the Google Drive API to my existing code. I have followed the quick setup guide here : <a href=\"https://developers.google.com/drive/api/v3/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v3/quickstart/java</a> , I have the gradle build and credentials and all, but I have trouble understanding how my classes will interact. My imports have errors, and my project directory looks atrocious. I'm hoping someone can take a look on how this came to be and how can I resolve it.</p>\n<p><img src=\"https://i.stack.imgur.com/0NHkN.png\" alt=\"My Project Directory\" /></p>\n"},{"tags":["java","arrays","algorithm","sorting","binary-search"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1694469755,"post_id":77084985,"comment_id":135892491,"body_markdown":"Binary search only works on a sorted array. Do you mean one sorted and one unsorted?","body":"Binary search only works on a sorted array. Do you mean one sorted and one unsorted?"},{"owner":{"account_id":26695780,"reputation":11,"user_id":20531031,"display_name":"Bryan C"},"score":0,"creation_date":1694469889,"post_id":77084985,"comment_id":135892512,"body_markdown":"@shmosel In the provided context, when discussing using binary search, it&#39;s assumed that both arrays are sorted. Binary search is indeed effective for searching in sorted arrays. If working with one sorted and one unsorted array, the binary search approach wouldn&#39;t apply directly to the unsorted array. In the assignment, it&#39;s suggested to compare the performance of searching for duplicates in two sorted arrays using binary search with the performance of other methods such as the final version of the code provided.","body":"@shmosel In the provided context, when discussing using binary search, it&#39;s assumed that both arrays are sorted. Binary search is indeed effective for searching in sorted arrays. If working with one sorted and one unsorted array, the binary search approach wouldn&#39;t apply directly to the unsorted array. In the assignment, it&#39;s suggested to compare the performance of searching for duplicates in two sorted arrays using binary search with the performance of other methods such as the final version of the code provided."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1694469950,"post_id":77084985,"comment_id":135892527,"body_markdown":"This might be a better fit for [codereview.se].","body":"This might be a better fit for <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}],"owner":{"account_id":26695780,"reputation":11,"user_id":20531031,"display_name":"Bryan C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694469824,"creation_date":1694469609,"question_id":77084985,"body_markdown":"I&#39;ve been working on an assignment that involves optimizing a duplicate finding algorithm for sorted arrays, and I&#39;d like to get your thoughts on the implementation. Here&#39;s the code I&#39;ve come up with:\r\n\r\n```java\r\nprivate static int findDuplicatesFinalVersion(int[] arr1, int[] arr2) {\r\n    int count = 0;\r\n    int index1 = 0;\r\n    int index2 = 0;\r\n\r\n    while (index1 &lt; arr1.length &amp;&amp; index2 &lt; arr2.length) {\r\n        if (arr1[index1] &lt; arr2[index2]) {\r\n            index1++;\r\n        } else if (arr1[index1] == arr2[index2]) {\r\n            count++;\r\n            index1++;\r\n            index2++;\r\n        } else {\r\n            index2++;\r\n        }\r\n    }\r\n    return count;\r\n}\r\n```\r\n\r\nThe assignment: \r\n\r\n&gt; Keep track of the next element in the first array. If the next element in the second array is smaller than the next in the first, then move forward in the second array. If it is equal (and then we found a duplicate) or greater, then we move forward in the first array. Assume that the two arrays themselves do not contain any duplicates (use the generator in the previous example). Run some benchmarks and compare the execution time with the run time using: unsorted arrays, binary search, and your final version.\r\n\r\nThis implementation is meant to find duplicates efficiently in two sorted arrays as per the assignment requirements. It keeps track of two indices, one for each array, and advances them intelligently based on the comparison of elements.\r\n\r\nBefore arriving at this solution, I also experimented with an unsorted array and implemented binary search, which significantly improved performance. However, for this assignment, I&#39;m tasked with working on sorted arrays.\r\n\r\nIf you have experience with sorting and searching algorithms or if you&#39;ve encountered similar assignments, I would greatly appreciate it if you could review this code. Do you think this implementation is correct and efficient for finding duplicates in sorted arrays as per the context of my assignment? Additionally, if you have any suggestions for further improvements or insights, please feel free to share.\r\n\r\nThank you!","title":"Is this the Correct Implementation for Finding Duplicates in Sorted Arrays?","body":"<p>I've been working on an assignment that involves optimizing a duplicate finding algorithm for sorted arrays, and I'd like to get your thoughts on the implementation. Here's the code I've come up with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int findDuplicatesFinalVersion(int[] arr1, int[] arr2) {\n    int count = 0;\n    int index1 = 0;\n    int index2 = 0;\n\n    while (index1 &lt; arr1.length &amp;&amp; index2 &lt; arr2.length) {\n        if (arr1[index1] &lt; arr2[index2]) {\n            index1++;\n        } else if (arr1[index1] == arr2[index2]) {\n            count++;\n            index1++;\n            index2++;\n        } else {\n            index2++;\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>The assignment:</p>\n<blockquote>\n<p>Keep track of the next element in the first array. If the next element in the second array is smaller than the next in the first, then move forward in the second array. If it is equal (and then we found a duplicate) or greater, then we move forward in the first array. Assume that the two arrays themselves do not contain any duplicates (use the generator in the previous example). Run some benchmarks and compare the execution time with the run time using: unsorted arrays, binary search, and your final version.</p>\n</blockquote>\n<p>This implementation is meant to find duplicates efficiently in two sorted arrays as per the assignment requirements. It keeps track of two indices, one for each array, and advances them intelligently based on the comparison of elements.</p>\n<p>Before arriving at this solution, I also experimented with an unsorted array and implemented binary search, which significantly improved performance. However, for this assignment, I'm tasked with working on sorted arrays.</p>\n<p>If you have experience with sorting and searching algorithms or if you've encountered similar assignments, I would greatly appreciate it if you could review this code. Do you think this implementation is correct and efficient for finding duplicates in sorted arrays as per the context of my assignment? Additionally, if you have any suggestions for further improvements or insights, please feel free to share.</p>\n<p>Thank you!</p>\n"},{"tags":["java","google-api"],"answers":[{"tags":[],"owner":{"account_id":29288272,"reputation":29,"user_id":22439310,"display_name":"MentalBoolean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694008905,"creation_date":1694008905,"answer_id":77052651,"question_id":77007480,"body_markdown":"Have you looked into this website? This can be helpful.\r\n\r\nhttps://www.upbuild.io/blog/download-linked-from-urls/\r\n\r\n(Sorry for asking as an answer I don&#39;t have reputation to comment.)","title":"Is it possible to download using a google API the pages that are &quot;Crawled - currently not indexed&quot;?","body":"<p>Have you looked into this website? This can be helpful.</p>\n<p><a href=\"https://www.upbuild.io/blog/download-linked-from-urls/\" rel=\"nofollow noreferrer\">https://www.upbuild.io/blog/download-linked-from-urls/</a></p>\n<p>(Sorry for asking as an answer I don't have reputation to comment.)</p>\n"},{"comments":[{"owner":{"account_id":1652056,"reputation":1525,"user_id":1522438,"display_name":"searching9x"},"score":0,"creation_date":1701368516,"post_id":77084911,"comment_id":136770037,"body_markdown":"I can&#39;t find any libraries that contain the UrlInspectionResult class. Where to download this library or maven dependency?","body":"I can&#39;t find any libraries that contain the UrlInspectionResult class. Where to download this library or maven dependency?"},{"owner":{"account_id":8903098,"reputation":1723,"user_id":6645920,"display_name":"TCooper"},"score":1,"creation_date":1701440986,"post_id":77084911,"comment_id":136779350,"body_markdown":"@searching9x I probably should&#39;ve skipped writing code, linked to the reference, and stuck with my explanation. I haven&#39;t used Java regularly in many years, and attempting to anticipate the library name based on the ref (https://developers.google.com/webmaster-tools/v1/urlInspection.index/UrlInspectionResult) - not an actual library I have access to. Although looking into this I found the java ref (https://googleapis.dev/java/google-api-services-searchconsole/latest/).","body":"@searching9x I probably should&#39;ve skipped writing code, linked to the reference, and stuck with my explanation. I haven&#39;t used Java regularly in many years, and attempting to anticipate the library name based on the ref (<a href=\"https://developers.google.com/webmaster-tools/v1/urlInspection.index/UrlInspectionResult\" rel=\"nofollow noreferrer\">developers.google.com/webmaster-tools/v1/urlInspection.inde&zwnj;&#8203;x/&hellip;</a>) - not an actual library I have access to. Although looking into this I found the java ref (<a href=\"https://googleapis.dev/java/google-api-services-searchconsole/latest/\" rel=\"nofollow noreferrer\">googleapis.dev/java/google-api-services-searchconsole/lates&zwnj;&#8203;t</a>)."},{"owner":{"account_id":8903098,"reputation":1723,"user_id":6645920,"display_name":"TCooper"},"score":0,"creation_date":1701441037,"post_id":77084911,"comment_id":136779365,"body_markdown":"@searching9x I believe I found your question to Google where they provided a far more suitable answer - care to help improve my answer, or, if you provide your own better answer here, I can delete mine to keep the site the best reference we can","body":"@searching9x I believe I found your question to Google where they provided a far more suitable answer - care to help improve my answer, or, if you provide your own better answer here, I can delete mine to keep the site the best reference we can"},{"owner":{"account_id":1652056,"reputation":1525,"user_id":1522438,"display_name":"searching9x"},"score":0,"creation_date":1701536112,"post_id":77084911,"comment_id":136789050,"body_markdown":"Thanks TCooper. Well, luckily I found this library following your suggestion: https://libraries.io/maven/com.google.apis:google-api-services-searchconsole/versions","body":"Thanks TCooper. Well, luckily I found this library following your suggestion: <a href=\"https://libraries.io/maven/com.google.apis:google-api-services-searchconsole/versions\" rel=\"nofollow noreferrer\">libraries.io/maven/&hellip;</a>"}],"tags":[],"owner":{"account_id":8903098,"reputation":1723,"user_id":6645920,"display_name":"TCooper"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694468591,"creation_date":1694468286,"answer_id":77084911,"question_id":77007480,"body_markdown":"The Google Search Console API provides data about the performance of your site on Google Search engine with various methods to verify sites and view, add, or remove sitemaps, but it does not provide a direct way to access the &#39;Crawled - currently not indexed&#39; data upfront.\r\n\r\nHowever, you can use the URL Inspection API endpoint to check the index status of a specific URL. Here is a sample Java code snippet using Google&#39;s client libraries to call the URL Inspection API:\r\n\r\n```\r\nimport com.google.api.services.urlinspector.Urlinspector;\r\nimport com.google.api.services.urlinspector.model.UrlInspectionResult;\r\n\r\npublic class UrlInspectorSample {\r\n    public static void main(String[] args) throws Exception {\r\n        // Initialize the client\r\n        Urlinspector urlinspector = new Urlinspector.Builder(\r\n                GoogleNetHttpTransport.newTrustedTransport(),\r\n                JacksonFactory.getDefaultInstance(),\r\n                null)\r\n                .setApplicationName(&quot;UrlInspectorSample&quot;)\r\n                .build();\r\n\r\n        // Specify the URL to inspect\r\n        String urlToInspect = &quot;http://www.example.com&quot;;\r\n\r\n        // Call the API\r\n        UrlInspectionResult result = urlinspector.urlInspection().inspect(urlToInspect).execute();\r\n\r\n        // Print the result\r\n        System.out.println(&quot;URL: &quot; + urlToInspect);\r\n        System.out.println(&quot;Index status: &quot; + result.getIndexStatusResult().getVerdict());\r\n    }\r\n}\r\n```\r\n*Disclaimer: untested and hastily written code above, provided as a starting point/sample idea only*\r\n\r\nPlease note that you need to replace &quot;http://www.example.com&quot; with the URL you want to inspect. This code will print the index status of the specified URL.\r\n\r\nTo get the list of &#39;Crawled - currently not indexed&#39; URLs, you would need to have a list of URLs to check, and then you could iterate over them and call the URL Inspection API for each one, and check if the index status is &#39;Crawled - currently not indexed&#39;. You&#39;ll still need to generate a list to iterate over and check. If you have a sitemap, you could use that to get the list of URLs.\r\n\r\nFurther, the API will not return the string &#39;Crawled - currently not indexed&#39;. You&#39;ll have to export the list manually, ping those URLs and compare the responses (I believe only within Verdict and/or IndexingState) to ascertain which values in the API meet your criteria.\r\n\r\n\r\n","title":"Is it possible to download using a google API the pages that are &quot;Crawled - currently not indexed&quot;?","body":"<p>The Google Search Console API provides data about the performance of your site on Google Search engine with various methods to verify sites and view, add, or remove sitemaps, but it does not provide a direct way to access the 'Crawled - currently not indexed' data upfront.</p>\n<p>However, you can use the URL Inspection API endpoint to check the index status of a specific URL. Here is a sample Java code snippet using Google's client libraries to call the URL Inspection API:</p>\n<pre><code>import com.google.api.services.urlinspector.Urlinspector;\nimport com.google.api.services.urlinspector.model.UrlInspectionResult;\n\npublic class UrlInspectorSample {\n    public static void main(String[] args) throws Exception {\n        // Initialize the client\n        Urlinspector urlinspector = new Urlinspector.Builder(\n                GoogleNetHttpTransport.newTrustedTransport(),\n                JacksonFactory.getDefaultInstance(),\n                null)\n                .setApplicationName(&quot;UrlInspectorSample&quot;)\n                .build();\n\n        // Specify the URL to inspect\n        String urlToInspect = &quot;http://www.example.com&quot;;\n\n        // Call the API\n        UrlInspectionResult result = urlinspector.urlInspection().inspect(urlToInspect).execute();\n\n        // Print the result\n        System.out.println(&quot;URL: &quot; + urlToInspect);\n        System.out.println(&quot;Index status: &quot; + result.getIndexStatusResult().getVerdict());\n    }\n}\n</code></pre>\n<p><em>Disclaimer: untested and hastily written code above, provided as a starting point/sample idea only</em></p>\n<p>Please note that you need to replace &quot;http://www.example.com&quot; with the URL you want to inspect. This code will print the index status of the specified URL.</p>\n<p>To get the list of 'Crawled - currently not indexed' URLs, you would need to have a list of URLs to check, and then you could iterate over them and call the URL Inspection API for each one, and check if the index status is 'Crawled - currently not indexed'. You'll still need to generate a list to iterate over and check. If you have a sitemap, you could use that to get the list of URLs.</p>\n<p>Further, the API will not return the string 'Crawled - currently not indexed'. You'll have to export the list manually, ping those URLs and compare the responses (I believe only within Verdict and/or IndexingState) to ascertain which values in the API meet your criteria.</p>\n"}],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694468591,"creation_date":1693394306,"question_id":77007480,"body_markdown":"In the google search console in the &quot;Page indexing\r\n-&gt; Crawled - currently not indexed&quot; section there is a list of URL that are affected. I can download the urls in question from the interface.\r\n\r\nIs there a way to download the above list of URLs using a google API? \r\n\r\nRegards\r\nConteh","title":"Is it possible to download using a google API the pages that are &quot;Crawled - currently not indexed&quot;?","body":"<p>In the google search console in the &quot;Page indexing\n-&gt; Crawled - currently not indexed&quot; section there is a list of URL that are affected. I can download the urls in question from the interface.</p>\n<p>Is there a way to download the above list of URLs using a google API?</p>\n<p>Regards\nConteh</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1694469840,"post_id":77084926,"comment_id":135892508,"body_markdown":"Just guessing, but maybe since there are multiple implementations of `getTabOrder`?  Try the direct method call, should be similar to `.comparingDouble(r-&gt; getTabOrder(r))`","body":"Just guessing, but maybe since there are multiple implementations of <code>getTabOrder</code>?  Try the direct method call, should be similar to <code>.comparingDouble(r-&gt; getTabOrder(r))</code>"},{"owner":{"account_id":15597261,"reputation":76,"user_id":11252373,"display_name":"Lu&#237;s Gustavo Monezi"},"score":0,"creation_date":1694469878,"post_id":77084926,"comment_id":135892511,"body_markdown":"It works if I specify the Rule type on the generic property: ` .&lt;Rule&gt;comparingDouble(StampaRuleComparator::getTabOrder)`. But why it is needed?","body":"It works if I specify the Rule type on the generic property: ` .&lt;Rule&gt;comparingDouble(StampaRuleComparator::getTabOrder)`. But why it is needed?"},{"owner":{"account_id":15597261,"reputation":76,"user_id":11252373,"display_name":"Lu&#237;s Gustavo Monezi"},"score":0,"creation_date":1694471045,"post_id":77084926,"comment_id":135892652,"body_markdown":"@AndrewS, it either doesn&#39;t if the thenComparing methods are present. It looses the reference to Rule completely. To make it work with both formats, the generic type must the specified explicitly. Strange though.","body":"@AndrewS, it either doesn&#39;t if the thenComparing methods are present. It looses the reference to Rule completely. To make it work with both formats, the generic type must the specified explicitly. Strange though."}],"owner":{"account_id":15597261,"reputation":76,"user_id":11252373,"display_name":"Lu&#237;s Gustavo Monezi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694468543,"creation_date":1694468543,"question_id":77084926,"body_markdown":"I am a little confused why I&#39;m getting the error &quot;Cannot resolve method &#39;getTabOrder&#39;&quot; here.\r\nI have the classes:\r\n\r\n```\r\n@Data\r\npublic class TabTuple {\r\n   private final String name;\r\n   ...\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\n@Data\r\npublic class Rule {\r\n   private final String tabName;\r\n   ...\r\n}\r\n```\r\n\r\nThen, in another class I have these methods:\r\n\r\n```\r\npublic class RuleComparator {\r\n   public static void sortRules(List&lt;Rule&gt; rules) {\r\n     rules.sort(Comparator\r\n        .comparingDouble(RuleComparator::getTabOrder)\r\n        .thenComparingInt(RuleComparator::getFieldScopeOrder)\r\n        .thenComparingInt(Rule::getOrder)\r\n     );\r\n   }\r\n\r\n   public static double getTabOrder(TabTuple tabTuple) {\r\n     return getTabOrder(tabTuple::getName);\r\n   }\r\n\r\n   public static double getTabOrder(Rule rule) {\r\n     return getTabOrder(rule::getTab);\r\n   }\r\n \r\n   private static double getTabOrder(Supplier&lt;String&gt; tabNameSupplier) {\r\n      var name = tabNameSupplier.get();\r\n      // Ordering implementation\r\n      ...\r\n   }\r\n\r\n   private static int getFieldScopeOrder(Rule rule) {\r\n      ...\r\n   }\r\n}\r\n```\r\n\r\nI expected the method reference call `.comparingDouble(RuleComparator::getTabOrder)`), to simply be compatible with the specialized `double getTabOrder(Rule rule)` method. Instead, I get the error &quot;*Cannot resolve method &#39;getTabOrder&#39;*&quot;","title":"&quot;Cannot resolve method&quot; in Java lambda reference","body":"<p>I am a little confused why I'm getting the error &quot;Cannot resolve method 'getTabOrder'&quot; here.\nI have the classes:</p>\n<pre><code>@Data\npublic class TabTuple {\n   private final String name;\n   ...\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\npublic class Rule {\n   private final String tabName;\n   ...\n}\n</code></pre>\n<p>Then, in another class I have these methods:</p>\n<pre><code>public class RuleComparator {\n   public static void sortRules(List&lt;Rule&gt; rules) {\n     rules.sort(Comparator\n        .comparingDouble(RuleComparator::getTabOrder)\n        .thenComparingInt(RuleComparator::getFieldScopeOrder)\n        .thenComparingInt(Rule::getOrder)\n     );\n   }\n\n   public static double getTabOrder(TabTuple tabTuple) {\n     return getTabOrder(tabTuple::getName);\n   }\n\n   public static double getTabOrder(Rule rule) {\n     return getTabOrder(rule::getTab);\n   }\n \n   private static double getTabOrder(Supplier&lt;String&gt; tabNameSupplier) {\n      var name = tabNameSupplier.get();\n      // Ordering implementation\n      ...\n   }\n\n   private static int getFieldScopeOrder(Rule rule) {\n      ...\n   }\n}\n</code></pre>\n<p>I expected the method reference call <code>.comparingDouble(RuleComparator::getTabOrder)</code>), to simply be compatible with the specialized <code>double getTabOrder(Rule rule)</code> method. Instead, I get the error &quot;<em>Cannot resolve method 'getTabOrder'</em>&quot;</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"score":0,"creation_date":1460719191,"post_id":36645698,"comment_id":60884685,"body_markdown":"Please fix the code section. And you&#39;re missing the `&lt;dependencies&gt;` opening tag.","body":"Please fix the code section. And you&#39;re missing the <code>&lt;dependencies&gt;</code> opening tag."},{"owner":{"account_id":8255528,"reputation":51,"user_id":6208815,"display_name":"vikas"},"score":0,"creation_date":1460727854,"post_id":36645698,"comment_id":60891009,"body_markdown":"Thank you, the code is fixed.","body":"Thank you, the code is fixed."}],"answers":[{"tags":[],"owner":{"account_id":2594100,"reputation":540,"user_id":2248138,"display_name":"Jan Piel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694468435,"creation_date":1460719353,"answer_id":36645817,"question_id":36645698,"body_markdown":"You&#39;ve got an end-tag *dependencies*  but no start-tag *dependencies*\r\n\r\n(missing tag should be between properties-tag and first dependency)","title":"Error Message: &quot;Project build error: Non-parseable POM","body":"<p>You've got an end-tag <em>dependencies</em>  but no start-tag <em>dependencies</em></p>\n<p>(missing tag should be between properties-tag and first dependency)</p>\n"},{"comments":[{"owner":{"account_id":8255528,"reputation":51,"user_id":6208815,"display_name":"vikas"},"score":0,"creation_date":1460728010,"post_id":36645847,"comment_id":60891117,"body_markdown":"Thank you dambros, really appreciate as i am just beginner in IT","body":"Thank you dambros, really appreciate as i am just beginner in IT"},{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":0,"creation_date":1460728110,"post_id":36645847,"comment_id":60891199,"body_markdown":"@Vikas no problem. If the answer fixed your issue, mark it as correct to possibly help others in the future.","body":"@Vikas no problem. If the answer fixed your issue, mark it as correct to possibly help others in the future."},{"owner":{"account_id":5880594,"reputation":4150,"user_id":4630113,"display_name":"Mav55"},"score":0,"creation_date":1504293978,"post_id":36645847,"comment_id":78974600,"body_markdown":"@dambros, I have the same error, but my pom looks good. I downloaded starter spring project. Not able to figure out what&#39;s going wrong.","body":"@dambros, I have the same error, but my pom looks good. I downloaded starter spring project. Not able to figure out what&#39;s going wrong."}],"tags":[],"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460728050,"creation_date":1460719425,"answer_id":36645847,"question_id":36645698,"body_markdown":"Besides the `&lt;dependencies&gt;` tag missing, you have a problem on the `&lt;project&gt;` tag as well. This should do it:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;MavenCucumberPrototype&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;MavenCucumberPrototype&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Error Message: &quot;Project build error: Non-parseable POM","body":"<p>Besides the <code>&lt;dependencies&gt;</code> tag missing, you have a problem on the <code>&lt;project&gt;</code> tag as well. This should do it:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;MavenCucumberPrototype&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;MavenCucumberPrototype&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15860308,"reputation":81,"user_id":11443582,"display_name":"Dyonnatan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556825355,"creation_date":1556825355,"answer_id":55959055,"question_id":36645698,"body_markdown":"My problem was a internet problem while download the dependencies, so some files was breaking. I solved deleting the directory &quot;.m2&quot; and executing mvn clean install to re-install the dependencies. ","title":"Error Message: &quot;Project build error: Non-parseable POM","body":"<p>My problem was a internet problem while download the dependencies, so some files was breaking. I solved deleting the directory \".m2\" and executing mvn clean install to re-install the dependencies. </p>\n"},{"tags":[],"owner":{"account_id":5792510,"reputation":39,"user_id":4569435,"display_name":"better99"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570562694,"creation_date":1570562694,"answer_id":58292838,"question_id":36645698,"body_markdown":"Do Project-&gt;Clean, just clean up the project and the error is gone. ","title":"Error Message: &quot;Project build error: Non-parseable POM","body":"<p>Do Project->Clean, just clean up the project and the error is gone. </p>\n"},{"tags":[],"owner":{"account_id":17179667,"reputation":1,"user_id":12435270,"display_name":"Sachin Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578391742,"creation_date":1578391742,"answer_id":59626271,"question_id":36645698,"body_markdown":"This mostly happens when you changes versions of eclipse on a single system. Try clearing .m2 directory. It should resolve the issue.","title":"Error Message: &quot;Project build error: Non-parseable POM","body":"<p>This mostly happens when you changes versions of eclipse on a single system. Try clearing .m2 directory. It should resolve the issue.</p>\n"}],"owner":{"account_id":8255528,"reputation":51,"user_id":6208815,"display_name":"vikas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52172,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":36645817,"answer_count":5,"score":4,"last_activity_date":1694468435,"creation_date":1460719027,"question_id":36645698,"body_markdown":"    &lt;project &gt;xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.cucumber&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MavenCucumberPrototype&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;MavenCucumberPrototype&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t\t&lt;/project&gt;\r\n    \t\t","title":"Error Message: &quot;Project build error: Non-parseable POM","body":"<pre><code>&lt;project &gt;xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;MavenCucumberPrototype&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;MavenCucumberPrototype&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","color-scheme"],"comments":[{"owner":{"account_id":1636318,"reputation":14452,"user_id":1509695,"accept_rate":38,"display_name":"matanster"},"score":0,"creation_date":1664296033,"post_id":3473460,"comment_id":130437092,"body_markdown":"Is there any simple time tested solution hiding in the answers? something like tweaking some settings directly from inside the UI without installing anything new?","body":"Is there any simple time tested solution hiding in the answers? something like tweaking some settings directly from inside the UI without installing anything new?"}],"answers":[{"comments":[{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlovi"},"score":0,"creation_date":1346830358,"post_id":3489649,"comment_id":16463902,"body_markdown":"You can do the same on Windows (http://www.wikihow.com/Invert-Colors-on-Windows-7)","body":"You can do the same on Windows (<a href=\"http://www.wikihow.com/Invert-Colors-on-Windows-7\" rel=\"nofollow noreferrer\">wikihow.com/Invert-Colors-on-Windows-7</a>)"}],"tags":[],"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1281913457,"creation_date":1281913457,"answer_id":3489649,"question_id":3473460,"body_markdown":"There does not seem to be a way.  I&#39;ll either have to revert my color scheme back to the default, keep the white on white text in the &#39;run&#39; pane or convince my work to get me a mac so i can use the magic key combination to invert all colors on the screen!","title":"Changing the background color of an intellij pane","body":"<p>There does not seem to be a way.  I'll either have to revert my color scheme back to the default, keep the white on white text in the 'run' pane or convince my work to get me a mac so i can use the magic key combination to invert all colors on the screen!</p>\n"},{"comments":[{"owner":{"account_id":986911,"reputation":227,"user_id":1005186,"accept_rate":100,"display_name":"Oskar Ferm"},"score":0,"creation_date":1363334224,"post_id":13459262,"comment_id":21818142,"body_markdown":"This works quite well when applying Solarized Dark scheme upon the default Dracula theme. Thanks for the tip.","body":"This works quite well when applying Solarized Dark scheme upon the default Dracula theme. Thanks for the tip."},{"owner":{"account_id":1456563,"reputation":1960,"user_id":1371989,"accept_rate":58,"display_name":"binithb"},"score":0,"creation_date":1411719588,"post_id":13459262,"comment_id":40818147,"body_markdown":"the plugin name is Color ide and Color tree without the hyphen","body":"the plugin name is Color ide and Color tree without the hyphen"},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":0,"creation_date":1491381783,"post_id":13459262,"comment_id":73522236,"body_markdown":"What about color in the other panes like Structure?","body":"What about color in the other panes like Structure?"}],"tags":[],"owner":{"account_id":9307,"reputation":29539,"user_id":17123,"accept_rate":65,"display_name":"Peter"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1362539242,"creation_date":1353347065,"answer_id":13459262,"question_id":3473460,"body_markdown":"** **Edit** ** As of Intelli-J Idea 12, Dark is the default!  See my points below for versions 10/11\r\n\r\n---\r\n\r\nThere is a way now - install the &#39;patch-ide&#39; plugin in combination with the &#39;color-ide&#39; plugin, and you will get your background colors across all the other panes and throughout the preferences of the application.  If you just want to style your project tree also, use &#39;color-tree&#39;\r\n\r\nhttp://plugins.jetbrains.net/category/index?pr=webide&amp;category_id=25\r\n\r\nAs a side note, here is an excellent dark color scheme, BlueForest\r\n\r\nhttp://www.decodified.com/misc/2011/06/15/blueforest-a-dark-color-scheme-for-intellij-idea.html","title":"Changing the background color of an intellij pane","body":"<p>** <strong>Edit</strong> ** As of Intelli-J Idea 12, Dark is the default!  See my points below for versions 10/11</p>\n\n<hr>\n\n<p>There is a way now - install the 'patch-ide' plugin in combination with the 'color-ide' plugin, and you will get your background colors across all the other panes and throughout the preferences of the application.  If you just want to style your project tree also, use 'color-tree'</p>\n\n<p><a href=\"http://plugins.jetbrains.net/category/index?pr=webide&amp;category_id=25\" rel=\"noreferrer\">http://plugins.jetbrains.net/category/index?pr=webide&amp;category_id=25</a></p>\n\n<p>As a side note, here is an excellent dark color scheme, BlueForest</p>\n\n<p><a href=\"http://www.decodified.com/misc/2011/06/15/blueforest-a-dark-color-scheme-for-intellij-idea.html\" rel=\"noreferrer\">http://www.decodified.com/misc/2011/06/15/blueforest-a-dark-color-scheme-for-intellij-idea.html</a></p>\n"},{"comments":[{"owner":{"account_id":45419,"reputation":39421,"user_id":133840,"display_name":"JeffryHouser"},"score":2,"creation_date":1388371128,"post_id":16243998,"comment_id":31244053,"body_markdown":"+1; this worked for me on IntelliJ 13 . Weird that switching from &quot;Default&quot; to &quot;Darcula&quot; changes the panel backgrounds; but changing from Darcula to default does not.","body":"+1; this worked for me on IntelliJ 13 . Weird that switching from &quot;Default&quot; to &quot;Darcula&quot; changes the panel backgrounds; but changing from Darcula to default does not."},{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":1,"creation_date":1402916479,"post_id":16243998,"comment_id":37442266,"body_markdown":"Great answer. Don&#39;t know why it&#39;s not the accepted one. You&#39;re welcome to update for mac users, the file is in `~~/Library/Preferences/IntelliJIdea13/options` (update the version in the path to the correct one)","body":"Great answer. Don&#39;t know why it&#39;s not the accepted one. You&#39;re welcome to update for mac users, the file is in <code>~~&#47;Library&#47;Preferences&#47;IntelliJIdea13&#47;options</code> (update the version in the path to the correct one)"},{"owner":{"account_id":477042,"reputation":579,"user_id":888290,"accept_rate":67,"display_name":"Arty"},"score":3,"creation_date":1420924103,"post_id":16243998,"comment_id":44164058,"body_markdown":"In IntelliJ 14 this features moved to laf.xml %USERPROFILE%\\.IntelliJIdea14\\config\\options\\laf.xml","body":"In IntelliJ 14 this features moved to laf.xml %USERPROFILE%\\.IntelliJIdea14\\config\\options\\laf.xml"},{"owner":{"account_id":1816532,"reputation":427,"user_id":1651508,"accept_rate":83,"display_name":"T_T"},"score":0,"creation_date":1421273272,"post_id":16243998,"comment_id":44301755,"body_markdown":"For v14 on OS X, this is located in /Library/Preferences/IntelliJIdea14/options/laf.xml","body":"For v14 on OS X, this is located in /Library/Preferences/IntelliJIdea14/options/laf.xml"}],"tags":[],"owner":{"account_id":1929003,"reputation":2034,"user_id":1738827,"accept_rate":50,"display_name":"Miklos Jakab"},"comment_count":4,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1402952744,"creation_date":1367005116,"answer_id":16243998,"question_id":3473460,"body_markdown":"I believe if you restart IntelliJ, it will update the background of all panes (tool windows).\r\n\r\nIf you are having trouble to revert back to light frames, there is a way to do that. \r\n\r\nLocate the your IntelliJ settings folder (on Windows, it is typically `C:\\Users\\{username}\\.IdeaIC12\\`, on Mac, it is something like `~/Library/Preferences/IntelliJIdea13/options`. Of course you have to select the appropriate IntelliJ folder)). \r\n\r\nGo to the folder `config\\options\\`.\r\n\r\nEdit the file `options.xml`.\r\n\r\nDelete these lines:\r\n\r\n        &lt;component name=&quot;LafManager&quot;&gt;\r\n          &lt;laf class-name=&quot;idea.dark.laf.classname&quot; /&gt;\r\n        &lt;/component&gt;\r\nDone.","title":"Changing the background color of an intellij pane","body":"<p>I believe if you restart IntelliJ, it will update the background of all panes (tool windows).</p>\n\n<p>If you are having trouble to revert back to light frames, there is a way to do that. </p>\n\n<p>Locate the your IntelliJ settings folder (on Windows, it is typically <code>C:\\Users\\{username}\\.IdeaIC12\\</code>, on Mac, it is something like <code>~/Library/Preferences/IntelliJIdea13/options</code>. Of course you have to select the appropriate IntelliJ folder)). </p>\n\n<p>Go to the folder <code>config\\options\\</code>.</p>\n\n<p>Edit the file <code>options.xml</code>.</p>\n\n<p>Delete these lines:</p>\n\n<pre><code>    &lt;component name=\"LafManager\"&gt;\n      &lt;laf class-name=\"idea.dark.laf.classname\" /&gt;\n    &lt;/component&gt;\n</code></pre>\n\n<p>Done.</p>\n"},{"comments":[{"owner":{"account_id":943441,"reputation":24326,"user_id":971141,"display_name":"David Ferenczy Rogoan"},"score":2,"creation_date":1458671226,"post_id":17483116,"comment_id":59961813,"body_markdown":"Doesn&#39;t it change the editor color? He wrote that he *already changed* the editor background, but it didn&#39;t affect backgrounds of **other panels**, which is what he wants to change.","body":"Doesn&#39;t it change the editor color? He wrote that he <i>already changed</i> the editor background, but it didn&#39;t affect backgrounds of <b>other panels</b>, which is what he wants to change."}],"tags":[],"owner":{"account_id":2513305,"reputation":4130,"user_id":2185251,"display_name":"seyeon"},"comment_count":1,"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1373009744,"creation_date":1373008366,"answer_id":17483116,"question_id":3473460,"body_markdown":"How about this way.\r\n\r\n    File-&gt;Settings-&gt;Editor-&gt;Color &amp; Fonts-&gt;General-&gt;Default text\r\n\r\nChoose other color\r\n\r\nthen\r\n\r\nClick the &quot;`Apply`&quot; button.","title":"Changing the background color of an intellij pane","body":"<p>How about this way.</p>\n\n<pre><code>File-&gt;Settings-&gt;Editor-&gt;Color &amp; Fonts-&gt;General-&gt;Default text\n</code></pre>\n\n<p>Choose other color</p>\n\n<p>then</p>\n\n<p>Click the \"<code>Apply</code>\" button.</p>\n"},{"comments":[{"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"score":0,"creation_date":1430343339,"post_id":27905955,"comment_id":48030796,"body_markdown":"This worked for me in Idea 14 (deleting the line as proposed in other solutions just made it re-appear with the DarculaLaf value).","body":"This worked for me in Idea 14 (deleting the line as proposed in other solutions just made it re-appear with the DarculaLaf value)."}],"tags":[],"owner":{"account_id":2082655,"reputation":111,"user_id":1854323,"display_name":"goalstudio"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1421078258,"creation_date":1421078258,"answer_id":27905955,"question_id":3473460,"body_markdown":"On Mac Ox and Idea 14 after changing back to Default theme you should also modify\r\n    `~/Library/Preferences/IntelliJIdea14/options/laf.xml`  \r\nand change  \r\n    `&lt;laf class-name=&quot;com.intellij.ide.ui.laf.darcula.DarculaLaf&quot; /&gt;`  \r\nto  \r\n    `&lt;laf class-name=&quot;com.apple.laf.AquaLookAndFeel&quot; /&gt;`","title":"Changing the background color of an intellij pane","body":"<p>On Mac Ox and Idea 14 after changing back to Default theme you should also modify\n    <code>~/Library/Preferences/IntelliJIdea14/options/laf.xml</code><br>\nand change<br>\n    <code>&lt;laf class-name=\"com.intellij.ide.ui.laf.darcula.DarculaLaf\" /&gt;</code><br>\nto<br>\n    <code>&lt;laf class-name=\"com.apple.laf.AquaLookAndFeel\" /&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1350930,"reputation":69,"user_id":1290594,"display_name":"Illia"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443687245,"creation_date":1443687245,"answer_id":32882619,"question_id":3473460,"body_markdown":"Settings -&gt; Editor -&gt; Colors &amp; Fonts\r\n\r\nSet &quot;Scheme&quot; to &quot;Default&quot;.\r\nHelps instantly, without restart","title":"Changing the background color of an intellij pane","body":"<p>Settings -> Editor -> Colors &amp; Fonts</p>\n\n<p>Set \"Scheme\" to \"Default\".\nHelps instantly, without restart</p>\n"},{"tags":[],"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1462524610,"creation_date":1462524610,"answer_id":37068088,"question_id":3473460,"body_markdown":"Here&#39;s the latest 2016 that worked for me. I had changed the white background for editors but all the panes were still black. Selecting Quick Switch Scheme -&gt; Look and feel -&gt; default option - solved it for me, i.e. white panes.\r\n\r\nhttps://www.jetbrains.com/help/idea/2016.1/switching-between-schemes.html","title":"Changing the background color of an intellij pane","body":"<p>Here's the latest 2016 that worked for me. I had changed the white background for editors but all the panes were still black. Selecting Quick Switch Scheme -> Look and feel -> default option - solved it for me, i.e. white panes.</p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/2016.1/switching-between-schemes.html\" rel=\"nofollow\">https://www.jetbrains.com/help/idea/2016.1/switching-between-schemes.html</a></p>\n"},{"tags":[],"owner":{"account_id":9566032,"reputation":31,"user_id":7105298,"display_name":"Julien"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478098578,"creation_date":1478098578,"answer_id":40383091,"question_id":3473460,"body_markdown":"I found a solution:\r\n\r\nGo to view -&gt; Quick switch Scheme....  and change option 5. Look and feel to Dracula","title":"Changing the background color of an intellij pane","body":"<p>I found a solution:</p>\n\n<p>Go to view -> Quick switch Scheme....  and change option 5. Look and feel to Dracula</p>\n"},{"tags":[],"owner":{"account_id":1206902,"reputation":423,"user_id":1176318,"accept_rate":69,"display_name":"KaySee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490185566,"creation_date":1490185566,"answer_id":42951622,"question_id":3473460,"body_markdown":"For all using intellij IDEA 15 \r\n\r\nif the problem is inconsistent colors in different panes try this : \r\n\r\nView -&gt; Quick Switch Schemes - Look and Feel -&gt; Intellij (Note : not same as default)\r\n\r\nProblem might be that you said yes to &#39;set Dracula theme to be the default&#39; earlier when changing to dracula from white theme.","title":"Changing the background color of an intellij pane","body":"<p>For all using intellij IDEA 15 </p>\n\n<p>if the problem is inconsistent colors in different panes try this : </p>\n\n<p>View -> Quick Switch Schemes - Look and Feel -> Intellij (Note : not same as default)</p>\n\n<p>Problem might be that you said yes to 'set Dracula theme to be the default' earlier when changing to dracula from white theme.</p>\n"},{"tags":[],"owner":{"account_id":5090041,"reputation":11,"user_id":4083390,"display_name":"Pablo Santiago S&#225;nchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502297798,"creation_date":1502297798,"answer_id":45596584,"question_id":3473460,"body_markdown":"I&#39;ve managed to get everything with a black background + a nice skull wallpaper.\r\n\r\nhttps://github.com/phackwer/DarkKnight_IntelliJ\r\n\r\nI usually disable Tool Buttons, Tool Bar and Status Bar on the View Menu and also run the project on Full Screen mode. Looks sensational!\r\n\r\nYou can change the wallpaper to a different one by pressing shift twice and looking for Set Background Image.","title":"Changing the background color of an intellij pane","body":"<p>I've managed to get everything with a black background + a nice skull wallpaper.</p>\n\n<p><a href=\"https://github.com/phackwer/DarkKnight_IntelliJ\" rel=\"nofollow noreferrer\">https://github.com/phackwer/DarkKnight_IntelliJ</a></p>\n\n<p>I usually disable Tool Buttons, Tool Bar and Status Bar on the View Menu and also run the project on Full Screen mode. Looks sensational!</p>\n\n<p>You can change the wallpaper to a different one by pressing shift twice and looking for Set Background Image.</p>\n"},{"tags":[],"owner":{"account_id":2652107,"reputation":570,"user_id":2293497,"display_name":"Harisewak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628763643,"creation_date":1628763643,"answer_id":68755582,"question_id":3473460,"body_markdown":"I like to play around with different themes and installed a bunch of them. After a while when I switched back to IntelliJ Light, this happened -\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe **opened files bar** in editor couldn&#39;t retrieve its default colors. I tried -\r\n\r\n1) Switching between themes (View -&gt; Quick switch scheme -&gt; Theme -&gt; Selecting another one\r\n\r\n2) Restart the IDE\r\n\r\n3) Finally I did this - **Files -&gt; Settings -&gt; Plugins -&gt; And disabled all installed themes** and restart\r\n\r\nAnd voila!\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHope this helps someone in a similar situation :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/POEoG.png\r\n  [2]: https://i.stack.imgur.com/R3jFv.png","title":"Changing the background color of an intellij pane","body":"<p>I like to play around with different themes and installed a bunch of them. After a while when I switched back to IntelliJ Light, this happened -</p>\n<p><a href=\"https://i.stack.imgur.com/POEoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POEoG.png\" alt=\"enter image description here\" /></a></p>\n<p>The <strong>opened files bar</strong> in editor couldn't retrieve its default colors. I tried -</p>\n<ol>\n<li><p>Switching between themes (View -&gt; Quick switch scheme -&gt; Theme -&gt; Selecting another one</p>\n</li>\n<li><p>Restart the IDE</p>\n</li>\n<li><p>Finally I did this - <strong>Files -&gt; Settings -&gt; Plugins -&gt; And disabled all installed themes</strong> and restart</p>\n</li>\n</ol>\n<p>And voila!</p>\n<p><a href=\"https://i.stack.imgur.com/R3jFv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R3jFv.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this helps someone in a similar situation :)</p>\n"},{"tags":[],"owner":{"account_id":23003213,"reputation":131,"user_id":17126897,"display_name":"Omer Faruk Dasar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694468208,"creation_date":1694468208,"answer_id":77084906,"question_id":3473460,"body_markdown":"File-&gt;Settings-&gt;Editor-&gt;Color &amp; Fonts-&gt;General-&gt;Text -&gt; Background in read-only-files\r\n\r\nYou can customize the background in read-only files which is in this case diff-merge pages","title":"Changing the background color of an intellij pane","body":"<p>File-&gt;Settings-&gt;Editor-&gt;Color &amp; Fonts-&gt;General-&gt;Text -&gt; Background in read-only-files</p>\n<p>You can customize the background in read-only files which is in this case diff-merge pages</p>\n"}],"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41613,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":13459262,"answer_count":12,"score":22,"last_activity_date":1694468208,"creation_date":1281666270,"question_id":3473460,"body_markdown":"I&#39;ve changed the color scheme in intellij so that the background of the Java editor pane is dark and the text is light.  I&#39;m not sure if this is directly related, however, in other windows such as the &#39;run&#39; window, the background stays white but any system messages are displayed as white text.  This is obviously a problem as I can&#39;t read white text on a white background unless I manually highlight the text to have the background a different color.\r\n\r\nIs there a way to change the background color of other panes other than the editor pane in IntelliJ? ","title":"Changing the background color of an intellij pane","body":"<p>I've changed the color scheme in intellij so that the background of the Java editor pane is dark and the text is light.  I'm not sure if this is directly related, however, in other windows such as the 'run' window, the background stays white but any system messages are displayed as white text.  This is obviously a problem as I can't read white text on a white background unless I manually highlight the text to have the background a different color.</p>\n\n<p>Is there a way to change the background color of other panes other than the editor pane in IntelliJ? </p>\n"},{"tags":["java","sh","classpath"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1694440642,"post_id":77081751,"comment_id":135887486,"body_markdown":"You will never call &quot;java&quot; on a &quot;.java&quot; file.  You would compile the &quot;.java&quot; file using &quot;javac&quot; then run in via &quot;java -cp &lt;classpath&gt; &lt;fully qualified class name&gt; &lt;args&gt;&quot;","body":"You will never call &quot;java&quot; on a &quot;.java&quot; file.  You would compile the &quot;.java&quot; file using &quot;javac&quot; then run in via &quot;java -cp &lt;classpath&gt; &lt;fully qualified class name&gt; &lt;args&gt;&quot;"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694444813,"post_id":77081751,"comment_id":135888428,"body_markdown":"Wouldn&#39;t it be easier to add a dependency on B and just make the call in Java code?","body":"Wouldn&#39;t it be easier to add a dependency on B and just make the call in Java code?"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694467260,"creation_date":1694467260,"answer_id":77084836,"question_id":77081751,"body_markdown":"I can explain you some possibilities:\r\n\r\n1. Hardcopy your class from project B into your other project A and edit the package path.\r\n\r\n2. Create a Jar as dependency from your project B and include it in your project A.\r\nYou can archive this with e.g. Maven or Gradle.","title":"How to call java class from project B in project A","body":"<p>I can explain you some possibilities:</p>\n<ol>\n<li><p>Hardcopy your class from project B into your other project A and edit the package path.</p>\n</li>\n<li><p>Create a Jar as dependency from your project B and include it in your project A.\nYou can archive this with e.g. Maven or Gradle.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29414480,"reputation":1,"user_id":22537628,"display_name":" "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694467260,"creation_date":1694436283,"question_id":77081751,"body_markdown":"I&#39;m trying to move a class from project A to project B (which is in Maven dependencies of the project A) to reuse it in other pet projects. Currently, this class calls from project A in a Jenkins groovy file like this:\r\n\r\n`sh(&quot;java ./mycoolproject/common/core/SomeUsefulClass.java &quot;arg1&quot; &quot;arg2&quot;&quot;)`\r\n\r\nHow can I call SomeUsefulClass class from project A via sh script, considering that it has been moved to project B?\r\n\r\nI tried different combinations of calling this class with the classpath flag but what I&#39;m getting is just: `Error: Could not find or load main class SomeUsefulClass`. I guess there should be some solution to load this class from the class path and make it available for the project B locally on Windows and on remote CI on Linux.","title":"How to call java class from project B in project A","body":"<p>I'm trying to move a class from project A to project B (which is in Maven dependencies of the project A) to reuse it in other pet projects. Currently, this class calls from project A in a Jenkins groovy file like this:</p>\n<p><code>sh(&quot;java ./mycoolproject/common/core/SomeUsefulClass.java &quot;arg1&quot; &quot;arg2&quot;&quot;)</code></p>\n<p>How can I call SomeUsefulClass class from project A via sh script, considering that it has been moved to project B?</p>\n<p>I tried different combinations of calling this class with the classpath flag but what I'm getting is just: <code>Error: Could not find or load main class SomeUsefulClass</code>. I guess there should be some solution to load this class from the class path and make it available for the project B locally on Windows and on remote CI on Linux.</p>\n"},{"tags":["java","parsing","logical-operators","recursive-descent"],"comments":[{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1694467331,"post_id":77084792,"comment_id":135892166,"body_markdown":"Whenever I do parsing I&#39;ve got to the point where I want something industrial strength and so go to [ANTLR](https://www.antlr.org/) to generate my parser and they have lots of grammar examples, e.g. [arithmetic](https://github.com/antlr/grammars-v4/blob/master/arithmetic/arithmetic.g4) and a [query language](https://github.com/antlr/grammars-v4/blob/master/cql/cql.g4)","body":"Whenever I do parsing I&#39;ve got to the point where I want something industrial strength and so go to <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a> to generate my parser and they have lots of grammar examples, e.g. <a href=\"https://github.com/antlr/grammars-v4/blob/master/arithmetic/arithmetic.g4\" rel=\"nofollow noreferrer\">arithmetic</a> and a <a href=\"https://github.com/antlr/grammars-v4/blob/master/cql/cql.g4\" rel=\"nofollow noreferrer\">query language</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694467925,"post_id":77084792,"comment_id":135892249,"body_markdown":"Maybe a rules engine with parsing abilities","body":"Maybe a rules engine with parsing abilities"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694485211,"post_id":77084792,"comment_id":135893692,"body_markdown":"This is what `java.util.function.Predicate` is for, or at least one of the things.","body":"This is what <code>java.util.function.Predicate</code> is for, or at least one of the things."},{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1694523670,"post_id":77084792,"comment_id":135899760,"body_markdown":"@scrhartley Will it be possible to provide an example for the mentioned scenario. I see the examples you shared but I&#39;m not sure how to implement it. It&#39;s bit confusing","body":"@scrhartley Will it be possible to provide an example for the mentioned scenario. I see the examples you shared but I&#39;m not sure how to implement it. It&#39;s bit confusing"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694528121,"post_id":77084792,"comment_id":135900913,"body_markdown":"ANTLR is all about trying to get you to buy [the book](https://pragprog.com/titles/tpantlr2/the-definitive-antlr-4-reference/). However, you can scrape enough information with Google: [SO question](https://stackoverflow.com/questions/1931307/antlr-is-there-a-simple-example), [SO showing Visitor use](https://stackoverflow.com/questions/23092081/antlr4-visitor-pattern-on-simple-arithmetic-example), [an article](https://www.baeldung.com/java-antlr). Generally, you use a parse tree to make a more useful version, the AST ([Abstract Syntax Tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)).","body":"ANTLR is all about trying to get you to buy <a href=\"https://pragprog.com/titles/tpantlr2/the-definitive-antlr-4-reference/\" rel=\"nofollow noreferrer\">the book</a>. However, you can scrape enough information with Google: <a href=\"https://stackoverflow.com/questions/1931307/antlr-is-there-a-simple-example\">SO question</a>, <a href=\"https://stackoverflow.com/questions/23092081/antlr4-visitor-pattern-on-simple-arithmetic-example\">SO showing Visitor use</a>, <a href=\"https://www.baeldung.com/java-antlr\" rel=\"nofollow noreferrer\">an article</a>. Generally, you use a parse tree to make a more useful version, the AST (<a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">Abstract Syntax Tree</a>)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694532273,"post_id":77084792,"comment_id":135901955,"body_markdown":"Don&#39;t reinvent the wheel. Especially a wheel that could be quite complex. What you need is a rules engine like [easy-rules](https://github.com/j-easy/easy-rules) (as one example)","body":"Don&#39;t reinvent the wheel. Especially a wheel that could be quite complex. What you need is a rules engine like <a href=\"https://github.com/j-easy/easy-rules\" rel=\"nofollow noreferrer\">easy-rules</a> (as one example)"}],"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694466697,"creation_date":1694466615,"question_id":77084792,"body_markdown":"I have a requirement to execute dynamic expressions for the input data (Map) using Java Code.\r\nFor Example,\r\n\r\n**Condition** - \r\n```\r\nEmployeeShift = &#39;General&#39; AND (EmployeeType = &#39;CONTRACT&#39; OR Designation IN &#39;ADMIN&#39;)\r\n```\r\n\r\nThis expression will be passed on as string variable and with this I have to evaluate my input data which comes at run time. So I&#39;m looking for a parser to parse the condition. \r\n\r\nUsing the answer of **@Tagir Valeev** from  - [the stack over flow&#39;s post](https://stackoverflow.com/questions/32193036/resolving-logical-operations-and-or-looping-conditions-dynamically) I was able to parse AND, OR operations. But I&#39;m not sure how to extend it for NOT operation. I&#39;m expecting something to work like below where the expression checks for combined NOT operation for EmployeeType and Designation, rather than checking for each variable.\r\n\r\n```\r\nEmployeeShift = &#39;General&#39; AND NOT(EmployeeType = &#39;CONTRACT&#39; OR Designation IN &#39;ADMIN&#39;)\r\n```\r\n\r\nAny example or leads on how to do will be of huge help. Thanks in Advance.","title":"Evaluating Logical Operations AND, OR, NOT dynamically in Java","body":"<p>I have a requirement to execute dynamic expressions for the input data (Map) using Java Code.\nFor Example,</p>\n<p><strong>Condition</strong> -</p>\n<pre><code>EmployeeShift = 'General' AND (EmployeeType = 'CONTRACT' OR Designation IN 'ADMIN')\n</code></pre>\n<p>This expression will be passed on as string variable and with this I have to evaluate my input data which comes at run time. So I'm looking for a parser to parse the condition.</p>\n<p>Using the answer of <strong>@Tagir Valeev</strong> from  - <a href=\"https://stackoverflow.com/questions/32193036/resolving-logical-operations-and-or-looping-conditions-dynamically\">the stack over flow's post</a> I was able to parse AND, OR operations. But I'm not sure how to extend it for NOT operation. I'm expecting something to work like below where the expression checks for combined NOT operation for EmployeeType and Designation, rather than checking for each variable.</p>\n<pre><code>EmployeeShift = 'General' AND NOT(EmployeeType = 'CONTRACT' OR Designation IN 'ADMIN')\n</code></pre>\n<p>Any example or leads on how to do will be of huge help. Thanks in Advance.</p>\n"},{"tags":["java","json","validation","nullpointerexception","jersey"],"comments":[{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1694512899,"post_id":77084558,"comment_id":135897357,"body_markdown":"not much to work with here, but usually dependencies resolve this issue. i would try newer versions of glassfish for starters","body":"not much to work with here, but usually dependencies resolve this issue. i would try newer versions of glassfish for starters"},{"owner":{"account_id":3074339,"reputation":165,"user_id":2604133,"display_name":"Narayan Ghimire"},"score":0,"creation_date":1694514340,"post_id":77084558,"comment_id":135897659,"body_markdown":"@stelios.anastasakis could you please tell me which dependencies should I use for a newer version? Do you mean the jersey version? I have used Jersey version 3 also and in that case, also I have the same issue. Basically, I am running this on my Macbook M2 (is this a problem?).","body":"@stelios.anastasakis could you please tell me which dependencies should I use for a newer version? Do you mean the jersey version? I have used Jersey version 3 also and in that case, also I have the same issue. Basically, I am running this on my Macbook M2 (is this a problem?)."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1694525344,"post_id":77084558,"comment_id":135900195,"body_markdown":"Do you have a Warning in the log saying that &quot;Lookup and initialization failed for a resource class&quot;?","body":"Do you have a Warning in the log saying that &quot;Lookup and initialization failed for a resource class&quot;?"},{"owner":{"account_id":3074339,"reputation":165,"user_id":2604133,"display_name":"Narayan Ghimire"},"score":0,"creation_date":1694531685,"post_id":77084558,"comment_id":135901814,"body_markdown":"@jan.supol No I don&#39;t have that kind of warning. I see the error everytime that I have posted on the question","body":"@jan.supol No I don&#39;t have that kind of warning. I see the error everytime that I have posted on the question"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1694552850,"post_id":77084558,"comment_id":135905783,"body_markdown":"What is your hibernate validator version?","body":"What is your hibernate validator version?"},{"owner":{"account_id":3074339,"reputation":165,"user_id":2604133,"display_name":"Narayan Ghimire"},"score":1,"creation_date":1694589249,"post_id":77084558,"comment_id":135909400,"body_markdown":"I have fixed it now &amp; it is working. Seems like there was a problem with Mac M2, Tomcat 9.0. Now I am using the glassfish server &amp; jdk 11 is working.","body":"I have fixed it now &amp; it is working. Seems like there was a problem with Mac M2, Tomcat 9.0. Now I am using the glassfish server &amp; jdk 11 is working."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1694595788,"post_id":77084558,"comment_id":135910681,"body_markdown":"My suspicion was some classloading issue. The Tomcat runs each war with its own classloader. If there were the same jars somewhere multiple times, each classloader could have loaded a different jar and the injection did not happen as it should, the non-injected field was null, and that caused the NPE. Cannot imagine any other reason for the field not being injected. Glad it is working now.","body":"My suspicion was some classloading issue. The Tomcat runs each war with its own classloader. If there were the same jars somewhere multiple times, each classloader could have loaded a different jar and the injection did not happen as it should, the non-injected field was null, and that caused the NPE. Cannot imagine any other reason for the field not being injected. Glad it is working now."}],"owner":{"account_id":3074339,"reputation":165,"user_id":2604133,"display_name":"Narayan Ghimire"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694464549,"creation_date":1694463342,"question_id":77084558,"body_markdown":"I am working on a Java Jersey application where I need to validate JSON request bodies using the @Valid annotation. However, I am encountering a NullPointerException that I can&#39;t seem to resolve. Below are the details of my setup and the issue:\r\n\r\n**JSON Request Body (example):**\r\nThis is my JSON request body which needs validation:\r\n\r\n    {&quot;firstName&quot;: &quot;f&quot;}\r\n**Jersey Application Configuration (JerseyConfig.java)**:\r\n```java\r\npackage com.api.customer;\r\n\r\nimport com.api.customer.Exception.ExceptionHandler;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.glassfish.jersey.server.ServerProperties;\r\n\r\nimport javax.ws.rs.ApplicationPath;\r\n\r\n@ApplicationPath(&quot;/api/v1.0&quot;)\r\npublic class JerseyConfig extends ResourceConfig {\r\n    public JerseyConfig() {\r\n        packages(&quot;com.api.customer&quot;);\r\n        register(ExceptionHandler.class);\r\n        property(ServerProperties.BV_SEND_ERROR_IN_RESPONSE, true);\r\n    }\r\n}\r\n```\r\n**Controller (CustomerController.java):**\r\n```java\r\npackage com.api.customer.Http.Controller;\r\n\r\nimport com.api.customer.Entity.Welcome;\r\nimport com.api.customer.Http.Request.UserRequest;\r\nimport com.api.customer.Http.Responses.WelcomeResponse;\r\nimport com.api.customer.Services.CustomerService;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.validation.Valid;\r\n\r\n@Path(&quot;/customer&quot;)\r\npublic class CustomerController {\r\n    private final WelcomeResponse welcomeResponse;\r\n    private final CustomerService customerService;\r\n\r\n    @Inject\r\n    public CustomerController(\r\n            WelcomeResponse welcomeResponse,\r\n            CustomerService customerService\r\n    ) {\r\n        this.welcomeResponse = welcomeResponse;\r\n        this.customerService = customerService;\r\n    }\r\n\r\n    @POST\r\n    @Produces(&quot;application/json&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Welcome create(@Valid UserRequest userRequest) {\r\n        String firstName = userRequest.getFirstName();\r\n\r\n        this.customerService.createCustomer();\r\n\r\n        return welcomeResponse.getWelcomeResponse();\r\n    }\r\n}\r\n```\r\n\r\n**pom.xml:**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.api.customer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CustomerApi&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;CustomerApi&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n        &lt;jersey.version&gt;2.34&lt;/jersey.version&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.42.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n**Issue Description:**\r\nI am consistently getting a 500 Internal Server Error with the following stack trace:\r\n\r\n```none\r\n SEVERE [http-nio-8084-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.api.customer.JerseyConfig] in context with path [] threw exception [java.lang.NullPointerException] with root cause\r\n\tjava.lang.NullPointerException\r\n\t\tat org.glassfish.jersey.server.validation.internal.InjectingConstraintValidatorFactory.getInstance(InjectingConstraintValidatorFactory.java:37)\r\n\t\tat org.hibernate.validator.internal.engine.constraintvalidation.ClassBasedValidatorDescriptor.newInstance(ClassBasedValidatorDescriptor.java:75)\r\n\t\tat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.createAndInitializeValidator(AbstractConstraintValidatorManagerImpl.java:89)\r\n\t\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorManagerImpl.getInitializedValidator(ConstraintValidatorManagerImpl.java:117)\r\n\t\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:152)\r\n\t\tat org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:54)\r\n\t\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)\r\n\t\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\r\n\t\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedAnnotatedObjectForCurrentGroup(ValidatorImpl.java:629)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedConstraints(ValidatorImpl.java:590)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:880)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\r\n\t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\r\n\t\tat org.glassfish.jersey.server.validation.internal.DefaultConfiguredValidator.onValidate(DefaultConfiguredValidator.java:154)\r\n\t\tat org.glassfish.jersey.server.validation.internal.ValidationInterceptorExecutor.proceed(ValidationInterceptorExecutor.java:90)\r\n\t\tat org.glassfish.jersey.server.validation.internal.DefaultConfiguredValidator.validateResourceAndInputParams(DefaultConfiguredValidator.java:122)\r\n\t\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:114)\r\n\t\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n\t\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\t\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\t\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\t\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\t\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\t\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\t\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\t\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\t\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205\r\n```\r\n\r\nI have reviewed my code and configuration but cannot identify the source of this NullPointerException.\r\n\r\n**What I&#39;ve Tried:**\r\n\r\n 1. Verified my JSON request body and controller setup\r\n 2. Checked the configuration of the Jersey application\r\n 3. Examined the dependencies in my pom.xml for any potential conflicts\r\n\r\n**Additional Information:**\r\n\r\nJersey Version: 2.34\r\n\r\nJava Version: 1.8\r\n\r\nServer: Tomcat 9.0\r\n\r\n**Dependencies:** \r\n\r\njavax.servlet,   \r\njersey-container-servlet-core,    \r\njersey-media-json-jackson,   \r\njersey-hk2,   \r\nweld-se-core,   \r\njunit-jupiter,   \r\nsqlite-jdbc,   \r\njersey-bean-validation\r\n\r\nI would appreciate any guidance or insights into why this NullPointerException is occurring and how to resolve it. Thank you in advance for your help.","title":"Jersey @Valid Annotation Issue: NullPointerException at InjectingConstraintValidatorFactory","body":"<p>I am working on a Java Jersey application where I need to validate JSON request bodies using the @Valid annotation. However, I am encountering a NullPointerException that I can't seem to resolve. Below are the details of my setup and the issue:</p>\n<p><strong>JSON Request Body (example):</strong>\nThis is my JSON request body which needs validation:</p>\n<pre><code>{&quot;firstName&quot;: &quot;f&quot;}\n</code></pre>\n<p><strong>Jersey Application Configuration (JerseyConfig.java)</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.api.customer;\n\nimport com.api.customer.Exception.ExceptionHandler;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.server.ServerProperties;\n\nimport javax.ws.rs.ApplicationPath;\n\n@ApplicationPath(&quot;/api/v1.0&quot;)\npublic class JerseyConfig extends ResourceConfig {\n    public JerseyConfig() {\n        packages(&quot;com.api.customer&quot;);\n        register(ExceptionHandler.class);\n        property(ServerProperties.BV_SEND_ERROR_IN_RESPONSE, true);\n    }\n}\n</code></pre>\n<p><strong>Controller (CustomerController.java):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.api.customer.Http.Controller;\n\nimport com.api.customer.Entity.Welcome;\nimport com.api.customer.Http.Request.UserRequest;\nimport com.api.customer.Http.Responses.WelcomeResponse;\nimport com.api.customer.Services.CustomerService;\n\nimport javax.inject.Inject;\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.MediaType;\nimport javax.validation.Valid;\n\n@Path(&quot;/customer&quot;)\npublic class CustomerController {\n    private final WelcomeResponse welcomeResponse;\n    private final CustomerService customerService;\n\n    @Inject\n    public CustomerController(\n            WelcomeResponse welcomeResponse,\n            CustomerService customerService\n    ) {\n        this.welcomeResponse = welcomeResponse;\n        this.customerService = customerService;\n    }\n\n    @POST\n    @Produces(&quot;application/json&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public Welcome create(@Valid UserRequest userRequest) {\n        String firstName = userRequest.getFirstName();\n\n        this.customerService.createCustomer();\n\n        return welcomeResponse.getWelcomeResponse();\n    }\n}\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.api.customer&lt;/groupId&gt;\n    &lt;artifactId&gt;CustomerApi&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CustomerApi&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n        &lt;jersey.version&gt;2.34&lt;/jersey.version&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.42.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Issue Description:</strong>\nI am consistently getting a 500 Internal Server Error with the following stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code> SEVERE [http-nio-8084-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.api.customer.JerseyConfig] in context with path [] threw exception [java.lang.NullPointerException] with root cause\n    java.lang.NullPointerException\n        at org.glassfish.jersey.server.validation.internal.InjectingConstraintValidatorFactory.getInstance(InjectingConstraintValidatorFactory.java:37)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ClassBasedValidatorDescriptor.newInstance(ClassBasedValidatorDescriptor.java:75)\n        at org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.createAndInitializeValidator(AbstractConstraintValidatorManagerImpl.java:89)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintValidatorManagerImpl.getInitializedValidator(ConstraintValidatorManagerImpl.java:117)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:152)\n        at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:54)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedAnnotatedObjectForCurrentGroup(ValidatorImpl.java:629)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedConstraints(ValidatorImpl.java:590)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:880)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\n        at org.glassfish.jersey.server.validation.internal.DefaultConfiguredValidator.onValidate(DefaultConfiguredValidator.java:154)\n        at org.glassfish.jersey.server.validation.internal.ValidationInterceptorExecutor.proceed(ValidationInterceptorExecutor.java:90)\n        at org.glassfish.jersey.server.validation.internal.DefaultConfiguredValidator.validateResourceAndInputParams(DefaultConfiguredValidator.java:122)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:114)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205\n</code></pre>\n<p>I have reviewed my code and configuration but cannot identify the source of this NullPointerException.</p>\n<p><strong>What I've Tried:</strong></p>\n<ol>\n<li>Verified my JSON request body and controller setup</li>\n<li>Checked the configuration of the Jersey application</li>\n<li>Examined the dependencies in my pom.xml for any potential conflicts</li>\n</ol>\n<p><strong>Additional Information:</strong></p>\n<p>Jersey Version: 2.34</p>\n<p>Java Version: 1.8</p>\n<p>Server: Tomcat 9.0</p>\n<p><strong>Dependencies:</strong></p>\n<p>javax.servlet,<br />\njersey-container-servlet-core,<br />\njersey-media-json-jackson,<br />\njersey-hk2,<br />\nweld-se-core,<br />\njunit-jupiter,<br />\nsqlite-jdbc,<br />\njersey-bean-validation</p>\n<p>I would appreciate any guidance or insights into why this NullPointerException is occurring and how to resolve it. Thank you in advance for your help.</p>\n"},{"tags":["java","date","time"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1694452446,"post_id":77083603,"comment_id":135889912,"body_markdown":"Why are you converting to a ZonedDateTime and back again? You&#39;re trying to preserve the same instant in time, so anything after `date1.toInstant()` is at best irrelevant. I strongly suspect that the problem is in using `java.util.Date` to start with - your `SimpleDateFormat` is going to use your system default time zone... is that what you want? Is there any reason for using `java.util.Date` at all? I&#39;d personally parse the value as a `LocalDateTime` (as the value itself doesn&#39;t provide any more information) then convert *that* into a `ZonedDateTime` by using the right time zone.","body":"Why are you converting to a ZonedDateTime and back again? You&#39;re trying to preserve the same instant in time, so anything after <code>date1.toInstant()</code> is at best irrelevant. I strongly suspect that the problem is in using <code>java.util.Date</code> to start with - your <code>SimpleDateFormat</code> is going to use your system default time zone... is that what you want? Is there any reason for using <code>java.util.Date</code> at all? I&#39;d personally parse the value as a <code>LocalDateTime</code> (as the value itself doesn&#39;t provide any more information) then convert <i>that</i> into a <code>ZonedDateTime</code> by using the right time zone."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1694452489,"post_id":77083603,"comment_id":135889926,"body_markdown":"Why are you using `Date` and `SimpleDateFormat` when you are also already using classes from the `java.time` package?","body":"Why are you using <code>Date</code> and <code>SimpleDateFormat</code> when you are also already using classes from the <code>java.time</code> package?"},{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694452578,"post_id":77083603,"comment_id":135889939,"body_markdown":"I really don&#39;t need the SimpleDateFormat, if I could create the Date with 00:00 directly on this day it would be great","body":"I really don&#39;t need the SimpleDateFormat, if I could create the Date with 00:00 directly on this day it would be great"},{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694452671,"post_id":77083603,"comment_id":135889958,"body_markdown":"I will change the date to be created without the SimpleDateFormat , but the output is the same","body":"I will change the date to be created without the SimpleDateFormat , but the output is the same"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1694452919,"post_id":77083603,"comment_id":135890005,"body_markdown":"Move away from `java.util.Date` entirely. It&#39;s not helping you. (Note that your claim that the code outputs &quot;10.09.2023 21:00:00:000&quot; is simply not try - the only output from your code is a `long` value, which certainly isn&#39;t going to be that...)","body":"Move away from <code>java.util.Date</code> entirely. It&#39;s not helping you. (Note that your claim that the code outputs &quot;10.09.2023 21:00:00:000&quot; is simply not try - the only output from your code is a <code>long</code> value, which certainly isn&#39;t going to be that...)"},{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694453026,"post_id":77083603,"comment_id":135890018,"body_markdown":"I am always going to receive a Date object with which I should convert it to Germany time and then to UTC time","body":"I am always going to receive a Date object with which I should convert it to Germany time and then to UTC time"},{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694453142,"post_id":77083603,"comment_id":135890036,"body_markdown":"@JonSkeet it is outputing 1694466000000 , which in the online epoch converts shows Mon Sep 11 2023 21:00:00 GMT+0000","body":"@JonSkeet it is outputing 1694466000000 , which in the online epoch converts shows Mon Sep 11 2023 21:00:00 GMT+0000"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1694453953,"post_id":77083603,"comment_id":135890190,"body_markdown":"&quot;I am always going to receive a Date object&quot; - then you&#39;ve got a problem, because a Date always represents an instant in time. If that&#39;s wrong to start with, that&#39;s unhelpful. Your question gives the impression that you actually start with a string. I suggest you read https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/","body":"&quot;I am always going to receive a Date object&quot; - then you&#39;ve got a problem, because a Date always represents an instant in time. If that&#39;s wrong to start with, that&#39;s unhelpful. Your question gives the impression that you actually start with a string. I suggest you read <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694454041,"post_id":77083603,"comment_id":135890205,"body_markdown":"`df.format(LocalDateTime.parse(s, df).atZone(ZoneId.of(&quot;Europe/Berlin&quot;)).withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)));` Prints *10.09.2023 22:00:00:000* I assume you know how to create `DateTimeFormatter` &#39;df&#39;. Don&#39;t use legacy date classes!","body":"<code>df.format(LocalDateTime.parse(s, df).atZone(ZoneId.of(&quot;Europe&#47;Berlin&quot;)).withZoneSameInstant(Z&zwnj;&#8203;oneId.of(&quot;UTC&quot;)));</code> Prints <i>10.09.2023 22:00:00:000</i> I assume you know how to create <code>DateTimeFormatter</code> &#39;df&#39;. Don&#39;t use legacy date classes!"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694457044,"post_id":77083603,"comment_id":135890679,"body_markdown":"BTW posted code is just converting `ofEpochSecond` to `toEpochMilli`, that is, multiplying by 1000 (and your epoch converter seems to be off by 1 hour)","body":"BTW posted code is just converting <code>ofEpochSecond</code> to <code>toEpochMilli</code>, that is, multiplying by 1000 (and your epoch converter seems to be off by 1 hour)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694461847,"post_id":77083603,"comment_id":135891478,"body_markdown":"*it is outputing 1694466000000* Thats the same number you put in (only with three more zeroes added because its in milliseconds instead of seconds). So what are you surprised about? And yes, that number is equal to Monday 11. September 2023 21:00:00 GMT and to 23:00 Germany/Berlin time.","body":"<i>it is outputing 1694466000000</i> Thats the same number you put in (only with three more zeroes added because its in milliseconds instead of seconds). So what are you surprised about? And yes, that number is equal to Monday 11. September 2023 21:00:00 GMT and to 23:00 Germany/Berlin time."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694462288,"post_id":77083603,"comment_id":135891542,"body_markdown":"Welcome to Stack Overflow. I am sorry, this is very unclear and seems confused to me. `&quot;11.09.2023 00:00:00:000&quot;` is a `String`, but you are saying you are receiving an old-fashioned `java.util.Date`? Which is correct? If the end goal is a UTC date and time, why do you want to convert to German time first? And you are printing out a millisecond value that is independent of time zone, but you say you want date and time in UTC. Which is correct? You are probably working way too hard, but neither understanding what you have got nor what you want, I cant tell you what to do that is simpler.","body":"Welcome to Stack Overflow. I am sorry, this is very unclear and seems confused to me. <code>&quot;11.09.2023 00:00:00:000&quot;</code> is a <code>String</code>, but you are saying you are receiving an old-fashioned <code>java.util.Date</code>? Which is correct? If the end goal is a UTC date and time, why do you want to convert to German time first? And you are printing out a millisecond value that is independent of time zone, but you say you want date and time in UTC. Which is correct? You are probably working way too hard, but neither understanding what you have got nor what you want, I cant tell you what to do that is simpler."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694497836,"post_id":77083603,"comment_id":135894688,"body_markdown":"And just to make sure we understand each other correctly: Seconds or milliseconds since the epoch give us *a point in time*. So the value is the same no matter from which time zone we see it. There *is no* converting it from from German time to UTC or from any time zone to any other time zone. Because the epoch is one point in time (usually defined in GMT or UTC, but conceptually independent of time zone).","body":"And just to make sure we understand each other correctly: Seconds or milliseconds since the epoch give us <i>a point in time</i>. So the value is the same no matter from which time zone we see it. There <i>is no</i> converting it from from German time to UTC or from any time zone to any other time zone. Because the epoch is one point in time (usually defined in GMT or UTC, but conceptually independent of time zone)."}],"answers":[{"comments":[{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694454145,"post_id":77083741,"comment_id":135890223,"body_markdown":"is a Solution possible where the date is not in a String format but it is directly received as Date object which we need to convert to Germany(Berlin) time","body":"is a Solution possible where the date is not in a String format but it is directly received as Date object which we need to convert to Germany(Berlin) time"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694455130,"post_id":77083741,"comment_id":135890391,"body_markdown":"The types you are using are obsolete, and for good reason. You should not be advising folks to write this kind of code in 2023.","body":"The types you are using are obsolete, and for good reason. You should not be advising folks to write this kind of code in 2023."},{"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"score":0,"creation_date":1694455219,"post_id":77083741,"comment_id":135890405,"body_markdown":"@Joel I&#39;m not sure if I understand your comment correctly","body":"@Joel I&#39;m not sure if I understand your comment correctly"},{"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"score":0,"creation_date":1694455324,"post_id":77083741,"comment_id":135890417,"body_markdown":"@rzwitserloot I&#39;m trying to stick with his code and answer it as closely as possible, I want to answer the question instead of refactoring the code","body":"@rzwitserloot I&#39;m trying to stick with his code and answer it as closely as possible, I want to answer the question instead of refactoring the code"},{"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"score":0,"creation_date":1694455726,"post_id":77083741,"comment_id":135890478,"body_markdown":"@rzwitserloot I&#39;ve added the java.time version, You are very welcome to edit the answer and refine it if you want","body":"@rzwitserloot I&#39;ve added the java.time version, You are very welcome to edit the answer and refine it if you want"},{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694456128,"post_id":77083741,"comment_id":135890549,"body_markdown":"@MehdiAkbarianRastaghi Hi, my question was if you had an input a Date object which holds the initial date 00:00:00 , can you transform it to have the same output?","body":"@MehdiAkbarianRastaghi Hi, my question was if you had an input a Date object which holds the initial date 00:00:00 , can you transform it to have the same output?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1694456288,"post_id":77083741,"comment_id":135890564,"body_markdown":"@Joel that&#39;s just not how it works. `Date` objects are a lie; they represent a timestamp without a timezone and thus __do not have__ a seconds and minutes values at all. __They do not represent dates__. Your question might as well be: &quot;I have an Integer containing the value &#39;Green&#39;, can you transform it?&quot; - it doesn&#39;t make any sense.","body":"@Joel that&#39;s just not how it works. <code>Date</code> objects are a lie; they represent a timestamp without a timezone and thus <b>do not have</b> a seconds and minutes values at all. <b>They do not represent dates</b>. Your question might as well be: &quot;I have an Integer containing the value &#39;Green&#39;, can you transform it?&quot; - it doesn&#39;t make any sense."},{"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"score":0,"creation_date":1694457100,"post_id":77083741,"comment_id":135890685,"body_markdown":"@rzwitserloot isn&#39;t it possible somehow to get the timestamp seconds and create a ZoneDate with these seconds that is Germany(Berlin) Time , I know that the date itself it doesn&#39;t have information that is from Germany(Berlin) but I know that for sure?","body":"@rzwitserloot isn&#39;t it possible somehow to get the timestamp seconds and create a ZoneDate with these seconds that is Germany(Berlin) Time , I know that the date itself it doesn&#39;t have information that is from Germany(Berlin) but I know that for sure?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694463159,"post_id":77083741,"comment_id":135891651,"body_markdown":"Sure, @Joel. German time `yourOldfashionedDate.toInstant().atZone(ZoneId.of(&quot;Europe/Berlin&quot;)))`. Result: `2023-09-11T00:00+02:00[Europe/Berlin]`. UTC is still simpler: `yourOldfashionedDate.toInstant()`. Gives `2023-09-10T22:00:00Z`. The trailing `Z` means UTC.","body":"Sure, @Joel. German time <code>yourOldfashionedDate.toInstant().atZone(ZoneId.of(&quot;Europe&#47;Be&zwnj;&#8203;rlin&quot;)))</code>. Result: <code>2023-09-11T00:00+02:00[Europe&#47;Berlin]</code>. UTC is still simpler: <code>yourOldfashionedDate.toInstant()</code>. Gives <code>2023-09-10T22:00:00Z</code>. The trailing <code>Z</code> means UTC."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1694479261,"post_id":77083741,"comment_id":135893283,"body_markdown":"@Joel yes, but &#39;timestamps&#39; are in milliseconds, not seconds, and &#39;0:00:00&#39; does not in any way apply as a concept.","body":"@Joel yes, but &#39;timestamps&#39; are in milliseconds, not seconds, and &#39;0:00:00&#39; does not in any way apply as a concept."}],"tags":[],"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694455600,"creation_date":1694453700,"answer_id":77083741,"question_id":77083603,"body_markdown":"You can directly parse the date string in the Berlin time zone to ensure that it is being correctly interpreted as your local time:\r\n\r\n\r\n```java\r\npublic static void test() throws ParseException {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;);\r\n        dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n        Date germanyTime = dateFormat.parse(&quot;11.09.2023 00:00:00:000&quot;);\r\n\r\n        // Convert Berlin time to UTC time\r\n        SimpleDateFormat utcFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;);\r\n        utcFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        String utcTimeStr = utcFormat.format(germanyTime);\r\n        System.out.println(utcTimeStr);\r\n\r\n        // Convert UTC time to epoch milliseconds\r\n        long epochMillis = germanyTime.getTime();\r\n        System.out.println(epochMillis);\r\n    }\r\n```\r\n\r\nthe  output in my case is :\r\n\r\n```\r\n10.09.2023 22:00:00:000\r\n1694383200000\r\n```\r\n\r\nwithout java.util Date and TimeZone and using only java.time:\r\n\r\n```\r\n    public static void test() {\r\n        // Parse the date and time directly into a ZonedDateTime in Berlin time\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;);\r\n        ZonedDateTime berlinTime = LocalDateTime.parse(&quot;11.09.2023 00:00:00:000&quot;, formatter)\r\n                .atZone(ZoneId.of(&quot;Europe/Berlin&quot;));\r\n        \r\n        ZonedDateTime utcTime = berlinTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\n        long epochMillis = utcTime.toInstant().toEpochMilli();\r\n        String utcTimeStr = utcTime.format(formatter);\r\n\r\n        System.out.println(utcTimeStr);\r\n        System.out.println(epochMillis);\r\n    }\r\n```","title":"Converting time zone date to UTC date","body":"<p>You can directly parse the date string in the Berlin time zone to ensure that it is being correctly interpreted as your local time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void test() throws ParseException {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;);\n        dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\n        Date germanyTime = dateFormat.parse(&quot;11.09.2023 00:00:00:000&quot;);\n\n        // Convert Berlin time to UTC time\n        SimpleDateFormat utcFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;);\n        utcFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n        String utcTimeStr = utcFormat.format(germanyTime);\n        System.out.println(utcTimeStr);\n\n        // Convert UTC time to epoch milliseconds\n        long epochMillis = germanyTime.getTime();\n        System.out.println(epochMillis);\n    }\n</code></pre>\n<p>the  output in my case is :</p>\n<pre><code>10.09.2023 22:00:00:000\n1694383200000\n</code></pre>\n<p>without java.util Date and TimeZone and using only java.time:</p>\n<pre><code>    public static void test() {\n        // Parse the date and time directly into a ZonedDateTime in Berlin time\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;);\n        ZonedDateTime berlinTime = LocalDateTime.parse(&quot;11.09.2023 00:00:00:000&quot;, formatter)\n                .atZone(ZoneId.of(&quot;Europe/Berlin&quot;));\n        \n        ZonedDateTime utcTime = berlinTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\n        long epochMillis = utcTime.toInstant().toEpochMilli();\n        String utcTimeStr = utcTime.format(formatter);\n\n        System.out.println(utcTimeStr);\n        System.out.println(epochMillis);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1640947,"reputation":28880,"user_id":1513384,"accept_rate":96,"display_name":"ntalbs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694464530,"creation_date":1694455984,"answer_id":77083938,"question_id":77083603,"body_markdown":"My understanding of your question is about getting UTC from a datetime string in Berlin time. I tested it in [jshell](https://docs.oracle.com/en/java/javase/20/jshell/introduction-jshell.html) like the following. \r\n\r\nParse your input, and apply Berlin time zone.\r\n\r\n```java\r\n// Get LocalDateTime\r\njshell&gt; var d1 = LocalDateTime.parse(&quot;11.09.2023 00:00:00:000&quot;, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;))\r\nd1 ==&gt; 2023-09-11T00:00\r\n\r\n// Convert d1 to ZonedDateTime of Berlin\r\njshell&gt; var germanyTime = ZonedDateTime.of(d1, ZoneId.of(&quot;Europe/Berlin&quot;))\r\ngermanyTime ==&gt; 2023-09-11T00:00+02:00[Europe/Berlin]\r\n```\r\n\r\nNow adjust from Berlin time to UTC (an offset of zero).\r\n\r\n```java\r\n// Get instant of germanyTime\r\njshell&gt; var instant = germanyTime.toInstant()\r\ninstant ==&gt; 2023-09-10T22:00:00Z\r\n\r\n// Convert it to UTC\r\njshell&gt; var utcTime = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;))\r\nutcTime ==&gt; 2023-09-10T22:00Z[UTC]\r\n```\r\n\r\nSo you get `2023-09-10T22:00Z[UTC]`, which I suppose what you want.\r\n","title":"Converting time zone date to UTC date","body":"<p>My understanding of your question is about getting UTC from a datetime string in Berlin time. I tested it in <a href=\"https://docs.oracle.com/en/java/javase/20/jshell/introduction-jshell.html\" rel=\"nofollow noreferrer\">jshell</a> like the following.</p>\n<p>Parse your input, and apply Berlin time zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get LocalDateTime\njshell&gt; var d1 = LocalDateTime.parse(&quot;11.09.2023 00:00:00:000&quot;, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss:SSS&quot;))\nd1 ==&gt; 2023-09-11T00:00\n\n// Convert d1 to ZonedDateTime of Berlin\njshell&gt; var germanyTime = ZonedDateTime.of(d1, ZoneId.of(&quot;Europe/Berlin&quot;))\ngermanyTime ==&gt; 2023-09-11T00:00+02:00[Europe/Berlin]\n</code></pre>\n<p>Now adjust from Berlin time to UTC (an offset of zero).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get instant of germanyTime\njshell&gt; var instant = germanyTime.toInstant()\ninstant ==&gt; 2023-09-10T22:00:00Z\n\n// Convert it to UTC\njshell&gt; var utcTime = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;))\nutcTime ==&gt; 2023-09-10T22:00Z[UTC]\n</code></pre>\n<p>So you get <code>2023-09-10T22:00Z[UTC]</code>, which I suppose what you want.</p>\n"}],"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694464530,"creation_date":1694452267,"question_id":77083603,"body_markdown":"I have the following date &quot;11.09.2023 00:00:00:000&quot; and I want to convert it to Germany(Berlin) time, and then this Germany(Berlin) time now I want to convert it into UTC time\r\n\r\nSo &quot;11.09.2023 00:00:00:000&quot; is the current Germany(Berlin) time and since Germany(Berlin) is 2 hours ahead of UTC/GMT time this will mean\r\nthe output time should be 10.09.2023 22:00:00:000 in epoch milliseconds. Here is the code:\r\n\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String... args) throws ParseException {\r\n        test();\r\n\r\n    }\r\n\r\n    public static void test() throws ParseException {\r\n    //&quot;11.09.2023 00:00:00:000&quot;; via epoch converter is is 1694466000\r\n        Date date1 =Date.from(Instant.ofEpochSecond(1694466000));\r\n        ZonedDateTime germanyTime = ZonedDateTime.ofInstant(date1.toInstant(), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n        ZoneId utcZone = ZoneId.of(&quot;UTC&quot;);\r\n        ZonedDateTime utcTime = germanyTime.withZoneSameInstant(utcZone);\r\n        long e = utcTime.toInstant().toEpochMilli();\r\n        System.out.println(e);\r\n    }\r\n\r\n}\r\n```\r\n\r\nhowever the result I get is 10.09.2023 21:00:00:000\r\nI compared the output epoch(1694379600000) in the online unix epoch converters which show   10.09.2023 21:00:00:000 I expect the code to output a long number which when  I convert with online epoch converts to show  10.09.2023 22:00:00:000 GMT/UTC","title":"Converting time zone date to UTC date","body":"<p>I have the following date &quot;11.09.2023 00:00:00:000&quot; and I want to convert it to Germany(Berlin) time, and then this Germany(Berlin) time now I want to convert it into UTC time</p>\n<p>So &quot;11.09.2023 00:00:00:000&quot; is the current Germany(Berlin) time and since Germany(Berlin) is 2 hours ahead of UTC/GMT time this will mean\nthe output time should be 10.09.2023 22:00:00:000 in epoch milliseconds. Here is the code:</p>\n<pre><code>public class Test {\n\n    public static void main(String... args) throws ParseException {\n        test();\n\n    }\n\n    public static void test() throws ParseException {\n    //&quot;11.09.2023 00:00:00:000&quot;; via epoch converter is is 1694466000\n        Date date1 =Date.from(Instant.ofEpochSecond(1694466000));\n        ZonedDateTime germanyTime = ZonedDateTime.ofInstant(date1.toInstant(), ZoneId.of(&quot;Europe/Berlin&quot;));\n        ZoneId utcZone = ZoneId.of(&quot;UTC&quot;);\n        ZonedDateTime utcTime = germanyTime.withZoneSameInstant(utcZone);\n        long e = utcTime.toInstant().toEpochMilli();\n        System.out.println(e);\n    }\n\n}\n</code></pre>\n<p>however the result I get is 10.09.2023 21:00:00:000\nI compared the output epoch(1694379600000) in the online unix epoch converters which show   10.09.2023 21:00:00:000 I expect the code to output a long number which when  I convert with online epoch converts to show  10.09.2023 22:00:00:000 GMT/UTC</p>\n"},{"tags":["java","javafx","drag","mousepress"],"answers":[{"comments":[{"owner":{"account_id":29414950,"reputation":1,"user_id":22537990,"display_name":"EurosO"},"score":1,"creation_date":1694505389,"post_id":77084649,"comment_id":135895878,"body_markdown":"I think this could be what I&#39;m looking for. If the snapshot is draggable anywhere on the scene then it could definetly work for me. I have two buttons. A bin and a decryption one and the idea is you drag the Hutton over these buttons, and letting go will either delete the data and the button, or decrypt the data and send the button back to its original place. I&#39;ll try it out soon and let you know how it goes. Thank you for the code example","body":"I think this could be what I&#39;m looking for. If the snapshot is draggable anywhere on the scene then it could definetly work for me. I have two buttons. A bin and a decryption one and the idea is you drag the Hutton over these buttons, and letting go will either delete the data and the button, or decrypt the data and send the button back to its original place. I&#39;ll try it out soon and let you know how it goes. Thank you for the code example"},{"owner":{"account_id":29414950,"reputation":1,"user_id":22537990,"display_name":"EurosO"},"score":1,"creation_date":1694516301,"post_id":77084649,"comment_id":135898069,"body_markdown":"I took the idea of a snapshot and set it as the cursor image when being dragged, and then resetting the cursor image when &quot;released&quot;. Definetly on the right track just fine tuning it. Thanks for the idea","body":"I took the idea of a snapshot and set it as the cursor image when being dragged, and then resetting the cursor image when &quot;released&quot;. Definetly on the right track just fine tuning it. Thanks for the idea"}],"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694464475,"creation_date":1694464475,"answer_id":77084649,"question_id":77082316,"body_markdown":"Here is an example that hopefully can get you in the right direction. \r\n\r\nThis code takes a snapshot of the node and then sets the node invisible. The snapshot is draggable to any part of the `Scene`. On release on a target node, the Button is recreated using information from the original button. I haven&#39;t tried it, but I would guess that on release on a target node, you can add the button as a child to the target node. \r\n\r\nI altered the code from [here](https://stackoverflow.com/a/55709991/2423906). @James_D answer may be better from [here](https://stackoverflow.com/a/22838363/2423906). I did not try his code.\r\n\r\n## Main ##\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.input.*;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * Demonstrates a drag-and-drop feature.\r\n */\r\npublic class App extends Application\r\n{\r\n\r\n    @Override\r\n    public void start(Stage stage)\r\n    {\r\n        //Source Buttons.\r\n        final Button boat1 = new Button(&quot;boat1&quot;);\r\n        final Button boat2 = new Button(&quot;boat2&quot;);\r\n        final Button boat3 = new Button(&quot;boat3&quot;);\r\n        final Button boat4 = new Button(&quot;boat4&quot;);\r\n\r\n        //Adding OnDragDetected to source Buttons.\r\n        setOnDragDetected(boat1);\r\n        setOnDragDetected(boat2);\r\n        setOnDragDetected(boat3);\r\n        setOnDragDetected(boat4);\r\n\r\n        //Adding onDragDone to source Buttons.\r\n        setOnDragDone(boat1);\r\n        setOnDragDone(boat2);\r\n        setOnDragDone(boat3);\r\n        setOnDragDone(boat4);\r\n\r\n        //Creating GridPane\r\n        GridPane gridPane = new GridPane();\r\n        gridPane.setVgap(5);\r\n        gridPane.setHgap(5);\r\n        gridPane.setPadding(new Insets(5, 5, 5, 5));\r\n        gridPane.setStyle(&quot;-fx-background-color: black;&quot;);\r\n        //Adding StackPane to every Cell in the GridPane and Adding the Target Events to each StackPane.\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            StackPane stackPane = new StackPane();\r\n            stackPane.setPrefSize(150, 50);\r\n            stackPane.setStyle(&quot;-fx-background-color: yellow;&quot;);\r\n            setOnDragOver(stackPane);\r\n            setOnDragEntered(stackPane);\r\n            setOnDragExited(stackPane);\r\n            setOnDragDropped(stackPane);\r\n\r\n            gridPane.add(stackPane, i / 3, i % 3);\r\n        }\r\n\r\n        HBox root = new HBox(new VBox(boat1, boat2, boat3, boat4), gridPane);\r\n        stage.setTitle(&quot;Hello Drag And Drop&quot;);\r\n        Scene scene = new Scene(root, 400, 200);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Application.launch(args);\r\n    }\r\n\r\n    //source events handlers\r\n    public void setOnDragDetected(Button source)\r\n    {\r\n        source.setOnDragDetected((MouseEvent event) -&gt; {\r\n            /* drag was detected, start drag-and-drop gesture*/\r\n            System.out.println(&quot;onDragDetected&quot;);\r\n            final ImageView preview = new ImageView(source.snapshot(null, null));\r\n            \r\n            /* allow any transfer mode */\r\n            Dragboard db = source.startDragAndDrop(TransferMode.ANY);\r\n\r\n            /* put a string on dragboard */\r\n            ClipboardContent content = new ClipboardContent();\r\n            content.putString(source.getText());\r\n            db.setContent(content);\r\n            db.setDragView(preview.getImage());\r\n            source.setVisible(false);\r\n            event.consume();\r\n        });\r\n    }\r\n\r\n    public void setOnDragDone(Button source)\r\n    {\r\n        source.setOnDragDone((DragEvent event) -&gt; {\r\n            /* the drag-and-drop gesture ended */\r\n            System.out.println(&quot;onDragDone&quot;);\r\n            /* if the data was successfully moved, clear it */\r\n//            if (event.getTransferMode() == TransferMode.MOVE) {\r\n//                source.setText(&quot;&quot;);\r\n//            }\r\n\r\n            event.consume();\r\n        });\r\n    }\r\n\r\n    //target event handlers\r\n    public void setOnDragOver(StackPane target)\r\n    {\r\n        target.setOnDragOver((DragEvent event) -&gt; {\r\n            /* data is dragged over the target */\r\n            System.out.println(&quot;onDragOver&quot;);\r\n\r\n            /* accept it only if it is  not dragged from the same node\r\n            * and if it has a string data */\r\n            if (event.getGestureSource() != target\r\n                    &amp;&amp; event.getDragboard().hasString()) {\r\n                /* allow for both copying and moving, whatever user chooses */\r\n                event.acceptTransferModes(TransferMode.COPY_OR_MOVE);\r\n            }\r\n\r\n            event.consume();\r\n        });\r\n    }\r\n\r\n    public void setOnDragEntered(StackPane target)\r\n    {\r\n        target.setOnDragEntered((DragEvent event) -&gt; {\r\n            /* the drag-and-drop gesture entered the target */\r\n            System.out.println(&quot;onDragEntered&quot;);\r\n            /* show to the user that it is an actual gesture target */\r\n            if (event.getGestureSource() != target\r\n                    &amp;&amp; event.getDragboard().hasString()) {\r\n                target.setStyle(&quot;-fx-background-color: green;&quot;);\r\n            }\r\n\r\n            event.consume();\r\n        });\r\n    }\r\n\r\n    public void setOnDragExited(StackPane target)\r\n    {\r\n        target.setOnDragExited((DragEvent event) -&gt; {\r\n            /* mouse moved away, remove the graphical cues */\r\n            target.setStyle(&quot;-fx-background-color: yellow;&quot;);\r\n\r\n            event.consume();\r\n        });\r\n    }\r\n\r\n    public void setOnDragDropped(StackPane target)\r\n    {\r\n        target.setOnDragDropped((DragEvent event) -&gt; {\r\n            /* data dropped */\r\n            System.out.println(&quot;onDragDropped&quot;);\r\n            /* if there is a string data on dragboard, read it and use it */\r\n            Dragboard db = event.getDragboard();\r\n            boolean success = false;\r\n            if (db.hasString()) {\r\n                //target.setText(db.getString());\r\n                Button tempBoat = new Button(db.getString());\r\n                tempBoat.setMaxSize(Double.MAX_VALUE, Double.MAX_VALUE);\r\n                target.getChildren().clear();\r\n                target.getChildren().add(tempBoat);\r\n                success = true;\r\n            }\r\n            /* let the source know whether the string was successfully\r\n            * transferred and used */\r\n            event.setDropCompleted(success);\r\n\r\n            event.consume();\r\n        });\r\n    }    \r\n}\r\n```\r\n\r\n\r\n## Output ##\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/teU4P.gif","title":"How to drag children outside of parent layout JavaFX","body":"<p>Here is an example that hopefully can get you in the right direction.</p>\n<p>This code takes a snapshot of the node and then sets the node invisible. The snapshot is draggable to any part of the <code>Scene</code>. On release on a target node, the Button is recreated using information from the original button. I haven't tried it, but I would guess that on release on a target node, you can add the button as a child to the target node.</p>\n<p>I altered the code from <a href=\"https://stackoverflow.com/a/55709991/2423906\">here</a>. @James_D answer may be better from <a href=\"https://stackoverflow.com/a/22838363/2423906\">here</a>. I did not try his code.</p>\n<h2>Main</h2>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n * Demonstrates a drag-and-drop feature.\n */\npublic class App extends Application\n{\n\n    @Override\n    public void start(Stage stage)\n    {\n        //Source Buttons.\n        final Button boat1 = new Button(&quot;boat1&quot;);\n        final Button boat2 = new Button(&quot;boat2&quot;);\n        final Button boat3 = new Button(&quot;boat3&quot;);\n        final Button boat4 = new Button(&quot;boat4&quot;);\n\n        //Adding OnDragDetected to source Buttons.\n        setOnDragDetected(boat1);\n        setOnDragDetected(boat2);\n        setOnDragDetected(boat3);\n        setOnDragDetected(boat4);\n\n        //Adding onDragDone to source Buttons.\n        setOnDragDone(boat1);\n        setOnDragDone(boat2);\n        setOnDragDone(boat3);\n        setOnDragDone(boat4);\n\n        //Creating GridPane\n        GridPane gridPane = new GridPane();\n        gridPane.setVgap(5);\n        gridPane.setHgap(5);\n        gridPane.setPadding(new Insets(5, 5, 5, 5));\n        gridPane.setStyle(&quot;-fx-background-color: black;&quot;);\n        //Adding StackPane to every Cell in the GridPane and Adding the Target Events to each StackPane.\n        for (int i = 0; i &lt; 6; i++) {\n            StackPane stackPane = new StackPane();\n            stackPane.setPrefSize(150, 50);\n            stackPane.setStyle(&quot;-fx-background-color: yellow;&quot;);\n            setOnDragOver(stackPane);\n            setOnDragEntered(stackPane);\n            setOnDragExited(stackPane);\n            setOnDragDropped(stackPane);\n\n            gridPane.add(stackPane, i / 3, i % 3);\n        }\n\n        HBox root = new HBox(new VBox(boat1, boat2, boat3, boat4), gridPane);\n        stage.setTitle(&quot;Hello Drag And Drop&quot;);\n        Scene scene = new Scene(root, 400, 200);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args)\n    {\n        Application.launch(args);\n    }\n\n    //source events handlers\n    public void setOnDragDetected(Button source)\n    {\n        source.setOnDragDetected((MouseEvent event) -&gt; {\n            /* drag was detected, start drag-and-drop gesture*/\n            System.out.println(&quot;onDragDetected&quot;);\n            final ImageView preview = new ImageView(source.snapshot(null, null));\n            \n            /* allow any transfer mode */\n            Dragboard db = source.startDragAndDrop(TransferMode.ANY);\n\n            /* put a string on dragboard */\n            ClipboardContent content = new ClipboardContent();\n            content.putString(source.getText());\n            db.setContent(content);\n            db.setDragView(preview.getImage());\n            source.setVisible(false);\n            event.consume();\n        });\n    }\n\n    public void setOnDragDone(Button source)\n    {\n        source.setOnDragDone((DragEvent event) -&gt; {\n            /* the drag-and-drop gesture ended */\n            System.out.println(&quot;onDragDone&quot;);\n            /* if the data was successfully moved, clear it */\n//            if (event.getTransferMode() == TransferMode.MOVE) {\n//                source.setText(&quot;&quot;);\n//            }\n\n            event.consume();\n        });\n    }\n\n    //target event handlers\n    public void setOnDragOver(StackPane target)\n    {\n        target.setOnDragOver((DragEvent event) -&gt; {\n            /* data is dragged over the target */\n            System.out.println(&quot;onDragOver&quot;);\n\n            /* accept it only if it is  not dragged from the same node\n            * and if it has a string data */\n            if (event.getGestureSource() != target\n                    &amp;&amp; event.getDragboard().hasString()) {\n                /* allow for both copying and moving, whatever user chooses */\n                event.acceptTransferModes(TransferMode.COPY_OR_MOVE);\n            }\n\n            event.consume();\n        });\n    }\n\n    public void setOnDragEntered(StackPane target)\n    {\n        target.setOnDragEntered((DragEvent event) -&gt; {\n            /* the drag-and-drop gesture entered the target */\n            System.out.println(&quot;onDragEntered&quot;);\n            /* show to the user that it is an actual gesture target */\n            if (event.getGestureSource() != target\n                    &amp;&amp; event.getDragboard().hasString()) {\n                target.setStyle(&quot;-fx-background-color: green;&quot;);\n            }\n\n            event.consume();\n        });\n    }\n\n    public void setOnDragExited(StackPane target)\n    {\n        target.setOnDragExited((DragEvent event) -&gt; {\n            /* mouse moved away, remove the graphical cues */\n            target.setStyle(&quot;-fx-background-color: yellow;&quot;);\n\n            event.consume();\n        });\n    }\n\n    public void setOnDragDropped(StackPane target)\n    {\n        target.setOnDragDropped((DragEvent event) -&gt; {\n            /* data dropped */\n            System.out.println(&quot;onDragDropped&quot;);\n            /* if there is a string data on dragboard, read it and use it */\n            Dragboard db = event.getDragboard();\n            boolean success = false;\n            if (db.hasString()) {\n                //target.setText(db.getString());\n                Button tempBoat = new Button(db.getString());\n                tempBoat.setMaxSize(Double.MAX_VALUE, Double.MAX_VALUE);\n                target.getChildren().clear();\n                target.getChildren().add(tempBoat);\n                success = true;\n            }\n            /* let the source know whether the string was successfully\n            * transferred and used */\n            event.setDropCompleted(success);\n\n            event.consume();\n        });\n    }    \n}\n</code></pre>\n<h2>Output</h2>\n<p><a href=\"https://i.stack.imgur.com/teU4P.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/teU4P.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29414950,"reputation":1,"user_id":22537990,"display_name":"EurosO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694464475,"creation_date":1694440924,"question_id":77082316,"body_markdown":"Hi and thanks in advance for any advice.\r\n\r\nBasically I have a flowpane as the content of a scrollpane for showing a user Buttons containing data. I need to be able to drag these anywhere on the screen but the buttons clip at the edges of the scrollpane. I use this code for dragging the buttons:\r\n```\r\ndataButton.setOnMousePressed(e -&gt; {\r\n            nodeCoordinates[0] = e.getSceneX() - dataButton.getTranslateX();\r\n            nodeCoordinates[1] = e.getSceneY() - dataButton.getTranslateY();\r\n            dragData = data;\r\n        });\r\ndataButton.setOnMouseDragged(e -&gt; {\r\n            dataButton.setTranslateX(e.getSceneX()-nodeCoordinates[0]);\r\n            dataButton.setTranslateY(e.getSceneY()-nodeCoordinates[1]);\r\n        });\r\ndataButton.setOnMouseReleased(e -&gt; {\r\n            dataButton.setTranslateX(0);\r\n            dataButton.setTranslateY(0);\r\n            if(e.getButton().equals(MouseButton.SECONDARY)){\r\n                openDataPanel((Credential) data);\r\n            }\r\n            DragClearer clear= new DragClearer();//An extension of Thread for nulling a drag variable I have which gets filled with the respective data when the button is dragged\r\n            clear.start();\r\n        });\r\n```\r\n\r\n\r\nthe flowpane is what contains each button and the scrollpane doesnt take up the entire screen there are other things displayed. I need the buttons to return to their original position unless they are dragged to specific areas which they do. A while a go i did use the in-built dragging and dropping but didnt really work for what I needed it to. I would say im an intermediate at javaFX so my knowledge doesnt really go that far. And when searching online I havent really found anything similar to my problem so im either doing something wrong or im definetly doing something wrong. \r\n\r\nAgain any advice you guys can give is really appreciated.","title":"How to drag children outside of parent layout JavaFX","body":"<p>Hi and thanks in advance for any advice.</p>\n<p>Basically I have a flowpane as the content of a scrollpane for showing a user Buttons containing data. I need to be able to drag these anywhere on the screen but the buttons clip at the edges of the scrollpane. I use this code for dragging the buttons:</p>\n<pre><code>dataButton.setOnMousePressed(e -&gt; {\n            nodeCoordinates[0] = e.getSceneX() - dataButton.getTranslateX();\n            nodeCoordinates[1] = e.getSceneY() - dataButton.getTranslateY();\n            dragData = data;\n        });\ndataButton.setOnMouseDragged(e -&gt; {\n            dataButton.setTranslateX(e.getSceneX()-nodeCoordinates[0]);\n            dataButton.setTranslateY(e.getSceneY()-nodeCoordinates[1]);\n        });\ndataButton.setOnMouseReleased(e -&gt; {\n            dataButton.setTranslateX(0);\n            dataButton.setTranslateY(0);\n            if(e.getButton().equals(MouseButton.SECONDARY)){\n                openDataPanel((Credential) data);\n            }\n            DragClearer clear= new DragClearer();//An extension of Thread for nulling a drag variable I have which gets filled with the respective data when the button is dragged\n            clear.start();\n        });\n</code></pre>\n<p>the flowpane is what contains each button and the scrollpane doesnt take up the entire screen there are other things displayed. I need the buttons to return to their original position unless they are dragged to specific areas which they do. A while a go i did use the in-built dragging and dropping but didnt really work for what I needed it to. I would say im an intermediate at javaFX so my knowledge doesnt really go that far. And when searching online I havent really found anything similar to my problem so im either doing something wrong or im definetly doing something wrong.</p>\n<p>Again any advice you guys can give is really appreciated.</p>\n"},{"tags":["java","flash","protocol-buffers"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1354574640,"post_id":13693017,"comment_id":18801371,"body_markdown":"What happened when you tried it?","body":"What happened when you tried it?"}],"answers":[{"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1354574680,"creation_date":1354574680,"answer_id":13693115,"question_id":13693017,"body_markdown":"Yes, you can even define nested messages:\r\n\r\n    message User {\r\n        required string firstName = 1;\r\n        required string secondName = 2;\r\n\r\n        message UserDetails {\r\n            required int age = 1;\r\n            required int weight = 2;\r\n            required int lenght = 3;\r\n        }\r\n\r\n        required UserDetails details = 3;\r\n    }\r\n\r\nYou can get much more information about messages [here][1].\r\n\r\n\r\n  [1]: https://developers.google.com/protocol-buffers/docs/proto","title":"Does protobuf (protocol buffers) allow custom types?","body":"<p>Yes, you can even define nested messages:</p>\n\n<pre><code>message User {\n    required string firstName = 1;\n    required string secondName = 2;\n\n    message UserDetails {\n        required int age = 1;\n        required int weight = 2;\n        required int lenght = 3;\n    }\n\n    required UserDetails details = 3;\n}\n</code></pre>\n\n<p>You can get much more information about messages <a href=\"https://developers.google.com/protocol-buffers/docs/proto\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":886508,"reputation":1301,"user_id":925829,"display_name":"Ramil Amerzyanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7262,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":13693115,"answer_count":1,"score":1,"last_activity_date":1694463868,"creation_date":1354574230,"question_id":13693017,"body_markdown":"I want to use protobuf in Java and Flash. All of them has protobuf implementation.\r\nI want to create the following structure:\r\n\r\n    class UserDetails\r\n    {\r\n      int age;\r\n      int weight;\r\n      int lenght;\r\n    }\r\n    \r\n    class User\r\n    {\r\n      string firstName;\r\n      string lastName;\r\n      UserDetails details;\r\n    }\r\n\r\nThe question about *UserDetails details;* Is it allowed in Google protocol buffer?","title":"Does protobuf (protocol buffers) allow custom types?","body":"<p>I want to use protobuf in Java and Flash. All of them has protobuf implementation.\nI want to create the following structure:</p>\n<pre><code>class UserDetails\n{\n  int age;\n  int weight;\n  int lenght;\n}\n\nclass User\n{\n  string firstName;\n  string lastName;\n  UserDetails details;\n}\n</code></pre>\n<p>The question about <em>UserDetails details;</em> Is it allowed in Google protocol buffer?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":0,"creation_date":1467362918,"post_id":38140896,"comment_id":63711882,"body_markdown":"_&quot;i need to get the value only &quot;6.0&quot;_ What do you mean ? If it&#39;s `6.79%`, you want to have `6.7` or something ?","body":"<i>&quot;i need to get the value only &quot;6.0&quot;</i> What do you mean ? If it&#39;s <code>6.79%</code>, you want to have <code>6.7</code> or something ?"},{"owner":{"account_id":5546360,"reputation":141,"user_id":4400902,"accept_rate":53,"display_name":"Jayden Ng"},"score":0,"creation_date":1467362993,"post_id":38140896,"comment_id":63711928,"body_markdown":"@Micka&#235;lB yes , if it;s 6.79% , i need to get 6.79%","body":"@Micka&#235;lB yes , if it;s 6.79% , i need to get 6.79%"},{"owner":{"account_id":8596024,"reputation":2291,"user_id":6439023,"accept_rate":60,"display_name":"Luca Nicoletti"},"score":0,"creation_date":1467363064,"post_id":38140896,"comment_id":63711973,"body_markdown":"If you want to avoid saving an Array var look at my answer","body":"If you want to avoid saving an Array var look at my answer"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467362890,"creation_date":1467362890,"answer_id":38140969,"question_id":38140896,"body_markdown":"    String[] parts = string.split(&quot;[/%]&quot;);\r\n\r\nSplits on any char / or %.\r\n\r\n    double pct = Double.parseDouble(part2);\r\n    pct *= 2; // or such","title":"How to split the string only get a particular value","body":"<pre><code>String[] parts = string.split(\"[/%]\");\n</code></pre>\n\n<p>Splits on any char / or %.</p>\n\n<pre><code>double pct = Double.parseDouble(part2);\npct *= 2; // or such\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3451826,"reputation":93,"user_id":2891349,"display_name":"Sigja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694463446,"creation_date":1467362956,"answer_id":38141002,"question_id":38140896,"body_markdown":"Have you tried:\r\n\r\n    part2 = part2.replace(&quot;%&quot;, &quot;&quot;);\r\n\r\nIt replaces the % with nothing.\r\n\r\nThen as Joop suggests you can do:\r\n\r\n    double pct = Double.parseDouble(part2);\r\n","title":"How to split the string only get a particular value","body":"<p>Have you tried:</p>\n<pre><code>part2 = part2.replace(&quot;%&quot;, &quot;&quot;);\n</code></pre>\n<p>It replaces the % with nothing.</p>\n<p>Then as Joop suggests you can do:</p>\n<pre><code>double pct = Double.parseDouble(part2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8596024,"reputation":2291,"user_id":6439023,"accept_rate":60,"display_name":"Luca Nicoletti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467363022,"creation_date":1467363022,"answer_id":38141028,"question_id":38140896,"body_markdown":"    String valuetoSave = string.split(&quot;/&quot;)[1]\r\n    //valuetoSave = &quot;6.00%&quot;\r\n    valuetoSave = valuetoSave.split(&quot;%&quot;)[0]\r\n    //valuetoSave = &quot;6.00&quot;","title":"How to split the string only get a particular value","body":"<pre><code>String valuetoSave = string.split(\"/\")[1]\n//valuetoSave = \"6.00%\"\nvaluetoSave = valuetoSave.split(\"%\")[0]\n//valuetoSave = \"6.00\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4180584,"reputation":4753,"user_id":3425744,"accept_rate":89,"display_name":"Thomas Betous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467363608,"creation_date":1467363608,"answer_id":38141254,"question_id":38140896,"body_markdown":"I think can do this with a regex, but it may a little bit complicated :\r\n\r\n    String REGEX = &quot;^(\\\\d+\\\\.\\\\d+)/(\\\\d+\\\\.\\\\d+)&quot;;\r\n    String string = &quot;900.9/6.00%&quot;;\r\n    String part1 = &quot;&quot;;\r\n    String part2 = &quot;&quot;;\r\n\r\n    Pattern p = Pattern.compile(REGEX);\r\n    Matcher m = p.matcher(string);\r\n    if(m.find()){\r\n            MatchResult mr = m.toMatchResult();\r\n            part1 = mr.group(1)\r\n            part2 = mr.group(2)\r\n    }\r\n\r\nOtherwhise you can just remove &quot;%&quot; before to split your string :\r\n\r\n    String string = &quot;900.9/6.00%&quot;;\r\n    string = string .replace(&quot;%&quot;, &quot;&quot;);\r\n\r\n","title":"How to split the string only get a particular value","body":"<p>I think can do this with a regex, but it may a little bit complicated :</p>\n\n<pre><code>String REGEX = \"^(\\\\d+\\\\.\\\\d+)/(\\\\d+\\\\.\\\\d+)\";\nString string = \"900.9/6.00%\";\nString part1 = \"\";\nString part2 = \"\";\n\nPattern p = Pattern.compile(REGEX);\nMatcher m = p.matcher(string);\nif(m.find()){\n        MatchResult mr = m.toMatchResult();\n        part1 = mr.group(1)\n        part2 = mr.group(2)\n}\n</code></pre>\n\n<p>Otherwhise you can just remove \"%\" before to split your string :</p>\n\n<pre><code>String string = \"900.9/6.00%\";\nstring = string .replace(\"%\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5546360,"reputation":141,"user_id":4400902,"accept_rate":53,"display_name":"Jayden Ng"},"score":0,"creation_date":1467364831,"post_id":38141334,"comment_id":63713122,"body_markdown":"hi , what if i want it to multply the value of 0.06 * 2?","body":"hi , what if i want it to multply the value of 0.06 * 2?"}],"tags":[],"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1467365126,"creation_date":1467363851,"answer_id":38141334,"question_id":38140896,"body_markdown":"A `substring` based solution \r\n\r\n    String xy=&quot;900.9/6.00%&quot;;\r\n    double result=Double.parseDouble(xy.substring(xy.indexOf(&quot;/&quot;)+1,xy.indexOf(&#39;%&#39;)))*2;\r\n    System.out.println(&quot; result &quot;+result); // result 12.0\r\n\r\n\r\n\r\n    \r\n\r\n\r\nsame code:\r\n\r\n    String xy=&quot;900.9/0.06%&quot;;\r\n    double result=Double.parseDouble(xy.substring(xy.indexOf(&quot;/&quot;)+1,xy.indexOf(&#39;%&#39;)))*2;\r\n    System.out.println(&quot; result &quot;+result); // result 0.12","title":"How to split the string only get a particular value","body":"<p>A <code>substring</code> based solution </p>\n\n<pre><code>String xy=\"900.9/6.00%\";\ndouble result=Double.parseDouble(xy.substring(xy.indexOf(\"/\")+1,xy.indexOf('%')))*2;\nSystem.out.println(\" result \"+result); // result 12.0\n</code></pre>\n\n<p>same code:</p>\n\n<pre><code>String xy=\"900.9/0.06%\";\ndouble result=Double.parseDouble(xy.substring(xy.indexOf(\"/\")+1,xy.indexOf('%')))*2;\nSystem.out.println(\" result \"+result); // result 0.12\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"score":1,"creation_date":1467366146,"post_id":38142011,"comment_id":63713973,"body_markdown":"oh i did not know you wanted to fraction it while calculating ! anyways, good you figured it out yourself :)","body":"oh i did not know you wanted to fraction it while calculating ! anyways, good you figured it out yourself :)"}],"tags":[],"owner":{"account_id":5546360,"reputation":141,"user_id":4400902,"accept_rate":53,"display_name":"Jayden Ng"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467365852,"creation_date":1467365852,"answer_id":38142011,"question_id":38140896,"body_markdown":"Thanks to @codechat , \r\n\r\nI have amend the code to get the result of 0.12\r\n\r\n    double result=Double.parseDouble(part6.substring(part6.indexOf(&quot;/&quot;)+1,part6.indexOf(&#39;%&#39;)))*2/100.0;\r\n    \t\tSystem.out.println(&quot; result &quot;+result); // result 0.12","title":"How to split the string only get a particular value","body":"<p>Thanks to @codechat , </p>\n\n<p>I have amend the code to get the result of 0.12</p>\n\n<pre><code>double result=Double.parseDouble(part6.substring(part6.indexOf(\"/\")+1,part6.indexOf('%')))*2/100.0;\n        System.out.println(\" result \"+result); // result 0.12\n</code></pre>\n"}],"owner":{"account_id":5546360,"reputation":141,"user_id":4400902,"accept_rate":53,"display_name":"Jayden Ng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38141334,"answer_count":6,"score":0,"last_activity_date":1694463446,"creation_date":1467362688,"question_id":38140896,"body_markdown":"I have a string, &quot;900.9/6.00%&quot;, that I want to split into string only get particular value of &quot;6.00&quot; while taking particular value of &quot;6.0&quot; multiply by 2 of bettingAmount.\r\n\r\n     bettingAmount : 2.000\r\n     bettingAmount : 900.9/6.00%\r\n\r\nMy Code : \r\n\r\n    String string = &quot;900.9/6.00%&quot;;\r\n    String[] parts = string.split(&quot;/&quot;);\r\n    String part1 = parts[0]; // 900.9\r\n    String part2 = parts[1]; // 6.00%\r\n\r\nThat means the first string will contain the characters before &#39;/&#39;, and the second string will contain the characters after &#39;/&#39;. But the problem is i need to get the value only &quot;6.0&quot;. How can I do this? Kindly advise","title":"How to split the string only get a particular value","body":"<p>I have a string, \"900.9/6.00%\", that I want to split into string only get particular value of \"6.00\" while taking particular value of \"6.0\" multiply by 2 of bettingAmount.</p>\n\n<pre><code> bettingAmount : 2.000\n bettingAmount : 900.9/6.00%\n</code></pre>\n\n<p>My Code : </p>\n\n<pre><code>String string = \"900.9/6.00%\";\nString[] parts = string.split(\"/\");\nString part1 = parts[0]; // 900.9\nString part2 = parts[1]; // 6.00%\n</code></pre>\n\n<p>That means the first string will contain the characters before '/', and the second string will contain the characters after '/'. But the problem is i need to get the value only \"6.0\". How can I do this? Kindly advise</p>\n"},{"tags":["java","azure","logging","logback"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":1,"creation_date":1694512364,"post_id":77081689,"comment_id":135897247,"body_markdown":"is spring sleuth with MDC and custom dimension an option? it will handle the propagation of those fields to underlying services too","body":"is spring sleuth with MDC and custom dimension an option? it will handle the propagation of those fields to underlying services too"}],"answers":[{"tags":[],"owner":{"account_id":25464255,"reputation":1,"user_id":19263549,"display_name":"Codeur ZEBS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694463268,"creation_date":1694463268,"answer_id":77084555,"question_id":77081689,"body_markdown":"## Add dependencies\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-logging-logback&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n    &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n    &lt;version&gt;6.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n## Then Configure Logback to use the Logstash appender by adding the following configuration to your logback.xml file\r\n\r\n```\r\n&lt;appender name=&quot;logstash&quot; class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\r\n    &lt;destination&gt;localhost:5044&lt;/destination&gt;\r\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n        &lt;customFields&gt;{&quot;ai.cloud.roleInstance&quot;: &quot;your-instance-name&quot;}&lt;/customFields&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;INFO&quot;&gt;\r\n    &lt;appender-ref ref=&quot;logstash&quot;/&gt;\r\n&lt;/root&gt;\r\n\r\n```\r\n## and finally Use StructuredArguments in your Logback logs\r\n\r\n```\r\nlog.info(&quot;message&quot;, StructuredArguments.entries(Map.of(&quot;testKey&quot;, &quot;testValue&quot;)));\r\n\r\n```\r\n## Now Restart your application and Logstash","title":"How to send custom fields from Logback to Azure / AppInsights","body":"<h2>Add dependencies</h2>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-logging-logback&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n    &lt;version&gt;6.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<h2>Then Configure Logback to use the Logstash appender by adding the following configuration to your logback.xml file</h2>\n<pre><code>&lt;appender name=&quot;logstash&quot; class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\n    &lt;destination&gt;localhost:5044&lt;/destination&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n        &lt;customFields&gt;{&quot;ai.cloud.roleInstance&quot;: &quot;your-instance-name&quot;}&lt;/customFields&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;logstash&quot;/&gt;\n&lt;/root&gt;\n\n</code></pre>\n<h2>and finally Use StructuredArguments in your Logback logs</h2>\n<pre><code>log.info(&quot;message&quot;, StructuredArguments.entries(Map.of(&quot;testKey&quot;, &quot;testValue&quot;)));\n\n</code></pre>\n<h2>Now Restart your application and Logstash</h2>\n"}],"owner":{"account_id":204679,"reputation":2490,"user_id":453042,"accept_rate":84,"display_name":"Sebastian Dusza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694463268,"creation_date":1694435830,"question_id":77081689,"body_markdown":"I&#39;m using Logback with StructuredArguments to include custom fields in logged entries.\r\n\r\nlike so:\r\n\r\n    log.info(&quot;message&quot;, StructuredArguments.entries(Map.of(&quot;testKey&quot;, &quot;testValue&quot;)));\r\n\r\nHow can I send these fields to Azure Appinsights ? \r\n\r\nI see these messages in `traces` table but arguments from map are not included.\r\n\r\n\r\n\r\n\r\n","title":"How to send custom fields from Logback to Azure / AppInsights","body":"<p>I'm using Logback with StructuredArguments to include custom fields in logged entries.</p>\n<p>like so:</p>\n<pre><code>log.info(&quot;message&quot;, StructuredArguments.entries(Map.of(&quot;testKey&quot;, &quot;testValue&quot;)));\n</code></pre>\n<p>How can I send these fields to Azure Appinsights ?</p>\n<p>I see these messages in <code>traces</code> table but arguments from map are not included.</p>\n"},{"tags":["java","excel","apache-poi","xlsx","xsl-stylesheet"],"comments":[{"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"score":0,"creation_date":1693475655,"post_id":77011593,"comment_id":135767210,"body_markdown":"That&#39;s correct from Excel the user should be able to update directly the DB.\nBut the issue is that this happened only if I attempted to specify the new table AreaReference.","body":"That&#39;s correct from Excel the user should be able to update directly the DB. But the issue is that this happened only if I attempted to specify the new table AreaReference."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1693475661,"post_id":77011593,"comment_id":135767213,"body_markdown":"The error message tells: `Removed Part: /xl/queryTables/queryTable1.xml`. That is a query table probably assigned to your table. That is something special what you must have done while creating the table template. Is this really necessary? A query table gets used to fetch data to the table directly from an external source, from SQL-database for ex. But you seems want to fetch data to the table via Apache POI, no? But then the query table is not necessary. If it is needed, the query table also needs to be updated to be synchron with the assigned table. But that is not provided by Apache POI.","body":"The error message tells: <code>Removed Part: &#47;xl&#47;queryTables&#47;queryTable1.xml</code>. That is a query table probably assigned to your table. That is something special what you must have done while creating the table template. Is this really necessary? A query table gets used to fetch data to the table directly from an external source, from SQL-database for ex. But you seems want to fetch data to the table via Apache POI, no? But then the query table is not necessary. If it is needed, the query table also needs to be updated to be synchron with the assigned table. But that is not provided by Apache POI."}],"answers":[{"tags":[],"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694463177,"creation_date":1694463177,"answer_id":77084547,"question_id":77011593,"body_markdown":"The issue was with the Excel table template. Fixed thank you! \r\nThank you @Alex for the gold bullet. After your comment, I just re-created a table and it was working. Looks like the existing template I was using contained some legacy data.","title":"Apache POI XSSFTable update AreaReference","body":"<p>The issue was with the Excel table template. Fixed thank you!\nThank you @Alex for the gold bullet. After your comment, I just re-created a table and it was working. Looks like the existing template I was using contained some legacy data.</p>\n"}],"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694463177,"creation_date":1693430573,"question_id":77011593,"body_markdown":"Working with Apache POI to write some data from DB to Excel file template. The template contains the header and no rows. After adding  all the rows properly when I try to update the table area as below\r\n\r\n    AreaReference newArea = new AreaReference(&quot;A1:Bxxx&quot;, SpreadsheetVersion.EXCEL2007);//Update xxx right bottom based on rows added.\r\n            XSSFTable table = sheet.getTables().get(0);\r\n            log.error(table.getArea().formatAsString());//Existing area is going to  print(A1:BJ1) // No rows only table header in file\r\n            table.setArea(newArea);//Set new area\r\n            log.error(table.getArea().formatAsString());//Will print new area (A1:Bxxx)\r\n\r\nThe file can not open in Excel any more.\r\nError as below:\r\n\r\n    &lt;/summary&gt;&lt;removedParts&gt;&lt;removedPart&gt;Removed Part: /xl/queryTables/queryTable1.xml part.  (External data range)&lt;/removedPart&gt;\r\n\r\nFile can be recovered but it&#39;s not anymore a table just rows and headers.\r\n\r\nIf I remove the lines of code the file is open properly but the rows added are not recognize as table rows.\r\n\r\nWhat I have tried so far it&#39;s not fixing this issue.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nIf I try to apply the same area in Excel it works properly.\r\n\r\nA dirty solution would be to resize the table in the template file and make the table enough area to refer to a large number of rows so the number of rows that we are going to add will never exceed that.\r\nBut that will add unnecessary rows to the table.\r\nExample A1:B500.","title":"Apache POI XSSFTable update AreaReference","body":"<p>Working with Apache POI to write some data from DB to Excel file template. The template contains the header and no rows. After adding  all the rows properly when I try to update the table area as below</p>\n<pre><code>AreaReference newArea = new AreaReference(&quot;A1:Bxxx&quot;, SpreadsheetVersion.EXCEL2007);//Update xxx right bottom based on rows added.\n        XSSFTable table = sheet.getTables().get(0);\n        log.error(table.getArea().formatAsString());//Existing area is going to  print(A1:BJ1) // No rows only table header in file\n        table.setArea(newArea);//Set new area\n        log.error(table.getArea().formatAsString());//Will print new area (A1:Bxxx)\n</code></pre>\n<p>The file can not open in Excel any more.\nError as below:</p>\n<pre><code>&lt;/summary&gt;&lt;removedParts&gt;&lt;removedPart&gt;Removed Part: /xl/queryTables/queryTable1.xml part.  (External data range)&lt;/removedPart&gt;\n</code></pre>\n<p>File can be recovered but it's not anymore a table just rows and headers.</p>\n<p>If I remove the lines of code the file is open properly but the rows added are not recognize as table rows.</p>\n<p>What I have tried so far it's not fixing this issue.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>If I try to apply the same area in Excel it works properly.</p>\n<p>A dirty solution would be to resize the table in the template file and make the table enough area to refer to a large number of rows so the number of rows that we are going to add will never exceed that.\nBut that will add unnecessary rows to the table.\nExample A1:B500.</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"score":1,"creation_date":1446615823,"post_id":33514499,"comment_id":54811672,"body_markdown":"Is this code inside an Activity?","body":"Is this code inside an Activity?"},{"owner":{"account_id":2616674,"reputation":4034,"user_id":2265603,"accept_rate":17,"display_name":"Amy"},"score":0,"creation_date":1446616102,"post_id":33514499,"comment_id":54811782,"body_markdown":"Try this `PhoneVerificationActivity.this.finish();`","body":"Try this <code>PhoneVerificationActivity.this.finish();</code>"},{"owner":{"account_id":2739272,"reputation":375,"user_id":2361166,"accept_rate":50,"display_name":"MabrurChowdhury"},"score":0,"creation_date":1446616164,"post_id":33514499,"comment_id":54811800,"body_markdown":"Yes its inside an activity @Mauker","body":"Yes its inside an activity @Mauker"},{"owner":{"account_id":2739272,"reputation":375,"user_id":2361166,"accept_rate":50,"display_name":"MabrurChowdhury"},"score":0,"creation_date":1446616243,"post_id":33514499,"comment_id":54811825,"body_markdown":"Tried that one too amy but didnt work @Amy","body":"Tried that one too amy but didnt work @Amy"},{"owner":{"account_id":2616674,"reputation":4034,"user_id":2265603,"accept_rate":17,"display_name":"Amy"},"score":0,"creation_date":1446616297,"post_id":33514499,"comment_id":54811847,"body_markdown":"is your `ConfirmSms` is starting?","body":"is your <code>ConfirmSms</code> is starting?"},{"owner":{"account_id":2739272,"reputation":375,"user_id":2361166,"accept_rate":50,"display_name":"MabrurChowdhury"},"score":0,"creation_date":1446616573,"post_id":33514499,"comment_id":54811944,"body_markdown":"Yes it starts and we want to finish the PhoneVerificationActivity but when we press the back button it returns to the PhoneVerificationActivity. I&#39;ve also tried to finish my activity in onPause() and also on onStop() methods but it didn&#39;t work.","body":"Yes it starts and we want to finish the PhoneVerificationActivity but when we press the back button it returns to the PhoneVerificationActivity. I&#39;ve also tried to finish my activity in onPause() and also on onStop() methods but it didn&#39;t work."},{"owner":{"account_id":6931034,"reputation":696,"user_id":5320527,"display_name":"Er.Rohit Sharma"},"score":0,"creation_date":1446616996,"post_id":33514499,"comment_id":54812078,"body_markdown":"Your this piece of code is absolute correct, if your ConfirmSms is starting.\nMay be the problem is in you previous activity from which PhoneVerificationActivity is called of may be in phoneVerificationActivity. So please your caode throughly","body":"Your this piece of code is absolute correct, if your ConfirmSms is starting. May be the problem is in you previous activity from which PhoneVerificationActivity is called of may be in phoneVerificationActivity. So please your caode throughly"},{"owner":{"account_id":2739272,"reputation":375,"user_id":2361166,"accept_rate":50,"display_name":"MabrurChowdhury"},"score":0,"creation_date":1446618678,"post_id":33514499,"comment_id":54812718,"body_markdown":"Yes you were right there was a problem in another activity. Thanks for the solution.","body":"Yes you were right there was a problem in another activity. Thanks for the solution."}],"answers":[{"comments":[{"owner":{"account_id":2739272,"reputation":375,"user_id":2361166,"accept_rate":50,"display_name":"MabrurChowdhury"},"score":1,"creation_date":1446618745,"post_id":33514733,"comment_id":54812742,"body_markdown":"Thanks for the solution it worked. I tried to vote up your answer but I need 15 reps :/","body":"Thanks for the solution it worked. I tried to vote up your answer but I need 15 reps :/"}],"tags":[],"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1694463038,"creation_date":1446616828,"answer_id":33514733,"question_id":33514499,"body_markdown":"Try to create a method on your `Activity` that will call `finish()`. And then, call this method from within your `onResponse()`.\r\n\r\nSomething like:\r\n\r\n    private void killActivity() {\r\n        finish();\r\n    }\r\n\r\nAnd then, call it here:\r\n\r\n    if(Boolean.parseBoolean(Flag)) {\r\n        Intent intent=new Intent(PhoneVerificationActivity.this,ConfirmSms.class);\r\n        intent.putExtra(&quot;PhoneNumber&quot;, Phone);\r\n        startActivity(intent);\r\n        killActivity(); // Here.\r\n    }\r\n\r\n&gt;Reason: OP seems to call `finish()` of something else, but giving it a unique-name should ensure right thing&#39;s `finish()` is called.","title":"Tried everything but android finish(); activity not working","body":"<p>Try to create a method on your <code>Activity</code> that will call <code>finish()</code>. And then, call this method from within your <code>onResponse()</code>.</p>\n<p>Something like:</p>\n<pre><code>private void killActivity() {\n    finish();\n}\n</code></pre>\n<p>And then, call it here:</p>\n<pre><code>if(Boolean.parseBoolean(Flag)) {\n    Intent intent=new Intent(PhoneVerificationActivity.this,ConfirmSms.class);\n    intent.putExtra(&quot;PhoneNumber&quot;, Phone);\n    startActivity(intent);\n    killActivity(); // Here.\n}\n</code></pre>\n<blockquote>\n<p>Reason: OP seems to call <code>finish()</code> of something else, but giving it a unique-name should ensure right thing's <code>finish()</code> is called.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6475894,"reputation":1402,"user_id":5014497,"accept_rate":73,"display_name":"Venkatesh Selvam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446631092,"creation_date":1446631092,"answer_id":33518763,"question_id":33514499,"body_markdown":"Check the following in your code\r\n\r\n1.Are you extends Activity correctly?\r\n\r\n \r\n\r\n    Public class YourActivity extends Activity{\r\n      }\r\n\r\n2.if you extends activity correctly, Finish() will work properly.\r\n\r\n    YourActivity.this.finish();\r\n\r\n3.if you use Dialogs, you should dismiss the Dialog before finish the activity\r\n\r\n    Dialog.dismiss();\r\n\r\nHope may be its helpful.\r\n\r\nHappy Coding :)\r\n\r\n","title":"Tried everything but android finish(); activity not working","body":"<p>Check the following in your code</p>\n\n<p>1.Are you extends Activity correctly?</p>\n\n<pre><code>Public class YourActivity extends Activity{\n  }\n</code></pre>\n\n<p>2.if you extends activity correctly, Finish() will work properly.</p>\n\n<pre><code>YourActivity.this.finish();\n</code></pre>\n\n<p>3.if you use Dialogs, you should dismiss the Dialog before finish the activity</p>\n\n<pre><code>Dialog.dismiss();\n</code></pre>\n\n<p>Hope may be its helpful.</p>\n\n<p>Happy Coding :)</p>\n"},{"tags":[],"owner":{"account_id":4053593,"reputation":1306,"user_id":3332319,"accept_rate":0,"display_name":"Abeer Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534483794,"creation_date":1534483794,"answer_id":51888922,"question_id":33514499,"body_markdown":"If you are transferring big data in intent result then it may not finish activity.\r\ne.g when i am putting byte array on image of big size, finish is not working, when i change image size same code works.","title":"Tried everything but android finish(); activity not working","body":"<p>If you are transferring big data in intent result then it may not finish activity.\ne.g when i am putting byte array on image of big size, finish is not working, when i change image size same code works.</p>\n"}],"owner":{"account_id":2739272,"reputation":375,"user_id":2361166,"accept_rate":50,"display_name":"MabrurChowdhury"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16615,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":33514733,"answer_count":3,"score":16,"last_activity_date":1694463038,"creation_date":1446615656,"question_id":33514499,"body_markdown":"\r\nWe tried everything to finish a particular activity but failed to do so. The Code runs without any error or warning just cant finish the activity. We tried every solutions in stackoverflow along with other forums. Need a solution with explanation. \r\n\r\nhttps://stackoverflow.com/questions/12217871/android-finish-activity-not-working\r\n\r\n\r\n\r\nhttps://stackoverflow.com/questions/18131466/android-finishing-activity-not-working\r\n\r\n\r\n\r\n\r\nhttps://stackoverflow.com/questions/5376730/android-finish-activity-context\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void HttpSmsRequest(final String Phone){\r\n            final ProgressDialog pDialog = new ProgressDialog(this);\r\n            pDialog.setMessage(&quot;Loading...&quot;;\r\n            pDialog.show();\r\n    \r\n    \r\n    \r\n            Map&lt;String, String&gt; jsonParams = new HashMap&lt;String, String&gt;();\r\n            // jsonParams.put(&quot;param1&quot;, youParameter);\r\n            jsonParams.put(&quot;Phone&quot;, Phone);\r\n    \r\n    \r\n            //jsonParams.put(&quot;rememberMe&quot;, &quot;true&quot;;\r\n    \r\n            JsonObjectRequest myRequest = new JsonObjectRequest(\r\n                    Request.Method.POST,\r\n                    AppGlobal.host+&quot;PhoneVerification/sendSms&quot;,\r\n                    new JSONObject(jsonParams),\r\n    \r\n                    new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n    \r\n                            try\r\n                            {\r\n                                Log.v(&quot;Success&quot;, &quot;success: &quot; + response.toString());\r\n                                //MessageBox.Show(ProfileInfoActivity.this, &quot;Response: &quot; + response.toString());\r\n                                pDialog.dismiss();\r\n                                JSONObject obj=new JSONObject(response.toString());\r\n                              //  String ID=obj.getString(&quot;ID&quot;;\r\n                                String Flag=obj.getString(&quot;Flag&quot;;\r\n                                String Message=obj.getString(&quot;Message&quot;;\r\n    \r\n    \r\n    \r\n                               // Context context = getApplicationContext();\r\n                               //\r\n                              ///  appPrefs.setUserIdentity(Integer.parseInt(ID));\r\n    \r\n    \r\n    \r\n                                if(Boolean.parseBoolean(Flag))\r\n                                {\r\n                                    Intent intent=new Intent(PhoneVerificationActivity.this,ConfirmSms.class);\r\n                                    intent.putExtra(&quot;PhoneNumber&quot;, Phone);\r\n                                    //intent.setFlags(intent.getFlags() | Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n                                    return;\r\n                                    //finishActivity(Activity.RESULT_OK);\r\n    \r\n                                }\r\n                            }\r\n                            catch (Exception ex)\r\n                            {\r\n                                MessageBox.Show(context, ex.getMessage());\r\n    \r\n                            }\r\n    \r\n                            // verificationSuccess(response);\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            //Log.v(&quot;Success&quot;, &quot;Error: &quot; + error.networkResponse.statusCode);\r\n                            if (error instanceof TimeoutError || error instanceof NoConnectionError) {\r\n                                MessageBox.Show(PhoneVerificationActivity.this, &quot;Error: &quot; + error.toString());\r\n                                AppController.getInstance().getRequestQueue().cancelAll(&quot;tag_json_obj&quot;;\r\n                            }\r\n    \r\n    \r\n                            pDialog.dismiss();\r\n    \r\n                            //verificationFailed(error);\r\n                        }\r\n                    }) {\r\n    \r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n    \r\n                    Map headers = new HashMap();\r\n                    if (!Preference.getInstance().getCookie().equals(&quot;&quot;)\r\n                        headers.put(&quot;Cookie&quot;, Preference.getInstance().getCookie());\r\n                    return headers;\r\n                }\r\n    \r\n    /*@Override\r\n    protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\r\n    \r\n    Map headers = response.headers;\r\n    String cookie = headers.get(&quot;Set-Cookie&quot;.toString();\r\n    Preference.getInstance().saveCookie(cookie);\r\n    //  MyApp.get().checkSessionCookie(response.headers);\r\n    Log.v(&quot;Success&quot;, &quot;Response&quot;+response.headers.toString());\r\n    return super.parseNetworkResponse(response);\r\n    }*/\r\n            };\r\n            AppController.getInstance().addToRequestQueue(myRequest, &quot;tag_json_obj&quot;;\r\n    \r\n        }","title":"Tried everything but android finish(); activity not working","body":"<p>We tried everything to finish a particular activity but failed to do so. The Code runs without any error or warning just cant finish the activity. We tried every solutions in stackoverflow along with other forums. Need a solution with explanation. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/12217871/android-finish-activity-not-working\">Android finish() Activity Not working</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/18131466/android-finishing-activity-not-working\">Android finishing activity not working</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/5376730/android-finish-activity-context\">android finish activity context</a></p>\n\n<pre><code>public void HttpSmsRequest(final String Phone){\n        final ProgressDialog pDialog = new ProgressDialog(this);\n        pDialog.setMessage(\"Loading...\";\n        pDialog.show();\n\n\n\n        Map&lt;String, String&gt; jsonParams = new HashMap&lt;String, String&gt;();\n        // jsonParams.put(\"param1\", youParameter);\n        jsonParams.put(\"Phone\", Phone);\n\n\n        //jsonParams.put(\"rememberMe\", \"true\";\n\n        JsonObjectRequest myRequest = new JsonObjectRequest(\n                Request.Method.POST,\n                AppGlobal.host+\"PhoneVerification/sendSms\",\n                new JSONObject(jsonParams),\n\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n\n                        try\n                        {\n                            Log.v(\"Success\", \"success: \" + response.toString());\n                            //MessageBox.Show(ProfileInfoActivity.this, \"Response: \" + response.toString());\n                            pDialog.dismiss();\n                            JSONObject obj=new JSONObject(response.toString());\n                          //  String ID=obj.getString(\"ID\";\n                            String Flag=obj.getString(\"Flag\";\n                            String Message=obj.getString(\"Message\";\n\n\n\n                           // Context context = getApplicationContext();\n                           //\n                          ///  appPrefs.setUserIdentity(Integer.parseInt(ID));\n\n\n\n                            if(Boolean.parseBoolean(Flag))\n                            {\n                                Intent intent=new Intent(PhoneVerificationActivity.this,ConfirmSms.class);\n                                intent.putExtra(\"PhoneNumber\", Phone);\n                                //intent.setFlags(intent.getFlags() | Intent.FLAG_ACTIVITY_NO_HISTORY);\n                                startActivity(intent);\n                                finish();\n                                return;\n                                //finishActivity(Activity.RESULT_OK);\n\n                            }\n                        }\n                        catch (Exception ex)\n                        {\n                            MessageBox.Show(context, ex.getMessage());\n\n                        }\n\n                        // verificationSuccess(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        //Log.v(\"Success\", \"Error: \" + error.networkResponse.statusCode);\n                        if (error instanceof TimeoutError || error instanceof NoConnectionError) {\n                            MessageBox.Show(PhoneVerificationActivity.this, \"Error: \" + error.toString());\n                            AppController.getInstance().getRequestQueue().cancelAll(\"tag_json_obj\";\n                        }\n\n\n                        pDialog.dismiss();\n\n                        //verificationFailed(error);\n                    }\n                }) {\n\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n\n                Map headers = new HashMap();\n                if (!Preference.getInstance().getCookie().equals(\"\")\n                    headers.put(\"Cookie\", Preference.getInstance().getCookie());\n                return headers;\n            }\n\n/*@Override\nprotected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\n\nMap headers = response.headers;\nString cookie = headers.get(\"Set-Cookie\".toString();\nPreference.getInstance().saveCookie(cookie);\n//  MyApp.get().checkSessionCookie(response.headers);\nLog.v(\"Success\", \"Response\"+response.headers.toString());\nreturn super.parseNetworkResponse(response);\n}*/\n        };\n        AppController.getInstance().addToRequestQueue(myRequest, \"tag_json_obj\";\n\n    }\n</code></pre>\n"},{"tags":["java","concurrency","parallel-processing","stream","jmh"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":4,"creation_date":1694446721,"post_id":77082771,"comment_id":135888801,"body_markdown":"You haven&#39;t shown the implementation of `ruleSystem1.evaluate` so there&#39;s no way we can tell what the problem might be.","body":"You haven&#39;t shown the implementation of <code>ruleSystem1.evaluate</code> so there&#39;s no way we can tell what the problem might be."},{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":1,"creation_date":1694447053,"post_id":77082771,"comment_id":135888882,"body_markdown":"You need to take out the call to generate the test data outside of the method that is being measured. Check out [Amdahl&#39;s law](https://en.wikipedia.org/wiki/Amdahl&#39;s_law)","body":"You need to take out the call to generate the test data outside of the method that is being measured. Check out <a href=\"https://en.wikipedia.org/wiki/Amdahl&#39;s_law\" rel=\"nofollow noreferrer\">Amdahl&#39;s law</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1694447085,"post_id":77082771,"comment_id":135888887,"body_markdown":"You benchmark methods contain the entire setup (`createTestDataInput()`) and result verification (`validateTestOutput(resultMap)`). Further, it looks strange to me that you specify options via annotations but then entirely contradicting options via `OptionsBuilder`.","body":"You benchmark methods contain the entire setup (<code>createTestDataInput()</code>) and result verification (<code>validateTestOutput(resultMap)</code>). Further, it looks strange to me that you specify options via annotations but then entirely contradicting options via <code>OptionsBuilder</code>."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694448824,"post_id":77082771,"comment_id":135889214,"body_markdown":"This kind of shoddy setup is not something I would expect from someone named Scientist ;)","body":"This kind of shoddy setup is not something I would expect from someone named Scientist ;)"}],"answers":[{"tags":[],"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694462517,"creation_date":1694450434,"answer_id":77083398,"question_id":77082771,"body_markdown":"If you want to see how parallelism improves the runtime then you should measure only the part that is running in parallel, data generation and validation should be separated (I mentioned this in the comment - refer to [Amdahl&#39;s](https://en.wikipedia.org/wiki/Amdahl&#39;s_law)). Separately, 20k is not enough to see any significant difference. Check out the code below:\r\n\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String [] args) throws Exception {\r\n            System.out.println(&quot;processors: &quot; + Runtime.getRuntime().availableProcessors());\r\n            List&lt;Map&lt;String, String&gt;&gt; data = createTestDataInput();\r\n            evaluate(data, true);\r\n            evaluate(data, false);\r\n    \r\n            long start = System.currentTimeMillis();\r\n            evaluate(data, true);\r\n            long pend = System.currentTimeMillis();\r\n            evaluate(data, false);\r\n            long send = System.currentTimeMillis();\r\n    \r\n            System.err.println(&quot;Parallel: &quot; + (pend - start) + &quot;ms&quot;);\r\n            System.err.println(&quot;Sequencial: &quot; + (send - pend) + &quot;ms&quot;);\r\n    \r\n        }   \r\n    \r\n        public static void evaluate(List&lt;Map&lt;String, String&gt;&gt; ruleInputList, boolean p) {\r\n            final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;();\r\n            if(p) {\r\n                ruleInputList.parallelStream().forEach(ruleInput -&gt; {\r\n                            resultMap.put(ruleInput, &quot;a&quot;);\r\n                        }); \r\n            } else {\r\n                ruleInputList.stream().forEach(ruleInput -&gt; {\r\n                            resultMap.put(ruleInput, &quot;b&quot;);\r\n                        }); \r\n            }   \r\n        }   \r\n    \r\n        private static  List&lt;Map&lt;String, String&gt;&gt; createTestDataInput() {\r\n            final List&lt;Map&lt;String, String&gt;&gt; ruleInputList = new ArrayList&lt;&gt;();\r\n            Map&lt;String, String&gt; inputMap = new HashMap&lt;&gt;();\r\n    \r\n            for (int i =1; i &lt;= 2000000; i++) {\r\n                inputMap = new HashMap&lt;&gt;();\r\n                inputMap.put(&quot;input_1&quot;, String.valueOf(i));\r\n                inputMap.put(&quot;input_2&quot;, String.valueOf(i));\r\n                ruleInputList.add(inputMap);\r\n            }\r\n            return ruleInputList;\r\n        }\r\n    }\r\n\r\nOutput:\r\n    processors: 8\r\n    Parallel: 302ms\r\n    Sequencial: 545ms\r\n\r\nFurthermore: If you want to reduce the overhead, you can create the result map with the initial size:\r\n\r\n    ...\r\n    final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;(ruleInputList.size());\r\n\r\nOutput:\r\n    processors: 8\r\n    Parallel: 124ms\r\n    Sequencial: 273ms\r\n\r\n\r\n","title":"Java 17 parallel Stream not yielding better performance","body":"<p>If you want to see how parallelism improves the runtime then you should measure only the part that is running in parallel, data generation and validation should be separated (I mentioned this in the comment - refer to <a href=\"https://en.wikipedia.org/wiki/Amdahl%27s_law\" rel=\"nofollow noreferrer\">Amdahl's</a>). Separately, 20k is not enough to see any significant difference. Check out the code below:</p>\n<pre><code>import java.util.Map;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.concurrent.ConcurrentHashMap;\n\npublic class Test {\n\n    public static void main(String [] args) throws Exception {\n        System.out.println(&quot;processors: &quot; + Runtime.getRuntime().availableProcessors());\n        List&lt;Map&lt;String, String&gt;&gt; data = createTestDataInput();\n        evaluate(data, true);\n        evaluate(data, false);\n\n        long start = System.currentTimeMillis();\n        evaluate(data, true);\n        long pend = System.currentTimeMillis();\n        evaluate(data, false);\n        long send = System.currentTimeMillis();\n\n        System.err.println(&quot;Parallel: &quot; + (pend - start) + &quot;ms&quot;);\n        System.err.println(&quot;Sequencial: &quot; + (send - pend) + &quot;ms&quot;);\n\n    }   \n\n    public static void evaluate(List&lt;Map&lt;String, String&gt;&gt; ruleInputList, boolean p) {\n        final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;();\n        if(p) {\n            ruleInputList.parallelStream().forEach(ruleInput -&gt; {\n                        resultMap.put(ruleInput, &quot;a&quot;);\n                    }); \n        } else {\n            ruleInputList.stream().forEach(ruleInput -&gt; {\n                        resultMap.put(ruleInput, &quot;b&quot;);\n                    }); \n        }   \n    }   \n\n    private static  List&lt;Map&lt;String, String&gt;&gt; createTestDataInput() {\n        final List&lt;Map&lt;String, String&gt;&gt; ruleInputList = new ArrayList&lt;&gt;();\n        Map&lt;String, String&gt; inputMap = new HashMap&lt;&gt;();\n\n        for (int i =1; i &lt;= 2000000; i++) {\n            inputMap = new HashMap&lt;&gt;();\n            inputMap.put(&quot;input_1&quot;, String.valueOf(i));\n            inputMap.put(&quot;input_2&quot;, String.valueOf(i));\n            ruleInputList.add(inputMap);\n        }\n        return ruleInputList;\n    }\n}\n</code></pre>\n<p>Output:\nprocessors: 8\nParallel: 302ms\nSequencial: 545ms</p>\n<p>Furthermore: If you want to reduce the overhead, you can create the result map with the initial size:</p>\n<pre><code>...\nfinal ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;(ruleInputList.size());\n</code></pre>\n<p>Output:\nprocessors: 8\nParallel: 124ms\nSequencial: 273ms</p>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1694462517,"creation_date":1694444542,"question_id":77082771,"body_markdown":"I am using parallel stream for processing stream having 20,000 elements and for each element a method is called which is using java readLock to do some compute.\r\n\r\nwhen running the code with JMH and comparing the serial version with parallel version not getting better performance and JMH numbers are somewhat same.\r\n\r\n public class ParallelEvaluateTest {\r\n   \r\n    @Test\r\n    public void benchmark() throws Exception {\r\n        System.out.println(&quot;procssors: &quot; + Runtime.getRuntime().availableProcessors());\r\n        Options opt = new OptionsBuilder()\r\n                .include(this.getClass().getSimpleName())\r\n                .forks(0)\r\n                .measurementIterations(1)\r\n                .warmupIterations(1)\r\n                .build();\r\n\r\n\r\n        new Runner(opt).run();\r\n    }\r\n\r\n    /*\r\n    Run total 5 iterations, first 2 as warmup and start benchmarking from next 3.\r\n\r\n     */\r\n    @Benchmark\r\n    @Fork(value = 3, warmups = 2)\r\n    @BenchmarkMode({Mode.Throughput, Mode.AverageTime})\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @Test\r\n    public void evaluateParallelTest() {\r\n        final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;();\r\n        final List&lt;Map&lt;String, String&gt;&gt; ruleInputList = createTestDataInput();\r\n\r\n        assertEquals(ruleInputList.size(), 20000);\r\n\r\n        ruleInputList.parallelStream().forEach(ruleInput -&gt; {\r\n                    resultMap.put(ruleInput, ruleSystem1.evaluate(ruleInput));\r\n                }\r\n        );\r\n        validateTestOutput(resultMap);\r\n    }\r\n\r\n    @Benchmark\r\n    @Fork(value = 3, warmups = 2)\r\n    @BenchmarkMode({Mode.Throughput, Mode.AverageTime})\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @Test\r\n    public void evaluateSerialTest() {\r\n        final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;();\r\n        List&lt;Map&lt;String, String&gt;&gt; ruleInputList = createTestDataInput();\r\n\r\n        assertEquals(ruleInputList.size(), 20000);\r\n\r\n        ruleInputList.stream().forEach(ruleInput -&gt; {\r\n                    resultMap.put(ruleInput, ruleSystem1.evaluate(ruleInput));\r\n                }\r\n        );\r\n        validateTestOutput(resultMap);\r\n    }\r\n\r\n    private static  List&lt;Map&lt;String, String&gt;&gt; createTestDataInput() {\r\n        final List&lt;Map&lt;String, String&gt;&gt; ruleInputList = new ArrayList&lt;&gt;();\r\n        Map&lt;String, String&gt; inputMap = new HashMap&lt;&gt;();\r\n\r\n        for (int i =1; i &lt;= 20000; i++) {\r\n            inputMap = new HashMap&lt;&gt;();\r\n            inputMap.put(&quot;input_1&quot;, String.valueOf(i));\r\n            inputMap.put(&quot;input_2&quot;, String.valueOf(i));\r\n            ruleInputList.add(inputMap);\r\n        }\r\n        return ruleInputList;\r\n    }\r\n\r\n    private void validateTestOutput(ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap) {\r\n        assertEquals(resultMap.size(), 20000);\r\n        resultMap.entrySet().removeIf(entry -&gt; entry.getValue().equals(&quot;&quot;));\r\n        assertEquals(resultMap.size(), 7);\r\n    }\r\n}\r\n\r\nI have also set the VM args **-Djava.util.concurrent.ForkJoinPool.common.parallelism=4**\r\nThis is equal to the number of available processors in machine.\r\n\r\nDespite this the results which i am getting is :\r\n\r\n  \r\n\r\n      Benchmark                                   Mode  Cnt    Score   Error   Units\r\n    ParallelEvaluateTest.evaluateParallelTest  thrpt         0.001          ops/ms\r\n    ParallelEvaluateTest.evaluateSerialTest    thrpt         0.001          ops/ms\r\n    ParallelEvaluateTest.evaluateParallelTest   avgt       790.351           ms/op\r\n    ParallelEvaluateTest.evaluateSerialTest     avgt       799.799           ms/op\r\n\r\n\r\nThus in short parallelStreams is not yielding better performance compared to serial one.\r\nThe parallel stream code is created here :\r\n\r\n      ruleInputList.parallelStream().forEach(ruleInput -&gt; {\r\n                    resultMap.put(ruleInput, ruleSystem1.evaluate(ruleInput));\r\n                }\r\n        );","title":"Java 17 parallel Stream not yielding better performance","body":"<p>I am using parallel stream for processing stream having 20,000 elements and for each element a method is called which is using java readLock to do some compute.</p>\n<p>when running the code with JMH and comparing the serial version with parallel version not getting better performance and JMH numbers are somewhat same.</p>\n<p>public class ParallelEvaluateTest {</p>\n<pre><code>@Test\npublic void benchmark() throws Exception {\n    System.out.println(&quot;procssors: &quot; + Runtime.getRuntime().availableProcessors());\n    Options opt = new OptionsBuilder()\n            .include(this.getClass().getSimpleName())\n            .forks(0)\n            .measurementIterations(1)\n            .warmupIterations(1)\n            .build();\n\n\n    new Runner(opt).run();\n}\n\n/*\nRun total 5 iterations, first 2 as warmup and start benchmarking from next 3.\n\n */\n@Benchmark\n@Fork(value = 3, warmups = 2)\n@BenchmarkMode({Mode.Throughput, Mode.AverageTime})\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@Test\npublic void evaluateParallelTest() {\n    final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;();\n    final List&lt;Map&lt;String, String&gt;&gt; ruleInputList = createTestDataInput();\n\n    assertEquals(ruleInputList.size(), 20000);\n\n    ruleInputList.parallelStream().forEach(ruleInput -&gt; {\n                resultMap.put(ruleInput, ruleSystem1.evaluate(ruleInput));\n            }\n    );\n    validateTestOutput(resultMap);\n}\n\n@Benchmark\n@Fork(value = 3, warmups = 2)\n@BenchmarkMode({Mode.Throughput, Mode.AverageTime})\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@Test\npublic void evaluateSerialTest() {\n    final ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap = new ConcurrentHashMap&lt;&gt;();\n    List&lt;Map&lt;String, String&gt;&gt; ruleInputList = createTestDataInput();\n\n    assertEquals(ruleInputList.size(), 20000);\n\n    ruleInputList.stream().forEach(ruleInput -&gt; {\n                resultMap.put(ruleInput, ruleSystem1.evaluate(ruleInput));\n            }\n    );\n    validateTestOutput(resultMap);\n}\n\nprivate static  List&lt;Map&lt;String, String&gt;&gt; createTestDataInput() {\n    final List&lt;Map&lt;String, String&gt;&gt; ruleInputList = new ArrayList&lt;&gt;();\n    Map&lt;String, String&gt; inputMap = new HashMap&lt;&gt;();\n\n    for (int i =1; i &lt;= 20000; i++) {\n        inputMap = new HashMap&lt;&gt;();\n        inputMap.put(&quot;input_1&quot;, String.valueOf(i));\n        inputMap.put(&quot;input_2&quot;, String.valueOf(i));\n        ruleInputList.add(inputMap);\n    }\n    return ruleInputList;\n}\n\nprivate void validateTestOutput(ConcurrentHashMap&lt;Map&lt;String, String&gt;, String&gt; resultMap) {\n    assertEquals(resultMap.size(), 20000);\n    resultMap.entrySet().removeIf(entry -&gt; entry.getValue().equals(&quot;&quot;));\n    assertEquals(resultMap.size(), 7);\n}\n</code></pre>\n<p>}</p>\n<p>I have also set the VM args <strong>-Djava.util.concurrent.ForkJoinPool.common.parallelism=4</strong>\nThis is equal to the number of available processors in machine.</p>\n<p>Despite this the results which i am getting is :</p>\n<pre><code>  Benchmark                                   Mode  Cnt    Score   Error   Units\nParallelEvaluateTest.evaluateParallelTest  thrpt         0.001          ops/ms\nParallelEvaluateTest.evaluateSerialTest    thrpt         0.001          ops/ms\nParallelEvaluateTest.evaluateParallelTest   avgt       790.351           ms/op\nParallelEvaluateTest.evaluateSerialTest     avgt       799.799           ms/op\n</code></pre>\n<p>Thus in short parallelStreams is not yielding better performance compared to serial one.\nThe parallel stream code is created here :</p>\n<pre><code>  ruleInputList.parallelStream().forEach(ruleInput -&gt; {\n                resultMap.put(ruleInput, ruleSystem1.evaluate(ruleInput));\n            }\n    );\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694456677,"post_id":77083839,"comment_id":135890624,"body_markdown":"You should detail the changes that cause the error. Furthermore in the `pom` I see Java 17 instead of 19.","body":"You should detail the changes that cause the error. Furthermore in the <code>pom</code> I see Java 17 instead of 19."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694456963,"post_id":77083839,"comment_id":135890667,"body_markdown":"The only changes I made that causes the error, is changing the version of spring to `3.1.2` spring-security from 5 to 6 and since `javax ` to `jakarta`","body":"The only changes I made that causes the error, is changing the version of spring to <code>3.1.2</code> spring-security from 5 to 6 and since <code>javax </code> to <code>jakarta</code>"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694457332,"post_id":77083839,"comment_id":135890724,"body_markdown":"What about `spring-boot-starter-security`? It has a fixed and old version. Also note that the thymeleaf dependency refers to Spring 5.","body":"What about <code>spring-boot-starter-security</code>? It has a fixed and old version. Also note that the thymeleaf dependency refers to Spring 5."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694457891,"post_id":77083839,"comment_id":135890812,"body_markdown":"The `spring-boot-starter-security` I&#39;m not sure if it is fixed or old, I assume it&#39;s not because it is generated by https://start.spring.io/;","body":"The <code>spring-boot-starter-security</code> I&#39;m not sure if it is fixed or old, I assume it&#39;s not because it is generated by <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>;"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1694458388,"post_id":77083839,"comment_id":135890902,"body_markdown":"Both fixed and old: you have to remove it&#39;s `version` tag, and also upgrade thymeleaf (at least).","body":"Both fixed and old: you have to remove it&#39;s <code>version</code> tag, and also upgrade thymeleaf (at least)."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694458991,"post_id":77083839,"comment_id":135891023,"body_markdown":"@Pino so I removed the version tag and changed thymeleaf version to 3.1.2, error still persists","body":"@Pino so I removed the version tag and changed thymeleaf version to 3.1.2, error still persists"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694498478,"post_id":77083839,"comment_id":135894773,"body_markdown":"You are mixing modules from a single framework, never do this. You should only have as spring boot version in your parent, the other `spring-boot-starter-*` must not have a version, nor should your `spring-boot-maven-plugin` have a version. The maven compiler plugin should go as well and you should set the `java.version` property to 17 to work with Spring Boot 3. Finally the `maven-compiler-plugin` as a dependency doesn&#39;t make any sense, remove it.","body":"You are mixing modules from a single framework, never do this. You should only have as spring boot version in your parent, the other <code>spring-boot-starter-*</code> must not have a version, nor should your <code>spring-boot-maven-plugin</code> have a version. The maven compiler plugin should go as well and you should set the <code>java.version</code> property to 17 to work with Spring Boot 3. Finally the <code>maven-compiler-plugin</code> as a dependency doesn&#39;t make any sense, remove it."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694633775,"post_id":77083839,"comment_id":135918546,"body_markdown":"@M.Deinum so I tried this and it didn&#39;t work, the compiler stalls at `HHH000021: Bytecode provider name : bytebuddy`","body":"@M.Deinum so I tried this and it didn&#39;t work, the compiler stalls at <code>HHH000021: Bytecode provider name : bytebuddy</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694671737,"post_id":77083839,"comment_id":135922373,"body_markdown":"THat isn&#39;t a compiler message that is a message from the start of the application, probably in a test.","body":"THat isn&#39;t a compiler message that is a message from the start of the application, probably in a test."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694694605,"post_id":77083839,"comment_id":135926849,"body_markdown":"Yeah I understand that now however, I still get the notification from IntelliJ at run-time: `Failed to retrieve application JMX service URL` I assume it could be an issue with hibernate and the @Audited annotation but I&#39;m not sure","body":"Yeah I understand that now however, I still get the notification from IntelliJ at run-time: <code>Failed to retrieve application JMX service URL</code> I assume it could be an issue with hibernate and the @Audited annotation but I&#39;m not sure"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694704388,"post_id":77083839,"comment_id":135929244,"body_markdown":"After about 45 minutes, I get an exception: `Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space `","body":"After about 45 minutes, I get an exception: <code>Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org&#47;springframework&#47;boot&#47;autoconfigure&#47;orm&#47;jpa&#47;HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: Java heap space </code>"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694462241,"creation_date":1694454890,"question_id":77083839,"body_markdown":"The program I&#39;m currently working on uses Java 17 and Spring Boot 2.6.4, I need to add a jQuery DataTables dependency to the `pom` file:\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.darrachequesne&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa-datatables&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nHowever, this dependency is not compatible with the Spring Boot `2.6.4` so I upgraded to `3.1.2` and because of this change I now have to use `jakarta` instead of `javax` and I also have to migrate from spring-security 5 to 6. Without these changes the application starts and works fine, but when I make the changes I see no error in the console, but Intellij notifies me: `Failed to retrieve application JMX service URL` \r\n\r\nThis is the `pom.xml` file: \r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;[redacted]&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;[redacted]&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;[application name]&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;[redacted]&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;com.github.darrachequesne&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-data-jpa-datatables&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt; DataTables dependency\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nThis is the main &#39;runner&#39; file: \r\n``` \r\nimport com.[].[].entity.Employee;\r\nimport com.[].[].entity.UserAccount;\r\nimport org.apache.catalina.Context;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\nimport org.springframework.context.annotation.Bean;\r\n//import org.springframework.data.jpa.datatables.repository.DataTablesRepositoryFactoryBean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@SpringBootApplication\r\n//@EnableJpaRepositories(repositoryFactoryBeanClass = DataTablesRepositoryFactoryBean.class)\r\n@EnableScheduling\r\npublic class KycApplication extends SpringBootServletInitializer{\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(KycApplication.class);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(KycApplication.class, args);\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\t// Enable SSL Traffic\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n\t\t\t@Override\r\n\t\t\tprotected void postProcessContext(Context context) {\r\n\t\t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n\t\t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n\t\t\t\tSecurityCollection collection = new SecurityCollection();\r\n\t\t\t\tcollection.addPattern(&quot;/*&quot;);\r\n\t\t\t\tsecurityConstraint.addCollection(collection);\r\n\t\t\t\tcontext.addConstraint(securityConstraint);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Add HTTP to HTTPS redirect\r\n\t\ttomcat.addAdditionalTomcatConnectors(httpToHttpsRedirectConnector());\r\n\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\t/*\r\n    We need to redirect from HTTP to HTTPS. Without SSL, this application used\r\n    port 8082. With SSL it will use port 8443. So, any request for 8082 needs to be\r\n    redirected to HTTPS on 8443.\r\n     */\r\n\tprivate Connector httpToHttpsRedirectConnector() {\r\n\t\tConnector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n\t\tconnector.setScheme(&quot;http&quot;);\r\n\t\tconnector.setPort(8080);\r\n\t\tconnector.setSecure(false);\r\n\t\tconnector.setRedirectPort(443);\r\n\t\treturn connector;\r\n\t}\r\n\r\n}\r\n```\r\nAny assistance is appreciated.","title":"Transition from javax to jakarta in Jakarta EE and Spring Framework 6","body":"<p>The program I'm currently working on uses Java 17 and Spring Boot 2.6.4, I need to add a jQuery DataTables dependency to the <code>pom</code> file:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.darrachequesne&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa-datatables&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However, this dependency is not compatible with the Spring Boot <code>2.6.4</code> so I upgraded to <code>3.1.2</code> and because of this change I now have to use <code>jakarta</code> instead of <code>javax</code> and I also have to migrate from spring-security 5 to 6. Without these changes the application starts and works fine, but when I make the changes I see no error in the console, but Intellij notifies me: <code>Failed to retrieve application JMX service URL</code></p>\n<p>This is the <code>pom.xml</code> file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;[redacted]&lt;/groupId&gt;\n    &lt;artifactId&gt;[redacted]&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;[application name]&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;[redacted]&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.github.darrachequesne&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-data-jpa-datatables&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;6.0.1&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt; DataTables dependency\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>This is the main 'runner' file:</p>\n<pre><code>import com.[].[].entity.Employee;\nimport com.[].[].entity.UserAccount;\nimport org.apache.catalina.Context;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.Bean;\n//import org.springframework.data.jpa.datatables.repository.DataTablesRepositoryFactoryBean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n//@EnableJpaRepositories(repositoryFactoryBeanClass = DataTablesRepositoryFactoryBean.class)\n@EnableScheduling\npublic class KycApplication extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(KycApplication.class);\n    }\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(KycApplication.class, args);\n\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        // Enable SSL Traffic\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n\n        // Add HTTP to HTTPS redirect\n        tomcat.addAdditionalTomcatConnectors(httpToHttpsRedirectConnector());\n\n        return tomcat;\n    }\n\n    /*\n    We need to redirect from HTTP to HTTPS. Without SSL, this application used\n    port 8082. With SSL it will use port 8443. So, any request for 8082 needs to be\n    redirected to HTTPS on 8443.\n     */\n    private Connector httpToHttpsRedirectConnector() {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(8080);\n        connector.setSecure(false);\n        connector.setRedirectPort(443);\n        return connector;\n    }\n\n}\n</code></pre>\n<p>Any assistance is appreciated.</p>\n"},{"tags":["java","spring-boot","rest","file-upload","multipart"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1694459866,"post_id":77084189,"comment_id":136132348,"body_markdown":"Yes you can, see this video for more information : [Upload File with spring boot](https://www.youtube.com/watch?v=8IcVSoCF2fs&amp;list=PLJJMbxdZZVvp1wh7Tis2OoBtN2s1l06pU&amp;index=3)","body":"Yes you can, see this video for more information : <a href=\"https://www.youtube.com/watch?v=8IcVSoCF2fs&amp;list=PLJJMbxdZZVvp1wh7Tis2OoBtN2s1l06pU&amp;index=3\" rel=\"nofollow noreferrer\">Upload File with spring boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694461951,"creation_date":1694461951,"answer_id":77084441,"question_id":77084189,"body_markdown":"Yes It can work. Instead of **@RequestBody** for PersonModel variable, use **@RequestPart**\r\n\r\n    public ResponseEntity&lt;BaseResposeModel&gt; testObjectUpload(@RequestPart PersonModel persontModel, @RequestParam(&quot;productImage&quot;) MultipartFile file) {\r\n    ...\r\n    }","title":"Spring Boot - perform object and image upload in one @POSTMapping operation","body":"<p>Yes It can work. Instead of <strong>@RequestBody</strong> for PersonModel variable, use <strong>@RequestPart</strong></p>\n<pre><code>public ResponseEntity&lt;BaseResposeModel&gt; testObjectUpload(@RequestPart PersonModel persontModel, @RequestParam(&quot;productImage&quot;) MultipartFile file) {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":26684333,"reputation":175,"user_id":20293876,"display_name":"Nazir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694461951,"creation_date":1694458905,"question_id":77084189,"body_markdown":"I am learning Spring Boot, especially loading images.\r\n\r\nThe following two end points work well -  one for loading image into the server and other for loading an object (in this care a PersonModel object).\r\n\r\n~~~\r\n@PostMapping(&quot;/user/testUpload&quot;)\r\n\tpublic ResponseEntity&lt;BaseResposeModel&gt; testObjectUpload(@RequestBody PersonModel persontModel) throws \r\n\tException {\r\n        personService.upload(persontModel);\r\n\t\tBaseResposeModel baseResposeModel = new BaseResposeModel();\r\n\t\tbaseResposeModel.setMessage(persontModel.getFirstName()+ &quot; Success&quot;);\r\n\t\treturn new ResponseEntity&lt;BaseResposeModel&gt;(baseResposeModel,HttpStatus.OK);\r\n\t}\r\n\r\n@PostMapping(&quot;/user/personImageUpload&quot;)\r\n\tpublic ResponseEntity&lt;BaseResposeModel&gt; testUploadImage(@RequestParam(&quot;productImage&quot;) MultipartFile file) throws Exception{\r\n\r\n\t\t\tpersonImageService.uploadImage(file);\r\n\r\n\t\t\tBaseResposeModel baseResposeModel = new BaseResposeModel();\r\n\t\t\tbaseResposeModel.setMessage(&quot;file uploaded successfully&quot;);\r\n\t\t\treturn new ResponseEntity&lt;BaseResposeModel&gt;(baseResposeModel,HttpStatus.OK);\r\n\t\t\t \r\n\t\t\r\n\t}\r\n~~~\r\nIs it posible to combine the two into one `@POSTMapping` operation?  How can we do that?  I would appreciate if someone can show me how to do it.  Thanks\r\n","title":"Spring Boot - perform object and image upload in one @POSTMapping operation","body":"<p>I am learning Spring Boot, especially loading images.</p>\n<p>The following two end points work well -  one for loading image into the server and other for loading an object (in this care a PersonModel object).</p>\n<pre><code>@PostMapping(&quot;/user/testUpload&quot;)\n    public ResponseEntity&lt;BaseResposeModel&gt; testObjectUpload(@RequestBody PersonModel persontModel) throws \n    Exception {\n        personService.upload(persontModel);\n        BaseResposeModel baseResposeModel = new BaseResposeModel();\n        baseResposeModel.setMessage(persontModel.getFirstName()+ &quot; Success&quot;);\n        return new ResponseEntity&lt;BaseResposeModel&gt;(baseResposeModel,HttpStatus.OK);\n    }\n\n@PostMapping(&quot;/user/personImageUpload&quot;)\n    public ResponseEntity&lt;BaseResposeModel&gt; testUploadImage(@RequestParam(&quot;productImage&quot;) MultipartFile file) throws Exception{\n\n            personImageService.uploadImage(file);\n\n            BaseResposeModel baseResposeModel = new BaseResposeModel();\n            baseResposeModel.setMessage(&quot;file uploaded successfully&quot;);\n            return new ResponseEntity&lt;BaseResposeModel&gt;(baseResposeModel,HttpStatus.OK);\n             \n        \n    }\n</code></pre>\n<p>Is it posible to combine the two into one <code>@POSTMapping</code> operation?  How can we do that?  I would appreciate if someone can show me how to do it.  Thanks</p>\n"},{"tags":["java","sdkman"],"answers":[{"comments":[{"owner":{"account_id":3204837,"reputation":133,"user_id":2706056,"display_name":"isccarrasco"},"score":1,"creation_date":1633026043,"post_id":55810187,"comment_id":122659080,"body_markdown":"For not having the path issue when using a downloaded version, it would be better to use the sdk to install the local version as shown here (https://sdkman.io/usage#localversion)","body":"For not having the path issue when using a downloaded version, it would be better to use the sdk to install the local version as shown here (<a href=\"https://sdkman.io/usage#localversion\" rel=\"nofollow noreferrer\">sdkman.io/usage#localversion</a>)"},{"owner":{"account_id":1024307,"reputation":430,"user_id":1033953,"accept_rate":85,"display_name":"Greg"},"score":0,"creation_date":1645195017,"post_id":55810187,"comment_id":125813470,"body_markdown":"This mostly worked for me, but I downloaded the MacOS openJdk package for Java 15, which matches the expected dir for Mac packages (ie., Contents/Home Contents/MacOS ).  So I had to move things around so that the candidates/15.0.2-open dir contained the standard JAVA_HOME layout ( bin/ lib/ etc...)","body":"This mostly worked for me, but I downloaded the MacOS openJdk package for Java 15, which matches the expected dir for Mac packages (ie., Contents/Home Contents/MacOS ).  So I had to move things around so that the candidates/15.0.2-open dir contained the standard JAVA_HOME layout ( bin/ lib/ etc...)"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1645202430,"post_id":55810187,"comment_id":125816682,"body_markdown":"&quot;so that the candidates/15.0.2-open dir contained the standard JAVA_HOME layout ( bin/ lib/ etc...)&quot; - I&#39;m pretty sure that&#39;s the way it&#39;s supposed to be, but is just a hunch.","body":"&quot;so that the candidates/15.0.2-open dir contained the standard JAVA_HOME layout ( bin/ lib/ etc...)&quot; - I&#39;m pretty sure that&#39;s the way it&#39;s supposed to be, but is just a hunch."},{"owner":{"account_id":10059115,"reputation":324,"user_id":7436412,"accept_rate":67,"display_name":"Zap"},"score":0,"creation_date":1663232621,"post_id":55810187,"comment_id":130192357,"body_markdown":"For me, afterwards the status of the java version was `local_only`, and I had to `$ sdk use java X.Y.Z` for it to be installed.","body":"For me, afterwards the status of the java version was <code>local_only</code>, and I had to <code>$ sdk use java X.Y.Z</code> for it to be installed."}],"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1556018925,"creation_date":1556018925,"answer_id":55810187,"question_id":55809928,"body_markdown":"It seems that downloading the missing version:  \r\n\r\n    wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\r\n\r\n then unpacking to:  \r\n\r\n    ~/.sdkman/candidates/java/\r\n\r\nthen renaming the extracted directory:  \r\n\r\n    mv ~/.sdkman/candidates/java/jdk-11.0.2 ~/.sdkman/candidates/java/11.0.2-open\r\n\r\nsolves the problem.\r\n\r\nPS: of course you&#39;ll have to change `~/.sdkman/candidates/java/` to match your SDKMAN installation path (if not default one)","title":"sdkman is missing a specific java version","body":"<p>It seems that downloading the missing version:  </p>\n\n<pre><code>wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\n</code></pre>\n\n<p>then unpacking to:  </p>\n\n<pre><code>~/.sdkman/candidates/java/\n</code></pre>\n\n<p>then renaming the extracted directory:  </p>\n\n<pre><code>mv ~/.sdkman/candidates/java/jdk-11.0.2 ~/.sdkman/candidates/java/11.0.2-open\n</code></pre>\n\n<p>solves the problem.</p>\n\n<p>PS: of course you'll have to change <code>~/.sdkman/candidates/java/</code> to match your SDKMAN installation path (if not default one)</p>\n"},{"comments":[{"owner":{"account_id":1538801,"reputation":192,"user_id":1434006,"accept_rate":50,"display_name":"T.S."},"score":0,"creation_date":1616006787,"post_id":66279105,"comment_id":117871318,"body_markdown":"Does anybody know why that is? I was surprised I didn&#39;t see java 14 listed there, but I am able to install thanks to your suggestion.","body":"Does anybody know why that is? I was surprised I didn&#39;t see java 14 listed there, but I am able to install thanks to your suggestion."},{"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"score":0,"creation_date":1626699795,"post_id":66279105,"comment_id":120955840,"body_markdown":"Can you give me the command that you tried for installing java 14, I can not able to download that version @T.S","body":"Can you give me the command that you tried for installing java 14, I can not able to download that version @T.S"},{"owner":{"account_id":1538801,"reputation":192,"user_id":1434006,"accept_rate":50,"display_name":"T.S."},"score":2,"creation_date":1626738120,"post_id":66279105,"comment_id":120969005,"body_markdown":"@sagarr I used: sdk install java 14.0.2.hs-adpt","body":"@sagarr I used: sdk install java 14.0.2.hs-adpt"},{"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"score":1,"creation_date":1626777019,"post_id":66279105,"comment_id":120978247,"body_markdown":"one more thing @T.S. when I search `sdk list java` I did not find version 14 there, how could you found it?","body":"one more thing @T.S. when I search <code>sdk list java</code> I did not find version 14 there, how could you found it?"},{"owner":{"account_id":1538801,"reputation":192,"user_id":1434006,"accept_rate":50,"display_name":"T.S."},"score":1,"creation_date":1626822556,"post_id":66279105,"comment_id":120994314,"body_markdown":"@sagarrI checked the available version number from here https://www.oracle.com/ca-en/java/technologies/javase/jdk14-archive-downloads.html and then I just constructed the sdkman version naming myself {java version}.{hs - hotspot}-{distribution adopt, etc.}","body":"@sagarrI checked the available version number from here <a href=\"https://www.oracle.com/ca-en/java/technologies/javase/jdk14-archive-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/ca-en/java/technologies/javase/&hellip;</a> and then I just constructed the sdkman version naming myself {java version}.{hs - hotspot}-{distribution adopt, etc.}"},{"owner":{"account_id":2123818,"reputation":969,"user_id":1886510,"display_name":"darw"},"score":0,"creation_date":1636976573,"post_id":66279105,"comment_id":123693000,"body_markdown":"But I get this `mv: target &#39;/home/darw/.sdkman/candidates/java/15.0.2-open&#39; is not a directory`","body":"But I get this <code>mv: target &#39;&#47;home&#47;darw&#47;.sdkman&#47;candidates&#47;java&#47;15.0.2-open&#39; is not a directory</code>"},{"owner":{"account_id":921269,"reputation":517,"user_id":952932,"display_name":"esmail"},"score":0,"creation_date":1668454353,"post_id":66279105,"comment_id":131404168,"body_markdown":"FYI, this is because SDKMAN! keeps the outdated versions in their DB, but has them set as [invisible](https://github.com/sdkman/sdkman-db-migrations/issues/170#issuecomment-750008113).","body":"FYI, this is because SDKMAN! keeps the outdated versions in their DB, but has them set as <a href=\"https://github.com/sdkman/sdkman-db-migrations/issues/170#issuecomment-750008113\" rel=\"nofollow noreferrer\">invisible</a>."}],"tags":[],"owner":{"account_id":116927,"reputation":1479,"user_id":306436,"display_name":"jvacaq"},"comment_count":7,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1694461808,"creation_date":1613743622,"answer_id":66279105,"question_id":55809928,"body_markdown":"Even if it is not listed, you can still install the version you require.  At least, it worked for me with `java 10.0.2-open`, which, in my case, did not show up.  Give it a try and run the command `sdk install java 11.0.2-open`\r\n\r\nAnother way.\r\n\r\nYou can install any version of java locally (use any way you want to do the local installation), and then register this installation using this command:\r\n\r\n    sdk install java 17-zulu /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home\r\n\r\nTake a look at [SDK man Local Instalation][1]\r\n\r\n\r\n  [1]: https://sdkman.io/usage#localversion","title":"sdkman is missing a specific java version","body":"<p>Even if it is not listed, you can still install the version you require.  At least, it worked for me with <code>java 10.0.2-open</code>, which, in my case, did not show up.  Give it a try and run the command <code>sdk install java 11.0.2-open</code></p>\n<p>Another way.</p>\n<p>You can install any version of java locally (use any way you want to do the local installation), and then register this installation using this command:</p>\n<pre><code>sdk install java 17-zulu /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home\n</code></pre>\n<p>Take a look at <a href=\"https://sdkman.io/usage#localversion\" rel=\"nofollow noreferrer\">SDK man Local Instalation</a></p>\n"},{"comments":[{"owner":{"account_id":415808,"reputation":628,"user_id":790832,"accept_rate":67,"display_name":"Dusko"},"score":0,"creation_date":1664785677,"post_id":72246620,"comment_id":130542953,"body_markdown":"I have the same setup, mac with m1 and zsh. I needed ver11 from java.net but it wasn&#39;t listed, only versions 20 and 19. As a last resort I installed 19 but after I did that and I did `sdk list java` I saw that now it was listing also version 11?? Weird behaviour, but now I just installed 11 and it worked.","body":"I have the same setup, mac with m1 and zsh. I needed ver11 from java.net but it wasn&#39;t listed, only versions 20 and 19. As a last resort I installed 19 but after I did that and I did <code>sdk list java</code> I saw that now it was listing also version 11?? Weird behaviour, but now I just installed 11 and it worked."},{"owner":{"account_id":431745,"reputation":5025,"user_id":816017,"accept_rate":100,"display_name":"Erik ivkovi"},"score":0,"creation_date":1664805018,"post_id":72246620,"comment_id":130548872,"body_markdown":"@Dusko Thanks for the info. If you can reproduce it, you may consider opening an issue on sdkman&#39;s github repo: https://github.com/sdkman/sdkman-cli","body":"@Dusko Thanks for the info. If you can reproduce it, you may consider opening an issue on sdkman&#39;s github repo: <a href=\"https://github.com/sdkman/sdkman-cli\" rel=\"nofollow noreferrer\">github.com/sdkman/sdkman-cli</a>"}],"tags":[],"owner":{"account_id":431745,"reputation":5025,"user_id":816017,"accept_rate":100,"display_name":"Erik ivkovi"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652602644,"creation_date":1652602644,"answer_id":72246620,"question_id":55809928,"body_markdown":"The easiest way to install a version not listed by e.g. `sdk list java` is to just write `sdk install java 11` then press the `TAB` key. This will initiate autocomplete which will give you an autocomplete list to choose from.\r\n\r\nDisclaimer: this works for me on macos in a terminal running zsh.","title":"sdkman is missing a specific java version","body":"<p>The easiest way to install a version not listed by e.g. <code>sdk list java</code> is to just write <code>sdk install java 11</code> then press the <code>TAB</code> key. This will initiate autocomplete which will give you an autocomplete list to choose from.</p>\n<p>Disclaimer: this works for me on macos in a terminal running zsh.</p>\n"}],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22279,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":55810187,"answer_count":3,"score":15,"last_activity_date":1694461808,"creation_date":1556017940,"question_id":55809928,"body_markdown":"I have SDKMAN 5.7.3+337 on an Ubuntu 18.10 which is listing these available versions for java:  \r\n```     \r\n     13.ea.17-open   &gt; * 10.0.2-open         1.0.0-rc-12-grl\r\n     12.0.1-zulu       * 9.0.7-zulu          1.0.0-rc-11-grl\r\n     12.0.1-librca       9.0.4-open          1.0.0-rc-10-grl\r\n     12.0.1-sapmchn      8.0.212-zulu        1.0.0-rc-9-grl\r\n     12.0.1-open         8.0.212-amzn        1.0.0-rc-8-grl\r\n   + 12.0.0-open         8.0.212-librca\r\n     11.0.3-sapmchn    + 8.0.202-zulu\r\n     11.0.3-zulu         8.0.202.j9-adpt\r\n     11.0.3-amzn         8.0.202.hs-adpt\r\n     11.0.3-librca       8.0.202-zulufx\r\n   + 11.0.2-open         7.0.222-zulu\r\n     11.0.2.j9-adpt      6.0.119-zulu\r\n     11.0.2.hs-adpt      1.0.0-rc-15-grl\r\n     11.0.2-zulufx       1.0.0-rc-14-grl\r\n     10.0.2-zulu         1.0.0-rc-13-grl\r\n```\r\n\r\nwhile the same SDKMAN version on an Ubuntu 18.04.1 LTS (as WSL in Windows 10) shows:  \r\n```\r\n13.ea.17-open     * 9.0.4-open          1.0.0-rc-11-grl\r\n12.0.1-sapmchn      8.0.212-zulu        1.0.0-rc-10-grl\r\n12.0.1-zulu         8.0.212-amzn        1.0.0-rc-9-grl \r\n12.0.1-open         8.0.212-librca      1.0.0-rc-8-grl \r\n12.0.1-librca     + 8.0.202-zulu \r\n11.0.3-sapmchn      8.0.202.j9-adpt\r\n11.0.3-zulu         8.0.202.hs-adpt\r\n11.0.3-amzn         8.0.202-zulufx\r\n11.0.3-librca     + 8.0.191-oracle\r\n11.0.2.j9-adpt      7.0.222-zulu\r\n11.0.2.hs-adpt      6.0.119-zulu\r\n11.0.2-zulufx       1.0.0-rc-15-grl\r\n10.0.2-zulu         1.0.0-rc-14-grl\r\n10.0.2-open         1.0.0-rc-13-grl\r\n9.0.7-zulu          1.0.0-rc-12-grl\r\n```\r\n\r\nwhere `11.0.2-open` is missing. Why this happens and how should I solve this?\r\n\r\nPS: I already run `sdk selfupdate` and `sdk update`","title":"sdkman is missing a specific java version","body":"<p>I have SDKMAN 5.7.3+337 on an Ubuntu 18.10 which is listing these available versions for java:  </p>\n\n<pre><code>     13.ea.17-open   &gt; * 10.0.2-open         1.0.0-rc-12-grl\n     12.0.1-zulu       * 9.0.7-zulu          1.0.0-rc-11-grl\n     12.0.1-librca       9.0.4-open          1.0.0-rc-10-grl\n     12.0.1-sapmchn      8.0.212-zulu        1.0.0-rc-9-grl\n     12.0.1-open         8.0.212-amzn        1.0.0-rc-8-grl\n   + 12.0.0-open         8.0.212-librca\n     11.0.3-sapmchn    + 8.0.202-zulu\n     11.0.3-zulu         8.0.202.j9-adpt\n     11.0.3-amzn         8.0.202.hs-adpt\n     11.0.3-librca       8.0.202-zulufx\n   + 11.0.2-open         7.0.222-zulu\n     11.0.2.j9-adpt      6.0.119-zulu\n     11.0.2.hs-adpt      1.0.0-rc-15-grl\n     11.0.2-zulufx       1.0.0-rc-14-grl\n     10.0.2-zulu         1.0.0-rc-13-grl\n</code></pre>\n\n<p>while the same SDKMAN version on an Ubuntu 18.04.1 LTS (as WSL in Windows 10) shows:  </p>\n\n<pre><code>13.ea.17-open     * 9.0.4-open          1.0.0-rc-11-grl\n12.0.1-sapmchn      8.0.212-zulu        1.0.0-rc-10-grl\n12.0.1-zulu         8.0.212-amzn        1.0.0-rc-9-grl \n12.0.1-open         8.0.212-librca      1.0.0-rc-8-grl \n12.0.1-librca     + 8.0.202-zulu \n11.0.3-sapmchn      8.0.202.j9-adpt\n11.0.3-zulu         8.0.202.hs-adpt\n11.0.3-amzn         8.0.202-zulufx\n11.0.3-librca     + 8.0.191-oracle\n11.0.2.j9-adpt      7.0.222-zulu\n11.0.2.hs-adpt      6.0.119-zulu\n11.0.2-zulufx       1.0.0-rc-15-grl\n10.0.2-zulu         1.0.0-rc-14-grl\n10.0.2-open         1.0.0-rc-13-grl\n9.0.7-zulu          1.0.0-rc-12-grl\n</code></pre>\n\n<p>where <code>11.0.2-open</code> is missing. Why this happens and how should I solve this?</p>\n\n<p>PS: I already run <code>sdk selfupdate</code> and <code>sdk update</code></p>\n"},{"tags":["java","html","google-maps","javafx"],"answers":[{"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1694339812,"post_id":77074481,"comment_id":135875953,"body_markdown":"And what about [GMapsFX](https://github.com/dlsc-software-consulting-gmbh/GMapsFX)?","body":"And what about <a href=\"https://github.com/dlsc-software-consulting-gmbh/GMapsFX\" rel=\"nofollow noreferrer\">GMapsFX</a>?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1694378713,"post_id":77074481,"comment_id":135879841,"body_markdown":"Interesting, it works for me for 18 and lower, but indeed fails since 18.0.1. I wonder what change caused this, and if it is a WebKit issue, it is not that Google doesn&#39;t support WebView, but the other way around?","body":"Interesting, it works for me for 18 and lower, but indeed fails since 18.0.1. I wonder what change caused this, and if it is a WebKit issue, it is not that Google doesn&#39;t support WebView, but the other way around?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1694421797,"post_id":77074481,"comment_id":135883945,"body_markdown":"Honestly I don&#39;t think Google considers the JavaFX WebView a &quot;true&quot; web browser that needs to be supported. As you know, it is an embedded browser, based on the Apple Safari Port and the [WebKit GTK releases](https://trac.webkit.org/wiki/WebKitGTK/StableRelease), with some modifications to make it work with Java/JavaFX. It is possible that one of those modifications broke the support for Google Maps, because it stopped working only after WebKit was [updated](https://bugs.openjdk.org/browse/JDK-8278980) from 612.1 to 613.1 (that is between JavaFX 18 and 18.0.1).","body":"Honestly I don&#39;t think Google considers the JavaFX WebView a &quot;true&quot; web browser that needs to be supported. As you know, it is an embedded browser, based on the Apple Safari Port and the <a href=\"https://trac.webkit.org/wiki/WebKitGTK/StableRelease\" rel=\"nofollow noreferrer\">WebKit GTK releases</a>, with some modifications to make it work with Java/JavaFX. It is possible that one of those modifications broke the support for Google Maps, because it stopped working only after WebKit was <a href=\"https://bugs.openjdk.org/browse/JDK-8278980\" rel=\"nofollow noreferrer\">updated</a> from 612.1 to 613.1 (that is between JavaFX 18 and 18.0.1)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694461121,"post_id":77074481,"comment_id":135891367,"body_markdown":"Inlined comments and responses in a FAQ section.","body":"Inlined comments and responses in a FAQ section."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694461399,"creation_date":1694307380,"answer_id":77074481,"question_id":77070695,"body_markdown":"What you are trying to do wont work with JavaFX 18.0.1 -&gt; 20, see the FAQ for more detail.\r\n\r\n**Workaround**\r\n\r\nTry the latest version of JavaFX available and see if it will work.  If not, try a version of JavaFX &lt;=18 (some users have reported that such versions function OK with Google maps).  \r\n\r\nEnsure that whichever version you choose, the version of all JavaFX components is exactly the same, because mixing JavaFX component versions is not supported.\r\n\r\n**Official support for Google Maps display in JavaFX WebView**\r\n\r\nGoogle doesnt officially support JavaFX WebView in Google Maps. \r\n\r\nAlso, there is no explicit guarantee of support the other way round from the JavaFX release notes for Google Maps in WebView.  \r\n\r\nThat doesn&#39;t mean that some versions of WebView won&#39;t work with Google maps (older versions of JavaFX have been verified to work with Google maps), only that Google don&#39;t guarantee that JavaFX WebView will be supported.  \r\n\r\n**FAQ (responses to comments by Jos&#233; Pereda)**\r\n\r\n&gt; And what about [GMapsFX][1]?\r\n\r\nThe last time I tried GMapsFX, it did not work either (that was probably with JavaFX 19 or 20).  Internally GMapsFX relies on WebView for rendering Google Maps.\r\n\r\nThe lead developer on that project comments in an [issue][2]:\r\n\r\n&gt; No maps are rendered when using JavaFX 18.0.1 with its upgraded WebKit version.\r\n\r\n---\r\n\r\n&gt; Interesting, it works for me for 18 and lower, but indeed fails since 18.0.1. I wonder what change caused this, and if it is a WebKit issue, it is not that Google doesn&#39;t support WebView, but the other way around?\r\n\r\nThis is a [list of clients that Google support for their JavaScript maps client API][3]. It does not include JavaFX, if it did they would be obligated to make it work with supported versions of JavaFX, but they dont. \r\n\r\n----\r\n\r\n&gt; Honestly I don&#39;t think Google considers the JavaFX WebView a &quot;true&quot; web browser that needs to be supported. As you know, it is an embedded browser, based on the Apple Safari Port and the [WebKit GTK releases][4], with some modifications to make it work with Java/JavaFX. It is possible that one of those modifications broke the support for Google Maps, because it stopped working only after WebKit was [updated][5] from 612.1 to 613.1 (that is between JavaFX 18 and 18.0.1).\r\n\r\nWhen I originally wrote this answer I was unaware of the issue tracker report which mentions breakage of Google Maps between the JavaFX 18 and 18.0.1 release.  I had instead assumed that Google had released a newer version of Google Maps that was incompatible with JavaFX.  Perhaps this is not the case.\r\n\r\nI do see that Google currently explicitly support (at least for the moment), embedded browsers on other platforms [like the deprecated iOS UIWebView](https://developer.apple.com/documentation/uikit/uiwebview) that are not &quot;true&quot; browsers, so it would probably be possible for them to explicitly support the JavaFX WebView if they wanted to (my opinion).  It would probably be harder for the JavaFX team to explicitly support Google Maps because it can&#39;t be known if Google will make some change to their Maps API implementation that makes it incompatible with WebView.\r\n\r\n  [1]: https://github.com/dlsc-software-consulting-gmbh/GMapsFX\r\n  [2]: https://github.com/dlsc-software-consulting-gmbh/GMapsFX/issues/204#issue-1232648194\r\n  [3]: https://developers.google.com/maps/documentation/javascript/browsersupport\r\n  [4]: https://trac.webkit.org/wiki/WebKitGTK/StableRelease\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8278980","title":"JavaFX not embedding google maps html","body":"<p>What you are trying to do wont work with JavaFX 18.0.1 -&gt; 20, see the FAQ for more detail.</p>\n<p><strong>Workaround</strong></p>\n<p>Try the latest version of JavaFX available and see if it will work.  If not, try a version of JavaFX &lt;=18 (some users have reported that such versions function OK with Google maps).</p>\n<p>Ensure that whichever version you choose, the version of all JavaFX components is exactly the same, because mixing JavaFX component versions is not supported.</p>\n<p><strong>Official support for Google Maps display in JavaFX WebView</strong></p>\n<p>Google doesnt officially support JavaFX WebView in Google Maps.</p>\n<p>Also, there is no explicit guarantee of support the other way round from the JavaFX release notes for Google Maps in WebView.</p>\n<p>That doesn't mean that some versions of WebView won't work with Google maps (older versions of JavaFX have been verified to work with Google maps), only that Google don't guarantee that JavaFX WebView will be supported.</p>\n<p><strong>FAQ (responses to comments by Jos Pereda)</strong></p>\n<blockquote>\n<p>And what about <a href=\"https://github.com/dlsc-software-consulting-gmbh/GMapsFX\" rel=\"nofollow noreferrer\">GMapsFX</a>?</p>\n</blockquote>\n<p>The last time I tried GMapsFX, it did not work either (that was probably with JavaFX 19 or 20).  Internally GMapsFX relies on WebView for rendering Google Maps.</p>\n<p>The lead developer on that project comments in an <a href=\"https://github.com/dlsc-software-consulting-gmbh/GMapsFX/issues/204#issue-1232648194\" rel=\"nofollow noreferrer\">issue</a>:</p>\n<blockquote>\n<p>No maps are rendered when using JavaFX 18.0.1 with its upgraded WebKit version.</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>Interesting, it works for me for 18 and lower, but indeed fails since 18.0.1. I wonder what change caused this, and if it is a WebKit issue, it is not that Google doesn't support WebView, but the other way around?</p>\n</blockquote>\n<p>This is a <a href=\"https://developers.google.com/maps/documentation/javascript/browsersupport\" rel=\"nofollow noreferrer\">list of clients that Google support for their JavaScript maps client API</a>. It does not include JavaFX, if it did they would be obligated to make it work with supported versions of JavaFX, but they dont.</p>\n<hr />\n<blockquote>\n<p>Honestly I don't think Google considers the JavaFX WebView a &quot;true&quot; web browser that needs to be supported. As you know, it is an embedded browser, based on the Apple Safari Port and the <a href=\"https://trac.webkit.org/wiki/WebKitGTK/StableRelease\" rel=\"nofollow noreferrer\">WebKit GTK releases</a>, with some modifications to make it work with Java/JavaFX. It is possible that one of those modifications broke the support for Google Maps, because it stopped working only after WebKit was <a href=\"https://bugs.openjdk.org/browse/JDK-8278980\" rel=\"nofollow noreferrer\">updated</a> from 612.1 to 613.1 (that is between JavaFX 18 and 18.0.1).</p>\n</blockquote>\n<p>When I originally wrote this answer I was unaware of the issue tracker report which mentions breakage of Google Maps between the JavaFX 18 and 18.0.1 release.  I had instead assumed that Google had released a newer version of Google Maps that was incompatible with JavaFX.  Perhaps this is not the case.</p>\n<p>I do see that Google currently explicitly support (at least for the moment), embedded browsers on other platforms <a href=\"https://developer.apple.com/documentation/uikit/uiwebview\" rel=\"nofollow noreferrer\">like the deprecated iOS UIWebView</a> that are not &quot;true&quot; browsers, so it would probably be possible for them to explicitly support the JavaFX WebView if they wanted to (my opinion).  It would probably be harder for the JavaFX team to explicitly support Google Maps because it can't be known if Google will make some change to their Maps API implementation that makes it incompatible with WebView.</p>\n"}],"owner":{"account_id":26799939,"reputation":43,"user_id":20392049,"display_name":"Kaiser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77074481,"answer_count":1,"score":4,"last_activity_date":1694461399,"creation_date":1694228986,"question_id":77070695,"body_markdown":"I&#39;m trying to embed an HTML file with google maps in a JavaFX application using WebView. I tested my code with simpler HTML files (just paragraph text and divs) and it [embedded correctly](https://i.stack.imgur.com/LZLJd.png) but for some reason google maps will not embed.  Instead it displays a [white rectangle with a scroll bar](https://i.stack.imgur.com/umY4N.png). \r\n\r\nHere is my HTML for google maps:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n  &lt;title&gt; GUI Embedded Map Test &lt;/title&gt;\r\n  &lt;style&gt;\r\n    #map{\r\n        height:600px;\r\n        width:100%;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;\r\n  &lt;script&gt;\r\n    function initMap() {\r\n      window.map = new google.maps.Map(document.getElementById(&quot;map&quot;), {\r\n        zoom: 15,\r\n        center:{lat:32.99069195330653, lng:-106.97436738069189},\r\n        mapTypeId: &quot;terrain&quot;,\r\n      });\r\n    }\r\n\r\n    window.initMap = initMap;\r\n  &lt;/script&gt;\r\n  &lt;script async defer\r\n      src=&quot;https://maps.googleapis.com/maps/api/js?key=RANDOMKEY&amp;callback=initMap&quot; /c/\r\n    &gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n(for reference, here&#39;s what it looks like [when opened in a browser](https://i.stack.imgur.com/idUnE.png))\r\n\r\nHere is my Java code for embedding it:\r\n\r\n```\r\nWebView webView = new WebView();\r\nWebEngine webEngine = webView.getEngine();\r\nString map_html = &quot;&quot;;\r\n\ttry {\r\n            File myObj = new File(System.getProperty(&quot;user.dir&quot;)+&quot;/src/main/resources/embeddedMap.html&quot;);\r\n            Scanner myReader = new Scanner(myObj);\r\n            while (myReader.hasNextLine()) {\r\n        \tmap_html += myReader.nextLine();\r\n\t\tmap_html += &quot;\\n&quot;;\r\n            }\r\n            myReader.close();\r\n\t} catch (FileNotFoundException e) {\r\n        \tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\te.printStackTrace();\r\n\t}\r\nwebEngine.loadContent(map_html);\r\nmapPane.getChildren().add(webView);\r\n```\r\n\r\nInstead of the above HTML, I&#39;ve tried using iframes tags copied from the &#39;share&#39; feature on google maps. I&#39;ve also tried different API keys. \r\n\r\nAny help would be greatly appreciated!","title":"JavaFX not embedding google maps html","body":"<p>I'm trying to embed an HTML file with google maps in a JavaFX application using WebView. I tested my code with simpler HTML files (just paragraph text and divs) and it <a href=\"https://i.stack.imgur.com/LZLJd.png\" rel=\"nofollow noreferrer\">embedded correctly</a> but for some reason google maps will not embed.  Instead it displays a <a href=\"https://i.stack.imgur.com/umY4N.png\" rel=\"nofollow noreferrer\">white rectangle with a scroll bar</a>.</p>\n<p>Here is my HTML for google maps:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n  &lt;title&gt; GUI Embedded Map Test &lt;/title&gt;\n  &lt;style&gt;\n    #map{\n        height:600px;\n        width:100%;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;\n  &lt;script&gt;\n    function initMap() {\n      window.map = new google.maps.Map(document.getElementById(&quot;map&quot;), {\n        zoom: 15,\n        center:{lat:32.99069195330653, lng:-106.97436738069189},\n        mapTypeId: &quot;terrain&quot;,\n      });\n    }\n\n    window.initMap = initMap;\n  &lt;/script&gt;\n  &lt;script async defer\n      src=&quot;https://maps.googleapis.com/maps/api/js?key=RANDOMKEY&amp;callback=initMap&quot; /c/\n    &gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>(for reference, here's what it looks like <a href=\"https://i.stack.imgur.com/idUnE.png\" rel=\"nofollow noreferrer\">when opened in a browser</a>)</p>\n<p>Here is my Java code for embedding it:</p>\n<pre><code>WebView webView = new WebView();\nWebEngine webEngine = webView.getEngine();\nString map_html = &quot;&quot;;\n    try {\n            File myObj = new File(System.getProperty(&quot;user.dir&quot;)+&quot;/src/main/resources/embeddedMap.html&quot;);\n            Scanner myReader = new Scanner(myObj);\n            while (myReader.hasNextLine()) {\n            map_html += myReader.nextLine();\n        map_html += &quot;\\n&quot;;\n            }\n            myReader.close();\n    } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\nwebEngine.loadContent(map_html);\nmapPane.getChildren().add(webView);\n</code></pre>\n<p>Instead of the above HTML, I've tried using iframes tags copied from the 'share' feature on google maps. I've also tried different API keys.</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","list","casting"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1458554331,"post_id":36127849,"comment_id":59894762,"body_markdown":"Please make a [mcve]. Problem is not in the posted code.","body":"Please make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Problem is not in the posted code."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":3,"creation_date":1458554702,"post_id":36127849,"comment_id":59894995,"body_markdown":"seems that `.findNetworkVersion()` actually returns list of `Integer`, not `BigDecimal`","body":"seems that <code>.findNetworkVersion()</code> actually returns list of <code>Integer</code>, not <code>BigDecimal</code>"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694460383,"creation_date":1458554898,"answer_id":36128070,"question_id":36127849,"body_markdown":"As others have said, it seems that your problem is that `servSuperlivelloDAO.findNetworkVersion()` returns a list that contains at least one object that has type `Integer`, not `BigDecimal`.\r\n\r\n**The fix is simple**: declare `nvs` as `List&lt;? extends Number&gt; nvs`:\r\n\r\n        List&lt;? extends Number&gt; nvs = servSuperlivelloDAO.findNetworkVersion(year, daynumber);\r\n        int[] res = new int[nvs.size()];\r\n        for (int i = 0; i &lt; nvs.size(); i++) {\r\n            res[i] = nvs.get(i).intValue();\r\n        }\r\n\r\nNow the list can contain `Integer` or  `BigDecimal` objects or a mix of both, and your code will work fine. I dont know whether `findNetworkVersion()` is declared to return `List&lt;BigDecimal&gt;`, but if it is, you can still assign to a variable of type `List&lt;? extends Number&gt;` just like that because `BigDecimal` is a subtype of `Number`. And the rest works because `Integer` too is a subclass of `Number`. And the `intValue` method that you are using is declared in `Number`. So you can call it no matter the concrete type of the object.\r\n\r\n**What happened in your code?** You had declared `nvs` to have type `List&lt;BigDecimal&gt;`. The compiler believes you, so when you do `nvs.get(i).intValue()`, it takes an object out of the list and tries to convert it to `BigDecimel` in order to call its `intValue` method. In one instance you got an `Integer` object instead, and conversion failed with the exception that you saw.","title":"Error convert BigDecimal to int","body":"<p>As others have said, it seems that your problem is that <code>servSuperlivelloDAO.findNetworkVersion()</code> returns a list that contains at least one object that has type <code>Integer</code>, not <code>BigDecimal</code>.</p>\n<p><strong>The fix is simple</strong>: declare <code>nvs</code> as <code>List&lt;? extends Number&gt; nvs</code>:</p>\n<pre><code>    List&lt;? extends Number&gt; nvs = servSuperlivelloDAO.findNetworkVersion(year, daynumber);\n    int[] res = new int[nvs.size()];\n    for (int i = 0; i &lt; nvs.size(); i++) {\n        res[i] = nvs.get(i).intValue();\n    }\n</code></pre>\n<p>Now the list can contain <code>Integer</code> or  <code>BigDecimal</code> objects or a mix of both, and your code will work fine. I dont know whether <code>findNetworkVersion()</code> is declared to return <code>List&lt;BigDecimal&gt;</code>, but if it is, you can still assign to a variable of type <code>List&lt;? extends Number&gt;</code> just like that because <code>BigDecimal</code> is a subtype of <code>Number</code>. And the rest works because <code>Integer</code> too is a subclass of <code>Number</code>. And the <code>intValue</code> method that you are using is declared in <code>Number</code>. So you can call it no matter the concrete type of the object.</p>\n<p><strong>What happened in your code?</strong> You had declared <code>nvs</code> to have type <code>List&lt;BigDecimal&gt;</code>. The compiler believes you, so when you do <code>nvs.get(i).intValue()</code>, it takes an object out of the list and tries to convert it to <code>BigDecimel</code> in order to call its <code>intValue</code> method. In one instance you got an <code>Integer</code> object instead, and conversion failed with the exception that you saw.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1458559716,"post_id":36128155,"comment_id":59898324,"body_markdown":"The problem is not so much the inner working of findNetworkVersion (as would be revealed by debugging), not strictly speaking the declared return type of the method. The primary relevant question is the runtime type/s of the objects in the list returned. You may check those with a debugger, with a call to getClass() and/or with instanceof tests in your code.","body":"The problem is not so much the inner working of findNetworkVersion (as would be revealed by debugging), not strictly speaking the declared return type of the method. The primary relevant question is the runtime type/s of the objects in the list returned. You may check those with a debugger, with a call to getClass() and/or with instanceof tests in your code."},{"owner":{"account_id":2332664,"reputation":550,"user_id":2045648,"display_name":"Akash Chandwani"},"score":1,"creation_date":1458563547,"post_id":36128155,"comment_id":59900823,"body_markdown":"As per the question, the error says - java.lang.Integer cannot be cast to java.math.BigDecimal. That means, somewhere Integer is being returned and assigned to BigDecimal. It&#39;s not &quot;the transforming from BigInteger to Integer&quot;, as mentioned in the question (it&#39;s the other way round).","body":"As per the question, the error says - java.lang.Integer cannot be cast to java.math.BigDecimal. That means, somewhere Integer is being returned and assigned to BigDecimal. It&#39;s not &quot;the transforming from BigInteger to Integer&quot;, as mentioned in the question (it&#39;s the other way round)."},{"owner":{"account_id":2332664,"reputation":550,"user_id":2045648,"display_name":"Akash Chandwani"},"score":0,"creation_date":1458563760,"post_id":36128155,"comment_id":59900986,"body_markdown":"@OleV.V. By debugging i meant to find what that function ( findNetworkVersion() ) is returning.","body":"@OleV.V. By debugging i meant to find what that function ( findNetworkVersion() ) is returning."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1458563903,"post_id":36128155,"comment_id":59901093,"body_markdown":"Alright, @Akash, I misunderstood what you were aiming at. We agree, really.","body":"Alright, @Akash, I misunderstood what you were aiming at. We agree, really."}],"tags":[],"owner":{"account_id":2332664,"reputation":550,"user_id":2045648,"display_name":"Akash Chandwani"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1458555114,"creation_date":1458555114,"answer_id":36128155,"question_id":36127849,"body_markdown":"i guess the problem is in the fist line\r\n\r\n    List&lt;BigDecimal&gt; nvs = servSuperlivelloDAO.findNetworkVersion(year, daynumber);\r\n\r\nTry debugging the findnetworkVersion() method. And check the return type of that method. (is it really List of BigDecimal?).","title":"Error convert BigDecimal to int","body":"<p>i guess the problem is in the fist line</p>\n\n<pre><code>List&lt;BigDecimal&gt; nvs = servSuperlivelloDAO.findNetworkVersion(year, daynumber);\n</code></pre>\n\n<p>Try debugging the findnetworkVersion() method. And check the return type of that method. (is it really List of BigDecimal?).</p>\n"},{"tags":[],"owner":{"account_id":3905169,"reputation":11,"user_id":3232062,"accept_rate":40,"display_name":"sfaxiano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458555220,"creation_date":1458555220,"answer_id":36128193,"question_id":36127849,"body_markdown":"I think that the DAO method : **servSuperlivelloDAO.findNetworkVersion(year, daynumber)** returned an int instead of a BigDecimal . Check it ! \r\n\r\nHere is an example where the BigDecimal was casted to int without any error:\r\n\r\n    package test;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \tList&lt;BigDecimal&gt;  list = new ArrayList&lt;BigDecimal&gt;();\r\n        \tlist.add(new BigDecimal(1));\r\n        \tlist.add(new BigDecimal(2));\r\n        \tint arr[] =new int[list.size()];\r\n        \tfor(int i=0;i&lt;list.size();i++)\r\n        \t{\r\n        \t\tarr[i] = list.get(i).intValue();\r\n        \t\tSystem.out.println(arr[i]);\r\n        \t}\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Error convert BigDecimal to int","body":"<p>I think that the DAO method : <strong>servSuperlivelloDAO.findNetworkVersion(year, daynumber)</strong> returned an int instead of a BigDecimal . Check it ! </p>\n\n<p>Here is an example where the BigDecimal was casted to int without any error:</p>\n\n<pre><code>package test;\n\nimport java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;BigDecimal&gt;  list = new ArrayList&lt;BigDecimal&gt;();\n        list.add(new BigDecimal(1));\n        list.add(new BigDecimal(2));\n        int arr[] =new int[list.size()];\n        for(int i=0;i&lt;list.size();i++)\n        {\n            arr[i] = list.get(i).intValue();\n            System.out.println(arr[i]);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4576343,"reputation":43,"user_id":3714690,"accept_rate":50,"display_name":"scricci85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1642,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36128155,"answer_count":3,"score":0,"last_activity_date":1694460383,"creation_date":1458554283,"question_id":36127849,"body_markdown":"I have the following situation:\r\n\r\n\r\n    List&lt;BigDecimal&gt; nvs = servSuperlivelloDAO.findNetworkVersion(year, daynumber);\r\n    int[] res = new int[nvs.size()];\r\n\tfor (int i = 0; i &lt; nvs.size(); i++) {\r\n\t\tres[i] = nvs.get(i).intValue();\r\n    }\r\n\r\ntransforming BigDecimal to int gives this error:\r\n&gt;java.lang.ClassCastException: java.lang.Integer cannot be cast to java.math.BigDecimal\r\n\r\nI don&#39;t understand why I have a Integer in BigDecimal list.","title":"Error convert BigDecimal to int","body":"<p>I have the following situation:</p>\n\n<pre><code>List&lt;BigDecimal&gt; nvs = servSuperlivelloDAO.findNetworkVersion(year, daynumber);\nint[] res = new int[nvs.size()];\nfor (int i = 0; i &lt; nvs.size(); i++) {\n    res[i] = nvs.get(i).intValue();\n}\n</code></pre>\n\n<p>transforming BigDecimal to int gives this error:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: java.lang.Integer cannot be cast to java.math.BigDecimal</p>\n</blockquote>\n\n<p>I don't understand why I have a Integer in BigDecimal list.</p>\n"},{"tags":["java","android","mediastore","android-mediascanner"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694460852,"post_id":77084267,"comment_id":135891341,"body_markdown":"`&quot;File scanned and found at: &quot; + uri.toString()` Please tell the value of uri.toString().","body":"<code>&quot;File scanned and found at: &quot; + uri.toString()</code> Please tell the value of uri.toString()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694460982,"post_id":77084267,"comment_id":135891349,"body_markdown":"Do not use latch.await(). Instead call the following code there where you receive the uri.","body":"Do not use latch.await(). Instead call the following code there where you receive the uri."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694461051,"post_id":77084267,"comment_id":135891356,"body_markdown":"`trying to get a file to be recognized` You mean: trying to get my file scanned/indexed by the media store.","body":"<code>trying to get a file to be recognized</code> You mean: trying to get my file scanned/indexed by the media store."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694461085,"post_id":77084267,"comment_id":135891360,"body_markdown":"Also use file.canRead() before you try to scan.","body":"Also use file.canRead() before you try to scan."},{"owner":{"account_id":8440634,"reputation":189,"user_id":6333284,"accept_rate":60,"display_name":"Sean Zlatnik"},"score":0,"creation_date":1694463912,"post_id":77084267,"comment_id":135891754,"body_markdown":"&quot;File scanned and found at: content://media/external_primary/images/media/1000000035&quot;","body":"&quot;File scanned and found at: content://media/external_primary/images/media/1000000035&quot;"},{"owner":{"account_id":8440634,"reputation":189,"user_id":6333284,"accept_rate":60,"display_name":"Sean Zlatnik"},"score":0,"creation_date":1694464990,"post_id":77084267,"comment_id":135891885,"body_markdown":"&quot;Do not use latch.await(). Instead call the following code there where you receive the uri.&quot; I don&#39;t quite follow you here.  I can&#39;t save the uri inside onScanCompleted, (I just tried that)... maybe if you posted an answer with the code modified the way you think it needs to be modified?  This comment is hard for me to understand.","body":"&quot;Do not use latch.await(). Instead call the following code there where you receive the uri.&quot; I don&#39;t quite follow you here.  I can&#39;t save the uri inside onScanCompleted, (I just tried that)... maybe if you posted an answer with the code modified the way you think it needs to be modified?  This comment is hard for me to understand."},{"owner":{"account_id":8440634,"reputation":189,"user_id":6333284,"accept_rate":60,"display_name":"Sean Zlatnik"},"score":0,"creation_date":1694468802,"post_id":77084267,"comment_id":135892357,"body_markdown":"I don&#39;t know exactly how I solved this problem, but the problem is now solved.  Thanks @blackapps for your assistance.","body":"I don&#39;t know exactly how I solved this problem, but the problem is now solved.  Thanks @blackapps for your assistance."}],"owner":{"account_id":8440634,"reputation":189,"user_id":6333284,"accept_rate":60,"display_name":"Sean Zlatnik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694459868,"creation_date":1694459868,"question_id":77084267,"body_markdown":"I&#39;m trying to get a file to be recognized, which is to test my other code. Here is my code for finding the file and making sure the file is found:\r\n\r\n    String filePath = &quot;/sdcard/Download/&quot;+ fileName;\r\n            File file = new File(filePath);\r\n            if(file.exists()) {\r\n                // Now scan it\r\n                final CountDownLatch latch = new CountDownLatch(1);\r\n                MediaScannerConnection.scanFile(\r\n                        myContext,\r\n                        new String[]{filePath},\r\n                        null,\r\n                        new MediaScannerConnection.OnScanCompletedListener() {\r\n                            @Override\r\n                            public void onScanCompleted(String path, Uri uri) {\r\n                                if (uri == null) {\r\n                                    android.util.Log.d(TAG, &quot;Scan failed or file was not added: &quot; + path);\r\n                                } else {\r\n                                    android.util.Log.d(TAG, &quot;File scanned and found at: &quot; + uri.toString());\r\n                                }\r\n                                latch.countDown();\r\n                            }\r\n                        }\r\n                );\r\n                android.util.Log.d(TAG, &quot;Sanity Check- file exists at &quot;+filePath);\r\n                try {\r\n                    latch.await(); // This will make the current thread wait until latch count becomes 0\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                android.util.Log.d(TAG, &quot;File does not exist: &quot; + filePath);\r\n            }\r\n\r\n            if (myContext != null) {\r\n                Cursor cursor = myContext.getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, null, null, null, null);\r\n                android.util.Log.d(TAG, &quot;Check cursor != null&quot;);\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    android.util.Log.d(TAG, &quot;cursor is not null&quot;);\r\n\r\n                    do {\r\n                        android.util.Log.d(TAG, &quot;Inside cursor.moveToNext while loop&quot;);\r\n                        int columnIndex = cursor.getColumnIndex(MediaStore.Images.Media.DISPLAY_NAME);\r\n                        if (columnIndex != -1) {\r\n                            String displayName = cursor.getString(columnIndex);\r\n                            android.util.Log.d(TAG, displayName);\r\n                        } else {\r\n                            android.util.Log.d(TAG, &quot;DISPLAY_NAME column not found&quot;);\r\n                        }\r\n\r\n                    } while (cursor.moveToNext());\r\n                    cursor.close();\r\n                }\r\n                else\r\n                {\r\n                    android.util.Log.d(TAG, &quot;cursor is null&quot;);\r\n                }\r\n\r\nSo, when it runs this code, it says the file exists at the top, so mediascanner runs, mediascanner finds the file (great), then it waits for mediascanner to finish so the results are apparent to the rest of the software, then when it gets to the bottom half of the code above, it doesn&#39;t find any files at all.  What am I doing wrong here?","title":"Trying to get MediaStore.Images.Media.EXTERNAL_CONTENT_URI to find image that I think is there; I am using MediaScannerConnection and it finds it","body":"<p>I'm trying to get a file to be recognized, which is to test my other code. Here is my code for finding the file and making sure the file is found:</p>\n<pre><code>String filePath = &quot;/sdcard/Download/&quot;+ fileName;\n        File file = new File(filePath);\n        if(file.exists()) {\n            // Now scan it\n            final CountDownLatch latch = new CountDownLatch(1);\n            MediaScannerConnection.scanFile(\n                    myContext,\n                    new String[]{filePath},\n                    null,\n                    new MediaScannerConnection.OnScanCompletedListener() {\n                        @Override\n                        public void onScanCompleted(String path, Uri uri) {\n                            if (uri == null) {\n                                android.util.Log.d(TAG, &quot;Scan failed or file was not added: &quot; + path);\n                            } else {\n                                android.util.Log.d(TAG, &quot;File scanned and found at: &quot; + uri.toString());\n                            }\n                            latch.countDown();\n                        }\n                    }\n            );\n            android.util.Log.d(TAG, &quot;Sanity Check- file exists at &quot;+filePath);\n            try {\n                latch.await(); // This will make the current thread wait until latch count becomes 0\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        } else {\n            android.util.Log.d(TAG, &quot;File does not exist: &quot; + filePath);\n        }\n\n        if (myContext != null) {\n            Cursor cursor = myContext.getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, null, null, null, null);\n            android.util.Log.d(TAG, &quot;Check cursor != null&quot;);\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                android.util.Log.d(TAG, &quot;cursor is not null&quot;);\n\n                do {\n                    android.util.Log.d(TAG, &quot;Inside cursor.moveToNext while loop&quot;);\n                    int columnIndex = cursor.getColumnIndex(MediaStore.Images.Media.DISPLAY_NAME);\n                    if (columnIndex != -1) {\n                        String displayName = cursor.getString(columnIndex);\n                        android.util.Log.d(TAG, displayName);\n                    } else {\n                        android.util.Log.d(TAG, &quot;DISPLAY_NAME column not found&quot;);\n                    }\n\n                } while (cursor.moveToNext());\n                cursor.close();\n            }\n            else\n            {\n                android.util.Log.d(TAG, &quot;cursor is null&quot;);\n            }\n</code></pre>\n<p>So, when it runs this code, it says the file exists at the top, so mediascanner runs, mediascanner finds the file (great), then it waits for mediascanner to finish so the results are apparent to the rest of the software, then when it gets to the bottom half of the code above, it doesn't find any files at all.  What am I doing wrong here?</p>\n"},{"tags":["java","arrays","json","documentum","xcp2.x"],"owner":{"account_id":9258832,"reputation":164,"user_id":6876654,"accept_rate":67,"display_name":"Zeus07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694459242,"creation_date":1694459242,"question_id":77084217,"body_markdown":"One of my dataservice is returning a string as response. The dataservice can be invoked multiple times before moving to the next page. I need to hold the string that I am getting as a response (in array or json) and pass it to another dataservice in the next page. Thanks in advance.  ","title":"How to hold multiple values in xCP page?","body":"<p>One of my dataservice is returning a string as response. The dataservice can be invoked multiple times before moving to the next page. I need to hold the string that I am getting as a response (in array or json) and pass it to another dataservice in the next page. Thanks in advance.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","multi-tenant"],"comments":[{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1694461517,"post_id":77084212,"comment_id":135891431,"body_markdown":"Besides the deprecation of `grant ... identified by` in current MySQL, you also have put parameter placeholders inside quoted strings, which is not valid.","body":"Besides the deprecation of <code>grant ... identified by</code> in current MySQL, you also have put parameter placeholders inside quoted strings, which is not valid."}],"owner":{"account_id":13881501,"reputation":95,"user_id":10021757,"display_name":"Rohan Naik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694461421,"answer_count":0,"score":0,"last_activity_date":1694459198,"creation_date":1694459198,"question_id":77084212,"body_markdown":"I am working on a multi tenant user authentication system. the data source changes per request via a lookup key.\r\nAfter creating a tenant database I am trying to grant all the privileges to the admin user.\r\nBut jdbc template is throwing BadSQLGrammarException while trying to execute the query.\r\n\r\nBelow is the code\r\n```\r\npackage com.example.authenticationservice.dao_holder;\r\n\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.experimental.FieldDefaults;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\r\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\nimport org.springframework.stereotype.Repository;\r\nimport com.example.authenticationservice.dto.TenantDbInfoDto;\r\nimport javax.sql.DataSource;\r\nimport java.util.List;\r\n\r\n@Slf4j\r\n@Data\r\n@Repository\r\n@AllArgsConstructor\r\n@FieldDefaults(level = AccessLevel.PROTECTED, makeFinal = true)\r\npublic class TenantDao  {\r\n\r\n    JdbcTemplate jdbcTemplate;\r\n    NamedParameterJdbcTemplate namedParameterJdbcTemplate;\r\n\r\n    @Autowired\r\n    public TenantDao(@Qualifier(&quot;mainDataSource&quot;) DataSource dataSource) {\r\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\r\n        this.namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n    }\r\n\r\n    public List&lt;TenantDbInfoDto&gt; getTenantDbInfo(DatabaseCreationStatus creationStatus) {\r\n        String query = &quot;select id, db_name, name, db_password &quot; +\r\n                &quot;from tenants &quot; +\r\n                &quot;where creation_status = :creationStatus&quot;;\r\n        MapSqlParameterSource params = new MapSqlParameterSource(&quot;creationStatus&quot;, creationStatus.getValue());\r\n\r\n        return namedParameterJdbcTemplate.query(query, params, (rs, rowNum) -&gt; {\r\n            TenantDbInfoDto dto = new TenantDbInfoDto();\r\n            dto.setId(rs.getLong(&quot;id&quot;));\r\n            dto.setDbName(rs.getString(&quot;db_name&quot;));\r\n            dto.setUserName(rs.getString(&quot;name&quot;));\r\n            dto.setDbPassword(rs.getString(&quot;db_password&quot;));\r\n            return dto;\r\n        });\r\n    }\r\n\r\n    public void createTenantDb(String dbName, String userName, String password) {\r\n        String createDbQuery = &quot;CREATE DATABASE IF NOT EXISTS &quot; + dbName;\r\n        jdbcTemplate.execute(createDbQuery);\r\n        log.info(&quot;Created database: &quot; + dbName);\r\n        String query = &quot;grant all privileges on *.* to &#39;:userName&#39;@&#39;localhost&#39; identified by &#39;:password&#39; with grant option&quot;;\r\n        MapSqlParameterSource params = new MapSqlParameterSource();\r\n        //params.addValue(&quot;dbName&quot;, dbName);\r\n        params.addValue(&quot;userName&quot;, userName);\r\n        params.addValue(&quot;password&quot;,password);\r\n        namedParameterJdbcTemplate.update(query, params);\r\n    }\r\n}\r\n\r\n```\r\npom.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;authentication-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;authentication-service&lt;/name&gt;\r\n\t&lt;description&gt;Soopure authentication service&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.freemarker/freemarker --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.18.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.76.Final&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.23.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.76.Final&lt;/version&gt;\r\n                &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.29&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties : \r\n```\r\nspring.profiles.active=development\r\nserver.port=8893\r\nspring.application.name=authentication-service\r\neureka.client.enabled=false\r\n\r\nlogging.level.root=WARN\r\nlogging.level.com.example=TRACE\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/auth\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\nspring.datasource.hikari.maximum-pool-size=10\r\nspring.datasource.hikari.minimum-idle=5\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n # spring.jpa.hibernate.ddl-auto=update\r\nliquibase.enabled=false\r\nspring.liquibase.change-log=classpath:liquibase/migrations/main_db/db.changelog-master.yml\r\nspring.freemarker.suffix=.ftl\r\nspring.freemarker.settings.recognize_standard_file_extensions=false\r\nspring.freemarker.check-template-location=false\r\nsp.authentication.expireInterval=864000\r\nsp.authentication.issuer=authentication-service\r\nsp.authentication.audience=soopure-frontend\r\nsp.authentication.admin_user_id=admin\r\nspring.jpa.show-sql=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nsecurity.ignored=true\r\nsecurity.basic.enabled=false\r\n```\r\n\r\nerror thrown :\r\n\r\n```\r\norg.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [grant all privileges on *.* to &#39;:userName&#39;@&#39;localhost&#39; identified by &#39;:password&#39; with grant option]\r\n        at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:101)\r\n        at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\r\n        at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1580)\r\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:675)\r\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:968)\r\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:989)\r\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)\r\n        at com.example.authenticationservice.dao_holder.TenantDao.createTenantDb(TenantDao.java:60)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n        at com.example.authenticationservice.dao_holder.TenantDao$$SpringCGLIB$$0.createTenantDb(&lt;generated&gt;)\r\n        at com.example.authenticationservice.services.TenantServiceImpl.saveTenant(TenantServiceImpl.java:74)\r\n        at com.example.authenticationservice.controllers.TenantController.createTenant(TenantController.java:56)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n```\r\n\r\nThe syntax seems to be correct of the query but still error is thrown.","title":"BadSqlGrammarException for grant all privileges","body":"<p>I am working on a multi tenant user authentication system. the data source changes per request via a lookup key.\nAfter creating a tenant database I am trying to grant all the privileges to the admin user.\nBut jdbc template is throwing BadSQLGrammarException while trying to execute the query.</p>\n<p>Below is the code</p>\n<pre><code>package com.example.authenticationservice.dao_holder;\n\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.experimental.FieldDefaults;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nimport org.springframework.stereotype.Repository;\nimport com.example.authenticationservice.dto.TenantDbInfoDto;\nimport javax.sql.DataSource;\nimport java.util.List;\n\n@Slf4j\n@Data\n@Repository\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PROTECTED, makeFinal = true)\npublic class TenantDao  {\n\n    JdbcTemplate jdbcTemplate;\n    NamedParameterJdbcTemplate namedParameterJdbcTemplate;\n\n    @Autowired\n    public TenantDao(@Qualifier(&quot;mainDataSource&quot;) DataSource dataSource) {\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\n        this.namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n    }\n\n    public List&lt;TenantDbInfoDto&gt; getTenantDbInfo(DatabaseCreationStatus creationStatus) {\n        String query = &quot;select id, db_name, name, db_password &quot; +\n                &quot;from tenants &quot; +\n                &quot;where creation_status = :creationStatus&quot;;\n        MapSqlParameterSource params = new MapSqlParameterSource(&quot;creationStatus&quot;, creationStatus.getValue());\n\n        return namedParameterJdbcTemplate.query(query, params, (rs, rowNum) -&gt; {\n            TenantDbInfoDto dto = new TenantDbInfoDto();\n            dto.setId(rs.getLong(&quot;id&quot;));\n            dto.setDbName(rs.getString(&quot;db_name&quot;));\n            dto.setUserName(rs.getString(&quot;name&quot;));\n            dto.setDbPassword(rs.getString(&quot;db_password&quot;));\n            return dto;\n        });\n    }\n\n    public void createTenantDb(String dbName, String userName, String password) {\n        String createDbQuery = &quot;CREATE DATABASE IF NOT EXISTS &quot; + dbName;\n        jdbcTemplate.execute(createDbQuery);\n        log.info(&quot;Created database: &quot; + dbName);\n        String query = &quot;grant all privileges on *.* to ':userName'@'localhost' identified by ':password' with grant option&quot;;\n        MapSqlParameterSource params = new MapSqlParameterSource();\n        //params.addValue(&quot;dbName&quot;, dbName);\n        params.addValue(&quot;userName&quot;, userName);\n        params.addValue(&quot;password&quot;,password);\n        namedParameterJdbcTemplate.update(query, params);\n    }\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;authentication-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;authentication-service&lt;/name&gt;\n    &lt;description&gt;Soopure authentication service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.freemarker/freemarker --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.18.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n            &lt;version&gt;4.1.76.Final&lt;/version&gt;\n            &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n            \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n                &lt;version&gt;4.1.76.Final&lt;/version&gt;\n                &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n            &lt;version&gt;2.8.8&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.29&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties :</p>\n<pre><code>spring.profiles.active=development\nserver.port=8893\nspring.application.name=authentication-service\neureka.client.enabled=false\n\nlogging.level.root=WARN\nlogging.level.com.example=TRACE\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/auth\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.hikari.maximum-pool-size=10\nspring.datasource.hikari.minimum-idle=5\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n # spring.jpa.hibernate.ddl-auto=update\nliquibase.enabled=false\nspring.liquibase.change-log=classpath:liquibase/migrations/main_db/db.changelog-master.yml\nspring.freemarker.suffix=.ftl\nspring.freemarker.settings.recognize_standard_file_extensions=false\nspring.freemarker.check-template-location=false\nsp.authentication.expireInterval=864000\nsp.authentication.issuer=authentication-service\nsp.authentication.audience=soopure-frontend\nsp.authentication.admin_user_id=admin\nspring.jpa.show-sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.format_sql=true\n\nsecurity.ignored=true\nsecurity.basic.enabled=false\n</code></pre>\n<p>error thrown :</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [grant all privileges on *.* to ':userName'@'localhost' identified by ':password' with grant option]\n        at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:101)\n        at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\n        at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1580)\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:675)\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:968)\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:989)\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)\n        at com.example.authenticationservice.dao_holder.TenantDao.createTenantDb(TenantDao.java:60)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n        at com.example.authenticationservice.dao_holder.TenantDao$$SpringCGLIB$$0.createTenantDb(&lt;generated&gt;)\n        at com.example.authenticationservice.services.TenantServiceImpl.saveTenant(TenantServiceImpl.java:74)\n        at com.example.authenticationservice.controllers.TenantController.createTenant(TenantController.java:56)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n</code></pre>\n<p>The syntax seems to be correct of the query but still error is thrown.</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1694377429,"post_id":77077692,"comment_id":135879711,"body_markdown":"I dont think you should escape the XML prolog.  But where is the JSON where he is complaining about?","body":"I dont think you should escape the XML prolog.  But where is the JSON where he is complaining about?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1694378365,"post_id":77077692,"comment_id":135879808,"body_markdown":"*&quot;it wasn&#39;t outputting any error or anything,&quot;* - so perhaps it was actually working?","body":"<i>&quot;it wasn&#39;t outputting any error or anything,&quot;</i> - so perhaps it was actually working?"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1694378587,"post_id":77077692,"comment_id":135879830,"body_markdown":"Before I added that code to escape the XML prolog, when I tested, it was doing the call to the readTree() but it wasn&#39;t logging any errors or anything (I have had tons of debug logging everything and try-catches all over and it never hit any of those.  That was what I was referring to when I said &quot;a LONG WHILE&quot; :).  To answer your question.. none of the output that I as seeing gave me the info to answer your question.","body":"Before I added that code to escape the XML prolog, when I tested, it was doing the call to the readTree() but it wasn&#39;t logging any errors or anything (I have had tons of debug logging everything and try-catches all over and it never hit any of those.  That was what I was referring to when I said &quot;a LONG WHILE&quot; :).  To answer your question.. none of the output that I as seeing gave me the info to answer your question."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1694380789,"post_id":77077692,"comment_id":135880041,"body_markdown":"Can you show us the input that caused this? (BTW, escaping the XML prologue will not help)","body":"Can you show us the input that caused this? (BTW, escaping the XML prologue will not help)"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1694383295,"post_id":77077692,"comment_id":135880261,"body_markdown":"@forty-two - I&#39;ve edited the original post with an example XML.","body":"@forty-two - I&#39;ve edited the original post with an example XML."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1694384829,"post_id":77077692,"comment_id":135880398,"body_markdown":"@ArfurNarf - Sorry I missed your comment.  I didn&#39;t go into details, but what I doing with the Jackson stuff that I&#39;m posting about is used in a larger context, basically I am using (or trying to use) it for processing some XML messages in a plugin for an LDAP server (Oracle OUD), and so, from the higher level perspective, no, the XML is not being processed correctly so it causes the LDAP requests to fail.  I think what is currently happening is that the readTree() is failing and basically returning null for the node...","body":"@ArfurNarf - Sorry I missed your comment.  I didn&#39;t go into details, but what I doing with the Jackson stuff that I&#39;m posting about is used in a larger context, basically I am using (or trying to use) it for processing some XML messages in a plugin for an LDAP server (Oracle OUD), and so, from the higher level perspective, no, the XML is not being processed correctly so it causes the LDAP requests to fail.  I think what is currently happening is that the readTree() is failing and basically returning null for the node..."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1694423090,"post_id":77077692,"comment_id":135884182,"body_markdown":"It&#39;s complaining about some JSON, not about XML. You haven&#39;t mentioned any JSON is your question. Find the JSON, and you will find the error.","body":"It&#39;s complaining about some JSON, not about XML. You haven&#39;t mentioned any JSON is your question. Find the JSON, and you will find the error."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1694437297,"post_id":77077692,"comment_id":135886748,"body_markdown":"I can read the XML using XmlMapper #readTree() without any issues (well, the name of the root element is lost, maybe there is some config needed, never used XmlMapper before)","body":"I can read the XML using XmlMapper #readTree() without any issues (well, the name of the root element is lost, maybe there is some config needed, never used XmlMapper before)"},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1694437378,"post_id":77077692,"comment_id":135886769,"body_markdown":"BTW, why not use a proper XML parser? Conversion between XML and JSON is not without issues.","body":"BTW, why not use a proper XML parser? Conversion between XML and JSON is not without issues."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1694458843,"post_id":77077692,"comment_id":135890996,"body_markdown":"HI - FYI, we were able to resolve the problem and I just added an EDIT 2 to the original post with information.  THANKS every one for the help and suggestions!","body":"HI - FYI, we were able to resolve the problem and I just added an EDIT 2 to the original post with information.  THANKS every one for the help and suggestions!"}],"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694458754,"creation_date":1694375820,"question_id":77077692,"body_markdown":"I am trying to use XMLMapper and readTree() to parse an XML document that is in a String variable named &quot;message&quot;.   My code basically does the following:\r\n\r\n    \t\t\tXmlMapper xmlMapper = new XmlMapper(); \r\n\t\r\n\t\t\tJsonNode node = null;\r\n\t\t\ttry {\r\n\t\t\t\tnode = xmlMapper.readTree(message.getBytes());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tparseLogger.error(&quot;------+++++ parse(): - **EXCEPTION** - e=[&quot; + e + &quot;]&quot;);\r\n\t\t\t}\r\n\r\nFor a (really LONG) while, when I ran the app, it wasn&#39;t outputting any error or anything, then I was guessing the problem was that it didn&#39;t like the XML prolog at the beginning of the message:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\r\nSo I added the following, to try to escape the double-quotes in the prolog;\r\n\r\n    message = message.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\r\n(FYI, there are no double-quotes in the message, other than the ones that are in the XML prolog line)\r\n\r\nand now, the modified prolog line looks like:\r\n\r\n    &lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;\r\n\r\nand it is getting past the xmlMapper.readTree(message.getBytes), but I am still getting this error message:\r\n\r\n    JsonParseException: Unexpected character &#39;\\&#39; (code 92); expected a quote character enclosing value for &#39;version&#39;\r\n     at [row,col,system-id]: [1,15,&quot;N/A&quot;]]\r\n\r\nThe XML prolog looks all right/OK now (to me), so I don&#39;t understand why it is still complaining about the &quot;unexpected &#39;\\&#39;&quot;?  Also, I am wondering about the part of the error message where it way &quot;N/A&quot;?\r\n\r\nCan someone tell me why I am still getting that error?\r\n\r\nThanks,\r\nJim\r\n\r\n\r\n\r\nEDIT1: Here&#39;s an example of one of the XML messages:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;record&gt;\r\n      &lt;rule&gt;\r\n        &lt;customer&gt;1234&lt;/customer&gt;\r\n        &lt;schemaName&gt;schema_name&lt;/schemaName&gt;\r\n        &lt;schemaVersion&gt;1.0&lt;/schemaVersion&gt;\r\n      &lt;/rule&gt;\r\n      &lt;identifier&gt;\r\n        &lt;XXX_USR_PN_IDXXX&gt;12345&lt;/XXX_USR_PN_IDXXX&gt;\r\n      &lt;/identifier&gt;\r\n      &lt;aRecord&gt;\r\n        &lt;XXX_USR_PN_ID&gt;12345&lt;/XXX_USR_PN_ID&gt;\r\n        &lt;UserName&gt;\r\n          &lt;ENTPR_USER_NM_TX&gt;Epple.12345&lt;/ENTPR_USER_NM_TX&gt;\r\n        &lt;/UserName&gt;\r\n        &lt;person&gt;\r\n          &lt;ADM_ORG_CD&gt;urn&lt;/ADM_ORG_CD&gt;\r\n          &lt;XXX_ASSOC_CD&gt;urn:V01&lt;/XXX_ASSOC_CD&gt;\r\n          &lt;XXX_OCC_CD&gt;123&lt;/XXX_OCC_CD&gt;\r\n          &lt;JB_XXX_OCC_CD&gt;456&lt;/JB_XXX_OCC_CD&gt;\r\n          &lt;EMA&gt;johna@mail.com&lt;/EMA&gt;\r\n          &lt;ORG_CD&gt;11&lt;/ORG_CD&gt;\r\n          &lt;PERSONA_TYP_CD&gt;JUNK122:GOOD321&lt;/PERSONA_TYP_CD&gt;\r\n          &lt;PG_CD&gt;07&lt;/PG_CD&gt;\r\n          &lt;XYZEC_TYP_CD&gt;12&lt;/XYZEC_TYP_CD&gt;\r\n          &lt;XYZ_CAT_CD&gt;G&lt;/XYZ_CAT_CD&gt;\r\n        &lt;/person&gt;\r\n        &lt;location&gt;\r\n          &lt;CTRY_CD&gt;Yes&lt;/CTRY_CD&gt;\r\n        &lt;/location&gt;\r\n      &lt;/aRecord&gt;\r\n    &lt;/record&gt;\r\n\r\n\r\nEDIT 2:  One of my colleagues found the problem (and solution).  He referenced this other SO thread:\r\n\r\nhttps://stackoverflow.com/questions/69480470/nosuchmethoderror-on-com-fasterxml-jackson-dataformat-xml-xmlmapper-coercionconf\r\n\r\nin particular the comment from Marek F, &quot;Marek F\r\n Apr 13, 2022 at 10:44&quot;.\r\n\r\nMy understanding was that the OUD product was already using the 2.9.9 libs, so we had to add dependencies to the pom.xml to the 2.9.9 versions explicitly, and I think he did something to the Jenkins side also and then I rebuilt and it worked.","title":"Why - JsonParseException: Unexpected character &#39;\\&#39; (code 92); expected a quote character enclosing value for &#39;version&#39;?","body":"<p>I am trying to use XMLMapper and readTree() to parse an XML document that is in a String variable named &quot;message&quot;.   My code basically does the following:</p>\n<pre><code>            XmlMapper xmlMapper = new XmlMapper(); \n\n        JsonNode node = null;\n        try {\n            node = xmlMapper.readTree(message.getBytes());\n        } catch (Exception e) {\n            parseLogger.error(&quot;------+++++ parse(): - **EXCEPTION** - e=[&quot; + e + &quot;]&quot;);\n        }\n</code></pre>\n<p>For a (really LONG) while, when I ran the app, it wasn't outputting any error or anything, then I was guessing the problem was that it didn't like the XML prolog at the beginning of the message:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n</code></pre>\n<p>So I added the following, to try to escape the double-quotes in the prolog;</p>\n<pre><code>message = message.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n</code></pre>\n<p>(FYI, there are no double-quotes in the message, other than the ones that are in the XML prolog line)</p>\n<p>and now, the modified prolog line looks like:</p>\n<pre><code>&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;\n</code></pre>\n<p>and it is getting past the xmlMapper.readTree(message.getBytes), but I am still getting this error message:</p>\n<pre><code>JsonParseException: Unexpected character '\\' (code 92); expected a quote character enclosing value for 'version'\n at [row,col,system-id]: [1,15,&quot;N/A&quot;]]\n</code></pre>\n<p>The XML prolog looks all right/OK now (to me), so I don't understand why it is still complaining about the &quot;unexpected ''&quot;?  Also, I am wondering about the part of the error message where it way &quot;N/A&quot;?</p>\n<p>Can someone tell me why I am still getting that error?</p>\n<p>Thanks,\nJim</p>\n<p>EDIT1: Here's an example of one of the XML messages:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;record&gt;\n  &lt;rule&gt;\n    &lt;customer&gt;1234&lt;/customer&gt;\n    &lt;schemaName&gt;schema_name&lt;/schemaName&gt;\n    &lt;schemaVersion&gt;1.0&lt;/schemaVersion&gt;\n  &lt;/rule&gt;\n  &lt;identifier&gt;\n    &lt;XXX_USR_PN_IDXXX&gt;12345&lt;/XXX_USR_PN_IDXXX&gt;\n  &lt;/identifier&gt;\n  &lt;aRecord&gt;\n    &lt;XXX_USR_PN_ID&gt;12345&lt;/XXX_USR_PN_ID&gt;\n    &lt;UserName&gt;\n      &lt;ENTPR_USER_NM_TX&gt;Epple.12345&lt;/ENTPR_USER_NM_TX&gt;\n    &lt;/UserName&gt;\n    &lt;person&gt;\n      &lt;ADM_ORG_CD&gt;urn&lt;/ADM_ORG_CD&gt;\n      &lt;XXX_ASSOC_CD&gt;urn:V01&lt;/XXX_ASSOC_CD&gt;\n      &lt;XXX_OCC_CD&gt;123&lt;/XXX_OCC_CD&gt;\n      &lt;JB_XXX_OCC_CD&gt;456&lt;/JB_XXX_OCC_CD&gt;\n      &lt;EMA&gt;johna@mail.com&lt;/EMA&gt;\n      &lt;ORG_CD&gt;11&lt;/ORG_CD&gt;\n      &lt;PERSONA_TYP_CD&gt;JUNK122:GOOD321&lt;/PERSONA_TYP_CD&gt;\n      &lt;PG_CD&gt;07&lt;/PG_CD&gt;\n      &lt;XYZEC_TYP_CD&gt;12&lt;/XYZEC_TYP_CD&gt;\n      &lt;XYZ_CAT_CD&gt;G&lt;/XYZ_CAT_CD&gt;\n    &lt;/person&gt;\n    &lt;location&gt;\n      &lt;CTRY_CD&gt;Yes&lt;/CTRY_CD&gt;\n    &lt;/location&gt;\n  &lt;/aRecord&gt;\n&lt;/record&gt;\n</code></pre>\n<p>EDIT 2:  One of my colleagues found the problem (and solution).  He referenced this other SO thread:</p>\n<p><a href=\"https://stackoverflow.com/questions/69480470/nosuchmethoderror-on-com-fasterxml-jackson-dataformat-xml-xmlmapper-coercionconf\">NoSuchMethodError on com.fasterxml.jackson.dataformat.xml.XmlMapper.coercionConfigDefaults()</a></p>\n<p>in particular the comment from Marek F, &quot;Marek F\nApr 13, 2022 at 10:44&quot;.</p>\n<p>My understanding was that the OUD product was already using the 2.9.9 libs, so we had to add dependencies to the pom.xml to the 2.9.9 versions explicitly, and I think he did something to the Jenkins side also and then I rebuilt and it worked.</p>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694458431,"post_id":77081279,"comment_id":135890910,"body_markdown":"The behavior you&#39;re seeing is correct. Keep in mind that ActiveMQ Artemis is a multi-protocol broker so the value set by the JMS client (i.e. via `setJMSMessageID`) is *not* the same as the internal message ID assigned by the broker. The ID set by the core JMS client is referred to as the &quot;User ID&quot; in the web console.","body":"The behavior you&#39;re seeing is correct. Keep in mind that ActiveMQ Artemis is a multi-protocol broker so the value set by the JMS client (i.e. via <code>setJMSMessageID</code>) is <i>not</i> the same as the internal message ID assigned by the broker. The ID set by the core JMS client is referred to as the &quot;User ID&quot; in the web console."},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694474193,"post_id":77081279,"comment_id":135892955,"body_markdown":"When sending a message, a message identifier is generated, that is, a unique message value. The question is, how do I get it?","body":"When sending a message, a message identifier is generated, that is, a unique message value. The question is, how do I get it?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694479204,"post_id":77081279,"comment_id":135893280,"body_markdown":"You use `getJMSMessageID` just like you already are. The value that&#39;s generated when you send the message will be unique to it.","body":"You use <code>getJMSMessageID</code> just like you already are. The value that&#39;s generated when you send the message will be unique to it."}],"answers":[{"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694474190,"post_id":77082100,"comment_id":135892954,"body_markdown":"When sending a message, a message identifier is generated, that is, a unique message value. The question is, how do I get it?","body":"When sending a message, a message identifier is generated, that is, a unique message value. The question is, how do I get it?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694477192,"post_id":77082100,"comment_id":135893168,"body_markdown":"You use `getJMSMessageID` just like you already are. The value that&#39;s generated when you send the message will be unique to it.","body":"You use <code>getJMSMessageID</code> just like you already are. The value that&#39;s generated when you send the message will be unique to it."}],"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694439311,"creation_date":1694439311,"answer_id":77082100,"question_id":77081279,"body_markdown":"In Artemis the &quot;User ID&quot; of the message displayed in the console is the &quot;Message ID&quot; set by the sending client (user). It is a little confusing but that is the value that JMS client would have set on the message as Its JMS Message ID on send.  The message ID value you see is the broker created ID for the message it received from a sender and is used for internal tracking.  ","title":"How to view the messageId of a message in ActiveMQ Artemis?","body":"<p>In Artemis the &quot;User ID&quot; of the message displayed in the console is the &quot;Message ID&quot; set by the sending client (user). It is a little confusing but that is the value that JMS client would have set on the message as Its JMS Message ID on send.  The message ID value you see is the broker created ID for the message it received from a sender and is used for internal tracking.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77082100,"answer_count":1,"score":0,"last_activity_date":1694458510,"creation_date":1694432164,"question_id":77081279,"body_markdown":"I&#39;m using a `QueueBrowser` to get a message from the queue, but I can&#39;t get the messageId. For some reason my userId is displayed\r\n\r\n```java\r\nprivate void viewMessage() throws NamingException, JMSException {\r\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\r\n    if (queueBrowser == null){\r\n        queueBrowser = queueSession.createBrowser(queue);\r\n    }\r\n    Enumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\r\n    ArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n\r\n    while (messageEnumeration.hasMoreElements()){\r\n        messages.add(messageEnumeration.nextElement());\r\n    }\r\n    messages.forEach(value -&gt; {\r\n        try {\r\n            System.out.println(value.getJMSMessageID());\r\n        } catch (JMSException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    });\r\n    \r\n}\r\n```\r\nThis is what is displayed in my console:\r\n[![enter image description here](https://i.stack.imgur.com/wnvIn.png)](https://i.stack.imgur.com/wnvIn.png)\r\n\r\nMessages in queue:\r\n[![enter image description here](https://i.stack.imgur.com/vhCOV.png)](https://i.stack.imgur.com/vhCOV.png)\r\n","title":"How to view the messageId of a message in ActiveMQ Artemis?","body":"<p>I'm using a <code>QueueBrowser</code> to get a message from the queue, but I can't get the messageId. For some reason my userId is displayed</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void viewMessage() throws NamingException, JMSException {\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\n    if (queueBrowser == null){\n        queueBrowser = queueSession.createBrowser(queue);\n    }\n    Enumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\n    ArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n\n    while (messageEnumeration.hasMoreElements()){\n        messages.add(messageEnumeration.nextElement());\n    }\n    messages.forEach(value -&gt; {\n        try {\n            System.out.println(value.getJMSMessageID());\n        } catch (JMSException e) {\n            throw new RuntimeException(e);\n        }\n    });\n    \n}\n</code></pre>\n<p>This is what is displayed in my console:\n<a href=\"https://i.stack.imgur.com/wnvIn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wnvIn.png\" alt=\"enter image description here\" /></a></p>\n<p>Messages in queue:\n<a href=\"https://i.stack.imgur.com/vhCOV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhCOV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","react-native","android-studio"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1694463563,"post_id":77070366,"comment_id":135891703,"body_markdown":"Try this `public void goToReactNativeView() {\n    Intent i = new Intent(getApplicationContext(), MyReactActivity.class );\n    startActivity(i);\n  }`","body":"Try this <code>public void goToReactNativeView() {     Intent i = new Intent(getApplicationContext(), MyReactActivity.class );     startActivity(i);   }</code>"}],"answers":[{"comments":[{"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"score":0,"creation_date":1694457390,"post_id":77070598,"comment_id":135890731,"body_markdown":"Thanks a lot for your help. I tried this way but still getting error : &#39;goToReactNativeView(android.content.Context)&#39; in &#39;java.com.awesomeproject.common.settings.Settings&#39; cannot be applied to &#39;(java.com.awesomeproject.common.settings.Settings)&#39;\n\nRequired type: Context\nProvided: Settings\nSeems that is expected Context instead of the class. I am confused because `this` should work.","body":"Thanks a lot for your help. I tried this way but still getting error : &#39;goToReactNativeView(android.content.Context)&#39; in &#39;java.com.awesomeproject.common.settings.Settings&#39; cannot be applied to &#39;(java.com.awesomeproject.common.settings.Settings)&#39;  Required type: Context Provided: Settings Seems that is expected Context instead of the class. I am confused because <code>this</code> should work."}],"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694225164,"creation_date":1694225164,"answer_id":77070598,"question_id":77070366,"body_markdown":"try this:\r\n\r\nPass the context as a parameter to your goToReactNativeView method:\r\n\r\n    public void goToReactNativeView(Context context) {\r\n        Intent i = new Intent(context, MyReactActivity.class);\r\n        context.startActivity(i);\r\n    }\r\n\r\nCall this method from your Settings class, passing the appropriate context:\r\n\r\n    // Inside your Settings class, when you want to start the React Native activity:\r\n    goToReactNativeView(this);\r\n\r\nIf you are still encountering the issue. please provide more information regarding the error.\r\n\r\n\r\n\r\n","title":"Click on Android button to open React Native component","body":"<p>try this:</p>\n<p>Pass the context as a parameter to your goToReactNativeView method:</p>\n<pre><code>public void goToReactNativeView(Context context) {\n    Intent i = new Intent(context, MyReactActivity.class);\n    context.startActivity(i);\n}\n</code></pre>\n<p>Call this method from your Settings class, passing the appropriate context:</p>\n<pre><code>// Inside your Settings class, when you want to start the React Native activity:\ngoToReactNativeView(this);\n</code></pre>\n<p>If you are still encountering the issue. please provide more information regarding the error.</p>\n"}],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694457314,"creation_date":1694217598,"question_id":77070366,"body_markdown":"I would like to invocate a React Native component from Android. However, I am having issues when creating the intent and start the activity:\r\n\r\nSettings.java\r\n\r\n     public void goToReactNativeView() {\r\n        Intent i = new Intent(Settings.this, MyReactActivity.class );\r\n        startActivity(i);\r\n      }\r\n\r\nHowever, I am getting the following error:\r\n\r\n    Intent i = new Intent(Settings.this, MyReactActivity.class );\r\n                   ^\r\n        constructor Intent.Intent(String,Uri) is not applicable\r\n          (argument mismatch; Settings cannot be converted to String)\r\n        constructor Intent.Intent(Context,Class&lt;?&gt;) is not applicable\r\n          (argument mismatch; Settings cannot be converted to Context)\r\n\r\nand the use of this is throwing error as well:\r\n\r\n    error: no suitable constructor found for Intent(Settings,Class&lt;MyReactActivity&gt;)\r\n        Intent i = new Intent(this, MyReactActivity.class );\r\n                   ^\r\n        constructor Intent.Intent(String,Uri) is not applicable\r\n          (argument mismatch; Settings cannot be converted to String)\r\n        constructor Intent.Intent(Context,Class&lt;?&gt;) is not applicable\r\n          (argument mismatch; Settings cannot be converted to Context)\r\n\r\nEdit based on suggestion provided by @Sarmad Ali:\r\n\r\nWhen changing to sending `this` as parameter in goToReactNativeView and defining the parameter as Context in the body of goToReactNativeView function, I am getting the following error:\r\n \r\n\r\n    &#39;goToReactNativeView(android.content.Context)&#39; in &#39;java.com.awesomeproject.common.settings.Settings&#39; cannot be applied to &#39;(java.com.awesomeproject.common.settings.Settings)&#39;\r\n\r\n    Required type: Context\r\n    Provided: Settings\r\n\r\n\r\n\r\nSettings.java  \r\n  \r\n\r\n      ...\r\n      reactNativeBtn.setOnClickListener(view -&gt; goToReactNativeView(this));\r\n      ...\r\n      public void goToReactNativeView(Context context) {\r\n        Intent i = new Intent(context, MyReactActivity.class );\r\n        startActivity(i);\r\n      }\r\n\r\nHow I pass the context of the current class (Settings) if it is not with the use of this or class.this? Is there any difference when the second argument is a class extending ReactActivity?\r\n\r\n\r\nThanks\r\n\r\n\r\n","title":"Click on Android button to open React Native component","body":"<p>I would like to invocate a React Native component from Android. However, I am having issues when creating the intent and start the activity:</p>\n<p>Settings.java</p>\n<pre><code> public void goToReactNativeView() {\n    Intent i = new Intent(Settings.this, MyReactActivity.class );\n    startActivity(i);\n  }\n</code></pre>\n<p>However, I am getting the following error:</p>\n<pre><code>Intent i = new Intent(Settings.this, MyReactActivity.class );\n               ^\n    constructor Intent.Intent(String,Uri) is not applicable\n      (argument mismatch; Settings cannot be converted to String)\n    constructor Intent.Intent(Context,Class&lt;?&gt;) is not applicable\n      (argument mismatch; Settings cannot be converted to Context)\n</code></pre>\n<p>and the use of this is throwing error as well:</p>\n<pre><code>error: no suitable constructor found for Intent(Settings,Class&lt;MyReactActivity&gt;)\n    Intent i = new Intent(this, MyReactActivity.class );\n               ^\n    constructor Intent.Intent(String,Uri) is not applicable\n      (argument mismatch; Settings cannot be converted to String)\n    constructor Intent.Intent(Context,Class&lt;?&gt;) is not applicable\n      (argument mismatch; Settings cannot be converted to Context)\n</code></pre>\n<p>Edit based on suggestion provided by @Sarmad Ali:</p>\n<p>When changing to sending <code>this</code> as parameter in goToReactNativeView and defining the parameter as Context in the body of goToReactNativeView function, I am getting the following error:</p>\n<pre><code>'goToReactNativeView(android.content.Context)' in 'java.com.awesomeproject.common.settings.Settings' cannot be applied to '(java.com.awesomeproject.common.settings.Settings)'\n\nRequired type: Context\nProvided: Settings\n</code></pre>\n<p>Settings.java</p>\n<pre><code>  ...\n  reactNativeBtn.setOnClickListener(view -&gt; goToReactNativeView(this));\n  ...\n  public void goToReactNativeView(Context context) {\n    Intent i = new Intent(context, MyReactActivity.class );\n    startActivity(i);\n  }\n</code></pre>\n<p>How I pass the context of the current class (Settings) if it is not with the use of this or class.this? Is there any difference when the second argument is a class extending ReactActivity?</p>\n<p>Thanks</p>\n"},{"tags":["java","authentication","azure-active-directory","openid","msal"],"owner":{"account_id":7087354,"reputation":3,"user_id":5423757,"display_name":"ken edward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694600270,"answer_count":0,"score":0,"last_activity_date":1694457156,"creation_date":1694457156,"question_id":77084045,"body_markdown":"We are using MSAL java for authentication of a web application. Works fine with chrome and IE, but not with Edge. Is there an Edge browser extension that we could install to troubleshoot the openid tokens? \r\n\r\nMSAL java authentication works great in chrome and IE, but not Edge.","title":"Is there an Edge browser extension for trouble-shooting msal java? MSAL java works with chrome and IE but not Edge","body":"<p>We are using MSAL java for authentication of a web application. Works fine with chrome and IE, but not with Edge. Is there an Edge browser extension that we could install to troubleshoot the openid tokens?</p>\n<p>MSAL java authentication works great in chrome and IE, but not Edge.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9943,"page":191,"page_size":100}
