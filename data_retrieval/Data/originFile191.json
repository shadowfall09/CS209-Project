{"items":[{"tags":["java","proxy","webdav","nextcloud","sardine"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694439855,"post_id":77082060,"comment_id":135887295,"body_markdown":"Sorry broheimer, but asking recommendations and resources is explicitly off-topic for StackOverflow :/ Specific questions get answers.","body":"Sorry broheimer, but asking recommendations and resources is explicitly off-topic for StackOverflow :/ Specific questions get answers."}],"owner":{"account_id":10359304,"reputation":43,"user_id":7640245,"display_name":"Forfaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694438968,"creation_date":1694438968,"question_id":77082060,"body_markdown":"I want to build a Java Service where I can upload and download files by WebDAV from my Nextcloud Server. Now I have some problems:\r\n\r\n- I have to use a proxy server for the connection to Nextcloud\r\n- I couldn&#39;t find out if I have to use the Nextcloud Header &quot;OCS-APIRequest=true&quot; also for WebDAV Requests\r\n- I have never used WebDAV in Java and think I must use a library like Sardine?\r\n\r\nI have tried yet to build a connection with Sardine and a HttpClient but didn&#39;t get it to run and don&#39;t know if it just didn&#39;t work cause the OCS-APIRequest-Header was missing.\r\n\r\nUnfortunately all I found searching the net where examples of the Sardine.put() method which I unfortunately didn&#39;t understand.\r\n\r\nDoes anyone maybe have an example where is described how to do all this together? Or maybe a good documentation of the Sardine library? Or any other hint which could help here?\r\n\r\nThx in advance!\r\n\r\nBR\r\nForfaro","title":"WebDAV Java Request to Nextcloud with Proxy","body":"<p>I want to build a Java Service where I can upload and download files by WebDAV from my Nextcloud Server. Now I have some problems:</p>\n<ul>\n<li>I have to use a proxy server for the connection to Nextcloud</li>\n<li>I couldn't find out if I have to use the Nextcloud Header &quot;OCS-APIRequest=true&quot; also for WebDAV Requests</li>\n<li>I have never used WebDAV in Java and think I must use a library like Sardine?</li>\n</ul>\n<p>I have tried yet to build a connection with Sardine and a HttpClient but didn't get it to run and don't know if it just didn't work cause the OCS-APIRequest-Header was missing.</p>\n<p>Unfortunately all I found searching the net where examples of the Sardine.put() method which I unfortunately didn't understand.</p>\n<p>Does anyone maybe have an example where is described how to do all this together? Or maybe a good documentation of the Sardine library? Or any other hint which could help here?</p>\n<p>Thx in advance!</p>\n<p>BR\nForfaro</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694443864,"post_id":77081990,"comment_id":135888232,"body_markdown":"&quot;but it is not working even though the element is set to in XML&quot;: What does that mean? Try debugging: `String text = r.getText(0); System.out.println(text);`: What text does it print? `r.setItalic(true);System.out.println(r.getCTR());`: What does it print? If both prints the expected, are you sure you write out the changed `XWPFDocument` to the correct file?","body":"&quot;but it is not working even though the element is set to in XML&quot;: What does that mean? Try debugging: <code>String text = r.getText(0); System.out.println(text);</code>: What text does it print? <code>r.setItalic(true);System.out.println(r.getCTR());</code>: What does it print? If both prints the expected, are you sure you write out the changed <code>XWPFDocument</code> to the correct file?"},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694445590,"post_id":77081990,"comment_id":135888596,"body_markdown":"String tst = r.getText(0);\nSystem.out.println(&quot;tst:&quot; + tst); //tst:Calculator_GlucoseMeter\nr.setItalic(true);\nr.setText(text, 0);\nCTR obj = r.getCTR();\nSystem.out.println(&quot;CTR:&quot; + obj); //\n&lt;xml-fragment&gt;\n  &lt;w:rPr&gt;\n    &lt;w:rFonts w:cs=&quot;Arial&quot;/&gt;\n    &lt;w:i w:val=&quot;true&quot;/&gt;\n    &lt;w:w w:val=&quot;90&quot;/&gt;\n    &lt;w:sz w:val=&quot;24&quot;/&gt;\n    &lt;w:szCs w:val=&quot;24&quot;/&gt;\n  &lt;/w:rPr&gt;\n  &lt;w:t&gt;Calculator_GlucoseMeter&lt;/w:t&gt;\n&lt;/xml-fragment&gt;","body":"String tst = r.getText(0); System.out.println(&quot;tst:&quot; + tst); //tst:Calculator_GlucoseMeter r.setItalic(true); r.setText(text, 0); CTR obj = r.getCTR(); System.out.println(&quot;CTR:&quot; + obj); // &lt;xml-fragment&gt;   &lt;w:rPr&gt;     &lt;w:rFonts w:cs=&quot;Arial&quot;/&gt;     &lt;w:i w:val=&quot;true&quot;/&gt;     &lt;w:w w:val=&quot;90&quot;/&gt;     &lt;w:sz w:val=&quot;24&quot;/&gt;     &lt;w:szCs w:val=&quot;24&quot;/&gt;   &lt;/w:rPr&gt;   &lt;w:t&gt;Calculator_GlucoseMeter&lt;/w:t&gt; &lt;/xml-fragment&gt;"},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694445645,"post_id":77081990,"comment_id":135888606,"body_markdown":"Still, I am not getting italic fonts in a document.","body":"Still, I am not getting italic fonts in a document."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694449387,"post_id":77081990,"comment_id":135889312,"body_markdown":"The `&lt;w:i w:val=&quot;true&quot;/&gt;` sets `i`talic formatting true. So it **should** work. Are you using an Apple system? Some Mac applications have a problem interpreting the `val` attributes correctly. Try `r.getCTR().getRPr().addNewI();` instead of `r.setItalic(true);`. That should set `&lt;w:i /&gt;`.","body":"The <code>&lt;w:i w:val=&quot;true&quot;&#47;&gt;</code> sets <code>i</code>talic formatting true. So it <b>should</b> work. Are you using an Apple system? Some Mac applications have a problem interpreting the <code>val</code> attributes correctly. Try <code>r.getCTR().getRPr().addNewI();</code> instead of <code>r.setItalic(true);</code>. That should set <code>&lt;w:i &#47;&gt;</code>."}],"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694438245,"creation_date":1694438245,"question_id":77081990,"body_markdown":"I am attempting to apply italics to text within an XWPFRun run, but it is not working even though the element is set to &lt;i&gt; in XML.\r\n\r\n    for (XWPFTable tbl : doc.getTables()) {\r\n    \t\t\t\t\t\tfor (XWPFTableRow row : tbl.getRows()) {\r\n    \t\t\t\t\t\t\tfor (XWPFTableCell cell : row.getTableCells()) {\r\n    \t\t\t\t\t\t\t\tfor (XWPFParagraph p : cell.getParagraphs()) {\r\n    \t\t\t\t\t\t\t\t\tfor (XWPFRun r : p.getRuns()) {\r\n    \t\t\t\t\t\t\t\t\t\tString text = r.getText(0);\r\n    \t\t\t\t\t\t\t\t\t\tif (text != null &amp;&amp; text.contains(key) &amp;&amp; key.equalsIgnoreCase(&quot;meter&quot;)) {\r\n    \t\t\t\t\t\t\t\t\t\t\tr.setItalic(true);\r\n    \t\t\t\t\t\t\t\t\t\t\tr.setText(text, 0);\r\n    \t\t\t\t\t\t\t\t\t\t}","title":"How to set Italic font on existing run without creating new XWPFRun run","body":"<p>I am attempting to apply italics to text within an XWPFRun run, but it is not working even though the element is set to  in XML.</p>\n<pre><code>for (XWPFTable tbl : doc.getTables()) {\n                        for (XWPFTableRow row : tbl.getRows()) {\n                            for (XWPFTableCell cell : row.getTableCells()) {\n                                for (XWPFParagraph p : cell.getParagraphs()) {\n                                    for (XWPFRun r : p.getRuns()) {\n                                        String text = r.getText(0);\n                                        if (text != null &amp;&amp; text.contains(key) &amp;&amp; key.equalsIgnoreCase(&quot;meter&quot;)) {\n                                            r.setItalic(true);\n                                            r.setText(text, 0);\n                                        }\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","one-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694437918,"post_id":77081584,"comment_id":135886884,"body_markdown":"Your model is off. Your B Table only has a single foreign key (&#39;id_a&#39;) which means you have only a single B-&gt;A relationship. You then can&#39;t have two A-&gt;B one To many trying to use that same foreign key. You should look up JPA tutorials on bidirectional OneToMany as that is what you are trying to setup.","body":"Your model is off. Your B Table only has a single foreign key (&#39;id_a&#39;) which means you have only a single B-&gt;A relationship. You then can&#39;t have two A-&gt;B one To many trying to use that same foreign key. You should look up JPA tutorials on bidirectional OneToMany as that is what you are trying to setup."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694438179,"creation_date":1694438179,"answer_id":77081979,"question_id":77081584,"body_markdown":"Your A entity is incorrectly mapping &quot;id_a&quot; in the B table multiple times. Assuming you want your B entity as it is so that it references A, A would need to look like:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;a&quot;)\r\n    public class A {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private String id;\r\n    \r\n        @OneToMany(mappedBy=&quot;a&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private List&lt;B&gt; firstValuesB;\r\n    }\r\n\r\nNow when you save(a) you&#39;ll have to remember that B.a controls the foreign key and must be set or the fk will be null:\r\n\r\n    A a = new A();\r\n    B b = new B();\r\n    b.setA(a);\r\n    a.setFirstValuesB(new ArrayList()).add(b);\r\n    save(a);\r\n\r\nBoth sides should be set in your relationship to match what it is in the database or you will run into issues.","title":"One to many relation null value after update","body":"<p>Your A entity is incorrectly mapping &quot;id_a&quot; in the B table multiple times. Assuming you want your B entity as it is so that it references A, A would need to look like:</p>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @OneToMany(mappedBy=&quot;a&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;B&gt; firstValuesB;\n}\n</code></pre>\n<p>Now when you save(a) you'll have to remember that B.a controls the foreign key and must be set or the fk will be null:</p>\n<pre><code>A a = new A();\nB b = new B();\nb.setA(a);\na.setFirstValuesB(new ArrayList()).add(b);\nsave(a);\n</code></pre>\n<p>Both sides should be set in your relationship to match what it is in the database or you will run into issues.</p>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77081979,"answer_count":1,"score":0,"last_activity_date":1694438179,"creation_date":1694434945,"question_id":77081584,"body_markdown":"I want to create One to many relation with 2 different objects. E.g:\r\nHere is class A\r\n```java\r\n@Setter\r\n@Getter\r\n@Builder\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;id_a&quot;)\r\n\tprivate List&lt;B&gt; firstValuesB;\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;id_a&quot;)\r\n\tprivate List&lt;B&gt; secondValuesB;\r\n\r\n}\r\n```\r\nHere is my B class\r\n```java\r\n@Setter @Getter @Builder\r\n@AllArgsConstructor @NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;b&quot;, schema = &quot;ibil&quot;)\r\npublic class B {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id_b&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer idB;\r\n\t\r\n\t@Column(name = &quot;period_begin&quot;)\r\n\tprivate Instant periodBegin;\r\n\r\n\t@Column(name = &quot;period_end&quot;)\r\n\tprivate Instant periodEnd;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_a&quot;)\r\n\tprivate A a;\r\n}\r\n```\r\n\r\nHere you can see my table\r\n```sql\r\nCREATE TABLE `b` (\r\n  `id_b` int unsigned NOT NULL AUTO_INCREMENT,\r\n  `period_begin` datetime NOT NULL,\r\n  `period_end` datetime NOT NULL,\r\n  `type` varchar(25) DEFAULT NULL,\r\n  `id_a` varchar(36) DEFAULT NULL,\r\n  PRIMARY KEY (`id_b`),\r\n  KEY `fk_b_a` (`id_a`),\r\n  CONSTRAINT `fk_b_a` FOREIGN KEY (`id_a`) REFERENCES `a` (`id`)\r\n);\r\n```\r\n\r\n\r\nWhen I save class a with `aRepository.save(a)` It&#39;s correct for the first time. When I update periodBegin or periodEnd, then id_a become null. What might be the problem? ","title":"One to many relation null value after update","body":"<p>I want to create One to many relation with 2 different objects. E.g:\nHere is class A</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@Builder\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;a&quot;)\npublic class A {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_a&quot;)\n    private List&lt;B&gt; firstValuesB;\n    \n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_a&quot;)\n    private List&lt;B&gt; secondValuesB;\n\n}\n</code></pre>\n<p>Here is my B class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter @Getter @Builder\n@AllArgsConstructor @NoArgsConstructor\n@Entity\n@Table(name = &quot;b&quot;, schema = &quot;ibil&quot;)\npublic class B {\n\n    @Id\n    @Column(name = &quot;id_b&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer idB;\n    \n    @Column(name = &quot;period_begin&quot;)\n    private Instant periodBegin;\n\n    @Column(name = &quot;period_end&quot;)\n    private Instant periodEnd;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_a&quot;)\n    private A a;\n}\n</code></pre>\n<p>Here you can see my table</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `b` (\n  `id_b` int unsigned NOT NULL AUTO_INCREMENT,\n  `period_begin` datetime NOT NULL,\n  `period_end` datetime NOT NULL,\n  `type` varchar(25) DEFAULT NULL,\n  `id_a` varchar(36) DEFAULT NULL,\n  PRIMARY KEY (`id_b`),\n  KEY `fk_b_a` (`id_a`),\n  CONSTRAINT `fk_b_a` FOREIGN KEY (`id_a`) REFERENCES `a` (`id`)\n);\n</code></pre>\n<p>When I save class a with <code>aRepository.save(a)</code> It's correct for the first time. When I update periodBegin or periodEnd, then id_a become null. What might be the problem?</p>\n"},{"tags":["java","algorithm","binary-search-tree","binary-search"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694406240,"creation_date":1694406240,"answer_id":77078902,"question_id":77078766,"body_markdown":"Disgusting mistake, we usually don&#39;t look at simple initialization twice ;) and I&#39;ve been going through main algo body first. But debugging would help.\r\n\r\nReplace\r\n\r\n    int left = nums[0];\r\nwith\r\n\r\n    int left = 0;","title":"Search in Rotated Sorted Array","body":"<p>Disgusting mistake, we usually don't look at simple initialization twice ;) and I've been going through main algo body first. But debugging would help.</p>\n<p>Replace</p>\n<pre><code>int left = nums[0];\n</code></pre>\n<p>with</p>\n<pre><code>int left = 0;\n</code></pre>\n"}],"owner":{"account_id":8207346,"reputation":95,"user_id":6176660,"accept_rate":75,"display_name":"nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77078902,"answer_count":1,"score":0,"last_activity_date":1694437852,"creation_date":1694402925,"question_id":77078766,"body_markdown":"Problem statement:\r\n\r\n&gt; There is an integer array nums sorted in ascending order (with distinct values).\r\nPrior to being passed to your function, nums is possibly rotated at an unknown pivot index k (1 &lt;= k &lt; nums.length) such that the resulting array is [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]] (0-indexed). For example, [0,1,2,4,5,6,7] might be rotated at pivot index 3 and become [4,5,6,7,0,1,2].\r\nGiven the array nums after the possible rotation and an integer target, return the index of target if it is in nums, or -1 if it is not in nums.\r\nYou must write an algorithm with O(log n) runtime complexity.\r\n\r\nI have written the exact similar code given in submissions for the problem, but, it fails for one of my output. I am unable to find the reason. Am I missing some logic?\r\n\r\n    class Solution {\r\n        public int search(int[] nums, int target) {\r\n            int left = nums[0];\r\n            int right = nums.length - 1;\r\n            while (left &lt;= right) {\r\n                int mid = (left + right) / 2;\r\n                if (target == nums[mid]) {\r\n                    return mid;\r\n                } else {\r\n                    // if left sorted\r\n                    if (nums[left] &lt;= nums[mid]) {\r\n                        if (nums[left] &lt;= target &amp;&amp; target &lt; nums[mid]) {\r\n                            right = mid - 1;\r\n                        } else {\r\n                            left = mid + 1;\r\n                        }\r\n                    } else {\r\n                        // else right sorted\r\n                        if (nums[mid] &lt; target &amp;&amp; target &lt;= nums[right]) {\r\n                            left = mid + 1;\r\n                        } else {\r\n                            right = mid - 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n\r\nThe code fails to provide output for\r\n`nums = [6,7,1,2,3,4,5]` and `target = 7`.\r\n\r\nExpected output is `1`, actual output is `-1`.","title":"Search in Rotated Sorted Array","body":"<p>Problem statement:</p>\n<blockquote>\n<p>There is an integer array nums sorted in ascending order (with distinct values).\nPrior to being passed to your function, nums is possibly rotated at an unknown pivot index k (1 &lt;= k &lt; nums.length) such that the resulting array is [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]] (0-indexed). For example, [0,1,2,4,5,6,7] might be rotated at pivot index 3 and become [4,5,6,7,0,1,2].\nGiven the array nums after the possible rotation and an integer target, return the index of target if it is in nums, or -1 if it is not in nums.\nYou must write an algorithm with O(log n) runtime complexity.</p>\n</blockquote>\n<p>I have written the exact similar code given in submissions for the problem, but, it fails for one of my output. I am unable to find the reason. Am I missing some logic?</p>\n<pre><code>class Solution {\n    public int search(int[] nums, int target) {\n        int left = nums[0];\n        int right = nums.length - 1;\n        while (left &lt;= right) {\n            int mid = (left + right) / 2;\n            if (target == nums[mid]) {\n                return mid;\n            } else {\n                // if left sorted\n                if (nums[left] &lt;= nums[mid]) {\n                    if (nums[left] &lt;= target &amp;&amp; target &lt; nums[mid]) {\n                        right = mid - 1;\n                    } else {\n                        left = mid + 1;\n                    }\n                } else {\n                    // else right sorted\n                    if (nums[mid] &lt; target &amp;&amp; target &lt;= nums[right]) {\n                        left = mid + 1;\n                    } else {\n                        right = mid - 1;\n                    }\n                }\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>The code fails to provide output for\n<code>nums = [6,7,1,2,3,4,5]</code> and <code>target = 7</code>.</p>\n<p>Expected output is <code>1</code>, actual output is <code>-1</code>.</p>\n"},{"tags":["java","javafx-8"],"comments":[{"owner":{"account_id":2258167,"reputation":2376,"user_id":1988874,"display_name":"Cyrille Pontvieux"},"score":0,"creation_date":1466090437,"post_id":37854318,"comment_id":63183695,"body_markdown":"Can you use multiple `fx:define` tags? Is so maybe try to see if one can see the definition made in the former.","body":"Can you use multiple <code>fx:define</code> tags? Is so maybe try to see if one can see the definition made in the former."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1466091924,"post_id":37854318,"comment_id":63184789,"body_markdown":"@Cyrille_Pontvieux Yes we can, and i tried, but it changes nothing, It is much like multiple declaration of define block, with the same variable declaration, but if only I knewed where the implementation of &quot;fx:define&quot; is, I could try to debug.","body":"@Cyrille_Pontvieux Yes we can, and i tried, but it changes nothing, It is much like multiple declaration of define block, with the same variable declaration, but if only I knewed where the implementation of &quot;fx:define&quot; is, I could try to debug."}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1578404786,"creation_date":1578404786,"answer_id":59629656,"question_id":37854318,"body_markdown":"Too late bute this might be helpful for somebody. When you use `&lt;Double fx:id=&quot;width&quot; fx:value=&quot;300&quot;/&gt;` inside a `&lt;fx:define&gt;` block, FMXLLoader goes the declared type, `Double` in this case, and tries to call the method `Double.valueOf(&quot;300&quot;)` and this works since this call returns a `Double` object with the value of 300.\r\nWhen you use `&lt;Double fx:id=&quot;width&quot; fx:value=&quot;${300*m.dp}&quot;/&gt;`, a `NumberFormatException` will be thrown since the value &quot;${300*m.dp}&quot; doesn&#39;t represent a valid double value.\r\n\r\nFXMLLoader evaluates the expressions that start with &quot;${&quot; only when the type is observable.\r\nIn order to bind a value to another in FXML, both of them should be observable properties. In your case, you can add the following property to `Measurement` class:\r\n```java\r\npublic class Measurement {\r\n    public final DoubleProperty dp = new SimpleDoubleProperty();\r\n\r\n    public Measurement() {\r\n        Screen primary = Screen.getPrimary();\r\n        dp.set(primary.getBounds().getWidth() / 1920.0);\r\n    }\r\n\r\n    public double getDp() {\r\n        return dp.get();\r\n    }\r\n\r\n    public void setDp(double dp) {\r\n        this.dp.set(dp);\r\n    }\r\n\r\n    public final DoubleProperty widthProperty() {\r\n        if (width == null) {\r\n            width = new SimpleDoubleProperty();\r\n            width.bind(dp.multiply(300.0));\r\n        }\r\n        return width;\r\n    }\r\n\r\n    private DoubleProperty width;\r\n\r\n    public final double getWidth() {\r\n        return width == null ? 0 : width.get();\r\n    }\r\n}\r\n```\r\n\r\nAnd then use it like this in your FXML:\r\n\r\n```xml\r\n&lt;fx:define&gt;\r\n    &lt;Measurement fx:id=&quot;measurement&quot;/&gt;\r\n&lt;/fx:define&gt;\r\n&lt;Button prefWidth=&quot;${measurement.width}&quot; /&gt;\r\n```\r\n\r\n**Note:** IMHO, I don&#39;t think you need to make `Measurement` class instantiatable. There is no meaning of repeating the same measures and create a new instances in every FXML file. An alternative solution would be a class with a private constructor that holds static properties and used in FXML by calling `&lt;fx:factory&gt;` or `&lt;fx:constant&gt;`.","title":"JavaFX: Is it possible to use variable resolution in &quot;fx:define&quot;","body":"<p>Too late bute this might be helpful for somebody. When you use <code>&lt;Double fx:id=\"width\" fx:value=\"300\"/&gt;</code> inside a <code>&lt;fx:define&gt;</code> block, FMXLLoader goes the declared type, <code>Double</code> in this case, and tries to call the method <code>Double.valueOf(\"300\")</code> and this works since this call returns a <code>Double</code> object with the value of 300.\nWhen you use <code>&lt;Double fx:id=\"width\" fx:value=\"${300*m.dp}\"/&gt;</code>, a <code>NumberFormatException</code> will be thrown since the value \"${300*m.dp}\" doesn't represent a valid double value.</p>\n\n<p>FXMLLoader evaluates the expressions that start with \"${\" only when the type is observable.\nIn order to bind a value to another in FXML, both of them should be observable properties. In your case, you can add the following property to <code>Measurement</code> class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Measurement {\n    public final DoubleProperty dp = new SimpleDoubleProperty();\n\n    public Measurement() {\n        Screen primary = Screen.getPrimary();\n        dp.set(primary.getBounds().getWidth() / 1920.0);\n    }\n\n    public double getDp() {\n        return dp.get();\n    }\n\n    public void setDp(double dp) {\n        this.dp.set(dp);\n    }\n\n    public final DoubleProperty widthProperty() {\n        if (width == null) {\n            width = new SimpleDoubleProperty();\n            width.bind(dp.multiply(300.0));\n        }\n        return width;\n    }\n\n    private DoubleProperty width;\n\n    public final double getWidth() {\n        return width == null ? 0 : width.get();\n    }\n}\n</code></pre>\n\n<p>And then use it like this in your FXML:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fx:define&gt;\n    &lt;Measurement fx:id=\"measurement\"/&gt;\n&lt;/fx:define&gt;\n&lt;Button prefWidth=\"${measurement.width}\" /&gt;\n</code></pre>\n\n<p><strong>Note:</strong> IMHO, I don't think you need to make <code>Measurement</code> class instantiatable. There is no meaning of repeating the same measures and create a new instances in every FXML file. An alternative solution would be a class with a private constructor that holds static properties and used in FXML by calling <code>&lt;fx:factory&gt;</code> or <code>&lt;fx:constant&gt;</code>.</p>\n"}],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59629656,"answer_count":1,"score":5,"last_activity_date":1694437633,"creation_date":1466067137,"question_id":37854318,"body_markdown":"I am trying to define dynamic evaluated variables with fx:define, but I can&#39;t get a variable to be evaluated from another one, I don&#39;t know if it&#39;s even possible?\r\n\r\n    &lt;GridPane hgap=&quot;${10*m.dp}&quot; vgap=&quot;${10*m.dp}&quot; xmlns=&quot;http://javafx.com/javafx/8.0.51&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    \t&lt;fx:define&gt;\r\n    \t\t&lt;Measurement fx:id=&quot;m&quot; /&gt;\r\n    \t\t&lt;!-- This works, but is not what I need --&gt;\r\n    \t\t&lt;Double fx:id=&quot;width&quot; fx:value=&quot;300&quot; /&gt;\r\n    \t\t&lt;!-- This doesn&#39;t work  \r\n     \t\t&lt;Double fx:id=&quot;width&quot; fx:value=&quot;${300*m.dp}&quot; /&gt; --&gt;\r\n    \t&lt;/fx:define&gt;\r\n    \t&lt;padding&gt;\r\n    \t\t&lt;Insets bottom=&quot;$width&quot; left=&quot;$width&quot; right=&quot;$width&quot; top=&quot;$width&quot; /&gt;\r\n    \t&lt;/padding&gt;\r\n    \t&lt;Text text=&quot;hello&quot; /&gt;\r\n    \t&lt;Button GridPane.rowIndex=&quot;1&quot; text=&quot;button&quot; prefWidth=&quot;${300*m.dp}&quot; /&gt;\r\n    \t&lt;Button GridPane.rowIndex=&quot;2&quot; text=&quot;button2&quot; prefWidth=&quot;$width&quot; /&gt;\r\n    &lt;/GridPane&gt;\r\n\r\nWhat I want here is to compute the width from my computed dp (Density independent pixel - value is 1 in HD screen, 2 in 4K screen, 0.xx on my 1600px width screen). The &quot;width&quot; variable I want is to be used in very many component in my real case, this is why I wanted a variable - for concision.\r\n\r\nThe java code to run it\r\n\r\n    public class Measurement {\r\n      private double dp;\r\n      \r\n      public Measurement(){\r\n        Screen primary = Screen.getPrimary();\r\n        dp=primary.getBounds().getWidth()/1920;\r\n      }\r\n      \r\n      /** \r\n       * Equivalent of 1 px in 1920. \r\n       */\r\n      public double getDp(){\r\n        return dp;\r\n      }\r\n      \r\n      public void setDp (double dp) {\r\n        this.dp = dp;\r\n      }\r\n    \r\n    }\r\n    public class MApplication extends Application {\r\n      public static void main (String[] args) {\r\n        launch (args);\r\n      }\r\n    \r\n      @Override\r\n      public void start (Stage primaryStage) throws Exception {\r\n        FXMLLoader fxmlLoader = new FXMLLoader();\r\n        Parent root = fxmlLoader.load(getClass().getResource(&quot;index.fxml&quot;).openStream());\r\n        Scene scene = new Scene(root, 300, 275);\r\n        primaryStage.setMaximized(true);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show ();\r\n      }\r\n      \r\n    \r\n    }\r\n\r\nActually, it s not clear to me which and where expression can be used, I see many answers here :https://stackoverflow.com/questions/29284004/is-it-possible-to-use-arithmetic-expression-in-fxml\r\n\r\nhere:https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx \r\n\r\nand here:\r\nhttp://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#expression_binding\r\n\r\nI don&#39;t understand in which case I can use the expression language,is there a specification?\r\n\r\nEdited: I adedd a Link to javafx-8 documentation, And I removed my obsolete comment on javaFX-2","title":"JavaFX: Is it possible to use variable resolution in &quot;fx:define&quot;","body":"<p>I am trying to define dynamic evaluated variables with fx:define, but I can't get a variable to be evaluated from another one, I don't know if it's even possible?</p>\n<pre><code>&lt;GridPane hgap=&quot;${10*m.dp}&quot; vgap=&quot;${10*m.dp}&quot; xmlns=&quot;http://javafx.com/javafx/8.0.51&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;fx:define&gt;\n        &lt;Measurement fx:id=&quot;m&quot; /&gt;\n        &lt;!-- This works, but is not what I need --&gt;\n        &lt;Double fx:id=&quot;width&quot; fx:value=&quot;300&quot; /&gt;\n        &lt;!-- This doesn't work  \n        &lt;Double fx:id=&quot;width&quot; fx:value=&quot;${300*m.dp}&quot; /&gt; --&gt;\n    &lt;/fx:define&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;$width&quot; left=&quot;$width&quot; right=&quot;$width&quot; top=&quot;$width&quot; /&gt;\n    &lt;/padding&gt;\n    &lt;Text text=&quot;hello&quot; /&gt;\n    &lt;Button GridPane.rowIndex=&quot;1&quot; text=&quot;button&quot; prefWidth=&quot;${300*m.dp}&quot; /&gt;\n    &lt;Button GridPane.rowIndex=&quot;2&quot; text=&quot;button2&quot; prefWidth=&quot;$width&quot; /&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p>What I want here is to compute the width from my computed dp (Density independent pixel - value is 1 in HD screen, 2 in 4K screen, 0.xx on my 1600px width screen). The &quot;width&quot; variable I want is to be used in very many component in my real case, this is why I wanted a variable - for concision.</p>\n<p>The java code to run it</p>\n<pre><code>public class Measurement {\n  private double dp;\n  \n  public Measurement(){\n    Screen primary = Screen.getPrimary();\n    dp=primary.getBounds().getWidth()/1920;\n  }\n  \n  /** \n   * Equivalent of 1 px in 1920. \n   */\n  public double getDp(){\n    return dp;\n  }\n  \n  public void setDp (double dp) {\n    this.dp = dp;\n  }\n\n}\npublic class MApplication extends Application {\n  public static void main (String[] args) {\n    launch (args);\n  }\n\n  @Override\n  public void start (Stage primaryStage) throws Exception {\n    FXMLLoader fxmlLoader = new FXMLLoader();\n    Parent root = fxmlLoader.load(getClass().getResource(&quot;index.fxml&quot;).openStream());\n    Scene scene = new Scene(root, 300, 275);\n    primaryStage.setMaximized(true);\n    primaryStage.setScene(scene);\n    primaryStage.show ();\n  }\n  \n\n}\n</code></pre>\n<p>Actually, it s not clear to me which and where expression can be used, I see many answers here :<a href=\"https://stackoverflow.com/questions/29284004/is-it-possible-to-use-arithmetic-expression-in-fxml\">Is it possible to use arithmetic expression in FXML?</a></p>\n<p>here:<a href=\"https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx\">Bind Font Size in JavaFX?</a></p>\n<p>and here:\n<a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#expression_binding\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#expression_binding</a></p>\n<p>I don't understand in which case I can use the expression language,is there a specification?</p>\n<p>Edited: I adedd a Link to javafx-8 documentation, And I removed my obsolete comment on javaFX-2</p>\n"},{"tags":["java","android","usb","point-of-sale","thermal-printer"],"comments":[{"owner":{"account_id":1922771,"reputation":344,"user_id":1733864,"accept_rate":50,"display_name":"RaymondMachira"},"score":0,"creation_date":1384046199,"post_id":16906227,"comment_id":29580504,"body_markdown":"Hey, What did you end up doing?","body":"Hey, What did you end up doing?"}],"answers":[{"tags":[],"owner":{"account_id":262013,"reputation":396,"user_id":546593,"accept_rate":50,"display_name":"fr4gus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370299665,"creation_date":1370299665,"answer_id":16907093,"question_id":16906227,"body_markdown":"My 2 cents. I did an app that can print from Android(Bluetooth) to a Zebra printer. Bases on our search, it depends more on your printer provider. We couldn&#39;t find a &quot;library&quot; that can print to any printer. \r\nThat&#39;s whay we went for Zebra printers, since they support Android. I&#39;m not sure if Epson does provide Android libraries to use with their printers.","title":"Integrate USB POS printer with app from Android tablet","body":"<p>My 2 cents. I did an app that can print from Android(Bluetooth) to a Zebra printer. Bases on our search, it depends more on your printer provider. We couldn't find a \"library\" that can print to any printer. \nThat's whay we went for Zebra printers, since they support Android. I'm not sure if Epson does provide Android libraries to use with their printers.</p>\n"},{"tags":[],"owner":{"account_id":2989114,"reputation":1,"user_id":2537114,"display_name":"bil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372620754,"creation_date":1372620754,"answer_id":17394101,"question_id":16906227,"body_markdown":"i think the problem with epson api is that it only supports ARMv5TE architecture, I am not sure which tablet you are using, but if the tablet&#39;s processor is not ARMv5TE based then I dont think the printers will work, I havent looked at any of the zebra printers, or star for that matter but i assume their apis also must have some limitations in terms of what architecture they support. \r\non that note Epson should release api for ARMv7 and ARMv8 all variants now as thats those are the latest chips and will be most widely used in the coming months.","title":"Integrate USB POS printer with app from Android tablet","body":"<p>i think the problem with epson api is that it only supports ARMv5TE architecture, I am not sure which tablet you are using, but if the tablet's processor is not ARMv5TE based then I dont think the printers will work, I havent looked at any of the zebra printers, or star for that matter but i assume their apis also must have some limitations in terms of what architecture they support. \non that note Epson should release api for ARMv7 and ARMv8 all variants now as thats those are the latest chips and will be most widely used in the coming months.</p>\n"},{"tags":[],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545673542,"creation_date":1545362849,"answer_id":53878811,"question_id":16906227,"body_markdown":"As far I know, Epson have specific documentation about SDK API for mobile, you can find it in here [EPSON SDK API][1]. They provide useful information about specific device requirement and support printer.\r\n\r\n\r\n  [1]: https://reference.epson-biz.com/modules/ref_epos_sdk_and_en/index.php?content_id=113","title":"Integrate USB POS printer with app from Android tablet","body":"<p>As far I know, Epson have specific documentation about SDK API for mobile, you can find it in here <a href=\"https://reference.epson-biz.com/modules/ref_epos_sdk_and_en/index.php?content_id=113\" rel=\"nofollow noreferrer\">EPSON SDK API</a>. They provide useful information about specific device requirement and support printer.</p>\n"}],"owner":{"account_id":411010,"reputation":65,"user_id":783188,"accept_rate":38,"display_name":"Kofi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694437580,"creation_date":1370295328,"question_id":16906227,"body_markdown":"My goal is to integrate a USB POS thermal printer with a small demo Android app that I will using from an Android tablet.\r\n\r\nI have two POS printers:\r\n\r\n - Epson TM-T88III\r\n - POS-5870\r\n\r\nI also have a Sanei N10 tablet that I am connecting to the POS printer via a USB OTG dongle cable.\r\n\r\nI downloaded the USB Host Diagnostic (from Google Play Store) to see if it would recognize the POS printers that I connected to the tablet. It recognized both printers, however the EPSON TM-T88III was recognized on the Android OS level while the POS-5870 was recognized only on the kernel level.\r\n\r\nI also tried using the USB Printer Driver 2.1 DevEd app (from the Google Play store), however I couldn&#39;t set the any of the printers as the default printer to use.\r\n\r\nI also tried using the POS Printer Driver (ESC) app (from the Google Play store), however, it couldn&#39;t connect with the printers.\r\n\r\n\r\nI was wondering if there is any way I can get the POS printers connected to my Android tablet and perform a test print? In addition, is there any SDKs/source code that I can use to detect and perform a test print?\r\n\r\n\r\n ","title":"Integrate USB POS printer with app from Android tablet","body":"<p>My goal is to integrate a USB POS thermal printer with a small demo Android app that I will using from an Android tablet.</p>\n\n<p>I have two POS printers:</p>\n\n<ul>\n<li>Epson TM-T88III</li>\n<li>POS-5870</li>\n</ul>\n\n<p>I also have a Sanei N10 tablet that I am connecting to the POS printer via a USB OTG dongle cable.</p>\n\n<p>I downloaded the USB Host Diagnostic (from Google Play Store) to see if it would recognize the POS printers that I connected to the tablet. It recognized both printers, however the EPSON TM-T88III was recognized on the Android OS level while the POS-5870 was recognized only on the kernel level.</p>\n\n<p>I also tried using the USB Printer Driver 2.1 DevEd app (from the Google Play store), however I couldn't set the any of the printers as the default printer to use.</p>\n\n<p>I also tried using the POS Printer Driver (ESC) app (from the Google Play store), however, it couldn't connect with the printers.</p>\n\n<p>I was wondering if there is any way I can get the POS printers connected to my Android tablet and perform a test print? In addition, is there any SDKs/source code that I can use to detect and perform a test print?</p>\n"},{"tags":["java","validation","email","keycloak"],"owner":{"account_id":10996616,"reputation":35,"user_id":8078590,"display_name":"Mihai Borbea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694437534,"creation_date":1694437534,"question_id":77081913,"body_markdown":"Is there any setting i have to make for Keycloak to deny emails like &quot;email@withoutdomain&quot; (no dot)?\r\nI tried some but it looks like it is still accepting these type of emails. I need to make sure it is respecting an RFC regarding email addresses.\r\nThanks!","title":"Keycloak accepts email without domain name for user registration","body":"<p>Is there any setting i have to make for Keycloak to deny emails like &quot;email@withoutdomain&quot; (no dot)?\nI tried some but it looks like it is still accepting these type of emails. I need to make sure it is respecting an RFC regarding email addresses.\nThanks!</p>\n"},{"tags":["java","spring","forms","jsp","model-view-controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694417859,"post_id":77077223,"comment_id":135883254,"body_markdown":"You should send the request through JS not modify the form action. Because the GET will always add the parameters to the URL. So instead of rewriting the URL in the form you should be using `fetch` to send the request (and return `false` from your JS function to prevent the default from happening).","body":"You should send the request through JS not modify the form action. Because the GET will always add the parameters to the URL. So instead of rewriting the URL in the form you should be using <code>fetch</code> to send the request (and return <code>false</code> from your JS function to prevent the default from happening)."}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694437394,"creation_date":1694371555,"answer_id":77077469,"question_id":77077223,"body_markdown":"Why are you adding `username` in `path variable` ? \r\nI think you can remove `onSubmit` attribute and for `action` add `/profile` and make your http verb to post in `form` and `controller` . \r\nYou can create an object called `profile` that has a field called `username`;\r\nIn your `controller` in inputs add \r\n\r\n    @ModelAttribute(&quot;profile&quot;) Profile profile;\r\n\r\nthen you can get `username` in `profile` sth like this : \r\n\r\n    @PostMapping (&quot;/profile&quot;)\r\n    public String profile(@ModelAttribute(&quot;profile&quot;) Profile profile) {\r\n\r\n","title":"Spring MVC Java why are extra request params being added to my url?","body":"<p>Why are you adding <code>username</code> in <code>path variable</code> ?\nI think you can remove <code>onSubmit</code> attribute and for <code>action</code> add <code>/profile</code> and make your http verb to post in <code>form</code> and <code>controller</code> .\nYou can create an object called <code>profile</code> that has a field called <code>username</code>;\nIn your <code>controller</code> in inputs add</p>\n<pre><code>@ModelAttribute(&quot;profile&quot;) Profile profile;\n</code></pre>\n<p>then you can get <code>username</code> in <code>profile</code> sth like this :</p>\n<pre><code>@PostMapping (&quot;/profile&quot;)\npublic String profile(@ModelAttribute(&quot;profile&quot;) Profile profile) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694373444,"creation_date":1694372693,"answer_id":77077526,"question_id":77077223,"body_markdown":"If you don&#39;t pass any parameter in the url then you should not submit the form. Just return `false` from the onsubmit function. This will prevent form submission or use a button `type=&quot;button&quot;` with onclick event handler. Then use redirect directly to the url specified.\r\n```\r\n&lt;script&gt;\r\n  function updateFormAction() {\r\n     var username = document.getElementById(&quot;usernameInput&quot;).value;\r\n     window.location.href = &quot;/profile/&quot; + username;\r\n     return false;\r\n  }\r\n&lt;/script&gt;\r\n```","title":"Spring MVC Java why are extra request params being added to my url?","body":"<p>If you don't pass any parameter in the url then you should not submit the form. Just return <code>false</code> from the onsubmit function. This will prevent form submission or use a button <code>type=&quot;button&quot;</code> with onclick event handler. Then use redirect directly to the url specified.</p>\n<pre><code>&lt;script&gt;\n  function updateFormAction() {\n     var username = document.getElementById(&quot;usernameInput&quot;).value;\n     window.location.href = &quot;/profile/&quot; + username;\n     return false;\n  }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":28527925,"reputation":11,"user_id":21835755,"display_name":"sebbington"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694437394,"creation_date":1694366982,"question_id":77077223,"body_markdown":"I have a website, called `website.com`. I have a form which looks like this:\r\n\r\n\r\n```\r\n&lt;form:form method=&quot;get&quot; id=&quot;profileForm&quot; modelAttribute=&quot;profile&quot; onsubmit=&quot;updateFormAction()&quot;&gt;\r\n                    &lt;form:label path=&quot;username&quot;&gt;Name&lt;/form:label&gt;\r\n                    &lt;form:input path=&quot;username&quot; id=&quot;usernameInput&quot;/&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n                &lt;/form:form&gt;\r\n\r\n                &lt;script&gt;\r\n                    function updateFormAction() {\r\n                        var username = document.getElementById(&quot;usernameInput&quot;).value;\r\n                        var form = document.getElementById(&quot;profileForm&quot;);\r\n                        form.action = &quot;/profile/&quot; + username;\r\n                    }\r\n                &lt;/script&gt;\r\n\r\n\r\n```\r\n\r\nWhat the form url should look like is this: `website.com/profile/username123`\r\n\r\nHowever, it is processing it as `website.com/profile/username123?username=username123`\r\n\r\nThis is my web controller mapping method:\r\n```\r\n@GetMapping (&quot;/profile/{username}&quot;)\r\n    public String profile(@PathVariable(&quot;username&quot;) String name, Model model, RestTemplate restTemplate) throws JsonProcessingException {\r\n```\r\n\r\n\r\n\r\nWhen I set `&lt;form method=&quot;post&quot;` it works. However, I do not want this behaviour, as I can only post that url through that form. I want to be able to search it via a link instead.\r\n\r\nI have tried `@ModelAttribute(&quot;username&quot;) String username`, however the url looks like `website.com/profile/?username=username123`\r\n\r\nAny ideas how I can fix this? Should I not be using a form, but a `button onsubmit` parameter instead?","title":"Spring MVC Java why are extra request params being added to my url?","body":"<p>I have a website, called <code>website.com</code>. I have a form which looks like this:</p>\n<pre><code>&lt;form:form method=&quot;get&quot; id=&quot;profileForm&quot; modelAttribute=&quot;profile&quot; onsubmit=&quot;updateFormAction()&quot;&gt;\n                    &lt;form:label path=&quot;username&quot;&gt;Name&lt;/form:label&gt;\n                    &lt;form:input path=&quot;username&quot; id=&quot;usernameInput&quot;/&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\n                &lt;/form:form&gt;\n\n                &lt;script&gt;\n                    function updateFormAction() {\n                        var username = document.getElementById(&quot;usernameInput&quot;).value;\n                        var form = document.getElementById(&quot;profileForm&quot;);\n                        form.action = &quot;/profile/&quot; + username;\n                    }\n                &lt;/script&gt;\n\n\n</code></pre>\n<p>What the form url should look like is this: <code>website.com/profile/username123</code></p>\n<p>However, it is processing it as <code>website.com/profile/username123?username=username123</code></p>\n<p>This is my web controller mapping method:</p>\n<pre><code>@GetMapping (&quot;/profile/{username}&quot;)\n    public String profile(@PathVariable(&quot;username&quot;) String name, Model model, RestTemplate restTemplate) throws JsonProcessingException {\n</code></pre>\n<p>When I set <code>&lt;form method=&quot;post&quot;</code> it works. However, I do not want this behaviour, as I can only post that url through that form. I want to be able to search it via a link instead.</p>\n<p>I have tried <code>@ModelAttribute(&quot;username&quot;) String username</code>, however the url looks like <code>website.com/profile/?username=username123</code></p>\n<p>Any ideas how I can fix this? Should I not be using a form, but a <code>button onsubmit</code> parameter instead?</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1488438116,"creation_date":1488438116,"answer_id":42548820,"question_id":42542557,"body_markdown":"You can to this by writing your own custom implementation of `Formatter &amp; Reporter` interface. The empty implementation of `Formatter` is the `NullFormatter.java` which you can extend. You will need to provide implementations for the `Reporter` interface.\r\n\r\nThe methods which would be of interest will be the `result()` of the Reporter interface and possibly the `done()` method of Formatter. The result() has the `Result` object which has the exceptions.\r\n\r\nYou can look at `RerunFormatter.java` for clarity.\r\n\r\n[Github Formatter source][1]\r\n\r\n    public void result(Result result) {\r\n          //Code to create logs or store to a database etc...\r\n          result.getError();\r\n          result.getErrorMessage();\r\n    }\r\n\r\nYou will need to add this class(com.myimpl.CustomFormRep) to the plugin option.\r\n\r\n    plugin={&quot;pretty&quot;, &quot;html:report&quot;, &quot;json:reports.json&quot;,&quot;rerun:target/rerun.txt&quot;,com.myimpl.CustomFormRep}\r\n\r\n[More details on custom formatters.][2]\r\n\r\nYou can use the rerun plugin to get a list of failed scenarios to run again. Not sure about scheduling a run of failed tests, code to create a batch job or schedule one on your CI tool.\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/master/core/src/main/java/cucumber/runtime/formatter\r\n  [2]: http://automationrhapsody.com/create-cucumber-jvm-custom-formatter/","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>You can to this by writing your own custom implementation of <code>Formatter &amp; Reporter</code> interface. The empty implementation of <code>Formatter</code> is the <code>NullFormatter.java</code> which you can extend. You will need to provide implementations for the <code>Reporter</code> interface.</p>\n\n<p>The methods which would be of interest will be the <code>result()</code> of the Reporter interface and possibly the <code>done()</code> method of Formatter. The result() has the <code>Result</code> object which has the exceptions.</p>\n\n<p>You can look at <code>RerunFormatter.java</code> for clarity.</p>\n\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/master/core/src/main/java/cucumber/runtime/formatter\" rel=\"nofollow noreferrer\">Github Formatter source</a></p>\n\n<pre><code>public void result(Result result) {\n      //Code to create logs or store to a database etc...\n      result.getError();\n      result.getErrorMessage();\n}\n</code></pre>\n\n<p>You will need to add this class(com.myimpl.CustomFormRep) to the plugin option.</p>\n\n<pre><code>plugin={\"pretty\", \"html:report\", \"json:reports.json\",\"rerun:target/rerun.txt\",com.myimpl.CustomFormRep}\n</code></pre>\n\n<p><a href=\"http://automationrhapsody.com/create-cucumber-jvm-custom-formatter/\" rel=\"nofollow noreferrer\">More details on custom formatters.</a></p>\n\n<p>You can use the rerun plugin to get a list of failed scenarios to run again. Not sure about scheduling a run of failed tests, code to create a batch job or schedule one on your CI tool.</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592533554,"creation_date":1528170191,"answer_id":50691669,"question_id":42542557,"body_markdown":"If you just want to massage the result being sent to the report then you can extend the CucumberJSONFormatter and override the result method like this:\r\n\r\n```java\r\npublic class CustomReporter extends CucumberJSONFormatter {\r\n    \r\n    CustomReporter(Appendable out) {\r\n        super(out);\r\n    }\r\n    \r\n    /**\r\n     * Truncate the error in the output to the testresult.json file.\r\n     * @param result the error result\r\n    */\r\n    @Override\r\n    void result(Result result) {\r\n        String errorMessage = null;\r\n        if (result.error) {\r\n            errorMessage = &quot;Error: &quot; + truncateError(result.error);\r\n        }\r\n        Result myResult = new Result(result.status, result.duration, errorMessage);\r\n        // Log the truncated error to the JSON report\r\n        super.result(myResult);\r\n    }\r\n}\r\n```\r\n\r\nThen set the plugin option to:\r\n\r\n    plugin = [&quot;com.myimpl.CustomReporter:build/reports/json/testresult.json&quot;]\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>If you just want to massage the result being sent to the report then you can extend the CucumberJSONFormatter and override the result method like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomReporter extends CucumberJSONFormatter {\n\n    CustomReporter(Appendable out) {\n        super(out);\n    }\n\n    /**\n     * Truncate the error in the output to the testresult.json file.\n     * @param result the error result\n    */\n    @Override\n    void result(Result result) {\n        String errorMessage = null;\n        if (result.error) {\n            errorMessage = \"Error: \" + truncateError(result.error);\n        }\n        Result myResult = new Result(result.status, result.duration, errorMessage);\n        // Log the truncated error to the JSON report\n        super.result(myResult);\n    }\n}\n</code></pre>\n\n<p>Then set the plugin option to:</p>\n\n<pre><code>plugin = [\"com.myimpl.CustomReporter:build/reports/json/testresult.json\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1574773984,"creation_date":1535723820,"answer_id":52117066,"question_id":42542557,"body_markdown":"I&#39;ve implemented this method using reflections. You can&#39;t access directly to steps errors (stack trace). I&#39;ve created this static method which allows you to access to &quot;stepResults&quot; attribute and then you can iterate and get the error and do whatever you want.\r\n\r\n    import cucumber.runtime.ScenarioImpl; \r\n    import gherkin.formatter.model.Result;  \r\n    import org.apache.commons.lang3.reflect.FieldUtils;  \r\n    import java.lang.reflect.Field;  \r\n    import java.util.ArrayList;\r\n\r\n    @After\r\n    public void afterScenario(Scenario scenario) {\r\n      if (scenario.isFailed())\r\n        logError(scenario);\r\n    }\r\n\r\n\r\n    private static void logError(Scenario scenario) {\r\n       Field field = FieldUtils.getField(((ScenarioImpl) scenario).getClass(), &quot;stepResults&quot;, true);\r\n       field.setAccessible(true);\r\n       try {\r\n           ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) field.get(scenario);\r\n           for (Result result : results) {\r\n               if (result.getError() != null)\r\n                   LOGGER.error(&quot;Error Scenario: {}&quot;, scenario.getId(), result.getError());\r\n           }\r\n       } catch (Exception e) {\r\n           LOGGER.error(&quot;Error while logging error&quot;, e);\r\n       }\r\n    }","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>I've implemented this method using reflections. You can't access directly to steps errors (stack trace). I've created this static method which allows you to access to \"stepResults\" attribute and then you can iterate and get the error and do whatever you want.</p>\n\n<pre><code>import cucumber.runtime.ScenarioImpl; \nimport gherkin.formatter.model.Result;  \nimport org.apache.commons.lang3.reflect.FieldUtils;  \nimport java.lang.reflect.Field;  \nimport java.util.ArrayList;\n\n@After\npublic void afterScenario(Scenario scenario) {\n  if (scenario.isFailed())\n    logError(scenario);\n}\n\n\nprivate static void logError(Scenario scenario) {\n   Field field = FieldUtils.getField(((ScenarioImpl) scenario).getClass(), \"stepResults\", true);\n   field.setAccessible(true);\n   try {\n       ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) field.get(scenario);\n       for (Result result : results) {\n           if (result.getError() != null)\n               LOGGER.error(\"Error Scenario: {}\", scenario.getId(), result.getError());\n       }\n   } catch (Exception e) {\n       LOGGER.error(\"Error while logging error\", e);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571754782,"creation_date":1571754782,"answer_id":58506614,"question_id":42542557,"body_markdown":"This is the workaround for cucumber-java version `4.8.0` using reflection.\r\n\r\n    import cucumber.api.Result;\r\n    import io.cucumber.core.api.Scenario;\r\n    import io.cucumber.core.logging.Logger;\r\n    import io.cucumber.core.logging.LoggerFactory;\r\n    import io.cucumber.java.After;\r\n    import org.apache.commons.lang3.ClassUtils;\r\n    import org.apache.commons.lang3.reflect.FieldUtils;\r\n    \r\n    import java.io.IOException;\r\n    import java.lang.reflect.Field;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n\r\n    @After\r\n    public void afterScenario(Scenario scenario) throws IOException {\r\n        if(!scenario.getStatus().isOk(true)){\r\n            logError(scenario);\r\n        }\r\n    }\r\n\r\n    private static void logError(Scenario scenario) {\r\n        try {\r\n            Class clasz = ClassUtils.getClass(&quot;cucumber.runtime.java.JavaHookDefinition$ScenarioAdaptor&quot;);\r\n            Field fieldScenario = FieldUtils.getField(clasz, &quot;scenario&quot;, true);\r\n            fieldScenario.setAccessible(true);\r\n            Object objectScenario =  fieldScenario.get(scenario);\r\n\r\n            Field fieldStepResults = objectScenario.getClass().getDeclaredField(&quot;stepResults&quot;);\r\n            fieldStepResults.setAccessible(true);\r\n\r\n            ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) fieldStepResults.get(objectScenario);\r\n            for (Result result : results) {\r\n                if (result.getError() != null) {\r\n                    LOGGER.error(String.format(&quot;Error Scenario: %s&quot;, scenario.getId()), result.getError());\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error while logging error&quot;, e);\r\n        }\r\n    }","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>This is the workaround for cucumber-java version <code>4.8.0</code> using reflection.</p>\n\n<pre><code>import cucumber.api.Result;\nimport io.cucumber.core.api.Scenario;\nimport io.cucumber.core.logging.Logger;\nimport io.cucumber.core.logging.LoggerFactory;\nimport io.cucumber.java.After;\nimport org.apache.commons.lang3.ClassUtils;\nimport org.apache.commons.lang3.reflect.FieldUtils;\n\nimport java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.net.URL;\nimport java.util.ArrayList;\n\n@After\npublic void afterScenario(Scenario scenario) throws IOException {\n    if(!scenario.getStatus().isOk(true)){\n        logError(scenario);\n    }\n}\n\nprivate static void logError(Scenario scenario) {\n    try {\n        Class clasz = ClassUtils.getClass(\"cucumber.runtime.java.JavaHookDefinition$ScenarioAdaptor\");\n        Field fieldScenario = FieldUtils.getField(clasz, \"scenario\", true);\n        fieldScenario.setAccessible(true);\n        Object objectScenario =  fieldScenario.get(scenario);\n\n        Field fieldStepResults = objectScenario.getClass().getDeclaredField(\"stepResults\");\n        fieldStepResults.setAccessible(true);\n\n        ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) fieldStepResults.get(objectScenario);\n        for (Result result : results) {\n            if (result.getError() != null) {\n                LOGGER.error(String.format(\"Error Scenario: %s\", scenario.getId()), result.getError());\n            }\n        }\n    } catch (Exception e) {\n        LOGGER.error(\"Error while logging error\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572345478,"creation_date":1571829124,"answer_id":58521549,"question_id":42542557,"body_markdown":"For `cucumber-js` https://www.npmjs.com/package/cucumber/v/6.0.3\r\n\r\n    import { After } from &#39;cucumber&#39;\r\n\r\n    After(async function(scenario: any) {\r\n        const exception = scenario.result.exception\r\n        if (exception) {\r\n            this.logger.log({ level: &#39;error&#39;, message: &#39;-----------StackTrace-----------&#39; })\r\n            this.logger.log({ level: &#39;error&#39;, message: exception.stack })\r\n            this.logger.log({ level: &#39;error&#39;, message: &#39;-----------End-StackTrace-----------&#39; })\r\n        }\r\n    })\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NBAiC.png","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>For <code>cucumber-js</code> <a href=\"https://www.npmjs.com/package/cucumber/v/6.0.3\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/cucumber/v/6.0.3</a></p>\n\n<pre><code>import { After } from 'cucumber'\n\nAfter(async function(scenario: any) {\n    const exception = scenario.result.exception\n    if (exception) {\n        this.logger.log({ level: 'error', message: '-----------StackTrace-----------' })\n        this.logger.log({ level: 'error', message: exception.stack })\n        this.logger.log({ level: 'error', message: '-----------End-StackTrace-----------' })\n    }\n})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NBAiC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBAiC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3093096,"reputation":395,"user_id":2618850,"display_name":"Leo Hilbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582030946,"creation_date":1581680990,"answer_id":60225781,"question_id":42542557,"body_markdown":"After a lot of experimentation I now removed the Before/After-Annotations and rely on Cucumber-Events instead. They contain the `TestCase` (which is what the `Scenario`-class wraps) and a `Result` where you can call `getError();` to get the Throwable.\r\n\r\nHere is a simple example to get it working\r\n```\r\nimport io.cucumber.plugin.EventListener;\r\nimport io.cucumber.plugin.event.EventPublisher;\r\nimport io.cucumber.plugin.event.Result;\r\nimport io.cucumber.plugin.event.Status;\r\nimport io.cucumber.plugin.event.TestCase;\r\nimport io.cucumber.plugin.event.TestCaseFinished;\r\nimport io.cucumber.plugin.event.TestCaseStarted;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class TestCaseListener implements EventListener {\r\n    @Override\r\n    public void setEventPublisher(final EventPublisher publisher) {\r\n        publisher.registerHandlerFor(TestCaseStarted.class, this::onTestCaseStarted);\r\n        publisher.registerHandlerFor(TestCaseFinished.class, this::onTestCaseFinished);\r\n    }\r\n\r\n    public void onTestCaseStarted(TestCaseStarted event) {\r\n        TestCase testCase = event.getTestCase();\r\n        System.out.println(&quot;Starting &quot; + testCase.getName());\r\n\r\n        // Other stuff you did in your @Before-Method.\r\n        // ...\r\n    }\r\n\r\n    private void onTestCaseFinished(final TestCaseFinished event) {\r\n        TestCase testCase = event.getTestCase();\r\n        System.out.println(&quot;Finished &quot; + testCase.getName());\r\n\r\n        Result result = event.getResult();\r\n        if (result.getStatus() == Status.FAILED) {\r\n            final Throwable error = result.getError();\r\n            error.printStackTrace();\r\n        }\r\n\r\n        // Other stuff you did in your @After-Method.\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nAll that&#39;s left to do is to register this class as a Cucumber-Plugin.\r\nI did this by modifying my `@CucumberOptions`-annotation:\r\n```\r\n@CucumberOptions(plugin = {&quot;com.example.TestCaseListener&quot;})\r\n```\r\n\r\nI find this much cleaner than all of this reflection-madness, however it requires a lot more code-changes.\r\n\r\n**Edit**\r\n\r\nI don&#39;t know why, but this caused a lot of tests to randomly fail in a multithreaded environment.\r\nI tried to figure it out, but now also use the ugly reflections mentioned in this thread:\r\n\r\n    public class SeleniumUtils {\r\n    private static final Logger log = LoggerFactory.getLogger(SeleniumUtils.class);\r\n\r\n    private static final Field field = FieldUtils.getField(Scenario.class, &quot;delegate&quot;, true);\r\n    private static Method getError;\r\n\r\n    public static Throwable getError(Scenario scenario) {\r\n        try {\r\n            final TestCaseState testCase = (TestCaseState) field.get(scenario);\r\n            if (getError == null) {\r\n                getError = MethodUtils.getMatchingMethod(testCase.getClass(), &quot;getError&quot;);\r\n                getError.setAccessible(true);\r\n            }\r\n            return (Throwable) getError.invoke(testCase);\r\n        } catch (Exception e) {\r\n            log.warn(&quot;error receiving exception&quot;, e);\r\n        }\r\n        return null;\r\n    }\r\n    }","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>After a lot of experimentation I now removed the Before/After-Annotations and rely on Cucumber-Events instead. They contain the <code>TestCase</code> (which is what the <code>Scenario</code>-class wraps) and a <code>Result</code> where you can call <code>getError();</code> to get the Throwable.</p>\n\n<p>Here is a simple example to get it working</p>\n\n<pre><code>import io.cucumber.plugin.EventListener;\nimport io.cucumber.plugin.event.EventPublisher;\nimport io.cucumber.plugin.event.Result;\nimport io.cucumber.plugin.event.Status;\nimport io.cucumber.plugin.event.TestCase;\nimport io.cucumber.plugin.event.TestCaseFinished;\nimport io.cucumber.plugin.event.TestCaseStarted;\nimport org.openqa.selenium.WebDriver;\n\npublic class TestCaseListener implements EventListener {\n    @Override\n    public void setEventPublisher(final EventPublisher publisher) {\n        publisher.registerHandlerFor(TestCaseStarted.class, this::onTestCaseStarted);\n        publisher.registerHandlerFor(TestCaseFinished.class, this::onTestCaseFinished);\n    }\n\n    public void onTestCaseStarted(TestCaseStarted event) {\n        TestCase testCase = event.getTestCase();\n        System.out.println(\"Starting \" + testCase.getName());\n\n        // Other stuff you did in your @Before-Method.\n        // ...\n    }\n\n    private void onTestCaseFinished(final TestCaseFinished event) {\n        TestCase testCase = event.getTestCase();\n        System.out.println(\"Finished \" + testCase.getName());\n\n        Result result = event.getResult();\n        if (result.getStatus() == Status.FAILED) {\n            final Throwable error = result.getError();\n            error.printStackTrace();\n        }\n\n        // Other stuff you did in your @After-Method.\n        // ...\n    }\n}\n</code></pre>\n\n<p>All that's left to do is to register this class as a Cucumber-Plugin.\nI did this by modifying my <code>@CucumberOptions</code>-annotation:</p>\n\n<pre><code>@CucumberOptions(plugin = {\"com.example.TestCaseListener\"})\n</code></pre>\n\n<p>I find this much cleaner than all of this reflection-madness, however it requires a lot more code-changes.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I don't know why, but this caused a lot of tests to randomly fail in a multithreaded environment.\nI tried to figure it out, but now also use the ugly reflections mentioned in this thread:</p>\n\n<pre><code>public class SeleniumUtils {\nprivate static final Logger log = LoggerFactory.getLogger(SeleniumUtils.class);\n\nprivate static final Field field = FieldUtils.getField(Scenario.class, \"delegate\", true);\nprivate static Method getError;\n\npublic static Throwable getError(Scenario scenario) {\n    try {\n        final TestCaseState testCase = (TestCaseState) field.get(scenario);\n        if (getError == null) {\n            getError = MethodUtils.getMatchingMethod(testCase.getClass(), \"getError\");\n            getError.setAccessible(true);\n        }\n        return (Throwable) getError.invoke(testCase);\n    } catch (Exception e) {\n        log.warn(\"error receiving exception\", e);\n    }\n    return null;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1584185773,"creation_date":1584185773,"answer_id":60682286,"question_id":42542557,"body_markdown":"The problem with the work around suggested by Frank Escobar:\r\n\r\nBy using reflection to reach into a frameworks internals you&#39;re depending on implementation details. This is a bad practice, when ever the framework changes its implementation your code may break as you will observe in Cucumber v5.0.0.\r\n\r\nHooks in Cucumber are designed to manipulate the test execution context before and after a scenario. They&#39;re not made to report on the test execution itself. Reporting is cross cutting concern and best managed by using the plugin system.\r\n\r\nFor example:\r\n\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport io.cucumber.plugin.ConcurrentEventListener;\r\nimport io.cucumber.plugin.event.EventPublisher;\r\nimport io.cucumber.plugin.event.Result;\r\nimport io.cucumber.plugin.event.Status;\r\nimport io.cucumber.plugin.event.TestCase;\r\nimport io.cucumber.plugin.event.TestCaseFinished;\r\n\r\npublic class MyTestListener implements ConcurrentEventListener {\r\n    @Override\r\n    public void setEventPublisher(EventPublisher publisher) {\r\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\r\n    }\r\n\r\n    private void handleTestCaseFinished(TestCaseFinished event) {\r\n        TestCase testCase = event.getTestCase();\r\n        Result result = event.getResult();\r\n        Status status = result.getStatus();\r\n        Throwable error = result.getError();\r\n        String scenarioName = testCase.getName();\r\n        String id = &quot;&quot; + testCase.getUri() + testCase.getLine();\r\n        System.out.println(&quot;Testcase &quot; + id + &quot; - &quot; + status.name());\r\n    }\r\n}\r\n```\r\n\r\nWhen using JUnit 4 and TestNG you can activate this plugin using:\r\n\r\n```java\r\n@CucumberOptions(plugin=&quot;com.example.MyTestListener&quot;)\r\n```\r\n\r\nWith JUnit 5 you add it to `junit-platform.properties`:\r\n\r\n```properties\r\ncucumber.plugin=com.example.MyTestListener \r\n```\r\n\r\nOr if you are using the CLI\r\n\r\n```bash\r\n--plugin com.example.MyTestListener \r\n```\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>The problem with the work around suggested by Frank Escobar:</p>\n\n<p>By using reflection to reach into a frameworks internals you're depending on implementation details. This is a bad practice, when ever the framework changes its implementation your code may break as you will observe in Cucumber v5.0.0.</p>\n\n<p>Hooks in Cucumber are designed to manipulate the test execution context before and after a scenario. They're not made to report on the test execution itself. Reporting is cross cutting concern and best managed by using the plugin system.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport io.cucumber.plugin.ConcurrentEventListener;\nimport io.cucumber.plugin.event.EventPublisher;\nimport io.cucumber.plugin.event.Result;\nimport io.cucumber.plugin.event.Status;\nimport io.cucumber.plugin.event.TestCase;\nimport io.cucumber.plugin.event.TestCaseFinished;\n\npublic class MyTestListener implements ConcurrentEventListener {\n    @Override\n    public void setEventPublisher(EventPublisher publisher) {\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\n    }\n\n    private void handleTestCaseFinished(TestCaseFinished event) {\n        TestCase testCase = event.getTestCase();\n        Result result = event.getResult();\n        Status status = result.getStatus();\n        Throwable error = result.getError();\n        String scenarioName = testCase.getName();\n        String id = \"\" + testCase.getUri() + testCase.getLine();\n        System.out.println(\"Testcase \" + id + \" - \" + status.name());\n    }\n}\n</code></pre>\n\n<p>When using JUnit 4 and TestNG you can activate this plugin using:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@CucumberOptions(plugin=\"com.example.MyTestListener\")\n</code></pre>\n\n<p>With JUnit 5 you add it to <code>junit-platform.properties</code>:</p>\n\n<pre><code>cucumber.plugin=com.example.MyTestListener \n</code></pre>\n\n<p>Or if you are using the CLI</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>--plugin com.example.MyTestListener \n</code></pre>\n"},{"tags":[],"owner":{"account_id":29335506,"reputation":1,"user_id":22475974,"display_name":"AKP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694437106,"creation_date":1693468570,"answer_id":77013853,"question_id":42542557,"body_markdown":"It took a bit of research and trial, but I found the solution. No need to add any plugin or listeners. Just add this in your hooks class and you are good to go.\r\n\r\n    @AfterStep\r\n\tpublic void getErrors( Scenario scenario ) throws NoSuchFieldException, IllegalAccessException\r\n\t{\r\n\t\tField delegate = scenario.getClass().getDeclaredField(&quot;delegate&quot;);\r\n\t\tdelegate.setAccessible(true);\r\n\r\n\t\tTestCaseState tcs = ( TestCaseState ) delegate.get(scenario);\r\n\r\n\t\tField stepResults = tcs.getClass().getDeclaredField(&quot;stepResults&quot;);\r\n\t\tstepResults.setAccessible(true);\r\n\r\n\t\tArrayList&lt;Result&gt; results = ( ArrayList&lt;Result&gt; ) stepResults.get(tcs);\r\n\t\tfor ( Result result : results )\r\n\t\t{\r\n\t\t\tif ( result.getError() != null )\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(result.getError());\r\n                //Pass it to extent report or do anything with it\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>It took a bit of research and trial, but I found the solution. No need to add any plugin or listeners. Just add this in your hooks class and you are good to go.</p>\n<pre><code>@AfterStep\npublic void getErrors( Scenario scenario ) throws NoSuchFieldException, IllegalAccessException\n{\n    Field delegate = scenario.getClass().getDeclaredField(&quot;delegate&quot;);\n    delegate.setAccessible(true);\n\n    TestCaseState tcs = ( TestCaseState ) delegate.get(scenario);\n\n    Field stepResults = tcs.getClass().getDeclaredField(&quot;stepResults&quot;);\n    stepResults.setAccessible(true);\n\n    ArrayList&lt;Result&gt; results = ( ArrayList&lt;Result&gt; ) stepResults.get(tcs);\n    for ( Result result : results )\n    {\n        if ( result.getError() != null )\n        {\n            System.out.println(result.getError());\n            //Pass it to extent report or do anything with it\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6951255,"reputation":1031,"user_id":5333804,"accept_rate":53,"display_name":"EJS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28148,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":8,"score":11,"last_activity_date":1694437106,"creation_date":1488404283,"question_id":42542557,"body_markdown":"I can perform actions on test failure by using:\r\n\r\n    @After\r\n    public void afterTest(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            /*Do stuff*/\r\n        }\r\n    }\r\n\r\nHowever some of the actions I need to perform depend on the Exception that was thrown and in what context it was thrown. Is there a way to get the Throwable that caused the test to fail? For example in JUnit I would do this by extending TestWatcher and add a rule to my tests:\r\n\r\n    @Override\r\n    protected void failed(Throwable e, Description description) {\r\n        /*Do stuff with e*/\r\n    }\r\n\r\nHowever the cucumber-junit iplementation does not allow the use of rules, so this solution would not work with Cucumber.\r\n\r\nI don&#39;t think I need to explain why accessing a thrown exception on test failure would be useful, however I will still provide an Example:\r\n\r\nMy test environment is not always stable, so my tests might fail unexpectedly at any moment (there&#39;s no specific place I can try to catch the exception since it could occur at any time). When this happens I need the test to reschedule for another attempt, and log the incident so that we can get some good statistical data on the environment instability (when, how frequent, how long etc.)\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>I can perform actions on test failure by using:</p>\n\n<pre><code>@After\npublic void afterTest(Scenario scenario) {\n    if (scenario.isFailed()) {\n        /*Do stuff*/\n    }\n}\n</code></pre>\n\n<p>However some of the actions I need to perform depend on the Exception that was thrown and in what context it was thrown. Is there a way to get the Throwable that caused the test to fail? For example in JUnit I would do this by extending TestWatcher and add a rule to my tests:</p>\n\n<pre><code>@Override\nprotected void failed(Throwable e, Description description) {\n    /*Do stuff with e*/\n}\n</code></pre>\n\n<p>However the cucumber-junit iplementation does not allow the use of rules, so this solution would not work with Cucumber.</p>\n\n<p>I don't think I need to explain why accessing a thrown exception on test failure would be useful, however I will still provide an Example:</p>\n\n<p>My test environment is not always stable, so my tests might fail unexpectedly at any moment (there's no specific place I can try to catch the exception since it could occur at any time). When this happens I need the test to reschedule for another attempt, and log the incident so that we can get some good statistical data on the environment instability (when, how frequent, how long etc.)</p>\n"},{"tags":["java","sharepoint","sharepoint-2010","lotus-notes","lotusscript"],"comments":[{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":1,"creation_date":1401362167,"post_id":23926638,"comment_id":36859074,"body_markdown":"Hi- a bit of clarification re the programming:  Is it that you can export everything programatticaly, but are having trouble specifically with Rich Text fields ?","body":"Hi- a bit of clarification re the programming:  Is it that you can export everything programatticaly, but are having trouble specifically with Rich Text fields ?"},{"owner":{"account_id":1254000,"reputation":874,"user_id":1213859,"accept_rate":69,"display_name":"Ramkumar"},"score":0,"creation_date":1401870730,"post_id":23926638,"comment_id":37047430,"body_markdown":"Yes, except Rich text Field. All the other item I just considered as a Text field. While importing I parsed it.","body":"Yes, except Rich text Field. All the other item I just considered as a Text field. While importing I parsed it."}],"answers":[{"tags":[],"owner":{"account_id":1246258,"reputation":2770,"user_id":1207647,"accept_rate":75,"display_name":"Karl-Henry Martinsson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401724759,"creation_date":1401724759,"answer_id":23998662,"question_id":23926638,"body_markdown":"Yes, you can export Rich Text programatically. Depending on how much fidelity you need, there are different solutions.\r\nIf you only want to send the contents of the rich text (the actual text) and possibly any attachments/embedded images, then I wrote a tool a few years ago that does exactly that:\r\nhttp://www.texasswede.com/websites/texasswede.nsf/Page/Notes%20XML%20Exporter\r\nSo if I can do it, you can probably do the same. :-)\r\n\r\nIf you want to export the full rich text content of the field, I would take a look at MidasLSX from Genii Software. According to Ben&#39;s site it can export whold Notes databases to Sharepoint: http://www.geniisoft.com/showcase.nsf/archive/20130724-1251) \r\n","title":"How to migrate Lotus notes documents to sharepoint 2010 list?","body":"<p>Yes, you can export Rich Text programatically. Depending on how much fidelity you need, there are different solutions.\nIf you only want to send the contents of the rich text (the actual text) and possibly any attachments/embedded images, then I wrote a tool a few years ago that does exactly that:\n<a href=\"http://www.texasswede.com/websites/texasswede.nsf/Page/Notes%20XML%20Exporter\" rel=\"nofollow\">http://www.texasswede.com/websites/texasswede.nsf/Page/Notes%20XML%20Exporter</a>\nSo if I can do it, you can probably do the same. :-)</p>\n\n<p>If you want to export the full rich text content of the field, I would take a look at MidasLSX from Genii Software. According to Ben's site it can export whold Notes databases to Sharepoint: <a href=\"http://www.geniisoft.com/showcase.nsf/archive/20130724-1251\" rel=\"nofollow\">http://www.geniisoft.com/showcase.nsf/archive/20130724-1251</a>) </p>\n"}],"owner":{"account_id":1254000,"reputation":874,"user_id":1213859,"accept_rate":69,"display_name":"Ramkumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694437049,"creation_date":1401342985,"question_id":23926638,"body_markdown":"Is it possible to write code in java or Lotus script or any other programming language to migrate LN documents to sharepoint list?\r\n\r\nI have a Lotus notes database, we are in plan to migrate from lotus notes to sharepoint. I have completed the design and workflow. \r\n\r\nI can migrate fields except Rich Text Item. I just moved the documents to excel and read from c# I can put it into list as item. Please help me is there any easy way? \r\n\r\nand\r\n\r\nFor data migration, I do not find any helpful link. In all blogs and websites, they recommended to use Quest, avepoint and etc.,\r\n\r\nBut I do not want to purchase any third party software. Please let me know, is there any free software is available? \r\n\r\nIMPORTANT thing is, Can we do it in programmatically?\r\n\r\n\r\n\r\n ","title":"How to migrate Lotus notes documents to sharepoint 2010 list?","body":"<p>Is it possible to write code in java or Lotus script or any other programming language to migrate LN documents to sharepoint list?</p>\n\n<p>I have a Lotus notes database, we are in plan to migrate from lotus notes to sharepoint. I have completed the design and workflow. </p>\n\n<p>I can migrate fields except Rich Text Item. I just moved the documents to excel and read from c# I can put it into list as item. Please help me is there any easy way? </p>\n\n<p>and</p>\n\n<p>For data migration, I do not find any helpful link. In all blogs and websites, they recommended to use Quest, avepoint and etc.,</p>\n\n<p>But I do not want to purchase any third party software. Please let me know, is there any free software is available? </p>\n\n<p>IMPORTANT thing is, Can we do it in programmatically?</p>\n"},{"tags":["java","ssl-certificate","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689691340,"creation_date":1689367294,"answer_id":76691016,"question_id":76588766,"body_markdown":"I&#39;ve found a solution.\r\nFisrt of all you need to add the trust store file and key store file.\r\nHave a look here:\r\nhttps://www.baeldung.com/spring-boot-https-self-signed-certificate\r\n\r\nLoad the keystore using a special class Keystore as exampl below.\r\nWhen using SSl we need to get the instace: SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\r\nJust remember to change this &quot;&quot;wss://&lt;yourURL&gt;:5000/websocket-server&quot; for your website url. It is not going to work if you write down &quot;localhost&quot; nor your IP address because SSL.\r\nI wrote a method as a connection and returning a session and then I do the subcribe like this: \r\n\r\n\tpublic void updateWebsocket() {\r\n\t\tStompSession session = stompConnectionTLS();\r\n\t\tsession.subscribe(&quot;/topic/messages&quot;, CLIENT_SESSION_HANDLER);\r\n\t\tsession.send(&quot;/app/process&quot;, true);\r\n\t\tsession.disconnect();\r\n\t}\r\n\r\n\r\n\tpublic StompSession stompConnectionTLS() {\r\n\r\n\t\tStompSession session = null;\r\n\r\n\t\tString websocketUrl = &quot;wss://&lt;yourURL&gt;:5000/websocket-server&quot;;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tString trustStoreFile = &quot;/Path/cert.jks&quot;;\r\n\t\t\tString trustStorePassword = &quot;Password&quot;;\r\n\t\t\tString keyStoreFile = &quot;/Path/keystore.p12&quot;;\r\n\t\t\tString keyStorePassword = &quot;Password&quot;;\r\n\r\n\t\t\t// Load the trust store\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\ttrustStore.load(new FileInputStream(trustStoreFile), trustStorePassword.toCharArray());\r\n\t\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttrustManagerFactory.init(trustStore);\r\n\r\n\t\t\t// Load the key store\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tkeyStore.load(new FileInputStream(keyStoreFile), keyStorePassword.toCharArray());\r\n\r\n\t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\n\t\t\tStandardWebSocketClient webSocketClient = new StandardWebSocketClient();\r\n\t\t\twebSocketClient.setUserProperties(Collections.singletonMap(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, sslContext));\r\n\r\n\t\t\tWebSocketStompClient stompClient = new WebSocketStompClient(webSocketClient);\r\n\t\t\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\t\t\tsession = stompClient.connectAsync(websocketUrl, CLIENTSESSIONHANDLER).get();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t\treturn session;\r\n\t}","title":"How to make spring boot websocket client works with SSL/TLS?","body":"<p>I've found a solution.\nFisrt of all you need to add the trust store file and key store file.\nHave a look here:\n<a href=\"https://www.baeldung.com/spring-boot-https-self-signed-certificate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-https-self-signed-certificate</a></p>\n<p>Load the keystore using a special class Keystore as exampl below.\nWhen using SSl we need to get the instace: SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);</p>\n<p>Just remember to change this &quot;&quot;wss://:5000/websocket-server&quot; for your website url. It is not going to work if you write down &quot;localhost&quot; nor your IP address because SSL.\nI wrote a method as a connection and returning a session and then I do the subcribe like this:</p>\n<pre><code>public void updateWebsocket() {\n    StompSession session = stompConnectionTLS();\n    session.subscribe(&quot;/topic/messages&quot;, CLIENT_SESSION_HANDLER);\n    session.send(&quot;/app/process&quot;, true);\n    session.disconnect();\n}\n\n\npublic StompSession stompConnectionTLS() {\n\n    StompSession session = null;\n\n    String websocketUrl = &quot;wss://&lt;yourURL&gt;:5000/websocket-server&quot;;\n\n    try {\n\n        String trustStoreFile = &quot;/Path/cert.jks&quot;;\n        String trustStorePassword = &quot;Password&quot;;\n        String keyStoreFile = &quot;/Path/keystore.p12&quot;;\n        String keyStorePassword = &quot;Password&quot;;\n\n        // Load the trust store\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        trustStore.load(new FileInputStream(trustStoreFile), trustStorePassword.toCharArray());\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        // Load the key store\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(new FileInputStream(keyStoreFile), keyStorePassword.toCharArray());\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\n        StandardWebSocketClient webSocketClient = new StandardWebSocketClient();\n        webSocketClient.setUserProperties(Collections.singletonMap(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, sslContext));\n\n        WebSocketStompClient stompClient = new WebSocketStompClient(webSocketClient);\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\n        session = stompClient.connectAsync(websocketUrl, CLIENTSESSIONHANDLER).get();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n\n    return session;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436849,"creation_date":1694436849,"answer_id":77081807,"question_id":76588766,"body_markdown":"### Enable SSL/TLS using Spring Boot application properties\r\n\r\nSSL/TLS can be enabled using the Spring Boot application properties. Once your create an SSL/TLS certificate, you should adjust your application properties file appropriately:\r\n\r\n```yaml\r\nserver:\r\n  ssl:\r\n    key-store-type: PKCS12\r\n    key-store: &#39;path/to/keystore-file.p12&#39;\r\n    key-store-password: &lt;password&gt;\r\n    key-alias: &lt;your-key-alias&gt;\r\n    enabled: true\r\n```\r\nAnd that&#39;s it! You are now allowed to connect only using `wss://` scheme instead of `ws://`. \r\n\r\nYou can read more about that here:\r\n- Last section in &quot;Spring Boot + WebSocket + OAuth 2.0 + TLS&quot;: https://medium.com/@HereAndBeyond/bf479327339f\r\n- TLS Setup in Spring: https://www.baeldung.com/spring-tls-setup","title":"How to make spring boot websocket client works with SSL/TLS?","body":"<h3>Enable SSL/TLS using Spring Boot application properties</h3>\n<p>SSL/TLS can be enabled using the Spring Boot application properties. Once your create an SSL/TLS certificate, you should adjust your application properties file appropriately:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  ssl:\n    key-store-type: PKCS12\n    key-store: 'path/to/keystore-file.p12'\n    key-store-password: &lt;password&gt;\n    key-alias: &lt;your-key-alias&gt;\n    enabled: true\n</code></pre>\n<p>And that's it! You are now allowed to connect only using <code>wss://</code> scheme instead of <code>ws://</code>.</p>\n<p>You can read more about that here:</p>\n<ul>\n<li>Last section in &quot;Spring Boot + WebSocket + OAuth 2.0 + TLS&quot;: <a href=\"https://medium.com/@HereAndBeyond/bf479327339f\" rel=\"nofollow noreferrer\">https://medium.com/@HereAndBeyond/bf479327339f</a></li>\n<li>TLS Setup in Spring: <a href=\"https://www.baeldung.com/spring-tls-setup\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-tls-setup</a></li>\n</ul>\n"}],"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76691016,"answer_count":2,"score":0,"last_activity_date":1694436849,"creation_date":1688126759,"question_id":76588766,"body_markdown":"My code works perfectly with WS: connection, but it doesn&#39;t work when I include my SSL certificate.\r\nLet me explain the cenario. When someone sends a message over the internet it reaches my webhook and my webhook sends that message to my websocket. Unfortunately, when I use SSL my java code doesn&#39;t work with SSl. The best approach I had was this messa &quot;Unable to create SSLEngine to support SSL/TLS connections&quot; EX2.\r\n\r\nEX1 - This code works fine with WS/http\r\n```\r\nprivate static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\r\n\r\n\tpublic StompSession stompConnection() {\r\n\r\n\t\tStompSession session = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tStandardWebSocketClient client = new StandardWebSocketClient();\r\n\t\t\tWebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n\t\t\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\t\t\tCompletableFuture&lt;StompSession&gt; sessionAsync = stompClient\r\n\t\t\t\t\t.connectAsync(&quot;ws://localhost:8433/websocket-server&quot;, CLIENTONESESSIONHANDLER);\r\n\r\n\t\t\tsession = sessionAsync.get();\r\n\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn session;\r\n\t}\r\n\r\n\tpublic void sendMessageToWebSocket(GenericMessageDto obj) {\r\n\t\tStompSession session = stompConnection();\r\n\t\tsession.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\r\n\t\tsession.send(&quot;/app/process-message&quot;, obj);\r\n\t}\r\n\r\n\r\npublic class WebSocketSessionHandler extends StompSessionHandlerAdapter {\r\n\r\n\t@Override\r\n\tpublic Type getPayloadType(StompHeaders headers) {\r\n\t\treturn OutgoingMessage.class;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleFrame(StompHeaders headers, Object payload) {\r\n\t\tSystem.out.println(&quot;Received: &quot; + ((OutgoingMessage) payload).getContent());\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nEX2\r\n\r\n```\r\n\tprivate static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\r\n\r\n\tpublic StompSession stompConnection() {\r\n\r\n\t\tStompSession session = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tString websocketUrl = &quot;wss://localhost:8443/websocket-server&quot;;\r\n\r\n\t\t\tStandardWebSocketClient client = new StandardWebSocketClient();\r\n\r\n\t\t\tMap&lt;String, Object&gt; userProperties = new HashMap&lt;&gt;();\r\n\t\t\tuserProperties.put(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, SSLContext.getDefault());\r\n\t\t\tuserProperties.put(&quot;org.apache.tomcat.websocket.SSL_PROTOCOLS&quot;, SSLContext.getDefault());\r\n\t\t\tuserProperties.put(&quot;org.apache.tomcat.websocket.SSL_TRUSTSTORE&quot;, SSLContext.getDefault());\r\n\t\t\tclient.setUserProperties(userProperties);\r\n\t\t\tWebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n\t\t\tSSLContext sslContext = SSLContext.getDefault();\r\n\t\t\tSSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n\t\t\tWebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n\t\t\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\t\t\tsession = stompClient.connectAsync(websocketUrl, CLIENTONESESSIONHANDLER, sslSocketFactory, container, sslContext).get();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t\treturn session;\r\n\t}\r\n\r\n\tpublic void sendMessageToWebSocket(GenericMessageDto dto) {\r\n\t\tStompSession session = stompConnection();\r\n\t\tsession.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\r\n\t\tsession.send(&quot;/app/process-message&quot;, dto);\r\n\t}\r\n```\r\n","title":"How to make spring boot websocket client works with SSL/TLS?","body":"<p>My code works perfectly with WS: connection, but it doesn't work when I include my SSL certificate.\nLet me explain the cenario. When someone sends a message over the internet it reaches my webhook and my webhook sends that message to my websocket. Unfortunately, when I use SSL my java code doesn't work with SSl. The best approach I had was this messa &quot;Unable to create SSLEngine to support SSL/TLS connections&quot; EX2.</p>\n<p>EX1 - This code works fine with WS/http</p>\n<pre><code>private static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\n\n    public StompSession stompConnection() {\n\n        StompSession session = null;\n\n        try {\n\n            StandardWebSocketClient client = new StandardWebSocketClient();\n            WebSocketStompClient stompClient = new WebSocketStompClient(client);\n            stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n            CompletableFuture&lt;StompSession&gt; sessionAsync = stompClient\n                    .connectAsync(&quot;ws://localhost:8433/websocket-server&quot;, CLIENTONESESSIONHANDLER);\n\n            session = sessionAsync.get();\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n        return session;\n    }\n\n    public void sendMessageToWebSocket(GenericMessageDto obj) {\n        StompSession session = stompConnection();\n        session.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\n        session.send(&quot;/app/process-message&quot;, obj);\n    }\n\n\npublic class WebSocketSessionHandler extends StompSessionHandlerAdapter {\n\n    @Override\n    public Type getPayloadType(StompHeaders headers) {\n        return OutgoingMessage.class;\n    }\n\n    @Override\n    public void handleFrame(StompHeaders headers, Object payload) {\n        System.out.println(&quot;Received: &quot; + ((OutgoingMessage) payload).getContent());\n    }\n\n}\n</code></pre>\n<p>EX2</p>\n<pre><code>    private static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\n\n    public StompSession stompConnection() {\n\n        StompSession session = null;\n\n        try {\n\n            String websocketUrl = &quot;wss://localhost:8443/websocket-server&quot;;\n\n            StandardWebSocketClient client = new StandardWebSocketClient();\n\n            Map&lt;String, Object&gt; userProperties = new HashMap&lt;&gt;();\n            userProperties.put(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, SSLContext.getDefault());\n            userProperties.put(&quot;org.apache.tomcat.websocket.SSL_PROTOCOLS&quot;, SSLContext.getDefault());\n            userProperties.put(&quot;org.apache.tomcat.websocket.SSL_TRUSTSTORE&quot;, SSLContext.getDefault());\n            client.setUserProperties(userProperties);\n            WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n            SSLContext sslContext = SSLContext.getDefault();\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            WebSocketStompClient stompClient = new WebSocketStompClient(client);\n            stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\n            session = stompClient.connectAsync(websocketUrl, CLIENTONESESSIONHANDLER, sslSocketFactory, container, sslContext).get();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n\n        return session;\n    }\n\n    public void sendMessageToWebSocket(GenericMessageDto dto) {\n        StompSession session = stompConnection();\n        session.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\n        session.send(&quot;/app/process-message&quot;, dto);\n    }\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":8262826,"reputation":764,"user_id":6213557,"display_name":"Rishabh Dutt Sharma"},"score":0,"creation_date":1692680067,"post_id":76950164,"comment_id":135653082,"body_markdown":"If faster access is the only usecase then we can use a nested-map.\ne.g., `Map&lt;list_key, Map&lt;key, value&gt;&gt;`\n\nElaborate more if this does not solve your problem.","body":"If faster access is the only usecase then we can use a nested-map. e.g., <code>Map&lt;list_key, Map&lt;key, value&gt;&gt;</code>  Elaborate more if this does not solve your problem."},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1692680351,"post_id":76950164,"comment_id":135653100,"body_markdown":"@RishabhDuttSharma I need ordering between elements, that&#39;s why I have N linkedlists. Do I misunderstand this?","body":"@RishabhDuttSharma I need ordering between elements, that&#39;s why I have N linkedlists. Do I misunderstand this?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1692681093,"post_id":76950164,"comment_id":135653170,"body_markdown":"Likely down-voted because your Question is so unclear. Why did you mention &quot;linkedlist&quot; rather than `List`; is there some significance related to your Question? You say &quot;map interface for lookup&quot;, but you do not explain exactly what you want to lookup nor do you explain by what criteria will you drive that search? Do you mean you want to access any one particular of your many lists? If so, what is the criteria, what would be the key in your map? And, what does &quot;N lookups&quot; mean? That same letter &quot;N&quot; was used for the count of your &quot;linkedlists&quot; —&#160;do you mean the same number? All quite confusing.","body":"Likely down-voted because your Question is so unclear. Why did you mention &quot;linkedlist&quot; rather than <code>List</code>; is there some significance related to your Question? You say &quot;map interface for lookup&quot;, but you do not explain exactly what you want to lookup nor do you explain by what criteria will you drive that search? Do you mean you want to access any one particular of your many lists? If so, what is the criteria, what would be the key in your map? And, what does &quot;N lookups&quot; mean? That same letter &quot;N&quot; was used for the count of your &quot;linkedlists&quot; — do you mean the same number? All quite confusing."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692681180,"post_id":76950164,"comment_id":135653174,"body_markdown":"A simplistic contrived example would *really* improve your Question. A stab at some code would help too.","body":"A simplistic contrived example would <i>really</i> improve your Question. A stab at some code would help too."},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1692742205,"post_id":76950164,"comment_id":135665435,"body_markdown":"@BasilBourque This is very helpful! Thank you! I have updated the question.","body":"@BasilBourque This is very helpful! Thank you! I have updated the question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692743785,"post_id":76950164,"comment_id":135665607,"body_markdown":"Define &quot;better&quot;.  Be specific about your concern. Faster in CPU? More efficient with memory? Easier to read by programmers? More likely to be compatible in some way?","body":"Define &quot;better&quot;.  Be specific about your concern. Faster in CPU? More efficient with memory? Easier to read by programmers? More likely to be compatible in some way?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692743937,"post_id":76950164,"comment_id":135665621,"body_markdown":"Why would you have multiple queues if they are not somehow categorized? And, if categorized, why would you not know which queue holds which kind of items? If I have a queue for dogs, and another for cats, and a third for birds, why would I expect to find a cat in either the dog queue or the bird queue?","body":"Why would you have multiple queues if they are not somehow categorized? And, if categorized, why would you not know which queue holds which kind of items? If I have a queue for dogs, and another for cats, and a third for birds, why would I expect to find a cat in either the dog queue or the bird queue?"},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1692748339,"post_id":76950164,"comment_id":135666003,"body_markdown":"Thank you! @BasilBourque Better in terms of fewer hash lookups. The categorization is not part of the key. I guess I can have a map storing the categorization, which will limit the lookup to two, but it means that I have to waste some memory...","body":"Thank you! @BasilBourque Better in terms of fewer hash lookups. The categorization is not part of the key. I guess I can have a map storing the categorization, which will limit the lookup to two, but it means that I have to waste some memory..."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1692770171,"post_id":76950164,"comment_id":135667784,"body_markdown":"Why would you have multiple queues if not to segregate their contents? Answering that question is key to getting a worthy Answer for your Question.","body":"Why would you have multiple queues if not to segregate their contents? Answering that question is key to getting a worthy Answer for your Question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692770273,"post_id":76950164,"comment_id":135667798,"body_markdown":"Also, you need to be posting these clarifications as edits to your Question rather than as Comments. Then there is a possibility of re-opening the Question.","body":"Also, you need to be posting these clarifications as edits to your Question rather than as Comments. Then there is a possibility of re-opening the Question."},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1693010343,"post_id":76950164,"comment_id":135707856,"body_markdown":"The segregation is based on request pattern, e.g., data that has been accessed once is stored in list 1, upon the second request, the data is moved to the second list. I will update the question. Thank you!","body":"The segregation is based on request pattern, e.g., data that has been accessed once is stored in list 1, upon the second request, the data is moved to the second list. I will update the question. Thank you!"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1693294744,"post_id":76950164,"comment_id":135738065,"body_markdown":"Is any given item ever stored in more than one `Queue`/`Map`?","body":"Is any given item ever stored in more than one <code>Queue</code>/<code>Map</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693572783,"post_id":76950164,"comment_id":135782603,"body_markdown":"Why do you keep talking about “list” and even tag the question with `[linked-list]`when there is not a single list in your example? Placing a bounty will not provide you better answers when your question is unclear.","body":"Why do you keep talking about “list” and even tag the question with <code>[linked-list]</code>when there is not a single list in your example? Placing a bounty will not provide you better answers when your question is unclear."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693047650,"creation_date":1693047650,"answer_id":76982661,"question_id":76950164,"body_markdown":"A solution is to use a global `HashMap`:\r\n\r\n``` lang-java\r\nimport java.util.*;\r\n\r\npublic class Test\r\n{\r\n\tpublic static class MultiQueue&lt;K, V&gt;\r\n\t{\r\n\t\tprivate LinkedList&lt;V&gt;[] queues;\r\n\t\tprivate HashMap&lt;K, V&gt; map;\r\n\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic MultiQueue(int n)\r\n\t\t{\r\n\t\t\tqueues = new LinkedList[n];\r\n\t\t\tfor(int i=0;i&lt;n;i++)\r\n\t\t\t\tqueues[i] = new LinkedList&lt;V&gt;();\r\n\t\t\tmap = new HashMap&lt;K, V&gt;();\r\n\t\t}\r\n\r\n\t\tpublic void add(K id, V value, int queue)\r\n\t\t{\r\n\t\t\tqueues[queue].addFirst(value);\r\n\t\t\tmap.put(id, value);\r\n\t\t}\r\n\r\n\t\tpublic V get(K id)\r\n\t\t{\r\n\t\t\treturn map.get(id);\r\n\t\t}\r\n\t}\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\t\tMultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\r\n\t\tmq.add(10, &quot;Item 10&quot;, 0); // add to first queue\r\n\t\tmq.add(20, &quot;Item 20&quot;, 1); // add to second queue\r\n\t\tSystem.out.println(mq.get(10));\r\n\t\tSystem.out.println(mq.get(20));\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nItem 10\r\nItem 20\r\n```\r\n","title":"how to implement a map with multiple lists in Java","body":"<p>A solution is to use a global <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Test\n{\n    public static class MultiQueue&lt;K, V&gt;\n    {\n        private LinkedList&lt;V&gt;[] queues;\n        private HashMap&lt;K, V&gt; map;\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public MultiQueue(int n)\n        {\n            queues = new LinkedList[n];\n            for(int i=0;i&lt;n;i++)\n                queues[i] = new LinkedList&lt;V&gt;();\n            map = new HashMap&lt;K, V&gt;();\n        }\n\n        public void add(K id, V value, int queue)\n        {\n            queues[queue].addFirst(value);\n            map.put(id, value);\n        }\n\n        public V get(K id)\n        {\n            return map.get(id);\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        MultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\n        mq.add(10, &quot;Item 10&quot;, 0); // add to first queue\n        mq.add(20, &quot;Item 20&quot;, 1); // add to second queue\n        System.out.println(mq.get(10));\n        System.out.println(mq.get(20));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Item 10\nItem 20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693249902,"creation_date":1693154358,"answer_id":76988036,"question_id":76950164,"body_markdown":"You need one more collection in your code that maps id to collection it was inserted into: \r\n\r\n\r\n    Map&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Map&lt;Id, Value&gt;&gt; mainQueue = new LinkedHashMap&lt;&gt;();\r\n\r\nWhen you map an id: \r\n\r\n    q1.put(id, value);\r\n    mainQueue.put(id, q1);\r\n\r\n// to read a key, do the following\r\n\r\n    if(mainQueue.contains(id)){\r\n        return mainQueue.get(id).get(id);\r\n    }\r\n\r\nAnother approach: \r\n\r\n    return List.of(q1,q2,q3,q4).stream().filter(q -&gt; q.contains(id)).findFirst().get().get(id);","title":"how to implement a map with multiple lists in Java","body":"<p>You need one more collection in your code that maps id to collection it was inserted into:</p>\n<pre><code>Map&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Map&lt;Id, Value&gt;&gt; mainQueue = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>When you map an id:</p>\n<pre><code>q1.put(id, value);\nmainQueue.put(id, q1);\n</code></pre>\n<p>// to read a key, do the following</p>\n<pre><code>if(mainQueue.contains(id)){\n    return mainQueue.get(id).get(id);\n}\n</code></pre>\n<p>Another approach:</p>\n<pre><code>return List.of(q1,q2,q3,q4).stream().filter(q -&gt; q.contains(id)).findFirst().get().get(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693552324,"creation_date":1693552324,"answer_id":77021177,"question_id":76950164,"body_markdown":"Given the `LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:\r\n\r\n - Doubly Linked List: Since we need to move items around frequently\r\n   (especially between different frequency queues), a doubly linked list\r\n   can serve this purpose well.\r\n - HashMap for Direct Access: This hashmap will be responsible for\r\n   direct access to a specific node given a key (which means efficient\r\n   lookups). The value stored in this hashmap would be the reference to\r\n   the node in the doubly linked list.\r\n - Array of LinkedHashMaps: To maintain the frequency queues (based on\r\n   how many times the data has been accessed), you can use an array of\r\n   LinkedHashMaps (or doubly linked lists if you want to manually manage\r\n   the ordering). Each LinkedHashMap will maintain the order of\r\n   insertion which represents the frequency of usage\r\n\r\n \r\n\r\n        import java.util.*;\r\n        \r\n        public class test {\r\n        \r\n        \r\n        \tpublic static class LFUQueue&lt;K, V&gt; {\r\n        \r\n        \t\tprivate Map&lt;K, Node&lt;K, V&gt;&gt; lookupMap;\r\n        \t\tprivate Map&lt;Integer, LinkedHashMap&lt;K, Node&lt;K, V&gt;&gt;&gt; frequencyMap;\r\n        \r\n        \t\tpublic LFUQueue(int maxFrequency) {\r\n        \t\t\tlookupMap = new HashMap&lt;&gt;();\r\n        \t\t\tfrequencyMap = new HashMap&lt;&gt;();\r\n        \r\n        \t\t\tfor (int i = 0; i &lt;= maxFrequency; i++) {\r\n        \t\t\t\tfrequencyMap.put(i, new LinkedHashMap&lt;&gt;());\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t\tpublic V get(K key) {\r\n        \t\t\tif (!lookupMap.containsKey(key)) {\r\n        \t\t\t\treturn null;\r\n        \t\t\t}\r\n        \t\t\tNode&lt;K, V&gt; node = lookupMap.get(key);\r\n        \r\n        \t\t\t// Remove from current frequency list\r\n        \t\t\tfrequencyMap.get(node.frequency).remove(key);\r\n        \r\n        \t\t\t// Increase frequency\r\n        \t\t\tnode.frequency++;\r\n        \t\t\tif (!frequencyMap.containsKey(node.frequency)) {\r\n        \t\t\t\tfrequencyMap.put(node.frequency, new LinkedHashMap&lt;&gt;());\r\n        \t\t\t}\r\n        \r\n        \t\t\t// Add to next frequency list\r\n        \t\t\tfrequencyMap.get(node.frequency).put(key, node);\r\n        \r\n        \t\t\treturn node.value;\r\n        \t\t}\r\n        \r\n        \t\tpublic void put(K key, V value) {\r\n        \t\t\tif (lookupMap.containsKey(key)) {\r\n        \t\t\t\t// Update value and frequency\r\n        \t\t\t\tNode&lt;K, V&gt; node = lookupMap.get(key);\r\n        \t\t\t\tnode.value = value;\r\n        \t\t\t\tget(key); // This will handle frequency update as well\r\n        \t\t\t} else {\r\n        \t\t\t\tNode&lt;K, V&gt; newNode = new Node&lt;&gt;(key, value);\r\n        \t\t\t\tlookupMap.put(key, newNode);\r\n        \t\t\t\tfrequencyMap.get(0).put(key, newNode);\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t\tpublic int getFrequency(K key) {\r\n        \t\t\tNode&lt;K, V&gt; node = lookupMap.get(key);\r\n        \t\t\treturn node != null ? node.frequency : -1;\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tstatic class Node&lt;K, V&gt; {\r\n        \t\tK key;\r\n        \t\tV value;\r\n        \t\tint frequency;\r\n        \t\tNode&lt;K, V&gt; prev;\r\n        \t\tNode&lt;K, V&gt; next;\r\n        \r\n        \t\tNode(K key, V value) {\r\n        \t\t\tthis.key = key;\r\n        \t\t\tthis.value = value;\r\n        \t\t\tthis.frequency = 0; // start at 0 access\r\n        \t\t}\r\n        \r\n        \t}\r\n        \tpublic static void main(String[] args) {\r\n        \t\tLFUQueue&lt;String, String&gt; lfu = new LFUQueue&lt;&gt;(5);\r\n        \r\n        \t\t// Add some elements\r\n        \t\tlfu.put(&quot;one&quot;, &quot;First Value&quot;);\r\n        \t\tlfu.put(&quot;two&quot;, &quot;Second Value&quot;);\r\n        \t\tlfu.put(&quot;three&quot;, &quot;Third Value&quot;);\r\n        \r\n        \t\t// Access an element to increase its frequency\r\n        \t\tSystem.out.println(&quot;Accessing &#39;one&#39;: &quot; + lfu.get(&quot;one&quot;));\r\n        \t\tSystem.out.println(&quot;Accessing &#39;one&#39;: &quot; + lfu.get(&quot;one&quot;));\r\n        \r\n        \t\t// Access another element\r\n        \t\tSystem.out.println(&quot;Accessing &#39;two&#39;: &quot; + lfu.get(&quot;two&quot;));\r\n        \r\n        \t\t// Insert new element\r\n        \t\tlfu.put(&quot;four&quot;, &quot;Fourth Value&quot;);\r\n        \r\n        \t\t// Access &#39;four&#39; multiple times\r\n        \t\tSystem.out.println(&quot;Accessing &#39;four&#39;: &quot; + lfu.get(&quot;four&quot;));\r\n        \t\tSystem.out.println(&quot;Accessing &#39;four&#39;: &quot; + lfu.get(&quot;four&quot;));\r\n        \t\tSystem.out.println(&quot;Accessing &#39;four&#39;: &quot; + lfu.get(&quot;four&quot;));\r\n        \r\n        \t\t// Verify the frequency behavior\r\n        \t\t// Assuming a simple method to get frequency is implemented in LFUQueue\r\n        \t\tSystem.out.println(&quot;&#39;one&#39; frequency: &quot; + lfu.getFrequency(&quot;one&quot;));\r\n        \t\tSystem.out.println(&quot;&#39;two&#39; frequency: &quot; + lfu.getFrequency(&quot;two&quot;));\r\n        \t\tSystem.out.println(&quot;&#39;four&#39; frequency: &quot; + lfu.getFrequency(&quot;four&quot;));\r\n        \t}\r\n        }\r\n  \r\n\r\nThe result:\r\n[![enter image description here][1]][1]\r\n  \r\n Given the LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:\r\n    \r\n Doubly Linked List: Since we need to move items around frequently (especially between different frequency queues), a doubly linked list can serve this purpose well.\r\n    \r\n HashMap for Direct Access: This hashmap will be responsible for direct access to a specific node given a key (which means efficient lookups). The value stored in this hashmap would be the reference to the node in the doubly linked list.\r\n    \r\n Array of LinkedHashMaps: To maintain the frequency queues (based on how many times the data has been accessed), you can use an array of LinkedHashMaps (or doubly linked lists if you want to manually manage the ordering). Each LinkedHashMap will maintain the order of insertion which represents the frequency of usage.\r\n    \r\n\r\nThe lookupMap allows you to get direct access to any key in O(1) time.\r\n\r\nWhenever you access a key (using the get method), the frequency of that key is increased. The node representing this key-value pair is moved from its current frequency list to the next one (indicating an increase in access frequency).\r\n\r\nThe frequencyMap allows you to efficiently get items based on their frequency and maintain them in the order they were accessed (or inserted).\r\n\r\nThis solution ensures that:\r\n\r\n - Insertion is O(1).\r\n - Lookup is O(1).\r\n - Frequency update (due to access) is O(1).\r\n - Deletion (if implemented) would also be O(1).\r\n Given the structure of the `LFUQueue` you provided, let&#39;s break down the time complexity of each operation:\r\n\r\n1. **Insertion**:\r\n    - Checking if a key exists in `lookupMap`: O(1) due to HashMap&#39;s average time complexity for lookup.\r\n    - Inserting into `lookupMap`: O(1) average case.\r\n    - Inserting into the corresponding `frequencyMap`: O(1) average case.\r\n\r\n   **Conclusion**: Overall, the insertion is O(1) on average. However, remember that HashMap can have a worst-case time complexity of O(n) when a hash collision occurs. In practice, with a good hashing mechanism and resizing strategy, it rarely happens.\r\n\r\n2. **Lookup**:\r\n    - Checking and retrieving a key from `lookupMap`: O(1) on average.\r\n\r\n   **Conclusion**: The lookup is O(1) on average.\r\n\r\n3. **Frequency update (due to access)**:\r\n    - Retrieving a node from `lookupMap`: O(1) on average.\r\n    - Removing the node from its current frequency list in `frequencyMap`: O(1) because we&#39;re using a LinkedHashMap and we have direct access to the node.\r\n    - Inserting the node into the next frequency list in `frequencyMap`: O(1) on average.\r\n\r\n   **Conclusion**: Frequency update is O(1) on average.\r\n\r\n4. **Deletion (if implemented)**:\r\n    - Retrieving a node from `lookupMap`: O(1) on average.\r\n    - Removing the node from its current frequency list in `frequencyMap`: O(1) for LinkedHashMap.\r\n    - Removing the node from `lookupMap`: O(1) on average.\r\n\r\n   **Conclusion**: Deletion would be O(1) on average.\r\n\r\nIt&#39;s worth noting that the worst-case time complexity for many of the HashMap and LinkedHashMap operations is O(n), but this worst-case scenario is quite rare in practice with a good hash function and is usually averaged out over time to provide consistent O(1) performance. However, if you have concerns about worst-case performance (e.g., due to potential adversarial input), you may want to consider using a data structure with guaranteed worst-case O(1) behavior or take steps to mitigate potential collisions in your hash function.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZKkKB.png","title":"how to implement a map with multiple lists in Java","body":"<p>Given the `LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:</p>\n<ul>\n<li><p>Doubly Linked List: Since we need to move items around frequently\n(especially between different frequency queues), a doubly linked list\ncan serve this purpose well.</p>\n</li>\n<li><p>HashMap for Direct Access: This hashmap will be responsible for\ndirect access to a specific node given a key (which means efficient\nlookups). The value stored in this hashmap would be the reference to\nthe node in the doubly linked list.</p>\n</li>\n<li><p>Array of LinkedHashMaps: To maintain the frequency queues (based on\nhow many times the data has been accessed), you can use an array of\nLinkedHashMaps (or doubly linked lists if you want to manually manage\nthe ordering). Each LinkedHashMap will maintain the order of\ninsertion which represents the frequency of usage</p>\n<pre><code> import java.util.*;\n\n public class test {\n\n\n     public static class LFUQueue&lt;K, V&gt; {\n\n         private Map&lt;K, Node&lt;K, V&gt;&gt; lookupMap;\n         private Map&lt;Integer, LinkedHashMap&lt;K, Node&lt;K, V&gt;&gt;&gt; frequencyMap;\n\n         public LFUQueue(int maxFrequency) {\n             lookupMap = new HashMap&lt;&gt;();\n             frequencyMap = new HashMap&lt;&gt;();\n\n             for (int i = 0; i &lt;= maxFrequency; i++) {\n                 frequencyMap.put(i, new LinkedHashMap&lt;&gt;());\n             }\n         }\n\n         public V get(K key) {\n             if (!lookupMap.containsKey(key)) {\n                 return null;\n             }\n             Node&lt;K, V&gt; node = lookupMap.get(key);\n\n             // Remove from current frequency list\n             frequencyMap.get(node.frequency).remove(key);\n\n             // Increase frequency\n             node.frequency++;\n             if (!frequencyMap.containsKey(node.frequency)) {\n                 frequencyMap.put(node.frequency, new LinkedHashMap&lt;&gt;());\n             }\n\n             // Add to next frequency list\n             frequencyMap.get(node.frequency).put(key, node);\n\n             return node.value;\n         }\n\n         public void put(K key, V value) {\n             if (lookupMap.containsKey(key)) {\n                 // Update value and frequency\n                 Node&lt;K, V&gt; node = lookupMap.get(key);\n                 node.value = value;\n                 get(key); // This will handle frequency update as well\n             } else {\n                 Node&lt;K, V&gt; newNode = new Node&lt;&gt;(key, value);\n                 lookupMap.put(key, newNode);\n                 frequencyMap.get(0).put(key, newNode);\n             }\n         }\n\n         public int getFrequency(K key) {\n             Node&lt;K, V&gt; node = lookupMap.get(key);\n             return node != null ? node.frequency : -1;\n         }\n     }\n\n     static class Node&lt;K, V&gt; {\n         K key;\n         V value;\n         int frequency;\n         Node&lt;K, V&gt; prev;\n         Node&lt;K, V&gt; next;\n\n         Node(K key, V value) {\n             this.key = key;\n             this.value = value;\n             this.frequency = 0; // start at 0 access\n         }\n\n     }\n     public static void main(String[] args) {\n         LFUQueue&lt;String, String&gt; lfu = new LFUQueue&lt;&gt;(5);\n\n         // Add some elements\n         lfu.put(&quot;one&quot;, &quot;First Value&quot;);\n         lfu.put(&quot;two&quot;, &quot;Second Value&quot;);\n         lfu.put(&quot;three&quot;, &quot;Third Value&quot;);\n\n         // Access an element to increase its frequency\n         System.out.println(&quot;Accessing 'one': &quot; + lfu.get(&quot;one&quot;));\n         System.out.println(&quot;Accessing 'one': &quot; + lfu.get(&quot;one&quot;));\n\n         // Access another element\n         System.out.println(&quot;Accessing 'two': &quot; + lfu.get(&quot;two&quot;));\n\n         // Insert new element\n         lfu.put(&quot;four&quot;, &quot;Fourth Value&quot;);\n\n         // Access 'four' multiple times\n         System.out.println(&quot;Accessing 'four': &quot; + lfu.get(&quot;four&quot;));\n         System.out.println(&quot;Accessing 'four': &quot; + lfu.get(&quot;four&quot;));\n         System.out.println(&quot;Accessing 'four': &quot; + lfu.get(&quot;four&quot;));\n\n         // Verify the frequency behavior\n         // Assuming a simple method to get frequency is implemented in LFUQueue\n         System.out.println(&quot;'one' frequency: &quot; + lfu.getFrequency(&quot;one&quot;));\n         System.out.println(&quot;'two' frequency: &quot; + lfu.getFrequency(&quot;two&quot;));\n         System.out.println(&quot;'four' frequency: &quot; + lfu.getFrequency(&quot;four&quot;));\n     }\n }\n</code></pre>\n</li>\n</ul>\n<p>The result:\n<a href=\"https://i.stack.imgur.com/ZKkKB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZKkKB.png\" alt=\"enter image description here\" /></a></p>\n<p>Given the LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:</p>\n<p>Doubly Linked List: Since we need to move items around frequently (especially between different frequency queues), a doubly linked list can serve this purpose well.</p>\n<p>HashMap for Direct Access: This hashmap will be responsible for direct access to a specific node given a key (which means efficient lookups). The value stored in this hashmap would be the reference to the node in the doubly linked list.</p>\n<p>Array of LinkedHashMaps: To maintain the frequency queues (based on how many times the data has been accessed), you can use an array of LinkedHashMaps (or doubly linked lists if you want to manually manage the ordering). Each LinkedHashMap will maintain the order of insertion which represents the frequency of usage.</p>\n<p>The lookupMap allows you to get direct access to any key in O(1) time.</p>\n<p>Whenever you access a key (using the get method), the frequency of that key is increased. The node representing this key-value pair is moved from its current frequency list to the next one (indicating an increase in access frequency).</p>\n<p>The frequencyMap allows you to efficiently get items based on their frequency and maintain them in the order they were accessed (or inserted).</p>\n<p>This solution ensures that:</p>\n<ul>\n<li>Insertion is O(1).</li>\n<li>Lookup is O(1).</li>\n<li>Frequency update (due to access) is O(1).</li>\n<li>Deletion (if implemented) would also be O(1).\nGiven the structure of the <code>LFUQueue</code> you provided, let's break down the time complexity of each operation:</li>\n</ul>\n<ol>\n<li><p><strong>Insertion</strong>:</p>\n<ul>\n<li>Checking if a key exists in <code>lookupMap</code>: O(1) due to HashMap's average time complexity for lookup.</li>\n<li>Inserting into <code>lookupMap</code>: O(1) average case.</li>\n<li>Inserting into the corresponding <code>frequencyMap</code>: O(1) average case.</li>\n</ul>\n<p><strong>Conclusion</strong>: Overall, the insertion is O(1) on average. However, remember that HashMap can have a worst-case time complexity of O(n) when a hash collision occurs. In practice, with a good hashing mechanism and resizing strategy, it rarely happens.</p>\n</li>\n<li><p><strong>Lookup</strong>:</p>\n<ul>\n<li>Checking and retrieving a key from <code>lookupMap</code>: O(1) on average.</li>\n</ul>\n<p><strong>Conclusion</strong>: The lookup is O(1) on average.</p>\n</li>\n<li><p><strong>Frequency update (due to access)</strong>:</p>\n<ul>\n<li>Retrieving a node from <code>lookupMap</code>: O(1) on average.</li>\n<li>Removing the node from its current frequency list in <code>frequencyMap</code>: O(1) because we're using a LinkedHashMap and we have direct access to the node.</li>\n<li>Inserting the node into the next frequency list in <code>frequencyMap</code>: O(1) on average.</li>\n</ul>\n<p><strong>Conclusion</strong>: Frequency update is O(1) on average.</p>\n</li>\n<li><p><strong>Deletion (if implemented)</strong>:</p>\n<ul>\n<li>Retrieving a node from <code>lookupMap</code>: O(1) on average.</li>\n<li>Removing the node from its current frequency list in <code>frequencyMap</code>: O(1) for LinkedHashMap.</li>\n<li>Removing the node from <code>lookupMap</code>: O(1) on average.</li>\n</ul>\n<p><strong>Conclusion</strong>: Deletion would be O(1) on average.</p>\n</li>\n</ol>\n<p>It's worth noting that the worst-case time complexity for many of the HashMap and LinkedHashMap operations is O(n), but this worst-case scenario is quite rare in practice with a good hash function and is usually averaged out over time to provide consistent O(1) performance. However, if you have concerns about worst-case performance (e.g., due to potential adversarial input), you may want to consider using a data structure with guaranteed worst-case O(1) behavior or take steps to mitigate potential collisions in your hash function.</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436795,"creation_date":1693587985,"answer_id":77024908,"question_id":76950164,"body_markdown":"You haven&#39;t specified whether or not any given `Id` can occur in more than one FIFO.\r\n\r\nAssuming strict FIFO `add()`/`remove()` &amp; somewhat frequent lookups, cases:\r\n\r\n0. Any given ID can occur in one queue out of *N*, at most - use  \r\n   - a single Map&lt;Id, Value&gt; (I&#39;d choose `java.util.HashMap&lt;&gt;`)\r\n   - *N* `Queue&lt;Id&gt;`s  \r\n    insert into queue as required, putting in map, too  \r\n    when removing from last queue/for good, remove from map  \r\n    when removing from any other queue and reinserting, the mapping doesn&#39;t need to be changed  \r\n0. Any given ID can occur in 0 to *N* queues  \r\n  I didn&#39;t come up with anything better than the `Map&lt;Id, &quot;LinkedMap&quot;&lt;Id, Value&gt;&gt;` [Rishabh Dutt Sharma\r\n](/questions/76950164/map-with-multiple-lists#comment135653082_76950164) and [you yourself](/questions/76950164/map-with-multiple-lists#comment135666003_76950164)\r\nmention in comments.  \r\n\r\nDrawing heavily on [Shila Mosammami&#39;s answer](https://stackoverflow.com/a/77021177/3789665):\r\n~~~\r\nimport java.util.ArrayDeque;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Queue;\r\n\r\n/** Multiple (N) queues supporting: &lt;br/&gt;\r\n *  - addition to queue by ordinal  &lt;br/&gt;\r\n *  - removal by key (O(N))         &lt;br/&gt;\r\n *  - removal by ordinal            &lt;br/&gt;\r\n *  - map                           &lt;br/&gt;\r\n * no key shall be put into more than one queue. (Try and remove?)\r\n */// ToDo: decide visibility of method members\r\npublic class MultiQueue&lt;K, V&gt;\r\n{\r\n    private Queue&lt;K&gt;[] queues;\r\n    private Map&lt;K, V&gt; map;\r\n\r\n//    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public MultiQueue(final int n) {\r\n        queues = new Queue/*&lt;V&gt;*/[n];\r\n        for (int i = 0 ; i &lt; n ; i++)\r\n            queues[i] = new ArrayDeque&lt;/*V*/&gt;();\r\n        map = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void add(final K id, V value, int queue) {\r\n        queues[queue].add(id);\r\n        map.put(id, value);\r\n    }\r\n    /** Remove &lt;code&gt;key&lt;/code&gt; and associated data for good. &lt;br/&gt;\r\n     *  ToDo: specify behaviour when &lt;code&gt;key&lt;/code&gt; not first in any queue.&lt;br/&gt;\r\n     *        (currently just returns &lt;code&gt;null&lt;/code&gt;.)\r\n     *  @return key removed, else &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    V remove(final K key) {\r\n    \tfor (int i = 0 ; i &lt; queues.length ; i++)\r\n    \t\tif (queues[i].peek() == key)\r\n    \t\t\treturn remove(i);\r\n    \treturn null;\r\n    }\r\n    /** Remove first from queue. &lt;br/&gt;\r\n     *  @return value for key removed, else &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    V remove(int queue) {\r\n    \tK key = queues[queue].poll();\r\n    \treturn map.remove(key);\r\n    }\r\n    /** Move one item from queue &lt;code&gt;from&lt;/code&gt; to queue &lt;code&gt;to&lt;/code&gt;. &lt;br/&gt;\r\n     *  ToDo: What shall happen when &lt;code&gt;from == to&lt;/code&gt;?\r\n     *  @return key moved, else &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    K move(int from, int to) {\r\n    \tK moving = queues[from].poll();\r\n    \tif (null == moving)\r\n    \t\treturn null;\r\n   \t\tqueues[to].add(moving);\r\n   \t\treturn moving;\r\n    }\r\n    // XXX isolation?\r\n    Queue&lt;K&gt; queue(int queue) { return queues[queue]; }\r\n\r\n    public V get(K id)\r\n    {\r\n        return map.get(id);\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n    \tStringBuilder sb = new StringBuilder(&quot;[&quot;);\r\n    \tfor (Queue&lt;K&gt; q: queues) {\r\n    \t\tsb.append(&#39;(&#39;);\r\n    \t\tif (q.isEmpty())\r\n    \t\t\tsb.append(&quot;), &quot;);\r\n    \t\telse {\r\n\t    \t\tfor (K k: q)\r\n\t    \t\t\tsb.append(k).append(&#39;(&#39;).append(map.get(k)).append(&quot;), &quot;);\r\n\t    \t\tsb.insert(sb.length()-2, &#39;)&#39;);\r\n    \t\t}\r\n    \t}\r\n    \treturn sb.replace(sb.length()-2, sb.length(), &quot;]&quot;).toString();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        MultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\r\n        mq.add(10, &quot;Item 10&quot;, 0); // add to first queue\r\n        mq.add(20, &quot;Item 20&quot;, 1); // add to second queue\r\n        System.out.println(&quot;10: &quot; + mq.get(10));\r\n        System.out.println(&quot;20: &quot; + mq.get(20));\r\n        mq.add(10, &quot;Item 13&quot;, 1); // add to second queue\r\n        // bad luck well deserved \r\n        //  for breaking &quot;contract&quot; to enter a key to one queue at most. \r\n        System.out.println(&quot;10: &quot; + mq.get(10));\r\n        mq.move(0, 1);\r\n        System.out.println(&quot;moved: &quot; + mq.get(10));\r\n        System.out.println(mq);\r\n    }\r\n}\r\n~~~\r\n\r\n","title":"how to implement a map with multiple lists in Java","body":"<p>You haven't specified whether or not any given <code>Id</code> can occur in more than one FIFO.</p>\n<p>Assuming strict FIFO <code>add()</code>/<code>remove()</code> &amp; somewhat frequent lookups, cases:</p>\n<ol start=\"0\">\n<li>Any given ID can occur in one queue out of <em>N</em>, at most - use\n<ul>\n<li>a single Map&lt;Id, Value&gt; (I'd choose <code>java.util.HashMap&lt;&gt;</code>)</li>\n<li><em>N</em> <code>Queue&lt;Id&gt;</code>s<br />\ninsert into queue as required, putting in map, too<br />\nwhen removing from last queue/for good, remove from map<br />\nwhen removing from any other queue and reinserting, the mapping doesn't need to be changed</li>\n</ul>\n</li>\n<li>Any given ID can occur in 0 to <em>N</em> queues<br />\nI didn't come up with anything better than the <code>Map&lt;Id, &quot;LinkedMap&quot;&lt;Id, Value&gt;&gt;</code> <a href=\"/questions/76950164/map-with-multiple-lists#comment135653082_76950164\">Rishabh Dutt Sharma\n</a> and <a href=\"/questions/76950164/map-with-multiple-lists#comment135666003_76950164\">you yourself</a>\nmention in comments.</li>\n</ol>\n<p>Drawing heavily on <a href=\"https://stackoverflow.com/a/77021177/3789665\">Shila Mosammami's answer</a>:</p>\n<pre><code>import java.util.ArrayDeque;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Queue;\n\n/** Multiple (N) queues supporting: &lt;br/&gt;\n *  - addition to queue by ordinal  &lt;br/&gt;\n *  - removal by key (O(N))         &lt;br/&gt;\n *  - removal by ordinal            &lt;br/&gt;\n *  - map                           &lt;br/&gt;\n * no key shall be put into more than one queue. (Try and remove?)\n */// ToDo: decide visibility of method members\npublic class MultiQueue&lt;K, V&gt;\n{\n    private Queue&lt;K&gt;[] queues;\n    private Map&lt;K, V&gt; map;\n\n//    @SuppressWarnings(&quot;unchecked&quot;)\n    public MultiQueue(final int n) {\n        queues = new Queue/*&lt;V&gt;*/[n];\n        for (int i = 0 ; i &lt; n ; i++)\n            queues[i] = new ArrayDeque&lt;/*V*/&gt;();\n        map = new HashMap&lt;&gt;();\n    }\n\n    public void add(final K id, V value, int queue) {\n        queues[queue].add(id);\n        map.put(id, value);\n    }\n    /** Remove &lt;code&gt;key&lt;/code&gt; and associated data for good. &lt;br/&gt;\n     *  ToDo: specify behaviour when &lt;code&gt;key&lt;/code&gt; not first in any queue.&lt;br/&gt;\n     *        (currently just returns &lt;code&gt;null&lt;/code&gt;.)\n     *  @return key removed, else &lt;code&gt;null&lt;/code&gt;\n     */\n    V remove(final K key) {\n        for (int i = 0 ; i &lt; queues.length ; i++)\n            if (queues[i].peek() == key)\n                return remove(i);\n        return null;\n    }\n    /** Remove first from queue. &lt;br/&gt;\n     *  @return value for key removed, else &lt;code&gt;null&lt;/code&gt;\n     */\n    V remove(int queue) {\n        K key = queues[queue].poll();\n        return map.remove(key);\n    }\n    /** Move one item from queue &lt;code&gt;from&lt;/code&gt; to queue &lt;code&gt;to&lt;/code&gt;. &lt;br/&gt;\n     *  ToDo: What shall happen when &lt;code&gt;from == to&lt;/code&gt;?\n     *  @return key moved, else &lt;code&gt;null&lt;/code&gt;\n     */\n    K move(int from, int to) {\n        K moving = queues[from].poll();\n        if (null == moving)\n            return null;\n        queues[to].add(moving);\n        return moving;\n    }\n    // XXX isolation?\n    Queue&lt;K&gt; queue(int queue) { return queues[queue]; }\n\n    public V get(K id)\n    {\n        return map.get(id);\n    }\n    \n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(&quot;[&quot;);\n        for (Queue&lt;K&gt; q: queues) {\n            sb.append('(');\n            if (q.isEmpty())\n                sb.append(&quot;), &quot;);\n            else {\n                for (K k: q)\n                    sb.append(k).append('(').append(map.get(k)).append(&quot;), &quot;);\n                sb.insert(sb.length()-2, ')');\n            }\n        }\n        return sb.replace(sb.length()-2, sb.length(), &quot;]&quot;).toString();\n    }\n\n    public static void main(String[] args)\n    {\n        MultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\n        mq.add(10, &quot;Item 10&quot;, 0); // add to first queue\n        mq.add(20, &quot;Item 20&quot;, 1); // add to second queue\n        System.out.println(&quot;10: &quot; + mq.get(10));\n        System.out.println(&quot;20: &quot; + mq.get(20));\n        mq.add(10, &quot;Item 13&quot;, 1); // add to second queue\n        // bad luck well deserved \n        //  for breaking &quot;contract&quot; to enter a key to one queue at most. \n        System.out.println(&quot;10: &quot; + mq.get(10));\n        mq.move(0, 1);\n        System.out.println(&quot;moved: &quot; + mq.get(10));\n        System.out.println(mq);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1694436795,"creation_date":1692679404,"question_id":76950164,"body_markdown":"I have N FIFO queues to support efficient insert at tail and remove at head. Meanwhile I would like to support efficient lookup of the data in the queues, what is the best way to achieve this in Java? \r\n\r\nOne solution is to implement a linkedHashmap for each queue. However, to find the data, it needs to perform N lookups. Is there a better way to do this? \r\n\r\nThe solution mentioned above \r\n\r\n```\r\nMap&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\r\nMap&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\r\nMap&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\r\nMap&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\r\n\r\n// to read a key, I have to do the following\r\nif (q1.contains(id)) {\r\n  return q1.get(id);\r\n} else if (q2.contains(id)) {\r\n  return q2.get(id);\r\n} else if (q3.contains(id)) {\r\n  return q3.get(id);\r\n} else if (q4.contains(id)) {\r\n  return q4.get(id);\r\n}\r\n```\r\nI guess I can have a map storing the categorization, which will limit the lookups to two, but means that I have to waste some memory.\r\n\r\nEDIT 1:  \r\nAn example  \r\nData are put in different lists based on access patterns. For example, data that has been accessed once is stored in list 1, and upon the second request, the data is moved to list 2. \r\n\r\nOne can think about this as an LFU &lt;!-- LRU? --&gt; cache where each list is responsible for one frequency. In addition to the lists, I need to have an efficient lookup to find the data. \r\n","title":"how to implement a map with multiple lists in Java","body":"<p>I have N FIFO queues to support efficient insert at tail and remove at head. Meanwhile I would like to support efficient lookup of the data in the queues, what is the best way to achieve this in Java?</p>\n<p>One solution is to implement a linkedHashmap for each queue. However, to find the data, it needs to perform N lookups. Is there a better way to do this?</p>\n<p>The solution mentioned above</p>\n<pre><code>Map&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\n\n// to read a key, I have to do the following\nif (q1.contains(id)) {\n  return q1.get(id);\n} else if (q2.contains(id)) {\n  return q2.get(id);\n} else if (q3.contains(id)) {\n  return q3.get(id);\n} else if (q4.contains(id)) {\n  return q4.get(id);\n}\n</code></pre>\n<p>I guess I can have a map storing the categorization, which will limit the lookups to two, but means that I have to waste some memory.</p>\n<p>EDIT 1:<br />\nAn example<br />\nData are put in different lists based on access patterns. For example, data that has been accessed once is stored in list 1, and upon the second request, the data is moved to list 2.</p>\n<p>One can think about this as an LFU  cache where each list is responsible for one frequency. In addition to the lists, I need to have an efficient lookup to find the data.</p>\n"},{"tags":["java","jpa","entity"],"comments":[{"owner":{"account_id":78666,"reputation":2354,"user_id":223717,"display_name":"Stefan De Boey"},"score":1,"creation_date":1267195229,"post_id":2342075,"comment_id":2314163,"body_markdown":"as far as i know this is indeed not part of the standard API, so you will have to rely on the actual implementation (hibernate, toplink, ...) to get what you want","body":"as far as i know this is indeed not part of the standard API, so you will have to rely on the actual implementation (hibernate, toplink, ...) to get what you want"}],"answers":[{"tags":[],"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kochański"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268169004,"creation_date":1267213111,"answer_id":2344314,"question_id":2342075,"body_markdown":"If you use @Table annotation, there is no problem, as you have shown. If you don&#39;t use that annotation, then table name is the same as the class name (JPA default).\r\n\r\nThe fun starts if you use mapping file, you need to parse it and retrive table name - this is not very difficult, but demands some work. If you are afraid of performance issues then you can parse mapping file(s) once and cache all tables names.","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>If you use @Table annotation, there is no problem, as you have shown. If you don't use that annotation, then table name is the same as the class name (JPA default).</p>\n\n<p>The fun starts if you use mapping file, you need to parse it and retrive table name - this is not very difficult, but demands some work. If you are afraid of performance issues then you can parse mapping file(s) once and cache all tables names.</p>\n"},{"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1267264309,"creation_date":1267264309,"answer_id":2346881,"question_id":2342075,"body_markdown":"If no table annotation is present (and no ORM.xml) then in JPA the table name is formed based on the class name (see the JPA spec). Hence why exactly do you need an accessor method ?\r\n\r\nSee http://www.datanucleus.org/products/accessplatform_2_0/jpa/orm/datastore_identifiers.html","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>If no table annotation is present (and no ORM.xml) then in JPA the table name is formed based on the class name (see the JPA spec). Hence why exactly do you need an accessor method ?</p>\n\n<p>See <a href=\"http://www.datanucleus.org/products/accessplatform_2_0/jpa/orm/datastore_identifiers.html\" rel=\"nofollow noreferrer\">http://www.datanucleus.org/products/accessplatform_2_0/jpa/orm/datastore_identifiers.html</a></p>\n"},{"tags":[],"owner":{"account_id":52775,"reputation":4051,"user_id":157762,"accept_rate":93,"display_name":"Daniel Szalay"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1413532533,"creation_date":1413532099,"answer_id":26420307,"question_id":2342075,"body_markdown":"This is the method I am using with EclipseLink (no mapping file):\r\n\r\n\t/**\r\n\t * Returns the table name for a given entity type in the {@link EntityManager}.\r\n\t * @param em\r\n\t * @param entityClass\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T&gt; String getTableName(EntityManager em, Class&lt;T&gt; entityClass) {\r\n\t\t/*\r\n\t\t * Check if the specified class is present in the metamodel.\r\n\t\t * Throws IllegalArgumentException if not.\r\n\t\t */\r\n\t\tMetamodel meta = em.getMetamodel();\r\n\t\tEntityType&lt;T&gt; entityType = meta.entity(entityClass);\r\n\r\n\t\t//Check whether @Table annotation is present on the class.\r\n\t\tTable t = entityClass.getAnnotation(Table.class);\r\n\r\n\t\tString tableName = (t == null)\r\n\t\t\t\t\t\t\t? entityType.getName().toUpperCase()\r\n\t\t\t\t\t\t\t: t.name();\r\n\t\treturn tableName;\r\n\t}","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>This is the method I am using with EclipseLink (no mapping file):</p>\n\n<pre><code>/**\n * Returns the table name for a given entity type in the {@link EntityManager}.\n * @param em\n * @param entityClass\n * @return\n */\npublic static &lt;T&gt; String getTableName(EntityManager em, Class&lt;T&gt; entityClass) {\n    /*\n     * Check if the specified class is present in the metamodel.\n     * Throws IllegalArgumentException if not.\n     */\n    Metamodel meta = em.getMetamodel();\n    EntityType&lt;T&gt; entityType = meta.entity(entityClass);\n\n    //Check whether @Table annotation is present on the class.\n    Table t = entityClass.getAnnotation(Table.class);\n\n    String tableName = (t == null)\n                        ? entityType.getName().toUpperCase()\n                        : t.name();\n    return tableName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455392601,"creation_date":1455392601,"answer_id":35384527,"question_id":2342075,"body_markdown":"Asking to the meta-model of the underlaying ORM is the most reliable: looking at the presence of the @Table is not enough, not only it can be overridden by XML configuration (e.g. orm.xml) but with JOINED strategy, the @Table may be on a super-class.\r\n\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>Asking to the meta-model of the underlaying ORM is the most reliable: looking at the presence of the @Table is not enough, not only it can be overridden by XML configuration (e.g. orm.xml) but with JOINED strategy, the @Table may be on a super-class.</p>\n"},{"tags":[],"owner":{"account_id":1967946,"reputation":121,"user_id":1767676,"display_name":"Karmakulov Kirill"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532688823,"creation_date":1532688823,"answer_id":51556465,"question_id":2342075,"body_markdown":"A colleague of mine found the following solution for a **Spring Data JPA** environment backed by **Hibernate**:\r\n\r\n    import org.hibernate.internal.SessionImpl;\r\n    import org.hibernate.persister.entity.AbstractEntityPersister;\r\n    import org.hibernate.persister.entity.EntityPersister;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    \r\n    @Service\r\n    public class EntityClassToTableNameMapper {\r\n    \r\n        @Transactional\r\n        public String[] getTableNames(EntityManager em, Class entityClass) {\r\n    \r\n            Object entityExample;\r\n            try {\r\n                entityExample = entityClass.newInstance();\r\n            } catch (ReflectiveOperationException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            SessionImpl session = em.unwrap(SessionImpl.class);\r\n    \r\n            EntityPersister persister = session.getEntityPersister(null, entityExample);\r\n    \r\n            if (persister instanceof AbstractEntityPersister) {\r\n                AbstractEntityPersister persisterImpl = (AbstractEntityPersister) persister;\r\n    \r\n                String tableName = persisterImpl.getTableName();\r\n    \r\n                String rootTableName = persisterImpl.getRootTableName();\r\n    \r\n                return new String[] {rootTableName, tableName};\r\n    \r\n            } else {\r\n                throw new RuntimeException(&quot;Unexpected persister type; a subtype of AbstractEntityPersister expected.&quot;);\r\n            }\r\n        }\r\n    }\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>A colleague of mine found the following solution for a <strong>Spring Data JPA</strong> environment backed by <strong>Hibernate</strong>:</p>\n\n<pre><code>import org.hibernate.internal.SessionImpl;\nimport org.hibernate.persister.entity.AbstractEntityPersister;\nimport org.hibernate.persister.entity.EntityPersister;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport javax.persistence.EntityManager;\n\n@Service\npublic class EntityClassToTableNameMapper {\n\n    @Transactional\n    public String[] getTableNames(EntityManager em, Class entityClass) {\n\n        Object entityExample;\n        try {\n            entityExample = entityClass.newInstance();\n        } catch (ReflectiveOperationException e) {\n            throw new RuntimeException(e);\n        }\n\n        SessionImpl session = em.unwrap(SessionImpl.class);\n\n        EntityPersister persister = session.getEntityPersister(null, entityExample);\n\n        if (persister instanceof AbstractEntityPersister) {\n            AbstractEntityPersister persisterImpl = (AbstractEntityPersister) persister;\n\n            String tableName = persisterImpl.getTableName();\n\n            String rootTableName = persisterImpl.getRootTableName();\n\n            return new String[] {rootTableName, tableName};\n\n        } else {\n            throw new RuntimeException(\"Unexpected persister type; a subtype of AbstractEntityPersister expected.\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4933420,"reputation":412,"user_id":3972403,"display_name":"Shofiullah Babor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436733,"creation_date":1694436733,"answer_id":77081794,"question_id":2342075,"body_markdown":"for **Spring Data JPA 3.1.2** this work fine\r\n    \r\n\r\n    Metamodel metamodel = entityManager.getMetamodel();\r\n    MappingMetamodel mappingMetamodel = ((MappingMetamodelImpl) metamodel).getMappingMetamodel();\r\n    EntityPersister entityPersister = ((MappingMetamodelImpl) mappingMetamodel).entityPersister(User.class.name); // User is entity class\r\n    SingleTableEntityPersister entityPersisterImpl = (SingleTableEntityPersister) entityPersister.getEntityPersister();\r\n\r\n    System.out.println(entityPersisterImpl.getTableName());\r\n\r\n\r\n\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>for <strong>Spring Data JPA 3.1.2</strong> this work fine</p>\n<pre><code>Metamodel metamodel = entityManager.getMetamodel();\nMappingMetamodel mappingMetamodel = ((MappingMetamodelImpl) metamodel).getMappingMetamodel();\nEntityPersister entityPersister = ((MappingMetamodelImpl) mappingMetamodel).entityPersister(User.class.name); // User is entity class\nSingleTableEntityPersister entityPersisterImpl = (SingleTableEntityPersister) entityPersister.getEntityPersister();\n\nSystem.out.println(entityPersisterImpl.getTableName());\n</code></pre>\n"}],"owner":{"account_id":56588,"reputation":1257,"user_id":169533,"accept_rate":87,"display_name":"marabol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40632,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":2346881,"answer_count":6,"score":39,"last_activity_date":1694436733,"creation_date":1267192670,"question_id":2342075,"body_markdown":"Is it possible to determine the native table name of an entity?\r\n\r\nIf a `Table` annotation is present it&#39;s easy:\r\n\r\n\tentityClass.getAnnotation(Table.class).name()\r\n\r\nBut what about if no `Table` annotation is present?\r\n\r\nHibernate provides this information via the [`Configuration`](https://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping%28java.lang.String%29:) class:\r\n\r\n\tconfiguration.getClassMapping(entityClass.getSimpleName()).getTable().getName()\r\n\r\nIs there something similar in JPA?\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>Is it possible to determine the native table name of an entity?</p>\n\n<p>If a <code>Table</code> annotation is present it's easy:</p>\n\n<pre><code>entityClass.getAnnotation(Table.class).name()\n</code></pre>\n\n<p>But what about if no <code>Table</code> annotation is present?</p>\n\n<p>Hibernate provides this information via the <a href=\"https://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping%28java.lang.String%29:\" rel=\"noreferrer\"><code>Configuration</code></a> class:</p>\n\n<pre><code>configuration.getClassMapping(entityClass.getSimpleName()).getTable().getName()\n</code></pre>\n\n<p>Is there something similar in JPA?</p>\n"},{"tags":["java","youtube-api","google-oauth","youtube-data-api","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694436582,"creation_date":1694436582,"answer_id":77081782,"question_id":77081416,"body_markdown":"The client library will handle user token storage if its configured properly.\r\n\r\nYou forgot to configure `setDataStoreFactory`\r\n\r\n\r\n    // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n\r\nMy TOKENS_DIRECTORY_PATH is just set to tokens then it stores them in the current directory.\r\n\r\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;","title":"Do I have to Google Sign everytime to upload a Video to Youtbe using Java?","body":"<p>The client library will handle user token storage if its configured properly.</p>\n<p>You forgot to configure <code>setDataStoreFactory</code></p>\n<pre><code>// Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n            .setAccessType(&quot;offline&quot;)\n            .build();\n</code></pre>\n<p>My TOKENS_DIRECTORY_PATH is just set to tokens then it stores them in the current directory.</p>\n<pre><code>private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n</code></pre>\n"}],"owner":{"account_id":29414317,"reputation":11,"user_id":22537498,"display_name":"Sinio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77081782,"answer_count":1,"score":0,"last_activity_date":1694436607,"creation_date":1694433466,"question_id":77081416,"body_markdown":"```java\r\npublic static Credential authorize(final NetHttpTransport httpTransport) throws IOException {\r\n\tInputStream in = new FileInputStream(CLIENT_SECRETS);\r\n\tGoogleClientSecrets clientSecrets =\r\n\tGoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\tGoogleAuthorizationCodeFlow flow =\r\n\tnew GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\r\n\t\t.setAccessType(&quot;offline&quot;)\r\n\t\t.build();\r\n\tint defaultPort = 5005;\r\n\tLocalServerReceiver customReceiver = new LocalServerReceiver.Builder()\r\n\t\t.setHost(&quot;localhost&quot;)\r\n\t\t.setPort(defaultPort)\r\n\t\t.build();\r\n\tCredential credential =\tnew AuthorizationCodeInstalledApp(flow, customReceiver).authorize(&quot;userid&quot;);\r\n\treturn credential;\r\n}\r\n\r\npublic static YouTube getService() throws GeneralSecurityException, IOException {\r\n\tfinal NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\tCredential credential = authorize(httpTransport);\r\n\treturn new YouTube.Builder(httpTransport, JSON_FACTORY, credential)\r\n\t\t.setApplicationName(APPLICATION_NAME)\r\n\t\t.build();\r\n}\r\n```\r\n\r\nSo Everything works for me but i need to login everytime which I would prefer not doing. Is it possible to modify the code or anything else so it does that automaticly with given Email and password?\r\n","title":"Do I have to Google Sign everytime to upload a Video to Youtbe using Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static Credential authorize(final NetHttpTransport httpTransport) throws IOException {\n    InputStream in = new FileInputStream(CLIENT_SECRETS);\n    GoogleClientSecrets clientSecrets =\n    GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n    GoogleAuthorizationCodeFlow flow =\n    new GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\n        .setAccessType(&quot;offline&quot;)\n        .build();\n    int defaultPort = 5005;\n    LocalServerReceiver customReceiver = new LocalServerReceiver.Builder()\n        .setHost(&quot;localhost&quot;)\n        .setPort(defaultPort)\n        .build();\n    Credential credential = new AuthorizationCodeInstalledApp(flow, customReceiver).authorize(&quot;userid&quot;);\n    return credential;\n}\n\npublic static YouTube getService() throws GeneralSecurityException, IOException {\n    final NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    Credential credential = authorize(httpTransport);\n    return new YouTube.Builder(httpTransport, JSON_FACTORY, credential)\n        .setApplicationName(APPLICATION_NAME)\n        .build();\n}\n</code></pre>\n<p>So Everything works for me but i need to login everytime which I would prefer not doing. Is it possible to modify the code or anything else so it does that automaticly with given Email and password?</p>\n"},{"tags":["java","docker","ebpf","bcc-bpf","flamegraph"],"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694436360,"creation_date":1694435004,"question_id":77081594,"body_markdown":"I&#39;m running a java application in ECS on AWS with one task per EC2 instance. In other words, I&#39;m running a single instance of an application per server with no interfering workloads. I&#39;ve been following this doc:\r\n\r\nhttps://www.slideshare.net/brendangregg/java-performance-analysis-on-linux-with-flame-graphs\r\n\r\nI&#39;m currently using the `profile` BCC script to generate the stack dumps with the command (the command being run on the host and not within the container namespace):\r\n\r\n    /usr/share/bcc/tools/profile -F 99 -adf 60 -p &lt;pid&gt; &gt; profile.out.folded\r\n\r\nAfter providing the JVM the `-XX:+PreserveFramePointer` flag, I get a flamegraph looking like follows:\r\n\r\n[![Flamegraph with unknown symbols][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Br0D.png\r\n\r\nHow do I get the symbols? The docs by Brendan Gregg are 7 years old and there&#39;s been tremendous progress within the bpf ecosystem during that timeframe. Does anyone have this working with a containerized application and what would be the easiest way to get symbols out of a JVM? The JVMTI agent mentioned in the project that dumps symbols to `/tmp` has been stale for many years already.\r\n\r\nAnyone doing such profiling in production using bpf tooling? If so how?","title":"Flamegraphs for java apps within docker","body":"<p>I'm running a java application in ECS on AWS with one task per EC2 instance. In other words, I'm running a single instance of an application per server with no interfering workloads. I've been following this doc:</p>\n<p><a href=\"https://www.slideshare.net/brendangregg/java-performance-analysis-on-linux-with-flame-graphs\" rel=\"nofollow noreferrer\">https://www.slideshare.net/brendangregg/java-performance-analysis-on-linux-with-flame-graphs</a></p>\n<p>I'm currently using the <code>profile</code> BCC script to generate the stack dumps with the command (the command being run on the host and not within the container namespace):</p>\n<pre><code>/usr/share/bcc/tools/profile -F 99 -adf 60 -p &lt;pid&gt; &gt; profile.out.folded\n</code></pre>\n<p>After providing the JVM the <code>-XX:+PreserveFramePointer</code> flag, I get a flamegraph looking like follows:</p>\n<p><a href=\"https://i.stack.imgur.com/7Br0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Br0D.png\" alt=\"Flamegraph with unknown symbols\" /></a></p>\n<p>How do I get the symbols? The docs by Brendan Gregg are 7 years old and there's been tremendous progress within the bpf ecosystem during that timeframe. Does anyone have this working with a containerized application and what would be the easiest way to get symbols out of a JVM? The JVMTI agent mentioned in the project that dumps symbols to <code>/tmp</code> has been stale for many years already.</p>\n<p>Anyone doing such profiling in production using bpf tooling? If so how?</p>\n"},{"tags":["java","java-8","java-17"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436314,"creation_date":1694436314,"answer_id":77081758,"question_id":77081721,"body_markdown":"You can install multiple JDK on same server and run different application with different JDK.\r\n\r\nIn command line just run the .jar file with the JVM of your choice.","title":"Can I use multiple java versions in parallel (Centos 7)","body":"<p>You can install multiple JDK on same server and run different application with different JDK.</p>\n<p>In command line just run the .jar file with the JVM of your choice.</p>\n"}],"owner":{"account_id":18506004,"reputation":23,"user_id":13482280,"display_name":"Domagoj Marosevic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1694436795,"answer_count":1,"score":-2,"last_activity_date":1694436314,"creation_date":1694436094,"question_id":77081721,"body_markdown":"On my server I have deployed application which use java 8, but now I have to deploy one more application which use java 17. Can anyone tell how can I run both java versions at same time? Is it even possible and how?\r\n\r\nBtw I&#39;m using Centos 7.","title":"Can I use multiple java versions in parallel (Centos 7)","body":"<p>On my server I have deployed application which use java 8, but now I have to deploy one more application which use java 17. Can anyone tell how can I run both java versions at same time? Is it even possible and how?</p>\n<p>Btw I'm using Centos 7.</p>\n"},{"tags":["java","database","jpa","wildfly","jta"],"comments":[{"owner":{"account_id":3058875,"reputation":539,"user_id":2591987,"display_name":"Paulo Ara&#250;jo"},"score":0,"creation_date":1675857714,"post_id":75328640,"comment_id":133017156,"body_markdown":"Is your A class and EJB or CDI bean? In that case, annotating it with Transactional (or the externally *called* methods) with Transactional would do the trick. Please note that internal callings (such as from init() to other Transactional annotated methods) won&#39;t be intercepted and, as such, won&#39;t start transactions. Can you please show all the annotations and your persistence.xml. It should work with JTA without issues.","body":"Is your A class and EJB or CDI bean? In that case, annotating it with Transactional (or the externally <i>called</i> methods) with Transactional would do the trick. Please note that internal callings (such as from init() to other Transactional annotated methods) won&#39;t be intercepted and, as such, won&#39;t start transactions. Can you please show all the annotations and your persistence.xml. It should work with JTA without issues."}],"answers":[{"tags":[],"owner":{"account_id":7937595,"reputation":1918,"user_id":5992948,"accept_rate":47,"display_name":"y07k2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436122,"creation_date":1694436122,"answer_id":77081726,"question_id":75328640,"body_markdown":"I just used something like this (also for old PU):\r\n```\r\nEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(getPUName());\r\nEntityManager entityManager = entityManagerFactory.createEntityManager();\r\n```\r\nand in `persistence.xml` we need to change standard `JTA` to `RESOURCE_LOCAL` and `jta-data-source` property to `non-jta-data-source` property:\r\n```\r\n&lt;persistence-unit name=&quot;YourPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n  &lt;non-jta-data-source&gt;java:jboss/datasources/YourDS&lt;/non-jta-data-source&gt;\r\n&lt;/persistence-unit&gt;\r\n```\r\nSo while using `RESOURCE_LOCAL` we need to secure two things, **transaction**:\r\n```\r\nentityManager.getTransaction().begin();\r\n// code\r\nentityManager.getTransaction().commit();\r\n```\r\nand after all remember to **close** things up:\r\n```\r\nentityManagerFactory.close();\r\n```","title":"Unnable to use multiple JTA EntityManager at the same time","body":"<p>I just used something like this (also for old PU):</p>\n<pre><code>EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(getPUName());\nEntityManager entityManager = entityManagerFactory.createEntityManager();\n</code></pre>\n<p>and in <code>persistence.xml</code> we need to change standard <code>JTA</code> to <code>RESOURCE_LOCAL</code> and <code>jta-data-source</code> property to <code>non-jta-data-source</code> property:</p>\n<pre><code>&lt;persistence-unit name=&quot;YourPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n  &lt;non-jta-data-source&gt;java:jboss/datasources/YourDS&lt;/non-jta-data-source&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>So while using <code>RESOURCE_LOCAL</code> we need to secure two things, <strong>transaction</strong>:</p>\n<pre><code>entityManager.getTransaction().begin();\n// code\nentityManager.getTransaction().commit();\n</code></pre>\n<p>and after all remember to <strong>close</strong> things up:</p>\n<pre><code>entityManagerFactory.close();\n</code></pre>\n"}],"owner":{"account_id":7937595,"reputation":1918,"user_id":5992948,"accept_rate":47,"display_name":"y07k2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694436122,"creation_date":1675369990,"question_id":75328640,"body_markdown":"Trying to query data from legacy database (with different datasource) to current database, but got two exceptions in two scenarios.\r\n\r\nI&#39;ve got an implementation like this:\r\n\r\n```\r\nclass A {\r\n\r\n  @PersistenceContext(unitName = &quot;EPU&quot;)\r\n  EntityManager schemaEntityManager;\r\n\r\n  @PersistenceContext(unitName = &quot;ELegacyPU&quot;)\r\n  EntityManager oldSchemaEntityManager;\r\n\r\n  void init() {\r\n     queryFromDatabase();\r\n     // check if it is empty, if true then query from legacy\r\n     queryFromLegacyDatabase();\r\n     recreateLegacyInCurrentDatabase();\r\n  }\r\n\r\n  List&lt;E&gt; queryFromDatabase() {\r\n    // query from schemaEntityManager\r\n  }\r\n  \r\n  List&lt;ELegacy&gt; queryFromOldDatabase() {\r\n    // query from oldSchemaEntityManager\r\n  }\r\n\r\n  void recreateLegacyInCurrentDatabase() {\r\n    // records -&gt; schemaEntityManager.merge()\r\n  }\r\n}\r\n```\r\n\r\nWhile I&#39;m trying to run this with `@Translational` over `recreateLegacyInCurrentDatabase` method, then got exception from this method (cannot found any valid info over hibernate&#39;s TRACE log-level):\r\n```\r\njavax.persistence.TransactionRequiredException: WFLYJPA0060: Transaction is required to perform this operation (either use a transaction or extended persistence context)\r\n\tat org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.transactionIsRequired(AbstractEntityManager.java:880)\r\n\tat org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.merge(AbstractEntityManager.java:567)\r\n```\r\nWhile I&#39;m trying to run this with `@Translational` over only class **or** over only `queryFromDatabase`/`queryFromOldDatabase` method **or** over any of this two cases + `recreateLegacyInCurrentDatabase`, then got exception from `queryFromOldDatabase` (cannot found any valid info over hibernate&#39;s TRACE log-level):\r\n```\r\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575)\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.query.Query.getResultList(Query.java:132)\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74)\r\n...\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n...\r\nCaused by: java.sql.SQLException: IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK\r\n```\r\n\r\nI use JTA configured under `persistence.xml` &amp; trying not to use RESOURCE_LOCAL instead of this or there is no option to do this without RESOURCE_LOCAL configuration in `persistence.xml`?","title":"Unnable to use multiple JTA EntityManager at the same time","body":"<p>Trying to query data from legacy database (with different datasource) to current database, but got two exceptions in two scenarios.</p>\n<p>I've got an implementation like this:</p>\n<pre><code>class A {\n\n  @PersistenceContext(unitName = &quot;EPU&quot;)\n  EntityManager schemaEntityManager;\n\n  @PersistenceContext(unitName = &quot;ELegacyPU&quot;)\n  EntityManager oldSchemaEntityManager;\n\n  void init() {\n     queryFromDatabase();\n     // check if it is empty, if true then query from legacy\n     queryFromLegacyDatabase();\n     recreateLegacyInCurrentDatabase();\n  }\n\n  List&lt;E&gt; queryFromDatabase() {\n    // query from schemaEntityManager\n  }\n  \n  List&lt;ELegacy&gt; queryFromOldDatabase() {\n    // query from oldSchemaEntityManager\n  }\n\n  void recreateLegacyInCurrentDatabase() {\n    // records -&gt; schemaEntityManager.merge()\n  }\n}\n</code></pre>\n<p>While I'm trying to run this with <code>@Translational</code> over <code>recreateLegacyInCurrentDatabase</code> method, then got exception from this method (cannot found any valid info over hibernate's TRACE log-level):</p>\n<pre><code>javax.persistence.TransactionRequiredException: WFLYJPA0060: Transaction is required to perform this operation (either use a transaction or extended persistence context)\n    at org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.transactionIsRequired(AbstractEntityManager.java:880)\n    at org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.merge(AbstractEntityManager.java:567)\n</code></pre>\n<p>While I'm trying to run this with <code>@Translational</code> over only class <strong>or</strong> over only <code>queryFromDatabase</code>/<code>queryFromOldDatabase</code> method <strong>or</strong> over any of this two cases + <code>recreateLegacyInCurrentDatabase</code>, then got exception from <code>queryFromOldDatabase</code> (cannot found any valid info over hibernate's TRACE log-level):</p>\n<pre><code>javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not prepare statement\n    at org.hibernate@5.3.20.Final//org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate@5.3.20.Final//org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575)\n    at org.hibernate@5.3.20.Final//org.hibernate.query.Query.getResultList(Query.java:132)\n    at org.hibernate@5.3.20.Final//org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74)\n...\nCaused by: org.hibernate.exception.GenericJDBCException: could not prepare statement\n...\nCaused by: java.sql.SQLException: IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK\n</code></pre>\n<p>I use JTA configured under <code>persistence.xml</code> &amp; trying not to use RESOURCE_LOCAL instead of this or there is no option to do this without RESOURCE_LOCAL configuration in <code>persistence.xml</code>?</p>\n"},{"tags":["java","spring-boot","swagger"],"answers":[{"tags":[],"owner":{"account_id":5130631,"reputation":38,"user_id":4110967,"display_name":"BlackSheep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436088,"creation_date":1694436088,"answer_id":77081720,"question_id":69618768,"body_markdown":"notice you are using content-disposition &quot;attachment&quot;, which tells the browser to serve a file and download it (open a dialog of where to save the file most of the times). if you want the browser to try and parse the file you are serving - use content-disposition &quot;inline&quot;.\r\n\r\nabout swagger - you want to show matching behavior between swagger and the real API.\r\n\r\n[https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition][Content-Disposition]\r\n\r\n\r\n  [Content-Disposition]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition","title":"How to preview API JSON response in swagger when using content-disposition: attachment; filename=&quot;api.json&quot;","body":"<p>notice you are using content-disposition &quot;attachment&quot;, which tells the browser to serve a file and download it (open a dialog of where to save the file most of the times). if you want the browser to try and parse the file you are serving - use content-disposition &quot;inline&quot;.</p>\n<p>about swagger - you want to show matching behavior between swagger and the real API.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition</a></p>\n"}],"owner":{"account_id":21197870,"reputation":11,"user_id":15589069,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694436088,"creation_date":1634571195,"question_id":69618768,"body_markdown":"I am using Java, Swagger 2. \r\n\r\nI need to use `content-disposition: attachment; filename=&quot;file.json&quot;` in the response header of the APIs but when I use this header, I see the Download file button link and the file includes the response. When I use the APIs in UI(React) or any other rest API client, I get JSON response rather than download file link which is expected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is how I am setting header in CORS filter.\r\n\r\n    private void setHeaders(HttpServletResponse response, HttpServletRequest request){\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;file.json\\&quot;&quot;);\r\n      }\r\n\r\nSetting `application/json`\r\n\r\n    @GetMapping(path=&quot;/xyz&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n\r\nI want swagger also to preview the response JSON rather than showing up the Download link button.\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pZClV.png","title":"How to preview API JSON response in swagger when using content-disposition: attachment; filename=&quot;api.json&quot;","body":"<p>I am using Java, Swagger 2.</p>\n<p>I need to use <code>content-disposition: attachment; filename=&quot;file.json&quot;</code> in the response header of the APIs but when I use this header, I see the Download file button link and the file includes the response. When I use the APIs in UI(React) or any other rest API client, I get JSON response rather than download file link which is expected.</p>\n<p><a href=\"https://i.stack.imgur.com/pZClV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pZClV.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I am setting header in CORS filter.</p>\n<pre><code>private void setHeaders(HttpServletResponse response, HttpServletRequest request){\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;file.json\\&quot;&quot;);\n  }\n</code></pre>\n<p>Setting <code>application/json</code></p>\n<pre><code>@GetMapping(path=&quot;/xyz&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\n</code></pre>\n<p>I want swagger also to preview the response JSON rather than showing up the Download link button.</p>\n"},{"tags":["java","spring-boot","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694433225,"creation_date":1694432787,"answer_id":77081363,"question_id":77081319,"body_markdown":"Using the `@Autowired` annotation in controller methods isn&#39;t supported. You need to autowire them into the class itself. For example:\r\n\r\n```java\r\n@RestController\r\npublic class NodeController {\r\n    @Autowired\r\n    private SocialNetwork socialNetwork; // Add this\r\n\r\n    @PostMapping(&quot;/metrics&quot;)\r\n    // Remove the SocialNetwork parameter from computeMetrics()\r\n    public MetricJSON computeMetrics( \r\n            @Valid @RequestBody MetricsPayload payload\r\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n        return new MetricJSON(socialNetwork.fromRequest(payload));\r\n    }\r\n}\r\n```\r\n\r\n(Preferably, you use construction injection in stead of field injection with `@Autowired`.)\r\n\r\nThe reason why you get this `NullPointerException` is because Spring will treat the `socialNetwork` parameter in your controller as a class where request attributes can be binded upon. This causes Spring to create a new instance of `SocialNetwork`, but not as a bean. So in this new instance of `SocialNetwork`, dependency injection won&#39;t happen.\r\n\r\nRelated: https://stackoverflow.com/q/19896870/1915448","title":"Spring Boot @Autowired field return .NullPointerException (Using neo4J)","body":"<p>Using the <code>@Autowired</code> annotation in controller methods isn't supported. You need to autowire them into the class itself. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class NodeController {\n    @Autowired\n    private SocialNetwork socialNetwork; // Add this\n\n    @PostMapping(&quot;/metrics&quot;)\n    // Remove the SocialNetwork parameter from computeMetrics()\n    public MetricJSON computeMetrics( \n            @Valid @RequestBody MetricsPayload payload\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        return new MetricJSON(socialNetwork.fromRequest(payload));\n    }\n}\n</code></pre>\n<p>(Preferably, you use construction injection in stead of field injection with <code>@Autowired</code>.)</p>\n<p>The reason why you get this <code>NullPointerException</code> is because Spring will treat the <code>socialNetwork</code> parameter in your controller as a class where request attributes can be binded upon. This causes Spring to create a new instance of <code>SocialNetwork</code>, but not as a bean. So in this new instance of <code>SocialNetwork</code>, dependency injection won't happen.</p>\n<p>Related: <a href=\"https://stackoverflow.com/q/19896870/1915448\">Why is my Spring @Autowired field null?</a></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694435721,"creation_date":1694435721,"answer_id":77081680,"question_id":77081319,"body_markdown":"You shouldn&#39;t use [`@Autowired`][1] on a method parameter. It&#39;s not used by autowiring. \r\n\r\n&gt;Marks a constructor, field, setter method or config method as to be autowired by Spring&#39;s dependency injection facilities.\r\n\r\nInstead create a property of controller and use it in the method \r\n\r\n\r\n```\r\n@RestController\r\npublic class NodeController {\r\n\r\n   @Autowired SocialNetwork socialNetwork;\r\n\r\n    @PostMapping(&quot;/metrics&quot;)\r\n    public MetricJSON computeMetrics(\r\n            @Valid @RequestBody MetricsPayload payload\r\n            \r\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n        return new MetricJSON(socialNetwork.fromRequest(payload));\r\n   }\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.4.RELEASE_to_4.0.0.M3/Spring%20Framework%203.2.4.RELEASE/org/springframework/beans/factory/annotation/Autowired.html","title":"Spring Boot @Autowired field return .NullPointerException (Using neo4J)","body":"<p>You shouldn't use <a href=\"https://docs.spring.io/spring-framework/docs/3.2.4.RELEASE_to_4.0.0.M3/Spring%20Framework%203.2.4.RELEASE/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\"><code>@Autowired</code></a> on a method parameter. It's not used by autowiring.</p>\n<blockquote>\n<p>Marks a constructor, field, setter method or config method as to be autowired by Spring's dependency injection facilities.</p>\n</blockquote>\n<p>Instead create a property of controller and use it in the method</p>\n<pre><code>@RestController\npublic class NodeController {\n\n   @Autowired SocialNetwork socialNetwork;\n\n    @PostMapping(&quot;/metrics&quot;)\n    public MetricJSON computeMetrics(\n            @Valid @RequestBody MetricsPayload payload\n            \n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        return new MetricJSON(socialNetwork.fromRequest(payload));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":29413405,"reputation":1,"user_id":22536777,"display_name":"JeanLucR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694435721,"creation_date":1694432381,"question_id":77081319,"body_markdown":"I am making a small api using spring-boot and Neo4J, but for some reason the `@autowired` attributes to the domains are null in one of my `@Service` class. The automatically generated route correctly returns the nodes from Neo4J database, so I assume they must be some error in the beans connection\r\n\r\nThe controller :\r\n\r\n```\r\n@RestController\r\npublic class NodeController {\r\n    @PostMapping(&quot;/metrics&quot;)\r\n    public MetricJSON computeMetrics(\r\n            @Valid @RequestBody MetricsPayload payload,\r\n            @Autowired SocialNetwork socialNetwork\r\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n        return new MetricJSON(socialNetwork.fromRequest(payload));\r\n    }\r\n```\r\n\r\nThe `@Service` class\r\n\r\n```\r\n@Service\r\npublic class SocialNetwork  {\r\n    @Autowired\r\n    public NetworkRepository networkRepository;\r\n\r\n    @Autowired\r\n    public NodeRepository nodeRepository;\r\n\r\n    @Autowired\r\n    public Evolution evolution;\r\n\r\n    public PersonalNetwork fromRequest(@NotNull MetricsPayload payload) throws NoSuchMethodException, InstantiationException, IllegalAccessException, InvocationTargetException {\r\n        Network network = this.networkRepository.findById(payload.getNetworkId()).orElseThrow(NotFoundException::new);\r\n        Node ego = this.nodeRepository.findByTag(payload.getEgoTag()).orElseThrow(NotFoundException::new);\r\nSimpleWeightedGraph&lt;Integer, DefaultWeightedEdge&gt; opn = this.nodeRepository.extractOPN(ego, payload.getDepth());\r\n        return this.fromGraph(opn, ego, payload);\r\n}\r\n```\r\n\r\nThe Node domain class :\r\n\r\n```\r\n@org.springframework.data.neo4j.core.schema.Node(&quot;Node&quot;)\r\npublic class Node {\r\n    @Id\r\n    private String id;\r\n    @Property(&quot;tag&quot;)\r\n    private String tag;\r\n    @Relationship(type = &quot;FROM&quot;, direction = OUTGOING)\r\n    private Set&lt;Node&gt; outgoingNodes;\r\n    @Relationship(type = &quot;TO&quot;, direction = INCOMING)\r\n    private Set&lt;Node&gt; incomingNodes;\r\n    public String getTag() {\r\n        return tag;\r\n    }\r\n\r\n    public Set&lt;Node&gt; getOutgoingNodes() {\r\n        return outgoingNodes;\r\n    }\r\n```\r\n\r\nThe NodeRepository class :\r\n\r\n```\r\npublic interface NodeRepository extends Neo4jRepository&lt;Node, String&gt; {\r\n    Optional&lt;Node&gt; findByTag(String tag);\r\n}\r\n```\r\n\r\nAnd yet when I run the API I obtain this error :\r\n\r\n`Failed to complete request: java.lang.NullPointerException: Cannot invoke &quot;com.api.repositories.NodeRepository.findByTag(String)&quot; because &quot;this.nodeRepository&quot; is null`","title":"Spring Boot @Autowired field return .NullPointerException (Using neo4J)","body":"<p>I am making a small api using spring-boot and Neo4J, but for some reason the <code>@autowired</code> attributes to the domains are null in one of my <code>@Service</code> class. The automatically generated route correctly returns the nodes from Neo4J database, so I assume they must be some error in the beans connection</p>\n<p>The controller :</p>\n<pre><code>@RestController\npublic class NodeController {\n    @PostMapping(&quot;/metrics&quot;)\n    public MetricJSON computeMetrics(\n            @Valid @RequestBody MetricsPayload payload,\n            @Autowired SocialNetwork socialNetwork\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        return new MetricJSON(socialNetwork.fromRequest(payload));\n    }\n</code></pre>\n<p>The <code>@Service</code> class</p>\n<pre><code>@Service\npublic class SocialNetwork  {\n    @Autowired\n    public NetworkRepository networkRepository;\n\n    @Autowired\n    public NodeRepository nodeRepository;\n\n    @Autowired\n    public Evolution evolution;\n\n    public PersonalNetwork fromRequest(@NotNull MetricsPayload payload) throws NoSuchMethodException, InstantiationException, IllegalAccessException, InvocationTargetException {\n        Network network = this.networkRepository.findById(payload.getNetworkId()).orElseThrow(NotFoundException::new);\n        Node ego = this.nodeRepository.findByTag(payload.getEgoTag()).orElseThrow(NotFoundException::new);\nSimpleWeightedGraph&lt;Integer, DefaultWeightedEdge&gt; opn = this.nodeRepository.extractOPN(ego, payload.getDepth());\n        return this.fromGraph(opn, ego, payload);\n}\n</code></pre>\n<p>The Node domain class :</p>\n<pre><code>@org.springframework.data.neo4j.core.schema.Node(&quot;Node&quot;)\npublic class Node {\n    @Id\n    private String id;\n    @Property(&quot;tag&quot;)\n    private String tag;\n    @Relationship(type = &quot;FROM&quot;, direction = OUTGOING)\n    private Set&lt;Node&gt; outgoingNodes;\n    @Relationship(type = &quot;TO&quot;, direction = INCOMING)\n    private Set&lt;Node&gt; incomingNodes;\n    public String getTag() {\n        return tag;\n    }\n\n    public Set&lt;Node&gt; getOutgoingNodes() {\n        return outgoingNodes;\n    }\n</code></pre>\n<p>The NodeRepository class :</p>\n<pre><code>public interface NodeRepository extends Neo4jRepository&lt;Node, String&gt; {\n    Optional&lt;Node&gt; findByTag(String tag);\n}\n</code></pre>\n<p>And yet when I run the API I obtain this error :</p>\n<p><code>Failed to complete request: java.lang.NullPointerException: Cannot invoke &quot;com.api.repositories.NodeRepository.findByTag(String)&quot; because &quot;this.nodeRepository&quot; is null</code></p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694427997,"post_id":77080790,"comment_id":135885082,"body_markdown":"Why do you scroll the `ResultSet` to the end in the first place?","body":"Why do you scroll the <code>ResultSet</code> to the end in the first place?"},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694428401,"post_id":77080790,"comment_id":135885138,"body_markdown":"@Kayaman What do you mean? If you&#39;re wondering why I wrote &#39;rs.last&#39; at the start, it&#39;s to count the entire result.","body":"@Kayaman What do you mean? If you&#39;re wondering why I wrote &#39;rs.last&#39; at the start, it&#39;s to count the entire result."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694428929,"post_id":77080790,"comment_id":135885212,"body_markdown":"Yeah, counting the resultset size up front is always suspicious. Proper programming would have kept your code working with a forward_only resultset.","body":"Yeah, counting the resultset size up front is always suspicious. Proper programming would have kept your code working with a forward_only resultset."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694429390,"post_id":77080790,"comment_id":135885278,"body_markdown":"@Kayaman The count of the result is needed at the beginning. Because we are performing some calculations based on the count.","body":"@Kayaman The count of the result is needed at the beginning. Because we are performing some calculations based on the count."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694429404,"post_id":77080790,"comment_id":135885285,"body_markdown":"Even if `rs.last()` still worked, it would be still undesirable. It&#39;s an expensive and redundant operation. Add the results to your &#39;dto&#39; and you&#39;ll *know* how many you got. And in any case, you could have used `select count(*)` if absolutely necessary (more efficient ) You could even possibly do your &quot;calculations&quot; in SQL","body":"Even if <code>rs.last()</code> still worked, it would be still undesirable. It&#39;s an expensive and redundant operation. Add the results to your &#39;dto&#39; and you&#39;ll <i>know</i> how many you got. And in any case, you could have used <code>select count(*)</code> if absolutely necessary (more efficient ) You could even possibly do your &quot;calculations&quot; in SQL"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694429633,"post_id":77080790,"comment_id":135885314,"body_markdown":"Well, if you&#39;re returning a `ResultSet` from a method, your code probably has a lot of other quality issues. But the `rs.last()` is a real beginner-flag.","body":"Well, if you&#39;re returning a <code>ResultSet</code> from a method, your code probably has a lot of other quality issues. But the <code>rs.last()</code> is a real beginner-flag."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694429996,"post_id":77080790,"comment_id":135885378,"body_markdown":"@g00se The query we are using is something like this: `SELECT COUNT(*), rid FROM rm_info_history WHERE rid IN (&#39;1021878&#39;, &#39;1022883&#39;, &#39;1025119&#39;) GROUP BY rid;` So it&#39;s not just about taking the count. We are using the result set after finding the count of the result.","body":"@g00se The query we are using is something like this: <code>SELECT COUNT(*), rid FROM rm_info_history WHERE rid IN (&#39;1021878&#39;, &#39;1022883&#39;, &#39;1025119&#39;) GROUP BY rid;</code> So it&#39;s not just about taking the count. We are using the result set after finding the count of the result."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694430699,"post_id":77080790,"comment_id":135885497,"body_markdown":"@Kayaman Yeah, But the batch was working fine until the migration. Why would the forward_only result set throwing error now. We did updated the dependency `mysql-connector-java`","body":"@Kayaman Yeah, But the batch was working fine until the migration. Why would the forward_only result set throwing error now. We did updated the dependency <code>mysql-connector-java</code>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1694431445,"post_id":77080790,"comment_id":135885623,"body_markdown":"Well, your code was not compatible with `ResultSet.FORWARD_ONLY` to begin with since it doesn&#39;t support seeking in the ResultSet. Your code worked _by accident_ and after updates you&#39;re seeing what should have happened before already. But based on some eariler related questions, I assume MySQL loaded the full ResultSet and allowed you to seek in it *even with*  a `FORWARD_ONLY` hint. Maybe there was a bugfix in some version of the driver and now it behaves correctly.","body":"Well, your code was not compatible with <code>ResultSet.FORWARD_ONLY</code> to begin with since it doesn&#39;t support seeking in the ResultSet. Your code worked <i>by accident</i> and after updates you&#39;re seeing what should have happened before already. But based on some eariler related questions, I assume MySQL loaded the full ResultSet and allowed you to seek in it <i>even with</i>  a <code>FORWARD_ONLY</code> hint. Maybe there was a bugfix in some version of the driver and now it behaves correctly."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694431522,"post_id":77080790,"comment_id":135885640,"body_markdown":"E.g. some smart, handsome devil here is talking about MySQL details wrt ResultSets https://stackoverflow.com/a/30162192/2541560","body":"E.g. some smart, handsome devil here is talking about MySQL details wrt ResultSets <a href=\"https://stackoverflow.com/a/30162192/2541560\">stackoverflow.com/a/30162192/2541560</a>"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1694431881,"post_id":77080790,"comment_id":135885700,"body_markdown":"IIRC, MySQL Connector/J silently upgraded to SCROLL_INSENSITIVE, which is allowed by the JDBC specification.","body":"IIRC, MySQL Connector/J silently upgraded to SCROLL_INSENSITIVE, which is allowed by the JDBC specification."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694432205,"post_id":77080790,"comment_id":135885760,"body_markdown":"*@g00se The query we are using is something like this:...* So, your row count is in range 0 thru 3 and your &#39;dto&#39; list needs a capacity of 3. I don&#39;t see the need to know the count in advance","body":"<i>@g00se The query we are using is something like this:...</i> So, your row count is in range 0 thru 3 and your &#39;dto&#39; list needs a capacity of 3. I don&#39;t see the need to know the count in advance"},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694436884,"post_id":77080790,"comment_id":135886643,"body_markdown":"@MarkRotteveel So you&#39;re saying, it worked before because it was silently upgraded to the  SCROLL_INSENSITIVE?. Could you please share which part of the specification mentioned about it.","body":"@MarkRotteveel So you&#39;re saying, it worked before because it was silently upgraded to the  SCROLL_INSENSITIVE?. Could you please share which part of the specification mentioned about it."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694449293,"post_id":77080790,"comment_id":135889294,"body_markdown":"JDBC 4.3, section 15.1.1 &quot;ResultSet Types&quot; allows a result set to use a different result set type if it can&#39;t honour the requested type. That said, it is entirely possible that MySQL reported it incorrectly as TYPE_FORWARD_ONLY, but had it behave as a TYPE_SCROLL_INSENSITIVE; older versions of MySQL Connector/J did not always adhere to the specification.","body":"JDBC 4.3, section 15.1.1 &quot;ResultSet Types&quot; allows a result set to use a different result set type if it can&#39;t honour the requested type. That said, it is entirely possible that MySQL reported it incorrectly as TYPE_FORWARD_ONLY, but had it behave as a TYPE_SCROLL_INSENSITIVE; older versions of MySQL Connector/J did not always adhere to the specification."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694494499,"post_id":77080790,"comment_id":135894332,"body_markdown":"@MarkRotteveel Thank you for the help. Really appreciate :)","body":"@MarkRotteveel Thank you for the help. Really appreciate :)"}],"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694435674,"creation_date":1694427575,"question_id":77080790,"body_markdown":"We recently migrated our databases from MySQL 5.7 to MySQL 8.0. Before the migration, our Java batch code was working fine. However, after the migration, we had an issue with the line of code `rs.last`, which now throws the following error:\r\n\r\n&gt; java.sql.SQLException: Operation not allowed for a result set of type\r\n&gt; ResultSet.TYPE_FORWARD_ONLY.\r\n\r\n\r\nHere&#39;s the code which was throwing error:\r\n\r\n```java\r\nResultSet rs = mysqlMasterDB.executeQuery(historyCheck);\r\nrs.last();\r\nint total = rs.getRow();\r\nrs.beforeFirst();\r\n```\r\n\r\nThe `executeQuery` method is defined as follows:\r\n\r\n```java\r\npublic ResultSet executeQuery(String query) throws SQLException {\r\n    return getConnection().createStatement().executeQuery(query);\r\n}\r\n```\r\n\r\nTo fix this issue, I made the following modifications:\r\n\r\nI created a new `executeQuery` function that accepts additional parameters for `ResultSet` type and concurrency:\r\n\r\n```java\r\npublic ResultSet executeQuery(String query, int resultSetType, int resultSetConcurrency) throws SQLException, SQLFeatureNotSupportedException {\r\n    return getConnection().createStatement(resultSetType, resultSetConcurrency).executeQuery(query);\r\n}\r\n```\r\n\r\nThen, I changed the line like this:\r\n\r\n```java\r\nResultSet rs = mysqlMasterDB.executeQuery(historyCheck, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\r\nrs.last();\r\nint total = rs.getRow();\r\nrs.beforeFirst();\r\n```\r\n\r\nHowever, I&#39;m not sure whether the issue is related to the upgrade of the `mysql-connector-java` dependency from version 5.1.36 to 8.0.33. Can anyone confirm whether this dependency update might be the cause of the problem, or if there&#39;s another potential source for this error?","title":"Java ResultSet.TYPE_FORWARD_ONLY Error After MySQL Database Migration from 5.7 to 8.0","body":"<p>We recently migrated our databases from MySQL 5.7 to MySQL 8.0. Before the migration, our Java batch code was working fine. However, after the migration, we had an issue with the line of code <code>rs.last</code>, which now throws the following error:</p>\n<blockquote>\n<p>java.sql.SQLException: Operation not allowed for a result set of type\nResultSet.TYPE_FORWARD_ONLY.</p>\n</blockquote>\n<p>Here's the code which was throwing error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSet rs = mysqlMasterDB.executeQuery(historyCheck);\nrs.last();\nint total = rs.getRow();\nrs.beforeFirst();\n</code></pre>\n<p>The <code>executeQuery</code> method is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultSet executeQuery(String query) throws SQLException {\n    return getConnection().createStatement().executeQuery(query);\n}\n</code></pre>\n<p>To fix this issue, I made the following modifications:</p>\n<p>I created a new <code>executeQuery</code> function that accepts additional parameters for <code>ResultSet</code> type and concurrency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultSet executeQuery(String query, int resultSetType, int resultSetConcurrency) throws SQLException, SQLFeatureNotSupportedException {\n    return getConnection().createStatement(resultSetType, resultSetConcurrency).executeQuery(query);\n}\n</code></pre>\n<p>Then, I changed the line like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSet rs = mysqlMasterDB.executeQuery(historyCheck, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\nrs.last();\nint total = rs.getRow();\nrs.beforeFirst();\n</code></pre>\n<p>However, I'm not sure whether the issue is related to the upgrade of the <code>mysql-connector-java</code> dependency from version 5.1.36 to 8.0.33. Can anyone confirm whether this dependency update might be the cause of the problem, or if there's another potential source for this error?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694435571,"creation_date":1694435571,"answer_id":77081667,"question_id":77081536,"body_markdown":"What you are trying to achieve looks like a perfect use-case for properties. So your Provider Bean would look like this:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;imageKit&quot;)\r\n    public class ConfigProperties {\r\n        \r\n        private String path;\r\n\r\n        // getters, setters\r\n    \r\n    }\r\n\r\n\r\n\r\napplication.properties:\r\n\r\n    imageKit.path=&quot;/main&quot;\r\n\r\n\r\nThe field `path` here would map to `imageKit.path` in your `application.properties`.  For testing, you can provide a different `application.properties` file in your `test` folder, dynamically replacing the provided value. If you need more values in parallel, consider using profiles. ","title":"Collision with other @Primary-annotated bean (NoUniqueBeanDefinitionException)","body":"<p>What you are trying to achieve looks like a perfect use-case for properties. So your Provider Bean would look like this:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;imageKit&quot;)\npublic class ConfigProperties {\n    \n    private String path;\n\n    // getters, setters\n\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>imageKit.path=&quot;/main&quot;\n</code></pre>\n<p>The field <code>path</code> here would map to <code>imageKit.path</code> in your <code>application.properties</code>.  For testing, you can provide a different <code>application.properties</code> file in your <code>test</code> folder, dynamically replacing the provided value. If you need more values in parallel, consider using profiles.</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77081667,"answer_count":1,"score":1,"last_activity_date":1694435571,"creation_date":1694434535,"question_id":77081536,"body_markdown":"I have a bean:\r\n```\r\n@Bean(&quot;imageKitPath&quot;)\r\npublic String imageKitPath() {\r\n    return &quot;/main&quot;;\r\n}\r\n```\r\nHowever, in tests I want this bean to have `/test` value. I successfully implemented it like this:\r\n```\r\n@Bean\r\n@Primary\r\npublic String imageKitPath2() {\r\n    return &quot;/test&quot;;\r\n}\r\n```\r\nNow, here&#39;s the issue. I have also successfully implemented JWT-based authentication. However, I would like to have different signature for tests and for production.\r\n\r\nIn my production code, I have a bean with JWT&#39;s signature:\r\n```\r\n@Bean(&quot;jwtKey&quot;)\r\npublic String jwtKey() {\r\n    // some logic to read key from file\r\n    return jwtKey;\r\n}\r\n```\r\nAnd, similarly to previous example, in tests it looks like this:\r\n```\r\n@Bean\r\n@Primary\r\npublic String jwtKey2() {\r\n    // some logic to read key from application.properties\r\n    return jwtKey;\r\n}\r\n```\r\nBoth beans are created correctly and have values I expect them to have. The issue lies in injecting these values to other components. For example, in my `JwtService` class (which is `@Service`-annotated), I struggle to autowire them. I&#39;ve tried multiple solutions.\r\n\r\n1.\r\n```\r\nprivate final String jwtKey;\r\n\r\n@Autowired\r\npublic JwtService(String jwtKey) {\r\n    this.jwtKey = jwtKey;\r\n}\r\n```\r\nThis will work just fine in production where there&#39;s no second bean (`jwtKey2`). But, the tests will fail to load context with `org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: more than one &#39;primary&#39; bean found among candidates`.\r\n\r\n2.\r\n```\r\nprivate final String jwtKey;\r\n\r\n@Autowired\r\npublic JwtService(@Qualifier(&quot;jwtKey&quot;) String jwtKey) {\r\n    this.jwtKey = jwtKey;\r\n}\r\n```\r\nAgain, works in production, but in tests it will use the production&#39;s value of JWT, not the one I&#39;ve specified in tests.\r\n\r\n3.\r\n```\r\nprivate final String jwtKey;\r\n\r\n@Autowired\r\npublic JwtService(@Qualifier(&quot;jwtKey2&quot;) String jwtKey) {\r\n    this.jwtKey = jwtKey;\r\n}\r\n```\r\nAnd this one works correctly in tests, but - obviously - will fail in production as there&#39;s no `jwtKey2` bean.\r\n\r\nThe reason that I&#39;ve described `imageKitPath` bean is simple. Because tests specify a bean that overrides `imageKitPath` by using `@Primary`, Spring - I think - can not differentiate between `imageKitPath2` and `jwtKey2`. Removing `imageKitPath` beans entirely solves the JWT&#39;s bean issue.","title":"Collision with other @Primary-annotated bean (NoUniqueBeanDefinitionException)","body":"<p>I have a bean:</p>\n<pre><code>@Bean(&quot;imageKitPath&quot;)\npublic String imageKitPath() {\n    return &quot;/main&quot;;\n}\n</code></pre>\n<p>However, in tests I want this bean to have <code>/test</code> value. I successfully implemented it like this:</p>\n<pre><code>@Bean\n@Primary\npublic String imageKitPath2() {\n    return &quot;/test&quot;;\n}\n</code></pre>\n<p>Now, here's the issue. I have also successfully implemented JWT-based authentication. However, I would like to have different signature for tests and for production.</p>\n<p>In my production code, I have a bean with JWT's signature:</p>\n<pre><code>@Bean(&quot;jwtKey&quot;)\npublic String jwtKey() {\n    // some logic to read key from file\n    return jwtKey;\n}\n</code></pre>\n<p>And, similarly to previous example, in tests it looks like this:</p>\n<pre><code>@Bean\n@Primary\npublic String jwtKey2() {\n    // some logic to read key from application.properties\n    return jwtKey;\n}\n</code></pre>\n<p>Both beans are created correctly and have values I expect them to have. The issue lies in injecting these values to other components. For example, in my <code>JwtService</code> class (which is <code>@Service</code>-annotated), I struggle to autowire them. I've tried multiple solutions.</p>\n<p>1.</p>\n<pre><code>private final String jwtKey;\n\n@Autowired\npublic JwtService(String jwtKey) {\n    this.jwtKey = jwtKey;\n}\n</code></pre>\n<p>This will work just fine in production where there's no second bean (<code>jwtKey2</code>). But, the tests will fail to load context with <code>org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: more than one 'primary' bean found among candidates</code>.</p>\n<p>2.</p>\n<pre><code>private final String jwtKey;\n\n@Autowired\npublic JwtService(@Qualifier(&quot;jwtKey&quot;) String jwtKey) {\n    this.jwtKey = jwtKey;\n}\n</code></pre>\n<p>Again, works in production, but in tests it will use the production's value of JWT, not the one I've specified in tests.</p>\n<p>3.</p>\n<pre><code>private final String jwtKey;\n\n@Autowired\npublic JwtService(@Qualifier(&quot;jwtKey2&quot;) String jwtKey) {\n    this.jwtKey = jwtKey;\n}\n</code></pre>\n<p>And this one works correctly in tests, but - obviously - will fail in production as there's no <code>jwtKey2</code> bean.</p>\n<p>The reason that I've described <code>imageKitPath</code> bean is simple. Because tests specify a bean that overrides <code>imageKitPath</code> by using <code>@Primary</code>, Spring - I think - can not differentiate between <code>imageKitPath2</code> and <code>jwtKey2</code>. Removing <code>imageKitPath</code> beans entirely solves the JWT's bean issue.</p>\n"},{"tags":["java","grpc","quarkus","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":230858,"reputation":418,"user_id":494709,"display_name":"alesj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694426261,"creation_date":1694426261,"answer_id":77080630,"question_id":77075897,"body_markdown":"This looks strange -- as we have plenty of test cases that check / test this.\r\ne.g.\r\n* https://github.com/alesj/quarkus_cl130/blob/stacko1/app/src/main/java/com/alesj/qcl/app/Configuration.java#L28\r\n\r\nOpen up a GitHub issue on Quarkus GitHub with a reproducer, and I&#39;ll have a look ...","title":"Unable to inject @GrpcClient in quarkus &quot;The following beans match by type, but none have matching qualifiers&quot;","body":"<p>This looks strange -- as we have plenty of test cases that check / test this.\ne.g.</p>\n<ul>\n<li><a href=\"https://github.com/alesj/quarkus_cl130/blob/stacko1/app/src/main/java/com/alesj/qcl/app/Configuration.java#L28\" rel=\"nofollow noreferrer\">https://github.com/alesj/quarkus_cl130/blob/stacko1/app/src/main/java/com/alesj/qcl/app/Configuration.java#L28</a></li>\n</ul>\n<p>Open up a GitHub issue on Quarkus GitHub with a reproducer, and I'll have a look ...</p>\n"},{"tags":[],"owner":{"account_id":230858,"reputation":418,"user_id":494709,"display_name":"alesj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694430458,"creation_date":1694430458,"answer_id":77081101,"question_id":77075897,"body_markdown":"Ah, Clement found it -- you have a trailing space in your client name.\r\n\r\n@GrpcClient(&quot;userInfoService &quot;) // &lt;--- see space at the end\r\n\r\nvs\r\n\r\nThe following beans match by type, but none have matching qualifiers: - Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]\r\n\r\nNice catch Clement!","title":"Unable to inject @GrpcClient in quarkus &quot;The following beans match by type, but none have matching qualifiers&quot;","body":"<p>Ah, Clement found it -- you have a trailing space in your client name.</p>\n<p>@GrpcClient(&quot;userInfoService &quot;) // &lt;--- see space at the end</p>\n<p>vs</p>\n<p>The following beans match by type, but none have matching qualifiers: - Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]</p>\n<p>Nice catch Clement!</p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694435381,"creation_date":1694345025,"question_id":77075897,"body_markdown":"I am trying to create gRPC client in Quarkus. Did everything according to the documentation.\r\n\r\nPlaced proto files in src/main/proto:\r\nhere is the content of the service file\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package userinfo.grpc;\r\n    \r\n    import &quot;UserInfoRequest.proto&quot;;\r\n    import &quot;UserInfoResponse.proto&quot;;\r\n    \r\n    service UserInfoService {\r\n      rpc GetUserInfo (UserInfoRequest) returns (UserInfoResponse);\r\n    }\r\n\r\nadded to gradle following dependency:\r\n  \r\n\r\n    implementation &#39;io.quarkus:quarkus-grpc&#39;\r\n\r\nWhen I built the project I saw my gRPC classes generated in\r\n\r\n    &lt;projectFolder&gt;\\build\\classes\\java\\quarkus-generated-sources\\grpc\\userinfo\r\n[![enter image description here][1]][1]\r\n\r\nMy service that is using the gRPC client:\r\n\r\n    @AllArgsConstructor\r\n    @LookupIfProperty(name = &quot;auth.identity-service-enabled&quot;, stringValue = &quot;true&quot;)\r\n    @ApplicationScoped\r\n    public class IdentityUserInfoProviderGrpc implements UserInfoProvider {\r\n        @GrpcClient(&quot;userInfoService&quot;)\r\n        UserInfoService userInfoService;\r\n\r\n    //business logic\r\n\r\nThe problem is that when I run the application I get:\r\n\r\n&gt; Blockquote\r\n[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: jakarta.enterprise.inject.spi.DeploymentException: jakarta.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type userinfo.grpc.UserInfoService and qualifiers [@Default]\r\n\t- java member: &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc():userInfoService\r\n\t- declared on CLASS bean [types=[&lt;my_package&gt;.userinfo.UserInfoProvider, java.lang.Object, &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc], qualifiers=[@Default, @Any], target=&lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc]\r\n\t**The following beans match by type, but none have matching qualifiers:\r\n\t\t- Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]**\r\n\r\nWas trying to add an empty META-INF/beans.xml file in the additional module src/main/resources as well as was trying to add Gradle Jandex plugin, as advised https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module but did not help.\r\n\r\nI have read few times all the documents Quarkus provided but have not found an explanation for this as I am doing everything as described.\r\nPlease help resolve this.\r\n\r\nMuch appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3U916.png","title":"Unable to inject @GrpcClient in quarkus &quot;The following beans match by type, but none have matching qualifiers&quot;","body":"<p>I am trying to create gRPC client in Quarkus. Did everything according to the documentation.</p>\n<p>Placed proto files in src/main/proto:\nhere is the content of the service file</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage userinfo.grpc;\n\nimport &quot;UserInfoRequest.proto&quot;;\nimport &quot;UserInfoResponse.proto&quot;;\n\nservice UserInfoService {\n  rpc GetUserInfo (UserInfoRequest) returns (UserInfoResponse);\n}\n</code></pre>\n<p>added to gradle following dependency:</p>\n<pre><code>implementation 'io.quarkus:quarkus-grpc'\n</code></pre>\n<p>When I built the project I saw my gRPC classes generated in</p>\n<pre><code>&lt;projectFolder&gt;\\build\\classes\\java\\quarkus-generated-sources\\grpc\\userinfo\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3U916.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3U916.png\" alt=\"enter image description here\" /></a></p>\n<p>My service that is using the gRPC client:</p>\n<pre><code>@AllArgsConstructor\n@LookupIfProperty(name = &quot;auth.identity-service-enabled&quot;, stringValue = &quot;true&quot;)\n@ApplicationScoped\npublic class IdentityUserInfoProviderGrpc implements UserInfoProvider {\n    @GrpcClient(&quot;userInfoService&quot;)\n    UserInfoService userInfoService;\n\n//business logic\n</code></pre>\n<p>The problem is that when I run the application I get:</p>\n<blockquote>\n<p>Blockquote\n[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: jakarta.enterprise.inject.spi.DeploymentException: jakarta.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type userinfo.grpc.UserInfoService and qualifiers [@Default]\n- java member: &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc():userInfoService\n- declared on CLASS bean [types=[&lt;my_package&gt;.userinfo.UserInfoProvider, java.lang.Object, &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc], qualifiers=[@Default, @Any], target=&lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc]\n<strong>The following beans match by type, but none have matching qualifiers:\n- Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]</strong></p>\n</blockquote>\n<p>Was trying to add an empty META-INF/beans.xml file in the additional module src/main/resources as well as was trying to add Gradle Jandex plugin, as advised <a href=\"https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module\">How to create a Jandex index in Quarkus for classes in a external module</a> but did not help.</p>\n<p>I have read few times all the documents Quarkus provided but have not found an explanation for this as I am doing everything as described.\nPlease help resolve this.</p>\n<p>Much appreciated.</p>\n"},{"tags":["java","android","agora.io"],"owner":{"account_id":29414392,"reputation":1,"user_id":22537557,"display_name":"sunil V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694435361,"creation_date":1694435361,"question_id":77081642,"body_markdown":"&quot;I am attempting to retrieve a video stream from a Wi-Fi-connected device. By accessing the feed through its local IP address, I have successfully obtained it in my Android app. Now, I would like to integrate this stream into the Agora SDK as a local video source.&quot;\r\n\r\n\r\n\r\nthis is how i am getting the video stream in my app, \r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        surfaceView = findViewById(R.id.mjpegViewDefault1);\r\n        try {\r\n            Mjpeg.newInstance()\r\n                    .open(&quot;http://192.168.1.52:81/stream&quot;, TIMEOUT) // url to access the stream \r\n                    .subscribe(inputStream -&gt; {\r\n                        surfaceView.setSource(inputStream);\r\n                        surfaceView.setDisplayMode(DisplayMode.BEST_FIT);\r\n                        surfaceView.showFps(true);\r\n\r\n                    }, throwable -&gt; {\r\n                        // Handle the timeout exception here\r\n                        throwable.printStackTrace();\r\n                        // You can also show a message to the user or take appropriate action.\r\n                    });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"trying to get video stream from a Wi-Fi device via its local IP address in my Android app. How can I use this stream as local video in the Agora SDK?","body":"<p>&quot;I am attempting to retrieve a video stream from a Wi-Fi-connected device. By accessing the feed through its local IP address, I have successfully obtained it in my Android app. Now, I would like to integrate this stream into the Agora SDK as a local video source.&quot;</p>\n<p>this is how i am getting the video stream in my app,</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    surfaceView = findViewById(R.id.mjpegViewDefault1);\n    try {\n        Mjpeg.newInstance()\n                .open(&quot;http://192.168.1.52:81/stream&quot;, TIMEOUT) // url to access the stream \n                .subscribe(inputStream -&gt; {\n                    surfaceView.setSource(inputStream);\n                    surfaceView.setDisplayMode(DisplayMode.BEST_FIT);\n                    surfaceView.showFps(true);\n\n                }, throwable -&gt; {\n                    // Handle the timeout exception here\n                    throwable.printStackTrace();\n                    // You can also show a message to the user or take appropriate action.\n                });\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14287770,"reputation":79,"user_id":10320673,"display_name":"Bapt_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694435188,"creation_date":1694435188,"answer_id":77081620,"question_id":77080651,"body_markdown":"## Solution: ##\r\nIn the first lines, the ```JOIN AepBanMef ban``` was moved directly after ```mef``` =&gt;\r\n\r\n```java\r\n\r\n@Query(&quot;select etab &quot;\r\n\t + &quot;from #{#entityName} etab &quot;\r\n\t + &quot;JOIN Mef mef ON mef.etabUajId = etab.id &quot;\r\n\t + &quot;JOIN AepBanMef ban ON ((mef.code = ban.code and mef.mefRattachement = null) &quot;\r\n\t\t+ &quot;OR mef.mefRattachement = ban.code), &quot;\r\n\t + &quot;TiMefAccueil nomenMef &quot;\r\n\t + &quot;where (....)\r\n```\r\n","title":"Hibernate 6 migration - error SqmQualifiedJoin predicate referred to SqmRoot other than the join&#39;s root","body":"<h2>Solution:</h2>\n<p>In the first lines, the <code>JOIN AepBanMef ban</code> was moved directly after <code>mef</code> =&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Query(&quot;select etab &quot;\n     + &quot;from #{#entityName} etab &quot;\n     + &quot;JOIN Mef mef ON mef.etabUajId = etab.id &quot;\n     + &quot;JOIN AepBanMef ban ON ((mef.code = ban.code and mef.mefRattachement = null) &quot;\n        + &quot;OR mef.mefRattachement = ban.code), &quot;\n     + &quot;TiMefAccueil nomenMef &quot;\n     + &quot;where (....)\n</code></pre>\n"}],"owner":{"account_id":14287770,"reputation":79,"user_id":10320673,"display_name":"Bapt_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694435188,"creation_date":1694426397,"question_id":77080651,"body_markdown":"I have the following ```@Query``` which is working fine ine Hibernate 5.x but which failed to be validated since I migrated to Hibernate 6.\r\n\r\n```java\r\n@Query(&quot;select etab &quot;\r\n\t + &quot;from #{#entityName} etab &quot;\r\n\t + &quot;JOIN Mef mef ON mef.etabUajId = etab.id, &quot;\r\n\t + &quot;TiMefAccueil nomenMef &quot;\r\n\t + &quot;JOIN AepBanMef ban ON &quot;\r\n\t\t + &quot;((mef.code = ban.code and mef.mefRattachement = null) &quot;\r\n\t\t\t + &quot;OR mef.mefRattachement = ban.code) &quot;\r\n\t + &quot;where ((substring(mef.code, 1, length(nomenMef.debutCodeMef)) = nomenMef.debutCodeMef&quot;\r\n\t\t + &quot; AND substring(&quot;\r\n\t\t\t + &quot; mef.code,&quot;\r\n\t\t\t + &quot; 10 - length(nomenMef.finCodeMef10Car) + 1,&quot;\r\n\t\t\t + &quot; length(nomenMef.finCodeMef10Car)&quot;\r\n\t\t + &quot;) = nomenMef.finCodeMef10Car)&quot;\r\n\t\t + &quot; OR (&quot;\r\n\t\t + &quot; substring(mef.mefRattachement, 1, length(nomenMef.debutCodeMef))&quot;\r\n\t\t\t + &quot; = nomenMef.debutCodeMef&quot;\r\n\t\t + &quot; AND substring(&quot;\r\n\t\t\t + &quot; mef.mefRattachement,&quot;\r\n\t\t\t + &quot; 10 - length(nomenMef.finCodeMef10Car) + 1,&quot;\r\n\t\t\t + &quot; length(nomenMef.finCodeMef10Car)&quot;\r\n\t\t + &quot;) = nomenMef.finCodeMef10Car)&quot;\r\n\t + &quot;) and mef.mefSelectionne = true and nomenMef.codeTs = :codeTs &quot;\r\n\t + &quot;and (mef.dateFermeture &gt; current_date OR mef.dateFermeture = null)&quot;\r\n\t + &quot;and (ban.dateFermeture &gt; current_date OR ban.dateFermeture = null)&quot;)\r\nList&lt;EtabUaj&gt; findEtabsByCodeTi(@Param(&quot;codeTs&quot;) String codeTs);\r\n```\r\n\r\n\r\nI have this error:\r\n\r\n```\r\nCaused by: org.hibernate.query.SemanticException: SqmQualifiedJoin predicate referred to SqmRoot [`fr.edu.scolarite.nat.paramshared.model.Mef(mef)`] other than the join&#39;s root [`fr.edu.scolarite.nat.paramts.aep.model.AepBanMef(ban)`]\r\n```\r\n\r\nI don&#39;t understand why the join ```AepBanMef ban``` is not valid ? If I comment all the lines refering to ```BanMef``` the query is technically valid, but it&#39;s not what I want.\r\n\r\nThe few resources I could found around refered to the Criteria API, which I&#39;m not using.","title":"Hibernate 6 migration - error SqmQualifiedJoin predicate referred to SqmRoot other than the join&#39;s root","body":"<p>I have the following <code>@Query</code> which is working fine ine Hibernate 5.x but which failed to be validated since I migrated to Hibernate 6.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select etab &quot;\n     + &quot;from #{#entityName} etab &quot;\n     + &quot;JOIN Mef mef ON mef.etabUajId = etab.id, &quot;\n     + &quot;TiMefAccueil nomenMef &quot;\n     + &quot;JOIN AepBanMef ban ON &quot;\n         + &quot;((mef.code = ban.code and mef.mefRattachement = null) &quot;\n             + &quot;OR mef.mefRattachement = ban.code) &quot;\n     + &quot;where ((substring(mef.code, 1, length(nomenMef.debutCodeMef)) = nomenMef.debutCodeMef&quot;\n         + &quot; AND substring(&quot;\n             + &quot; mef.code,&quot;\n             + &quot; 10 - length(nomenMef.finCodeMef10Car) + 1,&quot;\n             + &quot; length(nomenMef.finCodeMef10Car)&quot;\n         + &quot;) = nomenMef.finCodeMef10Car)&quot;\n         + &quot; OR (&quot;\n         + &quot; substring(mef.mefRattachement, 1, length(nomenMef.debutCodeMef))&quot;\n             + &quot; = nomenMef.debutCodeMef&quot;\n         + &quot; AND substring(&quot;\n             + &quot; mef.mefRattachement,&quot;\n             + &quot; 10 - length(nomenMef.finCodeMef10Car) + 1,&quot;\n             + &quot; length(nomenMef.finCodeMef10Car)&quot;\n         + &quot;) = nomenMef.finCodeMef10Car)&quot;\n     + &quot;) and mef.mefSelectionne = true and nomenMef.codeTs = :codeTs &quot;\n     + &quot;and (mef.dateFermeture &gt; current_date OR mef.dateFermeture = null)&quot;\n     + &quot;and (ban.dateFermeture &gt; current_date OR ban.dateFermeture = null)&quot;)\nList&lt;EtabUaj&gt; findEtabsByCodeTi(@Param(&quot;codeTs&quot;) String codeTs);\n</code></pre>\n<p>I have this error:</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: SqmQualifiedJoin predicate referred to SqmRoot [`fr.edu.scolarite.nat.paramshared.model.Mef(mef)`] other than the join's root [`fr.edu.scolarite.nat.paramts.aep.model.AepBanMef(ban)`]\n</code></pre>\n<p>I don't understand why the join <code>AepBanMef ban</code> is not valid ? If I comment all the lines refering to <code>BanMef</code> the query is technically valid, but it's not what I want.</p>\n<p>The few resources I could found around refered to the Criteria API, which I'm not using.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-rsocket"],"comments":[{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1694400144,"post_id":77030014,"comment_id":135881437,"body_markdown":"Can you elaborate more in your question that how would you be sacrificing Tx support by using the RSocket integration in a servlet-based env ? Is there such limitation ?","body":"Can you elaborate more in your question that how would you be sacrificing Tx support by using the RSocket integration in a servlet-based env ? Is there such limitation ?"},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1694400664,"post_id":77030014,"comment_id":135881476,"body_markdown":"I mean the docs says &quot;Spring Security 5.2 provides RSocket support.&quot;\nAlso, how would a WebSocket connection be participating in a Transaction anyways ?","body":"I mean the docs says &quot;Spring Security 5.2 provides RSocket support.&quot; Also, how would a WebSocket connection be participating in a Transaction anyways ?"},{"owner":{"account_id":395861,"reputation":3732,"user_id":759042,"accept_rate":62,"display_name":"aha"},"score":0,"creation_date":1694435343,"post_id":77030014,"comment_id":135886334,"body_markdown":"@alegria I&#39;ve tried to clarify the question. &quot;Is there such limitation&quot; -- I don&#39;t know, that&#39;s why I&#39;am asking. The Spring docs generally stress how different those stacks are so I&#39;m a bit wary. Same with Spring Security: Yes, it provides RSocket support, but does it play nice when both the imperative and reactive stack are enabled? My testing indicates it does not, at least out of the box.`@PreAuthorize` is always handled by the imperative stack.","body":"@alegria I&#39;ve tried to clarify the question. &quot;Is there such limitation&quot; -- I don&#39;t know, that&#39;s why I&#39;am asking. The Spring docs generally stress how different those stacks are so I&#39;m a bit wary. Same with Spring Security: Yes, it provides RSocket support, but does it play nice when both the imperative and reactive stack are enabled? My testing indicates it does not, at least out of the box.<code>@PreAuthorize</code> is always handled by the imperative stack."}],"answers":[{"tags":[],"owner":{"account_id":8632778,"reputation":116,"user_id":6463903,"accept_rate":100,"display_name":"Franck Besson"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1694343969,"creation_date":1694343969,"answer_id":77075834,"question_id":77030014,"body_markdown":"Yes, it is possible to use Spring&#39;s RSocket integration in a traditional Servlet-based Spring application without sacrificing declarative transaction support or Spring Security integration. Spring provides flexibility and modularity, allowing you to mix different technologies and features based on your requirements. You can run a separate Netty-based RSocket server alongside your existing servlet-based Spring application. Here&#39;s how you can achieve this:\r\n\r\n**Create an RSocket Server Configuration:**\r\n\r\nStart by creating an RSocket server configuration class. This class will define your RSocket server and how it handles incoming requests.\r\n\r\n    @Configuration\r\n    public class RSocketServerConfig {\r\n\r\n        @Bean\r\n        public RSocketServer rSocketServer() {\r\n            return RSocketServer.create();\r\n        }\r\n\r\n        @Bean\r\n        public RSocketMessageHandler messageHandler() {\r\n            RSocketMessageHandler handler = new RSocketMessageHandler();\r\n            handler.setRSocketStrategies(rSocketStrategies());\r\n            return handler;\r\n        }\r\n\r\n        @Bean\r\n        public RSocketStrategies rSocketStrategies() {\r\n            return RSocketStrategies.builder().build();\r\n        }\r\n    }\r\n\r\n**Define Your RSocket Controllers:**\r\n\r\nCreate RSocket controllers similar to how you create Spring MVC controllers. These controllers will handle incoming RSocket requests. For example:\r\n\r\n    @Controller\r\n    public class RSocketController {\r\n\r\n        @MessageMapping(&quot;your.rsocket.route&quot;)\r\n        public Mono&lt;String&gt; handleRSocketRequest(String request) {\r\n            // Handle the request here\r\n            return Mono.just(&quot;Response&quot;);\r\n        }\r\n    }\r\n\r\n**Enable RSocket in Your Application:**\r\n\r\nYou need to enable RSocket in your Spring application. To do this, add the @EnableRSocket annotation to one of your configuration classes:\r\n\r\n    @SpringBootApplication\r\n    @EnableRSocket\r\n    public class YourServletBasedApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(YourServletBasedApplication.class, args);\r\n        }\r\n    }\r\n\r\n**Configure Spring Security:**\r\n\r\nIf you have Spring Security configured in your application, ensure that you also secure your RSocket endpoints appropriately. You can use Spring Security&#39;s features to secure your RSocket controllers.\r\n\r\n**Transaction Management:**\r\n\r\nSpring&#39;s transaction management should work as expected in your servlet-based Spring application. Ensure that your RSocket controllers are within the transaction boundaries when necessary, and configure your transaction manager accordingly.\r\n\r\n**Pitfalls to Be Aware Of:**\r\n\r\n**Concurrency**: Be mindful of the concurrency model of your servlet-based Spring application and ensure that RSocket interactions don&#39;t cause contention or concurrency issues.\r\n\r\n**Resource Management**: Managing resources (e.g., database connections, thread pools) between the servlet-based application and the RSocket server should be done carefully to avoid resource exhaustion or contention.\r\n\r\n**Cross-Origin Resource Sharing (CORS)**: If your RSocket clients are web-based, you may need to handle CORS settings appropriately to allow RSocket connections from different origins.\r\n\r\n**Error Handling**: Implement robust error handling for your RSocket controllers to handle failures gracefully.\r\n\r\nRemember that while you&#39;re integrating RSocket into your servlet-based Spring application, the level of reactivity and backpressure handling is up to you. You can keep your servlet-based code as is and provide a more traditional request-response experience over RSocket if that fits your requirements.","title":"Using Spring RSocket in a traditional Servlet-based Spring application","body":"<p>Yes, it is possible to use Spring's RSocket integration in a traditional Servlet-based Spring application without sacrificing declarative transaction support or Spring Security integration. Spring provides flexibility and modularity, allowing you to mix different technologies and features based on your requirements. You can run a separate Netty-based RSocket server alongside your existing servlet-based Spring application. Here's how you can achieve this:</p>\n<p><strong>Create an RSocket Server Configuration:</strong></p>\n<p>Start by creating an RSocket server configuration class. This class will define your RSocket server and how it handles incoming requests.</p>\n<pre><code>@Configuration\npublic class RSocketServerConfig {\n\n    @Bean\n    public RSocketServer rSocketServer() {\n        return RSocketServer.create();\n    }\n\n    @Bean\n    public RSocketMessageHandler messageHandler() {\n        RSocketMessageHandler handler = new RSocketMessageHandler();\n        handler.setRSocketStrategies(rSocketStrategies());\n        return handler;\n    }\n\n    @Bean\n    public RSocketStrategies rSocketStrategies() {\n        return RSocketStrategies.builder().build();\n    }\n}\n</code></pre>\n<p><strong>Define Your RSocket Controllers:</strong></p>\n<p>Create RSocket controllers similar to how you create Spring MVC controllers. These controllers will handle incoming RSocket requests. For example:</p>\n<pre><code>@Controller\npublic class RSocketController {\n\n    @MessageMapping(&quot;your.rsocket.route&quot;)\n    public Mono&lt;String&gt; handleRSocketRequest(String request) {\n        // Handle the request here\n        return Mono.just(&quot;Response&quot;);\n    }\n}\n</code></pre>\n<p><strong>Enable RSocket in Your Application:</strong></p>\n<p>You need to enable RSocket in your Spring application. To do this, add the @EnableRSocket annotation to one of your configuration classes:</p>\n<pre><code>@SpringBootApplication\n@EnableRSocket\npublic class YourServletBasedApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(YourServletBasedApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Configure Spring Security:</strong></p>\n<p>If you have Spring Security configured in your application, ensure that you also secure your RSocket endpoints appropriately. You can use Spring Security's features to secure your RSocket controllers.</p>\n<p><strong>Transaction Management:</strong></p>\n<p>Spring's transaction management should work as expected in your servlet-based Spring application. Ensure that your RSocket controllers are within the transaction boundaries when necessary, and configure your transaction manager accordingly.</p>\n<p><strong>Pitfalls to Be Aware Of:</strong></p>\n<p><strong>Concurrency</strong>: Be mindful of the concurrency model of your servlet-based Spring application and ensure that RSocket interactions don't cause contention or concurrency issues.</p>\n<p><strong>Resource Management</strong>: Managing resources (e.g., database connections, thread pools) between the servlet-based application and the RSocket server should be done carefully to avoid resource exhaustion or contention.</p>\n<p><strong>Cross-Origin Resource Sharing (CORS)</strong>: If your RSocket clients are web-based, you may need to handle CORS settings appropriately to allow RSocket connections from different origins.</p>\n<p><strong>Error Handling</strong>: Implement robust error handling for your RSocket controllers to handle failures gracefully.</p>\n<p>Remember that while you're integrating RSocket into your servlet-based Spring application, the level of reactivity and backpressure handling is up to you. You can keep your servlet-based code as is and provide a more traditional request-response experience over RSocket if that fits your requirements.</p>\n"}],"owner":{"account_id":395861,"reputation":3732,"user_id":759042,"accept_rate":62,"display_name":"aha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1694435024,"creation_date":1693687957,"question_id":77030014,"body_markdown":"Is it somehow possible to use [Spring&#39;s RSocket integration](https://docs.spring.io/spring-framework/reference/rsocket.html) in a &quot;traditional&quot; servlet-based Spring application without having to sacrifice functionality that Spring offers according to the documentation if you do not mix the two variants?\r\n\r\nIf so, how? Are there any pitfalls to be aware of?\r\n\r\nThe objective would be to allow an existing Servlet-based Spring application to talk to various clients over RSocket. A fully reactive experience with backpressure is neither expected nor necessary on the server side. Having to start a separate Netty-based server that runs alongside the servlet container is okay and [expected](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.rsocket.server-auto-configuration).\r\n\r\nTo address questions raised in the comments, there is some functionality I am especially concerned about:\r\n\r\n* Does declarative transaction support work for requests that come in via RSocket without having to use R2DBC? According to [Reactive Transactions with Spring](https://spring.io/blog/2019/05/16/reactive-transactions-with-spring) imperative and reactive transaction management differ significantly.\r\n* Does Spring Security &quot;just&quot; work? Or is special configuration necessary, for example, to use `@PreAuthorize` on methods that are invoked by the servlet-based parts **and** the RSocket-based parts of the application?\r\n","title":"Using Spring RSocket in a traditional Servlet-based Spring application","body":"<p>Is it somehow possible to use <a href=\"https://docs.spring.io/spring-framework/reference/rsocket.html\" rel=\"nofollow noreferrer\">Spring's RSocket integration</a> in a &quot;traditional&quot; servlet-based Spring application without having to sacrifice functionality that Spring offers according to the documentation if you do not mix the two variants?</p>\n<p>If so, how? Are there any pitfalls to be aware of?</p>\n<p>The objective would be to allow an existing Servlet-based Spring application to talk to various clients over RSocket. A fully reactive experience with backpressure is neither expected nor necessary on the server side. Having to start a separate Netty-based server that runs alongside the servlet container is okay and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.rsocket.server-auto-configuration\" rel=\"nofollow noreferrer\">expected</a>.</p>\n<p>To address questions raised in the comments, there is some functionality I am especially concerned about:</p>\n<ul>\n<li>Does declarative transaction support work for requests that come in via RSocket without having to use R2DBC? According to <a href=\"https://spring.io/blog/2019/05/16/reactive-transactions-with-spring\" rel=\"nofollow noreferrer\">Reactive Transactions with Spring</a> imperative and reactive transaction management differ significantly.</li>\n<li>Does Spring Security &quot;just&quot; work? Or is special configuration necessary, for example, to use <code>@PreAuthorize</code> on methods that are invoked by the servlet-based parts <strong>and</strong> the RSocket-based parts of the application?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":14037957,"reputation":23,"user_id":10140186,"display_name":"Divyanshu Supehia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694172153,"creation_date":1694172153,"answer_id":77066462,"question_id":77065979,"body_markdown":"Found the solution just needed to add:\r\n\r\n```\r\n  @Bean\r\n  public  GrpcAuthenticationReader grpcAuthenticationReader(){\r\n    return new BasicGrpcAuthenticationReader();\r\n  }\r\n```\r\nin my SpringSecurityConfig file.\r\n\r\nReferenced from here:https://yidongnan.github.io/grpc-spring-boot-starter/en/server/security.html","title":"grpcAuthenticationReader error whenever trying to start my server","body":"<p>Found the solution just needed to add:</p>\n<pre><code>  @Bean\n  public  GrpcAuthenticationReader grpcAuthenticationReader(){\n    return new BasicGrpcAuthenticationReader();\n  }\n</code></pre>\n<p>in my SpringSecurityConfig file.</p>\n<p>Referenced from here:<a href=\"https://yidongnan.github.io/grpc-spring-boot-starter/en/server/security.html\" rel=\"nofollow noreferrer\">https://yidongnan.github.io/grpc-spring-boot-starter/en/server/security.html</a></p>\n"}],"owner":{"account_id":14037957,"reputation":23,"user_id":10140186,"display_name":"Divyanshu Supehia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77066462,"answer_count":1,"score":-1,"last_activity_date":1694434751,"creation_date":1694167689,"question_id":77065979,"body_markdown":"I just integerated a GRPC server to my user application but whenever I try to start my application I am getting the following error. I am not able to find the proper logs regarding this error as not much information is available online.\r\n\r\n```\r\nDescription:\r\n\r\nParameter 1 of method authenticatingServerInterceptor in net.devh.boot.grpc.server.autoconfigure.GrpcServerSecurityAutoConfiguration required a bean of type &#39;net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader&#39; in your configuration.\r\n```\r\n\r\nThe error posted has been **solved** and it can be found in the answers below","title":"grpcAuthenticationReader error whenever trying to start my server","body":"<p>I just integerated a GRPC server to my user application but whenever I try to start my application I am getting the following error. I am not able to find the proper logs regarding this error as not much information is available online.</p>\n<pre><code>Description:\n\nParameter 1 of method authenticatingServerInterceptor in net.devh.boot.grpc.server.autoconfigure.GrpcServerSecurityAutoConfiguration required a bean of type 'net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader' in your configuration.\n</code></pre>\n<p>The error posted has been <strong>solved</strong> and it can be found in the answers below</p>\n"},{"tags":["java","spring","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1694358299,"post_id":77076153,"comment_id":135877819,"body_markdown":"Instead of changing the title, can you write your solution as an answer and mark it as accepted?","body":"Instead of changing the title, can you write your solution as an answer and mark it as accepted?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1694358493,"post_id":77076153,"comment_id":135877844,"body_markdown":"If you are looking to log a specific aspect of your application to a separate log file, that is what markers are for (see [Markers documentation](https://logging.apache.org/log4j/2.x/manual/markers.html)). There is also [a filter for markers](https://logging.apache.org/log4j/2.x/manual/filters.html#MarkerFilter).","body":"If you are looking to log a specific aspect of your application to a separate log file, that is what markers are for (see <a href=\"https://logging.apache.org/log4j/2.x/manual/markers.html\" rel=\"nofollow noreferrer\">Markers documentation</a>). There is also <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#MarkerFilter\" rel=\"nofollow noreferrer\">a filter for markers</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1694359582,"post_id":77076153,"comment_id":135877970,"body_markdown":"Hello. It is great that you want to share your solution with others! But please note that on this site solutions are meant to be posted as &quot;answers&quot; which are separated from problem description (the &quot;question&quot; section). This allows us to vote and comment on each answer separately from question. If you don&#39;t see area/form to post an answer (question authors usually don&#39;t need it so it may be hidden), you may need too click option like &quot;answer your question&quot; somewhere below your question. Good luck!","body":"Hello. It is great that you want to share your solution with others! But please note that on this site solutions are meant to be posted as &quot;answers&quot; which are separated from problem description (the &quot;question&quot; section). This allows us to vote and comment on each answer separately from question. If you don&#39;t see area/form to post an answer (question authors usually don&#39;t need it so it may be hidden), you may need too click option like &quot;answer your question&quot; somewhere below your question. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694434572,"creation_date":1694434572,"answer_id":77081538,"question_id":77076153,"body_markdown":"_(Posting an answer on behalf of the question author to move it to the answer space)_.\r\n\r\nI have solved it.\r\n\r\nFile log4j2.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n\r\n\t&lt;CustomLevels&gt;\r\n    \t&lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\r\n  \t&lt;/CustomLevels&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;appLog&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nSee LevelRangeFilter params.\r\n","title":"Log4J do not writes to file, only to console","body":"<p><em>(Posting an answer on behalf of the question author to move it to the answer space)</em>.</p>\n<p>I have solved it.</p>\n<p>File log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;CustomLevels&gt;\n        &lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\n    &lt;/CustomLevels&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;appLog&quot;\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>See LevelRangeFilter params.</p>\n"}],"owner":{"account_id":3658280,"reputation":27,"user_id":14138100,"display_name":"Marvin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77081538,"answer_count":1,"score":0,"last_activity_date":1694434587,"creation_date":1694349718,"question_id":77076153,"body_markdown":"I try write messages of my custom log level &quot;BSHARING_LOG&quot; to separate log file &quot;bsharing.log&quot;. After start app, empty file &#39;bsharing.log&#39; appears, but no messages in it. Both &quot;test log message2&quot; and &quot;test log message&quot; are on console. But not in file &#39;bsharing.log&#39;.  Messages for standart levels writes to &#39;application.log&#39;. What&#39;s wrong?\r\n\r\n\r\nPart of my pom.xml:\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t    &lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nlog4j2.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n\r\n\t&lt;CustomLevels&gt;\r\n    \t&lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\r\n  \t&lt;/CustomLevels&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;appLog&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;ru.bozza.Sharing&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        \r\n        &lt;Logger name=&quot;bsharinglogger&quot; level=&quot;BSHARING_LOG&quot; additivity=&quot;false&quot;&gt;\r\n        \t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        \r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nclass:\r\n\r\n```\r\npublic class CustomSecurityFilter extends GenericFilterBean {\r\n\tprivate final Logger log = LogManager.getLogger(this.getClass());\r\n\t\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        log.log(Level.forName(&quot;BSHARING_LOG&quot;, 350), &quot;test log message2&quot;);\r\n        log.log(Level.getLevel(&quot;BSHARING_LOG&quot;), &quot;test log message&quot;);\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIf \r\n```\r\n&lt;Root level=&quot;info&quot;&gt;\r\n   &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n   &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n   &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\r\n&lt;/Root&gt;\r\n```\r\nthen logs writes to both files.\r\nI can&#39;t understand, why my custom log messages appears only in console, but not in file &#39;bsharing.log&#39;.\r\n","title":"Log4J do not writes to file, only to console","body":"<p>I try write messages of my custom log level &quot;BSHARING_LOG&quot; to separate log file &quot;bsharing.log&quot;. After start app, empty file 'bsharing.log' appears, but no messages in it. Both &quot;test log message2&quot; and &quot;test log message&quot; are on console. But not in file 'bsharing.log'.  Messages for standart levels writes to 'application.log'. What's wrong?</p>\n<p>Part of my pom.xml:</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;CustomLevels&gt;\n        &lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\n    &lt;/CustomLevels&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;appLog&quot;\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;ru.bozza.Sharing&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Logger name=&quot;bsharinglogger&quot; level=&quot;BSHARING_LOG&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>class:</p>\n<pre><code>public class CustomSecurityFilter extends GenericFilterBean {\n    private final Logger log = LogManager.getLogger(this.getClass());\n    \n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        log.log(Level.forName(&quot;BSHARING_LOG&quot;, 350), &quot;test log message2&quot;);\n        log.log(Level.getLevel(&quot;BSHARING_LOG&quot;), &quot;test log message&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>If</p>\n<pre><code>&lt;Root level=&quot;info&quot;&gt;\n   &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n   &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n   &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>then logs writes to both files.\nI can't understand, why my custom log messages appears only in console, but not in file 'bsharing.log'.</p>\n"},{"tags":["java","continuous-integration","google-bigquery","integration-testing"],"comments":[{"owner":{"account_id":12691163,"reputation":111,"user_id":9221183,"display_name":"Y Y"},"score":0,"creation_date":1521508060,"post_id":49336013,"comment_id":85750836,"body_markdown":"Can you directly use the real bigquery endpoint for end to end tests?","body":"Can you directly use the real bigquery endpoint for end to end tests?"}],"answers":[{"tags":[],"owner":{"account_id":5666430,"reputation":8004,"user_id":4482491,"display_name":"dsesto"},"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1521626916,"creation_date":1521626916,"answer_id":49403421,"question_id":49336013,"body_markdown":"Currently there is not any kind of BigQuery local emulator or anything similar to that. As pointed out by the link you shared about [available GCP emulators][1], there are some other products that have such a feature, but probably the reason why BigQuery does not have one is that its true potential is only seen when working in its real infrastructure, plus the fact that the costs of working with BigQuery can be relatively low depending on the usage you make of it, plus you have a Free Tier to start working with.\r\n\r\nLet me summarize some info about BigQuery pricing that can be useful for you:\r\n\r\n - BigQuery storage and operation costs are summarized in the [pricing documentation][2].\r\n - BigQuery offers some operations that are [free of charge][3].\r\n - There&#39;s a [Storage free tier][4] with 10GB of free storage. It may not be a lot, given that BQ is designed to work with enormous amounts of data, but it can be a good starting point to do some tests.\r\n - There&#39;s also an [Operations free tier][5], where the first TeraByte of processed data (per month) is free of charge.\r\n - You can set up alerts in order to monitor usage with [Stackdriver][6], using the [available metrics][7].\r\n\r\nIn any case, if you still think that working with BigQuery directly is not the best option for you, can always forward your requests to the Engineering team by creating a Feature Request in the [Public Issue Tracker][8] for BigQuery, although it will be in hands of the engineering team whether to decide if (and when) to implement such a feature, even more considering the complexity of BigQuery and that its performance is optimized for working in its current architecture.\r\n\r\n\r\n  [1]: https://cloud.google.com/sdk/gcloud/reference/beta/emulators/\r\n  [2]: https://cloud.google.com/bigquery/pricing#pricing_summary\r\n  [3]: https://cloud.google.com/bigquery/pricing#free\r\n  [4]: https://cloud.google.com/bigquery/pricing#free-tier-storage\r\n  [5]: https://cloud.google.com/bigquery/pricing#free-tier\r\n  [6]: https://cloud.google.com/stackdriver/\r\n  [7]: https://cloud.google.com/bigquery/docs/monitoring#metrics\r\n  [8]: https://cloud.google.com/support/docs/issue-trackers","title":"How can I make integration tests with google cloud bigquery","body":"<p>Currently there is not any kind of BigQuery local emulator or anything similar to that. As pointed out by the link you shared about <a href=\"https://cloud.google.com/sdk/gcloud/reference/beta/emulators/\" rel=\"noreferrer\">available GCP emulators</a>, there are some other products that have such a feature, but probably the reason why BigQuery does not have one is that its true potential is only seen when working in its real infrastructure, plus the fact that the costs of working with BigQuery can be relatively low depending on the usage you make of it, plus you have a Free Tier to start working with.</p>\n\n<p>Let me summarize some info about BigQuery pricing that can be useful for you:</p>\n\n<ul>\n<li>BigQuery storage and operation costs are summarized in the <a href=\"https://cloud.google.com/bigquery/pricing#pricing_summary\" rel=\"noreferrer\">pricing documentation</a>.</li>\n<li>BigQuery offers some operations that are <a href=\"https://cloud.google.com/bigquery/pricing#free\" rel=\"noreferrer\">free of charge</a>.</li>\n<li>There's a <a href=\"https://cloud.google.com/bigquery/pricing#free-tier-storage\" rel=\"noreferrer\">Storage free tier</a> with 10GB of free storage. It may not be a lot, given that BQ is designed to work with enormous amounts of data, but it can be a good starting point to do some tests.</li>\n<li>There's also an <a href=\"https://cloud.google.com/bigquery/pricing#free-tier\" rel=\"noreferrer\">Operations free tier</a>, where the first TeraByte of processed data (per month) is free of charge.</li>\n<li>You can set up alerts in order to monitor usage with <a href=\"https://cloud.google.com/stackdriver/\" rel=\"noreferrer\">Stackdriver</a>, using the <a href=\"https://cloud.google.com/bigquery/docs/monitoring#metrics\" rel=\"noreferrer\">available metrics</a>.</li>\n</ul>\n\n<p>In any case, if you still think that working with BigQuery directly is not the best option for you, can always forward your requests to the Engineering team by creating a Feature Request in the <a href=\"https://cloud.google.com/support/docs/issue-trackers\" rel=\"noreferrer\">Public Issue Tracker</a> for BigQuery, although it will be in hands of the engineering team whether to decide if (and when) to implement such a feature, even more considering the complexity of BigQuery and that its performance is optimized for working in its current architecture.</p>\n"},{"tags":[],"owner":{"account_id":5359007,"reputation":183,"user_id":4270903,"accept_rate":50,"display_name":"Bounkong KHAMPHOUSONE"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1611926875,"creation_date":1611926875,"answer_id":65955392,"question_id":49336013,"body_markdown":"This is an old post but if you can use Python and you plan to test your SQL and assert your result based on input, I would suggest [bq-test-kit][1]. This framework allows you to interact with BigQuery in Python and make tests reliables. \r\n\r\nYou have 3 ways to inject data into it :\r\n - Create datasets and tables with an ability to isolate their name and therefore have your own namespace\r\n - Rely on temp tables, where data is inserted with data literals\r\n - data literal merged into your query\r\n\r\nHope that this helps.\r\n\r\n\r\n  [1]: https://github.com/tiboun/python-bq-test-kit","title":"How can I make integration tests with google cloud bigquery","body":"<p>This is an old post but if you can use Python and you plan to test your SQL and assert your result based on input, I would suggest <a href=\"https://github.com/tiboun/python-bq-test-kit\" rel=\"noreferrer\">bq-test-kit</a>. This framework allows you to interact with BigQuery in Python and make tests reliables.</p>\n<p>You have 3 ways to inject data into it :</p>\n<ul>\n<li>Create datasets and tables with an ability to isolate their name and therefore have your own namespace</li>\n<li>Rely on temp tables, where data is inserted with data literals</li>\n<li>data literal merged into your query</li>\n</ul>\n<p>Hope that this helps.</p>\n"},{"tags":[],"owner":{"account_id":2817676,"reputation":1264,"user_id":2422285,"accept_rate":50,"display_name":"Tuno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694434411,"creation_date":1694434411,"answer_id":77081522,"question_id":49336013,"body_markdown":"I have found this BigQuery emulator https://github.com/goccy/bigquery-emulator which works nice using Docker container. If you use Java, you can even combine it in your integration tests using Testcontainers https://java.testcontainers.org/modules/gcloud/ Just make sure to map the volumes with the test data provided and start the container accordingly using the command options.","title":"How can I make integration tests with google cloud bigquery","body":"<p>I have found this BigQuery emulator <a href=\"https://github.com/goccy/bigquery-emulator\" rel=\"nofollow noreferrer\">https://github.com/goccy/bigquery-emulator</a> which works nice using Docker container. If you use Java, you can even combine it in your integration tests using Testcontainers <a href=\"https://java.testcontainers.org/modules/gcloud/\" rel=\"nofollow noreferrer\">https://java.testcontainers.org/modules/gcloud/</a> Just make sure to map the volumes with the test data provided and start the container accordingly using the command options.</p>\n"}],"owner":{"account_id":964672,"reputation":2010,"user_id":988324,"accept_rate":65,"display_name":"Richard Deurwaarder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14550,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":49403421,"answer_count":3,"score":19,"last_activity_date":1694434411,"creation_date":1521289714,"question_id":49336013,"body_markdown":"We are in the processing of migrating from apache hbase to bigquery.\r\n\r\nCurrently we have end to end tests (using cucumbers) that work with a docker container running hbase.\r\n\r\nThere don&#39;t seem to be any bigquery docker containers or emulators (https://cloud.google.com/sdk/gcloud/reference/beta/emulators/)\r\n\r\nHow would we be able to create end to end tests for an application working with bigquery?","title":"How can I make integration tests with google cloud bigquery","body":"<p>We are in the processing of migrating from apache hbase to bigquery.</p>\n\n<p>Currently we have end to end tests (using cucumbers) that work with a docker container running hbase.</p>\n\n<p>There don't seem to be any bigquery docker containers or emulators (<a href=\"https://cloud.google.com/sdk/gcloud/reference/beta/emulators/\" rel=\"noreferrer\">https://cloud.google.com/sdk/gcloud/reference/beta/emulators/</a>)</p>\n\n<p>How would we be able to create end to end tests for an application working with bigquery?</p>\n"},{"tags":["java","ip-address"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1395684414,"post_id":5667371,"comment_id":34440019,"body_markdown":"note that not all technically valid IP address notations have the three dots, only the dot notation of IP address has them. Note also ipv6, and you might or might not want to separate private address spaces from public.","body":"note that not all technically valid IP address notations have the three dots, only the dot notation of IP address has them. Note also ipv6, and you might or might not want to separate private address spaces from public."},{"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"score":4,"creation_date":1407437597,"post_id":5667371,"comment_id":39225677,"body_markdown":"I think all the code reviewers in the world would be immensely grateful if you could change your accepted answer to worpet&#39;s answer :)","body":"I think all the code reviewers in the world would be immensely grateful if you could change your accepted answer to worpet&#39;s answer :)"},{"owner":{"account_id":717438,"reputation":1482,"user_id":645825,"accept_rate":77,"display_name":"iRunner"},"score":0,"creation_date":1576637079,"post_id":5667371,"comment_id":104961142,"body_markdown":"@samthebest : Ohk. I asked this question long back and accepted the answer which worked for me that time.","body":"@samthebest : Ohk. I asked this question long back and accepted the answer which worked for me that time."},{"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"score":0,"creation_date":1576672066,"post_id":5667371,"comment_id":104973763,"body_markdown":"Thanks @iRunner that makes sense.  Fortunately Stack Overflow does allow you to change the accepted answer and this does not incur any kind of penalty.  The feature exists exactly for this kind of situation where a new and better answer comes along much later than the original answer.  Please could you give it a try and accept Worpet&#39;s answer?","body":"Thanks @iRunner that makes sense.  Fortunately Stack Overflow does allow you to change the accepted answer and this does not incur any kind of penalty.  The feature exists exactly for this kind of situation where a new and better answer comes along much later than the original answer.  Please could you give it a try and accept Worpet&#39;s answer?"}],"answers":[{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395683361,"creation_date":1302803519,"answer_id":5667402,"question_id":5667371,"body_markdown":"You can use a regex, like this:\r\n\r\n    (([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))\r\n\r\nThis one validates the values are within range.\r\n\r\nAndroid has support for regular expressions. See [java.util.regex.Pattern][1].\r\n\r\n    class ValidateIPV4\r\n    {\r\n    \r\n       static private final String IPV4_REGEX = &quot;(([0-1]?[0-9]{1,2}\\\\.)|(2[0-4][0-9]\\\\.)|(25[0-5]\\\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))&quot;;\r\n       static private Pattern IPV4_PATTERN = Pattern.compile(IPV4_REGEX);\r\n    \r\n       public static boolean isValidIPV4(final String s)\r\n       {          \r\n          return IPV4_PATTERN.matcher(s).matches();\r\n       }\r\n    }\r\n\r\nTo avoid recompiling the pattern over and over, it&#39;s best to place the `Pattern.compile()` call so that it is executed only once. \r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/regex/Pattern.html","title":"Validate IPv4 address in Java","body":"<p>You can use a regex, like this:</p>\n\n<pre><code>(([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))\n</code></pre>\n\n<p>This one validates the values are within range.</p>\n\n<p>Android has support for regular expressions. See <a href=\"http://developer.android.com/reference/java/util/regex/Pattern.html\" rel=\"noreferrer\">java.util.regex.Pattern</a>.</p>\n\n<pre><code>class ValidateIPV4\n{\n\n   static private final String IPV4_REGEX = \"(([0-1]?[0-9]{1,2}\\\\.)|(2[0-4][0-9]\\\\.)|(25[0-5]\\\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))\";\n   static private Pattern IPV4_PATTERN = Pattern.compile(IPV4_REGEX);\n\n   public static boolean isValidIPV4(final String s)\n   {          \n      return IPV4_PATTERN.matcher(s).matches();\n   }\n}\n</code></pre>\n\n<p>To avoid recompiling the pattern over and over, it's best to place the <code>Pattern.compile()</code> call so that it is executed only once. </p>\n"},{"tags":[],"owner":{"account_id":161848,"reputation":6734,"user_id":382920,"accept_rate":74,"display_name":"Necronet"},"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1576672215,"creation_date":1302803612,"answer_id":5667417,"question_id":5667371,"body_markdown":"Pretty simple with Regular Expression (but note this is much less efficient and much harder to read than [worpet&#39;s answer](https://stackoverflow.com/a/5668971/1586965)  that uses an Apache Commons Utility)\r\n\r\n\tprivate static final Pattern PATTERN = Pattern.compile(\r\n\t\t\t&quot;^(([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;);\r\n\r\n\tpublic static boolean validate(final String ip) {\r\n\t\treturn PATTERN.matcher(ip).matches();\r\n\t}\r\n\r\nBased on post [Mkyong][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/regular-expressions/how-to-validate-ip-address-with-regular-expression/","title":"Validate IPv4 address in Java","body":"<p>Pretty simple with Regular Expression (but note this is much less efficient and much harder to read than <a href=\"https://stackoverflow.com/a/5668971/1586965\">worpet's answer</a>  that uses an Apache Commons Utility)</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\n        \"^(([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$\");\n\npublic static boolean validate(final String ip) {\n    return PATTERN.matcher(ip).matches();\n}\n</code></pre>\n\n<p>Based on post <a href=\"http://www.mkyong.com/regular-expressions/how-to-validate-ip-address-with-regular-expression/\" rel=\"noreferrer\">Mkyong</a></p>\n"},{"tags":[],"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1302804294,"creation_date":1302803733,"answer_id":5667440,"question_id":5667371,"body_markdown":"If it is IP4, you can use a regular expression as follows:\r\n\r\n`^(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)\\\\.){3}(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)$`.\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>If it is IP4, you can use a regular expression as follows:</p>\n\n<p><code>^(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)\\\\.){3}(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)$</code>.</p>\n"},{"tags":[],"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1352730979,"creation_date":1302811250,"answer_id":5668971,"question_id":5667371,"body_markdown":"Try the InetAddressValidator utility class.\r\n\r\nDocs here:\r\n\r\nhttp://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html\r\n\r\nDownload here:\r\n\r\nhttp://commons.apache.org/validator/","title":"Validate IPv4 address in Java","body":"<p>Try the InetAddressValidator utility class.</p>\n\n<p>Docs here:</p>\n\n<p><a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html\" rel=\"noreferrer\">http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html</a></p>\n\n<p>Download here:</p>\n\n<p><a href=\"http://commons.apache.org/validator/\" rel=\"noreferrer\">http://commons.apache.org/validator/</a></p>\n"},{"tags":[],"owner":{"account_id":3660379,"reputation":11,"user_id":3050370,"display_name":"Girish"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385748956,"creation_date":1385748956,"answer_id":20291445,"question_id":5667371,"body_markdown":"Please have a look into &lt;b&gt;IPAddressUtil&lt;/b&gt; OOTB class present in &lt;i&gt;sun.net.util&lt;/i&gt; ,that should help you.  ","title":"Validate IPv4 address in Java","body":"<p>Please have a look into <b>IPAddressUtil</b> OOTB class present in <i>sun.net.util</i> ,that should help you.  </p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1395677437,"creation_date":1395677437,"answer_id":22614712,"question_id":5667371,"body_markdown":"There is also an undocumented utility class `sun.net.util.IPAddressUtil`, which [you should not actually use](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html), although it might be useful in a quick one-off, throw-away utility:\r\n\r\n    boolean isIP = IPAddressUtil.isIPv4LiteralAddress(ipAddressString);\r\n\r\nInternally, this is the utility class `InetAddress` uses to parse IP addresses. \r\n\r\nNote that this will return true for strings like &quot;123&quot;, which, technically are [valid IPv4 addresses](http://en.wikipedia.org/wiki/IPv4#Address_representations), just not in dot-decimal notation.\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>There is also an undocumented utility class <code>sun.net.util.IPAddressUtil</code>, which <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\" rel=\"noreferrer\">you should not actually use</a>, although it might be useful in a quick one-off, throw-away utility:</p>\n\n<pre><code>boolean isIP = IPAddressUtil.isIPv4LiteralAddress(ipAddressString);\n</code></pre>\n\n<p>Internally, this is the utility class <code>InetAddress</code> uses to parse IP addresses. </p>\n\n<p>Note that this will return true for strings like \"123\", which, technically are <a href=\"http://en.wikipedia.org/wiki/IPv4#Address_representations\" rel=\"noreferrer\">valid IPv4 addresses</a>, just not in dot-decimal notation.</p>\n"},{"tags":[],"owner":{"account_id":1073660,"reputation":391,"user_id":1072317,"display_name":"wileyquixote"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553520797,"creation_date":1400186265,"answer_id":23688164,"question_id":5667371,"body_markdown":"Use [Guava](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/net/InetAddresses.html)&#39;s\r\n\r\n    InetAddresses.isInetAddress(ipStr)\r\n      ","title":"Validate IPv4 address in Java","body":"<p>Use <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/net/InetAddresses.html\" rel=\"noreferrer\">Guava</a>'s</p>\n\n<pre><code>InetAddresses.isInetAddress(ipStr)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539150,"reputation":661,"user_id":4396410,"accept_rate":60,"display_name":"Akarshit Wal"},"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1576672139,"creation_date":1433664985,"answer_id":30691451,"question_id":5667371,"body_markdown":"Please see https://stackoverflow.com/a/5668971/1586965 which uses an apache commons library `InetAddressValidator`\r\n\r\nOr you can use this function -   \r\n\r\n    public static boolean validate(final String ip) {\r\n\t\tString PATTERN = &quot;^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$&quot;;\r\n\r\n\t\treturn ip.matches(PATTERN);\r\n\t}","title":"Validate IPv4 address in Java","body":"<p>Please see <a href=\"https://stackoverflow.com/a/5668971/1586965\">https://stackoverflow.com/a/5668971/1586965</a> which uses an apache commons library <code>InetAddressValidator</code></p>\n\n<p>Or you can use this function -   </p>\n\n<pre><code>public static boolean validate(final String ip) {\n    String PATTERN = \"^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$\";\n\n    return ip.matches(PATTERN);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2476338,"reputation":2525,"user_id":2156913,"accept_rate":57,"display_name":"Pian0_M4n"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1595950718,"creation_date":1442065178,"answer_id":32539471,"question_id":5667371,"body_markdown":"This is for Android, testing for `IPv4` and `IPv6`\r\n\r\nNote: the commonly used `InetAddressUtils` is deprecated. Use new `InetAddress` classes\r\n\r\n    public static Boolean isIPv4Address(String address) {\r\n        if (address.isEmpty()) {\r\n            return false;\r\n        }\r\n        try {\r\n            Object res = InetAddress.getByName(address);\r\n            return res instanceof Inet4Address || res instanceof Inet6Address;\r\n        } catch (final UnknownHostException exception) {\r\n            return false;\r\n        }\r\n    }","title":"Validate IPv4 address in Java","body":"<p>This is for Android, testing for <code>IPv4</code> and <code>IPv6</code></p>\n<p>Note: the commonly used <code>InetAddressUtils</code> is deprecated. Use new <code>InetAddress</code> classes</p>\n<pre><code>public static Boolean isIPv4Address(String address) {\n    if (address.isEmpty()) {\n        return false;\n    }\n    try {\n        Object res = InetAddress.getByName(address);\n        return res instanceof Inet4Address || res instanceof Inet6Address;\n    } catch (final UnknownHostException exception) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6601451,"reputation":348,"user_id":5099618,"display_name":"darkconeja"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1454090398,"creation_date":1454036040,"answer_id":35076074,"question_id":5667371,"body_markdown":"If you don care about the range, the following expression will be useful to validate from 1.1.1.1 to 999.999.999.999\r\n\r\n    &quot;[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}&quot;","title":"Validate IPv4 address in Java","body":"<p>If you don care about the range, the following expression will be useful to validate from 1.1.1.1 to 999.999.999.999</p>\n\n<pre><code>\"[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}\"\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5150135"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457704075,"creation_date":1457704075,"answer_id":35941919,"question_id":5667371,"body_markdown":"There are so many ways to achieve that,but regular expression is more efficient.\r\n\r\nLook at the code below:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tString ipStr1 = &quot;255.245.188.123&quot;; // valid IP address\r\n\t\tString ipStr2 = &quot;255.245.188.273&quot;; // invalid IP address - 273 is greater than 255\r\n\r\n\t\tvalidateIP(ipStr1);\r\n\t\tvalidateIP(ipStr2);\r\n\t}\r\n\r\n\tpublic static void validateIP(String ipStr) {\r\n\t\tString regex = &quot;\\\\b((25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)(\\\\.)){3}(25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)\\\\b&quot;;\r\n\t\tSystem.out.println(ipStr + &quot; is valid? &quot; + Pattern.matches(regex, ipStr));\r\n\t}","title":"Validate IPv4 address in Java","body":"<p>There are so many ways to achieve that,but regular expression is more efficient.</p>\n\n<p>Look at the code below:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String ipStr1 = \"255.245.188.123\"; // valid IP address\n    String ipStr2 = \"255.245.188.273\"; // invalid IP address - 273 is greater than 255\n\n    validateIP(ipStr1);\n    validateIP(ipStr2);\n}\n\npublic static void validateIP(String ipStr) {\n    String regex = \"\\\\b((25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)(\\\\.)){3}(25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)\\\\b\";\n    System.out.println(ipStr + \" is valid? \" + Pattern.matches(regex, ipStr));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513190437,"creation_date":1476686124,"answer_id":40079878,"question_id":5667371,"body_markdown":"[The IPAddress Java library](https://seancfoley.github.io/IPAddress/) will do it.  The javadoc is available at the link.  Disclaimer: I am the project manager.\r\n\r\nThis library supports IPv4 and IPv6 transparently, so validating either works the same below, and it also supports CIDR subnets as well.\r\n\r\nVerify if an address is valid\r\n    \r\n        String str = &quot;1.2.3.4&quot;;\r\n        IPAddressString addrString = new IPAddressString(str);\r\n        try {\r\n             IPAddress addr = addrString.toAddress();\r\n             ...\r\n        } catch(AddressStringException e) {\r\n            //e.getMessage provides validation issue\r\n        }\r\n","title":"Validate IPv4 address in Java","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">The IPAddress Java library</a> will do it.  The javadoc is available at the link.  Disclaimer: I am the project manager.</p>\n\n<p>This library supports IPv4 and IPv6 transparently, so validating either works the same below, and it also supports CIDR subnets as well.</p>\n\n<p>Verify if an address is valid</p>\n\n<pre><code>    String str = \"1.2.3.4\";\n    IPAddressString addrString = new IPAddressString(str);\n    try {\n         IPAddress addr = addrString.toAddress();\n         ...\n    } catch(AddressStringException e) {\n        //e.getMessage provides validation issue\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7330877,"reputation":195,"user_id":5583806,"display_name":"veeson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502171209,"creation_date":1502171209,"answer_id":45560187,"question_id":5667371,"body_markdown":"    public static boolean isIpv4(String ipAddress) {\r\n\t\tif (ipAddress == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n        String ip = &quot;^(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|[1-9])\\\\.&quot;\r\n                + &quot;(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.&quot;\r\n                + &quot;(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.&quot;\r\n                + &quot;(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)$&quot;;\r\n        Pattern pattern = Pattern.compile(ip);\r\n        Matcher matcher = pattern.matcher(ipAddress);\r\n        return matcher.matches();\r\n    }","title":"Validate IPv4 address in Java","body":"<pre><code>public static boolean isIpv4(String ipAddress) {\n    if (ipAddress == null) {\n        return false;\n    }\n    String ip = \"^(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|[1-9])\\\\.\"\n            + \"(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.\"\n            + \"(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.\"\n            + \"(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)$\";\n    Pattern pattern = Pattern.compile(ip);\n    Matcher matcher = pattern.matcher(ipAddress);\n    return matcher.matches();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13401411,"reputation":11,"user_id":9670838,"display_name":"Deepali Agg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524498943,"creation_date":1524498943,"answer_id":49985248,"question_id":5667371,"body_markdown":"Regular Expression is the most efficient way to solve this problem.\r\nLook at the code below. Along validity, it also checks IP address class in which it belongs and whether it is reserved IP Address or not\r\n\r\n\tPattern ipPattern;\r\n\tint[] arr=new int[4];\r\n\tint i=0;\r\n\r\n    //Method to check validity\r\n\t private String validateIpAddress(String ipAddress) {\r\n\t\t  Matcher ipMatcher=ipPattern.matcher(ipAddress);\r\n\t\t  \r\n\t\t    //Condition to check input IP format\r\n\t\t    if(ipMatcher.matches()) {       \r\n\t\t\t  \r\n\t\t\t   //Split input IP Address on basis of .\r\n\t\t\t   String[] octate=ipAddress.split(&quot;[.]&quot;);     \r\n\t\t\t   for(String x:octate) { \r\n\t\t\t\t \r\n\t\t\t\t  //Convert String number into integer\r\n\t\t\t\t  arr[i]=Integer.parseInt(x);             \r\n\t\t\t\t  i++;\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t//Check whether input is Class A IP Address or not\r\n\t\t\t if(arr[0]&lt;=127) {                          \r\n\t\t\t\t if(arr[0]==0||arr[0]==127)\r\n\t\t\t\t   \t return(&quot; is Reserved IP Address of Class A&quot;);\r\n\t\t\t\t else if(arr[1]==0&amp;&amp;arr[2]==0&amp;&amp;arr[3]==0)\r\n\t\t\t\t     return(&quot; is Class A Network address&quot;);\r\n\t\t\t\t else if(arr[1]==255&amp;&amp;arr[2]==255&amp;&amp;arr[3]==255)\r\n\t\t\t         return( &quot; is Class A Broadcast address&quot;);\r\n\t\t         else \r\n\t\t        \t return(&quot; is valid IP Address of Class A&quot;);\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t//Check whether input is Class B IP Address or not\r\n\t\t\t else if(arr[0]&gt;=128&amp;&amp;arr[0]&lt;=191) {        \r\n\t\t\t\t if(arr[2]==0&amp;&amp;arr[3]==0)\r\n\t\t\t         return(&quot; is Class B Network address&quot;);\r\n\t\t         else if(arr[2]==255&amp;&amp;arr[3]==255)\r\n\t\t\t         return(&quot; is Class B Broadcast address&quot;);\r\n\t\t         else\r\n\t\t\t\t     return(&quot; is valid IP Address of Class B&quot;);\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t//Check whether input is Class C IP Address or not\r\n\t\t\t else if(arr[0]&gt;=192&amp;&amp;arr[0]&lt;=223) {        \r\n\t\t\t\t if(arr[3]==0)\r\n\t\t\t\t\t return(&quot; is Class C Network address&quot;);\r\n\t\t         else if(arr[3]==255)\r\n\t\t        \t return(&quot; is Class C Broadcast address&quot;);\r\n\t\t         else\r\n\t\t        \t return( &quot; is valid IP Address of Class C&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t//Check whether input is Class D IP Address or not\r\n\t\t\telse if(arr[0]&gt;=224&amp;&amp;arr[0]&lt;=239) {          \r\n\t\t\t\t return(&quot; is Class D IP Address Reserved for multicasting&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t//Execute if input is Class E IP Address\r\n\t\t\telse  {                                   \r\n\t\t\t\t return(&quot; is Class E IP Address Reserved for Research and Development by DOD&quot;);\r\n\t        }\r\n\t\t\t\r\n\t    }\r\n\t\t  \r\n\t\t//Input not matched with IP Address pattern\r\n\t\telse                                     \r\n\t\t\treturn(&quot; is Invalid IP Address&quot;);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scan= new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter IP Address: &quot;);\r\n\t\t\r\n\t\t//Input IP Address from user\r\n\t\tString ipAddress=scan.nextLine();  \r\n\t\tscan.close();\r\n\t\tIPAddress obj=new IPAddress();\r\n\t\t\r\n\t\t//Regex for IP Address\r\n\t\tobj.ipPattern=Pattern.compile(&quot;((([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5]))&quot;);\r\n\t\t\r\n\t\t//Display output\r\n\t\tSystem.out.println(ipAddress+ obj.validateIpAddress(ipAddress));\r\n\r\n\t}\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>Regular Expression is the most efficient way to solve this problem.\nLook at the code below. Along validity, it also checks IP address class in which it belongs and whether it is reserved IP Address or not</p>\n\n<pre><code>Pattern ipPattern;\nint[] arr=new int[4];\nint i=0;\n\n//Method to check validity\n private String validateIpAddress(String ipAddress) {\n      Matcher ipMatcher=ipPattern.matcher(ipAddress);\n\n        //Condition to check input IP format\n        if(ipMatcher.matches()) {       \n\n           //Split input IP Address on basis of .\n           String[] octate=ipAddress.split(\"[.]\");     \n           for(String x:octate) { \n\n              //Convert String number into integer\n              arr[i]=Integer.parseInt(x);             \n              i++;\n         }\n\n        //Check whether input is Class A IP Address or not\n         if(arr[0]&lt;=127) {                          \n             if(arr[0]==0||arr[0]==127)\n                 return(\" is Reserved IP Address of Class A\");\n             else if(arr[1]==0&amp;&amp;arr[2]==0&amp;&amp;arr[3]==0)\n                 return(\" is Class A Network address\");\n             else if(arr[1]==255&amp;&amp;arr[2]==255&amp;&amp;arr[3]==255)\n                 return( \" is Class A Broadcast address\");\n             else \n                 return(\" is valid IP Address of Class A\");\n         }\n\n        //Check whether input is Class B IP Address or not\n         else if(arr[0]&gt;=128&amp;&amp;arr[0]&lt;=191) {        \n             if(arr[2]==0&amp;&amp;arr[3]==0)\n                 return(\" is Class B Network address\");\n             else if(arr[2]==255&amp;&amp;arr[3]==255)\n                 return(\" is Class B Broadcast address\");\n             else\n                 return(\" is valid IP Address of Class B\");\n         }\n\n        //Check whether input is Class C IP Address or not\n         else if(arr[0]&gt;=192&amp;&amp;arr[0]&lt;=223) {        \n             if(arr[3]==0)\n                 return(\" is Class C Network address\");\n             else if(arr[3]==255)\n                 return(\" is Class C Broadcast address\");\n             else\n                 return( \" is valid IP Address of Class C\");\n        }\n\n        //Check whether input is Class D IP Address or not\n        else if(arr[0]&gt;=224&amp;&amp;arr[0]&lt;=239) {          \n             return(\" is Class D IP Address Reserved for multicasting\");\n        }\n\n        //Execute if input is Class E IP Address\n        else  {                                   \n             return(\" is Class E IP Address Reserved for Research and Development by DOD\");\n        }\n\n    }\n\n    //Input not matched with IP Address pattern\n    else                                     \n        return(\" is Invalid IP Address\");\n\n\n}\n\n\npublic static void main(String[] args) {\n\n    Scanner scan= new Scanner(System.in);\n    System.out.println(\"Enter IP Address: \");\n\n    //Input IP Address from user\n    String ipAddress=scan.nextLine();  \n    scan.close();\n    IPAddress obj=new IPAddress();\n\n    //Regex for IP Address\n    obj.ipPattern=Pattern.compile(\"((([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5]))\");\n\n    //Display output\n    System.out.println(ipAddress+ obj.validateIpAddress(ipAddress));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14336993,"reputation":7,"user_id":10356146,"display_name":"M Manzar AbBas"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1622202625,"creation_date":1536978186,"answer_id":52341072,"question_id":5667371,"body_markdown":"public void setIpAddress(String ipAddress) {\r\n        if(ipAddress.matches(&quot;^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;))   //regular expression for ipv4 \r\n            this.ipAddress = ipAddress;\r\n        else\r\n            System.out.println(&quot;incorrect IpAddress&quot;);\r\n    }","title":"Validate IPv4 address in Java","body":"<p>public void setIpAddress(String ipAddress) {\nif(ipAddress.matches(&quot;^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;))   //regular expression for ipv4\nthis.ipAddress = ipAddress;\nelse\nSystem.out.println(&quot;incorrect IpAddress&quot;);\n}</p>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562069386,"creation_date":1562069386,"answer_id":56852159,"question_id":5667371,"body_markdown":"**Get the valid ip address in two lines using Regular Expression** Please check the comment session of code how the regular expression works to get the number range. \r\n    \r\n    public class regexTest {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            String IP = &quot;255.001.001.255&quot;;\r\n            System.out.println(IP.matches(new MyRegex().pattern));\r\n        }\r\n    \r\n        }\r\n        \r\n        /*\r\n        * /d - stands for any number between 0 to 9\r\n        * /d{1,2} - preceding number that 0 to 9 here , can be of 1 digit to 2 digit . so minimum 0 and maximum 99\r\n        * |  this stands for or operator\r\n        *\r\n        * () this is applied on a group to get the single value of outcome\r\n        * (0|1)\\d{2} = first digit is either 0 or 1 and other two digits can be any number between ( 0 to 9)\r\n        * 2[0-4]\\d - first digit is 2 , second digit can be between 0 to 4 and last digit can be 0 to 9\r\n        * 25[0-5] - first two digit will be 25 and last digit will be between 0 to 5\r\n        *\r\n        * */\r\n        class MyRegex {\r\n    \r\n            String zeroTo255 = &quot;(\\\\d{1,2}|(0|1)\\\\d{2}|2[0-4]\\\\d|25[0-5])&quot;;\r\n            public String pattern =  zeroTo255 + &quot;\\\\.&quot; + zeroTo255 + &quot;\\\\.&quot; + zeroTo255 + &quot;\\\\.&quot; + zeroTo255;;\r\n    \r\n        }\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p><strong>Get the valid ip address in two lines using Regular Expression</strong> Please check the comment session of code how the regular expression works to get the number range. </p>\n\n<pre><code>public class regexTest {\n\n\n    public static void main(String[] args) {\n        String IP = \"255.001.001.255\";\n        System.out.println(IP.matches(new MyRegex().pattern));\n    }\n\n    }\n\n    /*\n    * /d - stands for any number between 0 to 9\n    * /d{1,2} - preceding number that 0 to 9 here , can be of 1 digit to 2 digit . so minimum 0 and maximum 99\n    * |  this stands for or operator\n    *\n    * () this is applied on a group to get the single value of outcome\n    * (0|1)\\d{2} = first digit is either 0 or 1 and other two digits can be any number between ( 0 to 9)\n    * 2[0-4]\\d - first digit is 2 , second digit can be between 0 to 4 and last digit can be 0 to 9\n    * 25[0-5] - first two digit will be 25 and last digit will be between 0 to 5\n    *\n    * */\n    class MyRegex {\n\n        String zeroTo255 = \"(\\\\d{1,2}|(0|1)\\\\d{2}|2[0-4]\\\\d|25[0-5])\";\n        public String pattern =  zeroTo255 + \"\\\\.\" + zeroTo255 + \"\\\\.\" + zeroTo255 + \"\\\\.\" + zeroTo255;;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571398960,"creation_date":1571398960,"answer_id":58450184,"question_id":5667371,"body_markdown":"    /**\r\n     * Check if ip is valid\r\n     *\r\n     * @param ip to be checked\r\n     * @return &lt;tt&gt;true&lt;/tt&gt; if &lt;tt&gt;ip&lt;/tt&gt; is valid, otherwise &lt;tt&gt;false&lt;/tt&gt;\r\n     */\r\n    private static boolean isValid(String ip) {\r\n        String[] bits = ip.split(&quot;\\\\.&quot;);\r\n        if (bits.length != 4) {\r\n            return false;\r\n        }\r\n        for (String bit : bits) {\r\n            try {\r\n                if (Integer.valueOf(bit) &lt; 0 || Integer.valueOf(bit) &gt; 255) {\r\n                    return false;\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                return false; /* contains other other character */\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Validate IPv4 address in Java","body":"<pre><code>/**\n * Check if ip is valid\n *\n * @param ip to be checked\n * @return &lt;tt&gt;true&lt;/tt&gt; if &lt;tt&gt;ip&lt;/tt&gt; is valid, otherwise &lt;tt&gt;false&lt;/tt&gt;\n */\nprivate static boolean isValid(String ip) {\n    String[] bits = ip.split(\"\\\\.\");\n    if (bits.length != 4) {\n        return false;\n    }\n    for (String bit : bits) {\n        try {\n            if (Integer.valueOf(bit) &lt; 0 || Integer.valueOf(bit) &gt; 255) {\n                return false;\n            }\n        } catch (NumberFormatException e) {\n            return false; /* contains other other character */\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4089940,"reputation":196,"user_id":3358231,"accept_rate":75,"display_name":"fo0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577664065,"creation_date":1577664065,"answer_id":59524380,"question_id":5667371,"body_markdown":"the lib of apache-httpcomponents\r\n\r\n```java\r\n// ipv4 is true\r\nassertTrue(InetAddressUtils.isIPv4Address(&quot;127.0.0.1&quot;));\r\n// not detect the ipv6\r\nassertFalse(InetAddressUtils.isIPv4Address(&quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;));\r\n```\r\n\r\n\r\nmaven lib (update Sep, 2019)\r\n```maven\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;version&gt;4.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Validate IPv4 address in Java","body":"<p>the lib of apache-httpcomponents</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// ipv4 is true\nassertTrue(InetAddressUtils.isIPv4Address(\"127.0.0.1\"));\n// not detect the ipv6\nassertFalse(InetAddressUtils.isIPv4Address(\"2001:0db8:85a3:0000:0000:8a2e:0370:7334\"));\n</code></pre>\n\n<p>maven lib (update Sep, 2019)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10812322,"reputation":1,"user_id":7952558,"display_name":"Kurnianto Trilaksono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604581385,"creation_date":1604581385,"answer_id":64697786,"question_id":5667371,"body_markdown":"my solution (supports leading 0s):\r\n\r\n       String pattern=&quot;^[0-9](\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25?[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?$&quot;;","title":"Validate IPv4 address in Java","body":"<p>my solution (supports leading 0s):</p>\n<pre><code>   String pattern=&quot;^[0-9](\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25?[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?$&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623083666,"creation_date":1623083666,"answer_id":67875486,"question_id":5667371,"body_markdown":"```\r\n private static final String IPV4_PATTERN_ALLOW_LEADING_ZERO =\r\n            &quot;^([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\r\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\r\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\r\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;;","title":"Validate IPv4 address in Java","body":"<pre><code> private static final String IPV4_PATTERN_ALLOW_LEADING_ZERO =\n            &quot;^([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632199540,"creation_date":1632199540,"answer_id":69263484,"question_id":5667371,"body_markdown":"    private static boolean findValidIP(String ipAddress) {\r\n            String[] ipAddressSplited = ipAddress.split(&quot;\\\\.&quot;);\r\n            int correctFragments = 0;\r\n    \r\n            for (String ctr : ipAddressSplited) {\r\n                int value = -10;\r\n                try {\r\n                    value = Integer.parseInt(ctr);\r\n                } catch (NumberFormatException exception) {\r\n                    value = -1;\r\n                }\r\n    \r\n                if (value &gt;= 0 &amp;&amp; value &lt;= 255 &amp;&amp; ipAddressSplited.length == 4) correctFragments++;\r\n            }\r\n\r\n            System.out.println(correctFragments == 4 ? &quot;Valid IP Address - &quot; + ipAddress : &quot;Invalid IP Address - &quot; + ipAddress);\r\n            return correctFragments == 4;\r\n        }","title":"Validate IPv4 address in Java","body":"<pre><code>private static boolean findValidIP(String ipAddress) {\n        String[] ipAddressSplited = ipAddress.split(&quot;\\\\.&quot;);\n        int correctFragments = 0;\n\n        for (String ctr : ipAddressSplited) {\n            int value = -10;\n            try {\n                value = Integer.parseInt(ctr);\n            } catch (NumberFormatException exception) {\n                value = -1;\n            }\n\n            if (value &gt;= 0 &amp;&amp; value &lt;= 255 &amp;&amp; ipAddressSplited.length == 4) correctFragments++;\n        }\n\n        System.out.println(correctFragments == 4 ? &quot;Valid IP Address - &quot; + ipAddress : &quot;Invalid IP Address - &quot; + ipAddress);\n        return correctFragments == 4;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9663586,"reputation":51,"user_id":7170757,"display_name":"ManhKM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637922808,"creation_date":1637922808,"answer_id":70123019,"question_id":5667371,"body_markdown":"I write a regex to **validate IPv4**.&lt;br&gt;\r\nYou can refer to my solution.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * @author ManhKM on 11/26/2021\r\n     * @project java-core-v1.0\r\n     */\r\n    public class ValidateIPv4 {\r\n        public static void main(String[] args){\r\n            Scanner in = new Scanner(System.in);\r\n            while(in.hasNext()){\r\n                String IP = in.next();\r\n                System.out.println(IP.matches(new MyRegex().pattern));\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    class MyRegex{\r\n    \r\n        String pattern = &quot;^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;;\r\n    }\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>I write a regex to <strong>validate IPv4</strong>.<br>\nYou can refer to my solution.</p>\n<pre><code>import java.util.Scanner;\n\n/**\n * @author ManhKM on 11/26/2021\n * @project java-core-v1.0\n */\npublic class ValidateIPv4 {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        while(in.hasNext()){\n            String IP = in.next();\n            System.out.println(IP.matches(new MyRegex().pattern));\n        }\n\n    }\n}\n\nclass MyRegex{\n\n    String pattern = &quot;^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9332244,"reputation":1,"user_id":18065281,"display_name":"Ricardo DC Melo Neves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694434146,"creation_date":1694430101,"answer_id":77081064,"question_id":5667371,"body_markdown":"```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        while(in.hasNext()){\r\n            String IP = in.next();\r\n            System.out.println(IP.matches(new MyRegex().pattern));\r\n        }\r\n    }\r\n}\r\n\r\nclass MyRegex {\r\n    public String pattern;\r\n\r\n    public MyRegex() {\r\n        this.pattern = &quot;((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))&quot; ;           \r\n    }\r\n}\r\n```","title":"Validate IPv4 address in Java","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        while(in.hasNext()){\n            String IP = in.next();\n            System.out.println(IP.matches(new MyRegex().pattern));\n        }\n    }\n}\n\nclass MyRegex {\n    public String pattern;\n\n    public MyRegex() {\n        this.pattern = &quot;((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))&quot; ;           \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":717438,"reputation":1482,"user_id":645825,"accept_rate":77,"display_name":"iRunner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155259,"favorite_count":0,"down_vote_count":3,"up_vote_count":80,"accepted_answer_id":30691451,"answer_count":23,"score":77,"last_activity_date":1694434146,"creation_date":1302803354,"question_id":5667371,"body_markdown":"I want to validate an IPv4 address using Java. It should be written using the [dot-decimal notation][1], so it should have 3 dots (&quot;`.`&quot;), no characters, numbers in between the dots, and numbers should be in a valid range. How should it be done?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dotted_decimal","title":"Validate IPv4 address in Java","body":"<p>I want to validate an IPv4 address using Java. It should be written using the <a href=\"http://en.wikipedia.org/wiki/Dotted_decimal\" rel=\"noreferrer\">dot-decimal notation</a>, so it should have 3 dots (\"<code>.</code>\"), no characters, numbers in between the dots, and numbers should be in a valid range. How should it be done?</p>\n"},{"tags":["java","android","android-studio","android-emulator","qemu"],"comments":[{"owner":{"account_id":6351514,"reputation":6332,"user_id":4930423,"display_name":"programmerq"},"score":0,"creation_date":1626968440,"post_id":68478116,"comment_id":121038783,"body_markdown":"instead of including a link to an external resource (the youtube link), include the actual steps you are following as part of the question. The link may break over time and not everyone may be able to access it. https://stackoverflow.com/help/how-to-ask","body":"instead of including a link to an external resource (the youtube link), include the actual steps you are following as part of the question. The link may break over time and not everyone may be able to access it. <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":22439700,"reputation":1,"user_id":16644433,"display_name":"Nisha15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628717210,"creation_date":1628717210,"answer_id":68749103,"question_id":68478116,"body_markdown":"This error could be due to two reasons :\r\n1. Either due to your android emulator / device version.\r\n2. Due to some error in your java or xml file.\r\n\r\nFirst, change your current minSdkVersion to some other version preferably below 23.\r\nThen check your logcat whether it gives some error in your code. Most probably that could be an import error. \r\n\r\nIn my case, I changed my minSdkVersion from 26 to 17.\r\nAnd it worked for me. Hopefully, it works for you as well.","title":"&quot;Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument&quot; error when trying to run app on android emulator","body":"<p>This error could be due to two reasons :</p>\n<ol>\n<li>Either due to your android emulator / device version.</li>\n<li>Due to some error in your java or xml file.</li>\n</ol>\n<p>First, change your current minSdkVersion to some other version preferably below 23.\nThen check your logcat whether it gives some error in your code. Most probably that could be an import error.</p>\n<p>In my case, I changed my minSdkVersion from 26 to 17.\nAnd it worked for me. Hopefully, it works for you as well.</p>\n"}],"owner":{"account_id":13989171,"reputation":21,"user_id":10103529,"display_name":"Tokyoline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694433890,"creation_date":1626917218,"question_id":68478116,"body_markdown":"I have been trying to follow this tutorial:\r\n\r\nhttps://www.youtube.com/watch?v=SBzfsCFgGdo&amp;list=PLDGYn1fFRgEN1zsbOLRCdapIZlb0Y9Bas&amp;index=3\r\n\r\nI run into the following error when trying to run the app on an emulator:\r\n\r\n```\r\n2021-07-22 02:14:47.311 442-442/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the &#39;pipe:qemud:network&#39; service: Invalid argument\r\n2021-07-22 02:14:47.311 442-442/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument\r\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not connect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: RemoteConnection failed to initialize: RemoteConnection failed to open pipe\r\n```\r\n\r\nAll the solutions on the internet revolve around including &quot;android:usesCleartextTraffic=&quot;true&quot;&quot; into the manifest file, but I have done that with no better outcome.\r\n\r\nMy code:\r\n\r\nMainActivity.java:\r\n```\r\npackage com.example.testapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.io.IOException;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder().url(&quot; http://192.168.1.246:5000/&quot;).build();\r\n\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NotNull Call call, @NotNull IOException e) {\r\n                Toast.makeText(MainActivity.this, &quot;network not found&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {\r\n                TextView textView = findViewById(R.id.textView1);\r\n                textView.setText(response.body().string());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.testapp&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestApp&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:exported = &quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nFlask Server:\r\n\r\n```\r\nfrom flask import Flask, request\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route(&#39;/&#39;)\r\ndef hello_world():\r\n    print(&quot;request&quot;)\r\n    return &#39;hello honey&#39;\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    app.run()\r\n```","title":"&quot;Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument&quot; error when trying to run app on android emulator","body":"<p>I have been trying to follow this tutorial:</p>\n<p><a href=\"https://www.youtube.com/watch?v=SBzfsCFgGdo&amp;list=PLDGYn1fFRgEN1zsbOLRCdapIZlb0Y9Bas&amp;index=3\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=SBzfsCFgGdo&amp;list=PLDGYn1fFRgEN1zsbOLRCdapIZlb0Y9Bas&amp;index=3</a></p>\n<p>I run into the following error when trying to run the app on an emulator:</p>\n<pre><code>2021-07-22 02:14:47.311 442-442/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the 'pipe:qemud:network' service: Invalid argument\n2021-07-22 02:14:47.311 442-442/? E/netmgr: Failed to open QEMU pipe 'qemud:network': Invalid argument\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not connect to the 'pipe:qemud:wififorward' service: Invalid argument\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: RemoteConnection failed to initialize: RemoteConnection failed to open pipe\n</code></pre>\n<p>All the solutions on the internet revolve around including &quot;android:usesCleartextTraffic=&quot;true&quot;&quot; into the manifest file, but I have done that with no better outcome.</p>\n<p>My code:</p>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.testapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.io.IOException;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder().url(&quot; http://192.168.1.246:5000/&quot;).build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NotNull Call call, @NotNull IOException e) {\n                Toast.makeText(MainActivity.this, &quot;network not found&quot;, Toast.LENGTH_LONG).show();\n            }\n\n            @Override\n            public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {\n                TextView textView = findViewById(R.id.textView1);\n                textView.setText(response.body().string());\n            }\n        });\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.testapp&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TestApp&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported = &quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Flask Server:</p>\n<pre><code>from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    print(&quot;request&quot;)\n    return 'hello honey'\n\nif __name__ == &quot;__main__&quot;:\n    app.run()\n</code></pre>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1527514467,"post_id":50565199,"comment_id":88145260,"body_markdown":"You update `newResult[f]` but always use `newResult[0]` and `newResult[1]` in the next line. Could you try to summarize the need. See what is a [mcve] including examples.","body":"You update <code>newResult[f]</code> but always use <code>newResult[0]</code> and <code>newResult[1]</code> in the next line. Could you try to summarize the need. See what is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including examples."}],"answers":[{"tags":[],"owner":{"account_id":4918420,"reputation":449,"user_id":3961710,"display_name":"Marco Ottina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527510352,"creation_date":1527510352,"answer_id":50566422,"question_id":50565199,"body_markdown":"I honestly haven&#39;t understood what the whole exercise should do, but the code You enlighted could be wrong due to the indexes You use: those indexes are always 0 and 1, even if cycles are performed through some other indexes. At the end of the second code snippet, the f-for modify the array &quot;newResults&quot; at the increasing index &quot;f&quot;, but that array is read always at the same index: 0 and then 1. So, if &quot;f&quot; gets higher values than &quot;1&quot; then the &quot;aliveSoldiers&quot;&#39;s elements are left unchanged.\r\n\r\nIn particular, aliveSoldiers is modified only on the first two indexes, the other indexes are not used at all.\r\n\r\nDo you need a stack-like or queue-like behaviour?","title":"java replacing elements of an array","body":"<p>I honestly haven't understood what the whole exercise should do, but the code You enlighted could be wrong due to the indexes You use: those indexes are always 0 and 1, even if cycles are performed through some other indexes. At the end of the second code snippet, the f-for modify the array \"newResults\" at the increasing index \"f\", but that array is read always at the same index: 0 and then 1. So, if \"f\" gets higher values than \"1\" then the \"aliveSoldiers\"'s elements are left unchanged.</p>\n\n<p>In particular, aliveSoldiers is modified only on the first two indexes, the other indexes are not used at all.</p>\n\n<p>Do you need a stack-like or queue-like behaviour?</p>\n"}],"owner":{"account_id":6881839,"reputation":82,"user_id":6640241,"display_name":"kp-a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694433890,"creation_date":1527506349,"question_id":50565199,"body_markdown":"The main question will be at the bottom. From the text file below, lets say the first integer is a, second is b, and third is c and so forth. the program takes a,b and c, parses them, puts them into myCalculations method which returns a string with two integers. The string is parsed, a and b are replaced the integers in said returned string, then the next iteration of the loop will take the new values for a and b, and integer d. This will continue until the end where a and b are printed to the user.\r\n\r\nThe input from a two text files is as follows:\r\n\r\nThe format of the text file is as follows:\r\n\r\n    200 345 \r\n    36\r\n    45\r\n    36\r\n    21\r\n\r\nHere is the reading in from the file, it works as intended, I put it here for context. tl;dr is results[] is an integer array for the first line. (int a and b)\r\n\r\n    public class conflictTrial\r\n    {\r\n        BufferedReader in;\r\n        public static void conflictTrial() throws FileNotFoundException \r\n        {\r\n            System.out.print(&#39;\\u000c&#39;);\r\n            System.out.println(&quot;please enter the name of the text file you wish you import. Choose either costs.txt or lotsacosts.txt Nothing else&quot;);\r\n            Scanner keyboard = new Scanner(System.in);\r\n            String filename = keyboard.nextLine();\r\n            File file = new File(filename);\r\n            BufferedReader in = new BufferedReader(new FileReader(file));\r\n\r\n            String element1 = null;\r\n            try {\r\n                element1 = in.readLine();\r\n            }catch (Exception e) {\r\n                //  handle exception\r\n            }\r\n\r\n            String[] firstLine = element1.split(&quot; &quot;);\r\n\r\n            Arrays.stream(firstLine).forEach(fl -&gt; {\r\n                //System.out.println(&quot;First line element: \\t\\t\\t&quot; + fl);\r\n            });\r\n        \r\n            int[] results = new int[100];\r\n            for (int i = 0; i &lt; firstLine.length; i++) \r\n            {\r\n                try {\r\n                    int stuff = Integer.parseInt(firstLine[i]);\r\n                    results[i] = stuff;\r\n                }\r\n                catch (NumberFormatException nfe) {\r\n                    // handle error   \r\n                }\r\n            }     \r\n        \r\nThe bufferreader reads in the file, the for loop parses the integers into array results[]. Next, the remaining lines are parsed and method myCalculations is called:\r\n\r\n     String otherElement = null;\r\n     int[] aliveSoldiers = new int[100];\r\n     int [] things = new int [100];\r\n     int[] newResults = new int[100];\r\n     try {\r\n          while ((otherElement = in.readLine()) != null) {       // main loop\r\n              System.out.println(&quot;Line to process:\\t\\t\\t&quot; + otherElement);\r\n              String[] arr = otherElement.split(&quot; &quot;);\r\n                \r\n              for (int k = 0; k &lt;arr.length; k++) \r\n              {\r\n                  int thingsResult = Integer.parseInt(arr[k]);\r\n                  things[k] = thingsResult;\r\n                  System.out.println(&quot;number of days: \\t\\t\\t&quot;+things[k]);\r\n                        \r\n                  aliveSoldiers[0] = results[0];\r\n                  aliveSoldiers[1] = results[1];\r\n                  String returnAliveSoliders = myCalculations(aliveSoldiers[0], aliveSoldiers[1], things[k]);\r\n                  System.out.println(&quot;return soldiers alive: \\t\\t&quot;+returnAliveSoliders);\r\n                        \r\n                  String[] newItems = returnAliveSoliders.split(&quot; &quot;);\r\n                    \r\n                    \r\n                  for (int f = 0; f &lt; newItems.length; f++) \r\n                  {\r\n                      int newParse = Integer.parseInt(newItems[f]);\r\n                      newResults[f] = newParse;\r\n                      aliveSoldiers[0] = newResults[0];\r\n                      aliveSoldiers[1] = newResults[1];\r\n                  } \r\n                  k++;\r\n              }\r\n           } \r\n       }\r\n        catch (Exception e) {\r\n           e.printStackTrace();\r\n       }\r\n    }\r\n\r\nCurrently the code does the following: first of the main loop iteration takes integer a, b and c, second iteration takes the same integers a and b (200 and 345, the initial values) with integer d, the third iteration takes the same values for and a and b with integer e. I have attempted to address this issue with the following code:\r\n\r\n    aliveSoldiers[0] = newResults[0];\r\n    aliveSoldiers[1] = newResults[1];\r\n\r\nI need to take the integers from the method myCalculations (parsed in the k-modifier loop), and overwrite them into aliveSoldiers[0] and aliveSoldiers [1] so the program reads the next line, takes the new integers, and continues until there are no more days remaining. ","title":"java replacing elements of an array","body":"<p>The main question will be at the bottom. From the text file below, lets say the first integer is a, second is b, and third is c and so forth. the program takes a,b and c, parses them, puts them into myCalculations method which returns a string with two integers. The string is parsed, a and b are replaced the integers in said returned string, then the next iteration of the loop will take the new values for a and b, and integer d. This will continue until the end where a and b are printed to the user.</p>\n\n<p>The input from a two text files is as follows:</p>\n\n<p>The format of the text file is as follows:</p>\n\n<pre><code>200 345 \n36\n45\n36\n21\n</code></pre>\n\n<p>Here is the reading in from the file, it works as intended, I put it here for context. tl;dr is results[] is an integer array for the first line. (int a and b)</p>\n\n<pre><code>public class conflictTrial\n{\n    BufferedReader in;\n    public static void conflictTrial() throws FileNotFoundException \n    {\n        System.out.print('\\u000c');\n        System.out.println(\"please enter the name of the text file you wish you import. Choose either costs.txt or lotsacosts.txt Nothing else\");\n        Scanner keyboard = new Scanner(System.in);\n        String filename = keyboard.nextLine();\n        File file = new File(filename);\n        BufferedReader in = new BufferedReader(new FileReader(file));\n\n        String element1 = null;\n        try {\n            element1 = in.readLine();\n        }catch (Exception e) {\n            //  handle exception\n        }\n\n        String[] firstLine = element1.split(\" \");\n\n        Arrays.stream(firstLine).forEach(fl -&gt; {\n            //System.out.println(\"First line element: \\t\\t\\t\" + fl);\n        });\n\n        int[] results = new int[100];\n        for (int i = 0; i &lt; firstLine.length; i++) \n        {\n            try {\n                int stuff = Integer.parseInt(firstLine[i]);\n                results[i] = stuff;\n            }\n            catch (NumberFormatException nfe) {\n                // handle error   \n            }\n        }     \n</code></pre>\n\n<p>The bufferreader reads in the file, the for loop parses the integers into array results[]. Next, the remaining lines are parsed and method myCalculations is called:</p>\n\n<pre><code> String otherElement = null;\n int[] aliveSoldiers = new int[100];\n int [] things = new int [100];\n int[] newResults = new int[100];\n try {\n      while ((otherElement = in.readLine()) != null) {       // main loop\n          System.out.println(\"Line to process:\\t\\t\\t\" + otherElement);\n          String[] arr = otherElement.split(\" \");\n\n          for (int k = 0; k &lt;arr.length; k++) \n          {\n              int thingsResult = Integer.parseInt(arr[k]);\n              things[k] = thingsResult;\n              System.out.println(\"number of days: \\t\\t\\t\"+things[k]);\n\n              aliveSoldiers[0] = results[0];\n              aliveSoldiers[1] = results[1];\n              String returnAliveSoliders = myCalculations(aliveSoldiers[0], aliveSoldiers[1], things[k]);\n              System.out.println(\"return soldiers alive: \\t\\t\"+returnAliveSoliders);\n\n              String[] newItems = returnAliveSoliders.split(\" \");\n\n\n              for (int f = 0; f &lt; newItems.length; f++) \n              {\n                  int newParse = Integer.parseInt(newItems[f]);\n                  newResults[f] = newParse;\n                  aliveSoldiers[0] = newResults[0];\n                  aliveSoldiers[1] = newResults[1];\n              } \n              k++;\n          }\n       } \n   }\n    catch (Exception e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n\n<p>Currently the code does the following: first of the main loop iteration takes integer a, b and c, second iteration takes the same integers a and b (200 and 345, the initial values) with integer d, the third iteration takes the same values for and a and b with integer e. I have attempted to address this issue with the following code:</p>\n\n<pre><code>aliveSoldiers[0] = newResults[0];\naliveSoldiers[1] = newResults[1];\n</code></pre>\n\n<p>I need to take the integers from the method myCalculations (parsed in the k-modifier loop), and overwrite them into aliveSoldiers[0] and aliveSoldiers [1] so the program reads the next line, takes the new integers, and continues until there are no more days remaining. </p>\n"},{"tags":["java","ssl","calendar","icloud"],"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1563492218,"post_id":57103697,"comment_id":100728362,"body_markdown":"RFC5246 on TLS 1.2 defines error `decode_error` as &quot;A message could not be decoded because some field was out of the\n      specified range or the length of the message was incorrect.  This\n      message is always fatal and should never be observed in\n      communication between proper implementations (except when messages\n      were corrupted in the network).&quot; So beside a faulty network for sporadic problems, there is something wrong in one of the parameter sent... (TLS does not provide mechanisms for extended error results, so no detail which)","body":"RFC5246 on TLS 1.2 defines error <code>decode_error</code> as &quot;A message could not be decoded because some field was out of the       specified range or the length of the message was incorrect.  This       message is always fatal and should never be observed in       communication between proper implementations (except when messages       were corrupted in the network).&quot; So beside a faulty network for sporadic problems, there is something wrong in one of the parameter sent... (TLS does not provide mechanisms for extended error results, so no detail which)"},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1563492281,"post_id":57103697,"comment_id":100728369,"body_markdown":"The `ClientHello` should provide the `SNI` extension. This is good in all cases but may or may not be related to your problem (an openssl s_client on the hostname without `-servername` seems to work so it might not be related to your problem). Alternatively, find an HTTPS client that works on the URL you are interested with (like a browser or a CLI tool) and compare the TLS exchanges in its case with your case.","body":"The <code>ClientHello</code> should provide the <code>SNI</code> extension. This is good in all cases but may or may not be related to your problem (an openssl s_client on the hostname without <code>-servername</code> seems to work so it might not be related to your problem). Alternatively, find an HTTPS client that works on the URL you are interested with (like a browser or a CLI tool) and compare the TLS exchanges in its case with your case."}],"answers":[{"tags":[],"owner":{"account_id":6023560,"reputation":196,"user_id":4729978,"display_name":"Toby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563496515,"creation_date":1563496515,"answer_id":57104160,"question_id":57103697,"body_markdown":"I experienced this same exact issue yesterday with a Java application that tried to connect to https://apple.com:443.  I found that a different JDK on a different (Docker) OS fixed the issue.  In my specific case, OpenJDK on Alpine didn&#39;t work but other Dockerized OpenJDKs (like `adoptopenjdk/openjdk11`) worked fine.","title":"How to fix &#39;SSLHandshakeException: Received fatal alert: decode_error&#39;?","body":"<p>I experienced this same exact issue yesterday with a Java application that tried to connect to <a href=\"https://apple.com:443\" rel=\"nofollow noreferrer\">https://apple.com:443</a>.  I found that a different JDK on a different (Docker) OS fixed the issue.  In my specific case, OpenJDK on Alpine didn't work but other Dockerized OpenJDKs (like <code>adoptopenjdk/openjdk11</code>) worked fine.</p>\n"},{"tags":[],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694432091,"creation_date":1568378621,"answer_id":57923883,"question_id":57103697,"body_markdown":" I faced `Received fatal alert: decode_error` while connecting with apple cloud urls. I was able to fix it by explicitly setting the protocol as `TLS 1.2`. \r\n\r\nFor eg: in `kotlin` update your `spring RestTemplate` as below ,\r\n\r\n    fun restTemplateWithTLS12(): RestTemplate {\r\n        val requestFactory = HttpComponentsClientHttpRequestFactory()\r\n        val sslContext = SSLContexts.custom().setProtocol(&quot;TLSv1.2&quot;).build()\r\n        val clientBuilder = \r\n        HttpClients.custom().setSSLSocketFactory(SSLConnectionSocketFactory(sslContext))\r\n        requestFactory.httpClient = clientBuilder.build()\r\n        return RestTemplate(requestFactory)\r\n    }","title":"How to fix &#39;SSLHandshakeException: Received fatal alert: decode_error&#39;?","body":"<p>I faced <code>Received fatal alert: decode_error</code> while connecting with apple cloud urls. I was able to fix it by explicitly setting the protocol as <code>TLS 1.2</code>.</p>\n<p>For eg: in <code>kotlin</code> update your <code>spring RestTemplate</code> as below ,</p>\n<pre><code>fun restTemplateWithTLS12(): RestTemplate {\n    val requestFactory = HttpComponentsClientHttpRequestFactory()\n    val sslContext = SSLContexts.custom().setProtocol(&quot;TLSv1.2&quot;).build()\n    val clientBuilder = \n    HttpClients.custom().setSSLSocketFactory(SSLConnectionSocketFactory(sslContext))\n    requestFactory.httpClient = clientBuilder.build()\n    return RestTemplate(requestFactory)\n}\n</code></pre>\n"}],"owner":{"account_id":2678423,"reputation":131,"user_id":2314254,"display_name":"user2314254"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4051,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694432091,"creation_date":1563491555,"question_id":57103697,"body_markdown":"We have a java application that reads our customers public calendars - for example from google (https://calendar.google.com/calendar/ical/...) or icloud (webcal://p58-caldav.icloud.com/published/...). \r\n\r\nUntil recently this was working, but it is now failing for icloud calendars with the following error:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: decode_error\r\n```\r\n\r\nGoogle calendars still work.\r\n\r\nOur application reads icloud calendars by swapping webcal:// for https:// and doing an http get on the url.\r\n\r\nEg. https://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_\r\n\r\nGiven that hitting this url in a browser successfully returns a valid icalendar (ics) result our first thought was that when running in a jvm this endpoint&#39;s root ca certificate were not in the keystore for the jvm.\r\n\r\nWe used the following command to get the certificates for this endpoint:\r\n\r\n```\r\nopenssl s_client -servername p58-caldav.icloud.com -host p58-caldav.icloud.com -port 443 -prexit -showcerts\r\n```\r\n\r\nAnd then added both of the certificates in the chain to our keystore:\r\n\r\n```\r\nkeytool -importcert -file apple-ist-ca-2-g1.crt -alias apple-ist-ca-2-g1 -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\r\nkeytool -importcert -file caldav.icloud.com.crt -alias caldav.icloud.com -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\r\n```\r\n\r\nWe also added code to our test case to verify that these certificates were being picked up by the jvm.\r\n\r\nThis did not work and we get the same error.\r\n\r\nWe are running openjdk version &quot;11.0.2&quot; so I do not believe that there are any issues with SNI or missing ciphers (though I could be wrong!)\r\n\r\nThe following very simple code example reproduces the error:\r\n\r\n```java\r\npublic class CalReader {\r\n\r\n    public static void main(String[] args) {\r\n        hitAPI(&quot;webcal://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_&quot;);\r\n    }\r\n\r\n    private static void hitAPI(final String url) {\r\n        String cleaned = url.replace(&quot;webcal://&quot;, &quot;https://&quot;).trim();\r\n        InputStream in = null;\r\n        try {\r\n            URL toUse = new URL(cleaned);\r\n            URLConnection conn = toUse.openConnection();\r\n            in = conn.getInputStream();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            try {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAdding ssl debugging (-Djavax.net.debug=ssl:handshake:verbose) does not (to my eye) provide any pertinent information. However, I admit that I am not an ssl expert.\r\n\r\n```\r\njavax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.042 AEST|ClientHello.java:651|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;BC DF 54 80 F2 0B 9A F9 42 17 4A FF B9 B5 65 22 C4 9E 19 63 0A 88 81 1F 84 2A 74 2D 40 40 F2 F0&quot;,\r\n  &quot;session id&quot;          : &quot;A9 21 0D FE 9B 8E 9F B8 53 17 60 09 D4 B2 C8 EE BE FD 7F AC 93 57 12 4B 47 BA FF A9 7A DF C4 EF&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    \r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.046 AEST|Alert.java:232|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;decode_error&quot;\r\n}\r\n)\r\n```\r\n\r\nWe have just tried this in a java 8 environment and it works as expected. As a quick test, we copied our java 8 environment cacerts to our java 11 environment, however, it still does not work. What else is there in the java 8 environment that would allow it to work?\r\n\r\nIt is difficult to determine, but it appears that this has happened in the last 2-4 weeks or so. We have evidence of a successful read of an icloud calendar on June 24th, and we are seeing the above error from July 4th.\r\n\r\nWe have tried multiple icloud calendars and get the same result for each, so it does not appear to be related to the calendar itself.\r\n\r\n**UPDATE**\r\n\r\nWe forced the use of TLS1.2 and it works. For the example above:\r\n```\r\njava -Dhttps.protocols=TLSv1.2 CalReader\r\n```\r\n\r\nThis begs the question, do Apple endpoints have an issue with TLS1.3? Or is it something else? \r\n\r\nWe did find an article which indicated an issue with TLS1.3 in java 11 (https://webtide.com/openjdk-11-and-tls-1-3-issues/), but we had already tried with a java 12 version with no success, so I don&#39;t think that was the issue.\r\n\r\nSo, we have to decide now whether to regress with a forced use of TLS1.2 or keep searching for another solution.","title":"How to fix &#39;SSLHandshakeException: Received fatal alert: decode_error&#39;?","body":"<p>We have a java application that reads our customers public calendars - for example from google (<a href=\"https://calendar.google.com/calendar/ical/..\" rel=\"nofollow noreferrer\">https://calendar.google.com/calendar/ical/..</a>.) or icloud (webcal://p58-caldav.icloud.com/published/...). </p>\n\n<p>Until recently this was working, but it is now failing for icloud calendars with the following error:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: decode_error\n</code></pre>\n\n<p>Google calendars still work.</p>\n\n<p>Our application reads icloud calendars by swapping webcal:// for https:// and doing an http get on the url.</p>\n\n<p>Eg. <a href=\"https://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_\" rel=\"nofollow noreferrer\">https://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_</a></p>\n\n<p>Given that hitting this url in a browser successfully returns a valid icalendar (ics) result our first thought was that when running in a jvm this endpoint's root ca certificate were not in the keystore for the jvm.</p>\n\n<p>We used the following command to get the certificates for this endpoint:</p>\n\n<pre><code>openssl s_client -servername p58-caldav.icloud.com -host p58-caldav.icloud.com -port 443 -prexit -showcerts\n</code></pre>\n\n<p>And then added both of the certificates in the chain to our keystore:</p>\n\n<pre><code>keytool -importcert -file apple-ist-ca-2-g1.crt -alias apple-ist-ca-2-g1 -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\nkeytool -importcert -file caldav.icloud.com.crt -alias caldav.icloud.com -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\n</code></pre>\n\n<p>We also added code to our test case to verify that these certificates were being picked up by the jvm.</p>\n\n<p>This did not work and we get the same error.</p>\n\n<p>We are running openjdk version \"11.0.2\" so I do not believe that there are any issues with SNI or missing ciphers (though I could be wrong!)</p>\n\n<p>The following very simple code example reproduces the error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CalReader {\n\n    public static void main(String[] args) {\n        hitAPI(\"webcal://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_\");\n    }\n\n    private static void hitAPI(final String url) {\n        String cleaned = url.replace(\"webcal://\", \"https://\").trim();\n        InputStream in = null;\n        try {\n            URL toUse = new URL(cleaned);\n            URLConnection conn = toUse.openConnection();\n            in = conn.getInputStream();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        finally {\n            try {\n                if (in != null) {\n                    in.close();\n                }\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Adding ssl debugging (-Djavax.net.debug=ssl:handshake:verbose) does not (to my eye) provide any pertinent information. However, I admit that I am not an ssl expert.</p>\n\n<pre><code>javax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.042 AEST|ClientHello.java:651|Produced ClientHello handshake message (\n\"ClientHello\": {\n  \"client version\"      : \"TLSv1.2\",\n  \"random\"              : \"BC DF 54 80 F2 0B 9A F9 42 17 4A FF B9 B5 65 22 C4 9E 19 63 0A 88 81 1F 84 2A 74 2D 40 40 F2 F0\",\n  \"session id\"          : \"A9 21 0D FE 9B 8E 9F B8 53 17 60 09 D4 B2 C8 EE BE FD 7F AC 93 57 12 4B 47 BA FF A9 7A DF C4 EF\",\n  \"cipher suites\"       : \"[TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032)]\",\n  \"compression methods\" : \"00\",\n  \"extensions\"          : [\n\n  ]\n}\n)\njavax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.046 AEST|Alert.java:232|Received alert message (\n\"Alert\": {\n  \"level\"      : \"fatal\",\n  \"description\": \"decode_error\"\n}\n)\n</code></pre>\n\n<p>We have just tried this in a java 8 environment and it works as expected. As a quick test, we copied our java 8 environment cacerts to our java 11 environment, however, it still does not work. What else is there in the java 8 environment that would allow it to work?</p>\n\n<p>It is difficult to determine, but it appears that this has happened in the last 2-4 weeks or so. We have evidence of a successful read of an icloud calendar on June 24th, and we are seeing the above error from July 4th.</p>\n\n<p>We have tried multiple icloud calendars and get the same result for each, so it does not appear to be related to the calendar itself.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>We forced the use of TLS1.2 and it works. For the example above:</p>\n\n<pre><code>java -Dhttps.protocols=TLSv1.2 CalReader\n</code></pre>\n\n<p>This begs the question, do Apple endpoints have an issue with TLS1.3? Or is it something else? </p>\n\n<p>We did find an article which indicated an issue with TLS1.3 in java 11 (<a href=\"https://webtide.com/openjdk-11-and-tls-1-3-issues/\" rel=\"nofollow noreferrer\">https://webtide.com/openjdk-11-and-tls-1-3-issues/</a>), but we had already tried with a java 12 version with no success, so I don't think that was the issue.</p>\n\n<p>So, we have to decide now whether to regress with a forced use of TLS1.2 or keep searching for another solution.</p>\n"},{"tags":["java","amazon-athena","testcontainers"],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694431886,"creation_date":1691603005,"question_id":76870132,"body_markdown":"I have a spring boot application and i want to test AWS Athena, I know that its possible to use local-stack (paid for). \r\n\r\nhttps://docs.localstack.cloud/user-guide/aws/athena/\r\n\r\nBut i wanted to know is there an open source tool or is there a way i could test my service using test containers?\r\n\r\nI have tried to find an alternative method of doing this testing, but have been unable to figure out a way.","title":"Is there anyway to test Athena integration in test containers","body":"<p>I have a spring boot application and i want to test AWS Athena, I know that its possible to use local-stack (paid for).</p>\n<p><a href=\"https://docs.localstack.cloud/user-guide/aws/athena/\" rel=\"nofollow noreferrer\">https://docs.localstack.cloud/user-guide/aws/athena/</a></p>\n<p>But i wanted to know is there an open source tool or is there a way i could test my service using test containers?</p>\n<p>I have tried to find an alternative method of doing this testing, but have been unable to figure out a way.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"score":0,"creation_date":1431330213,"post_id":30162009,"comment_id":48430952,"body_markdown":"Ok then how to check a result set is forward only?","body":"Ok then how to check a result set is forward only?"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694431817,"creation_date":1431330483,"answer_id":30162192,"question_id":30162009,"body_markdown":"This is how MySQL handles it, other databases may behave differently.\r\n\r\n&gt; By default, ResultSets are completely retrieved and stored in memory.\r\n&gt; \r\n&gt; If you are working with ResultSets that have a large number of rows or\r\n&gt; large values and cannot allocate heap space in your JVM for the memory\r\n&gt; required, you can tell the driver to stream the results back one row\r\n&gt; at a time.\r\n&gt; \r\n&gt; To enable this functionality, create a Statement instance in the\r\n&gt; following manner:\r\n&gt;\r\n&gt;     stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n&gt;                  java.sql.ResultSet.CONCUR_READ_ONLY);\r\n&gt;     stmt.setFetchSize(Integer.MIN_VALUE);\r\n\r\n[Connector/J Reference Implementation Notes][1]\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html\r\n","title":"Understanding Forward Only ResultSet","body":"<p>This is how MySQL handles it, other databases may behave differently.</p>\n<blockquote>\n<p>By default, ResultSets are completely retrieved and stored in memory.</p>\n<p>If you are working with ResultSets that have a large number of rows or\nlarge values and cannot allocate heap space in your JVM for the memory\nrequired, you can tell the driver to stream the results back one row\nat a time.</p>\n<p>To enable this functionality, create a Statement instance in the\nfollowing manner:</p>\n<pre><code>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n             java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n</blockquote>\n<p><a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">Connector/J Reference Implementation Notes</a></p>\n"}],"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30162192,"answer_count":1,"score":2,"last_activity_date":1694431817,"creation_date":1431329772,"question_id":30162009,"body_markdown":"I have a table in mysql database where some rows are available. I want to retrieve the data from table in my jdbc program where the `ResultSet` is forward only. My code is: \r\n\r\n    import java.sql.*;\r\n    \r\n    public class Test1 {\r\n    \tstatic{\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tConnection con=null;\r\n    \t\tStatement st=null;\r\n    \t\tResultSet rs=null;\r\n    \t\tint id=0;\r\n    \t\tString name=null;\r\n    \t\ttry {\r\n    \t\t\tcon=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/hiitstudents&quot;,&quot;root&quot;, &quot;rustyiron&quot;);\r\n    \t\t\tst=con.createStatement(ResultSet.TYPE_FORWARD_ONLY,ResultSet.TYPE_SCROLL_INSENSITIVE);\r\n    \t\t\tString query=&quot;select * from students&quot;;\r\n    \t\t\trs=st.executeQuery(query);\r\n    \t\t\twhile(rs.next()){\r\n    \t\t\t\tid=rs.getInt(1);\r\n    \t\t\t\tname=rs.getString(2);\r\n    \t\t\t\tSystem.out.println(id+&quot;\\t&quot;+name);\r\n    \t\t\t}    \t\t\t;\r\n    \t\t\twhile(rs.previous()){\r\n    \t\t\t\tid=rs.getInt(1);\r\n    \t\t\t\tname=rs.getString(2);\r\n    \t\t\t\tSystem.out.println(id+&quot;\\t&quot;+name);\r\n    \t\t\t}\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t}finally{\r\n    \t\t\ttry{\r\n    \t\t\t\tif(rs!=null)\r\n    \t\t\t\t\trs.close();\r\n    \r\n    \t\t\t\tif(st!=null)\r\n    \t\t\t\t\tst.close();\r\n    \r\n    \t\t\t\tif(con!=null)\r\n    \t\t\t\t\tcon.close();\r\n    \t\t\t}catch(SQLException se){\r\n    \t\t\t\tse.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nbut as the default result sets are forward only we cannot call `previous()` in it or it should not work, but doing so in my program retrieves the data in reverse order also. What is the problem in my code?","title":"Understanding Forward Only ResultSet","body":"<p>I have a table in mysql database where some rows are available. I want to retrieve the data from table in my jdbc program where the <code>ResultSet</code> is forward only. My code is: </p>\n\n<pre><code>import java.sql.*;\n\npublic class Test1 {\n    static{\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        Connection con=null;\n        Statement st=null;\n        ResultSet rs=null;\n        int id=0;\n        String name=null;\n        try {\n            con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/hiitstudents\",\"root\", \"rustyiron\");\n            st=con.createStatement(ResultSet.TYPE_FORWARD_ONLY,ResultSet.TYPE_SCROLL_INSENSITIVE);\n            String query=\"select * from students\";\n            rs=st.executeQuery(query);\n            while(rs.next()){\n                id=rs.getInt(1);\n                name=rs.getString(2);\n                System.out.println(id+\"\\t\"+name);\n            }               ;\n            while(rs.previous()){\n                id=rs.getInt(1);\n                name=rs.getString(2);\n                System.out.println(id+\"\\t\"+name);\n            }\n            } catch (SQLException e) {\n                e.printStackTrace();\n        }finally{\n            try{\n                if(rs!=null)\n                    rs.close();\n\n                if(st!=null)\n                    st.close();\n\n                if(con!=null)\n                    con.close();\n            }catch(SQLException se){\n                se.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but as the default result sets are forward only we cannot call <code>previous()</code> in it or it should not work, but doing so in my program retrieves the data in reverse order also. What is the problem in my code?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694438510,"post_id":77081213,"comment_id":135887008,"body_markdown":"Expose metrics for queries like execution time etc. publish those to something like Prometheus and use that to query .","body":"Expose metrics for queries like execution time etc. publish those to something like Prometheus and use that to query ."},{"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"score":0,"creation_date":1694444421,"post_id":77081213,"comment_id":135888357,"body_markdown":"I know that IN queries are the problem, but I want count on the number of params in the IN filter to figure out what&#39;s exactly happening","body":"I know that IN queries are the problem, but I want count on the number of params in the IN filter to figure out what&#39;s exactly happening"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694497712,"post_id":77081213,"comment_id":135894669,"body_markdown":"You nowhere stated that you had a problem but you only wanted logging. If that isn&#39;t your actual question then ask the actual question you have.","body":"You nowhere stated that you had a problem but you only wanted logging. If that isn&#39;t your actual question then ask the actual question you have."},{"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"score":0,"creation_date":1694504430,"post_id":77081213,"comment_id":135895695,"body_markdown":"I never said logging, I said a metric for the count of queries having IN clause. Please re-read the question.","body":"I never said logging, I said a metric for the count of queries having IN clause. Please re-read the question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694504697,"post_id":77081213,"comment_id":135895748,"body_markdown":"I know what you asked which was a metric, which has been answered. If it is for troubleshooting you already have the solution (the statementinspector).","body":"I know what you asked which was a metric, which has been answered. If it is for troubleshooting you already have the solution (the statementinspector)."}],"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694431551,"creation_date":1694431551,"question_id":77081213,"body_markdown":"How can I count queries having IN clause in Hibernate + Spring Boot Setup?\r\n\r\nI want to count all queries (emit a metric) having an IN clause along with the number of params in the IN clause.\r\n\r\nOne way I found is to use StatementInspector. But that will be costly as I will have to find *IN* in the sql query string, requiring pattern matching.","title":"How can I count queries having IN clause in Hibernate + Spring Boot Setup?","body":"<p>How can I count queries having IN clause in Hibernate + Spring Boot Setup?</p>\n<p>I want to count all queries (emit a metric) having an IN clause along with the number of params in the IN clause.</p>\n<p>One way I found is to use StatementInspector. But that will be costly as I will have to find <em>IN</em> in the sql query string, requiring pattern matching.</p>\n"},{"tags":["java","spring-mvc","spring-security","error-handling","spring-3"],"comments":[{"owner":{"account_id":1571361,"reputation":7139,"user_id":1458983,"accept_rate":59,"display_name":"woemler"},"score":0,"creation_date":1413313683,"post_id":24338734,"comment_id":41393996,"body_markdown":"Did you ever find a solution to your issue?","body":"Did you ever find a solution to your issue?"},{"owner":{"account_id":1331478,"reputation":1120,"user_id":1275303,"accept_rate":83,"display_name":"Windor C"},"score":0,"creation_date":1426926522,"post_id":24338734,"comment_id":46577887,"body_markdown":"I got the same issue...","body":"I got the same issue..."},{"owner":{"account_id":1230590,"reputation":83,"user_id":1195285,"display_name":"John Prystash"},"score":0,"creation_date":1428931188,"post_id":24338734,"comment_id":47358241,"body_markdown":"I think your methods in RestResponseEntityExceptionHandler will get used only if they override methods from ResponseEntityExceptionHandler.","body":"I think your methods in RestResponseEntityExceptionHandler will get used only if they override methods from ResponseEntityExceptionHandler."},{"owner":{"account_id":3217290,"reputation":193,"user_id":2715625,"accept_rate":25,"display_name":"Harshal"},"score":0,"creation_date":1442511994,"post_id":24338734,"comment_id":53122038,"body_markdown":"my controller advice class was in different package. After copying it in controllers package it worked","body":"my controller advice class was in different package. After copying it in controllers package it worked"},{"owner":{"account_id":2126926,"reputation":3482,"user_id":1888810,"accept_rate":55,"display_name":"Shailesh Saxena"},"score":0,"creation_date":1615155554,"post_id":24338734,"comment_id":117597724,"body_markdown":"May be because you didn&#39;t declare your RestResponseEntityExceptionHandler as @RestController","body":"May be because you didn&#39;t declare your RestResponseEntityExceptionHandler as @RestController"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1525678084,"creation_date":1435698802,"answer_id":31148618,"question_id":24338734,"body_markdown":"First, check that your `@ControllerAdvice` annotated class is taken into account by your configuration: is it located in a package that&#39;s scanned by Spring? Did you declare it as a bean in any other way?\r\n\r\nAlso, you don&#39;t need to extend `ResponseEntityExceptionHandler` if you don&#39;t need all the exception mappings it provides.\r\n\r\nA simpler way to write your exception handling:\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler {\r\n\r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        protected ResponseEntity&lt;String&gt; handleResourceNotFound(ResourceNotFoundException ex){\r\n\r\n          return ResponseEntity\r\n                  .status(HttpStatus.NOT_FOUND)\r\n                  .body(&quot;Requested resource does not found&quot;);\r\n        }\r\n\r\n        @ExceptionHandler(InvalidInputException.class)\r\n        protected ResponseEntity&lt;String&gt; handleInvalidInput(InvalidInputException ex){\r\n\r\n          return ResponseEntity\r\n                  .badRequest()\r\n                  .body(&quot;Invalid Input&quot;);\r\n        }\r\n    }\r\n\r\nNote that the `ResponseEntity` builder API has been in introduced in Spring 4.1, but you can use the regular constructor on 4.0.x.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>First, check that your <code>@ControllerAdvice</code> annotated class is taken into account by your configuration: is it located in a package that's scanned by Spring? Did you declare it as a bean in any other way?</p>\n\n<p>Also, you don't need to extend <code>ResponseEntityExceptionHandler</code> if you don't need all the exception mappings it provides.</p>\n\n<p>A simpler way to write your exception handling:</p>\n\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    protected ResponseEntity&lt;String&gt; handleResourceNotFound(ResourceNotFoundException ex){\n\n      return ResponseEntity\n              .status(HttpStatus.NOT_FOUND)\n              .body(\"Requested resource does not found\");\n    }\n\n    @ExceptionHandler(InvalidInputException.class)\n    protected ResponseEntity&lt;String&gt; handleInvalidInput(InvalidInputException ex){\n\n      return ResponseEntity\n              .badRequest()\n              .body(\"Invalid Input\");\n    }\n}\n</code></pre>\n\n<p>Note that the <code>ResponseEntity</code> builder API has been in introduced in Spring 4.1, but you can use the regular constructor on 4.0.x.</p>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460968992,"creation_date":1460968992,"answer_id":36689191,"question_id":24338734,"body_markdown":"I got the same issue in Spring WebMVC 4.2.5. The reason was `throwExceptionIfNoHandlerFound` parameter of `DispatcherServlet`. By default it&#39;s value is `false`, so all errors generates `HttpServletResponse.SC_NOT_FOUND` servlet response and no exceptions throwes.\r\n\r\nAfter I set it to true, my `@ExceptionHandlers` started to work","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>I got the same issue in Spring WebMVC 4.2.5. The reason was <code>throwExceptionIfNoHandlerFound</code> parameter of <code>DispatcherServlet</code>. By default it's value is <code>false</code>, so all errors generates <code>HttpServletResponse.SC_NOT_FOUND</code> servlet response and no exceptions throwes.</p>\n\n<p>After I set it to true, my <code>@ExceptionHandlers</code> started to work</p>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554029042,"creation_date":1518069031,"answer_id":48678482,"question_id":24338734,"body_markdown":"There are some reported situations where both `ResponseEntityExceptionHandler` and `@ControllerAdvice` didn&#39;t work.\r\n\r\nBoth of them are supposed to compile the methods annotated with `@ExceptionHandler` under the class into a common place where all the controllers can refer from.\r\n\r\nIf it doesn&#39;t work for you. You can add you `@ExceptionHandler` methods into a common `AbstractController` class which is extended by all other controllers.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>There are some reported situations where both <code>ResponseEntityExceptionHandler</code> and <code>@ControllerAdvice</code> didn't work.</p>\n\n<p>Both of them are supposed to compile the methods annotated with <code>@ExceptionHandler</code> under the class into a common place where all the controllers can refer from.</p>\n\n<p>If it doesn't work for you. You can add you <code>@ExceptionHandler</code> methods into a common <code>AbstractController</code> class which is extended by all other controllers.</p>\n"},{"tags":[],"owner":{"account_id":10856851,"reputation":61,"user_id":7982950,"display_name":"Rimeridius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586368404,"creation_date":1586368404,"answer_id":61106960,"question_id":24338734,"body_markdown":"You just need some configuration\r\n\r\nIn the application.properties or application.yml :\r\n\r\n    server.error.whitelabel.enabled=false\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\non springboot load your configuration file :\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;xx.xxx.xxxx&quot;)\r\n    @PropertySource(&quot;classpath:application.yml&quot;)\r\n    public class WebAppConfig {\r\n    }","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>You just need some configuration</p>\n\n<p>In the application.properties or application.yml :</p>\n\n<pre><code>server.error.whitelabel.enabled=false\nspring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<p>on springboot load your configuration file :</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"xx.xxx.xxxx\")\n@PropertySource(\"classpath:application.yml\")\npublic class WebAppConfig {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7001529,"reputation":186,"user_id":5367417,"display_name":"Maciej Dybek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594322804,"creation_date":1594322804,"answer_id":62822256,"question_id":24338734,"body_markdown":"The issue is that your @ExceptionHandler declares ResourceNotFoundException whereas as a parameter to the handleResourceNotFound you expect RuntimeException. The parameter exception and the value of ExceptionHandler should match.\r\n\r\nSo it should be:\r\n\r\n    @ExceptionHandler(value={ResourceNotFoundException.class})\r\n    protected ResponseEntity&lt;Object&gt; handleResourceNotFound(ResourceNotFoundException ex, WebRequest request){\r\n        \r\n    }\r\n\r\n\r\n","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>The issue is that your @ExceptionHandler declares ResourceNotFoundException whereas as a parameter to the handleResourceNotFound you expect RuntimeException. The parameter exception and the value of ExceptionHandler should match.</p>\n<p>So it should be:</p>\n<pre><code>@ExceptionHandler(value={ResourceNotFoundException.class})\nprotected ResponseEntity&lt;Object&gt; handleResourceNotFound(ResourceNotFoundException ex, WebRequest request){\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611316898,"creation_date":1611316898,"answer_id":65844796,"question_id":24338734,"body_markdown":"Some workarounds,\r\n- Double check that you use the correct signature for your overriding method.\r\n- If you use any IDE, check if there is any @Override mark/sign/arrow that will ensure your override is valid.\r\n- Check if you already extend the `ResponseEntityExceptionHandler` from another class of your project OR from any other class of your dependencies.\r\n- Put a breakpoint to the `ResponseEntityExceptionHandler::handleException` method.\r\n- For the `NoHandlerFoundException` you should configure the DispatcherServlet to throw and exception if it doesn&#39;t find any handlers, [link here](https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found).","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>Some workarounds,</p>\n<ul>\n<li>Double check that you use the correct signature for your overriding method.</li>\n<li>If you use any IDE, check if there is any @Override mark/sign/arrow that will ensure your override is valid.</li>\n<li>Check if you already extend the <code>ResponseEntityExceptionHandler</code> from another class of your project OR from any other class of your dependencies.</li>\n<li>Put a breakpoint to the <code>ResponseEntityExceptionHandler::handleException</code> method.</li>\n<li>For the <code>NoHandlerFoundException</code> you should configure the DispatcherServlet to throw and exception if it doesn't find any handlers, <a href=\"https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found\">link here</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14538770,"reputation":1,"user_id":10501196,"display_name":"Chinni Achari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654878053,"creation_date":1654750676,"answer_id":72554907,"question_id":24338734,"body_markdown":"Provide an `@ExceptionHandler` method for handling internal Spring MVC exceptions. This method returns a `ResponseEntity` for writing to the response with a message converter, in contrast to `DefaultHandlerExceptionResolver` which returns a `ModelAndView`.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>Provide an <code>@ExceptionHandler</code> method for handling internal Spring MVC exceptions. This method returns a <code>ResponseEntity</code> for writing to the response with a message converter, in contrast to <code>DefaultHandlerExceptionResolver</code> which returns a <code>ModelAndView</code>.</p>\n"},{"tags":[],"owner":{"account_id":13936451,"reputation":71,"user_id":10063334,"display_name":"NXT Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661326337,"creation_date":1661326337,"answer_id":73469096,"question_id":24338734,"body_markdown":"To improve on @Javasick&#39;s answer which worked for me.\r\n\r\nHow to setThrowExceptionIfNoHandlerFound to true.\r\n\r\n    public class AppSetting extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @NonNull\r\n    @Override\r\n    protected DispatcherServlet createDispatcherServlet(@NonNull WebApplicationContext servletAppContext) {\r\n        final DispatcherServlet servlet = (DispatcherServlet) super.createDispatcherServlet(servletAppContext);\r\n        servlet.setThrowExceptionIfNoHandlerFound(true);\r\n        return servlet;\r\n    }","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>To improve on @Javasick's answer which worked for me.</p>\n<p>How to setThrowExceptionIfNoHandlerFound to true.</p>\n<pre><code>public class AppSetting extends AbstractAnnotationConfigDispatcherServletInitializer {\n@NonNull\n@Override\nprotected DispatcherServlet createDispatcherServlet(@NonNull WebApplicationContext servletAppContext) {\n    final DispatcherServlet servlet = (DispatcherServlet) super.createDispatcherServlet(servletAppContext);\n    servlet.setThrowExceptionIfNoHandlerFound(true);\n    return servlet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694430129,"creation_date":1694430129,"answer_id":77081069,"question_id":24338734,"body_markdown":"If you have copied the GlobalExceptionHandler from some tutorial, mind that the functions written in &quot;`ResponseEntityExceptionHandler`&quot; are different in different spring versions and different functions are called for the same error across different spring version.\r\n\r\nExample in version 2.2.0.RELEASE, spring calls method &quot;`handleMethodArgumentTypeMismatch`&quot; but in version 2.6.6 (if you send a string in request body for a long declared field), spring&#39;s class &quot;`ResponseEntityExceptionHandler`&quot; doesn&#39;t even have the &quot;`handleMethodArgumentTypeMismatch`&quot; method declared, instead it calls the &quot;`handleHttpMessageNotReadable`&quot; method.\r\n\r\nTo go about this, simply generate the `@Override` methods that come compiled with the class.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>If you have copied the GlobalExceptionHandler from some tutorial, mind that the functions written in &quot;<code>ResponseEntityExceptionHandler</code>&quot; are different in different spring versions and different functions are called for the same error across different spring version.</p>\n<p>Example in version 2.2.0.RELEASE, spring calls method &quot;<code>handleMethodArgumentTypeMismatch</code>&quot; but in version 2.6.6 (if you send a string in request body for a long declared field), spring's class &quot;<code>ResponseEntityExceptionHandler</code>&quot; doesn't even have the &quot;<code>handleMethodArgumentTypeMismatch</code>&quot; method declared, instead it calls the &quot;<code>handleHttpMessageNotReadable</code>&quot; method.</p>\n<p>To go about this, simply generate the <code>@Override</code> methods that come compiled with the class.</p>\n"}],"owner":{"account_id":3217290,"reputation":193,"user_id":2715625,"accept_rate":25,"display_name":"Harshal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32524,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":9,"score":13,"last_activity_date":1694430129,"creation_date":1403330126,"question_id":24338734,"body_markdown":"I am new to spring. I am developing a REST api with spring webmvc. For Error Handling I got this link [http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions\r\n\r\nI have tried to use ResponseEntityExceptionHandler in my project . but whenever my controller throws exception it never reaches to this ResponseEntityExceptionHandler.\r\n\r\nFollowing are my code snippet\r\n\r\nController\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public class HelloController {\t\r\n    \tprivate static final Logger logger = Logger.getLogger(HelloController.class);\r\n    \t@RequestMapping(value=&quot;/{name}&quot;, method=RequestMethod.GET)\r\n    \tpublic @ResponseBody String greet(@PathVariable(value = &quot;name&quot;)String name ) throws InvalidInputException, ResourceNotFoundException{\r\n    \t\tlogger.info(&quot;start greet() &quot;+name );\r\n    \t\tSystem.out.println(&quot;start greet() &quot;+name);\r\n    \t\tString message = null;\r\n    \t\tif(&quot;&quot;.equalsIgnoreCase(name))\r\n    \t\t{\r\n    \t\t\tthrow new InvalidInputException(&quot;Invalid Input&quot;);\r\n    \t\t}\r\n    \t\tList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n    \t\tnames.add(&quot;Harshal&quot;);\r\n    \t\tnames.add(&quot;Smitesh&quot;);\r\n    \t\tif(names.contains(name)){\r\n    \t\t\tmessage = &quot;Hello &quot;+ name;\r\n    \t\t}else{\r\n    \t\t\tthrow new ResourceNotFoundException(&quot;Requested Resource not found&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;end greet&quot;);\r\n    \t\tlogger.info(&quot;end greet()&quot;);\r\n    \t\treturn message;\r\n    \t}\r\n    }\r\n\r\nExceptions \r\n\r\n    package com.practice.errorhandlerdemo.exception;\r\n    \r\n    public class InvalidInputException extends RuntimeException{\r\n    \tprivate static final long serialVersionUID = 5489516240608806490L;\r\n    \tpublic InvalidInputException() {\r\n    \t\tsuper(&quot;Invalid Input&quot;);\r\n    \t}\r\n    \tpublic InvalidInputException(String message) {\r\n    \t\tsuper(message);\r\n    \t}\r\n    }\r\n    \r\n    package com.practice.errorhandlerdemo.exception;\r\n    \r\n    public class ResourceNotFoundException extends RuntimeException {\r\n    \tprivate static final long serialVersionUID = -4041009155673754859L;\r\n    \tpublic ResourceNotFoundException() {\r\n    \t\tsuper(&quot;requested resource not found&quot;);\r\n    \t}\r\n    \tpublic ResourceNotFoundException(String message) {\r\n    \t\tsuper(message);\r\n    \t}\r\n    }\r\n\r\nexceptionhandler\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \tprivate static final Logger logger = Logger.getLogger(RestResponseEntityExceptionHandler.class);\r\n    \t@ExceptionHandler(value={ResourceNotFoundException.class})\r\n    \t@ResponseStatus(value=HttpStatus.NOT_FOUND)\r\n    \tprotected ResponseEntity&lt;Object&gt; handleResourceNotFound(RuntimeException ex, WebRequest request){\r\n    \t\tlogger.info(&quot;start handleResourceNotFound()&quot;);\r\n    \t\tString bodyOfResponse = &quot;Requested resource does not found&quot;;\r\n    \t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n    \t\thttpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\treturn handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.NOT_FOUND, request);\r\n    \t}\r\n    \t\r\n    \t@ExceptionHandler(value={InvalidInputException.class})\r\n    \t@ResponseStatus(value=HttpStatus.BAD_REQUEST)\r\n    \tprotected ResponseEntity&lt;Object&gt; handleInvalidInput(RuntimeException ex, WebRequest request){\r\n    \t\tlogger.info(&quot;start handleInvalidInput()&quot;);\r\n    \t\tString bodyOfResponse = &quot;Invalid Input&quot;;\r\n    \t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n    \t\thttpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\treturn handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.BAD_REQUEST, request);\r\n    \t}\r\n    }\r\n\r\ndispatcher servlet\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n    \r\n       &lt;context:component-scan base-package=&quot;com.practice.errorhandlerdemo.controller&quot;/&gt;\r\n       &lt;context:annotation-config/&gt;  \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;web-app&gt;\r\n    \t&lt;display-name&gt;ErrorHandlerDemo&lt;/display-name&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/my-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\n\r\n","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>I am new to spring. I am developing a REST api with spring webmvc. For Error Handling I got this link <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions</a></p>\n\n<p>I have tried to use ResponseEntityExceptionHandler in my project . but whenever my controller throws exception it never reaches to this ResponseEntityExceptionHandler.</p>\n\n<p>Following are my code snippet</p>\n\n<p>Controller</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/hello\")\npublic class HelloController {  \n    private static final Logger logger = Logger.getLogger(HelloController.class);\n    @RequestMapping(value=\"/{name}\", method=RequestMethod.GET)\n    public @ResponseBody String greet(@PathVariable(value = \"name\")String name ) throws InvalidInputException, ResourceNotFoundException{\n        logger.info(\"start greet() \"+name );\n        System.out.println(\"start greet() \"+name);\n        String message = null;\n        if(\"\".equalsIgnoreCase(name))\n        {\n            throw new InvalidInputException(\"Invalid Input\");\n        }\n        List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n        names.add(\"Harshal\");\n        names.add(\"Smitesh\");\n        if(names.contains(name)){\n            message = \"Hello \"+ name;\n        }else{\n            throw new ResourceNotFoundException(\"Requested Resource not found\");\n        }\n        System.out.println(\"end greet\");\n        logger.info(\"end greet()\");\n        return message;\n    }\n}\n</code></pre>\n\n<p>Exceptions </p>\n\n<pre><code>package com.practice.errorhandlerdemo.exception;\n\npublic class InvalidInputException extends RuntimeException{\n    private static final long serialVersionUID = 5489516240608806490L;\n    public InvalidInputException() {\n        super(\"Invalid Input\");\n    }\n    public InvalidInputException(String message) {\n        super(message);\n    }\n}\n\npackage com.practice.errorhandlerdemo.exception;\n\npublic class ResourceNotFoundException extends RuntimeException {\n    private static final long serialVersionUID = -4041009155673754859L;\n    public ResourceNotFoundException() {\n        super(\"requested resource not found\");\n    }\n    public ResourceNotFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>exceptionhandler</p>\n\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    private static final Logger logger = Logger.getLogger(RestResponseEntityExceptionHandler.class);\n    @ExceptionHandler(value={ResourceNotFoundException.class})\n    @ResponseStatus(value=HttpStatus.NOT_FOUND)\n    protected ResponseEntity&lt;Object&gt; handleResourceNotFound(RuntimeException ex, WebRequest request){\n        logger.info(\"start handleResourceNotFound()\");\n        String bodyOfResponse = \"Requested resource does not found\";\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        return handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.NOT_FOUND, request);\n    }\n\n    @ExceptionHandler(value={InvalidInputException.class})\n    @ResponseStatus(value=HttpStatus.BAD_REQUEST)\n    protected ResponseEntity&lt;Object&gt; handleInvalidInput(RuntimeException ex, WebRequest request){\n        logger.info(\"start handleInvalidInput()\");\n        String bodyOfResponse = \"Invalid Input\";\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        return handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.BAD_REQUEST, request);\n    }\n}\n</code></pre>\n\n<p>dispatcher servlet</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:p=\"http://www.springframework.org/schema/p\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n\n   &lt;context:component-scan base-package=\"com.practice.errorhandlerdemo.controller\"/&gt;\n   &lt;context:annotation-config/&gt;  \n\n&lt;/beans&gt;\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app&gt;\n    &lt;display-name&gt;ErrorHandlerDemo&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/my-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1521019582,"post_id":49273847,"comment_id":85550319,"body_markdown":"There&#39;s no way to tell from the information provided - you need to capture the request that&#39;s causing it and the actual header value in the time of the error.","body":"There&#39;s no way to tell from the information provided - you need to capture the request that&#39;s causing it and the actual header value in the time of the error."},{"owner":{"account_id":4394072,"reputation":1551,"user_id":3581692,"accept_rate":92,"display_name":"abdul"},"score":3,"creation_date":1521020171,"post_id":49273847,"comment_id":85550712,"body_markdown":"This error is could occur if you&#39;re trying to access unsecured page through https.","body":"This error is could occur if you&#39;re trying to access unsecured page through https."},{"owner":{"account_id":5157958,"reputation":497,"user_id":4130633,"accept_rate":50,"display_name":"Mikheil Janiashvili"},"score":0,"creation_date":1521020321,"post_id":49273847,"comment_id":85550823,"body_markdown":"@hovanessyan  yeah that&#39;s the reason posting it here, it appears only on production and i don&#39;t think its caused from someones call as it happens with same interval.","body":"@hovanessyan  yeah that&#39;s the reason posting it here, it appears only on production and i don&#39;t think its caused from someones call as it happens with same interval."},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1521020572,"post_id":49273847,"comment_id":85550976,"body_markdown":"@MishoJaniashvili - posting logs from production without context will not lead to anything more then guessing what might cause the error \n - &quot;parsing errors will be logged at DEBUG level&quot; - I suggest turn DEBUG on in production for the next 24 hours","body":"@MishoJaniashvili - posting logs from production without context will not lead to anything more then guessing what might cause the error   - &quot;parsing errors will be logged at DEBUG level&quot; - I suggest turn DEBUG on in production for the next 24 hours"},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1694520765,"post_id":49273847,"comment_id":135899040,"body_markdown":"Does this answer your question? [When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception](https://stackoverflow.com/questions/38891866/when-spring-boot-starts-up-it-throws-the-method-names-must-be-tokens-exceptio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38891866/when-spring-boot-starts-up-it-throws-the-method-names-must-be-tokens-exceptio\">When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":10807091,"reputation":972,"user_id":7949076,"display_name":"coffman21"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1522221561,"creation_date":1522221561,"answer_id":49528365,"question_id":49273847,"body_markdown":"This may happen because of parsing HTTPS headers instead of HTTP. Try:\r\n\r\n 1. Adding:  \r\n```logging.level.org.springframework.web: trace```  \r\n```logging.level.org.apache: trace```  \r\nto your application.properties and see what does Spring says to you. \r\n 2. Check if there are any scheduled activity at that time which refers to other resource encrypted by SSL. See also: https://stackoverflow.com/questions/42218237","title":"SpringBoot - Error parsing HTTP request header","body":"<p>This may happen because of parsing HTTPS headers instead of HTTP. Try:</p>\n\n<ol>\n<li>Adding:<br>\n<code>logging.level.org.springframework.web: trace</code><br>\n<code>logging.level.org.apache: trace</code><br>\nto your application.properties and see what does Spring says to you. </li>\n<li>Check if there are any scheduled activity at that time which refers to other resource encrypted by SSL. See also: <a href=\"https://stackoverflow.com/questions/42218237\">java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27990,"reputation":1852,"user_id":74334,"accept_rate":100,"display_name":"sigint"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525080129,"creation_date":1525015708,"answer_id":50088273,"question_id":49273847,"body_markdown":"I had this error in a Spring Boot 2 (2.0.1.RELEASE) application that was configured to serve HTTPS on port 8443 and redirect port 8080 HTTP traffic to port 8443.\r\n\r\nOn Microsoft Edge, the application worked as expected, with `http://localhost:8080` redirecting to `https://localhost:8443`. On Chrome 66 however, this would only work once, and then Chrome would complain that &quot;localhost sent an invalid response&quot; (`ERR_SSL_PROTOCOL_ERROR`).\r\n\r\nThe server log said:\r\n```\r\nDEBUG 11440 --- [nio-8080-exec-1] o.a.coyote.http11.Http11InputBuffer: Received [ &lt;&lt;unprintable characters&gt;&gt; ]\r\n INFO 11440 --- [nio-8080-exec-1] o.apache.coyote.http11.Http11Processor: Error parsing HTTP request header\r\n```\r\n\r\nIt turns out that Chrome was adding `localhost` to its [HSTS list](https://www.thesslstore.com/blog/clear-hsts-settings-chrome-firefox/)\r\nbecause Spring Boot sent back a `Strict-Transport-Security: max-age=31536000 ; includeSubDomains` header back for\r\n[https://localhost:8443](https://localhost:8443). So essentially, this issue happened because the client (i.e., browser) was trying to speak HTTPS to an HTTP endpoint.\r\n\r\nAdding a `.headers().httpStrictTransportSecurity().disable();` in\r\n`&lt;? extends WebSecurityConfigurerAdapter&gt;.configure` fixed the issue, as noted in [this StackOverflow question](https://stackoverflow.com/questions/49201779/spring-boot-do-not-send-hsts-header).","title":"SpringBoot - Error parsing HTTP request header","body":"<p>I had this error in a Spring Boot 2 (2.0.1.RELEASE) application that was configured to serve HTTPS on port 8443 and redirect port 8080 HTTP traffic to port 8443.</p>\n\n<p>On Microsoft Edge, the application worked as expected, with <code>http://localhost:8080</code> redirecting to <code>https://localhost:8443</code>. On Chrome 66 however, this would only work once, and then Chrome would complain that \"localhost sent an invalid response\" (<code>ERR_SSL_PROTOCOL_ERROR</code>).</p>\n\n<p>The server log said:\n<code>\nDEBUG 11440 --- [nio-8080-exec-1] o.a.coyote.http11.Http11InputBuffer: Received [ &lt;&lt;unprintable characters&gt;&gt; ]\n INFO 11440 --- [nio-8080-exec-1] o.apache.coyote.http11.Http11Processor: Error parsing HTTP request header\n</code></p>\n\n<p>It turns out that Chrome was adding <code>localhost</code> to its <a href=\"https://www.thesslstore.com/blog/clear-hsts-settings-chrome-firefox/\" rel=\"nofollow noreferrer\">HSTS list</a>\nbecause Spring Boot sent back a <code>Strict-Transport-Security: max-age=31536000 ; includeSubDomains</code> header back for\n<a href=\"https://localhost:8443\" rel=\"nofollow noreferrer\">https://localhost:8443</a>. So essentially, this issue happened because the client (i.e., browser) was trying to speak HTTPS to an HTTP endpoint.</p>\n\n<p>Adding a <code>.headers().httpStrictTransportSecurity().disable();</code> in\n<code>&lt;? extends WebSecurityConfigurerAdapter&gt;.configure</code> fixed the issue, as noted in <a href=\"https://stackoverflow.com/questions/49201779/spring-boot-do-not-send-hsts-header\">this StackOverflow question</a>.</p>\n"},{"tags":[],"owner":{"account_id":1134029,"reputation":4995,"user_id":1119473,"accept_rate":60,"display_name":"Gondy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572882798,"creation_date":1572882798,"answer_id":58696875,"question_id":49273847,"body_markdown":"As I have answered in [this similar question][1], check if you are not accidentally requesting with HTTPS protocol instead of HTTP protocol. If you don&#39;t configure SSL on Tomcat and you send HTTPS request, it will result to this weird message..\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58696829/1119473","title":"SpringBoot - Error parsing HTTP request header","body":"<p>As I have answered in <a href=\"https://stackoverflow.com/a/58696829/1119473\">this similar question</a>, check if you are not accidentally requesting with HTTPS protocol instead of HTTP protocol. If you don't configure SSL on Tomcat and you send HTTPS request, it will result to this weird message..</p>\n"}],"owner":{"account_id":5157958,"reputation":497,"user_id":4130633,"accept_rate":50,"display_name":"Mikheil Janiashvili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93827,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1694429993,"creation_date":1521019439,"question_id":49273847,"body_markdown":"I am running `SpringBoot Application` just checked server logs and got several errors like this. I can&#39;t understand what can cause it as the error appears everyday after 12/24 hours.\r\n\r\nTomcat Version running on `8.5.11`\r\n\r\n    2018-03-04 17:03:26 [http-nio-8080-exec-85] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header\r\n     Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\r\n    java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:421)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:667)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)","title":"SpringBoot - Error parsing HTTP request header","body":"<p>I am running <code>SpringBoot Application</code> just checked server logs and got several errors like this. I can't understand what can cause it as the error appears everyday after 12/24 hours.</p>\n\n<p>Tomcat Version running on <code>8.5.11</code></p>\n\n<pre><code>2018-03-04 17:03:26 [http-nio-8080-exec-85] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\njava.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:421)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:667)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","configuration","struts2","interceptor","interceptorstack"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1455605681,"post_id":35425667,"comment_id":58550638,"body_markdown":"Use stack of interceptors in action configuration.","body":"Use stack of interceptors in action configuration."},{"owner":{"account_id":4206151,"reputation":1103,"user_id":5361990,"accept_rate":35,"display_name":"Mandy"},"score":0,"creation_date":1455605747,"post_id":35425667,"comment_id":58550663,"body_markdown":"If you explicitly apply any interceptor to action then other like default will not apply. you have to apply all interceptor by own for each action for those you have applied csrf interceptor.","body":"If you explicitly apply any interceptor to action then other like default will not apply. you have to apply all interceptor by own for each action for those you have applied csrf interceptor."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1455703706,"post_id":35425667,"comment_id":58603777,"body_markdown":"Possible duplicate of [Interceptor not getting called in Struts](http://stackoverflow.com/questions/30043007/interceptor-not-getting-called-in-struts)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/30043007/interceptor-not-getting-called-in-struts\">Interceptor not getting called in Struts</a>"}],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1455613578,"creation_date":1455613578,"answer_id":35428110,"question_id":35425667,"body_markdown":"&lt;!-- language-all: xml --&gt;\r\n\r\nYou seem to think that the default Interceptor Stack applies to all actions, and that the eventual interceptor you&#39;re specifying for to the single actions are added to the default stack. They&#39;re not.\r\n\r\nThe default stack is the stack used for all the actions that does not specify any stack (or single interceptor, like in your case).\r\n\r\nIf you want to add an interceptor, then specify also the stack it should add to, \r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; \r\n           class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; \r\n          method=&quot;addUpdateClaimHead&quot;&gt;\r\n\r\n        &lt;interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nor define a new stack and use it:\r\n\r\n\r\n    &lt;interceptor-stack name=&quot;commonStack&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;authentication&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;authorization&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n    &lt;/interceptor-stack&gt;\r\n\r\n    &lt;interceptor-stack name=&quot;csrfStack&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;authentication&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;authorization&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n    &lt;/interceptor-stack&gt;\r\n\r\n    ....\r\n\r\n    &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n\r\n    ....\r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; \r\n           class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; \r\n          method=&quot;addUpdateClaimHead&quot;&gt;\r\n\r\n        &lt;interceptor-ref name=&quot;csrfStack&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nNote that the first approach violates DRY if you have a lot of actions sharing the secondary interceptor stack configuration, and it can be used only if your Interceptor is good to be placed as first or as last. If you need it in the middle (eg. after `param`, but before `workflow`) you have to define a stack by exploding the defaultStack, copying it from [struts-default.xml][1].\r\n\r\n\r\n  [1]: https://struts.apache.org/docs/struts-defaultxml.html","title":"Adding a custom interceptor for some actions","body":"\n\n<p>You seem to think that the default Interceptor Stack applies to all actions, and that the eventual interceptor you're specifying for to the single actions are added to the default stack. They're not.</p>\n\n<p>The default stack is the stack used for all the actions that does not specify any stack (or single interceptor, like in your case).</p>\n\n<p>If you want to add an interceptor, then specify also the stack it should add to, </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"addUpdateClaimHeadMetronic\" \n       class=\"main.java.com.commdel.francis.struts2.actions.ClaimHeadAction\" \n      method=\"addUpdateClaimHead\"&gt;\n\n    &lt;interceptor-ref name=\"commonStack\"/&gt;\n    &lt;interceptor-ref name=\"csrf\"/&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>or define a new stack and use it:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;interceptor-stack name=\"commonStack\"&gt;\n    &lt;interceptor-ref name=\"authentication\"/&gt;\n    &lt;interceptor-ref name=\"authorization\"/&gt;\n    &lt;interceptor-ref name=\"defaultStack\"/&gt;\n&lt;/interceptor-stack&gt;\n\n&lt;interceptor-stack name=\"csrfStack\"&gt;\n    &lt;interceptor-ref name=\"authentication\"/&gt;\n    &lt;interceptor-ref name=\"authorization\"/&gt;\n    &lt;interceptor-ref name=\"defaultStack\"/&gt;\n    &lt;interceptor-ref name=\"csrf\"/&gt;\n&lt;/interceptor-stack&gt;\n\n....\n\n&lt;default-interceptor-ref name=\"commonStack\"/&gt;\n\n....\n\n&lt;action name=\"addUpdateClaimHeadMetronic\" \n       class=\"main.java.com.commdel.francis.struts2.actions.ClaimHeadAction\" \n      method=\"addUpdateClaimHead\"&gt;\n\n    &lt;interceptor-ref name=\"csrfStack\"/&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Note that the first approach violates DRY if you have a lot of actions sharing the secondary interceptor stack configuration, and it can be used only if your Interceptor is good to be placed as first or as last. If you need it in the middle (eg. after <code>param</code>, but before <code>workflow</code>) you have to define a stack by exploding the defaultStack, copying it from <a href=\"https://struts.apache.org/docs/struts-defaultxml.html\" rel=\"nofollow\">struts-default.xml</a>.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618114811,"creation_date":1455616566,"answer_id":35429192,"question_id":35425667,"body_markdown":"If you add a custom interceptor to the action configuration like\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nthen only `csrf` interceptor will be configured to this action mapping. Other interceptor&#39;s included in the `commonStack` will be omitted even if you use \r\n\r\n    &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n\r\nStruts allows to override the action configuration which will not use the `default-interceptor-ref`, it you add a custom interceptor to the action mapping. By overriding the action configuration you can use a custom set of interceptors. \r\n\r\nYou might be missing some important interceptors from the `defaultStack` that drive the Struts2 framework if you forget to include all references of interceptors in the custom action mapping.  \r\n\r\n**Note:** [interceptors][1] in Struts2 add additional functionality to the action before or after the action is executed. But missing some important interceptors might break the action execution.\r\n___\r\n\r\nIf you want to add a custom interceptor reference to the existed action, then you should add, along with your custom interceptor, a reference to the default stack in your action mapping before or after depends on your code.\r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n    &lt;/action&gt; \r\n\r\n**Note:** [interceptors][1] are invoked by the order they are used in the xml configuration.\r\n\r\n  [1]: https://struts.apache.org/core-developers/interceptors.html","title":"Adding a custom interceptor for some actions","body":"<p>If you add a custom interceptor to the action configuration like</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\n    &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\n&lt;/action&gt;\n</code></pre>\n<p>then only <code>csrf</code> interceptor will be configured to this action mapping. Other interceptor's included in the <code>commonStack</code> will be omitted even if you use</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\n</code></pre>\n<p>Struts allows to override the action configuration which will not use the <code>default-interceptor-ref</code>, it you add a custom interceptor to the action mapping. By overriding the action configuration you can use a custom set of interceptors.</p>\n<p>You might be missing some important interceptors from the <code>defaultStack</code> that drive the Struts2 framework if you forget to include all references of interceptors in the custom action mapping.</p>\n<p><strong>Note:</strong> <a href=\"https://struts.apache.org/core-developers/interceptors.html\" rel=\"nofollow noreferrer\">interceptors</a> in Struts2 add additional functionality to the action before or after the action is executed. But missing some important interceptors might break the action execution.</p>\n<hr />\n<p>If you want to add a custom interceptor reference to the existed action, then you should add, along with your custom interceptor, a reference to the default stack in your action mapping before or after depends on your code.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\n    &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\n    &lt;interceptor-ref name=&quot;commonStack&quot;/&gt;\n&lt;/action&gt; \n</code></pre>\n<p><strong>Note:</strong> <a href=\"https://struts.apache.org/core-developers/interceptors.html\" rel=\"nofollow noreferrer\">interceptors</a> are invoked by the order they are used in the xml configuration.</p>\n"}],"owner":{"account_id":6592552,"reputation":79,"user_id":5093294,"accept_rate":100,"display_name":"deepanshu dagar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35428110,"answer_count":2,"score":0,"last_activity_date":1694429986,"creation_date":1455605471,"question_id":35425667,"body_markdown":"I have created an interceptor which I want to map to some particular methods in some action and I don&#39;t want to disturb the existing code:\r\n\r\n&lt;!-- language-all: xml --&gt;\r\n\r\n**`struts.xml`:**\r\n\r\n    &lt;package name=&quot;francis&quot; namespace=&quot;/francis&quot; extends=&quot;struts-default, json-default&quot;&gt;\r\n\t   \t&lt;interceptors&gt;             \r\n\t\t\t&lt;interceptor name=&quot;authentication&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.AuthenticationInterceptor&quot;/&gt;\t\t\t \r\n\t\t\t&lt;interceptor name=&quot;authorization&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.SecurityInterceptor&quot;/&gt;\r\n\r\n**The custom interceptor `csrf`:**\r\n\r\n\t\t\t&lt;interceptor name=&quot;csrf&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.CsrfTokenInterceptor&quot;/&gt;\t\t\t \r\n\t\t\t\r\n\t\t\t&lt;interceptor-stack name=&quot;commonStack&quot;&gt;\r\n          \t\t&lt;interceptor-ref name=&quot;authentication&quot;/&gt;\r\n          \t\t&lt;interceptor-ref name=&quot;authorization&quot;/&gt;\r\n        \t\t&lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n       \t\t&lt;/interceptor-stack&gt;\r\n\t\t &lt;/interceptors&gt; \r\n\t\t &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n\t    &lt;global-results&gt;\r\n              &lt;result name=&quot;error&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/globalerror.vm&lt;/result&gt;  \r\n              &lt;result name=&quot;AUTHORIZATIONERROR&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/sessionError.vm&lt;/result&gt;  \t\t                 \r\n          &lt;/global-results&gt;\r\n\r\n**Mapping `csrf` to some action:**\r\n\r\n        &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\r\n\t\t\t&lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n\t\t&lt;/action&gt;\r\n    &lt;/package&gt; \r\n","title":"Adding a custom interceptor for some actions","body":"<p>I have created an interceptor which I want to map to some particular methods in some action and I don't want to disturb the existing code:</p>\n\n<p><strong><code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;package name=&quot;francis&quot; namespace=&quot;/francis&quot; extends=&quot;struts-default, json-default&quot;&gt;\n    &lt;interceptors&gt;             \n        &lt;interceptor name=&quot;authentication&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.AuthenticationInterceptor&quot;/&gt;            \n        &lt;interceptor name=&quot;authorization&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.SecurityInterceptor&quot;/&gt;\n</code></pre>\n<p><strong>The custom interceptor <code>csrf</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;interceptor name=&quot;csrf&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.CsrfTokenInterceptor&quot;/&gt;           \n        \n        &lt;interceptor-stack name=&quot;commonStack&quot;&gt;\n            &lt;interceptor-ref name=&quot;authentication&quot;/&gt;\n            &lt;interceptor-ref name=&quot;authorization&quot;/&gt;\n            &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n        &lt;/interceptor-stack&gt;\n     &lt;/interceptors&gt; \n     &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\n    &lt;global-results&gt;\n          &lt;result name=&quot;error&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/globalerror.vm&lt;/result&gt;  \n          &lt;result name=&quot;AUTHORIZATIONERROR&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/sessionError.vm&lt;/result&gt;                        \n      &lt;/global-results&gt;\n</code></pre>\n<p><strong>Mapping <code>csrf</code> to some action:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\n    &lt;/action&gt;\n&lt;/package&gt; \n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1470906667,"post_id":38891866,"comment_id":65143603,"body_markdown":"Without the code and config it will be extremely hard to say","body":"Without the code and config it will be extremely hard to say"},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":0,"creation_date":1470906712,"post_id":38891866,"comment_id":65143645,"body_markdown":"please add your code ;)","body":"please add your code ;)"},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":0,"creation_date":1470907095,"post_id":38891866,"comment_id":65143917,"body_markdown":"The error seems to be you&#39;re http method has no valid characters","body":"The error seems to be you&#39;re http method has no valid characters"},{"owner":{"account_id":1813160,"reputation":989,"user_id":1648825,"accept_rate":10,"display_name":"user1648825"},"score":31,"creation_date":1472483972,"post_id":38891866,"comment_id":65758198,"body_markdown":"I got the same exception when I locally tested. The problem was a url schema in my request. I used &quot;https&quot;, but should &quot;http&quot;. Probably it helps.","body":"I got the same exception when I locally tested. The problem was a url schema in my request. I used &quot;https&quot;, but should &quot;http&quot;. Probably it helps."},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1530477831,"post_id":38891866,"comment_id":89238655,"body_markdown":"Change of the protocol mentioned in  https://stackoverflow.com/a/49421859/1851289 had helped.","body":"Change of the protocol mentioned in  <a href=\"https://stackoverflow.com/a/49421859/1851289\">stackoverflow.com/a/49421859/1851289</a> had helped."}],"answers":[{"tags":[],"owner":{"account_id":5945093,"reputation":41,"user_id":4674850,"display_name":"Night White"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473324313,"creation_date":1473321118,"answer_id":39385404,"question_id":38891866,"body_markdown":"The same problem.\r\n\r\n    cmd -&gt; netstat -ano then find the port your have used(e.g 8888)\r\n\r\nI find a process try send package not Http request to my 8888 port, so the tomcat throw the `method names must be tokens` Exception.\r\n\r\nyou can:\r\n\r\n- change server port;\r\n\r\n- find the process and kill it;","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>The same problem.</p>\n\n<pre><code>cmd -&gt; netstat -ano then find the port your have used(e.g 8888)\n</code></pre>\n\n<p>I find a process try send package not Http request to my 8888 port, so the tomcat throw the <code>method names must be tokens</code> Exception.</p>\n\n<p>you can:</p>\n\n<ul>\n<li><p>change server port;</p></li>\n<li><p>find the process and kill it;</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4793551,"reputation":1720,"user_id":3872068,"accept_rate":75,"display_name":"Panchito91"},"down_vote_count":1,"up_vote_count":134,"is_accepted":false,"score":133,"last_activity_date":1484770944,"creation_date":1484770944,"answer_id":41728777,"question_id":38891866,"body_markdown":"This exception can occur when you try to execute https request from client on endpoint which isn&#39;t https enabled. Client will encrypt request data when server is expecting raw data.\r\n\r\nChange https:// to http:// in your client url.","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>This exception can occur when you try to execute https request from client on endpoint which isn't https enabled. Client will encrypt request data when server is expecting raw data.</p>\n\n<p>Change https:// to http:// in your client url.</p>\n"},{"tags":[],"owner":{"account_id":3985474,"reputation":237,"user_id":3286178,"display_name":"rwenz3l"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1518692234,"creation_date":1518692234,"answer_id":48805552,"question_id":38891866,"body_markdown":"Another Case: SpringBoot and Tomcat use port 8080 or 8888 by default. I had a Jupyter Notebook running at the same time which has a token in it&#39;s url path and some random characters. Anyway: The Notebook was still trying to make requests when the jupyter notebook server was down.\r\n\r\nIf you encounter this error: Check if you have another Application running that is either spawning a webserver or talking to a webserver on such ports.","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>Another Case: SpringBoot and Tomcat use port 8080 or 8888 by default. I had a Jupyter Notebook running at the same time which has a token in it's url path and some random characters. Anyway: The Notebook was still trying to make requests when the jupyter notebook server was down.</p>\n\n<p>If you encounter this error: Check if you have another Application running that is either spawning a webserver or talking to a webserver on such ports.</p>\n"},{"tags":[],"owner":{"account_id":21077631,"reputation":41,"user_id":15492656,"display_name":"Dmitry V."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644430431,"creation_date":1644430431,"answer_id":71054692,"question_id":38891866,"body_markdown":"In my case it was when Tomcat created HTTPS request without SSL certificate installed on it. To fix it I changed schema in request to HTTP. Or you should create SSL certificate to use HTTPS. ","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>In my case it was when Tomcat created HTTPS request without SSL certificate installed on it. To fix it I changed schema in request to HTTP. Or you should create SSL certificate to use HTTPS.</p>\n"},{"tags":[],"owner":{"account_id":6411597,"reputation":36,"user_id":5079211,"display_name":"Nikita Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679436488,"creation_date":1679436488,"answer_id":75806762,"question_id":38891866,"body_markdown":"you must have added https intead of http i also was getting same error with given below code\r\n\r\n    @RestController\r\n    public class MyController {\r\n        @GetMapping(&quot;/myobject&quot;)\r\n        public MyObject getMyObject() {\r\n            return new MyObject(&quot;John Doe&quot;, true, 42);\r\n        }\r\n    }\r\n\r\nThis is what i got with https\r\n[![enter image description here][1]][1]\r\n\r\nAlso Error in IDE with stack trace\r\n\r\n    2023-03-22T03:32:56.767+05:30  INFO 21684 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xf70x010x000x000xf30x030x030x950xa2*tU0x050x1a0xe20xf5]0x1c0x8f0x070x160x0b9q10xa9d0x800xc50xdau0xfd0x8d*0xe00xec0xe80xd3C ]. HTTP method names must be tokens\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\nand This is what i got with http only \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BE4RZ.png\r\n  [2]: https://i.stack.imgur.com/oIsE9.png\r\n","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>you must have added https intead of http i also was getting same error with given below code</p>\n<pre><code>@RestController\npublic class MyController {\n    @GetMapping(&quot;/myobject&quot;)\n    public MyObject getMyObject() {\n        return new MyObject(&quot;John Doe&quot;, true, 42);\n    }\n}\n</code></pre>\n<p>This is what i got with https\n<a href=\"https://i.stack.imgur.com/BE4RZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BE4RZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also Error in IDE with stack trace</p>\n<pre><code>2023-03-22T03:32:56.767+05:30  INFO 21684 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xf70x010x000x000xf30x030x030x950xa2*tU0x050x1a0xe20xf5]0x1c0x8f0x070x160x0b9q10xa9d0x800xc50xdau0xfd0x8d*0xe00xec0xe80xd3C ]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>and This is what i got with http only\n<a href=\"https://i.stack.imgur.com/oIsE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIsE9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694429791,"creation_date":1694429791,"answer_id":77081034,"question_id":38891866,"body_markdown":"I have encountered the same error using Spring Boot. The provided answers focused only on the error explanation and provided a way to use HTTP instead of HTTPS.\r\n\r\nBut in my case, we are already using TLS certicates. So the solution was to enable SSL by configuring the embedded Tomcat server through either the `application.yml` or `application.properties` file.\r\n\r\nWe only need to define these peroperties:\r\n\r\n    server:\r\n      ssl:\r\n        key-store: classpath:/path/to/keystore.p12\r\n        key-store-password: password-to-access-keystore\r\n        key-store-type: pkcs12\r\n        key-alias: my-spring-boot-app\r\n        key-password: password-for-the-private-key-if-you-have-any\r\n        enabled: true\r\n      port: 8443\r\n\r\nThe following documentation list all needed properties and their default values: [Spring Common Application Properties ][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.server\r\n","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>I have encountered the same error using Spring Boot. The provided answers focused only on the error explanation and provided a way to use HTTP instead of HTTPS.</p>\n<p>But in my case, we are already using TLS certicates. So the solution was to enable SSL by configuring the embedded Tomcat server through either the <code>application.yml</code> or <code>application.properties</code> file.</p>\n<p>We only need to define these peroperties:</p>\n<pre><code>server:\n  ssl:\n    key-store: classpath:/path/to/keystore.p12\n    key-store-password: password-to-access-keystore\n    key-store-type: pkcs12\n    key-alias: my-spring-boot-app\n    key-password: password-for-the-private-key-if-you-have-any\n    enabled: true\n  port: 8443\n</code></pre>\n<p>The following documentation list all needed properties and their default values: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.server\" rel=\"nofollow noreferrer\">Spring Common Application Properties </a></p>\n"}],"owner":{"account_id":6843610,"reputation":771,"user_id":5263099,"display_name":"discipline19810128"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157022,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":6,"score":77,"last_activity_date":1694429791,"creation_date":1470906227,"question_id":38891866,"body_markdown":"When Spring Boot starts up, it throws the `method names must be tokens` exception\r\n\r\n    2016-08-11 16:53:54.499  INFO 14212 --- [0.1-8888-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\r\n            at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:462) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:994) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_72]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_72]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at java.lang.Thread.run(Thread.java:745) [na:1.8.0_72]\r\n    \r\n    2016-08-11 16:53:58.885  INFO 14212 --- [0.1-8888-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2016-08-11 16:53:58.888  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2016-08-11 16:53:58.922  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 30 ms\r\n    11111111-chinadfadf-xxxxxxxx@121.com\r\n\r\nAnyone knows why it throws this exception?","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>When Spring Boot starts up, it throws the <code>method names must be tokens</code> exception</p>\n<pre><code>2016-08-11 16:53:54.499  INFO 14212 --- [0.1-8888-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:462) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:994) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_72]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_72]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_72]\n\n2016-08-11 16:53:58.885  INFO 14212 --- [0.1-8888-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2016-08-11 16:53:58.888  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2016-08-11 16:53:58.922  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 30 ms\n11111111-chinadfadf-xxxxxxxx@121.com\n</code></pre>\n<p>Anyone knows why it throws this exception?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1476300888,"post_id":29602386,"comment_id":67291862,"body_markdown":"Hava a look at 5 ways to initialize lazy relationsships: http://www.thoughts-on-java.org/5-ways-to-initialize-lazy-relations-and-when-to-use-them/","body":"Hava a look at 5 ways to initialize lazy relationsships: <a href=\"http://www.thoughts-on-java.org/5-ways-to-initialize-lazy-relations-and-when-to-use-them/\" rel=\"nofollow noreferrer\">thoughts-on-java.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1345891,"reputation":2182,"user_id":1286662,"display_name":"wesker317"},"down_vote_count":2,"up_vote_count":140,"is_accepted":true,"score":138,"last_activity_date":1463645700,"creation_date":1429104539,"answer_id":29651595,"question_id":29602386,"body_markdown":"I think that Spring Data ignores the FetchMode. I always use the `@NamedEntityGraph` and `@EntityGraph` annotations when working with Spring Data\r\n\r\n    @Entity\r\n    @NamedEntityGraph(name = &quot;GroupInfo.detail&quot;,\r\n      attributeNodes = @NamedAttributeNode(&quot;members&quot;))\r\n    public class GroupInfo {\r\n    \r\n      // default fetch mode is lazy.\r\n      @ManyToMany\r\n      List&lt;GroupMember&gt; members = new ArrayList&lt;GroupMember&gt;();\r\n    \r\n      …\r\n    }\r\n\r\n    @Repository\r\n    public interface GroupRepository extends CrudRepository&lt;GroupInfo, String&gt; {\r\n    \r\n      @EntityGraph(value = &quot;GroupInfo.detail&quot;, type = EntityGraphType.LOAD)\r\n      GroupInfo getByGroupName(String name);\r\n    \r\n    }\r\n\r\nCheck the documentation **[here][1]**\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"How does the FetchMode work in Spring Data JPA","body":"<p>I think that Spring Data ignores the FetchMode. I always use the <code>@NamedEntityGraph</code> and <code>@EntityGraph</code> annotations when working with Spring Data</p>\n\n<pre><code>@Entity\n@NamedEntityGraph(name = \"GroupInfo.detail\",\n  attributeNodes = @NamedAttributeNode(\"members\"))\npublic class GroupInfo {\n\n  // default fetch mode is lazy.\n  @ManyToMany\n  List&lt;GroupMember&gt; members = new ArrayList&lt;GroupMember&gt;();\n\n  …\n}\n\n@Repository\npublic interface GroupRepository extends CrudRepository&lt;GroupInfo, String&gt; {\n\n  @EntityGraph(value = \"GroupInfo.detail\", type = EntityGraphType.LOAD)\n  GroupInfo getByGroupName(String name);\n\n}\n</code></pre>\n\n<p>Check the documentation <strong><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\">here</a></strong></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1610140330,"creation_date":1429166235,"answer_id":29667050,"question_id":29602386,"body_markdown":"First of all, `@Fetch(FetchMode.JOIN)` and `@ManyToOne(fetch = FetchType.LAZY)` are antagonistic because `@Fetch(FetchMode.JOIN)` is equivalent to the JPA `FetchType.EAGER`.\r\n\r\nEager fetching is rarely a good choice, and for predictable behavior, you are better off using the query-time `JOIN FETCH` directive:\r\n\r\n    public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\r\n    \r\n        @Query(value = &quot;SELECT p FROM Place p LEFT JOIN FETCH p.author LEFT JOIN FETCH p.city c LEFT JOIN FETCH c.state where p.id = :id&quot;)\r\n        Place findById(@Param(&quot;id&quot;) int id);\r\n    }\r\n\r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom { \r\n        @Query(value = &quot;SELECT c FROM City c LEFT JOIN FETCH c.state where c.id = :id&quot;)   \r\n        City findById(@Param(&quot;id&quot;) int id);\r\n    }\r\n","title":"How does the FetchMode work in Spring Data JPA","body":"<p>First of all, <code>@Fetch(FetchMode.JOIN)</code> and <code>@ManyToOne(fetch = FetchType.LAZY)</code> are antagonistic because <code>@Fetch(FetchMode.JOIN)</code> is equivalent to the JPA <code>FetchType.EAGER</code>.</p>\n<p>Eager fetching is rarely a good choice, and for predictable behavior, you are better off using the query-time <code>JOIN FETCH</code> directive:</p>\n<pre><code>public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\n\n    @Query(value = &quot;SELECT p FROM Place p LEFT JOIN FETCH p.author LEFT JOIN FETCH p.city c LEFT JOIN FETCH c.state where p.id = :id&quot;)\n    Place findById(@Param(&quot;id&quot;) int id);\n}\n\npublic interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom { \n    @Query(value = &quot;SELECT c FROM City c LEFT JOIN FETCH c.state where c.id = :id&quot;)   \n    City findById(@Param(&quot;id&quot;) int id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429685816,"creation_date":1429174407,"answer_id":29669797,"question_id":29602386,"body_markdown":"&quot;`FetchType.LAZY`&quot; will only fire for primary table. If in your code you call any other method that has a parent table dependency then it will fire query to get that table information. (FIRES MULTIPLE SELECT)\r\n\r\n&quot;`FetchType.EAGER`&quot; will create join of all table including relevant parent tables directly. (USES `JOIN`)\r\n\r\nWhen to Use:\r\nSuppose you compulsorily need to use dependant parent table informartion then choose `FetchType.EAGER`.\r\nIf you only need information for certain records then use `FetchType.LAZY`.\r\n\r\nRemember, `FetchType.LAZY` needs an active db session factory at the place in your code where if you choose to retrieve parent table information.\r\n\r\nE.g. for `LAZY`: \r\n\r\n    .. Place fetched from db from your dao loayer\r\n    .. only place table information retrieved\r\n    .. some code\r\n    .. getCity() method called... Here db request will be fired to get city table info\r\n\r\n[Additional reference][1]\r\n\r\n\r\n  [1]: https://rkancharla.wordpress.com/2011/05/19/jpadifference-between-fetchtype-lazy-and-eager/","title":"How does the FetchMode work in Spring Data JPA","body":"<p>\"<code>FetchType.LAZY</code>\" will only fire for primary table. If in your code you call any other method that has a parent table dependency then it will fire query to get that table information. (FIRES MULTIPLE SELECT)</p>\n\n<p>\"<code>FetchType.EAGER</code>\" will create join of all table including relevant parent tables directly. (USES <code>JOIN</code>)</p>\n\n<p>When to Use:\nSuppose you compulsorily need to use dependant parent table informartion then choose <code>FetchType.EAGER</code>.\nIf you only need information for certain records then use <code>FetchType.LAZY</code>.</p>\n\n<p>Remember, <code>FetchType.LAZY</code> needs an active db session factory at the place in your code where if you choose to retrieve parent table information.</p>\n\n<p>E.g. for <code>LAZY</code>: </p>\n\n<pre><code>.. Place fetched from db from your dao loayer\n.. only place table information retrieved\n.. some code\n.. getCity() method called... Here db request will be fired to get city table info\n</code></pre>\n\n<p><a href=\"https://rkancharla.wordpress.com/2011/05/19/jpadifference-between-fetchtype-lazy-and-eager/\" rel=\"nofollow\">Additional reference</a></p>\n"},{"tags":[],"owner":{"account_id":1987405,"reputation":621,"user_id":1782251,"accept_rate":100,"display_name":"dream83619"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1589925382,"creation_date":1444278960,"answer_id":33006717,"question_id":29602386,"body_markdown":"Spring-jpa creates the query using the entity manager, and Hibernate will ignore the fetch mode if the query was built by the entity manager.\r\n\r\nThe following is the work around that I used:\r\n\r\n1. [Implement a custom repository which inherits from SimpleJpaRepository][1]\r\n\r\n2. Override the method **`getQuery(Specification&lt;T&gt; spec, Sort sort)`**:\r\n\r\n        @Override\r\n        protected TypedQuery&lt;T&gt; getQuery(Specification&lt;T&gt; spec, Sort sort) { \r\n            CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;T&gt; query = builder.createQuery(getDomainClass());\r\n        \r\n            Root&lt;T&gt; root = applySpecificationToCriteria(spec, query);\r\n            query.select(root);\r\n        \r\n            applyFetchMode(root);\r\n        \r\n            if (sort != null) {\r\n                query.orderBy(toOrders(sort, root, builder));\r\n            }\r\n        \r\n            return applyRepositoryMethodMetadata(entityManager.createQuery(query));\r\n        }\r\n\r\n In the middle of the method, add **`applyFetchMode(root);`** to apply the fetch mode, to make Hibernate create the query with the correct join.\r\n\r\n (Unfortunately we need to copy the whole method and related private methods from the base class because there was no other extension point.)\r\n\r\n3. Implement **`applyFetchMode`**:\r\n\r\n        private void applyFetchMode(Root&lt;T&gt; root) {\r\n            for (Field field : getDomainClass().getDeclaredFields()) {\r\n\r\n                Fetch fetch = field.getAnnotation(Fetch.class);\r\n\r\n                if (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\r\n                    root.fetch(field.getName(), JoinType.LEFT);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories","title":"How does the FetchMode work in Spring Data JPA","body":"<p>Spring-jpa creates the query using the entity manager, and Hibernate will ignore the fetch mode if the query was built by the entity manager.</p>\n\n<p>The following is the work around that I used:</p>\n\n<ol>\n<li><p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"nofollow noreferrer\">Implement a custom repository which inherits from SimpleJpaRepository</a></p></li>\n<li><p>Override the method <strong><code>getQuery(Specification&lt;T&gt; spec, Sort sort)</code></strong>:</p>\n\n<pre><code>@Override\nprotected TypedQuery&lt;T&gt; getQuery(Specification&lt;T&gt; spec, Sort sort) { \n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;T&gt; query = builder.createQuery(getDomainClass());\n\n    Root&lt;T&gt; root = applySpecificationToCriteria(spec, query);\n    query.select(root);\n\n    applyFetchMode(root);\n\n    if (sort != null) {\n        query.orderBy(toOrders(sort, root, builder));\n    }\n\n    return applyRepositoryMethodMetadata(entityManager.createQuery(query));\n}\n</code></pre>\n\n<p>In the middle of the method, add <strong><code>applyFetchMode(root);</code></strong> to apply the fetch mode, to make Hibernate create the query with the correct join.</p>\n\n<p>(Unfortunately we need to copy the whole method and related private methods from the base class because there was no other extension point.)</p></li>\n<li><p>Implement <strong><code>applyFetchMode</code></strong>:</p>\n\n<pre><code>private void applyFetchMode(Root&lt;T&gt; root) {\n    for (Field field : getDomainClass().getDeclaredFields()) {\n\n        Fetch fetch = field.getAnnotation(Fetch.class);\n\n        if (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\n            root.fetch(field.getName(), JoinType.LEFT);\n        }\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":339128,"reputation":11053,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501139504,"creation_date":1470226735,"answer_id":38743473,"question_id":29602386,"body_markdown":"I elaborated on [dream83619][1] answer to make it handle nested Hibernate  `@Fetch` annotations. I used recursive method to find annotations in nested associated classes.\r\n\r\n[So you have to implement custom repository][2] and override `getQuery(spec, domainClass, sort)` method. \r\nUnfortunately you also have to copy all referenced private methods :(.\r\n\r\nHere is the code, &lt;s&gt;copied private methods are omitted.&lt;/s&gt;  \r\n**EDIT:** Added remaining private methods.\r\n\r\n    @NoRepositoryBean\r\n    public class EntityGraphRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; {\r\n    \r\n    \tprivate final EntityManager em;\r\n    \tprotected JpaEntityInformation&lt;T, ?&gt; entityInformation;\r\n    \r\n    \tpublic EntityGraphRepositoryImpl(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\r\n    \t\tsuper(entityInformation, entityManager);\r\n    \t\tthis.em = entityManager;\r\n    \t\tthis.entityInformation = entityInformation;\r\n    \t}\r\n\r\n        @Override\r\n    \tprotected &lt;S extends T&gt; TypedQuery&lt;S&gt; getQuery(Specification&lt;S&gt; spec, Class&lt;S&gt; domainClass, Sort sort) {\r\n    \t\tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n    \t\tCriteriaQuery&lt;S&gt; query = builder.createQuery(domainClass);\r\n    \r\n    \t\tRoot&lt;S&gt; root = applySpecificationToCriteria(spec, domainClass, query);\r\n    \r\n    \t\tquery.select(root);\r\n    \t\tapplyFetchMode(root);\r\n    \r\n    \t\tif (sort != null) {\r\n    \t\t\tquery.orderBy(toOrders(sort, root, builder));\r\n    \t\t}\r\n    \r\n    \t\treturn applyRepositoryMethodMetadata(em.createQuery(query));\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, Join&lt;?, ?&gt;&gt; joinCache;\r\n    \r\n    \tprivate void applyFetchMode(Root&lt;? extends T&gt; root) {\r\n    \t\tjoinCache = new HashMap&lt;&gt;();\r\n    \t\tapplyFetchMode(root, getDomainClass(), &quot;&quot;);\r\n    \t}\r\n    \r\n    \tprivate void applyFetchMode(FetchParent&lt;?, ?&gt; root, Class&lt;?&gt; clazz, String path) {\r\n    \t\tfor (Field field : clazz.getDeclaredFields()) {\r\n    \t\t\tFetch fetch = field.getAnnotation(Fetch.class);\r\n    \r\n    \t\t\tif (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\r\n    \t\t\t\tFetchParent&lt;?, ?&gt; descent = root.fetch(field.getName(), JoinType.LEFT);\r\n    \t\t\t\tString fieldPath = path + &quot;.&quot; + field.getName();\r\n    \t\t\t\tjoinCache.put(path, (Join) descent);\r\n    \r\n    \t\t\t\tapplyFetchMode(descent, field.getType(), fieldPath);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Applies the given {@link Specification} to the given {@link CriteriaQuery}.\r\n    \t *\r\n    \t * @param spec can be {@literal null}.\r\n    \t * @param domainClass must not be {@literal null}.\r\n    \t * @param query must not be {@literal null}.\r\n    \t * @return\r\n    \t */\r\n    \tprivate &lt;S, U extends T&gt; Root&lt;U&gt; applySpecificationToCriteria(Specification&lt;U&gt; spec, Class&lt;U&gt; domainClass,\r\n    \t\tCriteriaQuery&lt;S&gt; query) {\r\n    \r\n    \t\tAssert.notNull(query);\r\n    \t\tAssert.notNull(domainClass);\r\n    \t\tRoot&lt;U&gt; root = query.from(domainClass);\r\n    \r\n    \t\tif (spec == null) {\r\n    \t\t\treturn root;\r\n    \t\t}\r\n    \r\n    \t\tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n    \t\tPredicate predicate = spec.toPredicate(root, query, builder);\r\n    \r\n    \t\tif (predicate != null) {\r\n    \t\t\tquery.where(predicate);\r\n    \t\t}\r\n    \r\n    \t\treturn root;\r\n    \t}\r\n    \r\n    \tprivate &lt;S&gt; TypedQuery&lt;S&gt; applyRepositoryMethodMetadata(TypedQuery&lt;S&gt; query) {\r\n    \t\tif (getRepositoryMethodMetadata() == null) {\r\n    \t\t\treturn query;\r\n    \t\t}\r\n    \r\n    \t\tLockModeType type = getRepositoryMethodMetadata().getLockModeType();\r\n    \t\tTypedQuery&lt;S&gt; toReturn = type == null ? query : query.setLockMode(type);\r\n    \r\n    \t\tapplyQueryHints(toReturn);\r\n    \r\n    \t\treturn toReturn;\r\n    \t}\r\n    \r\n    \tprivate void applyQueryHints(Query query) {\r\n    \t\tfor (Map.Entry&lt;String, Object&gt; hint : getQueryHints().entrySet()) {\r\n    \t\t\tquery.setHint(hint.getKey(), hint.getValue());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Class&lt;T&gt; getEntityType() {\r\n    \t\treturn entityInformation.getJavaType();\r\n    \t}\r\n    \r\n    \tpublic EntityManager getEm() {\r\n    \t\treturn em;\r\n    \t}\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/1782251/dream83619\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories","title":"How does the FetchMode work in Spring Data JPA","body":"<p>I elaborated on <a href=\"https://stackoverflow.com/users/1782251/dream83619\">dream83619</a> answer to make it handle nested Hibernate  <code>@Fetch</code> annotations. I used recursive method to find annotations in nested associated classes.</p>\n\n<p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"nofollow noreferrer\">So you have to implement custom repository</a> and override <code>getQuery(spec, domainClass, sort)</code> method. \nUnfortunately you also have to copy all referenced private methods :(.</p>\n\n<p>Here is the code, <s>copied private methods are omitted.</s><br>\n<strong>EDIT:</strong> Added remaining private methods.</p>\n\n<pre><code>@NoRepositoryBean\npublic class EntityGraphRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; {\n\n    private final EntityManager em;\n    protected JpaEntityInformation&lt;T, ?&gt; entityInformation;\n\n    public EntityGraphRepositoryImpl(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\n        super(entityInformation, entityManager);\n        this.em = entityManager;\n        this.entityInformation = entityInformation;\n    }\n\n    @Override\n    protected &lt;S extends T&gt; TypedQuery&lt;S&gt; getQuery(Specification&lt;S&gt; spec, Class&lt;S&gt; domainClass, Sort sort) {\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;S&gt; query = builder.createQuery(domainClass);\n\n        Root&lt;S&gt; root = applySpecificationToCriteria(spec, domainClass, query);\n\n        query.select(root);\n        applyFetchMode(root);\n\n        if (sort != null) {\n            query.orderBy(toOrders(sort, root, builder));\n        }\n\n        return applyRepositoryMethodMetadata(em.createQuery(query));\n    }\n\n    private Map&lt;String, Join&lt;?, ?&gt;&gt; joinCache;\n\n    private void applyFetchMode(Root&lt;? extends T&gt; root) {\n        joinCache = new HashMap&lt;&gt;();\n        applyFetchMode(root, getDomainClass(), \"\");\n    }\n\n    private void applyFetchMode(FetchParent&lt;?, ?&gt; root, Class&lt;?&gt; clazz, String path) {\n        for (Field field : clazz.getDeclaredFields()) {\n            Fetch fetch = field.getAnnotation(Fetch.class);\n\n            if (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\n                FetchParent&lt;?, ?&gt; descent = root.fetch(field.getName(), JoinType.LEFT);\n                String fieldPath = path + \".\" + field.getName();\n                joinCache.put(path, (Join) descent);\n\n                applyFetchMode(descent, field.getType(), fieldPath);\n            }\n        }\n    }\n\n    /**\n     * Applies the given {@link Specification} to the given {@link CriteriaQuery}.\n     *\n     * @param spec can be {@literal null}.\n     * @param domainClass must not be {@literal null}.\n     * @param query must not be {@literal null}.\n     * @return\n     */\n    private &lt;S, U extends T&gt; Root&lt;U&gt; applySpecificationToCriteria(Specification&lt;U&gt; spec, Class&lt;U&gt; domainClass,\n        CriteriaQuery&lt;S&gt; query) {\n\n        Assert.notNull(query);\n        Assert.notNull(domainClass);\n        Root&lt;U&gt; root = query.from(domainClass);\n\n        if (spec == null) {\n            return root;\n        }\n\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        Predicate predicate = spec.toPredicate(root, query, builder);\n\n        if (predicate != null) {\n            query.where(predicate);\n        }\n\n        return root;\n    }\n\n    private &lt;S&gt; TypedQuery&lt;S&gt; applyRepositoryMethodMetadata(TypedQuery&lt;S&gt; query) {\n        if (getRepositoryMethodMetadata() == null) {\n            return query;\n        }\n\n        LockModeType type = getRepositoryMethodMetadata().getLockModeType();\n        TypedQuery&lt;S&gt; toReturn = type == null ? query : query.setLockMode(type);\n\n        applyQueryHints(toReturn);\n\n        return toReturn;\n    }\n\n    private void applyQueryHints(Query query) {\n        for (Map.Entry&lt;String, Object&gt; hint : getQueryHints().entrySet()) {\n            query.setHint(hint.getKey(), hint.getValue());\n        }\n    }\n\n    public Class&lt;T&gt; getEntityType() {\n        return entityInformation.getJavaType();\n    }\n\n    public EntityManager getEm() {\n        return em;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6151260,"reputation":475,"user_id":4795613,"accept_rate":67,"display_name":"kafkas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515352871,"creation_date":1515352871,"answer_id":48140715,"question_id":29602386,"body_markdown":"http://jdpgrailsdev.github.io/blog/2014/09/09/spring_data_hibernate_join.html &lt;br&gt;\r\nfrom this link:\r\n\r\nif you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOINHowever, if you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOIN.\r\n\r\nThe Spring Data JPA library provides a Domain Driven Design Specifications API that allows you to control the behavior of the generated query.\r\n\r\n\r\n   \r\n\r\n    final long userId = 1;\r\n\r\n    final Specification&lt;User&gt; spec = new Specification&lt;User&gt;() {\r\n       @Override\r\n        public Predicate toPredicate(final Root&lt;User&gt; root, final \r\n         CriteriaQuery&lt;?&gt; query, final CriteriaBuilder cb) {\r\n        query.distinct(true);\r\n        root.fetch(&quot;permissions&quot;, JoinType.LEFT);\r\n        return cb.equal(root.get(&quot;id&quot;), userId);\r\n     }\r\n    };\r\n\r\n    List&lt;User&gt; users = userRepository.findAll(spec);\r\n\r\n","title":"How does the FetchMode work in Spring Data JPA","body":"<p><a href=\"http://jdpgrailsdev.github.io/blog/2014/09/09/spring_data_hibernate_join.html\" rel=\"nofollow noreferrer\">http://jdpgrailsdev.github.io/blog/2014/09/09/spring_data_hibernate_join.html</a> <br>\nfrom this link:</p>\n\n<p>if you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOINHowever, if you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOIN.</p>\n\n<p>The Spring Data JPA library provides a Domain Driven Design Specifications API that allows you to control the behavior of the generated query.</p>\n\n<pre><code>final long userId = 1;\n\nfinal Specification&lt;User&gt; spec = new Specification&lt;User&gt;() {\n   @Override\n    public Predicate toPredicate(final Root&lt;User&gt; root, final \n     CriteriaQuery&lt;?&gt; query, final CriteriaBuilder cb) {\n    query.distinct(true);\n    root.fetch(\"permissions\", JoinType.LEFT);\n    return cb.equal(root.get(\"id\"), userId);\n }\n};\n\nList&lt;User&gt; users = userRepository.findAll(spec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531137425,"creation_date":1531137425,"answer_id":51245028,"question_id":29602386,"body_markdown":"According to Vlad Mihalcea (see [https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/][1]):\r\n\r\n&gt; JPQL queries may override the default fetching strategy. If we don’t\r\n&gt; explicitly declare what we want to fetch using inner or left join\r\n&gt; fetch directives, the default select fetch policy is applied.\r\n\r\nIt seems that JPQL query might override your declared fetching strategy so you&#39;ll have to use `join fetch` in order to eagerly load some referenced entity or simply load by id with EntityManager (which will obey your fetching strategy but might not be a solution for your use case).\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/","title":"How does the FetchMode work in Spring Data JPA","body":"<p>According to Vlad Mihalcea (see <a href=\"https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/</a>):</p>\n\n<blockquote>\n  <p>JPQL queries may override the default fetching strategy. If we don’t\n  explicitly declare what we want to fetch using inner or left join\n  fetch directives, the default select fetch policy is applied.</p>\n</blockquote>\n\n<p>It seems that JPQL query might override your declared fetching strategy so you'll have to use <code>join fetch</code> in order to eagerly load some referenced entity or simply load by id with EntityManager (which will obey your fetching strategy but might not be a solution for your use case).</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531898440,"creation_date":1531898440,"answer_id":51395883,"question_id":29602386,"body_markdown":"The fetch mode will only work when selecting the object _by id_ i.e. using `entityManager.find()`. Since Spring Data will always create a query, the fetch mode configuration will have no use to you. You can either use dedicated queries with fetch joins or use entity graphs.\r\n\r\nWhen you want best performance, you should select only the subset of the data you really need. To do this, it is generally recommended to use a DTO approach to avoid unnecessary data to be fetched, but that usually results in quite a lot of error prone boilerplate code, since you need define a dedicated query that constructs your DTO model via a JPQL constructor expression.\r\n\r\nSpring Data projections can help here, but at some point you will need a solution like [Blaze-Persistence Entity Views][1] which makes this pretty easy and has a lot more features in it&#39;s sleeve that will come in handy! You just create a DTO interface per entity where the getters represent the subset of data you need. A solution to your problem could look like this\r\n\r\n    @EntityView(Identified.class)\r\n    public interface IdentifiedView {\r\n        @IdMapping\r\n        Integer getId();\r\n    }\r\n    \r\n    @EntityView(Identified.class)\r\n    public interface UserView extends IdentifiedView {\r\n        String getName();\r\n    }\r\n    \r\n    @EntityView(Identified.class)\r\n    public interface StateView extends IdentifiedView {\r\n        String getName();\r\n    }\r\n    \r\n    @EntityView(Place.class)\r\n    public interface PlaceView extends IdentifiedView {\r\n        UserView getAuthor();\r\n        CityView getCity();\r\n    }\r\n    \r\n    @EntityView(City.class)\r\n    public interface CityView extends IdentifiedView {\r\n        StateView getState();\r\n    }\r\n    \r\n    public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\r\n        PlaceView findById(int id);\r\n    }\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        List&lt;UserView&gt; findAllByOrderByIdAsc();\r\n        UserView findById(int id);\r\n    }\r\n    \r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \r\n        CityView findById(int id);\r\n    }\r\n\r\nDisclaimer, I&#39;m the author of Blaze-Persistence, so I might be biased.\r\n\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.3/entity-view/manual/en_US/index.html#spring-data-features","title":"How does the FetchMode work in Spring Data JPA","body":"<p>The fetch mode will only work when selecting the object <em>by id</em> i.e. using <code>entityManager.find()</code>. Since Spring Data will always create a query, the fetch mode configuration will have no use to you. You can either use dedicated queries with fetch joins or use entity graphs.</p>\n\n<p>When you want best performance, you should select only the subset of the data you really need. To do this, it is generally recommended to use a DTO approach to avoid unnecessary data to be fetched, but that usually results in quite a lot of error prone boilerplate code, since you need define a dedicated query that constructs your DTO model via a JPQL constructor expression.</p>\n\n<p>Spring Data projections can help here, but at some point you will need a solution like <a href=\"https://persistence.blazebit.com/documentation/1.3/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> which makes this pretty easy and has a lot more features in it's sleeve that will come in handy! You just create a DTO interface per entity where the getters represent the subset of data you need. A solution to your problem could look like this</p>\n\n<pre><code>@EntityView(Identified.class)\npublic interface IdentifiedView {\n    @IdMapping\n    Integer getId();\n}\n\n@EntityView(Identified.class)\npublic interface UserView extends IdentifiedView {\n    String getName();\n}\n\n@EntityView(Identified.class)\npublic interface StateView extends IdentifiedView {\n    String getName();\n}\n\n@EntityView(Place.class)\npublic interface PlaceView extends IdentifiedView {\n    UserView getAuthor();\n    CityView getCity();\n}\n\n@EntityView(City.class)\npublic interface CityView extends IdentifiedView {\n    StateView getState();\n}\n\npublic interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\n    PlaceView findById(int id);\n}\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    List&lt;UserView&gt; findAllByOrderByIdAsc();\n    UserView findById(int id);\n}\n\npublic interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \n    CityView findById(int id);\n}\n</code></pre>\n\n<p>Disclaimer, I'm the author of Blaze-Persistence, so I might be biased.</p>\n"},{"tags":[],"owner":{"account_id":6906155,"reputation":2477,"user_id":5303960,"accept_rate":100,"display_name":"royatirek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619702693,"creation_date":1619702693,"answer_id":67318315,"question_id":29602386,"body_markdown":"The entity manager used by spring data jpa ignores the fetch mode.\r\n\r\nUse @EntityGraph annotation over Repository methods,\r\n\r\n    @EntityGraph(attributePaths = { &quot;user&quot;, &quot;hashtags&quot;})\r\n    Page&lt;LIPost&gt; findByVoteTypeIn(Set&lt;VoteType&gt; listOfVotetype, Pageable paging);\r\n\r\n\r\nHere user and hashtags are the properties in the LIPost entity.\r\n\r\nThe query build by spring data JPA uses **left outer join** to get the related entity(user and hashtags) data.\r\n\r\nIn this case, no need to use the annotation @NamedEntityGraph over the entity class.\r\n\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"How does the FetchMode work in Spring Data JPA","body":"<p>The entity manager used by spring data jpa ignores the fetch mode.</p>\n<p>Use @EntityGraph annotation over Repository methods,</p>\n<pre><code>@EntityGraph(attributePaths = { &quot;user&quot;, &quot;hashtags&quot;})\nPage&lt;LIPost&gt; findByVoteTypeIn(Set&lt;VoteType&gt; listOfVotetype, Pageable paging);\n</code></pre>\n<p>Here user and hashtags are the properties in the LIPost entity.</p>\n<p>The query build by spring data JPA uses <strong>left outer join</strong> to get the related entity(user and hashtags) data.</p>\n<p>In this case, no need to use the annotation @NamedEntityGraph over the entity class.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":375945,"reputation":1877,"user_id":727078,"accept_rate":38,"display_name":"SirKometa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155591,"favorite_count":0,"down_vote_count":1,"up_vote_count":116,"accepted_answer_id":29651595,"answer_count":9,"score":115,"last_activity_date":1694429160,"creation_date":1428918528,"question_id":29602386,"body_markdown":"I do have a relation between three model object in my project (model and repository snippets in the end of the post. \r\n\r\nWhen I call `PlaceRepository.findById` it does fire three select queries:\r\n\r\n(&quot;sql&quot;)\r\n\r\n 1. `SELECT * FROM place p where id = arg`\r\n 2. `SELECT * FROM user u where u.id = place.user.id`\r\n 3. `SELECT * FROM city c LEFT OUTER JOIN state s on c.woj_id = s.id where c.id = place.city.id`\r\n\r\nThat&#39;s rather unusual behavior (for me). As far as I can tell after reading Hibernate documentation it should always use JOIN queries. There is no difference in the queries when `FetchType.LAZY` changed to  `FetchType.EAGER` in the `Place` class (query with additional SELECT), the same for the `City` class when `FetchType.LAZY` changed to  `FetchType.EAGER` (query with JOIN). \r\n\r\nWhen I use `CityRepository.findById` suppressing fires two selects: \r\n\r\n 1. `SELECT * FROM city c where id = arg`\r\n 2. `SELECT * FROM state s where id = city.state.id`\r\n\r\nMy goal is to have a the sam behavior in all situations (either always JOIN or SELECT, JOIN preferred though). \r\n\r\nModel definitions:\r\n\r\nPlace:\r\n\r\n    @Entity\r\n    @Table(name = &quot;place&quot;)\r\n    public class Place extends Identified {\r\n\r\n        @Fetch(FetchMode.JOIN)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;id_user_author&quot;)\r\n        private User author;\r\n\r\n        @Fetch(FetchMode.JOIN)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;area_city_id&quot;)\r\n        private City city;\r\n        //getters and setters\r\n    }\r\n\r\nCity: \r\n\r\n    @Entity\r\n    @Table(name = &quot;area_city&quot;)\r\n    public class City extends Identified {\r\n\r\n        @Fetch(FetchMode.JOIN)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;area_woj_id&quot;)\r\n        private State state;\r\n        //getters and setters\r\n    }\r\n\r\nRepositories: \r\n\r\nPlaceRepository\r\n\r\n    public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\r\n        Place findById(int id);\r\n    }\r\n\r\n\r\nUserRepository: \r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n            List&lt;User&gt; findAll();\r\n        User findById(int id);\r\n    }\r\n\r\nCityRepository: \r\n\r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \r\n        City findById(int id);\r\n    }","title":"How does the FetchMode work in Spring Data JPA","body":"<p>I do have a relation between three model object in my project (model and repository snippets in the end of the post. </p>\n\n<p>When I call <code>PlaceRepository.findById</code> it does fire three select queries:</p>\n\n<p>(\"sql\")</p>\n\n<ol>\n<li><code>SELECT * FROM place p where id = arg</code></li>\n<li><code>SELECT * FROM user u where u.id = place.user.id</code></li>\n<li><code>SELECT * FROM city c LEFT OUTER JOIN state s on c.woj_id = s.id where c.id = place.city.id</code></li>\n</ol>\n\n<p>That's rather unusual behavior (for me). As far as I can tell after reading Hibernate documentation it should always use JOIN queries. There is no difference in the queries when <code>FetchType.LAZY</code> changed to  <code>FetchType.EAGER</code> in the <code>Place</code> class (query with additional SELECT), the same for the <code>City</code> class when <code>FetchType.LAZY</code> changed to  <code>FetchType.EAGER</code> (query with JOIN). </p>\n\n<p>When I use <code>CityRepository.findById</code> suppressing fires two selects: </p>\n\n<ol>\n<li><code>SELECT * FROM city c where id = arg</code></li>\n<li><code>SELECT * FROM state s where id = city.state.id</code></li>\n</ol>\n\n<p>My goal is to have a the sam behavior in all situations (either always JOIN or SELECT, JOIN preferred though). </p>\n\n<p>Model definitions:</p>\n\n<p>Place:</p>\n\n<pre><code>@Entity\n@Table(name = \"place\")\npublic class Place extends Identified {\n\n    @Fetch(FetchMode.JOIN)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"id_user_author\")\n    private User author;\n\n    @Fetch(FetchMode.JOIN)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"area_city_id\")\n    private City city;\n    //getters and setters\n}\n</code></pre>\n\n<p>City: </p>\n\n<pre><code>@Entity\n@Table(name = \"area_city\")\npublic class City extends Identified {\n\n    @Fetch(FetchMode.JOIN)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"area_woj_id\")\n    private State state;\n    //getters and setters\n}\n</code></pre>\n\n<p>Repositories: </p>\n\n<p>PlaceRepository</p>\n\n<pre><code>public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\n    Place findById(int id);\n}\n</code></pre>\n\n<p>UserRepository: </p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n        List&lt;User&gt; findAll();\n    User findById(int id);\n}\n</code></pre>\n\n<p>CityRepository: </p>\n\n<pre><code>public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \n    City findById(int id);\n}\n</code></pre>\n"},{"tags":["java","arrays","sum"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614881515,"creation_date":1614881515,"answer_id":66480725,"question_id":66480625,"body_markdown":"You should use `Set` to look through the given array only once.\r\n\r\n    public class App {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            int[] numbers = { 3, 6, 2, 9 };\r\n            int targNum = 5;\r\n    \r\n            twoSum(numbers, targNum);\r\n        }\r\n    \r\n        public static void twoSum(int[] nums, int target) {\r\n            Set&lt;Integer&gt; unique = new HashSet&lt;&gt;();\r\n    \r\n            for (int a : nums) {\r\n                int b = target - a;\r\n    \r\n                if (unique.contains(b)) {\r\n                    System.out.println(a + &quot; &quot; + b);\r\n                    return;\r\n                }\r\n    \r\n                unique.add(a);\r\n            }\r\n    \r\n            System.err.println(&quot;not found&quot;);\r\n    \r\n        }\r\n    \r\n    }","title":"How to sum the elements of the array up to the target number?","body":"<p>You should use <code>Set</code> to look through the given array only once.</p>\n<pre><code>public class App {\n\n    public static void main(String[] args) throws Exception {\n        int[] numbers = { 3, 6, 2, 9 };\n        int targNum = 5;\n\n        twoSum(numbers, targNum);\n    }\n\n    public static void twoSum(int[] nums, int target) {\n        Set&lt;Integer&gt; unique = new HashSet&lt;&gt;();\n\n        for (int a : nums) {\n            int b = target - a;\n\n            if (unique.contains(b)) {\n                System.out.println(a + &quot; &quot; + b);\n                return;\n            }\n\n            unique.add(a);\n        }\n\n        System.err.println(&quot;not found&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15309136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615291525,"creation_date":1615127347,"answer_id":66517597,"question_id":66480625,"body_markdown":"You can use [`IntStream`][1] instead of `for-loop`:\r\n```java\r\nint[] numbers = {3, 6, 2, 9};\r\nint targetSum = 5;\r\n```\r\n```java\r\n// Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;\r\nvar entry = IntStream\r\n        // iterating through the array indexes\r\n        .range(0, numbers.length)\r\n        // map each index as a pair of index and value,\r\n        // i.e. set of indexes and sum of values\r\n        // Stream&lt;Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;&gt;\r\n        .mapToObj(i -&gt; Map.entry(Set.of(i), numbers[i]))\r\n        // reduce stream of map entries to a single entry\r\n        .reduce((e1, e2) -&gt; {\r\n            int sum = e1.getValue() + e2.getValue();\r\n            // if sum of the values of the two entries\r\n            // is less than or equal to the target sum\r\n            if (sum &lt;= targetSum) {\r\n                // summarize two entries\r\n                Set&lt;Integer&gt; key = new HashSet&lt;&gt;();\r\n                key.addAll(e1.getKey());\r\n                key.addAll(e2.getKey());\r\n                return Map.entry(key, sum);\r\n            } else {\r\n                // otherwise, take an entry with a smaller sum\r\n                return e1.getValue() &lt; e2.getValue() ? e1 : e2;\r\n            }\r\n        }).orElse(null);\r\n```\r\n```java\r\n// output\r\nif (entry == null)\r\n    System.out.println(&quot;Not found&quot;);\r\nelse\r\n    entry.getKey().forEach(i -&gt; System.out.println(numbers[i]));\r\n```\r\nOutput:\r\n```\r\n3\r\n2\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How to sort a character by number of occurrences in a String using a Map?][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\r\n  [2]: https://stackoverflow.com/a/66535925/15309136","title":"How to sum the elements of the array up to the target number?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> instead of <code>for-loop</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] numbers = {3, 6, 2, 9};\nint targetSum = 5;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;\nvar entry = IntStream\n        // iterating through the array indexes\n        .range(0, numbers.length)\n        // map each index as a pair of index and value,\n        // i.e. set of indexes and sum of values\n        // Stream&lt;Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;&gt;\n        .mapToObj(i -&gt; Map.entry(Set.of(i), numbers[i]))\n        // reduce stream of map entries to a single entry\n        .reduce((e1, e2) -&gt; {\n            int sum = e1.getValue() + e2.getValue();\n            // if sum of the values of the two entries\n            // is less than or equal to the target sum\n            if (sum &lt;= targetSum) {\n                // summarize two entries\n                Set&lt;Integer&gt; key = new HashSet&lt;&gt;();\n                key.addAll(e1.getKey());\n                key.addAll(e2.getKey());\n                return Map.entry(key, sum);\n            } else {\n                // otherwise, take an entry with a smaller sum\n                return e1.getValue() &lt; e2.getValue() ? e1 : e2;\n            }\n        }).orElse(null);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// output\nif (entry == null)\n    System.out.println(&quot;Not found&quot;);\nelse\n    entry.getKey().forEach(i -&gt; System.out.println(numbers[i]));\n</code></pre>\n<p>Output:</p>\n<pre><code>3\n2\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/66535925/15309136\">How to sort a character by number of occurrences in a String using a Map?</a></sup></p>\n"},{"tags":[],"owner":{"account_id":25314501,"reputation":1,"user_id":19136805,"display_name":"Kuldeep Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694429080,"creation_date":1694429080,"answer_id":77080951,"question_id":66480625,"body_markdown":"    class Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n\r\n        int[] sum = new int[2];\r\n\r\n        for(int i=0; i&lt;nums.length;i++){\r\n            for(int j=i+1; j&lt;nums.length; j++){\r\n                if(nums[i] + nums[j] == target){\r\n                    sum[0] = i;\r\n                    sum[1]= j;\r\n                    return sum;\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n        \r\n    }\r\n\r\n    public static void main(String[] args){\r\n        int[] nums ={8,5,8,8,5,1 };\r\n        int target = 9;\r\n        Solution solution = new Solution(); \r\n        int[] sum = solution.twoSum(nums, target);\r\n        if (sum != null) {\r\n            System.out.println(sum[0] + &quot; &quot; + sum[1]);\r\n        } else {\r\n            System.out.println(&quot;No two sum solution&quot;);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nnums ={8,5,8,8,5,1 };\r\nTarget = 9;","title":"How to sum the elements of the array up to the target number?","body":"<pre><code>class Solution {\npublic int[] twoSum(int[] nums, int target) {\n\n    int[] sum = new int[2];\n\n    for(int i=0; i&lt;nums.length;i++){\n        for(int j=i+1; j&lt;nums.length; j++){\n            if(nums[i] + nums[j] == target){\n                sum[0] = i;\n                sum[1]= j;\n                return sum;\n            }\n        }\n    }\n\n    return null;\n    \n}\n\npublic static void main(String[] args){\n    int[] nums ={8,5,8,8,5,1 };\n    int target = 9;\n    Solution solution = new Solution(); \n    int[] sum = solution.twoSum(nums, target);\n    if (sum != null) {\n        System.out.println(sum[0] + &quot; &quot; + sum[1]);\n    } else {\n        System.out.println(&quot;No two sum solution&quot;);\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>nums ={8,5,8,8,5,1 };\nTarget = 9;</p>\n"}],"owner":{"account_id":20871923,"reputation":31,"user_id":15331656,"display_name":"jpenn2472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694429080,"creation_date":1614881088,"question_id":66480625,"body_markdown":"I am just trying to look through an array and find the elements that sum up to the target number. I&#39;ve gotten this far into the program: \r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        int[] numbers = {3, 6, 2, 9};\r\n        int targNum = 5;\r\n\r\n        twoSum(numbers, targNum);\r\n    }\r\n\r\n    public static void twoSum(int[] nums, int target) {\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int sum = 0;\r\n\r\n            if (nums[i] &lt;= target) {\r\n                int[] sumNums = {target - nums[i]};\r\n\r\n                for (int j = 0; j &lt; sumNums.length; j++) {\r\n                    sum += sumNums[j];\r\n                    System.out.println(sum);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI keep getting console output of:\r\n \r\n```\r\n2\r\n3\r\n```\r\nI ran a simple array sum in another file and it seemed to work perfectly.\r\n","title":"How to sum the elements of the array up to the target number?","body":"<p>I am just trying to look through an array and find the elements that sum up to the target number. I've gotten this far into the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) throws Exception {\n        int[] numbers = {3, 6, 2, 9};\n        int targNum = 5;\n\n        twoSum(numbers, targNum);\n    }\n\n    public static void twoSum(int[] nums, int target) {\n        for (int i = 0; i &lt; nums.length; i++) {\n            int sum = 0;\n\n            if (nums[i] &lt;= target) {\n                int[] sumNums = {target - nums[i]};\n\n                for (int j = 0; j &lt; sumNums.length; j++) {\n                    sum += sumNums[j];\n                    System.out.println(sum);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I keep getting console output of:</p>\n<pre><code>2\n3\n</code></pre>\n<p>I ran a simple array sum in another file and it seemed to work perfectly.</p>\n"},{"tags":["java","scrollbar","overflow","jeditorpane"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1694432836,"post_id":77080917,"comment_id":135885876,"body_markdown":"You want the html to be rendered in a component as a web browser would do it?","body":"You want the html to be rendered in a component as a web browser would do it?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1694438250,"post_id":77080917,"comment_id":135886953,"body_markdown":"Only for the nested element &quot;overflow&quot;, i.e like if the JEditorPane had a nested `JScrollPane`. I&#39;m not looking for a full support of web browser.","body":"Only for the nested element &quot;overflow&quot;, i.e like if the JEditorPane had a nested <code>JScrollPane</code>. I&#39;m not looking for a full support of web browser."}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694428698,"creation_date":1694428698,"question_id":77080917,"body_markdown":"I&#39;m wondering if it&#39;s possible to have a `JEditorPane` that is able to display / render (i.e. not editable) HTML content that has a nested `div` of fixed size or width, and that contains bigger inner content. \r\n\r\nIn particular I&#39;m interested in wider content, that the the JEditorPane has width. \r\nI.e. I would like this nested `div` to _overflow_ on the X axis and as such show an horizontal scrollbar on this `div` only. The rest of the sibling content nodes of that div can be word wrapped.\r\n\r\n[![example][1]][1]\r\n\r\nFrom the HTML point of view the `div`, container should have the style `overflow-x: auto;`. In the above example the content is text, but really I&#39;m looking at anything that is wider, e.g. a table, an image, etc.\r\n\r\nGiven Swing supports only HTML 3.2, I don&#39;t think this might be quite possible. But I may be wrong as I don&#39;t quite get yet if `ViewFactory` / `View` could be helpful there to somewhat install a `JScrollPane`.\r\n\r\nJust in case, I don&#39;t want to put the whole `JEditorPane` in a `JScrollPane`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gil4e.png","title":"JEditorPane with nested div overflowing with a scrollbar","body":"<p>I'm wondering if it's possible to have a <code>JEditorPane</code> that is able to display / render (i.e. not editable) HTML content that has a nested <code>div</code> of fixed size or width, and that contains bigger inner content.</p>\n<p>In particular I'm interested in wider content, that the the JEditorPane has width.\nI.e. I would like this nested <code>div</code> to <em>overflow</em> on the X axis and as such show an horizontal scrollbar on this <code>div</code> only. The rest of the sibling content nodes of that div can be word wrapped.</p>\n<p><a href=\"https://i.stack.imgur.com/gil4e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gil4e.png\" alt=\"example\" /></a></p>\n<p>From the HTML point of view the <code>div</code>, container should have the style <code>overflow-x: auto;</code>. In the above example the content is text, but really I'm looking at anything that is wider, e.g. a table, an image, etc.</p>\n<p>Given Swing supports only HTML 3.2, I don't think this might be quite possible. But I may be wrong as I don't quite get yet if <code>ViewFactory</code> / <code>View</code> could be helpful there to somewhat install a <code>JScrollPane</code>.</p>\n<p>Just in case, I don't want to put the whole <code>JEditorPane</code> in a <code>JScrollPane</code>.</p>\n"},{"tags":["java","android","kotlin","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694332832,"creation_date":1694332832,"answer_id":77075237,"question_id":77075037,"body_markdown":"These two constructors create empty `ArrayAdapter` instances.\r\n\r\n`ArrayAdapter` has methods `add()` and `addAll()` that allow you to add elements to such an empty `ArrayAdapter`.","title":"When are constructors one and two used in the ArrayAdapter?","body":"<p>These two constructors create empty <code>ArrayAdapter</code> instances.</p>\n<p><code>ArrayAdapter</code> has methods <code>add()</code> and <code>addAll()</code> that allow you to add elements to such an empty <code>ArrayAdapter</code>.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694428274,"creation_date":1694333697,"answer_id":77075287,"question_id":77075037,"body_markdown":"Those two constructors:\r\n\r\n    public ArrayAdapter (Context context, \r\n                    int resource)\r\n    \r\n    \r\n    public ArrayAdapter (Context context, \r\n                    int resource, \r\n                    int textViewResourceId)\r\n\r\n\r\nare used when you want to create an ArrayAdapter but you don&#39;t have the data at the moment of its creation. You can add data later on using methods like add(), insert(), etc. They actually internally call other constructors with empty collection as parameter:\r\n\r\n    public ArrayAdapter(@NonNull Context context, @LayoutRes int resource) {\r\n        this(context, resource, 0, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public ArrayAdapter(@NonNull Context context, @LayoutRes int resource,\r\n            @IdRes int textViewResourceId) {\r\n        this(context, resource, textViewResourceId, new ArrayList&lt;&gt;());\r\n    }\r\n\r\nAs for example, you might want to create an ArrayAdapter for a ListView in your activity&#39;s onCreate() method, but the data to populate the ListView is fetched later from a network request. In this case, you can use the first or second constructor to create the ArrayAdapter and then add data to it once your network request is complete.\r\n\r\nSome useful links:\r\n\r\nhttps://developer.android.com/develop/ui/views/layout/declaring-layout#AdapterViews\r\n\r\nhttps://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/widget/ArrayAdapter.javae\r\n\r\n[edit]\r\nIf the first constructor is used, then text view resource will be 0, from the source code (link above) you can learn that in this case the whole resource is considered a TextView:\r\n\r\n        if (mFieldId == 0) {\r\n                //  If no custom field is assigned, assume the whole resource is a TextView\r\n                text = (TextView) view;\r\n            } else {","title":"When are constructors one and two used in the ArrayAdapter?","body":"<p>Those two constructors:</p>\n<pre><code>public ArrayAdapter (Context context, \n                int resource)\n\n\npublic ArrayAdapter (Context context, \n                int resource, \n                int textViewResourceId)\n</code></pre>\n<p>are used when you want to create an ArrayAdapter but you don't have the data at the moment of its creation. You can add data later on using methods like add(), insert(), etc. They actually internally call other constructors with empty collection as parameter:</p>\n<pre><code>public ArrayAdapter(@NonNull Context context, @LayoutRes int resource) {\n    this(context, resource, 0, new ArrayList&lt;&gt;());\n}\n\npublic ArrayAdapter(@NonNull Context context, @LayoutRes int resource,\n        @IdRes int textViewResourceId) {\n    this(context, resource, textViewResourceId, new ArrayList&lt;&gt;());\n}\n</code></pre>\n<p>As for example, you might want to create an ArrayAdapter for a ListView in your activity's onCreate() method, but the data to populate the ListView is fetched later from a network request. In this case, you can use the first or second constructor to create the ArrayAdapter and then add data to it once your network request is complete.</p>\n<p>Some useful links:</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/declaring-layout#AdapterViews\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/declaring-layout#AdapterViews</a></p>\n<p><a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/widget/ArrayAdapter.javae\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/widget/ArrayAdapter.javae</a></p>\n<p>[edit]\nIf the first constructor is used, then text view resource will be 0, from the source code (link above) you can learn that in this case the whole resource is considered a TextView:</p>\n<pre><code>    if (mFieldId == 0) {\n            //  If no custom field is assigned, assume the whole resource is a TextView\n            text = (TextView) view;\n        } else {\n</code></pre>\n"}],"owner":{"account_id":11222832,"reputation":881,"user_id":8233443,"display_name":"amin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77075287,"answer_count":2,"score":0,"last_activity_date":1694428274,"creation_date":1694327783,"question_id":77075037,"body_markdown":"ArrayAapter Class have some constructors:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CcBc3.png\r\n\r\nWhen are constructors one and two used? Because we don&#39;t have data structure like input array or list at all in these constructors. If possible, explain with an example. Thank you","title":"When are constructors one and two used in the ArrayAdapter?","body":"<p>ArrayAapter Class have some constructors:\n<a href=\"https://i.stack.imgur.com/CcBc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CcBc3.png\" alt=\"enter image description here\" /></a></p>\n<p>When are constructors one and two used? Because we don't have data structure like input array or list at all in these constructors. If possible, explain with an example. Thank you</p>\n"},{"tags":["java","mysql","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":2,"creation_date":1694426448,"post_id":77080649,"comment_id":135884846,"body_markdown":"can you share the maven `pom.xml` file or gradle build file","body":"can you share the maven <code>pom.xml</code> file or gradle build file"},{"owner":{"account_id":16857411,"reputation":93,"user_id":12189042,"display_name":"Morty"},"score":0,"creation_date":1694426831,"post_id":77080649,"comment_id":135884909,"body_markdown":"What Build System are u using? Maven or Gradle?","body":"What Build System are u using? Maven or Gradle?"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694427572,"post_id":77080649,"comment_id":135885022,"body_markdown":"I am using Maven @Morty","body":"I am using Maven @Morty"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694427596,"post_id":77080649,"comment_id":135885026,"body_markdown":"@AndreiLisa I have updated it in the description","body":"@AndreiLisa I have updated it in the description"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1694428257,"post_id":77080649,"comment_id":135885104,"body_markdown":"Why you dont use a starter to do connection with database instead of do it manually? I mean something like `spring-boot-data-jpa` or `spring-boot-jdbc`  it is more easy and increase development experience, great technologies for great peoples","body":"Why you dont use a starter to do connection with database instead of do it manually? I mean something like <code>spring-boot-data-jpa</code> or <code>spring-boot-jdbc</code>  it is more easy and increase development experience, great technologies for great peoples"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694428829,"post_id":77080649,"comment_id":135885200,"body_markdown":"@AndreiLisa I just started at a new company, and they&#39;re using these database connection technologies manually in a big project. It&#39;s working on other developers&#39; end, but not on mine. I&#39;ve been asked to fix this using the same implementation, and it&#39;s been one day with no progress.","body":"@AndreiLisa I just started at a new company, and they&#39;re using these database connection technologies manually in a big project. It&#39;s working on other developers&#39; end, but not on mine. I&#39;ve been asked to fix this using the same implementation, and it&#39;s been one day with no progress."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694429447,"post_id":77080649,"comment_id":135885290,"body_markdown":"ok, sure i am going to check and i will give a answer","body":"ok, sure i am going to check and i will give a answer"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694429658,"post_id":77080649,"comment_id":135885318,"body_markdown":"How are you running the program?","body":"How are you running the program?"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694429771,"post_id":77080649,"comment_id":135885340,"body_markdown":"@tgdavies I&#39;m using intellij idea","body":"@tgdavies I&#39;m using intellij idea"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694442326,"post_id":77080649,"comment_id":135887886,"body_markdown":"Can we have the full error, please.","body":"Can we have the full error, please."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694446600,"post_id":77080649,"comment_id":135888773,"body_markdown":"By the way, your linked Maven repo page note that the artifact has moved to: https://mvnrepository.com/artifact/com.mysql/mysql-connector-j","body":"By the way, your linked Maven repo page note that the artifact has moved to: <a href=\"https://mvnrepository.com/artifact/com.mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.mysql/mysql-connector-j</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694446743,"post_id":77080649,"comment_id":135888804,"body_markdown":"By the way, [the documentation](https://dev.mysql.com/doc/connector-j/8.1/en/) for Connector/J strongly recommends moving from version 8.0.x to 8.1.x for use with MySQL Server version 5.7, 8.0, and 8.1.","body":"By the way, <a href=\"https://dev.mysql.com/doc/connector-j/8.1/en/\" rel=\"nofollow noreferrer\">the documentation</a> for Connector/J strongly recommends moving from version 8.0.x to 8.1.x for use with MySQL Server version 5.7, 8.0, and 8.1."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1694448197,"post_id":77080649,"comment_id":135889092,"body_markdown":"I am sure that you don&#39;t have my sql driver on classpath, answers from this question can help you [-error-package-com-mysql-does-not-exist](https://stackoverflow.com/questions/6641076/how-to-fix-the-error-package-com-mysql-does-not-exist)","body":"I am sure that you don&#39;t have my sql driver on classpath, answers from this question can help you <a href=\"https://stackoverflow.com/questions/6641076/how-to-fix-the-error-package-com-mysql-does-not-exist\">-error-package-com-mysql-does-not-exist</a>"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694579828,"post_id":77080649,"comment_id":135908176,"body_markdown":"@AndreiLisa can you please share a link or resource where class path is being set ? I tried doing it but didn&#39;t find any help","body":"@AndreiLisa can you please share a link or resource where class path is being set ? I tried doing it but didn&#39;t find any help"}],"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694427528,"creation_date":1694426386,"question_id":77080649,"body_markdown":"I&#39;m very new to development, and I&#39;m attempting to run an old project on my local machine. However, when I try to run it, I encounter the error message: &quot;java: package com.mysql.cj.jdbc does not exist.&quot; I have configured Java 1.8 in the Project Structure settings, as well as in the Edit Configuration, since it was the version used by the previous developer. Any guidance or assistance on this issue would be greatly appreciated.\r\n\r\n    package com.kv.pg.instanceManager;\r\n\r\n    import java.sql.Connection;\r\n    import java.util.Properties;\r\n\r\n    import javax.naming.Context;\r\n    import javax.naming.InitialContext;\r\n    import javax.sql.DataSource;\r\n\r\n    import org.apache.commons.dbutils.DbUtils;\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.context.annotation.Bean;\r\n\r\n    import com.kv.pg.commons.helper.PropertiesLoader;\r\n    import com.mysql.cj.jdbc.MysqlConnectionPoolDataSource;\r\n\r\n    public class DBManager{\r\n\r\n\tprivate static volatile DBManager INSTANCE = null;\r\n\r\n\tprivate static Logger logger = Logger.getLogger(DBManager.class);\r\n\r\n\tprivate DBManager()\r\n\t{\r\n\t\tsetUpDataSourceInContext();\r\n\t}\r\n\r\n\tpublic static DBManager getInstance()\r\n\t{\r\n\t\tif (INSTANCE == null)\r\n\t\t{\r\n\t\t\tsynchronized (DBManager.class)\r\n\t\t\t{\r\n\t\t\t\tif (INSTANCE == null)\r\n\t\t\t\t{\r\n\t\t\t\t\tINSTANCE = new DBManager();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn INSTANCE;\r\n\t}\r\n\r\n\tpublic DataSource getDataSource()\r\n\t{\r\n\t\tDataSource dataSource = null;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tInitialContext iniCtx = new InitialContext();\r\n\t\t\tContext envCtx = (Context) iniCtx.lookup(&quot;java:comp/env/&quot;);\r\n\t\t\tObject obj = envCtx.lookup(&quot;jdbc/PGIMDB&quot;);\r\n\t\t\tif (obj != null)\r\n\t\t\t{\r\n\t\t\t\tdataSource = (DataSource) obj;\r\n\t\t\t}\r\n\t\t\tif (dataSource == null)\r\n\t\t\t{\r\n\t\t\t\tthrow new Exception(&quot;Unable to find data source, please check database configurations.&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Getting Data Source&quot; + exp.getMessage(), exp);\r\n\t\t\tdataSource = null;\r\n\t\t}\r\n\t\treturn dataSource;\r\n\t}\r\n\r\n\tpublic Connection getConnection()\r\n\t{\r\n\t\tConnection conn = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tDataSource dataSource = getDataSource();\r\n\t\t\tif (dataSource != null)\r\n\t\t\t{\r\n\t\t\t\tconn = dataSource.getConnection();\r\n\t\t\t}\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Getting Connection&quot; + exp.getMessage(), exp);\r\n\t\t\t// throw exp;\r\n\t\t\tconn = null;\r\n\t\t}\r\n\t\treturn conn;\r\n\t}\r\n\r\n\t/*\r\n\t * public void close() { // DbUtils.closeQuietly(conn, stmt, rs); }\r\n\t */\r\n\r\n\t@Bean\r\n\tprivate DataSource getMySQLDataSource()\r\n\t{\r\n\t\tProperties props = null;\r\n\r\n\t\tMysqlConnectionPoolDataSource ds = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tlogger.info(&quot;DataSourceFactory Try loading Database Properties&quot;);\r\n\r\n\t\t\tprops = PropertiesLoader.load(&quot;im.db.properties&quot;);\r\n\r\n\t\t\tlogger.debug(&quot;Properties Loaded::&quot; + props);\r\n\t\t\tds = new MysqlConnectionPoolDataSource();\r\n\t\t\tds.setURL(props.getProperty(&quot;MYSQL_DB_URL&quot;));\r\n\t\t\tds.setUser(props.getProperty(&quot;MYSQL_DB_USERNAME&quot;));\r\n\t\t\tds.setPassword(props.getProperty(&quot;MYSQL_DB_PASSWORD&quot;));\r\n\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Creating DataSource&quot; + exp.getMessage(), exp);\r\n\t\t\tthrow exp;\r\n\t\t}\r\n\t\treturn ds;\r\n\t}\r\n\r\n\tprivate void setUpDataSourceInContext()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.naming.java.javaURLContextFactory&quot;);\r\n\t\t\tSystem.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\r\n\t\t\tInitialContext ic = new InitialContext();\r\n\t\t\tic.createSubcontext(&quot;java:&quot;);\r\n\t\t\tic.createSubcontext(&quot;java:comp&quot;);\r\n\t\t\tic.createSubcontext(&quot;java:comp/env&quot;);\r\n\t\t\tic.createSubcontext(&quot;java:comp/env/jdbc&quot;);\r\n\r\n\t\t\tic.bind(&quot;java:comp/env/jdbc/PGIMDB&quot;, this.getMySQLDataSource());\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Binding DataSource To context&quot; + exp.getMessage(), exp);\r\n\t\t\t// throw exp;\r\n\t\t}\r\n\t}\r\n\r\nPom.xml:\r\n\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"java: package com.mysql.cj.jdbc does not exist Spring Boot Java","body":"<p>I'm very new to development, and I'm attempting to run an old project on my local machine. However, when I try to run it, I encounter the error message: &quot;java: package com.mysql.cj.jdbc does not exist.&quot; I have configured Java 1.8 in the Project Structure settings, as well as in the Edit Configuration, since it was the version used by the previous developer. Any guidance or assistance on this issue would be greatly appreciated.</p>\n<pre><code>package com.kv.pg.instanceManager;\n\nimport java.sql.Connection;\nimport java.util.Properties;\n\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.sql.DataSource;\n\nimport org.apache.commons.dbutils.DbUtils;\nimport org.apache.log4j.Logger;\nimport org.springframework.context.annotation.Bean;\n\nimport com.kv.pg.commons.helper.PropertiesLoader;\nimport com.mysql.cj.jdbc.MysqlConnectionPoolDataSource;\n\npublic class DBManager{\n\nprivate static volatile DBManager INSTANCE = null;\n\nprivate static Logger logger = Logger.getLogger(DBManager.class);\n\nprivate DBManager()\n{\n    setUpDataSourceInContext();\n}\n\npublic static DBManager getInstance()\n{\n    if (INSTANCE == null)\n    {\n        synchronized (DBManager.class)\n        {\n            if (INSTANCE == null)\n            {\n                INSTANCE = new DBManager();\n            }\n        }\n    }\n    return INSTANCE;\n}\n\npublic DataSource getDataSource()\n{\n    DataSource dataSource = null;\n\n    try\n    {\n        InitialContext iniCtx = new InitialContext();\n        Context envCtx = (Context) iniCtx.lookup(&quot;java:comp/env/&quot;);\n        Object obj = envCtx.lookup(&quot;jdbc/PGIMDB&quot;);\n        if (obj != null)\n        {\n            dataSource = (DataSource) obj;\n        }\n        if (dataSource == null)\n        {\n            throw new Exception(&quot;Unable to find data source, please check database configurations.&quot;);\n        }\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Getting Data Source&quot; + exp.getMessage(), exp);\n        dataSource = null;\n    }\n    return dataSource;\n}\n\npublic Connection getConnection()\n{\n    Connection conn = null;\n    try\n    {\n        DataSource dataSource = getDataSource();\n        if (dataSource != null)\n        {\n            conn = dataSource.getConnection();\n        }\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Getting Connection&quot; + exp.getMessage(), exp);\n        // throw exp;\n        conn = null;\n    }\n    return conn;\n}\n\n/*\n * public void close() { // DbUtils.closeQuietly(conn, stmt, rs); }\n */\n\n@Bean\nprivate DataSource getMySQLDataSource()\n{\n    Properties props = null;\n\n    MysqlConnectionPoolDataSource ds = null;\n    try\n    {\n        logger.info(&quot;DataSourceFactory Try loading Database Properties&quot;);\n\n        props = PropertiesLoader.load(&quot;im.db.properties&quot;);\n\n        logger.debug(&quot;Properties Loaded::&quot; + props);\n        ds = new MysqlConnectionPoolDataSource();\n        ds.setURL(props.getProperty(&quot;MYSQL_DB_URL&quot;));\n        ds.setUser(props.getProperty(&quot;MYSQL_DB_USERNAME&quot;));\n        ds.setPassword(props.getProperty(&quot;MYSQL_DB_PASSWORD&quot;));\n\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Creating DataSource&quot; + exp.getMessage(), exp);\n        throw exp;\n    }\n    return ds;\n}\n\nprivate void setUpDataSourceInContext()\n{\n    try\n    {\n        System.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.naming.java.javaURLContextFactory&quot;);\n        System.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\n        InitialContext ic = new InitialContext();\n        ic.createSubcontext(&quot;java:&quot;);\n        ic.createSubcontext(&quot;java:comp&quot;);\n        ic.createSubcontext(&quot;java:comp/env&quot;);\n        ic.createSubcontext(&quot;java:comp/env/jdbc&quot;);\n\n        ic.bind(&quot;java:comp/env/jdbc/PGIMDB&quot;, this.getMySQLDataSource());\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Binding DataSource To context&quot; + exp.getMessage(), exp);\n        // throw exp;\n    }\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arrays","inheritance","compiler-errors","abstract-class"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1694424011,"post_id":77080344,"comment_id":135884352,"body_markdown":"Those methods only exists in the inheriting classes. You need to cast to your implementations or make a abstract method in th super class","body":"Those methods only exists in the inheriting classes. You need to cast to your implementations or make a abstract method in th super class"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694424203,"post_id":77080344,"comment_id":135884390,"body_markdown":"You define your array as `Animal[]`, so for the compiler it only contains elements of type Animal. `bark`, `roar`, or `meow` methods are not defined by `Animal` (only in its child classes)","body":"You define your array as <code>Animal[]</code>, so for the compiler it only contains elements of type Animal. <code>bark</code>, <code>roar</code>, or <code>meow</code> methods are not defined by <code>Animal</code> (only in its child classes)"},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1694424577,"post_id":77080344,"comment_id":135884468,"body_markdown":"In particular, how would you *expect* this to work? Would you expect `a[2].roar()` to compile, but `a[1].roar()` to cause a compilation failure? It&#39;s unrealistic to expect the compiler to &quot;know&quot;  more type information about what&#39;s in individual array elements than the array declaration provides.","body":"In particular, how would you <i>expect</i> this to work? Would you expect <code>a[2].roar()</code> to compile, but <code>a[1].roar()</code> to cause a compilation failure? It&#39;s unrealistic to expect the compiler to &quot;know&quot;  more type information about what&#39;s in individual array elements than the array declaration provides."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1694424622,"post_id":77080344,"comment_id":135884482,"body_markdown":"Not that you need an array to demonstrate this: `Animal lion = new Lion(); lion.roar();` will show exactly the same error.","body":"Not that you need an array to demonstrate this: <code>Animal lion = new Lion(); lion.roar();</code> will show exactly the same error."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694425962,"creation_date":1694424345,"answer_id":77080402,"question_id":77080344,"body_markdown":"The elements of `a` are references to `Animal`. I.e., while they may hold objects of any subclass of `Animal`, in compile-time the compiler is not aware of the exact instance that may happen to be at a specific index, so you&#39;re only allowed to use methods that exist in the `Animal` class.\r\n\r\nIf you&#39;re sure you know what instance is at a specific index (e.g., because you placed it there), you can explicitly downcast it and use the methods of that instance, e.g.:\r\n\r\n```java\r\na[0] = new Dog();\r\n((Dog)(a[0])).bark();\r\n```\r\n\r\nHaving said that, a more idiomatic approach would be to move the declaration to a method in the abstract class:\r\n\r\n```java\r\nabstract class Animal{\r\n    String name, breed, color;\r\n    int age;\r\n\r\n    abstract void noise();\r\n}\r\n\r\nclass Dog extends Animal{\r\n    void bark(){\r\n        System.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void noise() {\r\n        bark();\r\n    }\r\n}\r\nclass Cat extends Animal{\r\n    void meow(){\r\n        System.out.println(&quot;Cat-\\nmeowww!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void noise() {\r\n        meow();\r\n    }\r\n}\r\nclass Lion extends Animal{\r\n    void roar(){\r\n        System.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void noise() {\r\n        roar();\r\n    }\r\n}\r\n\r\nclass AnimalMain{\r\n    public static void main(String args[]){\r\n        Animal arr[]= new Animal[3];\r\n        arr[0]=new Dog();\r\n        arr[1]=new Cat();\r\n        arr[2]=new Lion();\r\n\r\n        for (Animal a : arr) {\r\n            a.noise();\r\n        }\r\n    }\r\n}\r\n```","title":"Problem in instantiating an array of references to an abstract class","body":"<p>The elements of <code>a</code> are references to <code>Animal</code>. I.e., while they may hold objects of any subclass of <code>Animal</code>, in compile-time the compiler is not aware of the exact instance that may happen to be at a specific index, so you're only allowed to use methods that exist in the <code>Animal</code> class.</p>\n<p>If you're sure you know what instance is at a specific index (e.g., because you placed it there), you can explicitly downcast it and use the methods of that instance, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a[0] = new Dog();\n((Dog)(a[0])).bark();\n</code></pre>\n<p>Having said that, a more idiomatic approach would be to move the declaration to a method in the abstract class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Animal{\n    String name, breed, color;\n    int age;\n\n    abstract void noise();\n}\n\nclass Dog extends Animal{\n    void bark(){\n        System.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\n    }\n\n    @Override\n    public void noise() {\n        bark();\n    }\n}\nclass Cat extends Animal{\n    void meow(){\n        System.out.println(&quot;Cat-\\nmeowww!&quot;);\n    }\n\n    @Override\n    public void noise() {\n        meow();\n    }\n}\nclass Lion extends Animal{\n    void roar(){\n        System.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\n    }\n\n    @Override\n    public void noise() {\n        roar();\n    }\n}\n\nclass AnimalMain{\n    public static void main(String args[]){\n        Animal arr[]= new Animal[3];\n        arr[0]=new Dog();\n        arr[1]=new Cat();\n        arr[2]=new Lion();\n\n        for (Animal a : arr) {\n            a.noise();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694427237,"creation_date":1694427237,"answer_id":77080749,"question_id":77080344,"body_markdown":"The reason for your error is that the methods bark(), meow(), and roar() are not defined in the parent class Animal, but you are trying to call them on an array of Animal objects. \r\n\r\nError message gives you a hint about it:\r\n\r\n    source_file.java:97: error: cannot find symbol\r\n    \r\n        a[0].bark();\r\n    \r\n            ^\r\n    \r\n      symbol:   method bark()\r\n    \r\n      location: class Animal\r\n\r\n\r\nYou can read it as follows: You try to call method `bark()` on a reference `a[0]`, the not found symbol (method) is `bark()` and the location (type of reference) is `class Animal`. You should look into class `Animal` to check for not found symbol `bark()`. In your code You will not find it there.\r\n\r\nYou can only call methods that are part of the objects declared type, not its actual type. To solve this, you can either define these methods in the parent class (as abstract methods if you don&#39;t want to provide a default implementation), or you can use downcasting to call these methods. Downcasting is when you cast an object of a superclass to a subclass, this allow you to call subclass specific methods.\r\n\r\nHere is an example of how you can use downcasting:\r\n\r\n    ((Dog) a[0]).bark();\r\n    ((Cat) a[1]).meow();\r\n    ((Lion) a[2]).roar();\r\n\r\n","title":"Problem in instantiating an array of references to an abstract class","body":"<p>The reason for your error is that the methods bark(), meow(), and roar() are not defined in the parent class Animal, but you are trying to call them on an array of Animal objects.</p>\n<p>Error message gives you a hint about it:</p>\n<pre><code>source_file.java:97: error: cannot find symbol\n\n    a[0].bark();\n\n        ^\n\n  symbol:   method bark()\n\n  location: class Animal\n</code></pre>\n<p>You can read it as follows: You try to call method <code>bark()</code> on a reference <code>a[0]</code>, the not found symbol (method) is <code>bark()</code> and the location (type of reference) is <code>class Animal</code>. You should look into class <code>Animal</code> to check for not found symbol <code>bark()</code>. In your code You will not find it there.</p>\n<p>You can only call methods that are part of the objects declared type, not its actual type. To solve this, you can either define these methods in the parent class (as abstract methods if you don't want to provide a default implementation), or you can use downcasting to call these methods. Downcasting is when you cast an object of a superclass to a subclass, this allow you to call subclass specific methods.</p>\n<p>Here is an example of how you can use downcasting:</p>\n<pre><code>((Dog) a[0]).bark();\n((Cat) a[1]).meow();\n((Lion) a[2]).roar();\n</code></pre>\n"}],"owner":{"account_id":29413107,"reputation":11,"user_id":22536533,"display_name":"Vithyaathar Bose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1694427237,"creation_date":1694423798,"question_id":77080344,"body_markdown":"I have a program with an `abstract` parent class `Animal`, and three subclasses extended from it.\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nabstract class Animal{\r\n\tString name, breed, color;\r\n\tint age;\r\n}\r\n\r\nclass Dog extends Animal{\r\n\tvoid bark(){\r\n\t\tSystem.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\r\n\t}\r\n}\r\nclass Cat extends Animal{\r\n\tvoid meow(){\r\n\t\tSystem.out.println(&quot;Cat-\\nmeowww!&quot;);\r\n\t}\r\n}\r\nclass Lion extends Animal{\r\n\tvoid roar(){\r\n\t\tSystem.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\r\n\t}\r\n}\r\n\r\nclass AnimalMain{\r\n\tpublic static void main(String args[]){\r\n\t\tAnimal a[]= new Animal[3];\r\n\t\ta[0]=new Dog();\r\n\t\ta[1]=new Cat();\r\n\t\ta[2]=new Lion();\r\n\t\ta[0].bark();\r\n\t\ta[1].meow();\r\n\t\ta[2].roar();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nHowever, I get an error saying the methods `bark()`, `meow()` and `roar()` are not found. i.e:\r\n\r\n```\r\nsource_file.java:97: error: cannot find symbol\r\n\r\n    a[0].bark();\r\n\r\n        ^\r\n\r\n  symbol:   method bark()\r\n\r\n  location: class Animal\r\n\r\nsource_file.java:98: error: cannot find symbol\r\n\r\n    a[1].meow();\r\n\r\n        ^\r\n\r\n  symbol:   method meow()\r\n\r\n  location: class Animal\r\n\r\nsource_file.java:99: error: cannot find symbol\r\n\r\n    a[2].roar();\r\n\r\n        ^\r\n\r\n  symbol:   method roar()\r\n\r\n  location: class Animal\r\n\r\n3 errors\r\n```\r\n\r\nIt seems the objects are still of type `Animal` somehow. How is this possible and how to solve it?","title":"Problem in instantiating an array of references to an abstract class","body":"<p>I have a program with an <code>abstract</code> parent class <code>Animal</code>, and three subclasses extended from it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nabstract class Animal{\n    String name, breed, color;\n    int age;\n}\n\nclass Dog extends Animal{\n    void bark(){\n        System.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\n    }\n}\nclass Cat extends Animal{\n    void meow(){\n        System.out.println(&quot;Cat-\\nmeowww!&quot;);\n    }\n}\nclass Lion extends Animal{\n    void roar(){\n        System.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\n    }\n}\n\nclass AnimalMain{\n    public static void main(String args[]){\n        Animal a[]= new Animal[3];\n        a[0]=new Dog();\n        a[1]=new Cat();\n        a[2]=new Lion();\n        a[0].bark();\n        a[1].meow();\n        a[2].roar();\n    }\n}\n</code></pre>\n<p>However, I get an error saying the methods <code>bark()</code>, <code>meow()</code> and <code>roar()</code> are not found. i.e:</p>\n<pre><code>source_file.java:97: error: cannot find symbol\n\n    a[0].bark();\n\n        ^\n\n  symbol:   method bark()\n\n  location: class Animal\n\nsource_file.java:98: error: cannot find symbol\n\n    a[1].meow();\n\n        ^\n\n  symbol:   method meow()\n\n  location: class Animal\n\nsource_file.java:99: error: cannot find symbol\n\n    a[2].roar();\n\n        ^\n\n  symbol:   method roar()\n\n  location: class Animal\n\n3 errors\n</code></pre>\n<p>It seems the objects are still of type <code>Animal</code> somehow. How is this possible and how to solve it?</p>\n"},{"tags":["java"],"owner":{"account_id":29413568,"reputation":1,"user_id":22536920,"display_name":"Muhammad Irfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694431087,"answer_count":0,"score":0,"last_activity_date":1694426981,"creation_date":1694426981,"question_id":77080712,"body_markdown":"Issue coming in Java selenium environment in eclipse, otherwise simple java program is running fine in eclipse but when I config Selenium Java Environment in eclipse shows me this error. How we can resolve?\r\n\r\n[enter image description here](https://i.stack.imgur.com/PW9ZF.png)\r\n\r\nI am trying to resolve this issue for past 3-4 days.\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError&quot; Selenium Java","body":"<p>Issue coming in Java selenium environment in eclipse, otherwise simple java program is running fine in eclipse but when I config Selenium Java Environment in eclipse shows me this error. How we can resolve?</p>\n<p><a href=\"https://i.stack.imgur.com/PW9ZF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am trying to resolve this issue for past 3-4 days.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1694424594,"post_id":77080391,"comment_id":135884472,"body_markdown":"https://thorben-janssen.com/self-referencing-associations/","body":"<a href=\"https://thorben-janssen.com/self-referencing-associations/\" rel=\"nofollow noreferrer\">thorben-janssen.com/self-referencing-associations</a>"}],"answers":[{"tags":[],"owner":{"account_id":29322938,"reputation":1,"user_id":22466107,"display_name":"Nguyễn Quốc Thịnh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694426488,"creation_date":1694426488,"answer_id":77080662,"question_id":77080391,"body_markdown":"DTO can help you handle this problem. \r\n\r\nI think you need change your response in your controller from `User` to `UserDTO`.\r\n\r\n```\r\npublic class UserDTO {\r\n  int id;\r\n  String name;\r\n  int createBy;\r\n//getter/setter\r\n}\r\n```\r\n\r\nand mapper to convert `User` to `UserDTO`\r\n\r\n```java\r\n@Service\r\npublic class UserMapper implements Function&lt;User, UserDto&gt; {\r\n\r\n\r\n    @Override\r\n    public UserDto apply(User user) {\r\n        return new UserDto(\r\n                user.getId(),\r\n                user.name(),\r\n                user.getCreateBy().getId() \r\n        );\r\n    }\r\n}\r\n```\r\n    \r\nIf you need creator&#39;s info. You can get it by id again. \r\n\r\n\r\nA faster way add `@JsonIgnore` on `createBy`, this field will be not convert to JSON\r\n```\r\n@JsonIgnore\r\nprivate User createdBy;\r\n```\r\n\r\n\r\n","title":"Java Spring Boot Self Join Getting Leading to Cycle","body":"<p>DTO can help you handle this problem.</p>\n<p>I think you need change your response in your controller from <code>User</code> to <code>UserDTO</code>.</p>\n<pre><code>public class UserDTO {\n  int id;\n  String name;\n  int createBy;\n//getter/setter\n}\n</code></pre>\n<p>and mapper to convert <code>User</code> to <code>UserDTO</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserMapper implements Function&lt;User, UserDto&gt; {\n\n\n    @Override\n    public UserDto apply(User user) {\n        return new UserDto(\n                user.getId(),\n                user.name(),\n                user.getCreateBy().getId() \n        );\n    }\n}\n</code></pre>\n<p>If you need creator's info. You can get it by id again.</p>\n<p>A faster way add <code>@JsonIgnore</code> on <code>createBy</code>, this field will be not convert to JSON</p>\n<pre><code>@JsonIgnore\nprivate User createdBy;\n</code></pre>\n"}],"owner":{"account_id":14677676,"reputation":29,"user_id":10600222,"display_name":"Twigu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694426488,"creation_date":1694424234,"question_id":77080391,"body_markdown":"When i tried to self joining i got error &quot;Direct self-reference leading to cycle&quot; here is my entity code:\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;created_by&quot;, referencedColumnName = &quot;id&quot;, nullable = true)\r\n    private User createdBy;\r\n}\r\n```\r\n\r\nmaybe its because it create this response\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;John Doe&quot;,\r\n    &quot;createdBy&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;John Doe&quot;,\r\n        &quot;createdBy&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;John Doe&quot;,\r\n            &quot;createdBy&quot;: {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nhow to limit it to maybe only 2 cycle and create response something like this?\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;John Doe&quot;,\r\n    &quot;createdBy&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;John Doe&quot;,\r\n        &quot;createdBy&quot;: 1\r\n    }\r\n}\r\n```","title":"Java Spring Boot Self Join Getting Leading to Cycle","body":"<p>When i tried to self joining i got error &quot;Direct self-reference leading to cycle&quot; here is my entity code:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;created_by&quot;, referencedColumnName = &quot;id&quot;, nullable = true)\n    private User createdBy;\n}\n</code></pre>\n<p>maybe its because it create this response</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;John Doe&quot;,\n    &quot;createdBy&quot;: {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;John Doe&quot;,\n        &quot;createdBy&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;John Doe&quot;,\n            &quot;createdBy&quot;: {\n                ...\n            }\n        }\n    }\n}\n</code></pre>\n<p>how to limit it to maybe only 2 cycle and create response something like this?</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;John Doe&quot;,\n    &quot;createdBy&quot;: {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;John Doe&quot;,\n        &quot;createdBy&quot;: 1\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-s3","spring-boot-maven-plugin","aws-s3-client"],"owner":{"account_id":29386935,"reputation":11,"user_id":22516189,"display_name":"Anurag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694425792,"creation_date":1694425792,"question_id":77080573,"body_markdown":"I am trying to create an application in Intellij using Spring Boot, AWS, Angular. I created an API for uploading video to AWS S3 but facing below errors. \r\nGetting below errors: \r\n\r\n```\r\nC:\\Users\\anuragj\\.jdks\\openjdk-20.0.1\\bin\\java.exe -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:4137,suspend=y,server=n -javaagent:C:\\Users\\anuragj\\AppData\\Local\\JetBrains\\IdeaIC2023.1\\captureAgent\\debugger-agent.jar=file:/C:/Users/anuragj/AppData/Local/Temp/capture1.props -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\anuragj\\AppData\\Local\\Temp\\classpath1805729470.jar com.exprojects.youtubeclone.YoutubeCloneApplication\r\nConnected to the target VM, address: &#39;127.0.0.1:4137&#39;, transport: &#39;socket&#39;\r\n15:17:00.228 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.IllegalArgumentException: Unable to instantiate io.awspring.cloud.autoconfigure.config.parameterstore.ParameterStoreConfigDataLocationResolver [org.springframework.boot.context.config.ConfigDataLocationResolver]\r\n\tat org.springframework.boot.util.Instantiator.lambda$static$0(Instantiator.java:53)\r\n\tat org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:153)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n\tat org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:141)\r\n\tat org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:126)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.&lt;init&gt;(ConfigDataLocationResolvers.java:80)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.&lt;init&gt;(ConfigDataLocationResolvers.java:56)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironment.createConfigDataLocationResolvers(ConfigDataEnvironment.java:158)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironment.&lt;init&gt;(ConfigDataEnvironment.java:148)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.getConfigDataEnvironment(ConfigDataEnvironmentPostProcessor.java:114)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:301)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.exprojects.youtubeclone.YoutubeCloneApplication.main(YoutubeCloneApplication.java:10)\r\nCaused by: java.lang.NoClassDefFoundError: software/amazon/awssdk/awscore/client/builder/AwsClientBuilder\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3473)\r\n\tat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2652)\r\n\tat org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:160)\r\n\tat org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:150)\r\n\t... 34 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: software.amazon.awssdk.awscore.client.builder.AwsClientBuilder\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 39 common frames omitted\r\nDisconnected from the target VM, address: &#39;127.0.0.1:4137&#39;, transport: &#39;socket&#39;\r\n```\r\n\r\n\r\n \r\n\r\nI tried all mvn commands - clean, install etc but did not work. Tried deleting &quot;.m2 repo&quot;, restarting IDE, changed dependencies.\r\n\r\nExpected: Application ran successfully\r\n\r\nPlease find below POM.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.ex-projects&lt;/groupId&gt;\r\n        &lt;artifactId&gt;youtube-clone&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-openfeign-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.505&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.505&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ex-projects&lt;/groupId&gt;\r\n            &lt;artifactId&gt;frontend&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Getting error: NoClassDefFoundError and ClassNotFoundException while debugging application for AWS S3","body":"<p>I am trying to create an application in Intellij using Spring Boot, AWS, Angular. I created an API for uploading video to AWS S3 but facing below errors.\nGetting below errors:</p>\n<pre><code>C:\\Users\\anuragj\\.jdks\\openjdk-20.0.1\\bin\\java.exe -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:4137,suspend=y,server=n -javaagent:C:\\Users\\anuragj\\AppData\\Local\\JetBrains\\IdeaIC2023.1\\captureAgent\\debugger-agent.jar=file:/C:/Users/anuragj/AppData/Local/Temp/capture1.props -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\anuragj\\AppData\\Local\\Temp\\classpath1805729470.jar com.exprojects.youtubeclone.YoutubeCloneApplication\nConnected to the target VM, address: '127.0.0.1:4137', transport: 'socket'\n15:17:00.228 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.IllegalArgumentException: Unable to instantiate io.awspring.cloud.autoconfigure.config.parameterstore.ParameterStoreConfigDataLocationResolver [org.springframework.boot.context.config.ConfigDataLocationResolver]\n    at org.springframework.boot.util.Instantiator.lambda$static$0(Instantiator.java:53)\n    at org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:153)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:141)\n    at org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:126)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.&lt;init&gt;(ConfigDataLocationResolvers.java:80)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.&lt;init&gt;(ConfigDataLocationResolvers.java:56)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.createConfigDataLocationResolvers(ConfigDataEnvironment.java:158)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.&lt;init&gt;(ConfigDataEnvironment.java:148)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.getConfigDataEnvironment(ConfigDataEnvironmentPostProcessor.java:114)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:301)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.exprojects.youtubeclone.YoutubeCloneApplication.main(YoutubeCloneApplication.java:10)\nCaused by: java.lang.NoClassDefFoundError: software/amazon/awssdk/awscore/client/builder/AwsClientBuilder\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3473)\n    at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2652)\n    at org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:160)\n    at org.springframework.boot.util.Instantiator.instantiate(Instantiator.java:150)\n    ... 34 common frames omitted\nCaused by: java.lang.ClassNotFoundException: software.amazon.awssdk.awscore.client.builder.AwsClientBuilder\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 39 common frames omitted\nDisconnected from the target VM, address: '127.0.0.1:4137', transport: 'socket'\n</code></pre>\n<p>I tried all mvn commands - clean, install etc but did not work. Tried deleting &quot;.m2 repo&quot;, restarting IDE, changed dependencies.</p>\n<p>Expected: Application ran successfully</p>\n<p>Please find below POM.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.ex-projects&lt;/groupId&gt;\n        &lt;artifactId&gt;youtube-clone&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-openfeign-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;3.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.505&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.505&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ex-projects&lt;/groupId&gt;\n            &lt;artifactId&gt;frontend&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","properties-file"],"answers":[{"tags":[],"owner":{"account_id":6469560,"reputation":486,"user_id":5010153,"accept_rate":43,"display_name":"AnnetteC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694425278,"creation_date":1694418520,"answer_id":77079781,"question_id":77057512,"body_markdown":"Finally, I got it to work with following lines of code:\r\n\r\n    ImmutableConfiguration subset = configuration.immutableSubset(&quot;foo&quot;);\r\n    assertNotNull(subset);\r\n    Iterator&lt;String&gt; keysIterator = subset.getKeys();\r\n    Map&lt;String, String&gt; propertyMap = stream(\r\n                Spliterators.spliteratorUnknownSize(keysIterator, Spliterator.ORDERED), false)\r\n            .collect(Collectors.toMap(Function.identity(), s -&gt; subset.getString(s)));\r\n    Map&lt;String, String&gt; map1 = Stream.of(new String[][] {\r\n                { &quot;k1&quot;, &quot;A&quot; },\r\n                { &quot;k2&quot;, &quot;B&quot; },\r\n        }).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\r\n    assertEquals(map1, propertyMap);","title":"ReloadableConfiguration getProperty returns null instead of map when reading from JSON property file","body":"<p>Finally, I got it to work with following lines of code:</p>\n<pre><code>ImmutableConfiguration subset = configuration.immutableSubset(&quot;foo&quot;);\nassertNotNull(subset);\nIterator&lt;String&gt; keysIterator = subset.getKeys();\nMap&lt;String, String&gt; propertyMap = stream(\n            Spliterators.spliteratorUnknownSize(keysIterator, Spliterator.ORDERED), false)\n        .collect(Collectors.toMap(Function.identity(), s -&gt; subset.getString(s)));\nMap&lt;String, String&gt; map1 = Stream.of(new String[][] {\n            { &quot;k1&quot;, &quot;A&quot; },\n            { &quot;k2&quot;, &quot;B&quot; },\n    }).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\nassertEquals(map1, propertyMap);\n</code></pre>\n"}],"owner":{"account_id":6469560,"reputation":486,"user_id":5010153,"accept_rate":43,"display_name":"AnnetteC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1694425278,"creation_date":1694072326,"question_id":77057512,"body_markdown":"I need to have a ReloadableConfiguration that handles JSON files to read properties from a property file. Everything I tried, works fine for String or List but does not work for Map. It just returns null instead of a `Map&lt;String, String&gt;` object (or anything else) (see the value of &quot;foo&quot; in the example test case below).\r\n\r\nThe following test case summarizes everything that is implemented so far. The return value of `configuration.getProperty(&quot;foo&quot;)` is null. I also tried to use `getCollection` instead of `getProperty` and some other of the functions but it also fails in retrieving a map:\r\n\r\n        @Test\r\n        void testJsonConfigLoading() throws IOException {\r\n            // Create property file\r\n            Path configurationFile = Files.createTempFile(&quot;json-test-foo&quot;, &quot;.properties&quot;);\r\n            String TEST_FILE_DIR = &quot;my.test.dir&quot;;\r\n            System.setProperty(TEST_FILE_DIR, configurationFile.getParent().toString());\r\n            String prop = &quot;{\\&quot;bla\\&quot;: \\&quot;blubb\\&quot;, \\&quot;foo\\&quot;: {\\&quot;k1\\&quot;: \\&quot;A\\&quot;, \\&quot;k2\\&quot;: \\&quot;B\\&quot;}}&quot;;\r\n            Files.write(configurationFile, prop.getBytes(), StandardOpenOption.WRITE);\r\n    \r\n            // Create property reader\r\n            Parameters params = new Parameters();\r\n            ReloadingFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; builder = \r\n                    new ReloadingFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(JSONConfiguration.class)\r\n                    .configure(\r\n                            params\r\n                                    .fileBased()\r\n                                    .setFile(configurationFile.toFile())\r\n                    );\r\n            ImmutableConfiguration configuration = new ReloadableConfiguration(builder);\r\n    \r\n            // test simple string\r\n            String bla = configuration.getString(&quot;bla&quot;);\r\n            assertEquals(&quot;blubb&quot;, bla);\r\n    \r\n            // test map\r\n            Object property = configuration.getProperty(&quot;foo&quot;);\r\n            assertNotNull(property); // &lt;= here the test case fails since property is null\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            String json = mapper.writeValueAsString(property);\r\n            Map&lt;String, String&gt; foo = mapper.readValue(json, Map.class);\r\n            Map&lt;String, String&gt; map1 = Stream.of(new String[][] {\r\n                    { &quot;k1&quot;, &quot;A&quot; },\r\n                    { &quot;k2&quot;, &quot;B&quot; },\r\n            }).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\r\n            assertEquals(map1, foo);\r\n        }\r\n\r\nI tried different configuration parameters for the ConfigurationBuilder and different method to get something back from the configuration. But the return value of `configuration.getProperty(&quot;foo&quot;)` (or other getters) still remains null and not the expected `Map&lt;String, String&gt;`.\r\n\r\nYes, of course, I searched / read the user guide at https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html but did not find anything that helped me further on. Any ideas on that?","title":"ReloadableConfiguration getProperty returns null instead of map when reading from JSON property file","body":"<p>I need to have a ReloadableConfiguration that handles JSON files to read properties from a property file. Everything I tried, works fine for String or List but does not work for Map. It just returns null instead of a <code>Map&lt;String, String&gt;</code> object (or anything else) (see the value of &quot;foo&quot; in the example test case below).</p>\n<p>The following test case summarizes everything that is implemented so far. The return value of <code>configuration.getProperty(&quot;foo&quot;)</code> is null. I also tried to use <code>getCollection</code> instead of <code>getProperty</code> and some other of the functions but it also fails in retrieving a map:</p>\n<pre><code>    @Test\n    void testJsonConfigLoading() throws IOException {\n        // Create property file\n        Path configurationFile = Files.createTempFile(&quot;json-test-foo&quot;, &quot;.properties&quot;);\n        String TEST_FILE_DIR = &quot;my.test.dir&quot;;\n        System.setProperty(TEST_FILE_DIR, configurationFile.getParent().toString());\n        String prop = &quot;{\\&quot;bla\\&quot;: \\&quot;blubb\\&quot;, \\&quot;foo\\&quot;: {\\&quot;k1\\&quot;: \\&quot;A\\&quot;, \\&quot;k2\\&quot;: \\&quot;B\\&quot;}}&quot;;\n        Files.write(configurationFile, prop.getBytes(), StandardOpenOption.WRITE);\n\n        // Create property reader\n        Parameters params = new Parameters();\n        ReloadingFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; builder = \n                new ReloadingFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(JSONConfiguration.class)\n                .configure(\n                        params\n                                .fileBased()\n                                .setFile(configurationFile.toFile())\n                );\n        ImmutableConfiguration configuration = new ReloadableConfiguration(builder);\n\n        // test simple string\n        String bla = configuration.getString(&quot;bla&quot;);\n        assertEquals(&quot;blubb&quot;, bla);\n\n        // test map\n        Object property = configuration.getProperty(&quot;foo&quot;);\n        assertNotNull(property); // &lt;= here the test case fails since property is null\n        ObjectMapper mapper = new ObjectMapper();\n        String json = mapper.writeValueAsString(property);\n        Map&lt;String, String&gt; foo = mapper.readValue(json, Map.class);\n        Map&lt;String, String&gt; map1 = Stream.of(new String[][] {\n                { &quot;k1&quot;, &quot;A&quot; },\n                { &quot;k2&quot;, &quot;B&quot; },\n        }).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\n        assertEquals(map1, foo);\n    }\n</code></pre>\n<p>I tried different configuration parameters for the ConfigurationBuilder and different method to get something back from the configuration. But the return value of <code>configuration.getProperty(&quot;foo&quot;)</code> (or other getters) still remains null and not the expected <code>Map&lt;String, String&gt;</code>.</p>\n<p>Yes, of course, I searched / read the user guide at <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html</a> but did not find anything that helped me further on. Any ideas on that?</p>\n"},{"tags":["java","android","d2xx"],"owner":{"account_id":21250348,"reputation":122,"user_id":15632630,"display_name":"Michu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694425166,"creation_date":1694424320,"question_id":77080399,"body_markdown":"I&#39;m trying to communicate with NV9 USB+ device by an android app ( who search the usb device), I get the device by D2xxManager but I don&#39;t know how to send instructions to it, how can I send instructions and get de result of it ?\r\n\r\nMy android version is Android 11 and sdk is 33.\r\n\r\nThis is my code:\r\n\r\n**MainActivity**\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static ITLDeviceCom deviceCom;\r\n    private static D2xxManager ftD2xx = null;\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private static FT_Device ftDev = null;\r\n    private static final int MY_PERMISSIONS_REQUEST_READ_STORAGE = 0;\r\n    private final long  SSP_KEY = 0123456701234567L;\r\n\r\n    BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.i(TAG, &quot;Starting onReceive&quot;);\r\n            String action = intent.getAction();\r\n            if (UsbManager.ACTION_USB_DEVICE_ATTACHED.equals(action)) {\r\n                // never come here(when attached, go to onNewIntent)\r\n                System.out.println(&quot;ACTION_USB_DEVICE_ATTACHED&quot;);\r\n                openDevice();\r\n            } else if (UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action)) {\r\n                System.out.println(&quot;ACTION_USB_DEVICE_DETACHED&quot;);\r\n                closeDevice();\r\n            }\r\n            Log.i(TAG, &quot;Ending onReceive&quot;);\r\n        }\r\n    };\r\n\r\n\r\n    @SuppressLint(&quot;UnspecifiedRegisterReceiverFlag&quot;)\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Log.i(TAG, &quot;Starting onCreate&quot;);\r\n\r\n        UsbManager usbManager = (UsbManager) this.getSystemService(Context.USB_SERVICE);\r\n\r\n        // Obtener una lista de dispositivos USB conectados\r\n        HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();\r\n\r\n        for (UsbDevice device : deviceList.values()) {\r\n\r\n            String deviceName = device.getDeviceName();\r\n            String serial = device.getSerialNumber();\r\n            int productId = device.getProductId();\r\n            int vendorId = device.getVendorId();\r\n            String manufacturerName = device.getManufacturerName();\r\n\r\n            Log.i(TAG,&quot;Device name: &quot; + deviceName + &quot; | Product id: &quot; + productId + &quot; | Vendor id: &quot; + vendorId + &quot; | Serial number: &quot; + serial + &quot; | Manufacturer Name: &quot; + manufacturerName);\r\n        }\r\n\r\n        try {\r\n            ftD2xx = D2xxManager.getInstance(this);\r\n            Log.i(TAG, &quot;Setting VID and PID&quot;);\r\n            ftD2xx.setVIDPID(0x191c, 0x4104);\r\n\r\n        } catch (D2xxManager.D2xxException ex) {\r\n            Log.e(&quot;SSP FTmanager&quot;, ex.toString());\r\n        }\r\n\r\n        Log.i(TAG, &quot;Inicilice registerReceiver&quot;);\r\n        IntentFilter filter = new IntentFilter();\r\n        filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\r\n        filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\r\n        filter.setPriority(500);\r\n        this.registerReceiver(mUsbReceiver, filter);\r\n\r\n        deviceCom = new ITLDeviceCom();\r\n\r\n        openDevice();\r\n\r\n        if (ftDev != null) {\r\n            Log.i(TAG, &quot;ftDev != null =&gt; Calling to setup and start&quot;);\r\n            deviceCom.setup(ftDev, 0, false, false, SSP_KEY);\r\n            deviceCom.start();\r\n\r\n            Log.i(TAG, &quot;Escrow mode =&gt; true&quot;);\r\n            deviceCom.SetEscrowMode(true);\r\n            Log.i(TAG, &quot;Device mode =&gt; true&quot;);\r\n            deviceCom.SetDeviceEnable(true);\r\n            Log.i(TAG, &quot;Escrow action =&gt; Accept&quot;);\r\n            deviceCom.SetEscrowAction(SSPSystem.BillAction.Accept);\r\n        }\r\n\r\n        Log.i(TAG, &quot;Ending onCreate&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        Log.i(TAG, &quot;Starting onDestroy&quot;);\r\n        this.unregisterReceiver(mUsbReceiver);\r\n        super.onDestroy();\r\n    }\r\n\r\n    /**********   USB functions   ******************************************/\r\n    private void openDevice() {\r\n        Log.i(TAG, &quot;Starting openDevice&quot;);\r\n        if (ftDev != null &amp;&amp; ftDev.isOpen()) {\r\n            Log.i(TAG, &quot;if the device is connected and open, we restart the thread task&quot;);\r\n            SetConfig(9600, (byte) 8, (byte) 2, (byte) 0, (byte) 0);\r\n            ftDev.purge((byte) (D2xxManager.FT_PURGE_TX | D2xxManager.FT_PURGE_RX));\r\n            ftDev.restartInTask();\r\n            return;\r\n        }\r\n\r\n        int devCount = 0;\r\n\r\n        if (ftD2xx != null) {\r\n            // Get the connected USB FTDI devices\r\n            devCount = ftD2xx.createDeviceInfoList(this);\r\n        } else {\r\n            Log.w(TAG, &quot;ftD2xx == null&quot;);\r\n            return;\r\n        }\r\n\r\n        D2xxManager.FtDeviceInfoListNode[] deviceList = new D2xxManager.FtDeviceInfoListNode[devCount];\r\n        ftD2xx.getDeviceInfoList(devCount, deviceList);\r\n      \r\n        if (devCount &lt;= 0) {\r\n            System.out.println(&quot;none detected devices&quot;);\r\n            Log.w(TAG, &quot;devCount &lt;= 0&quot;);\r\n            return;\r\n        }\r\n\r\n        if (ftDev == null) {\r\n            System.out.println(&quot;ftDev is null, getting position  &quot; + (devCount - 1));\r\n            ftDev = ftD2xx.openByIndex(this, devCount -1);\r\n        } else {\r\n            synchronized (ftDev) {\r\n                System.out.println(&quot;ftDev is NOT null, synchronicing position &quot; + (devCount - 1));\r\n                ftDev = ftD2xx.openByIndex(this, devCount -1);\r\n            }\r\n        }\r\n\r\n        // run thread\r\n        if (ftDev.isOpen()) {\r\n            SetConfig(9600, (byte) 8, (byte) 2, (byte) 0, (byte) 0);\r\n            ftDev.purge((byte) (D2xxManager.FT_PURGE_TX | D2xxManager.FT_PURGE_RX));\r\n            ftDev.restartInTask();\r\n        }\r\n        Log.i(TAG, &quot;Ending openDevice&quot;);\r\n    }\r\n\r\n    private static void closeDevice() {\r\n        Log.i(TAG, &quot;Starting closeDevice&quot;);\r\n        if (ftDev != null) {\r\n            deviceCom.Stop();\r\n            ftDev.close();\r\n            Log.i(TAG, &quot;Device closed&quot;);\r\n        }\r\n        Log.i(TAG, &quot;Ending closeDevice&quot;);\r\n    }\r\n\r\n    public static void SetConfig(int baud, byte dataBits, byte stopBits, byte parity, byte flowControl) {\r\n        Log.i(TAG, &quot;Starting SetConfig&quot;);\r\n        if (!ftDev.isOpen()) {\r\n            Log.i(TAG, &quot;Starting SetConfig&quot;);\r\n            return;\r\n        }\r\n\r\n        // configure our port\r\n        // reset to UART mode for 232 devices\r\n        ftDev.setBitMode((byte) 0, D2xxManager.FT_BITMODE_RESET);\r\n        ftDev.setBaudRate(baud);\r\n\r\n        switch (dataBits) {\r\n            case 7:\r\n                dataBits = D2xxManager.FT_DATA_BITS_7;\r\n                break;\r\n            case 8:\r\n                dataBits = D2xxManager.FT_DATA_BITS_8;\r\n                break;\r\n            default:\r\n                dataBits = D2xxManager.FT_DATA_BITS_8;\r\n                break;\r\n        }\r\n\r\n        switch (stopBits) {\r\n            case 1:\r\n                stopBits = D2xxManager.FT_STOP_BITS_1;\r\n                break;\r\n            case 2:\r\n                stopBits = D2xxManager.FT_STOP_BITS_2;\r\n                break;\r\n                default:\r\n                    stopBits = D2xxManager.FT_STOP_BITS_1;\r\n                    break;\r\n        }\r\n\r\n        switch (parity) {\r\n            case 0:\r\n                parity = D2xxManager.FT_PARITY_NONE;\r\n                break;\r\n            case 1:\r\n                parity = D2xxManager.FT_PARITY_ODD;\r\n                break;\r\n            case 2:\r\n                parity = D2xxManager.FT_PARITY_EVEN;\r\n                break;\r\n            case 3:\r\n                parity = D2xxManager.FT_PARITY_MARK;\r\n                break;\r\n            case 4:\r\n                parity = D2xxManager.FT_PARITY_SPACE;\r\n                break;\r\n            default:\r\n                parity = D2xxManager.FT_PARITY_NONE;\r\n                break;\r\n        }\r\n\r\n        ftDev.setDataCharacteristics(dataBits, stopBits, parity);\r\n\r\n        short flowCtrlSetting;\r\n        switch (flowControl) {\r\n            case 0:\r\n                flowCtrlSetting = D2xxManager.FT_FLOW_NONE;\r\n                break;\r\n            case 1:\r\n                flowCtrlSetting = D2xxManager.FT_FLOW_RTS_CTS;\r\n                break;\r\n            case 2:\r\n                flowCtrlSetting = D2xxManager.FT_FLOW_DTR_DSR;\r\n                break;\r\n            case 3:\r\n                flowCtrlSetting = D2xxManager.FT_FLOW_XON_XOFF;\r\n                break;\r\n            default:\r\n                flowCtrlSetting = D2xxManager.FT_FLOW_NONE;\r\n                break;\r\n        }\r\n\r\n        ftDev.setFlowControl(flowCtrlSetting, (byte) 0x0b, (byte) 0x0d);\r\n        Log.i(TAG, &quot;Ending SetConfig&quot;);\r\n    }\r\n\r\n    public static void DisplaySetUp(SSPDevice dev)\r\n    {\r\n        Log.i(TAG, &quot;Starting DisplaySetUp&quot;);\r\n\r\n        // check for type comapable\r\n        if(dev.type != SSPDeviceType.BillValidator){\r\n            return;\r\n        }\r\n        /* device details  */\r\n        System.out.println(&quot; &quot; + dev.firmwareVersion);\r\n        System.out.println(&quot; &quot; + dev.headerType.toString());\r\n        System.out.println(&quot; &quot; + dev.serialNumber);\r\n        System.out.println(&quot; &quot; + dev.datasetVersion);\r\n\r\n        /* display the channel info */\r\n        for (ItlCurrency itlCurrency : dev.currency) {\r\n            @SuppressLint(&quot;DefaultLocale&quot;) String v = itlCurrency.country + &quot; &quot; + String.format(&quot;%.2f&quot;, itlCurrency.realvalue);\r\n            System.out.println(v);\r\n        }\r\n\r\n        // if device has barcode hardware\r\n        if (dev.barCodeReader.hardWareConfig != SSPDevice.BarCodeStatus.None) {\r\n            // send new configuration\r\n            BarCodeReader cfg = new BarCodeReader();\r\n            cfg.barcodeReadEnabled = true;\r\n            cfg.billReadEnabled = true;\r\n            cfg.numberOfCharacters = 18;\r\n            cfg.format = SSPDevice.BarCodeFormat.Interleaved2of5;\r\n            cfg.enabledConfig = SSPDevice.BarCodeStatus.Both;\r\n            deviceCom.SetBarcocdeConfig(cfg);\r\n        }\r\n        Log.i(TAG, &quot;Ending DisplaySetUp&quot;);\r\n    }\r\n\r\n    @SuppressLint(&quot;DefaultLocale&quot;)\r\n    public static void DisplayEvents(DeviceEvent ev) {\r\n        Log.i(TAG, &quot;Starting DisplayEvents&quot;);\r\n        switch (ev.event) {\r\n            case CommunicationsFailure:\r\n                System.out.println(&quot;CommunicationsFailure&quot;);\r\n                break;\r\n            case Ready:\r\n                System.out.println(&quot;Ready&quot;);\r\n                break;\r\n            case BillRead:\r\n                System.out.println(&quot;Reading&quot;);\r\n                break;\r\n            case BillEscrow:\r\n                System.out.println(&quot;Bill Escrow: &quot; + ev.currency + &quot; &quot; +  String.format(&quot;%.2f&quot;, ev.value));\r\n                break;\r\n            case BillStacked:\r\n                System.out.println(&quot;BillStacked&quot;);\r\n                break;\r\n            case BillReject:\r\n                System.out.println(&quot;Bill Reject&quot;);\r\n                break;\r\n            case BillJammed:\r\n                System.out.println(&quot;Bill jammed&quot;);\r\n                break;\r\n            case BillFraud:\r\n                System.out.println(&quot;Bill Fraud: &quot; + ev.currency + &quot; &quot; +  String.format(&quot;%.2f&quot;, ev.value));\r\n                break;\r\n            case BillCredit:\r\n                System.out.println(&quot;Bill Credit: &quot; + ev.currency + &quot; &quot; +  String.format(&quot;%.2f&quot;, ev.value));\r\n                break;\r\n            case Full:\r\n                System.out.println(&quot;Bill Cashbox full&quot;);\r\n                break;\r\n            case Initialising:\r\n                System.out.println(&quot;Initialising&quot;);\r\n                break;\r\n            case Disabled:\r\n                System.out.println(&quot;Disabled&quot;);\r\n                break;\r\n            case SoftwareError:\r\n                System.out.println(&quot;Software error&quot;);\r\n                break;\r\n            case AllDisabled:\r\n                System.out.println(&quot;All channels disabled&quot;);\r\n                break;\r\n            case CashboxRemoved:\r\n                System.out.println(&quot;Cashbox removed&quot;);\r\n                break;\r\n            case CashboxReplaced:\r\n                System.out.println(&quot;Cashbox replaced&quot;);\r\n                break;\r\n            case NotePathOpen:\r\n                System.out.println(&quot;Note path open&quot;);\r\n                break;\r\n            case BarCodeTicketEscrow:\r\n                System.out.println(&quot;Barcode ticket escrow:&quot;);\r\n                break;\r\n            case BarCodeTicketStacked:\r\n                System.out.println(&quot;Barcode ticket stacked&quot;);\r\n                break;\r\n        }\r\n        Log.i(TAG, &quot;Ending DisplayEvents&quot;);\r\n    }\r\n\r\n    \r\n    }\r\n```\r\n**ITLDeviceCom**\r\n```\r\npublic class ITLDeviceCom extends Thread implements DeviceSetupListener, DeviceEventListener, DeviceFileUpdateListener {\r\n\r\n    private static boolean isrunning = false;\r\n    private static SSPSystem sspSystem;\r\n    private FT_Device ftDev = null;\r\n    static final int READBUF_SIZE = 256;\r\n    static final int WRITEBUF_SIZE = 4096;\r\n    byte[] rbuf = new byte[READBUF_SIZE];\r\n    byte[] wbuf = new byte[WRITEBUF_SIZE];\r\n    int mReadSize = 0;\r\n    private SSPDevice sspDevice = null;\r\n\r\n\r\n    public ITLDeviceCom(){\r\n\r\n        sspSystem = new SSPSystem();\r\n\r\n        sspSystem.setOnDeviceSetupListener(this);\r\n        sspSystem.setOnEventUpdateListener(this);\r\n        sspSystem.setOnDeviceFileUpdateListener(this);\r\n\r\n    }\r\n\r\n    public void setup(FT_Device ftdev, int address, boolean escrow, boolean essp, long key){\r\n\r\n        ftDev = ftdev;\r\n        /** void SetAddress(int address)\r\n         *  Description: Sets the SSP address for the device to connect to.\r\n         *  Parameters: [address: the address of the device (0x00 – 0x7E)].\r\n         *  Default: the address is set to 0x00\r\n         * */\r\n        sspSystem.SetAddress(address);\r\n\r\n        /** void EscrowMode(boolean mode)\r\n         *  Description: Enables or disables escrow mode for bill acceptance.\r\n         *  Parameters: [mode: true to enable escrow mode, false to disable].\r\n         *  Default: The object will be set to escrow disabled at start-up\r\n         * */\r\n        sspSystem.EscrowMode(escrow); // enable for escrow mode\r\n\r\n        /** void SetESSPMode\r\n         *  Description: sets the object eSSP mode state.\r\n         *  Parameters: [Boolean mode: true –&gt; enable eSSP, false -&gt; disable eSSP, long key -&gt; the eSSP fixed key for the device e.g 0x0123456701234567].\r\n         *  Default: eSSP disabled.\r\n         * */\r\n        sspSystem.SetESSPMode(essp, key);\r\n\r\n        sspSystem.SetBillEscrowAction(SSPSystem.BillAction.Accept);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void run(){\r\n        long startTimeRead = SystemClock.uptimeMillis();\r\n        long timeOutTime = 10000;\r\n\r\n\r\n        int readSize = 0;\r\n        sspSystem.Run();\r\n\r\n        isrunning = true;\r\n        while(isrunning){\r\n\r\n            synchronized (ftDev) {\r\n\r\n                // poll for transmit data\r\n                int newdatalen = sspSystem.GetNewData(wbuf);\r\n                if (newdatalen &gt; 0) {\r\n                    if(sspSystem.GetDownloadState() != SSPSystem.DownloadSetupState.active) {\r\n                        ftDev.purge((byte) 1);\r\n                    }\r\n                    ftDev.write(wbuf, newdatalen);\r\n                    sspSystem.SetComsBufferWritten(true);\r\n                }\r\n                // poll for received\r\n                readSize = ftDev.getQueueStatus();\r\n                if (readSize &gt; 0) {\r\n                    mReadSize = readSize;\r\n                    if (mReadSize &gt; READBUF_SIZE) {\r\n                        mReadSize = READBUF_SIZE;\r\n                    }\r\n                    readSize = ftDev.read(rbuf,mReadSize );\r\n                    sspSystem.ProcessResponse(rbuf, readSize);\r\n                }\r\n\r\n            }// end of synchronized\r\n\r\n            // coms config changes\r\n            final SSPComsConfig cfg = sspSystem.GetComsConfig();\r\n            if(cfg.configUpdate == SSPComsConfig.ComsConfigChangeState.ccNewConfig){\r\n                cfg.configUpdate = SSPComsConfig.ComsConfigChangeState.ccUpdating;\r\n\r\n               MainActivity.SetConfig(cfg.baud,cfg.dataBits,cfg.stopBits,cfg.parity,cfg.flowControl);\r\n\r\n                cfg.configUpdate = SSPComsConfig.ComsConfigChangeState.ccUpdated;\r\n            }\r\n\r\n\r\n            try {\r\n                sleep(100);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void OnNewDeviceSetup(SSPDevice dev) {\r\n        // set local device object\r\n        Log.i(TAG, &quot;OnNewDeviceSetup&quot;);\r\n        sspDevice = dev;\r\n        // call to Main UI\r\n         MainActivity.DisplaySetUp(dev);\r\n    }\r\n\r\n    @Override\r\n    public void OnDeviceDisconnect(final SSPDevice dev) {   Log.i(TAG, &quot;OnDeviceDisconnect&quot;);  }\r\n\r\n    @Override\r\n    public void OnDeviceEvent(final DeviceEvent ev) { MainActivity.DisplayEvents(ev); }\r\n\r\n\r\n    void Stop()\r\n    {\r\n        sspSystem.Close();\r\n        isrunning = false;\r\n    }\r\n\r\n    void SetEscrowMode(boolean mode){ if(sspSystem != null) sspSystem.EscrowMode(mode); }\r\n\r\n    void SetDeviceEnable(boolean en) {\r\n        if (sspSystem != null) {\r\n            if (en) {\r\n                sspSystem.EnableDevice();\r\n            }else {\r\n                sspSystem.DisableDevice();\r\n            }\r\n        }\r\n    }\r\n\r\n    void SetEscrowAction(SSPSystem.BillAction action){ if(sspSystem != null) sspSystem.SetBillEscrowAction(action); }\r\n\r\n    void SetBarcocdeConfig(BarCodeReader cfg) { if(sspSystem != null) sspSystem.SetBarCodeConfiguration(cfg); }\r\n\r\n    int GetDeviceCode()\r\n    {\r\n        if(sspSystem != null){\r\n            return sspDevice.headerType.getValue();\r\n        }else{\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void OnFileUpdateStatus(SSPUpdate sspUpdate) {\r\n\r\n    }\r\n}\r\n```\r\n","title":"Send instruccions to NV9 USB+ by android devide java D2xxManager","body":"<p>I'm trying to communicate with NV9 USB+ device by an android app ( who search the usb device), I get the device by D2xxManager but I don't know how to send instructions to it, how can I send instructions and get de result of it ?</p>\n<p>My android version is Android 11 and sdk is 33.</p>\n<p>This is my code:</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static ITLDeviceCom deviceCom;\n    private static D2xxManager ftD2xx = null;\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\n    private static FT_Device ftDev = null;\n    private static final int MY_PERMISSIONS_REQUEST_READ_STORAGE = 0;\n    private final long  SSP_KEY = 0123456701234567L;\n\n    BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Log.i(TAG, &quot;Starting onReceive&quot;);\n            String action = intent.getAction();\n            if (UsbManager.ACTION_USB_DEVICE_ATTACHED.equals(action)) {\n                // never come here(when attached, go to onNewIntent)\n                System.out.println(&quot;ACTION_USB_DEVICE_ATTACHED&quot;);\n                openDevice();\n            } else if (UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action)) {\n                System.out.println(&quot;ACTION_USB_DEVICE_DETACHED&quot;);\n                closeDevice();\n            }\n            Log.i(TAG, &quot;Ending onReceive&quot;);\n        }\n    };\n\n\n    @SuppressLint(&quot;UnspecifiedRegisterReceiverFlag&quot;)\n    @Override\n        protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Log.i(TAG, &quot;Starting onCreate&quot;);\n\n        UsbManager usbManager = (UsbManager) this.getSystemService(Context.USB_SERVICE);\n\n        // Obtener una lista de dispositivos USB conectados\n        HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();\n\n        for (UsbDevice device : deviceList.values()) {\n\n            String deviceName = device.getDeviceName();\n            String serial = device.getSerialNumber();\n            int productId = device.getProductId();\n            int vendorId = device.getVendorId();\n            String manufacturerName = device.getManufacturerName();\n\n            Log.i(TAG,&quot;Device name: &quot; + deviceName + &quot; | Product id: &quot; + productId + &quot; | Vendor id: &quot; + vendorId + &quot; | Serial number: &quot; + serial + &quot; | Manufacturer Name: &quot; + manufacturerName);\n        }\n\n        try {\n            ftD2xx = D2xxManager.getInstance(this);\n            Log.i(TAG, &quot;Setting VID and PID&quot;);\n            ftD2xx.setVIDPID(0x191c, 0x4104);\n\n        } catch (D2xxManager.D2xxException ex) {\n            Log.e(&quot;SSP FTmanager&quot;, ex.toString());\n        }\n\n        Log.i(TAG, &quot;Inicilice registerReceiver&quot;);\n        IntentFilter filter = new IntentFilter();\n        filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\n        filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\n        filter.setPriority(500);\n        this.registerReceiver(mUsbReceiver, filter);\n\n        deviceCom = new ITLDeviceCom();\n\n        openDevice();\n\n        if (ftDev != null) {\n            Log.i(TAG, &quot;ftDev != null =&gt; Calling to setup and start&quot;);\n            deviceCom.setup(ftDev, 0, false, false, SSP_KEY);\n            deviceCom.start();\n\n            Log.i(TAG, &quot;Escrow mode =&gt; true&quot;);\n            deviceCom.SetEscrowMode(true);\n            Log.i(TAG, &quot;Device mode =&gt; true&quot;);\n            deviceCom.SetDeviceEnable(true);\n            Log.i(TAG, &quot;Escrow action =&gt; Accept&quot;);\n            deviceCom.SetEscrowAction(SSPSystem.BillAction.Accept);\n        }\n\n        Log.i(TAG, &quot;Ending onCreate&quot;);\n    }\n\n    @Override\n    protected void onDestroy() {\n        Log.i(TAG, &quot;Starting onDestroy&quot;);\n        this.unregisterReceiver(mUsbReceiver);\n        super.onDestroy();\n    }\n\n    /**********   USB functions   ******************************************/\n    private void openDevice() {\n        Log.i(TAG, &quot;Starting openDevice&quot;);\n        if (ftDev != null &amp;&amp; ftDev.isOpen()) {\n            Log.i(TAG, &quot;if the device is connected and open, we restart the thread task&quot;);\n            SetConfig(9600, (byte) 8, (byte) 2, (byte) 0, (byte) 0);\n            ftDev.purge((byte) (D2xxManager.FT_PURGE_TX | D2xxManager.FT_PURGE_RX));\n            ftDev.restartInTask();\n            return;\n        }\n\n        int devCount = 0;\n\n        if (ftD2xx != null) {\n            // Get the connected USB FTDI devices\n            devCount = ftD2xx.createDeviceInfoList(this);\n        } else {\n            Log.w(TAG, &quot;ftD2xx == null&quot;);\n            return;\n        }\n\n        D2xxManager.FtDeviceInfoListNode[] deviceList = new D2xxManager.FtDeviceInfoListNode[devCount];\n        ftD2xx.getDeviceInfoList(devCount, deviceList);\n      \n        if (devCount &lt;= 0) {\n            System.out.println(&quot;none detected devices&quot;);\n            Log.w(TAG, &quot;devCount &lt;= 0&quot;);\n            return;\n        }\n\n        if (ftDev == null) {\n            System.out.println(&quot;ftDev is null, getting position  &quot; + (devCount - 1));\n            ftDev = ftD2xx.openByIndex(this, devCount -1);\n        } else {\n            synchronized (ftDev) {\n                System.out.println(&quot;ftDev is NOT null, synchronicing position &quot; + (devCount - 1));\n                ftDev = ftD2xx.openByIndex(this, devCount -1);\n            }\n        }\n\n        // run thread\n        if (ftDev.isOpen()) {\n            SetConfig(9600, (byte) 8, (byte) 2, (byte) 0, (byte) 0);\n            ftDev.purge((byte) (D2xxManager.FT_PURGE_TX | D2xxManager.FT_PURGE_RX));\n            ftDev.restartInTask();\n        }\n        Log.i(TAG, &quot;Ending openDevice&quot;);\n    }\n\n    private static void closeDevice() {\n        Log.i(TAG, &quot;Starting closeDevice&quot;);\n        if (ftDev != null) {\n            deviceCom.Stop();\n            ftDev.close();\n            Log.i(TAG, &quot;Device closed&quot;);\n        }\n        Log.i(TAG, &quot;Ending closeDevice&quot;);\n    }\n\n    public static void SetConfig(int baud, byte dataBits, byte stopBits, byte parity, byte flowControl) {\n        Log.i(TAG, &quot;Starting SetConfig&quot;);\n        if (!ftDev.isOpen()) {\n            Log.i(TAG, &quot;Starting SetConfig&quot;);\n            return;\n        }\n\n        // configure our port\n        // reset to UART mode for 232 devices\n        ftDev.setBitMode((byte) 0, D2xxManager.FT_BITMODE_RESET);\n        ftDev.setBaudRate(baud);\n\n        switch (dataBits) {\n            case 7:\n                dataBits = D2xxManager.FT_DATA_BITS_7;\n                break;\n            case 8:\n                dataBits = D2xxManager.FT_DATA_BITS_8;\n                break;\n            default:\n                dataBits = D2xxManager.FT_DATA_BITS_8;\n                break;\n        }\n\n        switch (stopBits) {\n            case 1:\n                stopBits = D2xxManager.FT_STOP_BITS_1;\n                break;\n            case 2:\n                stopBits = D2xxManager.FT_STOP_BITS_2;\n                break;\n                default:\n                    stopBits = D2xxManager.FT_STOP_BITS_1;\n                    break;\n        }\n\n        switch (parity) {\n            case 0:\n                parity = D2xxManager.FT_PARITY_NONE;\n                break;\n            case 1:\n                parity = D2xxManager.FT_PARITY_ODD;\n                break;\n            case 2:\n                parity = D2xxManager.FT_PARITY_EVEN;\n                break;\n            case 3:\n                parity = D2xxManager.FT_PARITY_MARK;\n                break;\n            case 4:\n                parity = D2xxManager.FT_PARITY_SPACE;\n                break;\n            default:\n                parity = D2xxManager.FT_PARITY_NONE;\n                break;\n        }\n\n        ftDev.setDataCharacteristics(dataBits, stopBits, parity);\n\n        short flowCtrlSetting;\n        switch (flowControl) {\n            case 0:\n                flowCtrlSetting = D2xxManager.FT_FLOW_NONE;\n                break;\n            case 1:\n                flowCtrlSetting = D2xxManager.FT_FLOW_RTS_CTS;\n                break;\n            case 2:\n                flowCtrlSetting = D2xxManager.FT_FLOW_DTR_DSR;\n                break;\n            case 3:\n                flowCtrlSetting = D2xxManager.FT_FLOW_XON_XOFF;\n                break;\n            default:\n                flowCtrlSetting = D2xxManager.FT_FLOW_NONE;\n                break;\n        }\n\n        ftDev.setFlowControl(flowCtrlSetting, (byte) 0x0b, (byte) 0x0d);\n        Log.i(TAG, &quot;Ending SetConfig&quot;);\n    }\n\n    public static void DisplaySetUp(SSPDevice dev)\n    {\n        Log.i(TAG, &quot;Starting DisplaySetUp&quot;);\n\n        // check for type comapable\n        if(dev.type != SSPDeviceType.BillValidator){\n            return;\n        }\n        /* device details  */\n        System.out.println(&quot; &quot; + dev.firmwareVersion);\n        System.out.println(&quot; &quot; + dev.headerType.toString());\n        System.out.println(&quot; &quot; + dev.serialNumber);\n        System.out.println(&quot; &quot; + dev.datasetVersion);\n\n        /* display the channel info */\n        for (ItlCurrency itlCurrency : dev.currency) {\n            @SuppressLint(&quot;DefaultLocale&quot;) String v = itlCurrency.country + &quot; &quot; + String.format(&quot;%.2f&quot;, itlCurrency.realvalue);\n            System.out.println(v);\n        }\n\n        // if device has barcode hardware\n        if (dev.barCodeReader.hardWareConfig != SSPDevice.BarCodeStatus.None) {\n            // send new configuration\n            BarCodeReader cfg = new BarCodeReader();\n            cfg.barcodeReadEnabled = true;\n            cfg.billReadEnabled = true;\n            cfg.numberOfCharacters = 18;\n            cfg.format = SSPDevice.BarCodeFormat.Interleaved2of5;\n            cfg.enabledConfig = SSPDevice.BarCodeStatus.Both;\n            deviceCom.SetBarcocdeConfig(cfg);\n        }\n        Log.i(TAG, &quot;Ending DisplaySetUp&quot;);\n    }\n\n    @SuppressLint(&quot;DefaultLocale&quot;)\n    public static void DisplayEvents(DeviceEvent ev) {\n        Log.i(TAG, &quot;Starting DisplayEvents&quot;);\n        switch (ev.event) {\n            case CommunicationsFailure:\n                System.out.println(&quot;CommunicationsFailure&quot;);\n                break;\n            case Ready:\n                System.out.println(&quot;Ready&quot;);\n                break;\n            case BillRead:\n                System.out.println(&quot;Reading&quot;);\n                break;\n            case BillEscrow:\n                System.out.println(&quot;Bill Escrow: &quot; + ev.currency + &quot; &quot; +  String.format(&quot;%.2f&quot;, ev.value));\n                break;\n            case BillStacked:\n                System.out.println(&quot;BillStacked&quot;);\n                break;\n            case BillReject:\n                System.out.println(&quot;Bill Reject&quot;);\n                break;\n            case BillJammed:\n                System.out.println(&quot;Bill jammed&quot;);\n                break;\n            case BillFraud:\n                System.out.println(&quot;Bill Fraud: &quot; + ev.currency + &quot; &quot; +  String.format(&quot;%.2f&quot;, ev.value));\n                break;\n            case BillCredit:\n                System.out.println(&quot;Bill Credit: &quot; + ev.currency + &quot; &quot; +  String.format(&quot;%.2f&quot;, ev.value));\n                break;\n            case Full:\n                System.out.println(&quot;Bill Cashbox full&quot;);\n                break;\n            case Initialising:\n                System.out.println(&quot;Initialising&quot;);\n                break;\n            case Disabled:\n                System.out.println(&quot;Disabled&quot;);\n                break;\n            case SoftwareError:\n                System.out.println(&quot;Software error&quot;);\n                break;\n            case AllDisabled:\n                System.out.println(&quot;All channels disabled&quot;);\n                break;\n            case CashboxRemoved:\n                System.out.println(&quot;Cashbox removed&quot;);\n                break;\n            case CashboxReplaced:\n                System.out.println(&quot;Cashbox replaced&quot;);\n                break;\n            case NotePathOpen:\n                System.out.println(&quot;Note path open&quot;);\n                break;\n            case BarCodeTicketEscrow:\n                System.out.println(&quot;Barcode ticket escrow:&quot;);\n                break;\n            case BarCodeTicketStacked:\n                System.out.println(&quot;Barcode ticket stacked&quot;);\n                break;\n        }\n        Log.i(TAG, &quot;Ending DisplayEvents&quot;);\n    }\n\n    \n    }\n</code></pre>\n<p><strong>ITLDeviceCom</strong></p>\n<pre><code>public class ITLDeviceCom extends Thread implements DeviceSetupListener, DeviceEventListener, DeviceFileUpdateListener {\n\n    private static boolean isrunning = false;\n    private static SSPSystem sspSystem;\n    private FT_Device ftDev = null;\n    static final int READBUF_SIZE = 256;\n    static final int WRITEBUF_SIZE = 4096;\n    byte[] rbuf = new byte[READBUF_SIZE];\n    byte[] wbuf = new byte[WRITEBUF_SIZE];\n    int mReadSize = 0;\n    private SSPDevice sspDevice = null;\n\n\n    public ITLDeviceCom(){\n\n        sspSystem = new SSPSystem();\n\n        sspSystem.setOnDeviceSetupListener(this);\n        sspSystem.setOnEventUpdateListener(this);\n        sspSystem.setOnDeviceFileUpdateListener(this);\n\n    }\n\n    public void setup(FT_Device ftdev, int address, boolean escrow, boolean essp, long key){\n\n        ftDev = ftdev;\n        /** void SetAddress(int address)\n         *  Description: Sets the SSP address for the device to connect to.\n         *  Parameters: [address: the address of the device (0x00 – 0x7E)].\n         *  Default: the address is set to 0x00\n         * */\n        sspSystem.SetAddress(address);\n\n        /** void EscrowMode(boolean mode)\n         *  Description: Enables or disables escrow mode for bill acceptance.\n         *  Parameters: [mode: true to enable escrow mode, false to disable].\n         *  Default: The object will be set to escrow disabled at start-up\n         * */\n        sspSystem.EscrowMode(escrow); // enable for escrow mode\n\n        /** void SetESSPMode\n         *  Description: sets the object eSSP mode state.\n         *  Parameters: [Boolean mode: true –&gt; enable eSSP, false -&gt; disable eSSP, long key -&gt; the eSSP fixed key for the device e.g 0x0123456701234567].\n         *  Default: eSSP disabled.\n         * */\n        sspSystem.SetESSPMode(essp, key);\n\n        sspSystem.SetBillEscrowAction(SSPSystem.BillAction.Accept);\n\n    }\n\n    @Override\n    public void run(){\n        long startTimeRead = SystemClock.uptimeMillis();\n        long timeOutTime = 10000;\n\n\n        int readSize = 0;\n        sspSystem.Run();\n\n        isrunning = true;\n        while(isrunning){\n\n            synchronized (ftDev) {\n\n                // poll for transmit data\n                int newdatalen = sspSystem.GetNewData(wbuf);\n                if (newdatalen &gt; 0) {\n                    if(sspSystem.GetDownloadState() != SSPSystem.DownloadSetupState.active) {\n                        ftDev.purge((byte) 1);\n                    }\n                    ftDev.write(wbuf, newdatalen);\n                    sspSystem.SetComsBufferWritten(true);\n                }\n                // poll for received\n                readSize = ftDev.getQueueStatus();\n                if (readSize &gt; 0) {\n                    mReadSize = readSize;\n                    if (mReadSize &gt; READBUF_SIZE) {\n                        mReadSize = READBUF_SIZE;\n                    }\n                    readSize = ftDev.read(rbuf,mReadSize );\n                    sspSystem.ProcessResponse(rbuf, readSize);\n                }\n\n            }// end of synchronized\n\n            // coms config changes\n            final SSPComsConfig cfg = sspSystem.GetComsConfig();\n            if(cfg.configUpdate == SSPComsConfig.ComsConfigChangeState.ccNewConfig){\n                cfg.configUpdate = SSPComsConfig.ComsConfigChangeState.ccUpdating;\n\n               MainActivity.SetConfig(cfg.baud,cfg.dataBits,cfg.stopBits,cfg.parity,cfg.flowControl);\n\n                cfg.configUpdate = SSPComsConfig.ComsConfigChangeState.ccUpdated;\n            }\n\n\n            try {\n                sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    @Override\n    public void OnNewDeviceSetup(SSPDevice dev) {\n        // set local device object\n        Log.i(TAG, &quot;OnNewDeviceSetup&quot;);\n        sspDevice = dev;\n        // call to Main UI\n         MainActivity.DisplaySetUp(dev);\n    }\n\n    @Override\n    public void OnDeviceDisconnect(final SSPDevice dev) {   Log.i(TAG, &quot;OnDeviceDisconnect&quot;);  }\n\n    @Override\n    public void OnDeviceEvent(final DeviceEvent ev) { MainActivity.DisplayEvents(ev); }\n\n\n    void Stop()\n    {\n        sspSystem.Close();\n        isrunning = false;\n    }\n\n    void SetEscrowMode(boolean mode){ if(sspSystem != null) sspSystem.EscrowMode(mode); }\n\n    void SetDeviceEnable(boolean en) {\n        if (sspSystem != null) {\n            if (en) {\n                sspSystem.EnableDevice();\n            }else {\n                sspSystem.DisableDevice();\n            }\n        }\n    }\n\n    void SetEscrowAction(SSPSystem.BillAction action){ if(sspSystem != null) sspSystem.SetBillEscrowAction(action); }\n\n    void SetBarcocdeConfig(BarCodeReader cfg) { if(sspSystem != null) sspSystem.SetBarCodeConfiguration(cfg); }\n\n    int GetDeviceCode()\n    {\n        if(sspSystem != null){\n            return sspDevice.headerType.getValue();\n        }else{\n            return -1;\n        }\n    }\n\n    @Override\n    public void OnFileUpdateStatus(SSPUpdate sspUpdate) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","authentication","single-sign-on","liferay","saml"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1694427724,"post_id":77080476,"comment_id":135885050,"body_markdown":"Why do you need to do this manually, when the infrastructure already takes care of this, e.g. when the portlet that this action belongs to is permission-protected, you can make sure that only users with the proper permissions (typically tied to being logged in) ever see (or send) this request.","body":"Why do you need to do this manually, when the infrastructure already takes care of this, e.g. when the portlet that this action belongs to is permission-protected, you can make sure that only users with the proper permissions (typically tied to being logged in) ever see (or send) this request."},{"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"score":0,"creation_date":1694428013,"post_id":77080476,"comment_id":135885085,"body_markdown":"Ok, so the question is: how to link an identity provider connection to a specific site/friendlyUrl/groupId in the configuration?\nI don&#39;t think the framework checks with all the IdPs until it finds the one that returns an &quot;ok&quot; to the service provider.\nI really think I am missing some details, even if I have read a lot of documentation.","body":"Ok, so the question is: how to link an identity provider connection to a specific site/friendlyUrl/groupId in the configuration? I don&#39;t think the framework checks with all the IdPs until it finds the one that returns an &quot;ok&quot; to the service provider. I really think I am missing some details, even if I have read a lot of documentation."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1694428300,"post_id":77080476,"comment_id":135885115,"body_markdown":"In Liferay, a specific identity applies to the whole virtual instance, e.g. it spans the various sites that your portal holds. This means that there is no specific connection between a site and &quot;its&quot; identity provider: _All_ identity providers are available _for all_ sites. If you need them to be separated, you might rather look at virtual instances. This looks a lot like a [xy-problem](https://meta.stackexchange.com/q/66377/364505), which is why I ask these additional questions.","body":"In Liferay, a specific identity applies to the whole virtual instance, e.g. it spans the various sites that your portal holds. This means that there is no specific connection between a site and &quot;its&quot; identity provider: <i>All</i> identity providers are available <i>for all</i> sites. If you need them to be separated, you might rather look at virtual instances. This looks a lot like a <a href=\"https://meta.stackexchange.com/q/66377/364505\">xy-problem</a>, which is why I ask these additional questions."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1694429318,"post_id":77080476,"comment_id":135885265,"body_markdown":"Further, as you say &quot;I have an identity provider for every friendly URL&quot;: How did you configure this? This is not part of Liferay&#39;s standard, so Liferay doesn&#39;t have an API to map from one to the other (that I know of). Also, with SSO, going the route of a &quot;custom login action&quot; sounds backwards to me. Please start with a description of _the underlying problem_ (in light of the x-y problem). Only then (and optionally), describe what you&#39;ve done already (in the form of a [mcve])","body":"Further, as you say &quot;I have an identity provider for every friendly URL&quot;: How did you configure this? This is not part of Liferay&#39;s standard, so Liferay doesn&#39;t have an API to map from one to the other (that I know of). Also, with SSO, going the route of a &quot;custom login action&quot; sounds backwards to me. Please start with a description of <i>the underlying problem</i> (in light of the x-y problem). Only then (and optionally), describe what you&#39;ve done already (in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)"},{"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"score":0,"creation_date":1694446106,"post_id":77080476,"comment_id":135888689,"body_markdown":"&quot;I have an identity provider for every friendly URL&quot;\n-&gt; I gave a wrong explanation. I meant that this was the requirement. I am going to better detail everything in the next hours","body":"&quot;I have an identity provider for every friendly URL&quot; -&gt; I gave a wrong explanation. I meant that this was the requirement. I am going to better detail everything in the next hours"}],"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694424895,"creation_date":1694424895,"question_id":77080476,"body_markdown":"I&#39;m really new to Liferay and SSO and I have to do a very specific thing.\r\nI am using Liferay DXP 7.4, so I have the Liferay SAML Connector 2.0 available.\r\nIn particular I need to configure Liferay as a Service Provider and add more than one Identity Provider Connection and I have done it through the UI.\r\n\r\nIt is absolutely not clear how to use the correct Identity Provider.\r\nIt doesn&#39;t seem there is something that automatically does it.\r\n\r\nSince I have an Identity provider for each &quot;friendlyurl&quot;, I guess I can use the groupId to identify a specific Identity Provider (setting the Identity provider name to a groupId).\r\n\r\nNow in the custom login action implementation (a class that implements MVCActionCommand) what seems to miss is what I have commented in the following code:\r\n\r\n    @Override\r\n    protected void doProcessAction(ActionRequest actionRequest, ActionResponse actionResponse) throws Exception {\r\n        ThemeDisplay themeDisplay = (ThemeDisplay) actionRequest.getAttribute(WebKeys.THEME_DISPLAY);\r\n        HttpServletRequest request = PortalUtil.getOriginalServletRequest(PortalUtil.getHttpServletRequest(actionRequest));\r\n        HttpServletResponse response = PortalUtil.getHttpServletResponse(actionResponse);\r\n\r\n        long groupId = themeDisplay.getScopeGroupId();\r\n        IdpConnection idpConnection = getIdpConfigByName(groupId); // &lt;-- no idea \r\n        ....\r\n        loginWithIdp(request, response, username, password, idpConnection); // &lt;-- no idea\r\n    }\r\n\r\nIn this code I really don&#39;t know:\r\n\r\n - if exists a class that maps the Idp connection (in the code I have called it &quot;IdpConnection&quot;),\r\n - how to get idp info by name,\r\n - how to use idp info to perform the login programmatically.\r\n\r\nIt is absolutely possible I am totally off track. So I will really appreciate any suggestion.","title":"In Liferay how to get the identity provider info and use them to programmatically trigger the SSO","body":"<p>I'm really new to Liferay and SSO and I have to do a very specific thing.\nI am using Liferay DXP 7.4, so I have the Liferay SAML Connector 2.0 available.\nIn particular I need to configure Liferay as a Service Provider and add more than one Identity Provider Connection and I have done it through the UI.</p>\n<p>It is absolutely not clear how to use the correct Identity Provider.\nIt doesn't seem there is something that automatically does it.</p>\n<p>Since I have an Identity provider for each &quot;friendlyurl&quot;, I guess I can use the groupId to identify a specific Identity Provider (setting the Identity provider name to a groupId).</p>\n<p>Now in the custom login action implementation (a class that implements MVCActionCommand) what seems to miss is what I have commented in the following code:</p>\n<pre><code>@Override\nprotected void doProcessAction(ActionRequest actionRequest, ActionResponse actionResponse) throws Exception {\n    ThemeDisplay themeDisplay = (ThemeDisplay) actionRequest.getAttribute(WebKeys.THEME_DISPLAY);\n    HttpServletRequest request = PortalUtil.getOriginalServletRequest(PortalUtil.getHttpServletRequest(actionRequest));\n    HttpServletResponse response = PortalUtil.getHttpServletResponse(actionResponse);\n\n    long groupId = themeDisplay.getScopeGroupId();\n    IdpConnection idpConnection = getIdpConfigByName(groupId); // &lt;-- no idea \n    ....\n    loginWithIdp(request, response, username, password, idpConnection); // &lt;-- no idea\n}\n</code></pre>\n<p>In this code I really don't know:</p>\n<ul>\n<li>if exists a class that maps the Idp connection (in the code I have called it &quot;IdpConnection&quot;),</li>\n<li>how to get idp info by name,</li>\n<li>how to use idp info to perform the login programmatically.</li>\n</ul>\n<p>It is absolutely possible I am totally off track. So I will really appreciate any suggestion.</p>\n"},{"tags":["java","maven","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":205062,"reputation":2219,"user_id":453623,"accept_rate":54,"display_name":"Stefan Papp"},"score":1,"creation_date":1492178905,"post_id":40632900,"comment_id":73885113,"body_markdown":"Have you tried to use the IP instead of the server name? Maybe it is a name resolution issue","body":"Have you tried to use the IP instead of the server name? Maybe it is a name resolution issue"},{"owner":{"account_id":4867809,"reputation":1558,"user_id":5014656,"accept_rate":75,"display_name":"Soumendra"},"score":0,"creation_date":1558345888,"post_id":40632900,"comment_id":99057285,"body_markdown":"@Vimal Dhaduk, Did you able to resolve this issue?","body":"@Vimal Dhaduk, Did you able to resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":10002378,"reputation":318,"user_id":7433003,"display_name":"Noviff"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1490644886,"creation_date":1490644886,"answer_id":43055436,"question_id":40632900,"body_markdown":"&quot;metadata.broker.list&quot; is deprecated and &quot;bootstrap.servers&quot; is used instead. Removing &quot;metadata.broker.list&quot; configuration from your code should resolve the problem. Please find more details at [difference between bootstrap.servers and metadata.broker.list][1] \r\n\r\n\r\n  [1]: https://community.hortonworks.com/questions/43258/difference-between-bootstrapservers-and-metadatabr.html","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>\"metadata.broker.list\" is deprecated and \"bootstrap.servers\" is used instead. Removing \"metadata.broker.list\" configuration from your code should resolve the problem. Please find more details at <a href=\"https://community.hortonworks.com/questions/43258/difference-between-bootstrapservers-and-metadatabr.html\" rel=\"noreferrer\">difference between bootstrap.servers and metadata.broker.list</a> </p>\n"},{"tags":[],"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532916910,"creation_date":1532916910,"answer_id":51586187,"question_id":40632900,"body_markdown":"For anyone encountering this issue with MapR client libraries, you will get this if you forget the / on the front of the stream name.","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>For anyone encountering this issue with MapR client libraries, you will get this if you forget the / on the front of the stream name.</p>\n"},{"tags":[],"owner":{"account_id":14838686,"reputation":539,"user_id":10716005,"display_name":"Zafar Nasim"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1631163804,"creation_date":1631163804,"answer_id":69112490,"question_id":40632900,"body_markdown":"In my case,the bootstrap.servers were not in the host:port format","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>In my case,the bootstrap.servers were not in the host:port format</p>\n"},{"tags":[],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1644872104,"creation_date":1644872104,"answer_id":71118185,"question_id":40632900,"body_markdown":"in my case simply company vpn was down and couldn&#39;t access servers","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>in my case simply company vpn was down and couldn't access servers</p>\n"},{"tags":[],"owner":{"account_id":17152954,"reputation":1,"user_id":12414450,"display_name":"Тимур Тухтаров"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681120197,"creation_date":1680524338,"answer_id":75919426,"question_id":40632900,"body_markdown":"I ran kafka broker and myapp with kafka client in different containers and in my case i did not added param `network`  when ran container with my app. \r\n\r\n```\r\n    docker run -it --rm --network example_network my_repo/my_image:my_tag\r\n```\r\n\r\nThe `network (example_network)` has to be specified in the broker container.\r\n","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>I ran kafka broker and myapp with kafka client in different containers and in my case i did not added param <code>network</code>  when ran container with my app.</p>\n<pre><code>    docker run -it --rm --network example_network my_repo/my_image:my_tag\n</code></pre>\n<p>The <code>network (example_network)</code> has to be specified in the broker container.</p>\n"},{"tags":[],"owner":{"account_id":5923353,"reputation":187,"user_id":5153648,"accept_rate":50,"display_name":"Cerdicipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687877643,"creation_date":1687877643,"answer_id":76566142,"question_id":40632900,"body_markdown":"This error can indicate a network connectivity issue. For example, it is triggered if the server host is unknown (no IP associated).","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>This error can indicate a network connectivity issue. For example, it is triggered if the server host is unknown (no IP associated).</p>\n"},{"tags":[],"owner":{"account_id":5977232,"reputation":1,"user_id":5015111,"display_name":"meh_stackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694423721,"creation_date":1694423653,"answer_id":77080330,"question_id":40632900,"body_markdown":"In my case, in the the application.properties there was a property &#39;spring.profiles.active&#39; set as &#39;stage&#39; by default, changing that to &#39;local&#39; resolved the error for me\r\n\r\n    spring.profiles.active = stage -&gt; local","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>In my case, in the the application.properties there was a property 'spring.profiles.active' set as 'stage' by default, changing that to 'local' resolved the error for me</p>\n<pre><code>spring.profiles.active = stage -&gt; local\n</code></pre>\n"}],"owner":{"account_id":3424943,"reputation":1004,"user_id":2870939,"accept_rate":51,"display_name":"Vimal Dhaduk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99200,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":43055436,"answer_count":7,"score":33,"last_activity_date":1694423721,"creation_date":1479301495,"question_id":40632900,"body_markdown":"I&#39;m pretty sure the bootstrap.servers is correct. Is there anything confliction in Maven or what wrong with Kafka??\r\n\r\nBefore that It was working successfully. I added some Maven or Spark then something went wrong.. \r\n\r\nCan anyone knows how to resolve it?\r\n\r\nHere is kafka code in java\r\n\r\n    Properties props = new Properties();\r\n    \t\tprops.put(&quot;bootstrap.servers&quot;, &quot;x.xx.xxx.xxx:9092&quot;);\r\n    \t\tprops.put(&quot;metadata.broker.list&quot;, &quot;x.xx.xxx.xxx:9091, x.xx.xxx.xxx:9092, x.xx.xxx.xxx:9093&quot;);\r\n    \r\n    \t\tprops.put(&quot;producer.type&quot;, &quot;async&quot;);\r\n    \t\tprops.put(&quot;batch.size&quot;, &quot;500&quot;);\r\n    \t\tprops.put(&quot;compression.codec&quot;, &quot;1&quot;);\r\n    \t\tprops.put(&quot;compression.topic&quot;, topicName);\r\n    \t\tprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\tprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \r\n    \t\t\torg.apache.kafka.clients.producer.Producer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(\r\n    \t\t\t\t\tprops);\r\n\r\n   \r\nGetting error No resolvable bootstrap urls given in bootstrap servers,\r\n \r\n\r\n    [err] \tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:335)\r\n        [err] \tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:188)\r\n        [err] \tat com.wra.controller.ParserController.GetResumeUpload(ParserController.java:98)\r\n        [err] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        [err] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)\r\n        [err] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n        [err] \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n        [err] \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\r\n        [err] \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\r\n        [err] \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\r\n        [err] \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n        [err] \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n        [err] \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n        [err] \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n        [err] \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n        [err] \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n        [err] \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n        [err] \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n        [err] \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n        [err] \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n        [err] \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1290)\r\n        [err] \tat [internal classes]\r\n        [err] \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        [err] \tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n        [err] \tat [internal classes]\r\n        [err] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)\r\n        [err] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        [err] \tat java.lang.Thread.run(Thread.java:785)\r\n        [err] Caused by: \r\n        [err] org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers\r\n        [err] \tat org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:59)\r\n        [err] \tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:275)\r\n        [err] \t... 51 more\r\n\r\n","title":"Kafka Getting error No resolvable bootstrap urls given in bootstrap servers","body":"<p>I'm pretty sure the bootstrap.servers is correct. Is there anything confliction in Maven or what wrong with Kafka??</p>\n\n<p>Before that It was working successfully. I added some Maven or Spark then something went wrong.. </p>\n\n<p>Can anyone knows how to resolve it?</p>\n\n<p>Here is kafka code in java</p>\n\n<pre><code>Properties props = new Properties();\n        props.put(\"bootstrap.servers\", \"x.xx.xxx.xxx:9092\");\n        props.put(\"metadata.broker.list\", \"x.xx.xxx.xxx:9091, x.xx.xxx.xxx:9092, x.xx.xxx.xxx:9093\");\n\n        props.put(\"producer.type\", \"async\");\n        props.put(\"batch.size\", \"500\");\n        props.put(\"compression.codec\", \"1\");\n        props.put(\"compression.topic\", topicName);\n        props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n        props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\n            org.apache.kafka.clients.producer.Producer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(\n                    props);\n</code></pre>\n\n<p>Getting error No resolvable bootstrap urls given in bootstrap servers,</p>\n\n<pre><code>[err]   at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:335)\n    [err]   at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:188)\n    [err]   at com.wra.controller.ParserController.GetResumeUpload(ParserController.java:98)\n    [err]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    [err]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)\n    [err]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    [err]   at java.lang.reflect.Method.invoke(Method.java:508)\n    [err]   at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n    [err]   at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n    [err]   at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n    [err]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    [err]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    [err]   at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    [err]   at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    [err]   at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    [err]   at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    [err]   at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    [err]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    [err]   at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    [err]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    [err]   at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1290)\n    [err]   at [internal classes]\n    [err]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    [err]   at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    [err]   at [internal classes]\n    [err]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)\n    [err]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    [err]   at java.lang.Thread.run(Thread.java:785)\n    [err] Caused by: \n    [err] org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers\n    [err]   at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:59)\n    [err]   at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:275)\n    [err]   ... 51 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1694397741,"post_id":77078538,"comment_id":135881255,"body_markdown":"&quot;So I expect 7 35 for now. &quot; I don&#39;t understand. Why do you think the 35 should be printed at this point? &quot;Then x is printed, so print a 5.&quot; I don&#39;t understand. Why do you think this print should happen before the second method call?","body":"&quot;So I expect 7 35 for now. &quot; I don&#39;t understand. Why do you think the 35 should be printed at this point? &quot;Then x is printed, so print a 5.&quot; I don&#39;t understand. Why do you think this print should happen before the second method call?"},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":2,"creation_date":1694397834,"post_id":77078538,"comment_id":135881266,"body_markdown":"No, `x` &amp; `y` isn&#39;t returned. You return a *value* of their multiplication, which you never use anyway. Java also doesn&#39;t have any syntax to pass value by reference, so unless you explicitly return them (perhaps as part of a custom class) and assign them back to the caller, `x` and `y` shouldn&#39;t change","body":"No, <code>x</code> &amp; <code>y</code> isn&#39;t returned. You return a <i>value</i> of their multiplication, which you never use anyway. Java also doesn&#39;t have any syntax to pass value by reference, so unless you explicitly return them (perhaps as part of a custom class) and assign them back to the caller, <code>x</code> and <code>y</code> shouldn&#39;t change"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694397896,"post_id":77078538,"comment_id":135881269,"body_markdown":"This might help: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"This might help: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694398278,"post_id":77078538,"comment_id":135881298,"body_markdown":"@OldDogProgrammer I think OP understands that `x` and `y` are not passed by reference. If they weren&#39;t, they would have expected the second `m` call to also return 35.","body":"@OldDogProgrammer I think OP understands that <code>x</code> and <code>y</code> are not passed by reference. If they weren&#39;t, they would have expected the second <code>m</code> call to also return 35."},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1694398369,"post_id":77078538,"comment_id":135881311,"body_markdown":"@Sweeper They do expect that since they say in the second call `x` would be 9","body":"@Sweeper They do expect that since they say in the second call <code>x</code> would be 9"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1694398412,"post_id":77078538,"comment_id":135881315,"body_markdown":"@Martheen note that `y` is passed in the position of `x` there, so it starts off as 7 and then as 2 added to it","body":"@Martheen note that <code>y</code> is passed in the position of <code>x</code> there, so it starts off as 7 and then as 2 added to it"},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1694398510,"post_id":77078538,"comment_id":135881328,"body_markdown":"@harold, Yes, I know that, but OP says &quot;Then in the second method call, 2 is added to x again making it 9. 2 is subtracted from y, making 3&quot;, the misunderstanding is theirs","body":"@harold, Yes, I know that, but OP says &quot;Then in the second method call, 2 is added to x again making it 9. 2 is subtracted from y, making 3&quot;, the misunderstanding is theirs"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1694398898,"post_id":77078538,"comment_id":135881356,"body_markdown":"@Martheen but `x = 7, y = 5` (inside the second call to `m`) at that point (not because they were modified, they weren&#39;t, but they were passed &quot;in reverse&quot;), so that math is correct.","body":"@Martheen but <code>x = 7, y = 5</code> (inside the second call to <code>m</code>) at that point (not because they were modified, they weren&#39;t, but they were passed &quot;in reverse&quot;), so that math is correct."},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1694399262,"post_id":77078538,"comment_id":135881385,"body_markdown":"@harold The end result is identical, but the *steps* there aren&#39;t. OP assumed x is incremented by 2 twice and y decremented by 2 twice. OP didn&#39;t write the code and likely assumed parameter order doesn&#39;t matter.","body":"@harold The end result is identical, but the <i>steps</i> there aren&#39;t. OP assumed x is incremented by 2 twice and y decremented by 2 twice. OP didn&#39;t write the code and likely assumed parameter order doesn&#39;t matter."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1694399616,"post_id":77078538,"comment_id":135881406,"body_markdown":"@Martheen maybe? I don&#39;t see any strong evidence for that. The word &quot;again&quot; maybe hints at that, but could also mean that `x += 2;` is executed for the second time. It&#39;s fairly ambiguous with the multiple meanings of `x` and `y` which OP does not clearly distinguish. The only misunderstanding I actually see is that OP thinks the outer `print` prints some parts of its argument before it has been fully evaluated - and that by itself already fully explains OPs expected result.","body":"@Martheen maybe? I don&#39;t see any strong evidence for that. The word &quot;again&quot; maybe hints at that, but could also mean that <code>x += 2;</code> is executed for the second time. It&#39;s fairly ambiguous with the multiple meanings of <code>x</code> and <code>y</code> which OP does not clearly distinguish. The only misunderstanding I actually see is that OP thinks the outer <code>print</code> prints some parts of its argument before it has been fully evaluated - and that by itself already fully explains OPs expected result."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694398233,"creation_date":1694398233,"answer_id":77078567,"question_id":77078538,"body_markdown":"&gt; So I expect 7 35 for now\r\n\r\nThat doesn&#39;t make sense. Unless you think that java will print each element in `m(x, y) + &quot; &quot; + x + &quot; &quot; + m(y, x)` &#39;on the fly&#39;.\r\n\r\nThat isn&#39;t how it works.\r\n\r\nThe compiler first treats this statement as:\r\n\r\n* Invoke `m`, passing &#39;x&#39; and &#39;y&#39;. This prints `7 `, and resolves to 35.\r\n* resolve the binary operator of _string concat (A,B) where A is the result of the previous bullet (35) and B is `&quot; &quot;`. It doesn&#39;t get printed. Why would it be? We&#39;re just working on figuring out what `m(x, y) + &quot; &quot;` is, we haven&#39;t at all gotten to the idea that this is passed to `System.out.print` yet.\r\n* This resolves to `35 `.\r\n* Next we resolve CONCAT(A, B) where A is that (`35 `) and B is `x`, which resolves to 5. local variables and parameters are unique to each method, the fact that `m` changes `x` is just changing its own copy of x, not `main`&#39;s copy of it, so `x` is still 5. The string we are building up is now `35 5`. This still isn&#39;t printed for the same reason.\r\n* Next we resolve CONCAT(A, B) where A is that (`35 5`) and B is ` `, giving us `35 5 `.\r\n* Next we resolve CONCAT(A, B) where A is that (`35 5 `) and B is `m(y, x)`. To do that we have to invoke m first to know what that really is, so we do that.\r\n* In passing this prints `9` (remember how every method gets its own unique copy? you called m with `(y, x)`, but the first argument is known as `x` in m, so, it&#39;s 7 when called, gets incremented to 9, is printed, and is then multiplied by 3 and returned: 27. So far we&#39;ve printed `7 9 ` as part of `m` calls.\r\n* Finally we can resolve CONCAT(`35 5 `, `27`) which gets us `35 5 27`. Which is passed to `System.out.print`. Which prints it.\r\n\r\nThus: 7 9 35 5 27.","title":"Why does this output &quot;7 9 35 5 27&quot; and not &quot;7 35 5 9 27&quot;?","body":"<blockquote>\n<p>So I expect 7 35 for now</p>\n</blockquote>\n<p>That doesn't make sense. Unless you think that java will print each element in <code>m(x, y) + &quot; &quot; + x + &quot; &quot; + m(y, x)</code> 'on the fly'.</p>\n<p>That isn't how it works.</p>\n<p>The compiler first treats this statement as:</p>\n<ul>\n<li>Invoke <code>m</code>, passing 'x' and 'y'. This prints <code>7 </code>, and resolves to 35.</li>\n<li>resolve the binary operator of _string concat (A,B) where A is the result of the previous bullet (35) and B is <code>&quot; &quot;</code>. It doesn't get printed. Why would it be? We're just working on figuring out what <code>m(x, y) + &quot; &quot;</code> is, we haven't at all gotten to the idea that this is passed to <code>System.out.print</code> yet.</li>\n<li>This resolves to <code>35 </code>.</li>\n<li>Next we resolve CONCAT(A, B) where A is that (<code>35 </code>) and B is <code>x</code>, which resolves to 5. local variables and parameters are unique to each method, the fact that <code>m</code> changes <code>x</code> is just changing its own copy of x, not <code>main</code>'s copy of it, so <code>x</code> is still 5. The string we are building up is now <code>35 5</code>. This still isn't printed for the same reason.</li>\n<li>Next we resolve CONCAT(A, B) where A is that (<code>35 5</code>) and B is <code> </code>, giving us <code>35 5 </code>.</li>\n<li>Next we resolve CONCAT(A, B) where A is that (<code>35 5 </code>) and B is <code>m(y, x)</code>. To do that we have to invoke m first to know what that really is, so we do that.</li>\n<li>In passing this prints <code>9</code> (remember how every method gets its own unique copy? you called m with <code>(y, x)</code>, but the first argument is known as <code>x</code> in m, so, it's 7 when called, gets incremented to 9, is printed, and is then multiplied by 3 and returned: 27. So far we've printed <code>7 9 </code> as part of <code>m</code> calls.</li>\n<li>Finally we can resolve CONCAT(<code>35 5 </code>, <code>27</code>) which gets us <code>35 5 27</code>. Which is passed to <code>System.out.print</code>. Which prints it.</li>\n</ul>\n<p>Thus: 7 9 35 5 27.</p>\n"}],"owner":{"account_id":29410713,"reputation":11,"user_id":22534625,"display_name":"Sami C."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1694423363,"creation_date":1694397400,"question_id":77078538,"body_markdown":"\r\n\r\nHere is the code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tint x = 5;\r\n\t\tint y = 7;\r\n\t\tSystem.out.print(m(x, y) + &quot; &quot; + x + &quot; &quot; + m(y, x));\r\n\t}\r\n\r\n\tpublic static int m(int x, int y) {\r\n\t\tx += 2;\r\n\t\tSystem.out.print(x + &quot; &quot;);\r\n\t\ty -= 2;\r\n\t\treturn (x * y);\r\n\t}\r\n```\r\n\r\nI tried writing this down on paper and going through the steps. In the first method call, x has 2 added to it and becomes 7, then is printed. Y is subtracted by 2, becoming 5. Then `x*y` gets returned, which is `7*5 = 35`. So I expect 7 35 for now. Then x is printed, so print a 5. Then in the second method call, 2 is added to x again making it 9. 2 is subtracted from y, making 3. Then `x*y` is returned, outputting 27.\r\n\r\nSo in the end, I expect 7 35 5 9 27.","title":"Why does this output &quot;7 9 35 5 27&quot; and not &quot;7 35 5 9 27&quot;?","body":"<p>Here is the code:</p>\n<pre><code>public static void main(String[] args) {\n        int x = 5;\n        int y = 7;\n        System.out.print(m(x, y) + &quot; &quot; + x + &quot; &quot; + m(y, x));\n    }\n\n    public static int m(int x, int y) {\n        x += 2;\n        System.out.print(x + &quot; &quot;);\n        y -= 2;\n        return (x * y);\n    }\n</code></pre>\n<p>I tried writing this down on paper and going through the steps. In the first method call, x has 2 added to it and becomes 7, then is printed. Y is subtracted by 2, becoming 5. Then <code>x*y</code> gets returned, which is <code>7*5 = 35</code>. So I expect 7 35 for now. Then x is printed, so print a 5. Then in the second method call, 2 is added to x again making it 9. 2 is subtracted from y, making 3. Then <code>x*y</code> is returned, outputting 27.</p>\n<p>So in the end, I expect 7 35 5 9 27.</p>\n"},{"tags":["java","http","netty"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694381004,"post_id":77077907,"comment_id":135880062,"body_markdown":"The `byte[]` is the entire request or just the payload?","body":"The <code>byte[]</code> is the entire request or just the payload?"},{"owner":{"account_id":19576898,"reputation":41,"user_id":16910689,"display_name":"user16910689"},"score":0,"creation_date":1694381963,"post_id":77077907,"comment_id":135880160,"body_markdown":"Updated my question - the complete request was meant (from status line to body)","body":"Updated my question - the complete request was meant (from status line to body)"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694382800,"post_id":77077907,"comment_id":135880224,"body_markdown":"What netty version are you using?","body":"What netty version are you using?"},{"owner":{"account_id":19576898,"reputation":41,"user_id":16910689,"display_name":"user16910689"},"score":0,"creation_date":1694385305,"post_id":77077907,"comment_id":135880440,"body_markdown":"I&#39;m using netty 4.1.94","body":"I&#39;m using netty 4.1.94"}],"owner":{"account_id":19576898,"reputation":41,"user_id":16910689,"display_name":"user16910689"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694423039,"creation_date":1694380395,"question_id":77077907,"body_markdown":"I&#39;m using netty and need to convert a `byte[]` (representing the complete request, not just the body) into `io.netty.handler.codec.http.HttpRequest`. I found [HttpObjectDecoder][1], but no way to parse it without a socket.\r\n\r\n\r\n  [1]: https://netty.io/4.0/api/io/netty/handler/codec/http/HttpObjectDecoder.html","title":"How to parse byte array into HttpRequest (netty)?","body":"<p>I'm using netty and need to convert a <code>byte[]</code> (representing the complete request, not just the body) into <code>io.netty.handler.codec.http.HttpRequest</code>. I found <a href=\"https://netty.io/4.0/api/io/netty/handler/codec/http/HttpObjectDecoder.html\" rel=\"nofollow noreferrer\">HttpObjectDecoder</a>, but no way to parse it without a socket.</p>\n"},{"tags":["java","linux","maven","zip","cicd"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1694420714,"post_id":77079972,"comment_id":135883726,"body_markdown":"Why using external zip command instead of using maven-assembly-plugin to create the resulting archive? Also naming is a bit strange because usually all artifacts are lower case...","body":"Why using external zip command instead of using maven-assembly-plugin to create the resulting archive? Also naming is a bit strange because usually all artifacts are lower case..."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1694422206,"post_id":77079972,"comment_id":135884009,"body_markdown":"Hi khmarbaise, thanks for the reply.  It is an existing old application, so the naming convention was done ages ago, I am just working with what I have. I am creating a zip archive of all the artefacts that need to be copied to the deployment server via a S3 bucket, so it is putting it in one zip archive to upload it.","body":"Hi khmarbaise, thanks for the reply.  It is an existing old application, so the naming convention was done ages ago, I am just working with what I have. I am creating a zip archive of all the artefacts that need to be copied to the deployment server via a S3 bucket, so it is putting it in one zip archive to upload it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694432432,"post_id":77079972,"comment_id":135885801,"body_markdown":"If the ear root directory hasn&#39;t moved position (correct me if I&#39;m wrong about that) then it might be something else. e.g. *`scripts/*`*. The glob is redundant as the recursion flag is set and the glob might cause shell-related problems, so try getting rid of it (i.e. just `scripts`)","body":"If the ear root directory hasn&#39;t moved position (correct me if I&#39;m wrong about that) then it might be something else. e.g. <i><code>scripts&#47;*</code></i>. The glob is redundant as the recursion flag is set and the glob might cause shell-related problems, so try getting rid of it (i.e. just <code>scripts</code>)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694602333,"post_id":77079972,"comment_id":135911999,"body_markdown":"Does not change a thing you can do that via maven-assembly-plugin... no need for external scripts etc.","body":"Does not change a thing you can do that via maven-assembly-plugin... no need for external scripts etc."}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694422775,"creation_date":1694420429,"question_id":77079972,"body_markdown":"I am running a BitBucket pipeline which tries to zip some archives, but gets an error. \r\n\r\n**Working Example**\r\n\r\nI have one application for which it works perfectly:\r\n\r\n    zip powwow.zip appspec.yml target/pow-wow-0.0.2-SNAPSHOT.jar scripts/*\r\n      adding: appspec.yml (deflated 26%)\r\n      adding: target/pow-wow-0.0.2-SNAPSHOT.jar (deflated 9%)\r\n      adding: scripts/deploy.sh (deflated 37%)\r\n      adding: scripts/powwow-deploy-old.sh (deflated 37%)\r\n      adding: scripts/powwow-deploy.sh (deflated 53%)\r\n\r\nFolder structure:\r\n\r\n    - | pom.xml\r\n      | appspec.yml\r\n      | scrips | powwow-deploy.sh\r\n      | target | pow-wow-0.0.2-SNAPSHOT.jar\r\n\r\nAll the files are zipped up into the `powwow.zip` archive as expected.\r\n\r\n**Non Working Example**\r\n\r\nNow I have another application which needs to to the same thing. The folder structure is slightly different, because the EAR file is in a different folder (`corporateEAR `).\r\n\r\n    zip -r corpapp.zip appspec.yml corporateEAR/target/cEAR-3.10.ear scripts/*\r\n    \tzip warning: name not matched: corporateEAR/target/cEAR-3.10.ear\r\n      adding: appspec.yml (deflated 25%)\r\n      adding: scripts/corpapp-deploy.sh (deflated 42%)\r\n\r\nDo you know why it cannot match on the `corporateEAR/target/cEAR-3.10.ear`?\r\n\r\nFolder structure:\r\n\r\n    - | pom.xml\r\n      | appspec.yml\r\n      | scrips | corpapp-deploy.sh\r\n      | corporateEAR | target | cEAR-3.10.ear\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMore info:\r\n\r\nIf I run this command from the directory on my local machine it works, i.e. it creates the zip archive as expected. However if this command is run from the Bitbucket pipeline, it gets the above warning that it cannot match the ear file.\r\n\r\n    zip -r corpapp.zip appspec.yml corporateEAR/target/cEAR-3.10.ear scripts/*\r\n\r\n  [1]: https://i.stack.imgur.com/tEL4i.png","title":"Zip command on Linux - zip warning: name not matched","body":"<p>I am running a BitBucket pipeline which tries to zip some archives, but gets an error.</p>\n<p><strong>Working Example</strong></p>\n<p>I have one application for which it works perfectly:</p>\n<pre><code>zip powwow.zip appspec.yml target/pow-wow-0.0.2-SNAPSHOT.jar scripts/*\n  adding: appspec.yml (deflated 26%)\n  adding: target/pow-wow-0.0.2-SNAPSHOT.jar (deflated 9%)\n  adding: scripts/deploy.sh (deflated 37%)\n  adding: scripts/powwow-deploy-old.sh (deflated 37%)\n  adding: scripts/powwow-deploy.sh (deflated 53%)\n</code></pre>\n<p>Folder structure:</p>\n<pre><code>- | pom.xml\n  | appspec.yml\n  | scrips | powwow-deploy.sh\n  | target | pow-wow-0.0.2-SNAPSHOT.jar\n</code></pre>\n<p>All the files are zipped up into the <code>powwow.zip</code> archive as expected.</p>\n<p><strong>Non Working Example</strong></p>\n<p>Now I have another application which needs to to the same thing. The folder structure is slightly different, because the EAR file is in a different folder (<code>corporateEAR </code>).</p>\n<pre><code>zip -r corpapp.zip appspec.yml corporateEAR/target/cEAR-3.10.ear scripts/*\n    zip warning: name not matched: corporateEAR/target/cEAR-3.10.ear\n  adding: appspec.yml (deflated 25%)\n  adding: scripts/corpapp-deploy.sh (deflated 42%)\n</code></pre>\n<p>Do you know why it cannot match on the <code>corporateEAR/target/cEAR-3.10.ear</code>?</p>\n<p>Folder structure:</p>\n<pre><code>- | pom.xml\n  | appspec.yml\n  | scrips | corpapp-deploy.sh\n  | corporateEAR | target | cEAR-3.10.ear\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tEL4i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tEL4i.png\" alt=\"enter image description here\" /></a></p>\n<p>More info:</p>\n<p>If I run this command from the directory on my local machine it works, i.e. it creates the zip archive as expected. However if this command is run from the Bitbucket pipeline, it gets the above warning that it cannot match the ear file.</p>\n<pre><code>zip -r corpapp.zip appspec.yml corporateEAR/target/cEAR-3.10.ear scripts/*\n</code></pre>\n"},{"tags":["java","http","url","get","localhost"],"answers":[{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1458590289,"creation_date":1458590289,"answer_id":36140425,"question_id":36140269,"body_markdown":"You can create the `URL` object using your URL, it will figure out ports and other things itself. Ref : [https://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html][1]\r\n\r\n\tpublic class URLConnectionReader {\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tURL oracle = new URL(&quot;http://localhost:4567/XXXX&quot;);\r\n\t\t\tURLConnection yc = oracle.openConnection();\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t\t\t\t\t\tyc.getInputStream()));\r\n\t\t\tString inputLine;\r\n\t\t\twhile ((inputLine = in.readLine()) != null) \r\n\t\t\t\tSystem.out.println(inputLine);\r\n\t\t\tin.close();\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html","title":"HTTP GET request in java","body":"<p>You can create the <code>URL</code> object using your URL, it will figure out ports and other things itself. Ref : <a href=\"https://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html</a></p>\n\n<pre><code>public class URLConnectionReader {\n    public static void main(String[] args) throws Exception {\n        URL oracle = new URL(\"http://localhost:4567/XXXX\");\n        URLConnection yc = oracle.openConnection();\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n                                    yc.getInputStream()));\n        String inputLine;\n        while ((inputLine = in.readLine()) != null) \n            System.out.println(inputLine);\n        in.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458592158,"creation_date":1458592158,"answer_id":36140960,"question_id":36140269,"body_markdown":"Why don&#39;t you use Apache HTTPClient library. It is simple to use.\r\n\r\n    HttpClient client = new HttpClient();\r\n\r\nrefer the document http://hc.apache.org/httpclient-3.x/tutorial.html","title":"HTTP GET request in java","body":"<p>Why don't you use Apache HTTPClient library. It is simple to use.</p>\n\n<pre><code>HttpClient client = new HttpClient();\n</code></pre>\n\n<p>refer the document <a href=\"http://hc.apache.org/httpclient-3.x/tutorial.html\" rel=\"nofollow\">http://hc.apache.org/httpclient-3.x/tutorial.html</a></p>\n"}],"owner":{"account_id":7904729,"reputation":45,"user_id":5970623,"accept_rate":50,"display_name":"Jayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36140425,"answer_count":2,"score":1,"last_activity_date":1694422086,"creation_date":1458589784,"question_id":36140269,"body_markdown":"I&#39;m trying to use http get request on java, to my localhost on port number 4567.\r\nI got the get request: &quot;wget -q  -O- http://localhost:4567/XXXX&quot;\r\n[XXXX is some parameter - not relevent].\r\nI&#39;ve found a java library java.net.URLConnection for these kind of things but it seems that the URLConnection object is supposed to receive the url/port/.. and all other kind of parameters (In other words, you have to construct the object yourself), however, I got the full http get request as I&#39;ve written above. Is there a way to simply &#39;shoot&#39; the request without dealing with constructing the field for URLConnection?","title":"HTTP GET request in java","body":"<p>I'm trying to use http get request on java, to my localhost on port number 4567.\nI got the get request: \"wget -q  -O- <a href=\"http://localhost:4567/XXXX\" rel=\"nofollow\">http://localhost:4567/XXXX</a>\"\n[XXXX is some parameter - not relevent].\nI've found a java library java.net.URLConnection for these kind of things but it seems that the URLConnection object is supposed to receive the url/port/.. and all other kind of parameters (In other words, you have to construct the object yourself), however, I got the full http get request as I've written above. Is there a way to simply 'shoot' the request without dealing with constructing the field for URLConnection?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":2,"creation_date":1694420748,"post_id":77079894,"comment_id":135883738,"body_markdown":"dont paste links to images, paste your error log","body":"dont paste links to images, paste your error log"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694614630,"post_id":77079894,"comment_id":135914783,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)!","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>!"}],"answers":[{"tags":[],"owner":{"display_name":"user22391295"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694422059,"creation_date":1694422059,"answer_id":77080154,"question_id":77079894,"body_markdown":"provide your logcat errors. i will edit this answer and try to help you.","title":"I can&#39;t run basic views acivity in android studio by java","body":"<p>provide your logcat errors. i will edit this answer and try to help you.</p>\n"}],"owner":{"account_id":27340492,"reputation":1,"user_id":20851228,"display_name":"Phi &#194;u"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694422059,"creation_date":1694419758,"question_id":77079894,"body_markdown":"when I run the app by java languages it appears like that\r\n[enter[enter image description here](https://i.stack.imgur.com/KK2Yr.png) image description here](https://i.stack.imgur.com/tE4JQ.png)\r\n\r\nI try delete android studio and find many places but it not run. I don&#39;t know the way to fix this fault","title":"I can&#39;t run basic views acivity in android studio by java","body":"<p>when I run the app by java languages it appears like that\n[enter<a href=\"https://i.stack.imgur.com/KK2Yr.png\" rel=\"nofollow noreferrer\">enter image description here</a> image description here](<a href=\"https://i.stack.imgur.com/tE4JQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tE4JQ.png</a>)</p>\n<p>I try delete android studio and find many places but it not run. I don't know the way to fix this fault</p>\n"},{"tags":["java","android","android-studio","nfc","ndef"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1694422055,"creation_date":1605827625,"answer_id":64921434,"question_id":64920307,"body_markdown":"I would ignore what the Google documentation says for reading at https://developer.android.com/guide/topics/connectivity/nfc/nfc and for read/write at https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#read-write as this provides a very poor user experience for writing to Tags and leads to a lot of failed writes because of user behaviour.\r\n\r\nTo get reliable writing to NFC with Android you should use the newer and much better `enableReaderMode` API https://developer.android.com/reference/android/nfc/NfcAdapter\r\n\r\nUsing this newer API leads to a lot less failed writes and corrupted cards because you can control when the notification sound happens. With the old `Intent` based system the system pauses your app and then reads the card and makes a notification sound, the user then removes the card before your App is resumed and has a chance to handle the card data and write to the card.\r\n\r\nWith the newer `enableReaderMode` API you turn off the system notification sound and your App is never paused to read the NFC card, you can then read and write to the card and then when you have successfully written to the card you can make the notification sound yourself.\r\n\r\nBecause any errors are silent, the user will keep trying to present the card until the success Notification. Additional logic is needed not to write the same message every time a single card or different cards are presented.\r\n\r\nSome example code (adapted from my NFC app to handle low level reading and writing (not Ndef Tag technology))\r\n\r\n``` lang-java\r\n\r\npublic class NFCActivity extends AppCompatActivity implements NfcAdapter.ReaderCallback{\r\n\r\nprivate NfcAdapter mNfcAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_nfc);\r\n\r\n        mNfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n\r\n        // Rest of Activity setup\r\n     }\r\n\r\n@Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        if(mNfcAdapter!= null) {\r\n            Bundle options = new Bundle();\r\n            // Work around for some broken Nfc firmware implementations that poll the card too fast\r\n            options.putInt(NfcAdapter.EXTRA_READER_PRESENCE_CHECK_DELAY, 250);\r\n\r\n            // Enable ReaderMode for all types of card and disable platform sounds\r\n            mNfcAdapter.enableReaderMode(this,\r\n                    this,\r\n                    NfcAdapter.FLAG_READER_NFC_A |\r\n                            NfcAdapter.FLAG_READER_NFC_B |\r\n                            NfcAdapter.FLAG_READER_NFC_F |\r\n                            NfcAdapter.FLAG_READER_NFC_V |\r\n                            NfcAdapter.FLAG_READER_NFC_BARCODE |\r\n                            NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS,\r\n                    options);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        if(mNfcAdapter!= null)\r\n            mNfcAdapter.disableReaderMode(this);\r\n    }\r\n    \r\n   // This method is run in another thread when a card is discovered\r\n   // !!!! This method cannot cannot direct interact with the UI Thread\r\n   // Use `runOnUiThread` method to change the UI from this method\r\n   public void onTagDiscovered(Tag tag) {\r\n\r\n      // Read and or write to Tag here to the appropriate Tag Technology type class\r\n      // in this example the card should be an Ndef Technology Type \r\n      Ndef mNdef = Ndef.get(tag);\r\n\r\n      // Check that it is an Ndef capable card\r\n      if (mNdef!= null) {\r\n\r\n      // If we want to read\r\n      // As we did not turn on the NfcAdapter.FLAG_READER_SKIP_NDEF_CHECK\r\n      // We can get the cached Ndef message the system read for us.\r\n\r\n      NdefMessage mNdefMessage = mNdef.getCachedNdefMessage();\r\n\r\n\r\n      // Or if we want to write a Ndef message\r\n\r\n      // Create a Ndef Record\r\n      NdefRecord mRecord = NdefRecord.createTextRecord(&quot;en&quot;,&quot;English String&quot;);\r\n\r\n      // Add to a NdefMessage\r\n      NdefMessage mMsg = new NdefMessage(mRecord);\r\n      \r\n      // Catch errors\r\n      try {\r\n          mNdef.connect();\r\n          mNdef.writeNdefMessage(mMsg);\r\n\r\n          // Success if got to here\r\n          runOnUiThread(() -&gt; {\r\n             Toast.makeText(getApplicationContext(),\r\n               &quot;Write to NFC Success&quot;,\r\n               Toast.LENGTH_SHORT).show();\r\n          });\r\n\r\n          // Make a Sound\r\n          try {\r\n              Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n              Ringtone r = RingtoneManager.getRingtone(getApplicationContext(),\r\n                  notification);\r\n              r.play();\r\n              } catch (Exception e) {\r\n                 // Some error playing sound\r\n              }\r\n          \r\n      } catch (FormatException e) {\r\n        // if the NDEF Message to write is malformed\r\n      } catch (TagLostException e) {\r\n        // Tag went out of range before operations were complete\r\n      } catch (IOException e){\r\n        // if there is an I/O failure, or the operation is cancelled\r\n      } catch (SecurityException e){\r\n        // The SecurityException is only for Android 12L and above\r\n        // The Tag object might have gone stale by the time\r\n        // the code gets to process it, with a new one been\r\n        // delivered (for the same or different Tag)\r\n        // The SecurityException is thrown if you are working on\r\n        // a stale Tag\r\n      } finally {\r\n        // Be nice and try and close the tag to\r\n        // Disable I/O operations to the tag from this TagTechnology object, and release resources. \r\n         try {\r\n                mNdef.close();\r\n             } catch (IOException e) {\r\n               // if there is an I/O failure, or the operation is cancelled\r\n             }\r\n      }\r\n\r\n   }\r\n\r\n}\r\n\r\n```\r\n","title":"How to write NDEF records to NFC tag?","body":"<p>I would ignore what the Google documentation says for reading at <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/nfc\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/nfc/nfc</a> and for read/write at <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#read-write\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#read-write</a> as this provides a very poor user experience for writing to Tags and leads to a lot of failed writes because of user behaviour.</p>\n<p>To get reliable writing to NFC with Android you should use the newer and much better <code>enableReaderMode</code> API <a href=\"https://developer.android.com/reference/android/nfc/NfcAdapter\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/nfc/NfcAdapter</a></p>\n<p>Using this newer API leads to a lot less failed writes and corrupted cards because you can control when the notification sound happens. With the old <code>Intent</code> based system the system pauses your app and then reads the card and makes a notification sound, the user then removes the card before your App is resumed and has a chance to handle the card data and write to the card.</p>\n<p>With the newer <code>enableReaderMode</code> API you turn off the system notification sound and your App is never paused to read the NFC card, you can then read and write to the card and then when you have successfully written to the card you can make the notification sound yourself.</p>\n<p>Because any errors are silent, the user will keep trying to present the card until the success Notification. Additional logic is needed not to write the same message every time a single card or different cards are presented.</p>\n<p>Some example code (adapted from my NFC app to handle low level reading and writing (not Ndef Tag technology))</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class NFCActivity extends AppCompatActivity implements NfcAdapter.ReaderCallback{\n\nprivate NfcAdapter mNfcAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_nfc);\n\n        mNfcAdapter = NfcAdapter.getDefaultAdapter(this);\n\n        // Rest of Activity setup\n     }\n\n@Override\n    protected void onResume() {\n        super.onResume();\n\n        if(mNfcAdapter!= null) {\n            Bundle options = new Bundle();\n            // Work around for some broken Nfc firmware implementations that poll the card too fast\n            options.putInt(NfcAdapter.EXTRA_READER_PRESENCE_CHECK_DELAY, 250);\n\n            // Enable ReaderMode for all types of card and disable platform sounds\n            mNfcAdapter.enableReaderMode(this,\n                    this,\n                    NfcAdapter.FLAG_READER_NFC_A |\n                            NfcAdapter.FLAG_READER_NFC_B |\n                            NfcAdapter.FLAG_READER_NFC_F |\n                            NfcAdapter.FLAG_READER_NFC_V |\n                            NfcAdapter.FLAG_READER_NFC_BARCODE |\n                            NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS,\n                    options);\n        }\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        if(mNfcAdapter!= null)\n            mNfcAdapter.disableReaderMode(this);\n    }\n    \n   // This method is run in another thread when a card is discovered\n   // !!!! This method cannot cannot direct interact with the UI Thread\n   // Use `runOnUiThread` method to change the UI from this method\n   public void onTagDiscovered(Tag tag) {\n\n      // Read and or write to Tag here to the appropriate Tag Technology type class\n      // in this example the card should be an Ndef Technology Type \n      Ndef mNdef = Ndef.get(tag);\n\n      // Check that it is an Ndef capable card\n      if (mNdef!= null) {\n\n      // If we want to read\n      // As we did not turn on the NfcAdapter.FLAG_READER_SKIP_NDEF_CHECK\n      // We can get the cached Ndef message the system read for us.\n\n      NdefMessage mNdefMessage = mNdef.getCachedNdefMessage();\n\n\n      // Or if we want to write a Ndef message\n\n      // Create a Ndef Record\n      NdefRecord mRecord = NdefRecord.createTextRecord(&quot;en&quot;,&quot;English String&quot;);\n\n      // Add to a NdefMessage\n      NdefMessage mMsg = new NdefMessage(mRecord);\n      \n      // Catch errors\n      try {\n          mNdef.connect();\n          mNdef.writeNdefMessage(mMsg);\n\n          // Success if got to here\n          runOnUiThread(() -&gt; {\n             Toast.makeText(getApplicationContext(),\n               &quot;Write to NFC Success&quot;,\n               Toast.LENGTH_SHORT).show();\n          });\n\n          // Make a Sound\n          try {\n              Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n              Ringtone r = RingtoneManager.getRingtone(getApplicationContext(),\n                  notification);\n              r.play();\n              } catch (Exception e) {\n                 // Some error playing sound\n              }\n          \n      } catch (FormatException e) {\n        // if the NDEF Message to write is malformed\n      } catch (TagLostException e) {\n        // Tag went out of range before operations were complete\n      } catch (IOException e){\n        // if there is an I/O failure, or the operation is cancelled\n      } catch (SecurityException e){\n        // The SecurityException is only for Android 12L and above\n        // The Tag object might have gone stale by the time\n        // the code gets to process it, with a new one been\n        // delivered (for the same or different Tag)\n        // The SecurityException is thrown if you are working on\n        // a stale Tag\n      } finally {\n        // Be nice and try and close the tag to\n        // Disable I/O operations to the tag from this TagTechnology object, and release resources. \n         try {\n                mNdef.close();\n             } catch (IOException e) {\n               // if there is an I/O failure, or the operation is cancelled\n             }\n      }\n\n   }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":17025123,"reputation":117,"user_id":12316598,"display_name":"Camil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8878,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":64921434,"answer_count":1,"score":8,"last_activity_date":1694422055,"creation_date":1605821357,"question_id":64920307,"body_markdown":"How do I write NDEF message to NFC tag?\r\nDo I have to change manifest file?\r\nSo far I have code to generate NDEF message:\r\n\r\n        public NdefRecord createTextRecord(String payload, Locale locale, boolean encodeInUtf8) {\r\n        byte[] langBytes = locale.getLanguage().getBytes(Charset.forName(&quot;US-ASCII&quot;));\r\n        Charset utfEncoding = encodeInUtf8 ? Charset.forName(&quot;UTF-8&quot;) : Charset.forName(&quot;UTF-16&quot;);\r\n        byte[] textBytes = payload.getBytes(utfEncoding);\r\n        int utfBit = encodeInUtf8 ? 0 : (1 &lt;&lt; 7);\r\n        char status = (char) (utfBit + langBytes.length);\r\n        byte[] data = new byte[1 + langBytes.length + textBytes.length];\r\n        data[0] = (byte) status;\r\n        System.arraycopy(langBytes, 0, data, 1, langBytes.length);\r\n        System.arraycopy(textBytes, 0, data, 1 + langBytes.length, textBytes.length);\r\n        NdefRecord record = new NdefRecord(NdefRecord.TNF_WELL_KNOWN,\r\n                NdefRecord.RTD_TEXT, new byte[0], data);\r\n        return record;\r\n    }\r\n\r\n\r\nHow do I discover the TAG?\r\nCan someone help me with that?","title":"How to write NDEF records to NFC tag?","body":"<p>How do I write NDEF message to NFC tag?\nDo I have to change manifest file?\nSo far I have code to generate NDEF message:</p>\n<pre><code>    public NdefRecord createTextRecord(String payload, Locale locale, boolean encodeInUtf8) {\n    byte[] langBytes = locale.getLanguage().getBytes(Charset.forName(&quot;US-ASCII&quot;));\n    Charset utfEncoding = encodeInUtf8 ? Charset.forName(&quot;UTF-8&quot;) : Charset.forName(&quot;UTF-16&quot;);\n    byte[] textBytes = payload.getBytes(utfEncoding);\n    int utfBit = encodeInUtf8 ? 0 : (1 &lt;&lt; 7);\n    char status = (char) (utfBit + langBytes.length);\n    byte[] data = new byte[1 + langBytes.length + textBytes.length];\n    data[0] = (byte) status;\n    System.arraycopy(langBytes, 0, data, 1, langBytes.length);\n    System.arraycopy(textBytes, 0, data, 1 + langBytes.length, textBytes.length);\n    NdefRecord record = new NdefRecord(NdefRecord.TNF_WELL_KNOWN,\n            NdefRecord.RTD_TEXT, new byte[0], data);\n    return record;\n}\n</code></pre>\n<p>How do I discover the TAG?\nCan someone help me with that?</p>\n"},{"tags":["java","ant","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1450735228,"post_id":34403499,"comment_id":56551901,"body_markdown":"Did you try following the [Tika Troubleshooting - No Content Extracted](http://wiki.apache.org/tika/Troubleshooting%20Tika#No_Content_Extracted) guide from Apache Tika? Also, are you aware that bundling a jar in a jar doesn&#39;t automatically work to put it on the classpath?","body":"Did you try following the <a href=\"http://wiki.apache.org/tika/Troubleshooting%20Tika#No_Content_Extracted\" rel=\"nofollow noreferrer\">Tika Troubleshooting - No Content Extracted</a> guide from Apache Tika? Also, are you aware that bundling a jar in a jar doesn&#39;t automatically work to put it on the classpath?"},{"owner":{"account_id":7402043,"reputation":101,"user_id":5632161,"display_name":"Pat"},"score":0,"creation_date":1450736683,"post_id":34403499,"comment_id":56552498,"body_markdown":"So my issue is that it appears to not be aware of the parsers at runtime. I was under the impression that the lines in the ant file above included the jar on the class path. I&#39;ve been \nIm able to get this to work in my environment if i do a export CLASSPATH=/location/of/tika/app. What is the &quot;proper&quot; way of doing this with ant? Im generally confused by compile path vs. runtime classpath.","body":"So my issue is that it appears to not be aware of the parsers at runtime. I was under the impression that the lines in the ant file above included the jar on the class path. I&#39;ve been  Im able to get this to work in my environment if i do a export CLASSPATH=/location/of/tika/app. What is the &quot;proper&quot; way of doing this with ant? Im generally confused by compile path vs. runtime classpath."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1450743854,"post_id":34403499,"comment_id":56555026,"body_markdown":"If you&#39;re happy to let Ant launch the program for you, just do a `&lt;java` task which has a classpath entry that pulls in the required jars. If not, look at Apache Ivy, which&#39;ll let you suck down dependencies from within Ant","body":"If you&#39;re happy to let Ant launch the program for you, just do a <code>&lt;java</code> task which has a classpath entry that pulls in the required jars. If not, look at Apache Ivy, which&#39;ll let you suck down dependencies from within Ant"},{"owner":{"account_id":7402043,"reputation":101,"user_id":5632161,"display_name":"Pat"},"score":0,"creation_date":1450792874,"post_id":34403499,"comment_id":56576125,"body_markdown":"Well, i&#39;m submitting the jar to spark and i&#39;m on a machine that has no internet access. I have previously seen some manifest classpath tags but they did not function in the way i expected them to.","body":"Well, i&#39;m submitting the jar to spark and i&#39;m on a machine that has no internet access. I have previously seen some manifest classpath tags but they did not function in the way i expected them to."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1450794682,"post_id":34403499,"comment_id":56577279,"body_markdown":"I would suggest you ask a fresh question on how to get your code + all the dependency jars to be correctly bundled/deployed to spark. Once you know how to get that right, that may solve this issue, or may get you closer","body":"I would suggest you ask a fresh question on how to get your code + all the dependency jars to be correctly bundled/deployed to spark. Once you know how to get that right, that may solve this issue, or may get you closer"},{"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"score":0,"creation_date":1491058013,"post_id":34403499,"comment_id":73391440,"body_markdown":"@Gagravarr Should the troubleshooting guide read `tika.getParser()` rather than `parser.getParser()` on the 4th line in this code snippet:\nhttps://wiki.apache.org/tika/Troubleshooting%20Tika#Tika_Facade-2?","body":"@Gagravarr Should the troubleshooting guide read <code>tika.getParser()</code> rather than <code>parser.getParser()</code> on the 4th line in this code snippet: <a href=\"https://wiki.apache.org/tika/Troubleshooting%20Tika#Tika_Facade-2\" rel=\"nofollow noreferrer\">wiki.apache.org/tika/Troubleshooting%20Tika#Tika_Facade-2</a>?"}],"answers":[{"tags":[],"owner":{"account_id":14080656,"reputation":356,"user_id":10171789,"display_name":"Leonardo Bouchan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537826727,"creation_date":1537826727,"answer_id":52487977,"question_id":34403499,"body_markdown":"I have the same issue, i have corrected adding the Tika Core and Parser dependency on my Pom.xml like this again and then Update Maven on Eclipse.\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n          &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n          &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"Tika AutoDetectParser returning empty string?","body":"<p>I have the same issue, i have corrected adding the Tika Core and Parser dependency on my Pom.xml like this again and then Update Maven on Eclipse.</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n      &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n      &lt;version&gt;1.18&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n      &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n      &lt;version&gt;1.18&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20279494,"reputation":1,"user_id":14873637,"display_name":"Elya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694422022,"creation_date":1694422022,"answer_id":77080151,"question_id":34403499,"body_markdown":"For me downgrading libs to 1.18 worked. Shame that newer versions are not working","title":"Tika AutoDetectParser returning empty string?","body":"<p>For me downgrading libs to 1.18 worked. Shame that newer versions are not working</p>\n"}],"owner":{"account_id":7402043,"reputation":101,"user_id":5632161,"display_name":"Pat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3698,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1694422022,"creation_date":1450728268,"question_id":34403499,"body_markdown":"I&#39;m attempting to use Tika&#39;s AutoDetectParser to pull a file&#39;s content.\r\nI originally thought this was a dependency issue but cannot fathom how that could still be true now that i&#39;m including all of tika-app in my jar.\r\n\r\nAutoDetect Parser returns emptry string here   :\r\n\r\n    BodyContentHandler handler = new BodyContentHandler();  \r\n    AutoDetectParser parser = new AutoDetectParser();\r\n    Metadata metadata = new Metadata();\r\n    ParseContext context = new ParseContext();\r\n    FileInputStream mypdfstream = new FileInputStream(new File(&quot;mypdf.pdf&quot;));\r\n    parser.parse(mypdfstream,handler,metadata,context);\r\n    System.out.println(handler.toString());\r\n\r\nFurther confusing me is the fact that using a standard PDFParser works fine...:\r\n\r\n    BodyContentHandler handler = new BodyContentHandler();\r\n    Metadata metadata = new Metadata();\r\n    ParseContext context = new ParseContext();\r\n    FileInputStream mypdfstream = new FileInputStream(new File(&quot;mypdf.pdf&quot;));\r\n    PDFParser pdfparser = new PDFParser();\r\n    pdfparser.parse(mypdfstream,handler,metadata,context);\r\n    System.out.println(handler.toString());\r\n\r\n\r\nI have included both the tika-app and tika-parsers jar on my classpath and included them within the jar created by ant.\r\n\r\nrelevant portions of `build.xml`\r\n\r\n    &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot;&gt;\r\n                    &lt;classpath&gt;\r\n                            &lt;pathelement path = &quot;lib/tika-app-1.11.jar&quot;/&gt;\r\n                            &lt;pathelement path = &quot;lib/tika-parsers-1.11.jar&quot;/&gt;\r\n                    &lt;/classpath&gt;\r\n     &lt;/javac&gt;\r\n\r\n    &lt;jar jarfile=&quot;${dist}/lib/MyProject-${DSTAMP}.jar&quot; basedir=&quot;${build}&quot;&gt;\r\n            &lt;zipgroupfileset dir=&quot;lib&quot; includes=&quot;tika-app-1.11.jar&quot;/&gt;\r\n            &lt;zipgroupfileset dir=&quot;lib&quot; includes=&quot;tika-parsers-1.11.jar&quot;/&gt;\r\n    &lt;/jar&gt;\r\n\r\nEdit: I looked at my list of `supportedTypes` with `parser.getSupportTypes(context))` and it was empty. As is the list of parsers returned from `parser.getParsers()`.\r\n\r\nSo perhaps this is yet another dependency issue? This truly surprises me given tika-app is included.\r\n","title":"Tika AutoDetectParser returning empty string?","body":"<p>I'm attempting to use Tika's AutoDetectParser to pull a file's content.\nI originally thought this was a dependency issue but cannot fathom how that could still be true now that i'm including all of tika-app in my jar.</p>\n\n<p>AutoDetect Parser returns emptry string here   :</p>\n\n<pre><code>BodyContentHandler handler = new BodyContentHandler();  \nAutoDetectParser parser = new AutoDetectParser();\nMetadata metadata = new Metadata();\nParseContext context = new ParseContext();\nFileInputStream mypdfstream = new FileInputStream(new File(\"mypdf.pdf\"));\nparser.parse(mypdfstream,handler,metadata,context);\nSystem.out.println(handler.toString());\n</code></pre>\n\n<p>Further confusing me is the fact that using a standard PDFParser works fine...:</p>\n\n<pre><code>BodyContentHandler handler = new BodyContentHandler();\nMetadata metadata = new Metadata();\nParseContext context = new ParseContext();\nFileInputStream mypdfstream = new FileInputStream(new File(\"mypdf.pdf\"));\nPDFParser pdfparser = new PDFParser();\npdfparser.parse(mypdfstream,handler,metadata,context);\nSystem.out.println(handler.toString());\n</code></pre>\n\n<p>I have included both the tika-app and tika-parsers jar on my classpath and included them within the jar created by ant.</p>\n\n<p>relevant portions of <code>build.xml</code></p>\n\n<pre><code>&lt;javac srcdir=\"${src}\" destdir=\"${build}\"&gt;\n                &lt;classpath&gt;\n                        &lt;pathelement path = \"lib/tika-app-1.11.jar\"/&gt;\n                        &lt;pathelement path = \"lib/tika-parsers-1.11.jar\"/&gt;\n                &lt;/classpath&gt;\n &lt;/javac&gt;\n\n&lt;jar jarfile=\"${dist}/lib/MyProject-${DSTAMP}.jar\" basedir=\"${build}\"&gt;\n        &lt;zipgroupfileset dir=\"lib\" includes=\"tika-app-1.11.jar\"/&gt;\n        &lt;zipgroupfileset dir=\"lib\" includes=\"tika-parsers-1.11.jar\"/&gt;\n&lt;/jar&gt;\n</code></pre>\n\n<p>Edit: I looked at my list of <code>supportedTypes</code> with <code>parser.getSupportTypes(context))</code> and it was empty. As is the list of parsers returned from <code>parser.getParsers()</code>.</p>\n\n<p>So perhaps this is yet another dependency issue? This truly surprises me given tika-app is included.</p>\n"},{"tags":["java","json","spring-boot","jackson","objectmapper"],"comments":[{"owner":{"account_id":181187,"reputation":23168,"user_id":415016,"accept_rate":29,"display_name":"balderman"},"score":0,"creation_date":1694247813,"post_id":77071394,"comment_id":135868823,"body_markdown":"What if your json will not include middleName?","body":"What if your json will not include middleName?"},{"owner":{"account_id":16514394,"reputation":1,"user_id":11932279,"display_name":"I_GOT_THIS"},"score":0,"creation_date":1694248462,"post_id":77071394,"comment_id":135868865,"body_markdown":"@balderman Then it will not be updated in the table.","body":"@balderman Then it will not be updated in the table."},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694253254,"post_id":77071394,"comment_id":135869209,"body_markdown":"You have to rethink your client/server contract. What if the client wants to reset the middle name? If you treat an absent attribute, an empty or null string all the same there is no chance to do this.","body":"You have to rethink your client/server contract. What if the client wants to reset the middle name? If you treat an absent attribute, an empty or null string all the same there is no chance to do this."}],"answers":[{"tags":[],"owner":{"account_id":15987967,"reputation":420,"user_id":11537839,"display_name":"ProGamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694266079,"creation_date":1694266079,"answer_id":77072479,"question_id":77071394,"body_markdown":"Try changing annotation value from \r\n\r\n```\r\n@JsonInclude(Include.NON_NULL) // ignores null values\r\n```\r\nTo : \r\n```\r\n@JsonInclude(Include.NON_EMPTY) // ignores empty values (empty string, null, etc)\r\n```","title":"How do I make ObjectMapper ignore empty string fields during deserialization?","body":"<p>Try changing annotation value from</p>\n<pre><code>@JsonInclude(Include.NON_NULL) // ignores null values\n</code></pre>\n<p>To :</p>\n<pre><code>@JsonInclude(Include.NON_EMPTY) // ignores empty values (empty string, null, etc)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694361605,"creation_date":1694361605,"answer_id":77076891,"question_id":77071394,"body_markdown":"It seems to me that you try to achieve very specific logic by means of general purpose method.\r\n\r\n**objectMapper.updateValue** executes very simple logic: converting source object to the type of target object and then merging result into target object.\r\n\r\nIn your case you want to apply specific logic (skip updating a field of target object in case it&#39;s empty in the source object). This logic is not assumed by this method. There&#39;s even no parameter in this method that could switch on/off this logic.\r\n\r\nYou may use **objectMapper.readValue** to parse input string into target object, but then apply the merge logic you want manually.\r\n","title":"How do I make ObjectMapper ignore empty string fields during deserialization?","body":"<p>It seems to me that you try to achieve very specific logic by means of general purpose method.</p>\n<p><strong>objectMapper.updateValue</strong> executes very simple logic: converting source object to the type of target object and then merging result into target object.</p>\n<p>In your case you want to apply specific logic (skip updating a field of target object in case it's empty in the source object). This logic is not assumed by this method. There's even no parameter in this method that could switch on/off this logic.</p>\n<p>You may use <strong>objectMapper.readValue</strong> to parse input string into target object, but then apply the merge logic you want manually.</p>\n"}],"owner":{"account_id":16514394,"reputation":1,"user_id":11932279,"display_name":"I_GOT_THIS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694421770,"creation_date":1694247406,"question_id":77071394,"body_markdown":"I have this service method for my edit API that maps my pojo class to an entity class for update operation. The CustomerDetail is my Dto class.\r\n\r\n    public CustomerRegistration editCustomerDetails\r\n    (Long id, CustomerDetail customerDetail) throws JsonMappingException \r\n    \r\n    {\r\n    \r\n            CustomerRegistration customer = customerRegistrationRepository.findByRegistrationId(id);\r\n            if (customer == null)\r\n                return null;\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.updateValue(customer, customerDetail);\r\n            customer.setModifiedTs(Timestamp.valueOf(LocalDateTime.now()));\r\n            customerRegistrationRepository.save(customer);\r\n            return customer;\r\n    \r\n        }\r\n\r\nLet&#39;s say I want to update the customer details of customerID 1, my request body consists of these fields:\r\n\r\n    {\r\n    &quot;firstName&quot;:&quot;Leon&quot;,\r\n    &quot;middleName&quot;:&quot;&quot;,\r\n    &quot;lastName&quot;:&quot;Kennedy&quot;,\r\n    &quot;addr1&quot;:&quot;cross&quot;,\r\n    &quot;addr2&quot;:&quot;new&quot;\r\n    }\r\n\r\nMy customer table already has a middle name for customerID 1. I want to ignore the update operation for middleName field in the table as the request body has an empty string. In my case it is being set to null/empty in the table. How can I avoid this?\r\n\r\nMy pojo class has already been annotated with @JsonInclude(Include.NON_NULL)","title":"How do I make ObjectMapper ignore empty string fields during deserialization?","body":"<p>I have this service method for my edit API that maps my pojo class to an entity class for update operation. The CustomerDetail is my Dto class.</p>\n<pre><code>public CustomerRegistration editCustomerDetails\n(Long id, CustomerDetail customerDetail) throws JsonMappingException \n\n{\n\n        CustomerRegistration customer = customerRegistrationRepository.findByRegistrationId(id);\n        if (customer == null)\n            return null;\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.updateValue(customer, customerDetail);\n        customer.setModifiedTs(Timestamp.valueOf(LocalDateTime.now()));\n        customerRegistrationRepository.save(customer);\n        return customer;\n\n    }\n</code></pre>\n<p>Let's say I want to update the customer details of customerID 1, my request body consists of these fields:</p>\n<pre><code>{\n&quot;firstName&quot;:&quot;Leon&quot;,\n&quot;middleName&quot;:&quot;&quot;,\n&quot;lastName&quot;:&quot;Kennedy&quot;,\n&quot;addr1&quot;:&quot;cross&quot;,\n&quot;addr2&quot;:&quot;new&quot;\n}\n</code></pre>\n<p>My customer table already has a middle name for customerID 1. I want to ignore the update operation for middleName field in the table as the request body has an empty string. In my case it is being set to null/empty in the table. How can I avoid this?</p>\n<p>My pojo class has already been annotated with @JsonInclude(Include.NON_NULL)</p>\n"},{"tags":["java","generics","polymorphism","overloading"],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338155280,"creation_date":1338154398,"answer_id":10777435,"question_id":10777384,"body_markdown":"Creating an Interface Crushable seems like the cleanest way to go. Is subtyping Garlic or Dreams an option, and adding your Interface to the subtype?\r\n\r\nBarring that, you can put common code in a private method, and have the two versions of utterlyDestroy do what they have to do to the individual objects before calling the common code. If you method body is long, probably need to break it up into private methods anyway. I&#39;m guessing you already thought of this, though, as it is even more obvious a solution than adding an Interface.\r\n\r\nYou can bring the parameter in as an Object and then cast it. Is this what you mean by reflection? i.e., \r\n\r\n    public void utterlyCrush(Object crushable) {\r\n        if (crushable instanceOf Dream) {\r\n             ...\r\n        }\r\n        if (curshable instanceOf Garlic) {\r\n             ...\r\n        }\r\n\r\nBut casting from Garlic to Dream is not an option given that one is not a subtype of the other.\r\n ","title":"Method accepting two different types as parameter","body":"<p>Creating an Interface Crushable seems like the cleanest way to go. Is subtyping Garlic or Dreams an option, and adding your Interface to the subtype?</p>\n\n<p>Barring that, you can put common code in a private method, and have the two versions of utterlyDestroy do what they have to do to the individual objects before calling the common code. If you method body is long, probably need to break it up into private methods anyway. I'm guessing you already thought of this, though, as it is even more obvious a solution than adding an Interface.</p>\n\n<p>You can bring the parameter in as an Object and then cast it. Is this what you mean by reflection? i.e., </p>\n\n<pre><code>public void utterlyCrush(Object crushable) {\n    if (crushable instanceOf Dream) {\n         ...\n    }\n    if (curshable instanceOf Garlic) {\n         ...\n    }\n</code></pre>\n\n<p>But casting from Garlic to Dream is not an option given that one is not a subtype of the other.</p>\n"},{"tags":[],"owner":{"account_id":1281557,"reputation":13320,"user_id":1235565,"accept_rate":62,"display_name":"Jirka Hanika"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1338154860,"creation_date":1338154403,"answer_id":10777436,"question_id":10777384,"body_markdown":"Simply use method overloading.\r\n\r\n    public void utterlyDestroy(Dreams parameter) {\r\n        parameter.crush();\r\n    }\r\n    \r\n    public void utterlyDestroy(Garlic parameter) {\r\n        parameter.crush();\r\n    }\r\n\r\nIf you want to support more than these two types in the same way, you can define a common interface for them all and use generics.\r\n","title":"Method accepting two different types as parameter","body":"<p>Simply use method overloading.</p>\n\n<pre><code>public void utterlyDestroy(Dreams parameter) {\n    parameter.crush();\n}\n\npublic void utterlyDestroy(Garlic parameter) {\n    parameter.crush();\n}\n</code></pre>\n\n<p>If you want to support more than these two types in the same way, you can define a common interface for them all and use generics.</p>\n"},{"tags":[],"owner":{"account_id":1352199,"reputation":1071,"user_id":1345020,"display_name":"AardvarkSoup"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1338154749,"creation_date":1338154749,"answer_id":10777472,"question_id":10777384,"body_markdown":"You can implement a Haskell-esque Either-class in Java; something like this:\r\n\r\n    class Either&lt;L,R&gt;\r\n    {\r\n        private Object value;\r\n        \r\n        public static enum Side {LEFT, RIGHT}\r\n        \r\n        public Either(L left)  {value = left;}\r\n        public Either(R right) {value = right;}\r\n        \r\n        public Side getSide() {return value instanceof L ? Side.LEFT : Side.RIGHT;}\r\n        \r\n        // Both return null if the correct side isn&#39;t contained.\r\n        public L getLeft() {return value instanceof L ? (L) value : null;}\r\n        public R getRight() {return value instanceof R ? (R) value : null;}\r\n    }\r\n\r\nThen you let that method take something of type `Either&lt;Dreams, Garlic&gt;`.","title":"Method accepting two different types as parameter","body":"<p>You can implement a Haskell-esque Either-class in Java; something like this:</p>\n\n<pre><code>class Either&lt;L,R&gt;\n{\n    private Object value;\n\n    public static enum Side {LEFT, RIGHT}\n\n    public Either(L left)  {value = left;}\n    public Either(R right) {value = right;}\n\n    public Side getSide() {return value instanceof L ? Side.LEFT : Side.RIGHT;}\n\n    // Both return null if the correct side isn't contained.\n    public L getLeft() {return value instanceof L ? (L) value : null;}\n    public R getRight() {return value instanceof R ? (R) value : null;}\n}\n</code></pre>\n\n<p>Then you let that method take something of type <code>Either&lt;Dreams, Garlic&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1126038,"reputation":156,"user_id":1113312,"display_name":"Sergio Nakanishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338154811,"creation_date":1338154811,"answer_id":10777479,"question_id":10777384,"body_markdown":"If you are going to treat them the same way in many places of your project, I suggest to wrap them in a class, something like an Adapter.","title":"Method accepting two different types as parameter","body":"<p>If you are going to treat them the same way in many places of your project, I suggest to wrap them in a class, something like an Adapter.</p>\n"},{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1338155050,"creation_date":1338155050,"answer_id":10777506,"question_id":10777384,"body_markdown":"How about this:\r\n\r\n    interface ICrushable {\r\n        void crush();\r\n    }\r\n\r\n    utterlyDestroy(ICrushable parameter) {\r\n        // Very long crushing process goes here\r\n        parameter.crush()\r\n    }\r\n\r\n    utterlyDestroy(Dreams parameter) {\r\n        utterlyDestroy(new ICrushable() { crush() {parameter.crush();});\r\n    }\r\n\r\n    utterlyDestroy(Garlic parameter) {\r\n        utterlyDestroy(new ICrushable() { crush() {parameter.crush();});\r\n    }\r\n\r\nNew development should implement the ICrushable interface, but for the existing Classes, the parameter is wrapped in an ICrushable and passed to the utterlyDestroy(ICrushable) that does all the work.","title":"Method accepting two different types as parameter","body":"<p>How about this:</p>\n\n<pre><code>interface ICrushable {\n    void crush();\n}\n\nutterlyDestroy(ICrushable parameter) {\n    // Very long crushing process goes here\n    parameter.crush()\n}\n\nutterlyDestroy(Dreams parameter) {\n    utterlyDestroy(new ICrushable() { crush() {parameter.crush();});\n}\n\nutterlyDestroy(Garlic parameter) {\n    utterlyDestroy(new ICrushable() { crush() {parameter.crush();});\n}\n</code></pre>\n\n<p>New development should implement the ICrushable interface, but for the existing Classes, the parameter is wrapped in an ICrushable and passed to the utterlyDestroy(ICrushable) that does all the work.</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1653157508,"creation_date":1338155313,"answer_id":10777522,"question_id":10777384,"body_markdown":"How about something as simple as this?\r\n\r\n```java\r\nutterlyDestroy(Object parameter) {\r\n    if (parameter instanceof Dreams) {\r\n        Dreams dream = (Dreams) parameter;\r\n        dream.crush();\r\n        // Here you can use a Dream\r\n    } else if (parameter instanceof Garlic) {\r\n        Garlic garlic = (Garlic) parameter;\r\n        garlic.crush();\r\n        // Here you can use a Garlic\r\n    }\r\n}\r\n```\r\n...or if you are on Java 14+:\r\n```java\r\nutterlyDestroy(Object parameter) {\r\n    if (parameter instanceof Dreams dream) {\r\n        dream.crush();\r\n        // Here you can use a Dream\r\n    } else if (parameter instanceof Garlic garlic) {\r\n        garlic.crush();\r\n        // Here you can use a Garlic\r\n    }\r\n}\r\n```\r\n\r\nIf the `utterlyDestroy` is too complex and big and you just want to call the `crush` then this does what you want.","title":"Method accepting two different types as parameter","body":"<p>How about something as simple as this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>utterlyDestroy(Object parameter) {\n    if (parameter instanceof Dreams) {\n        Dreams dream = (Dreams) parameter;\n        dream.crush();\n        // Here you can use a Dream\n    } else if (parameter instanceof Garlic) {\n        Garlic garlic = (Garlic) parameter;\n        garlic.crush();\n        // Here you can use a Garlic\n    }\n}\n</code></pre>\n<p>...or if you are on Java 14+:</p>\n<pre class=\"lang-java prettyprint-override\"><code>utterlyDestroy(Object parameter) {\n    if (parameter instanceof Dreams dream) {\n        dream.crush();\n        // Here you can use a Dream\n    } else if (parameter instanceof Garlic garlic) {\n        garlic.crush();\n        // Here you can use a Garlic\n    }\n}\n</code></pre>\n<p>If the <code>utterlyDestroy</code> is too complex and big and you just want to call the <code>crush</code> then this does what you want.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338194805,"creation_date":1338194805,"answer_id":10781763,"question_id":10777384,"body_markdown":"You could use an interface and [adapt][1] your types to it.\r\n\r\nInterface:\r\n\r\n    public interface Crushable {\r\n      public void crush();\r\n    }\r\n\r\nExample invocation:\r\n\r\n    public class Crusher {\r\n      public static void crush(Crushable crushable) {\r\n        crushable.crush();\r\n      }\r\n    }\r\n\r\nExample adapter factory method:\r\n\r\n    public final class Dreams {\r\n      public static Crushable asCrushable(final Dream dream) {\r\n        class DreamCrusher implements Crushable {\r\n          @Override\r\n          public void crush() {\r\n            dream.crush();\r\n          }\r\n        }\r\n        return new DreamCrusher();\r\n      }\r\n    \r\n      private Dreams() {}\r\n    }\r\n\r\nThe consumer code looks like this:\r\n\r\n      Dream dream = new Dream();\r\n      Crushable crushable = Dreams.asCrushable(dream);\r\n      Crusher.crush(crushable);\r\n\r\nIf you have many types to adapt, you could consider reflection. Here is an (unoptimized) adapter factory that uses the [Proxy][2] type:\r\n\r\n    public final class Crushables {\r\n      private static final Class&lt;?&gt;[] INTERFACES = { Crushable.class };\r\n    \r\n      public static Crushable adapt(final Object crushable) {\r\n        class Handler implements InvocationHandler {\r\n          @Override\r\n          public Object invoke(Object proxy, Method method, Object[] args)\r\n              throws Throwable {\r\n            return crushable.getClass()\r\n                .getMethod(method.getName(), method.getParameterTypes())\r\n                .invoke(crushable, args);\r\n          }\r\n        }\r\n    \r\n        ClassLoader loader = Thread.currentThread()\r\n            .getContextClassLoader();\r\n        return (Crushable) Proxy.newProxyInstance(loader, INTERFACES, new Handler());\r\n      }\r\n    \r\n      private Crushables() {}\r\n    }\r\n\r\nTo the API consumer, this isn&#39;t that ugly:\r\n\r\n      Dream dream = new Dream();\r\n      Crushable crushable = Crushables.adapt(dream);\r\n      Crusher.crush(crushable);\r\n\r\nHowever, as is usual with reflection, you sacrifice compile-time type checking.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Adapter_pattern\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html","title":"Method accepting two different types as parameter","body":"<p>You could use an interface and <a href=\"http://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow\">adapt</a> your types to it.</p>\n\n<p>Interface:</p>\n\n<pre><code>public interface Crushable {\n  public void crush();\n}\n</code></pre>\n\n<p>Example invocation:</p>\n\n<pre><code>public class Crusher {\n  public static void crush(Crushable crushable) {\n    crushable.crush();\n  }\n}\n</code></pre>\n\n<p>Example adapter factory method:</p>\n\n<pre><code>public final class Dreams {\n  public static Crushable asCrushable(final Dream dream) {\n    class DreamCrusher implements Crushable {\n      @Override\n      public void crush() {\n        dream.crush();\n      }\n    }\n    return new DreamCrusher();\n  }\n\n  private Dreams() {}\n}\n</code></pre>\n\n<p>The consumer code looks like this:</p>\n\n<pre><code>  Dream dream = new Dream();\n  Crushable crushable = Dreams.asCrushable(dream);\n  Crusher.crush(crushable);\n</code></pre>\n\n<p>If you have many types to adapt, you could consider reflection. Here is an (unoptimized) adapter factory that uses the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow\">Proxy</a> type:</p>\n\n<pre><code>public final class Crushables {\n  private static final Class&lt;?&gt;[] INTERFACES = { Crushable.class };\n\n  public static Crushable adapt(final Object crushable) {\n    class Handler implements InvocationHandler {\n      @Override\n      public Object invoke(Object proxy, Method method, Object[] args)\n          throws Throwable {\n        return crushable.getClass()\n            .getMethod(method.getName(), method.getParameterTypes())\n            .invoke(crushable, args);\n      }\n    }\n\n    ClassLoader loader = Thread.currentThread()\n        .getContextClassLoader();\n    return (Crushable) Proxy.newProxyInstance(loader, INTERFACES, new Handler());\n  }\n\n  private Crushables() {}\n}\n</code></pre>\n\n<p>To the API consumer, this isn't that ugly:</p>\n\n<pre><code>  Dream dream = new Dream();\n  Crushable crushable = Crushables.adapt(dream);\n  Crusher.crush(crushable);\n</code></pre>\n\n<p>However, as is usual with reflection, you sacrifice compile-time type checking.</p>\n"},{"tags":[],"owner":{"account_id":4296558,"reputation":11,"user_id":3511475,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396968128,"creation_date":1396968128,"answer_id":22940420,"question_id":10777384,"body_markdown":"\r\nAs I&#39;m using :\r\n\r\n    void fooFunction(Object o){\r\n    Type1 foo=null;\r\n    if(o instanceof Type1) foo=(Type1)o;\r\n    if(o instanceof Type2) foo=((Type2)o).toType1();\r\n    // code\r\n    }\r\n\r\nBut that only works if Type2 can be converted to Type1","title":"Method accepting two different types as parameter","body":"<p>As I'm using :</p>\n\n<pre><code>void fooFunction(Object o){\nType1 foo=null;\nif(o instanceof Type1) foo=(Type1)o;\nif(o instanceof Type2) foo=((Type2)o).toType1();\n// code\n}\n</code></pre>\n\n<p>But that only works if Type2 can be converted to Type1</p>\n"},{"tags":[],"owner":{"account_id":18429708,"reputation":39,"user_id":13425151,"display_name":"Nicolas S&#233;nave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678271374,"creation_date":1678271374,"answer_id":75671866,"question_id":10777384,"body_markdown":"Updating Devon_C_Miller&#39;s answer using lambda and method reference:\r\n\r\n```java\r\n    interface ICrushable {\r\n        void crush();\r\n    }\r\n\r\n    void utterlyDestroy(ICrushable parameter) {\r\n        // Very long crushing process goes here\r\n        parameter.crush();\r\n    }\r\n\r\n    public void utterlyDestroy(Dreams dreams) {\r\n        utterlyDestroy(dreams::crush);\r\n    }\r\n\r\n    public void utterlyDestroy(Garlic garlic) {\r\n        utterlyDestroy(garlic::crush);\r\n    }\r\n```","title":"Method accepting two different types as parameter","body":"<p>Updating Devon_C_Miller's answer using lambda and method reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    interface ICrushable {\n        void crush();\n    }\n\n    void utterlyDestroy(ICrushable parameter) {\n        // Very long crushing process goes here\n        parameter.crush();\n    }\n\n    public void utterlyDestroy(Dreams dreams) {\n        utterlyDestroy(dreams::crush);\n    }\n\n    public void utterlyDestroy(Garlic garlic) {\n        utterlyDestroy(garlic::crush);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846532,"reputation":319,"user_id":9995556,"display_name":"pbthorste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694421655,"creation_date":1694421655,"answer_id":77080108,"question_id":10777384,"body_markdown":"Another method of doing this which avoids inheritance and using instanceOf would be to use generics combined with functional interfaces.\r\n\r\n```java\r\n &lt;T&gt; void utterlyDestroy(T parameter, Consumer&lt;T&gt; crush) {\r\n    crush.accept(parameter);\r\n}\r\n\r\n// usage\r\nvar dreams = new Dreams();\r\nvar garlic = new Garlic();\r\n\r\nutterlyDestroy(dreams, (Dreams it) -&gt; it.crush());\r\nutterlyDestroy(garlic, (Garlic it) -&gt; it.crush());\r\n```","title":"Method accepting two different types as parameter","body":"<p>Another method of doing this which avoids inheritance and using instanceOf would be to use generics combined with functional interfaces.</p>\n<pre class=\"lang-java prettyprint-override\"><code> &lt;T&gt; void utterlyDestroy(T parameter, Consumer&lt;T&gt; crush) {\n    crush.accept(parameter);\n}\n\n// usage\nvar dreams = new Dreams();\nvar garlic = new Garlic();\n\nutterlyDestroy(dreams, (Dreams it) -&gt; it.crush());\nutterlyDestroy(garlic, (Garlic it) -&gt; it.crush());\n</code></pre>\n"}],"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88746,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":10777506,"answer_count":10,"score":42,"last_activity_date":1694421655,"creation_date":1338153732,"question_id":10777384,"body_markdown":"I am writing a method that should accept as its parameter an object of one of two types which do not share a parent type other than Object. For example, the types are Dreams and Garlic. You can do both `dreams.crush()` and `garlic.crush()`. I want to have a method `utterlyDestroy(parameter)`, that would accept as its parameter both Dreams and Garlic.\r\n\r\n    utterlyDestroy(parameter) {\r\n        parameter.crush()\r\n    }\r\nBoth Garlic and dreams are a part of some library, so having them implement an interface ICrushable (so that I could write `utterlyDestroy(ICrushable parameter)` ) is not an option.\r\n\r\nMy method body is quite long so overloading it would mean duplicating code. Ugly.\r\nI am sure I could use reflection and do some class hacking. Ugly.\r\n\r\nI tried using generics but apparently I cannot write something like\r\n\r\n    utterlyDestroy(&lt;T instanceof Dreams || T instanceof Garlic&gt; parameter)\r\n\r\nIs it possible to typecast Garlic to Dreams?\r\n\r\n    utterlyDestroy(Object parameter) {\r\n        ((Dreams)parameter).crush()\r\n    }\r\nThis would still be ugly though. What are my other options and what is the preferred method of dealing with the situation?","title":"Method accepting two different types as parameter","body":"<p>I am writing a method that should accept as its parameter an object of one of two types which do not share a parent type other than Object. For example, the types are Dreams and Garlic. You can do both <code>dreams.crush()</code> and <code>garlic.crush()</code>. I want to have a method <code>utterlyDestroy(parameter)</code>, that would accept as its parameter both Dreams and Garlic.</p>\n\n<pre><code>utterlyDestroy(parameter) {\n    parameter.crush()\n}\n</code></pre>\n\n<p>Both Garlic and dreams are a part of some library, so having them implement an interface ICrushable (so that I could write <code>utterlyDestroy(ICrushable parameter)</code> ) is not an option.</p>\n\n<p>My method body is quite long so overloading it would mean duplicating code. Ugly.\nI am sure I could use reflection and do some class hacking. Ugly.</p>\n\n<p>I tried using generics but apparently I cannot write something like</p>\n\n<pre><code>utterlyDestroy(&lt;T instanceof Dreams || T instanceof Garlic&gt; parameter)\n</code></pre>\n\n<p>Is it possible to typecast Garlic to Dreams?</p>\n\n<pre><code>utterlyDestroy(Object parameter) {\n    ((Dreams)parameter).crush()\n}\n</code></pre>\n\n<p>This would still be ugly though. What are my other options and what is the preferred method of dealing with the situation?</p>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1685125719,"post_id":76343334,"comment_id":134622959,"body_markdown":"What do you mean with &quot;all endpoints containing repository endpoints&quot;? What happens with your current code and how exactly is that different from what you are expecting?","body":"What do you mean with &quot;all endpoints containing repository endpoints&quot;? What happens with your current code and how exactly is that different from what you are expecting?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685126086,"post_id":76343334,"comment_id":134623028,"body_markdown":"@dan1st I show controller endpoints as well as repository endpoints. All repositories are located under com.project.admin_user.repository, com.ays.organization.repository, com.ays.parameter.repository and com.ays.user.repository. I don&#39;t want to show repository endpoints. How can I do that?","body":"@dan1st I show controller endpoints as well as repository endpoints. All repositories are located under com.project.admin_user.repository, com.ays.organization.repository, com.ays.parameter.repository and com.ays.user.repository. I don&#39;t want to show repository endpoints. How can I do that?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1685128259,"post_id":76343334,"comment_id":134623404,"body_markdown":"Is the package the only difference between repository and other endpoints? Or are they e.g. located under a specific path?","body":"Is the package the only difference between repository and other endpoints? Or are they e.g. located under a specific path?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685128704,"post_id":76343334,"comment_id":134623492,"body_markdown":"@dan1st I shared the location where all repositories are defined. com.project is a main package. admin_user, organization, parameter and user are located under main package.","body":"@dan1st I shared the location where all repositories are defined. com.project is a main package. admin_user, organization, parameter and user are located under main package."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1685129259,"post_id":76343334,"comment_id":134623591,"body_markdown":"Not sure what you mean by parameter - Is there any difference in the endpoints themselves (e.g. request path, tags, authentication, etc)?","body":"Not sure what you mean by parameter - Is there any difference in the endpoints themselves (e.g. request path, tags, authentication, etc)?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685140445,"post_id":76343334,"comment_id":134625008,"body_markdown":"@dan1st it contains parameter information for requestbody. My issue is not related with that. How can I revise OpenApiConfig not to show repository endpoints in the swagger?","body":"@dan1st it contains parameter information for requestbody. My issue is not related with that. How can I revise OpenApiConfig not to show repository endpoints in the swagger?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1685172493,"post_id":76343334,"comment_id":134627100,"body_markdown":"It should be possible to modify the paths using `.paths`/`.getPaths()`. However, you would need to somehow be able to differentiate them (for possibly using your parameter information).","body":"It should be possible to modify the paths using <code>.paths</code>/<code>.getPaths()</code>. However, you would need to somehow be able to differentiate them (for possibly using your parameter information)."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685223059,"post_id":76343334,"comment_id":134632507,"body_markdown":"@dan1st Can you handle with that through modifing the paths? Can you give me some code snippets?","body":"@dan1st Can you handle with that through modifing the paths? Can you give me some code snippets?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1685225289,"post_id":76343334,"comment_id":134632682,"body_markdown":"Are the paths for the repository methods different? If so, how?","body":"Are the paths for the repository methods different? If so, how?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685228187,"post_id":76343334,"comment_id":134632909,"body_markdown":"All repositories are located under `com.project.admin_user.repository`, `com.project.organization.repository`, `com.project.parameter.repository` and `com.project.user.repository`.","body":"All repositories are located under <code>com.project.admin_user.repository</code>, <code>com.project.organization.repository</code>, <code>com.project.parameter.repository</code> and <code>com.project.user.repository</code>."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1685268720,"post_id":76343334,"comment_id":134635622,"body_markdown":"you can use the annotation @ApiIgnore","body":"you can use the annotation @ApiIgnore"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685268397,"creation_date":1685268397,"answer_id":76350943,"question_id":76343334,"body_markdown":"As mentioned in [this issue](https://github.com/springdoc/springdoc-openapi/issues/210), you can configure which packages to scan in your `application.properties`:\r\n```ini\r\nspringdoc.packagesToScan=package1, package2\r\n```\r\n\r\nIt is also possible to exclude packages with `springdoc.packages-to-exclude`:\r\n```ini\r\nspringdoc.packages-to-exclude=com.project.admin_user.repository, com.project.organization.repository, com.project.parameter.repository, com.project.user.repository\r\n```","title":"How can I exclude repository endpoints from Open Api through swagger in Spring Boot","body":"<p>As mentioned in <a href=\"https://github.com/springdoc/springdoc-openapi/issues/210\" rel=\"nofollow noreferrer\">this issue</a>, you can configure which packages to scan in your <code>application.properties</code>:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>springdoc.packagesToScan=package1, package2\n</code></pre>\n<p>It is also possible to exclude packages with <code>springdoc.packages-to-exclude</code>:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>springdoc.packages-to-exclude=com.project.admin_user.repository, com.project.organization.repository, com.project.parameter.repository, com.project.user.repository\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8490469,"reputation":1,"user_id":6366979,"display_name":"Maxim Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694421603,"creation_date":1694421525,"answer_id":77080088,"question_id":76343334,"body_markdown":"Had the same issue, for me worked to annotate the repository interface with **@RepositoryRestResource(exported = false)**\r\n\r\n    @RepositoryRestResource(exported = false)\r\n    public interface ModelRepository extends CrudRepository&lt;Model, Long&gt; {\r\n    }","title":"How can I exclude repository endpoints from Open Api through swagger in Spring Boot","body":"<p>Had the same issue, for me worked to annotate the repository interface with <strong>@RepositoryRestResource(exported = false)</strong></p>\n<pre><code>@RepositoryRestResource(exported = false)\npublic interface ModelRepository extends CrudRepository&lt;Model, Long&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76350943,"answer_count":2,"score":1,"last_activity_date":1694421603,"creation_date":1685124809,"question_id":76343334,"body_markdown":"I have a problem to show all endpoints containing repository endpoints in swagger when I open localhost:8080/\r\n\r\nI don&#39;t want to show repository endpoints. What should I define custom endpoints in OpenApiConfig file. I don&#39;t want to use @Hidden defining repository above.\r\n\r\nHere is the open-api config shown below\r\n\r\n\r\n    @Configuration\r\n    class OpenApiConfig {\r\n    \r\n        \r\n        @Value(&quot;${application.title}&quot;)\r\n        private String title;\r\n    \r\n        \r\n        @Value(&quot;${application.licenseName}&quot;)\r\n        private String licenseName;\r\n    \r\n        \r\n        @Bean\r\n        public OpenAPI customOpenAPI(@Value(&quot;${application.description}&quot;) String description,\r\n                                     @Value(&quot;${application.version}&quot;) String version) {\r\n            return new OpenAPI()\r\n                    .info(new Info().title(title)\r\n                            .version(version)\r\n                            .description(description)\r\n                            .license(new License().name(licenseName)));\r\n        }\r\n    }","title":"How can I exclude repository endpoints from Open Api through swagger in Spring Boot","body":"<p>I have a problem to show all endpoints containing repository endpoints in swagger when I open localhost:8080/</p>\n<p>I don't want to show repository endpoints. What should I define custom endpoints in OpenApiConfig file. I don't want to use @Hidden defining repository above.</p>\n<p>Here is the open-api config shown below</p>\n<pre><code>@Configuration\nclass OpenApiConfig {\n\n    \n    @Value(&quot;${application.title}&quot;)\n    private String title;\n\n    \n    @Value(&quot;${application.licenseName}&quot;)\n    private String licenseName;\n\n    \n    @Bean\n    public OpenAPI customOpenAPI(@Value(&quot;${application.description}&quot;) String description,\n                                 @Value(&quot;${application.version}&quot;) String version) {\n        return new OpenAPI()\n                .info(new Info().title(title)\n                        .version(version)\n                        .description(description)\n                        .license(new License().name(licenseName)));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf","woff","woff2"],"comments":[{"owner":{"account_id":29412367,"reputation":1,"user_id":22535946,"display_name":"kastello"},"score":0,"creation_date":1695737913,"post_id":77080097,"comment_id":136062666,"body_markdown":"After days with the problem, I basically solved the problem of restarting IntelliJ/computer","body":"After days with the problem, I basically solved the problem of restarting IntelliJ/computer"}],"owner":{"account_id":29412367,"reputation":1,"user_id":22535946,"display_name":"kastello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694421565,"creation_date":1694421565,"question_id":77080097,"body_markdown":"I have an already advanced project with spring boot with thymeleaf and recently I went to add a new template with awesome font, among others.\r\n\r\nThe problem is:\r\n\r\nOnly for some types of files I always get a 404 error (Example .map, .woff, .ttf, among others).\r\n[error img](https://i.stack.imgur.com/60dTp.png)\r\n\r\nAs they were able to check the .map of the 404, but the .css loaded correctly, this already discards the issue of incorrect path.\r\n\r\nI really need your help! Thank you!\r\n\r\nSegue algumas das configura&#231;&#245;es importantes:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n@Autowired\r\nprivate CustomAuthenticationProvider authenticationProvider;\r\n\r\n\r\n@Bean\r\nprotected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests((requests) -&gt; requests\r\n                .requestMatchers(&quot;/&quot;, &quot;/public/**&quot;,  &quot;/login/**&quot;, &quot;/logout&quot;).permitAll()\r\n                .anyRequest().authenticated())\r\n        .formLogin(formLogin -&gt; formLogin\r\n                .loginPage(&quot;/login/signIn&quot;)\r\n                .permitAll()\r\n                .failureUrl(&quot;/login/signIn?error=true&quot;))\r\n        .csrf(AbstractHttpConfigurer::disable).httpBasic();\r\n\r\n    http.sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n            .maximumSessions(1)\r\n            .expiredUrl(&quot;/login/notAuthorized&quot;)\r\n            .and()\r\n            .sessionFixation()\r\n            .migrateSession();\r\n\r\n    http.logout()\r\n            .logoutUrl(&quot;/login/SignOut&quot;)\r\n            .logoutSuccessUrl(&quot;/&quot;)\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;);\r\n\r\n    return http.build();\r\n}\r\n\r\n\r\n@Bean\r\npublic PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n\r\n@Bean\r\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n    AuthenticationManagerBuilder authenticationManagerBuilder =\r\n            http.getSharedObject(AuthenticationManagerBuilder.class);\r\n    authenticationManagerBuilder.authenticationProvider(authenticationProvider);\r\n    return authenticationManagerBuilder.build();\r\n}\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n@Override\r\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry\r\n            .addResourceHandler(&quot;/public/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/static/&quot;)\r\n            .setCachePeriod(3600)\r\n            .resourceChain(true);\r\n}\r\n}\r\n```","title":"Error 404 only for some file types (.woff, .map) in spring boot","body":"<p>I have an already advanced project with spring boot with thymeleaf and recently I went to add a new template with awesome font, among others.</p>\n<p>The problem is:</p>\n<p>Only for some types of files I always get a 404 error (Example .map, .woff, .ttf, among others).\n<a href=\"https://i.stack.imgur.com/60dTp.png\" rel=\"nofollow noreferrer\">error img</a></p>\n<p>As they were able to check the .map of the 404, but the .css loaded correctly, this already discards the issue of incorrect path.</p>\n<p>I really need your help! Thank you!</p>\n<p>Segue algumas das configurações importantes:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n@Autowired\nprivate CustomAuthenticationProvider authenticationProvider;\n\n\n@Bean\nprotected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;/&quot;, &quot;/public/**&quot;,  &quot;/login/**&quot;, &quot;/logout&quot;).permitAll()\n                .anyRequest().authenticated())\n        .formLogin(formLogin -&gt; formLogin\n                .loginPage(&quot;/login/signIn&quot;)\n                .permitAll()\n                .failureUrl(&quot;/login/signIn?error=true&quot;))\n        .csrf(AbstractHttpConfigurer::disable).httpBasic();\n\n    http.sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n            .maximumSessions(1)\n            .expiredUrl(&quot;/login/notAuthorized&quot;)\n            .and()\n            .sessionFixation()\n            .migrateSession();\n\n    http.logout()\n            .logoutUrl(&quot;/login/SignOut&quot;)\n            .logoutSuccessUrl(&quot;/&quot;)\n            .invalidateHttpSession(true)\n            .deleteCookies(&quot;JSESSIONID&quot;);\n\n    return http.build();\n}\n\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n\n@Bean\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder =\n            http.getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(authenticationProvider);\n    return authenticationManagerBuilder.build();\n}\n}\n</code></pre>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry\n            .addResourceHandler(&quot;/public/**&quot;)\n            .addResourceLocations(&quot;classpath:/static/&quot;)\n            .setCachePeriod(3600)\n            .resourceChain(true);\n}\n}\n</code></pre>\n"},{"tags":["java","validation","xpath","rules","pmd"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1694488447,"post_id":77080074,"comment_id":135893904,"body_markdown":"I don&#39;t think, PMD does this, as it&#39;s a Java tool and doesn&#39;t know or care about the rest of your project setup. There are other linters that can help, e.g., markdown lint for checking your README.md.","body":"I don&#39;t think, PMD does this, as it&#39;s a Java tool and doesn&#39;t know or care about the rest of your project setup. There are other linters that can help, e.g., markdown lint for checking your README.md."}],"owner":{"account_id":29412968,"reputation":1,"user_id":22536422,"display_name":"oaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694421377,"creation_date":1694421377,"question_id":77080074,"body_markdown":"I want to check if files existence using PMD rules, such as (gitignore, version, readme, . . . ) files.\r\n\r\nWhat is the recommended way to do so?\r\n\r\nI searched for the java rules and xpath rules in pmd but I couldn&#39;t find a clear article talking about this validations","title":"Can I check file existence using PMD rules?","body":"<p>I want to check if files existence using PMD rules, such as (gitignore, version, readme, . . . ) files.</p>\n<p>What is the recommended way to do so?</p>\n<p>I searched for the java rules and xpath rules in pmd but I couldn't find a clear article talking about this validations</p>\n"},{"tags":["java","java-8","cucumber"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694422635,"post_id":77080032,"comment_id":135884093,"body_markdown":"Then make sure your libraries are Java 8 compatible. Many are no longer, since we have Java 21 already.","body":"Then make sure your libraries are Java 8 compatible. Many are no longer, since we have Java 21 already."},{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1694432118,"post_id":77080032,"comment_id":135885741,"body_markdown":"which are not compatible? How to find out?","body":"which are not compatible? How to find out?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694432325,"post_id":77080032,"comment_id":135885783,"body_markdown":"Well the stacktrace already tells you one library that isn&#39;t compatible (although looks like it&#39;s a pulled in dependency). The documentation / home page for libraries also tells about compatibility.","body":"Well the stacktrace already tells you one library that isn&#39;t compatible (although looks like it&#39;s a pulled in dependency). The documentation / home page for libraries also tells about compatibility."},{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1694432765,"post_id":77080032,"comment_id":135885863,"body_markdown":"Can you share the home page?","body":"Can you share the home page?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694433139,"post_id":77080032,"comment_id":135885933,"body_markdown":"Here&#39;s a homepage for you: https://duckduckgo.com/","body":"Here&#39;s a homepage for you: <a href=\"https://duckduckgo.com/\" rel=\"nofollow noreferrer\">duckduckgo.com</a>"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1694459959,"post_id":77080032,"comment_id":135891196,"body_markdown":"@Anushka the second part of the stack trace originates from RestAssured. So that&#39;s probably the dependency that doesn&#39;t work with Java 8.","body":"@Anushka the second part of the stack trace originates from RestAssured. So that&#39;s probably the dependency that doesn&#39;t work with Java 8."}],"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694421048,"creation_date":1694421048,"question_id":77080032,"body_markdown":"I am trying to setup a java project using java 8\r\n\r\nbut getting errors:\r\n\r\n    cucumber.runtime.CucumberException: java.lang.UnsupportedClassVersionError: org/apache/commons/logging/LogFactoryService has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0 at cucumber.api.testng.TestNGCucumberRunner.runCucumber(TestNGCucumberRunner.java:69)\r\n    \tat cucumber.api.testng.AbstractTestNGCucumberTests.feature(AbstractTestNGCucumberTests.java:21)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:580)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:716)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:988)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:505)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n    \tat org.testng.TestNG.run(TestNG.java:1017)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n    Caused by: java.lang.UnsupportedClassVersionError: org/apache/commons/logging/LogFactoryService has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat org.apache.commons.logging.LogFactory.createFactory(LogFactory.java:1020)\r\n    \tat org.apache.commons.logging.LogFactory$2.run(LogFactory.java:960)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.apache.commons.logging.LogFactory.newFactory(LogFactory.java:957)\r\n    \tat org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:552)\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:655)\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.&lt;init&gt;(AbstractVerifier.java:61)\r\n    \tat org.apache.http.conn.ssl.AllowAllHostnameVerifier.&lt;init&gt;(AllowAllHostnameVerifier.java:44)\r\n    \tat org.apache.http.conn.ssl.AllowAllHostnameVerifier.&lt;clinit&gt;(AllowAllHostnameVerifier.java:46)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.&lt;clinit&gt;(SSLSocketFactory.java:153)\r\n    \tat io.restassured.config.SSLConfig.&lt;init&gt;(SSLConfig.java:184)\r\n    \tat io.restassured.config.RestAssuredConfig.&lt;init&gt;(RestAssuredConfig.java:41)\r\n    \tat io.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:420)\r\n\r\nUpdated to java 17 again fails since the project internally uses file compatible with java 8, don&#39;t want to change the entire project please guide?\r\n\r\nFollowing dependencies used:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--https://mvnrepository.com/artifact/com.aventstack/extentreports--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.14.0-RC2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n     \r\n\r\nI need help in figuring out why I am getting this error want to use java 8 only   ","title":"Trying to set up a java project with cucumber framework","body":"<p>I am trying to setup a java project using java 8</p>\n<p>but getting errors:</p>\n<pre><code>cucumber.runtime.CucumberException: java.lang.UnsupportedClassVersionError: org/apache/commons/logging/LogFactoryService has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0 at cucumber.api.testng.TestNGCucumberRunner.runCucumber(TestNGCucumberRunner.java:69)\n    at cucumber.api.testng.AbstractTestNGCucumberTests.feature(AbstractTestNGCucumberTests.java:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:580)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:716)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:988)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/commons/logging/LogFactoryService has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.apache.commons.logging.LogFactory.createFactory(LogFactory.java:1020)\n    at org.apache.commons.logging.LogFactory$2.run(LogFactory.java:960)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.commons.logging.LogFactory.newFactory(LogFactory.java:957)\n    at org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:552)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:655)\n    at org.apache.http.conn.ssl.AbstractVerifier.&lt;init&gt;(AbstractVerifier.java:61)\n    at org.apache.http.conn.ssl.AllowAllHostnameVerifier.&lt;init&gt;(AllowAllHostnameVerifier.java:44)\n    at org.apache.http.conn.ssl.AllowAllHostnameVerifier.&lt;clinit&gt;(AllowAllHostnameVerifier.java:46)\n    at org.apache.http.conn.ssl.SSLSocketFactory.&lt;clinit&gt;(SSLSocketFactory.java:153)\n    at io.restassured.config.SSLConfig.&lt;init&gt;(SSLConfig.java:184)\n    at io.restassured.config.RestAssuredConfig.&lt;init&gt;(RestAssuredConfig.java:41)\n    at io.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:420)\n</code></pre>\n<p>Updated to java 17 again fails since the project internally uses file compatible with java 8, don't want to change the entire project please guide?</p>\n<p>Following dependencies used:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;7.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--https://mvnrepository.com/artifact/com.aventstack/extentreports--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.14.0-RC2&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n \n</code></pre>\n<p>I need help in figuring out why I am getting this error want to use java 8 only</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694341075,"post_id":77074714,"comment_id":135876071,"body_markdown":"Do not delete this Question. This use of non-breaking space character is an important issue, as some localizations recently adopted the use of that character to keep the AM/PM next to time-of-day. I don’t recall details at the moment, but will soon try to find my sources again.","body":"Do not delete this Question. This use of non-breaking space character is an important issue, as some localizations recently adopted the use of that character to keep the AM/PM next to time-of-day. I don’t recall details at the moment, but will soon try to find my sources again."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1694317341,"creation_date":1694317341,"answer_id":77074747,"question_id":77074714,"body_markdown":"You&#39;ve got non-ASCII unicode symbols in your input strings. Fortunately, you copy/pasted and, and pasted those too.\r\n\r\n`date_s` is the following sequence of characters:\r\n\r\n * 0\r\n * 5\r\n * :\r\n * 2\r\n * 0\r\n\r\nso far, so  good.\r\n\r\n * 0xE280AF\r\n * A\r\n * M\r\n\r\nWhat the heck are those 3 bytes before `AM`?\r\n\r\nIt&#39;s the UTF-8 encoding of the unicode symbol U+202F: [The narrow no-break space](https://www.compart.com/en/unicode/U+202F).\r\n\r\nProbably a browser where someone used `&amp;nbsp;` instead of a space.\r\n\r\nSimpleDateFormat is obsolete. Do not use it; use the stuff in `java.time` instead (DateTimeFormatter). But, if you insist on using SDF, try:\r\n\r\n```\r\nString date_s = &quot;05:20 AM&quot;.replaceAll(&quot;\\\\p{Z}&quot;, &quot; &quot;);\r\n```\r\n\r\nThat weird incantation is using regexp to say: &quot;replace all characters that fit in the unicode Z set (which is all whitespace codepoint) with an actual space&quot;. That actual space is something SDF can handle; those fancy unicode spaces aren&#39;t.\r\n","title":"SimpleDateFormat giving error for the same input for Time","body":"<p>You've got non-ASCII unicode symbols in your input strings. Fortunately, you copy/pasted and, and pasted those too.</p>\n<p><code>date_s</code> is the following sequence of characters:</p>\n<ul>\n<li>0</li>\n<li>5</li>\n<li>:</li>\n<li>2</li>\n<li>0</li>\n</ul>\n<p>so far, so  good.</p>\n<ul>\n<li>0xE280AF</li>\n<li>A</li>\n<li>M</li>\n</ul>\n<p>What the heck are those 3 bytes before <code>AM</code>?</p>\n<p>It's the UTF-8 encoding of the unicode symbol U+202F: <a href=\"https://www.compart.com/en/unicode/U+202F\" rel=\"nofollow noreferrer\">The narrow no-break space</a>.</p>\n<p>Probably a browser where someone used <code>&amp;nbsp;</code> instead of a space.</p>\n<p>SimpleDateFormat is obsolete. Do not use it; use the stuff in <code>java.time</code> instead (DateTimeFormatter). But, if you insist on using SDF, try:</p>\n<pre><code>String date_s = &quot;05:20 AM&quot;.replaceAll(&quot;\\\\p{Z}&quot;, &quot; &quot;);\n</code></pre>\n<p>That weird incantation is using regexp to say: &quot;replace all characters that fit in the unicode Z set (which is all whitespace codepoint) with an actual space&quot;. That actual space is something SDF can handle; those fancy unicode spaces aren't.</p>\n"}],"owner":{"account_id":7007730,"reputation":711,"user_id":5371609,"display_name":"CodeGeek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":77074747,"answer_count":1,"score":-1,"last_activity_date":1694420629,"creation_date":1694316055,"question_id":77074714,"body_markdown":"I am really not able to understand why SimpleDateFormat is throwing error for the very similar inputs.\r\n\r\nI am passing two values : **&quot;05:20 AM&quot;** &amp; **&quot;05:50 AM&quot;**\r\n\r\n```\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class FormateDate  {\r\n\r\n   public static void main(String[] args) throws ParseException {\r\n        String date_s = &quot;05:20 AM&quot;;\r\n        //String date_s = &quot;05:50 AM&quot;;\r\n        String date_ss;\r\n\r\n        SimpleDateFormat dt = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n       Date date = dt.parse(date_s);\r\n        \r\n\r\n        // *** same for the format String below\r\n        \r\n        System.out.println(dt.format(date));\r\n    }\r\n}\r\n```\r\n\r\nThe first value throws error : \r\n```\r\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;05:20 AM&quot;\r\n```\r\nand the second value one prints output : 05:50 AM\r\n\r\n\r\n**NOTE**: Let me be clear that it is not a typo error or copy/paste error. Both strings are coming from my backend in API and I was not able to figure out why the first one throws an error.","title":"SimpleDateFormat giving error for the same input for Time","body":"<p>I am really not able to understand why SimpleDateFormat is throwing error for the very similar inputs.</p>\n<p>I am passing two values : <strong>&quot;05:20 AM&quot;</strong> &amp; <strong>&quot;05:50 AM&quot;</strong></p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class FormateDate  {\n\n   public static void main(String[] args) throws ParseException {\n        String date_s = &quot;05:20 AM&quot;;\n        //String date_s = &quot;05:50 AM&quot;;\n        String date_ss;\n\n        SimpleDateFormat dt = new SimpleDateFormat(&quot;hh:mm a&quot;);\n       Date date = dt.parse(date_s);\n        \n\n        // *** same for the format String below\n        \n        System.out.println(dt.format(date));\n    }\n}\n</code></pre>\n<p>The first value throws error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;05:20 AM&quot;\n</code></pre>\n<p>and the second value one prints output : 05:50 AM</p>\n<p><strong>NOTE</strong>: Let me be clear that it is not a typo error or copy/paste error. Both strings are coming from my backend in API and I was not able to figure out why the first one throws an error.</p>\n"},{"tags":["java","h2","upsert"],"comments":[{"owner":{"account_id":5940200,"reputation":721,"user_id":4671737,"accept_rate":50,"display_name":"Tony Murphy"},"score":2,"creation_date":1469606385,"post_id":38490447,"comment_id":64600928,"body_markdown":"seems like it&#39;s just not possible.. shame postgres doesn&#39;t have an in memory version for test purposes","body":"seems like it&#39;s just not possible.. shame postgres doesn&#39;t have an in memory version for test purposes"},{"owner":{"account_id":5940200,"reputation":721,"user_id":4671737,"accept_rate":50,"display_name":"Tony Murphy"},"score":1,"creation_date":1571912548,"post_id":38490447,"comment_id":103400404,"body_markdown":"I now use docker and testcontainers.org or https://github.com/whisklabs/docker-it-scala","body":"I now use docker and testcontainers.org or <a href=\"https://github.com/whisklabs/docker-it-scala\" rel=\"nofollow noreferrer\">github.com/whisklabs/docker-it-scala</a>"},{"owner":{"account_id":1517737,"reputation":3129,"user_id":1609929,"accept_rate":73,"display_name":"Jethro"},"score":0,"creation_date":1578047618,"post_id":38490447,"comment_id":105320416,"body_markdown":"Recently there was a [merge](https://github.com/h2database/h2database/pull/2008) for supporting this in H2, but ON CONFLICT seems to still fail for me on version 1.4.200","body":"Recently there was a <a href=\"https://github.com/h2database/h2database/pull/2008\" rel=\"nofollow noreferrer\">merge</a> for supporting this in H2, but ON CONFLICT seems to still fail for me on version 1.4.200"},{"owner":{"account_id":387060,"reputation":77,"user_id":745185,"accept_rate":60,"display_name":"Lucas"},"score":3,"creation_date":1592918419,"post_id":38490447,"comment_id":110592168,"body_markdown":"That merge is actually just a small change to support ON CONFLICT DO NOTHING. Unfortunately if you try adding the constraint (e.g. on conflict(id)) or adding anything other than &#39;NOTHING&#39; (e.g. update) it will fail.","body":"That merge is actually just a small change to support ON CONFLICT DO NOTHING. Unfortunately if you try adding the constraint (e.g. on conflict(id)) or adding anything other than &#39;NOTHING&#39; (e.g. update) it will fail."},{"owner":{"account_id":6222982,"reputation":2071,"user_id":4842112,"accept_rate":54,"display_name":"Shanika Ediriweera"},"score":0,"creation_date":1654861385,"post_id":38490447,"comment_id":128199082,"body_markdown":"Is this still not supported in 2022?","body":"Is this still not supported in 2022?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1694421405,"post_id":38490447,"comment_id":135883875,"body_markdown":"The [two](https://stackoverflow.com/a/73502879/13963086) [answers](https://stackoverflow.com/a/77079935/13963086) below give a good workaround, but unfortunately that won&#39;t work if you&#39;re trying to use PostgreSQL in production and H2 in tests using the same SQL statement.","body":"The <a href=\"https://stackoverflow.com/a/73502879/13963086\">two</a> <a href=\"https://stackoverflow.com/a/77079935/13963086\">answers</a> below give a good workaround, but unfortunately that won&#39;t work if you&#39;re trying to use PostgreSQL in production and H2 in tests using the same SQL statement."}],"answers":[{"tags":[],"owner":{"account_id":28084,"reputation":8394,"user_id":74651,"accept_rate":61,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661525478,"creation_date":1661525478,"answer_id":73502879,"question_id":38490447,"body_markdown":"There is merge which should do the same: https://www.tutorialspoint.com/h2_database/h2_database_merge.htm\r\n\r\n```\r\nMERGE INTO tableName [ ( columnName [,...] ) ] \r\n[ KEY ( columnName [,...] ) ] \r\n{ VALUES { ( { DEFAULT | expression } [,...] ) } [,...] | select } \r\n```\r\n\r\nSee also https://github.com/h2database/h2database/issues/2007#issuecomment-1152312049","title":"H2 Database Postgres Mode Upsert","body":"<p>There is merge which should do the same: <a href=\"https://www.tutorialspoint.com/h2_database/h2_database_merge.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/h2_database/h2_database_merge.htm</a></p>\n<pre><code>MERGE INTO tableName [ ( columnName [,...] ) ] \n[ KEY ( columnName [,...] ) ] \n{ VALUES { ( { DEFAULT | expression } [,...] ) } [,...] | select } \n</code></pre>\n<p>See also <a href=\"https://github.com/h2database/h2database/issues/2007#issuecomment-1152312049\" rel=\"nofollow noreferrer\">https://github.com/h2database/h2database/issues/2007#issuecomment-1152312049</a></p>\n"}],"owner":{"account_id":5940200,"reputation":721,"user_id":4671737,"accept_rate":50,"display_name":"Tony Murphy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6072,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":1,"score":25,"last_activity_date":1694420155,"creation_date":1469047217,"question_id":38490447,"body_markdown":"When H2 database is in Postgres Mode, how do I check if it supports following statement (upsert / on conflict)\r\n\r\n    INSERT INTO event_log_poller_state (aggregate_type, consumer_group_id, value) \r\n    VALUES (?, ?, ?) \r\n    on conflict (aggregate_type, consumer_group_id) &quot; +\r\n                        &quot; do update SET VALUE = ? \r\n    WHERE\r\n      event_log_poller_state.aggregate_type = ? AND\r\n      event_log_poller_state.consumer_group_id = ?\r\n\r\nI get syntax error 42000\r\n\r\nI&#39;re written following program to demonstrate\r\n\r\nhttps://github.com/tonymurphy/h2-postgres\r\n\r\nEdit Oct 2019: Checkout https://github.com/whisklabs/docker-it-scala or testcontainers.org ","title":"H2 Database Postgres Mode Upsert","body":"<p>When H2 database is in Postgres Mode, how do I check if it supports following statement (upsert / on conflict)</p>\n<pre><code>INSERT INTO event_log_poller_state (aggregate_type, consumer_group_id, value) \nVALUES (?, ?, ?) \non conflict (aggregate_type, consumer_group_id) &quot; +\n                    &quot; do update SET VALUE = ? \nWHERE\n  event_log_poller_state.aggregate_type = ? AND\n  event_log_poller_state.consumer_group_id = ?\n</code></pre>\n<p>I get syntax error 42000</p>\n<p>I're written following program to demonstrate</p>\n<p><a href=\"https://github.com/tonymurphy/h2-postgres\" rel=\"noreferrer\">https://github.com/tonymurphy/h2-postgres</a></p>\n<p>Edit Oct 2019: Checkout <a href=\"https://github.com/whisklabs/docker-it-scala\" rel=\"noreferrer\">https://github.com/whisklabs/docker-it-scala</a> or testcontainers.org</p>\n"},{"tags":["java","android","printing"],"answers":[{"tags":[],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694420068,"creation_date":1694420068,"answer_id":77079929,"question_id":76728129,"body_markdown":"This problem occur because print processing still running but the socket was close. So the weird character is part of previous process. But this problem only occur in some printer devices (with same length bytes). So I add some UI (time in second) for user to define time to close socket after printing (by default still is 0). \r\n\r\n    for (byte[] bytes : bytesToPrint) {\r\n        this.mOutputStream.write(bytes);\r\n        this.mOutputStream.flush();\r\n    }\r\n    String endLine = &quot;\\n\\n\\n\\n\\n&quot;;\r\n    this.mOutputStream.write(endLine.getBytes());\r\n\r\n    Handler handler = new Handler();\r\n        handler.postDelayed(() -&gt; {\r\n            try {\r\n                closeBTPrinter();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, socketTimeOut);\r\n","title":"Print Image to Printer Thermal but the result give weird character Android","body":"<p>This problem occur because print processing still running but the socket was close. So the weird character is part of previous process. But this problem only occur in some printer devices (with same length bytes). So I add some UI (time in second) for user to define time to close socket after printing (by default still is 0).</p>\n<pre><code>for (byte[] bytes : bytesToPrint) {\n    this.mOutputStream.write(bytes);\n    this.mOutputStream.flush();\n}\nString endLine = &quot;\\n\\n\\n\\n\\n&quot;;\nthis.mOutputStream.write(endLine.getBytes());\n\nHandler handler = new Handler();\n    handler.postDelayed(() -&gt; {\n        try {\n            closeBTPrinter();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }, socketTimeOut);\n</code></pre>\n"}],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77079929,"answer_count":1,"score":1,"last_activity_date":1694420068,"creation_date":1689842633,"question_id":76728129,"body_markdown":"I build print service for Google Chrome browser. technically I convert the PDF into image then convert it to byte array then do print. But on some device give the weird character on result. Here is the code :\r\n\r\nPrintService.class\r\n\r\n    byte[] image = bitmapToBytes(rescaledBitmap, false);\r\n    byte[][] bytesToPrint = convertGSv0ToEscAsterisk(image);\r\n    timestamp = new Timestamp(System.currentTimeMillis());\r\n\r\n    for (byte[] bytes : bytesToPrint) {\r\n        this.mOutputStream.write(bytes);\r\n        this.mOutputStream.flush();\r\n    }\r\n    String endLine = &quot;\\n\\n\\n\\n\\n&quot;;\r\n    this.mOutputStream.write(endLine.getBytes());\r\n    ....\r\n    ....\r\n    \r\n    public static byte[] bitmapToBytes(Bitmap bitmap, boolean gradient) {\r\n        int bitmapWidth = bitmap.getWidth();\r\n        int bitmapHeight = bitmap.getHeight();\r\n        int bytesByLine = (bitmapWidth + 7) / 8;\r\n        byte[] imageBytes = new byte[bytesByLine * bitmapHeight + 8];\r\n        int i = 8;\r\n        int greyscaleCoefficientInit = 0;\r\n        int gradientStep = 6;\r\n        double colorLevelStep = 765.0 / (15 * gradientStep + gradientStep - 1);\r\n\r\n        for (int posY = 0; posY &lt; bitmapHeight; posY++) {\r\n            int greyscaleCoefficient = greyscaleCoefficientInit;\r\n            int greyscaleLine = posY % gradientStep;\r\n\r\n            for (int j = 0; j &lt; bitmapWidth; j += 8) {\r\n                int b = 0;\r\n\r\n                for (int k = 0; k &lt; 8; k++) {\r\n                    int posX = j + k;\r\n\r\n                    if (posX &lt; bitmapWidth) {\r\n                        int color = bitmap.getPixel(posX, posY);\r\n                        int red = Color.red(color);\r\n                        int green = Color.green(color);\r\n                        int blue = Color.blue(color);\r\n\r\n                        if ((gradient &amp;&amp; (red + green + blue) &lt; ((greyscaleCoefficient * gradientStep + greyscaleLine) * colorLevelStep))\r\n                                || (!gradient &amp;&amp; (red &lt; 160 || green &lt; 160 || blue &lt; 160))) {\r\n                            b |= 1 &lt;&lt; (7 - k);\r\n                        }\r\n\r\n                        greyscaleCoefficient += 5;\r\n                        if (greyscaleCoefficient &gt; 15) {\r\n                            greyscaleCoefficient -= 16;\r\n                        }\r\n                    }\r\n                }\r\n                imageBytes[i++] = (byte) b;\r\n            }\r\n\r\n            greyscaleCoefficientInit += 2;\r\n            if (greyscaleCoefficientInit &gt; 15) {\r\n                greyscaleCoefficientInit = 0;\r\n            }\r\n        }\r\n\r\n        imageBytes[4] = (byte) (bytesByLine &amp; 0xFF);\r\n        imageBytes[5] = (byte) ((bytesByLine &gt;&gt; 8) &amp; 0xFF);\r\n        imageBytes[6] = (byte) (bitmapHeight &amp; 0xFF);\r\n        imageBytes[7] = (byte) ((bitmapHeight &gt;&gt; 8) &amp; 0xFF);\r\n\r\n        return imageBytes;\r\n    }\r\n\r\n    public static byte[][] convertGSv0ToEscAsterisk(byte[] bytes) {\r\n        final byte LF = 0x0A;\r\n        final byte[] LINE_SPACING_30 = {0x1b, 0x33, 0x1e};\r\n        final byte[] LINE_SPACING_24 = {0x1b, 0x33, 0x18};\r\n\r\n        int\r\n                xL = bytes[4] &amp; 0xFF,\r\n                xH = bytes[5] &amp; 0xFF,\r\n                yL = bytes[6] &amp; 0xFF,\r\n                yH = bytes[7] &amp; 0xFF,\r\n                bytesByLine = xH * 256 + xL,\r\n                dotsByLine = bytesByLine * 8,\r\n                nH = dotsByLine / 256,\r\n                nL = dotsByLine % 256,\r\n                imageHeight = yH * 256 + yL,\r\n                imageLineHeightCount = (int) Math.ceil((double) imageHeight / 24.0),\r\n                imageBytesSize = 6 + bytesByLine * 24;\r\n\r\n        byte[][] returnedBytes = new byte[imageLineHeightCount + 2][];\r\n        returnedBytes[0] = LINE_SPACING_24;\r\n        for (int i = 0; i &lt; imageLineHeightCount; ++i) {\r\n            int pxBaseRow = i * 24;\r\n            byte[] imageBytes = new byte[imageBytesSize];\r\n            imageBytes[0] = 0x1B;\r\n            imageBytes[1] = 0x2A;\r\n            imageBytes[2] = 0x21;\r\n            imageBytes[3] = (byte) nL;\r\n            imageBytes[4] = (byte) nH;\r\n            for (int j = 5; j &lt; imageBytes.length; ++j) {\r\n                int\r\n                        imgByte = j - 5,\r\n                        byteRow = imgByte % 3,\r\n                        pxColumn = imgByte / 3,\r\n                        bitColumn = 1 &lt;&lt; (7 - pxColumn % 8),\r\n                        pxRow = pxBaseRow + byteRow * 8;\r\n                for (int k = 0; k &lt; 8; ++k) {\r\n                    int indexBytes = bytesByLine * (pxRow + k) + pxColumn / 8 + 8;\r\n\r\n                    if (indexBytes &gt;= bytes.length) {\r\n                        break;\r\n                    }\r\n\r\n                    boolean isBlack = (bytes[indexBytes] &amp; bitColumn) == bitColumn;\r\n                    if (isBlack) {\r\n                        imageBytes[j] |= 1 &lt;&lt; 7 - k;\r\n                    }\r\n                }\r\n            }\r\n            imageBytes[imageBytes.length - 1] = LF;\r\n            returnedBytes[i + 1] = imageBytes;\r\n        }\r\n        returnedBytes[returnedBytes.length - 1] = LINE_SPACING_30;\r\n        return returnedBytes;\r\n    }\r\n\r\n\r\nOn some device, result is like below below :\r\n\r\n[![weird_characted][1]][1]\r\n \r\n\r\nBut on some device the result is normal too. I stuck fixing this for couple days. Is there another method to convert bitmap to byte array for printing to thermal printer? I really appreciate any suggestion.\r\n\r\n  [1]: https://i.stack.imgur.com/S2GKI.jpg","title":"Print Image to Printer Thermal but the result give weird character Android","body":"<p>I build print service for Google Chrome browser. technically I convert the PDF into image then convert it to byte array then do print. But on some device give the weird character on result. Here is the code :</p>\n<p>PrintService.class</p>\n<pre><code>byte[] image = bitmapToBytes(rescaledBitmap, false);\nbyte[][] bytesToPrint = convertGSv0ToEscAsterisk(image);\ntimestamp = new Timestamp(System.currentTimeMillis());\n\nfor (byte[] bytes : bytesToPrint) {\n    this.mOutputStream.write(bytes);\n    this.mOutputStream.flush();\n}\nString endLine = &quot;\\n\\n\\n\\n\\n&quot;;\nthis.mOutputStream.write(endLine.getBytes());\n....\n....\n\npublic static byte[] bitmapToBytes(Bitmap bitmap, boolean gradient) {\n    int bitmapWidth = bitmap.getWidth();\n    int bitmapHeight = bitmap.getHeight();\n    int bytesByLine = (bitmapWidth + 7) / 8;\n    byte[] imageBytes = new byte[bytesByLine * bitmapHeight + 8];\n    int i = 8;\n    int greyscaleCoefficientInit = 0;\n    int gradientStep = 6;\n    double colorLevelStep = 765.0 / (15 * gradientStep + gradientStep - 1);\n\n    for (int posY = 0; posY &lt; bitmapHeight; posY++) {\n        int greyscaleCoefficient = greyscaleCoefficientInit;\n        int greyscaleLine = posY % gradientStep;\n\n        for (int j = 0; j &lt; bitmapWidth; j += 8) {\n            int b = 0;\n\n            for (int k = 0; k &lt; 8; k++) {\n                int posX = j + k;\n\n                if (posX &lt; bitmapWidth) {\n                    int color = bitmap.getPixel(posX, posY);\n                    int red = Color.red(color);\n                    int green = Color.green(color);\n                    int blue = Color.blue(color);\n\n                    if ((gradient &amp;&amp; (red + green + blue) &lt; ((greyscaleCoefficient * gradientStep + greyscaleLine) * colorLevelStep))\n                            || (!gradient &amp;&amp; (red &lt; 160 || green &lt; 160 || blue &lt; 160))) {\n                        b |= 1 &lt;&lt; (7 - k);\n                    }\n\n                    greyscaleCoefficient += 5;\n                    if (greyscaleCoefficient &gt; 15) {\n                        greyscaleCoefficient -= 16;\n                    }\n                }\n            }\n            imageBytes[i++] = (byte) b;\n        }\n\n        greyscaleCoefficientInit += 2;\n        if (greyscaleCoefficientInit &gt; 15) {\n            greyscaleCoefficientInit = 0;\n        }\n    }\n\n    imageBytes[4] = (byte) (bytesByLine &amp; 0xFF);\n    imageBytes[5] = (byte) ((bytesByLine &gt;&gt; 8) &amp; 0xFF);\n    imageBytes[6] = (byte) (bitmapHeight &amp; 0xFF);\n    imageBytes[7] = (byte) ((bitmapHeight &gt;&gt; 8) &amp; 0xFF);\n\n    return imageBytes;\n}\n\npublic static byte[][] convertGSv0ToEscAsterisk(byte[] bytes) {\n    final byte LF = 0x0A;\n    final byte[] LINE_SPACING_30 = {0x1b, 0x33, 0x1e};\n    final byte[] LINE_SPACING_24 = {0x1b, 0x33, 0x18};\n\n    int\n            xL = bytes[4] &amp; 0xFF,\n            xH = bytes[5] &amp; 0xFF,\n            yL = bytes[6] &amp; 0xFF,\n            yH = bytes[7] &amp; 0xFF,\n            bytesByLine = xH * 256 + xL,\n            dotsByLine = bytesByLine * 8,\n            nH = dotsByLine / 256,\n            nL = dotsByLine % 256,\n            imageHeight = yH * 256 + yL,\n            imageLineHeightCount = (int) Math.ceil((double) imageHeight / 24.0),\n            imageBytesSize = 6 + bytesByLine * 24;\n\n    byte[][] returnedBytes = new byte[imageLineHeightCount + 2][];\n    returnedBytes[0] = LINE_SPACING_24;\n    for (int i = 0; i &lt; imageLineHeightCount; ++i) {\n        int pxBaseRow = i * 24;\n        byte[] imageBytes = new byte[imageBytesSize];\n        imageBytes[0] = 0x1B;\n        imageBytes[1] = 0x2A;\n        imageBytes[2] = 0x21;\n        imageBytes[3] = (byte) nL;\n        imageBytes[4] = (byte) nH;\n        for (int j = 5; j &lt; imageBytes.length; ++j) {\n            int\n                    imgByte = j - 5,\n                    byteRow = imgByte % 3,\n                    pxColumn = imgByte / 3,\n                    bitColumn = 1 &lt;&lt; (7 - pxColumn % 8),\n                    pxRow = pxBaseRow + byteRow * 8;\n            for (int k = 0; k &lt; 8; ++k) {\n                int indexBytes = bytesByLine * (pxRow + k) + pxColumn / 8 + 8;\n\n                if (indexBytes &gt;= bytes.length) {\n                    break;\n                }\n\n                boolean isBlack = (bytes[indexBytes] &amp; bitColumn) == bitColumn;\n                if (isBlack) {\n                    imageBytes[j] |= 1 &lt;&lt; 7 - k;\n                }\n            }\n        }\n        imageBytes[imageBytes.length - 1] = LF;\n        returnedBytes[i + 1] = imageBytes;\n    }\n    returnedBytes[returnedBytes.length - 1] = LINE_SPACING_30;\n    return returnedBytes;\n}\n</code></pre>\n<p>On some device, result is like below below :</p>\n<p><a href=\"https://i.stack.imgur.com/S2GKI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2GKI.jpg\" alt=\"weird_characted\" /></a></p>\n<p>But on some device the result is normal too. I stuck fixing this for couple days. Is there another method to convert bitmap to byte array for printing to thermal printer? I really appreciate any suggestion.</p>\n"},{"tags":["java","spring","spring-boot","properties","spring-el"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1523370901,"post_id":49756189,"comment_id":86527670,"body_markdown":"You cannot have nested SPEL. It it not supported as far as i know","body":"You cannot have nested SPEL. It it not supported as far as i know"},{"owner":{"account_id":194089,"reputation":495,"user_id":436196,"accept_rate":89,"display_name":"Jon"},"score":0,"creation_date":1523371272,"post_id":49756189,"comment_id":86527979,"body_markdown":"I have nested placeholders in value.a and value.b nested inside an expression, but value.c has an expression nested in an expression, which from a quick Google might not be supported now you mention it. Thank you, for your comment, you have saved me some headache.","body":"I have nested placeholders in value.a and value.b nested inside an expression, but value.c has an expression nested in an expression, which from a quick Google might not be supported now you mention it. Thank you, for your comment, you have saved me some headache."}],"answers":[{"tags":[],"owner":{"account_id":3685682,"reputation":406,"user_id":3069490,"display_name":"Edvins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525355712,"creation_date":1525355712,"answer_id":50156803,"question_id":49756189,"body_markdown":"**Option 1**\r\n\r\nPlease try this:\r\n\r\n    value.c = #{ systemEnvironment[&#39;MY_VALUE_C&#39;] != null ? systemEnvironment[&#39;MY_VALUE_C&#39;] : ${value.a} + &#39;:&#39; + ${value.b} }\r\n\r\n----------\r\n**Option 2**\r\n\r\nIf that does not work, another option would be to move the logic to the `@Value` annotation in Java code. For example, `value.c` could be left having a possible `null` value:\r\n\r\n    value.c = #{ systemEnvironment[&#39;MY_VALUE_C&#39;] }\r\n\r\nAnd then in Java code:\r\n\r\n    @Value(&quot;#{ ${value.c} != null ? ${value.c} : ${value.a} + &#39;:&#39; + ${value.b} }&quot;)\r\n    public void setValueC(String value) {\r\n        this.c = value;\r\n    }\r\n\r\nSee [SpEL documentation][1] for more information on available operators and syntax.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions","title":"Spring Boot Properties - Why am I getting the error EL1041E: After parsing a valid expression, there is still more data in the expression &#39;hash(#)&#39;","body":"<p><strong>Option 1</strong></p>\n\n<p>Please try this:</p>\n\n<pre><code>value.c = #{ systemEnvironment['MY_VALUE_C'] != null ? systemEnvironment['MY_VALUE_C'] : ${value.a} + ':' + ${value.b} }\n</code></pre>\n\n<hr>\n\n<p><strong>Option 2</strong></p>\n\n<p>If that does not work, another option would be to move the logic to the <code>@Value</code> annotation in Java code. For example, <code>value.c</code> could be left having a possible <code>null</code> value:</p>\n\n<pre><code>value.c = #{ systemEnvironment['MY_VALUE_C'] }\n</code></pre>\n\n<p>And then in Java code:</p>\n\n<pre><code>@Value(\"#{ ${value.c} != null ? ${value.c} : ${value.a} + ':' + ${value.b} }\")\npublic void setValueC(String value) {\n    this.c = value;\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions\" rel=\"nofollow noreferrer\">SpEL documentation</a> for more information on available operators and syntax.</p>\n"}],"owner":{"account_id":194089,"reputation":495,"user_id":436196,"accept_rate":89,"display_name":"Jon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9473,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694419495,"creation_date":1523370447,"question_id":49756189,"body_markdown":"I have added a properties file in my Spring boot application which I am using to initialize some values for my program. This is working for simple values, and some slightly more complicated ones, like the examples I have created for value.a and value.b shown below.\r\n\r\n    my.value.a=a\r\n    my.value.b=b\r\n    \r\n    value.a = #{ systemEnvironment[&#39;MY_VALUE_A&#39;] != null ? systemEnvironment[&#39;MY_VALUE_A&#39;] : &#39;${my.value.a}&#39; }\r\n    value.b = #{ systemEnvironment[&#39;MY_VALUE_B&#39;] != null ? systemEnvironment[&#39;MY_VALUE_B&#39;] : &#39;${my.value.b}&#39; }\r\n\r\nI&#39;d like to do something fancy to combine these, like in value.c below, however, this is giving me an error. Is this me trying to do something to complex for a properties file? Or is there an error I have made here somewhere?\r\n\r\n    value.c = #{ systemEnvironment[&#39;MY_VALUE_C&#39;] != null ? systemEnvironment[&#39;MY_VALUE_C&#39;] : &#39;#{ ${value.a}:${value.b} }&#39; }\r\n\r\nIt doesn&#39;t compile with value.c like this, but gives a stack trace with the error: \r\n\r\n&gt; InvocationTargetException: Error creating bean with name &#39;MyProperties&#39;: Unsatisfied dependency expressed through method &#39;setValueC&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;hash(#)&#39; -&gt; [Help 1]\r\n\r\nTo set the values in Java, I have a properties file and the method where the values are set looks like this:\r\n\r\n    @Value(&quot;${value.a}&quot;)\r\n    public void setValueA(String value) {\r\n        this.a = value;\r\n    }\r\n\r\n    @Value(&quot;${value.b}&quot;)\r\n    public void setValueB(String value) {\r\n        this.b = value;\r\n    }\r\n\r\n    @Value(&quot;${value.c}&quot;)\r\n    public void setValueC(String value) {\r\n        this.c = value;\r\n    }\r\n\r\nThe output I am trying to achieve is for value.c to come in as a:b - or whatever environment variables a and b are substituted for, separated by a colon.\r\n\r\nI&#39;m not that familiar with this, so I may be going about this completely wrong. Is it possible to achieve what I want in this manner? What have I done wrong if it is?","title":"Spring Boot Properties - Why am I getting the error EL1041E: After parsing a valid expression, there is still more data in the expression &#39;hash(#)&#39;","body":"<p>I have added a properties file in my Spring boot application which I am using to initialize some values for my program. This is working for simple values, and some slightly more complicated ones, like the examples I have created for value.a and value.b shown below.</p>\n\n<pre><code>my.value.a=a\nmy.value.b=b\n\nvalue.a = #{ systemEnvironment['MY_VALUE_A'] != null ? systemEnvironment['MY_VALUE_A'] : '${my.value.a}' }\nvalue.b = #{ systemEnvironment['MY_VALUE_B'] != null ? systemEnvironment['MY_VALUE_B'] : '${my.value.b}' }\n</code></pre>\n\n<p>I'd like to do something fancy to combine these, like in value.c below, however, this is giving me an error. Is this me trying to do something to complex for a properties file? Or is there an error I have made here somewhere?</p>\n\n<pre><code>value.c = #{ systemEnvironment['MY_VALUE_C'] != null ? systemEnvironment['MY_VALUE_C'] : '#{ ${value.a}:${value.b} }' }\n</code></pre>\n\n<p>It doesn't compile with value.c like this, but gives a stack trace with the error: </p>\n\n<blockquote>\n  <p>InvocationTargetException: Error creating bean with name 'MyProperties': Unsatisfied dependency expressed through method 'setValueC' parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'hash(#)' -> [Help 1]</p>\n</blockquote>\n\n<p>To set the values in Java, I have a properties file and the method where the values are set looks like this:</p>\n\n<pre><code>@Value(\"${value.a}\")\npublic void setValueA(String value) {\n    this.a = value;\n}\n\n@Value(\"${value.b}\")\npublic void setValueB(String value) {\n    this.b = value;\n}\n\n@Value(\"${value.c}\")\npublic void setValueC(String value) {\n    this.c = value;\n}\n</code></pre>\n\n<p>The output I am trying to achieve is for value.c to come in as a:b - or whatever environment variables a and b are substituted for, separated by a colon.</p>\n\n<p>I'm not that familiar with this, so I may be going about this completely wrong. Is it possible to achieve what I want in this manner? What have I done wrong if it is?</p>\n"},{"tags":["java","user-interface","javafx","game-development","gridpane"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1694433390,"post_id":77079573,"comment_id":135885972,"body_markdown":"Perhaps off-topic, but it’s usually cleaner to code this with an event handler for each of the pieces, instead of a single event handler for the board. That way your event handler already has access to information like which piece was clicked, what its location is, etc.","body":"Perhaps off-topic, but it’s usually cleaner to code this with an event handler for each of the pieces, instead of a single event handler for the board. That way your event handler already has access to information like which piece was clicked, what its location is, etc."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1694435934,"post_id":77079573,"comment_id":135886444,"body_markdown":"Two approaches are examined [here](https://stackoverflow.com/a/69429741/230513).","body":"Two approaches are examined <a href=\"https://stackoverflow.com/a/69429741/230513\">here</a>."},{"owner":{"account_id":23507244,"reputation":11,"user_id":17556318,"display_name":"Ryan Cruz"},"score":0,"creation_date":1694453820,"post_id":77079573,"comment_id":135890172,"body_markdown":"@trashgod I think this helped I&#39;m able to get the rows and columns of the circles in the Grid.","body":"@trashgod I think this helped I&#39;m able to get the rows and columns of the circles in the Grid."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1694455562,"post_id":77079573,"comment_id":135890452,"body_markdown":"@RyanCruz: Excellent; you should update your question to reflect the the revised approach; going forward, you can [answer your own question](http://meta.stackoverflow.com/q/17463/163188); if not, I can close as a duplicate..","body":"@RyanCruz: Excellent; you should update your question to reflect the the revised approach; going forward, you can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>; if not, I can close as a duplicate.."}],"answers":[{"tags":[],"owner":{"display_name":"user22391295"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694419486,"creation_date":1694419486,"answer_id":77079868,"question_id":77079573,"body_markdown":"The problem is probably caused by `target.getBoundsInParent()` this gives you the clicked element bounds in relation to its parent. \r\n\r\nThe reason  why you got the \r\n\r\n&gt; centerX = 25.0\r\n\r\n and \r\n\r\n&gt; centerY = 25.0\r\n\r\n for all the cells is because, if your grid cells are uniform, clicking any cells will give you same dimension and its relative position with its parent.\r\n\r\ntry to convert the local coordinates to your scene coordinates.\r\n\r\n    gameBoard.setOnMouseClicked(evt -&gt; {\r\n        Node target = evt.getPickResult().getIntersectedNode();\r\n    \r\n        if (target != gameBoard) {\r\n            Bounds bounds = target.getBoundsInParent();\r\n            Point2D pointInScene = target.localToScene(bounds.getMinX() + bounds.getWidth() / 2, bounds.getMinY() + bounds.getHeight() / 2);\r\n    \r\n            System.out.println(&quot;bounds = &quot; + bounds);\r\n            System.out.println(&quot;centerX in Scene = &quot; + pointInScene.getX());\r\n            System.out.println(&quot;centerY in Scene = &quot; + pointInScene.getY());\r\n        }\r\n    });","title":"How do I get X and Y Coordinates of different rows and columns in a gridpane?","body":"<p>The problem is probably caused by <code>target.getBoundsInParent()</code> this gives you the clicked element bounds in relation to its parent.</p>\n<p>The reason  why you got the</p>\n<blockquote>\n<p>centerX = 25.0</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>centerY = 25.0</p>\n</blockquote>\n<p>for all the cells is because, if your grid cells are uniform, clicking any cells will give you same dimension and its relative position with its parent.</p>\n<p>try to convert the local coordinates to your scene coordinates.</p>\n<pre><code>gameBoard.setOnMouseClicked(evt -&gt; {\n    Node target = evt.getPickResult().getIntersectedNode();\n\n    if (target != gameBoard) {\n        Bounds bounds = target.getBoundsInParent();\n        Point2D pointInScene = target.localToScene(bounds.getMinX() + bounds.getWidth() / 2, bounds.getMinY() + bounds.getHeight() / 2);\n\n        System.out.println(&quot;bounds = &quot; + bounds);\n        System.out.println(&quot;centerX in Scene = &quot; + pointInScene.getX());\n        System.out.println(&quot;centerY in Scene = &quot; + pointInScene.getY());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":23507244,"reputation":11,"user_id":17556318,"display_name":"Ryan Cruz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694419486,"creation_date":1694416495,"question_id":77079573,"body_markdown":"I&#39;m currently making a game board and want to be able to move pieces from one tile to another. I&#39;m trying to do this by getting the centerX and centerY of each tile as the user click on it, which would then allow me to move my pieces based off of those values.\r\n\r\nHere is what I tried:\r\n\r\n    gameBoard.setOnMouseClicked(evt -&gt; {\r\n            Node target = evt.getPickResult().getIntersectedNode();\r\n\r\n            if (target != gameBoard) {\r\n                Bounds bounds = target.getBoundsInParent();\r\n                System.out.println(&quot;bounds = &quot; + bounds);\r\n                System.out.println(&quot;centerX = &quot; + (bounds.getMinX() + bounds.getWidth()/2));\r\n                System.out.println(&quot;centerY = &quot; + (bounds.getMinY() + bounds.getHeight()/2));\r\n            }\r\n    });\r\n\r\nHowever `centerX = ` and `centerY = ` only print out `25.0`, no matter the grid row/column I click on. Any advice?\r\n","title":"How do I get X and Y Coordinates of different rows and columns in a gridpane?","body":"<p>I'm currently making a game board and want to be able to move pieces from one tile to another. I'm trying to do this by getting the centerX and centerY of each tile as the user click on it, which would then allow me to move my pieces based off of those values.</p>\n<p>Here is what I tried:</p>\n<pre><code>gameBoard.setOnMouseClicked(evt -&gt; {\n        Node target = evt.getPickResult().getIntersectedNode();\n\n        if (target != gameBoard) {\n            Bounds bounds = target.getBoundsInParent();\n            System.out.println(&quot;bounds = &quot; + bounds);\n            System.out.println(&quot;centerX = &quot; + (bounds.getMinX() + bounds.getWidth()/2));\n            System.out.println(&quot;centerY = &quot; + (bounds.getMinY() + bounds.getHeight()/2));\n        }\n});\n</code></pre>\n<p>However <code>centerX = </code> and <code>centerY = </code> only print out <code>25.0</code>, no matter the grid row/column I click on. Any advice?</p>\n"},{"tags":["java","jdeveloper","jboss-eap-6"],"answers":[{"tags":[],"owner":{"account_id":2217160,"reputation":313,"user_id":1957477,"display_name":"Amit Nijhawan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694419312,"creation_date":1514095000,"answer_id":47958393,"question_id":47955288,"body_markdown":"From the [oracle site][1],you can see that EAP 5 is supported with Oracle JDeveloper studio 12c but not mentioned any information about EAP6,please raise your query on [JDEVELOPER AND ADF community][2] so that will get your answer.\r\n\r\n\r\n  [1]: https://www.oracle.com/application-development/technologies/jdeveloper/122-cert.html\r\n  [2]: https://forums.oracle.com/ords/r/apexds/community/questions?domain=dev-community&amp;clear=RP,1&amp;p1_tags=application-development-in-java,jdeveloper-and-adf&amp;p1_category_id=323434627485186785626471144154565580935","title":"Oracle JDeveloper studio 12c with JBOSS EAP?","body":"<p>From the <a href=\"https://www.oracle.com/application-development/technologies/jdeveloper/122-cert.html\" rel=\"nofollow noreferrer\">oracle site</a>,you can see that EAP 5 is supported with Oracle JDeveloper studio 12c but not mentioned any information about EAP6,please raise your query on <a href=\"https://forums.oracle.com/ords/r/apexds/community/questions?domain=dev-community&amp;clear=RP,1&amp;p1_tags=application-development-in-java,jdeveloper-and-adf&amp;p1_category_id=323434627485186785626471144154565580935\" rel=\"nofollow noreferrer\">JDEVELOPER AND ADF community</a> so that will get your answer.</p>\n"}],"owner":{"account_id":3879823,"reputation":743,"user_id":3212710,"accept_rate":33,"display_name":"Venkata Ramireddy CH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":47958393,"answer_count":1,"score":-2,"last_activity_date":1694419312,"creation_date":1514056770,"question_id":47955288,"body_markdown":"I have java web application which runs on JBOSS EAP6. I wanted to use Oracle JDeveloper studio for my coding and unit testing of application. Could you please let me know if i am good to use Oracle JDeveloper studio to run my application by configuring JBOSS EAP in the IDE?\r\n\r\nThanks,\r\nVenkat","title":"Oracle JDeveloper studio 12c with JBOSS EAP?","body":"<p>I have java web application which runs on JBOSS EAP6. I wanted to use Oracle JDeveloper studio for my coding and unit testing of application. Could you please let me know if i am good to use Oracle JDeveloper studio to run my application by configuring JBOSS EAP in the IDE?</p>\n\n<p>Thanks,\nVenkat</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1555475668,"post_id":55719014,"comment_id":98119669,"body_markdown":"Please show your full code.","body":"Please show your full code."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1555527717,"post_id":55719014,"comment_id":98147121,"body_markdown":"If the given answer does not clarify your point, you should show THE FULL code which includes at lest a complete test class with imports and annotations. Why? Because anything could make a difference.","body":"If the given answer does not clarify your point, you should show THE FULL code which includes at lest a complete test class with imports and annotations. Why? Because anything could make a difference."},{"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"score":0,"creation_date":1555615615,"post_id":55719014,"comment_id":98181672,"body_markdown":"I have add the annotations I was using. thank you.","body":"I have add the annotations I was using. thank you."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1555648474,"post_id":55719014,"comment_id":98188983,"body_markdown":"And indeed they reveal what’s going on :-)","body":"And indeed they reveal what’s going on :-)"}],"answers":[{"tags":[],"owner":{"account_id":1595694,"reputation":889,"user_id":1477873,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1555480309,"creation_date":1555480309,"answer_id":55720750,"question_id":55719014,"body_markdown":"If you want use non-static `@BeforeAll` and `@AfterAll` methods you should [change test instance lifecycle][1] to `per_class`.\r\n\r\nLook there: [2.10. Test Instance Lifecycle][2]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle-changing-default\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle","title":"@BeforeAll Method as non-static","body":"<p>If you want use non-static <code>@BeforeAll</code> and <code>@AfterAll</code> methods you should <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle-changing-default\" rel=\"noreferrer\">change test instance lifecycle</a> to <code>per_class</code>.</p>\n\n<p>Look there: <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle\" rel=\"noreferrer\">2.10. Test Instance Lifecycle</a></p>\n"},{"tags":[],"owner":{"account_id":9685841,"reputation":1379,"user_id":7436256,"display_name":"Wilson"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1596602373,"creation_date":1596602373,"answer_id":63258521,"question_id":55719014,"body_markdown":"You simply need to annotate your test class (that contains the `@BeforeAll` method) with the snippet below and you&#39;ll be good to go.\r\n      \r\n    @TestInstance(Lifecycle.PER_CLASS)","title":"@BeforeAll Method as non-static","body":"<p>You simply need to annotate your test class (that contains the <code>@BeforeAll</code> method) with the snippet below and you'll be good to go.</p>\n<pre><code>@TestInstance(Lifecycle.PER_CLASS)\n</code></pre>\n"}],"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48445,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":63258521,"answer_count":2,"score":50,"last_activity_date":1694419063,"creation_date":1555467734,"question_id":55719014,"body_markdown":"I was able to implement a non-static setup method with `@BeforeAll` annotation. \r\nIt seems to be working correctly as it only gets called once. \r\nI am bit confused, as the documentation for `@BeforeAll` says the method has to be static. Can someone explain to me why my setup works anyway?\r\n\r\nMy code:\r\n\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    @SpringJUnitWebConfig(locations = { &quot;classpath:service.xml&quot; }) \r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @Documented \r\n    @Inherited \r\n    public class MyTest {\r\n        @BeforeAll\r\n        public void setup() throws Exception {...}\r\n    }","title":"@BeforeAll Method as non-static","body":"<p>I was able to implement a non-static setup method with <code>@BeforeAll</code> annotation.\nIt seems to be working correctly as it only gets called once.\nI am bit confused, as the documentation for <code>@BeforeAll</code> says the method has to be static. Can someone explain to me why my setup works anyway?</p>\n<p>My code:</p>\n<pre><code>@TestMethodOrder(OrderAnnotation.class)\n@SpringJUnitWebConfig(locations = { &quot;classpath:service.xml&quot; }) \n@TestInstance(Lifecycle.PER_CLASS)\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Documented \n@Inherited \npublic class MyTest {\n    @BeforeAll\n    public void setup() throws Exception {...}\n}\n</code></pre>\n"},{"tags":["java","graphql"],"owner":{"account_id":29386100,"reputation":1,"user_id":22515507,"display_name":"codepheonix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694259027,"answer_count":0,"score":0,"last_activity_date":1694419013,"creation_date":1694080680,"question_id":77058543,"body_markdown":"I need to generate a dynamic Query.. for GraphQl client with the GraphQL Schema from URL Endpoint in java,\r\n[GraphQl Query Generator](https://i.stack.imgur.com/2XhiY.png)\r\nPlease refer the above image .\r\nThere is GraphQL Query Generator (Chrome extension) which i need all the functionality in java,\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;__schema&quot;: {\r\n            &quot;queryType&quot;: {\r\n                &quot;name&quot;: &quot;Query&quot;\r\n            },\r\n            &quot;mutationType&quot;: null,\r\n            &quot;subscriptionType&quot;: null,\r\n            &quot;types&quot;: [\r\n                {\r\n                    &quot;kind&quot;: &quot;ENUM&quot;,\r\n                    &quot;name&quot;: &quot;Genre&quot;,\r\n                    &quot;description&quot;: null,\r\n                    &quot;fields&quot;: null,\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: null,\r\n                    &quot;enumValues&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;Pop&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;Rock&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                    ],\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                    &quot;name&quot;: &quot;Track&quot;,\r\n                    &quot;description&quot;: null,\r\n                    &quot;fields&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;title&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                    &quot;name&quot;: &quot;String&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;number&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                    &quot;name&quot;: &quot;Int&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        }\r\n                    ],\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: [],\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                \r\n                \r\n                {\r\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                    &quot;name&quot;: &quot;Artist&quot;,\r\n                    &quot;description&quot;: null,\r\n                    &quot;fields&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;name&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                    &quot;name&quot;: &quot;String&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        }\r\n                    ],\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: [],\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                    &quot;name&quot;: &quot;Album&quot;,\r\n                    &quot;description&quot;: null,\r\n                    &quot;fields&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;title&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                    &quot;name&quot;: &quot;String&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;artist&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                    &quot;name&quot;: &quot;Artist&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;tracks&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;LIST&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                        &quot;name&quot;: null,\r\n                                        &quot;ofType&quot;: {\r\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                            &quot;name&quot;: &quot;Track&quot;,\r\n                                            &quot;ofType&quot;: null\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;genre&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;ENUM&quot;,\r\n                                    &quot;name&quot;: &quot;Genre&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        }\r\n                    ],\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: [],\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                    &quot;name&quot;: &quot;Query&quot;,\r\n                    &quot;description&quot;: null,\r\n                    &quot;fields&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;albums&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [\r\n                                {\r\n                                    &quot;name&quot;: &quot;genre&quot;,\r\n                                    &quot;description&quot;: null,\r\n                                    &quot;type&quot;: {\r\n                                        &quot;kind&quot;: &quot;ENUM&quot;,\r\n                                        &quot;name&quot;: &quot;Genre&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    },\r\n                                    &quot;defaultValue&quot;: null\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;LIST&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                        &quot;name&quot;: null,\r\n                                        &quot;ofType&quot;: {\r\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                            &quot;name&quot;: &quot;Album&quot;,\r\n                                            &quot;ofType&quot;: null\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;album&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [\r\n                                {\r\n                                    &quot;name&quot;: &quot;title&quot;,\r\n                                    &quot;description&quot;: null,\r\n                                    &quot;type&quot;: {\r\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                        &quot;name&quot;: null,\r\n                                        &quot;ofType&quot;: {\r\n                                            &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                            &quot;name&quot;: &quot;String&quot;,\r\n                                            &quot;ofType&quot;: null\r\n                                        }\r\n                                    },\r\n                                    &quot;defaultValue&quot;: null\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                &quot;name&quot;: &quot;Album&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        }\r\n                    ],\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: [],\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                }\r\n                {\r\n                    &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                    &quot;name&quot;: &quot;Upload&quot;,\r\n                    &quot;description&quot;: &quot;The `Upload` scalar type represents a file upload.&quot;,\r\n                    &quot;fields&quot;: null,\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: null,\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                    &quot;name&quot;: &quot;Boolean&quot;,\r\n                    &quot;description&quot;: &quot;The `Boolean` scalar type represents `true` or `false`.&quot;,\r\n                    &quot;fields&quot;: null,\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: null,\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                    &quot;name&quot;: &quot;__Schema&quot;,\r\n                    &quot;description&quot;: &quot;&quot;,\r\n                    &quot;fields&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;description&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                &quot;name&quot;: &quot;String&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;types&quot;,\r\n                            &quot;description&quot;: &quot;A list of all types supported by this server.&quot;,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;LIST&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                        &quot;name&quot;: null,\r\n                                        &quot;ofType&quot;: {\r\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                            &quot;name&quot;: &quot;__Type&quot;,\r\n                                            &quot;ofType&quot;: null\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;queryType&quot;,\r\n                            &quot;description&quot;: &quot;The type that query operations will be rooted at.&quot;,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                    &quot;name&quot;: &quot;__Type&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;mutationType&quot;,\r\n                            &quot;description&quot;: &quot;If this server supports mutation, the type that mutation operations will be rooted at.&quot;,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                &quot;name&quot;: &quot;__Type&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;subscriptionType&quot;,\r\n                            &quot;description&quot;: &quot;If this server support subscription, the type that subscription operations will be rooted at.&quot;,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                &quot;name&quot;: &quot;__Type&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;directives&quot;,\r\n                            &quot;description&quot;: &quot;A list of all directives supported by this server.&quot;,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;LIST&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                        &quot;name&quot;: null,\r\n                                        &quot;ofType&quot;: {\r\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                            &quot;name&quot;: &quot;__Directive&quot;,\r\n                                            &quot;ofType&quot;: null\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        }\r\n                    ],\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: [],\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                    &quot;name&quot;: &quot;__Type&quot;,\r\n                    &quot;description&quot;: &quot;&quot;,\r\n                    &quot;fields&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;kind&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;ENUM&quot;,\r\n                                    &quot;name&quot;: &quot;__TypeKind&quot;,\r\n                                    &quot;ofType&quot;: null\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;name&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                &quot;name&quot;: &quot;String&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;description&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                &quot;name&quot;: &quot;String&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;specifiedByUrl&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                &quot;name&quot;: &quot;String&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;fields&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [\r\n                                {\r\n                                    &quot;name&quot;: &quot;includeDeprecated&quot;,\r\n                                    &quot;description&quot;: null,\r\n                                    &quot;type&quot;: {\r\n                                        &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                        &quot;name&quot;: &quot;Boolean&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    },\r\n                                    &quot;defaultValue&quot;: &quot;false&quot;\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;LIST&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                        &quot;name&quot;: &quot;__Field&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;interfaces&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;LIST&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                        &quot;name&quot;: &quot;__Type&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;possibleTypes&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;LIST&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                        &quot;name&quot;: &quot;__Type&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;enumValues&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [\r\n                                {\r\n                                    &quot;name&quot;: &quot;includeDeprecated&quot;,\r\n                                    &quot;description&quot;: null,\r\n                                    &quot;type&quot;: {\r\n                                        &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                        &quot;name&quot;: &quot;Boolean&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    },\r\n                                    &quot;defaultValue&quot;: &quot;false&quot;\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;LIST&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                        &quot;name&quot;: &quot;__EnumValue&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;inputFields&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [\r\n                                {\r\n                                    &quot;name&quot;: &quot;includeDeprecated&quot;,\r\n                                    &quot;description&quot;: null,\r\n                                    &quot;type&quot;: {\r\n                                        &quot;kind&quot;: &quot;SCALAR&quot;,\r\n                                        &quot;name&quot;: &quot;Boolean&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    },\r\n                                    &quot;defaultValue&quot;: &quot;false&quot;\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;LIST&quot;,\r\n                                &quot;name&quot;: null,\r\n                                &quot;ofType&quot;: {\r\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\r\n                                    &quot;name&quot;: null,\r\n                                    &quot;ofType&quot;: {\r\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                        &quot;name&quot;: &quot;__InputValue&quot;,\r\n                                        &quot;ofType&quot;: null\r\n                                    }\r\n                                }\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;ofType&quot;,\r\n                            &quot;description&quot;: null,\r\n                            &quot;args&quot;: [],\r\n                            &quot;type&quot;: {\r\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\r\n                                &quot;name&quot;: &quot;__Type&quot;,\r\n                                &quot;ofType&quot;: null\r\n                            },\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        }\r\n                    ],\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: [],\r\n                    &quot;enumValues&quot;: null,\r\n                    &quot;possibleTypes&quot;: null\r\n                },\r\n                {\r\n                    &quot;kind&quot;: &quot;ENUM&quot;,\r\n                    &quot;name&quot;: &quot;__TypeKind&quot;,\r\n                    &quot;description&quot;: &quot;An enum describing what kind of type a given `__Type` is.&quot;,\r\n                    &quot;fields&quot;: null,\r\n                    &quot;inputFields&quot;: null,\r\n                    &quot;interfaces&quot;: null,\r\n                    &quot;enumValues&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;SCALAR&quot;,\r\n                            &quot;description&quot;: &quot;Indicates this type is a scalar.&quot;,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;OBJECT&quot;,\r\n                            &quot;description&quot;: &quot;Indicates this type is an object. `fields` and `interfaces` are valid fields.&quot;,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;INTERFACE&quot;,\r\n                            &quot;description&quot;: &quot;Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields.&quot;,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;UNION&quot;,\r\n                            &quot;description&quot;: &quot;Indicates this type is a union. `possibleTypes` is a valid field.&quot;,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },\r\n                        {\r\n                            &quot;name&quot;: &quot;ENUM&quot;,\r\n                            &quot;description&quot;: &quot;Indicates this type is an enum. `enumValues` is a valid field.&quot;,\r\n                            &quot;isDeprecated&quot;: false,\r\n                            &quot;deprecationReason&quot;: null\r\n                        },...\r\n```\r\nabove is sample GraphQl schema\r\n\r\n```\r\n**Query**\r\nquery ($genre: Genre) {\r\n    albums (\r\n        genre: $genre\r\n    ) {\r\n        __typename\r\n        title\r\n        artist {\r\n            name\r\n        }\r\n        tracks {\r\n            title\r\n            number\r\n        }\r\n        genre\r\n    }\r\n}\r\n**Input Variables**\r\n{\r\n    &quot;genre&quot;: &quot;Pop&quot;\r\n}\r\n```\r\nabove query is a generated query from the chrome extension.\r\nI need to generate a sample query based on end point URL ,in dynamic way..\r\nPlease help to the solve this issue..\r\nThanks in Advances!..","title":"Dynamic Generation of GraphQL Client Sample query , Mutation ,..etc from the URL Endpoint Schema","body":"<p>I need to generate a dynamic Query.. for GraphQl client with the GraphQL Schema from URL Endpoint in java,\n<a href=\"https://i.stack.imgur.com/2XhiY.png\" rel=\"nofollow noreferrer\">GraphQl Query Generator</a>\nPlease refer the above image .\nThere is GraphQL Query Generator (Chrome extension) which i need all the functionality in java,</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;__schema&quot;: {\n            &quot;queryType&quot;: {\n                &quot;name&quot;: &quot;Query&quot;\n            },\n            &quot;mutationType&quot;: null,\n            &quot;subscriptionType&quot;: null,\n            &quot;types&quot;: [\n                {\n                    &quot;kind&quot;: &quot;ENUM&quot;,\n                    &quot;name&quot;: &quot;Genre&quot;,\n                    &quot;description&quot;: null,\n                    &quot;fields&quot;: null,\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: null,\n                    &quot;enumValues&quot;: [\n                        {\n                            &quot;name&quot;: &quot;Pop&quot;,\n                            &quot;description&quot;: null,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;Rock&quot;,\n                            &quot;description&quot;: null,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                    ],\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                    &quot;name&quot;: &quot;Track&quot;,\n                    &quot;description&quot;: null,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;name&quot;: &quot;title&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\n                                    &quot;name&quot;: &quot;String&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;number&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\n                                    &quot;name&quot;: &quot;Int&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        }\n                    ],\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: [],\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                \n                \n                {\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                    &quot;name&quot;: &quot;Artist&quot;,\n                    &quot;description&quot;: null,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;name&quot;: &quot;name&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\n                                    &quot;name&quot;: &quot;String&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        }\n                    ],\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: [],\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                    &quot;name&quot;: &quot;Album&quot;,\n                    &quot;description&quot;: null,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;name&quot;: &quot;title&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;SCALAR&quot;,\n                                    &quot;name&quot;: &quot;String&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;artist&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                                    &quot;name&quot;: &quot;Artist&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;tracks&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;LIST&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                        &quot;name&quot;: null,\n                                        &quot;ofType&quot;: {\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\n                                            &quot;name&quot;: &quot;Track&quot;,\n                                            &quot;ofType&quot;: null\n                                        }\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;genre&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;ENUM&quot;,\n                                    &quot;name&quot;: &quot;Genre&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        }\n                    ],\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: [],\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                    &quot;name&quot;: &quot;Query&quot;,\n                    &quot;description&quot;: null,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;name&quot;: &quot;albums&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [\n                                {\n                                    &quot;name&quot;: &quot;genre&quot;,\n                                    &quot;description&quot;: null,\n                                    &quot;type&quot;: {\n                                        &quot;kind&quot;: &quot;ENUM&quot;,\n                                        &quot;name&quot;: &quot;Genre&quot;,\n                                        &quot;ofType&quot;: null\n                                    },\n                                    &quot;defaultValue&quot;: null\n                                }\n                            ],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;LIST&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                        &quot;name&quot;: null,\n                                        &quot;ofType&quot;: {\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\n                                            &quot;name&quot;: &quot;Album&quot;,\n                                            &quot;ofType&quot;: null\n                                        }\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;album&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [\n                                {\n                                    &quot;name&quot;: &quot;title&quot;,\n                                    &quot;description&quot;: null,\n                                    &quot;type&quot;: {\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                        &quot;name&quot;: null,\n                                        &quot;ofType&quot;: {\n                                            &quot;kind&quot;: &quot;SCALAR&quot;,\n                                            &quot;name&quot;: &quot;String&quot;,\n                                            &quot;ofType&quot;: null\n                                        }\n                                    },\n                                    &quot;defaultValue&quot;: null\n                                }\n                            ],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\n                                &quot;name&quot;: &quot;Album&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        }\n                    ],\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: [],\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                }\n                {\n                    &quot;kind&quot;: &quot;SCALAR&quot;,\n                    &quot;name&quot;: &quot;Upload&quot;,\n                    &quot;description&quot;: &quot;The `Upload` scalar type represents a file upload.&quot;,\n                    &quot;fields&quot;: null,\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: null,\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;SCALAR&quot;,\n                    &quot;name&quot;: &quot;Boolean&quot;,\n                    &quot;description&quot;: &quot;The `Boolean` scalar type represents `true` or `false`.&quot;,\n                    &quot;fields&quot;: null,\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: null,\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                    &quot;name&quot;: &quot;__Schema&quot;,\n                    &quot;description&quot;: &quot;&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;name&quot;: &quot;description&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\n                                &quot;name&quot;: &quot;String&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;types&quot;,\n                            &quot;description&quot;: &quot;A list of all types supported by this server.&quot;,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;LIST&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                        &quot;name&quot;: null,\n                                        &quot;ofType&quot;: {\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\n                                            &quot;name&quot;: &quot;__Type&quot;,\n                                            &quot;ofType&quot;: null\n                                        }\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;queryType&quot;,\n                            &quot;description&quot;: &quot;The type that query operations will be rooted at.&quot;,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                                    &quot;name&quot;: &quot;__Type&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;mutationType&quot;,\n                            &quot;description&quot;: &quot;If this server supports mutation, the type that mutation operations will be rooted at.&quot;,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\n                                &quot;name&quot;: &quot;__Type&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;subscriptionType&quot;,\n                            &quot;description&quot;: &quot;If this server support subscription, the type that subscription operations will be rooted at.&quot;,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\n                                &quot;name&quot;: &quot;__Type&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;directives&quot;,\n                            &quot;description&quot;: &quot;A list of all directives supported by this server.&quot;,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;LIST&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                        &quot;name&quot;: null,\n                                        &quot;ofType&quot;: {\n                                            &quot;kind&quot;: &quot;OBJECT&quot;,\n                                            &quot;name&quot;: &quot;__Directive&quot;,\n                                            &quot;ofType&quot;: null\n                                        }\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        }\n                    ],\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: [],\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;OBJECT&quot;,\n                    &quot;name&quot;: &quot;__Type&quot;,\n                    &quot;description&quot;: &quot;&quot;,\n                    &quot;fields&quot;: [\n                        {\n                            &quot;name&quot;: &quot;kind&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;ENUM&quot;,\n                                    &quot;name&quot;: &quot;__TypeKind&quot;,\n                                    &quot;ofType&quot;: null\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;name&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\n                                &quot;name&quot;: &quot;String&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;description&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\n                                &quot;name&quot;: &quot;String&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;specifiedByUrl&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;SCALAR&quot;,\n                                &quot;name&quot;: &quot;String&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;fields&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [\n                                {\n                                    &quot;name&quot;: &quot;includeDeprecated&quot;,\n                                    &quot;description&quot;: null,\n                                    &quot;type&quot;: {\n                                        &quot;kind&quot;: &quot;SCALAR&quot;,\n                                        &quot;name&quot;: &quot;Boolean&quot;,\n                                        &quot;ofType&quot;: null\n                                    },\n                                    &quot;defaultValue&quot;: &quot;false&quot;\n                                }\n                            ],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;LIST&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\n                                        &quot;name&quot;: &quot;__Field&quot;,\n                                        &quot;ofType&quot;: null\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;interfaces&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;LIST&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\n                                        &quot;name&quot;: &quot;__Type&quot;,\n                                        &quot;ofType&quot;: null\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;possibleTypes&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;LIST&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\n                                        &quot;name&quot;: &quot;__Type&quot;,\n                                        &quot;ofType&quot;: null\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;enumValues&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [\n                                {\n                                    &quot;name&quot;: &quot;includeDeprecated&quot;,\n                                    &quot;description&quot;: null,\n                                    &quot;type&quot;: {\n                                        &quot;kind&quot;: &quot;SCALAR&quot;,\n                                        &quot;name&quot;: &quot;Boolean&quot;,\n                                        &quot;ofType&quot;: null\n                                    },\n                                    &quot;defaultValue&quot;: &quot;false&quot;\n                                }\n                            ],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;LIST&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\n                                        &quot;name&quot;: &quot;__EnumValue&quot;,\n                                        &quot;ofType&quot;: null\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;inputFields&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [\n                                {\n                                    &quot;name&quot;: &quot;includeDeprecated&quot;,\n                                    &quot;description&quot;: null,\n                                    &quot;type&quot;: {\n                                        &quot;kind&quot;: &quot;SCALAR&quot;,\n                                        &quot;name&quot;: &quot;Boolean&quot;,\n                                        &quot;ofType&quot;: null\n                                    },\n                                    &quot;defaultValue&quot;: &quot;false&quot;\n                                }\n                            ],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;LIST&quot;,\n                                &quot;name&quot;: null,\n                                &quot;ofType&quot;: {\n                                    &quot;kind&quot;: &quot;NON_NULL&quot;,\n                                    &quot;name&quot;: null,\n                                    &quot;ofType&quot;: {\n                                        &quot;kind&quot;: &quot;OBJECT&quot;,\n                                        &quot;name&quot;: &quot;__InputValue&quot;,\n                                        &quot;ofType&quot;: null\n                                    }\n                                }\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;ofType&quot;,\n                            &quot;description&quot;: null,\n                            &quot;args&quot;: [],\n                            &quot;type&quot;: {\n                                &quot;kind&quot;: &quot;OBJECT&quot;,\n                                &quot;name&quot;: &quot;__Type&quot;,\n                                &quot;ofType&quot;: null\n                            },\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        }\n                    ],\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: [],\n                    &quot;enumValues&quot;: null,\n                    &quot;possibleTypes&quot;: null\n                },\n                {\n                    &quot;kind&quot;: &quot;ENUM&quot;,\n                    &quot;name&quot;: &quot;__TypeKind&quot;,\n                    &quot;description&quot;: &quot;An enum describing what kind of type a given `__Type` is.&quot;,\n                    &quot;fields&quot;: null,\n                    &quot;inputFields&quot;: null,\n                    &quot;interfaces&quot;: null,\n                    &quot;enumValues&quot;: [\n                        {\n                            &quot;name&quot;: &quot;SCALAR&quot;,\n                            &quot;description&quot;: &quot;Indicates this type is a scalar.&quot;,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;OBJECT&quot;,\n                            &quot;description&quot;: &quot;Indicates this type is an object. `fields` and `interfaces` are valid fields.&quot;,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;INTERFACE&quot;,\n                            &quot;description&quot;: &quot;Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields.&quot;,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;UNION&quot;,\n                            &quot;description&quot;: &quot;Indicates this type is a union. `possibleTypes` is a valid field.&quot;,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },\n                        {\n                            &quot;name&quot;: &quot;ENUM&quot;,\n                            &quot;description&quot;: &quot;Indicates this type is an enum. `enumValues` is a valid field.&quot;,\n                            &quot;isDeprecated&quot;: false,\n                            &quot;deprecationReason&quot;: null\n                        },...\n</code></pre>\n<p>above is sample GraphQl schema</p>\n<pre><code>**Query**\nquery ($genre: Genre) {\n    albums (\n        genre: $genre\n    ) {\n        __typename\n        title\n        artist {\n            name\n        }\n        tracks {\n            title\n            number\n        }\n        genre\n    }\n}\n**Input Variables**\n{\n    &quot;genre&quot;: &quot;Pop&quot;\n}\n</code></pre>\n<p>above query is a generated query from the chrome extension.\nI need to generate a sample query based on end point URL ,in dynamic way..\nPlease help to the solve this issue..\nThanks in Advances!..</p>\n"},{"tags":["java","android","kotlin","constants"],"comments":[{"owner":{"account_id":11380254,"reputation":6822,"user_id":8343333,"display_name":"BakaWaii"},"score":9,"creation_date":1503498059,"post_id":45841067,"comment_id":78642290,"body_markdown":"Using `simpleName` is [risky](https://medium.com/@elye.project/the-danger-of-using-class-getsimplename-as-tag-for-fragment-5cdf3a35bfe2) if class name is obfuscated.","body":"Using <code>simpleName</code> is <a href=\"https://medium.com/@elye.project/the-danger-of-using-class-getsimplename-as-tag-for-fragment-5cdf3a35bfe2\" rel=\"nofollow noreferrer\">risky</a> if class name is obfuscated."},{"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"score":1,"creation_date":1522379773,"post_id":45841067,"comment_id":86144174,"body_markdown":"Risky? To say the least!  It ALWAYS crashes my apps when done this way.","body":"Risky? To say the least!  It ALWAYS crashes my apps when done this way."},{"owner":{"account_id":4232985,"reputation":2632,"user_id":3464919,"display_name":"Codelaby"},"score":0,"creation_date":1528913893,"post_id":45841067,"comment_id":88691041,"body_markdown":"private val TAG = MainActivity::class.java.simpleName;","body":"private val TAG = MainActivity::class.java.simpleName;"},{"owner":{"account_id":7067248,"reputation":1433,"user_id":5410188,"accept_rate":22,"display_name":"Cflux"},"score":0,"creation_date":1578583267,"post_id":45841067,"comment_id":105493072,"body_markdown":"check out https://www.youtube.com/watch?v=buhk5TRX_rw&amp;t=3s starting at 7:24","body":"check out <a href=\"https://www.youtube.com/watch?v=buhk5TRX_rw&amp;t=3s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=buhk5TRX_rw&amp;t=3s</a> starting at 7:24"}],"answers":[{"tags":[],"owner":{"account_id":1934327,"reputation":8960,"user_id":1742973,"accept_rate":58,"display_name":"Matias Elorriaga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503496224,"creation_date":1503496224,"answer_id":45841642,"question_id":45841067,"body_markdown":"I&#39;m creating the constant as a companion object:\r\n\r\n    companion object {\r\n        val TAG = &quot;SOME_TAG_VALUE&quot;\r\n    }\r\n\r\nThen, I can use it like this:\r\n\r\n    MyClass.TAG","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I'm creating the constant as a companion object:</p>\n\n<pre><code>companion object {\n    val TAG = \"SOME_TAG_VALUE\"\n}\n</code></pre>\n\n<p>Then, I can use it like this:</p>\n\n<pre><code>MyClass.TAG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1503496367,"creation_date":1503496367,"answer_id":45841698,"question_id":45841067,"body_markdown":"In general constants are all caps (ex. FOO) and located in the [companion object][1]:\r\n\r\n    class MyClass {\r\n        companion object {\r\n            public const val FOO = 1\r\n            \r\n        }\r\n    }\r\n\r\nand to define the TAG field you can use:\r\n\r\n    private val TAG = MyClass::class.qualifiedName\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>In general constants are all caps (ex. FOO) and located in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">companion object</a>:</p>\n\n<pre><code>class MyClass {\n    companion object {\n        public const val FOO = 1\n\n    }\n}\n</code></pre>\n\n<p>and to define the TAG field you can use:</p>\n\n<pre><code>private val TAG = MyClass::class.qualifiedName\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4696837"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503498653,"creation_date":1503497721,"answer_id":45842266,"question_id":45841067,"body_markdown":"Declare of TAG variable with `val` \r\n\r\n    class YourClass {\r\n       companion object {\r\n          //if use java and kotlin both in project\r\n          //private val TAG = MyClass::class.java.simpleName\r\n          \r\n          //if use only kotlin in project\r\n          private val TAG = YourClass::class.simpleName\r\n       }\r\n    }\r\n\r\nUse the variable like\r\n\r\n    Log.d(YourClass.TAG, &quot;Your message&quot;);\r\n    //or \r\n    Log.e(TAG, &quot;Your message&quot;);","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>Declare of TAG variable with <code>val</code> </p>\n\n<pre><code>class YourClass {\n   companion object {\n      //if use java and kotlin both in project\n      //private val TAG = MyClass::class.java.simpleName\n\n      //if use only kotlin in project\n      private val TAG = YourClass::class.simpleName\n   }\n}\n</code></pre>\n\n<p>Use the variable like</p>\n\n<pre><code>Log.d(YourClass.TAG, \"Your message\");\n//or \nLog.e(TAG, \"Your message\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":334492,"reputation":7981,"user_id":660982,"accept_rate":100,"display_name":"jpihl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515508790,"creation_date":1515508790,"answer_id":48170562,"question_id":45841067,"body_markdown":"I found a way which is more &quot;copy-paste&quot;-able, since it doesn&#39;t require you to type the name of your class:\r\n\r\n    package com.stackoverflow.mypackage\r\n\r\n    class MyClass\r\n    {\r\n        companion object {\r\n            val TAG = this::class.toString().split(&quot;.&quot;).last().dropLast(10)\r\n        }\r\n    }\r\n\r\nIt&#39;s not the most elegant solution but it works.\r\n\r\n`this::class.toString().split(&quot;.&quot;).last()` will give you `&quot;com.stackoverflow.mypackage.MyClass$Companion&quot;` so you need the `dropLast(10)` to remove `$Companion`.\r\n\r\nAlternatively you can do this:\r\n\r\n    package com.stackoverflow.mypackage\r\n\r\n    class MyClass\r\n    {\r\n        val TAG = this::class.simpleName\r\n    }\r\n\r\nBut then the `TAG` member variable is no longer &quot;static&quot; and doesn&#39;t follow the recommended naming conventions.","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I found a way which is more \"copy-paste\"-able, since it doesn't require you to type the name of your class:</p>\n\n<pre><code>package com.stackoverflow.mypackage\n\nclass MyClass\n{\n    companion object {\n        val TAG = this::class.toString().split(\".\").last().dropLast(10)\n    }\n}\n</code></pre>\n\n<p>It's not the most elegant solution but it works.</p>\n\n<p><code>this::class.toString().split(\".\").last()</code> will give you <code>\"com.stackoverflow.mypackage.MyClass$Companion\"</code> so you need the <code>dropLast(10)</code> to remove <code>$Companion</code>.</p>\n\n<p>Alternatively you can do this:</p>\n\n<pre><code>package com.stackoverflow.mypackage\n\nclass MyClass\n{\n    val TAG = this::class.simpleName\n}\n</code></pre>\n\n<p>But then the <code>TAG</code> member variable is no longer \"static\" and doesn't follow the recommended naming conventions.</p>\n"},{"tags":[],"owner":{"account_id":8519119,"reputation":2536,"user_id":6386664,"display_name":"Fredy Mederos"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1515522233,"creation_date":1515522233,"answer_id":48174477,"question_id":45841067,"body_markdown":"[AnkoLogger][1]  uses an interface to define the log tag.\r\n\r\n    interface AnkoLogger {\r\n                /**\r\n                 * The logger tag used in extension functions for the [AnkoLogger].\r\n                 * Note that the tag length should not be more than 23 symbols.\r\n                 */\r\n                val loggerTag: String\r\n                    get() = getTag(javaClass)\r\n            }\r\n    private fun getTag(clazz: Class&lt;*&gt;): String {\r\n            val tag = clazz.simpleName\r\n            return if (tag.length &lt;= 23) {\r\n                tag\r\n            } else {\r\n                tag.substring(0, 23)\r\n            }\r\n        }\r\n    inline fun AnkoLogger.info(message: () -&gt; Any?) {\r\n        val tag = loggerTag\r\n        if (Log.isLoggable(tag, Log.INFO)) {\r\n            Log.i(tag, message()?.toString() ?: &quot;null&quot;)\r\n        }\r\n    }\r\n\r\nYou can use it like this:\r\n\r\n    class MyClass : AnkoLogger {\r\n        fun someFun(){\r\n           info(&quot;logging info&quot;)\r\n        }\r\n    }\r\n\r\nMaybe AnkoLogger can give you some ideas to implement a custom logging tool.\r\n\r\n  [1]: https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Logging\r\n\r\n","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p><a href=\"https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Logging\" rel=\"nofollow noreferrer\">AnkoLogger</a>  uses an interface to define the log tag.</p>\n\n<pre><code>interface AnkoLogger {\n            /**\n             * The logger tag used in extension functions for the [AnkoLogger].\n             * Note that the tag length should not be more than 23 symbols.\n             */\n            val loggerTag: String\n                get() = getTag(javaClass)\n        }\nprivate fun getTag(clazz: Class&lt;*&gt;): String {\n        val tag = clazz.simpleName\n        return if (tag.length &lt;= 23) {\n            tag\n        } else {\n            tag.substring(0, 23)\n        }\n    }\ninline fun AnkoLogger.info(message: () -&gt; Any?) {\n    val tag = loggerTag\n    if (Log.isLoggable(tag, Log.INFO)) {\n        Log.i(tag, message()?.toString() ?: \"null\")\n    }\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>class MyClass : AnkoLogger {\n    fun someFun(){\n       info(\"logging info\")\n    }\n}\n</code></pre>\n\n<p>Maybe AnkoLogger can give you some ideas to implement a custom logging tool.</p>\n"},{"tags":[],"owner":{"account_id":2338054,"reputation":81,"user_id":2049942,"display_name":"Andrew Wang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1517989903,"creation_date":1517989421,"answer_id":48658394,"question_id":45841067,"body_markdown":"You can define your `TAG` by `@JvmField` as below:\r\n\r\n    companion object {\r\n        @JvmField val TAG: String = MyClass::class.java.simpleName\r\n    }\r\n\r\nFor more details, you can read this article : [Kotlin&#39;s hidden costs][1]\r\n\r\n\r\n  [1]: https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>You can define your <code>TAG</code> by <code>@JvmField</code> as below:</p>\n\n<pre><code>companion object {\n    @JvmField val TAG: String = MyClass::class.java.simpleName\n}\n</code></pre>\n\n<p>For more details, you can read this article : <a href=\"https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62\" rel=\"noreferrer\">Kotlin's hidden costs</a></p>\n"},{"tags":[],"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517996011,"creation_date":1517996011,"answer_id":48660267,"question_id":45841067,"body_markdown":"Updated answer with `Kotlin 1.2.20`\r\n\r\n    class MyClass {\r\n        companion object {\r\n            \r\n            @JvmField\r\n            public val FOO = 1\r\n        }\r\n    }\r\n\r\nuses\r\n\r\n    MyClass.FOO","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>Updated answer with <code>Kotlin 1.2.20</code></p>\n\n<pre><code>class MyClass {\n    companion object {\n\n        @JvmField\n        public val FOO = 1\n    }\n}\n</code></pre>\n\n<p>uses</p>\n\n<pre><code>MyClass.FOO\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448884,"reputation":16995,"user_id":1366471,"accept_rate":89,"display_name":"Yaroslav Mytkalyk"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1524061079,"creation_date":1524061079,"answer_id":49902099,"question_id":45841067,"body_markdown":"Commonly suggested approach of using the `companion object` generates extra `static final` instance of a companion class and thus is bad performance and memory-wise.\r\n\r\nThe best way (IMHO)\r\n-------------------\r\n\r\nDefine a log tag as a top-level constant, thus only extra class is generated (`MyClassKt`), but compared to `companion object` there will be no `static final` instance of it (and no instance whatsoever):\r\n\r\n    private const val TAG = &quot;MyLogTag&quot;\r\n\r\n    class MyClass {\r\n        \r\n        fun logMe() {\r\n            Log.w(TAG, &quot;Message&quot;)\r\n        }\r\n    }\r\n\r\nAnother option\r\n--------------\r\n\r\nUse a normal `val`. Though this looks unusual to see a log tag not as an all-uppercase constant, this will not generate any classes and has least overhead.\r\n\r\n    class MyClass {\r\n\r\n        private val tag = &quot;myLogTag&quot;\r\n        \r\n        fun logMe() {\r\n            Log.w(tag, &quot;Message&quot;)\r\n        }\r\n    }","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>Commonly suggested approach of using the <code>companion object</code> generates extra <code>static final</code> instance of a companion class and thus is bad performance and memory-wise.</p>\n\n<h2>The best way (IMHO)</h2>\n\n<p>Define a log tag as a top-level constant, thus only extra class is generated (<code>MyClassKt</code>), but compared to <code>companion object</code> there will be no <code>static final</code> instance of it (and no instance whatsoever):</p>\n\n<pre><code>private const val TAG = \"MyLogTag\"\n\nclass MyClass {\n\n    fun logMe() {\n        Log.w(TAG, \"Message\")\n    }\n}\n</code></pre>\n\n<h2>Another option</h2>\n\n<p>Use a normal <code>val</code>. Though this looks unusual to see a log tag not as an all-uppercase constant, this will not generate any classes and has least overhead.</p>\n\n<pre><code>class MyClass {\n\n    private val tag = \"myLogTag\"\n\n    fun logMe() {\n        Log.w(tag, \"Message\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2965149,"reputation":409,"user_id":2518487,"display_name":"nickgzzjr"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1524603456,"creation_date":1524603456,"answer_id":50010622,"question_id":45841067,"body_markdown":"Simply doing the following worked for me.\r\n    \r\n    private val TAG = this::class.java.simpleName\r\n","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>Simply doing the following worked for me.</p>\n\n<pre><code>private val TAG = this::class.java.simpleName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13893031,"reputation":547,"user_id":10030527,"display_name":"Paolo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530719876,"creation_date":1530688262,"answer_id":51167782,"question_id":45841067,"body_markdown":"I created some Log extension functions to avoid declaring the log tag as we did in Java (maybe less performant, but given that we are talking about logging this should be acceptable IMO). The approach uses reified type parameters and other Kotlin goodies to retrieve the class simple name. Here is a basic example:\r\n\r\n    inline fun &lt;reified T&gt; T.logi(message: String) =\r\n       Log.i(T::class.java.simpleName, message)\r\n\r\nYou can find a more elaborated gist [here][1]\r\n\r\n\r\n  [1]: https://gist.github.com/paolop/0bd59e49b33d18d6089fb1bf5488e212","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I created some Log extension functions to avoid declaring the log tag as we did in Java (maybe less performant, but given that we are talking about logging this should be acceptable IMO). The approach uses reified type parameters and other Kotlin goodies to retrieve the class simple name. Here is a basic example:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.logi(message: String) =\n   Log.i(T::class.java.simpleName, message)\n</code></pre>\n\n<p>You can find a more elaborated gist <a href=\"https://gist.github.com/paolop/0bd59e49b33d18d6089fb1bf5488e212\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":5881189,"reputation":2046,"user_id":4630491,"accept_rate":69,"display_name":"Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531196101,"creation_date":1531196101,"answer_id":51257179,"question_id":45841067,"body_markdown":"In Android Studio, the usual way to rename something is to right-click the name, select Refactor-&gt;Rename. So, I think it&#39;s fine to do something like this,\r\n\r\n\r\n    class MyClass {\r\n        companion object {\r\n            private const LOG_TAG = &quot;MyClass&quot;\r\n        }\r\n    }\r\n\r\nbecause if you rename the class `MyClass` like I described, then the IDE will suggest renaming your LOG_TAG String as well. \r\n\r\nUltimately there are pros and cons of using this method vs. other methods. Because LOG_TAG is a String, there&#39;s no need to import the kotlin-reflect.jar, as you would if you set `LOG_TAG` equal to `MyClass::class.simpleName`. Also because the variable is declared as a compile-time constant with the `const` keyword, the generated bytecode is smaller since it doesn&#39;t need to generate more hidden getters, as described in [this article][1].\r\n\r\n  [1]: https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>In Android Studio, the usual way to rename something is to right-click the name, select Refactor->Rename. So, I think it's fine to do something like this,</p>\n\n<pre><code>class MyClass {\n    companion object {\n        private const LOG_TAG = \"MyClass\"\n    }\n}\n</code></pre>\n\n<p>because if you rename the class <code>MyClass</code> like I described, then the IDE will suggest renaming your LOG_TAG String as well. </p>\n\n<p>Ultimately there are pros and cons of using this method vs. other methods. Because LOG_TAG is a String, there's no need to import the kotlin-reflect.jar, as you would if you set <code>LOG_TAG</code> equal to <code>MyClass::class.simpleName</code>. Also because the variable is declared as a compile-time constant with the <code>const</code> keyword, the generated bytecode is smaller since it doesn't need to generate more hidden getters, as described in <a href=\"https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"},{"tags":[],"owner":{"account_id":11115152,"reputation":2591,"user_id":8159708,"display_name":"TomH"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1540324647,"creation_date":1540324647,"answer_id":52956934,"question_id":45841067,"body_markdown":"In Kotlin you could create an extension, and call tag as a method call instead. This would mean you&#39;d never have to define it inside each class, we can construct it dynamically each time we call the method:\r\n\r\n    inline fun &lt;reified T&gt; T.TAG(): String = T::class.java.simpleName","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>In Kotlin you could create an extension, and call tag as a method call instead. This would mean you'd never have to define it inside each class, we can construct it dynamically each time we call the method:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.TAG(): String = T::class.java.simpleName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8519119,"reputation":2536,"user_id":6386664,"display_name":"Fredy Mederos"},"down_vote_count":2,"up_vote_count":85,"is_accepted":false,"score":83,"last_activity_date":1543363350,"creation_date":1543363350,"answer_id":53510106,"question_id":45841067,"body_markdown":"This extension allows us to use TAG in any class\r\n\r\n    val Any.TAG: String\r\n        get() {\r\n            val tag = javaClass.simpleName\r\n            return if (tag.length &lt;= 23) tag else tag.substring(0, 23)\r\n        }\r\n\r\n    //usage\r\n    Log.e(TAG,&quot;some value&quot;)\r\n\r\nIt it also validated to work as an Android valid Log tag.","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>This extension allows us to use TAG in any class</p>\n\n<pre><code>val Any.TAG: String\n    get() {\n        val tag = javaClass.simpleName\n        return if (tag.length &lt;= 23) tag else tag.substring(0, 23)\n    }\n\n//usage\nLog.e(TAG,\"some value\")\n</code></pre>\n\n<p>It it also validated to work as an Android valid Log tag.</p>\n"},{"tags":[],"owner":{"account_id":1660785,"reputation":6891,"user_id":1529129,"accept_rate":50,"display_name":"Rahul Tiwari"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1559814059,"creation_date":1556609083,"answer_id":55915831,"question_id":45841067,"body_markdown":"I Like `TAG` to be an extension function [as suggested by Fredy Mederos](https://stackoverflow.com/a/53510106/1529129).\r\n\r\nextending his answer to support anonymous classes :\r\n\r\n  \r\n\r\n     /**\r\n     * extension function to provide TAG value\r\n     */\r\n    val Any.TAG: String\r\n        get() {\r\n            return if (!javaClass.isAnonymousClass) {\r\n                val name = javaClass.simpleName\r\n                if (name.length &lt;= 23) name else name.substring(0, 23)// first 23 chars\r\n            } else {\r\n                val name = javaClass.name\r\n                if (name.length &lt;= 23) name else name.substring(name.length - 23, name.length)// last 23 chars\r\n            }\r\n        }\r\n\r\n","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I Like <code>TAG</code> to be an extension function <a href=\"https://stackoverflow.com/a/53510106/1529129\">as suggested by Fredy Mederos</a>.</p>\n\n<p>extending his answer to support anonymous classes :</p>\n\n<pre><code> /**\n * extension function to provide TAG value\n */\nval Any.TAG: String\n    get() {\n        return if (!javaClass.isAnonymousClass) {\n            val name = javaClass.simpleName\n            if (name.length &lt;= 23) name else name.substring(0, 23)// first 23 chars\n        } else {\n            val name = javaClass.name\n            if (name.length &lt;= 23) name else name.substring(name.length - 23, name.length)// last 23 chars\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5635842,"reputation":303,"user_id":4461377,"display_name":"Pavel Berdnikov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1564316429,"creation_date":1563616773,"answer_id":57123619,"question_id":45841067,"body_markdown":"The best way to log (imho) is using Timber:\r\nhttps://github.com/JakeWharton/timber\r\n\r\nBut if you don&#39;t want to use library then\r\n\r\nTAG can be defined as an inlined extension property (e.g. in `Extensions.kt`):\r\n\r\n    inline val &lt;reified T&gt; T.TAG: String\r\n        get() = T::class.java.simpleName\r\n\r\nSome more extensions to not to write TAG all the time in `Log.d(TAG, &quot;&quot;)`:\r\n\r\n    inline fun &lt;reified T&gt; T.logv(message: String) = Log.v(TAG, message)\r\n    inline fun &lt;reified T&gt; T.logi(message: String) = Log.i(TAG, message)\r\n    inline fun &lt;reified T&gt; T.logw(message: String) = Log.w(TAG, message)\r\n    inline fun &lt;reified T&gt; T.logd(message: String) = Log.d(TAG, message)\r\n    inline fun &lt;reified T&gt; T.loge(message: String) = Log.e(TAG, message)\r\n\r\nAnd then you can use them in any class:\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        logd(&quot;Activity created&quot;)\r\n    }","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>The best way to log (imho) is using Timber:\n<a href=\"https://github.com/JakeWharton/timber\" rel=\"noreferrer\">https://github.com/JakeWharton/timber</a></p>\n\n<p>But if you don't want to use library then</p>\n\n<p>TAG can be defined as an inlined extension property (e.g. in <code>Extensions.kt</code>):</p>\n\n<pre><code>inline val &lt;reified T&gt; T.TAG: String\n    get() = T::class.java.simpleName\n</code></pre>\n\n<p>Some more extensions to not to write TAG all the time in <code>Log.d(TAG, \"\")</code>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.logv(message: String) = Log.v(TAG, message)\ninline fun &lt;reified T&gt; T.logi(message: String) = Log.i(TAG, message)\ninline fun &lt;reified T&gt; T.logw(message: String) = Log.w(TAG, message)\ninline fun &lt;reified T&gt; T.logd(message: String) = Log.d(TAG, message)\ninline fun &lt;reified T&gt; T.loge(message: String) = Log.e(TAG, message)\n</code></pre>\n\n<p>And then you can use them in any class:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    logd(\"Activity created\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4719927,"reputation":915,"user_id":3818147,"display_name":"Alireza Ghanbarinia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572882071,"creation_date":1572876663,"answer_id":58695182,"question_id":45841067,"body_markdown":"You can try this:\r\n\r\n    companion object {\r\n        val TAG = ClearCacheTask::class.java.simpleName as String\r\n    }","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>You can try this:</p>\n\n<pre><code>companion object {\n    val TAG = ClearCacheTask::class.java.simpleName as String\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7337651,"reputation":2327,"user_id":5588436,"display_name":"Rajesh.k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600785200,"creation_date":1600785200,"answer_id":64011968,"question_id":45841067,"body_markdown":"Here is my extension function in kotlin, just add it in your extensions file.\r\n\r\n    val Any.TAG: String\r\n    get() {\r\n        return if (!javaClass.isAnonymousClass) {\r\n            val name = javaClass.simpleName\r\n            if (name.length &lt;= 23 || Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) name else\r\n                name.substring(0, 23)// first 23 chars\r\n        } else {\r\n            val name = javaClass.name\r\n            if (name.length &lt;= 23 || Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\r\n                name else name.substring(name.length - 23, name.length)// last 23 chars\r\n        }\r\n    }\r\n\r\nThen you can use TAG in any class like below:\r\n\r\n    Log.d(TAG, &quot;country list&quot;)","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>Here is my extension function in kotlin, just add it in your extensions file.</p>\n<pre><code>val Any.TAG: String\nget() {\n    return if (!javaClass.isAnonymousClass) {\n        val name = javaClass.simpleName\n        if (name.length &lt;= 23 || Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) name else\n            name.substring(0, 23)// first 23 chars\n    } else {\n        val name = javaClass.name\n        if (name.length &lt;= 23 || Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\n            name else name.substring(name.length - 23, name.length)// last 23 chars\n    }\n}\n</code></pre>\n<p>Then you can use TAG in any class like below:</p>\n<pre><code>Log.d(TAG, &quot;country list&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3342744,"reputation":2512,"user_id":2808624,"accept_rate":100,"display_name":"user2808624"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620304414,"creation_date":1619422547,"answer_id":67262571,"question_id":45841067,"body_markdown":"I have defined an interface, which defines TAG as a property with default getter implementation.\r\nThe interface can be either &quot;implemented&quot; by a class but also by its companion object:\r\n\r\n\r\n    //Prefix allows easier filtering in LogCat\r\n    private const val PREFIX = &quot;somePrefix.&quot;;\r\n\r\n    interface HasLogTag {\r\n        val TAG: String\r\n            get() {\r\n                val name = javaClass.canonicalName?.removeSuffix(&quot;.Companion&quot;)?.substringAfterLast(&quot;.&quot;)\r\n                return &quot;$PREFIX${name}&quot;\r\n            }\r\n    }\r\n\r\n\r\nThe interface is used as follows:\r\n\r\n    import yourPackage.HasLogTag     \r\n    ....\r\n    class MyClass : HasLogTag {\r\n        ...\r\n        //Alternatively: Let the companion object &quot;implement&quot; the interface\r\n        companion object : HasLogTag {\r\n        ...\r\n        Log.e(TAG, &quot;Some Info)\r\n    }\r\n\r\nAs the getter is called on every usage, there is however no advantage in defining the TAG for the companion object.\r\n\r\nNote: In a previous version, I used reflection to find out, whether the class itself or the companion object defines the interface.\r\n\r\nThis however seemed to slow down heavily the startup of my app.\r\n","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I have defined an interface, which defines TAG as a property with default getter implementation.\nThe interface can be either &quot;implemented&quot; by a class but also by its companion object:</p>\n<pre><code>//Prefix allows easier filtering in LogCat\nprivate const val PREFIX = &quot;somePrefix.&quot;;\n\ninterface HasLogTag {\n    val TAG: String\n        get() {\n            val name = javaClass.canonicalName?.removeSuffix(&quot;.Companion&quot;)?.substringAfterLast(&quot;.&quot;)\n            return &quot;$PREFIX${name}&quot;\n        }\n}\n</code></pre>\n<p>The interface is used as follows:</p>\n<pre><code>import yourPackage.HasLogTag     \n....\nclass MyClass : HasLogTag {\n    ...\n    //Alternatively: Let the companion object &quot;implement&quot; the interface\n    companion object : HasLogTag {\n    ...\n    Log.e(TAG, &quot;Some Info)\n}\n</code></pre>\n<p>As the getter is called on every usage, there is however no advantage in defining the TAG for the companion object.</p>\n<p>Note: In a previous version, I used reflection to find out, whether the class itself or the companion object defines the interface.</p>\n<p>This however seemed to slow down heavily the startup of my app.</p>\n"},{"tags":[],"owner":{"account_id":18395800,"reputation":41,"user_id":13400284,"display_name":"Freeze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671565793,"creation_date":1671565793,"answer_id":74868222,"question_id":45841067,"body_markdown":"Sometimes I prefer to use live template. In android studio you can duplicate &quot;logd&quot; template, rename it and change &quot;TAG&quot; to &quot;javaClass.simpleName&quot;.\r\n\r\nNow if you type &quot;logc&quot;(or whatever template name you have) it will generate the whole line including method name without polluting code with extensions, fields or static functions.\r\n\r\n[![settings][1]][1]\r\n\r\n\r\n[![how to use][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QHu9p.png\r\n  [2]: https://i.stack.imgur.com/ZYWxh.png","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>Sometimes I prefer to use live template. In android studio you can duplicate &quot;logd&quot; template, rename it and change &quot;TAG&quot; to &quot;javaClass.simpleName&quot;.</p>\n<p>Now if you type &quot;logc&quot;(or whatever template name you have) it will generate the whole line including method name without polluting code with extensions, fields or static functions.</p>\n<p><a href=\"https://i.stack.imgur.com/QHu9p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QHu9p.png\" alt=\"settings\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZYWxh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZYWxh.png\" alt=\"how to use\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694418317,"creation_date":1694418317,"answer_id":77079761,"question_id":45841067,"body_markdown":"I was looking for a clear and efficient way to log content, but I ended up with using Timber. It&#39;s very useful and easy to use:\r\n\r\n\r\nhttps://github.com/JakeWharton/timber\r\n\r\n    dependencies {\r\n      implementation &#39;com.jakewharton.timber:timber:5.0.1&#39;\r\n    }\r\n\r\nusage:\r\n\r\n    Timber.d(&quot;Simple Log&quot;)\r\n\r\n","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I was looking for a clear and efficient way to log content, but I ended up with using Timber. It's very useful and easy to use:</p>\n<p><a href=\"https://github.com/JakeWharton/timber\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/timber</a></p>\n<pre><code>dependencies {\n  implementation 'com.jakewharton.timber:timber:5.0.1'\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>Timber.d(&quot;Simple Log&quot;)\n</code></pre>\n"}],"owner":{"account_id":1913049,"reputation":4957,"user_id":1726308,"accept_rate":80,"display_name":"Mario Kutlev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45067,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":45841698,"answer_count":20,"score":104,"last_activity_date":1694418317,"creation_date":1503494728,"question_id":45841067,"body_markdown":"I&#39;m creating my first Kotlin classes in my Android application. Usually for logging purposes I have a constant with name `TAG`. What I would do in Java is:\r\n\r\n    private static final String TAG = MyClass.class.getSimpleName();\r\n\r\nI know that in Kotlin classes I can create `TAG` using this way:\r\n\r\n    private val TAG = MyClass::class.java.simpleName\r\n\r\nThis is OK for projects that use Java and Kotlin but what if I start a new project that is only in Kotlin? How can I define there `TAG` constant? Is there more Kotlin way where I don&#39;t have this strange construction `class.java.simpleName`?","title":"What is the best way to define log TAG constant in Kotlin?","body":"<p>I'm creating my first Kotlin classes in my Android application. Usually for logging purposes I have a constant with name <code>TAG</code>. What I would do in Java is:</p>\n\n<pre><code>private static final String TAG = MyClass.class.getSimpleName();\n</code></pre>\n\n<p>I know that in Kotlin classes I can create <code>TAG</code> using this way:</p>\n\n<pre><code>private val TAG = MyClass::class.java.simpleName\n</code></pre>\n\n<p>This is OK for projects that use Java and Kotlin but what if I start a new project that is only in Kotlin? How can I define there <code>TAG</code> constant? Is there more Kotlin way where I don't have this strange construction <code>class.java.simpleName</code>?</p>\n"},{"tags":["java","android","android-studio","build.gradle","build-error"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686293849,"post_id":76437404,"comment_id":134781778,"body_markdown":"Can you please include the full stack trace as well as the code causing the issue (or the build.gradle if it doesn&#39;t origin from.your code)?","body":"Can you please include the full stack trace as well as the code causing the issue (or the build.gradle if it doesn&#39;t origin from.your code)?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686298166,"post_id":76437404,"comment_id":134782511,"body_markdown":"Why do you need to read a private field that&#39;s available through a public method? Just call `file.getPath()`. Or is this in some framework code?","body":"Why do you need to read a private field that&#39;s available through a public method? Just call <code>file.getPath()</code>. Or is this in some framework code?"},{"owner":{"account_id":16818652,"reputation":111,"user_id":12159692,"display_name":"miral"},"score":0,"creation_date":1686393527,"post_id":76437404,"comment_id":134794715,"body_markdown":"It&#39;s not about file It&#39;s jdk error @RobSpoor","body":"It&#39;s not about file It&#39;s jdk error @RobSpoor"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686395443,"post_id":76437404,"comment_id":134794880,"body_markdown":"@miral something is trying to use reflection to access a private field from `java.io.File`. The JDK itself should be allowed to do that. Can you add the information that dan1st is on strike asked for?","body":"@miral something is trying to use reflection to access a private field from <code>java.io.File</code>. The JDK itself should be allowed to do that. Can you add the information that dan1st is on strike asked for?"}],"answers":[{"tags":[],"owner":{"account_id":9166757,"reputation":121,"user_id":6816011,"display_name":"CodeGreen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1687102974,"creation_date":1687102974,"answer_id":76501329,"question_id":76437404,"body_markdown":"**Solution:** \r\nAdd the below line in your gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED","title":"getting Error: How to make field private final java.lang.String java.io.File.path accessible while running my project","body":"<p><strong>Solution:</strong>\nAdd the below line in your gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16818652,"reputation":111,"user_id":12159692,"display_name":"miral"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687432065,"creation_date":1687432065,"answer_id":76531266,"question_id":76437404,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zd5Gc.png\r\n\r\n\r\nI just download JDK 11 and it&#39;s compatibale with AGP 7.2 and it&#39;s working \r\n\r\ncheck Compatibility for AGL \r\n\r\nhttps://developer.android.com/build/releases/past-releases/agp-7-2-0-release-notes","title":"getting Error: How to make field private final java.lang.String java.io.File.path accessible while running my project","body":"<p><a href=\"https://i.stack.imgur.com/Zd5Gc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zd5Gc.png\" alt=\"enter image description here\" /></a></p>\n<p>I just download JDK 11 and it's compatibale with AGP 7.2 and it's working</p>\n<p>check Compatibility for AGL</p>\n<p><a href=\"https://developer.android.com/build/releases/past-releases/agp-7-2-0-release-notes\" rel=\"nofollow noreferrer\">https://developer.android.com/build/releases/past-releases/agp-7-2-0-release-notes</a></p>\n"},{"tags":[],"owner":{"account_id":23980115,"reputation":1,"user_id":17967697,"display_name":"Ashutosh Sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694418049,"creation_date":1694255850,"answer_id":77071830,"question_id":76437404,"body_markdown":"[https://docs.gradle.org/current/userguide/compatibility.html#:~:text=A%20Java%20version%20between%208,be%20supported%20in%20Gradle%209.0.][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCheck Java Compatibility with Gradle &amp; then modify it in Project structure\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F9GP7.png\r\n  [2]: https://i.stack.imgur.com/CAp4i.png","title":"getting Error: How to make field private final java.lang.String java.io.File.path accessible while running my project","body":"<p><a href=\"https://i.stack.imgur.com/F9GP7.png\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html#:~:text=A%20Java%20version%20between%208,be%20supported%20in%20Gradle%209.0.</a></p>\n<p><a href=\"https://i.stack.imgur.com/CAp4i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAp4i.png\" alt=\"enter image description here\" /></a></p>\n<p>Check Java Compatibility with Gradle &amp; then modify it in Project structure</p>\n"}],"owner":{"account_id":16818652,"reputation":111,"user_id":12159692,"display_name":"miral"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12718,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76531266,"answer_count":3,"score":3,"last_activity_date":1694418049,"creation_date":1686287921,"question_id":76437404,"body_markdown":"I am trying to run my old android project in android studio i have updated my gradle version however I am getting the following error:\r\n\r\n\\*\\*Execution failed for task &#39;:processDebugManifest&#39;.\r\n\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @13d72a22\\*\\*\r\n\r\nGradle version: 7.2 JDK version: 17\r\n\r\nI have tried gradle property value:\r\n\r\norg.gradle.jvmargs = -Xmx2048M -Dkotlin.daemon.jvm.options=&quot;-Xmx2048M&quot; --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED","title":"getting Error: How to make field private final java.lang.String java.io.File.path accessible while running my project","body":"<p>I am trying to run my old android project in android studio i have updated my gradle version however I am getting the following error:</p>\n<p>**Execution failed for task ':processDebugManifest'.</p>\n<blockquote>\n<p>Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @13d72a22**</p>\n</blockquote>\n<p>Gradle version: 7.2 JDK version: 17</p>\n<p>I have tried gradle property value:</p>\n<p>org.gradle.jvmargs = -Xmx2048M -Dkotlin.daemon.jvm.options=&quot;-Xmx2048M&quot; --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED</p>\n"},{"tags":["java","exception","ioexception"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694415721,"post_id":40881097,"comment_id":135882908,"body_markdown":"What `IOException` are you expecting? and why? There&#39;s nothing here that would throw one.","body":"What <code>IOException</code> are you expecting? and why? There&#39;s nothing here that would throw one."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480484577,"creation_date":1480484577,"answer_id":40881138,"question_id":40881097,"body_markdown":"Neither `Scanner sc = new Scanner(System.in);` nor `r = sc.nextDouble();`\r\nare throwing an **IOException**, why are you catching that ?\r\n\r\nthe 2nd snippet is another story:\r\n\r\nthis object: \r\n    \r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\ncan for sure throw an **IOException**","title":"Why IOException is never thrown in this code","body":"<p>Neither <code>Scanner sc = new Scanner(System.in);</code> nor <code>r = sc.nextDouble();</code>\nare throwing an <strong>IOException</strong>, why are you catching that ?</p>\n\n<p>the 2nd snippet is another story:</p>\n\n<p>this object: </p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n</code></pre>\n\n<p>can for sure throw an <strong>IOException</strong></p>\n"},{"tags":[],"owner":{"account_id":9602152,"reputation":21,"user_id":7129270,"display_name":"jaro21"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1480496316,"creation_date":1480496316,"answer_id":40884005,"question_id":40881097,"body_markdown":"IOException just shown if some error from our input. ex, integer type data and we input some String data. this will shown error message.\r\n\r\nyou can study more in here  https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html","title":"Why IOException is never thrown in this code","body":"<p>IOException just shown if some error from our input. ex, integer type data and we input some String data. this will shown error message.</p>\n\n<p>you can study more in here  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html</a></p>\n"}],"owner":{"account_id":9247537,"reputation":43,"user_id":6868981,"accept_rate":40,"display_name":"Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694417480,"creation_date":1480484431,"question_id":40881097,"body_markdown":"The IO exception never is thrown in this example.\r\n\r\n    public static void main(String[] args){\r\n\t\tdouble r = 0;\r\n\t\tSystem.out.println(&quot;Please enter radius of a circle&quot;);\r\n\t\ttry{\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\t r = sc.nextDouble();\r\n\t\t}catch(NumberFormatException exe){\r\n\t\t\tSystem.out.println(&quot;Inpvalid radius value&quot;);\r\n\t\t}catch(IOException exe){\r\n\t\t\tSystem.out.println(&quot;IO Error :&quot; + exe);\r\n\t\t}\r\n\t\t\r\n\t\tdouble per = 2 * Math.PI *r;\r\n\t\tSystem.out.println(per);\r\n\t}\r\n\r\nWhere as in this below program it is not showing any error.\r\n\r\n    public static void main(String[] args) {\r\n         \r\n         int radius = 0;\r\n         System.out.println(&quot;Please enter radius of a circle&quot;);\r\n        \r\n         try\r\n         {\r\n                 //get the radius from console\r\n                 BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n                 radius = Integer.parseInt(br.readLine());\r\n         }\r\n         //if invalid value was entered\r\n         catch(NumberFormatException ne)\r\n         {\r\n                 System.out.println(&quot;Invalid radius value&quot; + ne);\r\n                 System.exit(0);\r\n         }\r\n         catch(IOException ioe)\r\n         {\r\n                 System.out.println(&quot;IO Error :&quot; + ioe);\r\n                 System.exit(0);\r\n         }\r\n         double perimeter = 2 * Math.PI * radius;\r\n        \r\n         System.out.println(&quot;Perimeter of a circle is &quot; + perimeter);\r\n\r\nI don&#39;t understand why it is happening. Since both are doing the same purpose, why can&#39;t first code throw IOException?","title":"Why IOException is never thrown in this code","body":"<p>The IO exception never is thrown in this example.</p>\n<pre><code>public static void main(String[] args){\n    double r = 0;\n    System.out.println(&quot;Please enter radius of a circle&quot;);\n    try{\n        Scanner sc = new Scanner(System.in);\n         r = sc.nextDouble();\n    }catch(NumberFormatException exe){\n        System.out.println(&quot;Inpvalid radius value&quot;);\n    }catch(IOException exe){\n        System.out.println(&quot;IO Error :&quot; + exe);\n    }\n    \n    double per = 2 * Math.PI *r;\n    System.out.println(per);\n}\n</code></pre>\n<p>Where as in this below program it is not showing any error.</p>\n<pre><code>public static void main(String[] args) {\n     \n     int radius = 0;\n     System.out.println(&quot;Please enter radius of a circle&quot;);\n    \n     try\n     {\n             //get the radius from console\n             BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n             radius = Integer.parseInt(br.readLine());\n     }\n     //if invalid value was entered\n     catch(NumberFormatException ne)\n     {\n             System.out.println(&quot;Invalid radius value&quot; + ne);\n             System.exit(0);\n     }\n     catch(IOException ioe)\n     {\n             System.out.println(&quot;IO Error :&quot; + ioe);\n             System.exit(0);\n     }\n     double perimeter = 2 * Math.PI * radius;\n    \n     System.out.println(&quot;Perimeter of a circle is &quot; + perimeter);\n</code></pre>\n<p>I don't understand why it is happening. Since both are doing the same purpose, why can't first code throw IOException?</p>\n"},{"tags":["java","jvm","aop","cglib"],"comments":[{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1378109707,"post_id":18567552,"comment_id":27320458,"body_markdown":"Method `transform()` in class DemoTransformer was called when call `addTransformer(new DemoTransformer)`. But It should no be called again. Actually, It did happen. Maybe it was called after calling `retransformClasses`. I am not sure. @JBaruch","body":"Method <code>transform()</code> in class DemoTransformer was called when call <code>addTransformer(new DemoTransformer)</code>. But It should no be called again. Actually, It did happen. Maybe it was called after calling <code>retransformClasses</code>. I am not sure. @JBaruch"},{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1378111924,"post_id":18567552,"comment_id":27321495,"body_markdown":"I need add a line to the class. For example, to call `sleep` method, to add `System.out.println` statement, etc.","body":"I need add a line to the class. For example, to call <code>sleep</code> method, to add <code>System.out.println</code> statement, etc."}],"answers":[{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1378731793,"creation_date":1378136488,"answer_id":18576798,"question_id":18567552,"body_markdown":"**Short Answer**\r\n\r\n - Don&#39;t iterate through all the loaded classes from Instrumentation. Instead, just examine the class name passed in to the transformer and if it matches your target class, then transform it. Otherwise, simply return the passed classfileBuffer unmodified.\r\n - Make the set up calls outside the transformer, (i.e. in your case, do the following from your agent) so initialize your transformer with the class name you&#39;re looking to transform (this will be the *inner format* so instead of **foo.bar.Snafu**, you will be looking to match against **foo/bar/Snafu**. Then add the transformer, call retransform and then remove the transformer.\r\n - In order to call retransform, you will need the actual [pre-transform] class which you can find by calling *Class.forName* (in the agentmain), or if you absolutely have to, you could find it in *Intrumentation.getAllLoadedClasses()* as a last resort. If the target class has not been loaded, you will need the classloader to call *Class.forName(name, boolean, classloader)* in which case you can pass the URL to the target class class-path in the agent main string args.\r\n\r\n**Long Answer**\r\n\r\nHere&#39;s a few recommendations:\r\n\r\n 1. Separate out the operation you&#39;re calling into 2 separate operations:\r\n   1. Install the agent. This only needs to be done once.\r\n   2. Transform the target class[es]. You might want to do this *n* times.\r\n 2. I would implement 1.2 by registering a simple JMX MBean when you install the agent. This MBean should provide an operation like `public void transformClass(String className)`. and should be initialized with a reference to the agent&#39;s acquired **Instrumentation** instance. The MBean class, interface and any required 3rd party classes should be included in your agent&#39;s **loaded.jar**. It should also contain your **ModifyMethodTest** class (which I assume it already does).\r\n 3. At the same time that you install your agent jar, also install the management agent from **$JAVA_HOME/lib/management-agent.jar** which will activate the management agent so you can invoke the transform operation in the MBean you&#39;re about to register.\r\n 4. Parameterize your DemoTransformer class to accept the *internal form* of the name of the class you want to transform. (i.e. if your binary class name is *foo.bar.Snafu*, the internal form will be *foo/bar/Snafu*. As your DemoTransformer instance starts getting transform callbacks, ignore all class names that do not match the internal form class name you specified. (i.e. simply return the classfileBuffer unmodified)\r\n 5. Your tranformer MBean **transformClass** operation should then:\r\n  1. Convert the passed class name to internal form.\r\n  2. Create a new DemoTransformer, passing the internal form class name.\r\n  3. Register the DemoTransformer instance using `Instrumentation.addTransformer(theNewDemoTransformer, true)` .\r\n  4. Call `Instrumentation.retransformClasses(ClassForName(className))`  (with the binary class name passed to the MBean operation). When this call returns, your class will be transformed.\r\n  5. Remove the transformer with `Intrumentation.removeTransformer(theNewDemoTransformer)`.\r\n\r\nThe following is an untested approximation of what I mean:\r\n\r\n**Transformer MBean**\r\n\r\n    public interface TransformerServiceMBean {\r\n    \t/**\r\n    \t * Transforms the target class name\r\n    \t * @param className The binary name of the target class\r\n    \t */\r\n    \tpublic void transformClass(String className);\r\n    }\r\n\r\n**Transformer Service**\r\n\r\n    public class TransformerService implements TransformerServiceMBean {\r\n    \t/** The JVM&#39;s instrumentation instance */\r\n    \tprotected final Instrumentation instrumentation;\r\n    \t\r\n    \t/**\r\n    \t * Creates a new TransformerService\r\n    \t * @param instrumentation  The JVM&#39;s instrumentation instance \r\n    \t */\r\n    \tpublic TransformerService(Instrumentation instrumentation) {\r\n    \t\tthis.instrumentation = instrumentation;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * {@inheritDoc}\r\n    \t * @see com.heliosapm.shorthandexamples.TransformerServiceMBean#transformClass(java.lang.String)\r\n    \t */\r\n    \t@Override\r\n    \tpublic void transformClass(String className) {\r\n    \t\tClass&lt;?&gt; targetClazz = null;\r\n    \t\tClassLoader targetClassLoader = null;\r\n    \t\t// first see if we can locate the class through normal means\r\n    \t\ttry {\r\n    \t\t\ttargetClazz = Class.forName(className);\r\n    \t\t\ttargetClassLoader = targetClazz.getClassLoader();\r\n    \t\t\ttransform(targetClazz, targetClassLoader);\r\n    \t\t\treturn;\r\n    \t\t} catch (Exception ex) { /* Nope */ }\r\n    \t\t// now try the hard/slow way\r\n    \t\tfor(Class&lt;?&gt; clazz: instrumentation.getAllLoadedClasses()) {\r\n    \t\t\tif(clazz.getName().equals(className)) {\r\n    \t\t\t\ttargetClazz = clazz;\r\n    \t\t\t\ttargetClassLoader = targetClazz.getClassLoader();\r\n    \t\t\t\ttransform(targetClazz, targetClassLoader);\r\n    \t\t\t\treturn;\t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new RuntimeException(&quot;Failed to locate class [&quot; + className + &quot;]&quot;);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Registers a transformer and executes the transform\r\n    \t * @param clazz The class to transform\r\n    \t * @param classLoader The classloader the class was loaded from\r\n    \t */\r\n    \tprotected void transform(Class&lt;?&gt; clazz, ClassLoader classLoader) {\r\n    \t\tDemoTransformer dt = new DemoTransformer(clazz.getName(), classLoader);\r\n    \t\tinstrumentation.addTransformer(dt, true);\r\n    \t\ttry {\r\n    \t\t\tinstrumentation.retransformClasses(clazz);\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new RuntimeException(&quot;Failed to transform [&quot; + clazz.getName() + &quot;]&quot;, ex);\r\n    \t\t} finally {\r\n    \t\t\tinstrumentation.removeTransformer(dt);\r\n    \t\t}\t\t\r\n    \t}\r\n    }\r\n\r\n\r\n**The Class Transformer**\r\n\r\n    public class DemoTransformer implements ClassFileTransformer {\r\n    \t/** The internal form class name of the class to transform */\r\n    \tprotected String className;\r\n    \t/** The class loader of the class */\r\n    \tprotected ClassLoader classLoader;\r\n    \t/**\r\n    \t * Creates a new DemoTransformer\r\n    \t * @param className The binary class name of the class to transform\r\n    \t * @param classLoader The class loader of the class\r\n    \t */\r\n    \tpublic DemoTransformer(String className, ClassLoader classLoader) {\r\n    \t\tthis.className = className.replace(&#39;.&#39;, &#39;/&#39;);\r\n    \t\tthis.classLoader = classLoader;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * {@inheritDoc}\r\n    \t * @see java.lang.instrument.ClassFileTransformer#transform(java.lang.ClassLoader, java.lang.String, java.lang.Class, java.security.ProtectionDomain, byte[])\r\n    \t */\r\n    \t@Override\r\n    \tpublic byte[] transform(ClassLoader loader, String className,\r\n    \t\t\tClass&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain,\r\n    \t\t\tbyte[] classfileBuffer) throws IllegalClassFormatException {\r\n    \t\tif(className.equals(this.className) &amp;&amp; loader.equals(classLoader)) {\r\n    \t\t\treturn new ModifyMethodTest(classfileBuffer).modiySleepMethod();\r\n    \t\t}\r\n    \t\treturn classfileBuffer;\r\n    \t}\r\n    \r\n    }\r\n\r\n**The Agent**\r\n\r\n    public class AgentMain {\r\n    \t\r\n    \tpublic static void agentmain (String agentArgs, Instrumentation inst) throws Exception {\r\n    \t\tTransformerService ts = new TransformerService(inst);\r\n    \t\tObjectName on = new ObjectName(&quot;transformer:service=DemoTransformer&quot;);\r\n    \t\t// Could be a different MBeanServer. If so, pass a JMX Default Domain Name in agentArgs\r\n    \t\tMBeanServer server = ManagementFactory.getPlatformMBeanServer();\r\n    \t\tserver.registerMBean(ts, on);\r\n    \t\t// Set this property so the installer knows we&#39;re already here\r\n    \t\tSystem.setProperty(&quot;demo.agent.installed&quot;, &quot;true&quot;);\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**The Agent Installer**\r\n\r\n    public class AgentInstaller {\r\n    \t/**\r\n    \t * Installs the loader agent on the target JVM identified in &lt;code&gt;args[0]&lt;/code&gt;\r\n    \t * and then transforms all the classes identified in &lt;code&gt;args[1..n]&lt;/code&gt;.\r\n    \t * @param args The target JVM pid in [0] followed by the classnames to transform\r\n    \t */\r\n    \tpublic static void main(String[] args)  {\r\n    \t\tString agentPath = &quot;D:\\\\work\\\\workspace\\\\myjar\\\\loaded.jar&quot;;\r\n    \t    String vid = args[0]; \r\n    \t    VirtualMachine vm = VirtualMachine.attach(vid);\r\n    \t    // Check to see if transformer agent is installed\r\n    \t    if(!vm.getSystemProperties().contains(&quot;demo.agent.installed&quot;)) {\r\n    \t    \tvm.loadAgent(agentPath);  \r\n    \t    \t// that property will be set now, \r\n    \t    \t// and the transformer MBean will be installed\r\n    \t    }\r\n    \t    // Check to see if connector is installed\r\n    \t    String connectorAddress = vm.getAgentProperties().getProperty(&quot;com.sun.management.jmxremote.localConnectorAddress&quot;, null);\r\n    \t    if(connectorAddress==null) {\r\n    \t    \t// It&#39;s not, so install the management agent\r\n    \t    \tString javaHome = vm.getSystemProperties().getProperty(&quot;java.home&quot;);\r\n    \t    \tFile managementAgentJarFile = new File(javaHome + File.separator + &quot;lib&quot; + File.separator + &quot;management-agent.jar&quot;);\r\n    \t\t\tvm.loadAgent(managementAgentJarFile.getAbsolutePath());\r\n    \t\t\tconnectorAddress = vm.getAgentProperties().getProperty(&quot;com.sun.management.jmxremote.localConnectorAddress&quot;, null);\r\n    \t\t\t// Now it&#39;s installed\r\n    \t    }\r\n    \t    // Now connect and transform the classnames provided in the remaining args.\r\n    \t    JMXConnector connector = null;\r\n    \t    try {\r\n    \t\t    // This is the ObjectName of the MBean registered when loaded.jar was installed.\r\n    \t\t    ObjectName on = new ObjectName(&quot;transformer:service=DemoTransformer&quot;);\r\n    \t\t    // Here we&#39;re connecting to the target JVM through the management agent\r\n    \t    \tconnector = JMXConnectorFactory.connect(new JMXServiceURL(connectorAddress));\r\n    \t    \tMBeanServerConnection server = connector.getMBeanServerConnection();\r\n    \t    \tfor(int i = 1; i &lt; args.length; i++) {\r\n    \t    \t\tString className = args[i];\r\n    \t    \t\t// Call transformClass on the transformer MBean\r\n    \t    \t\tserver.invoke(on, &quot;transformClass&quot;, new Object[]{className}, new String[]{String.class.getName()});\r\n    \t    \t}\r\n    \t    } catch (Exception ex) {\r\n    \t    \tex.printStackTrace(System.err);\r\n    \t    } finally {\r\n    \t    \tif(connector!=null) try { connector.close(); } catch (Exception e) {}\r\n    \t    }\r\n    \t\t// Done. (Hopefully)\r\n    \t}\r\n    }\r\n\r\n\r\n**================= UPDATE =================**\r\n\r\nHey Nick;  Yep, that&#39;s one of the limitations of the current (i.e. Java 5-8) class transformers. \r\nTo quote from the [Instrumentation javadoc][1]:\r\n\r\n&gt; &quot;The retransformation may change method bodies, the constant pool and\r\n&gt; attributes. The retransformation must not add, remove or rename fields\r\n&gt; or methods, change the signatures of methods, or change inheritance.\r\n&gt; These restrictions maybe be lifted in future versions. The class file\r\n&gt; bytes are not checked, verified and installed until after the\r\n&gt; transformations have been applied, if the resultant bytes are in error\r\n&gt; this method will throw an exception.&quot;\r\n\r\nAs an aside, this same limitation is documented verbatim for redefining classes too.\r\n\r\nAs such, you have 2 options:\r\n\r\n  1. Don&#39;t add new methods. This is commonly very limiting and disqualifies the use of very common byte-code AOP patterns like method\r\nwrapping. Depending on which byte-code manipulation library you&#39;re using, you may be able to inject all the functionality you want into\r\nthe existing methods. Some libraries make this easier than others. Or, I should say, some libraries will make this easier than others.\r\n\r\n  2. Transform the class before it is class loaded. This uses the same general pattern of the code we already discussed, except you don&#39;t trigger\r\nthe transform through calling retransformClasses. Rather, you register the ClassFileTransformer to perform the transform *before* the class is loaded\r\nand your target class will be modified when it is first class loaded. In this case, you&#39;re pretty much free to modify the class any way you \r\nlike, provided the end product can still be validated. Beating the application to the punch (i.e. getting your ClassFileTransformer \r\nregistered before the application loads the class) will most likely require a command like **javaagent**, although if you have tight control\r\nof the lifecycle of your application, it is possible to do this in more traditional application layer code. As I said, you just need to make\r\nsure you get the transformer registered before the target class is loaded.\r\n\r\nOne other variation on #2 you may be able to use is to *simulate* a brand new class by using a new classloader. If you create a new \r\nisolated classloader which will not delegate to the existing [loaded] class, but does have access to the [unloaded] target class byte-code,\r\nyou&#39;re essentially reproducing the requirements of #2 above since the JVM considers this to be a brand new class.\r\n\r\n**================  UPDATE  ================**\r\n\r\nIn your last comments, I feel like I&#39;ve lost track a bit of where you are. At any rate, Oracle JDK 1.6 most definitely supports retransform. I am not too familiar with ASM, but the last error you posted indicates that the ASM transformation somehow modified the class schema which is not allowed, so the retransform failed.\r\n\r\nI figured a working example would add more clarity. The same classes as above (plus one test class called Person) are [here][2]. There&#39;s a couple of modifications/additions:\r\n\r\n - The transform operation in the [TransformerService][3] now has 3 parameters:\r\n  1. The binary class name\r\n  2. The method name to instrument\r\n  3. A [regular] expression to match the method signature. (if null or empty, matches all signatures)\r\n  4. The actual bytecode modification is done using [Javassist][4] in the [ModifyMethodTest][5] class. All the instrumentation does is add a *System.out.println* that looks like this:  `--&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]`\r\n - The [AgentInstaller][6] (which has the demo&#39;s Main) just self-installs the agent and the transform service. (Easier for Dev/Demo purposes, but will still work with other JVMs)\r\n - Once the agent is self-installed, the main thread creates a [Person][7] instance and just loops, calling the Person&#39;s two *sayHello* methods. \r\n\r\nPrior to transform, that output looks as follows.\r\n\r\n\r\n    Temp File:c:\\temp\\com.heliosapm.shorthandexamples.AgentMain8724970986698386534.jar\r\n    Installing AgentMain...\r\n    AgentMain Installed\r\n    Agent Loaded\r\n    Instrumentation Deployed:true\r\n    Hello [0]\r\n    Hello [0]\r\n    Hello [1]\r\n    Hello [-1]\r\n    Hello [2]\r\n    Hello [-2]\r\n\r\n\r\nPerson has 2 *sayHello* methods, one takes an **int**, the other takes a **String**. (The String one just prints the negative of the loop index).\r\n\r\nOnce I start the AgentInstaller, the agent is installed and Person is being invoked in a loop, I connect to the JVM using JConsole:\r\n\r\n![Finding the AgentInstaller JVM][8]\r\n\r\nI navigate to the TransformerService MBean and invoke the **transformClass** operation. I supply the fully qualified class [binary] name, the method name to instrument, and a regex expression **\\(I\\)V** which matches *only* the *sayHello* method which takes an int as an argument. (Or I could supply **.***, or nothing to match all overloads). I execute the operation.\r\n\r\n![Invoking the operation][9]\r\n\r\nNow when I go back to the running JVM and examine the output:\r\n\r\n    Examining class [com/heliosapm/shorthandexamples/Person]\r\n    Instrumenting class [com/heliosapm/shorthandexamples/Person]\r\n    [ModifyMethodTest] Adding [System.out.println(&quot;\\n\\t--&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]&quot;);]\r\n    [ModifyMethodTest] Intrumented [1] methods\r\n    \r\n    \t--&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]\r\n    Hello [108]\r\n    Hello [-108]\r\n    \r\n    \t--&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]\r\n    Hello [109]\r\n    Hello [-109]\r\n\r\n\r\nDone. Method instrumented.\r\n\r\nKeep in mind, the reason the retransform is allowed is because the Javassist bytecode modification made no changes other than to inject code into an existing method.\r\n\r\nMake sense ?\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/instrument/Instrumentation.html\r\n  [2]: https://gist.github.com/nickman/6494990\r\n  [3]: https://gist.github.com/nickman/6494990#file-transformerservice-java\r\n  [4]: http://www.csg.ci.i.u-tokyo.ac.jp/~chiba/javassist/\r\n  [5]: https://gist.github.com/nickman/6494990#file-modifymethodtest-java\r\n  [6]: https://gist.github.com/nickman/6494990#file-agentinstaller-java\r\n  [7]: https://gist.github.com/nickman/6494990#file-person-java\r\n  [8]: http://i.stack.imgur.com/Y1FAT.png\r\n  [9]: http://i.stack.imgur.com/2n46Q.png\r\n","title":"How to retransform a class at runtime?","body":"<p><strong>Short Answer</strong></p>\n\n<ul>\n<li>Don't iterate through all the loaded classes from Instrumentation. Instead, just examine the class name passed in to the transformer and if it matches your target class, then transform it. Otherwise, simply return the passed classfileBuffer unmodified.</li>\n<li>Make the set up calls outside the transformer, (i.e. in your case, do the following from your agent) so initialize your transformer with the class name you're looking to transform (this will be the <em>inner format</em> so instead of <strong>foo.bar.Snafu</strong>, you will be looking to match against <strong>foo/bar/Snafu</strong>. Then add the transformer, call retransform and then remove the transformer.</li>\n<li>In order to call retransform, you will need the actual [pre-transform] class which you can find by calling <em>Class.forName</em> (in the agentmain), or if you absolutely have to, you could find it in <em>Intrumentation.getAllLoadedClasses()</em> as a last resort. If the target class has not been loaded, you will need the classloader to call <em>Class.forName(name, boolean, classloader)</em> in which case you can pass the URL to the target class class-path in the agent main string args.</li>\n</ul>\n\n<p><strong>Long Answer</strong></p>\n\n<p>Here's a few recommendations:</p>\n\n<ol>\n<li>Separate out the operation you're calling into 2 separate operations:\n\n<ol>\n<li>Install the agent. This only needs to be done once.</li>\n<li>Transform the target class[es]. You might want to do this <em>n</em> times.</li>\n</ol></li>\n<li>I would implement 1.2 by registering a simple JMX MBean when you install the agent. This MBean should provide an operation like <code>public void transformClass(String className)</code>. and should be initialized with a reference to the agent's acquired <strong>Instrumentation</strong> instance. The MBean class, interface and any required 3rd party classes should be included in your agent's <strong>loaded.jar</strong>. It should also contain your <strong>ModifyMethodTest</strong> class (which I assume it already does).</li>\n<li>At the same time that you install your agent jar, also install the management agent from <strong>$JAVA_HOME/lib/management-agent.jar</strong> which will activate the management agent so you can invoke the transform operation in the MBean you're about to register.</li>\n<li>Parameterize your DemoTransformer class to accept the <em>internal form</em> of the name of the class you want to transform. (i.e. if your binary class name is <em>foo.bar.Snafu</em>, the internal form will be <em>foo/bar/Snafu</em>. As your DemoTransformer instance starts getting transform callbacks, ignore all class names that do not match the internal form class name you specified. (i.e. simply return the classfileBuffer unmodified)</li>\n<li>Your tranformer MBean <strong>transformClass</strong> operation should then:\n\n<ol>\n<li>Convert the passed class name to internal form.</li>\n<li>Create a new DemoTransformer, passing the internal form class name.</li>\n<li>Register the DemoTransformer instance using <code>Instrumentation.addTransformer(theNewDemoTransformer, true)</code> .</li>\n<li>Call <code>Instrumentation.retransformClasses(ClassForName(className))</code>  (with the binary class name passed to the MBean operation). When this call returns, your class will be transformed.</li>\n<li>Remove the transformer with <code>Intrumentation.removeTransformer(theNewDemoTransformer)</code>.</li>\n</ol></li>\n</ol>\n\n<p>The following is an untested approximation of what I mean:</p>\n\n<p><strong>Transformer MBean</strong></p>\n\n<pre><code>public interface TransformerServiceMBean {\n    /**\n     * Transforms the target class name\n     * @param className The binary name of the target class\n     */\n    public void transformClass(String className);\n}\n</code></pre>\n\n<p><strong>Transformer Service</strong></p>\n\n<pre><code>public class TransformerService implements TransformerServiceMBean {\n    /** The JVM's instrumentation instance */\n    protected final Instrumentation instrumentation;\n\n    /**\n     * Creates a new TransformerService\n     * @param instrumentation  The JVM's instrumentation instance \n     */\n    public TransformerService(Instrumentation instrumentation) {\n        this.instrumentation = instrumentation;\n    }\n\n    /**\n     * {@inheritDoc}\n     * @see com.heliosapm.shorthandexamples.TransformerServiceMBean#transformClass(java.lang.String)\n     */\n    @Override\n    public void transformClass(String className) {\n        Class&lt;?&gt; targetClazz = null;\n        ClassLoader targetClassLoader = null;\n        // first see if we can locate the class through normal means\n        try {\n            targetClazz = Class.forName(className);\n            targetClassLoader = targetClazz.getClassLoader();\n            transform(targetClazz, targetClassLoader);\n            return;\n        } catch (Exception ex) { /* Nope */ }\n        // now try the hard/slow way\n        for(Class&lt;?&gt; clazz: instrumentation.getAllLoadedClasses()) {\n            if(clazz.getName().equals(className)) {\n                targetClazz = clazz;\n                targetClassLoader = targetClazz.getClassLoader();\n                transform(targetClazz, targetClassLoader);\n                return;             \n            }\n        }\n        throw new RuntimeException(\"Failed to locate class [\" + className + \"]\");\n    }\n\n    /**\n     * Registers a transformer and executes the transform\n     * @param clazz The class to transform\n     * @param classLoader The classloader the class was loaded from\n     */\n    protected void transform(Class&lt;?&gt; clazz, ClassLoader classLoader) {\n        DemoTransformer dt = new DemoTransformer(clazz.getName(), classLoader);\n        instrumentation.addTransformer(dt, true);\n        try {\n            instrumentation.retransformClasses(clazz);\n        } catch (Exception ex) {\n            throw new RuntimeException(\"Failed to transform [\" + clazz.getName() + \"]\", ex);\n        } finally {\n            instrumentation.removeTransformer(dt);\n        }       \n    }\n}\n</code></pre>\n\n<p><strong>The Class Transformer</strong></p>\n\n<pre><code>public class DemoTransformer implements ClassFileTransformer {\n    /** The internal form class name of the class to transform */\n    protected String className;\n    /** The class loader of the class */\n    protected ClassLoader classLoader;\n    /**\n     * Creates a new DemoTransformer\n     * @param className The binary class name of the class to transform\n     * @param classLoader The class loader of the class\n     */\n    public DemoTransformer(String className, ClassLoader classLoader) {\n        this.className = className.replace('.', '/');\n        this.classLoader = classLoader;\n    }\n\n    /**\n     * {@inheritDoc}\n     * @see java.lang.instrument.ClassFileTransformer#transform(java.lang.ClassLoader, java.lang.String, java.lang.Class, java.security.ProtectionDomain, byte[])\n     */\n    @Override\n    public byte[] transform(ClassLoader loader, String className,\n            Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain,\n            byte[] classfileBuffer) throws IllegalClassFormatException {\n        if(className.equals(this.className) &amp;&amp; loader.equals(classLoader)) {\n            return new ModifyMethodTest(classfileBuffer).modiySleepMethod();\n        }\n        return classfileBuffer;\n    }\n\n}\n</code></pre>\n\n<p><strong>The Agent</strong></p>\n\n<pre><code>public class AgentMain {\n\n    public static void agentmain (String agentArgs, Instrumentation inst) throws Exception {\n        TransformerService ts = new TransformerService(inst);\n        ObjectName on = new ObjectName(\"transformer:service=DemoTransformer\");\n        // Could be a different MBeanServer. If so, pass a JMX Default Domain Name in agentArgs\n        MBeanServer server = ManagementFactory.getPlatformMBeanServer();\n        server.registerMBean(ts, on);\n        // Set this property so the installer knows we're already here\n        System.setProperty(\"demo.agent.installed\", \"true\");     \n    }\n\n}\n</code></pre>\n\n<p><strong>The Agent Installer</strong></p>\n\n<pre><code>public class AgentInstaller {\n    /**\n     * Installs the loader agent on the target JVM identified in &lt;code&gt;args[0]&lt;/code&gt;\n     * and then transforms all the classes identified in &lt;code&gt;args[1..n]&lt;/code&gt;.\n     * @param args The target JVM pid in [0] followed by the classnames to transform\n     */\n    public static void main(String[] args)  {\n        String agentPath = \"D:\\\\work\\\\workspace\\\\myjar\\\\loaded.jar\";\n        String vid = args[0]; \n        VirtualMachine vm = VirtualMachine.attach(vid);\n        // Check to see if transformer agent is installed\n        if(!vm.getSystemProperties().contains(\"demo.agent.installed\")) {\n            vm.loadAgent(agentPath);  \n            // that property will be set now, \n            // and the transformer MBean will be installed\n        }\n        // Check to see if connector is installed\n        String connectorAddress = vm.getAgentProperties().getProperty(\"com.sun.management.jmxremote.localConnectorAddress\", null);\n        if(connectorAddress==null) {\n            // It's not, so install the management agent\n            String javaHome = vm.getSystemProperties().getProperty(\"java.home\");\n            File managementAgentJarFile = new File(javaHome + File.separator + \"lib\" + File.separator + \"management-agent.jar\");\n            vm.loadAgent(managementAgentJarFile.getAbsolutePath());\n            connectorAddress = vm.getAgentProperties().getProperty(\"com.sun.management.jmxremote.localConnectorAddress\", null);\n            // Now it's installed\n        }\n        // Now connect and transform the classnames provided in the remaining args.\n        JMXConnector connector = null;\n        try {\n            // This is the ObjectName of the MBean registered when loaded.jar was installed.\n            ObjectName on = new ObjectName(\"transformer:service=DemoTransformer\");\n            // Here we're connecting to the target JVM through the management agent\n            connector = JMXConnectorFactory.connect(new JMXServiceURL(connectorAddress));\n            MBeanServerConnection server = connector.getMBeanServerConnection();\n            for(int i = 1; i &lt; args.length; i++) {\n                String className = args[i];\n                // Call transformClass on the transformer MBean\n                server.invoke(on, \"transformClass\", new Object[]{className}, new String[]{String.class.getName()});\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace(System.err);\n        } finally {\n            if(connector!=null) try { connector.close(); } catch (Exception e) {}\n        }\n        // Done. (Hopefully)\n    }\n}\n</code></pre>\n\n<p><strong>================= UPDATE =================</strong></p>\n\n<p>Hey Nick;  Yep, that's one of the limitations of the current (i.e. Java 5-8) class transformers. \nTo quote from the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/instrument/Instrumentation.html\">Instrumentation javadoc</a>:</p>\n\n<blockquote>\n  <p>\"The retransformation may change method bodies, the constant pool and\n  attributes. The retransformation must not add, remove or rename fields\n  or methods, change the signatures of methods, or change inheritance.\n  These restrictions maybe be lifted in future versions. The class file\n  bytes are not checked, verified and installed until after the\n  transformations have been applied, if the resultant bytes are in error\n  this method will throw an exception.\"</p>\n</blockquote>\n\n<p>As an aside, this same limitation is documented verbatim for redefining classes too.</p>\n\n<p>As such, you have 2 options:</p>\n\n<ol>\n<li><p>Don't add new methods. This is commonly very limiting and disqualifies the use of very common byte-code AOP patterns like method\nwrapping. Depending on which byte-code manipulation library you're using, you may be able to inject all the functionality you want into\nthe existing methods. Some libraries make this easier than others. Or, I should say, some libraries will make this easier than others.</p></li>\n<li><p>Transform the class before it is class loaded. This uses the same general pattern of the code we already discussed, except you don't trigger\nthe transform through calling retransformClasses. Rather, you register the ClassFileTransformer to perform the transform <em>before</em> the class is loaded\nand your target class will be modified when it is first class loaded. In this case, you're pretty much free to modify the class any way you \nlike, provided the end product can still be validated. Beating the application to the punch (i.e. getting your ClassFileTransformer \nregistered before the application loads the class) will most likely require a command like <strong>javaagent</strong>, although if you have tight control\nof the lifecycle of your application, it is possible to do this in more traditional application layer code. As I said, you just need to make\nsure you get the transformer registered before the target class is loaded.</p></li>\n</ol>\n\n<p>One other variation on #2 you may be able to use is to <em>simulate</em> a brand new class by using a new classloader. If you create a new \nisolated classloader which will not delegate to the existing [loaded] class, but does have access to the [unloaded] target class byte-code,\nyou're essentially reproducing the requirements of #2 above since the JVM considers this to be a brand new class.</p>\n\n<p><strong>================  UPDATE  ================</strong></p>\n\n<p>In your last comments, I feel like I've lost track a bit of where you are. At any rate, Oracle JDK 1.6 most definitely supports retransform. I am not too familiar with ASM, but the last error you posted indicates that the ASM transformation somehow modified the class schema which is not allowed, so the retransform failed.</p>\n\n<p>I figured a working example would add more clarity. The same classes as above (plus one test class called Person) are <a href=\"https://gist.github.com/nickman/6494990\">here</a>. There's a couple of modifications/additions:</p>\n\n<ul>\n<li>The transform operation in the <a href=\"https://gist.github.com/nickman/6494990#file-transformerservice-java\">TransformerService</a> now has 3 parameters:\n\n<ol>\n<li>The binary class name</li>\n<li>The method name to instrument</li>\n<li>A [regular] expression to match the method signature. (if null or empty, matches all signatures)</li>\n<li>The actual bytecode modification is done using <a href=\"http://www.csg.ci.i.u-tokyo.ac.jp/~chiba/javassist/\">Javassist</a> in the <a href=\"https://gist.github.com/nickman/6494990#file-modifymethodtest-java\">ModifyMethodTest</a> class. All the instrumentation does is add a <em>System.out.println</em> that looks like this:  <code>--&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]</code></li>\n</ol></li>\n<li>The <a href=\"https://gist.github.com/nickman/6494990#file-agentinstaller-java\">AgentInstaller</a> (which has the demo's Main) just self-installs the agent and the transform service. (Easier for Dev/Demo purposes, but will still work with other JVMs)</li>\n<li>Once the agent is self-installed, the main thread creates a <a href=\"https://gist.github.com/nickman/6494990#file-person-java\">Person</a> instance and just loops, calling the Person's two <em>sayHello</em> methods. </li>\n</ul>\n\n<p>Prior to transform, that output looks as follows.</p>\n\n<pre><code>Temp File:c:\\temp\\com.heliosapm.shorthandexamples.AgentMain8724970986698386534.jar\nInstalling AgentMain...\nAgentMain Installed\nAgent Loaded\nInstrumentation Deployed:true\nHello [0]\nHello [0]\nHello [1]\nHello [-1]\nHello [2]\nHello [-2]\n</code></pre>\n\n<p>Person has 2 <em>sayHello</em> methods, one takes an <strong>int</strong>, the other takes a <strong>String</strong>. (The String one just prints the negative of the loop index).</p>\n\n<p>Once I start the AgentInstaller, the agent is installed and Person is being invoked in a loop, I connect to the JVM using JConsole:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y1FAT.png\" alt=\"Finding the AgentInstaller JVM\"></p>\n\n<p>I navigate to the TransformerService MBean and invoke the <strong>transformClass</strong> operation. I supply the fully qualified class [binary] name, the method name to instrument, and a regex expression <strong>(I)V</strong> which matches <em>only</em> the <em>sayHello</em> method which takes an int as an argument. (Or I could supply <strong>.*</strong>, or nothing to match all overloads). I execute the operation.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2n46Q.png\" alt=\"Invoking the operation\"></p>\n\n<p>Now when I go back to the running JVM and examine the output:</p>\n\n<pre><code>Examining class [com/heliosapm/shorthandexamples/Person]\nInstrumenting class [com/heliosapm/shorthandexamples/Person]\n[ModifyMethodTest] Adding [System.out.println(\"\\n\\t--&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]\");]\n[ModifyMethodTest] Intrumented [1] methods\n\n    --&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]\nHello [108]\nHello [-108]\n\n    --&gt;Invoked method [com.heliosapm.shorthandexamples.Person.sayHello((I)V)]\nHello [109]\nHello [-109]\n</code></pre>\n\n<p>Done. Method instrumented.</p>\n\n<p>Keep in mind, the reason the retransform is allowed is because the Javassist bytecode modification made no changes other than to inject code into an existing method.</p>\n\n<p>Make sense ?</p>\n"}],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20187,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":18576798,"answer_count":1,"score":38,"last_activity_date":1694416984,"creation_date":1378106154,"question_id":18567552,"body_markdown":"I am trying to modify a class which is already loaded in a JVM. The solution which I found is this:\r\n\r\n1.  Attach an agent to a JVM specified by PID. (e.g. 8191)(Code: `AttachTest`)\r\n1. Find the class which you want modified from those that have already been loaded in the JVM (e.g. 8191).\r\n1. Add transformer using Instrument (Codes: `AgentMain`)\r\n1. Modify the class (e.g. `Person`) in `transform` method (Code: `DemoTransformer`)\r\n1. Retransform the class using [`retransformClasses`][1]\r\n\r\nIt works fine from 1st step to 5th step, but there are problems at `retransformClasses`. It called `transform` again which contains codes to modify class. And It modify other classes which I never wanna modify.\r\nI think the problem may occured during `addTransformer` or `retransformClasses`. But I still confused. Well, how to retransform a class?\r\n\r\n    public class AttachTest {\r\n        public static void main(String[] args) throws AttachNotSupportedException,\r\n            IOException, AgentLoadException, AgentInitializationException { \r\n    \t    String agentPath = &quot;D:\\\\work\\\\workspace\\\\myjar\\\\loaded.jar&quot;;\r\n    \t    String vid = args[0]; \r\n       \t    VirtualMachine vm = VirtualMachine.attach(vid);\r\n       \t    vm.loadAgent(agentPath);\r\n        }\r\n    }\r\n\r\n//Agent\r\n\r\n    public class AgentMain {\r\n\t    public static void agentmain (String agentArgs, Instrumentation inst)\r\n\t\t\tthrows ClassNotFoundException, UnmodifiableClassException,\r\n\t\t\tInterruptedException {\r\n\t\tClass&lt;?&gt; [] allLoadedClasses = inst.getAllLoadedClasses();\r\n\t\t    String tmpString = null;\r\n\t\t    for (int i = 0; i&lt;allLoadedClasses.length; i++) {\r\n\t\t\ttmpString = allLoadedClasses[i].getName();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (0 != tmpString.length()) {\r\n\t\t\t\tif (-1 != tmpString.lastIndexOf(&quot;.&quot;)) {\r\n\t\t\t\t\ttmpString = tmpString.substring(tmpString.lastIndexOf(&quot;.&quot;)+1,tmpString.length());\r\n\t\t\t\t}\r\n\t\t\t\tif (tmpString.equals(&quot;Person&quot;)) {\r\n\r\n\t\t\t\t\tinst.addTransformer(new DemoTransformer(), true);\r\n\t\t\t\t\tinst.retransformClasses(allLoadedClasses[i]);\r\n\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n|\r\n\r\n    public class DemoTransformer implements ClassFileTransformer {\r\n\t\r\n\t    @Override\r\n\t    public byte[] transform (ClassLoader loader, String className,\r\n\t\t\tClass&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain,\r\n\t\t\tbyte[] classfileBuffer) throws IllegalClassFormatException {\r\n\t\t\r\n\t\tModifyMethodTest tm = new ModifyMethodTest(classfileBuffer);\r\n\r\n\t\tbyte[] byteArray = null;\r\n\t\ttry {\r\n\t\t\tbyteArray = tm.modiySleepMethod();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n  \t\t\r\n\t\treturn byteArray;\r\n\t    }\r\n    }\r\n\r\n**OUTPUTS:**\r\n***THE ATTACH PROGRAM***\r\n\r\n    javax.management.RuntimeMBeanException: java.lang.RuntimeException: Failed to transform [Person]\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:856)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:869)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:838)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1427)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1360)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:788)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:159)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:155)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:619)\r\n    \tat sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:255)\r\n    \tat sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:233)\r\n    \tat sun.rmi.server.UnicastRef.invoke(UnicastRef.java:142)\r\n    \tat com.sun.jmx.remote.internal.PRef.invoke(Unknown Source)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl_Stub.invoke(Unknown Source)\r\n    \tat javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.invoke(RMIConnector.java:993)\r\n    \tat AttachStackOverflow.main(AttachStackOverflow.java:57)\r\n    Caused by: java.lang.RuntimeException: Failed to transform [Person]\r\n    \tat loaded3.TransformerService.transform(TransformerService.java:75)\r\n    \tat loaded3.TransformerService.transformClass(TransformerService.java:38)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)\r\n    \tat com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)\r\n    \tat com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)\r\n    \tat com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)\r\n    \tat com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1427)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1360)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:788)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:159)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:155)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:619)\r\n    Caused by: java.lang.UnsupportedOperationException: class redefinition failed: attempted to change the schema (add/remove fields)\r\n    \tat sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n    \tat sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:124)\r\n    \tat loaded3.TransformerService.transform(TransformerService.java:72)\r\n    \t... 31 more\r\n**OUTPUTS:** *TARGET PROGRAM*\r\n\r\n    print Call sayHello()\r\n    print Hello World!\r\n    Supported Redefine\r\n    Supported Retransform\r\n    Call transform() in TransformerService\r\n    Add transformer\r\n    support redefine. return TRUE\r\n    support retransforme. return TRUE\r\n    IsModifiable class &quot;class Person&quot;. return TRUE\r\n    Retransform classes\r\n    Number of times to Call transform() in DemoTransformer:1\r\n    ####ASM CODE####\r\n    consturct ModifyMethodTest\r\n    Call modifySleepMethod\r\n    new classreader\r\n    new classwriter\r\n    construct ModifyClassAdapter\r\n    sayHello\r\n    consturct Modifymethod\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #5\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #13\r\n    [arg1] = java/util/concurrent/TimeUnit  [arg2] = sleep  #22\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #30\r\n    sayHello2\r\n    consturct Modifymethod\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #5\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #13\r\n    &lt;init&gt;\r\n    consturct Modifymethod\r\n    [arg1] = java/lang/Object  [arg2] = &lt;init&gt;  #1\r\n    main\r\n    consturct Modifymethod\r\n    [arg1] = Person  [arg2] = &lt;init&gt;  #4\r\n    [arg1] = Person  [arg2] = sayHello  #9\r\n    [arg1] = Person  [arg2] = sayHello2  #13\r\n    [arg1] = java/lang/InterruptedException  [arg2] = printStackTrace  #21\r\n    getName\r\n    consturct Modifymethod\r\n    setName\r\n    consturct Modifymethod\r\n    Call visitend\r\n    Finished to call modifymethodtest\r\n    ####End of ASM CODE\r\n    Remove transformer\r\n    Call transform() in TransformerService\r\n    Add transformer\r\n    support redefine. return TRUE\r\n    support retransforme. return TRUE\r\n    IsModifiable class &quot;class Person&quot;. return TRUE\r\n    Retransform classes\r\n    Number of times to Call transform() in DemoTransformer:2\r\n    ####ASM CODE####\r\n    consturct ModifyMethodTest\r\n    Call modifySleepMethod\r\n    new classreader\r\n    new classwriter\r\n    construct ModifyClassAdapter\r\n    sayHello\r\n    consturct Modifymethod\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #5\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #13\r\n    [arg1] = java/util/concurrent/TimeUnit  [arg2] = sleep  #22\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #30\r\n    sayHello2\r\n    consturct Modifymethod\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #5\r\n    [arg1] = java/io/PrintStream  [arg2] = println  #13\r\n    &lt;init&gt;\r\n    consturct Modifymethod\r\n    [arg1] = java/lang/Object  [arg2] = &lt;init&gt;  #1\r\n    main\r\n    consturct Modifymethod\r\n    [arg1] = Person  [arg2] = &lt;init&gt;  #4\r\n    [arg1] = Person  [arg2] = sayHello  #9\r\n    [arg1] = Person  [arg2] = sayHello2  #13\r\n    [arg1] = java/lang/InterruptedException  [arg2] = printStackTrace  #21\r\n    getName\r\n    consturct Modifymethod\r\n    setName\r\n    consturct Modifymethod\r\n    Call visitend\r\n    Finished to call modifymethodtest\r\n    ####End of ASM CODE\r\n    Remove transformer\r\n    print in sayHello()\r\n    print Call sayHello2()\r\n    print Hello World!2\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#RetransformClasses","title":"How to retransform a class at runtime?","body":"<p>I am trying to modify a class which is already loaded in a JVM. The solution which I found is this:</p>\n<ol>\n<li>Attach an agent to a JVM specified by PID. (e.g. 8191)(Code: <code>AttachTest</code>)</li>\n<li>Find the class which you want modified from those that have already been loaded in the JVM (e.g. 8191).</li>\n<li>Add transformer using Instrument (Codes: <code>AgentMain</code>)</li>\n<li>Modify the class (e.g. <code>Person</code>) in <code>transform</code> method (Code: <code>DemoTransformer</code>)</li>\n<li>Retransform the class using <a href=\"https://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#RetransformClasses\" rel=\"nofollow noreferrer\"><code>retransformClasses</code></a></li>\n</ol>\n<p>It works fine from 1st step to 5th step, but there are problems at <code>retransformClasses</code>. It called <code>transform</code> again which contains codes to modify class. And It modify other classes which I never wanna modify.\nI think the problem may occured during <code>addTransformer</code> or <code>retransformClasses</code>. But I still confused. Well, how to retransform a class?</p>\n<pre><code>public class AttachTest {\n    public static void main(String[] args) throws AttachNotSupportedException,\n        IOException, AgentLoadException, AgentInitializationException { \n        String agentPath = &quot;D:\\\\work\\\\workspace\\\\myjar\\\\loaded.jar&quot;;\n        String vid = args[0]; \n        VirtualMachine vm = VirtualMachine.attach(vid);\n        vm.loadAgent(agentPath);\n    }\n}\n</code></pre>\n<p>//Agent</p>\n<pre><code>public class AgentMain {\n    public static void agentmain (String agentArgs, Instrumentation inst)\n        throws ClassNotFoundException, UnmodifiableClassException,\n        InterruptedException {\n    Class&lt;?&gt; [] allLoadedClasses = inst.getAllLoadedClasses();\n        String tmpString = null;\n        for (int i = 0; i&lt;allLoadedClasses.length; i++) {\n        tmpString = allLoadedClasses[i].getName();\n        \n        \n        if (0 != tmpString.length()) {\n            if (-1 != tmpString.lastIndexOf(&quot;.&quot;)) {\n                tmpString = tmpString.substring(tmpString.lastIndexOf(&quot;.&quot;)+1,tmpString.length());\n            }\n            if (tmpString.equals(&quot;Person&quot;)) {\n\n                inst.addTransformer(new DemoTransformer(), true);\n                inst.retransformClasses(allLoadedClasses[i]);\n\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>|</p>\n<pre><code>public class DemoTransformer implements ClassFileTransformer {\n\n    @Override\n    public byte[] transform (ClassLoader loader, String className,\n        Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain,\n        byte[] classfileBuffer) throws IllegalClassFormatException {\n    \n    ModifyMethodTest tm = new ModifyMethodTest(classfileBuffer);\n\n    byte[] byteArray = null;\n    try {\n        byteArray = tm.modiySleepMethod();\n        \n    } catch (Exception e) {\n        \n        e.printStackTrace();\n    }\n    \n    \n    return byteArray;\n    }\n}\n</code></pre>\n<p><strong>OUTPUTS:</strong>\n<em><strong>THE ATTACH PROGRAM</strong></em></p>\n<pre><code>javax.management.RuntimeMBeanException: java.lang.RuntimeException: Failed to transform [Person]\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:856)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:869)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:838)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1427)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1360)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:788)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\n    at sun.rmi.transport.Transport$1.run(Transport.java:159)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:155)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\n    at sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:255)\n    at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:233)\n    at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:142)\n    at com.sun.jmx.remote.internal.PRef.invoke(Unknown Source)\n    at javax.management.remote.rmi.RMIConnectionImpl_Stub.invoke(Unknown Source)\n    at javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.invoke(RMIConnector.java:993)\n    at AttachStackOverflow.main(AttachStackOverflow.java:57)\nCaused by: java.lang.RuntimeException: Failed to transform [Person]\n    at loaded3.TransformerService.transform(TransformerService.java:75)\n    at loaded3.TransformerService.transformClass(TransformerService.java:38)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)\n    at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)\n    at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)\n    at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)\n    at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1427)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1360)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:788)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\n    at sun.rmi.transport.Transport$1.run(Transport.java:159)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:155)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: java.lang.UnsupportedOperationException: class redefinition failed: attempted to change the schema (add/remove fields)\n    at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:124)\n    at loaded3.TransformerService.transform(TransformerService.java:72)\n    ... 31 more\n</code></pre>\n<p><strong>OUTPUTS:</strong> <em>TARGET PROGRAM</em></p>\n<pre><code>print Call sayHello()\nprint Hello World!\nSupported Redefine\nSupported Retransform\nCall transform() in TransformerService\nAdd transformer\nsupport redefine. return TRUE\nsupport retransforme. return TRUE\nIsModifiable class &quot;class Person&quot;. return TRUE\nRetransform classes\nNumber of times to Call transform() in DemoTransformer:1\n####ASM CODE####\nconsturct ModifyMethodTest\nCall modifySleepMethod\nnew classreader\nnew classwriter\nconstruct ModifyClassAdapter\nsayHello\nconsturct Modifymethod\n[arg1] = java/io/PrintStream  [arg2] = println  #5\n[arg1] = java/io/PrintStream  [arg2] = println  #13\n[arg1] = java/util/concurrent/TimeUnit  [arg2] = sleep  #22\n[arg1] = java/io/PrintStream  [arg2] = println  #30\nsayHello2\nconsturct Modifymethod\n[arg1] = java/io/PrintStream  [arg2] = println  #5\n[arg1] = java/io/PrintStream  [arg2] = println  #13\n&lt;init&gt;\nconsturct Modifymethod\n[arg1] = java/lang/Object  [arg2] = &lt;init&gt;  #1\nmain\nconsturct Modifymethod\n[arg1] = Person  [arg2] = &lt;init&gt;  #4\n[arg1] = Person  [arg2] = sayHello  #9\n[arg1] = Person  [arg2] = sayHello2  #13\n[arg1] = java/lang/InterruptedException  [arg2] = printStackTrace  #21\ngetName\nconsturct Modifymethod\nsetName\nconsturct Modifymethod\nCall visitend\nFinished to call modifymethodtest\n####End of ASM CODE\nRemove transformer\nCall transform() in TransformerService\nAdd transformer\nsupport redefine. return TRUE\nsupport retransforme. return TRUE\nIsModifiable class &quot;class Person&quot;. return TRUE\nRetransform classes\nNumber of times to Call transform() in DemoTransformer:2\n####ASM CODE####\nconsturct ModifyMethodTest\nCall modifySleepMethod\nnew classreader\nnew classwriter\nconstruct ModifyClassAdapter\nsayHello\nconsturct Modifymethod\n[arg1] = java/io/PrintStream  [arg2] = println  #5\n[arg1] = java/io/PrintStream  [arg2] = println  #13\n[arg1] = java/util/concurrent/TimeUnit  [arg2] = sleep  #22\n[arg1] = java/io/PrintStream  [arg2] = println  #30\nsayHello2\nconsturct Modifymethod\n[arg1] = java/io/PrintStream  [arg2] = println  #5\n[arg1] = java/io/PrintStream  [arg2] = println  #13\n&lt;init&gt;\nconsturct Modifymethod\n[arg1] = java/lang/Object  [arg2] = &lt;init&gt;  #1\nmain\nconsturct Modifymethod\n[arg1] = Person  [arg2] = &lt;init&gt;  #4\n[arg1] = Person  [arg2] = sayHello  #9\n[arg1] = Person  [arg2] = sayHello2  #13\n[arg1] = java/lang/InterruptedException  [arg2] = printStackTrace  #21\ngetName\nconsturct Modifymethod\nsetName\nconsturct Modifymethod\nCall visitend\nFinished to call modifymethodtest\n####End of ASM CODE\nRemove transformer\nprint in sayHello()\nprint Call sayHello2()\nprint Hello World!2\n</code></pre>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693919549,"post_id":77044639,"comment_id":135820679,"body_markdown":"Follow the error message: &quot;main class `me.fixegg.towntheserver.CityCreateCommand&#39; does not extend JavaPlugin&quot;. In other words, either `CityCreateCommand` needs to extend `JavaPlugin`, or your actual `JavaPlugin`-derived class needs to be the `main` specified in the `plugin.yml`.","body":"Follow the error message: &quot;main class <code>me.fixegg.towntheserver.CityCreateCommand&#39; does not extend JavaPlugin&quot;. In other words, either </code>CityCreateCommand` needs to extend <code>JavaPlugin</code>, or your actual <code>JavaPlugin</code>-derived class needs to be the <code>main</code> specified in the <code>plugin.yml</code>."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694416193,"creation_date":1694416193,"answer_id":77079543,"question_id":77044639,"body_markdown":"You should have a main class which extend [`JavaPlugin`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/plugin/java/JavaPlugin.html). For example:\r\n```java\r\npublic class TownTheServer extends JavaPlugin {\r\n   @Override\r\n   public void onEnable() {\r\n       getCommand(&quot;citycreate&quot;).setExecutor(new CityCreateCommand());\r\n   }\r\n}\r\n```\r\nThen, edit the `plugin.yml` file to let &quot;main&quot; value be the direction to the JavaPlugin&#39;s class as this:\r\n```yml\r\nmain: me.fixegg.towntheserver.TownTheServer\r\n```","title":"Could not load &#39;plugins\\TownTheServer-1.0-SNAPSHOT.jar&#39; in folder &#39;plugins&#39;","body":"<p>You should have a main class which extend <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/plugin/java/JavaPlugin.html\" rel=\"nofollow noreferrer\"><code>JavaPlugin</code></a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TownTheServer extends JavaPlugin {\n   @Override\n   public void onEnable() {\n       getCommand(&quot;citycreate&quot;).setExecutor(new CityCreateCommand());\n   }\n}\n</code></pre>\n<p>Then, edit the <code>plugin.yml</code> file to let &quot;main&quot; value be the direction to the JavaPlugin's class as this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>main: me.fixegg.towntheserver.TownTheServer\n</code></pre>\n"}],"owner":{"account_id":28867834,"reputation":3,"user_id":22110172,"display_name":"Fix Egg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77079543,"answer_count":1,"score":-1,"last_activity_date":1694416193,"creation_date":1693918146,"question_id":77044639,"body_markdown":"**When starting the server, refuses to load my plugin with an error**: \r\n```\r\nCould not load &#39;plugins\\TownTheServer-1.0-SNAPSHOT.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidPluginException: main class `me.fixegg.towntheserver.CityCreateCommand&#39; does not extend JavaPlugin\r\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:76) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:145) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.loadPlugins(CraftServer.java:381) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at net.minecraft.server.v1_16_R3.DedicatedServer.init(DedicatedServer.java:224) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:928) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$0(MinecraftServer.java:273) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n        at java.lang.Thread.run(Thread.java:831) [?:?]\r\nCaused by: java.lang.ClassCastException: class me.fixegg.towntheserver.CityCreateCommand\r\n        at java.lang.Class.asSubclass(Class.java:3853) ~[?:?]\r\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:74) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\r\n```\r\n\r\n\r\n**My code:**\r\n\r\n**1) CityCreateCommand.java**: \r\n\r\n```\r\npackage me.fixegg.towntheserver;\r\n\r\nimport org.bukkit.Chunk;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CityCreateCommand implements CommandExecutor {\r\n    private final Map&lt;String, Chunk&gt; cityChunks;\r\n\r\n    public CityCreateCommand() {\r\n        this.cityChunks = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if (!(sender instanceof Player)) {\r\n            sender.sendMessage(&quot;This command can only be executed by a player.&quot;);\r\n            return true;\r\n        }\r\n\r\n        if (args.length != 1) {\r\n            sender.sendMessage(&quot;Usage: /t citycreate &lt;cityName&gt;&quot;);\r\n            return true;\r\n        }\r\n\r\n        Player player = (Player) sender;\r\n        String cityName = args[0];\r\n        Chunk chunk = player.getLocation().getChunk();\r\n\r\n        cityChunks.put(cityName, chunk);\r\n\r\n        sender.sendMessage(&quot;City &#39;&quot; + cityName + &quot;&#39; created with coordinates: &quot; +\r\n                &quot;X: &quot; + chunk.getX() + &quot;, Z: &quot; + chunk.getZ());\r\n\r\n        return true;\r\n    }\r\n\r\n    // Run this method periodically to check if players are standing on the saved city chunks\r\n    public void checkCityChunks() {\r\n        for (Map.Entry&lt;String, Chunk&gt; entry : cityChunks.entrySet()) {\r\n            String cityName = entry.getKey();\r\n            Chunk chunk = entry.getValue();\r\n\r\n            for (Player player : chunk.getWorld().getPlayers()) {\r\n                if (player.getLocation().getChunk().equals(chunk)) {\r\n                    System.out.println(player.getName() + &quot; is in city: &quot; + cityName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**2) plugin.yml**: \r\n\r\n```\r\nname: CityCreateCommand\r\nversion: 1.0\r\n\r\nmain: me.fixegg.towntheserver.CityCreateCommand\r\n\r\napi-version: &#39;1.16&#39;\r\n# Chat Command Description /t citycreate\r\ncommands:\r\n  citycreate:\r\n    description: Create new Town on player position\r\n    aliases: [cc]\r\n    usage: /t citycreate &lt;cityName&gt;\r\n\r\n# Rights for command\r\npermissions:\r\n  towntheserver.citycreate:\r\n    description: Allows the player to use the command /t citycreate\r\n    default: true\r\n\r\n```\r\n\r\n\r\n3) **pom.xml**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;me.fixegg&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TownTheServer&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;TownTheServer&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spigotmc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;.\r\n```\r\n\r\nI tried to find an answer and solve this problem on my own, but I did not succeed. My Java runtime doesn&#39;t detect any syntax errors, compilation succeeds too. I don’t know what the problem is, so I will be glad to absolutely any answer, I wish you all the best!","title":"Could not load &#39;plugins\\TownTheServer-1.0-SNAPSHOT.jar&#39; in folder &#39;plugins&#39;","body":"<p><strong>When starting the server, refuses to load my plugin with an error</strong>:</p>\n<pre><code>Could not load 'plugins\\TownTheServer-1.0-SNAPSHOT.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: main class `me.fixegg.towntheserver.CityCreateCommand' does not extend JavaPlugin\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:76) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:145) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.loadPlugins(CraftServer.java:381) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at net.minecraft.server.v1_16_R3.DedicatedServer.init(DedicatedServer.java:224) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:928) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$0(MinecraftServer.java:273) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n        at java.lang.Thread.run(Thread.java:831) [?:?]\nCaused by: java.lang.ClassCastException: class me.fixegg.towntheserver.CityCreateCommand\n        at java.lang.Class.asSubclass(Class.java:3853) ~[?:?]\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:74) ~[spigot-1.16.5.jar:3096a-Spigot-9fb885e-af1a232]\n</code></pre>\n<p><strong>My code:</strong></p>\n<p><strong>1) CityCreateCommand.java</strong>:</p>\n<pre><code>package me.fixegg.towntheserver;\n\nimport org.bukkit.Chunk;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CityCreateCommand implements CommandExecutor {\n    private final Map&lt;String, Chunk&gt; cityChunks;\n\n    public CityCreateCommand() {\n        this.cityChunks = new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if (!(sender instanceof Player)) {\n            sender.sendMessage(&quot;This command can only be executed by a player.&quot;);\n            return true;\n        }\n\n        if (args.length != 1) {\n            sender.sendMessage(&quot;Usage: /t citycreate &lt;cityName&gt;&quot;);\n            return true;\n        }\n\n        Player player = (Player) sender;\n        String cityName = args[0];\n        Chunk chunk = player.getLocation().getChunk();\n\n        cityChunks.put(cityName, chunk);\n\n        sender.sendMessage(&quot;City '&quot; + cityName + &quot;' created with coordinates: &quot; +\n                &quot;X: &quot; + chunk.getX() + &quot;, Z: &quot; + chunk.getZ());\n\n        return true;\n    }\n\n    // Run this method periodically to check if players are standing on the saved city chunks\n    public void checkCityChunks() {\n        for (Map.Entry&lt;String, Chunk&gt; entry : cityChunks.entrySet()) {\n            String cityName = entry.getKey();\n            Chunk chunk = entry.getValue();\n\n            for (Player player : chunk.getWorld().getPlayers()) {\n                if (player.getLocation().getChunk().equals(chunk)) {\n                    System.out.println(player.getName() + &quot; is in city: &quot; + cityName);\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p><strong>2) plugin.yml</strong>:</p>\n<pre><code>name: CityCreateCommand\nversion: 1.0\n\nmain: me.fixegg.towntheserver.CityCreateCommand\n\napi-version: '1.16'\n# Chat Command Description /t citycreate\ncommands:\n  citycreate:\n    description: Create new Town on player position\n    aliases: [cc]\n    usage: /t citycreate &lt;cityName&gt;\n\n# Rights for command\npermissions:\n  towntheserver.citycreate:\n    description: Allows the player to use the command /t citycreate\n    default: true\n\n</code></pre>\n<ol start=\"3\">\n<li><strong>pom.xml</strong>:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;me.fixegg&lt;/groupId&gt;\n    &lt;artifactId&gt;TownTheServer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;TownTheServer&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spigotmc-repo&lt;/id&gt;\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;.\n</code></pre>\n<p>I tried to find an answer and solve this problem on my own, but I did not succeed. My Java runtime doesn't detect any syntax errors, compilation succeeds too. I don’t know what the problem is, so I will be glad to absolutely any answer, I wish you all the best!</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1604392689,"creation_date":1604392689,"answer_id":64659309,"question_id":64656022,"body_markdown":"It looks to me like you found a problem with the documentation.\r\n\r\nThe file called `buildSrc/src/main/groovy/myproject.java-conventions.gradle` declares what is called a [precompiled script plugin](https://docs.gradle.org/current/userguide/custom_plugins.html#sec:precompiled_plugins). For this to work, you have to apply the plugin called `groovy-gradle-plugin` (for Groovy plugins) in the `buildSrc` project:\r\n\r\n```groovy\r\n# buildSrc/build.gradle\r\nplugins {\r\n    id &#39;groovy-gradle-plugin&#39;\r\n}\r\n```\r\n\r\nAfter this, it should be able to find your custom `myproject.java-conventions` plugin. If so, you could create an issue on the [Gradle issue tracker](https://github.com/gradle/gradle/issues) to suggest that they add the above snippet to the samples in the documentation for [project dependencies](https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html#sec:project_jar_dependencies). ","title":"Gradle Multi-Project Build: Plugin was not found","body":"<p>It looks to me like you found a problem with the documentation.</p>\n<p>The file called <code>buildSrc/src/main/groovy/myproject.java-conventions.gradle</code> declares what is called a <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:precompiled_plugins\" rel=\"noreferrer\">precompiled script plugin</a>. For this to work, you have to apply the plugin called <code>groovy-gradle-plugin</code> (for Groovy plugins) in the <code>buildSrc</code> project:</p>\n<pre><code># buildSrc/build.gradle\nplugins {\n    id 'groovy-gradle-plugin'\n}\n</code></pre>\n<p>After this, it should be able to find your custom <code>myproject.java-conventions</code> plugin. If so, you could create an issue on the <a href=\"https://github.com/gradle/gradle/issues\" rel=\"noreferrer\">Gradle issue tracker</a> to suggest that they add the above snippet to the samples in the documentation for <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html#sec:project_jar_dependencies\" rel=\"noreferrer\">project dependencies</a>.</p>\n"},{"tags":[],"owner":{"account_id":1904470,"reputation":302,"user_id":1719618,"display_name":"Jur_"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606480898,"creation_date":1606480898,"answer_id":65037561,"question_id":64656022,"body_markdown":"I&#39;ve started out the same way as you and ran into the same problem. While Bjorn&#39;s answer might work for Java, for me it didn&#39;t solve the problem (for a kotlin implementation) as it also requires the `gradlePluginPortal()` in a `repositories` block. \r\n\r\nSo to add to the accepted answer, what worked best for me to start out is simply to run the `./gradlew init` task for a type `application`. See also the gradle docs on [Building Java Applications with libraries Sample][1]. Here you should always get a running multi-project irrespective of implementation language.\r\n\r\nIn my own kotlin application (with groovy dsl for gradle) this rendered the following `buildSrc/build.gradle`:\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     */\r\n    \r\n    plugins {\r\n        // Support convention plugins written in Groovy. Convention plugins are build scripts in &#39;src/main&#39; that automatically become available as plugins in the main build.\r\n        id &#39;groovy-gradle-plugin&#39;\r\n    }\r\n    \r\n    repositories {\r\n        // Use the plugin portal to apply community plugins in convention plugins.\r\n        gradlePluginPortal()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.72&#39;\r\n    }\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/samples/sample_building_java_applications_multi_project.html","title":"Gradle Multi-Project Build: Plugin was not found","body":"<p>I've started out the same way as you and ran into the same problem. While Bjorn's answer might work for Java, for me it didn't solve the problem (for a kotlin implementation) as it also requires the <code>gradlePluginPortal()</code> in a <code>repositories</code> block.</p>\n<p>So to add to the accepted answer, what worked best for me to start out is simply to run the <code>./gradlew init</code> task for a type <code>application</code>. See also the gradle docs on <a href=\"https://docs.gradle.org/current/samples/sample_building_java_applications_multi_project.html\" rel=\"nofollow noreferrer\">Building Java Applications with libraries Sample</a>. Here you should always get a running multi-project irrespective of implementation language.</p>\n<p>In my own kotlin application (with groovy dsl for gradle) this rendered the following <code>buildSrc/build.gradle</code>:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n */\n\nplugins {\n    // Support convention plugins written in Groovy. Convention plugins are build scripts in 'src/main' that automatically become available as plugins in the main build.\n    id 'groovy-gradle-plugin'\n}\n\nrepositories {\n    // Use the plugin portal to apply community plugins in convention plugins.\n    gradlePluginPortal()\n}\n\ndependencies {\n    implementation 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.72'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4368327,"reputation":1,"user_id":3563357,"display_name":"Abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694416032,"creation_date":1694415965,"answer_id":77079522,"question_id":64656022,"body_markdown":"You can go to settings --&gt; Gardle and change the settings as shown, to allow your project to build, run, and even test using IntelliJ IDEA.\r\n[screen-shot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jVtJo.png","title":"Gradle Multi-Project Build: Plugin was not found","body":"<p>You can go to settings --&gt; Gardle and change the settings as shown, to allow your project to build, run, and even test using IntelliJ IDEA.\n<a href=\"https://i.stack.imgur.com/jVtJo.png\" rel=\"nofollow noreferrer\">screen-shot</a></p>\n"}],"owner":{"account_id":7167552,"reputation":869,"user_id":5476186,"display_name":"Austin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8596,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":64659309,"answer_count":3,"score":17,"last_activity_date":1694416032,"creation_date":1604370771,"question_id":64656022,"body_markdown":"I&#39;ve got a very basic use case for a multi-project/multi-module Gradle build. What I ultimately need is no more structurally complex than is proposed in the official Gradle documentation [for declaring dependencies between subprojects][1].\r\n\r\nCopying their documentation here, we have this project structure:\r\n```\r\n.\r\n├── buildSrc\r\n│   ...\r\n├── api\r\n│   ├── src\r\n│   │   └──...\r\n│   └── build.gradle\r\n├── services\r\n│   └── person-service\r\n│       ├── src\r\n│       │   └──...\r\n│       └── build.gradle\r\n├── shared\r\n│   ├── src\r\n│   │   └──...\r\n│   └── build.gradle\r\n└── settings.gradle\r\n```\r\n\r\nAnd these build files:\r\n```\r\n// settings.gradle\r\nrootProject.name = &#39;dependencies-java&#39;\r\ninclude &#39;api&#39;, &#39;shared&#39;, &#39;services:person-service&#39;\r\n\r\n// buildSrc/src/main/groovy/myproject.java-conventions.gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &quot;junit:junit:4.13&quot;\r\n}\r\n\r\n// api/build.gradle\r\nplugins {\r\n    id &#39;myproject.java-conventions&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:shared&#39;)\r\n}\r\nshared/build.gradle\r\nplugins {\r\n    id &#39;myproject.java-conventions&#39;\r\n}\r\n\r\n// services/person-service/build.gradle\r\nplugins {\r\n    id &#39;myproject.java-conventions&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:shared&#39;)\r\n    implementation project(&#39;:api&#39;)\r\n}\r\n```\r\n\r\nHowever, [when I actually try this][2] and run `gradle build` from the project root, I get the following error:\r\n```\r\nPlugin [id: &#39;myproject.java-conventions&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (plugin dependency must include a version number for this source)\r\n```\r\n\r\nJust for kicks, I tried adding a version, but predictably Gradle was just as grumpy and said it could not resolve the artifact. What am I doing wrong?\r\n\r\nMy Gradle version info:\r\n```\r\n------------------------------------------------------------\r\nGradle 6.5.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-06-30 06:32:47 UTC\r\nRevision:     66bc713f7169626a7f0134bf452abde51550ea0a\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.11\r\nAnt:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019\r\nJVM:          11.0.8 (Oracle Corporation 11.0.8+10)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html#sec:project_jar_dependencies\r\n  [2]: https://github.com/atb-brown/gradle-test-modules","title":"Gradle Multi-Project Build: Plugin was not found","body":"<p>I've got a very basic use case for a multi-project/multi-module Gradle build. What I ultimately need is no more structurally complex than is proposed in the official Gradle documentation <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html#sec:project_jar_dependencies\" rel=\"noreferrer\">for declaring dependencies between subprojects</a>.</p>\n<p>Copying their documentation here, we have this project structure:</p>\n<pre><code>.\n├── buildSrc\n│   ...\n├── api\n│   ├── src\n│   │   └──...\n│   └── build.gradle\n├── services\n│   └── person-service\n│       ├── src\n│       │   └──...\n│       └── build.gradle\n├── shared\n│   ├── src\n│   │   └──...\n│   └── build.gradle\n└── settings.gradle\n</code></pre>\n<p>And these build files:</p>\n<pre><code>// settings.gradle\nrootProject.name = 'dependencies-java'\ninclude 'api', 'shared', 'services:person-service'\n\n// buildSrc/src/main/groovy/myproject.java-conventions.gradle\nplugins {\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation &quot;junit:junit:4.13&quot;\n}\n\n// api/build.gradle\nplugins {\n    id 'myproject.java-conventions'\n}\n\ndependencies {\n    implementation project(':shared')\n}\nshared/build.gradle\nplugins {\n    id 'myproject.java-conventions'\n}\n\n// services/person-service/build.gradle\nplugins {\n    id 'myproject.java-conventions'\n}\n\ndependencies {\n    implementation project(':shared')\n    implementation project(':api')\n}\n</code></pre>\n<p>However, <a href=\"https://github.com/atb-brown/gradle-test-modules\" rel=\"noreferrer\">when I actually try this</a> and run <code>gradle build</code> from the project root, I get the following error:</p>\n<pre><code>Plugin [id: 'myproject.java-conventions'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (plugin dependency must include a version number for this source)\n</code></pre>\n<p>Just for kicks, I tried adding a version, but predictably Gradle was just as grumpy and said it could not resolve the artifact. What am I doing wrong?</p>\n<p>My Gradle version info:</p>\n<pre><code>------------------------------------------------------------\nGradle 6.5.1\n------------------------------------------------------------\n\nBuild time:   2020-06-30 06:32:47 UTC\nRevision:     66bc713f7169626a7f0134bf452abde51550ea0a\n\nKotlin:       1.3.72\nGroovy:       2.5.11\nAnt:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019\nJVM:          11.0.8 (Oracle Corporation 11.0.8+10)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n"},{"tags":["java","compiler-errors","cannot-find-symbol","sslcontext-kickstart"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1658274487,"post_id":73044410,"comment_id":129009716,"body_markdown":"Yes, `nl.altindag.ssl.SSLFactory` (the symbol the Java compiler can&#39;t find) is indeed part of the [Hakky54](https://github.com/Hakky54/sslcontext-kickstart) library.  So you need to fix your pom.xml to fix the compile error.  Q: What happens if you delete one of the two (duplicate?) entries from your pom.xml?  Q: Do you see *ANY* Hakky54 .jar in your &quot;build&quot; directory (after the attempted compile)?  Q: Any chance you could use a different library instead?","body":"Yes, <code>nl.altindag.ssl.SSLFactory</code> (the symbol the Java compiler can&#39;t find) is indeed part of the <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">Hakky54</a> library.  So you need to fix your pom.xml to fix the compile error.  Q: What happens if you delete one of the two (duplicate?) entries from your pom.xml?  Q: Do you see <i>ANY</i> Hakky54 .jar in your &quot;build&quot; directory (after the attempted compile)?  Q: Any chance you could use a different library instead?"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1658302844,"post_id":73044410,"comment_id":129014971,"body_markdown":"Which java version are you using?","body":"Which java version are you using?"}],"owner":{"account_id":20587721,"reputation":368,"user_id":15112182,"display_name":"constantlyFlagged"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694415253,"creation_date":1658272710,"question_id":73044410,"body_markdown":"I have looked at all the similar questions regarding &quot;cannot find symbol&quot;. Most of them give a vague answers in terms of \r\n\r\n&quot;It means that either there is a problem in your Java source code, or there is a problem in the way that you are compiling it.&quot;\r\n\r\nI still cannot solve the issue that I have when trying to run my program. \r\n\r\nCurrently, the error that is being outputted is :\r\n\r\n```\r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ user-management-service ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 123 source files to F:\\Work\\user-management-service\\target\\classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /F:/Work/user-management-service/src/main/java/uk/co/senapt/crm/user/management/service/ServerSecurityContextExtension.java:[13,23] cannot find symbol\r\n  symbol:   class SSLFactory\r\n  location: package nl.altindag.ssl\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n\r\n```\r\n\r\nFollowed by - for one of the java class:\r\n```\r\ncannot find symbol\r\n\r\n```\r\n\r\nThe error seems to be related to\r\n```\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.PemUtils;\r\n```\r\n\r\nBut I cannot seems to resolve it. \r\n\r\nEven though I do have the correct dependency in the pom.xl file:\r\n```\r\n...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n```\r\n\r\nAlso, under Maven dependencies, I am getting &quot;omitted for duplicate&quot; -- not sure if this is related. \r\n [![enter image description here][1]][1]\r\n\r\nIf the question is vague - before flagging - please comment on what needs updating and I will update the question accordingly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6diz9.png","title":"cannot find symbol for &quot;nl.altindag.ssl.SSLFactory;&quot;","body":"<p>I have looked at all the similar questions regarding &quot;cannot find symbol&quot;. Most of them give a vague answers in terms of</p>\n<p>&quot;It means that either there is a problem in your Java source code, or there is a problem in the way that you are compiling it.&quot;</p>\n<p>I still cannot solve the issue that I have when trying to run my program.</p>\n<p>Currently, the error that is being outputted is :</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ user-management-service ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 123 source files to F:\\Work\\user-management-service\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /F:/Work/user-management-service/src/main/java/uk/co/senapt/crm/user/management/service/ServerSecurityContextExtension.java:[13,23] cannot find symbol\n  symbol:   class SSLFactory\n  location: package nl.altindag.ssl\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n\n</code></pre>\n<p>Followed by - for one of the java class:</p>\n<pre><code>cannot find symbol\n\n</code></pre>\n<p>The error seems to be related to</p>\n<pre><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.PemUtils;\n</code></pre>\n<p>But I cannot seems to resolve it.</p>\n<p>Even though I do have the correct dependency in the pom.xl file:</p>\n<pre><code>...\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n            &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n            &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n...\n</code></pre>\n<p>Also, under Maven dependencies, I am getting &quot;omitted for duplicate&quot; -- not sure if this is related.\n<a href=\"https://i.stack.imgur.com/6diz9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6diz9.png\" alt=\"enter image description here\" /></a></p>\n<p>If the question is vague - before flagging - please comment on what needs updating and I will update the question accordingly.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":24606466,"reputation":137,"user_id":18508594,"display_name":"Abdul Rahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694415150,"creation_date":1694415150,"answer_id":77079446,"question_id":77078934,"body_markdown":"Dynamically changing the app icon in an Android project is not a straightforward task because the app icon is typically set in the AndroidManifest.xml file and is meant to be static. However, there are some workarounds you can use to achieve this effect.\r\n\r\nOne common approach is to create different launcher activities with their own icons and then dynamically switch between these activities.","title":"is it possible change android application icon without updating application?","body":"<p>Dynamically changing the app icon in an Android project is not a straightforward task because the app icon is typically set in the AndroidManifest.xml file and is meant to be static. However, there are some workarounds you can use to achieve this effect.</p>\n<p>One common approach is to create different launcher activities with their own icons and then dynamically switch between these activities.</p>\n"}],"owner":{"account_id":26874475,"reputation":41,"user_id":20455929,"display_name":"Devendra Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1694422652,"answer_count":1,"score":2,"last_activity_date":1694415150,"creation_date":1694406985,"question_id":77078934,"body_markdown":"How do we change the Android application icon without updating the application like Amazon frequently do and Naukari did recently ","title":"is it possible change android application icon without updating application?","body":"<p>How do we change the Android application icon without updating the application like Amazon frequently do and Naukari did recently</p>\n"},{"tags":["java","json","jackson-databind"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1694415232,"post_id":77079122,"comment_id":135882821,"body_markdown":"I think you have used the wrong property name somewhere: &quot;status&quot; != &quot;httpStatus&quot;.","body":"I think you have used the wrong property name somewhere: &quot;status&quot; != &quot;httpStatus&quot;."},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1694418874,"post_id":77079122,"comment_id":135883413,"body_markdown":"duplicate of https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable","body":"duplicate of <a href=\"https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable\" title=\"jackson with json unrecognized field not marked as ignorable\">stackoverflow.com/questions/4486787/&hellip;</a>"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694422350,"post_id":77079122,"comment_id":135884035,"body_markdown":"@TheincredibleJan Technically true, but it won&#39;t help. The problem here is using the right property name, not ignoring the property which is the only thing suggested in that question&#39;s top answers.","body":"@TheincredibleJan Technically true, but it won&#39;t help. The problem here is using the right property name, not ignoring the property which is the only thing suggested in that question&#39;s top answers."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1694467186,"post_id":77079122,"comment_id":135892148,"body_markdown":"Can you explain your issue first?","body":"Can you explain your issue first?"}],"answers":[{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694414979,"creation_date":1694414979,"answer_id":77079432,"question_id":77079122,"body_markdown":"If you want to apply @JsonIgnoreProperties to all class in you application then the best way it is override Spring boot default jackson object.\r\n\r\nIn you application config file define a bean to create jackson object mapper like this.\r\n\r\n    @Bean\r\n        public ObjectMapper getObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            return mapper;\r\n        }\r\n\r\nNow, you don&#39;t need to mark every class and it will ignore all unknown properties.","title":"Unrecognized properties error not marked as ignorable","body":"<p>If you want to apply @JsonIgnoreProperties to all class in you application then the best way it is override Spring boot default jackson object.</p>\n<p>In you application config file define a bean to create jackson object mapper like this.</p>\n<pre><code>@Bean\n    public ObjectMapper getObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        return mapper;\n    }\n</code></pre>\n<p>Now, you don't need to mark every class and it will ignore all unknown properties.</p>\n"}],"owner":{"account_id":29411811,"reputation":1,"user_id":22535502,"display_name":"Avinash Avi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1694414979,"creation_date":1694410426,"question_id":77079122,"body_markdown":"&gt; ERROR: \r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;status&quot; not marked as ignorable (11 known properties: &quot;method&quot;, &quot;sequenceNo&quot;, &quot;statusMessage&quot;, &quot;timestamp&quot;, &quot;supportMessage&quot;, &quot;customerId&quot;, &quot;data&quot;, &quot;statusCode&quot;, &quot;path&quot;, &quot;transactionId&quot;, &quot;_links&quot;])\r\n\r\nCODE:\r\n```lang-java\r\n@Data @JsonInclude(JsonInclude.Include.NON_NULL) \r\npublic class KYCScoreIndResponse {\r\n    private String customerId;  \r\n    private String statusCode;\r\n    private String statusMessage;   \r\n    private String supportMessage;   \r\n    private String transactionId;   \r\n    private KYCData data;  \r\n    private String sequenceNo;   \r\n    private String path;   \r\n    private String method;   \r\n    private String timestamp;   \r\n    @JsonIgnore private HttpStatus httpStatus;   \r\n    private Links _links;\r\n}\r\n```\r\n\r\nHow to solve the error i tried using `@jsonproperty` of each parameter  but not working","title":"Unrecognized properties error not marked as ignorable","body":"<blockquote>\n<p>ERROR:\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;status&quot; not marked as ignorable (11 known properties: &quot;method&quot;, &quot;sequenceNo&quot;, &quot;statusMessage&quot;, &quot;timestamp&quot;, &quot;supportMessage&quot;, &quot;customerId&quot;, &quot;data&quot;, &quot;statusCode&quot;, &quot;path&quot;, &quot;transactionId&quot;, &quot;_links&quot;])</p>\n</blockquote>\n<p>CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data @JsonInclude(JsonInclude.Include.NON_NULL) \npublic class KYCScoreIndResponse {\n    private String customerId;  \n    private String statusCode;\n    private String statusMessage;   \n    private String supportMessage;   \n    private String transactionId;   \n    private KYCData data;  \n    private String sequenceNo;   \n    private String path;   \n    private String method;   \n    private String timestamp;   \n    @JsonIgnore private HttpStatus httpStatus;   \n    private Links _links;\n}\n</code></pre>\n<p>How to solve the error i tried using <code>@jsonproperty</code> of each parameter  but not working</p>\n"},{"tags":["java","maven","log4j","slf4j","logcaptor"],"comments":[{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1694386325,"post_id":76961540,"comment_id":135880516,"body_markdown":"This seems to be a classpath issue where some jars have a different version. Can you share the full mvn: dependency tree output?","body":"This seems to be a classpath issue where some jars have a different version. Can you share the full mvn: dependency tree output?"}],"owner":{"account_id":18599666,"reputation":97,"user_id":13554790,"display_name":"Ares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694414131,"creation_date":1692795185,"question_id":76961540,"body_markdown":"I am migration to springboot 3, and in my test I use LogCaptor.\r\nit seems that Logcaptor embeds Logback , and I have to exclude log4j transitive dependency ,that&#39;s what I did :\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- exclusion log4j d&#233;j&#224; dans spring boot starter pour les main IT--&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have the following error when launching tests :\r\n\r\n        Picked up JAVA_TOOL_OPTIONS: -Djavax.net.ssl.keyStoreType=KeychainStore\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nand then : \r\n\r\n        SLF4J: Actual provider is of type [org.apache.logging.slf4j.SLF4JServiceProvider@31be6b49]\r\n    \r\n    java.lang.IllegalArgumentException: SLF4J Logger implementation should be of the type [ch.qos.logback.classic.Logger] but found [org.apache.logging.slf4j.Log4jLogger].\r\n    \r\n    \tAt nl.altindag.log.util.ValidationUtils.requireLoggerOfType(ValidationUtils.java:36)\r\n    \tat nl.altindag.log.LogCaptor.&lt;init&gt;(LogCaptor.java:57)\r\n    \tat nl.altindag.log.LogCaptor.forClass(LogCaptor.java:84)\r\n\r\ni want to highlight that I have this problem when I migrated from LogCaptor 2.6.0 to version 2.9.0 , here is my dependency :\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- exclusion log4j already in spring boot starter for tests main IT--&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nwhen I change the version of LogCaptor to 2.7.10 , I have the following error :\r\n\r\n        SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    \r\n    java.lang.NoClassDefFoundError: org/slf4j/spi/LoggingEventAware\r\n\r\nI did a man Dependency:tree and I have this result :\r\n\r\n         +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.0.6:compile\r\n    [INFO] |  |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n    [INFO] |  |  +- org.apache.logging.log4j:log4j-core:jar:2.17.1:compile\r\n    [INFO] |  |  \\- org.apache.logging.log4j:log4j-jul:jar:2.17.1:compile\r\n\r\n\r\nI add the dependency tree for the module that contains the test that fails:\r\n\r\n        [INFO] +- io.github.hakky54:logcaptor:jar:2.9.0:test\r\n    [INFO] |  \\- ch.qos.logback:logback-classic:jar:1.4.7:test\r\n    [INFO] |     \\- ch.qos.logback:logback-core:jar:1.4.7:test\r\n\r\nI put the version of SLF4j to version &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\r\n\r\ni have the following error :\r\n\r\n    java.lang.NoClassDefFoundError: org/slf4j/bridge/SLF4JBridgeHandler\r\n\r\n\tat nl.altindag.log.LogCaptor.&lt;init&gt;(LogCaptor.java:76)\r\n\r\nThanks a lot.","title":"Dependency conflict logback and log4j when using LogCaptor","body":"<p>I am migration to springboot 3, and in my test I use LogCaptor.\nit seems that Logcaptor embeds Logback , and I have to exclude log4j transitive dependency ,that's what I did :</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n        &lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;!-- exclusion log4j déjà dans spring boot starter pour les main IT--&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have the following error when launching tests :</p>\n<pre><code>    Picked up JAVA_TOOL_OPTIONS: -Djavax.net.ssl.keyStoreType=KeychainStore\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>and then :</p>\n<pre><code>    SLF4J: Actual provider is of type [org.apache.logging.slf4j.SLF4JServiceProvider@31be6b49]\n\njava.lang.IllegalArgumentException: SLF4J Logger implementation should be of the type [ch.qos.logback.classic.Logger] but found [org.apache.logging.slf4j.Log4jLogger].\n\n    At nl.altindag.log.util.ValidationUtils.requireLoggerOfType(ValidationUtils.java:36)\n    at nl.altindag.log.LogCaptor.&lt;init&gt;(LogCaptor.java:57)\n    at nl.altindag.log.LogCaptor.forClass(LogCaptor.java:84)\n</code></pre>\n<p>i want to highlight that I have this problem when I migrated from LogCaptor 2.6.0 to version 2.9.0 , here is my dependency :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n        &lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;!-- exclusion log4j already in spring boot starter for tests main IT--&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>when I change the version of LogCaptor to 2.7.10 , I have the following error :</p>\n<pre><code>    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n\njava.lang.NoClassDefFoundError: org/slf4j/spi/LoggingEventAware\n</code></pre>\n<p>I did a man Dependency:tree and I have this result :</p>\n<pre><code>     +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.0.6:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-core:jar:2.17.1:compile\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-jul:jar:2.17.1:compile\n</code></pre>\n<p>I add the dependency tree for the module that contains the test that fails:</p>\n<pre><code>    [INFO] +- io.github.hakky54:logcaptor:jar:2.9.0:test\n[INFO] |  \\- ch.qos.logback:logback-classic:jar:1.4.7:test\n[INFO] |     \\- ch.qos.logback:logback-core:jar:1.4.7:test\n</code></pre>\n<p>I put the version of SLF4j to version &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;</p>\n<p>i have the following error :</p>\n<pre><code>java.lang.NoClassDefFoundError: org/slf4j/bridge/SLF4JBridgeHandler\n\nat nl.altindag.log.LogCaptor.&lt;init&gt;(LogCaptor.java:76)\n</code></pre>\n<p>Thanks a lot.</p>\n"},{"tags":["java","eclipse","maven","jmh"],"comments":[{"owner":{"account_id":3915452,"reputation":4069,"user_id":5216668,"display_name":"Will Barnwell"},"score":0,"creation_date":1467039387,"post_id":38056899,"comment_id":63552887,"body_markdown":"Have you tried not running it in eclipse? Since you mentioned it, it would make sense to try it","body":"Have you tried not running it in eclipse? Since you mentioned it, it would make sense to try it"},{"owner":{"account_id":8511146,"reputation":903,"user_id":6381145,"display_name":"riva"},"score":0,"creation_date":1467053233,"post_id":38056899,"comment_id":63561097,"body_markdown":"@WillBarnwell not yet...","body":"@WillBarnwell not yet..."},{"owner":{"account_id":11087309,"reputation":861,"user_id":8140523,"display_name":"NanoNova"},"score":0,"creation_date":1592715460,"post_id":38056899,"comment_id":110521048,"body_markdown":"[here](https://github.com/artyushov/idea-jmh-plugin/issues/13#issuecomment-95628473) may be an answer for idea","body":"<a href=\"https://github.com/artyushov/idea-jmh-plugin/issues/13#issuecomment-95628473\" rel=\"nofollow noreferrer\">here</a> may be an answer for idea"},{"owner":{"account_id":466604,"reputation":63,"user_id":871451,"display_name":"Hariom Yadav"},"score":0,"creation_date":1627475463,"post_id":38056899,"comment_id":121165649,"body_markdown":"@NanoNova not working","body":"@NanoNova not working"}],"answers":[{"tags":[],"owner":{"account_id":8511146,"reputation":903,"user_id":6381145,"display_name":"riva"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1500014662,"creation_date":1467103790,"answer_id":38071366,"question_id":38056899,"body_markdown":"Finally found it out.\r\nThere was a problem with missing `exec-maven-plugin` plugin\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;run-benchmarks&lt;/id&gt;\r\n                &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n                    &lt;executable&gt;java&lt;/executable&gt;\r\n                    &lt;arguments&gt;\r\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                        &lt;classpath /&gt;\r\n                        &lt;argument&gt;org.openjdk.jmh.Main&lt;/argument&gt;\r\n                        &lt;argument&gt;.*&lt;/argument&gt;\r\n                    &lt;/arguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>Finally found it out.\nThere was a problem with missing <code>exec-maven-plugin</code> plugin</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;run-benchmarks&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n                &lt;executable&gt;java&lt;/executable&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-classpath&lt;/argument&gt;\n                    &lt;classpath /&gt;\n                    &lt;argument&gt;org.openjdk.jmh.Main&lt;/argument&gt;\n                    &lt;argument&gt;.*&lt;/argument&gt;\n                &lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1896439,"reputation":663,"user_id":1713298,"display_name":"ankitkpd"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543441186,"creation_date":1543441186,"answer_id":53528535,"question_id":38056899,"body_markdown":"I realized that I already had `exec-maven-plugin` in my parent pom as mentioned in expected answer but I had to run `mvn clean install` as mentioned in https://stackoverflow.com/a/40748670 to fix the error","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>I realized that I already had <code>exec-maven-plugin</code> in my parent pom as mentioned in expected answer but I had to run <code>mvn clean install</code> as mentioned in <a href=\"https://stackoverflow.com/a/40748670\">https://stackoverflow.com/a/40748670</a> to fix the error</p>\n"},{"tags":[],"owner":{"account_id":5133083,"reputation":1697,"user_id":4112645,"display_name":"PeterK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547644917,"creation_date":1547644917,"answer_id":54218004,"question_id":38056899,"body_markdown":"Having had the same error; and running the tests from maven or intellij didn&#39;t work. I realised that the problem was that I wrote the benchmark in Kotlin. Changing the code to java sorted the issue.","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>Having had the same error; and running the tests from maven or intellij didn't work. I realised that the problem was that I wrote the benchmark in Kotlin. Changing the code to java sorted the issue.</p>\n"},{"tags":[],"owner":{"account_id":13646162,"reputation":328,"user_id":9845110,"display_name":"rahulkesharwani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571995311,"creation_date":1571995311,"answer_id":58555681,"question_id":38056899,"body_markdown":"This could happen when your compiler plugin has not processed the JMH related annotations. For me, [Gill&#39;s answer][1] with the `maven-compiler-plugin`&#39;s `&lt;annotationProcessorPaths&gt;` update worked.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53928409/9845110","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>This could happen when your compiler plugin has not processed the JMH related annotations. For me, <a href=\"https://stackoverflow.com/a/53928409/9845110\">Gill's answer</a> with the <code>maven-compiler-plugin</code>'s <code>&lt;annotationProcessorPaths&gt;</code> update worked.</p>\n"},{"tags":[],"owner":{"account_id":13740304,"reputation":959,"user_id":9915594,"display_name":"Ishaq Khan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1595181813,"creation_date":1595181813,"answer_id":62983884,"question_id":38056899,"body_markdown":"pom.xml must have the below dependencies and configurations to Java Micro-benchmark Harness (JMH) Framework\r\n    \r\n    &lt;properties&gt;\r\n        &lt;jmh.version&gt;1.21&lt;/jmh.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    &lt;finalName&gt;java-jmh&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n\t    &lt;plugin&gt;    \r\n\t    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t        &lt;configuration&gt;\r\n\t            &lt;source&gt;1.8&lt;/source&gt;\r\n\t            &lt;target&gt;1.8&lt;/target&gt;\r\n\t            &lt;annotationProcessorPaths&gt;\r\n\t\t            &lt;path&gt;\r\n\t\t                &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n\t\t                &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n\t\t                &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n\t\t            &lt;/path&gt;\r\n\t        \t&lt;/annotationProcessorPaths&gt;\r\n\t        &lt;/configuration&gt;\r\n\t    &lt;/plugin&gt;\r\n\t    &lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;id&gt;run-benchmarks&lt;/id&gt;\r\n    \t\t\t\t&lt;phase&gt;integration-test&lt;/phase&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n\t\t                &lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n\t\t                &lt;executable&gt;java&lt;/executable&gt;\r\n\t\t                &lt;arguments&gt;\r\n\t\t                    &lt;argument&gt;-classpath&lt;/argument&gt;\r\n\t\t                    &lt;classpath /&gt;\r\n\t\t                    &lt;argument&gt;org.openjdk.jmh.Main&lt;/argument&gt;\r\n\t\t                    &lt;argument&gt;.*&lt;/argument&gt;\r\n\t\t                &lt;/arguments&gt;\r\n\t\t            &lt;/configuration&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\nAfter this go to command line and run the command $mvn clean install","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>pom.xml must have the below dependencies and configurations to Java Micro-benchmark Harness (JMH) Framework</p>\n<pre><code>&lt;properties&gt;\n    &lt;jmh.version&gt;1.21&lt;/jmh.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n    &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\n    &lt;version&gt;${jmh.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n    &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n    &lt;version&gt;${jmh.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.11&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n&lt;finalName&gt;java-jmh&lt;/finalName&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;    \n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;annotationProcessorPaths&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n                    &lt;version&gt;${jmh.version}&lt;/version&gt;\n                &lt;/path&gt;\n            &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;run-benchmarks&lt;/id&gt;\n                &lt;phase&gt;integration-test&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;exec&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;org.openjdk.jmh.Main&lt;/argument&gt;\n                        &lt;argument&gt;.*&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n   \n<p>After this go to command line and run the command $mvn clean install</p>\n"},{"tags":[],"owner":{"account_id":14219716,"reputation":297,"user_id":10272428,"display_name":"Kravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627013002,"creation_date":1627013002,"answer_id":68493907,"question_id":38056899,"body_markdown":"Add version as well. This works for me\r\n\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>Add version as well. This works for me</p>\n<pre><code>        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10922,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1674501953,"creation_date":1645976650,"answer_id":71286156,"question_id":38056899,"body_markdown":"If anyone is using Gradle, add the [jmh-gradle-plugin](https://github.com/melix/jmh-gradle-plugin) to your plugins block:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;me.champeau.jmh&#39; version &#39;0.6.8&#39;\r\n}\r\n```\r\n\r\nThen add all of the following in your dependencies block (check the latest version of JMH [on Maven here](https://mvnrepository.com/artifact/org.openjdk.jmh/jmh-core)):\r\n\r\n```groovy\r\ndependencies {\r\n    jmh &#39;org.openjdk.jmh:jmh-core:1.36&#39;\r\n    jmh &#39;org.openjdk.jmh:jmh-generator-annprocess:1.36&#39;\r\n\r\n    // this is the line that solves the missing /META-INF/BenchmarkList error\r\n    jmhAnnotationProcessor &#39;org.openjdk.jmh:jmh-generator-annprocess:1.36&#39;\r\n}\r\n```\r\n\r\nThen just use the following to run your benchmarks through Gradle:\r\n\r\n```bash\r\n./gradlew jmh\r\n```\r\n\r\n## Running through your IDE\r\n\r\nIf you also want to run the benchmarks from within your IDE instead of through Gradle, you can do either of the following:\r\n\r\n### Option 1 - `main` method\r\n\r\nJust use a main method with no additional configuration and your IDE will respect your annotation configuration:\r\n\r\n```java\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\n@Fork(value = 1)\r\n@Warmup(iterations = 5, timeUnit = TimeUnit.MILLISECONDS, time = 5000)\r\n@Measurement(iterations = 5, timeUnit = TimeUnit.MILLISECONDS, time = 5000)\r\npublic class MyBenchmark {\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options options = new OptionsBuilder()\r\n            .include(MyBenchmark.class.getSimpleName())\r\n            .build();\r\n        new Runner(options).run();\r\n    }\r\n\r\n    // benchmarks omitted\r\n}\r\n```\r\n\r\n### Option 2 - Install JMH Plugin\r\n\r\nIf you&#39;re using IntelliJ, install the [JMH Java Microharness Benchmark Plugin](https://github.com/artyushov/idea-jmh-plugin) from the `Preferences &gt; Plugins` section, then you can omit your `main` method altogether and IntelliJ will give you a run button next to your class name:\r\n\r\n[![JMH benchmark in IntelliJ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eORsY.png","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>If anyone is using Gradle, add the <a href=\"https://github.com/melix/jmh-gradle-plugin\" rel=\"noreferrer\">jmh-gradle-plugin</a> to your plugins block:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'me.champeau.jmh' version '0.6.8'\n}\n</code></pre>\n<p>Then add all of the following in your dependencies block (check the latest version of JMH <a href=\"https://mvnrepository.com/artifact/org.openjdk.jmh/jmh-core\" rel=\"noreferrer\">on Maven here</a>):</p>\n<pre><code>dependencies {\n    jmh 'org.openjdk.jmh:jmh-core:1.36'\n    jmh 'org.openjdk.jmh:jmh-generator-annprocess:1.36'\n\n    // this is the line that solves the missing /META-INF/BenchmarkList error\n    jmhAnnotationProcessor 'org.openjdk.jmh:jmh-generator-annprocess:1.36'\n}\n</code></pre>\n<p>Then just use the following to run your benchmarks through Gradle:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew jmh\n</code></pre>\n<h2>Running through your IDE</h2>\n<p>If you also want to run the benchmarks from within your IDE instead of through Gradle, you can do either of the following:</p>\n<h3>Option 1 - <code>main</code> method</h3>\n<p>Just use a main method with no additional configuration and your IDE will respect your annotation configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\n@Fork(value = 1)\n@Warmup(iterations = 5, timeUnit = TimeUnit.MILLISECONDS, time = 5000)\n@Measurement(iterations = 5, timeUnit = TimeUnit.MILLISECONDS, time = 5000)\npublic class MyBenchmark {\n\n    public static void main(String[] args) throws RunnerException {\n        Options options = new OptionsBuilder()\n            .include(MyBenchmark.class.getSimpleName())\n            .build();\n        new Runner(options).run();\n    }\n\n    // benchmarks omitted\n}\n</code></pre>\n<h3>Option 2 - Install JMH Plugin</h3>\n<p>If you're using IntelliJ, install the <a href=\"https://github.com/artyushov/idea-jmh-plugin\" rel=\"noreferrer\">JMH Java Microharness Benchmark Plugin</a> from the <code>Preferences &gt; Plugins</code> section, then you can omit your <code>main</code> method altogether and IntelliJ will give you a run button next to your class name:</p>\n<p><a href=\"https://i.stack.imgur.com/eORsY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eORsY.png\" alt=\"JMH benchmark in IntelliJ\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11187627,"reputation":418,"user_id":8209328,"display_name":"Kovsharov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679566495,"creation_date":1679566495,"answer_id":75821724,"question_id":38056899,"body_markdown":"If you are getting this error using the Intelij Idea&#39;s [JMH Java Microharness Benchmark Plugin](https://plugins.jetbrains.com/plugin/7529-jmh-java-microbenchmark-harness) and you also using Gradle try changing the default running task from Gradle to Intelij Idea. To do this:\r\n\r\n**Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle** \r\n\r\nChange **Build and Run using** to **Intelij IDEA**","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>If you are getting this error using the Intelij Idea's <a href=\"https://plugins.jetbrains.com/plugin/7529-jmh-java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH Java Microharness Benchmark Plugin</a> and you also using Gradle try changing the default running task from Gradle to Intelij Idea. To do this:</p>\n<p><strong>Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</strong></p>\n<p>Change <strong>Build and Run using</strong> to <strong>Intelij IDEA</strong></p>\n"},{"tags":[],"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681816588,"creation_date":1681816588,"answer_id":76043891,"question_id":38056899,"body_markdown":"I tried all the above solution. I ended using [jmh-maven-plugin][1]:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;pw.krejci&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jmh-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nand I run it with:\r\n\r\n```\r\nmvn clean install jmh:benchmark\r\n```\r\n\r\nIt seems that it does *not* require exec-maven-plugin, maven-compiler-plugin or maven-shade-plugin.\r\n\r\n**Notice** that the benchmarks must be in the **test package**.\r\n\r\n\r\n\r\n  [1]: https://github.com/metlos/jmh-maven-plugin","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>I tried all the above solution. I ended using <a href=\"https://github.com/metlos/jmh-maven-plugin\" rel=\"nofollow noreferrer\">jmh-maven-plugin</a>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;pw.krejci&lt;/groupId&gt;\n    &lt;artifactId&gt;jmh-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.2.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and I run it with:</p>\n<pre><code>mvn clean install jmh:benchmark\n</code></pre>\n<p>It seems that it does <em>not</em> require exec-maven-plugin, maven-compiler-plugin or maven-shade-plugin.</p>\n<p><strong>Notice</strong> that the benchmarks must be in the <strong>test package</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16211805,"reputation":565,"user_id":11705601,"display_name":"Zach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685035289,"creation_date":1685035289,"answer_id":76334847,"question_id":38056899,"body_markdown":"Here&#39;s everything I had to add to `pom.xml` fix mine.  \r\nThis snippet ended up pretty close to [Ishaq&#39;s answer](https://stackoverflow.com/a/62983884/11705601) minus a few extras and name-specifics.  \r\nI hope this is just a cleaner and easier to readily-use answer. \r\n\r\n```xml\r\n  &lt;properties&gt;\r\n    &lt;jmh.version&gt;1.36&lt;/jmh.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n      &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;finalName&gt;benchmarks&lt;/finalName&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer\r\n                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;org.openjdk.jmh.Main&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>Here's everything I had to add to <code>pom.xml</code> fix mine.<br />\nThis snippet ended up pretty close to <a href=\"https://stackoverflow.com/a/62983884/11705601\">Ishaq's answer</a> minus a few extras and name-specifics.<br />\nI hope this is just a cleaner and easier to readily-use answer.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;properties&gt;\n    &lt;jmh.version&gt;1.36&lt;/jmh.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n      &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\n      &lt;version&gt;${jmh.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n      &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n      &lt;version&gt;${jmh.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;finalName&gt;benchmarks&lt;/finalName&gt;\n              &lt;transformers&gt;\n                &lt;transformer\n                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;org.openjdk.jmh.Main&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":8511146,"reputation":903,"user_id":6381145,"display_name":"riva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30797,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"accepted_answer_id":38071366,"answer_count":10,"score":57,"last_activity_date":1694413840,"creation_date":1467038566,"question_id":38056899,"body_markdown":"I&#39;m not able to run simple JMH benchmark inside eclipse.\r\nMaven dependencies:\r\n\r\n```xml\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.12&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.12&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n```\r\n\r\n**Java code:**\r\n\r\n```java\r\n    public class BTest {\r\n    \t@Benchmark\r\n        public void test() {\r\n    \t\t// todo\r\n        }\r\n    \r\n        public static void main(String[] args) throws RunnerException {\r\n            Options opt = new OptionsBuilder()\r\n            \t\t .include(BTest.class.getSimpleName())\r\n            \t      .build();\r\n    \r\n    \t\tnew Runner(opt).run();\r\n        }\r\n    }\r\n```\r\n\r\n**Result of run:**\r\n\r\n```\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: ERROR: Unable\r\n&gt; to find the resource: /META-INF/BenchmarkList \tat\r\n&gt; org.openjdk.jmh.runner.AbstractResourceReader.getReaders(AbstractResourceReader.java:96)\r\n&gt; \tat org.openjdk.jmh.runner.BenchmarkList.find(BenchmarkList.java:104)\r\n&gt; \tat org.openjdk.jmh.runner.Runner.internalRun(Runner.java:256) \tat\r\n&gt; org.openjdk.jmh.runner.Runner.run(Runner.java:206) \tat\r\n&gt; com.test.BTest.main(BTest.java:24)\r\n```\r\n\r\n\r\nMaybe the problem is, that I&#39;m running it from eclipse. ","title":"JMH Unable to find the resource: /META-INF/BenchmarkList","body":"<p>I'm not able to run simple JMH benchmark inside eclipse.\nMaven dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n                &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\n                &lt;version&gt;1.12&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n                &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n                &lt;version&gt;1.12&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p><strong>Java code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class BTest {\n        @Benchmark\n        public void test() {\n            // todo\n        }\n    \n        public static void main(String[] args) throws RunnerException {\n            Options opt = new OptionsBuilder()\n                     .include(BTest.class.getSimpleName())\n                      .build();\n    \n            new Runner(opt).run();\n        }\n    }\n</code></pre>\n<p><strong>Result of run:</strong></p>\n<pre><code>&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: ERROR: Unable\n&gt; to find the resource: /META-INF/BenchmarkList     at\n&gt; org.openjdk.jmh.runner.AbstractResourceReader.getReaders(AbstractResourceReader.java:96)\n&gt;   at org.openjdk.jmh.runner.BenchmarkList.find(BenchmarkList.java:104)\n&gt;   at org.openjdk.jmh.runner.Runner.internalRun(Runner.java:256)   at\n&gt; org.openjdk.jmh.runner.Runner.run(Runner.java:206)    at\n&gt; com.test.BTest.main(BTest.java:24)\n</code></pre>\n<p>Maybe the problem is, that I'm running it from eclipse.</p>\n"},{"tags":["java","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1300474614,"creation_date":1300474614,"answer_id":5356585,"question_id":5350476,"body_markdown":"The first thing you might want to try is using one, or both, of the following system properties:\r\n\r\nClient:\r\n\r\n    com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true\r\n\r\nServer:\r\n\r\n    com.sun.xml.ws.transport.http.HttpAdapter.dump=true","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>The first thing you might want to try is using one, or both, of the following system properties:</p>\n\n<p>Client:</p>\n\n<pre><code>com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>com.sun.xml.ws.transport.http.HttpAdapter.dump=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":334496,"reputation":2097,"user_id":660990,"accept_rate":70,"display_name":"lpinto.eu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301475847,"creation_date":1301475847,"answer_id":5484244,"question_id":5350476,"body_markdown":"I think that what you need is an handler, see:\r\nhttp://jax-ws.java.net/articles/handlers_introduction.html\r\n&lt;br/&gt;\r\nWith handler you can intercept web service call, and have access to all the SOAP message.","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>I think that what you need is an handler, see:\n<a href=\"http://jax-ws.java.net/articles/handlers_introduction.html\" rel=\"nofollow\">http://jax-ws.java.net/articles/handlers_introduction.html</a>\n<br/>\nWith handler you can intercept web service call, and have access to all the SOAP message.</p>\n"},{"tags":[],"owner":{"account_id":736791,"reputation":361,"user_id":705821,"display_name":"Torsten"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1359402822,"creation_date":1302690482,"answer_id":5647686,"question_id":5350476,"body_markdown":"Use\r\n\r\n`com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=true`\r\n\r\nand\r\n\r\n`com.sun.xml.internal.ws.transport.http.HttpAdapter.dump=true`\r\n\r\ninstead (note the &quot;internal&quot; in the package name), this did the trick for me.\r\n\r\nCheers,\r\nTorsten","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>Use</p>\n\n<p><code>com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=true</code></p>\n\n<p>and</p>\n\n<p><code>com.sun.xml.internal.ws.transport.http.HttpAdapter.dump=true</code></p>\n\n<p>instead (note the \"internal\" in the package name), this did the trick for me.</p>\n\n<p>Cheers,\nTorsten</p>\n"},{"tags":[],"owner":{"account_id":98180,"reputation":612,"user_id":265916,"accept_rate":62,"display_name":"thirdy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322045699,"creation_date":1322045699,"answer_id":8240955,"question_id":5350476,"body_markdown":"In addition to Torsten&#39;s answer\r\n\r\n&gt; com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=true\r\n\r\nMake sure that you set this before instantiating the WebServiceClient object (the one that extends Service)","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>In addition to Torsten's answer</p>\n\n<blockquote>\n  <p>com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=true</p>\n</blockquote>\n\n<p>Make sure that you set this before instantiating the WebServiceClient object (the one that extends Service)</p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1509976315,"creation_date":1371120591,"answer_id":17085165,"question_id":5350476,"body_markdown":"Just thought I would mention this:\r\n\r\n## The question when to use the property name with the `internal` in it and when not ?\r\n\r\nIf you read the [Metro Guide][1] it will tell you to use:\r\n\r\non client:\r\n\r\n&lt;!-- language: text --&gt;\r\n\r\n    com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true\r\n\r\non server:\r\n\r\n    com.sun.xml.ws.transport.http.HttpAdapter.dump=true\r\n\r\n\r\nHowever: It seems to me that when JAX-WS RI library got included as standard with the JDK (this was with Java 6) then Sun had to rename the property name to include &#39;internal&#39;. So if you are using JAX-WS RI as it comes bundled with the JDK, then you *must* be sure to add the `internal` to the property name. Otherwise it will not work. In other words you need to use:\r\n\r\non client:\r\n\r\n    com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=true\r\n\r\non server:\r\n\r\n    com.sun.xml.internal.ws.transport.http.HttpAdapter.dump=true\r\n\r\n\r\nOn the other hand if you are using a standalone version of JAX-WS RI (or of Metro as a whole) then I would guess you should use the property name *without* the `internal`.\r\n\r\nI&#39;ll be glad if someone has inside knowledge on this and can say if this is true or not.\r\n\r\n\r\n  [1]: https://javaee.github.io/metro/doc/user-guide/ch02.html#dumping-soap-messages-on-client","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>Just thought I would mention this:</p>\n\n<h2>The question when to use the property name with the <code>internal</code> in it and when not ?</h2>\n\n<p>If you read the <a href=\"https://javaee.github.io/metro/doc/user-guide/ch02.html#dumping-soap-messages-on-client\" rel=\"noreferrer\">Metro Guide</a> it will tell you to use:</p>\n\n<p>on client:</p>\n\n<pre><code>com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true\n</code></pre>\n\n<p>on server:</p>\n\n<pre><code>com.sun.xml.ws.transport.http.HttpAdapter.dump=true\n</code></pre>\n\n<p>However: It seems to me that when JAX-WS RI library got included as standard with the JDK (this was with Java 6) then Sun had to rename the property name to include 'internal'. So if you are using JAX-WS RI as it comes bundled with the JDK, then you <em>must</em> be sure to add the <code>internal</code> to the property name. Otherwise it will not work. In other words you need to use:</p>\n\n<p>on client:</p>\n\n<pre><code>com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=true\n</code></pre>\n\n<p>on server:</p>\n\n<pre><code>com.sun.xml.internal.ws.transport.http.HttpAdapter.dump=true\n</code></pre>\n\n<p>On the other hand if you are using a standalone version of JAX-WS RI (or of Metro as a whole) then I would guess you should use the property name <em>without</em> the <code>internal</code>.</p>\n\n<p>I'll be glad if someone has inside knowledge on this and can say if this is true or not.</p>\n"},{"tags":[],"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414412026,"creation_date":1414412026,"answer_id":26587339,"question_id":5350476,"body_markdown":"This worked for me: \r\n\r\n    -Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>This worked for me: </p>\n\n<pre><code>-Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6142029,"reputation":21,"user_id":4789150,"display_name":"vinodh nair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429046563,"creation_date":1429043576,"answer_id":29636894,"question_id":5350476,"body_markdown":"If you working with Jboss 6.1  and you want to print the logs for the JAX-WS generated classes request to the SOAP web service, \r\nopen the file `/home/oracle/jboss-eap-6.1/bin/standalone.sh`\r\n**note**: please go where you have installed jboss\r\n\r\nYou will find something like this \r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -agentlib:jdwp=transport=dt_socket,address=$DEBUG_PORT,server=y,suspend=n&quot;\r\n\r\n\r\nChange it to the one shown below \r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true -agentlib:jdwp=transport=dt_socket,address=$DEBUG_PORT,server=y,suspend=n&quot;\r\n\r\n\r\nAlso make sure you enable debug \r\n\r\n    DEBUG_MODE=true\r\n\r\n","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>If you working with Jboss 6.1  and you want to print the logs for the JAX-WS generated classes request to the SOAP web service, \nopen the file <code>/home/oracle/jboss-eap-6.1/bin/standalone.sh</code>\n<strong>note</strong>: please go where you have installed jboss</p>\n\n<p>You will find something like this </p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -agentlib:jdwp=transport=dt_socket,address=$DEBUG_PORT,server=y,suspend=n\"\n</code></pre>\n\n<p>Change it to the one shown below </p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true -agentlib:jdwp=transport=dt_socket,address=$DEBUG_PORT,server=y,suspend=n\"\n</code></pre>\n\n<p>Also make sure you enable debug </p>\n\n<pre><code>DEBUG_MODE=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1599156690,"creation_date":1552479686,"answer_id":55141793,"question_id":5350476,"body_markdown":"It is OK to go with system properties (here is Gradle DSL for `test` task):\r\n\r\n    systemProperty &quot;com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;\r\n    systemProperty &quot;com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;\r\n    systemProperty &quot;com.sun.xml.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;\r\n    systemProperty &quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;\r\n    systemProperty &quot;com.sun.xml.ws.transport.http.HttpAdapter.dumpTreshold&quot;, &quot;99999&quot;\r\n    systemProperty &quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold&quot;, &quot;99999&quot;\r\n\r\nbut those settings are global and may have high volume to enable them on PROD... It is not fun to add filters to your logging framework bound to business logic if you want to reduce volume of XML logging.\r\n\r\nDetails on capturing req/rsp bodies in WS handlers are in my answer https://stackoverflow.com/questions/12013476/how-can-i-pass-data-back-from-a-soap-handler-to-a-webservice-client/\r\n\r\nHere is an important part:\r\n\r\n    public class MsgLogger implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n\r\n        public static String REQEST_BODY = &quot;com.evil.request&quot;;\r\n        public static String RESPONSE_BODY = &quot;com.evil.response&quot;;\r\n\r\n        @Override\r\n        public Set&lt;QName&gt; getHeaders() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public boolean handleMessage(SOAPMessageContext context) {\r\n            SOAPMessage msg = context.getMessage();\r\n            Boolean beforeRequest = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n            try {\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream(32_000);\r\n                context.getMessage().writeTo(baos);\r\n                String key = beforeRequest ? REQEST_BODY : RESPONSE_BODY;\r\n                context.put(key, baos.toString(&quot;UTF-8&quot;));\r\n                context.setScope(key, MessageContext.Scope.APPLICATION);\r\n            } catch (SOAPException | IOException e) { }\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean handleFault(SOAPMessageContext context) {\r\n            return handleMessage(context);\r\n        }\r\n\r\n        @Override\r\n        public void close(MessageContext context) { }\r\n    }\r\n\r\nTo register handler and use preserved properties:\r\n\r\n    BindingProvider provider = (BindingProvider) port;\r\n    List&lt;Handler&gt; handlerChain = provider.getBinding().getHandlerChain();\r\n    handlerChain.add(new MsgLogger());\r\n    provider.getBinding().setHandlerChain(handlerChain);\r\n\r\n    Req req = ...;\r\n    Rsp rsp = port.serviceCall(req); // call WS Port\r\n\r\n    // Access saved message bodies:\r\n    Map&lt;String, Object&gt; responseContext = provider.getResponseContext();\r\n    String reqBody = (String) responseContext.get(MsgLogger.REQEST_BODY);\r\n    String rspBody = (String) responseContext.get(MsgLogger.RESPONSE_BODY);\r\n\r\nWith this solution (it is only the skeleton, proper error handling / edge cases is up to you) you decide to log later when you&#39;ve got response.","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>It is OK to go with system properties (here is Gradle DSL for <code>test</code> task):</p>\n<pre><code>systemProperty &quot;com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;\nsystemProperty &quot;com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;\nsystemProperty &quot;com.sun.xml.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;\nsystemProperty &quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;\nsystemProperty &quot;com.sun.xml.ws.transport.http.HttpAdapter.dumpTreshold&quot;, &quot;99999&quot;\nsystemProperty &quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold&quot;, &quot;99999&quot;\n</code></pre>\n<p>but those settings are global and may have high volume to enable them on PROD... It is not fun to add filters to your logging framework bound to business logic if you want to reduce volume of XML logging.</p>\n<p>Details on capturing req/rsp bodies in WS handlers are in my answer <a href=\"https://stackoverflow.com/questions/12013476/how-can-i-pass-data-back-from-a-soap-handler-to-a-webservice-client/\">How can I pass data back from a SOAP handler to a webservice client?</a></p>\n<p>Here is an important part:</p>\n<pre><code>public class MsgLogger implements SOAPHandler&lt;SOAPMessageContext&gt; {\n\n    public static String REQEST_BODY = &quot;com.evil.request&quot;;\n    public static String RESPONSE_BODY = &quot;com.evil.response&quot;;\n\n    @Override\n    public Set&lt;QName&gt; getHeaders() {\n        return null;\n    }\n\n    @Override\n    public boolean handleMessage(SOAPMessageContext context) {\n        SOAPMessage msg = context.getMessage();\n        Boolean beforeRequest = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n        try {\n            ByteArrayOutputStream baos = new ByteArrayOutputStream(32_000);\n            context.getMessage().writeTo(baos);\n            String key = beforeRequest ? REQEST_BODY : RESPONSE_BODY;\n            context.put(key, baos.toString(&quot;UTF-8&quot;));\n            context.setScope(key, MessageContext.Scope.APPLICATION);\n        } catch (SOAPException | IOException e) { }\n        return true;\n    }\n\n    @Override\n    public boolean handleFault(SOAPMessageContext context) {\n        return handleMessage(context);\n    }\n\n    @Override\n    public void close(MessageContext context) { }\n}\n</code></pre>\n<p>To register handler and use preserved properties:</p>\n<pre><code>BindingProvider provider = (BindingProvider) port;\nList&lt;Handler&gt; handlerChain = provider.getBinding().getHandlerChain();\nhandlerChain.add(new MsgLogger());\nprovider.getBinding().setHandlerChain(handlerChain);\n\nReq req = ...;\nRsp rsp = port.serviceCall(req); // call WS Port\n\n// Access saved message bodies:\nMap&lt;String, Object&gt; responseContext = provider.getResponseContext();\nString reqBody = (String) responseContext.get(MsgLogger.REQEST_BODY);\nString rspBody = (String) responseContext.get(MsgLogger.RESPONSE_BODY);\n</code></pre>\n<p>With this solution (it is only the skeleton, proper error handling / edge cases is up to you) you decide to log later when you've got response.</p>\n"}],"owner":{"account_id":337520,"reputation":345,"user_id":665837,"accept_rate":50,"display_name":"user665837"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61513,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":8,"score":33,"last_activity_date":1694413389,"creation_date":1300442962,"question_id":5350476,"body_markdown":"I want to log raw soap post requests if there are any errors , I am using JAX-WS. Any help will be appreciated.\r\n\r\nIs there an easy way (aka: not using a proxy) to get access to the raw request/response XML for a webservice published with JAX-WS reference implementation (the one included in JDK 1.5 and better) only when exception occurs in response? I want to log raw SOAP reuest so that I can test it thorugh any webservice client at a later stage","title":"Tracing XML request/responses with JAX-WS when error occurs","body":"<p>I want to log raw soap post requests if there are any errors , I am using JAX-WS. Any help will be appreciated.</p>\n\n<p>Is there an easy way (aka: not using a proxy) to get access to the raw request/response XML for a webservice published with JAX-WS reference implementation (the one included in JDK 1.5 and better) only when exception occurs in response? I want to log raw SOAP reuest so that I can test it thorugh any webservice client at a later stage</p>\n"},{"tags":["java","maven","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1694413201,"creation_date":1412010349,"answer_id":26105204,"question_id":26103628,"body_markdown":"You can have multiple `&lt;execution&gt;` elements in any Maven plugin configuration, e.g.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n      &lt;version&gt;3.18.6&lt;/version&gt;\r\n    \r\n      &lt;configuration&gt;\r\n        &lt;!-- Optional, shared configuration --&gt;\r\n      &lt;/configuration&gt;\r\n\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;first-generation&lt;/id&gt;\r\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n          &lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;!-- jOOQ configuration here --&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;execution&gt;\r\n          &lt;id&gt;second-generation&lt;/id&gt;\r\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n          &lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;!-- jOOQ configuration here --&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"jooq-codegen-maven plugin for different db at the same time","body":"<p>You can have multiple <code>&lt;execution&gt;</code> elements in any Maven plugin configuration, e.g.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n  &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n  &lt;version&gt;3.18.6&lt;/version&gt;\n\n  &lt;configuration&gt;\n    &lt;!-- Optional, shared configuration --&gt;\n  &lt;/configuration&gt;\n\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;first-generation&lt;/id&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;!-- jOOQ configuration here --&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n\n    &lt;execution&gt;\n      &lt;id&gt;second-generation&lt;/id&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;!-- jOOQ configuration here --&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5043601,"reputation":332,"user_id":4050284,"accept_rate":60,"display_name":"Khrystyna Makar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26105204,"answer_count":1,"score":4,"last_activity_date":1694413201,"creation_date":1412005078,"question_id":26103628,"body_markdown":"I use jOOQ and MySQL DB in my application. For integration tests I use H2 database and there is a problem. Is there some way to run jooq-codegen-maven plugin twice? I found some [maven example] [1] for this case. However, in two different cases, I must use two different dependencies. Can I somehow to include dependency in execution?\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/mini/guide-configuring-plugins.html#Configuring_Build_Plugins","title":"jooq-codegen-maven plugin for different db at the same time","body":"<p>I use jOOQ and MySQL DB in my application. For integration tests I use H2 database and there is a problem. Is there some way to run jooq-codegen-maven plugin twice? I found some <a href=\"http://maven.apache.org/guides/mini/guide-configuring-plugins.html#Configuring_Build_Plugins\" rel=\"noreferrer\">maven example</a> for this case. However, in two different cases, I must use two different dependencies. Can I somehow to include dependency in execution?</p>\n"},{"tags":["java","datetime","java-8","milliseconds","java-time"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":8,"creation_date":1401404357,"post_id":23944370,"comment_id":36882949,"body_markdown":"What&#39;s wrong with `System.currentTimeMillis()`?","body":"What&#39;s wrong with <code>System.currentTimeMillis()</code>?"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":39,"creation_date":1401404385,"post_id":23944370,"comment_id":36882957,"body_markdown":"@DavidWallace He&#39;s trying to get the time of a Date, not the current time?","body":"@DavidWallace He&#39;s trying to get the time of a Date, not the current time?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1401404429,"post_id":23944370,"comment_id":36882976,"body_markdown":"&quot;... a way to get current milliseconds ...&quot;","body":"&quot;... a way to get current milliseconds ...&quot;"},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1401404528,"post_id":23944370,"comment_id":36883001,"body_markdown":"milliseconds counting from 1-1-1970. I was wandering if there is a method to get them using the new classes of Java 8 LocalDate, LocalTime and LocalDateTime, cause i didn&#39;t found one.","body":"milliseconds counting from 1-1-1970. I was wandering if there is a method to get them using the new classes of Java 8 LocalDate, LocalTime and LocalDateTime, cause i didn&#39;t found one."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1401404754,"post_id":23944370,"comment_id":36883075,"body_markdown":"My understanding of the purpose for those classes is that it is a &quot;human-focused&quot; understanding of time, and `currentTimeMillis` would be irrelevant in that context.  Think Calendar + Wall-clock with really good precision, and no concerns about time zones and locality.  So there&#39;s no way to get back to &quot;UTC Time&quot; from a LocalTime","body":"My understanding of the purpose for those classes is that it is a &quot;human-focused&quot; understanding of time, and <code>currentTimeMillis</code> would be irrelevant in that context.  Think Calendar + Wall-clock with really good precision, and no concerns about time zones and locality.  So there&#39;s no way to get back to &quot;UTC Time&quot; from a LocalTime"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664317897,"post_id":23944370,"comment_id":130443123,"body_markdown":"Similar Question: [*How to covert LocalDateTime to a Long?*](https://stackoverflow.com/q/73870816/642706) with [one good Answer](https://stackoverflow.com/a/73871279/642706).","body":"Similar Question: <a href=\"https://stackoverflow.com/q/73870816/642706\"><i>How to covert LocalDateTime to a Long?</i></a> with <a href=\"https://stackoverflow.com/a/73871279/642706\">one good Answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1419282552,"creation_date":1401404470,"answer_id":23944399,"question_id":23944370,"body_markdown":"To get the current time in milliseconds (since the epoch), use `System.currentTimeMillis()`.","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>To get the current time in milliseconds (since the epoch), use <code>System.currentTimeMillis()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":2,"up_vote_count":447,"is_accepted":true,"score":445,"last_activity_date":1404773508,"creation_date":1401414415,"answer_id":23945792,"question_id":23944370,"body_markdown":"I&#39;m not entirely sure what you mean by &quot;current milliseconds&quot; but I&#39;ll assume it&#39;s the number of milliseconds since the &quot;epoch,&quot; namely midnight, January 1, 1970 UTC.\r\n\r\nIf you want to find the number of milliseconds since the epoch *right now,* then use `System.currentTimeMillis()` as [Anubian Noob has pointed out][1]. If so, there&#39;s no reason to use any of the new java.time APIs to do this.\r\n\r\nHowever, maybe you already have a `LocalDateTime` or similar object from somewhere and you want to convert it to milliseconds since the epoch. It&#39;s not possible to do that directly, since the `LocalDateTime` family of objects has no notion of what time zone they&#39;re in. Thus time zone information needs to be supplied to find the time relative to the epoch, which is in UTC.\r\n\r\nSuppose you have a `LocalDateTime` like this:\r\n\r\n    LocalDateTime ldt = LocalDateTime.of(2014, 5, 29, 18, 41, 16);\r\n\r\nYou need to apply the time zone information, giving a `ZonedDateTime`. I&#39;m in the same time zone as Los Angeles, so I&#39;d do something like this:\r\n\r\n    ZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n\r\nOf course, this makes assumptions about the time zone. And there are edge cases that can occur, for example, if the local time happens to name a time near the Daylight Saving Time (Summer Time) transition. Let&#39;s set these aside, but you should be aware that these cases exist.\r\n\r\nAnyway, if you can get a valid `ZonedDateTime`, you can convert this to the number of milliseconds since the epoch, like so:\r\n\r\n    long millis = zdt.toInstant().toEpochMilli();\r\n\r\n  [1]: https://stackoverflow.com/a/23944399/1441122","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>I'm not entirely sure what you mean by \"current milliseconds\" but I'll assume it's the number of milliseconds since the \"epoch,\" namely midnight, January 1, 1970 UTC.</p>\n\n<p>If you want to find the number of milliseconds since the epoch <em>right now,</em> then use <code>System.currentTimeMillis()</code> as <a href=\"https://stackoverflow.com/a/23944399/1441122\">Anubian Noob has pointed out</a>. If so, there's no reason to use any of the new java.time APIs to do this.</p>\n\n<p>However, maybe you already have a <code>LocalDateTime</code> or similar object from somewhere and you want to convert it to milliseconds since the epoch. It's not possible to do that directly, since the <code>LocalDateTime</code> family of objects has no notion of what time zone they're in. Thus time zone information needs to be supplied to find the time relative to the epoch, which is in UTC.</p>\n\n<p>Suppose you have a <code>LocalDateTime</code> like this:</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.of(2014, 5, 29, 18, 41, 16);\n</code></pre>\n\n<p>You need to apply the time zone information, giving a <code>ZonedDateTime</code>. I'm in the same time zone as Los Angeles, so I'd do something like this:</p>\n\n<pre><code>ZonedDateTime zdt = ldt.atZone(ZoneId.of(\"America/Los_Angeles\"));\n</code></pre>\n\n<p>Of course, this makes assumptions about the time zone. And there are edge cases that can occur, for example, if the local time happens to name a time near the Daylight Saving Time (Summer Time) transition. Let's set these aside, but you should be aware that these cases exist.</p>\n\n<p>Anyway, if you can get a valid <code>ZonedDateTime</code>, you can convert this to the number of milliseconds since the epoch, like so:</p>\n\n<pre><code>long millis = zdt.toInstant().toEpochMilli();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1590691508,"creation_date":1424812328,"answer_id":28706357,"question_id":23944370,"body_markdown":"What I do so I don&#39;t specify a time zone is,\r\n \r\n    System.out.println(&quot;ldt &quot; + LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli());\r\n    System.out.println(&quot;ctm &quot; + System.currentTimeMillis());\r\n\r\n\r\ngives \r\n\r\n    ldt 1424812121078 \r\n    ctm 1424812121281\r\nAs you can see the numbers are the same except for a small execution time.\r\n\r\nJust in case you don&#39;t like System.currentTimeMillis, use `Instant.now().toEpochMilli()`  ","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>What I do so I don't specify a time zone is,</p>\n\n<pre><code>System.out.println(\"ldt \" + LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli());\nSystem.out.println(\"ctm \" + System.currentTimeMillis());\n</code></pre>\n\n<p>gives </p>\n\n<pre><code>ldt 1424812121078 \nctm 1424812121281\n</code></pre>\n\n<p>As you can see the numbers are the same except for a small execution time.</p>\n\n<p>Just in case you don't like System.currentTimeMillis, use <code>Instant.now().toEpochMilli()</code>  </p>\n"},{"tags":[],"owner":{"account_id":454394,"reputation":4041,"user_id":851951,"accept_rate":32,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1431532849,"creation_date":1431532849,"answer_id":30219956,"question_id":23944370,"body_markdown":"To avoid ZoneId you can do:\r\n\r\n    LocalDateTime date = LocalDateTime.of(1970, 1, 1, 0, 0);\r\n\r\n    System.out.println(&quot;Initial Epoch (TimeInMillis): &quot; + date.toInstant(ZoneOffset.ofTotalSeconds(0)).toEpochMilli());\r\n\r\nGetting 0 as value, that&#39;s right!","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>To avoid ZoneId you can do:</p>\n\n<pre><code>LocalDateTime date = LocalDateTime.of(1970, 1, 1, 0, 0);\n\nSystem.out.println(\"Initial Epoch (TimeInMillis): \" + date.toInstant(ZoneOffset.ofTotalSeconds(0)).toEpochMilli());\n</code></pre>\n\n<p>Getting 0 as value, that's right!</p>\n"},{"tags":[],"owner":{"account_id":6761181,"reputation":1249,"user_id":5207900,"display_name":"Marteng"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1557219945,"creation_date":1518427463,"answer_id":48743055,"question_id":23944370,"body_markdown":"Since Java 8 you can call `java.time.Instant.toEpochMilli()`. \r\n\r\nFor example the call\r\n\r\n    final long currentTimeJava8 = Instant.now().toEpochMilli();\r\n\r\ngives you the same results as\r\n\r\n    final long currentTimeJava1 = System.currentTimeMillis();","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>Since Java 8 you can call <code>java.time.Instant.toEpochMilli()</code>. </p>\n\n<p>For example the call</p>\n\n<pre><code>final long currentTimeJava8 = Instant.now().toEpochMilli();\n</code></pre>\n\n<p>gives you the same results as</p>\n\n<pre><code>final long currentTimeJava1 = System.currentTimeMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5664877,"reputation":314,"user_id":4481302,"display_name":"Nalam"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1566749212,"creation_date":1530263304,"answer_id":51098166,"question_id":23944370,"body_markdown":"You can use `java.sql.Timestamp` also to get milliseconds.\r\n\r\n    LocalDateTime now = LocalDateTime.now();\r\n    long milliSeconds = Timestamp.valueOf(now).getTime();\r\n    System.out.println(&quot;MilliSeconds: &quot;+milliSeconds);\r\n\r\n","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>You can use <code>java.sql.Timestamp</code> also to get milliseconds.</p>\n\n<pre><code>LocalDateTime now = LocalDateTime.now();\nlong milliSeconds = Timestamp.valueOf(now).getTime();\nSystem.out.println(\"MilliSeconds: \"+milliSeconds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531904699,"creation_date":1531904699,"answer_id":51397889,"question_id":23944370,"body_markdown":"If you have a Java 8 Clock, then you can use `clock.millis()` (although it recommends you use `clock.instant()` to get a Java 8 Instant, as it&#39;s more accurate).\r\n\r\nWhy would you use a Java 8 clock? So in your DI framework you can create a Clock bean:\r\n\r\n    @Bean\r\n    public Clock getClock() {\r\n        return Clock.systemUTC();\r\n    }\r\n\r\nand then in your tests you can easily Mock it:\r\n\r\n    @MockBean private Clock clock;\r\n\r\nor you can have a different bean:\r\n\r\n    @Bean\r\n    public Clock getClock() {\r\n        return Clock.fixed(instant, zone);\r\n    }\r\n\r\nwhich helps with tests that assert dates and times immeasurably.","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>If you have a Java 8 Clock, then you can use <code>clock.millis()</code> (although it recommends you use <code>clock.instant()</code> to get a Java 8 Instant, as it's more accurate).</p>\n\n<p>Why would you use a Java 8 clock? So in your DI framework you can create a Clock bean:</p>\n\n<pre><code>@Bean\npublic Clock getClock() {\n    return Clock.systemUTC();\n}\n</code></pre>\n\n<p>and then in your tests you can easily Mock it:</p>\n\n<pre><code>@MockBean private Clock clock;\n</code></pre>\n\n<p>or you can have a different bean:</p>\n\n<pre><code>@Bean\npublic Clock getClock() {\n    return Clock.fixed(instant, zone);\n}\n</code></pre>\n\n<p>which helps with tests that assert dates and times immeasurably.</p>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566749097,"creation_date":1566749097,"answer_id":57647604,"question_id":23944370,"body_markdown":"      default LocalDateTime getDateFromLong(long timestamp) {\r\n        try {\r\n            return LocalDateTime.ofInstant(Instant.ofEpochMilli(timestamp), ZoneOffset.UTC);\r\n        } catch (DateTimeException tdException) {\r\n          //  throw new \r\n        }\r\n    }\r\n\r\n    default Long getLongFromDateTime(LocalDateTime dateTime) {\r\n        return dateTime.atOffset(ZoneOffset.UTC).toInstant().toEpochMilli();\r\n    }","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<pre><code>  default LocalDateTime getDateFromLong(long timestamp) {\n    try {\n        return LocalDateTime.ofInstant(Instant.ofEpochMilli(timestamp), ZoneOffset.UTC);\n    } catch (DateTimeException tdException) {\n      //  throw new \n    }\n}\n\ndefault Long getLongFromDateTime(LocalDateTime dateTime) {\n    return dateTime.atOffset(ZoneOffset.UTC).toInstant().toEpochMilli();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1587130665,"creation_date":1584487984,"answer_id":60731636,"question_id":23944370,"body_markdown":"Why didn&#39;t anyone mentioned the method `LocalDateTime.toEpochSecond()`:\r\n\r\n    LocalDateTime localDateTime = ... // whatever e.g. LocalDateTime.now()\r\n    long time2epoch = localDateTime.toEpochSecond(ZoneOffset.UTC);\r\n\r\nThis seems way shorter that many suggested answers above...","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>Why didn't anyone mentioned the method <code>LocalDateTime.toEpochSecond()</code>:</p>\n\n<pre><code>LocalDateTime localDateTime = ... // whatever e.g. LocalDateTime.now()\nlong time2epoch = localDateTime.toEpochSecond(ZoneOffset.UTC);\n</code></pre>\n\n<p>This seems way shorter that many suggested answers above...</p>\n"},{"tags":[],"owner":{"account_id":5393015,"reputation":1905,"user_id":4294974,"accept_rate":50,"display_name":"Md. Kamruzzaman"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1608029952,"creation_date":1608028951,"answer_id":65304278,"question_id":23944370,"body_markdown":"You can try this:\r\n```\r\nlong diff = LocalDateTime.now().atZone(ZoneOffset.UTC).toInstant().toEpochMilli();\r\n```","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>You can try this:</p>\n<pre><code>long diff = LocalDateTime.now().atZone(ZoneOffset.UTC).toInstant().toEpochMilli();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613932440,"creation_date":1613932440,"answer_id":66305713,"question_id":23944370,"body_markdown":"Date and time as String to Long (millis):\r\n\r\n    String dateTimeString = &quot;2020-12-12T14:34:18.000Z&quot;;\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter\r\n                    .ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ENGLISH);\r\n\r\n    LocalDateTime localDateTime = LocalDateTime\r\n            .parse(dateTimeString, formatter);\r\n\r\n    Long dateTimeMillis = localDateTime\r\n            .atZone(ZoneId.systemDefault())\r\n            .toInstant()\r\n            .toEpochMilli();","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>Date and time as String to Long (millis):</p>\n<pre><code>String dateTimeString = &quot;2020-12-12T14:34:18.000Z&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter\n                .ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ENGLISH);\n\nLocalDateTime localDateTime = LocalDateTime\n        .parse(dateTimeString, formatter);\n\nLong dateTimeMillis = localDateTime\n        .atZone(ZoneId.systemDefault())\n        .toInstant()\n        .toEpochMilli();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13515736,"reputation":101,"user_id":9750369,"display_name":"Marina DU"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616059287,"creation_date":1616059287,"answer_id":66688111,"question_id":23944370,"body_markdown":"For LocalDateTime I do it this way:\r\n\r\n    LocalDateTime.of(2021,3,18,7,17,24,341000000)\r\n        .toInstant(OffsetDateTime.now().getOffset())\r\n        .toEpochMilli()","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>For LocalDateTime I do it this way:</p>\n<pre><code>LocalDateTime.of(2021,3,18,7,17,24,341000000)\n    .toInstant(OffsetDateTime.now().getOffset())\n    .toEpochMilli()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790177,"reputation":166,"user_id":1630783,"display_name":"JianrongChen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628850085,"creation_date":1628850085,"answer_id":68770594,"question_id":23944370,"body_markdown":"I think this is more simpler:\r\n\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.of(LocalDateTime.now(), ZoneId.systemDefault());\r\n    Assert.assertEquals(System.currentTimeMillis(), zdt.toInstant().toEpochMilli());\r\n\r\nget the millis like System.currentTimeMillis() (from UTC).","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>I think this is more simpler:</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.of(LocalDateTime.now(), ZoneId.systemDefault());\nAssert.assertEquals(System.currentTimeMillis(), zdt.toInstant().toEpochMilli());\n</code></pre>\n<p>get the millis like System.currentTimeMillis() (from UTC).</p>\n"},{"tags":[],"owner":{"account_id":11363645,"reputation":2645,"user_id":8331157,"display_name":"BenjyTec"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694413163,"creation_date":1643919227,"answer_id":70977690,"question_id":23944370,"body_markdown":"In case of `LocalDate`, you can use the `toEpochDay()` method. It returns the number of days since 01/01/1970. That number then can be easily converted to milliseconds:\r\n\r\n    long dateInMillis = TimeUnit.DAYS.toMillis(myLocalDate.toEpochDays());\r\n\r\nDocumentation can be found [here][1].\r\n\r\nIn case of `LocalDateTime`, you can use the `toEpochSecond()` method. It returns the number of seconds since 01/01/1970. That number then can be converted to milliseconds, too:\r\n\r\n    long dateTimeInMillis = TimeUnit.SECONDS.toMillis(myLocalDateTime.toEpochSeconds());\r\n\r\nDocumentation for that is [here][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>In case of <code>LocalDate</code>, you can use the <code>toEpochDay()</code> method. It returns the number of days since 01/01/1970. That number then can be easily converted to milliseconds:</p>\n<pre><code>long dateInMillis = TimeUnit.DAYS.toMillis(myLocalDate.toEpochDays());\n</code></pre>\n<p>Documentation can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In case of <code>LocalDateTime</code>, you can use the <code>toEpochSecond()</code> method. It returns the number of seconds since 01/01/1970. That number then can be converted to milliseconds, too:</p>\n<pre><code>long dateTimeInMillis = TimeUnit.SECONDS.toMillis(myLocalDateTime.toEpochSeconds());\n</code></pre>\n<p>Documentation for that is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581318,"favorite_count":0,"down_vote_count":0,"up_vote_count":420,"accepted_answer_id":23945792,"answer_count":14,"score":420,"last_activity_date":1694413163,"creation_date":1401404278,"question_id":23944370,"body_markdown":"I am wondering if there is a way to get current milliseconds since 1-1-1970 (epoch) using the new `LocalDate`, `LocalTime` or `LocalDateTime` classes of Java 8.\r\n\r\nThe known way is below:  \r\n  \r\n    long currentMilliseconds = new Date().getTime();\r\n  \r\n  or\r\n  \r\n    long currentMilliseconds = System.currentTimeMillis();","title":"How to get milliseconds from LocalDateTime in Java 8","body":"<p>I am wondering if there is a way to get current milliseconds since 1-1-1970 (epoch) using the new <code>LocalDate</code>, <code>LocalTime</code> or <code>LocalDateTime</code> classes of Java 8.</p>\n\n<p>The known way is below:  </p>\n\n<pre><code>long currentMilliseconds = new Date().getTime();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>long currentMilliseconds = System.currentTimeMillis();\n</code></pre>\n"},{"tags":["java","include","jooq","pojo","jooq-codegen"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1694412950,"post_id":77068290,"comment_id":135882483,"body_markdown":"*&quot;i know thats kind of antipattern here&quot;* - Why is it an antipattern?","body":"<i>&quot;i know thats kind of antipattern here&quot;</i> - Why is it an antipattern?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694413152,"creation_date":1694413152,"answer_id":77079290,"question_id":77068290,"body_markdown":"There&#39;s a pending feature request for this:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/5263\r\n\r\nI&#39;m not convinced this will be implemented soon, given how much complexity for little value it will add to the code generator.\r\n\r\nYou can easily implement this on your end by running the code generator twice, though. Once without pojos and once with only pojos. In that case, you can have separate `includes` / `excludes` configurations.\r\n\r\nIf you&#39;re using Maven, you can use `&lt;pluginManagement/&gt;` to configure the common parts. See also: \r\n\r\n- https://stackoverflow.com/a/26105204/521799\r\n\r\n&gt; I cannot use Records anymore because i need to serialize old records to XML file and export them out of DB while &quot;fresh&quot; data remains in DB. Pojos should be best solution for fetching &quot;fresh&quot; data from DB and access old data via deserialization from XML archive while all data together may be presented in GUI in the same way.\r\n\r\nWhy not just use jOOQ&#39;s built-in XML export functionality?\r\n\r\n- https://www.jooq.org/doc/latest/manual/sql-execution/exporting/exporting-xml/","title":"JOOQ - is it possible to set, for which tables i want to generate POJO (different than records)?","body":"<p>There's a pending feature request for this:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/5263\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/5263</a></li>\n</ul>\n<p>I'm not convinced this will be implemented soon, given how much complexity for little value it will add to the code generator.</p>\n<p>You can easily implement this on your end by running the code generator twice, though. Once without pojos and once with only pojos. In that case, you can have separate <code>includes</code> / <code>excludes</code> configurations.</p>\n<p>If you're using Maven, you can use <code>&lt;pluginManagement/&gt;</code> to configure the common parts. See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/26105204/521799\">https://stackoverflow.com/a/26105204/521799</a></li>\n</ul>\n<blockquote>\n<p>I cannot use Records anymore because i need to serialize old records to XML file and export them out of DB while &quot;fresh&quot; data remains in DB. Pojos should be best solution for fetching &quot;fresh&quot; data from DB and access old data via deserialization from XML archive while all data together may be presented in GUI in the same way.</p>\n</blockquote>\n<p>Why not just use jOOQ's built-in XML export functionality?</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/exporting/exporting-xml/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-execution/exporting/exporting-xml/</a></li>\n</ul>\n"}],"owner":{"account_id":1373322,"reputation":67,"user_id":1307826,"accept_rate":57,"display_name":"Worsik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694413152,"creation_date":1694188181,"question_id":77068290,"body_markdown":"we are using JOOQ generated Records in our application even for use in presentation layer (i know thats kind of antipattern here, but i cannot refactor everything at once).\r\n\r\nWhat I am trying to reach is generate not only Records, but also Pojos, but selectively only for tables specified. We are already using exclude for tables we are not interested in having Record classes. Is there any option to set include directive just for Pojo generation?\r\n\r\nWe have hundreds of tables in our DB and I need only about 10 Pojos now. And because tables have quite a lot of columns I would rather automate Pojos generation than write them by myself. We want to slowly get rid of the antipattern mentioned earlier, but step by step, not at once. And many of Records dont need to be in presentation layer so no need to have a Pojo class for every Record.\r\n\r\nI cannot use Records anymore because i need to serialize old records to XML file and export them out of DB while &quot;fresh&quot; data remains in DB. Pojos should be best solution for fetching &quot;fresh&quot; data from DB and access old data via deserialization from XML archive while all data together may be presented in GUI in the same way.\r\n\r\nThank you for suggestions","title":"JOOQ - is it possible to set, for which tables i want to generate POJO (different than records)?","body":"<p>we are using JOOQ generated Records in our application even for use in presentation layer (i know thats kind of antipattern here, but i cannot refactor everything at once).</p>\n<p>What I am trying to reach is generate not only Records, but also Pojos, but selectively only for tables specified. We are already using exclude for tables we are not interested in having Record classes. Is there any option to set include directive just for Pojo generation?</p>\n<p>We have hundreds of tables in our DB and I need only about 10 Pojos now. And because tables have quite a lot of columns I would rather automate Pojos generation than write them by myself. We want to slowly get rid of the antipattern mentioned earlier, but step by step, not at once. And many of Records dont need to be in presentation layer so no need to have a Pojo class for every Record.</p>\n<p>I cannot use Records anymore because i need to serialize old records to XML file and export them out of DB while &quot;fresh&quot; data remains in DB. Pojos should be best solution for fetching &quot;fresh&quot; data from DB and access old data via deserialization from XML archive while all data together may be presented in GUI in the same way.</p>\n<p>Thank you for suggestions</p>\n"},{"tags":["java","linux","svnkit"],"comments":[{"owner":{"account_id":4010371,"reputation":1964,"user_id":3303940,"display_name":"Akos Bannerth"},"score":1,"creation_date":1412320517,"post_id":26171365,"comment_id":41038049,"body_markdown":"Maybe on that particular machine, there is existing (and incorrect) authentication information in the `~/.subversion` folder, and your `DefaultSVNAuthenticationManager` instance tries to use that? See also the answer for this question: http://stackoverflow.com/questions/24403997/svnkit-use-of-auth-folder?rq=1","body":"Maybe on that particular machine, there is existing (and incorrect) authentication information in the <code>~&#47;.subversion</code> folder, and your <code>DefaultSVNAuthenticationManager</code> instance tries to use that? See also the answer for this question: <a href=\"http://stackoverflow.com/questions/24403997/svnkit-use-of-auth-folder?rq=1\" title=\"svnkit use of auth folder\">stackoverflow.com/questions/24403997/&hellip;</a>"},{"owner":{"account_id":506679,"reputation":942,"user_id":1149606,"display_name":"Josef.B"},"score":0,"creation_date":1426686879,"post_id":26171365,"comment_id":46474085,"body_markdown":"I am facing the same issue on a Windows 7 machine.  On this machine Eclipse, Ant, and svn command line can access the svn server at &quot;https:&quot;  with no issues.  Interestingly, other workstations work fine.  The stacktrace is not that useful.  Has anyone have any debugging suggestions?","body":"I am facing the same issue on a Windows 7 machine.  On this machine Eclipse, Ant, and svn command line can access the svn server at &quot;https:&quot;  with no issues.  Interestingly, other workstations work fine.  The stacktrace is not that useful.  Has anyone have any debugging suggestions?"},{"owner":{"account_id":506679,"reputation":942,"user_id":1149606,"display_name":"Josef.B"},"score":0,"creation_date":1426698371,"post_id":26171365,"comment_id":46482441,"body_markdown":"Update:  I found something that helped my issue on Windows, kind of: http://subversion.1072662.n5.nabble.com/SVN-authentication-problem-td1560.html   I had to add a jvm argument:  -Dsvnkit.http.methods=Basic,Digest,Negotiate,NTLM","body":"Update:  I found something that helped my issue on Windows, kind of: <a href=\"http://subversion.1072662.n5.nabble.com/SVN-authentication-problem-td1560.html\" rel=\"nofollow noreferrer\">subversion.1072662.n5.nabble.com/&hellip;</a>   I had to add a jvm argument:  -Dsvnkit.http.methods=Basic,Digest,Negotiate,NTLM"}],"answers":[{"tags":[],"owner":{"account_id":1365759,"reputation":614,"user_id":1302220,"accept_rate":100,"display_name":"Gurce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694412611,"creation_date":1694412611,"answer_id":77079248,"question_id":26171365,"body_markdown":"I experienced an issue with this same backtrace recently in Windows. It puzzled me as I had successfully checked out content from other paths within my company via svnkit just fine and couldn&#39;t fathom why this specific path was choking via svnkit.\r\n\r\nI grabbed the source of svnkit to assist with my debugging, and noticed that it was inspecting cached authentication details within the path &quot;`C:\\Users\\gurcei\\AppData\\Roaming\\Subversion\\auth\\svn.simple\\`&quot;.\r\n\r\nInside here was a file named &quot;`870755ae945b...`&quot; (probably a random number each time), and when I opened it within a text editor, I could see it contained credential details, and it also mentioned the domain-name/realm relating to these credentials.\r\n\r\nI noticed that the file used a short domain-name, e.g.:\r\n```\r\nK 15\r\nsvn:realmstring\r\nV 43\r\n&lt;https://subversionxy:443&gt; Subversion Realm\r\n```\r\n\r\nThis made the penny drop for me on why my failing checkout was choking via svnkit. I had accidentally provided a fully-qualified domain name for the path (e.g., `https://subversionxy.my.company.com/...`), and I think this meant svnkit couldn&#39;t find the credentials in the cache.\r\n\r\nUpon switching to the short domain-name (e.g., `https://subversionxy/...`), the checkout worked for me.","title":"SVNKit authentication error E170001, but only when checking out and only on one computer","body":"<p>I experienced an issue with this same backtrace recently in Windows. It puzzled me as I had successfully checked out content from other paths within my company via svnkit just fine and couldn't fathom why this specific path was choking via svnkit.</p>\n<p>I grabbed the source of svnkit to assist with my debugging, and noticed that it was inspecting cached authentication details within the path &quot;<code>C:\\Users\\gurcei\\AppData\\Roaming\\Subversion\\auth\\svn.simple\\</code>&quot;.</p>\n<p>Inside here was a file named &quot;<code>870755ae945b...</code>&quot; (probably a random number each time), and when I opened it within a text editor, I could see it contained credential details, and it also mentioned the domain-name/realm relating to these credentials.</p>\n<p>I noticed that the file used a short domain-name, e.g.:</p>\n<pre><code>K 15\nsvn:realmstring\nV 43\n&lt;https://subversionxy:443&gt; Subversion Realm\n</code></pre>\n<p>This made the penny drop for me on why my failing checkout was choking via svnkit. I had accidentally provided a fully-qualified domain name for the path (e.g., <code>https://subversionxy.my.company.com/...</code>), and I think this meant svnkit couldn't find the credentials in the cache.</p>\n<p>Upon switching to the short domain-name (e.g., <code>https://subversionxy/...</code>), the checkout worked for me.</p>\n"}],"owner":{"account_id":178931,"reputation":7231,"user_id":411216,"accept_rate":86,"display_name":"Doug Stephen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694412611,"creation_date":1412293774,"question_id":26171365,"body_markdown":"I&#39;m completely stumped by an SVNKit (1.8.5) error that I&#39;m running in to.  I&#39;m using the following pattern to build up an Authentication Manager:\r\n\r\n    public static SVNRepository getSvnRepository(String userName, String pass, String repoURL) throws SVNException\r\n    {\r\n          SVNRepository repository;\r\n          repository = SVNRepositoryFactory.create(SVNURL.parseURIEncoded(repoURL));\r\n          ISVNAuthenticationManager authManager = SVNWCUtil.createDefaultAuthenticationManager(userName, pass);\r\n          repository.setAuthenticationManager(authManager);\r\n    \r\n          return repository;\r\n    }\r\n\r\nI use this pattern in several places to make sure that the user can authenticate against the repository, to get a listing of all of the folders in the repository, and even to explore the top level of the subfolders in order to parse a file and build up a dependency graph.  All of this succeeds.\r\n\r\nBut when I attempt to run a checkout, I get an authentication error.  Puzzlingly, this error only happens on one computer at our office.  Several other computers all running OS X, Windows, and various versions of Ubuntu take no issue with this process and can check out no problem but one particular computer running Ubuntu 12.10 fails hard trying to run the following:\r\n   \r\n    SVNRepository repository = getSvnRepository(userName, pass, url + &quot;/&quot; + subfolder);\r\n    SvnOperationFactory factory = new SvnOperationFactory();\r\n    SvnCheckout checkout = factory.createCheckout();\r\n    checkout.setSource(SvnTarget.fromURL(repository.getLocation()));\r\n    checkout.setSingleTarget(SvnTarget.fromFile(location.resolve(project).toFile()));\r\n    checkout.run();\r\n\r\nThe stack trace:\r\n\r\n    org.tmatesoft.svn.core.SVNAuthenticationException: svn: E170001: Authentication required for &#39;&lt;https://[snip]:443&gt;&#39;\r\n            at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.authenticationFailed(SVNErrorManager.java:47)\r\n            at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.authenticationFailed(SVNErrorManager.java:41)\r\n            at org.tmatesoft.svn.core.internal.wc.DefaultSVNAuthenticationManager.getFirstAuthentication(DefaultSVNAuthenticationManager.java:186)\r\n            at org.tmatesoft.svn.core.internal.io.dav.http.HTTPConnection.request(HTTPConnection.java:682)\r\n            at org.tmatesoft.svn.core.internal.io.dav.http.HTTPConnection.request(HTTPConnection.java:371)\r\n            at org.tmatesoft.svn.core.internal.io.dav.http.HTTPConnection.request(HTTPConnection.java:359)\r\n            at org.tmatesoft.svn.core.internal.io.dav.DAVConnection.performHttpRequest(DAVConnection.java:710)\r\n            at org.tmatesoft.svn.core.internal.io.dav.DAVConnection.exchangeCapabilities(DAVConnection.java:627)\r\n            at org.tmatesoft.svn.core.internal.io.dav.DAVConnection.open(DAVConnection.java:102)\r\n            at org.tmatesoft.svn.core.internal.io.dav.DAVRepository.openConnection(DAVRepository.java:1032)\r\n            at org.tmatesoft.svn.core.internal.io.dav.DAVRepository.getLatestRevision(DAVRepository.java:175)\r\n            at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgRepositoryAccess.getRevisionNumber(SvnNgRepositoryAccess.java:118)\r\n            at org.tmatesoft.svn.core.internal.wc2.SvnRepositoryAccess.getLocations(SvnRepositoryAccess.java:182)\r\n            at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgRepositoryAccess.createRepositoryFor(SvnNgRepositoryAccess.java:45)\r\n            at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgAbstractUpdate.checkout(SvnNgAbstractUpdate.java:756)\r\n            at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgCheckout.run(SvnNgCheckout.java:16)\r\n            at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgCheckout.run(SvnNgCheckout.java:10)\r\n            at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgOperationRunner.run(SvnNgOperationRunner.java:20)\r\n            at org.tmatesoft.svn.core.internal.wc2.SvnOperationRunner.run(SvnOperationRunner.java:20)\r\n            at org.tmatesoft.svn.core.wc2.SvnOperationFactory.run(SvnOperationFactory.java:1149)\r\n            at org.tmatesoft.svn.core.wc2.SvnOperation.run(SvnOperation.java:294)","title":"SVNKit authentication error E170001, but only when checking out and only on one computer","body":"<p>I'm completely stumped by an SVNKit (1.8.5) error that I'm running in to.  I'm using the following pattern to build up an Authentication Manager:</p>\n\n<pre><code>public static SVNRepository getSvnRepository(String userName, String pass, String repoURL) throws SVNException\n{\n      SVNRepository repository;\n      repository = SVNRepositoryFactory.create(SVNURL.parseURIEncoded(repoURL));\n      ISVNAuthenticationManager authManager = SVNWCUtil.createDefaultAuthenticationManager(userName, pass);\n      repository.setAuthenticationManager(authManager);\n\n      return repository;\n}\n</code></pre>\n\n<p>I use this pattern in several places to make sure that the user can authenticate against the repository, to get a listing of all of the folders in the repository, and even to explore the top level of the subfolders in order to parse a file and build up a dependency graph.  All of this succeeds.</p>\n\n<p>But when I attempt to run a checkout, I get an authentication error.  Puzzlingly, this error only happens on one computer at our office.  Several other computers all running OS X, Windows, and various versions of Ubuntu take no issue with this process and can check out no problem but one particular computer running Ubuntu 12.10 fails hard trying to run the following:</p>\n\n<pre><code>SVNRepository repository = getSvnRepository(userName, pass, url + \"/\" + subfolder);\nSvnOperationFactory factory = new SvnOperationFactory();\nSvnCheckout checkout = factory.createCheckout();\ncheckout.setSource(SvnTarget.fromURL(repository.getLocation()));\ncheckout.setSingleTarget(SvnTarget.fromFile(location.resolve(project).toFile()));\ncheckout.run();\n</code></pre>\n\n<p>The stack trace:</p>\n\n<pre><code>org.tmatesoft.svn.core.SVNAuthenticationException: svn: E170001: Authentication required for '&lt;https://[snip]:443&gt;'\n        at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.authenticationFailed(SVNErrorManager.java:47)\n        at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.authenticationFailed(SVNErrorManager.java:41)\n        at org.tmatesoft.svn.core.internal.wc.DefaultSVNAuthenticationManager.getFirstAuthentication(DefaultSVNAuthenticationManager.java:186)\n        at org.tmatesoft.svn.core.internal.io.dav.http.HTTPConnection.request(HTTPConnection.java:682)\n        at org.tmatesoft.svn.core.internal.io.dav.http.HTTPConnection.request(HTTPConnection.java:371)\n        at org.tmatesoft.svn.core.internal.io.dav.http.HTTPConnection.request(HTTPConnection.java:359)\n        at org.tmatesoft.svn.core.internal.io.dav.DAVConnection.performHttpRequest(DAVConnection.java:710)\n        at org.tmatesoft.svn.core.internal.io.dav.DAVConnection.exchangeCapabilities(DAVConnection.java:627)\n        at org.tmatesoft.svn.core.internal.io.dav.DAVConnection.open(DAVConnection.java:102)\n        at org.tmatesoft.svn.core.internal.io.dav.DAVRepository.openConnection(DAVRepository.java:1032)\n        at org.tmatesoft.svn.core.internal.io.dav.DAVRepository.getLatestRevision(DAVRepository.java:175)\n        at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgRepositoryAccess.getRevisionNumber(SvnNgRepositoryAccess.java:118)\n        at org.tmatesoft.svn.core.internal.wc2.SvnRepositoryAccess.getLocations(SvnRepositoryAccess.java:182)\n        at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgRepositoryAccess.createRepositoryFor(SvnNgRepositoryAccess.java:45)\n        at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgAbstractUpdate.checkout(SvnNgAbstractUpdate.java:756)\n        at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgCheckout.run(SvnNgCheckout.java:16)\n        at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgCheckout.run(SvnNgCheckout.java:10)\n        at org.tmatesoft.svn.core.internal.wc2.ng.SvnNgOperationRunner.run(SvnNgOperationRunner.java:20)\n        at org.tmatesoft.svn.core.internal.wc2.SvnOperationRunner.run(SvnOperationRunner.java:20)\n        at org.tmatesoft.svn.core.wc2.SvnOperationFactory.run(SvnOperationFactory.java:1149)\n        at org.tmatesoft.svn.core.wc2.SvnOperation.run(SvnOperation.java:294)\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-security","annotations","autowired"],"comments":[{"owner":{"account_id":3123845,"reputation":4404,"user_id":2643110,"display_name":"forgivenson"},"score":0,"creation_date":1395424889,"post_id":22566054,"comment_id":34347993,"body_markdown":"You need a bean of type UserInfoInterface. I see you have a class of that type, but I believe it should be annotated with `@Bean`, instead of `@Service`. Alternately, you can add the bean definition for that class in you xml config file.","body":"You need a bean of type UserInfoInterface. I see you have a class of that type, but I believe it should be annotated with <code>@Bean</code>, instead of <code>@Service</code>. Alternately, you can add the bean definition for that class in you xml config file."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395425793,"post_id":22566054,"comment_id":34348538,"body_markdown":"@forgivenson `@Bean` is for `@Configuration` bean methods. `@Service` is a `@Component` specialization.","body":"@forgivenson <code>@Bean</code> is for <code>@Configuration</code> bean methods. <code>@Service</code> is a <code>@Component</code> specialization."},{"owner":{"account_id":2987126,"reputation":1166,"user_id":2535630,"accept_rate":71,"display_name":"Nikhil"},"score":0,"creation_date":1395429327,"post_id":22566054,"comment_id":34350704,"body_markdown":"Everything seems to be in place..You have got component scan, you have got @Service..It should work right.. Just for trial can you try to autowire the implementation itself instead of the interface? Just to check if it works that way?","body":"Everything seems to be in place..You have got component scan, you have got @Service..It should work right.. Just for trial can you try to autowire the implementation itself instead of the interface? Just to check if it works that way?"},{"owner":{"account_id":4209233,"reputation":119,"user_id":3447407,"accept_rate":55,"display_name":"James Rodriguez"},"score":0,"creation_date":1395433359,"post_id":22566054,"comment_id":34352910,"body_markdown":"Nikhil: I tried that but saw the same error  :(  why on earth would it not inject?  Do you think I am missing a jar file?","body":"Nikhil: I tried that but saw the same error  :(  why on earth would it not inject?  Do you think I am missing a jar file?"},{"owner":{"account_id":4209233,"reputation":119,"user_id":3447407,"accept_rate":55,"display_name":"James Rodriguez"},"score":0,"creation_date":1395661111,"post_id":22566054,"comment_id":34423549,"body_markdown":"I found this error right before the bean autowire error: \nERROR: org.springframework.web.context.ContextLoader - Context initialization failed   \n\nIs this a jar file error or a web.xml config-xml error?\ndo you think it is related to jar file versions colliding?\n\nDoes anyone have ideas to solve it?\n\nI am really lost.\n\n\nThx","body":"I found this error right before the bean autowire error:  ERROR: org.springframework.web.context.ContextLoader - Context initialization failed     Is this a jar file error or a web.xml config-xml error? do you think it is related to jar file versions colliding?  Does anyone have ideas to solve it?  I am really lost.   Thx"},{"owner":{"account_id":4209233,"reputation":119,"user_id":3447407,"accept_rate":55,"display_name":"James Rodriguez"},"score":0,"creation_date":1395665296,"post_id":22566054,"comment_id":34426396,"body_markdown":"I added the jar file versions I have in the build path and the xml file headers.  Do any of you see any errors?  thx","body":"I added the jar file versions I have in the build path and the xml file headers.  Do any of you see any errors?  thx"},{"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"score":0,"creation_date":1404386414,"post_id":22566054,"comment_id":38024752,"body_markdown":"I feel sorry for you having to write spring at uni/college.  Seems like a good way to put people off programming!  Don&#39;t worry it&#39;s not all this painful and bizaare!","body":"I feel sorry for you having to write spring at uni/college.  Seems like a good way to put people off programming!  Don&#39;t worry it&#39;s not all this painful and bizaare!"},{"owner":{"account_id":3622222,"reputation":1087,"user_id":3020667,"accept_rate":75,"display_name":"Kandy"},"score":0,"creation_date":1419584252,"post_id":22566054,"comment_id":43726143,"body_markdown":"I&#39;m getting the same here, but it works when **disable** spring security from web.xml .could be a retriction by security filters.Looking forward to an answer....Hope this is helpful.","body":"I&#39;m getting the same here, but it works when <b>disable</b> spring security from web.xml .could be a retriction by security filters.Looking forward to an answer....Hope this is helpful."}],"answers":[{"tags":[],"owner":{"account_id":3622222,"reputation":1087,"user_id":3020667,"accept_rate":75,"display_name":"Kandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419584969,"creation_date":1419584969,"answer_id":27655049,"question_id":22566054,"body_markdown":"    \r\n\r\nAdd this to your security.xml\r\n\r\n\r\n     &lt;context:component-scan base-package=&quot;a.b.c.d.projectName&quot; /&gt;  \r\n\r\nworked for me..\r\n\r\ngood luck","title":"spring autowire not working No qualifying bean of type Injection of autowired dependencies failed;","body":"<p>Add this to your security.xml</p>\n\n<pre><code> &lt;context:component-scan base-package=\"a.b.c.d.projectName\" /&gt;  \n</code></pre>\n\n<p>worked for me..</p>\n\n<p>good luck</p>\n"}],"owner":{"account_id":4209233,"reputation":119,"user_id":3447407,"accept_rate":55,"display_name":"James Rodriguez"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8487,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1694412490,"creation_date":1395424385,"question_id":22566054,"body_markdown":"This error appears whenever I try to run my code.\r\nI looked all over google for an answer for the past week but my class project is due soon and I need some assistance.  I have @service and component scan and I implemented the service class.  What else could be the problem.  I checked all over google.  I spent too many days trying to debug this error to no avail and my deadline is coming.  Please help, Much obliged for any help.  :)  \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name&#39;springSecurityFilterChain&#39; defined in ServletContext resource [/WEB-INF/spring/spring-security.xml]: Cannot resolve reference to bean &#39;userAuthenticationFilter&#39; while setting bean property &#39;filterChainMap&#39; with key [Root bean: class [org.springframework.security.web.util.AnyRequestMatcher]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with key [2]; nested exception is org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;userAuthenticationFilter&#39; defined in ServletContext resource [/WEB-INF/spring/spring-security.xml]: Cannot resolve reference to bean &#39;customAuthMgr&#39; while setting bean property &#39;authenticationManager&#39;;  nested exception is org.springframework.beans.factory.BeanCreationException: \r\n    Error creating bean with name &#39;customAuthMgr&#39; defined in ServletContext resource [/WEB-INF/spring/spring-security.xml]: Cannot resolve reference to bean &#39;authenticationProvider&#39; while setting bean property &#39;providers&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authenticationProvider&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: \r\n    Could not autowire field: protected a.b.c.d.projectName.service.UserInfoInterface    a.b.c.d.projectName.springweb.security.UserAuthenticationProvider.userInfoInterface; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n    No qualifying bean of type [a.b.c.d.projectName.service.UserInfoInterface] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: \r\n    {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\r\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:154)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:379)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:162)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1387)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1128)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n\tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1681)\r\n\tat com.ibm.ws.webcontainer.webapp.WebApp.commonInitializationFinish(WebApp.java:374)\r\n\tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:299)\r\n\tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:100)\r\n\tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:166)\r\n\tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:731)\r\n\tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:616)\r\n\tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:376)\r\n\tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:668)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1122)\r\n\tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1315)\r\n\tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:623)\r\n\tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:940)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:725)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2046)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:439)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:382)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$300(CompositionUnitMgrImpl.java:110)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$CUInitializer.run(CompositionUnitMgrImpl.java:949)\r\n\tat com.ibm.wsspi.runtime.component.WsComponentImpl$_AsynchInitializer.run(WsComponentImpl.java:349)\r\n\tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1550)    Caused by: org.springframework.beans.factory.BeanCreationException: \r\n\r\n\r\n// entity class\r\n\r\n    package a.b.c.d.projectName.domain.persistence;\r\n\r\n    import a.b.c.d.projectName.domain.TheRole;\r\n    @Entity\r\n    @NamedQueries({\r\n        @NamedQuery(name=&quot;UserInfo.findByUserID&quot;,\r\n\t\t\t\tquery=&quot;select . . .&quot;\r\n\t\t)\r\n    })\r\n    @Table(name=&quot;user_account&quot;)\r\n    public class UserInfo implements Serializable\r\n    {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;userID&quot;, length = 20)\r\n\tprivate String accountID;\t\r\n\t\r\n\t\r\n\t@Column(name = &quot;userDesc&quot;, length = 50)\r\n\tprivate String userDesc;\r\n\t\r\n\t// getters setters  default constructor  toString  compare\t\r\n\t\r\n\t@ManyToMany\r\n\t@JoinTable(name=&quot;userAcct_userRoles&quot;,\r\n\t\t\tjoinColumns=@JoinColumn(name=&quot;userID&quot;),\r\n\t\t\tinverseJoinColumns=@JoinColumn(name=&quot;userRoleID&quot;))\r\n\t\t\t\r\n\tprivate Collection&lt;TheRole&gt; theRoles;\r\n\r\n\tpublic Collection&lt;TheRole&gt; getRoles() {\r\n\t\treturn theRoles;\r\n\t}\r\n\r\n\tpublic void setRoles(Collection&lt;TheRole&gt; theRoles) {\r\n\t\tthis.theRoles = theRoles;\r\n\t}\r\n\t\t\r\n    }\r\n\r\n\r\n//interface\r\n\r\n    package a.b.c.d.projectName.service;\r\n\r\n    import a.b.c.d.projectName.domain.persistence.UserInfo;\r\n\r\n    public interface UserInfoInterface {\t\r\n\tpublic UserInfo getUserInfo(String userID);\r\n    }\r\n\r\n\r\n// service class\r\n\r\n    package a.b.c.d.projectName.service.impl;\r\n\r\n    import  a.b.c.d.projectName.domain.persistence.UserInfo;\r\n    import  a.b.c.d.projectName.service.UserInfoInterface;\r\n    . . .\r\n\r\n    @Service  \r\n    public class UserInfoImpl implements UserInfoInterface {\r\n\t\r\n\t@PersistenceContext(unitName = &quot;userInfoPersistenceUnit&quot;)\r\n\tprivate EntityManager em;\r\n\r\n\t// default constructor...\r\n\r\n\t@Override\r\n\tpublic UserInfo getUserInfo(String userID) {\r\n\t\t\r\n\treturn em.createNamedQuery(&quot;UserInfo.findByUserID&quot;, UserInfo.class)\r\n\t\t\t.setParameter(&quot;userID&quot;, userID).getSingleResult();\r\n\t}\r\n    }\r\n\r\n// for spring security\r\n\r\n    package a.b.c.d.projectName.security;\r\n\r\n    import a.b.c.d.projectName.domain.persistence.UserInfo;\r\n    import a.b.c.d.projectName.domain.persistence.TheRole;\r\n    import a.b.c.d.projectName.service.UserInfoInterface;\r\n\r\n    . . .\r\n\r\n    public class UserAuthenticationProvider implements AuthenticationProvider {\r\n\r\n\t@Autowired\r\n\tprotected UserInfoInterface userInfoInterface;   // &lt;--spring does not likethis\t\r\n\t. . .     }\r\n\r\n//web.xml\r\n\r\n    . . .\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\tclasspath*:a/b/c/d/springconfig/spring-config.xml\r\n\t\t\tWEB-INF/spring/spring-security.xml\t\t\t\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n    . . .\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;projectNameDispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/spring-config.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\t\t\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n      . . .\r\n    \r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;OpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;OpenSessionInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.orm.hibernate3.support.OpenSessionInViewFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;OpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;OpenSessionInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n&lt;/web-app&gt;\r\n\r\n// spring-config.xml\r\n\r\n    . . . .\r\n  \t&lt;bean class=&quot;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&quot; /&gt;  \r\n\r\n\t&lt;context:annotation-config /&gt;\r\n\t&lt;aop:aspectj-autoproxy /&gt;\r\n   \t&lt;context:component-scan base-package=&quot;a.b.c.d.projectName&quot; /&gt;    \r\n\t\r\n\t&lt;mvc:annotation-driven&gt;\r\n\t\t&lt;mvc:message-converters&gt;\r\n\t\t\t&lt;bean\r\n\t\t\t\tclass=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;objectMapper&quot; ref=&quot;customObjectMapper&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;prefixJson&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/mvc:message-converters&gt;\r\n\t&lt;/mvc:annotation-driven&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;/&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;\r\n\t    &lt;property name=&quot;requireSession&quot; value=&quot;false&quot;/&gt;\t\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;customObjectMapper&quot; class=&quot;a.b.c.d.projectName.configuration.JacksonCustomObjectMapper&quot;/&gt;\t\r\n\t&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver&quot;/&gt;    \r\n&lt;/beans&gt;\r\n\r\n//spring-security.xml\r\n\r\n      . . . \r\n\t&lt;bean id=&quot;springSecurityFilterChain&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n\t\t&lt;security:filter-chain-map path-type=&quot;ant&quot;&gt;\r\n\t\t\t&lt;security:filter-chain pattern=&quot;/**&quot;\r\n\t\t\t\tfilters=&quot;. . .   userAuthFilter,\r\n\t\t\t\t. . .&quot; /&gt;\r\n\t\t&lt;/security:filter-chain-map&gt;\r\n\t&lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;userAuthFilter&quot; class=&quot;. . .&quot;&gt;\r\n\t\t&lt;property name=&quot;authenticationManager&quot; ref=&quot;customAuthMgr&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;customAuthMgr&quot; class=&quot;org.springframework.security.authentication.ProviderManager&quot;&gt;\r\n\t\t&lt;property name=&quot;providers&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;ref local=&quot;userAuthenticationProvider&quot; /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\t\r\n\r\n\t&lt;bean id=&quot;userAuthenticationProvider&quot;\r\n\t\tclass=&quot;a.b.c.d.projectName.security.UserAuthenticationProvider&quot;&gt;\r\n\t&lt;/bean&gt;\r\n         . . . \r\n\r\n\r\n\r\n    Here are the jar files I have\r\n\r\n    ehcache-core-2.4.6.jar\r\n    hibernate-jap-2.0-api-1.0.0.Final.jar\r\n    hibernate-validator-4.1.0.Final.jar\r\n    hibernate3.jar\r\n    jackson-core-asl-1.9.13.jar\r\n    jackson-mapper-asl-1.9.13.jar\r\n    spring-aop-3.2.4.RELEASE.jar\r\n    spring-aspects-3.2.4.RELEASE.jar\r\n    spring-beans-3.2.4.RELEASE.jar\r\n    spring-context-3.2.4.RELEASE.jar\r\n    spring-context-support-3.2.4.RELEASE.jar\r\n    spring-core-3.2.4.RELEASE.jar\r\n    spring-expression-3.2.4.RELEASE.jar\r\n    spring-jdbc-3.2.4.RELEASE.jar\r\n    spring-orm-3.2.4.RELEASE.jar\r\n    spring-oxm-3.2.4.RELEASE.jar\r\n    spring-security-acl-3.2.4.RELEASE.jar\r\n    spring-security-aspects-3.2.4.RELEASE.jar\r\n    spring-security-config-3.2.4.RELEASE.jar\r\n    spring-security-core-3.2.4.RELEASE.jar\r\n    spring-security-taglibs-3.2.4.RELEASE.jar\r\n    spring-security-web-3.2.4.RELEASE.jar\r\n    spring-tx-3.2.4.RELEASE.jar\r\n    spring-web-3.2.4.RELEASE.jar\r\n    spring-webmvc-3.2.4.RELEASE.jar\r\n    spring-xml-3.2.4.RELEASE.jar\r\n\r\n\r\n    here are the xml headers\r\n\r\n    //Spring-config.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                           http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n                           http://www.springframework.org/schema/context\r\n                      http://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n                           http://www.springframework.org/schema/mvc\r\n                           http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n                           http://www.springframework.org/schema/aop\r\n                           http://www.springframework.org/schema/aop/spring-aop-3.2.xsd\r\n                           &quot;&gt;\r\n\r\n    // spring-security.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\r\n\txmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\t\thttp://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n\t\thttp://www.springframework.org/schema/aop \r\n\t\thttp://www.springframework.org/schema/aop/spring-aop-3.2.xsd\r\n\t\thttp://www.springframework.org/schema/jdbc  \r\n\t\thttp://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd\r\n\t\thttp://www.springframework.org/schema/context \r\n\t\thttp://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n\t\thttp://www.springframework.org/schema/security\t\r\n\t\thttp://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;\r\n\r\n\r\n    // web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.5&quot; \r\n\t\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\t\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \r\n\t\t                    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"spring autowire not working No qualifying bean of type Injection of autowired dependencies failed;","body":"<p>This error appears whenever I try to run my code.\nI looked all over google for an answer for the past week but my class project is due soon and I need some assistance.  I have @service and component scan and I implemented the service class.  What else could be the problem.  I checked all over google.  I spent too many days trying to debug this error to no avail and my deadline is coming.  Please help, Much obliged for any help.  :)  </p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name'springSecurityFilterChain' defined in ServletContext resource [/WEB-INF/spring/spring-security.xml]: Cannot resolve reference to bean 'userAuthenticationFilter' while setting bean property 'filterChainMap' with key [Root bean: class [org.springframework.security.web.util.AnyRequestMatcher]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with key [2]; nested exception is org.springframework.beans.factory.BeanCreationException:Error creating bean with name 'userAuthenticationFilter' defined in ServletContext resource [/WEB-INF/spring/spring-security.xml]: Cannot resolve reference to bean 'customAuthMgr' while setting bean property 'authenticationManager';  nested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'customAuthMgr' defined in ServletContext resource [/WEB-INF/spring/spring-security.xml]: Cannot resolve reference to bean 'authenticationProvider' while setting bean property 'providers' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationProvider': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: \nCould not autowire field: protected a.b.c.d.projectName.service.UserInfoInterface    a.b.c.d.projectName.springweb.security.UserAuthenticationProvider.userInfoInterface; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \nNo qualifying bean of type [a.b.c.d.projectName.service.UserInfoInterface] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: \n{@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:154)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:379)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:162)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1387)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1128)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\nat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1681)\nat com.ibm.ws.webcontainer.webapp.WebApp.commonInitializationFinish(WebApp.java:374)\nat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:299)\nat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:100)\nat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:166)\nat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:731)\nat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:616)\nat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:376)\nat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:668)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1122)\nat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1315)\nat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:623)\nat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:940)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:725)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2046)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:439)\nat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:382)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$300(CompositionUnitMgrImpl.java:110)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$CUInitializer.run(CompositionUnitMgrImpl.java:949)\nat com.ibm.wsspi.runtime.component.WsComponentImpl$_AsynchInitializer.run(WsComponentImpl.java:349)\nat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1550)    Caused by: org.springframework.beans.factory.BeanCreationException: \n</code></pre>\n\n<p>// entity class</p>\n\n<pre><code>package a.b.c.d.projectName.domain.persistence;\n\nimport a.b.c.d.projectName.domain.TheRole;\n@Entity\n@NamedQueries({\n    @NamedQuery(name=\"UserInfo.findByUserID\",\n            query=\"select . . .\"\n    )\n})\n@Table(name=\"user_account\")\npublic class UserInfo implements Serializable\n{\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@Column(name = \"userID\", length = 20)\nprivate String accountID;   \n\n\n@Column(name = \"userDesc\", length = 50)\nprivate String userDesc;\n\n// getters setters  default constructor  toString  compare  \n\n@ManyToMany\n@JoinTable(name=\"userAcct_userRoles\",\n        joinColumns=@JoinColumn(name=\"userID\"),\n        inverseJoinColumns=@JoinColumn(name=\"userRoleID\"))\n\nprivate Collection&lt;TheRole&gt; theRoles;\n\npublic Collection&lt;TheRole&gt; getRoles() {\n    return theRoles;\n}\n\npublic void setRoles(Collection&lt;TheRole&gt; theRoles) {\n    this.theRoles = theRoles;\n}\n\n}\n</code></pre>\n\n<p>//interface</p>\n\n<pre><code>package a.b.c.d.projectName.service;\n\nimport a.b.c.d.projectName.domain.persistence.UserInfo;\n\npublic interface UserInfoInterface {    \npublic UserInfo getUserInfo(String userID);\n}\n</code></pre>\n\n<p>// service class</p>\n\n<pre><code>package a.b.c.d.projectName.service.impl;\n\nimport  a.b.c.d.projectName.domain.persistence.UserInfo;\nimport  a.b.c.d.projectName.service.UserInfoInterface;\n. . .\n\n@Service  \npublic class UserInfoImpl implements UserInfoInterface {\n\n@PersistenceContext(unitName = \"userInfoPersistenceUnit\")\nprivate EntityManager em;\n\n// default constructor...\n\n@Override\npublic UserInfo getUserInfo(String userID) {\n\nreturn em.createNamedQuery(\"UserInfo.findByUserID\", UserInfo.class)\n        .setParameter(\"userID\", userID).getSingleResult();\n}\n}\n</code></pre>\n\n<p>// for spring security</p>\n\n<pre><code>package a.b.c.d.projectName.security;\n\nimport a.b.c.d.projectName.domain.persistence.UserInfo;\nimport a.b.c.d.projectName.domain.persistence.TheRole;\nimport a.b.c.d.projectName.service.UserInfoInterface;\n\n. . .\n\npublic class UserAuthenticationProvider implements AuthenticationProvider {\n\n@Autowired\nprotected UserInfoInterface userInfoInterface;   // &lt;--spring does not likethis \n. . .     }\n</code></pre>\n\n<p>//web.xml</p>\n\n<pre><code>. . .\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        classpath*:a/b/c/d/springconfig/spring-config.xml\n        WEB-INF/spring/spring-security.xml          \n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n. . .\n&lt;servlet&gt;\n    &lt;servlet-name&gt;projectNameDispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/spring-config.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;       \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n  . . .\n\n&lt;filter&gt;\n    &lt;filter-name&gt;OpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;OpenSessionInViewFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.orm.hibernate3.support.OpenSessionInViewFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;OpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;OpenSessionInViewFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p></p>\n\n<p>// spring-config.xml</p>\n\n<pre><code>. . . .\n&lt;bean class=\"org.springframework.context.annotation.CommonAnnotationBeanPostProcessor\" /&gt;  \n\n&lt;context:annotation-config /&gt;\n&lt;aop:aspectj-autoproxy /&gt;\n&lt;context:component-scan base-package=\"a.b.c.d.projectName\" /&gt;    \n\n&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;bean\n            class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt;\n            &lt;property name=\"objectMapper\" ref=\"customObjectMapper\"/&gt;\n            &lt;property name=\"prefixJson\" value=\"true\" /&gt;\n        &lt;/bean&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\"/&gt;\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter\"&gt;\n    &lt;property name=\"requireSession\" value=\"false\"/&gt; \n&lt;/bean&gt;\n\n&lt;bean id=\"customObjectMapper\" class=\"a.b.c.d.projectName.configuration.JacksonCustomObjectMapper\"/&gt; \n&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver\"/&gt;    \n</code></pre>\n\n<p></p>\n\n<p>//spring-security.xml</p>\n\n<pre><code>  . . . \n&lt;bean id=\"springSecurityFilterChain\" class=\"org.springframework.security.web.FilterChainProxy\"&gt;\n    &lt;security:filter-chain-map path-type=\"ant\"&gt;\n        &lt;security:filter-chain pattern=\"/**\"\n            filters=\". . .   userAuthFilter,\n            . . .\" /&gt;\n    &lt;/security:filter-chain-map&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"userAuthFilter\" class=\". . .\"&gt;\n    &lt;property name=\"authenticationManager\" ref=\"customAuthMgr\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"customAuthMgr\" class=\"org.springframework.security.authentication.ProviderManager\"&gt;\n    &lt;property name=\"providers\"&gt;\n        &lt;list&gt;\n            &lt;ref local=\"userAuthenticationProvider\" /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt; \n\n&lt;bean id=\"userAuthenticationProvider\"\n    class=\"a.b.c.d.projectName.security.UserAuthenticationProvider\"&gt;\n&lt;/bean&gt;\n     . . . \n\n\n\nHere are the jar files I have\n\nehcache-core-2.4.6.jar\nhibernate-jap-2.0-api-1.0.0.Final.jar\nhibernate-validator-4.1.0.Final.jar\nhibernate3.jar\njackson-core-asl-1.9.13.jar\njackson-mapper-asl-1.9.13.jar\nspring-aop-3.2.4.RELEASE.jar\nspring-aspects-3.2.4.RELEASE.jar\nspring-beans-3.2.4.RELEASE.jar\nspring-context-3.2.4.RELEASE.jar\nspring-context-support-3.2.4.RELEASE.jar\nspring-core-3.2.4.RELEASE.jar\nspring-expression-3.2.4.RELEASE.jar\nspring-jdbc-3.2.4.RELEASE.jar\nspring-orm-3.2.4.RELEASE.jar\nspring-oxm-3.2.4.RELEASE.jar\nspring-security-acl-3.2.4.RELEASE.jar\nspring-security-aspects-3.2.4.RELEASE.jar\nspring-security-config-3.2.4.RELEASE.jar\nspring-security-core-3.2.4.RELEASE.jar\nspring-security-taglibs-3.2.4.RELEASE.jar\nspring-security-web-3.2.4.RELEASE.jar\nspring-tx-3.2.4.RELEASE.jar\nspring-web-3.2.4.RELEASE.jar\nspring-webmvc-3.2.4.RELEASE.jar\nspring-xml-3.2.4.RELEASE.jar\n\n\nhere are the xml headers\n\n//Spring-config.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\n                       http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n                       http://www.springframework.org/schema/context\n                  http://www.springframework.org/schema/context/spring-context-3.2.xsd\n                       http://www.springframework.org/schema/mvc\n                       http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n                       http://www.springframework.org/schema/aop\n                       http://www.springframework.org/schema/aop/spring-aop-3.2.xsd\n                       \"&gt;\n\n// spring-security.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:jdbc=\"http://www.springframework.org/schema/jdbc\"\nxmlns:security=\"http://www.springframework.org/schema/security\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n    http://www.springframework.org/schema/aop \n    http://www.springframework.org/schema/aop/spring-aop-3.2.xsd\n    http://www.springframework.org/schema/jdbc  \n    http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-3.2.xsd\n    http://www.springframework.org/schema/security  \n    http://www.springframework.org/schema/security/spring-security-3.1.xsd\"&gt;\n\n\n// web.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app id=\"WebApp_ID\" version=\"2.5\" \n    xmlns=\"http://java.sun.com/xml/ns/javaee\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee \n                        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n</code></pre>\n"},{"tags":["java","android","locale"],"answers":[{"tags":[],"owner":{"account_id":26151778,"reputation":91,"user_id":19839635,"display_name":"Purple6666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694412429,"creation_date":1694412429,"answer_id":77079235,"question_id":77078885,"body_markdown":"You may have to change the string number formats by hand. \r\n\r\nJava\r\n\r\n    NumberFormat nf = NumberFormat.getInstance(new Locale(&quot;ar&quot;,&quot;EG&quot;)); //Egipt uses western arabic numbers\r\n    nf.format(your_string);","title":"Android Java show Western numerals when locale is set to Arabic instead of Eastern Arabic Numerals","body":"<p>You may have to change the string number formats by hand.</p>\n<p>Java</p>\n<pre><code>NumberFormat nf = NumberFormat.getInstance(new Locale(&quot;ar&quot;,&quot;EG&quot;)); //Egipt uses western arabic numbers\nnf.format(your_string);\n</code></pre>\n"}],"owner":{"account_id":28433564,"reputation":1,"user_id":21753943,"display_name":"mazen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694412429,"creation_date":1694405816,"question_id":77078885,"body_markdown":"In Android, if the user chooses Arabic for their language, I want to set the locale to AR but keep all the numbers in the system as &quot;12345&quot;. Currently they show as &quot;١٢٣٤٥&quot;.\r\n\r\nBelow is my function to change the locale:\r\n```java\r\npublic void setLocale(String lang)\r\n{\r\n    Locale myLocale;\r\n\r\n    if (lang.equals(&quot;ar&quot;))\r\n    {\r\n        myLocale = new Locale(lang, &quot;SA&quot;);\r\n\r\n    }\r\n    else\r\n    {\r\n        myLocale = new Locale(&quot;en&quot;);\r\n    }\r\n\r\n    Locale.setDefault(myLocale);\r\n\r\n    Resources res = getResources();\r\n    Configuration config = new Configuration(res.getConfiguration());\r\n    config.setLocale(myLocale);\r\n    config.setLayoutDirection(myLocale);\r\n\r\n    Context context = getActivity();\r\n    context = context.createConfigurationContext(config);\r\n\r\n    // Save the chosen language in SharedPreferences\r\n    SharedPreferences preferences = context.getSharedPreferences(&quot;settings&quot;, Context.MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = preferences.edit();\r\n    editor.putString(&quot;language&quot;, lang);\r\n    editor.apply();\r\n\r\n    Intent refresh = new Intent(context, getActivity().getClass());\r\n    refresh.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity(refresh);\r\n}\r\n```\r\n","title":"Android Java show Western numerals when locale is set to Arabic instead of Eastern Arabic Numerals","body":"<p>In Android, if the user chooses Arabic for their language, I want to set the locale to AR but keep all the numbers in the system as &quot;12345&quot;. Currently they show as &quot;١٢٣٤٥&quot;.</p>\n<p>Below is my function to change the locale:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setLocale(String lang)\n{\n    Locale myLocale;\n\n    if (lang.equals(&quot;ar&quot;))\n    {\n        myLocale = new Locale(lang, &quot;SA&quot;);\n\n    }\n    else\n    {\n        myLocale = new Locale(&quot;en&quot;);\n    }\n\n    Locale.setDefault(myLocale);\n\n    Resources res = getResources();\n    Configuration config = new Configuration(res.getConfiguration());\n    config.setLocale(myLocale);\n    config.setLayoutDirection(myLocale);\n\n    Context context = getActivity();\n    context = context.createConfigurationContext(config);\n\n    // Save the chosen language in SharedPreferences\n    SharedPreferences preferences = context.getSharedPreferences(&quot;settings&quot;, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = preferences.edit();\n    editor.putString(&quot;language&quot;, lang);\n    editor.apply();\n\n    Intent refresh = new Intent(context, getActivity().getClass());\n    refresh.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    startActivity(refresh);\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1694358831,"post_id":77076667,"comment_id":135877883,"body_markdown":"I don&#39;t think what you want is easily possible. VS Code is showing the commands that are run, as if you had typed those yourself.","body":"I don&#39;t think what you want is easily possible. VS Code is showing the commands that are run, as if you had typed those yourself."},{"owner":{"account_id":25584661,"reputation":77,"user_id":19362532,"display_name":"ami_PBJ"},"score":0,"creation_date":1694359006,"post_id":77076667,"comment_id":135877897,"body_markdown":"@ryanwebjackson yeah... but is it possible to clean vs code terminal as i said ??","body":"@ryanwebjackson yeah... but is it possible to clean vs code terminal as i said ??"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1694359224,"post_id":77076667,"comment_id":135877927,"body_markdown":"I assume you&#39;d have to have access to the source code of the extension that you&#39;re using, or write your own, so that you can add that conditional logic for Terminal output display.","body":"I assume you&#39;d have to have access to the source code of the extension that you&#39;re using, or write your own, so that you can add that conditional logic for Terminal output display."},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1694384978,"post_id":77076667,"comment_id":135880412,"body_markdown":"Does this answer your question? [How to hide the file path displaying in Visual Studio Code&#39;s terminal](https://stackoverflow.com/questions/63758560/how-to-hide-the-file-path-displaying-in-visual-studio-codes-terminal)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63758560/how-to-hide-the-file-path-displaying-in-visual-studio-codes-terminal\">How to hide the file path displaying in Visual Studio Code&#39;s terminal</a>"},{"owner":{"account_id":25584661,"reputation":77,"user_id":19362532,"display_name":"ami_PBJ"},"score":0,"creation_date":1694403249,"post_id":77076667,"comment_id":135881643,"body_markdown":"@starball not yet.... and whoever is not getting my question and mark as not useful kindly read my question and see attached screen shot carefully then mark as useful or not. Don&#39;t go blindly. Thank You.","body":"@starball not yet.... and whoever is not getting my question and mark as not useful kindly read my question and see attached screen shot carefully then mark as useful or not. Don&#39;t go blindly. Thank You."},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1694406843,"post_id":77076667,"comment_id":135881866,"body_markdown":"see also https://stackoverflow.com/q/5633472/11107541","body":"see also <a href=\"https://stackoverflow.com/q/5633472/11107541\">stackoverflow.com/q/5633472/11107541</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694412318,"creation_date":1694412318,"answer_id":77079230,"question_id":77076667,"body_markdown":"This is how vscode works - use shell commands. If you must change, you can use the [**Code Runner**][1] extension, then add the following settings, `Run Code` executes the program.\r\n\r\n```json\r\n    &quot;code-runner.runInTerminal&quot;: false,\r\n    &quot;code-runner.clearPreviousOutput&quot;: true,\r\n    &quot;code-runner.showExecutionMessage&quot;: false,\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://i.stack.imgur.com/Qf1hG.png","title":"How to remove or hide path details and file name in VS Code terminal?","body":"<p>This is how vscode works - use shell commands. If you must change, you can use the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\"><strong>Code Runner</strong></a> extension, then add the following settings, <code>Run Code</code> executes the program.</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.runInTerminal&quot;: false,\n    &quot;code-runner.clearPreviousOutput&quot;: true,\n    &quot;code-runner.showExecutionMessage&quot;: false,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Qf1hG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qf1hG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25584661,"reputation":77,"user_id":19362532,"display_name":"ami_PBJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694412318,"creation_date":1694358389,"question_id":77076667,"body_markdown":"[![Expected VS Code Terminal Look][1]][1]\r\n\r\nI want to remove the directory and file details while i run the program :\r\n\r\n    cd &quot;/Users/purnendubikashjana/Visual_Studio/Preparation-Java/&quot; &amp;&amp; javac armstrong.java &amp;&amp; java armstrong\r\n\r\n    &#127327; &#127313; &#127321;  ₹ Preparation-Java ₿ cd &quot;/Users/purnendubikashjana/Visual_Studio/Prepa\r\n    ration-Java/&quot; &amp;&amp; javac armstrong.java &amp;&amp; java armstrong\r\n    371 is an Armstrong number.\r\n    1634 is an Armstrong number.\r\n\r\nI want a clean terminal like below :\r\n\r\n    &#127327; &#127313; &#127321;  ₹ Preparation-Java ₿\r\n    371 is an Armstrong number.\r\n    1634 is an Armstrong number.\r\n\r\nIs it possible to get like this terminal in VS Code in Java or any other languages ??\r\n\r\nKindly see the attached image for reference.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z3yby.jpg","title":"How to remove or hide path details and file name in VS Code terminal?","body":"<p><a href=\"https://i.stack.imgur.com/z3yby.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3yby.jpg\" alt=\"Expected VS Code Terminal Look\" /></a></p>\n<p>I want to remove the directory and file details while i run the program :</p>\n<pre><code>cd &quot;/Users/purnendubikashjana/Visual_Studio/Preparation-Java/&quot; &amp;&amp; javac armstrong.java &amp;&amp; java armstrong\n\n🅟 🅑 🅙  ₹ Preparation-Java ₿ cd &quot;/Users/purnendubikashjana/Visual_Studio/Prepa\nration-Java/&quot; &amp;&amp; javac armstrong.java &amp;&amp; java armstrong\n371 is an Armstrong number.\n1634 is an Armstrong number.\n</code></pre>\n<p>I want a clean terminal like below :</p>\n<pre><code>🅟 🅑 🅙  ₹ Preparation-Java ₿\n371 is an Armstrong number.\n1634 is an Armstrong number.\n</code></pre>\n<p>Is it possible to get like this terminal in VS Code in Java or any other languages ??</p>\n<p>Kindly see the attached image for reference.</p>\n"},{"tags":["java","amazon-web-services","docker"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690189420,"post_id":76752753,"comment_id":135313420,"body_markdown":"You unfortunately just show code which should copy the file as is to local storage. Any problems will occur after that. What is your OS?","body":"You unfortunately just show code which should copy the file as is to local storage. Any problems will occur after that. What is your OS?"},{"owner":{"account_id":9051441,"reputation":463,"user_id":6741399,"display_name":"MarcC"},"score":1,"creation_date":1690190243,"post_id":76752753,"comment_id":135313602,"body_markdown":"The following [example](https://docs.aws.amazon.com/AmazonS3/latest/userguide/example_s3_GetObject_section.html) is using the latest version of the SDK and another set of APIs (basically you get directly a byte array and skip the stream part), give it a try.","body":"The following <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/example_s3_GetObject_section.html\" rel=\"nofollow noreferrer\">example</a> is using the latest version of the SDK and another set of APIs (basically you get directly a byte array and skip the stream part), give it a try."},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1690273574,"post_id":76752753,"comment_id":135326610,"body_markdown":"@g00se it was linux","body":"@g00se it was linux"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690274939,"post_id":76752753,"comment_id":135326903,"body_markdown":"Right. You need to show the code where the problem occurs","body":"Right. You need to show the code where the problem occurs"},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1690462627,"post_id":76752753,"comment_id":135359387,"body_markdown":"The problem was occuring here ...S3Object obj = s3Client.getObject(System.getenv(&quot;BUCKET&quot;), &quot;/temp.sql&quot;);","body":"The problem was occuring here ...S3Object obj = s3Client.getObject(System.getenv(&quot;BUCKET&quot;), &quot;/temp.sql&quot;);"},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1690462829,"post_id":76752753,"comment_id":135359442,"body_markdown":"The python code that i added was working i mean i am able to get data and able to write data into a file including special characters...but that doesn&#39;t happening with java code.","body":"The python code that i added was working i mean i am able to get data and able to write data into a file including special characters...but that doesn&#39;t happening with java code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690470642,"post_id":76752753,"comment_id":135361439,"body_markdown":"The Java code does quite a different thing. It makes a literal copy of the file. No decoding involved. The Python decodes it as UTF-8. *At what point do you notice a problem and what **exactly** do you do to see it?*","body":"The Java code does quite a different thing. It makes a literal copy of the file. No decoding involved. The Python decodes it as UTF-8. <i>At what point do you notice a problem and what <b>exactly</b> do you do to see it?</i>"},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1690785297,"post_id":76752753,"comment_id":135395872,"body_markdown":"When getting file from s3 i had issue ..when java code tries to pull the file from s3 that&#39;s where it was getting completely messed up....S3ObjectInputStream s3ObjectInputStream = obj.response().asInputStream();","body":"When getting file from s3 i had issue ..when java code tries to pull the file from s3 that&#39;s where it was getting completely messed up....S3ObjectInputStream s3ObjectInputStream = obj.response().asInputStream();"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690794282,"post_id":76752753,"comment_id":135397464,"body_markdown":"Sorry but you didn&#39;t answer my question","body":"Sorry but you didn&#39;t answer my question"},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1693392420,"post_id":76752753,"comment_id":135753860,"body_markdown":"g00se the issue here was while i was executing the java  code inside a docker container.... the java code that i had was unable to read special characters in a file.","body":"g00se the issue here was while i was executing the java  code inside a docker container.... the java code that i had was unable to read special characters in a file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693392974,"post_id":76752753,"comment_id":135753954,"body_markdown":"Well, the error will be almost certainly in Java code that you didn&#39;t post, since, as I mentioned, your posted code makes a literal copy of the stream","body":"Well, the error will be almost certainly in Java code that you didn&#39;t post, since, as I mentioned, your posted code makes a literal copy of the stream"},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1693402821,"post_id":76752753,"comment_id":135756196,"body_markdown":"updated my javacode that i sued for reading the downloaded file..this works fine when i was executing locally on my laptop when i deploy the code to the container the issue arises","body":"updated my javacode that i sued for reading the downloaded file..this works fine when i was executing locally on my laptop when i deploy the code to the container the issue arises"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693403262,"post_id":76752753,"comment_id":135756296,"body_markdown":"*It&#39;s all about reading downloaded file through java code that wasn&#39;t happening correctly* That&#39;s too general to help I&#39;m afraid. It&#39;s worth observing that your assumption that the file is encoded as UTF-8 should be checked. I suppose if the Python code is operating on the same file and working, then your assumption could be correct. If it&#39;s your logging statements (including sysouts) that are bothering you, then they can probably be ignored","body":"<i>It&#39;s all about reading downloaded file through java code that wasn&#39;t happening correctly</i> That&#39;s too general to help I&#39;m afraid. It&#39;s worth observing that your assumption that the file is encoded as UTF-8 should be checked. I suppose if the Python code is operating on the same file and working, then your assumption could be correct. If it&#39;s your logging statements (including sysouts) that are bothering you, then they can probably be ignored"},{"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"score":0,"creation_date":1694063696,"post_id":76752753,"comment_id":135842427,"body_markdown":"g00se i was trying to say that the code was working fine when executed locally on my machine when the same code was deployed to container it was unable to read special characters from a file","body":"g00se i was trying to say that the code was working fine when executed locally on my machine when the same code was deployed to container it was unable to read special characters from a file"}],"owner":{"account_id":19478568,"reputation":55,"user_id":14249451,"display_name":"john smith"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694412222,"creation_date":1690188150,"question_id":76752753,"body_markdown":"The issue facing here was had a file in s3 with special characters in the file content. while trying to download the file from s3 using java code, The special characters(&#228;,&#252;) are getting replaced with empty spaces while reading/writing the content to the file.\r\n\r\nI tried Multiple patterns to read the file using UTF-8 format to support special characters but nothing worked out (using BufferedReader,BufferedWriter,FileReader,FileWriter,InputStream,OutputStream etc...) \r\n\r\n```\r\nString uploadPath = /u01/infor/sce/scp11/logs/temp.sql\r\nAmazonS3 s3Client = AmazonS3ClientBuilder.defaultClient();\r\nS3Object obj = s3Client.getObject(System.getenv(&quot;BUCKET&quot;), &quot;/temp.sql&quot;);\r\nS3ObjectInputStream s3ObjectInputStream = obj.response().asInputStream();\r\n\r\n// Download the file content to a local file\r\nString localFilePath = uploadPath;\r\ntry (OutputStream outputStream = new FileOutputStream(localFilePath)) {\r\n\tbyte[] buffer = new byte[1024];\r\n\tint bytesRead;\r\n\twhile ((bytesRead = s3ObjectInputStream.read(buffer)) != -1) {\r\n\t    outputStream.write(buffer, 0, bytesRead);\r\n\t}\r\n\r\n\tSystem.out.println(&quot;File downloaded successfully.&quot;);\r\n} catch (Exception e) {\r\n\tlog.info(&quot;Error while downloading sql file from s3&quot;+e.getMessage(),e);\r\n}\r\n```\r\n\r\nWorking Python code \r\n```\r\nimport io\r\nimport json\r\nimport boto3\r\nimport botocore\r\nimport datetime\r\nimport base64\r\nimport os\r\nimport random\r\nimport string\r\nimport time\r\n\r\n\r\ns3 = boto3.resource(&#39;s3&#39;)\r\n\r\n#obj = s3.Object(&#39;hg-us-east-1&#39;, &#39;key-to-file.json&#39;)\r\n\r\ns3_object = boto3.resource(&#39;s3&#39;).Object(&#39;hg-us-east-1&#39;, &#39;logs/delete-entries.sql&#39;)\r\ndata = io.BytesIO()\r\ns3_object.download_fileobj(data)\r\ns = None\r\nb = s3_object.get()[&#39;Body&#39;]\r\ns = b.read().decode(&#39;utf-8&#39;)\r\n#result = json.loads(s)\r\nprint(s);\r\nf = open(&quot;c:\\\\Users\\\\tim\\\\test.sql&quot;, &quot;w&quot;)\r\nf.write(s);\r\n```\r\n\r\nJAVA CODE used for reading the file\r\nAfter downloading file from s3 i was using the following java code to read the sql file that was downloaded from s3.\r\n\r\nwhen reading the file inside the docker container the special characters are getting replaced with empty spaces.\r\n\r\ni can confirm no issues while downloading file from s3..It&#39;s all about reading downloaded file through java code that wasn&#39;t happening correctly \r\n```\r\npublic static ArrayList&lt;String&gt; Parser(String sqlfile,String user) {\r\n\t\tArrayList&lt;String&gt; statements = new ArrayList&lt;String&gt;();\r\n\t\tBufferedReader reader=null;\r\n\t\ttry {\r\n\t\t\treader=new BufferedReader(new InputStreamReader(new FileInputStream(sqlfile), &quot;UTF-8&quot;));\r\n\t\t\tString line = reader.readLine();\r\n\t\t\tlog.info(&quot;PARSE_PRINTING&quot;+line);\r\n\t\t\twhile (line != null) {\r\n\t\t\t\tline = line.trim();\r\n\t\t\t\tif (line.startsWith(&quot;--&quot;) || line.equals(&quot;&quot;)) {\r\n\r\n\t\t\t\t} else if (line.startsWith(&quot;/*&quot;)) {\r\n\t\t\t\t\tString s = &quot;&quot;;\r\n\t\t\t\t\twhile ((s = reader.readLine()) != null &amp;&amp; !s.endsWith(&quot;*/&quot;)) {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (line.endsWith(&quot;;&quot;)) {\r\n\t\t\t\t\t\tstatements.add(line);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tStringBuilder sb = new StringBuilder(line);\r\n\t\t\t\t\t\tString s = &quot;&quot;;\r\n\t\t\t\t\t\twhile ((s = reader.readLine()) != null) {\r\n\t\t\t\t\t\t\tsb.append(&quot; &quot;).append(s);\r\n\t\t\t\t\t\t\tif (s.endsWith(&quot;;&quot;))\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstatements.add(sb.toString());\r\n\t\t\t\t\t\tSystem.out.println(&quot;LINE&quot; + line);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tline = reader.readLine();\r\n\t\t\t\tlog.info(&quot;PARSE_PRINTING&quot;+line);\r\n\t\t\t}\r\n\t\t\tint count = 0;\r\n\t\t\tfor (String test : statements) {\r\n\t\t\t\tlog.info(&quot;STATEMENT &quot; + test);\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tlog.info(&quot;Total No Of SQL STATEMENTS &quot; + count);\r\n\t\t\treturn statements;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printstacktrace();\r\n\t\t}\r\n\t\treturn statements;\r\n\t}\r\n```","title":"Unable to read special characters written in a file uploaded to s3 using java","body":"<p>The issue facing here was had a file in s3 with special characters in the file content. while trying to download the file from s3 using java code, The special characters(ä,ü) are getting replaced with empty spaces while reading/writing the content to the file.</p>\n<p>I tried Multiple patterns to read the file using UTF-8 format to support special characters but nothing worked out (using BufferedReader,BufferedWriter,FileReader,FileWriter,InputStream,OutputStream etc...)</p>\n<pre><code>String uploadPath = /u01/infor/sce/scp11/logs/temp.sql\nAmazonS3 s3Client = AmazonS3ClientBuilder.defaultClient();\nS3Object obj = s3Client.getObject(System.getenv(&quot;BUCKET&quot;), &quot;/temp.sql&quot;);\nS3ObjectInputStream s3ObjectInputStream = obj.response().asInputStream();\n\n// Download the file content to a local file\nString localFilePath = uploadPath;\ntry (OutputStream outputStream = new FileOutputStream(localFilePath)) {\n    byte[] buffer = new byte[1024];\n    int bytesRead;\n    while ((bytesRead = s3ObjectInputStream.read(buffer)) != -1) {\n        outputStream.write(buffer, 0, bytesRead);\n    }\n\n    System.out.println(&quot;File downloaded successfully.&quot;);\n} catch (Exception e) {\n    log.info(&quot;Error while downloading sql file from s3&quot;+e.getMessage(),e);\n}\n</code></pre>\n<p>Working Python code</p>\n<pre><code>import io\nimport json\nimport boto3\nimport botocore\nimport datetime\nimport base64\nimport os\nimport random\nimport string\nimport time\n\n\ns3 = boto3.resource('s3')\n\n#obj = s3.Object('hg-us-east-1', 'key-to-file.json')\n\ns3_object = boto3.resource('s3').Object('hg-us-east-1', 'logs/delete-entries.sql')\ndata = io.BytesIO()\ns3_object.download_fileobj(data)\ns = None\nb = s3_object.get()['Body']\ns = b.read().decode('utf-8')\n#result = json.loads(s)\nprint(s);\nf = open(&quot;c:\\\\Users\\\\tim\\\\test.sql&quot;, &quot;w&quot;)\nf.write(s);\n</code></pre>\n<p>JAVA CODE used for reading the file\nAfter downloading file from s3 i was using the following java code to read the sql file that was downloaded from s3.</p>\n<p>when reading the file inside the docker container the special characters are getting replaced with empty spaces.</p>\n<p>i can confirm no issues while downloading file from s3..It's all about reading downloaded file through java code that wasn't happening correctly</p>\n<pre><code>public static ArrayList&lt;String&gt; Parser(String sqlfile,String user) {\n        ArrayList&lt;String&gt; statements = new ArrayList&lt;String&gt;();\n        BufferedReader reader=null;\n        try {\n            reader=new BufferedReader(new InputStreamReader(new FileInputStream(sqlfile), &quot;UTF-8&quot;));\n            String line = reader.readLine();\n            log.info(&quot;PARSE_PRINTING&quot;+line);\n            while (line != null) {\n                line = line.trim();\n                if (line.startsWith(&quot;--&quot;) || line.equals(&quot;&quot;)) {\n\n                } else if (line.startsWith(&quot;/*&quot;)) {\n                    String s = &quot;&quot;;\n                    while ((s = reader.readLine()) != null &amp;&amp; !s.endsWith(&quot;*/&quot;)) {\n\n                    }\n                } else {\n\n                    if (line.endsWith(&quot;;&quot;)) {\n                        statements.add(line);\n                    } else {\n                        StringBuilder sb = new StringBuilder(line);\n                        String s = &quot;&quot;;\n                        while ((s = reader.readLine()) != null) {\n                            sb.append(&quot; &quot;).append(s);\n                            if (s.endsWith(&quot;;&quot;))\n                                break;\n                        }\n                        statements.add(sb.toString());\n                        System.out.println(&quot;LINE&quot; + line);\n                    }\n                }\n                line = reader.readLine();\n                log.info(&quot;PARSE_PRINTING&quot;+line);\n            }\n            int count = 0;\n            for (String test : statements) {\n                log.info(&quot;STATEMENT &quot; + test);\n                count++;\n            }\n            log.info(&quot;Total No Of SQL STATEMENTS &quot; + count);\n            return statements;\n        } catch (Exception e) {\n            e.printstacktrace();\n        }\n        return statements;\n    }\n</code></pre>\n"},{"tags":["java","android-studio","game-development","surfaceview"],"owner":{"display_name":"user22391295"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694411955,"creation_date":1694353050,"question_id":77076343,"body_markdown":"I created a custom SurfaceView, and i am trying to find a solution to match my surfaceview dimension to android screen dimension (dynamically)\r\n\r\n**GameSurface:**\r\n```\r\npublic class GameSurface extends SurfaceView implements SurfaceHolder.Callback {\r\n```\r\n\r\n```\r\n public GameSurface(Context context) {\r\n        super(context);\r\n        DisplayMetrics metrics = context.getResources().getDisplayMetrics();\r\n        screenW = metrics.widthPixels;\r\n        screenH = metrics.heightPixels;\r\n\r\n        gameLoopThread = new GameLoopThread(getHolder(), this);\r\n\r\n        basketball = new Basketball(context, screenW, screenH);\r\n        hoop = new Hoop(context, screenW, screenH);\r\n\r\n        background = new Background(context);\r\n\r\n        score = 0;\r\n        getHolder().addCallback(this);\r\n    }\r\n```\r\n\r\n**MainActivity:**\r\n\r\n```\r\n        gameSurface = new GameSurface(this);\r\n        setContentView(gameSurface);\r\n        gameLoopThread = gameSurface.getGameLoopThread();\r\n```\r\n\r\nI did try using Displaymetrics, upon testing it on physical device it match the top and left corner but bottom and right corner isnt. ","title":"CustomView (surfaceview) does not match screen dimension (dynamically)","body":"<p>I created a custom SurfaceView, and i am trying to find a solution to match my surfaceview dimension to android screen dimension (dynamically)</p>\n<p><strong>GameSurface:</strong></p>\n<pre><code>public class GameSurface extends SurfaceView implements SurfaceHolder.Callback {\n</code></pre>\n<pre><code> public GameSurface(Context context) {\n        super(context);\n        DisplayMetrics metrics = context.getResources().getDisplayMetrics();\n        screenW = metrics.widthPixels;\n        screenH = metrics.heightPixels;\n\n        gameLoopThread = new GameLoopThread(getHolder(), this);\n\n        basketball = new Basketball(context, screenW, screenH);\n        hoop = new Hoop(context, screenW, screenH);\n\n        background = new Background(context);\n\n        score = 0;\n        getHolder().addCallback(this);\n    }\n</code></pre>\n<p><strong>MainActivity:</strong></p>\n<pre><code>        gameSurface = new GameSurface(this);\n        setContentView(gameSurface);\n        gameLoopThread = gameSurface.getGameLoopThread();\n</code></pre>\n<p>I did try using Displaymetrics, upon testing it on physical device it match the top and left corner but bottom and right corner isnt.</p>\n"},{"tags":["java","android","kotlin","annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1693827093,"post_id":77037243,"comment_id":135807177,"body_markdown":"`@param` is not an annotation, it&#39;s a Javadoc / KDoc thing. It&#39;s not affecting the actual compiled code in any way.","body":"<code>@param</code> is not an annotation, it&#39;s a Javadoc / KDoc thing. It&#39;s not affecting the actual compiled code in any way."},{"owner":{"account_id":11555561,"reputation":258,"user_id":8466852,"display_name":"lupaulus"},"score":0,"creation_date":1693828370,"post_id":77037243,"comment_id":135807445,"body_markdown":"But why, when it&#39;s explicited on the `@Element` annotations, that show up this error on compilation time, when it&#39;s omitted, it shows up the error on runtime ?","body":"But why, when it&#39;s explicited on the <code>@Element</code> annotations, that show up this error on compilation time, when it&#39;s omitted, it shows up the error on runtime ?"},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1693829246,"post_id":77037243,"comment_id":135807617,"body_markdown":"There is no `@Element` annotation here, nor any `@param:` annotation in this code. Which annotation is causing the error you get? Which file/line of code is causing the error?","body":"There is no <code>@Element</code> annotation here, nor any <code>@param:</code> annotation in this code. Which annotation is causing the error you get? Which file/line of code is causing the error?"},{"owner":{"account_id":11555561,"reputation":258,"user_id":8466852,"display_name":"lupaulus"},"score":0,"creation_date":1693829923,"post_id":77037243,"comment_id":135807733,"body_markdown":"`date` properties ? `param:` has been omitted in this code but I can edit to add the other version that doesn&#39;t compile","body":"<code>date</code> properties ? <code>param:</code> has been omitted in this code but I can edit to add the other version that doesn&#39;t compile"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1693830322,"post_id":77037243,"comment_id":135807817,"body_markdown":"I don&#39;t know what is the code validator you use, but I suspect you should do something like this: `/** @constructor @param: ... */ class Lot(nom: String?, date: Date?) { constructor() { ... } }`. That means we have primary constructor with params, they are documented and we have a no-arg constructor as well.","body":"I don&#39;t know what is the code validator you use, but I suspect you should do something like this: <code>&#47;** @constructor @param: ... *&#47; class Lot(nom: String?, date: Date?) { constructor() { ... } }</code>. That means we have primary constructor with params, they are documented and we have a no-arg constructor as well."},{"owner":{"account_id":11555561,"reputation":258,"user_id":8466852,"display_name":"lupaulus"},"score":0,"creation_date":1693830465,"post_id":77037243,"comment_id":135807846,"body_markdown":"@broot need an empty constructor for Room, In kotlin then I need a secondary constructor with calling ```this(null,null)``` ....","body":"@broot need an empty constructor for Room, In kotlin then I need a secondary constructor with calling <code>this(null,null)</code> ...."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1693830567,"post_id":77037243,"comment_id":135807866,"body_markdown":"Well, the error message is very explicit that it allows to document params only in the primary constructor. So for me it sounds like we should have a primary constructor with params and secondary no-arg constructor. Why the opposite?","body":"Well, the error message is very explicit that it allows to document params only in the primary constructor. So for me it sounds like we should have a primary constructor with params and secondary no-arg constructor. Why the opposite?"},{"owner":{"account_id":11555561,"reputation":258,"user_id":8466852,"display_name":"lupaulus"},"score":0,"creation_date":1693830734,"post_id":77037243,"comment_id":135807908,"body_markdown":"@broot For me, the error message is explicit too, but I would know, if there any &quot;Java-way constructor&quot; possibility to avoid to do this. I need to convert all my model to primary constructor.","body":"@broot For me, the error message is explicit too, but I would know, if there any &quot;Java-way constructor&quot; possibility to avoid to do this. I need to convert all my model to primary constructor."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1693833281,"post_id":77037243,"comment_id":135808415,"body_markdown":"@lupaulus I think a better solution is to find a documentation library that&#39;s more compatible with Kotlin code.","body":"@lupaulus I think a better solution is to find a documentation library that&#39;s more compatible with Kotlin code."},{"owner":{"account_id":11555561,"reputation":258,"user_id":8466852,"display_name":"lupaulus"},"score":0,"creation_date":1693996611,"post_id":77037243,"comment_id":135832285,"body_markdown":"@Jorn XML Entity parsing on Android, they aren&#39;t many of them","body":"@Jorn XML Entity parsing on Android, they aren&#39;t many of them"}],"answers":[{"tags":[],"owner":{"account_id":459646,"reputation":345,"user_id":860227,"display_name":"jokuskay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694411392,"creation_date":1694411392,"answer_id":77079174,"question_id":77037243,"body_markdown":"Remove all `Order` and `Element` annotations and set `Transient` on the `id` field if the order of tags does not matter:\r\n\r\n```\r\nimport org.simpleframework.xml.Transient\r\n\r\n...\r\n\r\n@JvmField\r\n@PrimaryKey(autoGenerate = true) // For Room\r\n@field:Transient\r\nvar id = 0\r\n\r\n...\r\n```\r\n\r\nOtherwise, using `@field:Element` without `@param:&lt;...&gt;` should be sufficient:\r\n\r\n```\r\n@Entity(indices = [Index(&quot;id&quot;)])\r\n@Root\r\n@Order(elements = [&quot;nom&quot;, &quot;date&quot;])\r\nclass Lot {\r\n    /**\r\n     * Constructeur Lot\r\n     *\r\n     * @param nom          String nom du lot\r\n     * @param date         Date Date du lot\r\n     */\r\n    constructor(nom: String?, date: Date?) {\r\n        this.nom = nom\r\n        this.date = date\r\n    }\r\n\r\n    private constructor() // For Room\r\n\r\n    @JvmField\r\n    @PrimaryKey(autoGenerate = true) // For Room\r\n    var id = 0\r\n\r\n    @JvmField\r\n    @field:Element\r\n    var nom: String? = null\r\n\r\n    @JvmField\r\n    @field:Element\r\n    var date: Date? = null\r\n```","title":"Kotlin Annotations @param: without primary constructor","body":"<p>Remove all <code>Order</code> and <code>Element</code> annotations and set <code>Transient</code> on the <code>id</code> field if the order of tags does not matter:</p>\n<pre><code>import org.simpleframework.xml.Transient\n\n...\n\n@JvmField\n@PrimaryKey(autoGenerate = true) // For Room\n@field:Transient\nvar id = 0\n\n...\n</code></pre>\n<p>Otherwise, using <code>@field:Element</code> without <code>@param:&lt;...&gt;</code> should be sufficient:</p>\n<pre><code>@Entity(indices = [Index(&quot;id&quot;)])\n@Root\n@Order(elements = [&quot;nom&quot;, &quot;date&quot;])\nclass Lot {\n    /**\n     * Constructeur Lot\n     *\n     * @param nom          String nom du lot\n     * @param date         Date Date du lot\n     */\n    constructor(nom: String?, date: Date?) {\n        this.nom = nom\n        this.date = date\n    }\n\n    private constructor() // For Room\n\n    @JvmField\n    @PrimaryKey(autoGenerate = true) // For Room\n    var id = 0\n\n    @JvmField\n    @field:Element\n    var nom: String? = null\n\n    @JvmField\n    @field:Element\n    var date: Date? = null\n</code></pre>\n"}],"owner":{"account_id":11555561,"reputation":258,"user_id":8466852,"display_name":"lupaulus"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77079174,"answer_count":1,"score":0,"last_activity_date":1694411392,"creation_date":1693825980,"question_id":77037243,"body_markdown":"I&#39;m using a XML parser/generator [&#39;simple-xml&#39;](https://github.com/carrotsearch/simplexml-safe/tree/safe) that I use on Android.\r\n\r\nSince, I have been updated my model from Java to Kotlin, I had an issue with my library. After debbugging, I find out that an *Annotation* `Element` wasn&#39;t working well. \r\n\r\n```\r\n&#39;@param:&#39; annotations could be applied only to primary constructor parameters\r\n```\r\n\r\nHere is the code in Kotlin, this compile well but shows up error at runtime when using the library.\r\n\r\n```kotlin\r\n@Entity(indices = [Index(&quot;id&quot;)])\r\n@Root\r\n@Order(elements = [&quot;nom&quot;, &quot;date&quot;])\r\nclass Lot {\r\n    /**\r\n     * Constructeur Lot\r\n     *\r\n     * @param nom          String nom du lot\r\n     * @param date         Date Date du lot\r\n     */\r\n    constructor(nom: String?, date: Date?) {\r\n        this.nom = nom\r\n        this.date = date\r\n    }\r\n\r\n\r\n    private constructor() // For Room\r\n\r\n    @JvmField\r\n    @PrimaryKey(autoGenerate = true) // For Room\r\n    var id = 0\r\n\r\n    @JvmField\r\n    @Element\r\n    var nom: String? = null\r\n\r\n    @JvmField\r\n    @Element\r\n    var date: Date? = null\r\n\r\n```\r\n\r\nThis version doesn&#39;t compile :\r\n\r\n```kotlin\r\n    @JvmField\r\n    @field:Element(name = &quot;date&quot;, required = true)\r\n    @param:Element(name = &quot;date&quot;, required = true)\r\n    var date: Date? = null\r\n```\r\n\r\nI don&#39;t know how to turn out the problem, because a need an empty constructor for Room and one with all the parameters but without id.\r\n\r\n\r\n\r\nWhat are the solutions ?\r\n","title":"Kotlin Annotations @param: without primary constructor","body":"<p>I'm using a XML parser/generator <a href=\"https://github.com/carrotsearch/simplexml-safe/tree/safe\" rel=\"nofollow noreferrer\">'simple-xml'</a> that I use on Android.</p>\n<p>Since, I have been updated my model from Java to Kotlin, I had an issue with my library. After debbugging, I find out that an <em>Annotation</em> <code>Element</code> wasn't working well.</p>\n<pre><code>'@param:' annotations could be applied only to primary constructor parameters\n</code></pre>\n<p>Here is the code in Kotlin, this compile well but shows up error at runtime when using the library.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity(indices = [Index(&quot;id&quot;)])\n@Root\n@Order(elements = [&quot;nom&quot;, &quot;date&quot;])\nclass Lot {\n    /**\n     * Constructeur Lot\n     *\n     * @param nom          String nom du lot\n     * @param date         Date Date du lot\n     */\n    constructor(nom: String?, date: Date?) {\n        this.nom = nom\n        this.date = date\n    }\n\n\n    private constructor() // For Room\n\n    @JvmField\n    @PrimaryKey(autoGenerate = true) // For Room\n    var id = 0\n\n    @JvmField\n    @Element\n    var nom: String? = null\n\n    @JvmField\n    @Element\n    var date: Date? = null\n\n</code></pre>\n<p>This version doesn't compile :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @JvmField\n    @field:Element(name = &quot;date&quot;, required = true)\n    @param:Element(name = &quot;date&quot;, required = true)\n    var date: Date? = null\n</code></pre>\n<p>I don't know how to turn out the problem, because a need an empty constructor for Room and one with all the parameters but without id.</p>\n<p>What are the solutions ?</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1694349611,"post_id":77076118,"comment_id":135876919,"body_markdown":"*password.equals(Passwords[i]));* Have a look at that carefully. What does `;` mean?","body":"<i>password.equals(Passwords[i]));</i> Have a look at that carefully. What does <code>;</code> mean?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694349708,"post_id":77076118,"comment_id":135876932,"body_markdown":"Yes, that pesky semicolon, `;`, is short-circuiting your if test.","body":"Yes, that pesky semicolon, <code>;</code>, is short-circuiting your if test."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694353072,"post_id":77076118,"comment_id":135877274,"body_markdown":"[Be careful of you naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">Be careful of you naming</a>"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694410929,"post_id":77076118,"comment_id":135882236,"body_markdown":"Not related to your problem, but please don&#39;t define arrays as `String Usernames []`, although this is valid syntax, it is considered a bad practice to use. Instead, use `String[] userNames` (which also follows the normal Java convention that variables and fields start with a lowercase letter).","body":"Not related to your problem, but please don&#39;t define arrays as <code>String Usernames []</code>, although this is valid syntax, it is considered a bad practice to use. Instead, use <code>String[] userNames</code> (which also follows the normal Java convention that variables and fields start with a lowercase letter)."},{"owner":{"account_id":29407511,"reputation":1,"user_id":22532233,"display_name":"Angelica Torres"},"score":0,"creation_date":1694606053,"post_id":77076118,"comment_id":135912783,"body_markdown":"Thank you guys for answering my question. I&#39;ll take all of your comments as a lesson.","body":"Thank you guys for answering my question. I&#39;ll take all of your comments as a lesson."}],"owner":{"account_id":29407511,"reputation":1,"user_id":22532233,"display_name":"Angelica Torres"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694349737,"answer_count":0,"score":0,"last_activity_date":1694410866,"creation_date":1694349200,"question_id":77076118,"body_markdown":"I would like to ask regarding this if-else conditional statement. I&#39;ve been studying this for quite some time. I am a beginner that&#39;s why I really need your advice. Why does my else doesn&#39;t work? As you can see on the console instead of showing the (Account Not Found!) it still shows Welcome there. I don&#39;t know what I&#39;m missing.\r\n\r\n```java\r\nScanner s = new Scanner (System.in);\r\n\r\nString Usernames [] = { &quot;Reyn&quot;, &quot;Gel&quot;, &quot;Cinds&quot;, &quot;Jmr&quot;};\r\nString Passwords [] = {&quot;Reinyy&quot;, &quot;0815&quot;, &quot;Eyy&quot;, &quot;Qatar&quot;};\r\n\r\nSystem.out.print(&quot;Username :&quot;);\r\nString username = s.nextLine();\r\nSystem.out.print(&quot;Password :&quot;);\r\nString password = s.nextLine();\r\n\r\nboolean isExist = false;\r\n\r\nfor (int i = 0; i &lt; Usernames.length; i++) {\r\n\tif (username.equals(Usernames[i]) &amp;&amp;\r\n\t\tpassword.equals(Passwords[i]));\r\n\tisExist = true;\r\n\tbreak;\r\n}\r\n\r\nif (isExist) System.out.println (&quot;Welcome, &quot; + username + &quot;!&quot;);\r\n\r\nelse System.out.println (&quot;Account Not Found!&quot;);\r\n```","title":"if - else Statement","body":"<p>I would like to ask regarding this if-else conditional statement. I've been studying this for quite some time. I am a beginner that's why I really need your advice. Why does my else doesn't work? As you can see on the console instead of showing the (Account Not Found!) it still shows Welcome there. I don't know what I'm missing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner (System.in);\n\nString Usernames [] = { &quot;Reyn&quot;, &quot;Gel&quot;, &quot;Cinds&quot;, &quot;Jmr&quot;};\nString Passwords [] = {&quot;Reinyy&quot;, &quot;0815&quot;, &quot;Eyy&quot;, &quot;Qatar&quot;};\n\nSystem.out.print(&quot;Username :&quot;);\nString username = s.nextLine();\nSystem.out.print(&quot;Password :&quot;);\nString password = s.nextLine();\n\nboolean isExist = false;\n\nfor (int i = 0; i &lt; Usernames.length; i++) {\n    if (username.equals(Usernames[i]) &amp;&amp;\n        password.equals(Passwords[i]));\n    isExist = true;\n    break;\n}\n\nif (isExist) System.out.println (&quot;Welcome, &quot; + username + &quot;!&quot;);\n\nelse System.out.println (&quot;Account Not Found!&quot;);\n</code></pre>\n"},{"tags":["java","junit","powermock","powermockito"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694154532,"post_id":77064550,"comment_id":135856559,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29392798,"reputation":1,"user_id":22520757,"display_name":"user22520757"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694410597,"creation_date":1694153844,"question_id":77064550,"body_markdown":"In java,use powermock to  test.There are 3 projects in my workspace. Two of them has been run without any problem.But last one throw Exception \r\n\r\njava.lang.IllegalStateException: Cannot clear JavaAgentClassRegister. Set method has not been called.  \r\norg.powermock.api.extension.agent.JavaAgentFrameworkRegisterImpl.clear(JavaAgentFrameworkRegisterImpl.java:41) at org.powermock.modules.junit4.rule.PowerMockStatement.clearFrameworkAgentClassRegister(PowerMockRule.java:84) at org.powermock.modules.junit4.rule.PowerMockStatement.evaluate(PowerMockRule.java:78) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:539) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:761) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:461) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:207)\r\n\r\nSame test code run in these projects.\r\n\r\nI have been tried to copy other pom.xml configuration file to this project.But it still has this problem.\r\n\r\nMy test run on JDK8,Junit4 and PowerMock 2.0.9.I dont want to change my JDK.Is there any way to solve this problem? Or is there any configuration setting problem？","title":"JUnit powermock throw exception IllegalAccessError:cannot clear JavaAgentClassRegister","body":"<p>In java,use powermock to  test.There are 3 projects in my workspace. Two of them has been run without any problem.But last one throw Exception</p>\n<p>java.lang.IllegalStateException: Cannot clear JavaAgentClassRegister. Set method has not been called.<br />\norg.powermock.api.extension.agent.JavaAgentFrameworkRegisterImpl.clear(JavaAgentFrameworkRegisterImpl.java:41) at org.powermock.modules.junit4.rule.PowerMockStatement.clearFrameworkAgentClassRegister(PowerMockRule.java:84) at org.powermock.modules.junit4.rule.PowerMockStatement.evaluate(PowerMockRule.java:78) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:539) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:761) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:461) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:207)</p>\n<p>Same test code run in these projects.</p>\n<p>I have been tried to copy other pom.xml configuration file to this project.But it still has this problem.</p>\n<p>My test run on JDK8,Junit4 and PowerMock 2.0.9.I dont want to change my JDK.Is there any way to solve this problem? Or is there any configuration setting problem？</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694408947,"post_id":77079012,"comment_id":135882036,"body_markdown":"Please show a [mcve]. The current code you showed is incomplete.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The current code you showed is incomplete."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694410079,"post_id":77079012,"comment_id":135882152,"body_markdown":"Lack of any visible threading looks suspicious.","body":"Lack of any visible threading looks suspicious."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1694412165,"post_id":77079012,"comment_id":135882372,"body_markdown":"your problem might be caused by lack of flushing, see here: https://stackoverflow.com/questions/24312147/bufferedwriter-printwriter-outputstreamwriter-dont-flush-buffer-until-close","body":"your problem might be caused by lack of flushing, see here: <a href=\"https://stackoverflow.com/questions/24312147/bufferedwriter-printwriter-outputstreamwriter-dont-flush-buffer-until-close\" title=\"bufferedwriter printwriter outputstreamwriter dont flush buffer until close\">stackoverflow.com/questions/24312147/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694415665,"post_id":77079012,"comment_id":135882895,"body_markdown":"You are ignoring end of stream here: `in.readLine()`. It will return null at end of stream, at which point you should close the socket and stop reading.","body":"You are ignoring end of stream here: <code>in.readLine()</code>. It will return null at end of stream, at which point you should close the socket and stop reading."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694432792,"post_id":77079012,"comment_id":135885871,"body_markdown":"You will be blocking the EDT. Almost *never* can you expect a GUI to work with network IO without multithreading. Look at the excellently-documented [SwingWorker](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingWorker.html)","body":"You will be blocking the EDT. Almost <i>never</i> can you expect a GUI to work with network IO without multithreading. Look at the excellently-documented <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>"}],"owner":{"account_id":16096340,"reputation":1,"user_id":22535351,"display_name":"star boom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694409328,"creation_date":1694408530,"question_id":77079012,"body_markdown":"I wrote some program that has to receive and send messages. But I have some troubles with streams. I start my server and program. Then I&#39;m trying send message, but my program just freezes. I used telnet and it works. I use sockets in this project and try do some messenger.\r\n\r\n```java\r\n        out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        button.addActionListener(e -&gt;{\r\n            try {\r\n                out.write(textField.getText() + &quot;\\n&quot;);\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n            try {\r\n                textArea.append(in.readLine()+&quot;\\n&quot;);\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n            textArea.setCaretPosition(textArea.getText().length());\r\n            textField.setText(&quot;&quot;);\r\n        });\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new Main().Draw();\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Server {\r\n    private static ArrayList&lt;Receiver&gt; receivers = new ArrayList&lt;&gt;();\r\n\r\n    public static ArrayList&lt;Receiver&gt; sockets(){\r\n        return receivers;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try(ServerSocket serverSocket = new ServerSocket(4040)){\r\n            while (true){\r\n                Socket socket = serverSocket.accept();\r\n                receivers.add(new Receiver(socket));\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n```java\r\n@Override\r\npublic void run() {\r\n    String message = null;\r\n    while (true){\r\n        try {\r\n            message = in.readLine() + &quot;\\n&quot;;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        for(Receiver socket : Server.sockets()) {\r\n            try {\r\n                socket.out.write(&quot;Your message: &quot; + message+&quot;\\n&quot;);\r\n                socket.out.flush();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n```","title":"Endless BufferReader reading","body":"<p>I wrote some program that has to receive and send messages. But I have some troubles with streams. I start my server and program. Then I'm trying send message, but my program just freezes. I used telnet and it works. I use sockets in this project and try do some messenger.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        button.addActionListener(e -&gt;{\n            try {\n                out.write(textField.getText() + &quot;\\n&quot;);\n            } catch (IOException ex) {\n                throw new RuntimeException(ex);\n            }\n            try {\n                textArea.append(in.readLine()+&quot;\\n&quot;);\n            } catch (IOException ex) {\n                throw new RuntimeException(ex);\n            }\n            textArea.setCaretPosition(textArea.getText().length());\n            textField.setText(&quot;&quot;);\n        });\n        setVisible(true);\n    }\n\n    public static void main(String[] args) throws IOException {\n        new Main().Draw();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Server {\n    private static ArrayList&lt;Receiver&gt; receivers = new ArrayList&lt;&gt;();\n\n    public static ArrayList&lt;Receiver&gt; sockets(){\n        return receivers;\n    }\n\n    public static void main(String[] args) {\n        try(ServerSocket serverSocket = new ServerSocket(4040)){\n            while (true){\n                Socket socket = serverSocket.accept();\n                receivers.add(new Receiver(socket));\n            }\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    String message = null;\n    while (true){\n        try {\n            message = in.readLine() + &quot;\\n&quot;;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        for(Receiver socket : Server.sockets()) {\n            try {\n                socket.out.write(&quot;Your message: &quot; + message+&quot;\\n&quot;);\n                socket.out.flush();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing","rotation","paintcomponent"],"comments":[{"owner":{"account_id":28115049,"reputation":150,"user_id":21493925,"display_name":"Petə&#237;ŕd The Linux Wizard"},"score":2,"creation_date":1694408476,"post_id":23177999,"comment_id":135881988,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](//meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397963983,"creation_date":1397963983,"answer_id":23178062,"question_id":23177999,"body_markdown":"    Graphics2D P1GFX = (Graphics2D)frogp1;\r\n    Graphics2D P2GFX = (Graphics2D)frogp1;\r\n\r\nCasting an Object means you are still using the same Object reference.\r\n\r\nIf you want two separate Graphics objects then you need to do:\r\n\r\n    Graphics2D p1gfx = (Graphics2D)frogp1.create();\r\n    Graphics2D p2gfx = (Graphics2D)frogp1.create();\r\n\r\nthen when you finish with the Graphics object you use:\r\n\r\n    p1gfx.dispose();\r\n    p2gfx.dispose();\r\n\r\nAnd I change the variable names to follow Java naming conventions. Don&#39;t use all upper case characters for variable names.","title":"Java Help! paintComponent woes","body":"<pre><code>Graphics2D P1GFX = (Graphics2D)frogp1;\nGraphics2D P2GFX = (Graphics2D)frogp1;\n</code></pre>\n\n<p>Casting an Object means you are still using the same Object reference.</p>\n\n<p>If you want two separate Graphics objects then you need to do:</p>\n\n<pre><code>Graphics2D p1gfx = (Graphics2D)frogp1.create();\nGraphics2D p2gfx = (Graphics2D)frogp1.create();\n</code></pre>\n\n<p>then when you finish with the Graphics object you use:</p>\n\n<pre><code>p1gfx.dispose();\np2gfx.dispose();\n</code></pre>\n\n<p>And I change the variable names to follow Java naming conventions. Don't use all upper case characters for variable names.</p>\n"},{"tags":[],"owner":{"account_id":1074135,"reputation":3779,"user_id":1072647,"accept_rate":92,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397964002,"creation_date":1397964002,"answer_id":23178064,"question_id":23177999,"body_markdown":"You could just rotate, then unrotate and reposition:\r\n\r\n    public void paintComponent(Graphics graphics) {\r\n            Graphics2D g2d = (Graphics2D)graphics;\r\n            g2d.rotate(90, 150 / 2, 150 / 2);\r\n            g2d.drawImage(p1.getImage1(), p1x, p1y,this);\r\n            g2d.rotate(-90, 150 / 2, 150 / 2);\r\n            g2d.rotate(40, 50, 50);\r\n            g2d.drawImage(p2.getImage2(), p2x, p2y, this);\r\n    }","title":"Java Help! paintComponent woes","body":"<p>You could just rotate, then unrotate and reposition:</p>\n\n<pre><code>public void paintComponent(Graphics graphics) {\n        Graphics2D g2d = (Graphics2D)graphics;\n        g2d.rotate(90, 150 / 2, 150 / 2);\n        g2d.drawImage(p1.getImage1(), p1x, p1y,this);\n        g2d.rotate(-90, 150 / 2, 150 / 2);\n        g2d.rotate(40, 50, 50);\n        g2d.drawImage(p2.getImage2(), p2x, p2y, this);\n}\n</code></pre>\n"}],"owner":{"display_name":"user3553104"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1694408773,"creation_date":1397963325,"question_id":23177999,"body_markdown":"I am new to Java and am learning new things everyday.\r\nI am trying to learn how to take TWO DIFFERENT .png files and rotate them SEPARATELY using the paint component.\r\nI am able to make both images paint and have separate movement, however the rotate function does NOT seem to recognize each 2DGraphic variable as independent.\r\n\r\nBoth images will be rotated to the last &#39;.rotate&#39; angles. I have looked up online but every tutorial referring to rotating a graphic are only dealing with one image. This works fine. I just can not get two images to rotate differently. I want P1GFX to be rotated separately from P2GFX.\r\n\r\nHere is the code.\r\nTHIS CODE WORKS, however they are BOTH rotated to whatever the last .rotate specifies.\r\n\r\n    public void paintComponent(Graphics frogp1) {\r\n     \r\n     \r\n                Graphics2D P1GFX = (Graphics2D)frogp1;\r\n                Graphics2D P2GFX = (Graphics2D)frogp1;\r\n                P1GFX.rotate(90, 150 / 2, 150 / 2);\r\n                P2GFX.rotate(40, 50, 50);\r\n                P1GFX.drawImage(p1.getImage1(), p1x, p1y,this);\r\n                P2GFX.drawImage(p2.getImage2(), p2x, p2y, this);\r\n           \r\n             \r\n    }\r\n\r\n\r\nSo, I tried making multiple parameters in paintComponent! That should work right? NOPE!\r\nTHIS CODE Makes NO IMAGE appear at all! Nothing is drawn on the screen when there are more than one parameter inside paintComponent!\r\n\r\n    public void paintComponent(Graphics frogp1, Graphics frogp2) {\r\n     \r\n     \r\n                Graphics2D P1GFX = (Graphics2D)frogp1;\r\n                Graphics2D P2GFX = (Graphics2D)frogp2;\r\n                P1GFX.rotate(90, 150 / 2, 150 / 2);\r\n                P2GFX.rotate(40, 50, 50);\r\n                P1GFX.drawImage(p1.getImage1(), p1x, p1y,this);\r\n                P2GFX.drawImage(p2.getImage2(), p2x, p2y, this);\r\n           \r\n             \r\n    }\r\n\r\n\r\nSo I thought, hey! Maybe I need to make more than one paintComponent! Well, of course that is NOT possible without recreating my own instance of the repaint() method.\r\n\r\n    public void paintComponent1(Graphics frogp1) {\r\n                Graphics2D P1GFX = (Graphics2D)frogp1;\r\n                P1GFX.rotate(90, 150 / 2, 150 / 2);\r\n                P1GFX.drawImage(p1.getImage1(), p1x, p1y,this);\r\n                                         \r\n    }\r\n    public void paintComponent2(Graphics frogp2) {\r\n                Graphics2D P2GFX = (Graphics2D)frogp2;\r\n                P2GFX.rotate(90, 150 / 2, 150 / 2);\r\n                P2GFX.drawImage(p2.getImage2(), p2x, p2y,this);\r\n                                         \r\n    }\r\n\r\nThis makes repaint() do nothing, therefore nothing is drawn.\r\n\r\nPlease help me be able to rotate more than one image / Graphics2D variable !","title":"Java Help! paintComponent woes","body":"<p>I am new to Java and am learning new things everyday.\nI am trying to learn how to take TWO DIFFERENT .png files and rotate them SEPARATELY using the paint component.\nI am able to make both images paint and have separate movement, however the rotate function does NOT seem to recognize each 2DGraphic variable as independent.</p>\n<p>Both images will be rotated to the last '.rotate' angles. I have looked up online but every tutorial referring to rotating a graphic are only dealing with one image. This works fine. I just can not get two images to rotate differently. I want P1GFX to be rotated separately from P2GFX.</p>\n<p>Here is the code.\nTHIS CODE WORKS, however they are BOTH rotated to whatever the last .rotate specifies.</p>\n<pre><code>public void paintComponent(Graphics frogp1) {\n \n \n            Graphics2D P1GFX = (Graphics2D)frogp1;\n            Graphics2D P2GFX = (Graphics2D)frogp1;\n            P1GFX.rotate(90, 150 / 2, 150 / 2);\n            P2GFX.rotate(40, 50, 50);\n            P1GFX.drawImage(p1.getImage1(), p1x, p1y,this);\n            P2GFX.drawImage(p2.getImage2(), p2x, p2y, this);\n       \n         \n}\n</code></pre>\n<p>So, I tried making multiple parameters in paintComponent! That should work right? NOPE!\nTHIS CODE Makes NO IMAGE appear at all! Nothing is drawn on the screen when there are more than one parameter inside paintComponent!</p>\n<pre><code>public void paintComponent(Graphics frogp1, Graphics frogp2) {\n \n \n            Graphics2D P1GFX = (Graphics2D)frogp1;\n            Graphics2D P2GFX = (Graphics2D)frogp2;\n            P1GFX.rotate(90, 150 / 2, 150 / 2);\n            P2GFX.rotate(40, 50, 50);\n            P1GFX.drawImage(p1.getImage1(), p1x, p1y,this);\n            P2GFX.drawImage(p2.getImage2(), p2x, p2y, this);\n       \n         \n}\n</code></pre>\n<p>So I thought, hey! Maybe I need to make more than one paintComponent! Well, of course that is NOT possible without recreating my own instance of the repaint() method.</p>\n<pre><code>public void paintComponent1(Graphics frogp1) {\n            Graphics2D P1GFX = (Graphics2D)frogp1;\n            P1GFX.rotate(90, 150 / 2, 150 / 2);\n            P1GFX.drawImage(p1.getImage1(), p1x, p1y,this);\n                                     \n}\npublic void paintComponent2(Graphics frogp2) {\n            Graphics2D P2GFX = (Graphics2D)frogp2;\n            P2GFX.rotate(90, 150 / 2, 150 / 2);\n            P2GFX.drawImage(p2.getImage2(), p2x, p2y,this);\n                                     \n}\n</code></pre>\n<p>This makes repaint() do nothing, therefore nothing is drawn.</p>\n<p>Please help me be able to rotate more than one image / Graphics2D variable !</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694408590,"creation_date":1694408590,"answer_id":77079017,"question_id":77073718,"body_markdown":"&gt; Does flink operator pass on event to another operator through a direct method call or through some Queuing technique?\r\n\r\nThat depends. Two or more operators in an operator chain (operators connected only by forward connections) pass events through direct method calls. Otherwise the messages are serialized and sent either via shared memory buffers (if the operators are in the same JVM) or via the network.","title":"How does one operator pass on event stream to another operator?","body":"<blockquote>\n<p>Does flink operator pass on event to another operator through a direct method call or through some Queuing technique?</p>\n</blockquote>\n<p>That depends. Two or more operators in an operator chain (operators connected only by forward connections) pass events through direct method calls. Otherwise the messages are serialized and sent either via shared memory buffers (if the operators are in the same JVM) or via the network.</p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694408590,"creation_date":1694286882,"question_id":77073718,"body_markdown":"Operator one can pass on event data to operator two, in a pipeline, through  GoLang channel, if implemented in GoLang. This helps avoid separation of concerns, amidst runtime failure.\r\n\r\nDoes flink operator pass on event to another operator through a direct method call or through some Queuing technique?","title":"How does one operator pass on event stream to another operator?","body":"<p>Operator one can pass on event data to operator two, in a pipeline, through  GoLang channel, if implemented in GoLang. This helps avoid separation of concerns, amidst runtime failure.</p>\n<p>Does flink operator pass on event to another operator through a direct method call or through some Queuing technique?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9801,"page":191,"page_size":100}
