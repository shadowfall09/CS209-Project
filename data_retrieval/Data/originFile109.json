{"items":[{"tags":["java","base64","itext"],"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":0,"creation_date":1509081653,"post_id":46965804,"comment_id":80883276,"body_markdown":"Both versions must be the same.","body":"Both versions must be the same."},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":0,"creation_date":1509081673,"post_id":46965804,"comment_id":80883288,"body_markdown":"Change the version number to 5.5.12.","body":"Change the version number to 5.5.12."}],"answers":[{"tags":[],"owner":{"account_id":12100994,"reputation":1,"user_id":8842077,"display_name":"userID"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509089908,"creation_date":1509089511,"answer_id":46969742,"question_id":46965804,"body_markdown":"I had to do the same thing and this is how I did it. I used apache.commons libraries to encode and to read file contents into a byte array. Hope this helps.\r\n  \r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.io.FileUtils;\r\n\r\n    File file = new File(&quot;test.pdf&quot;);\r\n\r\n      // write your html template to the file and close the document.\r\n    byte[] pdf =FileUtils.readFileToByteArray(file);\r\n    byte[] encoded = Base64.encodeBase64(pdf); \r\n          //or byte[] encoded = Base64.encodeBase64(file.getBytes());\r\n\r\n\r\nThis was done in groovy, write appropriate code according your requirment.","title":"Generate PDF base64 encode from iText in Java","body":"<p>I had to do the same thing and this is how I did it. I used apache.commons libraries to encode and to read file contents into a byte array. Hope this helps.</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.io.FileUtils;\n\nFile file = new File(\"test.pdf\");\n\n  // write your html template to the file and close the document.\nbyte[] pdf =FileUtils.readFileToByteArray(file);\nbyte[] encoded = Base64.encodeBase64(pdf); \n      //or byte[] encoded = Base64.encodeBase64(file.getBytes());\n</code></pre>\n\n<p>This was done in groovy, write appropriate code according your requirment.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509090120,"creation_date":1509090120,"answer_id":46969903,"question_id":46965804,"body_markdown":"Use the standard java.util.Base64:\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    PdfWriter writer = PdfWriter.getInstance(document, baos);\r\n\r\n    byte[] bytes = baos.toByteArray();\r\n    bytes = Base64.getEncoder().encode(bytes);\r\n    Files.write(Paths.get(&quot;pdf.pdf&quot;), bytes);\r\n\r\n","title":"Generate PDF base64 encode from iText in Java","body":"<p>Use the standard java.util.Base64:</p>\n\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\nPdfWriter writer = PdfWriter.getInstance(document, baos);\n\nbyte[] bytes = baos.toByteArray();\nbytes = Base64.getEncoder().encode(bytes);\nFiles.write(Paths.get(\"pdf.pdf\"), bytes);\n</code></pre>\n"}],"owner":{"account_id":208809,"reputation":372,"user_id":459529,"accept_rate":56,"display_name":"vinidog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697968819,"creation_date":1509064549,"question_id":46965804,"body_markdown":"How can I encode a PDF file generated in iText to base64?\r\n\r\nThis is my (java) code\r\n\r\n**App.java**\r\n\r\n    public class App {\r\n\r\n\tpublic static void main(String[] args) throws DocumentException, IOException {\r\n\t\t// step 1\r\n\t\tDocument document = new Document();\r\n\t\t// step 2\r\n\t\tPdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(&quot;pdf.pdf&quot;));\r\n\t\t// step 3\r\n\t\tdocument.open();\r\n\r\n\t\tString str = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=\\&quot;font-size:12.0pt; font-family:Times New Roman\\&quot;&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;a href=&#39;http://www.rgagnon.com/howto.html&#39;&gt;&lt;b&gt;Real&#39;s HowTo&lt;/b&gt;&lt;/a&gt;&quot; + &quot;&lt;h1&gt;Show your support&lt;/h1&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;p&gt;It DOES cost a lot to produce this site - in ISP storage and transfer fees&lt;/p&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;p&gt;TEST POLSKICH ZNAK&#211;W: \\u0104\\u0105\\u0106\\u0107\\u00d3\\u00f3\\u0141\\u0142\\u0179\\u017a\\u017b\\u017c\\u017d\\u017e\\u0118\\u0119&lt;/p&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;hr/&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;p&gt;the huge amounts of time it takes for one person to design and write the actual content.&lt;/p&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;p&gt;If you feel that effort has been useful to you, perhaps you will consider giving something back?&lt;/p&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;p&gt;Donate using PayPal\\u017d&lt;/p&gt;&quot; + &quot;&lt;p&gt;Contributions via PayPal are accepted in any amount&lt;/p&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;p&gt;&lt;br/&gt;&lt;table border=&#39;1&#39;&gt;&lt;tr&gt;&lt;td&gt;Java HowTo&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;td style=&#39;background-color:red;&#39;&gt;Javascript HowTo&lt;/td&gt;&lt;/tr&gt;&quot;\r\n\t\t\t\t+ &quot;&lt;tr&gt;&lt;td&gt;Powerbuilder HowTo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/p&gt;&quot; + &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n\t\tXMLWorkerHelper worker = XMLWorkerHelper.getInstance();\r\n\t\tInputStream is = new ByteArrayInputStream(str.getBytes(StandardCharsets.UTF_8));\r\n\r\n\t\tworker.parseXHtml(writer, document, is, Charset.forName(&quot;UTF-8&quot;));\r\n\r\n\t\t// step 5\r\n\t\tdocument.close();\r\n\r\n\t\tSystem.out.println(&quot;PDF Created!&quot;);\r\n\r\n\t}\r\n}\r\n\r\niText library dependencies (xmlworker e itextpdf)\r\n\r\n**Pom file:**\r\n\r\n    \t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nIm stuck, any help is welcome.\r\n","title":"Generate PDF base64 encode from iText in Java","body":"<p>How can I encode a PDF file generated in iText to base64?</p>\n\n<p>This is my (java) code</p>\n\n<p><strong>App.java</strong></p>\n\n<pre><code>public class App {\n\npublic static void main(String[] args) throws DocumentException, IOException {\n    // step 1\n    Document document = new Document();\n    // step 2\n    PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(\"pdf.pdf\"));\n    // step 3\n    document.open();\n\n    String str = \"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=\\\"font-size:12.0pt; font-family:Times New Roman\\\"&gt;\"\n            + \"&lt;a href='http://www.rgagnon.com/howto.html'&gt;&lt;b&gt;Real's HowTo&lt;/b&gt;&lt;/a&gt;\" + \"&lt;h1&gt;Show your support&lt;/h1&gt;\"\n            + \"&lt;p&gt;It DOES cost a lot to produce this site - in ISP storage and transfer fees&lt;/p&gt;\"\n            + \"&lt;p&gt;TEST POLSKICH ZNAKÓW: \\u0104\\u0105\\u0106\\u0107\\u00d3\\u00f3\\u0141\\u0142\\u0179\\u017a\\u017b\\u017c\\u017d\\u017e\\u0118\\u0119&lt;/p&gt;\"\n            + \"&lt;hr/&gt;\"\n            + \"&lt;p&gt;the huge amounts of time it takes for one person to design and write the actual content.&lt;/p&gt;\"\n            + \"&lt;p&gt;If you feel that effort has been useful to you, perhaps you will consider giving something back?&lt;/p&gt;\"\n            + \"&lt;p&gt;Donate using PayPal\\u017d&lt;/p&gt;\" + \"&lt;p&gt;Contributions via PayPal are accepted in any amount&lt;/p&gt;\"\n            + \"&lt;p&gt;&lt;br/&gt;&lt;table border='1'&gt;&lt;tr&gt;&lt;td&gt;Java HowTo&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;\"\n            + \"&lt;td style='background-color:red;'&gt;Javascript HowTo&lt;/td&gt;&lt;/tr&gt;\"\n            + \"&lt;tr&gt;&lt;td&gt;Powerbuilder HowTo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/p&gt;\" + \"&lt;/body&gt;&lt;/html&gt;\";\n\n    XMLWorkerHelper worker = XMLWorkerHelper.getInstance();\n    InputStream is = new ByteArrayInputStream(str.getBytes(StandardCharsets.UTF_8));\n\n    worker.parseXHtml(writer, document, is, Charset.forName(\"UTF-8\"));\n\n    // step 5\n    document.close();\n\n    System.out.println(\"PDF Created!\");\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>iText library dependencies (xmlworker e itextpdf)</p>\n\n<p><strong>Pom file:</strong></p>\n\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n        &lt;version&gt;5.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\n        &lt;version&gt;5.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Im stuck, any help is welcome.</p>\n"},{"tags":["java","spring-boot","mysql-connector"],"comments":[{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1697951070,"post_id":77338670,"comment_id":136342509,"body_markdown":"Does this answer your question? [Cannot load driver class: com.mysql.jdbc.Driver Spring](https://stackoverflow.com/questions/33123985/cannot-load-driver-class-com-mysql-jdbc-driver-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33123985/cannot-load-driver-class-com-mysql-jdbc-driver-spring\">Cannot load driver class: com.mysql.jdbc.Driver Spring</a>"}],"answers":[{"tags":[],"owner":{"account_id":29328831,"reputation":131,"user_id":22470734,"display_name":"Sairam Nagaraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697951160,"creation_date":1697951160,"answer_id":77338720,"question_id":77338670,"body_markdown":"This is not an issue with IntellIJ ultimate, you can use any IDE of your choice. \r\n\r\nThe issue is the driver class name is com.mysql.cj.jdbc.Driver and not com.mysql.cj.jdbc.driver. Kindly note, Spring recommends not explicitly specifying the driver as it will register by itself\r\n\r\nHope this helps","title":"How to resolve Spring Boot database error","body":"<p>This is not an issue with IntellIJ ultimate, you can use any IDE of your choice.</p>\n<p>The issue is the driver class name is com.mysql.cj.jdbc.Driver and not com.mysql.cj.jdbc.driver. Kindly note, Spring recommends not explicitly specifying the driver as it will register by itself</p>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":24289808,"reputation":149,"user_id":18235030,"display_name":"JonD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77338720,"answer_count":1,"score":0,"last_activity_date":1697968637,"creation_date":1697949673,"question_id":77338670,"body_markdown":"I received the following error when configuring Spring Boot to MySQL and running the application.\r\n\r\n&gt;Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Cannot load driver class: com.mysql.cj.jdbc.driver\r\n\r\nI am not using IntelliJ IDEA Ultimate version. I am using the IntelliJ IDEA Community version. I do see the IDE displaying the following error message in my application.properties file:\r\n\r\n&gt;Spring Boot Configurations are supported by IntelliJ IDEA Ultimate\r\n\r\nHere is the configurations in my application.properties fileL\r\n```ini\r\n#configuration\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://localhost:3306/JRPropertyManagement\r\nspring.datasource.username=xxxx\r\nspring.datasource.password=xxxxxxxxxx\r\n\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver\r\n```\r\n\r\nCould I have possibly configured something incorrectly, or could the issue be that I am not using the IntelliJ IDEA Ultimate version? If the issue is related to me not using IntelliJ IDEA Ultimate version, would Eclipse be a better IDE for Spring Boot Java?","title":"How to resolve Spring Boot database error","body":"<p>I received the following error when configuring Spring Boot to MySQL and running the application.</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Cannot load driver class: com.mysql.cj.jdbc.driver</p>\n</blockquote>\n<p>I am not using IntelliJ IDEA Ultimate version. I am using the IntelliJ IDEA Community version. I do see the IDE displaying the following error message in my application.properties file:</p>\n<blockquote>\n<p>Spring Boot Configurations are supported by IntelliJ IDEA Ultimate</p>\n</blockquote>\n<p>Here is the configurations in my application.properties fileL</p>\n<pre class=\"lang-ini prettyprint-override\"><code>#configuration\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/JRPropertyManagement\nspring.datasource.username=xxxx\nspring.datasource.password=xxxxxxxxxx\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver\n</code></pre>\n<p>Could I have possibly configured something incorrectly, or could the issue be that I am not using the IntelliJ IDEA Ultimate version? If the issue is related to me not using IntelliJ IDEA Ultimate version, would Eclipse be a better IDE for Spring Boot Java?</p>\n"},{"tags":["java","hadoop"],"answers":[{"tags":[],"owner":{"account_id":15775589,"reputation":5741,"user_id":11383441,"display_name":"Kalana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600923738,"creation_date":1571491638,"answer_id":58464179,"question_id":58461455,"body_markdown":"1. If you have installed **32-bit** Java version in your windows, uou have to set environtment variables `JAVA_HOME` path set as `C:\\Progra~2\\Java\\&lt;JDK version&gt;` but it seems to not working. \r\n\r\n* Therefor you have to try **64-bit** java version by setting you `JAVA_HOME` as `C:\\Progra~1\\Java\\&lt;JDK version&gt;`. \r\n\r\n\r\n\r\nAfter setting 64-bit Java version as `JAVA_HOME` you have to run `start-all.cmd` again in `cmd`. Then except `namenode`, all other deamons were worked. To run `namenode` you have to follow these steps.\r\n\r\n 1. Open **cmd** as **administrator.**\r\n 2. Type and run `stop-all.cmd`\r\n 3. Then run `hadoop namenode –format`\r\n 4. Finally run `start-all.cmd`\r\n\r\nHope it will work for you.\r\n\r\n**Edit-:**\r\n\r\nGo to your config files of hdfs with following codes (enter it in cmd or powershell)\r\n\r\nvim %HADOOP_HOME%\\etc\\hadoop\\hdfs-site.xml\r\n\r\nIn your config files, you need to use forward slashes and a protocol for the file URI \r\n\r\nFor example, change \r\n\r\n     C:\\BigData\\hadoop-2.9.1\\data\\namenode\r\n\r\nto\r\n\r\n    file:/C:/BigData/hadoop-2.9.1/data/namenode\r\n","title":"Failed to start NameNode","body":"<ol>\n<li>If you have installed <strong>32-bit</strong> Java version in your windows, uou have to set environtment variables <code>JAVA_HOME</code> path set as <code>C:\\Progra~2\\Java\\&lt;JDK version&gt;</code> but it seems to not working.</li>\n</ol>\n<ul>\n<li>Therefor you have to try <strong>64-bit</strong> java version by setting you <code>JAVA_HOME</code> as <code>C:\\Progra~1\\Java\\&lt;JDK version&gt;</code>.</li>\n</ul>\n<p>After setting 64-bit Java version as <code>JAVA_HOME</code> you have to run <code>start-all.cmd</code> again in <code>cmd</code>. Then except <code>namenode</code>, all other deamons were worked. To run <code>namenode</code> you have to follow these steps.</p>\n<ol>\n<li>Open <strong>cmd</strong> as <strong>administrator.</strong></li>\n<li>Type and run <code>stop-all.cmd</code></li>\n<li>Then run <code>hadoop namenode –format</code></li>\n<li>Finally run <code>start-all.cmd</code></li>\n</ol>\n<p>Hope it will work for you.</p>\n<p><strong>Edit-:</strong></p>\n<p>Go to your config files of hdfs with following codes (enter it in cmd or powershell)</p>\n<p>vim %HADOOP_HOME%\\etc\\hadoop\\hdfs-site.xml</p>\n<p>In your config files, you need to use forward slashes and a protocol for the file URI</p>\n<p>For example, change</p>\n<pre><code> C:\\BigData\\hadoop-2.9.1\\data\\namenode\n</code></pre>\n<p>to</p>\n<pre><code>file:/C:/BigData/hadoop-2.9.1/data/namenode\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12225309,"reputation":1285,"user_id":8923137,"accept_rate":53,"display_name":"Shreyas Pednekar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1571749628,"creation_date":1571749628,"answer_id":58505026,"question_id":58461455,"body_markdown":"I resolved the issue by installing Hadoop 2.9.1, there was namenode issue in Hadoop 3.2.1 version\r\n[hdfs namenode issue in 3.2.1][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HDFS-14890","title":"Failed to start NameNode","body":"<p>I resolved the issue by installing Hadoop 2.9.1, there was namenode issue in Hadoop 3.2.1 version\n<a href=\"https://issues.apache.org/jira/browse/HDFS-14890\" rel=\"noreferrer\">hdfs namenode issue in 3.2.1</a></p>\n"},{"tags":[],"owner":{"account_id":29727339,"reputation":1,"user_id":22782940,"display_name":"fdsafsd fdsafsd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697968436,"creation_date":1697968436,"answer_id":77339448,"question_id":58461455,"body_markdown":"This is my first time trying to help here, I just found a solution to this. I am using the Hadoop version 3.2.1, and it still works. All you have to do is to download the hadoop-hdfs-3.2.1.jar file from this link &quot;https://github.com/FahaoTang/big-data/blob/master/hadoop-hdfs-3.2.1.jar&quot;, and then go to your &quot;hadoop-3.2.1\\share\\hadoop\\hdfs&quot; directory, delete the &quot;hadoop-hdfs-3.2.1.jar file and replace it with the one you downloaded. Hope it helps!","title":"Failed to start NameNode","body":"<p>This is my first time trying to help here, I just found a solution to this. I am using the Hadoop version 3.2.1, and it still works. All you have to do is to download the hadoop-hdfs-3.2.1.jar file from this link &quot;https://github.com/FahaoTang/big-data/blob/master/hadoop-hdfs-3.2.1.jar&quot;, and then go to your &quot;hadoop-3.2.1\\share\\hadoop\\hdfs&quot; directory, delete the &quot;hadoop-hdfs-3.2.1.jar file and replace it with the one you downloaded. Hope it helps!</p>\n"}],"owner":{"account_id":12225309,"reputation":1285,"user_id":8923137,"accept_rate":53,"display_name":"Shreyas Pednekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7441,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":58505026,"answer_count":3,"score":6,"last_activity_date":1697968436,"creation_date":1571469811,"question_id":58461455,"body_markdown":"I&#39;ve successfully installed hadoop on local by following these steps [Step by step hadoop installation on windows 10][1] \r\n\r\nJava installed version: 1.8.0_231\r\nHadoop installed version: Hadoop 3.2.1\r\n\r\nBut after running command `hdfs namenode -format` I&#39;m getting following error\r\n\r\n    Re-format filesystem in Storage Directory root= C:\\hadoop-3.2.1\\data\\namenode; location= null ? (Y or N) y\r\n    2019-10-19 12:34:58,809 INFO namenode.FSImage: Allocated new BlockPoolId: BP-1445655329-172.18.148.177-1571468698797\r\n    2019-10-19 12:34:58,809 INFO common.Storage: Will remove files: []\r\n    2019-10-19 12:34:58,812 ERROR namenode.NameNode: Failed to start namenode.java.lang.UnsupportedOperationException\r\n        at java.nio.file.Files.setPosixFilePermissions(Files.java:2044)\r\n        at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.clearDirectory(Storage.java:452)\r\n        at org.apache.hadoop.hdfs.server.namenode.NNStorage.format(NNStorage.java:591)\r\n        at org.apache.hadoop.hdfs.server.namenode.NNStorage.format(NNStorage.java:613)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSImage.format(FSImage.java:188)\r\n        at org.apache.hadoop.hdfs.server.namenode.NameNode.format(NameNode.java:1206)\r\n        at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1649)\r\n        at org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1759)\r\n    2019-10-19 12:34:58,819 INFO util.ExitUtil: Exiting with status 1: java.lang.UnsupportedOperationException\r\n    2019-10-19 12:34:58,823 INFO namenode.NameNode: SHUTDOWN_MSG:\r\n    /************************************************************\r\n    SHUTDOWN_MSG: Shutting down NameNode at CWT-DST-0051/***.**.***.***\r\n\r\nI&#39;m totally new to this, what can be the issue?\r\nThanks in advance\r\n\r\n  [1]: https://github.com/MuhammadBilalYar/Hadoop-On-Window/wiki/Step-by-step-Hadoop-2.8.0-installation-on-Window-10","title":"Failed to start NameNode","body":"<p>I've successfully installed hadoop on local by following these steps <a href=\"https://github.com/MuhammadBilalYar/Hadoop-On-Window/wiki/Step-by-step-Hadoop-2.8.0-installation-on-Window-10\" rel=\"noreferrer\">Step by step hadoop installation on windows 10</a> </p>\n\n<p>Java installed version: 1.8.0_231\nHadoop installed version: Hadoop 3.2.1</p>\n\n<p>But after running command <code>hdfs namenode -format</code> I'm getting following error</p>\n\n<pre><code>Re-format filesystem in Storage Directory root= C:\\hadoop-3.2.1\\data\\namenode; location= null ? (Y or N) y\n2019-10-19 12:34:58,809 INFO namenode.FSImage: Allocated new BlockPoolId: BP-1445655329-172.18.148.177-1571468698797\n2019-10-19 12:34:58,809 INFO common.Storage: Will remove files: []\n2019-10-19 12:34:58,812 ERROR namenode.NameNode: Failed to start namenode.java.lang.UnsupportedOperationException\n    at java.nio.file.Files.setPosixFilePermissions(Files.java:2044)\n    at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.clearDirectory(Storage.java:452)\n    at org.apache.hadoop.hdfs.server.namenode.NNStorage.format(NNStorage.java:591)\n    at org.apache.hadoop.hdfs.server.namenode.NNStorage.format(NNStorage.java:613)\n    at org.apache.hadoop.hdfs.server.namenode.FSImage.format(FSImage.java:188)\n    at org.apache.hadoop.hdfs.server.namenode.NameNode.format(NameNode.java:1206)\n    at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1649)\n    at org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1759)\n2019-10-19 12:34:58,819 INFO util.ExitUtil: Exiting with status 1: java.lang.UnsupportedOperationException\n2019-10-19 12:34:58,823 INFO namenode.NameNode: SHUTDOWN_MSG:\n/************************************************************\nSHUTDOWN_MSG: Shutting down NameNode at CWT-DST-0051/***.**.***.***\n</code></pre>\n\n<p>I'm totally new to this, what can be the issue?\nThanks in advance</p>\n"},{"tags":["java","css","javafx","fonts"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697968225,"creation_date":1697960469,"answer_id":77339072,"question_id":77339044,"body_markdown":"**Preface**\r\n\r\nI stumbled over the information, that the font weights may not work constantly correct in JavaFX. The solution is to not use font weights, but use fonts directly.\r\n\r\n**Solution**\r\n\r\nFXML-File:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;VBox alignment=&quot;CENTER&quot;\r\n          spacing=&quot;20.0&quot;\r\n          stylesheets=&quot;@hello-view-works-inter.css&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n          xmlns=&quot;http://javafx.com/javafx/18&quot;\r\n          fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n        &lt;ListView fx:id=&quot;listView&quot; layoutX=&quot;142.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;238.0&quot; prefWidth=&quot;289.0&quot;/&gt;\r\n        &lt;Label fx:id=&quot;selection&quot; layoutX=&quot;36.0&quot; layoutY=&quot;325.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Your selection&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n        &lt;Label fx:id=&quot;labelThin&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;\r\n               text=&quot;Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.&quot;&gt;\r\n        &lt;/Label&gt;\r\n        &lt;Label fx:id=&quot;labelNormal&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;\r\n               text=&quot;Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.&quot;&gt;\r\n        &lt;/Label&gt;\r\n        &lt;Label fx:id=&quot;labelBold&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;\r\n               text=&quot;Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.&quot;&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/VBox&gt;\r\n\r\nCSS file:\r\n\r\n    @font-face{\r\n        -fx-font-family: &quot;Inter Light&quot;;\r\n        src: url(&quot;fonts/Inter/static/Inter-Light.ttf&quot;);\r\n    }\r\n    @font-face{\r\n        -fx-font-family: &quot;Inter Medium&quot;;\r\n        src: url(&quot;fonts/Inter/static/Inter-Medium.ttf&quot;);\r\n    }\r\n    @font-face{\r\n        -fx-font-family: &quot;Inter Bold&quot;;\r\n        src: url(&quot;fonts/Inter/static/Inter-Bold.ttf&quot;);\r\n    }\r\n    \r\n    *{\r\n        -fx-text-background-color: blue;\r\n    }\r\n    \r\n    #labelThin{\r\n        -fx-text-background-color: red;\r\n        -fx-font-size: 48px;\r\n        -fx-font-family: &quot;Inter Light&quot;\r\n        /*-fx-font-weight: 100;*/\r\n    }\r\n    #labelNormal{\r\n        -fx-text-background-color: red;\r\n        -fx-font-size: 48px;\r\n        -fx-font-family: &quot;Inter Medium&quot;\r\n        /*-fx-font-weight: 500;*/\r\n    }\r\n    \r\n    #labelBold{\r\n        -fx-text-background-color: red;\r\n        -fx-font-size: 48px;\r\n        -fx-font-family: &quot;Inter Bold&quot;\r\n        /*-fx-font-weight: 900;*/\r\n    }\r\n\r\nFile paths:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nResult:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n**Old**\r\n**Old**\r\n**Old**\r\n\r\nThe css property `font-weight` controls the stroke thickness of the font in step (100 = thin, 900 = bold). \r\n\r\n**BUT:** \r\nNot every font supports all weights from 100 to 900. \r\nMany fonts (if not most fonts) only provide weight 400 for normal and weight 700 for bold. \r\n\r\nSo if you need the weight 100 for example, but your font does not support the weight 100, you have no chance because this will not work. \r\n\r\n**Edit**\r\n\r\nThis are the font weights of your posted link. Everything normal until 600, 700 and obove is bold.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nhqkk.png\r\n  [2]: https://i.stack.imgur.com/Yj9Ay.png\r\n  [3]: https://i.stack.imgur.com/kLT3B.png","title":"-fx-font-weight has almost no effect on imported fonts in JavaFX css","body":"<p><strong>Preface</strong></p>\n<p>I stumbled over the information, that the font weights may not work constantly correct in JavaFX. The solution is to not use font weights, but use fonts directly.</p>\n<p><strong>Solution</strong></p>\n<p>FXML-File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot;\n      spacing=&quot;20.0&quot;\n      stylesheets=&quot;@hello-view-works-inter.css&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n      xmlns=&quot;http://javafx.com/javafx/18&quot;\n      fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;ListView fx:id=&quot;listView&quot; layoutX=&quot;142.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;238.0&quot; prefWidth=&quot;289.0&quot;/&gt;\n    &lt;Label fx:id=&quot;selection&quot; layoutX=&quot;36.0&quot; layoutY=&quot;325.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Your selection&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n    &lt;Label fx:id=&quot;labelThin&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;\n           text=&quot;Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.&quot;&gt;\n    &lt;/Label&gt;\n    &lt;Label fx:id=&quot;labelNormal&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;\n           text=&quot;Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.&quot;&gt;\n    &lt;/Label&gt;\n    &lt;Label fx:id=&quot;labelBold&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;\n           text=&quot;Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.  Lorem ipsum dolor sit amet.&quot;&gt;\n    &lt;/Label&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>CSS file:</p>\n<pre><code>@font-face{\n    -fx-font-family: &quot;Inter Light&quot;;\n    src: url(&quot;fonts/Inter/static/Inter-Light.ttf&quot;);\n}\n@font-face{\n    -fx-font-family: &quot;Inter Medium&quot;;\n    src: url(&quot;fonts/Inter/static/Inter-Medium.ttf&quot;);\n}\n@font-face{\n    -fx-font-family: &quot;Inter Bold&quot;;\n    src: url(&quot;fonts/Inter/static/Inter-Bold.ttf&quot;);\n}\n\n*{\n    -fx-text-background-color: blue;\n}\n\n#labelThin{\n    -fx-text-background-color: red;\n    -fx-font-size: 48px;\n    -fx-font-family: &quot;Inter Light&quot;\n    /*-fx-font-weight: 100;*/\n}\n#labelNormal{\n    -fx-text-background-color: red;\n    -fx-font-size: 48px;\n    -fx-font-family: &quot;Inter Medium&quot;\n    /*-fx-font-weight: 500;*/\n}\n\n#labelBold{\n    -fx-text-background-color: red;\n    -fx-font-size: 48px;\n    -fx-font-family: &quot;Inter Bold&quot;\n    /*-fx-font-weight: 900;*/\n}\n</code></pre>\n<p>File paths:</p>\n<p><a href=\"https://i.stack.imgur.com/nhqkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nhqkk.png\" alt=\"enter image description here\" /></a></p>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/Yj9Ay.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yj9Ay.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Old</strong>\n<strong>Old</strong>\n<strong>Old</strong></p>\n<p>The css property <code>font-weight</code> controls the stroke thickness of the font in step (100 = thin, 900 = bold).</p>\n<p><strong>BUT:</strong>\nNot every font supports all weights from 100 to 900.\nMany fonts (if not most fonts) only provide weight 400 for normal and weight 700 for bold.</p>\n<p>So if you need the weight 100 for example, but your font does not support the weight 100, you have no chance because this will not work.</p>\n<p><strong>Edit</strong></p>\n<p>This are the font weights of your posted link. Everything normal until 600, 700 and obove is bold.</p>\n<p><a href=\"https://i.stack.imgur.com/kLT3B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kLT3B.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21997128,"reputation":61,"user_id":16269442,"display_name":"Swimer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77339072,"answer_count":1,"score":1,"last_activity_date":1697968225,"creation_date":1697959815,"question_id":77339044,"body_markdown":"I loaded the font into css for 9 different weights, but for some reason only regular and bold work, from the loaded ones: Thin, ExtraLight, Light, Regular, Medium, SemiBold, Bold, ExtraBold and Black. When I specify -fx-font-weight less than 700 then the font is ALWAYS set to Regular, and if more than 700 then the font is ALWAYS set to Bold. The font is called Inter and was downloaded from Google Fonts. The font preview showed that the font thickness is actually different, but JavaFx does not perceive this. What&#39;s the matter?\r\n\r\nPreview: [https://imgur.com/a/RrlzTJQ][1]\r\n\r\nLoading font:\r\n```css\r\n@font-face {\r\n    font-family: &#39;Inter&#39;;\r\n    font-weight: 100;\r\n    src: url(&#39;Inter-Thin.ttf&#39;);\r\n}\r\n@font-face {\r\n    font-family: &#39;Inter&#39;;\r\n    font-weight: 200;\r\n    src: url(&#39;Inter-ExtraLight.ttf&#39;);\r\n}\r\n@font-face {\r\n    font-family: &#39;Inter&#39;;\r\n    font-weight: 300;\r\n    src: url(&#39;Inter-Light.ttf&#39;);\r\n}\r\n...\r\n```\r\n\r\nUsage:\r\n```css\r\n* { -fx-font-family: &quot;Inter&quot;, serif; }\r\n\r\n.account-select-add-button {\r\n    -fx-text-fill: #2461FF;\r\n    -fx-font-size: 24px;\r\n    -fx-font-weight: 100; /* almost no effect */\r\n}\r\n```\r\n\r\nEDIT:\r\nRemoving the font loading code had no effect, since the font was already installed on the system. However, when I remove -fx-font-family the font changes to standard, which means that the font is actually loaded\r\n\r\nEDIT 2: [![Fonts actually have different thicknesses][2]][2]\r\n\r\n\r\n  [1]: https://imgur.com/a/RrlzTJQ\r\n  [2]: https://i.stack.imgur.com/hc3Hp.png","title":"-fx-font-weight has almost no effect on imported fonts in JavaFX css","body":"<p>I loaded the font into css for 9 different weights, but for some reason only regular and bold work, from the loaded ones: Thin, ExtraLight, Light, Regular, Medium, SemiBold, Bold, ExtraBold and Black. When I specify -fx-font-weight less than 700 then the font is ALWAYS set to Regular, and if more than 700 then the font is ALWAYS set to Bold. The font is called Inter and was downloaded from Google Fonts. The font preview showed that the font thickness is actually different, but JavaFx does not perceive this. What's the matter?</p>\n<p>Preview: <a href=\"https://imgur.com/a/RrlzTJQ\" rel=\"nofollow noreferrer\">https://imgur.com/a/RrlzTJQ</a></p>\n<p>Loading font:</p>\n<pre class=\"lang-css prettyprint-override\"><code>@font-face {\n    font-family: 'Inter';\n    font-weight: 100;\n    src: url('Inter-Thin.ttf');\n}\n@font-face {\n    font-family: 'Inter';\n    font-weight: 200;\n    src: url('Inter-ExtraLight.ttf');\n}\n@font-face {\n    font-family: 'Inter';\n    font-weight: 300;\n    src: url('Inter-Light.ttf');\n}\n...\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-css prettyprint-override\"><code>* { -fx-font-family: &quot;Inter&quot;, serif; }\n\n.account-select-add-button {\n    -fx-text-fill: #2461FF;\n    -fx-font-size: 24px;\n    -fx-font-weight: 100; /* almost no effect */\n}\n</code></pre>\n<p>EDIT:\nRemoving the font loading code had no effect, since the font was already installed on the system. However, when I remove -fx-font-family the font changes to standard, which means that the font is actually loaded</p>\n<p>EDIT 2: <a href=\"https://i.stack.imgur.com/hc3Hp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hc3Hp.png\" alt=\"Fonts actually have different thicknesses\" /></a></p>\n"},{"tags":["java","multidimensional-array","string-comparison","array-comparison"],"answers":[{"tags":[],"owner":{"account_id":27181504,"reputation":364,"user_id":20716692,"display_name":"codingStarter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697968063,"creation_date":1697964312,"answer_id":77339252,"question_id":77339211,"body_markdown":"Yes, you have a problem with our logic. You are currently checking if there are two distinct cards within your cards, so if `card1` is distinct from `card2`, but the same as `card3`, you will get `valid`. because all three variables (`sameShape`, `sameColour`, `samePattern`) will be false.\r\n\r\nTry modifying your logic so it will check that none of the cards are equal. You might want to make a help function that will get three string and checks if none of them are equal.","title":"Comparing two different string elements of the same multidimensional array in Java","body":"<p>Yes, you have a problem with our logic. You are currently checking if there are two distinct cards within your cards, so if <code>card1</code> is distinct from <code>card2</code>, but the same as <code>card3</code>, you will get <code>valid</code>. because all three variables (<code>sameShape</code>, <code>sameColour</code>, <code>samePattern</code>) will be false.</p>\n<p>Try modifying your logic so it will check that none of the cards are equal. You might want to make a help function that will get three string and checks if none of them are equal.</p>\n"}],"owner":{"account_id":29726887,"reputation":13,"user_id":22782582,"display_name":"koder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77339252,"answer_count":1,"score":1,"last_activity_date":1697968063,"creation_date":1697963398,"question_id":77339211,"body_markdown":"I&#39;m currently doing a practice question for an upcoming practical exam and am stuck. I&#39;ve written a method to check whether a set of three cards is valid or invalid where we&#39;re told that &quot;Two cards are distinct if they do not have the same shape or colour or pattern i.e. none of their attributes match. Two cards are the same if they have the same shape and colour and pattern i.e. all their attributes match. A set of three cards is valid if it consists of (i) three distinct cards, or (ii) three of the same card.&quot;. Currently, if I run my program, every set of three cards is evaluated as &quot;valid&quot;. I&#39;m pretty sure the problem doesn&#39;t lie in the way I read in and store the cards and their attributes because I&#39;ve debugged that so I&#39;m assuming the problem lies in my logic for my cardsAreValid method, and specifically with how I compare the different string elements (attributes) for each card. However, I could be wrong. Please help.\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Check {\r\n\r\n    public static boolean cardsAreValid(String [][] threeCards){\r\n\r\n        boolean sameShape = threeCards[0][0].equals(threeCards[1][0]) &amp;&amp; threeCards[1][0].equals(threeCards[2][0]);\r\n        boolean sameColour = threeCards[0][1].equals(threeCards[1][1]) &amp;&amp; threeCards[1][1].equals(threeCards[2][1]);\r\n        boolean samePattern = threeCards[0][2].equals(threeCards[1][2]) &amp;&amp; threeCards[1][2].equals(threeCards[2][2]);\r\n\r\n        if (sameShape == true &amp;&amp; sameColour==true &amp;&amp; samePattern==true) // if all attributes match - same so valid\r\n            return true;\r\n        else if (sameShape==false &amp;&amp; sameColour==false &amp;&amp; samePattern==false) // if no attributes match - distinct so valid\r\n            return true;\r\n        else\r\n            return false; // if only 1 or 2 cards differ/match its invalid\r\n    }\r\n        \r\n    public static void main (String [] args) {\r\n            \r\n        File inFile = new File(&quot;cards.txt&quot;);\r\n        String [][] cards = new String[3][3];\r\n        List&lt;String&gt; allLines = new ArrayList&lt;&gt;();\r\n        \r\n        try (Scanner sc = new Scanner(inFile)) {\r\n\r\n            while (sc.hasNextLine()) {\r\n\r\n                allLines.add(sc.nextLine());\r\n            }  \r\n        } catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        for (int i = 0; i &lt; allLines.size(); i++) {\r\n\r\n            String fullLine = allLines.get(i);\r\n            System.out.println(&quot;Processing: &quot; + fullLine);\r\n\r\n            String [] singleCard = fullLine.split(&quot; &quot;);\r\n\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                int firstComma = singleCard[j].indexOf(&quot;,&quot;, 0);\r\n                int secondComma = singleCard[j].indexOf(&quot;,&quot;, firstComma+1);\r\n\r\n                String shape = singleCard[j].substring(0, firstComma);\r\n                String colour = singleCard[j].substring(firstComma+1, secondComma);\r\n                String pattern = singleCard[j].substring(secondComma+1);\r\n\r\n                cards[j][0] = shape;\r\n                cards[j][1] = colour;\r\n                cards[j][2] = pattern;\r\n            }\r\n\r\n            if (cardsAreValid(cards) == true) {\r\n                    System.out.println(&quot;Valid&quot;);\r\n            }\r\n            else\r\n                System.out.println(&quot;Invalid&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJust incase, the sample text file cards.txt looks as follows:\r\n\r\n&gt; square,blue,spot circle,red,solid triangle,green,stripe  \r\n&gt; square,blue,spot circle,red,solid triangle,green,solid  \r\n&gt; square,blue,spot square,blue,spot square,blue,spot square,blue,spot  \r\n&gt; square,blue,spot triangle,green,stripe  ","title":"Comparing two different string elements of the same multidimensional array in Java","body":"<p>I'm currently doing a practice question for an upcoming practical exam and am stuck. I've written a method to check whether a set of three cards is valid or invalid where we're told that &quot;Two cards are distinct if they do not have the same shape or colour or pattern i.e. none of their attributes match. Two cards are the same if they have the same shape and colour and pattern i.e. all their attributes match. A set of three cards is valid if it consists of (i) three distinct cards, or (ii) three of the same card.&quot;. Currently, if I run my program, every set of three cards is evaluated as &quot;valid&quot;. I'm pretty sure the problem doesn't lie in the way I read in and store the cards and their attributes because I've debugged that so I'm assuming the problem lies in my logic for my cardsAreValid method, and specifically with how I compare the different string elements (attributes) for each card. However, I could be wrong. Please help.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Check {\n\n    public static boolean cardsAreValid(String [][] threeCards){\n\n        boolean sameShape = threeCards[0][0].equals(threeCards[1][0]) &amp;&amp; threeCards[1][0].equals(threeCards[2][0]);\n        boolean sameColour = threeCards[0][1].equals(threeCards[1][1]) &amp;&amp; threeCards[1][1].equals(threeCards[2][1]);\n        boolean samePattern = threeCards[0][2].equals(threeCards[1][2]) &amp;&amp; threeCards[1][2].equals(threeCards[2][2]);\n\n        if (sameShape == true &amp;&amp; sameColour==true &amp;&amp; samePattern==true) // if all attributes match - same so valid\n            return true;\n        else if (sameShape==false &amp;&amp; sameColour==false &amp;&amp; samePattern==false) // if no attributes match - distinct so valid\n            return true;\n        else\n            return false; // if only 1 or 2 cards differ/match its invalid\n    }\n        \n    public static void main (String [] args) {\n            \n        File inFile = new File(&quot;cards.txt&quot;);\n        String [][] cards = new String[3][3];\n        List&lt;String&gt; allLines = new ArrayList&lt;&gt;();\n        \n        try (Scanner sc = new Scanner(inFile)) {\n\n            while (sc.hasNextLine()) {\n\n                allLines.add(sc.nextLine());\n            }  \n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        for (int i = 0; i &lt; allLines.size(); i++) {\n\n            String fullLine = allLines.get(i);\n            System.out.println(&quot;Processing: &quot; + fullLine);\n\n            String [] singleCard = fullLine.split(&quot; &quot;);\n\n            for (int j = 0; j &lt; 3; j++) {\n                int firstComma = singleCard[j].indexOf(&quot;,&quot;, 0);\n                int secondComma = singleCard[j].indexOf(&quot;,&quot;, firstComma+1);\n\n                String shape = singleCard[j].substring(0, firstComma);\n                String colour = singleCard[j].substring(firstComma+1, secondComma);\n                String pattern = singleCard[j].substring(secondComma+1);\n\n                cards[j][0] = shape;\n                cards[j][1] = colour;\n                cards[j][2] = pattern;\n            }\n\n            if (cardsAreValid(cards) == true) {\n                    System.out.println(&quot;Valid&quot;);\n            }\n            else\n                System.out.println(&quot;Invalid&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Just incase, the sample text file cards.txt looks as follows:</p>\n<blockquote>\n<p>square,blue,spot circle,red,solid triangle,green,stripe<br />\nsquare,blue,spot circle,red,solid triangle,green,solid<br />\nsquare,blue,spot square,blue,spot square,blue,spot square,blue,spot<br />\nsquare,blue,spot triangle,green,stripe</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","elasticsearch"],"comments":[{"owner":{"account_id":1391655,"reputation":14169,"user_id":1432281,"display_name":"dadoonet"},"score":0,"creation_date":1697984847,"post_id":77339289,"comment_id":136345176,"body_markdown":"Not answering but you should upgrade to 7.17 and even better 8.10. Anyway this is a huge step forward, so 8.10 should be preferred. Note that HLClient is deprecated in 7.17 and removed later. So better to switch directly to the latest client.","body":"Not answering but you should upgrade to 7.17 and even better 8.10. Anyway this is a huge step forward, so 8.10 should be preferred. Note that HLClient is deprecated in 7.17 and removed later. So better to switch directly to the latest client."}],"owner":{"account_id":2161967,"reputation":228,"user_id":1915947,"display_name":"Hadash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697967932,"creation_date":1697965228,"question_id":77339289,"body_markdown":"I want to upgrade my Elasticsearch from 5.5 to 7.10. I am using AWS ES. And I created a new cluster with 7.10 version and try to change the code to use it instead of the previous. I saw that I have to change the code from Jest to RestHighLevelClient, but didn&#39;t succeeded to do it. Does someone have an working example for it from the creation of the client, create index, and search?\r\n","title":"Java code to use Elasticsearch 7.10 on AWS","body":"<p>I want to upgrade my Elasticsearch from 5.5 to 7.10. I am using AWS ES. And I created a new cluster with 7.10 version and try to change the code to use it instead of the previous. I saw that I have to change the code from Jest to RestHighLevelClient, but didn't succeeded to do it. Does someone have an working example for it from the creation of the client, create index, and search?</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1697941247,"post_id":77338333,"comment_id":136342069,"body_markdown":"Classes contain methods, fields, and rarely initializers and other types. Your class contains statements (`doors[0] = ...`). Those cannot be put in a class. After all, when do you imagine that would run? If you want that to run when `new HardRoom()` is executed, put it in the constructor.","body":"Classes contain methods, fields, and rarely initializers and other types. Your class contains statements (<code>doors[0] = ...</code>). Those cannot be put in a class. After all, when do you imagine that would run? If you want that to run when <code>new HardRoom()</code> is executed, put it in the constructor."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697942631,"post_id":77338333,"comment_id":136342135,"body_markdown":"Format your block of code here by either indenting all lines by four spaces OR wrapping in a pair of triple back-ticks.","body":"Format your block of code here by either indenting all lines by four spaces OR wrapping in a pair of triple back-ticks."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697942706,"post_id":77338333,"comment_id":136342142,"body_markdown":"https://docs.oracle.com/javase/tutorial/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697944515,"creation_date":1697944515,"answer_id":77338514,"question_id":77338333,"body_markdown":"&gt; _&#39;... I have made a class however when I try to implement its variables in a different class it won&#39;t work. The error I receive is &quot;missing method body&quot;. ...&#39;_\r\n\r\nYou can only declare _[members](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_ in the _class scope_.\r\n\r\n```java\r\nclass HardRoom extends Room {\r\n    Door[] doors = new Door[4];\r\n    \r\n    public HardRoom() {\r\n        doors[0] = new Door(&quot;A wooden red door, it stares at you intently. You notice a few chips engraved onto the door. What kind of damage have people tried inflicting on this door..?&quot;, -2, &quot;strawberry&quot;, false);\r\n    }\r\n}\r\n```","title":"Not able to access classes","body":"<blockquote>\n<p><em>'... I have made a class however when I try to implement its variables in a different class it won't work. The error I receive is &quot;missing method body&quot;. ...'</em></p>\n</blockquote>\n<p>You can only declare <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">members</a></em> in the <em>class scope</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class HardRoom extends Room {\n    Door[] doors = new Door[4];\n    \n    public HardRoom() {\n        doors[0] = new Door(&quot;A wooden red door, it stares at you intently. You notice a few chips engraved onto the door. What kind of damage have people tried inflicting on this door..?&quot;, -2, &quot;strawberry&quot;, false);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19758539,"reputation":33,"user_id":14468268,"display_name":"ralietonle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697945737,"creation_date":1697945737,"answer_id":77338540,"question_id":77338333,"body_markdown":"Oriented Object Programming comes with a lot of concepts that you need to know in order to not breakdown in front of errors. \r\nThere are two concepts here that can help you deal with these errors :\r\n- **Visibility** (of variables and methods): The default visibility of your variables is *public*, which is not often a good idea when dealing with class fields. With the right visibility, you will get more specific errors. \r\n- **Static** (variables and methods) : \r\nThey are variables and methods that belong to a class rather than instances of the class.\r\nHere is an example :\r\nLet&#39;s say you have a class A:\r\n\r\n    public class A{\r\n\r\n      static int i = 0;\r\n      int j ;\r\n\r\n      public A(int k){\r\n        this.i = k;\r\n      }\r\n      public static printI(){\r\n        System.out.println(this.i);\r\n      }\r\n      public printJ(){\r\n        System.out.println(this.j);\r\n      }\r\n}\r\n\r\n\r\nThen :\r\n\r\n    A a = new A();\r\n    A b = new B();\r\n    \r\n    a.printI() # 0\r\n    \r\n    a.i++; \r\n    a.j++;\r\n    a.printI() # 1\r\n    A.printI() #1\r\n    a.printJ(); # 1\r\n    b.printJ(); # 0\r\n\r\nAs you can see, i is shared by a and b.\r\n\r\n**And even A**, the class itself. That means that you don&#39;t need the instantiate an object of A in order to manipulate i. \r\nIt&#39;s the same thing like when you do Math.PI (PI is a static variable of Math class).\r\nSo if you get this, you can also understand that a **static method can&#39;t manipulate non-static variables** (because a non-static variable is born at instantiation of an object of the class while a static variable doesn&#39;t need that).\r\n\r\nIn your case, main is (generally) a static method, that&#39;s why it asks you to change variables to static.\r\n\r\nThere are many basic notions like those in order to code in Java. [Here][1] is a good lite java tutorial.\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/default.asp","title":"Not able to access classes","body":"<p>Oriented Object Programming comes with a lot of concepts that you need to know in order to not breakdown in front of errors.\nThere are two concepts here that can help you deal with these errors :</p>\n<ul>\n<li><p><strong>Visibility</strong> (of variables and methods): The default visibility of your variables is <em>public</em>, which is not often a good idea when dealing with class fields. With the right visibility, you will get more specific errors.</p>\n</li>\n<li><p><strong>Static</strong> (variables and methods) :\nThey are variables and methods that belong to a class rather than instances of the class.\nHere is an example :\nLet's say you have a class A:</p>\n<p>public class A{</p>\n<pre><code>static int i = 0;\nint j ;\n\npublic A(int k){\n  this.i = k;\n}\npublic static printI(){\n  System.out.println(this.i);\n}\npublic printJ(){\n  System.out.println(this.j);\n}\n</code></pre>\n</li>\n</ul>\n<p>}</p>\n<p>Then :</p>\n<pre><code>A a = new A();\nA b = new B();\n\na.printI() # 0\n\na.i++; \na.j++;\na.printI() # 1\nA.printI() #1\na.printJ(); # 1\nb.printJ(); # 0\n</code></pre>\n<p>As you can see, i is shared by a and b.</p>\n<p><strong>And even A</strong>, the class itself. That means that you don't need the instantiate an object of A in order to manipulate i.\nIt's the same thing like when you do Math.PI (PI is a static variable of Math class).\nSo if you get this, you can also understand that a <strong>static method can't manipulate non-static variables</strong> (because a non-static variable is born at instantiation of an object of the class while a static variable doesn't need that).</p>\n<p>In your case, main is (generally) a static method, that's why it asks you to change variables to static.</p>\n<p>There are many basic notions like those in order to code in Java. <a href=\"https://www.w3schools.com/java/default.asp\" rel=\"nofollow noreferrer\">Here</a> is a good lite java tutorial.</p>\n"}],"owner":{"account_id":29725567,"reputation":1,"user_id":22781639,"display_name":"ayexia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697966850,"creation_date":1697937205,"question_id":77338333,"body_markdown":"I am trying to code a small project and am still new to the idea of classes and having my programming being more object-oriented.\r\n\r\nI have made a class however when I try to implement its variables in a different class it won&#39;t work. The error I receive is &quot;missing method body&quot;.\r\n\r\nI am also having an issue with accessing methods/classes in general - I am unable to initialize my classes for some reason in Main. I consistently get a message saying to change my variables to static (even though I have been advised not to do so).\r\n\r\nI hope this makes sense. Any help will be greatly appreciated, thank you!\r\n       \r\n\r\nThis is my Class Door\r\n\r\n     class Door {\r\n\r\n        String description;\r\n        int damage;\r\n        String keyItem;\r\n\r\n        boolean checkItem(String item) {\r\n            if (Objects.equals(keyItem, &quot;&quot;) || Objects.equals(item, keyItem)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        public Door(String description, int damage, String keyItem, boolean checkItem){\r\n\r\n        }\r\n\r\n     }\r\n\r\nThis is when I try to implement into another class\r\n\r\n    class HardRoom extends Room {\r\n        public HardRoom() {\r\n            \r\n        }\r\n\r\n        Door[] doors = new Door[4];\r\n        doors[0] = new Door(&quot;A wooden red door, it stares at you intently. You notice a few chips engraved onto the door. What kind of damage have people tried inflicting on this door..?&quot;, -2, &quot;strawberry&quot;, false); \r\n\r\n\r\nThis is my Main method where I cannot actually create my new Room, HardRoom, HarderRoom or Player without making them all static.\r\n\r\n    public static void main(String args[]) {\r\n        while (true) {\r\n            Room entrance = new Room();\r\n            HardRoom doorRoom = new HardRoom();\r\n            HarderRoom keyRoom = new HarderRoom();\r\n            Player newPlayer = new Player();\r\n            newPlayer.init();\r\n\r\n\r\nPlease let me know if I need to show any other snippets of code, thank you.","title":"Not able to access classes","body":"<p>I am trying to code a small project and am still new to the idea of classes and having my programming being more object-oriented.</p>\n<p>I have made a class however when I try to implement its variables in a different class it won't work. The error I receive is &quot;missing method body&quot;.</p>\n<p>I am also having an issue with accessing methods/classes in general - I am unable to initialize my classes for some reason in Main. I consistently get a message saying to change my variables to static (even though I have been advised not to do so).</p>\n<p>I hope this makes sense. Any help will be greatly appreciated, thank you!</p>\n<p>This is my Class Door</p>\n<pre><code> class Door {\n\n    String description;\n    int damage;\n    String keyItem;\n\n    boolean checkItem(String item) {\n        if (Objects.equals(keyItem, &quot;&quot;) || Objects.equals(item, keyItem)) {\n            return true;\n        }\n        return false;\n    }\n\n    public Door(String description, int damage, String keyItem, boolean checkItem){\n\n    }\n\n }\n</code></pre>\n<p>This is when I try to implement into another class</p>\n<pre><code>class HardRoom extends Room {\n    public HardRoom() {\n        \n    }\n\n    Door[] doors = new Door[4];\n    doors[0] = new Door(&quot;A wooden red door, it stares at you intently. You notice a few chips engraved onto the door. What kind of damage have people tried inflicting on this door..?&quot;, -2, &quot;strawberry&quot;, false); \n</code></pre>\n<p>This is my Main method where I cannot actually create my new Room, HardRoom, HarderRoom or Player without making them all static.</p>\n<pre><code>public static void main(String args[]) {\n    while (true) {\n        Room entrance = new Room();\n        HardRoom doorRoom = new HardRoom();\n        HarderRoom keyRoom = new HarderRoom();\n        Player newPlayer = new Player();\n        newPlayer.init();\n</code></pre>\n<p>Please let me know if I need to show any other snippets of code, thank you.</p>\n"},{"tags":["java","android","kotlin","camera","qr-code"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696362552,"post_id":77224822,"comment_id":136142552,"body_markdown":"Android&#39;s `CameraView` is not the same as any default camera app on a device which might/might not handle QR codes.","body":"Android&#39;s <code>CameraView</code> is not the same as any default camera app on a device which might/might not handle QR codes."},{"owner":{"account_id":14236225,"reputation":11,"user_id":22237030,"display_name":"CrazyProgrammer"},"score":0,"creation_date":1696363099,"post_id":77224822,"comment_id":136142640,"body_markdown":"So which class should be used to detect QR defined QR Codes?","body":"So which class should be used to detect QR defined QR Codes?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696380985,"post_id":77224822,"comment_id":136144532,"body_markdown":"If you want to run the camera within your own app, and want to scan QR codes, you&#39;ll have to use a library like ZXing or MLKit. There is no formal way of returning the contents of a QR code is via Android Intent. Any example you find uses a known second camera/barcode reader app that will need to be installed in addition to your own.","body":"If you want to run the camera within your own app, and want to scan QR codes, you&#39;ll have to use a library like ZXing or MLKit. There is no formal way of returning the contents of a QR code is via Android Intent. Any example you find uses a known second camera/barcode reader app that will need to be installed in addition to your own."},{"owner":{"account_id":14236225,"reputation":11,"user_id":22237030,"display_name":"CrazyProgrammer"},"score":0,"creation_date":1697834405,"post_id":77224822,"comment_id":136334103,"body_markdown":"So can&#39;t it be done without using these packages?","body":"So can&#39;t it be done without using these packages?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1697846964,"post_id":77224822,"comment_id":136335328,"body_markdown":"Android framework has no default/built-in barcode scanning/processing functions. ZXing is open source so you are free to inspect/modify the code as you need. Do realize that the Android developer ecosystem is built with many libraries, both from Google and third-party developers.","body":"Android framework has no default/built-in barcode scanning/processing functions. ZXing is open source so you are free to inspect/modify the code as you need. Do realize that the Android developer ecosystem is built with many libraries, both from Google and third-party developers."},{"owner":{"account_id":14236225,"reputation":11,"user_id":22237030,"display_name":"CrazyProgrammer"},"score":0,"creation_date":1697965269,"post_id":77224822,"comment_id":136343399,"body_markdown":"A few years ago, when there was no ZXing package, there was a method of placing a QR code in the application and opening the data if it was the same QR code read by the camera.","body":"A few years ago, when there was no ZXing package, there was a method of placing a QR code in the application and opening the data if it was the same QR code read by the camera."}],"owner":{"account_id":14236225,"reputation":11,"user_id":22237030,"display_name":"CrazyProgrammer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697965318,"creation_date":1696359007,"question_id":77224822,"body_markdown":"I don&#39;t want Android Studio to scan QR codes other than those defined in the application and I want to do this with CameraView.\r\n\r\nInstead of downloading or installing a library, I want to scan the defined qr code via the phone&#39;s camera.","title":"Android Studio only reads defined QR codes in Java","body":"<p>I don't want Android Studio to scan QR codes other than those defined in the application and I want to do this with CameraView.</p>\n<p>Instead of downloading or installing a library, I want to scan the defined qr code via the phone's camera.</p>\n"},{"tags":["java","jquery","jsp","struts2","double-select"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414745307,"creation_date":1414745307,"answer_id":26670576,"question_id":26669206,"body_markdown":"The select component (as any other object in the page) knows nothing about the way it has been created. Once the component has been generated, it has no more connections of any kind with server side. \r\n\r\nThen you **need** to alter its HTML (and DOM along) to make changes to it, there is nothing like *refreshing a bunch of text, of &quot;html keywords&quot;*.\r\n\r\nThere are tools that hide this complexity (that however you have already handled, if that code is from you and not from your coworkers), by providing an easier interface to the programmer. They do the same things under the hood, but they&#39;ll save you the work.\r\n\r\nAn example is the Struts2-jquery-plugin; [take a look at the code for a double select][1].\r\n\r\nConsider that using the plugin, you will need to stay on S2 technology, while learning raw jQuery will help you in the future when changing framework (JSF2, SpringMVC, ecc), or even language/platform (C# / .NET, etc...).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25994676/1654265","title":"Refresh &lt;s:select&gt; tag on changing backing Java collection in Struts 2","body":"<p>The select component (as any other object in the page) knows nothing about the way it has been created. Once the component has been generated, it has no more connections of any kind with server side. </p>\n\n<p>Then you <strong>need</strong> to alter its HTML (and DOM along) to make changes to it, there is nothing like <em>refreshing a bunch of text, of \"html keywords\"</em>.</p>\n\n<p>There are tools that hide this complexity (that however you have already handled, if that code is from you and not from your coworkers), by providing an easier interface to the programmer. They do the same things under the hood, but they'll save you the work.</p>\n\n<p>An example is the Struts2-jquery-plugin; <a href=\"https://stackoverflow.com/a/25994676/1654265\">take a look at the code for a double select</a>.</p>\n\n<p>Consider that using the plugin, you will need to stay on S2 technology, while learning raw jQuery will help you in the future when changing framework (JSF2, SpringMVC, ecc), or even language/platform (C# / .NET, etc...).</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1627295973,"creation_date":1414751146,"answer_id":26672419,"question_id":26669206,"body_markdown":"The code is used to modify element of HTML DOM for the second `select` object to reflect changes in the data model. And if it&#39;s a *double select* scenario, then you should repopulate the data for the second select and return it in the `json` result. \r\n\r\nYou pass the parameter `projectId` in Ajax call that should be set by the first `select` in the value attribute when you make an option selection by the first select box. This parameter is set to the action property that you can use to repopulate a map for the second select box. \r\n\r\nThe data has been made with one-to-many relationship (Project &lt;- Package), so you can have different packages for the single project. \r\n\r\nOnce the parameter for the `projectId` is set you can query only packages that belong to that project `id` that equals to package `projectId`. \r\n\r\nWhen the data for the second select box is ready you return it with `json` result that serializes a property that corresponds to the second select box to JSON object. \r\n\r\nYou should have different action properties for each select box. That helps to limit a json output to serialize only the property for second select box. \r\n\r\nOnce JSON is returned to the client then you need to modify DOM of the second select box, it just can&#39;t update itself from the JSON that you received in the Ajax callback. \r\n\r\nYou can see the answer with code example: [Populating one select menu based on another select menu using AJAX in Struts2][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21357156/573032","title":"Refresh &lt;s:select&gt; tag on changing backing Java collection in Struts 2","body":"<p>The code is used to modify element of HTML DOM for the second <code>select</code> object to reflect changes in the data model. And if it's a <em>double select</em> scenario, then you should repopulate the data for the second select and return it in the <code>json</code> result.</p>\n<p>You pass the parameter <code>projectId</code> in Ajax call that should be set by the first <code>select</code> in the value attribute when you make an option selection by the first select box. This parameter is set to the action property that you can use to repopulate a map for the second select box.</p>\n<p>The data has been made with one-to-many relationship (Project &lt;- Package), so you can have different packages for the single project.</p>\n<p>Once the parameter for the <code>projectId</code> is set you can query only packages that belong to that project <code>id</code> that equals to package <code>projectId</code>.</p>\n<p>When the data for the second select box is ready you return it with <code>json</code> result that serializes a property that corresponds to the second select box to JSON object.</p>\n<p>You should have different action properties for each select box. That helps to limit a json output to serialize only the property for second select box.</p>\n<p>Once JSON is returned to the client then you need to modify DOM of the second select box, it just can't update itself from the JSON that you received in the Ajax callback.</p>\n<p>You can see the answer with code example: <a href=\"https://stackoverflow.com/a/21357156/573032\">Populating one select menu based on another select menu using AJAX in Struts2</a>.</p>\n"}],"owner":{"account_id":5259501,"reputation":23,"user_id":4201387,"display_name":"Hitanshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26672419,"answer_count":2,"score":2,"last_activity_date":1697964574,"creation_date":1414739286,"question_id":26669206,"body_markdown":"I am using two `&lt;s:select&gt;` tags and a Java collection `List` is in its list attribute. \r\n\r\nOn change of the one I want to populate a second dropdown. I&#39;ve used jQuery for that, it&#39;s called an action bean and populated the list with JSON response when it was returned and then set the values in the second drop down. All is working fine. JQuery code is shown below.\r\n\r\n&lt;!-- language-all: lang-js --&gt;\r\n\r\n    $(document).ready(function () {\r\n        $(&#39;#projectNameBox&#39;).change(function (event) {\r\n            var projectNameBoxVal = $(&quot;select#projectNameBox&quot;).val();\r\n            alert(projectNameBoxVal);\r\n            $.getJSON(&#39;getPackageListAction.action&#39;, {\r\n                &quot;projectId&quot;: projectNameBoxVal\r\n            }, function (jsonResponse) {\r\n                alert(jsonResponse);\r\n                var packageNameSelectBox = $(&#39;#packageNameBox&#39;);\r\n                packageNameSelectBox.find(&#39;option&#39;).remove();\r\n                $.each(jsonResponse, function (key, value) {\r\n                    $(&#39;&lt;option&gt;&#39;).val(key).text(value).appendTo(packageNameSelectBox);\r\n                });\r\n            });\r\n        });\r\n    });\r\n\r\nNow my concern is when I updated the second backing list by calling action on change of the first, then why I have to use below code to set option data?\r\n\r\n    var packageNameSelectBox = $(&#39;#packageNameBox&#39;);\r\n    packageNameSelectBox.find(&#39;option&#39;).remove();\r\n    $.each(jsonResponse, function (key, value) {\r\n        $(&#39;&lt;option&gt;&#39;).val(key).text(value).appendTo(packageNameSelectBox);\r\n    });\r\n\r\nCan we just refresh the component to reflect changes of backing list ?\r\n","title":"Refresh &lt;s:select&gt; tag on changing backing Java collection in Struts 2","body":"<p>I am using two <code>&lt;s:select&gt;</code> tags and a Java collection <code>List</code> is in its list attribute.</p>\n<p>On change of the one I want to populate a second dropdown. I've used jQuery for that, it's called an action bean and populated the list with JSON response when it was returned and then set the values in the second drop down. All is working fine. JQuery code is shown below.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function () {\n    $('#projectNameBox').change(function (event) {\n        var projectNameBoxVal = $(&quot;select#projectNameBox&quot;).val();\n        alert(projectNameBoxVal);\n        $.getJSON('getPackageListAction.action', {\n            &quot;projectId&quot;: projectNameBoxVal\n        }, function (jsonResponse) {\n            alert(jsonResponse);\n            var packageNameSelectBox = $('#packageNameBox');\n            packageNameSelectBox.find('option').remove();\n            $.each(jsonResponse, function (key, value) {\n                $('&lt;option&gt;').val(key).text(value).appendTo(packageNameSelectBox);\n            });\n        });\n    });\n});\n</code></pre>\n<p>Now my concern is when I updated the second backing list by calling action on change of the first, then why I have to use below code to set option data?</p>\n<pre class=\"lang-js prettyprint-override\"><code>var packageNameSelectBox = $('#packageNameBox');\npackageNameSelectBox.find('option').remove();\n$.each(jsonResponse, function (key, value) {\n    $('&lt;option&gt;').val(key).text(value).appendTo(packageNameSelectBox);\n});\n</code></pre>\n<p>Can we just refresh the component to reflect changes of backing list ?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693186359,"creation_date":1693179861,"answer_id":76989373,"question_id":76989057,"body_markdown":"You define two different `SecurityFilterChain` beans: one with `Basic` auth and the other one with `oauth2client()` and `oauth2Login()`.\r\n\r\nThis two security filter-chains must be decorated with `@Order` to determine which is tried first.\r\n\r\nThe one tried first must have a `securityMatcher` to define which requests it applies to. In your case, a matcher on the `Authorization` header starting with `Basic ` seems a good candidate.\r\n\r\n```java\r\n@Bean\r\n@Order(Ordered.LOWEST_PRECEDENCE - 1)\r\nSecurityFilterChain basicAuthFilterChain(HttpSecurity http) throws Exception {\r\n\r\n\t// process only requests with HTTP Basic Authorization\r\n\thttp.securityMatcher((HttpServletRequest request) -&gt; {\r\n\t\treturn Optional.ofNullable(request.getHeader(HttpHeaders.AUTHORIZATION)).map(h -&gt; {\r\n\t\t\treturn h.toLowerCase().startsWith(&quot;basic &quot;);\r\n\t\t}).orElse(false);\r\n\t});\r\n\r\n\thttp.httpBasic(withDefaults());\r\n\r\n\t...\r\n\r\n\treturn http.build();\r\n}\r\n\r\n@Bean\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\nSecurityFilterChain oauth2ClientFilterChain(HttpSecurity http) throws Exception {\r\n\thttp.oauth2Client(withDefaults());\r\n\thttp.oauth2Login(withDefaults());\r\n\thttp.authorizeHttpRequests(ex -&gt; ex\r\n\t\t// This is required for OAuth2 login (used during authoriztion_code flow, so BEFORE the user is authenticated)\r\n\t\t.requestMatchers(Stream.of(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).map(AntPathRequestMatcher::new).toArray(RequestMatcher[]::new)).permitAll()\r\n\t\t.anyRequest().authenticated());\r\n\r\n\t...\r\n\r\n\treturn http.build();\r\n}\r\n```","title":"Spring with both oauth2Login and Basic authentication","body":"<p>You define two different <code>SecurityFilterChain</code> beans: one with <code>Basic</code> auth and the other one with <code>oauth2client()</code> and <code>oauth2Login()</code>.</p>\n<p>This two security filter-chains must be decorated with <code>@Order</code> to determine which is tried first.</p>\n<p>The one tried first must have a <code>securityMatcher</code> to define which requests it applies to. In your case, a matcher on the <code>Authorization</code> header starting with <code>Basic </code> seems a good candidate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(Ordered.LOWEST_PRECEDENCE - 1)\nSecurityFilterChain basicAuthFilterChain(HttpSecurity http) throws Exception {\n\n    // process only requests with HTTP Basic Authorization\n    http.securityMatcher((HttpServletRequest request) -&gt; {\n        return Optional.ofNullable(request.getHeader(HttpHeaders.AUTHORIZATION)).map(h -&gt; {\n            return h.toLowerCase().startsWith(&quot;basic &quot;);\n        }).orElse(false);\n    });\n\n    http.httpBasic(withDefaults());\n\n    ...\n\n    return http.build();\n}\n\n@Bean\n@Order(Ordered.LOWEST_PRECEDENCE)\nSecurityFilterChain oauth2ClientFilterChain(HttpSecurity http) throws Exception {\n    http.oauth2Client(withDefaults());\n    http.oauth2Login(withDefaults());\n    http.authorizeHttpRequests(ex -&gt; ex\n        // This is required for OAuth2 login (used during authoriztion_code flow, so BEFORE the user is authenticated)\n        .requestMatchers(Stream.of(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).map(AntPathRequestMatcher::new).toArray(RequestMatcher[]::new)).permitAll()\n        .anyRequest().authenticated());\n\n    ...\n\n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9486989,"reputation":186,"user_id":7053096,"display_name":"Tudro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697964123,"creation_date":1697964123,"answer_id":77339242,"question_id":76989057,"body_markdown":"The problem I’m seeing is the URLs that you have configured for login links which, instead of sending you to the auth endpoint to initiate the oauth flow, are sending you to the redirection endpoint.\r\n\r\nSpring Security comes with default URLs for oauth2 authentication **/oauth2/authorization/{registrationId}** and redirection **/login/oauth2/code/{registrationId}** endpoints (registrationId: github, google, azure, …).\r\n\r\nIn your case, the correct urls links are:\r\n\r\n    private static final String GITHUB_OAUTH_URL = &quot;/oauth2/authorization/github&quot;;\r\n    private static final String GOOGLE_OAUTH_URL = &quot;/oauth2/authorization/google&quot;;\r\n\r\nYou can of course override Spring’s defaults but I won’t get into the details. This [section][1] from Spring Security doc provides more details if needed.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.1.0.RELEASE/reference/htmlsingle/#oauth2login-advanced-login-page\r\n","title":"Spring with both oauth2Login and Basic authentication","body":"<p>The problem I’m seeing is the URLs that you have configured for login links which, instead of sending you to the auth endpoint to initiate the oauth flow, are sending you to the redirection endpoint.</p>\n<p>Spring Security comes with default URLs for oauth2 authentication <strong>/oauth2/authorization/{registrationId}</strong> and redirection <strong>/login/oauth2/code/{registrationId}</strong> endpoints (registrationId: github, google, azure, …).</p>\n<p>In your case, the correct urls links are:</p>\n<pre><code>private static final String GITHUB_OAUTH_URL = &quot;/oauth2/authorization/github&quot;;\nprivate static final String GOOGLE_OAUTH_URL = &quot;/oauth2/authorization/google&quot;;\n</code></pre>\n<p>You can of course override Spring’s defaults but I won’t get into the details. This <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.0.RELEASE/reference/htmlsingle/#oauth2login-advanced-login-page\" rel=\"nofollow noreferrer\">section</a> from Spring Security doc provides more details if needed.</p>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697964123,"creation_date":1693172261,"question_id":76989057,"body_markdown":"currently I am trying to add OAuth 2.0 in my Vaadin Application that will work also with my login form. I read this [documentation][1] on adding OAuth for Google. \r\n\r\nFirstly, I added required dependency\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen I added `client-id` and `client-secret` both for GitHub and Google in application.properties file\r\n```\r\n# Github\r\nspring.security.oauth2.client.registration.github.client-id={id}\r\nspring.security.oauth2.client.registration.github.client-secret={secret}\r\n# Google\r\nspring.security.oauth2.client.registration.google.client-id={id}\r\nspring.security.oauth2.client.registration.google.client-secret={secret}\r\n```\r\n\r\nAfter this, I set up my Web Configuration file\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class VaadinSecurityConfiguration extends VaadinWebSecurity {\r\n\r\n    private static final String LOGIN_URL = &quot;/login&quot;;\r\n    private static final String LOGIN_PROCESSING_URL = &quot;/login&quot;;\r\n    private static final String LOGIN_FAILURE_URL = &quot;/login?error&quot;;\r\n    private static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\r\n    private static final String DENIED_PAGE_URL = &quot;/404&quot;;\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt; {\r\n                    auth.requestMatchers(&quot;/&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/login&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/register&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/icons/**&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/images/**&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/oauth2/**&quot;).permitAll();\r\n                })\r\n                .oauth2Login(oauth -&gt; oauth.loginPage(LOGIN_URL).permitAll())\r\n                .formLogin(loginForm -&gt; {\r\n                    loginForm.loginPage(LOGIN_URL);\r\n                    loginForm.loginProcessingUrl(LOGIN_PROCESSING_URL);\r\n                    loginForm.failureUrl(LOGIN_FAILURE_URL);\r\n                })\r\n                .logout(logout -&gt; logout.logoutSuccessUrl(LOGOUT_SUCCESS_URL))\r\n                .exceptionHandling(e -&gt; {\r\n                    e.authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\r\n                    e.accessDeniedPage(DENIED_PAGE_URL);\r\n                });\r\n\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\r\n        return authConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        daoAuthenticationProvider.setUserDetailsService(userService);\r\n        return daoAuthenticationProvider;\r\n    }\r\n}\r\n```\r\n\r\nAnd then login form\r\n\r\n```\r\n@AnonymousAllowed\r\n@PageTitle(&quot;Login&quot;)\r\n@Route(value = &quot;login&quot;, layout = MainLayout.class)\r\npublic class LoginView extends VerticalLayout implements BeforeEnterObserver {\r\n\r\n    private static final String GITHUB_OAUTH_URL = &quot;/oauth2/code/github&quot;;\r\n    private static final String GOOGLE_OAUTH_URL = &quot;/oauth2/code/google&quot;;\r\n\r\n    private final LoginForm loginForm = new LoginForm();\r\n\r\n    public LoginView() {\r\n        Anchor githubLoginLink = new Anchor(GITHUB_OAUTH_URL, &quot;Login with Github&quot;);\r\n        Anchor googleLoginLink = new Anchor(GOOGLE_OAUTH_URL, &quot;Login with Google&quot;);\r\n        githubLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\r\n        googleLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\r\n\r\n        loginForm.setAction(&quot;login&quot;);\r\n\r\n        add(\r\n                new H1(&quot;Welcome to Login Form&quot;),\r\n                loginForm,\r\n                githubLoginLink,\r\n                googleLoginLink\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\r\n        if (beforeEnterEvent.getLocation()\r\n                .getQueryParameters()\r\n                .getParameters()\r\n                .containsKey(&quot;error&quot;)) {\r\n            loginForm.setError(true);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd this is what happens when I click on any of the anchors. It redirects me to the anchor link. \r\n\r\n**Example:**&lt;br&gt;\r\nAfter pressing the GitHub anchor, it goes to `http://localhost:8080/oauth2/code/github`, which I suppose isn&#39;t the right behavior, because of this\r\n\r\n```\r\n        // Set router-ignore attribute so that Vaadin router doesn&#39;t handle the login request\r\n        githubLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\r\n        googleLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\r\n```\r\nwhich is taken from Vaadin official documentation. On this redirected page, nothing happens without OAuth happening. Hope somebody could help to fix this issue, cheers!\r\n\r\n\r\n\r\n  [1]: https://vaadin.com/blog/oauth-2-and-google-sign-in-for-a-vaadin-application","title":"Spring with both oauth2Login and Basic authentication","body":"<p>currently I am trying to add OAuth 2.0 in my Vaadin Application that will work also with my login form. I read this <a href=\"https://vaadin.com/blog/oauth-2-and-google-sign-in-for-a-vaadin-application\" rel=\"nofollow noreferrer\">documentation</a> on adding OAuth for Google.</p>\n<p>Firstly, I added required dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then I added <code>client-id</code> and <code>client-secret</code> both for GitHub and Google in application.properties file</p>\n<pre><code># Github\nspring.security.oauth2.client.registration.github.client-id={id}\nspring.security.oauth2.client.registration.github.client-secret={secret}\n# Google\nspring.security.oauth2.client.registration.google.client-id={id}\nspring.security.oauth2.client.registration.google.client-secret={secret}\n</code></pre>\n<p>After this, I set up my Web Configuration file</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class VaadinSecurityConfiguration extends VaadinWebSecurity {\n\n    private static final String LOGIN_URL = &quot;/login&quot;;\n    private static final String LOGIN_PROCESSING_URL = &quot;/login&quot;;\n    private static final String LOGIN_FAILURE_URL = &quot;/login?error&quot;;\n    private static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\n    private static final String DENIED_PAGE_URL = &quot;/404&quot;;\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeHttpRequests(auth -&gt; {\n                    auth.requestMatchers(&quot;/&quot;).permitAll();\n                    auth.requestMatchers(&quot;/login&quot;).permitAll();\n                    auth.requestMatchers(&quot;/register&quot;).permitAll();\n                    auth.requestMatchers(&quot;/icons/**&quot;).permitAll();\n                    auth.requestMatchers(&quot;/images/**&quot;).permitAll();\n                    auth.requestMatchers(&quot;/oauth2/**&quot;).permitAll();\n                })\n                .oauth2Login(oauth -&gt; oauth.loginPage(LOGIN_URL).permitAll())\n                .formLogin(loginForm -&gt; {\n                    loginForm.loginPage(LOGIN_URL);\n                    loginForm.loginProcessingUrl(LOGIN_PROCESSING_URL);\n                    loginForm.failureUrl(LOGIN_FAILURE_URL);\n                })\n                .logout(logout -&gt; logout.logoutSuccessUrl(LOGOUT_SUCCESS_URL))\n                .exceptionHandling(e -&gt; {\n                    e.authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\n                    e.accessDeniedPage(DENIED_PAGE_URL);\n                });\n\n        super.configure(http);\n        setLoginView(http, LoginView.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\n        return authConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\n        daoAuthenticationProvider.setUserDetailsService(userService);\n        return daoAuthenticationProvider;\n    }\n}\n</code></pre>\n<p>And then login form</p>\n<pre><code>@AnonymousAllowed\n@PageTitle(&quot;Login&quot;)\n@Route(value = &quot;login&quot;, layout = MainLayout.class)\npublic class LoginView extends VerticalLayout implements BeforeEnterObserver {\n\n    private static final String GITHUB_OAUTH_URL = &quot;/oauth2/code/github&quot;;\n    private static final String GOOGLE_OAUTH_URL = &quot;/oauth2/code/google&quot;;\n\n    private final LoginForm loginForm = new LoginForm();\n\n    public LoginView() {\n        Anchor githubLoginLink = new Anchor(GITHUB_OAUTH_URL, &quot;Login with Github&quot;);\n        Anchor googleLoginLink = new Anchor(GOOGLE_OAUTH_URL, &quot;Login with Google&quot;);\n        githubLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\n        googleLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\n\n        loginForm.setAction(&quot;login&quot;);\n\n        add(\n                new H1(&quot;Welcome to Login Form&quot;),\n                loginForm,\n                githubLoginLink,\n                googleLoginLink\n        );\n    }\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\n        if (beforeEnterEvent.getLocation()\n                .getQueryParameters()\n                .getParameters()\n                .containsKey(&quot;error&quot;)) {\n            loginForm.setError(true);\n        }\n    }\n\n}\n\n</code></pre>\n<p>And this is what happens when I click on any of the anchors. It redirects me to the anchor link.</p>\n<p><strong>Example:</strong><br>\nAfter pressing the GitHub anchor, it goes to <code>http://localhost:8080/oauth2/code/github</code>, which I suppose isn't the right behavior, because of this</p>\n<pre><code>        // Set router-ignore attribute so that Vaadin router doesn't handle the login request\n        githubLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\n        googleLoginLink.getElement().setAttribute(&quot;router-ignore&quot;, true);\n</code></pre>\n<p>which is taken from Vaadin official documentation. On this redirected page, nothing happens without OAuth happening. Hope somebody could help to fix this issue, cheers!</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697907840,"post_id":77336999,"comment_id":136339631,"body_markdown":"&quot;*... I read a statement ... *&quot; -  Where did you read this statement?","body":"&quot;*... I read a statement ... *&quot; -  Where did you read this statement?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1697907958,"post_id":77336999,"comment_id":136339638,"body_markdown":"Does this answer your question? [What&#39;s the difference between session.persist() and session.save() in Hibernate?](https://stackoverflow.com/questions/5862680/whats-the-difference-between-session-persist-and-session-save-in-hibernate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5862680/whats-the-difference-between-session-persist-and-session-save-in-hibernate\">What&#39;s the difference between session.persist() and session.save() in Hibernate?</a>"},{"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"score":1,"creation_date":1697909428,"post_id":77336999,"comment_id":136339786,"body_markdown":"Hi, i did go through the answers, but none of them mentions this difference clearly with a code example.","body":"Hi, i did go through the answers, but none of them mentions this difference clearly with a code example."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697916202,"post_id":77336999,"comment_id":136340427,"body_markdown":"Looks like [XY problem](https://xyproblem.info/). You asking about differences of hibernate methods, but have a problem with understanding transactions.","body":"Looks like <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. You asking about differences of hibernate methods, but have a problem with understanding transactions."},{"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"score":0,"creation_date":1697954481,"post_id":77336999,"comment_id":136342708,"body_markdown":"Hi, can you tell me what I have missed about transactions ??","body":"Hi, can you tell me what I have missed about transactions ??"}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1697915906,"answer_count":0,"score":1,"last_activity_date":1697962441,"creation_date":1697907589,"question_id":77336999,"body_markdown":"I am currently learning Hibernate. While learning about save() and persist() method, I read a statement that save() works outside the transaction boundaries while persist() works only inside the transaction boundaries. I am not able to understand this statement.\r\n\r\nThis concept is tough to understand as there is no clear example illustrating the above difference in code level properly. Kindly help here.\r\n\r\nPlease refer to the below code:-\r\n\r\nEmployee.class\r\n\r\n```\r\npackage org.example;\r\n\r\npublic class Employee {\r\n\r\n    private int employeeid;\r\n    private String employeename;\r\n    private String designation;\r\n\r\n    public int getEmployeeid() {\r\n        return employeeid;\r\n    }\r\n\r\n    public void setEmployeeid(int employeeid) {\r\n        this.employeeid = employeeid;\r\n    }\r\n\r\n    public String getEmployeename() {\r\n        return employeename;\r\n    }\r\n\r\n    public void setEmployeename(String employeename) {\r\n        this.employeename = employeename;\r\n    }\r\n\r\n    public String getDesignation() {\r\n        return designation;\r\n    }\r\n\r\n    public void setDesignation(String designation) {\r\n        this.designation = designation;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;employeeid=&quot; + employeeid +\r\n                &quot;, employeename=&#39;&quot; + employeename + &#39;\\&#39;&#39; +\r\n                &quot;, designation=&#39;&quot; + designation + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nApp.java\r\n\r\n```\r\npublic class App\r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        Employee employee = new Employee();\r\n        employee.setEmployeeid(1);\r\n        employee.setEmployeename(&quot;Chris&quot;);\r\n        employee.setDesignation(&quot;Developer&quot;);\r\n\r\n        Configuration configuration = new Configuration();\r\n        configuration.configure(&quot;hibernate-cnf.xml&quot;);\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n\r\n        session.save(employee);\r\n\r\n        Employee e2 = (Employee) session.get(Employee.class,1);\r\n        System.out.println(e2.toString());\r\n\r\n\r\n        session.close();\r\n        sessionFactory.close();\r\n\r\n    }\r\n}\r\n```\r\nmapping file:-\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;org.example.Employee&quot; schema=&quot;employee&quot;&gt;\r\n        &lt;id name=&quot;employeeid&quot; column=&quot;eid&quot;&gt;\r\n            &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;employeename&quot;/&gt;\r\n        &lt;property name=&quot;designation&quot;/&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\nNow you can see that in the mapping file I am generating the primary key using the generator. If I call the save method, I am getting the below lines in output:-\r\n\r\n```\r\nHibernate: drop table if exists employee.Employee\r\nHibernate: create table employee.Employee (eid integer not null auto_increment, employeename varchar(255), designation varchar(255), primary key (eid))\r\nOct 22, 2023 1:21:09 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\r\nINFO: HHH000230: Schema export complete\r\nHibernate: insert into employee.Employee (employeename, designation) values (?, ?)\r\nEmployee{employeeid=1, employeename=&#39;Chris&#39;, designation=&#39;Developer&#39;}\r\n```\r\n\r\nIf I remove the primary key generator in the mapping file and manually assign the primary key in the App.java file:-\r\n\r\n```\r\nemployee.setId(1);\r\n```\r\n\r\nMapping file:-\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;org.example.Employee&quot; schema=&quot;employee&quot;&gt;\r\n        &lt;id name=&quot;employeeid&quot; column=&quot;eid&quot;&gt;\r\n          &lt;!--  &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;--&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;employeename&quot;/&gt;\r\n        &lt;property name=&quot;designation&quot;/&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\nand then if I run the App.java, then the save() method is not doing the inerstion..i.e. the insertion command is not printing in the console.\r\nI am getting the following output with out the primary key generator.\r\n\r\n```\r\nHibernate: drop table if exists employee.Employee\r\nHibernate: create table employee.Employee (eid integer not null, employeename varchar(255), designation varchar(255), primary key (eid))\r\nOct 22, 2023 1:24:59 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\r\nINFO: HHH000230: Schema export complete\r\nEmployee{employeeid=1, employeename=&#39;Chris&#39;, designation=&#39;Developer&#39;}\r\n```\r\n\r\nWhy is the insert command not present??\r\n\r\nSame thing I tried for persist() method too...\r\n\r\nIf I change save to persist in App.java\r\n\r\n```\r\n session.persist(employee);\r\n```\r\nand run the file with the primary key generator, then the insert command is not printing. This is expected as persist() does not work outside the transaction boundaries.\r\n\r\nThis is the output I am getting and the exception is clear as object has not been moved to persistent state.\r\n\r\n```\r\nHibernate: drop table if exists employee.Employee\r\nHibernate: create table employee.Employee (eid integer not null auto_increment, employeename varchar(255), designation varchar(255), primary key (eid))\r\nOct 22, 2023 1:29:35 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\r\nINFO: HHH000230: Schema export complete\r\nHibernate: select employee0_.eid as eid0_0_, employee0_.employeename as employee2_0_0_, employee0_.designation as designat3_0_0_ from employee.Employee employee0_ where employee0_.eid=?\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.example.Employee.toString()&quot; because &quot;e2&quot; is null\r\n\tat org.example.App.main(App.java:28)\r\n```\r\n\r\nNow if I remove the primary key generator in mapping file and manually assign the Primary key and If I call the persist() method, then it works it is moving the object to the persistent state even outside the transaction boundary. No null pointer exception in this case.\r\n\r\n```\r\nHibernate: drop table if exists employee.Employee\r\nHibernate: create table employee.Employee (eid integer not null, employeename varchar(255), designation varchar(255), primary key (eid))\r\nOct 22, 2023 1:32:08 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\r\nINFO: HHH000230: Schema export complete\r\nEmployee{employeeid=1, employeename=&#39;Chris&#39;, designation=&#39;Developer&#39;}\r\n```\r\n\r\nSo my doubts are:-\r\n\r\n1.What is meant by a transaction boundary?\r\n\r\n2.save() method is printing the insert statement in console when I am using primary key generator, but it is not printing the insert statement when I am manually assigning the primary key. Why is it so??\r\n\r\n3.persist() method is not working outside the transaction boundaries. This statement holds true when I am using primary key generators, but if I am using the same persist() method outside the transaction without the primary key generators then it works by moving the object to persistent state even outside the transaction boundary. Why is it working in this way?\r\n\r\nPlease help in clarifying the above questions as these methods are behaving differently when used with and without the primary key generator.\r\n","title":"Hibernate - save() vs persist()","body":"<p>I am currently learning Hibernate. While learning about save() and persist() method, I read a statement that save() works outside the transaction boundaries while persist() works only inside the transaction boundaries. I am not able to understand this statement.</p>\n<p>This concept is tough to understand as there is no clear example illustrating the above difference in code level properly. Kindly help here.</p>\n<p>Please refer to the below code:-</p>\n<p>Employee.class</p>\n<pre><code>package org.example;\n\npublic class Employee {\n\n    private int employeeid;\n    private String employeename;\n    private String designation;\n\n    public int getEmployeeid() {\n        return employeeid;\n    }\n\n    public void setEmployeeid(int employeeid) {\n        this.employeeid = employeeid;\n    }\n\n    public String getEmployeename() {\n        return employeename;\n    }\n\n    public void setEmployeename(String employeename) {\n        this.employeename = employeename;\n    }\n\n    public String getDesignation() {\n        return designation;\n    }\n\n    public void setDesignation(String designation) {\n        this.designation = designation;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;employeeid=&quot; + employeeid +\n                &quot;, employeename='&quot; + employeename + '\\'' +\n                &quot;, designation='&quot; + designation + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>App.java</p>\n<pre><code>public class App\n{\n    public static void main( String[] args )\n    {\n        Employee employee = new Employee();\n        employee.setEmployeeid(1);\n        employee.setEmployeename(&quot;Chris&quot;);\n        employee.setDesignation(&quot;Developer&quot;);\n\n        Configuration configuration = new Configuration();\n        configuration.configure(&quot;hibernate-cnf.xml&quot;);\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\n        Session session = sessionFactory.openSession();\n\n        session.save(employee);\n\n        Employee e2 = (Employee) session.get(Employee.class,1);\n        System.out.println(e2.toString());\n\n\n        session.close();\n        sessionFactory.close();\n\n    }\n}\n</code></pre>\n<p>mapping file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;org.example.Employee&quot; schema=&quot;employee&quot;&gt;\n        &lt;id name=&quot;employeeid&quot; column=&quot;eid&quot;&gt;\n            &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;employeename&quot;/&gt;\n        &lt;property name=&quot;designation&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>Now you can see that in the mapping file I am generating the primary key using the generator. If I call the save method, I am getting the below lines in output:-</p>\n<pre><code>Hibernate: drop table if exists employee.Employee\nHibernate: create table employee.Employee (eid integer not null auto_increment, employeename varchar(255), designation varchar(255), primary key (eid))\nOct 22, 2023 1:21:09 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000230: Schema export complete\nHibernate: insert into employee.Employee (employeename, designation) values (?, ?)\nEmployee{employeeid=1, employeename='Chris', designation='Developer'}\n</code></pre>\n<p>If I remove the primary key generator in the mapping file and manually assign the primary key in the App.java file:-</p>\n<pre><code>employee.setId(1);\n</code></pre>\n<p>Mapping file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;org.example.Employee&quot; schema=&quot;employee&quot;&gt;\n        &lt;id name=&quot;employeeid&quot; column=&quot;eid&quot;&gt;\n          &lt;!--  &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;--&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;employeename&quot;/&gt;\n        &lt;property name=&quot;designation&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>and then if I run the App.java, then the save() method is not doing the inerstion..i.e. the insertion command is not printing in the console.\nI am getting the following output with out the primary key generator.</p>\n<pre><code>Hibernate: drop table if exists employee.Employee\nHibernate: create table employee.Employee (eid integer not null, employeename varchar(255), designation varchar(255), primary key (eid))\nOct 22, 2023 1:24:59 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000230: Schema export complete\nEmployee{employeeid=1, employeename='Chris', designation='Developer'}\n</code></pre>\n<p>Why is the insert command not present??</p>\n<p>Same thing I tried for persist() method too...</p>\n<p>If I change save to persist in App.java</p>\n<pre><code> session.persist(employee);\n</code></pre>\n<p>and run the file with the primary key generator, then the insert command is not printing. This is expected as persist() does not work outside the transaction boundaries.</p>\n<p>This is the output I am getting and the exception is clear as object has not been moved to persistent state.</p>\n<pre><code>Hibernate: drop table if exists employee.Employee\nHibernate: create table employee.Employee (eid integer not null auto_increment, employeename varchar(255), designation varchar(255), primary key (eid))\nOct 22, 2023 1:29:35 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000230: Schema export complete\nHibernate: select employee0_.eid as eid0_0_, employee0_.employeename as employee2_0_0_, employee0_.designation as designat3_0_0_ from employee.Employee employee0_ where employee0_.eid=?\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.example.Employee.toString()&quot; because &quot;e2&quot; is null\n    at org.example.App.main(App.java:28)\n</code></pre>\n<p>Now if I remove the primary key generator in mapping file and manually assign the Primary key and If I call the persist() method, then it works it is moving the object to the persistent state even outside the transaction boundary. No null pointer exception in this case.</p>\n<pre><code>Hibernate: drop table if exists employee.Employee\nHibernate: create table employee.Employee (eid integer not null, employeename varchar(255), designation varchar(255), primary key (eid))\nOct 22, 2023 1:32:08 PM org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000230: Schema export complete\nEmployee{employeeid=1, employeename='Chris', designation='Developer'}\n</code></pre>\n<p>So my doubts are:-</p>\n<p>1.What is meant by a transaction boundary?</p>\n<p>2.save() method is printing the insert statement in console when I am using primary key generator, but it is not printing the insert statement when I am manually assigning the primary key. Why is it so??</p>\n<p>3.persist() method is not working outside the transaction boundaries. This statement holds true when I am using primary key generators, but if I am using the same persist() method outside the transaction without the primary key generators then it works by moving the object to persistent state even outside the transaction boundary. Why is it working in this way?</p>\n<p>Please help in clarifying the above questions as these methods are behaving differently when used with and without the primary key generator.</p>\n"},{"tags":["java","spring-boot","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":27816216,"reputation":286,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676858805,"creation_date":1676857159,"answer_id":75504573,"question_id":75504452,"body_markdown":"org.apache.http.impl.client.CloseableHttpClient is part of the older Apache HttpComponents library, which has been deprecated in favour of the newer Apache HttpComponents Client 5 library.\r\n \r\nHere you can find more details:\r\nhttps://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html\r\n\r\n&gt; There will be compilation errors due to API incompatibilities between\r\n&gt; version series 4.x and 5.x mostly related to SSL/TLS and timeout\r\n&gt; settings and CloseableHttpClient instance creation. Remove old\r\n&gt; org.apache.http imports and re-import HttpClient classes from\r\n&gt; org.apache.hc.httpclient5 package namespace.\r\n\r\nIf you are using version 5.x of the library, you will need to make sure that you are using the correct classes and interfaces from that version, rather than the older ones from version 4.x.","title":"incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient","body":"<p>org.apache.http.impl.client.CloseableHttpClient is part of the older Apache HttpComponents library, which has been deprecated in favour of the newer Apache HttpComponents Client 5 library.</p>\n<p>Here you can find more details:\n<a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html</a></p>\n<blockquote>\n<p>There will be compilation errors due to API incompatibilities between\nversion series 4.x and 5.x mostly related to SSL/TLS and timeout\nsettings and CloseableHttpClient instance creation. Remove old\norg.apache.http imports and re-import HttpClient classes from\norg.apache.hc.httpclient5 package namespace.</p>\n</blockquote>\n<p>If you are using version 5.x of the library, you will need to make sure that you are using the correct classes and interfaces from that version, rather than the older ones from version 4.x.</p>\n"},{"tags":[],"owner":{"account_id":15232059,"reputation":191,"user_id":10990907,"display_name":"Al Mamun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697962056,"creation_date":1697961719,"answer_id":77339129,"question_id":75504452,"body_markdown":"Anyone can try like this who are facing this issue, following code worked for me in Spring Boot version **3.1.1** with httpclient5\r\n\r\n**httpclient5**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Code:**\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate()  throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        SSLContext sslContext = SSLContextBuilder.create()\r\n                .loadTrustMaterial((X509Certificate[] certificateChain, String authType) -&gt; true)  // &lt;--- accepts each certificate\r\n                .build();\r\n    \r\n        Registry&lt;ConnectionSocketFactory&gt; socketRegistry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                .register(URIScheme.HTTPS.getId(), new SSLConnectionSocketFactory(sslContext))\r\n                .register(URIScheme.HTTP.getId(), new PlainConnectionSocketFactory())\r\n                .build();\r\n    \r\n        HttpClient httpClient = HttpClientBuilder.create()\r\n                .setConnectionManager(new PoolingHttpClientConnectionManager(socketRegistry))\r\n                .setConnectionManagerShared(true)\r\n                .build();\r\n        \r\n        ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n        restTemplate.setRequestFactory(requestFactory);\r\n        return restTemplate;\r\n    }","title":"incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient","body":"<p>Anyone can try like this who are facing this issue, following code worked for me in Spring Boot version <strong>3.1.1</strong> with httpclient5</p>\n<p><strong>httpclient5</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n    &lt;version&gt;5.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>@Bean\npublic RestTemplate restTemplate()  throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n    final RestTemplate restTemplate = new RestTemplate();\n\n    SSLContext sslContext = SSLContextBuilder.create()\n            .loadTrustMaterial((X509Certificate[] certificateChain, String authType) -&gt; true)  // &lt;--- accepts each certificate\n            .build();\n\n    Registry&lt;ConnectionSocketFactory&gt; socketRegistry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n            .register(URIScheme.HTTPS.getId(), new SSLConnectionSocketFactory(sslContext))\n            .register(URIScheme.HTTP.getId(), new PlainConnectionSocketFactory())\n            .build();\n\n    HttpClient httpClient = HttpClientBuilder.create()\n            .setConnectionManager(new PoolingHttpClientConnectionManager(socketRegistry))\n            .setConnectionManagerShared(true)\n            .build();\n    \n    ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n    restTemplate.setRequestFactory(requestFactory);\n    return restTemplate;\n}\n</code></pre>\n"}],"owner":{"account_id":27828415,"reputation":11,"user_id":21247320,"display_name":"Girinathreddy pemmana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697962056,"creation_date":1676855160,"question_id":75504452,"body_markdown":"Am upgrading &#39;spring-boot-starter&#39; version from 2.5.7 to 3.0.2 then am getting compilation error saying like \r\n&#39;incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient&#39;\r\n\r\ncan you please some one help on this?\r\n\r\nThanks in advance.\r\n\r\n\r\nam expecting the resolution for the problem","title":"incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient","body":"<p>Am upgrading 'spring-boot-starter' version from 2.5.7 to 3.0.2 then am getting compilation error saying like\n'incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient'</p>\n<p>can you please some one help on this?</p>\n<p>Thanks in advance.</p>\n<p>am expecting the resolution for the problem</p>\n"},{"tags":["java","jhipster","jdl"],"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697961235,"creation_date":1697959774,"question_id":77339041,"body_markdown":"I have a Jhiptser project and I created the entities using jdl file. now I want to add one more table. I created the following jdl file. \r\n\r\n```\r\nenum DistributionType {\r\n  Prize(Prize),\r\n  Donation (Donation)\r\n}\r\nentity PrizeDistribution {\r\n  name String required\r\n  createdDate LocalDate required\r\n  details String required\r\n  image String\r\n  type DistributionType required\r\n  activeFrom LocalDate required\r\n  activeTo LocalDate\r\n}\r\n\r\nservice PrizeDistribution with serviceClass\r\ndto PrizeDistribution with mapstruct\r\npaginate PrizeDistribution with pagination\r\n```\r\n\r\nbut when I am trying to import this, all other entity files are chowing as changed and I need to manually enter &quot;n&quot; to prevent it from changing. is there any simpler way to import one and only entity that I need?\r\n\r\nthe following is the log i am getting in the cmd after running jhipster import-jdl entity.jdl\r\n```\r\nINFO! Switching to JHipster installed locally in current project&#39;s node repository (node_modules)\r\nINFO! Using bundled JHipster\r\n\r\n        ██╗ ██╗   ██╗ ████████╗ ███████╗   ██████╗ ████████╗ ████████╗ ███████╗\r\n        ██║ ██║   ██║ ╚══██╔══╝ ██╔═══██╗ ██╔════╝ ╚══██╔══╝ ██╔═════╝ ██╔═══██╗\r\n        ██║ ████████║    ██║    ███████╔╝ ╚█████╗     ██║    ██████╗   ███████╔╝\r\n  ██╗   ██║ ██╔═══██║    ██║    ██╔════╝   ╚═══██╗    ██║    ██╔═══╝   ██╔══██║\r\n  ╚██████╔╝ ██║   ██║ ████████╗ ██║       ██████╔╝    ██║    ████████╗ ██║  ╚██╗\r\n   ╚═════╝  ╚═╝   ╚═╝ ╚═══════╝ ╚═╝       ╚═════╝     ╚═╝    ╚═══════╝ ╚═╝   ╚═╝\r\n                            https://www.jhipster.tech\r\nWelcome to JHipster v7.9.3\r\nINFO! Executing import-jdl .\\entity.jdl\r\nINFO! The JDL is being parsed.\r\ninfo: The dto option is set for PrizeDistribution, the &#39;serviceClass&#39; value for the &#39;service&#39; is gonna be set for this entity if no other value has been set.\r\nINFO! Found entities: PrizeDistribution.\r\nINFO! The JDL has been successfully parsed\r\nINFO! Generating 0 applications.\r\nINFO! Generating 1 entity.\r\nINFO! Generating entities for application undefined in a new parallel process\r\n\r\nFound the .jhipster\\NewsLetter.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\NewsLetterSubscriber.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Customer.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Address.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\CustomerAddress.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Image.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Campaign.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Product.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ProductItem.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ProductCategory.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ProductVariation.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ProductVariationOption.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ProductConfiguration.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Promotion.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\PromotionCategory.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Prize.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Lottery.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ProductLottery.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ShopOrder.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\ShippingMethod.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\OrderItem.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\UserReview.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\Payment.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\OtpRegister.json configuration file, entity can be automatically generated!\r\n\r\n\r\nFound the .jhipster\\PrizeDistribution.json configuration file, entity can be automatically generated!\r\n\r\n     info Creating changelog for entities NewsLetter,NewsLetterSubscriber,Customer,Address,CustomerAddress,Image,Campaign,Product,ProductItem,ProductCategory,ProductVariation,ProductVariationOption,ProductConfiguration,Promotion,PromotionCategory,Prize,Lottery,ProductLottery,ShopOrder,ShippingMethod,OrderItem,UserReview,Payment,OtpRegister,PrizeDistribution\r\n```\r\n\r\n**NOTE**\r\n\r\nI deleted all the contents from the .jhipster folder and then ran the command. at that time, only the required entity changes were created. Is it the correct approach? or is there any simpler approach?\r\n\r\n","title":"Creating entities in jhipster without changing any other entities","body":"<p>I have a Jhiptser project and I created the entities using jdl file. now I want to add one more table. I created the following jdl file.</p>\n<pre><code>enum DistributionType {\n  Prize(Prize),\n  Donation (Donation)\n}\nentity PrizeDistribution {\n  name String required\n  createdDate LocalDate required\n  details String required\n  image String\n  type DistributionType required\n  activeFrom LocalDate required\n  activeTo LocalDate\n}\n\nservice PrizeDistribution with serviceClass\ndto PrizeDistribution with mapstruct\npaginate PrizeDistribution with pagination\n</code></pre>\n<p>but when I am trying to import this, all other entity files are chowing as changed and I need to manually enter &quot;n&quot; to prevent it from changing. is there any simpler way to import one and only entity that I need?</p>\n<p>the following is the log i am getting in the cmd after running jhipster import-jdl entity.jdl</p>\n<pre><code>INFO! Switching to JHipster installed locally in current project's node repository (node_modules)\nINFO! Using bundled JHipster\n\n        ██╗ ██╗   ██╗ ████████╗ ███████╗   ██████╗ ████████╗ ████████╗ ███████╗\n        ██║ ██║   ██║ ╚══██╔══╝ ██╔═══██╗ ██╔════╝ ╚══██╔══╝ ██╔═════╝ ██╔═══██╗\n        ██║ ████████║    ██║    ███████╔╝ ╚█████╗     ██║    ██████╗   ███████╔╝\n  ██╗   ██║ ██╔═══██║    ██║    ██╔════╝   ╚═══██╗    ██║    ██╔═══╝   ██╔══██║\n  ╚██████╔╝ ██║   ██║ ████████╗ ██║       ██████╔╝    ██║    ████████╗ ██║  ╚██╗\n   ╚═════╝  ╚═╝   ╚═╝ ╚═══════╝ ╚═╝       ╚═════╝     ╚═╝    ╚═══════╝ ╚═╝   ╚═╝\n                            https://www.jhipster.tech\nWelcome to JHipster v7.9.3\nINFO! Executing import-jdl .\\entity.jdl\nINFO! The JDL is being parsed.\ninfo: The dto option is set for PrizeDistribution, the 'serviceClass' value for the 'service' is gonna be set for this entity if no other value has been set.\nINFO! Found entities: PrizeDistribution.\nINFO! The JDL has been successfully parsed\nINFO! Generating 0 applications.\nINFO! Generating 1 entity.\nINFO! Generating entities for application undefined in a new parallel process\n\nFound the .jhipster\\NewsLetter.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\NewsLetterSubscriber.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Customer.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Address.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\CustomerAddress.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Image.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Campaign.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Product.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ProductItem.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ProductCategory.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ProductVariation.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ProductVariationOption.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ProductConfiguration.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Promotion.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\PromotionCategory.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Prize.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Lottery.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ProductLottery.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ShopOrder.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\ShippingMethod.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\OrderItem.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\UserReview.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\Payment.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\OtpRegister.json configuration file, entity can be automatically generated!\n\n\nFound the .jhipster\\PrizeDistribution.json configuration file, entity can be automatically generated!\n\n     info Creating changelog for entities NewsLetter,NewsLetterSubscriber,Customer,Address,CustomerAddress,Image,Campaign,Product,ProductItem,ProductCategory,ProductVariation,ProductVariationOption,ProductConfiguration,Promotion,PromotionCategory,Prize,Lottery,ProductLottery,ShopOrder,ShippingMethod,OrderItem,UserReview,Payment,OtpRegister,PrizeDistribution\n</code></pre>\n<p><strong>NOTE</strong></p>\n<p>I deleted all the contents from the .jhipster folder and then ran the command. at that time, only the required entity changes were created. Is it the correct approach? or is there any simpler approach?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-jpa","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1697823211,"post_id":77332511,"comment_id":136332632,"body_markdown":"where in your query do you use a &quot;?&quot;?","body":"where in your query do you use a &quot;?&quot;?"},{"owner":{"account_id":7692774,"reputation":1205,"user_id":5828464,"display_name":"Yuri G"},"score":0,"creation_date":1697824629,"post_id":77332511,"comment_id":136332831,"body_markdown":"But you don&#39;t use legit ? or * in your wildcard query. You use _ - according to YOU. Would be great if you clarify the mess first.","body":"But you don&#39;t use legit ? or * in your wildcard query. You use _ - according to YOU. Would be great if you clarify the mess first."},{"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"score":0,"creation_date":1697960213,"post_id":77332511,"comment_id":136343042,"body_markdown":"In SQL &#39;_&#39; is equivalent to &#39;?&#39; and &#39;&amp;&#39; equals &#39;*&#39; with elasticsearch. Using localhost:9200/_sql, elasticsearch translates the query itself.","body":"In SQL &#39;_&#39; is equivalent to &#39;?&#39; and &#39;&amp;&#39; equals &#39;*&#39; with elasticsearch. Using localhost:9200/_sql, elasticsearch translates the query itself."},{"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"score":0,"creation_date":1697960514,"post_id":77332511,"comment_id":136343067,"body_markdown":"When I use Spring Boot my SearchDTO object contains country = &#39;FR&#39; and user = &#39;Mick?l&#39; or &#39;Micka?el&#39; and the result should be different from &#39;Mick*l&#39; because directly with elasticSearch the result is different.","body":"When I use Spring Boot my SearchDTO object contains country = &#39;FR&#39; and user = &#39;Mick?l&#39; or &#39;Micka?el&#39; and the result should be different from &#39;Mick*l&#39; because directly with elasticSearch the result is different."}],"answers":[{"tags":[],"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697858545,"creation_date":1697858545,"answer_id":77334635,"question_id":77332511,"body_markdown":"First of all, your first approach to generating elasticsearch queries is opening you for code injection attacks. I hope you are not doing something like this in production code. Anyway, there is a lot in your question - SQL, JQuery, Spring Data, it seems to be all over the place. So let&#39;s start with the backend. In elasticsearch, everything works as expected:\r\n\r\n```\r\nDELETE test\r\n\r\nPUT test\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;id&quot;: {\r\n        &quot;type&quot;: &quot;long&quot;\r\n      },\r\n      &quot;country&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n      },\r\n      &quot;firstname&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n      },\r\n      &quot;lastname&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPOST test/_bulk?refresh\r\n{&quot;index&quot;:{}}\r\n{&quot;firstname&quot;:&quot;Mickael&quot;, &quot;lastname&quot;: &quot;Carreira&quot;, &quot;country&quot;: &quot;PT&quot;}\r\n{&quot;index&quot;:{}}\r\n{&quot;firstname&quot;:&quot;Mickael&quot;, &quot;lastname&quot;: &quot;Landreau&quot;, &quot;country&quot;: &quot;FR&quot;}\r\n\r\n// Returns one record\r\nGET test/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;country&quot;: {\r\n              &quot;value&quot;: &quot;FR&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;wildcard&quot;: {\r\n            &quot;firstname&quot;: {\r\n              &quot;wildcard&quot;: &quot;Micka?l&quot;,\r\n              &quot;boost&quot;: 1\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      &quot;boost&quot;: 1\r\n    }\r\n  }\r\n}\r\n\r\n// Returns no records\r\nGET test/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;country&quot;: {\r\n              &quot;value&quot;: &quot;FR&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;wildcard&quot;: {\r\n            &quot;firstname&quot;: {\r\n              &quot;wildcard&quot;: &quot;Mick?l&quot;,\r\n              &quot;boost&quot;: 1\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      &quot;boost&quot;: 1\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nLet&#39;s now figure out which query your code generates and which part doesn&#39;t work. \r\n\r\nBTW, `&quot;boost&quot;: 1` doesn&#39;t do anything so we can simplify it to \r\n\r\n```\r\n// Returns one record\r\nGET test/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;country&quot;: {\r\n              &quot;value&quot;: &quot;FR&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;wildcard&quot;: {\r\n            &quot;firstname&quot;: {\r\n              &quot;wildcard&quot;: &quot;Micka?l&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```","title":"Strange behavior of Spring Data Elasticsearch with a Wildcard query using a &#39;?&#39;","body":"<p>First of all, your first approach to generating elasticsearch queries is opening you for code injection attacks. I hope you are not doing something like this in production code. Anyway, there is a lot in your question - SQL, JQuery, Spring Data, it seems to be all over the place. So let's start with the backend. In elasticsearch, everything works as expected:</p>\n<pre><code>DELETE test\n\nPUT test\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;id&quot;: {\n        &quot;type&quot;: &quot;long&quot;\n      },\n      &quot;country&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      },\n      &quot;firstname&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      },\n      &quot;lastname&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      }\n    }\n  }\n}\n\nPOST test/_bulk?refresh\n{&quot;index&quot;:{}}\n{&quot;firstname&quot;:&quot;Mickael&quot;, &quot;lastname&quot;: &quot;Carreira&quot;, &quot;country&quot;: &quot;PT&quot;}\n{&quot;index&quot;:{}}\n{&quot;firstname&quot;:&quot;Mickael&quot;, &quot;lastname&quot;: &quot;Landreau&quot;, &quot;country&quot;: &quot;FR&quot;}\n\n// Returns one record\nGET test/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;country&quot;: {\n              &quot;value&quot;: &quot;FR&quot;\n            }\n          }\n        },\n        {\n          &quot;wildcard&quot;: {\n            &quot;firstname&quot;: {\n              &quot;wildcard&quot;: &quot;Micka?l&quot;,\n              &quot;boost&quot;: 1\n            }\n          }\n        }\n      ],\n      &quot;boost&quot;: 1\n    }\n  }\n}\n\n// Returns no records\nGET test/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;country&quot;: {\n              &quot;value&quot;: &quot;FR&quot;\n            }\n          }\n        },\n        {\n          &quot;wildcard&quot;: {\n            &quot;firstname&quot;: {\n              &quot;wildcard&quot;: &quot;Mick?l&quot;,\n              &quot;boost&quot;: 1\n            }\n          }\n        }\n      ],\n      &quot;boost&quot;: 1\n    }\n  }\n}\n</code></pre>\n<p>Let's now figure out which query your code generates and which part doesn't work.</p>\n<p>BTW, <code>&quot;boost&quot;: 1</code> doesn't do anything so we can simplify it to</p>\n<pre><code>// Returns one record\nGET test/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;country&quot;: {\n              &quot;value&quot;: &quot;FR&quot;\n            }\n          }\n        },\n        {\n          &quot;wildcard&quot;: {\n            &quot;firstname&quot;: {\n              &quot;wildcard&quot;: &quot;Micka?l&quot;\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77334635,"answer_count":1,"score":0,"last_activity_date":1697960739,"creation_date":1697819625,"question_id":77332511,"body_markdown":"I created a Spring Boot application using spring-data-elasticsearch 5.1.1. When I execute my query on the database, I get the correct result, but not with the API, and I can&#39;t figure out why.\r\n\r\nI have an Elasticsearch database that has an index &quot;users&quot; configured like this:\r\n\r\n    {\r\n        &quot;mappings&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;id&quot;: {\r\n                    &quot;type&quot;: &quot;long&quot;\r\n                },\r\n                &quot;country&quot;: {\r\n                    &quot;type&quot;: &quot;keyword&quot;\r\n                },\r\n                &quot;firstname&quot;: {\r\n                    &quot;type&quot;: &quot;keyword&quot;\r\n                },\r\n                &quot;lastname&quot;: {\r\n                    &quot;type&quot;: &quot;keyword&quot;\r\n                }\r\n        }\r\n    }\r\n\r\nWhen I execute the query: GET http://localhost:9200/_sql?\r\n\r\n    {\r\n        &quot;query&quot;: &quot;SELECT * FROM users WHERE firstname LIKE &#39;Micka_l&#39; and country = &#39;FR&#39; LIMIT 100&quot;\r\n    }\r\n\r\nI get the user Mickael.\r\n\r\nAnd when I modify the query:\r\n\r\n    {\r\n        &quot;query&quot;: &quot;SELECT * FROM users WHERE firstname LIKE &#39;Mick_l&#39; and country = &#39;FR&#39; LIMIT 100&quot;\r\n    }\r\n\r\nI don&#39;t get any results because I removed a letter in &#39;Mick_l&#39;.\r\n\r\nBy executing the query: GET http://localhost:9200/_sql/translate, I retrieved the generated query to use in my Spring Boot Service:\r\n\r\n\r\n        public List&lt;UserDTO&gt; searchUsers(SearchDTO searchDTO) {\r\n            // Equals &#39;FR&#39;\r\n            String country = searchDTO.getCountry();\r\n            // Equals &#39;Micka?l&#39; ou &#39;Mick?l&#39;\r\n            String firstname = searchDTO.getFirstname();\r\n    \r\n            StringQuery queryString = new StringQuery(&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;term\\&quot;: {\\&quot;country\\&quot;: &quot; +\r\n                    &quot;{\\&quot;value\\&quot;: \\&quot;&quot; + country + &quot;\\&quot;}}},{\\&quot;wildcard\\&quot;: {\\&quot;firstname\\&quot;: {\\&quot;wildcard\\&quot;: \\&quot;&quot; + firstname + &quot;\\&quot;,&quot; +\r\n                    &quot;\\&quot;boost\\&quot;: 1.0}}}],\\&quot;boost\\&quot;: 1.0}}&quot;);\r\n    \r\n            SearchHits&lt;User&gt; searchHits = searchOperations.search(queryString, User.class);\r\n    \r\n            List&lt;User&gt; userList = searchHits.getSearchHits().stream().map(SearchHit::getContent).collect(Collectors.toList());\r\n    \r\n            return userList.stream().map((user) -&gt; UserMapper.MAPPER.mapToDTO(user)).collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n\r\nThis query allows me to search for users by their first name like this:\r\n\r\nPOST http://localhost:8080/api/user/search\r\n\r\n    {\r\n    \t&quot;country&quot;: &quot;FRA&quot;,\r\n    \t&quot;firstname&quot;: &quot;Micka_l&quot;\r\n    }\r\n\r\nReturns: Mickael\r\n\r\nBut:\r\n\r\n    {\r\n    \t&quot;country&quot;: &quot;FRA&quot;,\r\n    \t&quot;firstname&quot;: &quot;Mick_l&quot;\r\n    }\r\n\r\nAlso returns: Mickael, whereas I need the search to be case-sensitive. Why does the &quot;?&quot; behave like a &quot;*&quot;?\r\n\r\nI have tried several approaches with JPA:\r\n\r\n    List&lt;User&gt; findByCountryAndFirstnameLike(country, firstname)\r\n\r\nAnd also with @Query:\r\n\r\n    @Query(&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;term\\&quot;: {\\&quot;country\\&quot;: \\&quot;{\\&quot;value\\&quot;: \\&quot; ?0 \\&quot;}}},{\\&quot;wildcard\\&quot;: {\\&quot;firstname\\&quot;: {\\&quot;wildcard\\&quot;: \\&quot; ?1 \\&quot;,&quot;\\&quot;boost\\&quot;: 1.0}}}],\\&quot;boost\\&quot;: 1.0}}&quot;)\r\n    List&lt;User&gt; findByCountryAndFirstnameLike(country, firstname)\r\n\r\nThe behavior is the same.\r\n\r\nHave you ever tested this behavior?\r\n\r\nI tried one last approach with NativeSearchQueryBuilder(), but I can&#39;t finish the configuration:\r\n\r\n        public List&lt;UserDTO&gt; searchUsers(SearchDTO searchDTO) {\r\n    \r\n            String country = searchDTO.getCountry();\r\n            String firstname = searchDTO.getFirstname();\r\n    \r\n            TermQuery termQuery = new TermQuery.Builder().field(&quot;country&quot;).value(country).build();\r\n            WildcardQuery wildcardQuery = new WildcardQuery.Builder().value(firstname).caseInsensitive(true).boost(1.0F).build();\r\n    \r\n    // Doesn&#39;t Work:\r\n            NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                    .withQuery(new BoolQuery.Builder()\r\n                            .must(t -&gt; t.term(termQuery))\r\n                            .must(w -&gt; w.wildcard(wildcardQuery))\r\n                    ).build();\r\n    \r\n    \r\n            SearchHits&lt;User&gt; searchHits = searchOperations.search(searchQuery, User.class);\r\n    \r\n            List&lt;User&gt; userList = searchHits.getSearchHits().stream().map(SearchHit::getContent).collect(Collectors.toList());\r\n    \r\n            return userList.stream().map((user) -&gt; UserMapper.MAPPER.mapToDTO(user)).collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m not sure if this approach can resolve the unexpected behavior when using a &quot;?&quot;.","title":"Strange behavior of Spring Data Elasticsearch with a Wildcard query using a &#39;?&#39;","body":"<p>I created a Spring Boot application using spring-data-elasticsearch 5.1.1. When I execute my query on the database, I get the correct result, but not with the API, and I can't figure out why.</p>\n<p>I have an Elasticsearch database that has an index &quot;users&quot; configured like this:</p>\n<pre><code>{\n    &quot;mappings&quot;: {\n        &quot;properties&quot;: {\n            &quot;id&quot;: {\n                &quot;type&quot;: &quot;long&quot;\n            },\n            &quot;country&quot;: {\n                &quot;type&quot;: &quot;keyword&quot;\n            },\n            &quot;firstname&quot;: {\n                &quot;type&quot;: &quot;keyword&quot;\n            },\n            &quot;lastname&quot;: {\n                &quot;type&quot;: &quot;keyword&quot;\n            }\n    }\n}\n</code></pre>\n<p>When I execute the query: GET http://localhost:9200/_sql?</p>\n<pre><code>{\n    &quot;query&quot;: &quot;SELECT * FROM users WHERE firstname LIKE 'Micka_l' and country = 'FR' LIMIT 100&quot;\n}\n</code></pre>\n<p>I get the user Mickael.</p>\n<p>And when I modify the query:</p>\n<pre><code>{\n    &quot;query&quot;: &quot;SELECT * FROM users WHERE firstname LIKE 'Mick_l' and country = 'FR' LIMIT 100&quot;\n}\n</code></pre>\n<p>I don't get any results because I removed a letter in 'Mick_l'.</p>\n<p>By executing the query: GET http://localhost:9200/_sql/translate, I retrieved the generated query to use in my Spring Boot Service:</p>\n<pre><code>    public List&lt;UserDTO&gt; searchUsers(SearchDTO searchDTO) {\n        // Equals 'FR'\n        String country = searchDTO.getCountry();\n        // Equals 'Micka?l' ou 'Mick?l'\n        String firstname = searchDTO.getFirstname();\n\n        StringQuery queryString = new StringQuery(&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;term\\&quot;: {\\&quot;country\\&quot;: &quot; +\n                &quot;{\\&quot;value\\&quot;: \\&quot;&quot; + country + &quot;\\&quot;}}},{\\&quot;wildcard\\&quot;: {\\&quot;firstname\\&quot;: {\\&quot;wildcard\\&quot;: \\&quot;&quot; + firstname + &quot;\\&quot;,&quot; +\n                &quot;\\&quot;boost\\&quot;: 1.0}}}],\\&quot;boost\\&quot;: 1.0}}&quot;);\n\n        SearchHits&lt;User&gt; searchHits = searchOperations.search(queryString, User.class);\n\n        List&lt;User&gt; userList = searchHits.getSearchHits().stream().map(SearchHit::getContent).collect(Collectors.toList());\n\n        return userList.stream().map((user) -&gt; UserMapper.MAPPER.mapToDTO(user)).collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>This query allows me to search for users by their first name like this:</p>\n<p>POST http://localhost:8080/api/user/search</p>\n<pre><code>{\n    &quot;country&quot;: &quot;FRA&quot;,\n    &quot;firstname&quot;: &quot;Micka_l&quot;\n}\n</code></pre>\n<p>Returns: Mickael</p>\n<p>But:</p>\n<pre><code>{\n    &quot;country&quot;: &quot;FRA&quot;,\n    &quot;firstname&quot;: &quot;Mick_l&quot;\n}\n</code></pre>\n<p>Also returns: Mickael, whereas I need the search to be case-sensitive. Why does the &quot;?&quot; behave like a &quot;*&quot;?</p>\n<p>I have tried several approaches with JPA:</p>\n<pre><code>List&lt;User&gt; findByCountryAndFirstnameLike(country, firstname)\n</code></pre>\n<p>And also with @Query:</p>\n<pre><code>@Query(&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;term\\&quot;: {\\&quot;country\\&quot;: \\&quot;{\\&quot;value\\&quot;: \\&quot; ?0 \\&quot;}}},{\\&quot;wildcard\\&quot;: {\\&quot;firstname\\&quot;: {\\&quot;wildcard\\&quot;: \\&quot; ?1 \\&quot;,&quot;\\&quot;boost\\&quot;: 1.0}}}],\\&quot;boost\\&quot;: 1.0}}&quot;)\nList&lt;User&gt; findByCountryAndFirstnameLike(country, firstname)\n</code></pre>\n<p>The behavior is the same.</p>\n<p>Have you ever tested this behavior?</p>\n<p>I tried one last approach with NativeSearchQueryBuilder(), but I can't finish the configuration:</p>\n<pre><code>    public List&lt;UserDTO&gt; searchUsers(SearchDTO searchDTO) {\n\n        String country = searchDTO.getCountry();\n        String firstname = searchDTO.getFirstname();\n\n        TermQuery termQuery = new TermQuery.Builder().field(&quot;country&quot;).value(country).build();\n        WildcardQuery wildcardQuery = new WildcardQuery.Builder().value(firstname).caseInsensitive(true).boost(1.0F).build();\n\n// Doesn't Work:\n        NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\n                .withQuery(new BoolQuery.Builder()\n                        .must(t -&gt; t.term(termQuery))\n                        .must(w -&gt; w.wildcard(wildcardQuery))\n                ).build();\n\n\n        SearchHits&lt;User&gt; searchHits = searchOperations.search(searchQuery, User.class);\n\n        List&lt;User&gt; userList = searchHits.getSearchHits().stream().map(SearchHit::getContent).collect(Collectors.toList());\n\n        return userList.stream().map((user) -&gt; UserMapper.MAPPER.mapToDTO(user)).collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>I'm not sure if this approach can resolve the unexpected behavior when using a &quot;?&quot;.</p>\n"},{"tags":["java","list","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697959917,"creation_date":1697959917,"answer_id":77339049,"question_id":77338901,"body_markdown":"**Info**\r\n\r\nYour code works, I tried it local.\r\n\r\n**Solution**\r\n\r\nOn the picture, you have only one item selected. Please select many items with CTRL + left click, if you want to select many items. :)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mQzMd.png\r\n  [2]: https://i.stack.imgur.com/QeIu7.png","title":"Get values from the ListView and display on a label in JavaFX","body":"<p><strong>Info</strong></p>\n<p>Your code works, I tried it local.</p>\n<p><strong>Solution</strong></p>\n<p>On the picture, you have only one item selected. Please select many items with CTRL + left click, if you want to select many items. :)</p>\n<p><a href=\"https://i.stack.imgur.com/mQzMd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mQzMd.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QeIu7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QeIu7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26452543,"reputation":55,"user_id":20095556,"display_name":"Nethum "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77339049,"answer_count":1,"score":0,"last_activity_date":1697959917,"creation_date":1697956481,"question_id":77338901,"body_markdown":"There&#39;s a list in a listView and there is a label to display the items that I selected. But when selecting more than one the label only shows one (the newest selection). What I want is to display all the items that I select.\r\n\r\nPlease help me with this I&#39;ve been stuck here for a long time &#129394;\r\n\r\nThis is the FXML\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ListView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;373.0&quot; prefWidth=&quot;648.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.trial.HelloController&quot;&gt;\r\n  &lt;children&gt;\r\n    &lt;ListView fx:id=&quot;listView&quot; layoutX=&quot;142.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;238.0&quot; prefWidth=&quot;289.0&quot; /&gt;\r\n    &lt;Label fx:id=&quot;selection&quot; layoutX=&quot;36.0&quot; layoutY=&quot;325.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Your selection&quot;&gt;\r\n      &lt;font&gt;\r\n        &lt;Font size=&quot;17.0&quot; /&gt;\r\n      &lt;/font&gt;\r\n    &lt;/Label&gt;\r\n  &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nThis the controller \r\n```\r\npackage com.example.trial;\r\n\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.SelectionMode;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class HelloController implements Initializable {\r\n\r\n    @FXML\r\n    private ListView&lt;String&gt; listView;\r\n\r\n    @FXML\r\n    private Label selection;\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        String[] items = {&quot;Java&quot;,&quot;C#&quot;,&quot;C&quot;,&quot;C++&quot;,&quot;Python&quot;};\r\n        listView.getItems().addAll(items);\r\n        listView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n\r\n        listView.getSelectionModel().getSelectedItems().addListener((ListChangeListener&lt;? super String&gt;) c -&gt; selectionChanged());\r\n    }\r\n\r\n    private void selectionChanged(){\r\n        ObservableList&lt;String&gt; selectedItems = listView.getSelectionModel().getSelectedItems();\r\n        String getSelectedItem = (selectedItems.isEmpty())?&quot;No Selected Item&quot;:selectedItems.toString();\r\n        selection.setText(getSelectedItem);\r\n    }\r\n}\r\n```\r\n\r\nThis is main\r\n```\r\npackage com.example.trial;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 800, 500);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KOTiE.png\r\n\r\nlabel shows only one  ","title":"Get values from the ListView and display on a label in JavaFX","body":"<p>There's a list in a listView and there is a label to display the items that I selected. But when selecting more than one the label only shows one (the newest selection). What I want is to display all the items that I select.</p>\n<p>Please help me with this I've been stuck here for a long time 🥲</p>\n<p>This is the FXML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;373.0&quot; prefWidth=&quot;648.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.trial.HelloController&quot;&gt;\n  &lt;children&gt;\n    &lt;ListView fx:id=&quot;listView&quot; layoutX=&quot;142.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;238.0&quot; prefWidth=&quot;289.0&quot; /&gt;\n    &lt;Label fx:id=&quot;selection&quot; layoutX=&quot;36.0&quot; layoutY=&quot;325.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Your selection&quot;&gt;\n      &lt;font&gt;\n        &lt;Font size=&quot;17.0&quot; /&gt;\n      &lt;/font&gt;\n    &lt;/Label&gt;\n  &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>This the controller</p>\n<pre><code>package com.example.trial;\n\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.SelectionMode;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n\n    @FXML\n    private ListView&lt;String&gt; listView;\n\n    @FXML\n    private Label selection;\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        String[] items = {&quot;Java&quot;,&quot;C#&quot;,&quot;C&quot;,&quot;C++&quot;,&quot;Python&quot;};\n        listView.getItems().addAll(items);\n        listView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n\n        listView.getSelectionModel().getSelectedItems().addListener((ListChangeListener&lt;? super String&gt;) c -&gt; selectionChanged());\n    }\n\n    private void selectionChanged(){\n        ObservableList&lt;String&gt; selectedItems = listView.getSelectionModel().getSelectedItems();\n        String getSelectedItem = (selectedItems.isEmpty())?&quot;No Selected Item&quot;:selectedItems.toString();\n        selection.setText(getSelectedItem);\n    }\n}\n</code></pre>\n<p>This is main</p>\n<pre><code>package com.example.trial;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 800, 500);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KOTiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KOTiE.png\" alt=\"enter image description here\" /></a></p>\n<p>label shows only one</p>\n"},{"tags":["java","recursion","logic"],"owner":{"account_id":24860191,"reputation":33,"user_id":18736072,"display_name":"Wragnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697959040,"creation_date":1697959040,"question_id":77339000,"body_markdown":"I need to solve a problem given a weighted graph in the format of inputs containing two letters and a number: &#39;AC2&#39; for example. This implies that there is a direct route from town A to town C with distance 2. I am trying to solve the problem of finding all the different routes from town C to C, given the input:\r\nAB5, BC4, CD8, DC8, DE6, AD5, CE2, EB3, AE7\r\n\r\nMy algorithm seems to only check single routes and not taking a route multiple times as long as it is less than 30 in distance, which means it will be: CDC, CEBC, CEBCDC, CDCEBC, CDEBC, CEBCEBC, CEBCEBCEBC.\r\n\r\nHow can I change my algorithm to apply to all routes, including duplicates, as long as the distance is less than 30.\r\n\r\nMy algorithm is:\r\n```\r\npublic int differentRoutes(char currentTown, char endTown, int maxDistance, int distance,\r\n            int step) {\r\n        if (distance &gt;= maxDistance) {\r\n            return 0;\r\n        }\r\n\r\n        if (currentTown == endTown &amp;&amp; step != 0) {\r\n            return 1;\r\n        }\r\n\r\n        int count = 0;\r\n        for (char neighbor : graph.get(currentTown).keySet()) {\r\n            distance += graph.get(currentTown).get(neighbor);\r\n            count += differentRoutes(neighbor, endTown, maxDistance, distance, step + 1);\r\n        }\r\n        return count;\r\n    }\r\n```","title":"Recursion in java with weighted graph checking duplicate visits","body":"<p>I need to solve a problem given a weighted graph in the format of inputs containing two letters and a number: 'AC2' for example. This implies that there is a direct route from town A to town C with distance 2. I am trying to solve the problem of finding all the different routes from town C to C, given the input:\nAB5, BC4, CD8, DC8, DE6, AD5, CE2, EB3, AE7</p>\n<p>My algorithm seems to only check single routes and not taking a route multiple times as long as it is less than 30 in distance, which means it will be: CDC, CEBC, CEBCDC, CDCEBC, CDEBC, CEBCEBC, CEBCEBCEBC.</p>\n<p>How can I change my algorithm to apply to all routes, including duplicates, as long as the distance is less than 30.</p>\n<p>My algorithm is:</p>\n<pre><code>public int differentRoutes(char currentTown, char endTown, int maxDistance, int distance,\n            int step) {\n        if (distance &gt;= maxDistance) {\n            return 0;\n        }\n\n        if (currentTown == endTown &amp;&amp; step != 0) {\n            return 1;\n        }\n\n        int count = 0;\n        for (char neighbor : graph.get(currentTown).keySet()) {\n            distance += graph.get(currentTown).get(neighbor);\n            count += differentRoutes(neighbor, endTown, maxDistance, distance, step + 1);\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity","bundle"],"comments":[{"owner":{"account_id":10479742,"reputation":1375,"user_id":7725103,"accept_rate":50,"display_name":"Rajasekhar"},"score":0,"creation_date":1600720613,"post_id":63998971,"comment_id":113171518,"body_markdown":"I have added my answer, once try this approach.","body":"I have added my answer, once try this approach."}],"answers":[{"tags":[],"owner":{"account_id":10479742,"reputation":1375,"user_id":7725103,"accept_rate":50,"display_name":"Rajasekhar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1600775500,"creation_date":1600720574,"answer_id":63999642,"question_id":63998971,"body_markdown":"Please try this approach\r\n\r\nIn Activity:\r\n\r\nPass gameId as extra argument and receive in Adapter\r\n\r\n```\r\nviewPager2.setAdapter(new EightHolePagerAdapter(this, gameID));\r\n```\r\n\r\nIn ViewPagerAdapter:\r\n\r\n`EightHoleScoresFragment` takes gameId and calls fragment newInstance  \r\n\r\n```\r\npublic class EightHolePagerAdapter extends FragmentStateAdapter {\r\n\r\n    private long gameId;\r\n\r\n    public EightHolePagerAdapter(@NonNull FragmentActivity fragmentActivity, long gameId) {\r\n        super(fragmentActivity);\r\n        this.gameId = gameId;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        switch (position){\r\n            case 0:\r\n                return new EightHoleGameFragment();\r\n            default:\r\n                return EightHoleScoresFragment.newInstance(gameId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 2;\r\n    }\r\n}\r\n```\r\n\r\nIn your Fragment :\r\n\r\nReceive gameId arguments in fragment this way.\r\n\r\n```\r\npublic class EightHoleScoresFragment extends Fragment {\r\n\r\n    private static final String ARG_GAME_ID = &quot;game_id&quot;;\r\n    private long mGameId;\r\n\r\n    public static EightHoleScoresFragment newInstance(long gameId) {\r\n        EightHoleScoresFragment fragment = new EightHoleScoresFragment();\r\n        Bundle args = new Bundle();\r\n        args.putLong(ARG_GAME_ID, gameId);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mGameId = getArguments().getLong(ARG_GAME_ID);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        Log.d(&quot;EightHoleScoresFragment&quot;, &quot;Game Id = &quot; + mGameId);\r\n    }\r\n}\r\n```","title":"Pass data from Activity to Fragment via FragmentStateAdapter","body":"<p>Please try this approach</p>\n<p>In Activity:</p>\n<p>Pass gameId as extra argument and receive in Adapter</p>\n<pre><code>viewPager2.setAdapter(new EightHolePagerAdapter(this, gameID));\n</code></pre>\n<p>In ViewPagerAdapter:</p>\n<p><code>EightHoleScoresFragment</code> takes gameId and calls fragment newInstance</p>\n<pre><code>public class EightHolePagerAdapter extends FragmentStateAdapter {\n\n    private long gameId;\n\n    public EightHolePagerAdapter(@NonNull FragmentActivity fragmentActivity, long gameId) {\n        super(fragmentActivity);\n        this.gameId = gameId;\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position){\n            case 0:\n                return new EightHoleGameFragment();\n            default:\n                return EightHoleScoresFragment.newInstance(gameId);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return 2;\n    }\n}\n</code></pre>\n<p>In your Fragment :</p>\n<p>Receive gameId arguments in fragment this way.</p>\n<pre><code>public class EightHoleScoresFragment extends Fragment {\n\n    private static final String ARG_GAME_ID = &quot;game_id&quot;;\n    private long mGameId;\n\n    public static EightHoleScoresFragment newInstance(long gameId) {\n        EightHoleScoresFragment fragment = new EightHoleScoresFragment();\n        Bundle args = new Bundle();\n        args.putLong(ARG_GAME_ID, gameId);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mGameId = getArguments().getLong(ARG_GAME_ID);\n        }\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        Log.d(&quot;EightHoleScoresFragment&quot;, &quot;Game Id = &quot; + mGameId);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1390862,"reputation":1479,"user_id":1321751,"accept_rate":86,"display_name":"mystic cola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697958087,"creation_date":1697957703,"answer_id":77338952,"question_id":63998971,"body_markdown":"There&#39;s a far less complicated way to do this. Rajasekhar&#39;s answer is certainly the &quot;correct&quot; way to do it... but it&#39;s also possible without getting into bundles and arguments.\r\n\r\n**EightHoleActivity.java** This gets the variable into your adapter.\r\n\r\n    viewPager2.setAdapter(new EightHolePagerAdapter(this, gameID));\r\n\r\n**EightHolePagerAdapter** Once it&#39;s in your adapter... the variable is available to all your fragments.\r\n\r\n    public class EightHolePagerAdapter extends FragmentStateAdapter {\r\n    \r\n        private long gameId;\r\n    \r\n        public EightHolePagerAdapter(@NonNull FragmentActivity fragmentActivity, long gameId) {\r\n            super(fragmentActivity);\r\n            this.gameId = gameId;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            switch (position){\r\n                case 0:\r\n                    return new EightHoleGameFragment();\r\n                default:\r\n                    return EightHoleScoresFragment.sendVariable(gameId);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return 2;\r\n        }\r\n    }\r\n\r\n**EightHoleScoresFragment** at this point all you have to do is set a static variable and you&#39;re DONE. You don&#39;t need to create a bundle or retrieve from that bundle because the data is already there.\r\n\r\n    public class EightHoleScoresFragment extends Fragment {\r\n    \r\n        private static final String ARG_GAME_ID = &quot;game_id&quot;;\r\n        static long gameId2;\r\n    \r\n        public static EightHoleScoresFragment sendVariable(long gameId) {\r\n            EightHoleScoresFragment fragment = new EightHoleScoresFragment();\r\n            gameId2 = gameId;\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            Log.d(&quot;EightHoleScoresFragment&quot;, &quot;Game Id = &quot; + gameId2);\r\n        }\r\n    }\r\n\r\nAnd there you have it. No Bundles or Arguments required. A few less lines of code. I would say that having a bundle would be useful for moving the score elsewhere... but as long as you just need to move data from an activity to a fragment then... once it&#39;s in the adapter... you&#39;re done.","title":"Pass data from Activity to Fragment via FragmentStateAdapter","body":"<p>There's a far less complicated way to do this. Rajasekhar's answer is certainly the &quot;correct&quot; way to do it... but it's also possible without getting into bundles and arguments.</p>\n<p><strong>EightHoleActivity.java</strong> This gets the variable into your adapter.</p>\n<pre><code>viewPager2.setAdapter(new EightHolePagerAdapter(this, gameID));\n</code></pre>\n<p><strong>EightHolePagerAdapter</strong> Once it's in your adapter... the variable is available to all your fragments.</p>\n<pre><code>public class EightHolePagerAdapter extends FragmentStateAdapter {\n\n    private long gameId;\n\n    public EightHolePagerAdapter(@NonNull FragmentActivity fragmentActivity, long gameId) {\n        super(fragmentActivity);\n        this.gameId = gameId;\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position){\n            case 0:\n                return new EightHoleGameFragment();\n            default:\n                return EightHoleScoresFragment.sendVariable(gameId);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return 2;\n    }\n}\n</code></pre>\n<p><strong>EightHoleScoresFragment</strong> at this point all you have to do is set a static variable and you're DONE. You don't need to create a bundle or retrieve from that bundle because the data is already there.</p>\n<pre><code>public class EightHoleScoresFragment extends Fragment {\n\n    private static final String ARG_GAME_ID = &quot;game_id&quot;;\n    static long gameId2;\n\n    public static EightHoleScoresFragment sendVariable(long gameId) {\n        EightHoleScoresFragment fragment = new EightHoleScoresFragment();\n        gameId2 = gameId;\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        Log.d(&quot;EightHoleScoresFragment&quot;, &quot;Game Id = &quot; + gameId2);\n    }\n}\n</code></pre>\n<p>And there you have it. No Bundles or Arguments required. A few less lines of code. I would say that having a bundle would be useful for moving the score elsewhere... but as long as you just need to move data from an activity to a fragment then... once it's in the adapter... you're done.</p>\n"}],"owner":{"account_id":13216913,"reputation":585,"user_id":9545114,"display_name":"Maxime Michel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2199,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63999642,"answer_count":2,"score":4,"last_activity_date":1697958087,"creation_date":1600717271,"question_id":63998971,"body_markdown":"I am currently working on a personal project application for a scoring helper app. The aim is to use the app to keep track of points for each player and have high scores and other fancy features.\r\n\r\nRight now, I have a Tabbed Activity which uses `ViewPager2`. For those familiar with it, you&#39;ll know a lot more than I do but what I&#39;ve noticed is that I never instantiate my `Fragment` classes in the activity, only in the `FragmentStateAdapter`. In my activity, I only use two tabs, one for the game aspect and one for the points display. With this in mind, my activity class looks like this:\r\n\r\n**EightHoleActivity.java**\r\n\r\n```\r\npackage com.example.game;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.android.material.tabs.TabLayoutMediator;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\npublic class EightHoleActivity extends AppCompatActivity {\r\n\r\n    private long gameID;\r\n    private RoomDB database;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_eight_hole);\r\n\r\n        Intent intent = getIntent();\r\n        gameID = intent.getLongExtra(&quot;GameID&quot;, 0);\r\n        database = RoomDB.getInstance(EightHoleActivity.this);\r\n\r\n        ViewPager2 viewPager2 = findViewById(R.id.eight_hole_view_pager);\r\n        viewPager2.setAdapter(new EightHolePagerAdapter(this));\r\n        TabLayout tabLayout = findViewById(R.id.eight_hole_tabs);\r\n        TabLayoutMediator tabLayoutMediator = new TabLayoutMediator(\r\n                tabLayout, viewPager2, (tab, position) -&gt; {\r\n                    switch (position){\r\n                        case 0: {\r\n                            tab.setText(&quot;Current game&quot;);\r\n                            tab.setIcon(R.drawable.ic_twotone_games_24);\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            tab.setText(&quot;Scores&quot;);\r\n                            tab.setIcon(R.drawable.ic_baseline_list_24);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n        tabLayoutMediator.attach();\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, I have a `RoomDatabase` which I use to store the data within the application. When I start this activity by intent, I pass the `ID` of the game that is being played. This is where I am having issue.\r\n\r\n**What I want to do:**\r\n\r\nI want to pass the variable `gameID` that I get from `intent.getLongExtra(&quot;GameID&quot;, 0)` all the way down to the `EightHoleScoresFragment` class.\r\n\r\nI&#39;ve had no luck with the use of `Bundle` and `putParcelableArrayList()`\r\n\r\nHere are the other classes that I use.\r\nNote that the class Participants.java is what I want to extract with the `gameID` variable.\r\n\r\n**Participants.java**\r\n\r\n```\r\npackage com.example.game;\r\n\r\nimport android.os.Parcel;\r\nimport android.os.Parcelable;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.ForeignKey;\r\nimport androidx.room.PrimaryKey;\r\n\r\nimport java.util.Objects;\r\n\r\n@Entity(tableName = &quot;participants&quot;, foreignKeys = {\r\n        @ForeignKey(entity = Player.class, parentColumns = &quot;id&quot;, childColumns = &quot;player_id&quot;, onDelete = ForeignKey.CASCADE),\r\n        @ForeignKey(entity = Game.class, parentColumns = &quot;id&quot;, childColumns = &quot;game_id&quot;, onDelete = ForeignKey.CASCADE)})\r\npublic class Participant implements Parcelable {\r\n    @PrimaryKey(autoGenerate = true)\r\n    private long id;\r\n\r\n    @ColumnInfo(name = &quot;player_id&quot;, index = true)\r\n    private long playerID;\r\n\r\n    @ColumnInfo(name = &quot;game_id&quot;, index = true)\r\n    private long gameID;\r\n\r\n    @ColumnInfo(name = &quot;score&quot;)\r\n    private int score;\r\n\r\n    protected Participant(Parcel in) {\r\n        id = in.readLong();\r\n        playerID = in.readLong();\r\n        gameID = in.readLong();\r\n        score = in.readInt();\r\n    }\r\n\r\n    public static final Creator&lt;Participant&gt; CREATOR = new Creator&lt;Participant&gt;() {\r\n        @Override\r\n        public Participant createFromParcel(Parcel in) {\r\n            return new Participant(in);\r\n        }\r\n\r\n        @Override\r\n        public Participant[] newArray(int size) {\r\n            return new Participant[size];\r\n        }\r\n    };\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public long getPlayerID() {\r\n        return playerID;\r\n    }\r\n\r\n    public void setPlayerID(long playerID) {\r\n        this.playerID = playerID;\r\n    }\r\n\r\n    public long getGameID() {\r\n        return gameID;\r\n    }\r\n\r\n    public void setGameID(long gameID) {\r\n        this.gameID = gameID;\r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public void setScore(int score) {\r\n        this.score = score;\r\n    }\r\n\r\n    public Participant(long playerID, long gameID){\r\n        this.playerID = playerID;\r\n        this.gameID = gameID;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(@Nullable Object obj) {\r\n        if (this == obj) return true;\r\n        if (!(obj instanceof Participant)) return false;\r\n\r\n        Participant participant = (Participant) obj;\r\n        if (id != participant.id) return false;\r\n        return Objects.equals(score, participant.score) || Objects.equals(playerID, participant.playerID) || Objects.equals(gameID, participant.gameID);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int result = (int) id;\r\n        result = (int) (31 * result + playerID + gameID + score);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Participant{&quot; +\r\n                &quot;ID=&quot; + id +\r\n                &quot;, PlayerID=&#39;&quot; + playerID + &#39;\\&#39;&#39; +\r\n                &quot;, GameID=&#39;&quot; + gameID + &#39;\\&#39;&#39; +\r\n                &quot;, Score=&#39;&quot; + score + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel dest, int flags) {\r\n        dest.writeLong(id);\r\n        dest.writeLong(playerID);\r\n        dest.writeLong(gameID);\r\n        dest.writeInt(score);\r\n    }\r\n}\r\n```\r\n\r\n**EightHolePagerAdapter.java**\r\n\r\n```\r\npackage com.example.game;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\r\n\r\npublic class EightHolePagerAdapter extends FragmentStateAdapter {\r\n\r\n    public EightHolePagerAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        switch (position){\r\n            case 0:\r\n                return new EightHoleGameFragment();\r\n            default:\r\n                return new EightHoleScoresFragment();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 2;\r\n    }\r\n}\r\n```\r\n\r\n**EightHoleScoresFragment.java**\r\n\r\n```\r\npackage com.example.game;\r\n\r\nimport android.os.Bundle;\r\nimport androidx.fragment.app.Fragment;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ListView;\r\nimport java.util.ArrayList;\r\n\r\npublic class EightHoleScoresFragment extends Fragment {\r\n\r\n    private ArrayList&lt;Participant&gt; participants = new ArrayList&lt;Participant&gt;();\r\n\r\n    public EightHoleScoresFragment() {\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_eight_hole_scores, container, false);\r\n        ListView listView = (ListView) view.findViewById(R.id.eight_hole_current_scores_list);\r\n\r\n        ScoresAdapter adapter = new ScoresAdapter(getActivity(), R.layout.scores_adapter_layout, participants);\r\n        listView.setAdapter(adapter);\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\nI apologize for the digest amount of code. I feel it&#39;s all necessary to be able to understand what is going on. I&#39;ve tried to use `Bundle` as I said, following various answers on the site but none have worked. I wonder if it would be at all possible to directly pass the contents of the intent to the `EightHoleScoresFragment` with a method that links back to the parents `EightHoleActivity` but I&#39;m not sure...\r\n\r\nThanks in advance!","title":"Pass data from Activity to Fragment via FragmentStateAdapter","body":"<p>I am currently working on a personal project application for a scoring helper app. The aim is to use the app to keep track of points for each player and have high scores and other fancy features.</p>\n<p>Right now, I have a Tabbed Activity which uses <code>ViewPager2</code>. For those familiar with it, you'll know a lot more than I do but what I've noticed is that I never instantiate my <code>Fragment</code> classes in the activity, only in the <code>FragmentStateAdapter</code>. In my activity, I only use two tabs, one for the game aspect and one for the points display. With this in mind, my activity class looks like this:</p>\n<p><strong>EightHoleActivity.java</strong></p>\n<pre><code>package com.example.game;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport com.google.android.material.tabs.TabLayout;\nimport com.google.android.material.tabs.TabLayoutMediator;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.viewpager2.widget.ViewPager2;\n\npublic class EightHoleActivity extends AppCompatActivity {\n\n    private long gameID;\n    private RoomDB database;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_eight_hole);\n\n        Intent intent = getIntent();\n        gameID = intent.getLongExtra(&quot;GameID&quot;, 0);\n        database = RoomDB.getInstance(EightHoleActivity.this);\n\n        ViewPager2 viewPager2 = findViewById(R.id.eight_hole_view_pager);\n        viewPager2.setAdapter(new EightHolePagerAdapter(this));\n        TabLayout tabLayout = findViewById(R.id.eight_hole_tabs);\n        TabLayoutMediator tabLayoutMediator = new TabLayoutMediator(\n                tabLayout, viewPager2, (tab, position) -&gt; {\n                    switch (position){\n                        case 0: {\n                            tab.setText(&quot;Current game&quot;);\n                            tab.setIcon(R.drawable.ic_twotone_games_24);\n                            break;\n                        }\n                        default: {\n                            tab.setText(&quot;Scores&quot;);\n                            tab.setIcon(R.drawable.ic_baseline_list_24);\n                            break;\n                        }\n                    }\n                }\n        );\n        tabLayoutMediator.attach();\n    }\n}\n</code></pre>\n<p>As you can see, I have a <code>RoomDatabase</code> which I use to store the data within the application. When I start this activity by intent, I pass the <code>ID</code> of the game that is being played. This is where I am having issue.</p>\n<p><strong>What I want to do:</strong></p>\n<p>I want to pass the variable <code>gameID</code> that I get from <code>intent.getLongExtra(&quot;GameID&quot;, 0)</code> all the way down to the <code>EightHoleScoresFragment</code> class.</p>\n<p>I've had no luck with the use of <code>Bundle</code> and <code>putParcelableArrayList()</code></p>\n<p>Here are the other classes that I use.\nNote that the class Participants.java is what I want to extract with the <code>gameID</code> variable.</p>\n<p><strong>Participants.java</strong></p>\n<pre><code>package com.example.game;\n\nimport android.os.Parcel;\nimport android.os.Parcelable;\n\nimport androidx.annotation.Nullable;\nimport androidx.room.ColumnInfo;\nimport androidx.room.Entity;\nimport androidx.room.ForeignKey;\nimport androidx.room.PrimaryKey;\n\nimport java.util.Objects;\n\n@Entity(tableName = &quot;participants&quot;, foreignKeys = {\n        @ForeignKey(entity = Player.class, parentColumns = &quot;id&quot;, childColumns = &quot;player_id&quot;, onDelete = ForeignKey.CASCADE),\n        @ForeignKey(entity = Game.class, parentColumns = &quot;id&quot;, childColumns = &quot;game_id&quot;, onDelete = ForeignKey.CASCADE)})\npublic class Participant implements Parcelable {\n    @PrimaryKey(autoGenerate = true)\n    private long id;\n\n    @ColumnInfo(name = &quot;player_id&quot;, index = true)\n    private long playerID;\n\n    @ColumnInfo(name = &quot;game_id&quot;, index = true)\n    private long gameID;\n\n    @ColumnInfo(name = &quot;score&quot;)\n    private int score;\n\n    protected Participant(Parcel in) {\n        id = in.readLong();\n        playerID = in.readLong();\n        gameID = in.readLong();\n        score = in.readInt();\n    }\n\n    public static final Creator&lt;Participant&gt; CREATOR = new Creator&lt;Participant&gt;() {\n        @Override\n        public Participant createFromParcel(Parcel in) {\n            return new Participant(in);\n        }\n\n        @Override\n        public Participant[] newArray(int size) {\n            return new Participant[size];\n        }\n    };\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public long getPlayerID() {\n        return playerID;\n    }\n\n    public void setPlayerID(long playerID) {\n        this.playerID = playerID;\n    }\n\n    public long getGameID() {\n        return gameID;\n    }\n\n    public void setGameID(long gameID) {\n        this.gameID = gameID;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public void setScore(int score) {\n        this.score = score;\n    }\n\n    public Participant(long playerID, long gameID){\n        this.playerID = playerID;\n        this.gameID = gameID;\n    }\n\n    @Override\n    public boolean equals(@Nullable Object obj) {\n        if (this == obj) return true;\n        if (!(obj instanceof Participant)) return false;\n\n        Participant participant = (Participant) obj;\n        if (id != participant.id) return false;\n        return Objects.equals(score, participant.score) || Objects.equals(playerID, participant.playerID) || Objects.equals(gameID, participant.gameID);\n    }\n\n    @Override\n    public int hashCode() {\n        int result = (int) id;\n        result = (int) (31 * result + playerID + gameID + score);\n        return result;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Participant{&quot; +\n                &quot;ID=&quot; + id +\n                &quot;, PlayerID='&quot; + playerID + '\\'' +\n                &quot;, GameID='&quot; + gameID + '\\'' +\n                &quot;, Score='&quot; + score + '\\'' +\n                '}';\n    }\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeLong(id);\n        dest.writeLong(playerID);\n        dest.writeLong(gameID);\n        dest.writeInt(score);\n    }\n}\n</code></pre>\n<p><strong>EightHolePagerAdapter.java</strong></p>\n<pre><code>package com.example.game;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\n\npublic class EightHolePagerAdapter extends FragmentStateAdapter {\n\n    public EightHolePagerAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position){\n            case 0:\n                return new EightHoleGameFragment();\n            default:\n                return new EightHoleScoresFragment();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return 2;\n    }\n}\n</code></pre>\n<p><strong>EightHoleScoresFragment.java</strong></p>\n<pre><code>package com.example.game;\n\nimport android.os.Bundle;\nimport androidx.fragment.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ListView;\nimport java.util.ArrayList;\n\npublic class EightHoleScoresFragment extends Fragment {\n\n    private ArrayList&lt;Participant&gt; participants = new ArrayList&lt;Participant&gt;();\n\n    public EightHoleScoresFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_eight_hole_scores, container, false);\n        ListView listView = (ListView) view.findViewById(R.id.eight_hole_current_scores_list);\n\n        ScoresAdapter adapter = new ScoresAdapter(getActivity(), R.layout.scores_adapter_layout, participants);\n        listView.setAdapter(adapter);\n        return view;\n    }\n}\n</code></pre>\n<p>I apologize for the digest amount of code. I feel it's all necessary to be able to understand what is going on. I've tried to use <code>Bundle</code> as I said, following various answers on the site but none have worked. I wonder if it would be at all possible to directly pass the contents of the intent to the <code>EightHoleScoresFragment</code> with a method that links back to the parents <code>EightHoleActivity</code> but I'm not sure...</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","homebrew","java-11"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697957798,"creation_date":1697933788,"answer_id":77338237,"question_id":77337039,"body_markdown":"&gt; Oracle does not provide updates and security patches for older java versions\r\n\r\nIncorrect. Oracle supports older versions of their JDK products for many years, across decades. For several of those years, updates are made available to the public. For even more years, those updates are made available to their paid customers. For example, paid customers receive support for Java 8 at least through 2030. \r\n\r\nDo not confuse the various Java products offered by Oracle: \r\n\r\n - [*Oracle JDK*][1] product is Oracle’s mainstream, supported implementation of Java. Different versions of this product have had varying terms of use, some with a fee required. \r\n - Oracle also offers a direct build of the codebase at OpenJDK in a product whose name never quite seems to be clearly established. This naming problem causes some confusion in the marketplace. This product is *not* supported by Oracle.\r\n - [*GraalVM*][2] is a specialized implementation of Java. One edition is available free of cost, another is a commercial product. Oracle is currently in the process of transferring much of the source code to the OpenJDK project. \r\n\r\nBy the way, Oracle is but one of several vendors offering JDK products (binaries, installers). Others include Microsoft, Amazon, Adoptium of the Eclipse Foundation, BellSoft, Azul Systems, Red Hat, IBM, SAP, and more. Some of these products are available free of cost, some require a fee with a support plan. Some of these vendors continue to provide maintenance releases of their JDK 8 products. For example Adoptium right now is preparing October 2023 releases of binaries for Eclipse Temurin 8u392 &amp; 11.0.21.\r\n\r\nAll of these vendors utilize the open-source codebase housed at the collaborative [OpenJDK][3] project that implements the [Java specifications][4]. Understand that the OpenJDK project produces only source code, not binaries/installers. This source code is maintained on a voluntary basis by the members of the OpenJDK consortium and other donors, under the leadership of Oracle. \r\n\r\nFrom skimming your linked script, it seems that Homebrew is sourcing JDK&#160;7 products from [Azul Systems][5]. For JDK 8, I am unable to decipher that script except to say that it *might* be that Homebrew is actually compiling directly the source code obtained from the OpenJDK site — but I am not sure. At any rate, regarding policies for updates, you should be asking the Homebrew support, not Stack Overflow.\r\n\r\n\r\n----------\r\n\r\n\r\nYou might consider using [SDKMAN!][6] for installing/uninstalling JDK products (and similar software kit products). This clever collection of shell scripts makes easy work of listing, downloading, and installing JDK products from your choice of several vendors who choose to submit data describing their product offerings.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/\r\n  [2]: https://en.wikipedia.org/wiki/GraalVM\r\n  [3]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [4]: https://docs.oracle.com/javase/specs/\r\n  [5]: https://en.wikipedia.org/wiki/Azul_Systems\r\n  [6]: https://sdkman.io/","title":"Who maintains the openjdk binaries for old versions, which are accessible through homebrew-core?","body":"<blockquote>\n<p>Oracle does not provide updates and security patches for older java versions</p>\n</blockquote>\n<p>Incorrect. Oracle supports older versions of their JDK products for many years, across decades. For several of those years, updates are made available to the public. For even more years, those updates are made available to their paid customers. For example, paid customers receive support for Java 8 at least through 2030.</p>\n<p>Do not confuse the various Java products offered by Oracle:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\"><em>Oracle JDK</em></a> product is Oracle’s mainstream, supported implementation of Java. Different versions of this product have had varying terms of use, some with a fee required.</li>\n<li>Oracle also offers a direct build of the codebase at OpenJDK in a product whose name never quite seems to be clearly established. This naming problem causes some confusion in the marketplace. This product is <em>not</em> supported by Oracle.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"nofollow noreferrer\"><em>GraalVM</em></a> is a specialized implementation of Java. One edition is available free of cost, another is a commercial product. Oracle is currently in the process of transferring much of the source code to the OpenJDK project.</li>\n</ul>\n<p>By the way, Oracle is but one of several vendors offering JDK products (binaries, installers). Others include Microsoft, Amazon, Adoptium of the Eclipse Foundation, BellSoft, Azul Systems, Red Hat, IBM, SAP, and more. Some of these products are available free of cost, some require a fee with a support plan. Some of these vendors continue to provide maintenance releases of their JDK 8 products. For example Adoptium right now is preparing October 2023 releases of binaries for Eclipse Temurin 8u392 &amp; 11.0.21.</p>\n<p>All of these vendors utilize the open-source codebase housed at the collaborative <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project that implements the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java specifications</a>. Understand that the OpenJDK project produces only source code, not binaries/installers. This source code is maintained on a voluntary basis by the members of the OpenJDK consortium and other donors, under the leadership of Oracle.</p>\n<p>From skimming your linked script, it seems that Homebrew is sourcing JDK 7 products from <a href=\"https://en.wikipedia.org/wiki/Azul_Systems\" rel=\"nofollow noreferrer\">Azul Systems</a>. For JDK 8, I am unable to decipher that script except to say that it <em>might</em> be that Homebrew is actually compiling directly the source code obtained from the OpenJDK site — but I am not sure. At any rate, regarding policies for updates, you should be asking the Homebrew support, not Stack Overflow.</p>\n<hr />\n<p>You might consider using <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a> for installing/uninstalling JDK products (and similar software kit products). This clever collection of shell scripts makes easy work of listing, downloading, and installing JDK products from your choice of several vendors who choose to submit data describing their product offerings.</p>\n"}],"owner":{"account_id":4502153,"reputation":57,"user_id":3660442,"display_name":"ankitmittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1698073538,"answer_count":1,"score":-2,"last_activity_date":1697957798,"creation_date":1697908488,"question_id":77337039,"body_markdown":"I know that Oracle does not provide updates and security patches for older java versions like: openjdk8, openjdk11 etc. But we can install the openjdk using homebrew which is specified through formula files on homebrew-core github repository.\r\n\r\nLinks: https://github.com/Homebrew/homebrew-core/blob/master/Formula/o/openjdk%408.rb\r\nhttps://github.com/Homebrew/homebrew-core/blob/master/Formula/o/openjdk%4011.rb\r\n\r\nNow, I am unable to understand (and find elsewhere) whether these jdk builds are outdated or are being updated with the latest security patches etc.\r\n\r\nIt is hard to believe that these are outdated because these are being used extensively/vastly across the industry.\r\n\r\nIn case of second option, where these are being updated regularly. Then my question is who is updating and maintaining those? If this is part of Openjdk project&#39;s process itself (which is open to all collaborators and the individual collaborators are contributing), but finally who is providing the binary build here? These individual collaborators can not provide the build here.\r\n\r\n\r\n\r\n","title":"Who maintains the openjdk binaries for old versions, which are accessible through homebrew-core?","body":"<p>I know that Oracle does not provide updates and security patches for older java versions like: openjdk8, openjdk11 etc. But we can install the openjdk using homebrew which is specified through formula files on homebrew-core github repository.</p>\n<p>Links: <a href=\"https://github.com/Homebrew/homebrew-core/blob/master/Formula/o/openjdk%408.rb\" rel=\"nofollow noreferrer\">https://github.com/Homebrew/homebrew-core/blob/master/Formula/o/openjdk%408.rb</a>\n<a href=\"https://github.com/Homebrew/homebrew-core/blob/master/Formula/o/openjdk%4011.rb\" rel=\"nofollow noreferrer\">https://github.com/Homebrew/homebrew-core/blob/master/Formula/o/openjdk%4011.rb</a></p>\n<p>Now, I am unable to understand (and find elsewhere) whether these jdk builds are outdated or are being updated with the latest security patches etc.</p>\n<p>It is hard to believe that these are outdated because these are being used extensively/vastly across the industry.</p>\n<p>In case of second option, where these are being updated regularly. Then my question is who is updating and maintaining those? If this is part of Openjdk project's process itself (which is open to all collaborators and the individual collaborators are contributing), but finally who is providing the binary build here? These individual collaborators can not provide the build here.</p>\n"},{"tags":["java","spring","spring-boot","cloud","nacos"],"owner":{"account_id":22865693,"reputation":29,"user_id":17009196,"display_name":"gold-three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697956506,"creation_date":1697956506,"question_id":77338903,"body_markdown":"In my application, I start spring cloud moudules based on spring cloud alibaba.  Browse official document, I know I should use nacos version 2.2.0. But when I start this nacos server in my local PC, my APP could register and run success. But when start this server in my cloud server, It start  error. I deduce it may be nacos only internal network could access, so I start a nginx app to proxy my IP address. In a result, I could access nacos dashboard on browser, but my application register failed yet.Then I package my app by maven and transport it to my cloud server, start it by java -jar. Howerer it start failed too because of register error. Besides, When I perform official register shell directly in cloud server, it returns ok;\r\n```\r\n// directly link nacos\r\n[root@VM-4-16-centos ~]# curl -X POST &#39;http://127.0.0.1:9038/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080&#39;\r\nok\r\n// link nacos by nginx proxy\r\n[root@VM-4-16-centos ~]# curl -X POST &#39;http://localhost:9001/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080&#39;\r\nok\r\n```\r\n\r\nThis is error message;\r\n```\r\n2023-10-22 13:29:46.802 ERROR 21464 --- [           main] c.a.c.n.registry.NacosServiceRegistry    : \r\nnacos registry, freshwater-gateway register failed...\r\nNacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties\r\n{\r\n   serverAddr=&#39;http://MY_NACOS_LOCATION:9001&#39;, \r\n   username=&#39;&#39;, \r\n   password=&#39;&#39;, \r\n   endpoint=&#39;&#39;, \r\n   namespace=&#39;&#39;, \r\n   watchDelay=30000, \r\n   logName=&#39;&#39;, \r\n   service=&#39;freshwater-gateway&#39;, \r\n   weight=1.0, \r\n   clusterName=&#39;DEFAULT&#39;, \r\n   group=&#39;DEFAULT_GROUP&#39;, \r\n   namingLoadCacheAtStart=&#39;false&#39;, \r\n   metadata = {\r\n          IPv6=null, \r\n          preserved.register.source=SPRING_CLOUD\r\n   }, \r\n   registerEnabled=true, \r\n   ip=&#39;192.168.217.205&#39;, \r\n   networkInterface=&#39;&#39;, \r\n   port=8080, \r\n   secure=false, \r\n   accessKey=&#39;&#39;, \r\n   secretKey=&#39;&#39;, \r\n   heartBeatInterval=null, \r\n   heartBeatTimeout=null, \r\n   ipDeleteTimeout=null, \r\n   instanceEnabled=true, \r\n   ephemeral=true, \r\n   failureToleranceEnabled=false\r\n}, ipDeleteTimeout=null, \r\n   failFast=true}},\r\n\r\ncom.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING\r\n```\r\n \r\nThis is my APP parent pom.xml.\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n        &lt;spring-cloud-alibaba.version&gt;2021.0.5.0&lt;/spring-cloud-alibaba.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- SpringCloud --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- SpringCloud Alibaba --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- SpringBoot --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nStart nacos and nginx by docker-compose.\r\n```\r\nservices:\r\n  freshwater-nacos:\r\n    container_name: freshwater-nacos\r\n    image: nacos/nacos-server:v2.2.0\r\n    build:\r\n      context: ./nacos\r\n    env_file:\r\n      - nacos/env/nacos.env\r\n    volumes:\r\n      - /home/data/nacos/logs/:/home/nacos/logs\r\n    ports:\r\n      - &quot;9038:8848&quot;\r\n      - &quot;9048:9848&quot;\r\n      - &quot;9049:9849&quot;\r\n    depends_on:\r\n      - freshwater-mysql\r\n    restart: always\r\n  freshwater-mysql:\r\n    container_name: mysql\r\n    build:\r\n      context: ./mysql\r\n    image: example/mysql:8.0.30\r\n    env_file:\r\n      - ./mysql/env/mysql.env\r\n    volumes:\r\n      - /home/data/mysql:/var/lib/mysql\r\n    ports:\r\n      - &quot;3306:3306&quot;\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n      interval: 5s\r\n      timeout: 10s\r\n      retries: 10\r\n  freshwater-nginx:\r\n    container_name: freshwater-nginx\r\n    image: nginx\r\n    build:\r\n      context: ./nginx\r\n    ports:\r\n      - &quot;9001:9001&quot;\r\n    volumes:\r\n      - ./nginx/conf/nginx.conf:/etc/nginx/nginx.conf\r\n```\r\nnginx.conf\r\n```\r\nworker_processes  1;\r\n\r\nevents {\r\n    worker_connections  1024;\r\n}\r\n\r\nhttp {\r\n    include       mime.types;\r\n    default_type  application/octet-stream;\r\n    sendfile        on;\r\n    keepalive_timeout  65;\r\n\r\n    server {\r\n        listen 9001;\r\n        server_name MY_NACOS_LOCATION;\r\n\r\n        location / {\r\n            proxy_pass http://freshwater-nacos:8848;\r\n        }\r\n    }\r\n}\r\n```\r\nnacos envs:\r\n```\r\nPREFER_HOST_MODE=hostname\r\nMODE=standalone\r\nSPRING_DATASOURCE_PLATFORM=mysql\r\nMYSQL_SERVICE_HOST=mysql\r\nMYSQL_SERVICE_DB_NAME=nacos_devtest\r\nMYSQL_SERVICE_PORT=3306\r\nMYSQL_SERVICE_USER=nacos\r\nMYSQL_SERVICE_PASSWORD=nacos\r\nMYSQL_SERVICE_DB_PARAM=characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\nNACOS_AUTH_IDENTITY_KEY=2222\r\nNACOS_AUTH_IDENTITY_VALUE=2xxx\r\nNACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789\r\nNACOS_AUTH_ENABLE=false\r\n```\r\nMy app bootstrap.yml. Due to my app run in physical machine，so use 127.0.0.1\r\n```\r\n# Tomcat\r\nserver: \r\n  port: 8080\r\n\r\n# Spring\r\nspring: \r\n  application:\r\n    name: freshwater-gateway\r\n  profiles:\r\n  cloud:\r\n    nacos:\r\n      discovery:\r\n        server-addr: 127.0.0.1:9038\r\n      config:\r\n        server-addr: 127.0.0.1:9038\r\n        file-extension: yml\r\n```\r\n\r\nIn my application, I start spring cloud moudules based on spring cloud alibaba.  Browse official document, I know I should use nacos version 2.2.0. But when I start this nacos server in my local PC, my APP could register and run success. But when start this server in my cloud server, It start  error. I deduce it may be nacos only internal network could access, so I start a nginx app to proxy my IP address. In a result, I could access nacos dashboard on browser, but my application register failed yet.Then I package my app by maven and transport it to my cloud server, start it by java -jar. Howerer it start failed too because of register error. Besides, When I perform official register shell directly in cloud server, it returns ok;\r\n```\r\n// directly link nacos\r\n[root@VM-4-16-centos ~]# curl -X POST &#39;http://127.0.0.1:9038/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080&#39;\r\nok\r\n// link nacos by nginx proxy\r\n[root@VM-4-16-centos ~]# curl -X POST &#39;http://localhost:9001/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080&#39;\r\nok\r\n```\r\n\r\nThis is error message;\r\n```\r\n2023-10-22 13:29:46.802 ERROR 21464 --- [           main] c.a.c.n.registry.NacosServiceRegistry    : \r\nnacos registry, freshwater-gateway register failed...\r\nNacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties\r\n{\r\n   serverAddr=&#39;http://MY_NACOS_LOCATION:9001&#39;, \r\n   username=&#39;&#39;, \r\n   password=&#39;&#39;, \r\n   endpoint=&#39;&#39;, \r\n   namespace=&#39;&#39;, \r\n   watchDelay=30000, \r\n   logName=&#39;&#39;, \r\n   service=&#39;freshwater-gateway&#39;, \r\n   weight=1.0, \r\n   clusterName=&#39;DEFAULT&#39;, \r\n   group=&#39;DEFAULT_GROUP&#39;, \r\n   namingLoadCacheAtStart=&#39;false&#39;, \r\n   metadata = {\r\n          IPv6=null, \r\n          preserved.register.source=SPRING_CLOUD\r\n   }, \r\n   registerEnabled=true, \r\n   ip=&#39;192.168.217.205&#39;, \r\n   networkInterface=&#39;&#39;, \r\n   port=8080, \r\n   secure=false, \r\n   accessKey=&#39;&#39;, \r\n   secretKey=&#39;&#39;, \r\n   heartBeatInterval=null, \r\n   heartBeatTimeout=null, \r\n   ipDeleteTimeout=null, \r\n   instanceEnabled=true, \r\n   ephemeral=true, \r\n   failureToleranceEnabled=false\r\n}, ipDeleteTimeout=null, \r\n   failFast=true}},\r\n\r\ncom.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING\r\n```\r\n \r\nThis is my APP parent pom.xml.\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n        &lt;spring-cloud-alibaba.version&gt;2021.0.5.0&lt;/spring-cloud-alibaba.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- SpringCloud --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- SpringCloud Alibaba --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- SpringBoot --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nStart nacos and nginx by docker-compose.\r\n```\r\nservices:\r\n  freshwater-nacos:\r\n    container_name: freshwater-nacos\r\n    image: nacos/nacos-server:v2.2.0\r\n    build:\r\n      context: ./nacos\r\n    env_file:\r\n      - nacos/env/nacos.env\r\n    volumes:\r\n      - /home/data/nacos/logs/:/home/nacos/logs\r\n    ports:\r\n      - &quot;9038:8848&quot;\r\n      - &quot;9048:9848&quot;\r\n      - &quot;9049:9849&quot;\r\n    depends_on:\r\n      - freshwater-mysql\r\n    restart: always\r\n  freshwater-mysql:\r\n    container_name: mysql\r\n    build:\r\n      context: ./mysql\r\n    image: example/mysql:8.0.30\r\n    env_file:\r\n      - ./mysql/env/mysql.env\r\n    volumes:\r\n      - /home/data/mysql:/var/lib/mysql\r\n    ports:\r\n      - &quot;3306:3306&quot;\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n      interval: 5s\r\n      timeout: 10s\r\n      retries: 10\r\n  freshwater-nginx:\r\n    container_name: freshwater-nginx\r\n    image: nginx\r\n    build:\r\n      context: ./nginx\r\n    ports:\r\n      - &quot;9001:9001&quot;\r\n    volumes:\r\n      - ./nginx/conf/nginx.conf:/etc/nginx/nginx.conf\r\n```\r\nnginx.conf\r\n```\r\nworker_processes  1;\r\n\r\nevents {\r\n    worker_connections  1024;\r\n}\r\n\r\nhttp {\r\n    include       mime.types;\r\n    default_type  application/octet-stream;\r\n    sendfile        on;\r\n    keepalive_timeout  65;\r\n\r\n    server {\r\n        listen 9001;\r\n        server_name MY_NACOS_LOCATION;\r\n\r\n        location / {\r\n            proxy_pass http://freshwater-nacos:8848;\r\n        }\r\n    }\r\n}\r\n```\r\nnacos envs:\r\n```\r\nPREFER_HOST_MODE=hostname\r\nMODE=standalone\r\nSPRING_DATASOURCE_PLATFORM=mysql\r\nMYSQL_SERVICE_HOST=mysql\r\nMYSQL_SERVICE_DB_NAME=nacos_devtest\r\nMYSQL_SERVICE_PORT=3306\r\nMYSQL_SERVICE_USER=nacos\r\nMYSQL_SERVICE_PASSWORD=nacos\r\nMYSQL_SERVICE_DB_PARAM=characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\nNACOS_AUTH_IDENTITY_KEY=2222\r\nNACOS_AUTH_IDENTITY_VALUE=2xxx\r\nNACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789\r\nNACOS_AUTH_ENABLE=false\r\n```\r\nMy app bootstrap.yml. Due to my app run in physical machine，so use 127.0.0.1\r\n```\r\n# Tomcat\r\nserver: \r\n  port: 8080\r\n\r\n# Spring\r\nspring: \r\n  application:\r\n    name: freshwater-gateway\r\n  profiles:\r\n  cloud:\r\n    nacos:\r\n      discovery:\r\n        server-addr: 127.0.0.1:9038\r\n      config:\r\n        server-addr: 127.0.0.1:9038\r\n        file-extension: yml\r\n```","title":"Why Register to Nacos Error In Cloud Server while Success In Local PC","body":"<p>In my application, I start spring cloud moudules based on spring cloud alibaba.  Browse official document, I know I should use nacos version 2.2.0. But when I start this nacos server in my local PC, my APP could register and run success. But when start this server in my cloud server, It start  error. I deduce it may be nacos only internal network could access, so I start a nginx app to proxy my IP address. In a result, I could access nacos dashboard on browser, but my application register failed yet.Then I package my app by maven and transport it to my cloud server, start it by java -jar. Howerer it start failed too because of register error. Besides, When I perform official register shell directly in cloud server, it returns ok;</p>\n<pre><code>// directly link nacos\n[root@VM-4-16-centos ~]# curl -X POST 'http://127.0.0.1:9038/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080'\nok\n// link nacos by nginx proxy\n[root@VM-4-16-centos ~]# curl -X POST 'http://localhost:9001/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080'\nok\n</code></pre>\n<p>This is error message;</p>\n<pre><code>2023-10-22 13:29:46.802 ERROR 21464 --- [           main] c.a.c.n.registry.NacosServiceRegistry    : \nnacos registry, freshwater-gateway register failed...\nNacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties\n{\n   serverAddr='http://MY_NACOS_LOCATION:9001', \n   username='', \n   password='', \n   endpoint='', \n   namespace='', \n   watchDelay=30000, \n   logName='', \n   service='freshwater-gateway', \n   weight=1.0, \n   clusterName='DEFAULT', \n   group='DEFAULT_GROUP', \n   namingLoadCacheAtStart='false', \n   metadata = {\n          IPv6=null, \n          preserved.register.source=SPRING_CLOUD\n   }, \n   registerEnabled=true, \n   ip='192.168.217.205', \n   networkInterface='', \n   port=8080, \n   secure=false, \n   accessKey='', \n   secretKey='', \n   heartBeatInterval=null, \n   heartBeatTimeout=null, \n   ipDeleteTimeout=null, \n   instanceEnabled=true, \n   ephemeral=true, \n   failureToleranceEnabled=false\n}, ipDeleteTimeout=null, \n   failFast=true}},\n\ncom.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING\n</code></pre>\n<p>This is my APP parent pom.xml.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;\n    &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;spring-cloud-alibaba.version&gt;2021.0.5.0&lt;/spring-cloud-alibaba.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- SpringCloud --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SpringCloud Alibaba --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SpringBoot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Start nacos and nginx by docker-compose.</p>\n<pre><code>services:\n  freshwater-nacos:\n    container_name: freshwater-nacos\n    image: nacos/nacos-server:v2.2.0\n    build:\n      context: ./nacos\n    env_file:\n      - nacos/env/nacos.env\n    volumes:\n      - /home/data/nacos/logs/:/home/nacos/logs\n    ports:\n      - &quot;9038:8848&quot;\n      - &quot;9048:9848&quot;\n      - &quot;9049:9849&quot;\n    depends_on:\n      - freshwater-mysql\n    restart: always\n  freshwater-mysql:\n    container_name: mysql\n    build:\n      context: ./mysql\n    image: example/mysql:8.0.30\n    env_file:\n      - ./mysql/env/mysql.env\n    volumes:\n      - /home/data/mysql:/var/lib/mysql\n    ports:\n      - &quot;3306:3306&quot;\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      interval: 5s\n      timeout: 10s\n      retries: 10\n  freshwater-nginx:\n    container_name: freshwater-nginx\n    image: nginx\n    build:\n      context: ./nginx\n    ports:\n      - &quot;9001:9001&quot;\n    volumes:\n      - ./nginx/conf/nginx.conf:/etc/nginx/nginx.conf\n</code></pre>\n<p>nginx.conf</p>\n<pre><code>worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen 9001;\n        server_name MY_NACOS_LOCATION;\n\n        location / {\n            proxy_pass http://freshwater-nacos:8848;\n        }\n    }\n}\n</code></pre>\n<p>nacos envs:</p>\n<pre><code>PREFER_HOST_MODE=hostname\nMODE=standalone\nSPRING_DATASOURCE_PLATFORM=mysql\nMYSQL_SERVICE_HOST=mysql\nMYSQL_SERVICE_DB_NAME=nacos_devtest\nMYSQL_SERVICE_PORT=3306\nMYSQL_SERVICE_USER=nacos\nMYSQL_SERVICE_PASSWORD=nacos\nMYSQL_SERVICE_DB_PARAM=characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\nNACOS_AUTH_IDENTITY_KEY=2222\nNACOS_AUTH_IDENTITY_VALUE=2xxx\nNACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789\nNACOS_AUTH_ENABLE=false\n</code></pre>\n<p>My app bootstrap.yml. Due to my app run in physical machine，so use 127.0.0.1</p>\n<pre><code># Tomcat\nserver: \n  port: 8080\n\n# Spring\nspring: \n  application:\n    name: freshwater-gateway\n  profiles:\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:9038\n      config:\n        server-addr: 127.0.0.1:9038\n        file-extension: yml\n</code></pre>\n<p>In my application, I start spring cloud moudules based on spring cloud alibaba.  Browse official document, I know I should use nacos version 2.2.0. But when I start this nacos server in my local PC, my APP could register and run success. But when start this server in my cloud server, It start  error. I deduce it may be nacos only internal network could access, so I start a nginx app to proxy my IP address. In a result, I could access nacos dashboard on browser, but my application register failed yet.Then I package my app by maven and transport it to my cloud server, start it by java -jar. Howerer it start failed too because of register error. Besides, When I perform official register shell directly in cloud server, it returns ok;</p>\n<pre><code>// directly link nacos\n[root@VM-4-16-centos ~]# curl -X POST 'http://127.0.0.1:9038/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080'\nok\n// link nacos by nginx proxy\n[root@VM-4-16-centos ~]# curl -X POST 'http://localhost:9001/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080'\nok\n</code></pre>\n<p>This is error message;</p>\n<pre><code>2023-10-22 13:29:46.802 ERROR 21464 --- [           main] c.a.c.n.registry.NacosServiceRegistry    : \nnacos registry, freshwater-gateway register failed...\nNacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties\n{\n   serverAddr='http://MY_NACOS_LOCATION:9001', \n   username='', \n   password='', \n   endpoint='', \n   namespace='', \n   watchDelay=30000, \n   logName='', \n   service='freshwater-gateway', \n   weight=1.0, \n   clusterName='DEFAULT', \n   group='DEFAULT_GROUP', \n   namingLoadCacheAtStart='false', \n   metadata = {\n          IPv6=null, \n          preserved.register.source=SPRING_CLOUD\n   }, \n   registerEnabled=true, \n   ip='192.168.217.205', \n   networkInterface='', \n   port=8080, \n   secure=false, \n   accessKey='', \n   secretKey='', \n   heartBeatInterval=null, \n   heartBeatTimeout=null, \n   ipDeleteTimeout=null, \n   instanceEnabled=true, \n   ephemeral=true, \n   failureToleranceEnabled=false\n}, ipDeleteTimeout=null, \n   failFast=true}},\n\ncom.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING\n</code></pre>\n<p>This is my APP parent pom.xml.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;\n    &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;spring-cloud-alibaba.version&gt;2021.0.5.0&lt;/spring-cloud-alibaba.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- SpringCloud --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SpringCloud Alibaba --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SpringBoot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Start nacos and nginx by docker-compose.</p>\n<pre><code>services:\n  freshwater-nacos:\n    container_name: freshwater-nacos\n    image: nacos/nacos-server:v2.2.0\n    build:\n      context: ./nacos\n    env_file:\n      - nacos/env/nacos.env\n    volumes:\n      - /home/data/nacos/logs/:/home/nacos/logs\n    ports:\n      - &quot;9038:8848&quot;\n      - &quot;9048:9848&quot;\n      - &quot;9049:9849&quot;\n    depends_on:\n      - freshwater-mysql\n    restart: always\n  freshwater-mysql:\n    container_name: mysql\n    build:\n      context: ./mysql\n    image: example/mysql:8.0.30\n    env_file:\n      - ./mysql/env/mysql.env\n    volumes:\n      - /home/data/mysql:/var/lib/mysql\n    ports:\n      - &quot;3306:3306&quot;\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      interval: 5s\n      timeout: 10s\n      retries: 10\n  freshwater-nginx:\n    container_name: freshwater-nginx\n    image: nginx\n    build:\n      context: ./nginx\n    ports:\n      - &quot;9001:9001&quot;\n    volumes:\n      - ./nginx/conf/nginx.conf:/etc/nginx/nginx.conf\n</code></pre>\n<p>nginx.conf</p>\n<pre><code>worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen 9001;\n        server_name MY_NACOS_LOCATION;\n\n        location / {\n            proxy_pass http://freshwater-nacos:8848;\n        }\n    }\n}\n</code></pre>\n<p>nacos envs:</p>\n<pre><code>PREFER_HOST_MODE=hostname\nMODE=standalone\nSPRING_DATASOURCE_PLATFORM=mysql\nMYSQL_SERVICE_HOST=mysql\nMYSQL_SERVICE_DB_NAME=nacos_devtest\nMYSQL_SERVICE_PORT=3306\nMYSQL_SERVICE_USER=nacos\nMYSQL_SERVICE_PASSWORD=nacos\nMYSQL_SERVICE_DB_PARAM=characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\nNACOS_AUTH_IDENTITY_KEY=2222\nNACOS_AUTH_IDENTITY_VALUE=2xxx\nNACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789\nNACOS_AUTH_ENABLE=false\n</code></pre>\n<p>My app bootstrap.yml. Due to my app run in physical machine，so use 127.0.0.1</p>\n<pre><code># Tomcat\nserver: \n  port: 8080\n\n# Spring\nspring: \n  application:\n    name: freshwater-gateway\n  profiles:\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:9038\n      config:\n        server-addr: 127.0.0.1:9038\n        file-extension: yml\n</code></pre>\n"},{"tags":["java","layout","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697956154,"creation_date":1697956154,"answer_id":77338887,"question_id":77338559,"body_markdown":"`GridBagLayout` is powerful but complicated. When practical, use simpler layout managers. \r\n\r\n[`BorderLayout`][1] is a surprisingly useful layout manager. See [tutorial][2] by Oracle. The center part fills like a balloon to take all the room not needed by content in the surrounding parts. \r\n\r\nPut your buttons in the top part. Put your question label in the center part. Easy-peasy. \r\n\r\nRemember that you can nest layouts within layouts. You may need to wrap your buttons in a layout, then place that layout within the top part of the `BorderLayout`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/BorderLayout.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html","title":"How to set my buttons to specific areas of my JPanel?","body":"<p><code>GridBagLayout</code> is powerful but complicated. When practical, use simpler layout managers.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\"><code>BorderLayout</code></a> is a surprisingly useful layout manager. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow noreferrer\">tutorial</a> by Oracle. The center part fills like a balloon to take all the room not needed by content in the surrounding parts.</p>\n<p>Put your buttons in the top part. Put your question label in the center part. Easy-peasy.</p>\n<p>Remember that you can nest layouts within layouts. You may need to wrap your buttons in a layout, then place that layout within the top part of the <code>BorderLayout</code>.</p>\n"}],"owner":{"account_id":29725935,"reputation":1,"user_id":22781902,"display_name":"David Armstrong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697956154,"creation_date":1697946181,"question_id":77338559,"body_markdown":"I have added my buttons to my JPanel and i want to make them appear in different areas in the Panel. I want to layout my Panel so that there are 3 buttons on top, and a question label stretching across the center. \r\n\r\nI&#39;ve tried multiple different Layouts but can&#39;t get the buttons in the right spots. The buttons always end up in the Center of the frame on the order that they were added.\r\n\r\n\r\n\r\n```\r\n\tpublic Frame(int w, int h) {\r\n\t\twidth = w;\r\n\t\theight = h;\r\n\t\tbuttonY = new JButton(&quot;Yes&quot;);\r\n\t\tbuttonN = new JButton(&quot;No&quot;);\r\n\t\tbuttonIDK = new JButton(&quot;I don&#39;t know&quot;);\r\n\t\tQL = new JLabel(question);\r\n\t\tcounter = new JLabel(&quot;Your question count is: &quot; +count);\r\n\t\t\r\n\t}\r\n\t\r\n\r\npublic void setUpFrame() {\r\n\tJFrame f = new JFrame();\r\n\tJPanel p = new JPanel(new GridBagLayout());\t\r\n\tGridBagConstraints c = new GridBagConstraints();\r\n\tp.setLayout(new GridBagLayout());\r\n\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tf.setSize(width, height);\r\n\tp.setSize(getPreferredSize());\r\n\tf.setTitle(&quot;Food Akinator&quot;);\r\n\tp.setBackground(Color.RED);\r\n\tp.setBackground(Color.RED);\r\n\t\r\n\t\t\tc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t\tc.gridx = 0;\r\n\t\t\tc.gridy = 0;\r\n\t\t\tc.anchor = GridBagConstraints.NORTHWEST;\r\n\t\t\tp.add(buttonY, c);\r\n\t\t\t\r\n\t\t\tc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t\tc.gridx = 1;\r\n\t\t\tc.gridy = 0;\r\n\t\t\tc.anchor = GridBagConstraints.NORTH;\r\n\t\t\tp.add(buttonIDK, c);\r\n\t\t\t\r\n\t\t\tc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t\tc.gridx = 2;\r\n\t\t\tc.gridy = 0;\r\n\t\t\tc.anchor = GridBagConstraints.NORTHEAST;\r\n\t\t\tp.add(buttonN, c);\r\n\t\t\t\r\n\t\tQL.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 20));\r\n\t\tQL.setText(question);\r\n\t\tQL.setBorder(border);\r\n\t\t\r\n\t\t\tc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t\tc.gridwidth = 3;\r\n\t\t\tc.gridx = 0;\r\n\t\t\tc.gridy = 1;\r\n\t\t\tc.anchor = GridBagConstraints.CENTER;\r\n\t\t\tp.add(QL, c);\r\n\tf.add(p);\r\n\tf.setVisible(true);\r\n\t\r\n\t\r\n}\r\n","title":"How to set my buttons to specific areas of my JPanel?","body":"<p>I have added my buttons to my JPanel and i want to make them appear in different areas in the Panel. I want to layout my Panel so that there are 3 buttons on top, and a question label stretching across the center.</p>\n<p>I've tried multiple different Layouts but can't get the buttons in the right spots. The buttons always end up in the Center of the frame on the order that they were added.</p>\n<pre><code>    public Frame(int w, int h) {\n        width = w;\n        height = h;\n        buttonY = new JButton(&quot;Yes&quot;);\n        buttonN = new JButton(&quot;No&quot;);\n        buttonIDK = new JButton(&quot;I don't know&quot;);\n        QL = new JLabel(question);\n        counter = new JLabel(&quot;Your question count is: &quot; +count);\n        \n    }\n    \n\npublic void setUpFrame() {\n    JFrame f = new JFrame();\n    JPanel p = new JPanel(new GridBagLayout()); \n    GridBagConstraints c = new GridBagConstraints();\n    p.setLayout(new GridBagLayout());\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    f.setSize(width, height);\n    p.setSize(getPreferredSize());\n    f.setTitle(&quot;Food Akinator&quot;);\n    p.setBackground(Color.RED);\n    p.setBackground(Color.RED);\n    \n            c.fill = GridBagConstraints.HORIZONTAL;\n            c.gridx = 0;\n            c.gridy = 0;\n            c.anchor = GridBagConstraints.NORTHWEST;\n            p.add(buttonY, c);\n            \n            c.fill = GridBagConstraints.HORIZONTAL;\n            c.gridx = 1;\n            c.gridy = 0;\n            c.anchor = GridBagConstraints.NORTH;\n            p.add(buttonIDK, c);\n            \n            c.fill = GridBagConstraints.HORIZONTAL;\n            c.gridx = 2;\n            c.gridy = 0;\n            c.anchor = GridBagConstraints.NORTHEAST;\n            p.add(buttonN, c);\n            \n        QL.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 20));\n        QL.setText(question);\n        QL.setBorder(border);\n        \n            c.fill = GridBagConstraints.HORIZONTAL;\n            c.gridwidth = 3;\n            c.gridx = 0;\n            c.gridy = 1;\n            c.anchor = GridBagConstraints.CENTER;\n            p.add(QL, c);\n    f.add(p);\n    f.setVisible(true);\n    \n    \n}\n</code></pre>\n"},{"tags":["java","recursion","infinite-loop","infinite"],"comments":[{"owner":{"account_id":251706,"reputation":5298,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1697952998,"post_id":77338775,"comment_id":136342611,"body_markdown":"The argument should include either a string or char array that contains the path that can&#39;t be used.","body":"The argument should include either a string or char array that contains the path that can&#39;t be used."},{"owner":{"account_id":957028,"reputation":15123,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1697953292,"post_id":77338775,"comment_id":136342628,"body_markdown":"^^ either that or have a node type on which you can mal it as visited.","body":"^^ either that or have a node type on which you can mal it as visited."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1697955947,"post_id":77338775,"comment_id":136342775,"body_markdown":"As an aside, you don&#39;t actually use `startTown`, aside from in the recursive call. Consider removing it, or removing `currentTown` and using `startTown` instead: after all, the point of a recursive call is that you are &quot;starting&quot; from `currentTown`.","body":"As an aside, you don&#39;t actually use <code>startTown</code>, aside from in the recursive call. Consider removing it, or removing <code>currentTown</code> and using <code>startTown</code> instead: after all, the point of a recursive call is that you are &quot;starting&quot; from <code>currentTown</code>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697956666,"post_id":77338775,"comment_id":136342808,"body_markdown":"See [A* algorithm](https://en.m.wikipedia.org/wiki/A*_search_algorithm)","body":"See <a href=\"https://en.m.wikipedia.org/wiki/A%2A_search_algorithm\" rel=\"nofollow noreferrer\">A* algorithm</a>"}],"answers":[{"tags":[],"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697953743,"creation_date":1697953350,"answer_id":77338796,"question_id":77338775,"body_markdown":"This is probably Dijkstra&#39;s alogrithm for finding shortest path and as per your code there is no way to keep track of the nodes which are already visited. So this will lead to infinite recusrion in case if there&#39;s a cycle in the graph. To solve this simply keep a `visited` structure. Something like:\r\n\r\n```java\r\n/*\r\nSet&lt;Character&gt; visited parameter: keeps track of the nodes that have already been visited.\r\nSo, before checking a node the function checks if it&#39;s in the visited set. \r\nIf it is, the function skips it. If it&#39;s not, the function adds it to the visited set and checks it.\r\n*/\r\npublic int shortestDistance(char startTown, char endTown, char currentTown, int distance, int step, Set&lt;Character&gt; visited) {\r\n    if (currentTown == endTown &amp;&amp; step != 0) {\r\n        return distance;\r\n    }\r\n\r\n    visited.add(currentTown);\r\n\r\n    int shortestDistance = Integer.MAX_VALUE;\r\n    for (char nextTown : graph.get(currentTown).keySet()) {\r\n        if (!visited.contains(nextTown)) {\r\n            shortestDistance = Math.min(shortestDistance, shortestDistance(startTown, endTown, nextTown,\r\n                    distance + graph.get(currentTown).get(nextTown), step + 1, visited));\r\n        }\r\n    }\r\n\r\n    visited.remove(currentTown);\r\n\r\n    return shortestDistance;\r\n}\r\n```\r\n\r\n","title":"Infinite recursion java issue","body":"<p>This is probably Dijkstra's alogrithm for finding shortest path and as per your code there is no way to keep track of the nodes which are already visited. So this will lead to infinite recusrion in case if there's a cycle in the graph. To solve this simply keep a <code>visited</code> structure. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\nSet&lt;Character&gt; visited parameter: keeps track of the nodes that have already been visited.\nSo, before checking a node the function checks if it's in the visited set. \nIf it is, the function skips it. If it's not, the function adds it to the visited set and checks it.\n*/\npublic int shortestDistance(char startTown, char endTown, char currentTown, int distance, int step, Set&lt;Character&gt; visited) {\n    if (currentTown == endTown &amp;&amp; step != 0) {\n        return distance;\n    }\n\n    visited.add(currentTown);\n\n    int shortestDistance = Integer.MAX_VALUE;\n    for (char nextTown : graph.get(currentTown).keySet()) {\n        if (!visited.contains(nextTown)) {\n            shortestDistance = Math.min(shortestDistance, shortestDistance(startTown, endTown, nextTown,\n                    distance + graph.get(currentTown).get(nextTown), step + 1, visited));\n        }\n    }\n\n    visited.remove(currentTown);\n\n    return shortestDistance;\n}\n</code></pre>\n"}],"owner":{"account_id":24860191,"reputation":33,"user_id":18736072,"display_name":"Wragnam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77338796,"answer_count":1,"score":1,"last_activity_date":1697955175,"creation_date":1697952773,"question_id":77338775,"body_markdown":"I am trying to solve a problem and can&#39;t seem to figure this one out. I have tried creating Lists and sets that keep track of the towns visited and then to skip if it is already visited but none of my implementations have worked so far. \r\n\r\nThe problem is, given a graph with routes such as AB5 it implies a route from town A to B with a distance of 5. Now given the input AB5, BC4, CD8, DC8, DE6, AD5, CE2, EB3, AE7 I am trying to find the shortest path from B to B. The answer should be 9.\r\n\r\nI have seen that the problem exists because the recursion checks path C to D and then checks all D&#39;s paths. D contains a route to C to then it goes to C and that is where the infinite recursion happens. How can I implement a check to make sure it does not go round the C to D and D to C routes infinitely.\r\n\r\nThis is my coded function for this problem:\r\n```\r\npublic int shortestDistance(char startTown, char endTown, char currentTown, int distance, int step) {\r\n        if (currentTown == endTown &amp;&amp; step != 0) {\r\n            return distance;\r\n        }\r\n\r\n        int shortestDistance = Integer.MAX_VALUE;\r\n        for (char nextTown : graph.get(currentTown).keySet()) {\r\n            shortestDistance = Math.min(shortestDistance, shortestDistance(startTown, endTown, nextTown,\r\n                    distance + graph.get(currentTown).get(nextTown), step + 1));\r\n        }\r\n        return shortestDistance;\r\n    }\r\n```\r\n","title":"Infinite recursion java issue","body":"<p>I am trying to solve a problem and can't seem to figure this one out. I have tried creating Lists and sets that keep track of the towns visited and then to skip if it is already visited but none of my implementations have worked so far.</p>\n<p>The problem is, given a graph with routes such as AB5 it implies a route from town A to B with a distance of 5. Now given the input AB5, BC4, CD8, DC8, DE6, AD5, CE2, EB3, AE7 I am trying to find the shortest path from B to B. The answer should be 9.</p>\n<p>I have seen that the problem exists because the recursion checks path C to D and then checks all D's paths. D contains a route to C to then it goes to C and that is where the infinite recursion happens. How can I implement a check to make sure it does not go round the C to D and D to C routes infinitely.</p>\n<p>This is my coded function for this problem:</p>\n<pre><code>public int shortestDistance(char startTown, char endTown, char currentTown, int distance, int step) {\n        if (currentTown == endTown &amp;&amp; step != 0) {\n            return distance;\n        }\n\n        int shortestDistance = Integer.MAX_VALUE;\n        for (char nextTown : graph.get(currentTown).keySet()) {\n            shortestDistance = Math.min(shortestDistance, shortestDistance(startTown, endTown, nextTown,\n                    distance + graph.get(currentTown).get(nextTown), step + 1));\n        }\n        return shortestDistance;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1499157381,"creation_date":1498654999,"answer_id":44803331,"question_id":44803211,"body_markdown":"You can do it with the @Value annotation:\r\n\r\n    @Value(&quot;${bar}&quot;)\r\n    private String myVariable;\r\n\r\nYou can also use colon to give a default value if not found:\r\n\r\n    @Value(&quot;${bar:default_value}&quot;)\r\n    private String myVariable;","title":"Read environment variable in SpringBoot","body":"<p>You can do it with the @Value annotation:</p>\n\n<pre><code>@Value(\"${bar}\")\nprivate String myVariable;\n</code></pre>\n\n<p>You can also use colon to give a default value if not found:</p>\n\n<pre><code>@Value(\"${bar:default_value}\")\nprivate String myVariable;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":92,"is_accepted":true,"score":92,"last_activity_date":1639055134,"creation_date":1498655247,"answer_id":44803417,"question_id":44803211,"body_markdown":"Quoting [the documentation][1]:\r\n\r\n&gt; Spring Boot allows you to externalize your configuration so you can work with the same application code in different environments. You can use properties files, YAML files, **environment variables** and command-line arguments to externalize configuration. Property values can be injected directly into your beans **using the `@Value` annotation**, accessed via Spring’s `Environment` abstraction or bound to structured objects via `@ConfigurationProperties`.\r\n\r\nSo, since Spring boot allows you to use environment variables for configuration, and since Spring boot also allows you to use `@Value` to read a property from the configuration, the answer is yes.\r\n\r\n---\r\n\r\nFor example, the following will give the same result:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Component\r\n    public class TestRunner implements CommandLineRunner {\r\n        @Value(&quot;${bar}&quot;)\r\n        private String bar;\r\n        private final Logger logger = LoggerFactory.getLogger(getClass());\r\n        @Override\r\n        public void run(String... strings) throws Exception {\r\n            logger.info(&quot;Foo from @Value: {}&quot;, bar);\r\n            logger.info(&quot;Foo from System.getenv(): {}&quot;, System.getenv(&quot;bar&quot;)); // Same output as line above\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Read environment variable in SpringBoot","body":"<p>Quoting <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Spring Boot allows you to externalize your configuration so you can work with the same application code in different environments. You can use properties files, YAML files, <strong>environment variables</strong> and command-line arguments to externalize configuration. Property values can be injected directly into your beans <strong>using the <code>@Value</code> annotation</strong>, accessed via Spring’s <code>Environment</code> abstraction or bound to structured objects via <code>@ConfigurationProperties</code>.</p>\n</blockquote>\n<p>So, since Spring boot allows you to use environment variables for configuration, and since Spring boot also allows you to use <code>@Value</code> to read a property from the configuration, the answer is yes.</p>\n<hr />\n<p>For example, the following will give the same result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class TestRunner implements CommandLineRunner {\n    @Value(&quot;${bar}&quot;)\n    private String bar;\n    private final Logger logger = LoggerFactory.getLogger(getClass());\n    @Override\n    public void run(String... strings) throws Exception {\n        logger.info(&quot;Foo from @Value: {}&quot;, bar);\n        logger.info(&quot;Foo from System.getenv(): {}&quot;, System.getenv(&quot;bar&quot;)); // Same output as line above\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1585888696,"creation_date":1585888374,"answer_id":61005136,"question_id":44803211,"body_markdown":"Here are three &quot;placeholder&quot; syntaxes that work for accessing a system environment variable named `MY_SECRET`: \r\n\r\n    @Value(&quot;${MY_SECRET:aDefaultValue}&quot;)\r\n    private String s1;\r\n\r\n    @Value(&quot;#{environment.MY_SECRET}&quot;)\r\n    private String s2;\r\n\r\n    @Value(&quot;${myApp.mySecretIndirect:aDefaultValue}&quot;) // via application property\r\n    private String s3;\r\n\r\nIn the third case, the placeholder references an application property that has been initialized from the system environment in a properties file:\r\n\r\n    myApp.mySecretIndirect=${MY_SECRET:aDefaultValue}\r\n\r\n----------\r\n\r\nFor `@Value` to work, it must be used inside a live `@Component` (or similar).  There are extra gochas if you want this to work during unit testing -- see my answer to [Why is my Spring @Autowired field null?](https://stackoverflow.com/a/49803576/86967)","title":"Read environment variable in SpringBoot","body":"<p>Here are three \"placeholder\" syntaxes that work for accessing a system environment variable named <code>MY_SECRET</code>: </p>\n\n<pre><code>@Value(\"${MY_SECRET:aDefaultValue}\")\nprivate String s1;\n\n@Value(\"#{environment.MY_SECRET}\")\nprivate String s2;\n\n@Value(\"${myApp.mySecretIndirect:aDefaultValue}\") // via application property\nprivate String s3;\n</code></pre>\n\n<p>In the third case, the placeholder references an application property that has been initialized from the system environment in a properties file:</p>\n\n<pre><code>myApp.mySecretIndirect=${MY_SECRET:aDefaultValue}\n</code></pre>\n\n<hr>\n\n<p>For <code>@Value</code> to work, it must be used inside a live <code>@Component</code> (or similar).  There are extra gochas if you want this to work during unit testing -- see my answer to <a href=\"https://stackoverflow.com/a/49803576/86967\">Why is my Spring @Autowired field null?</a></p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1691661346,"creation_date":1585889032,"answer_id":61005235,"question_id":44803211,"body_markdown":"Alternatively, you can use the `org.springframework.core.env.Environment` interface to access environment variables (**NOTE**: this works only in initialized Spring components):\r\n\r\n    import org.springframework.core.env.Environment;\r\n    \r\n    @Autowired\r\n    private Environment env;\r\n    \r\n    //...\r\n    \r\n    System.out.println(env.getProperty(&quot;bar&quot;));\r\n\r\n[Read more...][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html","title":"Read environment variable in SpringBoot","body":"<p>Alternatively, you can use the <code>org.springframework.core.env.Environment</code> interface to access environment variables (<strong>NOTE</strong>: this works only in initialized Spring components):</p>\n<pre><code>import org.springframework.core.env.Environment;\n\n@Autowired\nprivate Environment env;\n\n//...\n\nSystem.out.println(env.getProperty(&quot;bar&quot;));\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html\" rel=\"nofollow noreferrer\">Read more...</a></p>\n"},{"tags":[],"owner":{"account_id":13835224,"reputation":29,"user_id":9986920,"display_name":"Veluguri sai ram"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685038936,"creation_date":1613652440,"answer_id":66260274,"question_id":44803211,"body_markdown":"You can use it with the `@Value` annotation for the `@Component`s and `@service` class.\r\n\r\nSometimes it won&#39;t work if it is a normal class.\r\n\r\nExample:\r\n\r\n    @Component\r\n    public class Testclass{\r\n        @Value(&quot;${MY_SECRET:aDefaultValue}&quot;)\r\n        private String test1;\r\n    \r\n        @Value(&quot;#{environment.MY_SECRET}&quot;)\r\n        private String test2;\r\n    \r\n        @Value(&quot;${myApp.mySecretIndirect:aDefaultValue}&quot;)\r\n        private String test3;\r\n    \r\n        //to get the properties list which are in &quot;,&quot; separated\r\n        @Value(&quot;${my.list.of.strings}&quot;)\r\n        private List&lt;String&gt; myList;\r\n    }","title":"Read environment variable in SpringBoot","body":"<p>You can use it with the <code>@Value</code> annotation for the <code>@Component</code>s and <code>@service</code> class.</p>\n<p>Sometimes it won't work if it is a normal class.</p>\n<p>Example:</p>\n<pre><code>@Component\npublic class Testclass{\n    @Value(&quot;${MY_SECRET:aDefaultValue}&quot;)\n    private String test1;\n\n    @Value(&quot;#{environment.MY_SECRET}&quot;)\n    private String test2;\n\n    @Value(&quot;${myApp.mySecretIndirect:aDefaultValue}&quot;)\n    private String test3;\n\n    //to get the properties list which are in &quot;,&quot; separated\n    @Value(&quot;${my.list.of.strings}&quot;)\n    private List&lt;String&gt; myList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616490897,"creation_date":1616490897,"answer_id":66760240,"question_id":44803211,"body_markdown":"Yes, you can. However, most answer didn&#39;t mention, the ordering is very important, please check this https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html\r\n\r\nYour `OS environment variables` will overwrite the value come from `Application properties packaged inside your jar (application.properties and YAML variants).`, so basically, your environment variables has higher priority.","title":"Read environment variable in SpringBoot","body":"<p>Yes, you can. However, most answer didn't mention, the ordering is very important, please check this <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html</a></p>\n<p>Your <code>OS environment variables</code> will overwrite the value come from <code>Application properties packaged inside your jar (application.properties and YAML variants).</code>, so basically, your environment variables has higher priority.</p>\n"},{"tags":[],"owner":{"account_id":13723399,"reputation":81,"user_id":9902786,"display_name":"SUSHANT TIWARY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628525281,"creation_date":1628525281,"answer_id":68715251,"question_id":44803211,"body_markdown":"You can place your environment variable in an application.yml/application.properties  file and then you can fetch the value using the @Value annotation.\r\nBut in order to use @Value annotation your class should be a bean and should be annotated with @Component annnotation. \r\nYou can also provide a default value for the variable.\r\n\r\n    @Component\r\n    @NoArgsConstructor\r\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\r\n    public class MyClass {\r\n     \r\n    @Value(&quot;${something.variable:&lt;default-value&gt;}&quot;)\r\n    private String myEnvVariable;\r\n\r\n    }\r\n        ","title":"Read environment variable in SpringBoot","body":"<p>You can place your environment variable in an application.yml/application.properties  file and then you can fetch the value using the @Value annotation.\nBut in order to use @Value annotation your class should be a bean and should be annotated with @Component annnotation.\nYou can also provide a default value for the variable.</p>\n<pre><code>@Component\n@NoArgsConstructor\n@Scope(BeanDefinition.SCOPE_PROTOTYPE)\npublic class MyClass {\n \n@Value(&quot;${something.variable:&lt;default-value&gt;}&quot;)\nprivate String myEnvVariable;\n\n}\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22679203,"reputation":1,"user_id":16849773,"display_name":"wmp"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1631087189,"creation_date":1631008904,"answer_id":69086155,"question_id":44803211,"body_markdown":"First, you have to define the relevant field information in the properties configuration file, and then use @ value to obtain and use\r\nexample:\r\n\r\n    @Value(&quot;${abc}&quot;)\r\n    private String abc;","title":"Read environment variable in SpringBoot","body":"<p>First, you have to define the relevant field information in the properties configuration file, and then use @ value to obtain and use\nexample:</p>\n<pre><code>@Value(&quot;${abc}&quot;)\nprivate String abc;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697953642,"creation_date":1697953642,"answer_id":77338803,"question_id":44803211,"body_markdown":"In rare cases, if you want to access environment parameters in spring `main` methods ( which is static ) you can must let Spring application build then use the `ApplicationContext` to access `environment` . Something like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\t\r\n\t\tApplicationContext applicationContext = new SpringApplicationBuilder(MyApp.class).run(args);\r\n\t\tEnvironment environment = applicationContext.getEnvironment();\r\n\t    System.out.println(environment.getProperty(&quot;spring.application.name&quot;));\r\n\t    System.out.println(environment.getProperty(&quot;foo.bar&quot;));\r\n\t\t\t\t\r\n\t}\r\n","title":"Read environment variable in SpringBoot","body":"<p>In rare cases, if you want to access environment parameters in spring <code>main</code> methods ( which is static ) you can must let Spring application build then use the <code>ApplicationContext</code> to access <code>environment</code> . Something like</p>\n<pre><code>public static void main(String[] args) {\n            \n    ApplicationContext applicationContext = new SpringApplicationBuilder(MyApp.class).run(args);\n    Environment environment = applicationContext.getEnvironment();\n    System.out.println(environment.getProperty(&quot;spring.application.name&quot;));\n    System.out.println(environment.getProperty(&quot;foo.bar&quot;));\n            \n}\n</code></pre>\n"}],"owner":{"account_id":6139432,"reputation":7718,"user_id":4787269,"accept_rate":92,"display_name":"Michał Szewczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188821,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":44803417,"answer_count":9,"score":88,"last_activity_date":1697953642,"creation_date":1498654742,"question_id":44803211,"body_markdown":"What is the best way to read **environment variables** in **SpringBoot**?&lt;br&gt;\r\nIn Java I did it using:\r\n\r\n    String foo = System.getenv(&quot;bar&quot;);\r\n\r\nIs it possible to do it using `@Value` annotation?","title":"Read environment variable in SpringBoot","body":"<p>What is the best way to read <strong>environment variables</strong> in <strong>SpringBoot</strong>?<br>\nIn Java I did it using:</p>\n\n<pre><code>String foo = System.getenv(\"bar\");\n</code></pre>\n\n<p>Is it possible to do it using <code>@Value</code> annotation?</p>\n"},{"tags":["java","concurrency","aop","aspect"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696531956,"post_id":77239682,"comment_id":136168842,"body_markdown":"Title is vague. Rewrite to summarize your specific technical issue.","body":"Title is vague. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":23938427,"reputation":3,"user_id":17931900,"display_name":"DengerZone"},"score":0,"creation_date":1696573713,"post_id":77239682,"comment_id":136172988,"body_markdown":"@BasilBourque ive updated my post","body":"@BasilBourque ive updated my post"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697953067,"creation_date":1697087640,"answer_id":77277851,"question_id":77239682,"body_markdown":"You have several options:\r\n\r\n  * Continue using the thread-local field, if it works for you. I see nothing wrong with it.\r\n\r\n  * Replace the thread-local by a map with thread IDs as keys and your data as values. Be careful, however, if you use thread pools or so, because then threads will be re-used. Make sure to design your aspect in such a way that it initialises the data as expected. but actually, the same is true for a thread-local.\r\n\r\n  * Select a non-singleton aspect instantiation model, as described in [my answer here](https://stackoverflow.com/a/59524675/1082681) or, similarly, [here](https://stackoverflow.com/a/64111589/1082681). The answers also point to the AspectJ manual, which gives you more technical detail.","title":"AspectJ in multithreading","body":"<p>You have several options:</p>\n<ul>\n<li><p>Continue using the thread-local field, if it works for you. I see nothing wrong with it.</p>\n</li>\n<li><p>Replace the thread-local by a map with thread IDs as keys and your data as values. Be careful, however, if you use thread pools or so, because then threads will be re-used. Make sure to design your aspect in such a way that it initialises the data as expected. but actually, the same is true for a thread-local.</p>\n</li>\n<li><p>Select a non-singleton aspect instantiation model, as described in <a href=\"https://stackoverflow.com/a/59524675/1082681\">my answer here</a> or, similarly, <a href=\"https://stackoverflow.com/a/64111589/1082681\">here</a>. The answers also point to the AspectJ manual, which gives you more technical detail.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":23938427,"reputation":3,"user_id":17931900,"display_name":"DengerZone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277851,"answer_count":1,"score":0,"last_activity_date":1697953067,"creation_date":1696530134,"question_id":77239682,"body_markdown":"Currently im working on a application that runs the same process(with different input parameters in this case TaskInformation) parallelly on 16 threads. I would like to create Aspect from which i would take parameters and values and store them in a Object that i would create inside Aspect.\r\n\r\nMy question  is this object which is created independent for every thread and can i somehow call the exact instance of the object so i can store right values for each thread.\r\n\r\nI would avoid threadLocal if possible since this is something i currently use without aspect and i hope i can avoid it if possible.\r\n\r\nThanks for helping in advance!\r\n\r\nIm using threadLocal and i would like to refactor this.\r\n\r\nEdit:\r\nWe have a Process class in which we are looking at process method, this method is running simultaneously in multiple threads.  I would like to fill up the LoggingObject with information for every thread and at the end log them as a summary of the whole processing. \r\n\r\nExample:\r\n\r\n        public aspect MyAspect {\r\n    \r\n    private final LoggingObject log = new LoggingObject()\r\n    \r\n            pointcut processMethodExecution(TaskInformation taskInfo):\r\n            execution(TaskStatus Processor.process(TaskInformation)) &amp;&amp; args(taskInfo);\r\n    \r\n            after(TaskInformation taskInfo): processMethodExecution(taskInfo) {\r\n            logger.info(&quot;Processing task with ID: &quot; + taskInfo.getTaskId());\r\n            log.setID(taskInfo.getTaskId())\r\n            }\r\n            }","title":"AspectJ in multithreading","body":"<p>Currently im working on a application that runs the same process(with different input parameters in this case TaskInformation) parallelly on 16 threads. I would like to create Aspect from which i would take parameters and values and store them in a Object that i would create inside Aspect.</p>\n<p>My question  is this object which is created independent for every thread and can i somehow call the exact instance of the object so i can store right values for each thread.</p>\n<p>I would avoid threadLocal if possible since this is something i currently use without aspect and i hope i can avoid it if possible.</p>\n<p>Thanks for helping in advance!</p>\n<p>Im using threadLocal and i would like to refactor this.</p>\n<p>Edit:\nWe have a Process class in which we are looking at process method, this method is running simultaneously in multiple threads.  I would like to fill up the LoggingObject with information for every thread and at the end log them as a summary of the whole processing.</p>\n<p>Example:</p>\n<pre><code>    public aspect MyAspect {\n\nprivate final LoggingObject log = new LoggingObject()\n\n        pointcut processMethodExecution(TaskInformation taskInfo):\n        execution(TaskStatus Processor.process(TaskInformation)) &amp;&amp; args(taskInfo);\n\n        after(TaskInformation taskInfo): processMethodExecution(taskInfo) {\n        logger.info(&quot;Processing task with ID: &quot; + taskInfo.getTaskId());\n        log.setID(taskInfo.getTaskId())\n        }\n        }\n</code></pre>\n"},{"tags":["java","jenkins","java-17","mutation-testing","pitest"],"answers":[{"tags":[],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697952458,"creation_date":1697952458,"answer_id":77338759,"question_id":76703339,"body_markdown":"Hi All issue was with version of Jenkins plugin installed in our jenkins - if you have admin access to the Jenkins you can verify the plugin version installed\r\n\r\n[https://plugins.jenkins.io/pitmutation/releases/][1]\r\n\r\nas you can see the from above link,  Those plugin version (latest 1.0-18) is not compatible with latest pitest-maven:1.14.0\r\n\r\nso downgraded  to pitest-maven:1.7.3  and junit5 plugin to 0.15 then it started working refer the snip attached\r\n\r\n[![compatibility][2]][2]\r\n\r\npom file:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://plugins.jenkins.io/pitmutation/releases/\r\n  [2]: https://i.stack.imgur.com/xpHZ6.png\r\n  [3]: https://i.stack.imgur.com/jR7hL.png","title":"Facing (Kill ratio is NaN% (0 0)) Issue when running Mutation test pittest in Jenkins","body":"<p>Hi All issue was with version of Jenkins plugin installed in our jenkins - if you have admin access to the Jenkins you can verify the plugin version installed</p>\n<p><a href=\"https://plugins.jenkins.io/pitmutation/releases/\" rel=\"nofollow noreferrer\">https://plugins.jenkins.io/pitmutation/releases/</a></p>\n<p>as you can see the from above link,  Those plugin version (latest 1.0-18) is not compatible with latest pitest-maven:1.14.0</p>\n<p>so downgraded  to pitest-maven:1.7.3  and junit5 plugin to 0.15 then it started working refer the snip attached</p>\n<p><a href=\"https://i.stack.imgur.com/xpHZ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xpHZ6.png\" alt=\"compatibility\" /></a></p>\n<p>pom file:\n<a href=\"https://i.stack.imgur.com/jR7hL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jR7hL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77338759,"answer_count":1,"score":1,"last_activity_date":1697952458,"creation_date":1689587958,"question_id":76703339,"body_markdown":"Hi we recently migrated from java 11 to java 17 after migration, We are facing following Issue when running MutationTest in Jenkins\r\n\r\n**Kill ratio is NaN% (0 0)** when we run in Jenkins\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.11.0&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;configuration&gt;\r\n    &lt;argLine&gt;\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n    &lt;/argLine&gt; \r\n    &lt;/configuration&gt; \r\n    &lt;/plugin&gt;\r\n\r\ndependency We have \r\nused\r\n- Jenkins Plugin - pitmutation:1.0-18\r\n-  pitest-maven: 1.11.0 \r\n- pitest-junit5-plugin: 1.1.2 \r\n\r\nWe Initially Tried with the following version  but got same issue \r\n - Jenkins Plugin - pitmutation:1.0-18\r\n -  pitest-maven: 1.14.2\r\n - pitest-junit5-plugin: 1.2.0\r\n\r\nWe also Tried with the following version  but got same issue \r\n - Jenkins Plugin - pitmutation:1.0-18\r\n -  pitest-maven: 1.13.2\r\n - pitest-junit5-plugin: 1.0.0\r\n\r\nbut still we got same issue? \r\n\r\nIn local in target folder i am able to view html file which reports coverage\r\n\r\nIn Jenkins we are able to get following \r\n\r\n    2023-07-17 14:56:31.635  &gt;&gt; Line Coverage: 858/1021 (84%)\r\n    2023-07-17 14:56:31.635  &gt;&gt; Generated 280 mutations Killed 203 (73%)\r\n    2023-07-17 14:56:31.635  &gt;&gt; Mutations with no coverage 52. Test strength 89%\r\n    2023-07-17 14:56:31.635  &gt;&gt; Ran 251 tests (0.9 tests per mutation)\r\n    2023-07-17 14:56:31.635  Enhanced functionality available at https://www.arcmutate.com/\r\n\r\nbut we get Kill ratio is NaN% (0 0) and pit report section no 0,0","title":"Facing (Kill ratio is NaN% (0 0)) Issue when running Mutation test pittest in Jenkins","body":"<p>Hi we recently migrated from java 11 to java 17 after migration, We are facing following Issue when running MutationTest in Jenkins</p>\n<p><strong>Kill ratio is NaN% (0 0)</strong> when we run in Jenkins</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.pitest&lt;/groupId&gt;\n&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n&lt;version&gt;1.11.0&lt;/version&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.pitest&lt;/groupId&gt;\n&lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n&lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;configuration&gt;\n&lt;argLine&gt;\n--add-opens java.base/java.lang=ALL-UNNAMED\n&lt;/argLine&gt; \n&lt;/configuration&gt; \n&lt;/plugin&gt;\n</code></pre>\n<p>dependency We have\nused</p>\n<ul>\n<li>Jenkins Plugin - pitmutation:1.0-18</li>\n<li>pitest-maven: 1.11.0</li>\n<li>pitest-junit5-plugin: 1.1.2</li>\n</ul>\n<p>We Initially Tried with the following version  but got same issue</p>\n<ul>\n<li>Jenkins Plugin - pitmutation:1.0-18</li>\n<li>pitest-maven: 1.14.2</li>\n<li>pitest-junit5-plugin: 1.2.0</li>\n</ul>\n<p>We also Tried with the following version  but got same issue</p>\n<ul>\n<li>Jenkins Plugin - pitmutation:1.0-18</li>\n<li>pitest-maven: 1.13.2</li>\n<li>pitest-junit5-plugin: 1.0.0</li>\n</ul>\n<p>but still we got same issue?</p>\n<p>In local in target folder i am able to view html file which reports coverage</p>\n<p>In Jenkins we are able to get following</p>\n<pre><code>2023-07-17 14:56:31.635  &gt;&gt; Line Coverage: 858/1021 (84%)\n2023-07-17 14:56:31.635  &gt;&gt; Generated 280 mutations Killed 203 (73%)\n2023-07-17 14:56:31.635  &gt;&gt; Mutations with no coverage 52. Test strength 89%\n2023-07-17 14:56:31.635  &gt;&gt; Ran 251 tests (0.9 tests per mutation)\n2023-07-17 14:56:31.635  Enhanced functionality available at https://www.arcmutate.com/\n</code></pre>\n<p>but we get Kill ratio is NaN% (0 0) and pit report section no 0,0</p>\n"},{"tags":["java","methods","overloading"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1697943957,"post_id":77338486,"comment_id":136342204,"body_markdown":"Java is not JavaScript.","body":"Java is not JavaScript."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1697951546,"post_id":77338486,"comment_id":136342540,"body_markdown":"Why do you have methods declared inside `main`?","body":"Why do you have methods declared inside <code>main</code>?"}],"owner":{"account_id":29725843,"reputation":1,"user_id":22781837,"display_name":"E.schneider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697951173,"creation_date":1697943518,"question_id":77338486,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Rectangle {\r\n\r\n\tprivate static double setLength1 = 0;\r\n\tprivate static double setWidth1 = 0;\r\n\r\n\tpublic static void main(String[] args){\r\n\r\n\t\t// TODO Auto-generated method stub\r\n\t\t{\r\n\t\t\tScanner scan = new Scanner(System.in);\r\n\t\t\t\t    System.out.println(&quot; Today we`ll find the dimensions of a rectangle.&quot;);\t}\t\t\t    \t\t\r\n\t\t\t\t        public setLength1(double setLength1);\r\n\t\t\t        \t{\r\n\t\t\t        \t\tdouble setlength1;\r\n\t\t\t        \t    System.out.println(&quot;What is the length: &quot;);\r\n\t\t\t            \tScanner scan;\r\n\t\t\t\t\t\t\tsetLength1 = scan.nextDouble();\r\n\t\t\t\t\t\t\treturn setLength1;\r\n\t\t\t        \t}\r\n\t\t\t        \tpublic setWidth1(double setWidth1);\r\n\t\t\t        \t{\r\n\t\t\t        \t\tdouble setWidth1;\r\n\t\t\t        \t    System.out.println(&quot;What is the Width: &quot;);\r\n\t\t\t            \tScanner scan;\r\n\t\t\t\t\t\t\tsetWidth1 = scan.nextDouble();\r\n\t\t\t\t\t\t\treturn setWidth1;\r\n\t\t\t        \t}\r\n\t\t\t        \tdouble getArea;\r\n\t\t\t        \t{\r\n\t\t\t        \t    return setWidth1 * setLength1;\r\n\t\t\t        \t}\r\n\t\t\t        \tdouble getPerimeter;\r\n\t\t\t        \t{\r\n\t\t\t        \t    return 2*(setWidth1+setLength1);\r\n\t\t\t        \t}\r\n\t}\r\n}\r\n```\r\n\r\nI initially tried to replace the public with a double but met with a suggest from the software to replace the public static void to public static double. On line 14 and 22, I added parenthesis and add (double seWidth1) and (double setLength1). That following actions would give me Syntax error on token &quot;public&quot;, record expected after this token, Syntax error, insert &quot;RecordBody&quot; to complete RecordDeclaration, Syntax error on token &quot;public&quot;, record expected after this token, and Syntax error, insert &quot;RecordBody&quot; to complete RecordDeclaration for line 14.","title":"Errors in my code that indicates illegal modifier and syntax error, &quot;VariablesDeclarators&quot;","body":"<pre><code>import java.util.Scanner;\n\npublic class Rectangle {\n\n    private static double setLength1 = 0;\n    private static double setWidth1 = 0;\n\n    public static void main(String[] args){\n\n        // TODO Auto-generated method stub\n        {\n            Scanner scan = new Scanner(System.in);\n                    System.out.println(&quot; Today we`ll find the dimensions of a rectangle.&quot;); }                       \n                        public setLength1(double setLength1);\n                        {\n                            double setlength1;\n                            System.out.println(&quot;What is the length: &quot;);\n                            Scanner scan;\n                            setLength1 = scan.nextDouble();\n                            return setLength1;\n                        }\n                        public setWidth1(double setWidth1);\n                        {\n                            double setWidth1;\n                            System.out.println(&quot;What is the Width: &quot;);\n                            Scanner scan;\n                            setWidth1 = scan.nextDouble();\n                            return setWidth1;\n                        }\n                        double getArea;\n                        {\n                            return setWidth1 * setLength1;\n                        }\n                        double getPerimeter;\n                        {\n                            return 2*(setWidth1+setLength1);\n                        }\n    }\n}\n</code></pre>\n<p>I initially tried to replace the public with a double but met with a suggest from the software to replace the public static void to public static double. On line 14 and 22, I added parenthesis and add (double seWidth1) and (double setLength1). That following actions would give me Syntax error on token &quot;public&quot;, record expected after this token, Syntax error, insert &quot;RecordBody&quot; to complete RecordDeclaration, Syntax error on token &quot;public&quot;, record expected after this token, and Syntax error, insert &quot;RecordBody&quot; to complete RecordDeclaration for line 14.</p>\n"},{"tags":["java","spring-boot","azure"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1697557713,"post_id":77308878,"comment_id":136293663,"body_markdown":"Personally I would approach this with code, but it&#39;s personal preference. E.g. when starting your app, send a request to see if the new API is available, then use the old API if the new one is unavailable. You can store the URL as a string somewhere then reuse it throughout your application.","body":"Personally I would approach this with code, but it&#39;s personal preference. E.g. when starting your app, send a request to see if the new API is available, then use the old API if the new one is unavailable. You can store the URL as a string somewhere then reuse it throughout your application."}],"answers":[{"tags":[],"owner":{"account_id":29328831,"reputation":131,"user_id":22470734,"display_name":"Sairam Nagaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697949285,"creation_date":1697949285,"answer_id":77338657,"question_id":77308878,"body_markdown":"I am making a few assumptions in answering this question, the APIs that are deployed in Azure are the same Mulesoft APIs and your deployment strategy has moved to the private cloud using Mule runtime? And by this, you are achieving Active and DR on a hybrid setup for High Availability (HA)?\r\n\r\n - In that case, ideally, All you need is a load balancer (preferably a\r\n   Dynamic DNS) that can route between your active and DR. This way as a\r\n   consumer (you as a spring boot developer) need not switch between\r\n   URLs in case of system failures and the LB will handle it\r\n   \r\n   \r\n - If the above is not feasible, or if your Azure APIs are getting migrated and the plan is to use Mule as a fallback, then you have to handle this in your code. \r\n\r\nHope this helps,   ","title":"Need an approach to switch urls if one doesn&#39;t work in Java Spring Boot","body":"<p>I am making a few assumptions in answering this question, the APIs that are deployed in Azure are the same Mulesoft APIs and your deployment strategy has moved to the private cloud using Mule runtime? And by this, you are achieving Active and DR on a hybrid setup for High Availability (HA)?</p>\n<ul>\n<li><p>In that case, ideally, All you need is a load balancer (preferably a\nDynamic DNS) that can route between your active and DR. This way as a\nconsumer (you as a spring boot developer) need not switch between\nURLs in case of system failures and the LB will handle it</p>\n</li>\n<li><p>If the above is not feasible, or if your Azure APIs are getting migrated and the plan is to use Mule as a fallback, then you have to handle this in your code.</p>\n</li>\n</ul>\n<p>Hope this helps,</p>\n"}],"owner":{"account_id":10219863,"reputation":105,"user_id":7544358,"display_name":"Satya Panigrahy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698054954,"accepted_answer_id":77338657,"answer_count":1,"score":0,"last_activity_date":1697949285,"creation_date":1697544621,"question_id":77308878,"body_markdown":"In our project, we are recently setup apis in azure. Earlier the apis were on Mulesoft. So now we were required to call Azure, but in case we are not able to access the newly setup Azure endpoint, we want to connect to the old mule endpoint. Is there any setup in-build in Spring Boot I can make use of? Or should I depend on the code(java) to switch. Just want the best approach on this.","title":"Need an approach to switch urls if one doesn&#39;t work in Java Spring Boot","body":"<p>In our project, we are recently setup apis in azure. Earlier the apis were on Mulesoft. So now we were required to call Azure, but in case we are not able to access the newly setup Azure endpoint, we want to connect to the old mule endpoint. Is there any setup in-build in Spring Boot I can make use of? Or should I depend on the code(java) to switch. Just want the best approach on this.</p>\n"},{"tags":["java","android","view","facebook-audience-network"],"comments":[{"owner":{"account_id":6961153,"reputation":2002,"user_id":5340526,"display_name":"Nguyễn Trung Hiếu"},"score":0,"creation_date":1694601744,"post_id":69135730,"comment_id":135911873,"body_markdown":"Hi Do you have a solution for this problem? Please share –","body":"Hi Do you have a solution for this problem? Please share –"}],"owner":{"account_id":17290789,"reputation":11,"user_id":12522388,"display_name":"Mahima Seth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697949283,"creation_date":1631293871,"question_id":69135730,"body_markdown":"I had recently updated SDK of Facebook Audience Network to 6.5 and am suddenly facing crash, java.lang.IllegalArgumentException: (Wrong state class, expecting View State but received class com.facebook.ads.internal.util.parcelable.WrappedParcelable instead. This usually happens when two views of different type have the same id in the same hierarchy. This view&#39;s id is id/0x3. \r\n\r\n\r\nI am not able to see this id in my code there is no mapping file, any help would be greatly appreciated.","title":"Crash after updating Facebook Audience Network 6.5","body":"<p>I had recently updated SDK of Facebook Audience Network to 6.5 and am suddenly facing crash, java.lang.IllegalArgumentException: (Wrong state class, expecting View State but received class com.facebook.ads.internal.util.parcelable.WrappedParcelable instead. This usually happens when two views of different type have the same id in the same hierarchy. This view's id is id/0x3.</p>\n<p>I am not able to see this id in my code there is no mapping file, any help would be greatly appreciated.</p>\n"},{"tags":["java","android","youtube","youtube-api","youtube-data-api"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1697954307,"post_id":77338588,"comment_id":136342693,"body_markdown":"The Google documentation site links in the old answer require some navigation. From your link select &#39;Upload a Video&#39;, change the &#39;Resource&#39; dropdown to &#39;Video&#39; and &#39;Method&#39; dropdown to &#39;insert&#39;,  read docs, then on the right hand side panel add required params, then scroll down to bottom and click on &#39;show code&#39; (or click on the dash line box at the top) and you&#39;ll get a new screen with a &#39;Java&#39; tab. Change request parameters as required.","body":"The Google documentation site links in the old answer require some navigation. From your link select &#39;Upload a Video&#39;, change the &#39;Resource&#39; dropdown to &#39;Video&#39; and &#39;Method&#39; dropdown to &#39;insert&#39;,  read docs, then on the right hand side panel add required params, then scroll down to bottom and click on &#39;show code&#39; (or click on the dash line box at the top) and you&#39;ll get a new screen with a &#39;Java&#39; tab. Change request parameters as required."},{"owner":{"account_id":29725986,"reputation":1,"user_id":22781937,"display_name":"max 123"},"score":0,"creation_date":1697955696,"post_id":77338588,"comment_id":136342764,"body_markdown":"@MorrisonChang this code is for java desktop not android, I cannot use the libraries provided for android","body":"@MorrisonChang this code is for java desktop not android, I cannot use the libraries provided for android"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1697958430,"post_id":77338588,"comment_id":136342913,"body_markdown":"Possible duplicate of: https://stackoverflow.com/a/65199896/295004 but the library does support Android: https://github.com/googleapis/google-api-java-client#supported-java-environments","body":"Possible duplicate of: <a href=\"https://stackoverflow.com/a/65199896/295004\">stackoverflow.com/a/65199896/295004</a> but the library does support Android: <a href=\"https://github.com/googleapis/google-api-java-client#supported-java-environments\" rel=\"nofollow noreferrer\">github.com/googleapis/&hellip;</a>"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1697973017,"post_id":77338588,"comment_id":136344048,"body_markdown":"check [media upload](https://developers.google.com/api-client-library/java/google-api-java-client/media-upload)","body":"check <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload\" rel=\"nofollow noreferrer\">media upload</a>"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1697973119,"post_id":77338588,"comment_id":136344055,"body_markdown":"Does this answer your question? [How to upload videos on Youtube to a particular youtube account on Android programatically](https://stackoverflow.com/questions/65199496/how-to-upload-videos-on-youtube-to-a-particular-youtube-account-on-android-progr)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65199496/how-to-upload-videos-on-youtube-to-a-particular-youtube-account-on-android-progr\">How to upload videos on Youtube to a particular youtube account on Android programatically</a>"}],"owner":{"account_id":29725986,"reputation":1,"user_id":22781937,"display_name":"max 123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697947165,"creation_date":1697947165,"question_id":77338588,"body_markdown":"I have been searching for a way to upload a youtube video with api, I found youtube data v3, created cloud application, added oauth and got the api keys, I also created credentials (client id and client secret for android application) but i am failing to find a sample of java code that uploads a video to youtube, I found a [python](https://developers.google.com/youtube/v3/guides/uploading_a_video) sample written by google. \r\n\r\nI tried searching google docs, i also tried using chatgpt but as always it spits out some garbage code that never works.\r\n\r\nI found this old [answer](https://stackoverflow.com/questions/29478060/upload-video-to-youtube-via-android-studio) but the links seems to be no longer the same","title":"How to upload a youtube video using youtube data v3 api with android studio","body":"<p>I have been searching for a way to upload a youtube video with api, I found youtube data v3, created cloud application, added oauth and got the api keys, I also created credentials (client id and client secret for android application) but i am failing to find a sample of java code that uploads a video to youtube, I found a <a href=\"https://developers.google.com/youtube/v3/guides/uploading_a_video\" rel=\"nofollow noreferrer\">python</a> sample written by google.</p>\n<p>I tried searching google docs, i also tried using chatgpt but as always it spits out some garbage code that never works.</p>\n<p>I found this old <a href=\"https://stackoverflow.com/questions/29478060/upload-video-to-youtube-via-android-studio\">answer</a> but the links seems to be no longer the same</p>\n"},{"tags":["java","javafx","crash","bufferedreader","filereader"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":4,"creation_date":1697829053,"post_id":77333259,"comment_id":136333395,"body_markdown":"Crash? Log? Exception? JVM shutdown? Please give us more info on what&#39;s happening. Console output or logfiles much appreciated.","body":"Crash? Log? Exception? JVM shutdown? Please give us more info on what&#39;s happening. Console output or logfiles much appreciated."},{"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"score":0,"creation_date":1697829178,"post_id":77333259,"comment_id":136333408,"body_markdown":"Right now it just freezes up and I have to force close it.","body":"Right now it just freezes up and I have to force close it."},{"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"score":0,"creation_date":1697829372,"post_id":77333259,"comment_id":136333445,"body_markdown":"When moved under // Setting list to show I get this error:  Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.4:run (default-cli) on project zaph_Midterm: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:","body":"When moved under // Setting list to show I get this error:  Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.4:run (default-cli) on project zaph_Midterm: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]  To see the full stack trace of the errors, re-run Maven with the -e switch. Re-run Maven using the -X switch to enable full debug logging.  For more information about the errors and possible solutions, please read the following articles:"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1697830587,"post_id":77333259,"comment_id":136333618,"body_markdown":"Your code does not run as posted. `readFromFile` is a `void` method, but it returns a `String`. Fix that and add a sample of `Grocery.txt`.","body":"Your code does not run as posted. <code>readFromFile</code> is a <code>void</code> method, but it returns a <code>String</code>. Fix that and add a sample of <code>Grocery.txt</code>."},{"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"score":0,"creation_date":1697834687,"post_id":77333259,"comment_id":136334150,"body_markdown":"My bad I was plug and playing with my code and this one. I did change the `void` to a `String` I updated the code on here","body":"My bad I was plug and playing with my code and this one. I did change the <code>void</code> to a <code>String</code> I updated the code on here"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697834913,"post_id":77333259,"comment_id":136334169,"body_markdown":"My guess is that `line = grocery;` is your issue. What does this line do? Should that be an `if-statement`? What should `readFromFile` actually do?","body":"My guess is that <code>line = grocery;</code> is your issue. What does this line do? Should that be an <code>if-statement</code>? What should <code>readFromFile</code> actually do?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1697837019,"post_id":77333259,"comment_id":136334429,"body_markdown":"Why do you replace every line you read with a passed string named `grocery`? `line = grocery;`","body":"Why do you replace every line you read with a passed string named <code>grocery</code>? <code>line = grocery;</code>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1697837134,"post_id":77333259,"comment_id":136334445,"body_markdown":"&quot;I did change the void to a String I updated the code on here&quot; -&gt; You updated the wrong code.  You updated the return value of the `printToFile` method, not the `readFromFile` method.  Also, you did not supply the requested `Grocery.txt` sample.  For debugging questions *always* provide a [mcve] - a minimal example that compiles and runs, with all required data to replicate the issue without change or addition, otherwise you just get confusion, questions and misunderstandings, as you can see throughout the comments.","body":"&quot;I did change the void to a String I updated the code on here&quot; -&gt; You updated the wrong code.  You updated the return value of the <code>printToFile</code> method, not the <code>readFromFile</code> method.  Also, you did not supply the requested <code>Grocery.txt</code> sample.  For debugging questions <i>always</i> provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - a minimal example that compiles and runs, with all required data to replicate the issue without change or addition, otherwise you just get confusion, questions and misunderstandings, as you can see throughout the comments."},{"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"score":0,"creation_date":1697839059,"post_id":77333259,"comment_id":136334669,"body_markdown":"@jewelsea you are correct my bad. I should have fixed the `void` / `String` issue. As far as the Grocery.txt file I&#39;m not at my computer. It&#39;s a basic .txt from notepad file with just the word &#39;milk&#39; in it. This is how I know the `addButtoneClicked()` worked.","body":"@jewelsea you are correct my bad. I should have fixed the <code>void</code> / <code>String</code> issue. As far as the Grocery.txt file I&#39;m not at my computer. It&#39;s a basic .txt from notepad file with just the word &#39;milk&#39; in it. This is how I know the <code>addButtoneClicked()</code> worked."},{"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"score":0,"creation_date":1697848056,"post_id":77333259,"comment_id":136335389,"body_markdown":"@BasilBourque my thought process behind `line =grocery` is as it reads the file it will replace `grocery` with the current object in the .txt file. It will then return that object to the GUI via the `groceryList.getItems().add(grocery.readFromFile(addGrocery.getText()))` and add it to the GUI list","body":"@BasilBourque my thought process behind <code>line =grocery</code> is as it reads the file it will replace <code>grocery</code> with the current object in the .txt file. It will then return that object to the GUI via the <code>groceryList.getItems().add(grocery.readFromFile(addGrocery.g&zwnj;&#8203;etText()))</code> and add it to the GUI list"},{"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"score":0,"creation_date":1697942963,"post_id":77333259,"comment_id":136342156,"body_markdown":"@BasilBourque I want to personally thank you for the input you had. You put a lot of work into my program. I place a lot of classes into my program simply because It&#39;s the one part that I don&#39;t fully understand yet. I understand what syntax to use but not why it needs it. My hope is as I cotinine to use it, it will become more clear. Your program has aspects not yet covered by the textbook which is all I can use. However, I plan to come back and look at your answer as I continue though the weeks until the class is finished.","body":"@BasilBourque I want to personally thank you for the input you had. You put a lot of work into my program. I place a lot of classes into my program simply because It&#39;s the one part that I don&#39;t fully understand yet. I understand what syntax to use but not why it needs it. My hope is as I cotinine to use it, it will become more clear. Your program has aspects not yet covered by the textbook which is all I can use. However, I plan to come back and look at your answer as I continue though the weeks until the class is finished."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1697943657,"post_id":77333259,"comment_id":136342194,"body_markdown":"Yes, practice will make things clearer. You can organize your code and your classes in many ways. The main idea is to separate out the chunks of code so you can perfect one piece of functionality without worrying about the rest. Trying to do everything all at once will drive you crazy. Object-oriented programming was invented to help humans, not computers.","body":"Yes, practice will make things clearer. You can organize your code and your classes in many ways. The main idea is to separate out the chunks of code so you can perfect one piece of functionality without worrying about the rest. Trying to do everything all at once will drive you crazy. Object-oriented programming was invented to help humans, not computers."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697931135,"creation_date":1697854412,"answer_id":77334529,"question_id":77333259,"body_markdown":"Your Question is unfocused and unclear. But, for fun, I will take a stab at revamping your code.\r\n\r\nOne big useful concept in programming in [separation of concerns][1]. This means organizing your code in separate chunks that each focus on a particular job. \r\n\r\nOne job is writing your grocery list items to storage, and reading them back. That should be in one specific class. We will call this class `Repository`.\r\n\r\nWe need to define the objects to go into the repository. Your `GroceryList` class is ill-conceived as the list is just a collection of items. It is the item we need to define. We can that simply with a [record][2]. The one and only job of this class is to represent validated state necessary to represent a grocery item from the real world.\r\n\r\n```java\r\npublic record GroceryItem( String name )\r\n{\r\n    public GroceryItem ( final String name )\r\n    {\r\n        Objects.requireNonNull ( name );\r\n        if ( name.isBlank ( ) ) throw new IllegalArgumentException ( &quot;Grocery item name cannot be blank.&quot; );\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nThe repository needs to save grocery items and retrieve again. The one and only job of this class is the persistent storage and retrieval of our objects’ state. Here we write a simple bogus implementation, good enough to get going.\r\n\r\n```java\r\npublic class Repository\r\n{\r\n    private List &lt; GroceryItem &gt; storedGroceryItems =\r\n            new ArrayList &lt;&gt; (\r\n                    List.of (\r\n                            new GroceryItem ( &quot;Bananas&quot; ) ,\r\n                            new GroceryItem ( &quot;Eggs&quot; ) ,\r\n                            new GroceryItem ( &quot;Olive oil&quot; )\r\n                    )\r\n            );\r\n\r\n    public List &lt; GroceryItem &gt; fetchGroceryItems ( )\r\n    {\r\n        return List.copyOf ( this.storedGroceryItems );\r\n    }\r\n\r\n    public boolean saveGroceryItem ( final GroceryItem groceryItem )\r\n    {\r\n        if ( this.storedGroceryItems.contains ( groceryItem ) ) return false;\r\n        return this.storedGroceryItems.add ( groceryItem );\r\n    }\r\n\r\n    public boolean deleteGroceryItem ( final GroceryItem groceryItem )\r\n    {\r\n        return this.storedGroceryItems.remove ( groceryItem );\r\n    }\r\n\r\n    public boolean removeAllGroceryItems ( )\r\n    {\r\n        List &lt; GroceryItem &gt; emptyList = List.of ( );\r\n        return this.storedGroceryItems.retainAll ( emptyList );\r\n    }\r\n\r\n}\r\n```\r\n\r\nWrite some tests to verify. We expect all “true” results. \r\n\r\n```java\r\npublic class TestRepository\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        TestRepository.testPreloadedRepository ( );\r\n    }\r\n\r\n    public static void testPreloadedRepository ( )\r\n    {\r\n        Repository repository = new Repository ( );\r\n        boolean success;\r\n\r\n        List &lt; GroceryItem &gt; list = repository.fetchGroceryItems ( );\r\n        System.out.println ( &quot;list has 3 elements: &quot; + ( list.size ( ) == 3 ) );\r\n\r\n        List &lt; GroceryItem &gt; expectedList =\r\n                List.of (\r\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\r\n                        new GroceryItem ( &quot;Eggs&quot; ) ,\r\n                        new GroceryItem ( &quot;Olive oil&quot; )\r\n                );\r\n        System.out.println ( &quot;list has expected items: &quot; + ( list.equals ( expectedList ) ) );\r\n\r\n        GroceryItem broccoli = new GroceryItem ( &quot;Broccoli&quot; );\r\n        success = repository.saveGroceryItem ( broccoli );\r\n        System.out.println ( &quot;success = &quot; + success );\r\n        list = repository.fetchGroceryItems ( );\r\n        System.out.println ( &quot;list has 4 elements: &quot; + ( list.size ( ) == 4 ) );\r\n        expectedList =\r\n                List.of (\r\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\r\n                        new GroceryItem ( &quot;Eggs&quot; ) ,\r\n                        new GroceryItem ( &quot;Olive oil&quot; ) ,\r\n                        broccoli\r\n                );\r\n        System.out.println ( &quot;list has expected items: &quot; + ( list.equals ( expectedList ) ) );\r\n\r\n        GroceryItem eggs = new GroceryItem ( &quot;Eggs&quot; );\r\n        success = repository.deleteGroceryItem ( eggs );\r\n        System.out.println ( &quot;success = &quot; + success );\r\n        list = repository.fetchGroceryItems ( );\r\n        System.out.println ( &quot;list has 3 elements: &quot; + ( list.size ( ) == 3 ) );\r\n        expectedList =\r\n                List.of (\r\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\r\n                        new GroceryItem ( &quot;Olive oil&quot; ) ,\r\n                        broccoli\r\n                );\r\n        System.out.println ( &quot;list has expected items: &quot; + ( list.equals ( expectedList ) ) );\r\n    }\r\n}\r\n```\r\n\r\nAll our tests passed.\r\n\r\n```none\r\nlist has 3 elements: true\r\nlist has expected items: true\r\nsuccess = true\r\nlist has 4 elements: true\r\nlist has expected items: true\r\nsuccess = true\r\nlist has 3 elements: true\r\nlist has expected items: true\r\n```\r\n\r\nTip to the advanced student: In real work, we would write tests using a framework such as [Jupiter][3]. Then we run the tests in a test-harness such as [JUnit 5][4]. \r\n\r\nNow build the [GUI][5] in [JavaFX][6] implemented as [OpenJFX][7]. \r\n\r\n```java\r\npublic class HelloApplication extends Application\r\n{\r\n    private Repository repository = new Repository ( );\r\n\r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {\r\n        Pane pane = this.buildPane ();\r\n        Scene scene = new Scene ( pane , 500 , 350 );\r\n        stage.setTitle ( &quot;Grocery List&quot; );\r\n        stage.setScene ( scene );\r\n        stage.show ( );\r\n    }\r\n\r\n    private Pane buildPane () {\r\n        // Data\r\n        List &lt; GroceryItem &gt; groceryItems = this.repository.fetchGroceryItems ( );\r\n        ObservableList &lt; GroceryItem &gt; observableList = FXCollections.observableArrayList ( groceryItems );\r\n\r\n        // Widgets\r\n        ListView &lt; GroceryItem &gt; listView = new ListView &lt;&gt; ( observableList );\r\n        TextField newGroceryItemField = new TextField ( );\r\n        newGroceryItemField.setPromptText ( &quot;new grocery item&quot; );\r\n        Button addButton = new Button ( &quot;Add…&quot; );\r\n        Button removeButton = new Button ( &quot;Delete&quot; );\r\n\r\n        // Behavior\r\n        addButton.setOnMouseClicked ( ( MouseEvent mouseEvent ) -&gt;\r\n        {\r\n            String input = newGroceryItemField.getText ( );\r\n            if ( input.isBlank ( ) ) return;\r\n            GroceryItem groceryItem = new GroceryItem ( input );\r\n            if ( observableList.contains ( groceryItem ) ) return;\r\n            if ( this.repository.saveGroceryItem ( groceryItem ) )\r\n            {\r\n                observableList.add ( groceryItem );\r\n            }\r\n        } );\r\n\r\n        removeButton.setOnMouseClicked ( ( MouseEvent mouseEvent ) -&gt;\r\n        {\r\n            GroceryItem groceryItem = listView.getSelectionModel ( ).getSelectedItem ( );\r\n            if ( Objects.nonNull ( groceryItem ) )\r\n            {\r\n                if ( this.repository.deleteGroceryItem ( groceryItem ) )\r\n                {\r\n                    observableList.remove ( groceryItem );\r\n                }\r\n            }\r\n        } );\r\n\r\n        // Arrange\r\n        BorderPane borderPane = new BorderPane ( );\r\n        borderPane.setCenter ( listView );\r\n        borderPane.setBottom ( new HBox ( newGroceryItemField , addButton , removeButton ) );\r\n        return borderPane;\r\n    }\r\n\r\n    public static void main ( String[] args ) { launch ( ); }\r\n}\r\n```\r\n\r\n[![screenshot of example app][8]][8]\r\n\r\nWith that all working, we can go back to our `Repository`. We can rewrite to actually save to a file rather than use our dummy list in memory.\r\n\r\nLook to the [Java NIO][9] classes such as [`Path`][10], [`Paths`][11], and [`Files`][12] to simplify your file handling. \r\n\r\n```java\r\npackage work.basil.example.exgrocerylist;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Repository\r\n{\r\n    private Path dataFilePath = Paths.get ( &quot;/Users/basil_dot_work/GroceryItems.txt&quot; );\r\n\r\n    public List &lt; GroceryItem &gt; fetchGroceryItems ( )\r\n    {\r\n        boolean go = this.createAndPopulateFileIfNotExists ( );\r\n        try\r\n        {\r\n            List &lt; String &gt; lines = Files.readAllLines ( this.dataFilePath , StandardCharsets.UTF_8 );\r\n            List &lt; GroceryItem &gt; groceryItems = new ArrayList &lt;&gt; ( );\r\n            for ( String line : lines )\r\n            {\r\n                if ( line.isBlank ( ) )\r\n                {\r\n                    continue;\r\n                }\r\n                GroceryItem groceryItem = new GroceryItem ( line );\r\n                groceryItems.add ( groceryItem );\r\n            }\r\n            return List.copyOf ( groceryItems );\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    private boolean createAndPopulateFileIfNotExists ( )\r\n    {\r\n        if ( Files.exists ( this.dataFilePath ) ) return true;\r\n        List &lt; GroceryItem &gt; defaultGroceryItems =\r\n                List.of (\r\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\r\n                        new GroceryItem ( &quot;Eggs&quot; ) ,\r\n                        new GroceryItem ( &quot;Olive oil&quot; )\r\n                );\r\n        List &lt; String &gt; lines =\r\n                defaultGroceryItems.stream ( ).map ( GroceryItem :: name ).toList ( );\r\n        try\r\n        {\r\n            Files.write ( this.dataFilePath , lines , StandardCharsets.UTF_8 );\r\n            return ( this.fetchGroceryItems ( ).equals ( defaultGroceryItems ) );\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    public boolean saveGroceryItem ( final GroceryItem groceryItem )\r\n    {\r\n        List &lt; GroceryItem &gt; groceryItems = this.fetchGroceryItems ( );\r\n        if ( groceryItems.contains ( groceryItem ) ) return false;\r\n        try\r\n        {\r\n            Files.write ( this.dataFilePath , groceryItem.name ( ).getBytes ( ) , StandardOpenOption.APPEND );\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n        return this.fetchGroceryItems ( ).contains ( groceryItem );\r\n    }\r\n\r\n    public boolean deleteGroceryItem ( final GroceryItem groceryItem )\r\n    {\r\n        List &lt; GroceryItem &gt; groceryItems = this.fetchGroceryItems ( );\r\n        if ( ! groceryItems.contains ( groceryItem ) ) return false;\r\n        List &lt; GroceryItem &gt; groceryItemsModifiable = new ArrayList &lt;&gt; ( groceryItems );\r\n        boolean go = groceryItemsModifiable.remove ( groceryItem );\r\n        if ( ! go )\r\n        {\r\n            return false;\r\n        }\r\n        List &lt; String &gt; lines = groceryItemsModifiable.stream ( ).map ( GroceryItem :: name ).toList ( );\r\n        try\r\n        {\r\n            Files.write ( this.dataFilePath , lines , StandardCharsets.UTF_8 );\r\n            return true;\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    public boolean removeAllGroceryItems ( )\r\n    {\r\n        List &lt; String &gt; lines = List.of ( );\r\n        try\r\n        {\r\n            Files.write ( this.dataFilePath , lines , StandardCharsets.UTF_8 );\r\n            return ( this.fetchGroceryItems ( ).isEmpty ( ) );\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTip to the advanced student: `Repository` should be an interface, with two concrete implementations: one for our in-memory list, another for our file storage. \r\n\r\n**Beware…** This file-based `Repository` has a bug: User cannot add more than one grocery item. We can deterimine with certainty that the bug lives in this file-based `Repository` implementation because we can switch back to the in-memory list based implementation to see the bug disappear. This bug-verification is a big benefit to writing the simpler bogus implementation. I will leave the undiscovered bug in place, as I have already done too much for a schoolwork assignment.\r\n\r\nAnother issue: All our tests pass despite the bug in this file-based implementation. That means our tests are insufficient, and need revision. I will leave that too as an exercise for the reader.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Separation_of_concerns\r\n  [2]: https://openjdk.org/jeps/395\r\n  [3]: https://junit.org/junit5/docs/current/user-guide/#writing-tests\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://en.wikipedia.org/wiki/Graphical_user_interface\r\n  [6]: https://en.wikipedia.org/wiki/JavaFX\r\n  [7]: https://openjfx.io/\r\n  [8]: https://i.stack.imgur.com/WJxxW.png\r\n  [9]: https://jenkov.com/tutorials/java-nio/index.html\r\n  [10]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Path.html\r\n  [11]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Paths.html\r\n  [12]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Files.html","title":"JavaFX build crashes when trying to read from file","body":"<p>Your Question is unfocused and unclear. But, for fun, I will take a stab at revamping your code.</p>\n<p>One big useful concept in programming in <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a>. This means organizing your code in separate chunks that each focus on a particular job.</p>\n<p>One job is writing your grocery list items to storage, and reading them back. That should be in one specific class. We will call this class <code>Repository</code>.</p>\n<p>We need to define the objects to go into the repository. Your <code>GroceryList</code> class is ill-conceived as the list is just a collection of items. It is the item we need to define. We can that simply with a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. The one and only job of this class is to represent validated state necessary to represent a grocery item from the real world.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record GroceryItem( String name )\n{\n    public GroceryItem ( final String name )\n    {\n        Objects.requireNonNull ( name );\n        if ( name.isBlank ( ) ) throw new IllegalArgumentException ( &quot;Grocery item name cannot be blank.&quot; );\n        this.name = name;\n    }\n}\n</code></pre>\n<p>The repository needs to save grocery items and retrieve again. The one and only job of this class is the persistent storage and retrieval of our objects’ state. Here we write a simple bogus implementation, good enough to get going.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Repository\n{\n    private List &lt; GroceryItem &gt; storedGroceryItems =\n            new ArrayList &lt;&gt; (\n                    List.of (\n                            new GroceryItem ( &quot;Bananas&quot; ) ,\n                            new GroceryItem ( &quot;Eggs&quot; ) ,\n                            new GroceryItem ( &quot;Olive oil&quot; )\n                    )\n            );\n\n    public List &lt; GroceryItem &gt; fetchGroceryItems ( )\n    {\n        return List.copyOf ( this.storedGroceryItems );\n    }\n\n    public boolean saveGroceryItem ( final GroceryItem groceryItem )\n    {\n        if ( this.storedGroceryItems.contains ( groceryItem ) ) return false;\n        return this.storedGroceryItems.add ( groceryItem );\n    }\n\n    public boolean deleteGroceryItem ( final GroceryItem groceryItem )\n    {\n        return this.storedGroceryItems.remove ( groceryItem );\n    }\n\n    public boolean removeAllGroceryItems ( )\n    {\n        List &lt; GroceryItem &gt; emptyList = List.of ( );\n        return this.storedGroceryItems.retainAll ( emptyList );\n    }\n\n}\n</code></pre>\n<p>Write some tests to verify. We expect all “true” results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestRepository\n{\n    public static void main ( String[] args )\n    {\n        TestRepository.testPreloadedRepository ( );\n    }\n\n    public static void testPreloadedRepository ( )\n    {\n        Repository repository = new Repository ( );\n        boolean success;\n\n        List &lt; GroceryItem &gt; list = repository.fetchGroceryItems ( );\n        System.out.println ( &quot;list has 3 elements: &quot; + ( list.size ( ) == 3 ) );\n\n        List &lt; GroceryItem &gt; expectedList =\n                List.of (\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\n                        new GroceryItem ( &quot;Eggs&quot; ) ,\n                        new GroceryItem ( &quot;Olive oil&quot; )\n                );\n        System.out.println ( &quot;list has expected items: &quot; + ( list.equals ( expectedList ) ) );\n\n        GroceryItem broccoli = new GroceryItem ( &quot;Broccoli&quot; );\n        success = repository.saveGroceryItem ( broccoli );\n        System.out.println ( &quot;success = &quot; + success );\n        list = repository.fetchGroceryItems ( );\n        System.out.println ( &quot;list has 4 elements: &quot; + ( list.size ( ) == 4 ) );\n        expectedList =\n                List.of (\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\n                        new GroceryItem ( &quot;Eggs&quot; ) ,\n                        new GroceryItem ( &quot;Olive oil&quot; ) ,\n                        broccoli\n                );\n        System.out.println ( &quot;list has expected items: &quot; + ( list.equals ( expectedList ) ) );\n\n        GroceryItem eggs = new GroceryItem ( &quot;Eggs&quot; );\n        success = repository.deleteGroceryItem ( eggs );\n        System.out.println ( &quot;success = &quot; + success );\n        list = repository.fetchGroceryItems ( );\n        System.out.println ( &quot;list has 3 elements: &quot; + ( list.size ( ) == 3 ) );\n        expectedList =\n                List.of (\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\n                        new GroceryItem ( &quot;Olive oil&quot; ) ,\n                        broccoli\n                );\n        System.out.println ( &quot;list has expected items: &quot; + ( list.equals ( expectedList ) ) );\n    }\n}\n</code></pre>\n<p>All our tests passed.</p>\n<pre class=\"lang-none prettyprint-override\"><code>list has 3 elements: true\nlist has expected items: true\nsuccess = true\nlist has 4 elements: true\nlist has expected items: true\nsuccess = true\nlist has 3 elements: true\nlist has expected items: true\n</code></pre>\n<p>Tip to the advanced student: In real work, we would write tests using a framework such as <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests\" rel=\"nofollow noreferrer\">Jupiter</a>. Then we run the tests in a test-harness such as <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">JUnit 5</a>.</p>\n<p>Now build the <a href=\"https://en.wikipedia.org/wiki/Graphical_user_interface\" rel=\"nofollow noreferrer\">GUI</a> in <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> implemented as <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloApplication extends Application\n{\n    private Repository repository = new Repository ( );\n\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        Pane pane = this.buildPane ();\n        Scene scene = new Scene ( pane , 500 , 350 );\n        stage.setTitle ( &quot;Grocery List&quot; );\n        stage.setScene ( scene );\n        stage.show ( );\n    }\n\n    private Pane buildPane () {\n        // Data\n        List &lt; GroceryItem &gt; groceryItems = this.repository.fetchGroceryItems ( );\n        ObservableList &lt; GroceryItem &gt; observableList = FXCollections.observableArrayList ( groceryItems );\n\n        // Widgets\n        ListView &lt; GroceryItem &gt; listView = new ListView &lt;&gt; ( observableList );\n        TextField newGroceryItemField = new TextField ( );\n        newGroceryItemField.setPromptText ( &quot;new grocery item&quot; );\n        Button addButton = new Button ( &quot;Add…&quot; );\n        Button removeButton = new Button ( &quot;Delete&quot; );\n\n        // Behavior\n        addButton.setOnMouseClicked ( ( MouseEvent mouseEvent ) -&gt;\n        {\n            String input = newGroceryItemField.getText ( );\n            if ( input.isBlank ( ) ) return;\n            GroceryItem groceryItem = new GroceryItem ( input );\n            if ( observableList.contains ( groceryItem ) ) return;\n            if ( this.repository.saveGroceryItem ( groceryItem ) )\n            {\n                observableList.add ( groceryItem );\n            }\n        } );\n\n        removeButton.setOnMouseClicked ( ( MouseEvent mouseEvent ) -&gt;\n        {\n            GroceryItem groceryItem = listView.getSelectionModel ( ).getSelectedItem ( );\n            if ( Objects.nonNull ( groceryItem ) )\n            {\n                if ( this.repository.deleteGroceryItem ( groceryItem ) )\n                {\n                    observableList.remove ( groceryItem );\n                }\n            }\n        } );\n\n        // Arrange\n        BorderPane borderPane = new BorderPane ( );\n        borderPane.setCenter ( listView );\n        borderPane.setBottom ( new HBox ( newGroceryItemField , addButton , removeButton ) );\n        return borderPane;\n    }\n\n    public static void main ( String[] args ) { launch ( ); }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WJxxW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJxxW.png\" alt=\"screenshot of example app\" /></a></p>\n<p>With that all working, we can go back to our <code>Repository</code>. We can rewrite to actually save to a file rather than use our dummy list in memory.</p>\n<p>Look to the <a href=\"https://jenkov.com/tutorials/java-nio/index.html\" rel=\"nofollow noreferrer\">Java NIO</a> classes such as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\"><code>Paths</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\"><code>Files</code></a> to simplify your file handling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.exgrocerylist;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Repository\n{\n    private Path dataFilePath = Paths.get ( &quot;/Users/basil_dot_work/GroceryItems.txt&quot; );\n\n    public List &lt; GroceryItem &gt; fetchGroceryItems ( )\n    {\n        boolean go = this.createAndPopulateFileIfNotExists ( );\n        try\n        {\n            List &lt; String &gt; lines = Files.readAllLines ( this.dataFilePath , StandardCharsets.UTF_8 );\n            List &lt; GroceryItem &gt; groceryItems = new ArrayList &lt;&gt; ( );\n            for ( String line : lines )\n            {\n                if ( line.isBlank ( ) )\n                {\n                    continue;\n                }\n                GroceryItem groceryItem = new GroceryItem ( line );\n                groceryItems.add ( groceryItem );\n            }\n            return List.copyOf ( groceryItems );\n        }\n        catch ( IOException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    private boolean createAndPopulateFileIfNotExists ( )\n    {\n        if ( Files.exists ( this.dataFilePath ) ) return true;\n        List &lt; GroceryItem &gt; defaultGroceryItems =\n                List.of (\n                        new GroceryItem ( &quot;Bananas&quot; ) ,\n                        new GroceryItem ( &quot;Eggs&quot; ) ,\n                        new GroceryItem ( &quot;Olive oil&quot; )\n                );\n        List &lt; String &gt; lines =\n                defaultGroceryItems.stream ( ).map ( GroceryItem :: name ).toList ( );\n        try\n        {\n            Files.write ( this.dataFilePath , lines , StandardCharsets.UTF_8 );\n            return ( this.fetchGroceryItems ( ).equals ( defaultGroceryItems ) );\n        }\n        catch ( IOException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    public boolean saveGroceryItem ( final GroceryItem groceryItem )\n    {\n        List &lt; GroceryItem &gt; groceryItems = this.fetchGroceryItems ( );\n        if ( groceryItems.contains ( groceryItem ) ) return false;\n        try\n        {\n            Files.write ( this.dataFilePath , groceryItem.name ( ).getBytes ( ) , StandardOpenOption.APPEND );\n        }\n        catch ( IOException e )\n        {\n            throw new RuntimeException ( e );\n        }\n        return this.fetchGroceryItems ( ).contains ( groceryItem );\n    }\n\n    public boolean deleteGroceryItem ( final GroceryItem groceryItem )\n    {\n        List &lt; GroceryItem &gt; groceryItems = this.fetchGroceryItems ( );\n        if ( ! groceryItems.contains ( groceryItem ) ) return false;\n        List &lt; GroceryItem &gt; groceryItemsModifiable = new ArrayList &lt;&gt; ( groceryItems );\n        boolean go = groceryItemsModifiable.remove ( groceryItem );\n        if ( ! go )\n        {\n            return false;\n        }\n        List &lt; String &gt; lines = groceryItemsModifiable.stream ( ).map ( GroceryItem :: name ).toList ( );\n        try\n        {\n            Files.write ( this.dataFilePath , lines , StandardCharsets.UTF_8 );\n            return true;\n        }\n        catch ( IOException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    public boolean removeAllGroceryItems ( )\n    {\n        List &lt; String &gt; lines = List.of ( );\n        try\n        {\n            Files.write ( this.dataFilePath , lines , StandardCharsets.UTF_8 );\n            return ( this.fetchGroceryItems ( ).isEmpty ( ) );\n        }\n        catch ( IOException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n}\n</code></pre>\n<p>Tip to the advanced student: <code>Repository</code> should be an interface, with two concrete implementations: one for our in-memory list, another for our file storage.</p>\n<p><strong>Beware…</strong> This file-based <code>Repository</code> has a bug: User cannot add more than one grocery item. We can deterimine with certainty that the bug lives in this file-based <code>Repository</code> implementation because we can switch back to the in-memory list based implementation to see the bug disappear. This bug-verification is a big benefit to writing the simpler bogus implementation. I will leave the undiscovered bug in place, as I have already done too much for a schoolwork assignment.</p>\n<p>Another issue: All our tests pass despite the bug in this file-based implementation. That means our tests are insufficient, and need revision. I will leave that too as an exercise for the reader.</p>\n"}],"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77334529,"answer_count":1,"score":0,"last_activity_date":1697942066,"creation_date":1697828616,"question_id":77333259,"body_markdown":"I am doing a midterm where we have to make a GUI grocery list. The professor is asking us to make the list into a .txt file and read from that file. There is also a delete section and delete all which I haven&#39;t coded yet. Usually I test the code whenever I add something new into it. When trying to test this one I noticed that it crashes. The code is writing to the Grocery.txt but isn&#39;t showing what is wrote into the list box. I know I am most likely missing something small. When I look at my textbook &quot;Murach&#39;s Java programming 6th Edition&quot; It looks almost the same except the example they are using is reading three different things from the file. They are using a array to read. I am trying to place each one on its own line. I know right now it won&#39;t. I am trying to test if it reads it at all which currently it isn&#39;t.\r\n\r\nUpdate: I changed some of the code around now when I click add I am getting an empty alert box that says error. Updated code is placed. I will be afk for a few hours and will be back to work on it. Thank you for all your help.\r\n\r\nFINAL update: found the error it was in my `if (errorMsg == &quot; &quot;) {` for some reason it wasn&#39;t reading it correctly changing it to `if(errorMsg.isBlank())` fixed it. Thank you all for your input and I will be better at posting the question whenever I need to post again. The program still won&#39;t run correctly but the issue I was having has been fixed and I can figure the rest out myself.\r\n\r\nAgain thank you and happy programming \r\n\r\nHere is my current code:\r\n\r\n```\r\npackage com.mycompany.zaph_midterm;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.SelectionMode;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\n\r\n\r\npublic class App extends Application {\r\n    public TextField addGrocery;\r\n    public ListView&lt;String&gt; groceryList = new ListView&lt;&gt;();\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;Grocery List&quot;);\r\n        \r\n        //Setting grid\r\n        GridPane grid = new GridPane();\r\n        grid.setAlignment(Pos.CENTER);\r\n        grid.setPadding(new Insets(15,15,15,15));\r\n        grid.setHgap(10);\r\n        grid.setVgap(10);\r\n        \r\n        //attaching grid to scene\r\n        Scene scene = new Scene(grid);\r\n        \r\n        //Setting the add section\r\n        HBox hbox = new HBox();\r\n        GridPane addHbox = new GridPane();\r\n        addHbox.add(new Label (&quot;Items: &quot;), 0, 0);\r\n        addHbox.add(new Label(&quot;  &quot;), 1, 0);\r\n        addGrocery = new TextField();\r\n        addHbox.add(addGrocery, 2, 0);\r\n        Button addButton = new Button(&quot;Add&quot;);\r\n        addButton.setOnAction(event -&gt; addButtonClicked());\r\n        addHbox.add(new Label(&quot;  &quot;), 3, 0);\r\n        addHbox.add(addButton, 4, 0);\r\n        hbox.getChildren().add(addHbox);\r\n        grid.add(hbox, 0, 0);\r\n        \r\n        //Setting list to show\r\n        HBox groceryBox = new HBox();\r\n        GridPane groceryGrid = new GridPane();\r\n        groceryGrid.add(new Label(&quot;List: &quot;), 0, 0);\r\n        groceryList.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\ngroceryList.getItems().add(grocery.readFromFile(addGrocery.getText()));\r\n        groceryGrid.add(groceryList, 2, 0);\r\n        groceryBox.getChildren().add(groceryGrid);\r\n        grid.add(groceryBox, 0, 1);\r\n        \r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    // Add button clicked \r\n    private void addButtonClicked() {\r\n        //Validation of user Input\r\n        Validation v = new Validation();\r\n        String errorMsg = &quot;&quot;;\r\n        errorMsg += v.hasValue(addGrocery.getText());\r\n        errorMsg += v.isBlank(addGrocery.getText());\r\n        \r\n        // Using if/else to add to grocery List\r\n        if (errorMsg.isBlank()){\r\n            GroceryList grocery = new GroceryList();\r\n            //Adding to Grocery List\r\n            grocery.printToFile(addGrocery.getText());\r\n             \r\n           \r\n        }else {\r\n           Alert wrong = new Alert(Alert.AlertType.ERROR);\r\n           wrong.setHeaderText(&quot;Error&quot;);\r\n           wrong.setContentText(errorMsg);\r\n           wrong.showAndWait();\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n```\r\n\r\n\r\nValidation class: \r\n\r\n```\r\npackage com.mycompany.zaph_midterm;\r\n\r\n\r\npublic class Validation {\r\n    private final String lineEnd;\r\n    \r\n   public Validation() {\r\n       this.lineEnd = &quot;\\n&quot;;\r\n   } \r\n   \r\n   public Validation(String lineEnd) {\r\n       this.lineEnd = lineEnd;\r\n   }\r\n   \r\n   public String isBlank(String name) {\r\n       String error = &quot;&quot;;\r\n       if(name.isBlank()) {\r\n           error = &quot;Must have groceries in the add text box.&quot;;\r\n       }\r\n       return error;\r\n   }// end of isBlank\r\n   \r\n   public String hasValue(String name) {\r\n       //if user input is able to be parsed then an error message will return\r\n       String error = &quot;&quot;;\r\n       try {\r\n           Double.parseDouble(name);\r\n       } catch (NumberFormatException e) {\r\n           return error;\r\n       }\r\n       error =&quot;Text box must only contain letters&quot;;\r\n       return error;\r\n   }\r\n}\r\n\r\n```\r\nGroceryList Class:\r\n\r\n```\r\npackage com.mycompany.zaph_midterm;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport static java.lang.System.out;\r\n\r\n\r\npublic class GroceryList {\r\n    private String grocery;\r\n    \r\n    \r\n    public GroceryList() {\r\n        grocery = &quot; &quot;;\r\n        \r\n    }\r\n    \r\n    public void setGroceryList(String args){\r\n        this.grocery = grocery;\r\n        \r\n    }\r\n    public String getGroceryList() {\r\n        return grocery;\r\n    }\r\n    \r\n    public void printToFile(String grocery) {\r\n        //creating file\r\n        try (PrintWriter out = new PrintWriter(\r\n                               new BufferedWriter(\r\n                               new FileWriter(&quot;Grocery.txt&quot;)))) {\r\n            //writing to file\r\n            out.print(grocery);\r\n            \r\n        }\r\n        //catching error if found\r\n        catch (IOException e){\r\n          System.out.println(e);\r\n        }\r\n    }\r\n    public void deleteFromFile(String grocery) {\r\n        \r\n    }\r\n    public String readFromFile(String grocery) throws IOException{\r\n        try (BufferedReader in = new BufferedReader(\r\n                                 new FileReader(&quot;Grocery.txt&quot;))){\r\n            String line = in.readLine();\r\n            while (line != null){\r\n               line = grocery;\r\n               return grocery;\r\n            }\r\n            \r\n        }\r\n        catch (IOException e) {\r\n            Alert error = new Alert(Alert.AlertType.ERROR);\r\n            error.setHeaderText(&quot;Didn&#39;t work&quot;);\r\n            error.setContentText(&quot;Something is wrong&quot;);\r\n            error.showAndWait();\r\n        }\r\n        return grocery;\r\n    }\r\n        \r\n    }\r\n    \r\n}\r\n\r\n\r\n```\r\nI tried moving the try(BufferedReader) to the addButtonCLicked() still crashed so I moved it up under the //setting list to show and it still crashes.","title":"JavaFX build crashes when trying to read from file","body":"<p>I am doing a midterm where we have to make a GUI grocery list. The professor is asking us to make the list into a .txt file and read from that file. There is also a delete section and delete all which I haven't coded yet. Usually I test the code whenever I add something new into it. When trying to test this one I noticed that it crashes. The code is writing to the Grocery.txt but isn't showing what is wrote into the list box. I know I am most likely missing something small. When I look at my textbook &quot;Murach's Java programming 6th Edition&quot; It looks almost the same except the example they are using is reading three different things from the file. They are using a array to read. I am trying to place each one on its own line. I know right now it won't. I am trying to test if it reads it at all which currently it isn't.</p>\n<p>Update: I changed some of the code around now when I click add I am getting an empty alert box that says error. Updated code is placed. I will be afk for a few hours and will be back to work on it. Thank you for all your help.</p>\n<p>FINAL update: found the error it was in my <code>if (errorMsg == &quot; &quot;) {</code> for some reason it wasn't reading it correctly changing it to <code>if(errorMsg.isBlank())</code> fixed it. Thank you all for your input and I will be better at posting the question whenever I need to post again. The program still won't run correctly but the issue I was having has been fixed and I can figure the rest out myself.</p>\n<p>Again thank you and happy programming</p>\n<p>Here is my current code:</p>\n<pre><code>package com.mycompany.zaph_midterm;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.SelectionMode;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n\n\npublic class App extends Application {\n    public TextField addGrocery;\n    public ListView&lt;String&gt; groceryList = new ListView&lt;&gt;();\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;Grocery List&quot;);\n        \n        //Setting grid\n        GridPane grid = new GridPane();\n        grid.setAlignment(Pos.CENTER);\n        grid.setPadding(new Insets(15,15,15,15));\n        grid.setHgap(10);\n        grid.setVgap(10);\n        \n        //attaching grid to scene\n        Scene scene = new Scene(grid);\n        \n        //Setting the add section\n        HBox hbox = new HBox();\n        GridPane addHbox = new GridPane();\n        addHbox.add(new Label (&quot;Items: &quot;), 0, 0);\n        addHbox.add(new Label(&quot;  &quot;), 1, 0);\n        addGrocery = new TextField();\n        addHbox.add(addGrocery, 2, 0);\n        Button addButton = new Button(&quot;Add&quot;);\n        addButton.setOnAction(event -&gt; addButtonClicked());\n        addHbox.add(new Label(&quot;  &quot;), 3, 0);\n        addHbox.add(addButton, 4, 0);\n        hbox.getChildren().add(addHbox);\n        grid.add(hbox, 0, 0);\n        \n        //Setting list to show\n        HBox groceryBox = new HBox();\n        GridPane groceryGrid = new GridPane();\n        groceryGrid.add(new Label(&quot;List: &quot;), 0, 0);\n        groceryList.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\ngroceryList.getItems().add(grocery.readFromFile(addGrocery.getText()));\n        groceryGrid.add(groceryList, 2, 0);\n        groceryBox.getChildren().add(groceryGrid);\n        grid.add(groceryBox, 0, 1);\n        \n        stage.setScene(scene);\n        stage.show();\n    }\n    // Add button clicked \n    private void addButtonClicked() {\n        //Validation of user Input\n        Validation v = new Validation();\n        String errorMsg = &quot;&quot;;\n        errorMsg += v.hasValue(addGrocery.getText());\n        errorMsg += v.isBlank(addGrocery.getText());\n        \n        // Using if/else to add to grocery List\n        if (errorMsg.isBlank()){\n            GroceryList grocery = new GroceryList();\n            //Adding to Grocery List\n            grocery.printToFile(addGrocery.getText());\n             \n           \n        }else {\n           Alert wrong = new Alert(Alert.AlertType.ERROR);\n           wrong.setHeaderText(&quot;Error&quot;);\n           wrong.setContentText(errorMsg);\n           wrong.showAndWait();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch();\n    }\n</code></pre>\n<p>Validation class:</p>\n<pre><code>package com.mycompany.zaph_midterm;\n\n\npublic class Validation {\n    private final String lineEnd;\n    \n   public Validation() {\n       this.lineEnd = &quot;\\n&quot;;\n   } \n   \n   public Validation(String lineEnd) {\n       this.lineEnd = lineEnd;\n   }\n   \n   public String isBlank(String name) {\n       String error = &quot;&quot;;\n       if(name.isBlank()) {\n           error = &quot;Must have groceries in the add text box.&quot;;\n       }\n       return error;\n   }// end of isBlank\n   \n   public String hasValue(String name) {\n       //if user input is able to be parsed then an error message will return\n       String error = &quot;&quot;;\n       try {\n           Double.parseDouble(name);\n       } catch (NumberFormatException e) {\n           return error;\n       }\n       error =&quot;Text box must only contain letters&quot;;\n       return error;\n   }\n}\n\n</code></pre>\n<p>GroceryList Class:</p>\n<pre><code>package com.mycompany.zaph_midterm;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport static java.lang.System.out;\n\n\npublic class GroceryList {\n    private String grocery;\n    \n    \n    public GroceryList() {\n        grocery = &quot; &quot;;\n        \n    }\n    \n    public void setGroceryList(String args){\n        this.grocery = grocery;\n        \n    }\n    public String getGroceryList() {\n        return grocery;\n    }\n    \n    public void printToFile(String grocery) {\n        //creating file\n        try (PrintWriter out = new PrintWriter(\n                               new BufferedWriter(\n                               new FileWriter(&quot;Grocery.txt&quot;)))) {\n            //writing to file\n            out.print(grocery);\n            \n        }\n        //catching error if found\n        catch (IOException e){\n          System.out.println(e);\n        }\n    }\n    public void deleteFromFile(String grocery) {\n        \n    }\n    public String readFromFile(String grocery) throws IOException{\n        try (BufferedReader in = new BufferedReader(\n                                 new FileReader(&quot;Grocery.txt&quot;))){\n            String line = in.readLine();\n            while (line != null){\n               line = grocery;\n               return grocery;\n            }\n            \n        }\n        catch (IOException e) {\n            Alert error = new Alert(Alert.AlertType.ERROR);\n            error.setHeaderText(&quot;Didn't work&quot;);\n            error.setContentText(&quot;Something is wrong&quot;);\n            error.showAndWait();\n        }\n        return grocery;\n    }\n        \n    }\n    \n}\n\n\n</code></pre>\n<p>I tried moving the try(BufferedReader) to the addButtonCLicked() still crashed so I moved it up under the //setting list to show and it still crashes.</p>\n"},{"tags":["java","maven","spring-boot","vaadin"],"comments":[{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":0,"creation_date":1571296924,"post_id":58426408,"comment_id":103195286,"body_markdown":"do you have a View with a [`@Route` annotation](https://vaadin.com/docs/v14/flow/routing/tutorial-routing-annotation.html)?","body":"do you have a View with a <a href=\"https://vaadin.com/docs/v14/flow/routing/tutorial-routing-annotation.html\" rel=\"nofollow noreferrer\"><code>@Route</code> annotation</a>?"},{"owner":{"account_id":15169246,"reputation":33,"user_id":10945859,"display_name":"Tom D."},"score":0,"creation_date":1571298630,"post_id":58426408,"comment_id":103196179,"body_markdown":"Yes. Every View has a @Route annotation. Meanwhile i found a workaround. If i put all of my Classes in the same package, it will work after being compiled. Is it not possible to have classes in different packages?","body":"Yes. Every View has a @Route annotation. Meanwhile i found a workaround. If i put all of my Classes in the same package, it will work after being compiled. Is it not possible to have classes in different packages?"}],"answers":[{"tags":[],"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571300379,"creation_date":1571300379,"answer_id":58427985,"question_id":58426408,"body_markdown":"The problem is because your configuration class only scans the package it is defined in and all its subpackages by default.\r\n\r\nSo in order to fix your problem, you should do one of these:\r\n\r\n- define additional packages to be scanned, that are not yet scanned by default. You can do this in the `@SpringBootApplication` annotation with the `scanBasePackages` attribute.\r\n\r\n- Move the configuration class further up in the package structure, so that all necessary spring-components and vaadin views are within the same (or sub-) package as the configuration, so they will be scanned by default.\r\n\r\n[Similar question with multiple answers](https://stackoverflow.com/q/33619532/3441504)","title":"Vaadin 14 &#39;could not navigate to &quot; &#39; after being repacked","body":"<p>The problem is because your configuration class only scans the package it is defined in and all its subpackages by default.</p>\n\n<p>So in order to fix your problem, you should do one of these:</p>\n\n<ul>\n<li><p>define additional packages to be scanned, that are not yet scanned by default. You can do this in the <code>@SpringBootApplication</code> annotation with the <code>scanBasePackages</code> attribute.</p></li>\n<li><p>Move the configuration class further up in the package structure, so that all necessary spring-components and vaadin views are within the same (or sub-) package as the configuration, so they will be scanned by default.</p></li>\n</ul>\n\n<p><a href=\"https://stackoverflow.com/q/33619532/3441504\">Similar question with multiple answers</a></p>\n"},{"tags":[],"owner":{"account_id":29725786,"reputation":1,"user_id":22781791,"display_name":"Erasmus B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697941339,"creation_date":1697941339,"answer_id":77338436,"question_id":58426408,"body_markdown":"I added @RouteAlias(value = &quot;&quot;, layout = MainLayout.class) to the view I wanted to have as the default page after the login","title":"Vaadin 14 &#39;could not navigate to &quot; &#39; after being repacked","body":"<p>I added @RouteAlias(value = &quot;&quot;, layout = MainLayout.class) to the view I wanted to have as the default page after the login</p>\n"}],"owner":{"account_id":15169246,"reputation":33,"user_id":10945859,"display_name":"Tom D."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58427985,"answer_count":2,"score":3,"last_activity_date":1697941339,"creation_date":1571294656,"question_id":58426408,"body_markdown":"i have a problem with my project. Maybe you can help me out a bit. \r\nI am currently trying to code a little webapp. I use Spring Boot + Vaadin 14 for it. \r\nWhen i test the application in eclipse, everything works as designed. But after i compile my project with Maven and start it, i am greeted with an error message, that my application can&#180;t find any routes. \r\n\r\nThis is the error message:\r\n ```\r\nCould not navigate to &#39;&#39;\r\nReason: Couldn&#39;t find route for &#39;&#39;\r\n\r\nAvailable routes:\r\nThis detailed message is only shown when running in development mode.\r\n```\r\n\r\nThis is my pom:\r\n\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;(REMOVED FOR PRIVACY REASONS)&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;(REMOVED FOR PRIVACY REASONS)&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;mobileissuecreator&lt;/name&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;vaadin.version&gt;14.0.9&lt;/vaadin.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy application starter class:\r\n\r\n```\r\npackage com.cen.spin.mobileissuecreator.springcontroller;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.context.annotation.SessionScope;\r\n\r\n\r\nimport com.vaadin.flow.spring.annotation.EnableVaadin;\r\n\r\n@Configuration\r\n@SpringBootApplication\r\n@EnableVaadin(&quot;(REMOVED FOR PRIVACY REASONS)&quot;)\r\npublic class (REMOVED FOR PRIVACY REASONS) extends SpringBootServletInitializer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run((REMOVED FOR PRIVACY REASONS).class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\t@SessionScope\r\n\tpublic MICService micService(EnoviaAuthService enoviaAuthService, EnoviaAuthProperties enoviaAuthProperties) {\r\n\t\treturn new MICService(enoviaAuthService, enoviaAuthProperties);\r\n\t}\r\n\r\n\t@Bean\r\n\t@SessionScope\r\n\tpublic EnoviaAuthService enoviaAuthService(EnoviaAuthProperties enoviaAuthProperties) throws Exception {\r\n\t\treturn new EnoviaAuthService(enoviaAuthProperties);\r\n\t}\r\n\r\n\t@Bean\r\n\t@SessionScope\r\n\tpublic EnoviaAuthProperties enoviaAuthProperties() {\r\n\t\treturn new EnoviaAuthProperties();\r\n\t}\r\n\r\n\t@Bean\r\n\t@SessionScope\r\n\tpublic EnoviaRoleSelectorService enoviaRoleSelectorService(EnoviaAuthService enoviaAuthService) {\r\n\t\treturn new EnoviaRoleSelectorService(enoviaAuthService);\r\n\t}\r\n\r\n\t@Bean\r\n\t@SessionScope\r\n\tpublic EnoviaContextCheckService enoviaContextCheckService(EnoviaAuthService enoviaAuthService) {\r\n\t\treturn new EnoviaContextCheckService(enoviaAuthService);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWould be really great if you could help me. \r\n\r\nThanks!","title":"Vaadin 14 &#39;could not navigate to &quot; &#39; after being repacked","body":"<p>i have a problem with my project. Maybe you can help me out a bit. \nI am currently trying to code a little webapp. I use Spring Boot + Vaadin 14 for it. \nWhen i test the application in eclipse, everything works as designed. But after i compile my project with Maven and start it, i am greeted with an error message, that my application can´t find any routes. </p>\n\n<p>This is the error message:</p>\n\n<pre><code>Could not navigate to ''\nReason: Couldn't find route for ''\n\nAvailable routes:\nThis detailed message is only shown when running in development mode.\n</code></pre>\n\n<p>This is my pom:</p>\n\n<pre><code>?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;(REMOVED FOR PRIVACY REASONS)&lt;/groupId&gt;\n    &lt;artifactId&gt;(REMOVED FOR PRIVACY REASONS)&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mobileissuecreator&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;vaadin.version&gt;14.0.9&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>My application starter class:</p>\n\n<pre><code>package com.cen.spin.mobileissuecreator.springcontroller;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.context.annotation.SessionScope;\n\n\nimport com.vaadin.flow.spring.annotation.EnableVaadin;\n\n@Configuration\n@SpringBootApplication\n@EnableVaadin(\"(REMOVED FOR PRIVACY REASONS)\")\npublic class (REMOVED FOR PRIVACY REASONS) extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run((REMOVED FOR PRIVACY REASONS).class, args);\n    }\n\n    @Bean\n    @SessionScope\n    public MICService micService(EnoviaAuthService enoviaAuthService, EnoviaAuthProperties enoviaAuthProperties) {\n        return new MICService(enoviaAuthService, enoviaAuthProperties);\n    }\n\n    @Bean\n    @SessionScope\n    public EnoviaAuthService enoviaAuthService(EnoviaAuthProperties enoviaAuthProperties) throws Exception {\n        return new EnoviaAuthService(enoviaAuthProperties);\n    }\n\n    @Bean\n    @SessionScope\n    public EnoviaAuthProperties enoviaAuthProperties() {\n        return new EnoviaAuthProperties();\n    }\n\n    @Bean\n    @SessionScope\n    public EnoviaRoleSelectorService enoviaRoleSelectorService(EnoviaAuthService enoviaAuthService) {\n        return new EnoviaRoleSelectorService(enoviaAuthService);\n    }\n\n    @Bean\n    @SessionScope\n    public EnoviaContextCheckService enoviaContextCheckService(EnoviaAuthService enoviaAuthService) {\n        return new EnoviaContextCheckService(enoviaAuthService);\n    }\n\n}\n</code></pre>\n\n<p>Would be really great if you could help me. </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","parsing","uri","namevaluecollection"],"comments":[{"owner":{"account_id":2118231,"reputation":35729,"user_id":1882064,"accept_rate":64,"display_name":"arcseldon"},"score":0,"creation_date":1465549205,"post_id":13592236,"comment_id":62958327,"body_markdown":"Please check this solution - solid library and working example for both Parse and Format operations: http://stackoverflow.com/a/37744000/1882064","body":"Please check this solution - solid library and working example for both Parse and Format operations: <a href=\"http://stackoverflow.com/a/37744000/1882064\">stackoverflow.com/a/37744000/1882064</a>"}],"answers":[{"tags":[],"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"down_vote_count":1,"up_vote_count":399,"is_accepted":false,"score":398,"last_activity_date":1650958954,"creation_date":1354047445,"answer_id":13592324,"question_id":13592236,"body_markdown":"# [org.apache.http.client.utils.URLEncodedUtils](https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/net/URLEncodedUtils.html) \r\n\r\nis a well known library that can do it for you\r\n\r\n    import org.apache.hc.client5.http.utils.URLEncodedUtils\r\n\r\n    String url = &quot;http://www.example.com/something.html?one=1&amp;two=2&amp;three=3&amp;three=3a&quot;;\r\n\r\n    List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), Charset.forName(&quot;UTF-8&quot;));\r\n    \r\n    for (NameValuePair param : params) {\r\n      System.out.println(param.getName() + &quot; : &quot; + param.getValue());\r\n    }\r\n\r\nOutputs \r\n\r\n    one : 1\r\n    two : 2\r\n    three : 3\r\n    three : 3a","title":"Parse a URI String into Name-Value Collection","body":"<h1><a href=\"https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/net/URLEncodedUtils.html\" rel=\"noreferrer\">org.apache.http.client.utils.URLEncodedUtils</a></h1>\n<p>is a well known library that can do it for you</p>\n<pre><code>import org.apache.hc.client5.http.utils.URLEncodedUtils\n\nString url = &quot;http://www.example.com/something.html?one=1&amp;two=2&amp;three=3&amp;three=3a&quot;;\n\nList&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), Charset.forName(&quot;UTF-8&quot;));\n\nfor (NameValuePair param : params) {\n  System.out.println(param.getName() + &quot; : &quot; + param.getValue());\n}\n</code></pre>\n<p>Outputs</p>\n<pre><code>one : 1\ntwo : 2\nthree : 3\nthree : 3a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1640474,"reputation":6190,"user_id":1513024,"display_name":"Pr0gr4mm3r"},"down_vote_count":6,"up_vote_count":426,"is_accepted":true,"score":420,"last_activity_date":1650960858,"creation_date":1354048522,"answer_id":13592567,"question_id":13592236,"body_markdown":"If you are looking for a way to achieve it without using an external library, the following code will help you.\r\n\r\n    public static Map&lt;String, String&gt; splitQuery(URL url) throws UnsupportedEncodingException {\r\n        Map&lt;String, String&gt; query_pairs = new LinkedHashMap&lt;String, String&gt;();\r\n        String query = url.getQuery();\r\n        String[] pairs = query.split(&quot;&amp;&quot;);\r\n        for (String pair : pairs) {\r\n            int idx = pair.indexOf(&quot;=&quot;);\r\n            query_pairs.put(URLDecoder.decode(pair.substring(0, idx), &quot;UTF-8&quot;), URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;));\r\n        }\r\n        return query_pairs;\r\n    }\r\n\r\nYou can access the returned Map using `&lt;map&gt;.get(&quot;client_id&quot;)`, with the URL given in your question this would return &quot;SS&quot;.\r\n\r\n**UPDATE**  URL-Decoding added\r\n\r\n**UPDATE** As this answer is still quite popular, I made an improved version of the method above, which handles multiple parameters with the same key and parameters with no value as well.\r\n\r\n    public static Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) throws UnsupportedEncodingException {\r\n      final Map&lt;String, List&lt;String&gt;&gt; query_pairs = new LinkedHashMap&lt;String, List&lt;String&gt;&gt;();\r\n      final String[] pairs = url.getQuery().split(&quot;&amp;&quot;);\r\n      for (String pair : pairs) {\r\n        final int idx = pair.indexOf(&quot;=&quot;);\r\n        final String key = idx &gt; 0 ? URLDecoder.decode(pair.substring(0, idx), &quot;UTF-8&quot;) : pair;\r\n        if (!query_pairs.containsKey(key)) {\r\n          query_pairs.put(key, new LinkedList&lt;String&gt;());\r\n        }\r\n        final String value = idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1 ? URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;) : null;\r\n        query_pairs.get(key).add(value);\r\n      }\r\n      return query_pairs;\r\n    }\r\n\r\n**UPDATE** Java8 version\r\n\r\n    public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\r\n        if (Strings.isNullOrEmpty(url.getQuery())) {\r\n            return Collections.emptyMap();\r\n        }\r\n        return Arrays.stream(url.getQuery().split(&quot;&amp;&quot;))\r\n                .map(this::splitQueryParameter)\r\n                .collect(Collectors.groupingBy(SimpleImmutableEntry::getKey, LinkedHashMap::new, mapping(Map.Entry::getValue, toList())));\r\n    }\r\n\r\n    public SimpleImmutableEntry&lt;String, String&gt; splitQueryParameter(String it) {\r\n        final int idx = it.indexOf(&quot;=&quot;);\r\n        final String key = idx &gt; 0 ? it.substring(0, idx) : it;\r\n        final String value = idx &gt; 0 &amp;&amp; it.length() &gt; idx + 1 ? it.substring(idx + 1) : null;\r\n        return new SimpleImmutableEntry&lt;&gt;(\r\n            URLDecoder.decode(key, StandardCharsets.UTF_8),\r\n            URLDecoder.decode(value, StandardCharsets.UTF_8)\r\n        );\r\n    }\r\n\r\nRunning the above method with the URL \r\n\r\n`https://stackoverflow.com?param1=value1&amp;param2=&amp;param3=value3&amp;param3`\r\n\r\nreturns this Map:\r\n\r\n    {param1=[&quot;value1&quot;], param2=[null], param3=[&quot;value3&quot;, null]}","title":"Parse a URI String into Name-Value Collection","body":"<p>If you are looking for a way to achieve it without using an external library, the following code will help you.</p>\n<pre><code>public static Map&lt;String, String&gt; splitQuery(URL url) throws UnsupportedEncodingException {\n    Map&lt;String, String&gt; query_pairs = new LinkedHashMap&lt;String, String&gt;();\n    String query = url.getQuery();\n    String[] pairs = query.split(&quot;&amp;&quot;);\n    for (String pair : pairs) {\n        int idx = pair.indexOf(&quot;=&quot;);\n        query_pairs.put(URLDecoder.decode(pair.substring(0, idx), &quot;UTF-8&quot;), URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;));\n    }\n    return query_pairs;\n}\n</code></pre>\n<p>You can access the returned Map using <code>&lt;map&gt;.get(&quot;client_id&quot;)</code>, with the URL given in your question this would return &quot;SS&quot;.</p>\n<p><strong>UPDATE</strong>  URL-Decoding added</p>\n<p><strong>UPDATE</strong> As this answer is still quite popular, I made an improved version of the method above, which handles multiple parameters with the same key and parameters with no value as well.</p>\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) throws UnsupportedEncodingException {\n  final Map&lt;String, List&lt;String&gt;&gt; query_pairs = new LinkedHashMap&lt;String, List&lt;String&gt;&gt;();\n  final String[] pairs = url.getQuery().split(&quot;&amp;&quot;);\n  for (String pair : pairs) {\n    final int idx = pair.indexOf(&quot;=&quot;);\n    final String key = idx &gt; 0 ? URLDecoder.decode(pair.substring(0, idx), &quot;UTF-8&quot;) : pair;\n    if (!query_pairs.containsKey(key)) {\n      query_pairs.put(key, new LinkedList&lt;String&gt;());\n    }\n    final String value = idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1 ? URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;) : null;\n    query_pairs.get(key).add(value);\n  }\n  return query_pairs;\n}\n</code></pre>\n<p><strong>UPDATE</strong> Java8 version</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\n    if (Strings.isNullOrEmpty(url.getQuery())) {\n        return Collections.emptyMap();\n    }\n    return Arrays.stream(url.getQuery().split(&quot;&amp;&quot;))\n            .map(this::splitQueryParameter)\n            .collect(Collectors.groupingBy(SimpleImmutableEntry::getKey, LinkedHashMap::new, mapping(Map.Entry::getValue, toList())));\n}\n\npublic SimpleImmutableEntry&lt;String, String&gt; splitQueryParameter(String it) {\n    final int idx = it.indexOf(&quot;=&quot;);\n    final String key = idx &gt; 0 ? it.substring(0, idx) : it;\n    final String value = idx &gt; 0 &amp;&amp; it.length() &gt; idx + 1 ? it.substring(idx + 1) : null;\n    return new SimpleImmutableEntry&lt;&gt;(\n        URLDecoder.decode(key, StandardCharsets.UTF_8),\n        URLDecoder.decode(value, StandardCharsets.UTF_8)\n    );\n}\n</code></pre>\n<p>Running the above method with the URL</p>\n<p><code>https://stackoverflow.com?param1=value1&amp;param2=&amp;param3=value3&amp;param3</code></p>\n<p>returns this Map:</p>\n<pre><code>{param1=[&quot;value1&quot;], param2=[null], param3=[&quot;value3&quot;, null]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93640,"reputation":1111,"user_id":256075,"display_name":"Amin Abbaspour"},"down_vote_count":7,"up_vote_count":66,"is_accepted":false,"score":59,"last_activity_date":1560518968,"creation_date":1400566929,"answer_id":23752349,"question_id":13592236,"body_markdown":"use google Guava and do it in 2 lines:\r\n\r\n    import java.util.Map;\r\n    import com.google.common.base.Splitter;\r\n    \r\n    public class Parser {\r\n        public static void main(String... args) {\r\n            String uri = &quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\r\n            String query = uri.split(&quot;\\\\?&quot;)[1];\r\n            final Map&lt;String, String&gt; map = Splitter.on(&#39;&amp;&#39;).trimResults().withKeyValueSeparator(&#39;=&#39;).split(query);\r\n            System.out.println(map);\r\n        }\r\n    }\r\n\r\nwhich gives you\r\n\r\n    {client_id=SS, response_type=code, scope=N_FULL, access_type=offline, redirect_uri=http://localhost/Callback}\r\n\r\n\r\n\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>use google Guava and do it in 2 lines:</p>\n\n<pre><code>import java.util.Map;\nimport com.google.common.base.Splitter;\n\npublic class Parser {\n    public static void main(String... args) {\n        String uri = \"https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\";\n        String query = uri.split(\"\\\\?\")[1];\n        final Map&lt;String, String&gt; map = Splitter.on('&amp;').trimResults().withKeyValueSeparator('=').split(query);\n        System.out.println(map);\n    }\n}\n</code></pre>\n\n<p>which gives you</p>\n\n<pre><code>{client_id=SS, response_type=code, scope=N_FULL, access_type=offline, redirect_uri=http://localhost/Callback}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122248,"reputation":2327,"user_id":315943,"display_name":"Fuwjax"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1431728348,"creation_date":1431728348,"answer_id":30269582,"question_id":13592236,"body_markdown":"If you&#39;re using Java 8 and you&#39;re willing to write a few reusable methods, you can do it in one line.\r\n\r\n    private Map&lt;String, List&lt;String&gt;&gt; parse(final String query) {\r\n\t\treturn Arrays.asList(query.split(&quot;&amp;&quot;)).stream().map(p -&gt; p.split(&quot;=&quot;)).collect(Collectors.toMap(s -&gt; decode(index(s, 0)), s -&gt; Arrays.asList(decode(index(s, 1))), this::mergeLists));\r\n\t}\r\n\r\n\tprivate &lt;T&gt; List&lt;T&gt; mergeLists(final List&lt;T&gt; l1, final List&lt;T&gt; l2) {\r\n\t\tList&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\t\tlist.addAll(l1);\r\n\t\tlist.addAll(l2);\r\n\t\treturn list;\r\n\t}\r\n\r\n\tprivate static &lt;T&gt; T index(final T[] array, final int index) {\r\n\t\treturn index &gt;= array.length ? null : array[index];\r\n\t}\r\n\r\n\tprivate static String decode(final String encoded) {\r\n\t\ttry {\r\n\t\t\treturn encoded == null ? null : URLDecoder.decode(encoded, &quot;UTF-8&quot;);\r\n\t\t} catch(final UnsupportedEncodingException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Impossible: UTF-8 is a required encoding&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\nBut that&#39;s a pretty brutal line.","title":"Parse a URI String into Name-Value Collection","body":"<p>If you're using Java 8 and you're willing to write a few reusable methods, you can do it in one line.</p>\n\n<pre><code>private Map&lt;String, List&lt;String&gt;&gt; parse(final String query) {\n    return Arrays.asList(query.split(\"&amp;\")).stream().map(p -&gt; p.split(\"=\")).collect(Collectors.toMap(s -&gt; decode(index(s, 0)), s -&gt; Arrays.asList(decode(index(s, 1))), this::mergeLists));\n}\n\nprivate &lt;T&gt; List&lt;T&gt; mergeLists(final List&lt;T&gt; l1, final List&lt;T&gt; l2) {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    list.addAll(l1);\n    list.addAll(l2);\n    return list;\n}\n\nprivate static &lt;T&gt; T index(final T[] array, final int index) {\n    return index &gt;= array.length ? null : array[index];\n}\n\nprivate static String decode(final String encoded) {\n    try {\n        return encoded == null ? null : URLDecoder.decode(encoded, \"UTF-8\");\n    } catch(final UnsupportedEncodingException e) {\n        throw new RuntimeException(\"Impossible: UTF-8 is a required encoding\", e);\n    }\n}\n</code></pre>\n\n<p>But that's a pretty brutal line.</p>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1609716958,"creation_date":1463870105,"answer_id":37368660,"question_id":13592236,"body_markdown":"# PLAIN Java 11\r\n\r\nGiven the URL to analyse:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    URL url = new URL(&quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;);\r\n\r\nThis solution collects a list of pairs:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    List&lt;Map.Entry&lt;String, String&gt;&gt; list = Pattern.compile(&quot;&amp;&quot;)\r\n       .splitAsStream(url.getQuery())\r\n       .map(s -&gt; Arrays.copyOf(s.split(&quot;=&quot;, 2), 2))\r\n       .map(o -&gt; Map.entry(decode(o[0]), decode(o[1])))\r\n       .collect(Collectors.toList());\r\n\r\nThis solution on the other hand collects a map (given that in a url there can be more parameters with same name but different values).\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; list = Pattern.compile(&quot;&amp;&quot;)\r\n       .splitAsStream(url.getQuery())\r\n       .map(s -&gt; Arrays.copyOf(s.split(&quot;=&quot;, 2), 2))\r\n       .collect(groupingBy(s -&gt; decode(s[0]), mapping(s -&gt; decode(s[1]), toList())));\r\n\r\nBoth the solutions must use an utility function to properly decode the parameters.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static String decode(final String encoded) {\r\n        return Optional.ofNullable(encoded)\r\n                       .map(e -&gt; URLDecoder.decode(e, StandardCharsets.UTF_8))\r\n                       .orElse(null);\r\n    }\r\n\r\n\r\n\r\n","title":"Parse a URI String into Name-Value Collection","body":"<h1>PLAIN Java 11</h1>\n<p>Given the URL to analyse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;);\n</code></pre>\n<p>This solution collects a list of pairs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map.Entry&lt;String, String&gt;&gt; list = Pattern.compile(&quot;&amp;&quot;)\n   .splitAsStream(url.getQuery())\n   .map(s -&gt; Arrays.copyOf(s.split(&quot;=&quot;, 2), 2))\n   .map(o -&gt; Map.entry(decode(o[0]), decode(o[1])))\n   .collect(Collectors.toList());\n</code></pre>\n<p>This solution on the other hand collects a map (given that in a url there can be more parameters with same name but different values).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; list = Pattern.compile(&quot;&amp;&quot;)\n   .splitAsStream(url.getQuery())\n   .map(s -&gt; Arrays.copyOf(s.split(&quot;=&quot;, 2), 2))\n   .collect(groupingBy(s -&gt; decode(s[0]), mapping(s -&gt; decode(s[1]), toList())));\n</code></pre>\n<p>Both the solutions must use an utility function to properly decode the parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String decode(final String encoded) {\n    return Optional.ofNullable(encoded)\n                   .map(e -&gt; URLDecoder.decode(e, StandardCharsets.UTF_8))\n                   .orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2141360,"reputation":539,"user_id":1899903,"display_name":"SUMIT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464894606,"creation_date":1464894112,"answer_id":37600116,"question_id":13592236,"body_markdown":"Using above mentioned comments and solutions, I am storing all the query parameters using Map&amp;lt;String, Object&amp;gt; where Objects either can be string or Set&amp;lt;String&amp;gt;. The solution is given below. It is recommended to use some kind of url validator to validate the url first and then call convertQueryStringToMap method. \r\n\r\n    private static final String DEFAULT_ENCODING_SCHEME = &quot;UTF-8&quot;;\r\n\r\n    public static Map&lt;String, Object&gt; convertQueryStringToMap(String url) throws UnsupportedEncodingException, URISyntaxException {\r\n        List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), DEFAULT_ENCODING_SCHEME);\r\n        Map&lt;String, Object&gt; queryStringMap = new HashMap&lt;&gt;();\r\n        for(NameValuePair param : params){\r\n            queryStringMap.put(param.getName(), handleMultiValuedQueryParam(queryStringMap, param.getName(), param.getValue()));\r\n        }\r\n        return queryStringMap;\r\n    }\r\n\r\n    private static Object handleMultiValuedQueryParam(Map responseMap, String key, String value) {\r\n        if (!responseMap.containsKey(key)) {\r\n            return value.contains(&quot;,&quot;) ? new HashSet&lt;String&gt;(Arrays.asList(value.split(&quot;,&quot;))) : value;\r\n        } else {\r\n            Set&lt;String&gt; queryValueSet = responseMap.get(key) instanceof Set ? (Set&lt;String&gt;) responseMap.get(key) : new HashSet&lt;String&gt;();\r\n            if (value.contains(&quot;,&quot;)) {\r\n                queryValueSet.addAll(Arrays.asList(value.split(&quot;,&quot;)));\r\n            } else {\r\n                queryValueSet.add(value);\r\n            }\r\n            return queryValueSet;\r\n        }\r\n    }\r\n ","title":"Parse a URI String into Name-Value Collection","body":"<p>Using above mentioned comments and solutions, I am storing all the query parameters using Map&lt;String, Object&gt; where Objects either can be string or Set&lt;String&gt;. The solution is given below. It is recommended to use some kind of url validator to validate the url first and then call convertQueryStringToMap method. </p>\n\n<pre><code>private static final String DEFAULT_ENCODING_SCHEME = \"UTF-8\";\n\npublic static Map&lt;String, Object&gt; convertQueryStringToMap(String url) throws UnsupportedEncodingException, URISyntaxException {\n    List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), DEFAULT_ENCODING_SCHEME);\n    Map&lt;String, Object&gt; queryStringMap = new HashMap&lt;&gt;();\n    for(NameValuePair param : params){\n        queryStringMap.put(param.getName(), handleMultiValuedQueryParam(queryStringMap, param.getName(), param.getValue()));\n    }\n    return queryStringMap;\n}\n\nprivate static Object handleMultiValuedQueryParam(Map responseMap, String key, String value) {\n    if (!responseMap.containsKey(key)) {\n        return value.contains(\",\") ? new HashSet&lt;String&gt;(Arrays.asList(value.split(\",\"))) : value;\n    } else {\n        Set&lt;String&gt; queryValueSet = responseMap.get(key) instanceof Set ? (Set&lt;String&gt;) responseMap.get(key) : new HashSet&lt;String&gt;();\n        if (value.contains(\",\")) {\n            queryValueSet.addAll(Arrays.asList(value.split(\",\")));\n        } else {\n            queryValueSet.add(value);\n        }\n        return queryValueSet;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6886654,"reputation":2078,"user_id":5291494,"display_name":"xxg"},"down_vote_count":0,"up_vote_count":162,"is_accepted":false,"score":162,"last_activity_date":1551778316,"creation_date":1473164339,"answer_id":39348897,"question_id":13592236,"body_markdown":"If you are using Spring Framework:\r\n\r\n    public static void main(String[] args) {\r\n        String uri = &quot;http://my.test.com/test?param1=ab&amp;param2=cd&amp;param2=ef&quot;;\r\n        MultiValueMap&lt;String, String&gt; parameters =\r\n                UriComponentsBuilder.fromUriString(uri).build().getQueryParams();\r\n        List&lt;String&gt; param1 = parameters.get(&quot;param1&quot;);\r\n        List&lt;String&gt; param2 = parameters.get(&quot;param2&quot;);\r\n        System.out.println(&quot;param1: &quot; + param1.get(0));\r\n        System.out.println(&quot;param2: &quot; + param2.get(0) + &quot;,&quot; + param2.get(1));\r\n    }\r\nYou will get:\r\n\r\n    param1: ab\r\n    param2: cd,ef\r\n\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>If you are using Spring Framework:</p>\n\n<pre><code>public static void main(String[] args) {\n    String uri = \"http://my.test.com/test?param1=ab&amp;param2=cd&amp;param2=ef\";\n    MultiValueMap&lt;String, String&gt; parameters =\n            UriComponentsBuilder.fromUriString(uri).build().getQueryParams();\n    List&lt;String&gt; param1 = parameters.get(\"param1\");\n    List&lt;String&gt; param2 = parameters.get(\"param2\");\n    System.out.println(\"param1: \" + param1.get(0));\n    System.out.println(\"param2: \" + param2.get(0) + \",\" + param2.get(1));\n}\n</code></pre>\n\n<p>You will get:</p>\n\n<pre><code>param1: ab\nparam2: cd,ef\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6728426,"reputation":5601,"user_id":5185646,"accept_rate":72,"display_name":"Dmitry Senkovich"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1509970188,"creation_date":1509033024,"answer_id":46958658,"question_id":13592236,"body_markdown":"The shortest way I&#39;ve found is this one:\r\n\r\n    MultiValueMap&lt;String, String&gt; queryParams =\r\n                UriComponentsBuilder.fromUriString(url).build().getQueryParams();\r\n\r\n**UPDATE:** `UriComponentsBuilder` comes from Spring. Here [the link](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html).","title":"Parse a URI String into Name-Value Collection","body":"<p>The shortest way I've found is this one:</p>\n\n<pre><code>MultiValueMap&lt;String, String&gt; queryParams =\n            UriComponentsBuilder.fromUriString(url).build().getQueryParams();\n</code></pre>\n\n<p><strong>UPDATE:</strong> <code>UriComponentsBuilder</code> comes from Spring. Here <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html\" rel=\"noreferrer\">the link</a>.</p>\n"},{"tags":[],"owner":{"account_id":3801282,"reputation":4355,"user_id":3154872,"accept_rate":25,"display_name":"mancini0"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516331616,"creation_date":1516331616,"answer_id":48333588,"question_id":13592236,"body_markdown":"If you are using Spring, add an argument of type `@RequestParam Map&lt;String,String&gt;`  to your controller method, and Spring will construct the map for you!\r\n\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>If you are using Spring, add an argument of type <code>@RequestParam Map&lt;String,String&gt;</code>  to your controller method, and Spring will construct the map for you!</p>\n"},{"tags":[],"owner":{"account_id":9961217,"reputation":497,"user_id":7370494,"display_name":"Ansar Ozden"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1527775849,"creation_date":1516912973,"answer_id":48451566,"question_id":13592236,"body_markdown":"If you are using servlet doGet try this\r\n\r\n    request.getParameterMap()\r\n\r\n&gt;_Returns a java.util.Map of the parameters of this request._\r\n\r\n&gt;_Returns:\r\nan immutable java.util.Map containing parameter names as keys and parameter values as map values. The keys in the parameter map are of type String. The values in the parameter map are of type String array._\r\n\r\n&gt;([Java doc](https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameterMap()))","title":"Parse a URI String into Name-Value Collection","body":"<p>If you are using servlet doGet try this</p>\n\n<pre><code>request.getParameterMap()\n</code></pre>\n\n<blockquote>\n  <p><em>Returns a java.util.Map of the parameters of this request.</em></p>\n  \n  <p><em>Returns:\n  an immutable java.util.Map containing parameter names as keys and parameter values as map values. The keys in the parameter map are of type String. The values in the parameter map are of type String array.</em></p>\n  \n  <p>(<a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameterMap()\" rel=\"noreferrer\">Java doc</a>)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2094393,"reputation":1989,"user_id":1863510,"display_name":"THANN Phearum"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1517637688,"creation_date":1517637688,"answer_id":48594445,"question_id":13592236,"body_markdown":"For Android, if you are using [OkHttp][1] in your project. You might get a look at this. It simple and helpful. \r\n\r\n    final HttpUrl url = HttpUrl.parse(query);\r\n    if (url != null) {\r\n        final String target = url.queryParameter(&quot;target&quot;);\r\n        final String id = url.queryParameter(&quot;id&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/square/okhttp","title":"Parse a URI String into Name-Value Collection","body":"<p>For Android, if you are using <a href=\"https://github.com/square/okhttp\" rel=\"noreferrer\">OkHttp</a> in your project. You might get a look at this. It simple and helpful. </p>\n\n<pre><code>final HttpUrl url = HttpUrl.parse(query);\nif (url != null) {\n    final String target = url.queryParameter(\"target\");\n    final String id = url.queryParameter(\"id\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1528394660,"creation_date":1528394660,"answer_id":50747564,"question_id":13592236,"body_markdown":"Just an update to the Java 8 version\r\n\r\n    public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\r\n        if (Strings.isNullOrEmpty(url.getQuery())) {\r\n            return Collections.emptyMap();\r\n        }\r\n        return Arrays.stream(url.getQuery().split(&quot;&amp;&quot;))\r\n                .map(this::splitQueryParameter)\r\n                .collect(Collectors.groupingBy(SimpleImmutableEntry::getKey, LinkedHashMap::new, **Collectors**.mapping(Map.Entry::getValue, **Collectors**.toList())));\r\n    }\r\n\r\nmapping and toList() methods have to be used with Collectors which was not mentioned in the top answer. Otherwise it would throw compilation error in IDE","title":"Parse a URI String into Name-Value Collection","body":"<p>Just an update to the Java 8 version</p>\n\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\n    if (Strings.isNullOrEmpty(url.getQuery())) {\n        return Collections.emptyMap();\n    }\n    return Arrays.stream(url.getQuery().split(\"&amp;\"))\n            .map(this::splitQueryParameter)\n            .collect(Collectors.groupingBy(SimpleImmutableEntry::getKey, LinkedHashMap::new, **Collectors**.mapping(Map.Entry::getValue, **Collectors**.toList())));\n}\n</code></pre>\n\n<p>mapping and toList() methods have to be used with Collectors which was not mentioned in the top answer. Otherwise it would throw compilation error in IDE</p>\n"},{"tags":[],"owner":{"account_id":327539,"reputation":25667,"user_id":649979,"accept_rate":76,"display_name":"Graham Smith"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529932999,"creation_date":1529932999,"answer_id":51024552,"question_id":13592236,"body_markdown":"I had a go at a Kotlin version seeing how this is the top result in Google.\r\n\r\n    @Throws(UnsupportedEncodingException::class)\r\n    fun splitQuery(url: URL): Map&lt;String, List&lt;String&gt;&gt; {\r\n\r\n        val queryPairs = LinkedHashMap&lt;String, ArrayList&lt;String&gt;&gt;()\r\n\r\n        url.query.split(&quot;&amp;&quot;.toRegex())\r\n                .dropLastWhile { it.isEmpty() }\r\n                .map { it.split(&#39;=&#39;) }\r\n                .map { it.getOrEmpty(0).decodeToUTF8() to it.getOrEmpty(1).decodeToUTF8() }\r\n                .forEach { (key, value) -&gt;\r\n\r\n                    if (!queryPairs.containsKey(key)) {\r\n                        queryPairs[key] = arrayListOf(value)\r\n                    } else {\r\n\r\n                        if(!queryPairs[key]!!.contains(value)) {\r\n                            queryPairs[key]!!.add(value)\r\n                        }\r\n                    }\r\n                }\r\n\r\n        return queryPairs\r\n    }\r\n\r\nAnd the extension methods\r\n\r\n    fun List&lt;String&gt;.getOrEmpty(index: Int) : String {\r\n        return getOrElse(index) {&quot;&quot;}\r\n    }\r\n\r\n    fun String.decodeToUTF8(): String { \r\n        URLDecoder.decode(this, &quot;UTF-8&quot;)\r\n    }","title":"Parse a URI String into Name-Value Collection","body":"<p>I had a go at a Kotlin version seeing how this is the top result in Google.</p>\n\n<pre><code>@Throws(UnsupportedEncodingException::class)\nfun splitQuery(url: URL): Map&lt;String, List&lt;String&gt;&gt; {\n\n    val queryPairs = LinkedHashMap&lt;String, ArrayList&lt;String&gt;&gt;()\n\n    url.query.split(\"&amp;\".toRegex())\n            .dropLastWhile { it.isEmpty() }\n            .map { it.split('=') }\n            .map { it.getOrEmpty(0).decodeToUTF8() to it.getOrEmpty(1).decodeToUTF8() }\n            .forEach { (key, value) -&gt;\n\n                if (!queryPairs.containsKey(key)) {\n                    queryPairs[key] = arrayListOf(value)\n                } else {\n\n                    if(!queryPairs[key]!!.contains(value)) {\n                        queryPairs[key]!!.add(value)\n                    }\n                }\n            }\n\n    return queryPairs\n}\n</code></pre>\n\n<p>And the extension methods</p>\n\n<pre><code>fun List&lt;String&gt;.getOrEmpty(index: Int) : String {\n    return getOrElse(index) {\"\"}\n}\n\nfun String.decodeToUTF8(): String { \n    URLDecoder.decode(this, \"UTF-8\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4467983,"reputation":4243,"user_id":3634990,"accept_rate":54,"display_name":"jungledev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542388228,"creation_date":1542388228,"answer_id":53342473,"question_id":13592236,"body_markdown":"Answering here because this is a popular thread.  This is a clean solution in Kotlin that uses the recommended `UrlQuerySanitizer` api. [See the official documentation][1].  I have added a string builder to concatenate and display the params. \r\n\r\n        var myURL: String? = null\r\n\r\n        if (intent.hasExtra(&quot;my_value&quot;)) {\r\n            myURL = intent.extras.getString(&quot;my_value&quot;)\r\n        } else {\r\n            myURL = intent.dataString\r\n        }\r\n\r\n        val sanitizer = UrlQuerySanitizer(myURL)\r\n        // We don&#39;t want to manually define every expected query *key*, so we set this to true\r\n        sanitizer.allowUnregisteredParamaters = true\r\n        val parameterNamesToValues: List&lt;UrlQuerySanitizer.ParameterValuePair&gt; = sanitizer.parameterList\r\n        val parameterIterator: Iterator&lt;UrlQuerySanitizer.ParameterValuePair&gt; = parameterNamesToValues.iterator()\r\n\r\n        // Helper simply so we can display all values on screen\r\n        val stringBuilder = StringBuilder()\r\n\r\n        while (parameterIterator.hasNext()) {\r\n            val parameterValuePair: UrlQuerySanitizer.ParameterValuePair = parameterIterator.next()\r\n            val parameterName: String = parameterValuePair.mParameter\r\n            val parameterValue: String = parameterValuePair.mValue\r\n\r\n            // Append string to display all key value pairs\r\n            stringBuilder.append(&quot;Key: $parameterName\\nValue: $parameterValue\\n\\n&quot;)\r\n        }\r\n\r\n        // Set a textView&#39;s text to display the string\r\n        val paramListString = stringBuilder.toString()\r\n        val textView: TextView = findViewById(R.id.activity_title) as TextView\r\n        textView.text = &quot;Paramlist is \\n\\n$paramListString&quot;\r\n        \r\n        // to check if the url has specific keys\r\n        if (sanitizer.hasParameter(&quot;type&quot;)) {\r\n            val type = sanitizer.getValue(&quot;type&quot;)\r\n            println(&quot;sanitizer has type param $type&quot;)\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/UrlQuerySanitizer","title":"Parse a URI String into Name-Value Collection","body":"<p>Answering here because this is a popular thread.  This is a clean solution in Kotlin that uses the recommended <code>UrlQuerySanitizer</code> api. <a href=\"https://developer.android.com/reference/android/net/UrlQuerySanitizer\" rel=\"nofollow noreferrer\">See the official documentation</a>.  I have added a string builder to concatenate and display the params. </p>\n\n<pre><code>    var myURL: String? = null\n\n    if (intent.hasExtra(\"my_value\")) {\n        myURL = intent.extras.getString(\"my_value\")\n    } else {\n        myURL = intent.dataString\n    }\n\n    val sanitizer = UrlQuerySanitizer(myURL)\n    // We don't want to manually define every expected query *key*, so we set this to true\n    sanitizer.allowUnregisteredParamaters = true\n    val parameterNamesToValues: List&lt;UrlQuerySanitizer.ParameterValuePair&gt; = sanitizer.parameterList\n    val parameterIterator: Iterator&lt;UrlQuerySanitizer.ParameterValuePair&gt; = parameterNamesToValues.iterator()\n\n    // Helper simply so we can display all values on screen\n    val stringBuilder = StringBuilder()\n\n    while (parameterIterator.hasNext()) {\n        val parameterValuePair: UrlQuerySanitizer.ParameterValuePair = parameterIterator.next()\n        val parameterName: String = parameterValuePair.mParameter\n        val parameterValue: String = parameterValuePair.mValue\n\n        // Append string to display all key value pairs\n        stringBuilder.append(\"Key: $parameterName\\nValue: $parameterValue\\n\\n\")\n    }\n\n    // Set a textView's text to display the string\n    val paramListString = stringBuilder.toString()\n    val textView: TextView = findViewById(R.id.activity_title) as TextView\n    textView.text = \"Paramlist is \\n\\n$paramListString\"\n\n    // to check if the url has specific keys\n    if (sanitizer.hasParameter(\"type\")) {\n        val type = sanitizer.getValue(\"type\")\n        println(\"sanitizer has type param $type\")\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1618438444,"creation_date":1556786823,"answer_id":55948744,"question_id":13592236,"body_markdown":"On Android, there is a Uri class in package ***android.net*** . Note that **Uri** is part of **android.net**, whereas **URI** is part of **java.net** .\r\n\r\nUri class has many functions to extract key-value pairs from a query.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rmjey.png\r\n\r\nFollowing function returns key-value pairs in the form of HashMap.\r\n\r\nIn Java:\r\n\r\n    Map&lt;String, String&gt; getQueryKeyValueMap(Uri uri){\r\n        HashMap&lt;String, String&gt; keyValueMap = new HashMap();\r\n        String key;\r\n        String value;\r\n\r\n        Set&lt;String&gt; keyNamesList = uri.getQueryParameterNames();\r\n        Iterator iterator = keyNamesList.iterator();\r\n\r\n        while (iterator.hasNext()){\r\n            key = (String) iterator.next();\r\n            value = uri.getQueryParameter(key);\r\n            keyValueMap.put(key, value);\r\n        }\r\n        return keyValueMap;\r\n    }\r\n\r\n\r\nIn Kotlin:\r\n\r\n    fun getQueryKeyValueMap(uri: Uri): HashMap&lt;String, String&gt; {\r\n            val keyValueMap = HashMap&lt;String, String&gt;()\r\n            var key: String\r\n            var value: String\r\n\r\n            val keyNamesList = uri.queryParameterNames\r\n            val iterator = keyNamesList.iterator()\r\n\r\n            while (iterator.hasNext()) {\r\n                key = iterator.next() as String\r\n                value = uri.getQueryParameter(key) as String\r\n                keyValueMap.put(key, value)\r\n            }\r\n            return keyValueMap\r\n        }","title":"Parse a URI String into Name-Value Collection","body":"<p>On Android, there is a Uri class in package <em><strong>android.net</strong></em> . Note that <strong>Uri</strong> is part of <strong>android.net</strong>, whereas <strong>URI</strong> is part of <strong>java.net</strong> .</p>\n<p>Uri class has many functions to extract key-value pairs from a query.\n<a href=\"https://i.stack.imgur.com/Rmjey.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Rmjey.png\" alt=\"enter image description here\" /></a></p>\n<p>Following function returns key-value pairs in the form of HashMap.</p>\n<p>In Java:</p>\n<pre><code>Map&lt;String, String&gt; getQueryKeyValueMap(Uri uri){\n    HashMap&lt;String, String&gt; keyValueMap = new HashMap();\n    String key;\n    String value;\n\n    Set&lt;String&gt; keyNamesList = uri.getQueryParameterNames();\n    Iterator iterator = keyNamesList.iterator();\n\n    while (iterator.hasNext()){\n        key = (String) iterator.next();\n        value = uri.getQueryParameter(key);\n        keyValueMap.put(key, value);\n    }\n    return keyValueMap;\n}\n</code></pre>\n<p>In Kotlin:</p>\n<pre><code>fun getQueryKeyValueMap(uri: Uri): HashMap&lt;String, String&gt; {\n        val keyValueMap = HashMap&lt;String, String&gt;()\n        var key: String\n        var value: String\n\n        val keyNamesList = uri.queryParameterNames\n        val iterator = keyNamesList.iterator()\n\n        while (iterator.hasNext()) {\n            key = iterator.next() as String\n            value = uri.getQueryParameter(key) as String\n            keyValueMap.put(key, value)\n        }\n        return keyValueMap\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556866248,"creation_date":1556798524,"answer_id":55952028,"question_id":13592236,"body_markdown":"Kotlin&#39;s Answer with initial reference from https://stackoverflow.com/a/51024552/3286489, but with improved version by tidying up codes and provides 2 versions of it, and use immutable collection operations\r\n\r\nUse `java.net.URI` to extract the Query. Then use the below provided extension functions\r\n\r\n1. Assuming you only want the last value of query i.e. `page2&amp;page3` will get `{page=3}`, use the below extension function\r\n\r\n```\r\n    fun URI.getQueryMap(): Map&lt;String, String&gt; {\r\n        if (query == null) return emptyMap()\r\n\r\n        return query.split(&quot;&amp;&quot;)\r\n                .mapNotNull { element -&gt; element.split(&quot;=&quot;)\r\n                        .takeIf { it.size == 2 &amp;&amp; it.none { it.isBlank() } } }\r\n                .associateBy({ it[0].decodeUTF8() }, { it[1].decodeUTF8() })\r\n    }\r\n\r\n    private fun String.decodeUTF8() = URLDecoder.decode(this, &quot;UTF-8&quot;) // decode page=%22ABC%22 to page=&quot;ABC&quot;\r\n```\r\n\r\n\r\n\r\n2. Assuming you want a list of all value for the query i.e. `page2&amp;page3` will get `{page=[2, 3]}`\r\n\r\n```\r\n    fun URI.getQueryMapList(): Map&lt;String, List&lt;String&gt;&gt; {\r\n        if (query == null) return emptyMap()\r\n\r\n        return query.split(&quot;&amp;&quot;)\r\n                .distinct()\r\n                .mapNotNull { element -&gt; element.split(&quot;=&quot;)\r\n                        .takeIf { it.size == 2 &amp;&amp; it.none { it.isBlank() } } }\r\n                .groupBy({ it[0].decodeUTF8() }, { it[1].decodeUTF8() })\r\n    }\r\n\r\n    private fun String.decodeUTF8() = URLDecoder.decode(this, &quot;UTF-8&quot;) // decode page=%22ABC%22 to page=&quot;ABC&quot;\r\n```\r\n\r\nThe way to use it as below\r\n\r\n        val uri = URI(&quot;schema://host/path/?page=&amp;page=2&amp;page=2&amp;page=3&quot;)\r\n        println(uri.getQueryMapList()) // Result is {page=[2, 3]}\r\n        println(uri.getQueryMap()) // Result is {page=3}","title":"Parse a URI String into Name-Value Collection","body":"<p>Kotlin's Answer with initial reference from <a href=\"https://stackoverflow.com/a/51024552/3286489\">https://stackoverflow.com/a/51024552/3286489</a>, but with improved version by tidying up codes and provides 2 versions of it, and use immutable collection operations</p>\n\n<p>Use <code>java.net.URI</code> to extract the Query. Then use the below provided extension functions</p>\n\n<ol>\n<li>Assuming you only want the last value of query i.e. <code>page2&amp;page3</code> will get <code>{page=3}</code>, use the below extension function</li>\n</ol>\n\n<pre><code>    fun URI.getQueryMap(): Map&lt;String, String&gt; {\n        if (query == null) return emptyMap()\n\n        return query.split(\"&amp;\")\n                .mapNotNull { element -&gt; element.split(\"=\")\n                        .takeIf { it.size == 2 &amp;&amp; it.none { it.isBlank() } } }\n                .associateBy({ it[0].decodeUTF8() }, { it[1].decodeUTF8() })\n    }\n\n    private fun String.decodeUTF8() = URLDecoder.decode(this, \"UTF-8\") // decode page=%22ABC%22 to page=\"ABC\"\n</code></pre>\n\n<ol start=\"2\">\n<li>Assuming you want a list of all value for the query i.e. <code>page2&amp;page3</code> will get <code>{page=[2, 3]}</code></li>\n</ol>\n\n<pre><code>    fun URI.getQueryMapList(): Map&lt;String, List&lt;String&gt;&gt; {\n        if (query == null) return emptyMap()\n\n        return query.split(\"&amp;\")\n                .distinct()\n                .mapNotNull { element -&gt; element.split(\"=\")\n                        .takeIf { it.size == 2 &amp;&amp; it.none { it.isBlank() } } }\n                .groupBy({ it[0].decodeUTF8() }, { it[1].decodeUTF8() })\n    }\n\n    private fun String.decodeUTF8() = URLDecoder.decode(this, \"UTF-8\") // decode page=%22ABC%22 to page=\"ABC\"\n</code></pre>\n\n<p>The way to use it as below</p>\n\n<pre><code>    val uri = URI(\"schema://host/path/?page=&amp;page=2&amp;page=2&amp;page=3\")\n    println(uri.getQueryMapList()) // Result is {page=[2, 3]}\n    println(uri.getQueryMap()) // Result is {page=3}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1557936194,"creation_date":1557934690,"answer_id":56153095,"question_id":13592236,"body_markdown":"[Netty][1] also provides a nice query string parser called `QueryStringDecoder`.\r\nIn one line of code, it can parse the URL in the question.\r\nI like because it doesn&#39;t require catching or throwing `java.net.MalformedURLException`.\r\n\r\nIn one line:\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; parameters = new QueryStringDecoder(url).parameters();\r\n```\r\n\r\nSee javadocs here: https://netty.io/4.1/api/io/netty/handler/codec/http/QueryStringDecoder.html\r\n\r\nHere is a short, self contained, correct example:\r\n\r\n```\r\nimport io.netty.handler.codec.http.QueryStringDecoder;\r\nimport org.apache.commons.lang3.StringUtils;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class UrlParse {\r\n\r\n  public static void main(String... args) {\r\n    String url = &quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\r\n    QueryStringDecoder decoder = new QueryStringDecoder(url);\r\n    Map&lt;String, List&lt;String&gt;&gt; parameters = decoder.parameters();\r\n    print(parameters);\r\n  }\r\n\r\n  private static void print(final Map&lt;String, List&lt;String&gt;&gt; parameters) {\r\n    System.out.println(&quot;NAME               VALUE&quot;);\r\n    System.out.println(&quot;------------------------&quot;);\r\n    parameters.forEach((key, values) -&gt;\r\n        values.forEach(val -&gt;\r\n            System.out.println(StringUtils.rightPad(key, 19) + val)));\r\n  }\r\n}\r\n```\r\n\r\nwhich generates\r\n\r\n```\r\nNAME               VALUE\r\n------------------------\r\nclient_id          SS\r\nresponse_type      code\r\nscope              N_FULL\r\naccess_type        offline\r\nredirect_uri       http://localhost/Callback\r\n```\r\n\r\n\r\n  [1]: https://netty.io/","title":"Parse a URI String into Name-Value Collection","body":"<p><a href=\"https://netty.io/\" rel=\"noreferrer\">Netty</a> also provides a nice query string parser called <code>QueryStringDecoder</code>.\nIn one line of code, it can parse the URL in the question.\nI like because it doesn't require catching or throwing <code>java.net.MalformedURLException</code>.</p>\n\n<p>In one line:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; parameters = new QueryStringDecoder(url).parameters();\n</code></pre>\n\n<p>See javadocs here: <a href=\"https://netty.io/4.1/api/io/netty/handler/codec/http/QueryStringDecoder.html\" rel=\"noreferrer\">https://netty.io/4.1/api/io/netty/handler/codec/http/QueryStringDecoder.html</a></p>\n\n<p>Here is a short, self contained, correct example:</p>\n\n<pre><code>import io.netty.handler.codec.http.QueryStringDecoder;\nimport org.apache.commons.lang3.StringUtils;\n\nimport java.util.List;\nimport java.util.Map;\n\npublic class UrlParse {\n\n  public static void main(String... args) {\n    String url = \"https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\";\n    QueryStringDecoder decoder = new QueryStringDecoder(url);\n    Map&lt;String, List&lt;String&gt;&gt; parameters = decoder.parameters();\n    print(parameters);\n  }\n\n  private static void print(final Map&lt;String, List&lt;String&gt;&gt; parameters) {\n    System.out.println(\"NAME               VALUE\");\n    System.out.println(\"------------------------\");\n    parameters.forEach((key, values) -&gt;\n        values.forEach(val -&gt;\n            System.out.println(StringUtils.rightPad(key, 19) + val)));\n  }\n}\n</code></pre>\n\n<p>which generates</p>\n\n<pre><code>NAME               VALUE\n------------------------\nclient_id          SS\nresponse_type      code\nscope              N_FULL\naccess_type        offline\nredirect_uri       http://localhost/Callback\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10456804,"reputation":67,"user_id":7921777,"display_name":"Mike Dudley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565599378,"creation_date":1565599055,"answer_id":57457965,"question_id":13592236,"body_markdown":"Here is my solution with **reduce** and **Optional**:\r\n\r\n    private Optional&lt;SimpleImmutableEntry&lt;String, String&gt;&gt; splitKeyValue(String text) {\r\n    \tString[] v = text.split(&quot;=&quot;);\r\n    \tif (v.length == 1 || v.length == 2) {\r\n    \t\tString key = URLDecoder.decode(v[0], StandardCharsets.UTF_8);\r\n    \t\tString value = v.length == 2 ? URLDecoder.decode(v[1], StandardCharsets.UTF_8) : null;\r\n    \t\treturn Optional.of(new SimpleImmutableEntry&lt;String, String&gt;(key, value));\r\n    \t} else\r\n    \t\treturn Optional.empty();\r\n    }\r\n    \r\n    private HashMap&lt;String, String&gt; parseQuery(URI uri) {\r\n    \tHashMap&lt;String, String&gt; params = Arrays.stream(uri.getQuery()\r\n    \t\t\t.split(&quot;&amp;&quot;))\r\n    \t\t\t.map(this::splitKeyValue)\r\n    \t\t\t.filter(Optional::isPresent)\r\n    \t\t\t.map(Optional::get)\r\n    \t\t\t.reduce(\r\n                    // initial value\r\n                    new HashMap&lt;String, String&gt;(), \r\n                    // accumulator\r\n                    (map, kv) -&gt; {\r\n    \t\t\t\t     map.put(kv.getKey(), kv.getValue()); \r\n    \t\t\t\t     return map;\r\n    \t\t\t    }, \r\n                    // combiner\r\n                    (a, b) -&gt; {\r\n    \t\t\t\t     a.putAll(b); \r\n    \t\t\t\t     return a;\r\n    \t\t\t    });\r\n    \treturn params;\r\n    }\r\n\r\n\r\n- I ignore duplicate parameters (I take the last one).\r\n- I use `Optional&lt;SimpleImmutableEntry&lt;String, String&gt;&gt;` to ignore garbage later\r\n- The reduction start with an empty map, then populate it on each SimpleImmutableEntry\r\n\r\nIn case you ask, **reduce** requires this weird combiner in the last parameter, which is only used in parallel streams. Its goal is to merge two intermediate results (here HashMap).\r\n\r\n\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>Here is my solution with <strong>reduce</strong> and <strong>Optional</strong>:</p>\n\n<pre><code>private Optional&lt;SimpleImmutableEntry&lt;String, String&gt;&gt; splitKeyValue(String text) {\n    String[] v = text.split(\"=\");\n    if (v.length == 1 || v.length == 2) {\n        String key = URLDecoder.decode(v[0], StandardCharsets.UTF_8);\n        String value = v.length == 2 ? URLDecoder.decode(v[1], StandardCharsets.UTF_8) : null;\n        return Optional.of(new SimpleImmutableEntry&lt;String, String&gt;(key, value));\n    } else\n        return Optional.empty();\n}\n\nprivate HashMap&lt;String, String&gt; parseQuery(URI uri) {\n    HashMap&lt;String, String&gt; params = Arrays.stream(uri.getQuery()\n            .split(\"&amp;\"))\n            .map(this::splitKeyValue)\n            .filter(Optional::isPresent)\n            .map(Optional::get)\n            .reduce(\n                // initial value\n                new HashMap&lt;String, String&gt;(), \n                // accumulator\n                (map, kv) -&gt; {\n                     map.put(kv.getKey(), kv.getValue()); \n                     return map;\n                }, \n                // combiner\n                (a, b) -&gt; {\n                     a.putAll(b); \n                     return a;\n                });\n    return params;\n}\n</code></pre>\n\n<ul>\n<li>I ignore duplicate parameters (I take the last one).</li>\n<li>I use <code>Optional&lt;SimpleImmutableEntry&lt;String, String&gt;&gt;</code> to ignore garbage later</li>\n<li>The reduction start with an empty map, then populate it on each SimpleImmutableEntry</li>\n</ul>\n\n<p>In case you ask, <strong>reduce</strong> requires this weird combiner in the last parameter, which is only used in parallel streams. Its goal is to merge two intermediate results (here HashMap).</p>\n"},{"tags":[],"owner":{"account_id":1250599,"reputation":5959,"user_id":1211082,"accept_rate":43,"display_name":"Martin Senne"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568921327,"creation_date":1568921327,"answer_id":58017826,"question_id":13592236,"body_markdown":"# A ready-to-use solution for decoding of URI query part (incl. decoding and multi parameter values)\r\n\r\n## Comments\r\n\r\nI wasn&#39;t happy with the code provided by @Pr0gr4mm3r in https://stackoverflow.com/a/13592567/1211082 . The Stream-based solution does not do URLDecoding, the mutable version clumpsy.\r\n\r\nThus I elaborated a solution that\r\n\r\n  * Can decompose a URI query part into a `Map&lt;String, List&lt;Optional&lt;String&gt;&gt;&gt;`\r\n  * Can **handle multiple values** for the same parameter name\r\n  * Can **represent parameters without a value properly**  (`Optional.empty()` instead of `null`)\r\n  * **Decodes parameter names** and **values correctly** via `URLdecode`\r\n  * Is based on Java 8 Streams\r\n  * Is directly usable (see code including imports below)\r\n  * Allows for proper error handling (here via turning a checked exception `UnsupportedEncodingException`into a runtime exception `RuntimeUnsupportedEncodingException` that allows interplay with stream. (Wrapping regular function into functions throwing checked exceptions is a pain. And Scala `Try` is not available in the Java language default.)\r\n\r\n## Java Code\r\n\r\n```\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.URLDecoder;\r\nimport java.util.*;\r\nimport static java.util.stream.Collectors.*;\r\n\r\npublic class URIParameterDecode {\r\n    /**\r\n     * Decode parameters in query part of a URI into a map from parameter name to its parameter values.\r\n     * For parameters that occur multiple times each value is collected.\r\n     * Proper decoding of the parameters is performed.\r\n     * \r\n     * Example\r\n     *   &lt;pre&gt;a=1&amp;b=2&amp;c=&amp;a=4&lt;/pre&gt;\r\n     * is converted into\r\n     *   &lt;pre&gt;{a=[Optional[1], Optional[4]], b=[Optional[2]], c=[Optional.empty]}&lt;/pre&gt;\r\n     * @param query the query part of an URI \r\n     * @return map of parameters names into a list of their values.\r\n     *         \r\n     */\r\n    public static Map&lt;String, List&lt;Optional&lt;String&gt;&gt;&gt; splitQuery(String query) {\r\n        if (query == null || query.isEmpty()) {\r\n            return Collections.emptyMap();\r\n        }\r\n\r\n        return Arrays.stream(query.split(&quot;&amp;&quot;))\r\n                    .map(p -&gt; splitQueryParameter(p))\r\n                    .collect(groupingBy(e -&gt; e.get0(), // group by parameter name\r\n                            mapping(e -&gt; e.get1(), toList())));// keep parameter values and assemble into list\r\n    }\r\n\r\n    public static Pair&lt;String, Optional&lt;String&gt;&gt; splitQueryParameter(String parameter) {\r\n        final String enc = &quot;UTF-8&quot;;\r\n        List&lt;String&gt; keyValue = Arrays.stream(parameter.split(&quot;=&quot;))\r\n                .map(e -&gt; {\r\n                    try {\r\n                        return URLDecoder.decode(e, enc);\r\n                    } catch (UnsupportedEncodingException ex) {\r\n                        throw new RuntimeUnsupportedEncodingException(ex);\r\n                    }\r\n                }).collect(toList());\r\n\r\n        if (keyValue.size() == 2) {\r\n            return new Pair(keyValue.get(0), Optional.of(keyValue.get(1)));\r\n        } else {\r\n            return new Pair(keyValue.get(0), Optional.empty());\r\n        }\r\n    }\r\n\r\n    /** Runtime exception (instead of checked exception) to denote unsupported enconding */\r\n    public static class RuntimeUnsupportedEncodingException extends RuntimeException {\r\n        public RuntimeUnsupportedEncodingException(Throwable cause) {\r\n            super(cause);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A simple pair of two elements\r\n     * @param &lt;U&gt; first element\r\n     * @param &lt;V&gt; second element\r\n     */\r\n    public static class Pair&lt;U, V&gt; {\r\n        U a;\r\n        V b;\r\n\r\n        public Pair(U u, V v) {\r\n            this.a = u;\r\n            this.b = v;\r\n        }\r\n\r\n        public U get0() {\r\n            return a;\r\n        }\r\n\r\n        public V get1() {\r\n            return b;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Scala Code\r\n\r\n... and for the sake of completeness I can not resist to provide the solution in Scala that dominates by brevity and beauty\r\n\r\n```\r\nimport java.net.URLDecoder\r\n\r\nobject Decode {\r\n  def main(args: Array[String]): Unit = {\r\n    val input = &quot;a=1&amp;b=2&amp;c=&amp;a=4&quot;;\r\n    println(separate(input))\r\n  }\r\n\r\n  def separate(input: String) : Map[String, List[Option[String]]] = {\r\n    case class Parameter(key: String, value: Option[String])\r\n\r\n    def separateParameter(parameter: String) : Parameter =\r\n      parameter.split(&quot;=&quot;)\r\n               .map(e =&gt; URLDecoder.decode(e, &quot;UTF-8&quot;)) match {\r\n      case Array(key, value) =&gt;  Parameter(key, Some(value))\r\n      case Array(key) =&gt; Parameter(key, None)\r\n    }\r\n\r\n    input.split(&quot;&amp;&quot;).toList\r\n      .map(p =&gt; separateParameter(p))\r\n      .groupBy(p =&gt; p.key)\r\n      .mapValues(vs =&gt; vs.map(p =&gt; p.value))\r\n  }\r\n}\r\n```","title":"Parse a URI String into Name-Value Collection","body":"<h1>A ready-to-use solution for decoding of URI query part (incl. decoding and multi parameter values)</h1>\n\n<h2>Comments</h2>\n\n<p>I wasn't happy with the code provided by @Pr0gr4mm3r in <a href=\"https://stackoverflow.com/a/13592567/1211082\">https://stackoverflow.com/a/13592567/1211082</a> . The Stream-based solution does not do URLDecoding, the mutable version clumpsy.</p>\n\n<p>Thus I elaborated a solution that</p>\n\n<ul>\n<li>Can decompose a URI query part into a <code>Map&lt;String, List&lt;Optional&lt;String&gt;&gt;&gt;</code></li>\n<li>Can <strong>handle multiple values</strong> for the same parameter name</li>\n<li>Can <strong>represent parameters without a value properly</strong>  (<code>Optional.empty()</code> instead of <code>null</code>)</li>\n<li><strong>Decodes parameter names</strong> and <strong>values correctly</strong> via <code>URLdecode</code></li>\n<li>Is based on Java 8 Streams</li>\n<li>Is directly usable (see code including imports below)</li>\n<li>Allows for proper error handling (here via turning a checked exception <code>UnsupportedEncodingException</code>into a runtime exception <code>RuntimeUnsupportedEncodingException</code> that allows interplay with stream. (Wrapping regular function into functions throwing checked exceptions is a pain. And Scala <code>Try</code> is not available in the Java language default.)</li>\n</ul>\n\n<h2>Java Code</h2>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.net.URLDecoder;\nimport java.util.*;\nimport static java.util.stream.Collectors.*;\n\npublic class URIParameterDecode {\n    /**\n     * Decode parameters in query part of a URI into a map from parameter name to its parameter values.\n     * For parameters that occur multiple times each value is collected.\n     * Proper decoding of the parameters is performed.\n     * \n     * Example\n     *   &lt;pre&gt;a=1&amp;b=2&amp;c=&amp;a=4&lt;/pre&gt;\n     * is converted into\n     *   &lt;pre&gt;{a=[Optional[1], Optional[4]], b=[Optional[2]], c=[Optional.empty]}&lt;/pre&gt;\n     * @param query the query part of an URI \n     * @return map of parameters names into a list of their values.\n     *         \n     */\n    public static Map&lt;String, List&lt;Optional&lt;String&gt;&gt;&gt; splitQuery(String query) {\n        if (query == null || query.isEmpty()) {\n            return Collections.emptyMap();\n        }\n\n        return Arrays.stream(query.split(\"&amp;\"))\n                    .map(p -&gt; splitQueryParameter(p))\n                    .collect(groupingBy(e -&gt; e.get0(), // group by parameter name\n                            mapping(e -&gt; e.get1(), toList())));// keep parameter values and assemble into list\n    }\n\n    public static Pair&lt;String, Optional&lt;String&gt;&gt; splitQueryParameter(String parameter) {\n        final String enc = \"UTF-8\";\n        List&lt;String&gt; keyValue = Arrays.stream(parameter.split(\"=\"))\n                .map(e -&gt; {\n                    try {\n                        return URLDecoder.decode(e, enc);\n                    } catch (UnsupportedEncodingException ex) {\n                        throw new RuntimeUnsupportedEncodingException(ex);\n                    }\n                }).collect(toList());\n\n        if (keyValue.size() == 2) {\n            return new Pair(keyValue.get(0), Optional.of(keyValue.get(1)));\n        } else {\n            return new Pair(keyValue.get(0), Optional.empty());\n        }\n    }\n\n    /** Runtime exception (instead of checked exception) to denote unsupported enconding */\n    public static class RuntimeUnsupportedEncodingException extends RuntimeException {\n        public RuntimeUnsupportedEncodingException(Throwable cause) {\n            super(cause);\n        }\n    }\n\n    /**\n     * A simple pair of two elements\n     * @param &lt;U&gt; first element\n     * @param &lt;V&gt; second element\n     */\n    public static class Pair&lt;U, V&gt; {\n        U a;\n        V b;\n\n        public Pair(U u, V v) {\n            this.a = u;\n            this.b = v;\n        }\n\n        public U get0() {\n            return a;\n        }\n\n        public V get1() {\n            return b;\n        }\n    }\n}\n</code></pre>\n\n<h2>Scala Code</h2>\n\n<p>... and for the sake of completeness I can not resist to provide the solution in Scala that dominates by brevity and beauty</p>\n\n<pre><code>import java.net.URLDecoder\n\nobject Decode {\n  def main(args: Array[String]): Unit = {\n    val input = \"a=1&amp;b=2&amp;c=&amp;a=4\";\n    println(separate(input))\n  }\n\n  def separate(input: String) : Map[String, List[Option[String]]] = {\n    case class Parameter(key: String, value: Option[String])\n\n    def separateParameter(parameter: String) : Parameter =\n      parameter.split(\"=\")\n               .map(e =&gt; URLDecoder.decode(e, \"UTF-8\")) match {\n      case Array(key, value) =&gt;  Parameter(key, Some(value))\n      case Array(key) =&gt; Parameter(key, None)\n    }\n\n    input.split(\"&amp;\").toList\n      .map(p =&gt; separateParameter(p))\n      .groupBy(p =&gt; p.key)\n      .mapValues(vs =&gt; vs.map(p =&gt; p.value))\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":385998,"reputation":3034,"user_id":743507,"accept_rate":93,"display_name":"dschulten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607274432,"creation_date":1607274432,"answer_id":65170772,"question_id":13592236,"body_markdown":"If you happen to have cxf-core on the classpath and you know you have no repeated query params, you may want to use [UrlUtils.parseQueryString][1].\r\n\r\n\r\n  [1]: https://cxf.apache.org/javadoc/latest/org/apache/cxf/common/util/UrlUtils.html#parseQueryString-java.lang.String-","title":"Parse a URI String into Name-Value Collection","body":"<p>If you happen to have cxf-core on the classpath and you know you have no repeated query params, you may want to use <a href=\"https://cxf.apache.org/javadoc/latest/org/apache/cxf/common/util/UrlUtils.html#parseQueryString-java.lang.String-\" rel=\"nofollow noreferrer\">UrlUtils.parseQueryString</a>.</p>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624279869,"creation_date":1624279869,"answer_id":68068256,"question_id":13592236,"body_markdown":"The [Eclipse Jersey REST framework](https://eclipse-ee4j.github.io/jersey/) supports this through [`UriComponent`](https://github.com/eclipse-ee4j/jersey/blob/master/core-common/src/main/java/org/glassfish/jersey/uri/UriComponent.java). Example:\r\n\r\n```java\r\nimport org.glassfish.jersey.uri.UriComponent;\r\n\r\nString uri = &quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\r\nMultivaluedMap&lt;String, String&gt; params = UriComponent.decodeQuery(URI.create(uri), true);\r\nfor (String key : params.keySet()) {\r\n  System.out.println(key + &quot;: &quot; + params.getFirst(key));\r\n}\r\n```\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>The <a href=\"https://eclipse-ee4j.github.io/jersey/\" rel=\"nofollow noreferrer\">Eclipse Jersey REST framework</a> supports this through <a href=\"https://github.com/eclipse-ee4j/jersey/blob/master/core-common/src/main/java/org/glassfish/jersey/uri/UriComponent.java\" rel=\"nofollow noreferrer\"><code>UriComponent</code></a>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.glassfish.jersey.uri.UriComponent;\n\nString uri = &quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\nMultivaluedMap&lt;String, String&gt; params = UriComponent.decodeQuery(URI.create(uri), true);\nfor (String key : params.keySet()) {\n  System.out.println(key + &quot;: &quot; + params.getFirst(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":980746,"reputation":8466,"user_id":1000510,"accept_rate":76,"display_name":"Basit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631121140,"creation_date":1631121140,"answer_id":69107206,"question_id":13592236,"body_markdown":"If just want the parameters after the URL from a String. Then the following code will work. I am just assuming the simple Url. I mean no hard and fast checking and decoding. Like in one of my test case I got the Url and I know I just need the value of the paramaters. The url was simple. No encoding decoding needed.\r\n\r\n    String location = &quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\r\n\tString location1 = &quot;https://stackoverflow.com?param1=value1&amp;param2=value2&amp;param3=value3&quot;;\r\n\tString location2 = &quot;https://stackoverflow.com?param1=value1&amp;param2=&amp;param3=value3&amp;param3&quot;;\r\n\t\t\r\n\t\tMap&lt;String, String&gt; paramsMap = Stream.of(location)\r\n\t        .filter(l -&gt; l.indexOf(&quot;?&quot;) != -1)\r\n\t\t    .map(l -&gt; l.substring(l.indexOf(&quot;?&quot;) + 1, l.length()))\r\n\t\t    .flatMap(q -&gt; Pattern.compile(&quot;&amp;&quot;).splitAsStream(q))\r\n\t\t    .map(s -&gt; s.split(&quot;=&quot;))\r\n\t\t    .filter(a -&gt; a.length == 2)\r\n\t\t    .collect(Collectors.toMap(\r\n\t\t        a -&gt; a[0], \r\n\t\t    \ta -&gt; a[1],\r\n\t\t    \t(existing, replacement) -&gt; existing + &quot;, &quot; + replacement,\r\n\t\t\t    LinkedHashMap::new\r\n\t\t    ));\r\n\t\t\r\n\t\tSystem.out.println(paramsMap);\r\n\r\nThanks","title":"Parse a URI String into Name-Value Collection","body":"<p>If just want the parameters after the URL from a String. Then the following code will work. I am just assuming the simple Url. I mean no hard and fast checking and decoding. Like in one of my test case I got the Url and I know I just need the value of the paramaters. The url was simple. No encoding decoding needed.</p>\n<pre><code>String location = &quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\nString location1 = &quot;https://stackoverflow.com?param1=value1&amp;param2=value2&amp;param3=value3&quot;;\nString location2 = &quot;https://stackoverflow.com?param1=value1&amp;param2=&amp;param3=value3&amp;param3&quot;;\n    \n    Map&lt;String, String&gt; paramsMap = Stream.of(location)\n        .filter(l -&gt; l.indexOf(&quot;?&quot;) != -1)\n        .map(l -&gt; l.substring(l.indexOf(&quot;?&quot;) + 1, l.length()))\n        .flatMap(q -&gt; Pattern.compile(&quot;&amp;&quot;).splitAsStream(q))\n        .map(s -&gt; s.split(&quot;=&quot;))\n        .filter(a -&gt; a.length == 2)\n        .collect(Collectors.toMap(\n            a -&gt; a[0], \n            a -&gt; a[1],\n            (existing, replacement) -&gt; existing + &quot;, &quot; + replacement,\n            LinkedHashMap::new\n        ));\n    \n    System.out.println(paramsMap);\n</code></pre>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632071781,"creation_date":1632071781,"answer_id":69245457,"question_id":13592236,"body_markdown":"There are plenty of answers which work for your query as you&#39;ve indicated when it has single parameter definitions. In some  applications it may be useful to handle a few extra query parameter edge cases such as:\r\n\r\n - list of parameter values such as `param1&amp;param1=value&amp;param1=` meaning `param1` is set to `List.of(&quot;&quot;, &quot;value&quot;, &quot;&quot;)`\r\n - invalid permutations such as `querypath?&amp;=&amp;&amp;=noparamname&amp;`.\r\n - use empty string not null in maps `a=` means &quot;a&quot; is `List.of(&quot;&quot;)` to match web servlet handling\r\n\r\nThis uses a Stream with filters and groupingBy to collect to `Map&lt;String, List&lt;String&gt;&gt;`:\r\n\r\n    public static Map&lt;String, List&lt;String&gt;&gt; getParameterValues(URL url) {\r\n        return Arrays.stream(url.getQuery().split(&quot;&amp;&quot;))\r\n                .map(s -&gt; s.split(&quot;=&quot;))\r\n                // filter out empty parameter names (as in Tomcat) &quot;?&amp;=&amp;&amp;=value&amp;&quot;:\r\n                .filter(arr -&gt; arr.length &gt; 0 &amp;&amp; arr[0].length() &gt; 0)\r\n                .collect(Collectors.groupingBy(arr -&gt; URLDecoder.decode(arr[0], StandardCharsets.UTF_8),\r\n                         // drop this line for not-name definition order Map:\r\n                         LinkedHashMap::new, \r\n                         Collectors.mapping(arr -&gt; arr.length &lt; 2 ? &quot;&quot; : URLDecoder.decode(arr[1], StandardCharsets.UTF_8), Collectors.toList())));\r\n    }\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>There are plenty of answers which work for your query as you've indicated when it has single parameter definitions. In some  applications it may be useful to handle a few extra query parameter edge cases such as:</p>\n<ul>\n<li>list of parameter values such as <code>param1&amp;param1=value&amp;param1=</code> meaning <code>param1</code> is set to <code>List.of(&quot;&quot;, &quot;value&quot;, &quot;&quot;)</code></li>\n<li>invalid permutations such as <code>querypath?&amp;=&amp;&amp;=noparamname&amp;</code>.</li>\n<li>use empty string not null in maps <code>a=</code> means &quot;a&quot; is <code>List.of(&quot;&quot;)</code> to match web servlet handling</li>\n</ul>\n<p>This uses a Stream with filters and groupingBy to collect to <code>Map&lt;String, List&lt;String&gt;&gt;</code>:</p>\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; getParameterValues(URL url) {\n    return Arrays.stream(url.getQuery().split(&quot;&amp;&quot;))\n            .map(s -&gt; s.split(&quot;=&quot;))\n            // filter out empty parameter names (as in Tomcat) &quot;?&amp;=&amp;&amp;=value&amp;&quot;:\n            .filter(arr -&gt; arr.length &gt; 0 &amp;&amp; arr[0].length() &gt; 0)\n            .collect(Collectors.groupingBy(arr -&gt; URLDecoder.decode(arr[0], StandardCharsets.UTF_8),\n                     // drop this line for not-name definition order Map:\n                     LinkedHashMap::new, \n                     Collectors.mapping(arr -&gt; arr.length &lt; 2 ? &quot;&quot; : URLDecoder.decode(arr[1], StandardCharsets.UTF_8), Collectors.toList())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6677355,"reputation":3705,"user_id":5151575,"accept_rate":83,"display_name":"Enigo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1647318591,"creation_date":1647318591,"answer_id":71477076,"question_id":13592236,"body_markdown":"There a new version of Apache HTTP client - `org.apache.httpcomponents.client5` - where `URLEncodedUtils` is now deprecated. `URIBuilder` should be used instead:\r\n\r\n```\r\nimport org.apache.hc.core5.http.NameValuePair;\r\nimport org.apache.hc.core5.net.URIBuilder;\r\n\r\nprivate static Map&lt;String, String&gt; getQueryParameters(final String url) throws URISyntaxException {\r\n    return new URIBuilder(new URI(url), StandardCharsets.UTF_8).getQueryParams()\r\n                                                               .stream()\r\n                                                               .collect(Collectors.toMap(NameValuePair::getName,\r\n                                                                                         nameValuePair -&gt; URLDecoder.decode(nameValuePair.getValue(), StandardCharsets.UTF_8)));\r\n}\r\n```","title":"Parse a URI String into Name-Value Collection","body":"<p>There a new version of Apache HTTP client - <code>org.apache.httpcomponents.client5</code> - where <code>URLEncodedUtils</code> is now deprecated. <code>URIBuilder</code> should be used instead:</p>\n<pre><code>import org.apache.hc.core5.http.NameValuePair;\nimport org.apache.hc.core5.net.URIBuilder;\n\nprivate static Map&lt;String, String&gt; getQueryParameters(final String url) throws URISyntaxException {\n    return new URIBuilder(new URI(url), StandardCharsets.UTF_8).getQueryParams()\n                                                               .stream()\n                                                               .collect(Collectors.toMap(NameValuePair::getName,\n                                                                                         nameValuePair -&gt; URLDecoder.decode(nameValuePair.getValue(), StandardCharsets.UTF_8)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650440340,"creation_date":1649860887,"answer_id":71859427,"question_id":13592236,"body_markdown":"That seems tidy to me the best way:\r\n\r\n    static Map&lt;String, String&gt; decomposeQueryString(String query, Charset charset) {\r\n        return Arrays.stream(query.split(&quot;&amp;&quot;))\r\n            .map(pair -&gt; pair.split(&quot;=&quot;, 2))\r\n            .collect(Collectors.toMap(\r\n                pair -&gt; URLDecoder.decode(pair[0], charset),\r\n                pair -&gt; pair.length &gt; 1 ? URLDecoder.decode(pair[1], charset) : null)\r\n            );\r\n    }\r\n\r\nThe prerequisite is that your query syntax does not allow repeated parameters.","title":"Parse a URI String into Name-Value Collection","body":"<p>That seems tidy to me the best way:</p>\n<pre><code>static Map&lt;String, String&gt; decomposeQueryString(String query, Charset charset) {\n    return Arrays.stream(query.split(&quot;&amp;&quot;))\n        .map(pair -&gt; pair.split(&quot;=&quot;, 2))\n        .collect(Collectors.toMap(\n            pair -&gt; URLDecoder.decode(pair[0], charset),\n            pair -&gt; pair.length &gt; 1 ? URLDecoder.decode(pair[1], charset) : null)\n        );\n}\n</code></pre>\n<p>The prerequisite is that your query syntax does not allow repeated parameters.</p>\n"},{"tags":[],"owner":{"account_id":140109,"reputation":44,"user_id":346172,"display_name":"Frerk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654073525,"creation_date":1654073525,"answer_id":72458948,"question_id":13592236,"body_markdown":"org.keycloak.common.util.UriUtils\r\n=================================\r\n\r\nI had to parse URIs and Query Parameters in a Keycloak extension and found this utility classes very useful:\r\n\r\n    org.keycloak.common.util.UriUtils:\r\n    static MultivaluedHashMap&lt;String,String&gt; decodeQueryString(String queryString) \r\n\r\nThere is also a useful method to delete one query parameter:\r\n\r\n    static String \tstripQueryParam(String url, String name)\r\n\r\nAnd to parse the URL there is\r\norg.keycloak.common.util.KeycloakUriBuilder:\r\n\r\n    KeycloakUriBuilder \turi(String uriTemplate)\r\n    String \tgetQuery()\r\n\r\nand lots of other goodies.\r\n","title":"Parse a URI String into Name-Value Collection","body":"<h1>org.keycloak.common.util.UriUtils</h1>\n<p>I had to parse URIs and Query Parameters in a Keycloak extension and found this utility classes very useful:</p>\n<pre><code>org.keycloak.common.util.UriUtils:\nstatic MultivaluedHashMap&lt;String,String&gt; decodeQueryString(String queryString) \n</code></pre>\n<p>There is also a useful method to delete one query parameter:</p>\n<pre><code>static String   stripQueryParam(String url, String name)\n</code></pre>\n<p>And to parse the URL there is\norg.keycloak.common.util.KeycloakUriBuilder:</p>\n<pre><code>KeycloakUriBuilder  uri(String uriTemplate)\nString  getQuery()\n</code></pre>\n<p>and lots of other goodies.</p>\n"},{"tags":[],"owner":{"display_name":"user19249111"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659881635,"creation_date":1659881635,"answer_id":73268170,"question_id":13592236,"body_markdown":"Also, I would recommend regex based implementation of `URLParser`\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass URLParser {\r\n    private final String query;\r\n    \r\n    public URLParser(String query) {\r\n        this.query = query;\r\n    }\r\n    \r\n    public String get(String name) {\r\n        String regex = &quot;(?:^|\\\\?|&amp;)&quot; + name + &quot;=(.*?)(?:&amp;|$)&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(this.query);\r\n\r\n        if (matcher.find()) {\r\n            return matcher.group(1);\r\n        }\r\n        \r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\nThis class is easy to use. It just needs the URL or the query string on initialization and parses value by given key.\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        URLParser parser = new URLParser(&quot;https://www.google.com/search?q=java+parse+url+params&amp;oq=java+parse+url+params&amp;aqs=chrome..69i57j0i10.18908j0j7&amp;sourceid=chrome&amp;ie=UTF-8&quot;);\r\n        System.out.println(parser.get(&quot;q&quot;));  // java+parse+url+params\r\n        System.out.println(parser.get(&quot;sourceid&quot;));  // chrome\r\n        System.out.println(parser.get(&quot;ie&quot;));  // UTF-8\r\n    }\r\n}\r\n```","title":"Parse a URI String into Name-Value Collection","body":"<p>Also, I would recommend regex based implementation of <code>URLParser</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass URLParser {\n    private final String query;\n    \n    public URLParser(String query) {\n        this.query = query;\n    }\n    \n    public String get(String name) {\n        String regex = &quot;(?:^|\\\\?|&amp;)&quot; + name + &quot;=(.*?)(?:&amp;|$)&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(this.query);\n\n        if (matcher.find()) {\n            return matcher.group(1);\n        }\n        \n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>This class is easy to use. It just needs the URL or the query string on initialization and parses value by given key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        URLParser parser = new URLParser(&quot;https://www.google.com/search?q=java+parse+url+params&amp;oq=java+parse+url+params&amp;aqs=chrome..69i57j0i10.18908j0j7&amp;sourceid=chrome&amp;ie=UTF-8&quot;);\n        System.out.println(parser.get(&quot;q&quot;));  // java+parse+url+params\n        System.out.println(parser.get(&quot;sourceid&quot;));  // chrome\n        System.out.println(parser.get(&quot;ie&quot;));  // UTF-8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547173,"reputation":11,"user_id":5729774,"display_name":"aimilin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673353538,"creation_date":1673353538,"answer_id":75069958,"question_id":13592236,"body_markdown":"The [Hutool][1] framework supports this through HttpUtil. Example:\r\n\r\n```\r\nimport cn.hutool.http.HttpUtil;\r\n\r\n    String url =&quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\r\n    Map&lt;String, List&lt;String&gt;&gt; stringListMap = HttpUtil.decodeParams(url, &quot;UTF-8&quot;);\r\n    System.out.println(&quot;decodeParams：&quot; + stringListMap);\r\n```\r\n\r\nYou will get:\r\n\r\n    decodeParams：{client_id=[SS], response_type=[code], scope=[N_FULL], access_type=[offline], redirect_uri=[http://localhost/Callback]}\r\n\r\n  [1]: https://github.com/dromara/hutool","title":"Parse a URI String into Name-Value Collection","body":"<p>The <a href=\"https://github.com/dromara/hutool\" rel=\"nofollow noreferrer\">Hutool</a> framework supports this through HttpUtil. Example:</p>\n<pre><code>import cn.hutool.http.HttpUtil;\n\n    String url =&quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;;\n    Map&lt;String, List&lt;String&gt;&gt; stringListMap = HttpUtil.decodeParams(url, &quot;UTF-8&quot;);\n    System.out.println(&quot;decodeParams：&quot; + stringListMap);\n</code></pre>\n<p>You will get:</p>\n<pre><code>decodeParams：{client_id=[SS], response_type=[code], scope=[N_FULL], access_type=[offline], redirect_uri=[http://localhost/Callback]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148507,"reputation":1161,"user_id":360327,"accept_rate":67,"display_name":"Udayaditya Barua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674206555,"creation_date":1674206555,"answer_id":75182012,"question_id":13592236,"body_markdown":"A kotlin version\r\n----------------\r\n\r\n of the answer [Answer by matthias][1] provided\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71859427/360327\r\n\r\n    fun decomposeQueryString(query: String, charset: Charset): Map&lt;String, String?&gt; {\r\n       return if (query.split(&quot;?&quot;).size &lt;= 1)\r\n           emptyMap()\r\n       else {\r\n           query.split(&quot;?&quot;)[1]\r\n                .split(&quot;&amp;&quot;)\r\n                .map { it.split(Pattern.compile(&quot;=&quot;), 2) }\r\n                .associate {\r\n                    Pair(\r\n                            URLDecoder.decode(it[0], charset.name()),\r\n                            if (it.size &gt; 1) URLDecoder.decode(it[1], charset.name()) else null\r\n                    )\r\n                }\r\n         }\r\n    }\r\n\r\nThis takes of the first parameter after the question mark &#39;?&#39; as well.","title":"Parse a URI String into Name-Value Collection","body":"<h2>A kotlin version</h2>\n<p>of the answer <a href=\"https://stackoverflow.com/a/71859427/360327\">Answer by matthias</a> provided</p>\n<pre><code>fun decomposeQueryString(query: String, charset: Charset): Map&lt;String, String?&gt; {\n   return if (query.split(&quot;?&quot;).size &lt;= 1)\n       emptyMap()\n   else {\n       query.split(&quot;?&quot;)[1]\n            .split(&quot;&amp;&quot;)\n            .map { it.split(Pattern.compile(&quot;=&quot;), 2) }\n            .associate {\n                Pair(\n                        URLDecoder.decode(it[0], charset.name()),\n                        if (it.size &gt; 1) URLDecoder.decode(it[1], charset.name()) else null\n                )\n            }\n     }\n}\n</code></pre>\n<p>This takes of the first parameter after the question mark '?' as well.</p>\n"},{"tags":[],"owner":{"account_id":14766833,"reputation":1710,"user_id":10664600,"display_name":"Adam Winter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676581296,"creation_date":1676581296,"answer_id":75477889,"question_id":13592236,"body_markdown":"**Plain Java, No Special Libraries, Nothing Fancy**\r\n\r\n```\r\n    // assumes you are parsing a line that looks like:\r\n    // /path/resource?key=value&amp;parameter=value\r\n    // which you got from a request header line that looks like:\r\n    // GET /path/resource?key=value&amp;parameter=value HTTP/1.1\r\n\r\n    public HashMap&lt;String, String&gt; parseQuery(String path){\r\n        if(path == null || path.isEmpty()){         //basic sanity check\r\n            return null;\r\n        }\r\n        int indexOfQ = path.indexOf(&quot;?&quot;);           //where the query string starts\r\n        if(indexOfQ == -1){return  null;}           //check query exists\r\n        String queryString = path.substring(indexOfQ + 1);\r\n        String[] queryStringArray = queryString.split(&quot;&amp;&quot;);\r\n        Map&lt;String, String&gt; kvMap = new HashMap&lt;&gt;();\r\n        for(String kvString : queryStringArray){\r\n            int indexOfE = kvString.indexOf(&quot;=&quot;);      //check query is formed correctly\r\n            if(indexOfE == -1 || indexOfE == 0){return  null;}\r\n            String[] kvPairArray = kvString.split(&quot;=&quot;);\r\n            kvMap.put(kvPairArray[0], kvPairArray[1]);\r\n        }\r\n\r\n        return kvMap;\r\n    }\r\n```","title":"Parse a URI String into Name-Value Collection","body":"<p><strong>Plain Java, No Special Libraries, Nothing Fancy</strong></p>\n<pre><code>    // assumes you are parsing a line that looks like:\n    // /path/resource?key=value&amp;parameter=value\n    // which you got from a request header line that looks like:\n    // GET /path/resource?key=value&amp;parameter=value HTTP/1.1\n\n    public HashMap&lt;String, String&gt; parseQuery(String path){\n        if(path == null || path.isEmpty()){         //basic sanity check\n            return null;\n        }\n        int indexOfQ = path.indexOf(&quot;?&quot;);           //where the query string starts\n        if(indexOfQ == -1){return  null;}           //check query exists\n        String queryString = path.substring(indexOfQ + 1);\n        String[] queryStringArray = queryString.split(&quot;&amp;&quot;);\n        Map&lt;String, String&gt; kvMap = new HashMap&lt;&gt;();\n        for(String kvString : queryStringArray){\n            int indexOfE = kvString.indexOf(&quot;=&quot;);      //check query is formed correctly\n            if(indexOfE == -1 || indexOfE == 0){return  null;}\n            String[] kvPairArray = kvString.split(&quot;=&quot;);\n            kvMap.put(kvPairArray[0], kvPairArray[1]);\n        }\n\n        return kvMap;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":982411,"reputation":4028,"user_id":1001816,"accept_rate":38,"display_name":"Sudhir N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682672562,"creation_date":1682672562,"answer_id":76127956,"question_id":13592236,"body_markdown":"In groovy\r\n\r\n```\r\n    static Map parseQueryParams(String queryString) {\r\n        if(!queryString) return [:]\r\n        queryString.split(&quot;&amp;&quot;)\r\n            .collect({ it.split(&quot;=&quot;) })\r\n            .collectEntries { String[] arr -&gt;\r\n                String k = arr.length &gt; 0 ? arr[0] : &quot;&quot;\r\n                String v = arr.length &gt; 1 ? arr[1] : &quot;&quot;\r\n                return [decode(k), decode(v)]\r\n            }\r\n    }\r\n\r\n    private static String decode(String s) {\r\n        URLDecoder.decode(s, StandardCharsets.UTF_8.toString())\r\n    }\r\n```","title":"Parse a URI String into Name-Value Collection","body":"<p>In groovy</p>\n<pre><code>    static Map parseQueryParams(String queryString) {\n        if(!queryString) return [:]\n        queryString.split(&quot;&amp;&quot;)\n            .collect({ it.split(&quot;=&quot;) })\n            .collectEntries { String[] arr -&gt;\n                String k = arr.length &gt; 0 ? arr[0] : &quot;&quot;\n                String v = arr.length &gt; 1 ? arr[1] : &quot;&quot;\n                return [decode(k), decode(v)]\n            }\n    }\n\n    private static String decode(String s) {\n        URLDecoder.decode(s, StandardCharsets.UTF_8.toString())\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684532751,"creation_date":1684532751,"answer_id":76292587,"question_id":13592236,"body_markdown":"this is based on the solution above by Dariusz and Pr0gr4mm3r,  but it didn&#39;t quite work because their version didn&#39;t handle decoding of names/parameters, it also wasn&#39;t properly handling situations where a key was defined but no value was defined or when a value was defined but no key defined.  this version essentially tries to match the functionality of the original HttpUtils.parseQueryString() method as much as possible:\r\n\r\n\r\n    public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\r\n        if (Strings.isNullOrEmpty(url.getQuery())) {\r\n            return Collections.emptyMap();\r\n        }\r\n        try {\r\n            String qs = url.getQuery();\r\n            return splitQuery(qs);\r\n        } catch (IllegalArgumentException e) {\r\n            String qs = url.getQuery();\r\n            String decoded = URLDecoder.decode(qs, StandardCharsets.UTF_8);\r\n            return splitQuery(decoded);\r\n        }\r\n    }\r\n    \r\n    public Map&lt;String, List&lt;String&gt;&gt; splitQuery(String qs) {\r\n        return Arrays.stream(qs.split(&quot;&amp;&quot;))\r\n                .map(this::splitQueryParameter)\r\n                .collect(Collectors.groupingBy(AbstractMap.SimpleImmutableEntry::getKey, LinkedHashMap::new, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\r\n    }\r\n\r\n    public AbstractMap.SimpleImmutableEntry&lt;String, String&gt; splitQueryParameter(String it) {\r\n        final int idx = it.indexOf(&quot;=&quot;);\r\n        if(idx == -1) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        final String key = idx &gt; 0 ? it.substring(0, idx) : &quot;&quot;;\r\n        final String value = (idx &gt; 0 &amp;&amp; it.length() &gt; idx + 1) || (it.indexOf(&#39;=&#39;) == it.length()-1) || (it.indexOf(&#39;=&#39;) == 0)  ? it.substring(idx + 1) : it.substring(idx);\r\n        return new AbstractMap.SimpleImmutableEntry&lt;&gt;(URLDecoder.decode(key, StandardCharsets.UTF_8), URLDecoder.decode(value, StandardCharsets.UTF_8));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nJUnit:\r\n\r\n    @Test\r\n    public void testSplitQuery2() throws MalformedURLException {\r\n        URL url = new URL(&quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;);\r\n        Map&lt;String, List&lt;String&gt;&gt; listMap = splitQuery(url);\r\n        for (String s : listMap.keySet()) {\r\n            List&lt;String&gt; stringList = listMap.get(s);\r\n            logger.info(&quot;s: &quot; + s + &quot;, stringList: &quot; + stringList);\r\n        }\r\n    }\r\n\r\n\r\nResponse:\r\n\r\n    testSplitQuery2 s: client_id, stringList: [SS]                           \r\n    testSplitQuery2 s: response_type, stringList: [code]                     \r\n    testSplitQuery2 s: scope, stringList: [N_FULL]                           \r\n    testSplitQuery2 s: access_type, stringList: [offline]                    \r\n    testSplitQuery2 s: redirect_uri, stringList: [http://localhost/Callback] \r\n\r\n","title":"Parse a URI String into Name-Value Collection","body":"<p>this is based on the solution above by Dariusz and Pr0gr4mm3r,  but it didn't quite work because their version didn't handle decoding of names/parameters, it also wasn't properly handling situations where a key was defined but no value was defined or when a value was defined but no key defined.  this version essentially tries to match the functionality of the original HttpUtils.parseQueryString() method as much as possible:</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\n    if (Strings.isNullOrEmpty(url.getQuery())) {\n        return Collections.emptyMap();\n    }\n    try {\n        String qs = url.getQuery();\n        return splitQuery(qs);\n    } catch (IllegalArgumentException e) {\n        String qs = url.getQuery();\n        String decoded = URLDecoder.decode(qs, StandardCharsets.UTF_8);\n        return splitQuery(decoded);\n    }\n}\n\npublic Map&lt;String, List&lt;String&gt;&gt; splitQuery(String qs) {\n    return Arrays.stream(qs.split(&quot;&amp;&quot;))\n            .map(this::splitQueryParameter)\n            .collect(Collectors.groupingBy(AbstractMap.SimpleImmutableEntry::getKey, LinkedHashMap::new, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n}\n\npublic AbstractMap.SimpleImmutableEntry&lt;String, String&gt; splitQueryParameter(String it) {\n    final int idx = it.indexOf(&quot;=&quot;);\n    if(idx == -1) {\n        throw new IllegalArgumentException();\n    }\n    final String key = idx &gt; 0 ? it.substring(0, idx) : &quot;&quot;;\n    final String value = (idx &gt; 0 &amp;&amp; it.length() &gt; idx + 1) || (it.indexOf('=') == it.length()-1) || (it.indexOf('=') == 0)  ? it.substring(idx + 1) : it.substring(idx);\n    return new AbstractMap.SimpleImmutableEntry&lt;&gt;(URLDecoder.decode(key, StandardCharsets.UTF_8), URLDecoder.decode(value, StandardCharsets.UTF_8));\n}\n</code></pre>\n<p>JUnit:</p>\n<pre><code>@Test\npublic void testSplitQuery2() throws MalformedURLException {\n    URL url = new URL(&quot;https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback&quot;);\n    Map&lt;String, List&lt;String&gt;&gt; listMap = splitQuery(url);\n    for (String s : listMap.keySet()) {\n        List&lt;String&gt; stringList = listMap.get(s);\n        logger.info(&quot;s: &quot; + s + &quot;, stringList: &quot; + stringList);\n    }\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>testSplitQuery2 s: client_id, stringList: [SS]                           \ntestSplitQuery2 s: response_type, stringList: [code]                     \ntestSplitQuery2 s: scope, stringList: [N_FULL]                           \ntestSplitQuery2 s: access_type, stringList: [offline]                    \ntestSplitQuery2 s: redirect_uri, stringList: [http://localhost/Callback] \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691068590,"creation_date":1691068590,"answer_id":76828467,"question_id":13592236,"body_markdown":"As part of my task, it was necessary to parse the encoded parameters into a Map&lt;String, Object&gt;\r\nso that single occurrences could be a string, and multiple ones a list.\r\n\r\nRequirements: \r\n - Java 8 version\r\n - org.apache.http.client.utils.URLEncodedUtils\r\n\r\nCode:\r\n\r\n    var params = &quot;orderNumber=111&amp;orderNumber=222&amp;orderNumber=333&amp;amount=100&amp;returnUrl=https%3A%2F%2Ftest.local%2Fe9f50435&amp;description=payment&amp;jsonParams=%7B%22emails%22%3A%5B%22test%40test.local%22%5D%2C%22headerId%22%3A%5B%226669666%22%5D%2C%22id%22%3A%5B%22123123%22%5D%7D&amp;clientId=clientId&quot;;\r\n\r\n    LinkedHashMap&lt;String, Object&gt; collect = URLEncodedUtils.parse(params, StandardCharsets.UTF_8)\r\n        .stream()\r\n        .collect(groupingBy(\r\n            NameValuePair::getName,\r\n            LinkedHashMap::new,\r\n            collectingAndThen(toList(), list -&gt; {\r\n                if (1 == list.size()) {\r\n                    return list.get(0).getValue();\r\n                }\r\n\r\n                return list.stream()\r\n                        .map(NameValuePair::getValue)\r\n                        .collect(toList());\r\n            })));\r\n\r\n\r\nReturns this Map:\r\n\r\n    {\r\n        orderNumber=[111, 222, 333],\r\n        amount=100,\r\n        returnUrl=https://test.local/e9f50435,\r\n        description=payment,\r\n        jsonParams={&quot;emails&quot;:[&quot;test@test.local&quot;],&quot;headerId&quot;:[&quot;6669666&quot;],&quot;id&quot;:[&quot;123123&quot;]},\r\n        clientId=clientId\r\n    }","title":"Parse a URI String into Name-Value Collection","body":"<p>As part of my task, it was necessary to parse the encoded parameters into a Map&lt;String, Object&gt;\nso that single occurrences could be a string, and multiple ones a list.</p>\n<p>Requirements:</p>\n<ul>\n<li>Java 8 version</li>\n<li>org.apache.http.client.utils.URLEncodedUtils</li>\n</ul>\n<p>Code:</p>\n<pre><code>var params = &quot;orderNumber=111&amp;orderNumber=222&amp;orderNumber=333&amp;amount=100&amp;returnUrl=https%3A%2F%2Ftest.local%2Fe9f50435&amp;description=payment&amp;jsonParams=%7B%22emails%22%3A%5B%22test%40test.local%22%5D%2C%22headerId%22%3A%5B%226669666%22%5D%2C%22id%22%3A%5B%22123123%22%5D%7D&amp;clientId=clientId&quot;;\n\nLinkedHashMap&lt;String, Object&gt; collect = URLEncodedUtils.parse(params, StandardCharsets.UTF_8)\n    .stream()\n    .collect(groupingBy(\n        NameValuePair::getName,\n        LinkedHashMap::new,\n        collectingAndThen(toList(), list -&gt; {\n            if (1 == list.size()) {\n                return list.get(0).getValue();\n            }\n\n            return list.stream()\n                    .map(NameValuePair::getValue)\n                    .collect(toList());\n        })));\n</code></pre>\n<p>Returns this Map:</p>\n<pre><code>{\n    orderNumber=[111, 222, 333],\n    amount=100,\n    returnUrl=https://test.local/e9f50435,\n    description=payment,\n    jsonParams={&quot;emails&quot;:[&quot;test@test.local&quot;],&quot;headerId&quot;:[&quot;6669666&quot;],&quot;id&quot;:[&quot;123123&quot;]},\n    clientId=clientId\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697941146,"creation_date":1697941146,"answer_id":77338433,"question_id":13592236,"body_markdown":"The answer from Dmitry Senkovich was the best so far. But what if you want to get the query parameter map from an HttpServletRequest, not from a full URL string? if you do `request.getRequestURL()` you get everything except the query string. If you do `request.getQueryString()` you get just the query string. You could concatenate those and then use the method suggested.\r\n\r\nHowever, here&#39;s a one-liner (almost) that will return a nice `MultiValueMap` from a `HttpServletRequest`, *without* using `getQueryParams()` (which makes `getInputStream()` fail):\r\n\r\n        final MultiValueMap&lt;String,String&gt; m = UriComponentsBuilder.newInstance().\r\n             query(request.getQueryString()).build().getQueryParams();\r\n\r\nYou&#39;re creating an &quot;empty&quot; `UriComponentBuilder`, then setting the query string, then getting it back as a `MultiValueMap`.","title":"Parse a URI String into Name-Value Collection","body":"<p>The answer from Dmitry Senkovich was the best so far. But what if you want to get the query parameter map from an HttpServletRequest, not from a full URL string? if you do <code>request.getRequestURL()</code> you get everything except the query string. If you do <code>request.getQueryString()</code> you get just the query string. You could concatenate those and then use the method suggested.</p>\n<p>However, here's a one-liner (almost) that will return a nice <code>MultiValueMap</code> from a <code>HttpServletRequest</code>, <em>without</em> using <code>getQueryParams()</code> (which makes <code>getInputStream()</code> fail):</p>\n<pre><code>    final MultiValueMap&lt;String,String&gt; m = UriComponentsBuilder.newInstance().\n         query(request.getQueryString()).build().getQueryParams();\n</code></pre>\n<p>You're creating an &quot;empty&quot; <code>UriComponentBuilder</code>, then setting the query string, then getting it back as a <code>MultiValueMap</code>.</p>\n"}],"owner":{"account_id":923282,"reputation":4235,"user_id":954544,"accept_rate":73,"display_name":"Sergey Shafiev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465814,"favorite_count":0,"down_vote_count":0,"up_vote_count":361,"accepted_answer_id":13592567,"answer_count":34,"score":361,"last_activity_date":1697941146,"creation_date":1354047118,"question_id":13592236,"body_markdown":"I&#39;ve got the URI like this:\r\n\r\n    https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\r\n\r\nI need a collection with parsed elements:\r\n\r\n    NAME               VALUE\r\n    ------------------------\r\n    client_id          SS\r\n    response_type      code\r\n    scope              N_FULL\r\n    access_type        offline\r\n    redirect_uri       http://localhost/Callback\r\n\r\nTo be exact, I need a Java equivalent for the C#/.NET [`HttpUtility.ParseQueryString`][1] method.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.web.httputility.parsequerystring?view=netcore-3.1","title":"Parse a URI String into Name-Value Collection","body":"<p>I've got the URI like this:</p>\n<pre><code>https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\n</code></pre>\n<p>I need a collection with parsed elements:</p>\n<pre><code>NAME               VALUE\n------------------------\nclient_id          SS\nresponse_type      code\nscope              N_FULL\naccess_type        offline\nredirect_uri       http://localhost/Callback\n</code></pre>\n<p>To be exact, I need a Java equivalent for the C#/.NET <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.web.httputility.parsequerystring?view=netcore-3.1\" rel=\"noreferrer\"><code>HttpUtility.ParseQueryString</code></a> method.</p>\n"},{"tags":["java","linux","java-8","windows-10","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":4113451,"reputation":16922,"user_id":3375713,"accept_rate":93,"display_name":"Sнаđошƒаӽ"},"score":0,"creation_date":1615746715,"post_id":63866813,"comment_id":117781113,"body_markdown":"Installed things do not _hog CPU/RAM_ unless you use those - they only take up space.","body":"Installed things do not <i>hog CPU/RAM</i> unless you use those - they only take up space."},{"owner":{"account_id":18336519,"reputation":688,"user_id":13353813,"display_name":"Mushfiqur Rahman Abir"},"score":0,"creation_date":1615820597,"post_id":63866813,"comment_id":117803026,"body_markdown":"Yeah, but running both JDK on wsl &amp; JDK on windows won&#39;t hog CPU/RAM? But yeah I got what you are saying &amp; you are right","body":"Yeah, but running both JDK on wsl &amp; JDK on windows won&#39;t hog CPU/RAM? But yeah I got what you are saying &amp; you are right"},{"owner":{"account_id":365431,"reputation":4956,"user_id":2057091,"accept_rate":89,"display_name":"Aserre"},"score":1,"creation_date":1638517364,"post_id":63866813,"comment_id":124114409,"body_markdown":"For what it&#39;s worth, [here](https://itnext.io/using-wsl-2-to-develop-java-application-on-windows-8aac1123c59b) is a medium post comparing perfomances of a native JDK vs a WSL2 jdk, both in command line and inside IntelliJ. As always, your milleage may vary depending on your configuration","body":"For what it&#39;s worth, <a href=\"https://itnext.io/using-wsl-2-to-develop-java-application-on-windows-8aac1123c59b\" rel=\"nofollow noreferrer\">here</a> is a medium post comparing perfomances of a native JDK vs a WSL2 jdk, both in command line and inside IntelliJ. As always, your milleage may vary depending on your configuration"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1599974342,"creation_date":1599973714,"answer_id":63867375,"question_id":63866813,"body_markdown":"There is not a &quot;proper&quot; (as in **supported** or **recommended** by JDK providers) way to install or use Java on WSL.  I could not find any official recommendations.  \r\n\r\nHowever, it is possible to either install and use Oracle JDK for Windows installation from WSL, or install OpenJDK Java into your WSL world from the Ubuntu package manager.  \r\n\r\n&gt; I was just wondering if I need to install all the development tools and binaries again on Linux won&#39;t it take a lot of space &amp; hog a lot of CPU/Ram resources ?\r\n\r\nSee above.  But note that you are only going to &quot;hog CPU/RAM&quot; if you are *running* both kinds of JVM *at the same time*.  \r\n\r\nReferences:\r\n\r\n  - https://stackoverflow.com/questions/36478741/installing-oracle-jdk-on-windows-subsystem-for-linux\r\n  - [Java JDK 11 install script for Windows Subsystem for Linux (WSL) ](https://gist.github.com/Sawaba/22f3c3d4ec9a12dd972c2ecc71e4eca9)\r\n  - [Windows Subsystem for Linux Java Setup](https://dev.to/mumu/windows-subsystem-for-linux-java-setup-2b2b) ... using the Ubuntu package system. \r\n\r\n&lt;sup&gt;(There are many more articles on this topic if the above don&#39;t address your concerns.)&lt;/sup&gt;","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>There is not a &quot;proper&quot; (as in <strong>supported</strong> or <strong>recommended</strong> by JDK providers) way to install or use Java on WSL.  I could not find any official recommendations.</p>\n<p>However, it is possible to either install and use Oracle JDK for Windows installation from WSL, or install OpenJDK Java into your WSL world from the Ubuntu package manager.</p>\n<blockquote>\n<p>I was just wondering if I need to install all the development tools and binaries again on Linux won't it take a lot of space &amp; hog a lot of CPU/Ram resources ?</p>\n</blockquote>\n<p>See above.  But note that you are only going to &quot;hog CPU/RAM&quot; if you are <em>running</em> both kinds of JVM <em>at the same time</em>.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36478741/installing-oracle-jdk-on-windows-subsystem-for-linux\">Installing Oracle JDK on Windows subsystem for Linux</a></li>\n<li><a href=\"https://gist.github.com/Sawaba/22f3c3d4ec9a12dd972c2ecc71e4eca9\" rel=\"noreferrer\">Java JDK 11 install script for Windows Subsystem for Linux (WSL) </a></li>\n<li><a href=\"https://dev.to/mumu/windows-subsystem-for-linux-java-setup-2b2b\" rel=\"noreferrer\">Windows Subsystem for Linux Java Setup</a> ... using the Ubuntu package system.</li>\n</ul>\n<p><sup>(There are many more articles on this topic if the above don't address your concerns.)</sup></p>\n"},{"tags":[],"owner":{"account_id":15086966,"reputation":451,"user_id":10887904,"display_name":"Karam"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1606351677,"creation_date":1606351677,"answer_id":65014677,"question_id":63866813,"body_markdown":"Run the following commands as a user with sudo privileges or root to update the packages index and install the OpenJDK 11 JDK package:\r\n\r\n    $ sudo apt update\r\n    $ sudo apt install openjdk-11-jdk\r\n\r\nOnce the installation is complete, you can verify it by checking the Java version:\r\n\r\n    $ java -version\r\n\r\nThe output should look something like this:\r\n\r\n    openjdk version &quot;11.0.7&quot; 2020-04-14\r\n    OpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)\r\n\r\nSet JAVA_HOME Environment Variable:\r\nOpenJDK 11 is located at /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n\r\nOnce you found the path of your preferred Java installation, open the /etc/environment file:\r\n\r\n    $ sudo nano /etc/environment\r\nAssuming you want to set JAVA_HOME to point to OpenJDK 11, add the following line, at the end of the file:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n\r\nFor changes to take effect on your current shell you can either log out and log in or run the following source command:\r\n\r\n    $ source /etc/environment\r\n\r\nVerify that the JAVA_HOME environment variable was correctly set:\r\n\r\n    $ echo $JAVA_HOME\r\nYou should see the path to the Java installation:\r\n\r\n    /usr/lib/jvm/java-11-openjdk-amd64\r\n\r\n\r\nfor reference you can follow this link below \r\n[How to Install Java on Ubuntu 20.04][1]\r\n\r\n\r\n  [1]: https://linuxize.com/post/install-java-on-ubuntu-20-04/","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>Run the following commands as a user with sudo privileges or root to update the packages index and install the OpenJDK 11 JDK package:</p>\n<pre><code>$ sudo apt update\n$ sudo apt install openjdk-11-jdk\n</code></pre>\n<p>Once the installation is complete, you can verify it by checking the Java version:</p>\n<pre><code>$ java -version\n</code></pre>\n<p>The output should look something like this:</p>\n<pre><code>openjdk version &quot;11.0.7&quot; 2020-04-14\nOpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)\nOpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)\n</code></pre>\n<p>Set JAVA_HOME Environment Variable:\nOpenJDK 11 is located at /usr/lib/jvm/java-11-openjdk-amd64/bin/java</p>\n<p>Once you found the path of your preferred Java installation, open the /etc/environment file:</p>\n<pre><code>$ sudo nano /etc/environment\n</code></pre>\n<p>Assuming you want to set JAVA_HOME to point to OpenJDK 11, add the following line, at the end of the file:</p>\n<pre><code>JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n</code></pre>\n<p>For changes to take effect on your current shell you can either log out and log in or run the following source command:</p>\n<pre><code>$ source /etc/environment\n</code></pre>\n<p>Verify that the JAVA_HOME environment variable was correctly set:</p>\n<pre><code>$ echo $JAVA_HOME\n</code></pre>\n<p>You should see the path to the Java installation:</p>\n<pre><code>/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n<p>for reference you can follow this link below\n<a href=\"https://linuxize.com/post/install-java-on-ubuntu-20-04/\" rel=\"noreferrer\">How to Install Java on Ubuntu 20.04</a></p>\n"},{"tags":[],"owner":{"account_id":16955382,"reputation":411,"user_id":12263918,"display_name":"KR32"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1623473397,"creation_date":1623473058,"answer_id":67945684,"question_id":63866813,"body_markdown":"We can use that Windows JDK inside the wsl2.  we should add this to `/etc/environment`\r\n\r\n    JAVA_HOME=/mnt/c/Program Files/Java/jdk-11.0.8/bin/\r\n\r\nby adding this bin folder we may run regular commands but append with .exe format eg: `javac.exe hello.java` `java.exe hello.java`\r\n\r\nif you don&#39;t like that way then add alias like below:\r\n\r\n    alias java=&#39;java.exe&#39;\r\n    alias javac=&#39;javac.exe&#39;\r\n\r\nI think we can use any of the windows programs like this :)","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>We can use that Windows JDK inside the wsl2.  we should add this to <code>/etc/environment</code></p>\n<pre><code>JAVA_HOME=/mnt/c/Program Files/Java/jdk-11.0.8/bin/\n</code></pre>\n<p>by adding this bin folder we may run regular commands but append with .exe format eg: <code>javac.exe hello.java</code> <code>java.exe hello.java</code></p>\n<p>if you don't like that way then add alias like below:</p>\n<pre><code>alias java='java.exe'\nalias javac='javac.exe'\n</code></pre>\n<p>I think we can use any of the windows programs like this :)</p>\n"},{"tags":[],"owner":{"account_id":2447871,"reputation":435,"user_id":2134904,"accept_rate":100,"display_name":"JustABit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675679693,"creation_date":1675679693,"answer_id":75360151,"question_id":63866813,"body_markdown":"I installed Java via IntelliJ IDEA on Windows 11 and wanted to reuse the installation on WSL.\r\n\r\nCreate matching functions in `~/.bashrc` to start the executables directly and export them so they can be used from subshells:\r\n```\r\njava() {\r\n    /mnt/c/Program\\ Files/Eclipse\\ Adoptium/jdk-&lt;version&gt;/bin/java.exe &quot;$@&quot;\r\n}\r\nexport -f java\r\n\r\njavac() {\r\n    /mnt/c/Program\\ Files/Eclipse\\ Adoptium/jdk-&lt;version&gt;/bin/javac.exe &quot;$@&quot;\r\n}\r\nexport -f javac\r\n```","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>I installed Java via IntelliJ IDEA on Windows 11 and wanted to reuse the installation on WSL.</p>\n<p>Create matching functions in <code>~/.bashrc</code> to start the executables directly and export them so they can be used from subshells:</p>\n<pre><code>java() {\n    /mnt/c/Program\\ Files/Eclipse\\ Adoptium/jdk-&lt;version&gt;/bin/java.exe &quot;$@&quot;\n}\nexport -f java\n\njavac() {\n    /mnt/c/Program\\ Files/Eclipse\\ Adoptium/jdk-&lt;version&gt;/bin/javac.exe &quot;$@&quot;\n}\nexport -f javac\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22029834,"reputation":21,"user_id":16297278,"display_name":"Aaman satvilkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688279800,"creation_date":1688279800,"answer_id":76597680,"question_id":63866813,"body_markdown":"Well I had faced same issue of installing jdk on wsl but I did&#39;nt find any solution for directing putting the path of windows jdk path into wsl.\r\n\r\n 1. So I followed an alterantive way, I had installed jdk on wsl/Ubuntu with cmd.\r\n\r\n    sudo apt install default-jdk\r\n\r\nor install any of jdk version.\r\n\r\n 2. Before installing make sure to update ur packages/modules.\r\n\r\n    sudo apt-get update\r\n  \r\n 3.Get the path of the isntalled jdk\r\n\r\n    which java\r\n\r\nThe problem here is that the location it gives is actually a symbolic link. You’ll have to follow it a couple of times:\r\n\r\n 4. Setting JAVA_HOME variable\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n\r\ncheck the value of JAVA_HOME variable:\r\n\r\n    echo $JAVA_HOME\r\n\r\n  5. This is not over yet. The JAVA_HOME variable you just \r\n     declared is temporary. If you close the terminal or start a \r\n     new session, it will be empty again.\r\n     \r\n     To set JAVA_HOME variable ‘permanently’, you should add it \r\n     to the bashrc file in your home directory.\r\n     \r\n     Back up your bashrc file (in case you mess it, you can get \r\n     it back):\r\n\r\n    cp ~/.bashrc ~/.bashrc.bak\r\n     \r\n     Next, use the echo command to append the export command you used at the beginning of this section. Change the command below to use the correct path as displayed by your system in.\r\n\r\n    echo &quot;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64&quot; \r\n    &gt;&gt; ~/.bashrc\r\n\r\nVerify that it has been correctly added to the end of the file:\r\n\r\n    tail -3 ~/.bashrc\r\n\r\nThe above tail command will show the last 3 lines of the specified file.\r\n\r\n  [1]: https://i.stack.imgur.com/tKBRQ.png","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>Well I had faced same issue of installing jdk on wsl but I did'nt find any solution for directing putting the path of windows jdk path into wsl.</p>\n<ol>\n<li><p>So I followed an alterantive way, I had installed jdk on wsl/Ubuntu with cmd.</p>\n<p>sudo apt install default-jdk</p>\n</li>\n</ol>\n<p>or install any of jdk version.</p>\n<ol start=\"2\">\n<li><p>Before installing make sure to update ur packages/modules.</p>\n<p>sudo apt-get update</p>\n</li>\n</ol>\n<p>3.Get the path of the isntalled jdk</p>\n<pre><code>which java\n</code></pre>\n<p>The problem here is that the location it gives is actually a symbolic link. You’ll have to follow it a couple of times:</p>\n<ol start=\"4\">\n<li><p>Setting JAVA_HOME variable</p>\n<p>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/bin/java</p>\n</li>\n</ol>\n<p>check the value of JAVA_HOME variable:</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<ol start=\"5\">\n<li><p>This is not over yet. The JAVA_HOME variable you just\ndeclared is temporary. If you close the terminal or start a\nnew session, it will be empty again.</p>\n<p>To set JAVA_HOME variable ‘permanently’, you should add it\nto the bashrc file in your home directory.</p>\n<p>Back up your bashrc file (in case you mess it, you can get\nit back):</p>\n</li>\n</ol>\n<pre><code>cp ~/.bashrc ~/.bashrc.bak\n \n Next, use the echo command to append the export command you used at the beginning of this section. Change the command below to use the correct path as displayed by your system in.\n\necho &quot;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64&quot; \n&gt;&gt; ~/.bashrc\n</code></pre>\n<p>Verify that it has been correctly added to the end of the file:</p>\n<pre><code>tail -3 ~/.bashrc\n</code></pre>\n<p>The above tail command will show the last 3 lines of the specified file.</p>\n"},{"tags":[],"owner":{"account_id":1034502,"reputation":1373,"user_id":1042151,"accept_rate":25,"display_name":"tom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697938674,"creation_date":1697938674,"answer_id":77338377,"question_id":63866813,"body_markdown":"Since the distribution of WSL Ubuntu you have may not support the latest version of the JDK, you can also download and install it.\r\n\r\nGo to https://jdk.java.net/21/ for instance and select the &quot;Linux / x64&quot; (if appropriate) version to download.\r\n\r\nExecute the following to specify this one as the Java version to run.\r\n\r\n```\r\nversion=21\r\nmajor_minor_patch=21.0.1\r\n\r\nsudo tar xvf openjdk-${major_minor_patch}_linux-x64_bin.tar.gz -C /usr/lib/jvm\r\nsudo ln -s /usr/lib/jvm/jdk-${major_minor_patch} /usr/lib/jvm/jdk-${version}\r\n\r\nfor p in java javac jar ; do sudo update-alternatives --install /usr/bin/$p $p /usr/lib/jvm/jdk-${version}/bin/$p 11111 ; done\r\n```\r\n\r\nConfirm selections:\r\n```\r\nsudo update-alternatives --config java\r\nsudo update-alternatives --config javac\r\nsudo update-alternatives --config jar\r\n```","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>Since the distribution of WSL Ubuntu you have may not support the latest version of the JDK, you can also download and install it.</p>\n<p>Go to <a href=\"https://jdk.java.net/21/\" rel=\"nofollow noreferrer\">https://jdk.java.net/21/</a> for instance and select the &quot;Linux / x64&quot; (if appropriate) version to download.</p>\n<p>Execute the following to specify this one as the Java version to run.</p>\n<pre><code>version=21\nmajor_minor_patch=21.0.1\n\nsudo tar xvf openjdk-${major_minor_patch}_linux-x64_bin.tar.gz -C /usr/lib/jvm\nsudo ln -s /usr/lib/jvm/jdk-${major_minor_patch} /usr/lib/jvm/jdk-${version}\n\nfor p in java javac jar ; do sudo update-alternatives --install /usr/bin/$p $p /usr/lib/jvm/jdk-${version}/bin/$p 11111 ; done\n</code></pre>\n<p>Confirm selections:</p>\n<pre><code>sudo update-alternatives --config java\nsudo update-alternatives --config javac\nsudo update-alternatives --config jar\n</code></pre>\n"}],"owner":{"account_id":18336519,"reputation":688,"user_id":13353813,"display_name":"Mushfiqur Rahman Abir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48720,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"accepted_answer_id":63867375,"answer_count":6,"score":43,"last_activity_date":1697938674,"creation_date":1599966899,"question_id":63866813,"body_markdown":"I have installed Ubuntu 20.4 LTS on WSL. My windows 10 already have the JDK installed. Do I need to install JDK on ubuntu on WSL or can I use the Windows 10 JDK in the Ubuntu? How you do Java programming on WSL? Which is the proper way?\r\n\r\nI was just wondering if I need to install all the development tools and binaries again on Linux won&#39;t it take a lot of space &amp; hog a lot of CPU/Ram resources?","title":"What is the proper way of using JDK on WSL2 on Windows 10?","body":"<p>I have installed Ubuntu 20.4 LTS on WSL. My windows 10 already have the JDK installed. Do I need to install JDK on ubuntu on WSL or can I use the Windows 10 JDK in the Ubuntu? How you do Java programming on WSL? Which is the proper way?</p>\n<p>I was just wondering if I need to install all the development tools and binaries again on Linux won't it take a lot of space &amp; hog a lot of CPU/Ram resources?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1697929996,"post_id":77337995,"comment_id":136341470,"body_markdown":"Putting print statements for debugging is good. But, have you tried running the code in a debugger? You can set a breakpoint on a line of code you are confident worked. Then, you can run the code one-step-at-a-time while monitoring variables.","body":"Putting print statements for debugging is good. But, have you tried running the code in a debugger? You can set a breakpoint on a line of code you are confident worked. Then, you can run the code one-step-at-a-time while monitoring variables."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1697934395,"post_id":77337995,"comment_id":136341755,"body_markdown":"Check the `parseMove()` method. Are the returned index values really what you want?","body":"Check the <code>parseMove()</code> method. Are the returned index values really what you want?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697937422,"creation_date":1697937422,"answer_id":77338338,"question_id":77337995,"body_markdown":"The _parseMove_ values are incorrect, and you&#39;re swapping _x_ for _y_.\r\n\r\n```java\r\nint startX = Character.toUpperCase(move.charAt(1)) - &#39;A&#39;;\r\nint startY = 8 - Character.getNumericValue(move.charAt(0));\r\nint endX = Character.toUpperCase(move.charAt(4)) - &#39;A&#39;;\r\nint endY = 8 - Character.getNumericValue(move.charAt(3));\r\n```","title":"Can&#39;t make a move in my text based checkers game in java","body":"<p>The <em>parseMove</em> values are incorrect, and you're swapping <em>x</em> for <em>y</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int startX = Character.toUpperCase(move.charAt(1)) - 'A';\nint startY = 8 - Character.getNumericValue(move.charAt(0));\nint endX = Character.toUpperCase(move.charAt(4)) - 'A';\nint endY = 8 - Character.getNumericValue(move.charAt(3));\n</code></pre>\n"}],"owner":{"account_id":29725132,"reputation":1,"user_id":22781333,"display_name":"AncientPig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697937422,"creation_date":1697926651,"question_id":77337995,"body_markdown":"I have 2 java files for this project. One is the text based console UI and the other is the game logic.\r\n\r\nThis is the code for the UI:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * This class represents the user interface for the Checkers game.\r\n */\r\npublic class CheckersTextConsole {\r\n\t/**\r\n     * The main method to run the Checkers game.\r\n     *\r\n     * @param args The command-line arguments (not used).\r\n     */\r\n    public static void main(String[] args) {\r\n        CheckersLogic game = new CheckersLogic();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            printBoard(game.getBoard()); // Print the game board\r\n            System.out.println(&quot;Player &quot; + game.getCurrentPlayer() + &quot;&#39;s turn.&quot;);\r\n            System.out.print(&quot;Enter move (e.g., 3a-4b): &quot;);\r\n            String move = scanner.nextLine();\r\n\r\n            move = move.trim().toLowerCase().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\r\n            if (isValidMoveFormat(move)) {\r\n                int[] coordinates = parseMove(move);\r\n                if (coordinates != null) {\r\n                    int startX = coordinates[0];\r\n                    int startY = coordinates[1];\r\n                    int endX = coordinates[2];\r\n                    int endY = coordinates[3];\r\n\r\n                    if (game.isValidMove(startX, startY, endX, endY, game.getCurrentPlayer())) {\r\n                        if (game.makeMove(startX, startY, endX, endY)) {\r\n                            if (game.isGameOver()) {\r\n                                printBoard(game.getBoard());\r\n                                System.out.println(&quot;The game is over!&quot;);\r\n                                break;\r\n                            }\r\n                        } else {\r\n                            System.out.println(&quot;Invalid move. Try again.&quot;);\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;Invalid move. Try again.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid move format. Try again.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Invalid move format. Try again.&quot;);\r\n            }\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n    \r\n    /**\r\n     * Parses a move string and returns an array of integers representing the coordinates.\r\n     *\r\n     * @param move The move string in the format &quot;3a-4b&quot;.\r\n     * @return An array of integers containing the coordinates [startX, startY, endX, endY].\r\n     */\r\n    private static int[] parseMove(String move) {\r\n        if (move.matches(&quot;\\\\d[a-hA-H]-\\\\d[a-hA-H]&quot;)) {\r\n            int startX = Character.getNumericValue(move.charAt(0)) - 1;\r\n            int startY = Character.toUpperCase(move.charAt(1)) - &#39;A&#39;;\r\n            int endX = Character.getNumericValue(move.charAt(3)) - 1;\r\n            int endY = Character.toUpperCase(move.charAt(4)) - &#39;A&#39;;\r\n\r\n            // Debugging: Print parsed coordinates\r\n            System.out.println(&quot;Parsed Coordinates: (&quot; + startX + &quot;, &quot; + startY + &quot;) - (&quot; + endX + &quot;, &quot; + endY + &quot;)&quot;);\r\n            \r\n            return new int[] { startX, startY, endX, endY };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if the move string has a valid format.\r\n     *\r\n     * @param move The move string to be checked.\r\n     * @return true if the format is valid, false otherwise.\r\n     */\r\n    private static boolean isValidMoveFormat(String move) {\r\n        return move.matches(&quot;\\\\d[a-hA-H]-\\\\d[a-hA-H]&quot;);\r\n    }\r\n\r\n    public static void printBoard(char[][] board) {\r\n        System.out.println(&quot;  a b c d e f g h&quot;);\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            System.out.print(8 - i + &quot; &quot;);\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                System.out.print(board[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println(8 - i);\r\n        }\r\n        System.out.println(&quot;  a b c d e f g h&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis is the code for the logic:\r\n\r\n\r\n```\r\n/**\r\n * This class represents the game logic for a simple Checkers game without kinging.\r\n */\r\nclass CheckersLogic {\r\n    private char[][] board;\r\n    private char currentPlayer;\r\n\r\n    /**\r\n     * Initializes the board and sets up the game.\r\n     */\r\n    public CheckersLogic() {\r\n        // Initialize the board and set up the game\r\n        board = new char[][] {\r\n            {&#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;},\r\n            {&#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;},\r\n            {&#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;, &#39;-&#39;, &#39;O&#39;},\r\n            {&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;},\r\n            {&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;},\r\n            {&#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;},\r\n            {&#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;},\r\n            {&#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;, &#39;X&#39;, &#39;-&#39;}\r\n        };\r\n        currentPlayer = &#39;X&#39;;\r\n    }\r\n\r\n    /**\r\n     * Gets the current player.\r\n     *\r\n     * @return The current player (&#39;X&#39; or &#39;O&#39;).\r\n     */\r\n    public char getCurrentPlayer() {\r\n        return currentPlayer;\r\n    }\r\n\r\n    /**\r\n     * Gets the current state of the game board.\r\n     *\r\n     * @return The game board as a 2D character array.\r\n     */\r\n    public char[][] getBoard() {\r\n        return board;\r\n    }\r\n\r\n    /**\r\n     * Checks if a move is valid.\r\n     *\r\n     * @param startX The starting X coordinate of the piece.\r\n     * @param startY The starting Y coordinate of the piece.\r\n     * @param endX   The ending X coordinate of the piece.\r\n     * @param endY   The ending Y coordinate of the piece.\r\n     * @param player The player making the move (&#39;X&#39; or &#39;O&#39;).\r\n     * @return true if the move is valid, false otherwise.\r\n     */\r\n    public boolean isValidMove(int startX, int startY, int endX, int endY, char player) {\r\n        // Debugging: Print the coordinates and player\r\n        System.out.println(&quot;StartX: &quot; + startX + &quot; StartY: &quot; + startY);\r\n        System.out.println(&quot;EndX: &quot; + endX + &quot; EndY: &quot; + endY);\r\n        System.out.println(&quot;Player: &quot; + player);\r\n\r\n        int xDiff = Math.abs(endX - startX);\r\n        int yDiff = Math.abs(endY - startY);\r\n\r\n        // Check for a regular move (one square diagonal)\r\n        if (xDiff == 1 &amp;&amp; yDiff == 1) {\r\n            if (board[startY][startX] == player &amp;&amp; board[endY][endX] == &#39;-&#39;) {\r\n                System.out.println(&quot;Regular move.&quot;);\r\n                return true;\r\n            } else {\r\n                System.out.println(&quot;Regular move failed due to invalid conditions.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Regular move failed due to xDiff or yDiff.&quot;);\r\n        }\r\n\r\n        // Check for a capture move (two squares diagonal with an opponent&#39;s piece in between)\r\n        if (xDiff == 2 &amp;&amp; yDiff == 2) {\r\n            int midX = (startX + endX) / 2;\r\n            int midY = (startY + endY) / 2;\r\n\r\n            // Debugging: Print intermediate values\r\n            System.out.println(&quot;MidX: &quot; + midX + &quot; MidY: &quot; + midY);\r\n            System.out.println(&quot;Board[&quot; + startY + &quot;][&quot; + startX + &quot;]: &quot; + board[startY][startX]);\r\n            System.out.println(&quot;Board[&quot; + midY + &quot;][&quot; + midX + &quot;]: &quot; + board[midY][midX]);\r\n            System.out.println(&quot;Board[&quot; + endY + &quot;][&quot; + endX + &quot;]: &quot; + board[endY][endX]);\r\n\r\n            if (board[startY][startX] == player &amp;&amp;\r\n                board[midY][midX] != player &amp;&amp; board[midY][midX] != &#39;-&#39; &amp;&amp;\r\n                board[endY][endX] == &#39;-&#39;) {\r\n                System.out.println(&quot;Capture is valid.&quot;);\r\n                return true; // Capture is valid\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Invalid move.&quot;);\r\n        return false; // The move is not a valid regular or capture move\r\n    }\r\n\r\n    /**\r\n     * Makes a move on the game board.\r\n     *\r\n     * @param startX The starting X coordinate of the piece.\r\n     * @param startY The starting Y coordinate of the piece.\r\n     * @param endX   The ending X coordinate of the piece.\r\n     * @param endY   The ending Y coordinate of the piece.\r\n     * @return true if the move is made successfully, false otherwise.\r\n     */\r\n    public boolean makeMove(int startX, int startY, int endX, int endY) {\r\n        char currentPlayer = board[startY][startX];\r\n\r\n        if (isValidMove(startX, startY, endX, endY, currentPlayer)) {\r\n            // Debugging: Print coordinates before accessing the board\r\n            System.out.println(&quot;startX: &quot; + startX + &quot; startY: &quot; + startY);\r\n            System.out.println(&quot;endX: &quot; + endX + &quot; endY: &quot; + endY);\r\n            \r\n            // Handle capturing an opponent&#39;s piece\r\n            if (Math.abs(endX - startX) == 2 &amp;&amp; Math.abs(endY - startY) == 2) {\r\n                int midX = (startX + endX) / 2;\r\n                int midY = (startY + endY) / 2;\r\n\r\n                // Debugging: Print intermediate values\r\n                System.out.println(&quot;midX: &quot; + midX + &quot; midY: &quot; + midY);\r\n                System.out.println(&quot;board[&quot; + startY + &quot;][&quot; + startX + &quot;]: &quot; + board[startY][startX]);\r\n                System.out.println(&quot;board[&quot; + midY + &quot;][&quot; + midX + &quot;]: &quot; + board[midY][midX]);\r\n                System.out.println(&quot;board[&quot; + endY + &quot;][&quot; + endX + &quot;]: &quot; + board[endY][endX]);\r\n\r\n                if (board[midY][midX] != currentPlayer) {\r\n                    // Capture the opponent&#39;s piece\r\n                    board[endY][endX] = board[startY][startX];\r\n                    board[startY][startX] = &#39;-&#39;;\r\n                    board[midY][midX] = &#39;-&#39;;\r\n                }\r\n            } else {\r\n                // Handle a regular move\r\n                board[endY][endX] = board[startY][startX];\r\n                board[startY][startX] = &#39;-&#39;;\r\n            }\r\n\r\n            // Switch the player&#39;s turn\r\n            switchPlayer();\r\n\r\n            System.out.println(&quot;Move is valid.&quot;);\r\n            return true;\r\n        }\r\n\r\n        System.out.println(&quot;Move is not valid.&quot;);\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Checks if the game is over for both players.\r\n     *\r\n     * @return true if the game is over, false otherwise.\r\n     */\r\n    public boolean isGameOver() {\r\n        return !hasValidMoves(&#39;X&#39;) || !hasValidMoves(&#39;O&#39;);\r\n    }\r\n\r\n    public void switchPlayer() {\r\n        currentPlayer = (currentPlayer == &#39;X&#39;) ? &#39;O&#39; : &#39;X&#39;;\r\n    }\r\n\r\n    /**\r\n     * Checks if there are any valid moves for a piece of the specified player.\r\n     *\r\n     * @param player The player making the move (&#39;X&#39; or &#39;O&#39;).\r\n     * @return true if there are valid moves, false otherwise.\r\n     */\r\n    private boolean hasValidMoves(char player) {\r\n        for (int y = 0; y &lt; 8; y++) {\r\n            for (int x = 0; x &lt; 8; x++) {\r\n                if (board[y][x] == player) {\r\n                    // Iterate through all possible move directions\r\n                    int[][] moveDirections = {{-1, -1}, {-1, 1}, {1, -1}, {1, 1}};\r\n                    for (int[] direction : moveDirections) {\r\n                        int destX = x + direction[0];\r\n                        int destY = y + direction[1];\r\n                        \r\n                        if (isValidMove(x, y, destX, destY, player)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, I have print statements for debugging. According to the output, my move is in the correct format and meets the conditions for a valid move, yet my game still says the move is invalid and won&#39;t make the move. I&#39;ve been trying to figure this out for 8 hours now, can anyone provide some insight into what&#39;s happening?","title":"Can&#39;t make a move in my text based checkers game in java","body":"<p>I have 2 java files for this project. One is the text based console UI and the other is the game logic.</p>\n<p>This is the code for the UI:</p>\n<pre><code>import java.util.Scanner;\n\n/**\n * This class represents the user interface for the Checkers game.\n */\npublic class CheckersTextConsole {\n    /**\n     * The main method to run the Checkers game.\n     *\n     * @param args The command-line arguments (not used).\n     */\n    public static void main(String[] args) {\n        CheckersLogic game = new CheckersLogic();\n        Scanner scanner = new Scanner(System.in);\n\n        while (true) {\n            printBoard(game.getBoard()); // Print the game board\n            System.out.println(&quot;Player &quot; + game.getCurrentPlayer() + &quot;'s turn.&quot;);\n            System.out.print(&quot;Enter move (e.g., 3a-4b): &quot;);\n            String move = scanner.nextLine();\n\n            move = move.trim().toLowerCase().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n\n            if (isValidMoveFormat(move)) {\n                int[] coordinates = parseMove(move);\n                if (coordinates != null) {\n                    int startX = coordinates[0];\n                    int startY = coordinates[1];\n                    int endX = coordinates[2];\n                    int endY = coordinates[3];\n\n                    if (game.isValidMove(startX, startY, endX, endY, game.getCurrentPlayer())) {\n                        if (game.makeMove(startX, startY, endX, endY)) {\n                            if (game.isGameOver()) {\n                                printBoard(game.getBoard());\n                                System.out.println(&quot;The game is over!&quot;);\n                                break;\n                            }\n                        } else {\n                            System.out.println(&quot;Invalid move. Try again.&quot;);\n                        }\n                    } else {\n                        System.out.println(&quot;Invalid move. Try again.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid move format. Try again.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Invalid move format. Try again.&quot;);\n            }\n        }\n\n        scanner.close();\n    }\n    \n    /**\n     * Parses a move string and returns an array of integers representing the coordinates.\n     *\n     * @param move The move string in the format &quot;3a-4b&quot;.\n     * @return An array of integers containing the coordinates [startX, startY, endX, endY].\n     */\n    private static int[] parseMove(String move) {\n        if (move.matches(&quot;\\\\d[a-hA-H]-\\\\d[a-hA-H]&quot;)) {\n            int startX = Character.getNumericValue(move.charAt(0)) - 1;\n            int startY = Character.toUpperCase(move.charAt(1)) - 'A';\n            int endX = Character.getNumericValue(move.charAt(3)) - 1;\n            int endY = Character.toUpperCase(move.charAt(4)) - 'A';\n\n            // Debugging: Print parsed coordinates\n            System.out.println(&quot;Parsed Coordinates: (&quot; + startX + &quot;, &quot; + startY + &quot;) - (&quot; + endX + &quot;, &quot; + endY + &quot;)&quot;);\n            \n            return new int[] { startX, startY, endX, endY };\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Checks if the move string has a valid format.\n     *\n     * @param move The move string to be checked.\n     * @return true if the format is valid, false otherwise.\n     */\n    private static boolean isValidMoveFormat(String move) {\n        return move.matches(&quot;\\\\d[a-hA-H]-\\\\d[a-hA-H]&quot;);\n    }\n\n    public static void printBoard(char[][] board) {\n        System.out.println(&quot;  a b c d e f g h&quot;);\n        for (int i = 0; i &lt; 8; i++) {\n            System.out.print(8 - i + &quot; &quot;);\n            for (int j = 0; j &lt; 8; j++) {\n                System.out.print(board[i][j] + &quot; &quot;);\n            }\n            System.out.println(8 - i);\n        }\n        System.out.println(&quot;  a b c d e f g h&quot;);\n    }\n}\n</code></pre>\n<p>This is the code for the logic:</p>\n<pre><code>/**\n * This class represents the game logic for a simple Checkers game without kinging.\n */\nclass CheckersLogic {\n    private char[][] board;\n    private char currentPlayer;\n\n    /**\n     * Initializes the board and sets up the game.\n     */\n    public CheckersLogic() {\n        // Initialize the board and set up the game\n        board = new char[][] {\n            {'-', 'O', '-', 'O', '-', 'O', '-', 'O'},\n            {'O', '-', 'O', '-', 'O', '-', 'O', '-'},\n            {'-', 'O', '-', 'O', '-', 'O', '-', 'O'},\n            {'-', '-', '-', '-', '-', '-', '-', '-'},\n            {'-', '-', '-', '-', '-', '-', '-', '-'},\n            {'X', '-', 'X', '-', 'X', '-', 'X', '-'},\n            {'-', 'X', '-', 'X', '-', 'X', '-', 'X'},\n            {'X', '-', 'X', '-', 'X', '-', 'X', '-'}\n        };\n        currentPlayer = 'X';\n    }\n\n    /**\n     * Gets the current player.\n     *\n     * @return The current player ('X' or 'O').\n     */\n    public char getCurrentPlayer() {\n        return currentPlayer;\n    }\n\n    /**\n     * Gets the current state of the game board.\n     *\n     * @return The game board as a 2D character array.\n     */\n    public char[][] getBoard() {\n        return board;\n    }\n\n    /**\n     * Checks if a move is valid.\n     *\n     * @param startX The starting X coordinate of the piece.\n     * @param startY The starting Y coordinate of the piece.\n     * @param endX   The ending X coordinate of the piece.\n     * @param endY   The ending Y coordinate of the piece.\n     * @param player The player making the move ('X' or 'O').\n     * @return true if the move is valid, false otherwise.\n     */\n    public boolean isValidMove(int startX, int startY, int endX, int endY, char player) {\n        // Debugging: Print the coordinates and player\n        System.out.println(&quot;StartX: &quot; + startX + &quot; StartY: &quot; + startY);\n        System.out.println(&quot;EndX: &quot; + endX + &quot; EndY: &quot; + endY);\n        System.out.println(&quot;Player: &quot; + player);\n\n        int xDiff = Math.abs(endX - startX);\n        int yDiff = Math.abs(endY - startY);\n\n        // Check for a regular move (one square diagonal)\n        if (xDiff == 1 &amp;&amp; yDiff == 1) {\n            if (board[startY][startX] == player &amp;&amp; board[endY][endX] == '-') {\n                System.out.println(&quot;Regular move.&quot;);\n                return true;\n            } else {\n                System.out.println(&quot;Regular move failed due to invalid conditions.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Regular move failed due to xDiff or yDiff.&quot;);\n        }\n\n        // Check for a capture move (two squares diagonal with an opponent's piece in between)\n        if (xDiff == 2 &amp;&amp; yDiff == 2) {\n            int midX = (startX + endX) / 2;\n            int midY = (startY + endY) / 2;\n\n            // Debugging: Print intermediate values\n            System.out.println(&quot;MidX: &quot; + midX + &quot; MidY: &quot; + midY);\n            System.out.println(&quot;Board[&quot; + startY + &quot;][&quot; + startX + &quot;]: &quot; + board[startY][startX]);\n            System.out.println(&quot;Board[&quot; + midY + &quot;][&quot; + midX + &quot;]: &quot; + board[midY][midX]);\n            System.out.println(&quot;Board[&quot; + endY + &quot;][&quot; + endX + &quot;]: &quot; + board[endY][endX]);\n\n            if (board[startY][startX] == player &amp;&amp;\n                board[midY][midX] != player &amp;&amp; board[midY][midX] != '-' &amp;&amp;\n                board[endY][endX] == '-') {\n                System.out.println(&quot;Capture is valid.&quot;);\n                return true; // Capture is valid\n            }\n        }\n\n        System.out.println(&quot;Invalid move.&quot;);\n        return false; // The move is not a valid regular or capture move\n    }\n\n    /**\n     * Makes a move on the game board.\n     *\n     * @param startX The starting X coordinate of the piece.\n     * @param startY The starting Y coordinate of the piece.\n     * @param endX   The ending X coordinate of the piece.\n     * @param endY   The ending Y coordinate of the piece.\n     * @return true if the move is made successfully, false otherwise.\n     */\n    public boolean makeMove(int startX, int startY, int endX, int endY) {\n        char currentPlayer = board[startY][startX];\n\n        if (isValidMove(startX, startY, endX, endY, currentPlayer)) {\n            // Debugging: Print coordinates before accessing the board\n            System.out.println(&quot;startX: &quot; + startX + &quot; startY: &quot; + startY);\n            System.out.println(&quot;endX: &quot; + endX + &quot; endY: &quot; + endY);\n            \n            // Handle capturing an opponent's piece\n            if (Math.abs(endX - startX) == 2 &amp;&amp; Math.abs(endY - startY) == 2) {\n                int midX = (startX + endX) / 2;\n                int midY = (startY + endY) / 2;\n\n                // Debugging: Print intermediate values\n                System.out.println(&quot;midX: &quot; + midX + &quot; midY: &quot; + midY);\n                System.out.println(&quot;board[&quot; + startY + &quot;][&quot; + startX + &quot;]: &quot; + board[startY][startX]);\n                System.out.println(&quot;board[&quot; + midY + &quot;][&quot; + midX + &quot;]: &quot; + board[midY][midX]);\n                System.out.println(&quot;board[&quot; + endY + &quot;][&quot; + endX + &quot;]: &quot; + board[endY][endX]);\n\n                if (board[midY][midX] != currentPlayer) {\n                    // Capture the opponent's piece\n                    board[endY][endX] = board[startY][startX];\n                    board[startY][startX] = '-';\n                    board[midY][midX] = '-';\n                }\n            } else {\n                // Handle a regular move\n                board[endY][endX] = board[startY][startX];\n                board[startY][startX] = '-';\n            }\n\n            // Switch the player's turn\n            switchPlayer();\n\n            System.out.println(&quot;Move is valid.&quot;);\n            return true;\n        }\n\n        System.out.println(&quot;Move is not valid.&quot;);\n        return false;\n    }\n\n    /**\n     * Checks if the game is over for both players.\n     *\n     * @return true if the game is over, false otherwise.\n     */\n    public boolean isGameOver() {\n        return !hasValidMoves('X') || !hasValidMoves('O');\n    }\n\n    public void switchPlayer() {\n        currentPlayer = (currentPlayer == 'X') ? 'O' : 'X';\n    }\n\n    /**\n     * Checks if there are any valid moves for a piece of the specified player.\n     *\n     * @param player The player making the move ('X' or 'O').\n     * @return true if there are valid moves, false otherwise.\n     */\n    private boolean hasValidMoves(char player) {\n        for (int y = 0; y &lt; 8; y++) {\n            for (int x = 0; x &lt; 8; x++) {\n                if (board[y][x] == player) {\n                    // Iterate through all possible move directions\n                    int[][] moveDirections = {{-1, -1}, {-1, 1}, {1, -1}, {1, 1}};\n                    for (int[] direction : moveDirections) {\n                        int destX = x + direction[0];\n                        int destY = y + direction[1];\n                        \n                        if (isValidMove(x, y, destX, destY, player)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>As you can see, I have print statements for debugging. According to the output, my move is in the correct format and meets the conditions for a valid move, yet my game still says the move is invalid and won't make the move. I've been trying to figure this out for 8 hours now, can anyone provide some insight into what's happening?</p>\n"},{"tags":["java","spring","testing","grails","neo4j"],"owner":{"account_id":18625023,"reputation":27,"user_id":13574344,"display_name":"stackoverflow_user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697937295,"creation_date":1697930101,"question_id":77338120,"body_markdown":"I&#39;m using testcontainer to test the neo4j-related functionalities in the application with Grails 3.3.2 and Spock.\r\n\r\nThe grails application config for Neo4j:\r\n\r\n    environments {\r\n       development {\r\n        grails {\r\n            neo4j {\r\n                url=&quot;bolt://dev-host:7687&quot;\r\n                username=&#39;xxx&#39;\r\n                password=&#39;xxx&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nThe setup for Neo4j Spock integration test\r\n```\r\n@Testcontainers\r\nclass Test extends Specification {\r\n    static Neo4jContainer&lt;?&gt; container = new Neo4jContainer&lt;&gt;(&quot;neo4j:3.5&quot;)\r\n            .withoutAuthentication()\r\n\r\n    void setupSpec() {\r\n        container.start()\r\n        System.setProperty(&quot;grails.neo4j.url&quot;, container.getBoltUrl())\r\n    }\r\n    \r\n    void &quot;1. test something&quot;() {neo4jService.save(dummyData)}\r\n\r\n}\r\n```\r\nI have to change the application property source during the container setup so that the neo4j driver can find the correct database. In Spring/SpringBoot, we can use ```@DynamicPropertySource```. However, in Grails, I have to set the property manually.\r\n\r\n**Current Problem:**\r\n\r\nOnly when I don&#39;t have any neo4j configs in the application config, the test can find the right URL created by the testcontainer. If I use the config above, even though I set the system property and let it point to the testcontainer, the test is still going to use the ```bolt://dev-host:7687``` defined in the config file.\r\n\r\n\r\nAny idea on this? Thanks a lot.","title":"Using Neo4j Testcontainers With Grails and Spock, can&#39;t find correct neo4j datasource","body":"<p>I'm using testcontainer to test the neo4j-related functionalities in the application with Grails 3.3.2 and Spock.</p>\n<p>The grails application config for Neo4j:</p>\n<pre><code>environments {\n   development {\n    grails {\n        neo4j {\n            url=&quot;bolt://dev-host:7687&quot;\n            username='xxx'\n            password='xxx'\n        }\n    }\n}\n</code></pre>\n<p>The setup for Neo4j Spock integration test</p>\n<pre><code>@Testcontainers\nclass Test extends Specification {\n    static Neo4jContainer&lt;?&gt; container = new Neo4jContainer&lt;&gt;(&quot;neo4j:3.5&quot;)\n            .withoutAuthentication()\n\n    void setupSpec() {\n        container.start()\n        System.setProperty(&quot;grails.neo4j.url&quot;, container.getBoltUrl())\n    }\n    \n    void &quot;1. test something&quot;() {neo4jService.save(dummyData)}\n\n}\n</code></pre>\n<p>I have to change the application property source during the container setup so that the neo4j driver can find the correct database. In Spring/SpringBoot, we can use <code>@DynamicPropertySource</code>. However, in Grails, I have to set the property manually.</p>\n<p><strong>Current Problem:</strong></p>\n<p>Only when I don't have any neo4j configs in the application config, the test can find the right URL created by the testcontainer. If I use the config above, even though I set the system property and let it point to the testcontainer, the test is still going to use the <code>bolt://dev-host:7687</code> defined in the config file.</p>\n<p>Any idea on this? Thanks a lot.</p>\n"},{"tags":["java","angular","spring","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696833793,"post_id":77255911,"comment_id":136198459,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":11794960,"reputation":44,"user_id":8629878,"display_name":"Tripurari Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696823515,"creation_date":1696823515,"answer_id":77256188,"question_id":77255911,"body_markdown":"Firstly, Try to send only one data from your service(client) then check on your controller(backend) whether you are getting it or not. \r\n\r\nThanks","title":"Sending data from Angular but not getting it to backend","body":"<p>Firstly, Try to send only one data from your service(client) then check on your controller(backend) whether you are getting it or not.</p>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":19193091,"reputation":43,"user_id":14022428,"display_name":"Mohammed Hammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697935751,"creation_date":1697935751,"answer_id":77338298,"question_id":77255911,"body_markdown":"&gt; According to me, there is a mismatch between data from angular and data at backend, but don&#39;t what is the error and how to correct it.\r\n\r\nA mismatch in the data between the client and the server will result in a BAD_REQUEST exception.\r\n\r\nThe error is in the creation of the UserRequest that is being sent to the back end. Sharing the User* models and the related code might be helpful.","title":"Sending data from Angular but not getting it to backend","body":"<blockquote>\n<p>According to me, there is a mismatch between data from angular and data at backend, but don't what is the error and how to correct it.</p>\n</blockquote>\n<p>A mismatch in the data between the client and the server will result in a BAD_REQUEST exception.</p>\n<p>The error is in the creation of the UserRequest that is being sent to the back end. Sharing the User* models and the related code might be helpful.</p>\n"}],"owner":{"account_id":26075468,"reputation":7,"user_id":19774473,"display_name":"devprakash pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1697935751,"creation_date":1696816120,"question_id":77255911,"body_markdown":"Sending data from Angular but getting null at backend,Here is my code for reference\r\n\r\nRegistration component from Angular\r\n\r\n```Angular\r\n addnewuser(name: any,pass: any,phnnumb: any,address: any){\r\n   const userId=0;\r\n   const registrationDate= new Date().toISOString();\r\n  const status=&quot;ACTIVE&quot;;\r\n  const addressId=0;\r\n    this.user=new UserMaster(userId,name,pass,phnnumb,registrationDate,status);\r\n    this.userAddress= new UserAddress(addressId,this.user,address);\r\n    this.userrequest= new UserRequest(this.user,this.userAddress);\r\n    console.log(this.user);\r\n    console.log(this.userAddress);\r\n    console.log(this.userrequest);\r\n    \r\n    this.myservice.createUser(this.userrequest).subscribe(result=&gt;{console.log(result)});\r\n   }\r\n```\r\n\r\nMy Service class of Angular\r\n\r\n```Angular\r\n constructor(private http:HttpClient) { }\r\n\r\n  createUser(userrequest:UserRequest){\r\n   // console.log(this.userrequest);\r\n    return this.http.post&lt;UserRequest&gt;(&quot;http://localhost:10003/creatUser&quot;,userrequest);\r\n  }\r\n```\r\n\r\nMy FrontController in spring\r\n\r\n```Spring Boot\r\n@RestController\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class FrontController {\r\n\t\r\n\t@Autowired\r\n\tprivate ProdcomService ps;\r\n\t\r\n\t@PostMapping(&quot;creatUser&quot;)\r\n\tpublic UserMaster creatUser(@ Valid @RequestBody UserRequest userRequest) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(userRequest);\r\n\t\t\tUserMaster userMaster= userRequest.getUserMaster();\r\n\t\t\tUserAddresses userAddresses=userRequest.getUserAddresses();\r\n\t\t\t\r\n\t\t\t   if (userMaster == null || userAddresses == null) {\r\n\t\t            System.out.println(&quot;Received null objects in the request.&quot;);\r\n\t\t            return null;  \r\n\t\t        }\r\n\t\t\t   \r\n\r\n\t\t        System.out.println(&quot;Received uMaster: &quot; + userMaster);\r\n\t\t        System.out.println(&quot;Received userAddresses: &quot; + userAddresses);\r\n\t\t\r\n\t\t\tUserMaster uMaster= ps.creatuserService(userMaster);\r\n\t\t\tuserAddresses.setUser(uMaster);\r\n\t\t\t ps.createaddressService(userAddresses);\r\n\t\t\t return uMaster;\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception6\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nMy entity Class is:\r\n\r\n```Spring Boot\r\n@Entity\r\n@Table(name=&quot;UserMaster&quot;)\r\npublic class UserMaster {\r\n\t\r\n\tpublic enum UserStatus {\r\n\t    ACTIVE,\r\n\t    INACTIVE,\r\n\t    PENDING_APPROVAL,\r\n\t    BLOCKED\r\n\t}\r\n\t\r\n\t @Id\r\n\t  //  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t @SequenceGenerator(name = &quot;mygenerator&quot;, sequenceName = &quot;mysequence&quot;, allocationSize = 1)\r\n\t    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mygenerator&quot;)\r\n\t    @Column(name = &quot;user_id&quot;)\r\n\t    private Long userId;\r\n\r\n\t    @Column(name = &quot;user_name&quot;)\r\n\t    private String userName;\r\n\r\n\t    @Column(name = &quot;user_password&quot;)\r\n\t    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&amp;-+=()])(?=\\\\S+$).{8,20}$&quot;,message = &quot;password should consist of uppercase,lowercase,number,special characer and minimum of 8 character and atmost 20 character long&quot;)\r\n\t    private String userPassword;\r\n\r\n\t    @Column(name = &quot;phone_number&quot;)\r\n\t    @Size(min = 10,max = 10,message = &quot;phone number should of only 10 digit&quot;)\r\n\t    @NotNull(message = &quot;phone number can not be null&quot;)\r\n\t    private String phoneNumber;\r\n\r\n\t    @Column(name = &quot;registration_date&quot;)\r\n\t    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, timezone = &quot;UTC&quot;)\r\n\t    private Date registrationDate;\r\n\t    \r\n\t    @Column(name = &quot;status&quot;)\r\n\t    private UserStatus status;\r\n\t    \r\n//\t    @OneToMany(mappedBy = &quot;user&quot;,  cascade = CascadeType.ALL)\r\n//\t    List&lt;UserAddresses&gt; addresses;\r\n```\r\n\r\nMy useraddress entity is:\r\n\r\n```Spring Boot\r\n@Entity\r\n@Table(name=&quot;UserAddresse&quot;)\r\npublic class UserAddresses {\r\n\r\n\t@Id\r\n   // @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@SequenceGenerator(name = &quot;mygenerator&quot;, sequenceName = &quot;addsequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mygenerator&quot;)\r\n    @Column(name = &quot;address_id&quot;)\r\n    private Long addressId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private UserMaster user;\r\n\r\n    @Column(name = &quot;full_address&quot;)\r\n    private String fullAddress;\r\n\r\n\tpublic Long getAddressId() {\r\n\t\treturn addressId;\r\n\t}\r\n\r\n\tpublic void setAddressId(Long addressId) {\r\n\t\tthis.addressId = addressId;\r\n\t}\r\n```\r\n\r\nMy Service class at Backend:\r\n\r\n```Spring Boot\r\n@Service\r\n@Transactional\r\npublic class ProdcomServiceImp implements ProdcomService {\r\n\t\r\n\t@Autowired\r\n\tprivate ProdcomJpaRespository pr;\r\n\t@Autowired\r\n\tprivate ProdcomAddressRepository pa;\r\n\r\n\t@Override\r\n\tpublic UserMaster creatuserService(UserMaster uMaster) {\r\n\t\tUserMaster userMaster= pr.save(uMaster);\r\n\t\t\r\n\t\treturn userMaster;\r\n\t}\r\n\t```\r\n```\r\n\r\n- ----------\r\n\r\n  ----------\r\n\r\n----------\r\n\r\nI am trying send the data from angular but receiving null at backend, but if sending from swagger getting data at the backend.I am sending two objects one is usermaster and one is useraddres, one usermaster can have multiple addresses,sending two objects in single bundle that is userrequest. My format of sending data from Angular is what i got from console is:\r\n\r\n```Angular\r\nuserMaster\r\n: \r\nUserMaster\r\nphoneNumber\r\n: \r\n&quot;9560654651&quot;\r\nregistrationDate\r\n: \r\n&quot;2023-10-09T00:48:52.001Z&quot;\r\nstatus\r\n: \r\n&quot;ACTIVE&quot;\r\nuserId\r\n: \r\n0\r\nuserName\r\n: \r\n&quot;Ramit&quot;\r\nuserPassword\r\n: \r\n&quot;Ramit@1234&quot;\r\n[[Prototype]]\r\n: \r\nObject\r\nuseraddress\r\n: \r\nUserAddress\r\naddressId\r\n: \r\n0\r\nfullAddress\r\n: \r\n&quot;Spr&quot;\r\nuser\r\n: \r\nUserMaster\r\nphoneNumber\r\n: \r\n&quot;9560654651&quot;\r\nregistrationDate\r\n: \r\n&quot;2023-10-09T00:48:52.001Z&quot;\r\nstatus\r\n: \r\n&quot;ACTIVE&quot;\r\nuserId\r\n: \r\n0\r\nuserName\r\n: \r\n&quot;Ramit&quot;\r\nuserPassword\r\n: \r\n&quot;Ramit@1234&quot;\r\n[[Prototype]]\r\n: \r\nObject\r\n[[Prototype]]\r\n: \r\nObject\r\n[[Prototype]]\r\n: \r\nObject\r\n```\r\n\r\nThe data I am sending from swagger is:\r\n\r\n```swagger\r\n{\r\n  &quot;userMaster&quot;: {\r\n    &quot;userId&quot;: 0,\r\n    &quot;userName&quot;: &quot;string&quot;,\r\n    &quot;userPassword&quot;: &quot;string&quot;,\r\n    &quot;phoneNumber&quot;: &quot;string&quot;,\r\n    &quot;registrationDate&quot;: &quot;2023-10-09T01:43:32.188Z&quot;,\r\n    &quot;status&quot;: &quot;ACTIVE&quot;\r\n  },\r\n  &quot;userAddresses&quot;: {\r\n    &quot;addressId&quot;: 0,\r\n    &quot;user&quot;: {\r\n      &quot;userId&quot;: 0,\r\n      &quot;userName&quot;: &quot;string&quot;,\r\n      &quot;userPassword&quot;: &quot;string&quot;,\r\n      &quot;phoneNumber&quot;: &quot;string&quot;,\r\n      &quot;registrationDate&quot;: &quot;2023-10-09T01:43:32.188Z&quot;,\r\n      &quot;status&quot;: &quot;ACTIVE&quot;\r\n    },\r\n    &quot;fullAddress&quot;: &quot;string&quot;\r\n  }\r\n}```\r\nAccording to me, there is a mismatch between data from angular and data at backend, but don&#39;t what is the error and how to correct it.\r\n```","title":"Sending data from Angular but not getting it to backend","body":"<p>Sending data from Angular but getting null at backend,Here is my code for reference</p>\n<p>Registration component from Angular</p>\n<pre><code> addnewuser(name: any,pass: any,phnnumb: any,address: any){\n   const userId=0;\n   const registrationDate= new Date().toISOString();\n  const status=&quot;ACTIVE&quot;;\n  const addressId=0;\n    this.user=new UserMaster(userId,name,pass,phnnumb,registrationDate,status);\n    this.userAddress= new UserAddress(addressId,this.user,address);\n    this.userrequest= new UserRequest(this.user,this.userAddress);\n    console.log(this.user);\n    console.log(this.userAddress);\n    console.log(this.userrequest);\n    \n    this.myservice.createUser(this.userrequest).subscribe(result=&gt;{console.log(result)});\n   }\n</code></pre>\n<p>My Service class of Angular</p>\n<pre><code> constructor(private http:HttpClient) { }\n\n  createUser(userrequest:UserRequest){\n   // console.log(this.userrequest);\n    return this.http.post&lt;UserRequest&gt;(&quot;http://localhost:10003/creatUser&quot;,userrequest);\n  }\n</code></pre>\n<p>My FrontController in spring</p>\n<pre><code>@RestController\n@CrossOrigin(&quot;*&quot;)\npublic class FrontController {\n    \n    @Autowired\n    private ProdcomService ps;\n    \n    @PostMapping(&quot;creatUser&quot;)\n    public UserMaster creatUser(@ Valid @RequestBody UserRequest userRequest) {\n        try {\n            System.out.println(userRequest);\n            UserMaster userMaster= userRequest.getUserMaster();\n            UserAddresses userAddresses=userRequest.getUserAddresses();\n            \n               if (userMaster == null || userAddresses == null) {\n                    System.out.println(&quot;Received null objects in the request.&quot;);\n                    return null;  \n                }\n               \n\n                System.out.println(&quot;Received uMaster: &quot; + userMaster);\n                System.out.println(&quot;Received userAddresses: &quot; + userAddresses);\n        \n            UserMaster uMaster= ps.creatuserService(userMaster);\n            userAddresses.setUser(uMaster);\n             ps.createaddressService(userAddresses);\n             return uMaster;\n        } catch (Exception e) {\n            // TODO: handle exception6\n            e.printStackTrace();\n            return null;\n        }\n        \n    }\n</code></pre>\n<p>My entity Class is:</p>\n<pre><code>@Entity\n@Table(name=&quot;UserMaster&quot;)\npublic class UserMaster {\n    \n    public enum UserStatus {\n        ACTIVE,\n        INACTIVE,\n        PENDING_APPROVAL,\n        BLOCKED\n    }\n    \n     @Id\n      //  @GeneratedValue(strategy = GenerationType.IDENTITY)\n     @SequenceGenerator(name = &quot;mygenerator&quot;, sequenceName = &quot;mysequence&quot;, allocationSize = 1)\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mygenerator&quot;)\n        @Column(name = &quot;user_id&quot;)\n        private Long userId;\n\n        @Column(name = &quot;user_name&quot;)\n        private String userName;\n\n        @Column(name = &quot;user_password&quot;)\n        @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&amp;-+=()])(?=\\\\S+$).{8,20}$&quot;,message = &quot;password should consist of uppercase,lowercase,number,special characer and minimum of 8 character and atmost 20 character long&quot;)\n        private String userPassword;\n\n        @Column(name = &quot;phone_number&quot;)\n        @Size(min = 10,max = 10,message = &quot;phone number should of only 10 digit&quot;)\n        @NotNull(message = &quot;phone number can not be null&quot;)\n        private String phoneNumber;\n\n        @Column(name = &quot;registration_date&quot;)\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, timezone = &quot;UTC&quot;)\n        private Date registrationDate;\n        \n        @Column(name = &quot;status&quot;)\n        private UserStatus status;\n        \n//      @OneToMany(mappedBy = &quot;user&quot;,  cascade = CascadeType.ALL)\n//      List&lt;UserAddresses&gt; addresses;\n</code></pre>\n<p>My useraddress entity is:</p>\n<pre><code>@Entity\n@Table(name=&quot;UserAddresse&quot;)\npublic class UserAddresses {\n\n    @Id\n   // @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @SequenceGenerator(name = &quot;mygenerator&quot;, sequenceName = &quot;addsequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mygenerator&quot;)\n    @Column(name = &quot;address_id&quot;)\n    private Long addressId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private UserMaster user;\n\n    @Column(name = &quot;full_address&quot;)\n    private String fullAddress;\n\n    public Long getAddressId() {\n        return addressId;\n    }\n\n    public void setAddressId(Long addressId) {\n        this.addressId = addressId;\n    }\n</code></pre>\n<p>My Service class at Backend:</p>\n<pre><code>@Service\n@Transactional\npublic class ProdcomServiceImp implements ProdcomService {\n    \n    @Autowired\n    private ProdcomJpaRespository pr;\n    @Autowired\n    private ProdcomAddressRepository pa;\n\n    @Override\n    public UserMaster creatuserService(UserMaster uMaster) {\n        UserMaster userMaster= pr.save(uMaster);\n        \n        return userMaster;\n    }\n    ```\n</code></pre>\n<hr />\n<hr />\n<hr />\n<p>I am trying send the data from angular but receiving null at backend, but if sending from swagger getting data at the backend.I am sending two objects one is usermaster and one is useraddres, one usermaster can have multiple addresses,sending two objects in single bundle that is userrequest. My format of sending data from Angular is what i got from console is:</p>\n<pre><code>userMaster\n: \nUserMaster\nphoneNumber\n: \n&quot;9560654651&quot;\nregistrationDate\n: \n&quot;2023-10-09T00:48:52.001Z&quot;\nstatus\n: \n&quot;ACTIVE&quot;\nuserId\n: \n0\nuserName\n: \n&quot;Ramit&quot;\nuserPassword\n: \n&quot;Ramit@1234&quot;\n[[Prototype]]\n: \nObject\nuseraddress\n: \nUserAddress\naddressId\n: \n0\nfullAddress\n: \n&quot;Spr&quot;\nuser\n: \nUserMaster\nphoneNumber\n: \n&quot;9560654651&quot;\nregistrationDate\n: \n&quot;2023-10-09T00:48:52.001Z&quot;\nstatus\n: \n&quot;ACTIVE&quot;\nuserId\n: \n0\nuserName\n: \n&quot;Ramit&quot;\nuserPassword\n: \n&quot;Ramit@1234&quot;\n[[Prototype]]\n: \nObject\n[[Prototype]]\n: \nObject\n[[Prototype]]\n: \nObject\n</code></pre>\n<p>The data I am sending from swagger is:</p>\n<pre><code>{\n  &quot;userMaster&quot;: {\n    &quot;userId&quot;: 0,\n    &quot;userName&quot;: &quot;string&quot;,\n    &quot;userPassword&quot;: &quot;string&quot;,\n    &quot;phoneNumber&quot;: &quot;string&quot;,\n    &quot;registrationDate&quot;: &quot;2023-10-09T01:43:32.188Z&quot;,\n    &quot;status&quot;: &quot;ACTIVE&quot;\n  },\n  &quot;userAddresses&quot;: {\n    &quot;addressId&quot;: 0,\n    &quot;user&quot;: {\n      &quot;userId&quot;: 0,\n      &quot;userName&quot;: &quot;string&quot;,\n      &quot;userPassword&quot;: &quot;string&quot;,\n      &quot;phoneNumber&quot;: &quot;string&quot;,\n      &quot;registrationDate&quot;: &quot;2023-10-09T01:43:32.188Z&quot;,\n      &quot;status&quot;: &quot;ACTIVE&quot;\n    },\n    &quot;fullAddress&quot;: &quot;string&quot;\n  }\n}```\nAccording to me, there is a mismatch between data from angular and data at backend, but don't what is the error and how to correct it.\n</code></pre>\n"},{"tags":["java","loops","methods"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1697915551,"post_id":77337302,"comment_id":136340371,"body_markdown":"Use a `java.util.List` to store nouns and verbs.  Keep track of the index of the `List` and go through the list when you encounter a noun or a verb.  The `String` `equalsIgnoreCase` method will simplify your comparisons.","body":"Use a <code>java.util.List</code> to store nouns and verbs.  Keep track of the index of the <code>List</code> and go through the list when you encounter a noun or a verb.  The <code>String</code> <code>equalsIgnoreCase</code> method will simplify your comparisons."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697935270,"creation_date":1697920397,"answer_id":77337696,"question_id":77337302,"body_markdown":"&gt; _&quot;... is there a way to save each input in its respective place in the string and then move onto the next? ...&quot;_\r\n\r\nCreate a code for the _nouns_ and _verbs_, for example, _&quot;%noun%&quot;_, or _&quot;=verb=&quot;_.\r\n\r\n```none\r\nThe Little =Noun= And The Old =Noun= By Shel Silverstein \\nSaid the little boy, \r\nsometimes I drop my =noun=. \\nSaid the little old man, I =verb= that too.\\nThe little boy whispered, I =verb= my =noun=.\\n\r\nI do too, laughed the old =noun=. \\nSaid the little boy, I often cry. \\nThe old \r\nman nodded. So do I. \\nBut worst of all, =verb= the =noun=, \r\nit seems grown-ups don’t pay attention to me. \\nAnd he felt the warmth of a \r\nwrinkled old hand. \\nI =verb= what you =verb=, said the little old =noun=.\r\n```\r\n\r\nThen, utilize the _[StringBuilder#replace](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(int,int))_ method to add the values.\r\n\r\nHere is an example.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nStringBuilder s = new StringBuilder(story);\r\nString t;\r\nfor (int i = 0, j, n = s.length(); i &lt; n; i++)\r\n    if (s.charAt(i) == &#39;=&#39;) {\r\n        j = s.indexOf(&quot;=&quot;, i + 1);\r\n        System.out.printf(&quot;Please enter a %s%n&quot;, s.substring(i + 1, j));\r\n        s.replace(i, j + 1, t = in.next());\r\n        i += t.length();\r\n        n = s.length();\r\n    }\r\n```\r\n\r\nAdditionally, you may want to check if it&#39;s uppercase.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nStringBuilder s = new StringBuilder(story);\r\nString t;\r\nboolean u;\r\nfor (int i = 0, j, n = s.length(); i &lt; n; i++)\r\n    if (s.charAt(i) == &#39;=&#39;) {\r\n        j = s.indexOf(&quot;=&quot;, i + 1);\r\n        t = s.substring(i + 1, j);\r\n        u = Character.isUpperCase(t.charAt(0));\r\n        System.out.printf(&quot;Please enter a %s%n&quot;, t.toLowerCase());\r\n        t = in.next();\r\n        if (u) t = t.substring(0, 1).toUpperCase() + t.substring(1);\r\n        s.replace(i, j + 1, t);\r\n        i += t.length();\r\n        n = s.length();\r\n    }\r\n```","title":"Code for a Madlibs game, how to store each input instead of only the last input{JAVA}","body":"<blockquote>\n<p><em>&quot;... is there a way to save each input in its respective place in the string and then move onto the next? ...&quot;</em></p>\n</blockquote>\n<p>Create a code for the <em>nouns</em> and <em>verbs</em>, for example, <em>&quot;%noun%&quot;</em>, or <em>&quot;=verb=&quot;</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>The Little =Noun= And The Old =Noun= By Shel Silverstein \\nSaid the little boy, \nsometimes I drop my =noun=. \\nSaid the little old man, I =verb= that too.\\nThe little boy whispered, I =verb= my =noun=.\\n\nI do too, laughed the old =noun=. \\nSaid the little boy, I often cry. \\nThe old \nman nodded. So do I. \\nBut worst of all, =verb= the =noun=, \nit seems grown-ups don’t pay attention to me. \\nAnd he felt the warmth of a \nwrinkled old hand. \\nI =verb= what you =verb=, said the little old =noun=.\n</code></pre>\n<p>Then, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(int,int)\" rel=\"nofollow noreferrer\">StringBuilder#replace</a></em> method to add the values.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nStringBuilder s = new StringBuilder(story);\nString t;\nfor (int i = 0, j, n = s.length(); i &lt; n; i++)\n    if (s.charAt(i) == '=') {\n        j = s.indexOf(&quot;=&quot;, i + 1);\n        System.out.printf(&quot;Please enter a %s%n&quot;, s.substring(i + 1, j));\n        s.replace(i, j + 1, t = in.next());\n        i += t.length();\n        n = s.length();\n    }\n</code></pre>\n<p>Additionally, you may want to check if it's uppercase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nStringBuilder s = new StringBuilder(story);\nString t;\nboolean u;\nfor (int i = 0, j, n = s.length(); i &lt; n; i++)\n    if (s.charAt(i) == '=') {\n        j = s.indexOf(&quot;=&quot;, i + 1);\n        t = s.substring(i + 1, j);\n        u = Character.isUpperCase(t.charAt(0));\n        System.out.printf(&quot;Please enter a %s%n&quot;, t.toLowerCase());\n        t = in.next();\n        if (u) t = t.substring(0, 1).toUpperCase() + t.substring(1);\n        s.replace(i, j + 1, t);\n        i += t.length();\n        n = s.length();\n    }\n</code></pre>\n"}],"owner":{"account_id":29517023,"reputation":1,"user_id":22620780,"display_name":"Abdelrhaman Nianaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697935270,"creation_date":1697913041,"question_id":77337302,"body_markdown":"So basically this is my code below, Asking the user to input a noun or a verb depending on the string, and it does that up until the string is finished, however when it outputs edited string, it outputs the last verb and the last noun inputted by the user. My question is, with this code, is there a way to save each input in its respective place in the string and then move onto the next?\r\nps: I&#39;m not allowed to use arrays.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class MadLibsProject\r\n{\r\n    public static void story()\r\n    {\r\n        Scanner in = new Scanner(System.in);\r\n        String noun = &quot;&quot;;\r\n        String verb = &quot;&quot;;\r\n        String story = &quot;The Little Noun And The Old Noun By Shel Silverstein \\nSaid the little boy, &quot;+\r\n        &quot;sometimes I drop my noun. \\nSaid the little old man, I verb that too.\\nThe little boy whispered, I verb my noun.\\n&quot;+\r\n        &quot;I do too, laughed the old noun. \\nSaid the little boy, I often cry. \\nThe old &quot;+\r\n        &quot;man nodded. So do I. \\nBut worst of all, verb the noun, &quot;+\r\n        &quot;it seems grown-ups don’t pay attention to me. \\nAnd he felt the warmth of a &quot;+\r\n        &quot;wrinkled old hand. \\nI verb what you verb, said the little old noun.&quot;;\r\n        String update =&quot;&quot;;\r\n        String noun1 = noun;\r\n        String verb1 = verb;\r\n        for(int i =0;i&lt; story.length()-4;i++)\r\n        {\r\n            String madlib = story.substring(i,i+4);\r\n            if(&quot;noun&quot;.contains(madlib) || (&quot;Noun&quot;.contains(madlib)))\r\n            {\r\n                System.out.println(&quot;Please enter a noun&quot;);\r\n                noun = in.next();\r\n                \r\n            }\r\n            \r\n            \r\n            else if(&quot;verb&quot;.contains(madlib))\r\n            {\r\n                System.out.println(&quot;Please enter a verb&quot;);\r\n                verb = in.next();\r\n                verb1 = verb;\r\n            }\r\n            noun1 = noun;\r\n            verb1 = verb;\r\n            update = store(noun1,verb1);\r\n            \r\n        }\r\n        \r\n        System.out.print(update);\r\n    }\r\n    public static String store(String noun,String verb)\r\n    {   \r\n        // for int i = 0;i &lt; story.length()-4; i++\r\n        // madlib = story.substring(i,i+4)\r\n        // noun.contains mmadlib\r\n        String story = &quot;The Little &quot;+ noun+&quot; And The Old &quot;+noun+&quot; By Shel Silverstein \\nSaid the little boy, &quot;+\r\n        &quot;sometimes I drop my &quot;+noun+&quot;. \\nSaid the little old man, I &quot;+verb+&quot; that too.\\nThe little boy whispered, I &quot;+verb+&quot; my &quot;+noun+&quot;.\\n&quot;+\r\n        &quot;I do too, laughed the old &quot;+noun+&quot;. \\nSaid the little boy, I often cry. \\nThe old &quot;+\r\n        &quot;man nodded. So do I. \\nBut worst of all, &quot;+verb+&quot; the &quot;+noun+&quot;, &quot;+\r\n        &quot;it seems grown-ups don’t pay attention to me. \\nAnd he felt the warmth of a &quot;+\r\n        &quot;wrinkled old hand. \\nI &quot;+verb+&quot;  what you &quot;+verb+&quot;, said the little old &quot;+noun+&quot;.&quot;;\r\n        return story;\r\n        \r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        \r\n        story();\r\n        \r\n        \r\n    }\r\n```\r\n\r\n&gt; This is my output right now:\r\n&gt; inputs:\r\n&gt; Please enter a noun\r\n&gt; noun1\r\n&gt; Please enter a noun\r\n&gt; noun2\r\n&gt; Please enter a noun\r\n&gt; noun3\r\n&gt; Please enter a verb\r\n&gt; verb1\r\n&gt; Please enter a verb\r\n&gt; verb2\r\n&gt; Please enter a noun\r\n&gt; noun4\r\n&gt; Please enter a noun\r\n&gt; noun5\r\n&gt; Please enter a verb\r\n&gt; verb3\r\n&gt; Please enter a noun\r\n&gt; noun6\r\n&gt; Please enter a verb\r\n&gt; verb4\r\n&gt; Please enter a verb\r\n&gt; verb5\r\n&gt; Please enter a noun\r\n&gt; noun7\r\n&gt; OUTPUT:\r\n&gt; The Little noun7 And The Old noun7 By Shel Silverstein\r\n&gt; Said the little boy, sometimes I drop my noun7.\r\n&gt; Said the little old man, I verb5 that too.\r\n&gt; The little boy whispered, I verb5 my noun7.\r\n&gt; I do too, laughed the old noun7.\r\n&gt; Said the little boy, I often cry.\r\n&gt; The old man nodded. So do I.\r\n&gt; But worst of all, verb5 the noun7, it seems grown-ups don’t pay attention to me.\r\n&gt; And he felt the warmth of a wrinkled old hand.\r\n&gt; I verb5  what you verb5, said the little old noun7.`your text`","title":"Code for a Madlibs game, how to store each input instead of only the last input{JAVA}","body":"<p>So basically this is my code below, Asking the user to input a noun or a verb depending on the string, and it does that up until the string is finished, however when it outputs edited string, it outputs the last verb and the last noun inputted by the user. My question is, with this code, is there a way to save each input in its respective place in the string and then move onto the next?\nps: I'm not allowed to use arrays.</p>\n<pre><code>import java.util.Scanner;\npublic class MadLibsProject\n{\n    public static void story()\n    {\n        Scanner in = new Scanner(System.in);\n        String noun = &quot;&quot;;\n        String verb = &quot;&quot;;\n        String story = &quot;The Little Noun And The Old Noun By Shel Silverstein \\nSaid the little boy, &quot;+\n        &quot;sometimes I drop my noun. \\nSaid the little old man, I verb that too.\\nThe little boy whispered, I verb my noun.\\n&quot;+\n        &quot;I do too, laughed the old noun. \\nSaid the little boy, I often cry. \\nThe old &quot;+\n        &quot;man nodded. So do I. \\nBut worst of all, verb the noun, &quot;+\n        &quot;it seems grown-ups don’t pay attention to me. \\nAnd he felt the warmth of a &quot;+\n        &quot;wrinkled old hand. \\nI verb what you verb, said the little old noun.&quot;;\n        String update =&quot;&quot;;\n        String noun1 = noun;\n        String verb1 = verb;\n        for(int i =0;i&lt; story.length()-4;i++)\n        {\n            String madlib = story.substring(i,i+4);\n            if(&quot;noun&quot;.contains(madlib) || (&quot;Noun&quot;.contains(madlib)))\n            {\n                System.out.println(&quot;Please enter a noun&quot;);\n                noun = in.next();\n                \n            }\n            \n            \n            else if(&quot;verb&quot;.contains(madlib))\n            {\n                System.out.println(&quot;Please enter a verb&quot;);\n                verb = in.next();\n                verb1 = verb;\n            }\n            noun1 = noun;\n            verb1 = verb;\n            update = store(noun1,verb1);\n            \n        }\n        \n        System.out.print(update);\n    }\n    public static String store(String noun,String verb)\n    {   \n        // for int i = 0;i &lt; story.length()-4; i++\n        // madlib = story.substring(i,i+4)\n        // noun.contains mmadlib\n        String story = &quot;The Little &quot;+ noun+&quot; And The Old &quot;+noun+&quot; By Shel Silverstein \\nSaid the little boy, &quot;+\n        &quot;sometimes I drop my &quot;+noun+&quot;. \\nSaid the little old man, I &quot;+verb+&quot; that too.\\nThe little boy whispered, I &quot;+verb+&quot; my &quot;+noun+&quot;.\\n&quot;+\n        &quot;I do too, laughed the old &quot;+noun+&quot;. \\nSaid the little boy, I often cry. \\nThe old &quot;+\n        &quot;man nodded. So do I. \\nBut worst of all, &quot;+verb+&quot; the &quot;+noun+&quot;, &quot;+\n        &quot;it seems grown-ups don’t pay attention to me. \\nAnd he felt the warmth of a &quot;+\n        &quot;wrinkled old hand. \\nI &quot;+verb+&quot;  what you &quot;+verb+&quot;, said the little old &quot;+noun+&quot;.&quot;;\n        return story;\n        \n    }\n    public static void main(String[] args)\n    {\n        \n        story();\n        \n        \n    }\n</code></pre>\n<blockquote>\n<p>This is my output right now:\ninputs:\nPlease enter a noun\nnoun1\nPlease enter a noun\nnoun2\nPlease enter a noun\nnoun3\nPlease enter a verb\nverb1\nPlease enter a verb\nverb2\nPlease enter a noun\nnoun4\nPlease enter a noun\nnoun5\nPlease enter a verb\nverb3\nPlease enter a noun\nnoun6\nPlease enter a verb\nverb4\nPlease enter a verb\nverb5\nPlease enter a noun\nnoun7\nOUTPUT:\nThe Little noun7 And The Old noun7 By Shel Silverstein\nSaid the little boy, sometimes I drop my noun7.\nSaid the little old man, I verb5 that too.\nThe little boy whispered, I verb5 my noun7.\nI do too, laughed the old noun7.\nSaid the little boy, I often cry.\nThe old man nodded. So do I.\nBut worst of all, verb5 the noun7, it seems grown-ups don’t pay attention to me.\nAnd he felt the warmth of a wrinkled old hand.\nI verb5  what you verb5, said the little old noun7.<code>your text</code></p>\n</blockquote>\n"},{"tags":["java","random","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1697932360,"post_id":77338193,"comment_id":136341618,"body_markdown":"Your code called the `rnum.nextInt` method only one time.  Have you considered moving it inside the `for` loop?","body":"Your code called the <code>rnum.nextInt</code> method only one time.  Have you considered moving it inside the <code>for</code> loop?"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697932524,"creation_date":1697932524,"answer_id":77338203,"question_id":77338193,"body_markdown":"Instead of storing one randomly generated number, you should generate a new random number for each iteration in your loop. It&#39;s also a good idea to seed the Random object with the current time\r\n\r\n    static Random rnum = new Random(System.currentTimeMillis());\r\n    //static int randomNumber = rnum.nextInt((107- 1) + 1);\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        //Producer List\r\n        SinglyLinkedList pList = new SinglyLinkedList();\r\n        \r\n        // Add random nodes to the list \r\n        for (int i = 0; i &lt; 10; i++) {\r\n            pList.addNode((rNum.nextInt(106) + 1));\r\n        }","title":"Adding a random number into my singly linked list, but it always adds the same randomized number","body":"<p>Instead of storing one randomly generated number, you should generate a new random number for each iteration in your loop. It's also a good idea to seed the Random object with the current time</p>\n<pre><code>static Random rnum = new Random(System.currentTimeMillis());\n//static int randomNumber = rnum.nextInt((107- 1) + 1);\n\npublic static void main(String[] args) {\n\n    //Producer List\n    SinglyLinkedList pList = new SinglyLinkedList();\n    \n    // Add random nodes to the list \n    for (int i = 0; i &lt; 10; i++) {\n        pList.addNode((rNum.nextInt(106) + 1));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697934798,"creation_date":1697934798,"answer_id":77338272,"question_id":77338193,"body_markdown":"&gt; _&quot;... I understand this is happening because the random number is only assigned once, but how do I make it change every time? ...&quot;_\r\n\r\nUse a _method_.\r\n\r\n```java\r\nstatic int randomNumber() {\r\n    return rnum.nextInt((107- 1) + 1);\r\n}\r\n```\r\n\r\nOr, an _[IntSupplier](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/IntSupplier.html)_.\r\n\r\n```java\r\nstatic IntSupplier randomNumber = (() -&gt; rnum.nextInt((107- 1) + 1));\r\n```\r\n\r\n```java\r\nrandomNumber.getAsInt()\r\n```\r\n\r\nOr use a _stream_.\r\n\r\n```java\r\nrnum.ints(10, 0, 108).forEach(pList::addNode);\r\n```","title":"Adding a random number into my singly linked list, but it always adds the same randomized number","body":"<blockquote>\n<p><em>&quot;... I understand this is happening because the random number is only assigned once, but how do I make it change every time? ...&quot;</em></p>\n</blockquote>\n<p>Use a <em>method</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int randomNumber() {\n    return rnum.nextInt((107- 1) + 1);\n}\n</code></pre>\n<p>Or, an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/IntSupplier.html\" rel=\"nofollow noreferrer\">IntSupplier</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static IntSupplier randomNumber = (() -&gt; rnum.nextInt((107- 1) + 1));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>randomNumber.getAsInt()\n</code></pre>\n<p>Or use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>rnum.ints(10, 0, 108).forEach(pList::addNode);\n</code></pre>\n"}],"owner":{"account_id":26706596,"reputation":11,"user_id":20312686,"display_name":"ckcp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1697945441,"accepted_answer_id":77338203,"answer_count":2,"score":-1,"last_activity_date":1697934798,"creation_date":1697932196,"question_id":77338193,"body_markdown":"I&#39;m making a singly linked list, and the numbers I am adding into the list need to be random. I can&#39;t seem to get a randomized number every time, it instead prints the same randomized number 10 times when I need it to be different random numbers. \r\n\r\nI understand this is happening because the random number is only assigned once, but how do I make it change every time? \r\n\r\n\r\n```\r\n\t//Creating a random number between 1 and 107\r\n\tstatic Random rnum = new Random();\r\n\tstatic int randomNumber = rnum.nextInt((107- 1) + 1);\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t//Producer List\r\n\t\tSinglyLinkedList pList = new SinglyLinkedList();\r\n\t\t\r\n\t\t// Add random nodes to the list \r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tpList.addNode(randomNumber);\r\n\t\t}\r\n```\r\n\r\nThe output of the code would be &quot;71 71 71 71 71 (repeated)&quot; and I just want to figure out how to make it a different number every time! Please help! ","title":"Adding a random number into my singly linked list, but it always adds the same randomized number","body":"<p>I'm making a singly linked list, and the numbers I am adding into the list need to be random. I can't seem to get a randomized number every time, it instead prints the same randomized number 10 times when I need it to be different random numbers.</p>\n<p>I understand this is happening because the random number is only assigned once, but how do I make it change every time?</p>\n<pre><code>    //Creating a random number between 1 and 107\n    static Random rnum = new Random();\n    static int randomNumber = rnum.nextInt((107- 1) + 1);\n    \n    public static void main(String[] args) {\n\n        //Producer List\n        SinglyLinkedList pList = new SinglyLinkedList();\n        \n        // Add random nodes to the list \n        for (int i = 0; i &lt; 10; i++) {\n            pList.addNode(randomNumber);\n        }\n</code></pre>\n<p>The output of the code would be &quot;71 71 71 71 71 (repeated)&quot; and I just want to figure out how to make it a different number every time! Please help!</p>\n"},{"tags":["java","arrays","string","random"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1697925383,"post_id":77337925,"comment_id":136341204,"body_markdown":"[List.remove](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-) with a Math.random() times the list size tends to get the job done just fine, so it usually doesn&#39;t have its own implementation, unless you&#39;re writing a data structure that extends List.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-\" rel=\"nofollow noreferrer\">List.remove</a> with a Math.random() times the list size tends to get the job done just fine, so it usually doesn&#39;t have its own implementation, unless you&#39;re writing a data structure that extends List."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1697925386,"post_id":77337925,"comment_id":136341205,"body_markdown":"I suggest you use a [`List`](https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html) instead of an array. `List` has a [`remove`](https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html#remove%28int%29) method, which does most of the work - it even returns the item previously in that position.","body":"I suggest you use a <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> instead of an array. <code>List</code> has a <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html#remove%28int%29\" rel=\"nofollow noreferrer\"><code>remove</code></a> method, which does most of the work - it even returns the item previously in that position."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1697932924,"post_id":77337925,"comment_id":136341663,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans can you please elaborate on that? It sounds like exactly what I need.","body":"@Mike&#39;Pomax&#39;Kamermans can you please elaborate on that? It sounds like exactly what I need."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1697937438,"post_id":77337925,"comment_id":136341910,"body_markdown":"There&#39;s... not much to elaborate on? Literally just remov an element at index (size * random) to pop a random element.","body":"There&#39;s... not much to elaborate on? Literally just remov an element at index (size * random) to pop a random element."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1697934191,"creation_date":1697925312,"answer_id":77337933,"question_id":77337925,"body_markdown":"Instead of implementing the picking as described in the question, it is more efficient to shuffle the array and then print the elements.\r\n\r\n```java\r\nString[] colors = {&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot; };\r\nCollections.shuffle(Arrays.asList(colors));\r\nfor (var color : colors) {\r\n    System.out.println(color);\r\n}\r\n```\r\n\r\nThe algorithm described could be implemented with a `List`, though.\r\n\r\n```java\r\nList&lt;String&gt; colors = new ArrayList&lt;&gt;(List.of(&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot;));\r\nwhile (!colors.isEmpty()) {\r\n    System.out.println(colors.remove(\r\n        ThreadLocalRandom.current().nextInt(colors.size())));\r\n}\r\n```\r\n\r\nTo print the remaining elements after removing instead:\r\n\r\n```java\r\nList&lt;String&gt; colors = new ArrayList&lt;&gt;(List.of(&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot;));\r\nwhile (colors.size() &gt; 1) {\r\n\tcolors.remove(ThreadLocalRandom.current().nextInt(colors.size()));\r\n\tSystem.out.println(colors);\r\n}\r\n```","title":"Is there a function to have Java pick an item from a list and remove it?","body":"<p>Instead of implementing the picking as described in the question, it is more efficient to shuffle the array and then print the elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] colors = {&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot; };\nCollections.shuffle(Arrays.asList(colors));\nfor (var color : colors) {\n    System.out.println(color);\n}\n</code></pre>\n<p>The algorithm described could be implemented with a <code>List</code>, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; colors = new ArrayList&lt;&gt;(List.of(&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot;));\nwhile (!colors.isEmpty()) {\n    System.out.println(colors.remove(\n        ThreadLocalRandom.current().nextInt(colors.size())));\n}\n</code></pre>\n<p>To print the remaining elements after removing instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; colors = new ArrayList&lt;&gt;(List.of(&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot;));\nwhile (colors.size() &gt; 1) {\n    colors.remove(ThreadLocalRandom.current().nextInt(colors.size()));\n    System.out.println(colors);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697930291,"creation_date":1697930291,"answer_id":77338125,"question_id":77337925,"body_markdown":"&gt; _&quot;... I&#39;ve created a list of 8 items, and I want Java to pick one at (psuedo)random and then remove it from the list. After that, I want it to repeat the process until it gets down to one item. ...&quot;_\r\n\r\nShuffle the values in a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_, then add to a _[Deque](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html)_ and use the _[poll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html#poll())_ method.\r\n\r\n```java\r\nString[] color = {&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot; };\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(color));\r\nCollections.shuffle(list);\r\nDeque&lt;String&gt; deque = new ArrayDeque&lt;&gt;(list);\r\nwhile (!deque.isEmpty()) deque.poll();\r\n```","title":"Is there a function to have Java pick an item from a list and remove it?","body":"<blockquote>\n<p><em>&quot;... I've created a list of 8 items, and I want Java to pick one at (psuedo)random and then remove it from the list. After that, I want it to repeat the process until it gets down to one item. ...&quot;</em></p>\n</blockquote>\n<p>Shuffle the values in a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>, then add to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\">Deque</a></em> and use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html#poll()\" rel=\"nofollow noreferrer\">poll</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] color = {&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot; };\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(color));\nCollections.shuffle(list);\nDeque&lt;String&gt; deque = new ArrayDeque&lt;&gt;(list);\nwhile (!deque.isEmpty()) deque.poll();\n</code></pre>\n"}],"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77337933,"answer_count":2,"score":0,"last_activity_date":1697934191,"creation_date":1697925124,"question_id":77337925,"body_markdown":"I&#39;ve created a list of 8 items, and I want Java to pick one at (psuedo)random and then remove it from the list. After that, I want it to repeat the process until it gets down to one item. \r\n\r\nHere&#39;s the code\r\n\r\n\r\n```\r\npackage randomlist;\r\nimport java.util.Random;\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\t\r\npublic class output {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException, AWTException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tfor (int i = 0; i &lt;1 ; i++) {\r\n\t\tRandom generate = ThreadLocalRandom.current();\r\n\t\tString[] color = {&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot; };\r\n\t\tString colorsprint = colors[generate.nextInt(colors.length)];\r\n\t\t\r\n\t\tSystem.out.println(colorsprint);}}}\r\n\t\t\r\n```\r\n\r\nCurrently, it outputs its choice as expected. What I want it to do is to output its choice and then move on to another list with the 7 remaining items, but I don&#39;t want to have to manually code 256 different lists to nest it with &quot;if *a* then pick from *b*, etc.\r\n\r\nSo far, all the code I&#39;ve tried has resulted in a compiler error or the program simply not running. I&#39;ve even gotten it to work as a nested list, outputting from another list based on its first choice, but that&#39;s not working here.  \r\n\r\nI&#39;m sure it&#39;s something I&#39;ve already tried and just messed up, but I&#39;ve run out of my own knowledge.\r\n\r\nEDIT: I guess I should clarify; I know how to solve the issue, I just am hoping there&#39;s a more efficient way than doing it all manually with CTRL-C/CTRL-V; it&#39;ll make for extremely unwieldy code if I have to make 256 lists for the permutations of 8.","title":"Is there a function to have Java pick an item from a list and remove it?","body":"<p>I've created a list of 8 items, and I want Java to pick one at (psuedo)random and then remove it from the list. After that, I want it to repeat the process until it gets down to one item.</p>\n<p>Here's the code</p>\n<pre><code>package randomlist;\nimport java.util.Random;\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.KeyEvent;\n\nimport java.util.concurrent.ThreadLocalRandom;\n    \npublic class output {\n\n    public static void main(String[] args) throws InterruptedException, AWTException {\n        // TODO Auto-generated method stub\n        for (int i = 0; i &lt;1 ; i++) {\n        Random generate = ThreadLocalRandom.current();\n        String[] color = {&quot;Black&quot;, &quot;White&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Mint&quot;, &quot;Rose&quot;, &quot;Purple&quot; };\n        String colorsprint = colors[generate.nextInt(colors.length)];\n        \n        System.out.println(colorsprint);}}}\n        \n</code></pre>\n<p>Currently, it outputs its choice as expected. What I want it to do is to output its choice and then move on to another list with the 7 remaining items, but I don't want to have to manually code 256 different lists to nest it with &quot;if <em>a</em> then pick from <em>b</em>, etc.</p>\n<p>So far, all the code I've tried has resulted in a compiler error or the program simply not running. I've even gotten it to work as a nested list, outputting from another list based on its first choice, but that's not working here.</p>\n<p>I'm sure it's something I've already tried and just messed up, but I've run out of my own knowledge.</p>\n<p>EDIT: I guess I should clarify; I know how to solve the issue, I just am hoping there's a more efficient way than doing it all manually with CTRL-C/CTRL-V; it'll make for extremely unwieldy code if I have to make 256 lists for the permutations of 8.</p>\n"},{"tags":["java","selenium","gradle","testng","bitbucket-pipelines"],"answers":[{"tags":[],"owner":{"account_id":6928046,"reputation":155,"user_id":5318481,"accept_rate":83,"display_name":"Dimencion Rider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591272977,"creation_date":1591272977,"answer_id":62194360,"question_id":62178953,"body_markdown":"Problem was solved by downgrading the TestNG dependency in build.gradle file from 7.0.1 to 6.14.3\r\n\r\n","title":"&quot;Could not complete execution for Gradle Test Executor 2&quot; error appears after gradle execution on bitbucket pipelines","body":"<p>Problem was solved by downgrading the TestNG dependency in build.gradle file from 7.0.1 to 6.14.3</p>\n"},{"tags":[],"owner":{"account_id":6955209,"reputation":23,"user_id":5336432,"display_name":"Gaurav Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599477781,"creation_date":1599477781,"answer_id":63776638,"question_id":62178953,"body_markdown":"Try to add `--debug` to your Gradle command and see if there are exceptions that are causing these failures. \r\n\r\nI faced a similar problem because Gradle could not find the test listener class. After fixing that, the tests were easily able to run.","title":"&quot;Could not complete execution for Gradle Test Executor 2&quot; error appears after gradle execution on bitbucket pipelines","body":"<p>Try to add <code>--debug</code> to your Gradle command and see if there are exceptions that are causing these failures.</p>\n<p>I faced a similar problem because Gradle could not find the test listener class. After fixing that, the tests were easily able to run.</p>\n"},{"tags":[],"owner":{"account_id":2534508,"reputation":393,"user_id":2201997,"display_name":"harmider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642611030,"creation_date":1642611030,"answer_id":70774596,"question_id":62178953,"body_markdown":"You probably need to change `build.gradle` file\r\n\r\nfor me, at the beginning it was: \r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nand it was not working properly\r\n\r\nSo I needed to change to:\r\n\r\n    test {\r\n        useTestNG()\r\n    }\r\n\r\nafter that, all the tests are starting as expected. \r\n","title":"&quot;Could not complete execution for Gradle Test Executor 2&quot; error appears after gradle execution on bitbucket pipelines","body":"<p>You probably need to change <code>build.gradle</code> file</p>\n<p>for me, at the beginning it was:</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and it was not working properly</p>\n<p>So I needed to change to:</p>\n<pre><code>test {\n    useTestNG()\n}\n</code></pre>\n<p>after that, all the tests are starting as expected.</p>\n"}],"owner":{"account_id":6928046,"reputation":155,"user_id":5318481,"accept_rate":83,"display_name":"Dimencion Rider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11793,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1697933180,"creation_date":1591205118,"question_id":62178953,"body_markdown":"Tools used:\r\n\r\n    Java 8\r\n    Gradle 4.0\r\n    Selenium\r\n    Selenium Grid\r\n    TestNG\r\n    Docker\r\n    Bitbucket\r\n    Bitbucket pipelines\r\n\r\nWhen I&#39;m executing my tests via bitbucket pipelines I&#39;ve got these errors:\r\n\r\n1. &quot;Could not complete execution for Gradle Test Executor 2&quot; error (not whole suite executed. Total tests count: 29, executed 9, failed 2. One assertion error and another one is &quot;Could not complete execution for Gradle Test Executor 2&quot;; [![enter image description here][1]][1]\r\n\r\n2. If I did an execution again sometimes I have this error: &quot;Failed Container &#39;docker&#39; exceeded memory limit.&quot;[![enter image description here][2]][2]\r\n\r\nEverything works fine when I&#39;m running the tests locally. Any ideas on how this can be fixed?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dHb2k.png\r\n  [2]: https://i.stack.imgur.com/QaHMK.png","title":"&quot;Could not complete execution for Gradle Test Executor 2&quot; error appears after gradle execution on bitbucket pipelines","body":"<p>Tools used:</p>\n\n<pre><code>Java 8\nGradle 4.0\nSelenium\nSelenium Grid\nTestNG\nDocker\nBitbucket\nBitbucket pipelines\n</code></pre>\n\n<p>When I'm executing my tests via bitbucket pipelines I've got these errors:</p>\n\n<ol>\n<li><p>\"Could not complete execution for Gradle Test Executor 2\" error (not whole suite executed. Total tests count: 29, executed 9, failed 2. One assertion error and another one is \"Could not complete execution for Gradle Test Executor 2\"; <a href=\"https://i.stack.imgur.com/dHb2k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dHb2k.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>If I did an execution again sometimes I have this error: \"Failed Container 'docker' exceeded memory limit.\"<a href=\"https://i.stack.imgur.com/QaHMK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QaHMK.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n\n<p>Everything works fine when I'm running the tests locally. Any ideas on how this can be fixed?</p>\n"},{"tags":["java","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697886896,"post_id":77335117,"comment_id":136337602,"body_markdown":"Can you [edit] the question to include a [mcve]?  Without seeing for example the `discoveryserver` Dockerfile it&#39;s hard to tell what&#39;s going on.","body":"Can you <a href=\"https://stackoverflow.com/posts/77335117/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?  Without seeing for example the <code>discoveryserver</code> Dockerfile it&#39;s hard to tell what&#39;s going on."},{"owner":{"account_id":29626821,"reputation":1,"user_id":22706303,"display_name":"Ackon Peter Jude"},"score":0,"creation_date":1697932752,"post_id":77335117,"comment_id":136341648,"body_markdown":"David, thank you for your response. I just added more details to the question. Thank you","body":"David, thank you for your response. I just added more details to the question. Thank you"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697938917,"post_id":77335117,"comment_id":136341971,"body_markdown":"(For reference, this is similar to [Spring Boot&#39;s recommended Dockerfile setup](https://docs.spring.io/spring-boot/docs/current/reference/html/container-images.html#container-images.dockerfiles), though the documented setup will use a Linux base image rather than a Windows one.)","body":"(For reference, this is similar to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/container-images.html#container-images.dockerfiles\" rel=\"nofollow noreferrer\">Spring Boot&#39;s recommended Dockerfile setup</a>, though the documented setup will use a Linux base image rather than a Windows one.)"}],"owner":{"account_id":29626821,"reputation":1,"user_id":22706303,"display_name":"Ackon Peter Jude"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697933040,"creation_date":1697873757,"question_id":77335117,"body_markdown":"I am new to docker and docker-compose. I am getting this error with docker after running docker compose up -d command &quot;Error: Could not find or load main class com.xxx.yyy.discoveryserver.DiscoveryServerApplication&quot;.\r\nBut when I run the same app from the iDE, it runs fine\r\n\r\n This is my docker-compose code for the said module\r\n```\r\ndiscovery-server:\r\n   image: xxx/discoveryserver:latest\r\n   container_name: xxx_discoveryserver\r\n   pull_policy: always\r\n   ports:\r\n     - &quot;8761:8761&quot;\r\n   expose:\r\n     - &quot;8761&quot;\r\n   command:\r\n     - -p 8761\r\n   environment:\r\n     - SPRING_PROFILES_ACTIVE=docker\r\n   healthcheck:\r\n     test: &quot;exit 0&quot;\r\n   depends_on:\r\n     zipkin:\r\n       condition: service_healthy\r\n```\r\nand this is the application.properties file\r\n\r\n```\r\nserver.port=8761\r\n#spring.zipkin.base-url=http://zipkin:9411\r\neureka.client.serviceUrl.defaultZone=http://myusername:mypassword@discovery-server:8761/eureka\r\n\r\neureka.instance.hostname=discovery-server\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\n\r\neureka.username=${EUREKA_USERNAME:myusername}\r\neureka.password=${EUREKA_PASSWORD:mypassword}\r\nspring.cloud.compatibility-verifier.enabled=false\r\n```\r\n\r\nand here is my docker file\r\n\r\n```\r\nFROM openjdk:22-windowsservercore-ltsc2022 as builder\r\nWORKDIR extracted\r\nADD target/*.jar app.jar\r\nRUN java -Djarmode=layertools -jar app.jar extract\r\n\r\nFROM openjdk:22-windowsservercore-ltsc2022\r\nWORKDIR application\r\nCOPY --from=builder dependencies/ ./\r\nCOPY --from=builder snapshot-dependencies/ ./\r\nCOPY --from=builder spring-boot-loader/ ./\r\nCOPY --from=builder application/ ./\r\nEXPOSE 8761\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\n```","title":"How do I get pass this docker error Error: Could not find or load main class com.xxx.yyy.discoveryserver.DiscoveryServerApplication","body":"<p>I am new to docker and docker-compose. I am getting this error with docker after running docker compose up -d command &quot;Error: Could not find or load main class com.xxx.yyy.discoveryserver.DiscoveryServerApplication&quot;.\nBut when I run the same app from the iDE, it runs fine</p>\n<p>This is my docker-compose code for the said module</p>\n<pre><code>discovery-server:\n   image: xxx/discoveryserver:latest\n   container_name: xxx_discoveryserver\n   pull_policy: always\n   ports:\n     - &quot;8761:8761&quot;\n   expose:\n     - &quot;8761&quot;\n   command:\n     - -p 8761\n   environment:\n     - SPRING_PROFILES_ACTIVE=docker\n   healthcheck:\n     test: &quot;exit 0&quot;\n   depends_on:\n     zipkin:\n       condition: service_healthy\n</code></pre>\n<p>and this is the application.properties file</p>\n<pre><code>server.port=8761\n#spring.zipkin.base-url=http://zipkin:9411\neureka.client.serviceUrl.defaultZone=http://myusername:mypassword@discovery-server:8761/eureka\n\neureka.instance.hostname=discovery-server\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\n\neureka.username=${EUREKA_USERNAME:myusername}\neureka.password=${EUREKA_PASSWORD:mypassword}\nspring.cloud.compatibility-verifier.enabled=false\n</code></pre>\n<p>and here is my docker file</p>\n<pre><code>FROM openjdk:22-windowsservercore-ltsc2022 as builder\nWORKDIR extracted\nADD target/*.jar app.jar\nRUN java -Djarmode=layertools -jar app.jar extract\n\nFROM openjdk:22-windowsservercore-ltsc2022\nWORKDIR application\nCOPY --from=builder dependencies/ ./\nCOPY --from=builder snapshot-dependencies/ ./\nCOPY --from=builder spring-boot-loader/ ./\nCOPY --from=builder application/ ./\nEXPOSE 8761\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n\n</code></pre>\n"},{"tags":["java","android","file","io"],"comments":[{"owner":{"account_id":13596055,"reputation":186,"user_id":9808073,"display_name":"Sep"},"score":0,"creation_date":1697903174,"post_id":77336597,"comment_id":136339152,"body_markdown":"looks like the main difference is download Directory. i guess access the download Directory is difference based on different versions of android.","body":"looks like the main difference is download Directory. i guess access the download Directory is difference based on different versions of android."}],"answers":[{"tags":[],"owner":{"account_id":25591652,"reputation":1,"user_id":19368259,"display_name":"Abdul Muteen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697931617,"creation_date":1697931617,"answer_id":77338179,"question_id":77336597,"body_markdown":"Android 10 introduced scoped storage, which restricts how apps can access external storage. To make your code work across different Android versions, you should consider checking the runtime permission, especially for Android 10 and above.\r\n\r\nHere&#39;s an updated version of your code that works on Android 8, 9, 10, and newer.\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    // Android 10 and above\r\n    Context context = getApplicationContext();\r\n    ContentResolver contentResolver = context.getContentResolver();\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(MediaStore.Downloads.DISPLAY_NAME, filename);\r\n    contentValues.put(MediaStore.Downloads.MIME_TYPE, &quot;image/png&quot;);\r\n    contentValues.put(MediaStore.Downloads.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS);\r\n\r\n    Uri contentUri = MediaStore.Downloads.EXTERNAL_CONTENT_URI;\r\n    Uri itemUri = contentResolver.insert(contentUri, contentValues);\r\n\r\n    if (itemUri != null) {\r\n        try {\r\n            OutputStream outputStream = contentResolver.openOutputStream(itemUri);\r\n            if (outputStream != null) {\r\n                outputStream.write(imageBytes);\r\n                outputStream.close();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    } else {\r\n        throw new RuntimeException(&quot;Failed to create a file in the Downloads directory.&quot;);\r\n    }\r\n} else {\r\n    // Android 8 and 9\r\n    File downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n\r\n    if (!downloadsDirectory.exists()) {\r\n        downloadsDirectory.mkdirs();\r\n    }\r\n\r\n    long currentTimestamp = System.currentTimeMillis();\r\n    String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\r\n\r\n    File imageFile = new File(downloadsDirectory, filename);\r\n\r\n    try {\r\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\r\n        outputStream.write(imageBytes);\r\n        outputStream.close();\r\n    } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    } catch (IOException e) {\r\n        throw a RuntimeException(e);\r\n    }\r\n}\r\n```\r\n ","title":"Write file to Download directory in Android","body":"<p>Android 10 introduced scoped storage, which restricts how apps can access external storage. To make your code work across different Android versions, you should consider checking the runtime permission, especially for Android 10 and above.</p>\n<p>Here's an updated version of your code that works on Android 8, 9, 10, and newer.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    // Android 10 and above\n    Context context = getApplicationContext();\n    ContentResolver contentResolver = context.getContentResolver();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(MediaStore.Downloads.DISPLAY_NAME, filename);\n    contentValues.put(MediaStore.Downloads.MIME_TYPE, &quot;image/png&quot;);\n    contentValues.put(MediaStore.Downloads.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS);\n\n    Uri contentUri = MediaStore.Downloads.EXTERNAL_CONTENT_URI;\n    Uri itemUri = contentResolver.insert(contentUri, contentValues);\n\n    if (itemUri != null) {\n        try {\n            OutputStream outputStream = contentResolver.openOutputStream(itemUri);\n            if (outputStream != null) {\n                outputStream.write(imageBytes);\n                outputStream.close();\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    } else {\n        throw new RuntimeException(&quot;Failed to create a file in the Downloads directory.&quot;);\n    }\n} else {\n    // Android 8 and 9\n    File downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n    if (!downloadsDirectory.exists()) {\n        downloadsDirectory.mkdirs();\n    }\n\n    long currentTimestamp = System.currentTimeMillis();\n    String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\n\n    File imageFile = new File(downloadsDirectory, filename);\n\n    try {\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\n        outputStream.write(imageBytes);\n        outputStream.close();\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        throw a RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697931617,"creation_date":1697901084,"question_id":77336597,"body_markdown":"Below is my code\r\n\r\n        File downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n\r\n        long currentTimestamp = System.currentTimeMillis();\r\n        String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\r\n\r\n        File imageFile = new File(downloadsDirectory, filename);\r\n\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(imageFile);\r\n            outputStream.write(imageBytes);\r\n            outputStream.close();\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nI have added permissions \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nNow my code above works fine on Android 12.\r\n\r\nBut it fails on Android 8 and Android 10, with error \r\n\r\n&gt; java.lang.RuntimeException: java.io.FileNotFoundException: /storage/emulated/0/Download/downloaded_image_1697897803982.png: open failed: EACCES (Permission denied)\r\n\r\n\r\nLooking at the internet, I am told the below code should work on all API (greater than 24), but doesnt the below code imply that my code should not work on Android 12, and work on Android 8/9? I dont understand, how is my code (above code), is working on Android 12, but not on 8/9, but below is supposed to work.\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n      StorageManager storageManager = getSystemService(StorageManager.class);\r\n      StorageVolume storageVolume = storageManager.getStorageVolumes().get(0);\r\n      File downloadsDirectory = storageVolume.getDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n    \r\n      long currentTimestamp = System.currentTimeMillis();\r\n      String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\r\n    \r\n      File imageFile = new File(downloadsDirectory, filename);\r\n    \r\n      try {\r\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\r\n        outputStream.write(imageBytes);\r\n        outputStream.close();\r\n      } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n      } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    } else {\r\n      File downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n    \r\n      long currentTimestamp = System.currentTimeMillis();\r\n      String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\r\n    \r\n      File imageFile = new File(downloadsDirectory, filename);\r\n    \r\n      try {\r\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\r\n        outputStream.write(imageBytes);\r\n        outputStream.close();\r\n      } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n      } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    }","title":"Write file to Download directory in Android","body":"<p>Below is my code</p>\n<pre><code>    File downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n    long currentTimestamp = System.currentTimeMillis();\n    String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\n\n    File imageFile = new File(downloadsDirectory, filename);\n\n    try {\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\n        outputStream.write(imageBytes);\n        outputStream.close();\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>I have added permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>Now my code above works fine on Android 12.</p>\n<p>But it fails on Android 8 and Android 10, with error</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.io.FileNotFoundException: /storage/emulated/0/Download/downloaded_image_1697897803982.png: open failed: EACCES (Permission denied)</p>\n</blockquote>\n<p>Looking at the internet, I am told the below code should work on all API (greater than 24), but doesnt the below code imply that my code should not work on Android 12, and work on Android 8/9? I dont understand, how is my code (above code), is working on Android 12, but not on 8/9, but below is supposed to work.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n  StorageManager storageManager = getSystemService(StorageManager.class);\n  StorageVolume storageVolume = storageManager.getStorageVolumes().get(0);\n  File downloadsDirectory = storageVolume.getDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n  long currentTimestamp = System.currentTimeMillis();\n  String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\n\n  File imageFile = new File(downloadsDirectory, filename);\n\n  try {\n    FileOutputStream outputStream = new FileOutputStream(imageFile);\n    outputStream.write(imageBytes);\n    outputStream.close();\n  } catch (FileNotFoundException e) {\n    throw new RuntimeException(e);\n  } catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n} else {\n  File downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n  long currentTimestamp = System.currentTimeMillis();\n  String filename = &quot;downloaded_image_&quot; + currentTimestamp + &quot;.png&quot;;\n\n  File imageFile = new File(downloadsDirectory, filename);\n\n  try {\n    FileOutputStream outputStream = new FileOutputStream(imageFile);\n    outputStream.write(imageBytes);\n    outputStream.close();\n  } catch (FileNotFoundException e) {\n    throw new RuntimeException(e);\n  } catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1698077459,"post_id":77338163,"comment_id":136356622,"body_markdown":"What version of Gradle you are using? Try defining jvmTarget explicitly. Also check JDK settings in for the Compiler and in the Project Structure menu.","body":"What version of Gradle you are using? Try defining jvmTarget explicitly. Also check JDK settings in for the Compiler and in the Project Structure menu."}],"owner":{"account_id":5937565,"reputation":85,"user_id":4670005,"accept_rate":0,"display_name":"CptLeChuck70"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697931289,"creation_date":1697931289,"question_id":77338163,"body_markdown":"I would like to compile a library for iOS and Android the build.gradle file below. It works for iOS (if I remove androidTarget (+ com.android.library plugin), however I&#39;m not able to compile it also for Android. If I try it with Settings &gt; Build... &gt; Build Tools &gt;  Gradle JVM 17 I face this error:\r\n\r\n&gt; FAILURE: Build failed with an exception.\r\n&gt;\r\n&gt; * What went wrong:\r\n&gt; Could not determine the dependencies of task &#39;:compileDebugKotlinAndroid&#39;. &gt; Unknown Kotlin JVM target: 21\r\n\r\nIf I try it with Settings &gt; Build... &gt; Build Tools &gt; Gradle JVM 15 it no longer syncs the gradle with this error\r\n\r\n&gt; Gradle JVM version incompatible. This project is configured to use an older Gradle JVM that supports up to version 15 but the current AGP requires a Gradle JVM that supports version 17.\r\n\r\nI tried several different combinations but without success so far, any hel is much appreciated.\r\n\r\n```kotlin\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;) version &quot;1.9.10&quot;\r\n    id(&quot;com.android.library&quot;) version &quot;8.1.2&quot;\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;1.0&quot;\r\n\r\nrepositories {\r\n    google()\r\n    mavenCentral()\r\n    gradlePluginPortal()\r\n}\r\n\r\nkotlin {\r\n\r\n    androidTarget {\r\n        publishLibraryVariants(&quot;release&quot;)\r\n    }\r\n\r\n   iosX64 {\r\n        binaries {\r\n            framework {\r\n                baseName = &quot;test&quot;\r\n                linkerOpts += &quot;-ld64&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    iosArm64 {\r\n        binaries {\r\n            framework {\r\n                baseName = &quot;test&quot;\r\n                linkerOpts += &quot;-ld64&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    val hostOs = System.getProperty(&quot;os.name&quot;)\r\n    val isArm64 = System.getProperty(&quot;os.arch&quot;) == &quot;aarch64&quot;\r\n    val isMingwX64 = hostOs.startsWith(&quot;Windows&quot;)\r\n    val nativeTarget = when {\r\n        hostOs == &quot;Mac OS X&quot; &amp;&amp; isArm64 -&gt; macosArm64(&quot;native&quot;)\r\n        hostOs == &quot;Mac OS X&quot; &amp;&amp; !isArm64 -&gt; macosX64(&quot;native&quot;)\r\n        hostOs == &quot;Linux&quot; &amp;&amp; isArm64 -&gt; linuxArm64(&quot;native&quot;)\r\n        hostOs == &quot;Linux&quot; &amp;&amp; !isArm64 -&gt; linuxX64(&quot;native&quot;)\r\n        isMingwX64 -&gt; mingwX64(&quot;native&quot;)\r\n        else -&gt; throw GradleException(&quot;Host OS is not supported in Kotlin/Native.&quot;)\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting\r\n    }\r\n}\r\n\r\nandroid {\r\n    namespace = &quot;com.example.myapp&quot;\r\n    compileSdk = 33\r\n}\r\n```","title":"Kotlin Multiplatform gradle Java version issues","body":"<p>I would like to compile a library for iOS and Android the build.gradle file below. It works for iOS (if I remove androidTarget (+ com.android.library plugin), however I'm not able to compile it also for Android. If I try it with Settings &gt; Build... &gt; Build Tools &gt;  Gradle JVM 17 I face this error:</p>\n<blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':compileDebugKotlinAndroid'. &gt; Unknown Kotlin JVM target: 21</li>\n</ul>\n</blockquote>\n<p>If I try it with Settings &gt; Build... &gt; Build Tools &gt; Gradle JVM 15 it no longer syncs the gradle with this error</p>\n<blockquote>\n<p>Gradle JVM version incompatible. This project is configured to use an older Gradle JVM that supports up to version 15 but the current AGP requires a Gradle JVM that supports version 17.</p>\n</blockquote>\n<p>I tried several different combinations but without success so far, any hel is much appreciated.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    kotlin(&quot;multiplatform&quot;) version &quot;1.9.10&quot;\n    id(&quot;com.android.library&quot;) version &quot;8.1.2&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;1.0&quot;\n\nrepositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n}\n\nkotlin {\n\n    androidTarget {\n        publishLibraryVariants(&quot;release&quot;)\n    }\n\n   iosX64 {\n        binaries {\n            framework {\n                baseName = &quot;test&quot;\n                linkerOpts += &quot;-ld64&quot;\n            }\n        }\n    }\n\n    iosArm64 {\n        binaries {\n            framework {\n                baseName = &quot;test&quot;\n                linkerOpts += &quot;-ld64&quot;\n            }\n        }\n    }\n\n    val hostOs = System.getProperty(&quot;os.name&quot;)\n    val isArm64 = System.getProperty(&quot;os.arch&quot;) == &quot;aarch64&quot;\n    val isMingwX64 = hostOs.startsWith(&quot;Windows&quot;)\n    val nativeTarget = when {\n        hostOs == &quot;Mac OS X&quot; &amp;&amp; isArm64 -&gt; macosArm64(&quot;native&quot;)\n        hostOs == &quot;Mac OS X&quot; &amp;&amp; !isArm64 -&gt; macosX64(&quot;native&quot;)\n        hostOs == &quot;Linux&quot; &amp;&amp; isArm64 -&gt; linuxArm64(&quot;native&quot;)\n        hostOs == &quot;Linux&quot; &amp;&amp; !isArm64 -&gt; linuxX64(&quot;native&quot;)\n        isMingwX64 -&gt; mingwX64(&quot;native&quot;)\n        else -&gt; throw GradleException(&quot;Host OS is not supported in Kotlin/Native.&quot;)\n    }\n\n    sourceSets {\n        val commonMain by getting\n    }\n}\n\nandroid {\n    namespace = &quot;com.example.myapp&quot;\n    compileSdk = 33\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","jframe","jpanel"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1697802947,"post_id":77328993,"comment_id":136328862,"body_markdown":"Screenshots of your frame are fine, but don&#39;t post screenshots of your code. Actually copy and paste your code into the question.","body":"Screenshots of your frame are fine, but don&#39;t post screenshots of your code. Actually copy and paste your code into the question."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697812819,"post_id":77328993,"comment_id":136330782,"body_markdown":"*I can imagine pressing the button which will run a thread/method and resize the JFrame.* - Actually you would use a Swing Timer for animation. You would adjust the frame location/size every time the timer fires. Check out: https://stackoverflow.com/a/54028681/131872 for an example of animation. *I&#39;m not experienced with Java swing* Also check out [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for Timer basics and keep a link to the tutorial handy for all Swing basics.","body":"<i>I can imagine pressing the button which will run a thread/method and resize the JFrame.</i> - Actually you would use a Swing Timer for animation. You would adjust the frame location/size every time the timer fires. Check out: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example of animation. <i>I&#39;m not experienced with Java swing</i> Also check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for Timer basics and keep a link to the tutorial handy for all Swing basics."},{"owner":{"account_id":29679633,"reputation":3,"user_id":22746592,"display_name":"jes"},"score":0,"creation_date":1697833958,"post_id":77328993,"comment_id":136334045,"body_markdown":"okay okay, sorry about the code screenshots, I will edit it now, and also thank you for the idea of a swing timer, I will look into it. I appreciate it.","body":"okay okay, sorry about the code screenshots, I will edit it now, and also thank you for the idea of a swing timer, I will look into it. I appreciate it."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1697836164,"post_id":77328993,"comment_id":136334318,"body_markdown":"@jes Yes, a Swing Timer is wise for creating a smooth effect. You should also look into `Window::addWindowStateListener` -- https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#addWindowStateListener(java.awt.event.WindowStateListener) -- which gives you `WindowStateListener::windowStateChanged` -- https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/WindowStateListener.html -- which gives you the states of `WindowEvent` -- https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/WindowEvent.html#field-summary","body":"@jes Yes, a Swing Timer is wise for creating a smooth effect. You should also look into <code>Window::addWindowStateListener</code> -- <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#addWindowStateListener(java.awt.event.WindowStateListener)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a> -- which gives you <code>WindowStateListener::windowStateChanged</code> -- <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/WindowStateListener.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a> -- which gives you the states of <code>WindowEvent</code> -- <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/WindowEvent.html#field-summary\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1697836211,"post_id":77328993,"comment_id":136334325,"body_markdown":"And in case it&#39;s not clear, `WindowEvent` extends `ComponentEvent`, which has https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/ComponentEvent.html#COMPONENT_RESIZED","body":"And in case it&#39;s not clear, <code>WindowEvent</code> extends <code>ComponentEvent</code>, which has <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/ComponentEvent.html#COMPONENT_RESIZED\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697931061,"creation_date":1697900999,"answer_id":77336589,"question_id":77328993,"body_markdown":"Below is a runnable demo which demonstrates how this could be done. The methods using to animate the opening, extending, and closing of the JFrame window are located within the **AnimateForm** class named `animateForm()` and `animateFormClose()`. The `animateForm()` method makes use of a Swing Timer and the `animateFormClose()` method animates the closing of the form utilizing a `while` loop.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nKeep in mind, this is just a simple demo. \r\n\r\n----------\r\n\r\n**The SwingFormAnimationDemo Class:**\r\n\r\n```\r\npublic class SwingFormAnimationDemo {\r\n\r\n    private javax.swing.JFrame frame;\r\n    private javax.swing.JPanel rootPanel;\r\n    private javax.swing.JButton resizeButton;\r\n\r\n    private int desiredFormWidth = 500;\r\n    private int desiredFormHeight = 300;\r\n    private int widthIncrement = 10;\r\n    private int heightIncrement = 10;\r\n    private int speed = 5;\r\n    private int initialDelay = 300;\r\n\r\n    private int desiredFormExtentionWidthAmount = 0;\r\n    private int desiredFormExtentionHeightAmount = 100;\r\n    private int extensionWidthIncrement = 3;\r\n    private int extensionHeightIncrement = 3;\r\n    private int extentionSpeed = 10;\r\n    private int extensionInitialDelay = 300;\r\n\r\n    private AnimateForm animate;\r\n\r\n    public SwingFormAnimationDemo() {\r\n        initForm();\r\n        animate = new AnimateForm();\r\n        animate.animateForm(frame, desiredFormWidth, desiredFormHeight,\r\n                widthIncrement, heightIncrement, speed, initialDelay);\r\n\r\n        frame.addWindowListener(new java.awt.event.WindowListener() {\r\n            @Override\r\n            public void windowOpened(java.awt.event.WindowEvent e) {\r\n                // Do Nothing...\r\n            }\r\n\r\n            @Override\r\n            public void windowClosing(java.awt.event.WindowEvent e) {\r\n                animate.animateFormClose(frame);\r\n                if (AnimateForm.animateFormTimer.isRunning()) {\r\n                    AnimateForm.animateFormTimer.stop();\r\n                }\r\n                frame.dispose();\r\n            }\r\n\r\n            @Override\r\n            public void windowClosed(java.awt.event.WindowEvent e) {\r\n                // Do Nothing...\r\n            }\r\n\r\n            @Override\r\n            public void windowIconified(java.awt.event.WindowEvent e) {\r\n                // Do Nothing...\r\n            }\r\n\r\n            @Override\r\n            public void windowDeiconified(java.awt.event.WindowEvent e) {\r\n                // Do Nothing...\r\n            }\r\n\r\n            @Override\r\n            public void windowActivated(java.awt.event.WindowEvent e) {\r\n                // Do Nothing...\r\n            }\r\n\r\n            @Override\r\n            public void windowDeactivated(java.awt.event.WindowEvent e) {\r\n                // Do Nothing...\r\n            }\r\n        });\r\n        \r\n        resizeButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n            if (resizeButton.getText().equals(&quot;Longer Form&quot;)) {\r\n                animate.animateForm(frame, frame.getWidth() + desiredFormExtentionWidthAmount,\r\n                        frame.getHeight() + desiredFormExtentionHeightAmount,\r\n                        extensionWidthIncrement, extensionHeightIncrement,\r\n                        extentionSpeed, extensionInitialDelay);\r\n                resizeButton.setText(&quot;Shorter Form&quot;);\r\n            }\r\n            else {\r\n                animate.animateForm(frame, frame.getWidth() - desiredFormExtentionWidthAmount,\r\n                        frame.getHeight() - desiredFormExtentionHeightAmount,\r\n                        extensionWidthIncrement, extensionHeightIncrement,\r\n                        extentionSpeed, extensionInitialDelay);\r\n                resizeButton.setText(&quot;Longer Form&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new SwingFormAnimationDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n        });\r\n\r\n    }\r\n\r\n    private void initForm() {\r\n        frame = new javax.swing.JFrame();\r\n        frame.setTitle(&quot;Swing Form Animation Demo&quot;);\r\n        frame.setAlwaysOnTop(true);\r\n        frame.setDefaultCloseOperation(javax.swing.JFrame.DO_NOTHING_ON_CLOSE);\r\n        frame.setPreferredSize(new java.awt.Dimension(0, 0));\r\n        \r\n        rootPanel = new javax.swing.JPanel();\r\n\r\n        resizeButton = new javax.swing.JButton(&quot;Longer Form&quot;);\r\n        rootPanel.add(resizeButton);\r\n\r\n        javax.swing.JTable table = new javax.swing.JTable(17, 3);\r\n        table.setShowHorizontalLines(true);\r\n        table.setShowVerticalLines(true);\r\n        table.setGridColor(java.awt.Color.LIGHT_GRAY);\r\n        javax.swing.JScrollPane sp = new javax.swing.JScrollPane(table);\r\n        sp.setPreferredSize(new java.awt.Dimension(400, 300));\r\n        rootPanel.add(sp);\r\n\r\n        frame.setContentPane(rootPanel);\r\n        frame.pack();\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\n**The AnimateForm Class:**\r\n\r\n```\r\npublic class AnimateForm {\r\n\r\n    public static javax.swing.Timer animateFormTimer;\r\n\r\n    public void animateForm(javax.swing.JFrame suppliedFrame, int width, int height,\r\n            int widthIncrement, int heightIncrement, int speed, int initialDelay) {\r\n        animateFormTimer = new javax.swing.Timer(speed, (java.awt.event.ActionEvent evt) -&gt; {\r\n            boolean widthRetraction = width &lt; suppliedFrame.getWidth();\r\n            boolean heightRetraction = height &lt; suppliedFrame.getHeight();\r\n\r\n            // Form animation...\r\n            if (width &gt; suppliedFrame.getWidth()) {\r\n                suppliedFrame.setSize(suppliedFrame.getWidth() + widthIncrement,\r\n                        suppliedFrame.getHeight());\r\n            }\r\n            else if (width &lt; suppliedFrame.getWidth()) {\r\n                suppliedFrame.setSize(suppliedFrame.getWidth() - widthIncrement,\r\n                        suppliedFrame.getHeight());\r\n            }\r\n            else {\r\n                suppliedFrame.setSize(width, suppliedFrame.getHeight());\r\n            }\r\n\r\n            if (height &gt; suppliedFrame.getHeight()) {\r\n                suppliedFrame.setSize(suppliedFrame.getWidth(),\r\n                        suppliedFrame.getHeight() + heightIncrement);\r\n            }\r\n            else if (height &lt; suppliedFrame.getHeight()) {\r\n                suppliedFrame.setSize(suppliedFrame.getWidth(),\r\n                        suppliedFrame.getHeight() - heightIncrement);\r\n            }\r\n            else {\r\n                suppliedFrame.setSize(suppliedFrame.getWidth(), height);\r\n            }\r\n\r\n            if ((widthRetraction ? suppliedFrame.getWidth() &lt;= width : suppliedFrame.getWidth() &gt;= width)\r\n                    &amp;&amp; (heightRetraction ? suppliedFrame.getHeight() &lt;= height : suppliedFrame.getHeight() &gt;= height)) {\r\n                animateFormTimer.stop();\r\n            }\r\n        });\r\n        animateFormTimer.setInitialDelay(initialDelay);\r\n        animateFormTimer.start();\r\n    }\r\n\r\n    public void animateFormClose(javax.swing.JFrame frame) {\r\n        while (frame.getWidth() &gt; 140 || frame.getHeight() &gt; 40) {\r\n            frame.setSize(frame.getWidth() - 1, frame.getHeight() - 1);\r\n        }\r\n    }\r\n}\r\n```\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8OZzh.gif","title":"java swing make a smooth transition animation for resizing Jframe height","body":"<p>Below is a runnable demo which demonstrates how this could be done. The methods using to animate the opening, extending, and closing of the JFrame window are located within the <strong>AnimateForm</strong> class named <code>animateForm()</code> and <code>animateFormClose()</code>. The <code>animateForm()</code> method makes use of a Swing Timer and the <code>animateFormClose()</code> method animates the closing of the form utilizing a <code>while</code> loop.</p>\n<p><a href=\"https://i.stack.imgur.com/8OZzh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8OZzh.gif\" alt=\"enter image description here\" /></a></p>\n<p>Keep in mind, this is just a simple demo.</p>\n<hr />\n<p><strong>The SwingFormAnimationDemo Class:</strong></p>\n<pre><code>public class SwingFormAnimationDemo {\n\n    private javax.swing.JFrame frame;\n    private javax.swing.JPanel rootPanel;\n    private javax.swing.JButton resizeButton;\n\n    private int desiredFormWidth = 500;\n    private int desiredFormHeight = 300;\n    private int widthIncrement = 10;\n    private int heightIncrement = 10;\n    private int speed = 5;\n    private int initialDelay = 300;\n\n    private int desiredFormExtentionWidthAmount = 0;\n    private int desiredFormExtentionHeightAmount = 100;\n    private int extensionWidthIncrement = 3;\n    private int extensionHeightIncrement = 3;\n    private int extentionSpeed = 10;\n    private int extensionInitialDelay = 300;\n\n    private AnimateForm animate;\n\n    public SwingFormAnimationDemo() {\n        initForm();\n        animate = new AnimateForm();\n        animate.animateForm(frame, desiredFormWidth, desiredFormHeight,\n                widthIncrement, heightIncrement, speed, initialDelay);\n\n        frame.addWindowListener(new java.awt.event.WindowListener() {\n            @Override\n            public void windowOpened(java.awt.event.WindowEvent e) {\n                // Do Nothing...\n            }\n\n            @Override\n            public void windowClosing(java.awt.event.WindowEvent e) {\n                animate.animateFormClose(frame);\n                if (AnimateForm.animateFormTimer.isRunning()) {\n                    AnimateForm.animateFormTimer.stop();\n                }\n                frame.dispose();\n            }\n\n            @Override\n            public void windowClosed(java.awt.event.WindowEvent e) {\n                // Do Nothing...\n            }\n\n            @Override\n            public void windowIconified(java.awt.event.WindowEvent e) {\n                // Do Nothing...\n            }\n\n            @Override\n            public void windowDeiconified(java.awt.event.WindowEvent e) {\n                // Do Nothing...\n            }\n\n            @Override\n            public void windowActivated(java.awt.event.WindowEvent e) {\n                // Do Nothing...\n            }\n\n            @Override\n            public void windowDeactivated(java.awt.event.WindowEvent e) {\n                // Do Nothing...\n            }\n        });\n        \n        resizeButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\n            if (resizeButton.getText().equals(&quot;Longer Form&quot;)) {\n                animate.animateForm(frame, frame.getWidth() + desiredFormExtentionWidthAmount,\n                        frame.getHeight() + desiredFormExtentionHeightAmount,\n                        extensionWidthIncrement, extensionHeightIncrement,\n                        extentionSpeed, extensionInitialDelay);\n                resizeButton.setText(&quot;Shorter Form&quot;);\n            }\n            else {\n                animate.animateForm(frame, frame.getWidth() - desiredFormExtentionWidthAmount,\n                        frame.getHeight() - desiredFormExtentionHeightAmount,\n                        extensionWidthIncrement, extensionHeightIncrement,\n                        extentionSpeed, extensionInitialDelay);\n                resizeButton.setText(&quot;Longer Form&quot;);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        new SwingFormAnimationDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        java.awt.EventQueue.invokeLater(() -&gt; {\n            frame.setVisible(true);\n            frame.setLocationRelativeTo(null);\n        });\n\n    }\n\n    private void initForm() {\n        frame = new javax.swing.JFrame();\n        frame.setTitle(&quot;Swing Form Animation Demo&quot;);\n        frame.setAlwaysOnTop(true);\n        frame.setDefaultCloseOperation(javax.swing.JFrame.DO_NOTHING_ON_CLOSE);\n        frame.setPreferredSize(new java.awt.Dimension(0, 0));\n        \n        rootPanel = new javax.swing.JPanel();\n\n        resizeButton = new javax.swing.JButton(&quot;Longer Form&quot;);\n        rootPanel.add(resizeButton);\n\n        javax.swing.JTable table = new javax.swing.JTable(17, 3);\n        table.setShowHorizontalLines(true);\n        table.setShowVerticalLines(true);\n        table.setGridColor(java.awt.Color.LIGHT_GRAY);\n        javax.swing.JScrollPane sp = new javax.swing.JScrollPane(table);\n        sp.setPreferredSize(new java.awt.Dimension(400, 300));\n        rootPanel.add(sp);\n\n        frame.setContentPane(rootPanel);\n        frame.pack();\n    }\n}\n</code></pre>\n<hr />\n<p><strong>The AnimateForm Class:</strong></p>\n<pre><code>public class AnimateForm {\n\n    public static javax.swing.Timer animateFormTimer;\n\n    public void animateForm(javax.swing.JFrame suppliedFrame, int width, int height,\n            int widthIncrement, int heightIncrement, int speed, int initialDelay) {\n        animateFormTimer = new javax.swing.Timer(speed, (java.awt.event.ActionEvent evt) -&gt; {\n            boolean widthRetraction = width &lt; suppliedFrame.getWidth();\n            boolean heightRetraction = height &lt; suppliedFrame.getHeight();\n\n            // Form animation...\n            if (width &gt; suppliedFrame.getWidth()) {\n                suppliedFrame.setSize(suppliedFrame.getWidth() + widthIncrement,\n                        suppliedFrame.getHeight());\n            }\n            else if (width &lt; suppliedFrame.getWidth()) {\n                suppliedFrame.setSize(suppliedFrame.getWidth() - widthIncrement,\n                        suppliedFrame.getHeight());\n            }\n            else {\n                suppliedFrame.setSize(width, suppliedFrame.getHeight());\n            }\n\n            if (height &gt; suppliedFrame.getHeight()) {\n                suppliedFrame.setSize(suppliedFrame.getWidth(),\n                        suppliedFrame.getHeight() + heightIncrement);\n            }\n            else if (height &lt; suppliedFrame.getHeight()) {\n                suppliedFrame.setSize(suppliedFrame.getWidth(),\n                        suppliedFrame.getHeight() - heightIncrement);\n            }\n            else {\n                suppliedFrame.setSize(suppliedFrame.getWidth(), height);\n            }\n\n            if ((widthRetraction ? suppliedFrame.getWidth() &lt;= width : suppliedFrame.getWidth() &gt;= width)\n                    &amp;&amp; (heightRetraction ? suppliedFrame.getHeight() &lt;= height : suppliedFrame.getHeight() &gt;= height)) {\n                animateFormTimer.stop();\n            }\n        });\n        animateFormTimer.setInitialDelay(initialDelay);\n        animateFormTimer.start();\n    }\n\n    public void animateFormClose(javax.swing.JFrame frame) {\n        while (frame.getWidth() &gt; 140 || frame.getHeight() &gt; 40) {\n            frame.setSize(frame.getWidth() - 1, frame.getHeight() - 1);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29679633,"reputation":3,"user_id":22746592,"display_name":"jes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77336589,"answer_count":1,"score":0,"last_activity_date":1697931061,"creation_date":1697786243,"question_id":77328993,"body_markdown":"I&#39;m working on a small GUI application and part of this application I intend to resize the JFrame after I press a button. I managed to resize the JFrame, but I wanted to create a smooth animation for the opening and closing of this JFrame. I&#39;m not sure where and how to start. I know that I can imagine pressing the button which will run a thread/method and resize the JFrame. I&#39;ll try give as much detail as possible through some screenshots.\r\n\r\n[Here is a before](https://i.stack.imgur.com/lzb4Y.png) - before JFrame resize\r\n\r\n[and here is a after](https://i.stack.imgur.com/Xr80r.png) - after JFrame resize\r\n\r\nCode for current resize for JFrame\r\n\r\n```java\r\nchangeBottomFrame.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(!heightIncreased[0]){\r\n            try{\r\n                frame.setSize(frame.getWidth(), frame.getHeight()+80);\r\n                if(frame.getHeight()==450){\r\n                    frame.add(bottomFrame, BorderLayout.PAGE_END);\r\n                    changeBottomFrame.setText(&quot;∨&quot;);\r\n                    heightIncreased[0] =true;\r\n                }\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n\r\n        } else if (heightIncreased[0]) {\r\n            try {\r\n                frame.setSize(frame.getWidth(), frame.getHeight() - 80);\r\n                if(frame.getHeight()==370) {\r\n                    frame.remove(bottomFrame);\r\n                    changeBottomFrame.setText(&quot;∧&quot;);\r\n                    heightIncreased[0] = false;\r\n                }\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n        {}\r\n    }\r\n});\r\n```\r\n\r\nIn the screenshots, I added a JPanel to _highlight_ the area amount added, and shown in the code you can see `frame.add(bottomFrame)` for clarification.\r\n\r\nI am new to Java coding and I&#39;ve made smooth animation transitions in Python GUIs, but I&#39;m not experienced with Java Swing.","title":"java swing make a smooth transition animation for resizing Jframe height","body":"<p>I'm working on a small GUI application and part of this application I intend to resize the JFrame after I press a button. I managed to resize the JFrame, but I wanted to create a smooth animation for the opening and closing of this JFrame. I'm not sure where and how to start. I know that I can imagine pressing the button which will run a thread/method and resize the JFrame. I'll try give as much detail as possible through some screenshots.</p>\n<p><a href=\"https://i.stack.imgur.com/lzb4Y.png\" rel=\"nofollow noreferrer\">Here is a before</a> - before JFrame resize</p>\n<p><a href=\"https://i.stack.imgur.com/Xr80r.png\" rel=\"nofollow noreferrer\">and here is a after</a> - after JFrame resize</p>\n<p>Code for current resize for JFrame</p>\n<pre class=\"lang-java prettyprint-override\"><code>changeBottomFrame.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(!heightIncreased[0]){\n            try{\n                frame.setSize(frame.getWidth(), frame.getHeight()+80);\n                if(frame.getHeight()==450){\n                    frame.add(bottomFrame, BorderLayout.PAGE_END);\n                    changeBottomFrame.setText(&quot;∨&quot;);\n                    heightIncreased[0] =true;\n                }\n            } catch (Exception ex) {\n                throw new RuntimeException(ex);\n            }\n\n        } else if (heightIncreased[0]) {\n            try {\n                frame.setSize(frame.getWidth(), frame.getHeight() - 80);\n                if(frame.getHeight()==370) {\n                    frame.remove(bottomFrame);\n                    changeBottomFrame.setText(&quot;∧&quot;);\n                    heightIncreased[0] = false;\n                }\n            } catch (Exception ex) {\n                throw new RuntimeException(ex);\n            }\n        }\n        {}\n    }\n});\n</code></pre>\n<p>In the screenshots, I added a JPanel to <em>highlight</em> the area amount added, and shown in the code you can see <code>frame.add(bottomFrame)</code> for clarification.</p>\n<p>I am new to Java coding and I've made smooth animation transitions in Python GUIs, but I'm not experienced with Java Swing.</p>\n"},{"tags":["java","tomcat","dependency-injection","inject"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1697966273,"post_id":77338143,"comment_id":136343487,"body_markdown":"Note: The virtual host name (outside of a request) is not guaranteed to be unique. The server can answer to any number of host names, and the client-visible hostname might even be that of a proxy, not of your tomcat","body":"Note: The virtual host name (outside of a request) is not guaranteed to be unique. The server can answer to any number of host names, and the client-visible hostname might even be that of a proxy, not of your tomcat"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1698005921,"post_id":77338143,"comment_id":136347426,"body_markdown":"yes, I&#39;m aware of that and thank you for pointing that out. That&#39;s why I was curious if I could inject one or more of the host or context configurations","body":"yes, I&#39;m aware of that and thank you for pointing that out. That&#39;s why I was curious if I could inject one or more of the host or context configurations"}],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697930651,"creation_date":1697930651,"question_id":77338143,"body_markdown":"We have a need to determine the server&#39;s URL. I know one can use JEE Dependency Injection for resources into servlets like this:\r\n\r\n```\r\n@Resource\r\nprivate UserDatabase userDatabase;\r\n```\r\n\r\nI was curious if it possible to inject Host configuration, or something similar where I can figure out the entire local URL for the server.\r\n\r\nI&#39;m aware I can examine httpServletRequest, but I need to do this on boot of the container, so I would be outside the scope of a request and unable to use that api.\r\n\r\nThank you for any help!","title":"In Tomcat, is it possible to inject the current Host configuration without being inside a request context?","body":"<p>We have a need to determine the server's URL. I know one can use JEE Dependency Injection for resources into servlets like this:</p>\n<pre><code>@Resource\nprivate UserDatabase userDatabase;\n</code></pre>\n<p>I was curious if it possible to inject Host configuration, or something similar where I can figure out the entire local URL for the server.</p>\n<p>I'm aware I can examine httpServletRequest, but I need to do this on boot of the container, so I would be outside the scope of a request and unable to use that api.</p>\n<p>Thank you for any help!</p>\n"},{"tags":["java","json","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":46951,"reputation":6126,"user_id":138933,"accept_rate":90,"display_name":"Benoit Wickramarachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362410725,"creation_date":1362410725,"answer_id":15204977,"question_id":15204491,"body_markdown":"Your approach would work but I suggest you to use [Jackson Streaming API][1] to directly parse the JSON file, instead of having an additional step to read the whole file and then process it.\r\n\r\n    JsonFactory jsonFactory = new JsonFactory();\r\n    JsonParser jp = jsonFactory.createJsonParser(file);\r\n\r\n[1]: http://wiki.fasterxml.com/JacksonStreamingApi\r\n","title":"How to parse json-file with spring batch?","body":"<p>Your approach would work but I suggest you to use <a href=\"http://wiki.fasterxml.com/JacksonStreamingApi\" rel=\"nofollow\">Jackson Streaming API</a> to directly parse the JSON file, instead of having an additional step to read the whole file and then process it.</p>\n\n<pre><code>JsonFactory jsonFactory = new JsonFactory();\nJsonParser jp = jsonFactory.createJsonParser(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5411487,"reputation":23,"user_id":4308092,"display_name":"chickenempanada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617458384,"creation_date":1617456586,"answer_id":66931716,"question_id":15204491,"body_markdown":"You can use the `JsonItemReader` in Spring Batch. In my case, I passed the JSON file name as `JobParameter`.\r\n\r\nSample JSON content in my JSON file.\r\n\r\n    { \r\n       &quot;obj1&quot;: &quot;abc&quot;, \r\n       &quot;obj2&quot;: &quot;def&quot; \r\n    }\r\n\r\nMyObj Class:\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObject{\r\n        String obj1;\r\n        String obj2;\r\n    }\r\n\r\nAnd here is my reader.\r\n\r\n    @Bean\r\n    @StepScope\r\n    public JsonItemReader&lt;MyObj&gt; myReader() {\r\n    \r\n        LOGGER.info(LOG_TEMPLATE,\r\n                getClass().getSimpleName(),\r\n                Thread.currentThread().getStackTrace()[1].getMethodName(),\r\n                &quot;Inside Reader...&quot;);\r\n    \r\n        final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        final JacksonJsonObjectReader&lt;MyObj&gt; jsonObjectReader = new JacksonJsonObjectReader&lt;&gt;(\r\n                MyObj.class);\r\n        jsonObjectReader.setMapper(mapper);\r\n    \r\n        final String filePath = config.getRootfolder() + SEPERATOR + inputInfo.getFileName();\r\n    \r\n        return new JsonItemReaderBuilder&lt;MyObj&gt;().jsonObjectReader(jsonObjectReader)\r\n                .resource(new FileSystemResource(filePath))\r\n                .name(&quot;myReader&quot;)\r\n                .build();\r\n    \r\n    }","title":"How to parse json-file with spring batch?","body":"<p>You can use the <code>JsonItemReader</code> in Spring Batch. In my case, I passed the JSON file name as <code>JobParameter</code>.</p>\n<p>Sample JSON content in my JSON file.</p>\n<pre><code>{ \n   &quot;obj1&quot;: &quot;abc&quot;, \n   &quot;obj2&quot;: &quot;def&quot; \n}\n</code></pre>\n<p>MyObj Class:</p>\n<pre><code>@Data\n@Builder\npublic class MyObject{\n    String obj1;\n    String obj2;\n}\n</code></pre>\n<p>And here is my reader.</p>\n<pre><code>@Bean\n@StepScope\npublic JsonItemReader&lt;MyObj&gt; myReader() {\n\n    LOGGER.info(LOG_TEMPLATE,\n            getClass().getSimpleName(),\n            Thread.currentThread().getStackTrace()[1].getMethodName(),\n            &quot;Inside Reader...&quot;);\n\n    final ObjectMapper mapper = new ObjectMapper();\n\n    final JacksonJsonObjectReader&lt;MyObj&gt; jsonObjectReader = new JacksonJsonObjectReader&lt;&gt;(\n            MyObj.class);\n    jsonObjectReader.setMapper(mapper);\n\n    final String filePath = config.getRootfolder() + SEPERATOR + inputInfo.getFileName();\n\n    return new JsonItemReaderBuilder&lt;MyObj&gt;().jsonObjectReader(jsonObjectReader)\n            .resource(new FileSystemResource(filePath))\n            .name(&quot;myReader&quot;)\n            .build();\n\n}\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9046,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697929395,"creation_date":1362409248,"question_id":15204491,"body_markdown":"I have a list of serialized entities written to a file in json format.\r\nI need to read them from the file using spring batch (then process them and write to DB).\r\n\r\nI found only Flat file, DB and Xml readers provided with spring batch.\r\nWhat&#39;s the right way to parse json?\r\n\r\nThe approach I&#39;m going to implement is:\r\n\r\n    1. read the whole file with FlatFile reader\r\n    2. parse it with Jaxson in `read` method\r\n\r\nI&#39;m completely newbie in spring batch, so I need a piece of advice here. Is this approach correct? Doesn&#39;t it violates any spring-batch principles? Or should I use another one?\r\n ","title":"How to parse json-file with spring batch?","body":"<p>I have a list of serialized entities written to a file in json format.\nI need to read them from the file using spring batch (then process them and write to DB).</p>\n\n<p>I found only Flat file, DB and Xml readers provided with spring batch.\nWhat's the right way to parse json?</p>\n\n<p>The approach I'm going to implement is:</p>\n\n<pre><code>1. read the whole file with FlatFile reader\n2. parse it with Jaxson in `read` method\n</code></pre>\n\n<p>I'm completely newbie in spring batch, so I need a piece of advice here. Is this approach correct? Doesn't it violates any spring-batch principles? Or should I use another one?</p>\n"},{"tags":["java","x86","jvm","atomic","varhandle"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697923053,"post_id":77337776,"comment_id":136341037,"body_markdown":"The overhead is one `lea` or one `call`?  `lea` is much cheaper than `call` even if the function body was empty, so it matters a lot which happens when, and what&#39;s in that function.  One`lea` is also *much* cheaper than a full memory barrier, blocking later loads/stores until the store buffer drains.  If it eventually optimized to just an extra `lea`, that&#39;s basically nothing to worry about vs. `volatile`.","body":"The overhead is one <code>lea</code> or one <code>call</code>?  <code>lea</code> is much cheaper than <code>call</code> even if the function body was empty, so it matters a lot which happens when, and what&#39;s in that function.  One<code>lea</code> is also <i>much</i> cheaper than a full memory barrier, blocking later loads/stores until the store buffer drains.  If it eventually optimized to just an extra <code>lea</code>, that&#39;s basically nothing to worry about vs. <code>volatile</code>."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697923664,"post_id":77337776,"comment_id":136341098,"body_markdown":"@PeterCordes Actually much more, tho whole instructions set looks too large. Updated.","body":"@PeterCordes Actually much more, tho whole instructions set looks too large. Updated."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697923944,"post_id":77337776,"comment_id":136341123,"body_markdown":"@PeterCordes Judging by the assembly output, produced by `JMH` the some `guard__L_L` function is called implicitly on each `VarHandle` invocation making acquire-release implementation pretty much useless (IMO).","body":"@PeterCordes Judging by the assembly output, produced by <code>JMH</code> the some <code>guard__L_L</code> function is called implicitly on each <code>VarHandle</code> invocation making acquire-release implementation pretty much useless (IMO)."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697926186,"post_id":77337776,"comment_id":136341256,"body_markdown":"Is that a loop body?  You aren&#39;t showing branch targets.  Is it doing some kind of SeqLock thing with the &quot;guard&quot; variable?  Possibly we&#39;re just seeing the test function inlined into the benchmark loop, although from the asm comments about a &quot;guard&quot; variable it does look like there&#39;s some overhead.","body":"Is that a loop body?  You aren&#39;t showing branch targets.  Is it doing some kind of SeqLock thing with the &quot;guard&quot; variable?  Possibly we&#39;re just seeing the test function inlined into the benchmark loop, although from the asm comments about a &quot;guard&quot; variable it does look like there&#39;s some overhead."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697926717,"post_id":77337776,"comment_id":136341288,"body_markdown":"@PeterCordes The JMH benchmarking framework uses loop under the hood and the “guard” code was inlined in the actual benchmarking method (judging by the output asm). The thing is a simple volatile read shows almost 10 times better latency in the same JMH benchmark and does not have all this guard related noise.","body":"@PeterCordes The JMH benchmarking framework uses loop under the hood and the “guard” code was inlined in the actual benchmarking method (judging by the output asm). The thing is a simple volatile read shows almost 10 times better latency in the same JMH benchmark and does not have all this guard related noise."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697927564,"post_id":77337776,"comment_id":136341332,"body_markdown":"Latency for what?  Inter-thread latency, like time between a store on one core and a spin-loop seeing it on another core?","body":"Latency for what?  Inter-thread latency, like time between a store on one core and a spin-loop seeing it on another core?"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697928401,"post_id":77337776,"comment_id":136341391,"body_markdown":"@PeterCordes This is actually CLOCK_MONOTONIC samples taken before and after the benchmark invocation.","body":"@PeterCordes This is actually CLOCK_MONOTONIC samples taken before and after the benchmark invocation."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697929027,"post_id":77337776,"comment_id":136341424,"body_markdown":"Before / after a whole benchmark repeat-loop?  Doesn&#39;t JMH adjust iteration count so you wouldn&#39;t be benchmarking a fixed amount of work?  Or do you mean you timed one call to  `readAcquire(Blackhole bh)` instead of using JMH?  How did you warm up the JVM to make sure you were timing an optimized run?","body":"Before / after a whole benchmark repeat-loop?  Doesn&#39;t JMH adjust iteration count so you wouldn&#39;t be benchmarking a fixed amount of work?  Or do you mean you timed one call to  <code>readAcquire(Blackhole bh)</code> instead of using JMH?  How did you warm up the JVM to make sure you were timing an optimized run?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697929663,"post_id":77337776,"comment_id":136341454,"body_markdown":"Are you sure one second is sufficient per warmup iteration?","body":"Are you sure one second is sufficient per warmup iteration?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1697942969,"post_id":77337776,"comment_id":136342159,"body_markdown":"Related: [Unexpected VarHandle performance (4X slower than alternatives)](https://stackoverflow.com/q/58863128). Probably an exact duplicate; you&#39;re feeding the blackhole with the `getAcquire` return value directly, which apparently is a boxed `int`, not just a raw `int`.","body":"Related: <a href=\"https://stackoverflow.com/q/58863128\">Unexpected VarHandle performance (4X slower than alternatives)</a>. Probably an exact duplicate; you&#39;re feeding the blackhole with the <code>getAcquire</code> return value directly, which apparently is a boxed <code>int</code>, not just a raw <code>int</code>."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1697943207,"post_id":77337776,"comment_id":136342169,"body_markdown":"BTW, it seems insane to me that this VarHandle stuff needs to put a variable name in a string literal to get a wrapper able to do atomic operations on it; C++20 `std::atomic_reference()` just takes a reference like a normal C++ class, and you&#39;re intended to construct one on the fly every time you want to do an atomic op on a plain object.  IDK if the actual VarHandle object optimizes away, but it seems very clunky and inconvenient, and like you&#39;d expect it to have a lot of overhead if it&#39;s not handled very specially by the JIT.  (But hopefully it is, I think that&#39;s the point).","body":"BTW, it seems insane to me that this VarHandle stuff needs to put a variable name in a string literal to get a wrapper able to do atomic operations on it; C++20 <code>std::atomic_reference()</code> just takes a reference like a normal C++ class, and you&#39;re intended to construct one on the fly every time you want to do an atomic op on a plain object.  IDK if the actual VarHandle object optimizes away, but it seems very clunky and inconvenient, and like you&#39;d expect it to have a lot of overhead if it&#39;s not handled very specially by the JIT.  (But hopefully it is, I think that&#39;s the point)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1697964432,"post_id":77337776,"comment_id":136343347,"body_markdown":"@PeterCordes the string is only needed for obtaining/looking up the `VarHandle`, not for accessing it. I think there are other possibilities but these woukd require custom bytecode I think. After all, Java has no syntax for getting a real reference to a variable. And yes, AFAIK, the JIT should be able to optimize `VarHandle` accesses, especially with `static final VarHandle`s.","body":"@PeterCordes the string is only needed for obtaining/looking up the <code>VarHandle</code>, not for accessing it. I think there are other possibilities but these woukd require custom bytecode I think. After all, Java has no syntax for getting a real reference to a variable. And yes, AFAIK, the JIT should be able to optimize <code>VarHandle</code> accesses, especially with <code>static final VarHandle</code>s."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697964494,"post_id":77337776,"comment_id":136343351,"body_markdown":"@PeterCordes Nice catch, just checked the benchmark and the JIT compiled code is not comparable to a simple load instruction (including additional read of the `VAR_HANDLE` itself)","body":"@PeterCordes Nice catch, just checked the benchmark and the JIT compiled code is not comparable to a simple load instruction (including additional read of the <code>VAR_HANDLE</code> itself)"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697965116,"post_id":77337776,"comment_id":136343382,"body_markdown":"@dan1st _the string is only needed for obtaining/looking up the VarHandle, not for accessing it_ right, and I expected it to be optimised away mostly, but explicitly casted it to reference instead of primitive. It introduced the significant noise.","body":"@dan1st <i>the string is only needed for obtaining/looking up the VarHandle, not for accessing it</i> right, and I expected it to be optimised away mostly, but explicitly casted it to reference instead of primitive. It introduced the significant noise."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697965582,"post_id":77337776,"comment_id":136343427,"body_markdown":"@dan1st: So unlike C++ `std::atomic_ref`, you shouldn&#39;t just construct a `VarHandle` on the fly because that part actually might be expensive?  Should we expect a `static final VarHandle` to fully optimize away so it takes no space in the object and doesn&#39;t introduce an extra level of indirection, or would a class with an `int` member and a varhandle for doing atomic accesses on it also end up storing a pointer to an `int` in the JITed asm, along with the actual `int`?","body":"@dan1st: So unlike C++ <code>std::atomic_ref</code>, you shouldn&#39;t just construct a <code>VarHandle</code> on the fly because that part actually might be expensive?  Should we expect a <code>static final VarHandle</code> to fully optimize away so it takes no space in the object and doesn&#39;t introduce an extra level of indirection, or would a class with an <code>int</code> member and a varhandle for doing atomic accesses on it also end up storing a pointer to an <code>int</code> in the JITed asm, along with the actual <code>int</code>?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697965792,"post_id":77337776,"comment_id":136343447,"body_markdown":"@dan1st: I&#39;d have expected new support for non-seq_cst atomics in Java to involve new bytecode.  But I&#39;m guessing this design requiring reflection is designed to avoid that.  (Maybe wouldn&#39;t have been easily possible without some new syntax or keyword as well, which is more undesirable for backwards compatibility with code that might have used any given keyword as a variable.  And unlike C, they&#39;re not going to pick names like `_Atomic` for new features.)","body":"@dan1st: I&#39;d have expected new support for non-seq_cst atomics in Java to involve new bytecode.  But I&#39;m guessing this design requiring reflection is designed to avoid that.  (Maybe wouldn&#39;t have been easily possible without some new syntax or keyword as well, which is more undesirable for backwards compatibility with code that might have used any given keyword as a variable.  And unlike C, they&#39;re not going to pick names like <code>_Atomic</code> for new features.)"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697966086,"post_id":77337776,"comment_id":136343470,"body_markdown":"@PeterCordes It usually constructed as a static final variable on the class initialization step. It then roughly speaking contains memory offset within the object a given `VAR_HANDLE` is applied to. In C `_Atomic` qualifier can be implicitly added to a pointer type when passing a parameter to `atomic_store`/`atomic_load`","body":"@PeterCordes It usually constructed as a static final variable on the class initialization step. It then roughly speaking contains memory offset within the object a given <code>VAR_HANDLE</code> is applied to. In C <code>_Atomic</code> qualifier can be implicitly added to a pointer type when passing a parameter to <code>atomic_store</code>/<code>atomic_load</code>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1697967495,"post_id":77337776,"comment_id":136343582,"body_markdown":"@SomeName: It&#39;s UB to pass a pointer to a plain `int` to `atomic_load` or `store`.  ISO C doesn&#39;t have any equivalent to C++20 `std::atomic_ref`.  (GNU C has `__atomic_load` / `__atomic_store_n` etc. that do atomic ops on plain vars.)  In practice (https://godbolt.org/z/Yzqcn4Whh), clang treats it as a compile-time error without a cast, but GCC surprisingly allows implicit conversion without even a warning from `-Wall -Wextra`.  Some kinds of errors require a diagnostic so now I&#39;m curious if both compiler behaviours are valid.  If it&#39;s just UB, then anything goes.","body":"@SomeName: It&#39;s UB to pass a pointer to a plain <code>int</code> to <code>atomic_load</code> or <code>store</code>.  ISO C doesn&#39;t have any equivalent to C++20 <code>std::atomic_ref</code>.  (GNU C has <code>__atomic_load</code> / <code>__atomic_store_n</code> etc. that do atomic ops on plain vars.)  In practice (<a href=\"https://godbolt.org/z/Yzqcn4Whh\" rel=\"nofollow noreferrer\">godbolt.org/z/Yzqcn4Whh</a>), clang treats it as a compile-time error without a cast, but GCC surprisingly allows implicit conversion without even a warning from <code>-Wall -Wextra</code>.  Some kinds of errors require a diagnostic so now I&#39;m curious if both compiler behaviours are valid.  If it&#39;s just UB, then anything goes."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":3,"creation_date":1697967890,"post_id":77337776,"comment_id":136343617,"body_markdown":"@PeterCordes Yes, looking up a `VarHandle` is (relatively) expensive. The advantage of `VarHandle`s is that _accessing_ them is cheap. A `static final VarHandle` isn&#39;t completely optimized away as I know since it still needs to store the `VarHandle` variable (e.g. you could access the `VarHandle` variable by reflection or similar) but the accesses to it should be optimized as much as possible (of course: measure, don&#39;t guess and also don&#39;t trust me). Also AFAIK, the amount of available bytecode instructions is limited so they don&#39;t add new bytecode instructions unless absolutely necessary.","body":"@PeterCordes Yes, looking up a <code>VarHandle</code> is (relatively) expensive. The advantage of <code>VarHandle</code>s is that <i>accessing</i> them is cheap. A <code>static final VarHandle</code> isn&#39;t completely optimized away as I know since it still needs to store the <code>VarHandle</code> variable (e.g. you could access the <code>VarHandle</code> variable by reflection or similar) but the accesses to it should be optimized as much as possible (of course: measure, don&#39;t guess and also don&#39;t trust me). Also AFAIK, the amount of available bytecode instructions is limited so they don&#39;t add new bytecode instructions unless absolutely necessary."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1697968205,"post_id":77337776,"comment_id":136343643,"body_markdown":"Also, there are discussions about adding a `non-atomic` keyword (vs a `LooslyConsistentValue` interface, see the Valhalla mailing lists for details) so they are ok with adding &quot;features&quot; containing `atomic` in their name (if it makes sense ofc). However, they don&#39;t want to add bytecode instructions if possible.","body":"Also, there are discussions about adding a <code>non-atomic</code> keyword (vs a <code>LooslyConsistentValue</code> interface, see the Valhalla mailing lists for details) so they are ok with adding &quot;features&quot; containing <code>atomic</code> in their name (if it makes sense ofc). However, they don&#39;t want to add bytecode instructions if possible."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1697974105,"post_id":77337776,"comment_id":136344126,"body_markdown":"@PeterCordes Indeed, _for any q-qualified_ does not mean __Atomic_ qualifier unless it&#39;s explicitly mentioned.","body":"@PeterCordes Indeed, <i>for any q-qualified</i> does not mean <i>_Atomic</i> qualifier unless it&#39;s explicitly mentioned."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1698052661,"post_id":77337776,"comment_id":136351697,"body_markdown":"It looks like you forgot to declare `VAR_HANDLE` as `final`.","body":"It looks like you forgot to declare <code>VAR_HANDLE</code> as <code>final</code>."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1698134815,"post_id":77337776,"comment_id":136363431,"body_markdown":"As @PeterCordes already pointed out, my guess is that your problem is caused by not explicitly casting to an int.\n\nIf you would do this: &quot;public int readAcquire() { return (int)VAR_HANDLE.getAcquire(this);} then the performance of the getAcquire should be very good. Without the int cast, the signature polymorphism can&#39;t do its magic. If you would run with a -prof gc, then in your current code you should see a high allocation rate and after the int cast, the allocation rate should be zero.","body":"As @PeterCordes already pointed out, my guess is that your problem is caused by not explicitly casting to an int.  If you would do this: &quot;public int readAcquire() { return (int)VAR_HANDLE.getAcquire(this);} then the performance of the getAcquire should be very good. Without the int cast, the signature polymorphism can&#39;t do its magic. If you would run with a -prof gc, then in your current code you should see a high allocation rate and after the int cast, the allocation rate should be zero."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1698135119,"post_id":77337776,"comment_id":136363478,"body_markdown":"Perhaps there will not be a high allocation rate because always 0 is returned and I guess the JVM will optimize for that. But if you would set the initial value to a few million, then you should see a high allocation rate.","body":"Perhaps there will not be a high allocation rate because always 0 is returned and I guess the JVM will optimize for that. But if you would set the initial value to a few million, then you should see a high allocation rate."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698136276,"post_id":77337776,"comment_id":136363701,"body_markdown":"@pveentjer Shouldn&#39;t the allocation rate be low from the start on because of Java using the same `Integer` for (close to 0) ints?","body":"@pveentjer Shouldn&#39;t the allocation rate be low from the start on because of Java using the same <code>Integer</code> for (close to 0) ints?"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1698139208,"post_id":77337776,"comment_id":136364197,"body_markdown":"Yes. That is why I added my second comment. If he would set the value to a higher number than 0 (e.g. a million) he should see a high rate of litter with his current code.","body":"Yes. That is why I added my second comment. If he would set the value to a higher number than 0 (e.g. a million) he should see a high rate of litter with his current code."}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":26,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697926229,"creation_date":1697921977,"question_id":77337776,"body_markdown":"In C/C++ `stdatomic`s on `x86` provides `release`-`acquire` semantic which is free due to x86 memory model. So the point of using `atomic_load_explicit(&amp;i, memory_order_acquire);` and `atomic_store_explicit(&amp;i, 0, memory_order_release);` is that it does not require any memory barrier instruction to ensure correct `release`-`acquire` semantics on x86.\r\n\r\nIn Java there&#39;s also [`VarHandle::getAcquire`][1] and [`VarHandle::setRelease`][2] which roughly speaking provides the same memory semantic. The problem is when trying to measure `VarHandle::getAcquire` I figured out that it introduces a lot of overhead which essentially destroys the whole point of the optimization. Here is the benchmark:\r\n\r\n\r\n    @Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n    @Fork(value = 1)\r\n    @BenchmarkMode(org.openjdk.jmh.annotations.Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n    @State(Scope.Benchmark)\r\n    public class Benchmarks {\r\n    \r\n        private int variable = 0;\r\n\r\n        private static VarHandle VAR_HANDLE;\r\n        static {\r\n            try {\r\n                MethodHandles.Lookup l = MethodHandles.lookup();\r\n                VAR_HANDLE = l.findVarHandle(Benchmarks.class, &quot;variable&quot;, int.class);\r\n            } catch (ReflectiveOperationException e) {\r\n                throw new Error(e);\r\n            }\r\n        }\r\n    \r\n        @Benchmark\r\n        @BenchmarkMode(Mode.AverageTime)\r\n        public void readAcquire(Blackhole bh) {\r\n            bh.consume(VAR_HANDLE.getAcquire(this));\r\n        }\r\n    }\r\n\r\nso `prof perfasm` shows pretty much lot of noise like:\r\n\r\n    mov     0x20(%r12,%r8,8),%r9d  ;*aaload {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.VarHandle::getMethodHandle@10 (line 1979)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@50 (line 40)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n     mov     0x10(%r12,%r9,8),%ecx  ;*getfield type {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.MethodHandle::asType@2 (line 839)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n                               ; implicit exception: dispatches to 0x00007f50282ef40c\r\n     cmp     $0xe2d7411d,%ecx  ;   {oop(a &amp;apos;java/lang/invoke/MethodType&amp;apos;{0x0000000716ba08e8} = (Ljava/lang/invoke/VarHandle;Lcom/test/Benchmarks;)Ljava/lang/Object;)}\r\n     je      0x7f50282ef318    ;*if_acmpne {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.MethodHandle::asType@5 (line 839)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n     mov     0x18(%r12,%r9,8),%r10d  ;*getfield asTypeCache {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.MethodHandle::asTypeCached@1 (line 851)\r\n                               ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n     mov     0x10(%r12,%r10,8),%r8d  ;*getfield type {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.MethodHandle::asTypeCached@11 (line 852)\r\n                               ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n                               ; implicit exception: dispatches to 0x00007f50282ef428\r\n    \r\n     cmp     $0xe2d7411d,%r8d  ;   {oop(a &amp;apos;java/lang/invoke/MethodType&amp;apos;{0x0000000716ba08e8} = (Ljava/lang/invoke/VarHandle;Lcom/test/Benchmarks;)Ljava/lang/Object;)}\r\n     jne     0x7f50282ef2e4    ;*if_acmpne {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.MethodHandle::asTypeCached@14 (line 852)\r\n                               ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n     lea     (%r12,%r11,8),%rdx  ;*getstatic VAR_HANDLE {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - com.test.Benchmarks::readAcquire@1 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n     lea     (%r12,%r10,8),%rsi  ;*getfield asTypeCache {reexecute=0 rethrow=0 return_oop=0}\r\n                               ; - java.lang.invoke.MethodHandle::asTypeCached@1 (line 851)\r\n                               ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\r\n                               ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\r\n                               ; - com.test.Benchmarks::readAcquire@5 (line 33)\r\n                               ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n\r\n\r\n\r\n\r\nor\r\n\r\n    callq   0x7fa21883fd80\r\n      ;*invokevirtual invokeBasic {reexecute=0 rethrow=0 return_oop=1}\r\n      ;java.lang.invoke.VarHandleGuards::guard_L_L@64 (line 41)\r\n      ;com.test.Benchmarks::readAcquire@5 (line 32)\r\n      ;com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\r\n\r\nwhere the `VarHandleGuard::guard__L` looks as\r\n\r\n    static final Object guard__L(VarHandle handle, VarHandle.AccessDescriptor ad) throws Throwable {\r\n        handle.checkExactAccessMode(ad);\r\n        if (handle.isDirect() &amp;&amp; handle.vform.methodType_table[ad.type] == ad.symbolicMethodTypeErased) {\r\n            Object r = MethodHandle.linkToStatic(handle, handle.vform.getMemberName(ad.mode));\r\n            return ad.returnType.cast(r);\r\n        } else {\r\n            MethodHandle mh = handle.getMethodHandle(ad.mode);\r\n            return mh.asType(ad.symbolicMethodTypeInvoker).invokeBasic(handle.asDirect());\r\n        }\r\n    }\r\n\r\nwhich seems to be called implicitly on any `VarHandle` invocation.\r\n\r\n---\r\n\r\nIn Java, `volatile` provides sequential-consistency guarantees, and essentially reading a `volatile` variable does not require extra memory barrier on x86 (unlike other ISAs), but writing to a `volatile` variable usually compiles to an extra `lock addl $0x0, (%rsp)` inserted after memory write instruction.  (C++ compilers use `xchg` instead of `mov` for `seq_cst` stores, instead of a separate `mfence` or `lock`ed instruction.  Slightly cheaper, but the full barrier is the main cost.)\r\n\r\nWhy does `VarHandle::getAcquire` introduce so much noise and is it possible to use it instead of `volatile` for optimizing for latency?\r\n\r\n  [1]: https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html#getAcquire-java.lang.Object...-\r\n  [2]: https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html#setRelease-java.lang.Object...-\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does VarHandle::getAcquire have so much overhead?","body":"<p>In C/C++ <code>stdatomic</code>s on <code>x86</code> provides <code>release</code>-<code>acquire</code> semantic which is free due to x86 memory model. So the point of using <code>atomic_load_explicit(&amp;i, memory_order_acquire);</code> and <code>atomic_store_explicit(&amp;i, 0, memory_order_release);</code> is that it does not require any memory barrier instruction to ensure correct <code>release</code>-<code>acquire</code> semantics on x86.</p>\n<p>In Java there's also <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html#getAcquire-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>VarHandle::getAcquire</code></a> and <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/invoke/VarHandle.html#setRelease-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>VarHandle::setRelease</code></a> which roughly speaking provides the same memory semantic. The problem is when trying to measure <code>VarHandle::getAcquire</code> I figured out that it introduces a lot of overhead which essentially destroys the whole point of the optimization. Here is the benchmark:</p>\n<pre><code>@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(value = 1)\n@BenchmarkMode(org.openjdk.jmh.annotations.Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@State(Scope.Benchmark)\npublic class Benchmarks {\n\n    private int variable = 0;\n\n    private static VarHandle VAR_HANDLE;\n    static {\n        try {\n            MethodHandles.Lookup l = MethodHandles.lookup();\n            VAR_HANDLE = l.findVarHandle(Benchmarks.class, &quot;variable&quot;, int.class);\n        } catch (ReflectiveOperationException e) {\n            throw new Error(e);\n        }\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.AverageTime)\n    public void readAcquire(Blackhole bh) {\n        bh.consume(VAR_HANDLE.getAcquire(this));\n    }\n}\n</code></pre>\n<p>so <code>prof perfasm</code> shows pretty much lot of noise like:</p>\n<pre><code>mov     0x20(%r12,%r8,8),%r9d  ;*aaload {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.VarHandle::getMethodHandle@10 (line 1979)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@50 (line 40)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n mov     0x10(%r12,%r9,8),%ecx  ;*getfield type {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.MethodHandle::asType@2 (line 839)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n                           ; implicit exception: dispatches to 0x00007f50282ef40c\n cmp     $0xe2d7411d,%ecx  ;   {oop(a &amp;apos;java/lang/invoke/MethodType&amp;apos;{0x0000000716ba08e8} = (Ljava/lang/invoke/VarHandle;Lcom/test/Benchmarks;)Ljava/lang/Object;)}\n je      0x7f50282ef318    ;*if_acmpne {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.MethodHandle::asType@5 (line 839)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n mov     0x18(%r12,%r9,8),%r10d  ;*getfield asTypeCache {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.MethodHandle::asTypeCached@1 (line 851)\n                           ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n mov     0x10(%r12,%r10,8),%r8d  ;*getfield type {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.MethodHandle::asTypeCached@11 (line 852)\n                           ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n                           ; implicit exception: dispatches to 0x00007f50282ef428\n\n cmp     $0xe2d7411d,%r8d  ;   {oop(a &amp;apos;java/lang/invoke/MethodType&amp;apos;{0x0000000716ba08e8} = (Ljava/lang/invoke/VarHandle;Lcom/test/Benchmarks;)Ljava/lang/Object;)}\n jne     0x7f50282ef2e4    ;*if_acmpne {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.MethodHandle::asTypeCached@14 (line 852)\n                           ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n lea     (%r12,%r11,8),%rdx  ;*getstatic VAR_HANDLE {reexecute=0 rethrow=0 return_oop=0}\n                           ; - com.test.Benchmarks::readAcquire@1 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n lea     (%r12,%r10,8),%rsi  ;*getfield asTypeCache {reexecute=0 rethrow=0 return_oop=0}\n                           ; - java.lang.invoke.MethodHandle::asTypeCached@1 (line 851)\n                           ; - java.lang.invoke.MethodHandle::asType@12 (line 843)\n                           ; - java.lang.invoke.VarHandleGuards::guard_L_L@59 (line 41)\n                           ; - com.test.Benchmarks::readAcquire@5 (line 33)\n                           ; - com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n</code></pre>\n<p>or</p>\n<pre><code>callq   0x7fa21883fd80\n  ;*invokevirtual invokeBasic {reexecute=0 rethrow=0 return_oop=1}\n  ;java.lang.invoke.VarHandleGuards::guard_L_L@64 (line 41)\n  ;com.test.Benchmarks::readAcquire@5 (line 32)\n  ;com.test.jmh_generated.Benchmarks_readAcquire_jmhTest::readAcquire_avgt_jmhStub@17 (line 190)\n</code></pre>\n<p>where the <code>VarHandleGuard::guard__L</code> looks as</p>\n<pre><code>static final Object guard__L(VarHandle handle, VarHandle.AccessDescriptor ad) throws Throwable {\n    handle.checkExactAccessMode(ad);\n    if (handle.isDirect() &amp;&amp; handle.vform.methodType_table[ad.type] == ad.symbolicMethodTypeErased) {\n        Object r = MethodHandle.linkToStatic(handle, handle.vform.getMemberName(ad.mode));\n        return ad.returnType.cast(r);\n    } else {\n        MethodHandle mh = handle.getMethodHandle(ad.mode);\n        return mh.asType(ad.symbolicMethodTypeInvoker).invokeBasic(handle.asDirect());\n    }\n}\n</code></pre>\n<p>which seems to be called implicitly on any <code>VarHandle</code> invocation.</p>\n<hr />\n<p>In Java, <code>volatile</code> provides sequential-consistency guarantees, and essentially reading a <code>volatile</code> variable does not require extra memory barrier on x86 (unlike other ISAs), but writing to a <code>volatile</code> variable usually compiles to an extra <code>lock addl $0x0, (%rsp)</code> inserted after memory write instruction.  (C++ compilers use <code>xchg</code> instead of <code>mov</code> for <code>seq_cst</code> stores, instead of a separate <code>mfence</code> or <code>lock</code>ed instruction.  Slightly cheaper, but the full barrier is the main cost.)</p>\n<p>Why does <code>VarHandle::getAcquire</code> introduce so much noise and is it possible to use it instead of <code>volatile</code> for optimizing for latency?</p>\n"},{"tags":["java","intellij-idea","tostring"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1509704990,"post_id":47093511,"comment_id":81136502,"body_markdown":"maybe https://stackoverflow.com/questions/24376980/how-split-large-string-in-intellij-idea-automatically","body":"maybe <a href=\"https://stackoverflow.com/questions/24376980/how-split-large-string-in-intellij-idea-automatically\" title=\"how split large string in intellij idea automatically\">stackoverflow.com/questions/24376980/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509707005,"creation_date":1509707005,"answer_id":47094241,"question_id":47093511,"body_markdown":"IntelliJ&#39;s `String concat (+)` template produces output ~identical to the desired output shown in your question.\n\nTo engage this template ...\n\n- `Code &gt; Generate &gt; toString`\n- Choose Template: `String concat (+)`\n\nIf you need to tweak this template then click on `Settings` and choose the `Templates` tab and copy and create a copy of whichever existing template is closest to your needs, edit this copy and then it will appear in the `Template` dropdown for selection.\n\nHere&#39;s a screenshot:\n\n[![enter image description here][1]][1]\n\nIf - after using this template - the output is in a single long line then it&#39;s possible that your chosen Java code formatter is reformatting the output produced by the `toString` template. \n\n  [1]: https://i.stack.imgur.com/IPKgh.png","title":"Intellij toString multiline","body":"<p>IntelliJ's <code>String concat (+)</code> template produces output ~identical to the desired output shown in your question.</p>\n<p>To engage this template ...</p>\n<ul>\n<li><code>Code &gt; Generate &gt; toString</code></li>\n<li>Choose Template: <code>String concat (+)</code></li>\n</ul>\n<p>If you need to tweak this template then click on <code>Settings</code> and choose the <code>Templates</code> tab and copy and create a copy of whichever existing template is closest to your needs, edit this copy and then it will appear in the <code>Template</code> dropdown for selection.</p>\n<p>Here's a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/IPKgh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IPKgh.png\" alt=\"enter image description here\" /></a></p>\n<p>If - after using this template - the output is in a single long line then it's possible that your chosen Java code formatter is reformatting the output produced by the <code>toString</code> template.</p>\n"},{"tags":[],"owner":{"account_id":3162159,"reputation":161,"user_id":2672978,"accept_rate":100,"display_name":"Błażej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697925839,"creation_date":1697925839,"answer_id":77337964,"question_id":47093511,"body_markdown":"Here is a template to generate toString() method&#39;s body with plus sign in the next line\r\n\r\n1. Open templates setings  `toString() -&gt; Settings -&gt; Templates`\r\n2. Clone `String concat(+)`\r\n3. Use that content\r\n\r\n```\r\npublic java.lang.String toString() {\r\n#if ( $members.size() &gt; 0 )\r\n    #set ( $i = 0 )\r\nreturn &quot;$classname{&quot;\r\n    #foreach( $member in $members )\r\n        #if ( $i == 0 )\r\n            + &quot;$member.name=&quot;##\r\n        #else\r\n            + &quot;, $member.name=&quot;##\r\n        #end\r\n        #if ( $member.objectArray )\r\n            + java.util.Arrays.toString($member.accessor)\r\n        #elseif ( $member.primitiveArray &amp;&amp; $java_version &gt;= 5)\r\n            + java.util.Arrays.toString($member.accessor)\r\n        #elseif ( $member.string )\r\n            + $member.accessor + &#39;\\&#39;&#39;\r\n        #else\r\n            + $member.accessor\r\n        #end\r\n        #set ( $i = $i + 1 )\r\n    #end\r\n+ &#39;}&#39;;\r\n#else\r\nreturn &quot;$classname{}&quot;;\r\n#end\r\n}\r\n```\r\n","title":"Intellij toString multiline","body":"<p>Here is a template to generate toString() method's body with plus sign in the next line</p>\n<ol>\n<li>Open templates setings  <code>toString() -&gt; Settings -&gt; Templates</code></li>\n<li>Clone <code>String concat(+)</code></li>\n<li>Use that content</li>\n</ol>\n<pre><code>public java.lang.String toString() {\n#if ( $members.size() &gt; 0 )\n    #set ( $i = 0 )\nreturn &quot;$classname{&quot;\n    #foreach( $member in $members )\n        #if ( $i == 0 )\n            + &quot;$member.name=&quot;##\n        #else\n            + &quot;, $member.name=&quot;##\n        #end\n        #if ( $member.objectArray )\n            + java.util.Arrays.toString($member.accessor)\n        #elseif ( $member.primitiveArray &amp;&amp; $java_version &gt;= 5)\n            + java.util.Arrays.toString($member.accessor)\n        #elseif ( $member.string )\n            + $member.accessor + '\\''\n        #else\n            + $member.accessor\n        #end\n        #set ( $i = $i + 1 )\n    #end\n+ '}';\n#else\nreturn &quot;$classname{}&quot;;\n#end\n}\n</code></pre>\n"}],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697925839,"creation_date":1509704863,"question_id":47093511,"body_markdown":"When auto-generating the toString method in `IntelliJ` it is putting all text onto a single line. Some of these lines are massive - how can I get Intellij to split the toString onto multi lines, after each new variable?\r\n\r\nThis is what I have: \r\n\r\n    @Override\r\n        public String toString() {\r\n            return &quot;Address{&quot; + &quot; line1=&#39;&quot; + line1 + &#39;\\&#39;&#39; + &quot;, line2=&#39;&quot; + line2 + &#39;\\&#39;&#39; + &quot;, town=&#39;&quot; + town + &#39;\\&#39;&#39; + &quot;, county=&#39;&quot; + county + &#39;\\&#39;&#39; + &quot;, postcode=&#39;&quot; + postcode + &#39;\\&#39;&#39; + &quot;, country=&#39;&quot; + country + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n        }\r\n\r\nAnd this is what I want:\r\n\r\n    @Override\r\n        public String toString() {\r\n            return &quot;Address{&quot; \r\n                + &quot; line1=&#39;&quot; + line1 + &#39;\\&#39;&#39; \r\n                + &quot;, line2=&#39;&quot; + line2 + &#39;\\&#39;&#39; \r\n                + &quot;, town=&#39;&quot; + town + &#39;\\&#39;&#39; \r\n                + &quot;, county=&#39;&quot; + county + &#39;\\&#39;&#39; \r\n                + &quot;, postcode=&#39;&quot; + postcode + &#39;\\&#39;&#39; \r\n                + &quot;, country=&#39;&quot; + country + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n            }\r\n\r\nI have tried creating a custom template but it just seems to ignore this. ","title":"Intellij toString multiline","body":"<p>When auto-generating the toString method in <code>IntelliJ</code> it is putting all text onto a single line. Some of these lines are massive - how can I get Intellij to split the toString onto multi lines, after each new variable?</p>\n\n<p>This is what I have: </p>\n\n<pre><code>@Override\n    public String toString() {\n        return \"Address{\" + \" line1='\" + line1 + '\\'' + \", line2='\" + line2 + '\\'' + \", town='\" + town + '\\'' + \", county='\" + county + '\\'' + \", postcode='\" + postcode + '\\'' + \", country='\" + country + '\\'' + '}';\n    }\n</code></pre>\n\n<p>And this is what I want:</p>\n\n<pre><code>@Override\n    public String toString() {\n        return \"Address{\" \n            + \" line1='\" + line1 + '\\'' \n            + \", line2='\" + line2 + '\\'' \n            + \", town='\" + town + '\\'' \n            + \", county='\" + county + '\\'' \n            + \", postcode='\" + postcode + '\\'' \n            + \", country='\" + country + '\\'' + '}';\n        }\n</code></pre>\n\n<p>I have tried creating a custom template but it just seems to ignore this. </p>\n"},{"tags":["java","maven","intellij-idea","javafx","controller"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1608632659,"post_id":65406328,"comment_id":115636658,"body_markdown":"The error says that there is no POM in `C:\\Users\\Huzaifa\\Documents\\CST 3613 Application Development with Databases\\Connect4`. So you have probably somehow misspelled the name or moved it to the wrong directory. The name needs to be `pom.xml`","body":"The error says that there is no POM in <code>C:\\Users\\Huzaifa\\Documents\\CST 3613 Application Development with Databases\\Connect4</code>. So you have probably somehow misspelled the name or moved it to the wrong directory. The name needs to be <code>pom.xml</code>"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1608632918,"post_id":65406328,"comment_id":115636777,"body_markdown":"From the image it seems like your directory is called `Connect4.Games`, not `Connect4` as indicated in the error message.","body":"From the image it seems like your directory is called <code>Connect4.Games</code>, not <code>Connect4</code> as indicated in the error message."}],"answers":[{"tags":[],"owner":{"account_id":16647871,"reputation":341,"user_id":12031689,"display_name":"Marco Dalla Santa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608630449,"creation_date":1608630449,"answer_id":65406449,"question_id":65406328,"body_markdown":"Did you check the path of the pom.xml and the path where you execute `mvn clean`?\r\nAlso pay attention for spaces in files path.","title":"Error for mvn clean package, claiming I do not have a POM in my directory, when I do","body":"<p>Did you check the path of the pom.xml and the path where you execute <code>mvn clean</code>?\nAlso pay attention for spaces in files path.</p>\n"},{"tags":[],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697925812,"creation_date":1697924994,"answer_id":77337920,"question_id":65406328,"body_markdown":"I had faced with this problem. Because of wrong path. Maybe it can be too for you. \r\n\r\nYou can try `mvn clean package` into the correct path in your project.\r\nMaybe the one has the pom.xml file\r\n","title":"Error for mvn clean package, claiming I do not have a POM in my directory, when I do","body":"<p>I had faced with this problem. Because of wrong path. Maybe it can be too for you.</p>\n<p>You can try <code>mvn clean package</code> into the correct path in your project.\nMaybe the one has the pom.xml file</p>\n"}],"owner":{"account_id":18799247,"reputation":23,"user_id":13709954,"display_name":"Aortax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697925812,"creation_date":1608629903,"question_id":65406328,"body_markdown":"Hello I am trying to use mvn clean package, to follow the instructions given by my professor, to create a jar, but at the very first step, things aren&#39;t working out for me.\r\n\r\nThe error I get in the terminal is as follows.\r\n\r\nI am kind of confused, why it says there is no pom, because the javafx application is running, and everything else involving the pom.xml is running, so clearly there is a working pom.xml with presence here, and not just a pom, which exists, and doe nothing.\r\n\r\n```C:\\Users\\Huzaifa\\Documents\\CST 3613 Application Development with Databases\\Connect4&gt;mvn clean package\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.090 s\r\n[INFO] Finished at: 2020-12-22T04:33:14-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (C:\\Users\\Huzaifa\\Documents\\CST 3613 Application Deve\r\nlopment with Databases\\Connect4). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\r\n\r\nC:\\Users\\Huzaifa\\Documents\\CST 3613 Application Development with Databases\\Connect4&gt;\r\n```\r\n\r\n\r\nMy Pom.xml is as follows \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Connect4&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;!--&lt;finalName&gt;boulet-jean-abc123&lt;/finalName&gt;--&gt;\r\n        &lt;finalName&gt;Anas-Huzaifa-connect4&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.java&lt;/include&gt;\r\n                    &lt;include&gt;**/*.fxml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.css&lt;/include&gt;\r\n                    &lt;include&gt;**/*.jpg&lt;/include&gt;\r\n                    &lt;include&gt;**/*.csv&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.csv&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;addResources&gt;false&lt;/addResources&gt;\r\n                    &lt;folders&gt;\r\n                        &lt;folder&gt;src/main/resources&lt;/folder&gt;\r\n                    &lt;/folders&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;edu.citytech.edu.citytech.connect4.Connect4Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried to reload, remake the project, I have also reinstalled maven, cleared cache, and then some stuff, but I don&#39;t get why this won&#39;t work.\r\n\r\nThank You!\r\n\r\n![This is my project, setup, and you can see I have a pom.xml](https://i.stack.imgur.com/OoHBa.png)","title":"Error for mvn clean package, claiming I do not have a POM in my directory, when I do","body":"<p>Hello I am trying to use mvn clean package, to follow the instructions given by my professor, to create a jar, but at the very first step, things aren't working out for me.</p>\n<p>The error I get in the terminal is as follows.</p>\n<p>I am kind of confused, why it says there is no pom, because the javafx application is running, and everything else involving the pom.xml is running, so clearly there is a working pom.xml with presence here, and not just a pom, which exists, and doe nothing.</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.090 s\n[INFO] Finished at: 2020-12-22T04:33:14-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (C:\\Users\\Huzaifa\\Documents\\CST 3613 Application Deve\nlopment with Databases\\Connect4). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\n\nC:\\Users\\Huzaifa\\Documents\\CST 3613 Application Development with Databases\\Connect4&gt;\n</code></pre>\n<p>My Pom.xml is as follows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Connect4&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;!--&lt;finalName&gt;boulet-jean-abc123&lt;/finalName&gt;--&gt;\n        &lt;finalName&gt;Anas-Huzaifa-connect4&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.java&lt;/include&gt;\n                    &lt;include&gt;**/*.fxml&lt;/include&gt;\n                    &lt;include&gt;**/*.css&lt;/include&gt;\n                    &lt;include&gt;**/*.jpg&lt;/include&gt;\n                    &lt;include&gt;**/*.csv&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.csv&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;false&lt;/addResources&gt;\n                    &lt;folders&gt;\n                        &lt;folder&gt;src/main/resources&lt;/folder&gt;\n                    &lt;/folders&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;edu.citytech.edu.citytech.connect4.Connect4Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have tried to reload, remake the project, I have also reinstalled maven, cleared cache, and then some stuff, but I don't get why this won't work.</p>\n<p>Thank You!</p>\n<p><img src=\"https://i.stack.imgur.com/OoHBa.png\" alt=\"This is my project, setup, and you can see I have a pom.xml\" /></p>\n"},{"tags":["java","mysql","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":29725065,"reputation":1,"user_id":22781278,"display_name":"Ahmed Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697924945,"creation_date":1697924945,"answer_id":77337918,"question_id":77337908,"body_markdown":"The error you&#39;re encountering, where MySQL is refusing the connection, typically means that the application is unable to reach the MySQL server. This can happen for various reasons, and in your case, it might be related to the Docker Compose setup and environment variables.\r\n\r\nHere are some steps you can take to diagnose and potentially resolve the issue:\r\n\r\n1. Ensure Docker Compose is Using the Correct Compose File:\r\n   - Double-check that you are using the correct Docker Compose file when running your application. It looks like you are using `docker-compose.dev.yml`, which is the development version. Make sure this is the intended behavior.\r\n\r\n2. Correct Environment Variable Names:\r\n   - In your `docker-compose.dev.yml`, you are defining environment variables with uppercase names (e.g., `SPRING.DATASOURCE.URL`). However, in your `application.properties`, you are using lowercase names (e.g., `spring.datasource.url`). Ensure that the environment variable names in your `docker-compose.dev.yml` match the property names in your Spring Boot application.\r\n\r\n3. Verify Network Connectivity:\r\n   - Ensure that your application container can reach the MySQL container. You are using a custom network by default when using Docker Compose, so it should be accessible by service name. In your Spring Boot configuration, you&#39;re using `MYSQL_HOST=mysqlserver`, which should resolve to the MySQL service container. Verify that the service name is correct and reachable from your Spring Boot container.\r\n\r\n4. Check Port Mappings:\r\n   - You have defined port mappings in your Docker Compose file. Make sure that the ports are correctly mapped, and there are no conflicts with other services or containers running on your host machine.\r\n\r\n5. Check the MySQL Container:\r\n   - Ensure that your MySQL container is running and has initialized correctly. You can check the MySQL container logs for any errors or issues.\r\n\r\n6. Use Docker Compose Overrides (optional):\r\n   - If you want to customize environment variables for your development environment, consider using a `.env` file or Docker Compose environment overrides. This way, you can maintain a consistent configuration across different environments.\r\n\r\nTo further diagnose the issue, you can check the logs of both the Spring Boot application and the MySQL container for any specific error messages. This can help pinpoint the cause of the connection issue.\r\n\r\nAdditionally, you can try running the Spring Boot application and MySQL containers individually with Docker Compose to see if they work in isolation. This can help determine if the issue is related to the interaction between the two services or if it&#39;s specific to one of them.\r\n\r\nIf you are still facing issues after checking these points, please provide any specific error messages or logs you receive during the connection refusal, which can help with further diagnosis.","title":"Spring boot MYSQL connection error with docker compose file","body":"<p>The error you're encountering, where MySQL is refusing the connection, typically means that the application is unable to reach the MySQL server. This can happen for various reasons, and in your case, it might be related to the Docker Compose setup and environment variables.</p>\n<p>Here are some steps you can take to diagnose and potentially resolve the issue:</p>\n<ol>\n<li><p>Ensure Docker Compose is Using the Correct Compose File:</p>\n<ul>\n<li>Double-check that you are using the correct Docker Compose file when running your application. It looks like you are using <code>docker-compose.dev.yml</code>, which is the development version. Make sure this is the intended behavior.</li>\n</ul>\n</li>\n<li><p>Correct Environment Variable Names:</p>\n<ul>\n<li>In your <code>docker-compose.dev.yml</code>, you are defining environment variables with uppercase names (e.g., <code>SPRING.DATASOURCE.URL</code>). However, in your <code>application.properties</code>, you are using lowercase names (e.g., <code>spring.datasource.url</code>). Ensure that the environment variable names in your <code>docker-compose.dev.yml</code> match the property names in your Spring Boot application.</li>\n</ul>\n</li>\n<li><p>Verify Network Connectivity:</p>\n<ul>\n<li>Ensure that your application container can reach the MySQL container. You are using a custom network by default when using Docker Compose, so it should be accessible by service name. In your Spring Boot configuration, you're using <code>MYSQL_HOST=mysqlserver</code>, which should resolve to the MySQL service container. Verify that the service name is correct and reachable from your Spring Boot container.</li>\n</ul>\n</li>\n<li><p>Check Port Mappings:</p>\n<ul>\n<li>You have defined port mappings in your Docker Compose file. Make sure that the ports are correctly mapped, and there are no conflicts with other services or containers running on your host machine.</li>\n</ul>\n</li>\n<li><p>Check the MySQL Container:</p>\n<ul>\n<li>Ensure that your MySQL container is running and has initialized correctly. You can check the MySQL container logs for any errors or issues.</li>\n</ul>\n</li>\n<li><p>Use Docker Compose Overrides (optional):</p>\n<ul>\n<li>If you want to customize environment variables for your development environment, consider using a <code>.env</code> file or Docker Compose environment overrides. This way, you can maintain a consistent configuration across different environments.</li>\n</ul>\n</li>\n</ol>\n<p>To further diagnose the issue, you can check the logs of both the Spring Boot application and the MySQL container for any specific error messages. This can help pinpoint the cause of the connection issue.</p>\n<p>Additionally, you can try running the Spring Boot application and MySQL containers individually with Docker Compose to see if they work in isolation. This can help determine if the issue is related to the interaction between the two services or if it's specific to one of them.</p>\n<p>If you are still facing issues after checking these points, please provide any specific error messages or logs you receive during the connection refusal, which can help with further diagnosis.</p>\n"}],"owner":{"account_id":29724930,"reputation":1,"user_id":22781180,"display_name":"Deborah Busumbru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697925083,"creation_date":1697924614,"question_id":77337908,"body_markdown":"I get mysql connection refused error when I build my docker-compose file. The application exists the code but mysql keeps running.\r\n\r\n[Error message](https://i.stack.imgur.com/bAfW6.png)\r\n\r\n# So I tried running it without the compose file and it worked perfectly. I was able to to post and fetch data. However, when I use the multi-stage dockerfile, I get connection issues\r\n\r\n`application.properties`\r\n\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:xloan}\r\n\r\nspring.datasource.username=${MYSQL_USER:root}\r\n\r\nspring.datasource.password=${MYSQL_PASSWORD:root}\r\n\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n\r\n`Dockerfile`\r\n\r\nFROM eclipse-temurin:17-jdk-jammy as base\r\n\r\nWORKDIR /app\r\n\r\nCOPY .mvn/ .mvn\r\n\r\nCOPY mvnw pom.xml ./\r\n\r\nRUN ./mvnw dependency:resolve\r\n\r\nCOPY src ./src\r\n\r\nFROM base as development\r\n\r\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;, &quot;-Dspring-boot.run.profiles=mysql&quot;, &quot;-Dspring-boot.run.jvmArguments=&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8000&#39;&quot;]\r\n\r\n\r\nFROM base as build\r\n\r\nRUN ./mvnw package\r\n\r\n\r\nFROM eclipse-temurin:17-jre-jammy as production\r\n\r\nEXPOSE 8080\r\n\r\nCOPY --from=build /app/target/microcreditApp-*.jar /microcreditApp.jar\r\n\r\nCMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/microcreditApp\r\n\r\n\r\n\r\n`My docker-compose.dev.yml`\r\n\r\n\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  \r\n  app:\r\n\r\n    build:\r\n\r\n      context: .\r\n\r\n      target: development\r\n\r\n    image: java-docker\r\n\r\n    ports:\r\n\r\n      - &quot;8000:8000&quot;\r\n\r\n      - &quot;8080:8080&quot;\r\n\r\n    environment:\r\n\r\n      - SERVER_PORT=8080\r\n\r\n      - SPRING.DATASOURCE.URL=jdbc:mysql://mysqlserver:3306/xloan\r\n\r\n      - SPRING.DATASOURCE.USERNAME=root\r\n\r\n      - SPRING.DATASOURCE.PASSWORD=password\r\n\r\n      - MYSQL_HOST=mysqlserver\r\n\r\n      - MYSQL_USER=root\r\n\r\n      - MYSQL_PASSWORD=root\r\n\r\n      - MYSQL_DATABASE=xloan\r\n\r\n    volumes:\r\n\r\n      - ./:/app\r\n\r\n    depends_on:\r\n\r\n      - mysqlserver\r\n\r\n\r\n  mysqlserver:\r\n\r\n    image: mysql:8.0\r\n\r\n    ports:\r\n\r\n      - &quot;3307:3306&quot;\r\n\r\n    environment:\r\n\r\n      - MYSQL_ROOT_PASSWORD=password\r\n\r\n      - MYSQL_ALLOW_EMPTY_PASSWORD=true\r\n\r\n      - MYSQL_USER=root\r\n\r\n      - MYSQL_PASSWORD=root\r\n\r\n      - MYSQL_DATABASE=xloan\r\n\r\n    volumes:\r\n\r\n      - mysql_data:/var/lib/mysql\r\n\r\n      - mysql_config:/etc/mysql/conf.d\r\n\r\nvolumes:\r\n\r\n  mysql_data:\r\n\r\n  mysql_config:\r\n","title":"Spring boot MYSQL connection error with docker compose file","body":"<p>I get mysql connection refused error when I build my docker-compose file. The application exists the code but mysql keeps running.</p>\n<p><a href=\"https://i.stack.imgur.com/bAfW6.png\" rel=\"nofollow noreferrer\">Error message</a></p>\n<h1>So I tried running it without the compose file and it worked perfectly. I was able to to post and fetch data. However, when I use the multi-stage dockerfile, I get connection issues</h1>\n<p><code>application.properties</code></p>\n<p>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:xloan}</p>\n<p>spring.datasource.username=${MYSQL_USER:root}</p>\n<p>spring.datasource.password=${MYSQL_PASSWORD:root}</p>\n<p>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</p>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n<p>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</p>\n<p><code>Dockerfile</code></p>\n<p>FROM eclipse-temurin:17-jdk-jammy as base</p>\n<p>WORKDIR /app</p>\n<p>COPY .mvn/ .mvn</p>\n<p>COPY mvnw pom.xml ./</p>\n<p>RUN ./mvnw dependency:resolve</p>\n<p>COPY src ./src</p>\n<p>FROM base as development</p>\n<p>CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;, &quot;-Dspring-boot.run.profiles=mysql&quot;, &quot;-Dspring-boot.run.jvmArguments='-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8000'&quot;]</p>\n<p>FROM base as build</p>\n<p>RUN ./mvnw package</p>\n<p>FROM eclipse-temurin:17-jre-jammy as production</p>\n<p>EXPOSE 8080</p>\n<p>COPY --from=build /app/target/microcreditApp-*.jar /microcreditApp.jar</p>\n<p>CMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/microcreditApp</p>\n<p><code>My docker-compose.dev.yml</code></p>\n<p>version: '3.8'</p>\n<p>services:</p>\n<p>app:</p>\n<pre><code>build:\n\n  context: .\n\n  target: development\n\nimage: java-docker\n\nports:\n\n  - &quot;8000:8000&quot;\n\n  - &quot;8080:8080&quot;\n\nenvironment:\n\n  - SERVER_PORT=8080\n\n  - SPRING.DATASOURCE.URL=jdbc:mysql://mysqlserver:3306/xloan\n\n  - SPRING.DATASOURCE.USERNAME=root\n\n  - SPRING.DATASOURCE.PASSWORD=password\n\n  - MYSQL_HOST=mysqlserver\n\n  - MYSQL_USER=root\n\n  - MYSQL_PASSWORD=root\n\n  - MYSQL_DATABASE=xloan\n\nvolumes:\n\n  - ./:/app\n\ndepends_on:\n\n  - mysqlserver\n</code></pre>\n<p>mysqlserver:</p>\n<pre><code>image: mysql:8.0\n\nports:\n\n  - &quot;3307:3306&quot;\n\nenvironment:\n\n  - MYSQL_ROOT_PASSWORD=password\n\n  - MYSQL_ALLOW_EMPTY_PASSWORD=true\n\n  - MYSQL_USER=root\n\n  - MYSQL_PASSWORD=root\n\n  - MYSQL_DATABASE=xloan\n\nvolumes:\n\n  - mysql_data:/var/lib/mysql\n\n  - mysql_config:/etc/mysql/conf.d\n</code></pre>\n<p>volumes:</p>\n<p>mysql_data:</p>\n<p>mysql_config:</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1697922588,"post_id":77337795,"comment_id":136340997,"body_markdown":"HINT: `HashMap&lt;String, ArrayList&lt;? extends A&gt;&gt; bMap = new HashMap&lt;&gt;();`","body":"HINT: <code>HashMap&lt;String, ArrayList&lt;? extends A&gt;&gt; bMap = new HashMap&lt;&gt;();</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1697923174,"post_id":77337795,"comment_id":136341045,"body_markdown":"You should use the interface *List* instead of the concrete class *ArrayList* in parameter.","body":"You should use the interface <i>List</i> instead of the concrete class <i>ArrayList</i> in parameter."},{"owner":{"account_id":26417265,"reputation":13,"user_id":20961649,"display_name":"JMorgan"},"score":0,"creation_date":1697923552,"post_id":77337795,"comment_id":136341086,"body_markdown":"Elliot:   I could have sworn that somewhere along the way of getting around it, I had tried that.... .but evidently not exactly that.   Thanks.   I still don&#39;t understand &quot;why&quot; Java requires it.","body":"Elliot:   I could have sworn that somewhere along the way of getting around it, I had tried that.... .but evidently not exactly that.   Thanks.   I still don&#39;t understand &quot;why&quot; Java requires it."},{"owner":{"account_id":26417265,"reputation":13,"user_id":20961649,"display_name":"JMorgan"},"score":0,"creation_date":1697923616,"post_id":77337795,"comment_id":136341095,"body_markdown":"Jens:  Be that as it may, would that have solved the problem?","body":"Jens:  Be that as it may, would that have solved the problem?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1697924774,"post_id":77337795,"comment_id":136341168,"body_markdown":"Similar: https://stackoverflow.com/questions/22806202","body":"Similar: <a href=\"https://stackoverflow.com/questions/22806202\">stackoverflow.com/questions/22806202</a>"}],"answers":[{"tags":[],"owner":{"account_id":27127250,"reputation":75,"user_id":20670058,"display_name":"Heath Morgan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697922954,"creation_date":1697922652,"answer_id":77337813,"question_id":77337795,"body_markdown":"Adding `? extends ` in front of the value type for `processMap` seems  to eliminate the compile warning.  I believe the real problem is you are changing the entire type of the parameter, to be something that is *extending* the original Array.  You can&#39;t change the *inside* of the map without actually changing the map type itself.\r\n\r\n**Edit** In other words, try `public void processMap(HashMap&lt;String, ? extends ArrayList&lt;? extends A&gt;&gt; map)`","title":"Why does Java complain about use of generics in map but not list?","body":"<p>Adding <code>? extends </code> in front of the value type for <code>processMap</code> seems  to eliminate the compile warning.  I believe the real problem is you are changing the entire type of the parameter, to be something that is <em>extending</em> the original Array.  You can't change the <em>inside</em> of the map without actually changing the map type itself.</p>\n<p><strong>Edit</strong> In other words, try <code>public void processMap(HashMap&lt;String, ? extends ArrayList&lt;? extends A&gt;&gt; map)</code></p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697924311,"creation_date":1697924311,"answer_id":77337895,"question_id":77337795,"body_markdown":"In Java, generics are **invariant**. A simpler version of your example can be demonstrated like so:\r\n\r\n```java\r\nList&lt;C&gt; cList = new ArrayList&lt;&gt;();\r\nList&lt;A&gt; aList = cList; // fails to compile\r\n```\r\n\r\nThe type `List&lt;A&gt;` declares that the generic type must **exactly** match `C`, so you cannot assign a `List&lt;C&gt;` to it (although `C` extends `A`).\r\n\r\nYou can make it **covariant** with `extends` and a wildcard or generic type parameter (for a method). `? extends A` allows the type to be either `A` or a subtype of `A`.\r\n\r\n```java\r\nList&lt;? extends A&gt; aList = cList;\r\n```\r\n\r\nNow, applying the same logic:\r\n\r\n```java\r\nHashMap&lt;String, ArrayList&lt;? extends A&gt;&gt; map\r\n```\r\n\r\nThis declares that the type accepts exactly a `Map` whose key is of type `String` and value is of type `ArrayList&lt;? extends A&gt;`. But you are passing in a `Map` whose value is of type `ArrayList&lt;C&gt;`. This does not exactly match the type parameter `ArrayList&lt;? extends A&gt;` (which is invariant although the type parameter to `ArrayList` has `extends`).","title":"Why does Java complain about use of generics in map but not list?","body":"<p>In Java, generics are <strong>invariant</strong>. A simpler version of your example can be demonstrated like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;C&gt; cList = new ArrayList&lt;&gt;();\nList&lt;A&gt; aList = cList; // fails to compile\n</code></pre>\n<p>The type <code>List&lt;A&gt;</code> declares that the generic type must <strong>exactly</strong> match <code>C</code>, so you cannot assign a <code>List&lt;C&gt;</code> to it (although <code>C</code> extends <code>A</code>).</p>\n<p>You can make it <strong>covariant</strong> with <code>extends</code> and a wildcard or generic type parameter (for a method). <code>? extends A</code> allows the type to be either <code>A</code> or a subtype of <code>A</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;? extends A&gt; aList = cList;\n</code></pre>\n<p>Now, applying the same logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, ArrayList&lt;? extends A&gt;&gt; map\n</code></pre>\n<p>This declares that the type accepts exactly a <code>Map</code> whose key is of type <code>String</code> and value is of type <code>ArrayList&lt;? extends A&gt;</code>. But you are passing in a <code>Map</code> whose value is of type <code>ArrayList&lt;C&gt;</code>. This does not exactly match the type parameter <code>ArrayList&lt;? extends A&gt;</code> (which is invariant although the type parameter to <code>ArrayList</code> has <code>extends</code>).</p>\n"}],"owner":{"account_id":26417265,"reputation":13,"user_id":20961649,"display_name":"JMorgan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77337813,"answer_count":2,"score":0,"last_activity_date":1697924311,"creation_date":1697922271,"question_id":77337795,"body_markdown":"I need to generically process a map containing a list, but can&#39;t get by the compiler warning.  It doesn&#39;t make sense why I can generically process the list, but not the map. \r\n\r\nFrom the below code, why does the compiler allow the &#39;processList&#39; method call, but not the call to &#39;processMap&#39;?\r\n\r\nIt doesn&#39;t seem to matter what Java version (I&#39;ve tried up to 19).   I can go to total base Java code (&lt; 1.5) without generics, but, this simply makes no sense to me.\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\nclass A { }\r\nclass B extends A { }\r\nclass C extends A { }\r\n\r\n/**\r\n * &lt;p&gt;Why does the compiler complain about the calls to processMap?&lt;/p&gt;\r\n */\r\npublic class GenericsMystery {\r\n\tpublic GenericsMystery() {\r\n\t\tArrayList&lt;B&gt; bList = new ArrayList&lt;&gt;();\r\n\t\tArrayList&lt;C&gt; cList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tprocessList(bList);\r\n\t\tprocessList(cList);\r\n\t\t\r\n\t\tHashMap&lt;String, ArrayList&lt;B&gt;&gt; bMap = new HashMap&lt;&gt;();\r\n\t\tHashMap&lt;String, ArrayList&lt;C&gt;&gt; cMap = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tprocessMap(bMap);\r\n\t\tprocessMap(cMap);\r\n\t}\r\n\t\r\n\tpublic void processList(ArrayList&lt;? extends A&gt; list) {\r\n\t}\r\n\t\r\n\tpublic void processMap(HashMap&lt;String, ArrayList&lt;? extends A&gt;&gt; map) {\r\n\t}\r\n}\r\n\r\n```\r\n\r\n","title":"Why does Java complain about use of generics in map but not list?","body":"<p>I need to generically process a map containing a list, but can't get by the compiler warning.  It doesn't make sense why I can generically process the list, but not the map.</p>\n<p>From the below code, why does the compiler allow the 'processList' method call, but not the call to 'processMap'?</p>\n<p>It doesn't seem to matter what Java version (I've tried up to 19).   I can go to total base Java code (&lt; 1.5) without generics, but, this simply makes no sense to me.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\n\nclass A { }\nclass B extends A { }\nclass C extends A { }\n\n/**\n * &lt;p&gt;Why does the compiler complain about the calls to processMap?&lt;/p&gt;\n */\npublic class GenericsMystery {\n    public GenericsMystery() {\n        ArrayList&lt;B&gt; bList = new ArrayList&lt;&gt;();\n        ArrayList&lt;C&gt; cList = new ArrayList&lt;&gt;();\n        \n        processList(bList);\n        processList(cList);\n        \n        HashMap&lt;String, ArrayList&lt;B&gt;&gt; bMap = new HashMap&lt;&gt;();\n        HashMap&lt;String, ArrayList&lt;C&gt;&gt; cMap = new HashMap&lt;&gt;();\n        \n        processMap(bMap);\n        processMap(cMap);\n    }\n    \n    public void processList(ArrayList&lt;? extends A&gt; list) {\n    }\n    \n    public void processMap(HashMap&lt;String, ArrayList&lt;? extends A&gt;&gt; map) {\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":10,"creation_date":1395188253,"post_id":22493765,"comment_id":34221430,"body_markdown":"An empty brace pair. `{ }`","body":"An empty brace pair. <code>{ }</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1395188822,"post_id":22493765,"comment_id":34221602,"body_markdown":"What on earth do you use it for?","body":"What on earth do you use it for?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1395188918,"post_id":22493765,"comment_id":34221633,"body_markdown":"There is no strict equivalent to it (since you can `pass` on methods which normally return a value), but there are &quot;do nothing&quot;s. What is it that you want to do exactly? In what context?","body":"There is no strict equivalent to it (since you can <code>pass</code> on methods which normally return a value), but there are &quot;do nothing&quot;s. What is it that you want to do exactly? In what context?"}],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1395188287,"creation_date":1395188287,"answer_id":22493788,"question_id":22493765,"body_markdown":"    ;\r\n\r\n`;` is the empty statement. Usually, you don&#39;t need it - you can just put nothing in the brackets for an empty loop - but it can be useful.","title":"Java do nothing","body":"<pre><code>;\n</code></pre>\n\n<p><code>;</code> is the empty statement. Usually, you don't need it - you can just put nothing in the brackets for an empty loop - but it can be useful.</p>\n"},{"tags":[],"owner":{"account_id":1940839,"reputation":3997,"user_id":1747088,"accept_rate":57,"display_name":"James"},"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1395188329,"creation_date":1395188329,"answer_id":22493796,"question_id":22493765,"body_markdown":"Just use a semi-colon `;`, it has the same effect.","title":"Java do nothing","body":"<p>Just use a semi-colon <code>;</code>, it has the same effect.</p>\n"},{"tags":[],"owner":{"account_id":3822129,"reputation":4367,"user_id":3169961,"accept_rate":77,"display_name":"sabbahillel"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1395188628,"creation_date":1395188628,"answer_id":22493839,"question_id":22493765,"body_markdown":"If you want something noticeable, you can use\r\n\r\n    assert true;\r\n\r\nThis will allow you to have something that a reader can recognize or that can be searched for.\r\n","title":"Java do nothing","body":"<p>If you want something noticeable, you can use</p>\n\n<pre><code>assert true;\n</code></pre>\n\n<p>This will allow you to have something that a reader can recognize or that can be searched for.</p>\n"},{"tags":[],"owner":{"account_id":2225921,"reputation":3827,"user_id":1964707,"accept_rate":67,"display_name":"Mindaugas Bernatavičius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552164286,"creation_date":1552164286,"answer_id":55081785,"question_id":22493765,"body_markdown":"There is no (strict) equivalent since in java you have to specify the return type for the method in its declaration which is then checked against a computed type of the following the return statement. So for methods that have a return type - neither semicollon nor leaving empty braces will work;\r\n\r\nI personally use: `throw new java.lang.UnsupportedOperationException(&quot;Not supported yet.&quot;);` - this is searchable, alerts you that the method is not implemented and is compatible with the strict return types.","title":"Java do nothing","body":"<p>There is no (strict) equivalent since in java you have to specify the return type for the method in its declaration which is then checked against a computed type of the following the return statement. So for methods that have a return type - neither semicollon nor leaving empty braces will work;</p>\n\n<p>I personally use: <code>throw new java.lang.UnsupportedOperationException(\"Not supported yet.\");</code> - this is searchable, alerts you that the method is not implemented and is compatible with the strict return types.</p>\n"},{"tags":[],"owner":{"account_id":2650421,"reputation":1623,"user_id":2292264,"display_name":"Gro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565584308,"creation_date":1565583886,"answer_id":57455616,"question_id":22493765,"body_markdown":"I feel, there is no construct in Java identical to pass in Python. This is mostly because Java is a statically typed language where as Python is a dynamically typed language. More so when you are defining a method / function. In that context, the provided answers are valid / correct only for a method that returns void.\r\n\r\nFor example for a Python function\r\n```\r\ndef function_returns_void:\r\n    pass\r\n```\r\nyou can have a Java method\r\n```\r\npublic void function_returns_void(){}\r\n```\r\nor\r\n```\r\npublic void function_returns_void(){;}\r\n```\r\n\r\nbut when a method is supposed to return a value, while **pass** may still work in Python, one will stuck with compilation problem when not returning a value.\r\n","title":"Java do nothing","body":"<p>I feel, there is no construct in Java identical to pass in Python. This is mostly because Java is a statically typed language where as Python is a dynamically typed language. More so when you are defining a method / function. In that context, the provided answers are valid / correct only for a method that returns void.</p>\n\n<p>For example for a Python function</p>\n\n<pre><code>def function_returns_void:\n    pass\n</code></pre>\n\n<p>you can have a Java method</p>\n\n<pre><code>public void function_returns_void(){}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public void function_returns_void(){;}\n</code></pre>\n\n<p>but when a method is supposed to return a value, while <strong>pass</strong> may still work in Python, one will stuck with compilation problem when not returning a value.</p>\n"},{"tags":[],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1637512524,"creation_date":1582650723,"answer_id":60399943,"question_id":22493765,"body_markdown":"I normally use something like:\r\n\r\n```\r\n&quot;&quot;.isEmpty(); // do nothing\r\n```\r\n\r\nIt&#39;s useful to be able to have a line of code which does nothing when debugging. You can put a breakpoint on that line, which is especially useful if it would usually be an empty block of code (e.g. empty catch block etc), as putting a breakpoint on an empty line can create confusion about where the breakpoint is actually set.","title":"Java do nothing","body":"<p>I normally use something like:</p>\n<pre><code>&quot;&quot;.isEmpty(); // do nothing\n</code></pre>\n<p>It's useful to be able to have a line of code which does nothing when debugging. You can put a breakpoint on that line, which is especially useful if it would usually be an empty block of code (e.g. empty catch block etc), as putting a breakpoint on an empty line can create confusion about where the breakpoint is actually set.</p>\n"}],"owner":{"account_id":3541588,"reputation":4535,"user_id":2958527,"accept_rate":86,"display_name":"goodcow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136931,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":22493796,"answer_count":6,"score":70,"last_activity_date":1697922919,"creation_date":1395188189,"question_id":22493765,"body_markdown":"What is the equivalent to Python&#39;s `pass` in Java? I realize that I could use `continue` or not complete the body of a statement to achieve that effect, but I like having a `pass` statement.","title":"Java do nothing","body":"<p>What is the equivalent to Python's <code>pass</code> in Java? I realize that I could use <code>continue</code> or not complete the body of a statement to achieve that effect, but I like having a <code>pass</code> statement.</p>\n"},{"tags":["java","arrays","string","massive"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697918469,"post_id":77337520,"comment_id":136340610,"body_markdown":"`letters[i][i]` would be a single String.  `split` returns multiple Strings.  You can’t store multiple Strings in one String variable.  You probably wanted `letters[i]`.  However, you will find that that is not enough;  the compiler will inform you that you never initialized `letters` at all.  Change your declaration to `String[][] letters = new String[strs.length][];`.  Also, your second pair of loops are assigning a one-character string to `cmon`, which I’m pretty sure will not be what you want to return.","body":"<code>letters[i][i]</code> would be a single String.  <code>split</code> returns multiple Strings.  You can’t store multiple Strings in one String variable.  You probably wanted <code>letters[i]</code>.  However, you will find that that is not enough;  the compiler will inform you that you never initialized <code>letters</code> at all.  Change your declaration to <code>String[][] letters = new String[strs.length][];</code>.  Also, your second pair of loops are assigning a one-character string to <code>cmon</code>, which I’m pretty sure will not be what you want to return."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697921718,"creation_date":1697921718,"answer_id":77337766,"question_id":77337520,"body_markdown":"&gt; _&quot;... I&#39;m trying to split Array strs to another but error ...&quot;_\r\n\r\nThe _[split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method is for a _[String](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html)_ _object_ specifically.\r\n\r\nUse a _char array_ for this.\r\n\r\n```java\r\nchar[][] letters = new char[strs.length][];\r\nfor (int i = 0, n = strs.length; i &lt; n; i++)\r\n    letters[i] = strs[i].toCharArray();\r\n```","title":"String[] cant be converted to String;","body":"<blockquote>\n<p><em>&quot;... I'm trying to split Array strs to another but error ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a></em> method is for a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a></em> <em>object</em> specifically.</p>\n<p>Use a <em>char array</em> for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[][] letters = new char[strs.length][];\nfor (int i = 0, n = strs.length; i &lt; n; i++)\n    letters[i] = strs[i].toCharArray();\n</code></pre>\n"}],"owner":{"account_id":28058691,"reputation":23,"user_id":21433289,"display_name":"haxzzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":77337766,"answer_count":1,"score":-1,"last_activity_date":1697921718,"creation_date":1697917298,"question_id":77337520,"body_markdown":"I&#39;m trying to split Array strs to another but error\r\n```\r\nclass Solution {\r\n    public String longestCommonPrefix(String[] strs) {\r\n        String[][] letters;\r\n**        String cmon;\r\n        for (int i = 0; i &lt; strs.length; i++) {\r\n            letters[i][i] = strs[i].split(&quot;&quot;);\r\n        }**\r\n\r\n        for (int j = 0; j &lt; letters[0].length; j++) {\r\n            for (int k = 0; k &lt; letters.length; k++) {\r\n                if (letters[k][j] == letters[k++][j]) {\r\n                    cmon = letters[j][k];\r\n                }  else {\r\n                    cmon = &quot;&quot;;\r\n                }\r\n            }\r\n        }\r\n        return cmon;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nLine 6: error: incompatible types: String[] cannot be converted to String\r\n            letters[i][i] = strs[i].toString().split(&quot;&quot;);\r\n                                                    ^\r\n```\r\n\r\n\r\nchanged code a lot but nothing happend. already tried methods from stackoverflow but it doesnt help","title":"String[] cant be converted to String;","body":"<p>I'm trying to split Array strs to another but error</p>\n<pre><code>class Solution {\n    public String longestCommonPrefix(String[] strs) {\n        String[][] letters;\n**        String cmon;\n        for (int i = 0; i &lt; strs.length; i++) {\n            letters[i][i] = strs[i].split(&quot;&quot;);\n        }**\n\n        for (int j = 0; j &lt; letters[0].length; j++) {\n            for (int k = 0; k &lt; letters.length; k++) {\n                if (letters[k][j] == letters[k++][j]) {\n                    cmon = letters[j][k];\n                }  else {\n                    cmon = &quot;&quot;;\n                }\n            }\n        }\n        return cmon;\n    }\n}\n</code></pre>\n<pre><code>Line 6: error: incompatible types: String[] cannot be converted to String\n            letters[i][i] = strs[i].toString().split(&quot;&quot;);\n                                                    ^\n</code></pre>\n<p>changed code a lot but nothing happend. already tried methods from stackoverflow but it doesnt help</p>\n"},{"tags":["java","deployment","quarkus","heroku-cli","java-opts"],"owner":{"account_id":23347256,"reputation":59,"user_id":17421351,"display_name":"ihaveaquestion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697919016,"creation_date":1697919016,"question_id":77337621,"body_markdown":"I did following tutorial using maven: [deploying-to-heroku](https://quarkus.io/guides/deploying-to-heroku), but the local deployment fails:\r\n\r\n````bash\r\nheroku local web\r\n21:55:27 web.1   |  Fehler: Hauptklasse \\\\$JAVA_OPTS konnte nicht gefunden oder geladen werden\r\n21:55:27 web.1   |  Ursache: java.lang.ClassNotFoundException: \\\\$JAVA_OPTS\r\n[DONE] Killing all processes with signal  SIGINT\r\n21:55:27 web.1   Exited with exit code null\r\n````\r\n\r\nProcfile:\r\n`web: java \\$JAVA_OPTS -jar target/quarkus-app/quarkus-run.jar`\r\n\r\nsystem.properties:\r\n`java.runtime.version=17`\r\n\r\napplication.properties:\r\n...\r\n`quarkus.http.port=${PORT:8080}`\r\n\r\npom.xml:\r\n```xml\r\n...\r\n&lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n...\r\n```\r\n\r\nI am not sure what I am doing wrong. The app works fine in dev mode and all of my tests pass.\r\n\r\nI tried `web: java -Dquarkus.http.port=$PORT $JAVA_OPTS -jar target/quarkus-app/quarkus-run.jar` from https://stackoverflow.com/questions/68311642/quarkus-deployment-erro-on-heroku-could-not-find-or-load-main-class-java-opts too, bt it returned the same error.","title":"heroku local web returns java.lang.ClassNotFoundException: \\\\$JAVA_OPTS for quarkus app","body":"<p>I did following tutorial using maven: <a href=\"https://quarkus.io/guides/deploying-to-heroku\" rel=\"nofollow noreferrer\">deploying-to-heroku</a>, but the local deployment fails:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>heroku local web\n21:55:27 web.1   |  Fehler: Hauptklasse \\\\$JAVA_OPTS konnte nicht gefunden oder geladen werden\n21:55:27 web.1   |  Ursache: java.lang.ClassNotFoundException: \\\\$JAVA_OPTS\n[DONE] Killing all processes with signal  SIGINT\n21:55:27 web.1   Exited with exit code null\n</code></pre>\n<p>Procfile:\n<code>web: java \\$JAVA_OPTS -jar target/quarkus-app/quarkus-run.jar</code></p>\n<p>system.properties:\n<code>java.runtime.version=17</code></p>\n<p>application.properties:\n...\n<code>quarkus.http.port=${PORT:8080}</code></p>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n...\n</code></pre>\n<p>I am not sure what I am doing wrong. The app works fine in dev mode and all of my tests pass.</p>\n<p>I tried <code>web: java -Dquarkus.http.port=$PORT $JAVA_OPTS -jar target/quarkus-app/quarkus-run.jar</code> from <a href=\"https://stackoverflow.com/questions/68311642/quarkus-deployment-erro-on-heroku-could-not-find-or-load-main-class-java-opts\">Quarkus deployment erro on Heroku: Could not find or load main class $JAVA_OPTS</a> too, bt it returned the same error.</p>\n"},{"tags":["java","android","performance","canvas","surfaceview"],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697917849,"creation_date":1697819056,"question_id":77332461,"body_markdown":"I have a working code but what I want to achieve is better FPS performance in `drawMap()` (this method is called later in custom SurfaceView&#39;s onDraw() method). The problem is of course with these huge `bitmapsAnimated` and `canvasesAnimated` objects. As a solution I would like for example to split them to smaller constructions. I guess it could much improve my FPS but I don&#39;t know how to modify my code to do this. I am also open to another improvements regarding this issue that you suggest.\r\n\r\n\r\n    private static final Map&lt;Integer, Bitmap[][][]&gt; bitmapsAnimated = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Canvas[][][]&gt; canvasesAnimated = new HashMap&lt;&gt;();\r\n\r\n    public void init(List&lt;Integer&gt; animFrames) {\r\n            for (int i = 0; i &lt; animFrames.size(); i++) {\r\n                runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\r\n                bitmapsAnimated.put(i, new Bitmap[animFrames.get(i)][40][60]);\r\n                canvasesAnimated.put(i, new Canvas[animFrames.get(i)][40][60]);\r\n                for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                    for (int a = 0; a &lt; 40; a++) {\r\n                        for (int b = 0; b &lt; 60; b++) {\r\n                            bitmapsAnimated.get(i)[j][a][b] = Bitmap.createBitmap(GameSurface.cellWidth, GameSurface.cellHeight, Bitmap.Config.ARGB_8888);\r\n                            canvasesAnimated.get(i)[j][a][b] = new Canvas(bitmapsAnimated.get(i)[j][a][b]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nlater in loop inside another method:\r\n\r\n    canvasesAnimated.get(l)[frame][k][j].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n\r\n\r\n\r\nand finally:\r\n\r\n\r\n    public static void drawMap(Canvas canvas, GameSurface gs) {\r\n\r\n        int moveX = -((GameMainSurface) gs).moveX;\r\n        int moveY = -((GameMainSurface) gs).moveY;\r\n\r\n        for (int i = moveX / GameSurface.cellWidth; i &lt; (moveX / GameSurface.cellWidth) + GameSurface.VISIBLE_COLUMN_NUMBER + 1; i++) {\r\n            for (int j = moveY / GameSurface.cellHeight; j &lt; (moveY / GameSurface.cellHeight) + GameSurface.VISIBLE_ROW_NUMBER + 1; j++) {\r\n\r\n                for (int k = 0; k &lt; bitmapsAnimated.size(); k++) {\r\n                    canvas.drawBitmap(bitmapsAnimated.get(k)[((FrameDurationRunnable) runnables.get(k)).iter][i][j], i * GameSurface.cellWidth - moveX, j * GameSurface.cellHeight - moveY, null);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n\r\n    private static void iterTmxFrames() {\r\n        for (int i = 0; i &lt; runnables.size(); i++) {\r\n            handler.postDelayed(runnables.get(i), animsDuration.get(i));\r\n        }\r\n    }\r\n","title":"Android improve performance of map of multi-dimensional arrays","body":"<p>I have a working code but what I want to achieve is better FPS performance in <code>drawMap()</code> (this method is called later in custom SurfaceView's onDraw() method). The problem is of course with these huge <code>bitmapsAnimated</code> and <code>canvasesAnimated</code> objects. As a solution I would like for example to split them to smaller constructions. I guess it could much improve my FPS but I don't know how to modify my code to do this. I am also open to another improvements regarding this issue that you suggest.</p>\n<pre><code>private static final Map&lt;Integer, Bitmap[][][]&gt; bitmapsAnimated = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Canvas[][][]&gt; canvasesAnimated = new HashMap&lt;&gt;();\n\npublic void init(List&lt;Integer&gt; animFrames) {\n        for (int i = 0; i &lt; animFrames.size(); i++) {\n            runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\n            bitmapsAnimated.put(i, new Bitmap[animFrames.get(i)][40][60]);\n            canvasesAnimated.put(i, new Canvas[animFrames.get(i)][40][60]);\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\n                for (int a = 0; a &lt; 40; a++) {\n                    for (int b = 0; b &lt; 60; b++) {\n                        bitmapsAnimated.get(i)[j][a][b] = Bitmap.createBitmap(GameSurface.cellWidth, GameSurface.cellHeight, Bitmap.Config.ARGB_8888);\n                        canvasesAnimated.get(i)[j][a][b] = new Canvas(bitmapsAnimated.get(i)[j][a][b]);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>later in loop inside another method:</p>\n<pre><code>canvasesAnimated.get(l)[frame][k][j].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n</code></pre>\n<p>and finally:</p>\n<pre><code>public static void drawMap(Canvas canvas, GameSurface gs) {\n\n    int moveX = -((GameMainSurface) gs).moveX;\n    int moveY = -((GameMainSurface) gs).moveY;\n\n    for (int i = moveX / GameSurface.cellWidth; i &lt; (moveX / GameSurface.cellWidth) + GameSurface.VISIBLE_COLUMN_NUMBER + 1; i++) {\n        for (int j = moveY / GameSurface.cellHeight; j &lt; (moveY / GameSurface.cellHeight) + GameSurface.VISIBLE_ROW_NUMBER + 1; j++) {\n\n            for (int k = 0; k &lt; bitmapsAnimated.size(); k++) {\n                canvas.drawBitmap(bitmapsAnimated.get(k)[((FrameDurationRunnable) runnables.get(k)).iter][i][j], i * GameSurface.cellWidth - moveX, j * GameSurface.cellHeight - moveY, null);\n            }\n        }\n    }\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\n\nprivate static void iterTmxFrames() {\n    for (int i = 0; i &lt; runnables.size(); i++) {\n        handler.postDelayed(runnables.get(i), animsDuration.get(i));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","spring-boot-test","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697916806,"post_id":77335539,"comment_id":136340482,"body_markdown":"Does that happen if you build on plain command line or within your IDE?","body":"Does that happen if you build on plain command line or within your IDE?"},{"owner":{"account_id":28903649,"reputation":1,"user_id":22138041,"display_name":"Luffysarous"},"score":0,"creation_date":1698224412,"post_id":77335539,"comment_id":136376779,"body_markdown":"I believe it is within IDE","body":"I believe it is within IDE"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698394183,"post_id":77335539,"comment_id":136402460,"body_markdown":"Do you use the most recent version of IntelliJ?","body":"Do you use the most recent version of IntelliJ?"},{"owner":{"account_id":28903649,"reputation":1,"user_id":22138041,"display_name":"Luffysarous"},"score":0,"creation_date":1698944937,"post_id":77335539,"comment_id":136471721,"body_markdown":"yes it is latest and my first project. Apologies for late reply, busy with other project","body":"yes it is latest and my first project. Apologies for late reply, busy with other project"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699220290,"post_id":77335539,"comment_id":136500996,"body_markdown":"Is this class `com.shri.Chat.ChatApplicationTests` the test? Where have you located that class? `src/test/java`??","body":"Is this class <code>com.shri.Chat.ChatApplicationTests</code> the test? Where have you located that class? <code>src&#47;test&#47;java</code>??"}],"owner":{"account_id":28903649,"reputation":1,"user_id":22138041,"display_name":"Luffysarous"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697916778,"creation_date":1697883205,"question_id":77335539,"body_markdown":"java: package org.springframework.boot.test.context does not exist\r\njava: package org.springframework.boot.test.context does not exist\r\njava: cannot find symbol symbol: class SpringBootTest\r\n\r\njava: cannot find symbol\r\n  symbol:   class Test\r\n  location: class com.shri.Chat.ChatApplicationTests\r\n\r\nThese are the errors, can not figure out why? Please refer to my pom.xml below\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.shri&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Chat&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Chat&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot chat application&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nI believe all dependencies are listed properly for test, using intelliJ for first time\r\n","title":"java: package org.springframework.boot.test.context does not exist","body":"<p>java: package org.springframework.boot.test.context does not exist\njava: package org.springframework.boot.test.context does not exist\njava: cannot find symbol symbol: class SpringBootTest</p>\n<p>java: cannot find symbol\nsymbol:   class Test\nlocation: class com.shri.Chat.ChatApplicationTests</p>\n<p>These are the errors, can not figure out why? Please refer to my pom.xml below</p>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.shri&lt;/groupId&gt;\n    &lt;artifactId&gt;Chat&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Chat&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot chat application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I believe all dependencies are listed properly for test, using intelliJ for first time</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1697899529,"post_id":77336421,"comment_id":136338773,"body_markdown":"Possible workaround to this problem [here](https://stackoverflow.com/a/6422995/243373)","body":"Possible workaround to this problem <a href=\"https://stackoverflow.com/a/6422995/243373\">here</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697909222,"post_id":77336421,"comment_id":136339763,"body_markdown":"I&#39;ve never seen this problem. Post your [mre] demonstrating the problem.","body":"I&#39;ve never seen this problem. Post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1697912880,"post_id":77336421,"comment_id":136340137,"body_markdown":"What is the &quot;*taskbar*&quot; - the Windows one? And are you sure about using `setState()` - from its [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Frame.html#setState(int)): &quot;*If the state passed to this method is neither Frame.NORMAL nor Frame.ICONIFIED the method performs no actions at all.*&quot; ?","body":"What is the &quot;<i>taskbar</i>&quot; - the Windows one? And are you sure about using <code>setState()</code> - from its <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Frame.html#setState(int)\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>If the state passed to this method is neither Frame.NORMAL nor Frame.ICONIFIED the method performs no actions at all.</i>&quot; ?"},{"owner":{"account_id":29723109,"reputation":1,"user_id":22779881,"display_name":"FireGoose&#39;s Empire"},"score":0,"creation_date":1697915824,"post_id":77336421,"comment_id":136340389,"body_markdown":"@user85421 You&#39;re right! I used `setExtendedState()`. I found a way to maximize it on start, now I cannot change it to maximized state back when it got dragged by the user. And I&#39;m using **Windows 11**!","body":"@user85421 You&#39;re right! I used <code>setExtendedState()</code>. I found a way to maximize it on start, now I cannot change it to maximized state back when it got dragged by the user. And I&#39;m using <b>Windows 11</b>!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697921083,"post_id":77336421,"comment_id":136340838,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29723109,"reputation":1,"user_id":22779881,"display_name":"FireGoose&#39;s Empire"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697915645,"creation_date":1697898498,"question_id":77336421,"body_markdown":" I tried to make a JFrame window, that is maximized automatically within the program  and tried:\r\n\r\n`this.setExtendedState(JFrame.MAXIMIZED_BOTH);`\r\n\r\nAnd the window did maximize, but the taskbar was hidden. Is there any way to maximize, without hiding it?","title":"Can I maximize a JFrame without hiding the taskbar?","body":"<p>I tried to make a JFrame window, that is maximized automatically within the program  and tried:</p>\n<p><code>this.setExtendedState(JFrame.MAXIMIZED_BOTH);</code></p>\n<p>And the window did maximize, but the taskbar was hidden. Is there any way to maximize, without hiding it?</p>\n"},{"tags":["java","performance","caching"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1697908889,"post_id":77337049,"comment_id":136339734,"body_markdown":"&quot;*what would be your best guess at how much of a difference it makes if the baseline is 4,000ms? 4,050? 5,000?*&quot; - The question - as is - is pointless. There is a manifold of factors that influence the in-/decrease. --- Have you used a profoiling tool like [VisualVM (`visualvm.github.io`)](https://visualvm.github.io/) to analyze the execution?","body":"&quot;<i>what would be your best guess at how much of a difference it makes if the baseline is 4,000ms? 4,050? 5,000?</i>&quot; - The question - as is - is pointless. There is a manifold of factors that influence the in-/decrease. --- Have you used a profoiling tool like <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM (<code>visualvm.github.io</code>)</a> to analyze the execution?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1697908914,"post_id":77337049,"comment_id":136339735,"body_markdown":"The JVM optimizes code as it keeps running.  Code naturally gets faster over time.  This is why measurement is extremely hard.","body":"The JVM optimizes code as it keeps running.  Code naturally gets faster over time.  This is why measurement is extremely hard."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1697908981,"post_id":77337049,"comment_id":136339740,"body_markdown":"@LouisWasserman I do not keep it running, I start it fresh everytime. Does it keep optimizations across runs?","body":"@LouisWasserman I do not keep it running, I start it fresh everytime. Does it keep optimizations across runs?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1697909014,"post_id":77337049,"comment_id":136339743,"body_markdown":"@KorayTugay Look up JIT compilation. During the execution, the JVM will hot-compile code.","body":"@KorayTugay Look up JIT compilation. During the execution, the JVM will hot-compile code."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1697909162,"post_id":77337049,"comment_id":136339756,"body_markdown":"@Turing85 I am calling `javac Main.java; java Main` every time, I do not understand how JIT is relevant here. I do not have a long running Java process where I run a for loop and question why it takes faster to run the same method in subsequent calls.","body":"@Turing85 I am calling <code>javac Main.java; java Main</code> every time, I do not understand how JIT is relevant here. I do not have a long running Java process where I run a for loop and question why it takes faster to run the same method in subsequent calls."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697909228,"post_id":77337049,"comment_id":136339765,"body_markdown":"As I said: look up JIT compilation.","body":"As I said: look up JIT compilation."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1697909503,"post_id":77337049,"comment_id":136339789,"body_markdown":"@Turing85 I do not understand how JIT compilation causes the execution to jump to 40,000ms from 4,000 ms between #1 and #2.. I would highly appreciate if you have a more concrete answer explaining what is happening in this very specific case and share your knowledge. I fail to come to a conclusion by &quot;looking up JIT compilation&quot;..","body":"@Turing85 I do not understand how JIT compilation causes the execution to jump to 40,000ms from 4,000 ms between #1 and #2.. I would highly appreciate if you have a more concrete answer explaining what is happening in this very specific case and share your knowledge. I fail to come to a conclusion by &quot;looking up JIT compilation&quot;.."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1697909817,"post_id":77337049,"comment_id":136339835,"body_markdown":"Your cache insertion involves memory allocation.","body":"Your cache insertion involves memory allocation."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1697909940,"post_id":77337049,"comment_id":136339849,"body_markdown":"@ArfurNarf But that should be the case in scenario #3 too isn&#39;t it? I am trying to understand how the runtime can drastically drop in #3.. If adding the `cache.put` statements are costly, how come case #3 runs so fast?","body":"@ArfurNarf But that should be the case in scenario #3 too isn&#39;t it? I am trying to understand how the runtime can drastically drop in #3.. If adding the <code>cache.put</code> statements are costly, how come case #3 runs so fast?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697910156,"post_id":77337049,"comment_id":136339868,"body_markdown":"A cache hit preempts repeated recursion; count the depth to see.","body":"A cache hit preempts repeated recursion; count the depth to see."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1697910269,"post_id":77337049,"comment_id":136339878,"body_markdown":"@trashgod I did add some code to count. I get ~40 cache hits and ~40 cache misses.","body":"@trashgod I did add some code to count. I get ~40 cache hits and ~40 cache misses."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697911557,"post_id":77337049,"comment_id":136340011,"body_markdown":"I suspect that autoboxing might be a part of the problem.","body":"I suspect that autoboxing might be a part of the problem."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697911620,"post_id":77337049,"comment_id":136340020,"body_markdown":"@KorayTugay: Now compare total calls to `findFibonacci` in the second and third examples.","body":"@KorayTugay: Now compare total calls to <code>findFibonacci</code> in the second and third examples."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697911847,"post_id":77337049,"comment_id":136340044,"body_markdown":"@Turing85: I agree with your point about JIT compilation affecting results; but in this case, [_memoization_](https://en.wikipedia.org/wiki/Memoization) dominates.","body":"@Turing85: I agree with your point about JIT compilation affecting results; but in this case, <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\"><i>memoization</i></a> dominates."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1697912165,"post_id":77337049,"comment_id":136340083,"body_markdown":"@trashgod :facepalm: I understand now.. Thank you.. This is embarrassing.. Method call count decreases from 3672623805 to 89.. :facepalm: I understand where I was confused now, but not sure how I can explain it. Thank you, that clarifies it.","body":"@trashgod :facepalm: I understand now.. Thank you.. This is embarrassing.. Method call count decreases from 3672623805 to 89.. :facepalm: I understand where I was confused now, but not sure how I can explain it. Thank you, that clarifies it."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1697912284,"post_id":77337049,"comment_id":136340092,"body_markdown":"@trashod Of course 3672623805 calls to `cache.put` will make the execution jump significantly.. I was assuming it was ~80 calls only, not sure why! Thank you for clarifying..","body":"@trashod Of course 3672623805 calls to <code>cache.put</code> will make the execution jump significantly.. I was assuming it was ~80 calls only, not sure why! Thank you for clarifying.."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697912640,"post_id":77337049,"comment_id":136340121,"body_markdown":"You can [answer your own question](http://meta.stackoverflow.com/q/17463/163188).","body":"You can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697912781,"post_id":77337049,"comment_id":136340130,"body_markdown":"@trashgod your argument is valid for the 3rd case. For the 2nd case, however, memorization has zero effect since we only write to the map (and the write - per documentation - should be `O(1)`). For the second case, it seems that the &quot;complexity&quot; hidden behind `O(1)` is pretty large. A CPU-sampled run showed that a large chunk of the time is - in fact - spent in `HashMap`&#39;s `putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict)`-method. I should have stated that my comments were concerend with the 2nd case.","body":"@trashgod your argument is valid for the 3rd case. For the 2nd case, however, memorization has zero effect since we only write to the map (and the write - per documentation - should be <code>O(1)</code>). For the second case, it seems that the &quot;complexity&quot; hidden behind <code>O(1)</code> is pretty large. A CPU-sampled run showed that a large chunk of the time is - in fact - spent in <code>HashMap</code>&#39;s <code>putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict)</code>-method. I should have stated that my comments were concerend with the 2nd case."}],"answers":[{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697914106,"creation_date":1697914106,"answer_id":77337362,"question_id":77337049,"body_markdown":"Answering my own question as advised in comments.. \r\n\r\nMy mistake was thinking first call to `findFibonacci(n - 1)` would end up making 45 calls and `findFibonacci(n - 2)` would also end up making another 45 calls. That is clearly wrong as I did not think of `findFibonacci(n - 1)` making yet two another recursive calls, and not one. That is why I assumed the execution would get slower by a very little margin in case #2.. \r\n\r\nApparently, without caching, for the input `45` we end up making `3672623805` calls. That explains why the runtime jumps so much in case #2.. Running\r\n\r\n```\r\nMap&lt;Long, Long&gt; myMap = new HashMap&lt;&gt;();\r\nfor (Long i = 0L; i &lt; 3672623805L; i++) {\r\n  myMap.put(5L, 5L);\r\n}\r\n``` \r\n\r\ntakes around ~30,000ms on my machine, so there is that.. \r\n\r\nAnd when the cache is introduced, we drastically reduce the method calls with caching. Since my assumption of number of recursive calls were wrong to begin with, I failed to see the performance gain that would come from the reduction of the number of calls.  ","title":"What causes drastic change in runtime in this Java snippet?","body":"<p>Answering my own question as advised in comments..</p>\n<p>My mistake was thinking first call to <code>findFibonacci(n - 1)</code> would end up making 45 calls and <code>findFibonacci(n - 2)</code> would also end up making another 45 calls. That is clearly wrong as I did not think of <code>findFibonacci(n - 1)</code> making yet two another recursive calls, and not one. That is why I assumed the execution would get slower by a very little margin in case #2..</p>\n<p>Apparently, without caching, for the input <code>45</code> we end up making <code>3672623805</code> calls. That explains why the runtime jumps so much in case #2.. Running</p>\n<pre><code>Map&lt;Long, Long&gt; myMap = new HashMap&lt;&gt;();\nfor (Long i = 0L; i &lt; 3672623805L; i++) {\n  myMap.put(5L, 5L);\n}\n</code></pre>\n<p>takes around ~30,000ms on my machine, so there is that..</p>\n<p>And when the cache is introduced, we drastically reduce the method calls with caching. Since my assumption of number of recursive calls were wrong to begin with, I failed to see the performance gain that would come from the reduction of the number of calls.</p>\n"}],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697914106,"creation_date":1697908646,"question_id":77337049,"body_markdown":"**Edit**\r\nPlease note I am running this code by\r\n```\r\njavac Main.java; java Main\r\n```\r\nbetween tries. \r\n\r\n\r\nThis is the code I have.. It takes around ~4000 ms in my laptop to run..\r\n\r\n```\r\npublic class Main {\r\n\r\n  public static int findFibonacci(int n) {\r\n    int result;\r\n    if (n == 0) {\r\n      result = 0;\r\n    } else if (n == 1) {\r\n      result = 1;\r\n    } else {\r\n      result = findFibonacci(n - 1) + findFibonacci(n - 2);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    long start = System.currentTimeMillis();\r\n    System.out.println(findFibonacci(45));\r\n    long finish = System.currentTimeMillis();\r\n    System.out.println((finish - start));\r\n  }\r\n}\r\n```\r\n\r\nNow when I introduce a cache, and store the results for `n` (`cache.put(n, result);`), (but never read it for now), i.e.\r\n\r\n```\r\npublic class Main {\r\n\r\n  static Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();\r\n\r\n  public static int findFibonacci(int n) {\r\n    int result;\r\n    if (n == 0) {\r\n      result = 0;\r\n    } else if (n == 1) {\r\n      result = 1;\r\n    } else {\r\n      result = findFibonacci(n - 1) + findFibonacci(n - 2);\r\n    }\r\n\r\n    cache.put(n, result);\r\n    \r\n    return result;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    long start = System.currentTimeMillis();\r\n    System.out.println(findFibonacci(45));\r\n    long finish = System.currentTimeMillis();\r\n    System.out.println((finish - start));\r\n  }\r\n}\r\n```\r\n\r\nBefore reading any further, what would be your best guess at how much of a difference it makes if the baseline is 4,000ms? 4,050? 5,000? Well on my machine, runtime jumps 10x, i.e. to ~40,000ms range.. What happened? How costly is putting values to a Map?\r\n\r\nOK, now lets make use of the cache and introduce a cache read, i.e. add the following portion:\r\n```\r\nif (cache.containsKey(n)) {\r\n  return cache.get(n);\r\n}\r\n```\r\n\r\n```\r\npublic class Main {\r\n\r\n  static Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();\r\n\r\n  public static int findFibonacci(int n) {\r\n    if (cache.containsKey(n)) {\r\n      return cache.get(n);\r\n    }\r\n\r\n    int result;\r\n    if (n == 0) {\r\n      result = 0;\r\n    } else if (n == 1) {\r\n      result = 1;\r\n    } else {\r\n      result = findFibonacci(n - 1) + findFibonacci(n - 2);\r\n    }\r\n\r\n    cache.put(n, result);\r\n\r\n    return result;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    long start = System.currentTimeMillis();\r\n    System.out.println(findFibonacci(45));\r\n    long finish = System.currentTimeMillis();\r\n    System.out.println((finish - start));\r\n  }\r\n}\r\n```\r\n\r\nNow, what would be your guess this time? How long to run? Remember the initial runtime was 4,000ms and when we introduced `cache.put` it jumped to 40,000ms.. So given 50% cache hit, maybe it should be 2,000ms + 20,000ms ~= 22,000ms? Well in my case, it goes down to 1ms. Result (which is `1134903170`) is printed instantaneously.. \r\n\r\nCan someone explain why introducing the cache (but never reading from it) changes the runtime so drastically given we only introduced a `cache.put` which I thought was very cheap? And how come reading from cache made so much difference that the program is now running in an instant. Should not it at least run for 2,000ms? ","title":"What causes drastic change in runtime in this Java snippet?","body":"<p><strong>Edit</strong>\nPlease note I am running this code by</p>\n<pre><code>javac Main.java; java Main\n</code></pre>\n<p>between tries.</p>\n<p>This is the code I have.. It takes around ~4000 ms in my laptop to run..</p>\n<pre><code>public class Main {\n\n  public static int findFibonacci(int n) {\n    int result;\n    if (n == 0) {\n      result = 0;\n    } else if (n == 1) {\n      result = 1;\n    } else {\n      result = findFibonacci(n - 1) + findFibonacci(n - 2);\n    }\n    return result;\n  }\n\n  public static void main(String[] args) {\n    long start = System.currentTimeMillis();\n    System.out.println(findFibonacci(45));\n    long finish = System.currentTimeMillis();\n    System.out.println((finish - start));\n  }\n}\n</code></pre>\n<p>Now when I introduce a cache, and store the results for <code>n</code> (<code>cache.put(n, result);</code>), (but never read it for now), i.e.</p>\n<pre><code>public class Main {\n\n  static Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();\n\n  public static int findFibonacci(int n) {\n    int result;\n    if (n == 0) {\n      result = 0;\n    } else if (n == 1) {\n      result = 1;\n    } else {\n      result = findFibonacci(n - 1) + findFibonacci(n - 2);\n    }\n\n    cache.put(n, result);\n    \n    return result;\n  }\n\n  public static void main(String[] args) {\n    long start = System.currentTimeMillis();\n    System.out.println(findFibonacci(45));\n    long finish = System.currentTimeMillis();\n    System.out.println((finish - start));\n  }\n}\n</code></pre>\n<p>Before reading any further, what would be your best guess at how much of a difference it makes if the baseline is 4,000ms? 4,050? 5,000? Well on my machine, runtime jumps 10x, i.e. to ~40,000ms range.. What happened? How costly is putting values to a Map?</p>\n<p>OK, now lets make use of the cache and introduce a cache read, i.e. add the following portion:</p>\n<pre><code>if (cache.containsKey(n)) {\n  return cache.get(n);\n}\n</code></pre>\n<pre><code>public class Main {\n\n  static Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();\n\n  public static int findFibonacci(int n) {\n    if (cache.containsKey(n)) {\n      return cache.get(n);\n    }\n\n    int result;\n    if (n == 0) {\n      result = 0;\n    } else if (n == 1) {\n      result = 1;\n    } else {\n      result = findFibonacci(n - 1) + findFibonacci(n - 2);\n    }\n\n    cache.put(n, result);\n\n    return result;\n  }\n\n  public static void main(String[] args) {\n    long start = System.currentTimeMillis();\n    System.out.println(findFibonacci(45));\n    long finish = System.currentTimeMillis();\n    System.out.println((finish - start));\n  }\n}\n</code></pre>\n<p>Now, what would be your guess this time? How long to run? Remember the initial runtime was 4,000ms and when we introduced <code>cache.put</code> it jumped to 40,000ms.. So given 50% cache hit, maybe it should be 2,000ms + 20,000ms ~= 22,000ms? Well in my case, it goes down to 1ms. Result (which is <code>1134903170</code>) is printed instantaneously..</p>\n<p>Can someone explain why introducing the cache (but never reading from it) changes the runtime so drastically given we only introduced a <code>cache.put</code> which I thought was very cheap? And how come reading from cache made so much difference that the program is now running in an instant. Should not it at least run for 2,000ms?</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1252308249,"post_id":1387928,"comment_id":1228356,"body_markdown":"The Eclipse compile error is quite explicit: &quot;The value for annotation attribute Client.doesNotWork.values must be an array initializer&quot;. That&#39;s very clear, I don&#39;t think there&#39;s a workaround.","body":"The Eclipse compile error is quite explicit: &quot;The value for annotation attribute Client.doesNotWork.values must be an array initializer&quot;. That&#39;s very clear, I don&#39;t think there&#39;s a workaround."}],"answers":[{"tags":[],"owner":{"account_id":2384,"reputation":24627,"user_id":3306,"accept_rate":85,"display_name":"amarillion"},"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1252307301,"creation_date":1252307301,"answer_id":1387939,"question_id":1387928,"body_markdown":"Why not make the annotation values an enum, which are keys to the actual data values you want?\r\n\r\ne.g.\r\n\r\n    enum InfoKeys\r\n    {\r\n     A(&quot;a&quot;),\r\n     B(&quot;b&quot;),\r\n     AB(new String[] { &quot;a&quot;, &quot;b&quot; }),\r\n     \r\n     InfoKeys(Object data) { this.data = data; }\r\n     private Object data;\r\n    }\r\n    \r\n    @SomeAnnotation (values = InfoKeys.AB)\r\n\r\nThis could be improved for type safety, but you get the idea.","title":"How to use an array constant in an annotation","body":"<p>Why not make the annotation values an enum, which are keys to the actual data values you want?</p>\n\n<p>e.g.</p>\n\n<pre><code>enum InfoKeys\n{\n A(\"a\"),\n B(\"b\"),\n AB(new String[] { \"a\", \"b\" }),\n\n InfoKeys(Object data) { this.data = data; }\n private Object data;\n}\n\n@SomeAnnotation (values = InfoKeys.AB)\n</code></pre>\n\n<p>This could be improved for type safety, but you get the idea.</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":3,"up_vote_count":67,"is_accepted":true,"score":64,"last_activity_date":1252735782,"creation_date":1252735782,"answer_id":1414433,"question_id":1387928,"body_markdown":"No, there is no workaround.","title":"How to use an array constant in an annotation","body":"<p>No, there is no workaround.</p>\n"},{"tags":[],"owner":{"account_id":1301807,"reputation":1960,"user_id":1251543,"display_name":"cobbzilla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398163211,"creation_date":1398163211,"answer_id":23217179,"question_id":1387928,"body_markdown":"While there is no way to pass an array **directly** as an annotation parameter value, there **is** a way to effectively get similar behavior (depending on how you plan on using your annotations, this may not work for every use case).\r\n\r\nHere&#39;s an example -- let&#39;s say we have a class `InternetServer` and it has a `hostname` property. We&#39;d like to use regular Java Validation to ensure that no object has a &quot;reserved&quot; hostname. We can (somewhat elaborately) pass an array of reserved hostnames to the annotation that handles hostname validation.\r\n\r\ncaveat- with Java Validation, it would be more customary to use the &quot;payload&quot; to pass in this kind of data. I wanted this example to be a bit more generic so I used a custom interface class.\r\n\r\n    // InternetServer.java -- an example class that passes an array as an annotation value\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import javax.validation.constraints.Pattern;\r\n\r\n    public class InternetServer {\r\n\r\n        // These are reserved names, we don&#39;t want anyone naming their InternetServer one of these\r\n        private static final String[] RESERVED_NAMES = {\r\n            &quot;www&quot;, &quot;wwws&quot;, &quot;http&quot;, &quot;https&quot;,\r\n        };\r\n\r\n        public class ReservedHostnames implements ReservedWords {\r\n            // We return a constant here but could do a DB lookup, some calculation, or whatever\r\n            // and decide what to return at run-time when the annotation is processed.\r\n            // Beware: if this method bombs, you&#39;re going to get nasty exceptions that will\r\n            // kill any threads that try to load any code with annotations that reference this.\r\n            @Override public String[] getReservedWords() { return RESERVED_NAMES; }\r\n        }\r\n\r\n        @Pattern(regexp = &quot;[A-Za-z0-9]{3,}&quot;, message = &quot;error.hostname.invalid&quot;)\r\n        @NotReservedWord(reserved=ReservedHostnames.class, message=&quot;error.hostname.reserved&quot;)\r\n        @Getter @Setter private String hostname;\r\n    }\r\n\r\n    // NotReservedWord.java -- the annotation class\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n\r\n    import static java.lang.annotation.ElementType.ANNOTATION_TYPE;\r\n    import static java.lang.annotation.ElementType.FIELD;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\n    @Target({FIELD, ANNOTATION_TYPE})\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy=ReservedWordValidator.class)\r\n    @Documented\r\n    public @interface NotReservedWord {\r\n\r\n        Class&lt;? extends ReservedWords&gt; reserved ();\r\n\r\n        Class&lt;?&gt;[] groups() default {};\r\n\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n        String message() default &quot;{err.reservedWord}&quot;;\r\n\r\n    }\r\n\r\n    // ReservedWords.java -- the interface referenced in the annotation class\r\n    public interface ReservedWords {\r\n        public String[] getReservedWords ();\r\n    }\r\n\r\n    // ReservedWordValidator.java -- implements the validation logic\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n\r\n    public class ReservedWordValidator implements ConstraintValidator&lt;NotReservedWord, Object&gt; {\r\n\r\n        private Class&lt;? extends ReservedWords&gt; reserved;\r\n\r\n        @Override\r\n        public void initialize(NotReservedWord constraintAnnotation) {\r\n            reserved = constraintAnnotation.reserved();\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n            if (value == null) return true;\r\n            final String[] words = getReservedWords();\r\n            for (String word : words) {\r\n                if (value.equals(word)) return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        private Map&lt;Class, String[]&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\n        private String[] getReservedWords() {\r\n            String[] words = cache.get(reserved);\r\n            if (words == null) {\r\n                try {\r\n                    words = reserved.newInstance().getReservedWords();\r\n                } catch (Exception e) {\r\n                    throw new IllegalStateException(&quot;Error instantiating ReservedWords class (&quot;+reserved.getName()+&quot;): &quot;+e, e);\r\n                }\r\n                cache.put(reserved, words);\r\n            }\r\n            return words;\r\n        }\r\n    }\r\n\r\n","title":"How to use an array constant in an annotation","body":"<p>While there is no way to pass an array <strong>directly</strong> as an annotation parameter value, there <strong>is</strong> a way to effectively get similar behavior (depending on how you plan on using your annotations, this may not work for every use case).</p>\n\n<p>Here's an example -- let's say we have a class <code>InternetServer</code> and it has a <code>hostname</code> property. We'd like to use regular Java Validation to ensure that no object has a \"reserved\" hostname. We can (somewhat elaborately) pass an array of reserved hostnames to the annotation that handles hostname validation.</p>\n\n<p>caveat- with Java Validation, it would be more customary to use the \"payload\" to pass in this kind of data. I wanted this example to be a bit more generic so I used a custom interface class.</p>\n\n<pre><code>// InternetServer.java -- an example class that passes an array as an annotation value\nimport lombok.Getter;\nimport lombok.Setter;\nimport javax.validation.constraints.Pattern;\n\npublic class InternetServer {\n\n    // These are reserved names, we don't want anyone naming their InternetServer one of these\n    private static final String[] RESERVED_NAMES = {\n        \"www\", \"wwws\", \"http\", \"https\",\n    };\n\n    public class ReservedHostnames implements ReservedWords {\n        // We return a constant here but could do a DB lookup, some calculation, or whatever\n        // and decide what to return at run-time when the annotation is processed.\n        // Beware: if this method bombs, you're going to get nasty exceptions that will\n        // kill any threads that try to load any code with annotations that reference this.\n        @Override public String[] getReservedWords() { return RESERVED_NAMES; }\n    }\n\n    @Pattern(regexp = \"[A-Za-z0-9]{3,}\", message = \"error.hostname.invalid\")\n    @NotReservedWord(reserved=ReservedHostnames.class, message=\"error.hostname.reserved\")\n    @Getter @Setter private String hostname;\n}\n\n// NotReservedWord.java -- the annotation class\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.ElementType.ANNOTATION_TYPE;\nimport static java.lang.annotation.ElementType.FIELD;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n@Target({FIELD, ANNOTATION_TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy=ReservedWordValidator.class)\n@Documented\npublic @interface NotReservedWord {\n\n    Class&lt;? extends ReservedWords&gt; reserved ();\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    String message() default \"{err.reservedWord}\";\n\n}\n\n// ReservedWords.java -- the interface referenced in the annotation class\npublic interface ReservedWords {\n    public String[] getReservedWords ();\n}\n\n// ReservedWordValidator.java -- implements the validation logic\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\npublic class ReservedWordValidator implements ConstraintValidator&lt;NotReservedWord, Object&gt; {\n\n    private Class&lt;? extends ReservedWords&gt; reserved;\n\n    @Override\n    public void initialize(NotReservedWord constraintAnnotation) {\n        reserved = constraintAnnotation.reserved();\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        if (value == null) return true;\n        final String[] words = getReservedWords();\n        for (String word : words) {\n            if (value.equals(word)) return false;\n        }\n        return true;\n    }\n\n    private Map&lt;Class, String[]&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\n    private String[] getReservedWords() {\n        String[] words = cache.get(reserved);\n        if (words == null) {\n            try {\n                words = reserved.newInstance().getReservedWords();\n            } catch (Exception e) {\n                throw new IllegalStateException(\"Error instantiating ReservedWords class (\"+reserved.getName()+\"): \"+e, e);\n            }\n            cache.put(reserved, words);\n        }\n        return words;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6734518,"reputation":11,"user_id":5189755,"display_name":"Shakeel Kadam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1438693943,"creation_date":1438693943,"answer_id":31810313,"question_id":1387928,"body_markdown":"    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface Handler {\r\n        \r\n        enum MessageType { MESSAGE, OBJECT };\r\n        \r\n        String value() default &quot;&quot;;\r\n        \r\n        MessageType type() default MessageType.MESSAGE;\r\n    \r\n    }\r\n\r\n","title":"How to use an array constant in an annotation","body":"<pre><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Handler {\n\n    enum MessageType { MESSAGE, OBJECT };\n\n    String value() default \"\";\n\n    MessageType type() default MessageType.MESSAGE;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1534003967,"creation_date":1534003967,"answer_id":51801526,"question_id":1387928,"body_markdown":"It is because arrays&#39; elements can be changed at runtime (`Info.AB[0] = &quot;c&quot;;`) while the annotation values are constant after compile time.\r\n\r\nWith that in mind someone will inevitably be confused when they try to change an element of `Info.AB` and expect the annotation&#39;s value to change (it won&#39;t). And if the annotation value were allowed to change at runtime it would differ than the one used at compile time. Imagine the confusion then!\r\n\r\n(Where *confusion* here means that there is a bug that someone *may* find and spend hours debugging.)","title":"How to use an array constant in an annotation","body":"<p>It is because arrays' elements can be changed at runtime (<code>Info.AB[0] = \"c\";</code>) while the annotation values are constant after compile time.</p>\n\n<p>With that in mind someone will inevitably be confused when they try to change an element of <code>Info.AB</code> and expect the annotation's value to change (it won't). And if the annotation value were allowed to change at runtime it would differ than the one used at compile time. Imagine the confusion then!</p>\n\n<p>(Where <em>confusion</em> here means that there is a bug that someone <em>may</em> find and spend hours debugging.)</p>\n"},{"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618659094,"creation_date":1547547637,"answer_id":54196878,"question_id":1387928,"body_markdown":"As already was mentioned in previous posts, annotation vales are compile-time constants and there is no way to use an array value as a parameter.\r\n\r\nI solved this problem a bit differently.\r\n\r\nIf you&#39;re owning the processing logic, take advantage of it.\r\n\r\nFor example, give an additional parameter to your annotation:\r\n\r\n    @Retention(RUNTIME)\r\n    @Target(METHOD)\r\n    @interface SomeAnnotation { \r\n        String[] values();\r\n        boolean defaultInit() default false;\r\n    }\r\n\r\nUse this parameter:\r\n\r\n    @SomeAnnotation(defaultInit = true)\r\n    void willWork();\r\n\r\nAnd this will be a marker to the `AnnotationProcessor`, which can do anything - initialize it with an array, use `String[]`, or use `Enums` like `Enum.values()` and map them to `String[]`.\r\n\r\nHope this will guide someone who has the similar situation in the right direction.\r\n","title":"How to use an array constant in an annotation","body":"<p>As already was mentioned in previous posts, annotation vales are compile-time constants and there is no way to use an array value as a parameter.</p>\n<p>I solved this problem a bit differently.</p>\n<p>If you're owning the processing logic, take advantage of it.</p>\n<p>For example, give an additional parameter to your annotation:</p>\n<pre><code>@Retention(RUNTIME)\n@Target(METHOD)\n@interface SomeAnnotation { \n    String[] values();\n    boolean defaultInit() default false;\n}\n</code></pre>\n<p>Use this parameter:</p>\n<pre><code>@SomeAnnotation(defaultInit = true)\nvoid willWork();\n</code></pre>\n<p>And this will be a marker to the <code>AnnotationProcessor</code>, which can do anything - initialize it with an array, use <code>String[]</code>, or use <code>Enums</code> like <code>Enum.values()</code> and map them to <code>String[]</code>.</p>\n<p>Hope this will guide someone who has the similar situation in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697913836,"creation_date":1697913836,"answer_id":77337346,"question_id":1387928,"body_markdown":"You can use `{}` instead of `new String[0]` for example.\r\n\r\nIt will finally result like that:\r\n```java\r\n@interface SomeAnnotation {\r\n    String[] values() default {};\r\n}\r\n```","title":"How to use an array constant in an annotation","body":"<p>You can use <code>{}</code> instead of <code>new String[0]</code> for example.</p>\n<p>It will finally result like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@interface SomeAnnotation {\n    String[] values() default {};\n}\n</code></pre>\n"}],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48138,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":1414433,"answer_count":7,"score":73,"last_activity_date":1697913836,"creation_date":1252307025,"question_id":1387928,"body_markdown":"I would like to use constants for annotation values.\r\n\r\n    interface Client {\r\n    \r\n    \t@Retention(RUNTIME)\r\n    \t@Target(METHOD)\r\n    \t@interface SomeAnnotation { String[] values(); }\r\n    \r\n    \tinterface Info {\r\n    \t\tString A = &quot;a&quot;;\r\n    \t\tString B = &quot;b&quot;;\r\n    \t\tString[] AB = new String[] { A, B };\r\n    \t}\r\n    \r\n    \t@SomeAnnotation(values = { Info.A, Info.B })\r\n    \tvoid works();\r\n    \r\n    \t@SomeAnnotation(values = Info.AB)\r\n    \tvoid doesNotWork();\r\n    }\r\n\r\nThe constants `Info.A` and `Info.B` can be used in the annotation but not the array `Info.AB` as it has to be an array initializer in this place. Annotation values are restricted to values that could be inlined into the byte code of a class. This is not possible for the array constant as it has to be constructed when `Info` is loaded. Is there a workaround for this problem?","title":"How to use an array constant in an annotation","body":"<p>I would like to use constants for annotation values.</p>\n\n<pre><code>interface Client {\n\n    @Retention(RUNTIME)\n    @Target(METHOD)\n    @interface SomeAnnotation { String[] values(); }\n\n    interface Info {\n        String A = \"a\";\n        String B = \"b\";\n        String[] AB = new String[] { A, B };\n    }\n\n    @SomeAnnotation(values = { Info.A, Info.B })\n    void works();\n\n    @SomeAnnotation(values = Info.AB)\n    void doesNotWork();\n}\n</code></pre>\n\n<p>The constants <code>Info.A</code> and <code>Info.B</code> can be used in the annotation but not the array <code>Info.AB</code> as it has to be an array initializer in this place. Annotation values are restricted to values that could be inlined into the byte code of a class. This is not possible for the array constant as it has to be constructed when <code>Info</code> is loaded. Is there a workaround for this problem?</p>\n"},{"tags":["java","sql","triggers","h2","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1513405364,"creation_date":1430658985,"answer_id":30014261,"question_id":29993308,"body_markdown":"Declare this trigger:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TRIGGER my_trigger\r\n    BEFORE UPDATE\r\n    ON my_table\r\n    FOR EACH ROW\r\n    CALL &quot;com.example.MyTrigger&quot;\r\n\r\n### Implementing the trigger with Java/JDBC:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MyTrigger implements Trigger {\r\n    \r\n        @Override\r\n        public void init(Connection conn, String schemaName, \r\n                         String triggerName, String tableName, boolean before, int type)\r\n        throws SQLException {}\r\n    \r\n        @Override\r\n        public void fire(Connection conn, Object[] oldRow, Object[] newRow)\r\n        throws SQLException {\r\n            try (PreparedStatement stmt = conn.prepareStatement(\r\n                &quot;INSERT INTO log (field1, field2, ...) &quot; +\r\n                &quot;VALUES (?, ?, ...)&quot;)\r\n            ) {\r\n                stmt.setObject(1, newRow[0]);\r\n                stmt.setObject(2, newRow[1]);\r\n                ...\r\n\r\n                stmt.executeUpdate();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void close() throws SQLException {}\r\n    \r\n        @Override\r\n        public void remove() throws SQLException {}\r\n    }\r\n\r\n### Implementing the trigger with jOOQ:\r\n\r\nSince you added the jOOQ tag to the question, I suspect this alternative might be relevant, too. You can of course use jOOQ inside of an H2 trigger:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        @Override\r\n        public void fire(Connection conn, Object[] oldRow, Object[] newRow)\r\n        throws SQLException {\r\n            DSL.using(conn)\r\n               .insertInto(LOG, LOG.FIELD1, LOG.FIELD2, ...)\r\n               .values(LOG.FIELD1.getDataType().convert(newRow[0]), \r\n                       LOG.FIELD2.getDataType().convert(newRow[1]), ...)\r\n               .execute();\r\n        }","title":"H2 - How to create a database trigger that log a row change to another table?","body":"<p>Declare this trigger:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TRIGGER my_trigger\nBEFORE UPDATE\nON my_table\nFOR EACH ROW\nCALL \"com.example.MyTrigger\"\n</code></pre>\n\n<h3>Implementing the trigger with Java/JDBC:</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTrigger implements Trigger {\n\n    @Override\n    public void init(Connection conn, String schemaName, \n                     String triggerName, String tableName, boolean before, int type)\n    throws SQLException {}\n\n    @Override\n    public void fire(Connection conn, Object[] oldRow, Object[] newRow)\n    throws SQLException {\n        try (PreparedStatement stmt = conn.prepareStatement(\n            \"INSERT INTO log (field1, field2, ...) \" +\n            \"VALUES (?, ?, ...)\")\n        ) {\n            stmt.setObject(1, newRow[0]);\n            stmt.setObject(2, newRow[1]);\n            ...\n\n            stmt.executeUpdate();\n        }\n    }\n\n    @Override\n    public void close() throws SQLException {}\n\n    @Override\n    public void remove() throws SQLException {}\n}\n</code></pre>\n\n<h3>Implementing the trigger with jOOQ:</h3>\n\n<p>Since you added the jOOQ tag to the question, I suspect this alternative might be relevant, too. You can of course use jOOQ inside of an H2 trigger:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void fire(Connection conn, Object[] oldRow, Object[] newRow)\n    throws SQLException {\n        DSL.using(conn)\n           .insertInto(LOG, LOG.FIELD1, LOG.FIELD2, ...)\n           .values(LOG.FIELD1.getDataType().convert(newRow[0]), \n                   LOG.FIELD2.getDataType().convert(newRow[1]), ...)\n           .execute();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1697913258,"creation_date":1595424430,"answer_id":63035300,"question_id":29993308,"body_markdown":"Shorter version of Lukas Eder&#39;s answer:\r\n\r\n```sql\r\nCREATE TRIGGER my_trigger\r\nBEFORE UPDATE\r\nON my_table\r\nFOR EACH ROW\r\nCALL &quot;com.example.MyTrigger&quot;\r\n```\r\n\r\n```java \r\npublic class MyTrigger extends TriggerAdapter {\r\n\r\n    @Override\r\n    public void fire(Connection conn, ResultSet oldRow, ResultSet newRow) throws SQLException {\r\n        // mannipulate the rows here by using the methods on the oldRow and newRow objects\r\n    }\r\n}\r\n```","title":"H2 - How to create a database trigger that log a row change to another table?","body":"<p>Shorter version of Lukas Eder's answer:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TRIGGER my_trigger\nBEFORE UPDATE\nON my_table\nFOR EACH ROW\nCALL &quot;com.example.MyTrigger&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTrigger extends TriggerAdapter {\n\n    @Override\n    public void fire(Connection conn, ResultSet oldRow, ResultSet newRow) throws SQLException {\n        // mannipulate the rows here by using the methods on the oldRow and newRow objects\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":367482,"reputation":2798,"user_id":713711,"accept_rate":31,"display_name":"Pinch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22593,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":30014261,"answer_count":2,"score":15,"last_activity_date":1697913258,"creation_date":1430506797,"question_id":29993308,"body_markdown":"How to create a database trigger that log a row change to another table in H2?\r\n\r\nIn MySQL, this can be done easily:\r\n\r\n    CREATE TRIGGER `trigger` BEFORE UPDATE ON `table`\r\n      FOR EACH ROW BEGIN\r\n        INSERT INTO `log`\r\n        (\r\n          `field1`\r\n          `field2`,\r\n          ...\r\n        )\r\n        VALUES\r\n        (\r\n          NEW.`field1`,\r\n          NEW.`field2`,\r\n          ...\r\n        ) ;\r\n        END;","title":"H2 - How to create a database trigger that log a row change to another table?","body":"<p>How to create a database trigger that log a row change to another table in H2?</p>\n\n<p>In MySQL, this can be done easily:</p>\n\n<pre><code>CREATE TRIGGER `trigger` BEFORE UPDATE ON `table`\n  FOR EACH ROW BEGIN\n    INSERT INTO `log`\n    (\n      `field1`\n      `field2`,\n      ...\n    )\n    VALUES\n    (\n      NEW.`field1`,\n      NEW.`field2`,\n      ...\n    ) ;\n    END;\n</code></pre>\n"},{"tags":["java","windows","batch-file","cmd"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1442972272,"post_id":32729631,"comment_id":53301298,"body_markdown":"Use [Schtasks](https://technet.microsoft.com/en-us/library/cc725744.aspx).","body":"Use <a href=\"https://technet.microsoft.com/en-us/library/cc725744.aspx\" rel=\"nofollow noreferrer\">Schtasks</a>."}],"answers":[{"tags":[],"owner":{"account_id":6690547,"reputation":96,"user_id":5160171,"display_name":"hammockdude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443001288,"creation_date":1443001288,"answer_id":32736082,"question_id":32729631,"body_markdown":"assuming your server-run.bat file looks something like this:\r\n\r\n    @echo off\r\n    :startserver\r\n    java -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\r\n    :running\r\n\r\n    pause\r\n    REM or whatever you do normally to stop the server\r\n    :stopserver\r\n    java stop\r\n    REM or whatever the command to stop the server is\r\n    exit\r\n\r\nfor the file to be able to jump to some mark defined by acalling batch file, you should change it to:\r\n\r\n    @echo off\r\n    if &quot;%*&quot; NEQ &quot;&quot; goto %*\r\n    :startserver\r\n    java -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\r\n    :running\r\n\r\n    pause\r\n    REM or whatever you do normally to stop the server\r\n    :stopserver\r\n    java stop\r\n    REM or whatever the command to stop the server is\r\n    exit\r\n\r\nand stop.bat should look aproximately like this:\r\n\r\n    @echo off\r\n    start server-run.bat stopserver\r\n\r\nremem^ber this is just another way of running the server-stop-command directly from stop.bat. if that wouldn&#39;t work (beacause it needs an environnement variable or something) this approach will also fail!\r\n\r\n(this is beacause you can&#39;t directly interfere with a running batch file or its variables, you can only run a copy of it at the same time)\r\n\r\nif you wnat to interfere with a running batch file, the easiest way would be to check periodically if a file exists:\r\n\r\n    @echo off\r\n    :startserver\r\n    if exists stopfile.txt del stopfile.txt\r\n    java -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\r\n    :running\r\n\r\n    if exists stopfile.txt goto stopserver\r\n    timeout /T 2\r\n    goto running \r\n\r\n\r\n    :stopserver\r\n    del stopfile.txt\r\n    java stop\r\n    REM or whatever the commabd to stop the server is\r\n    goto :EOF\r\n    exit\r\n\r\nand stop.bat just does this:\r\n\r\n    @echo off\r\n    echo.something &gt;stopfile.txt\r\n    exit\r\n\r\nthis will cause the server-running.bat to\r\n\r\n-run the server\r\n\r\n-check every 2 seconds if stopfile.txt apperared\r\n\r\n-if it did, stop the server\r\n\r\n\r\n(remember to change the dummy lines with the java code,\r\ni have no idea if they are right)\r\n\r\nhope this helped in the end","title":"How do I run a .bat file for commands to execute in a second .bat file running a .jar?","body":"<p>assuming your server-run.bat file looks something like this:</p>\n\n<pre><code>@echo off\n:startserver\njava -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\n:running\n\npause\nREM or whatever you do normally to stop the server\n:stopserver\njava stop\nREM or whatever the command to stop the server is\nexit\n</code></pre>\n\n<p>for the file to be able to jump to some mark defined by acalling batch file, you should change it to:</p>\n\n<pre><code>@echo off\nif \"%*\" NEQ \"\" goto %*\n:startserver\njava -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\n:running\n\npause\nREM or whatever you do normally to stop the server\n:stopserver\njava stop\nREM or whatever the command to stop the server is\nexit\n</code></pre>\n\n<p>and stop.bat should look aproximately like this:</p>\n\n<pre><code>@echo off\nstart server-run.bat stopserver\n</code></pre>\n\n<p>remem^ber this is just another way of running the server-stop-command directly from stop.bat. if that wouldn't work (beacause it needs an environnement variable or something) this approach will also fail!</p>\n\n<p>(this is beacause you can't directly interfere with a running batch file or its variables, you can only run a copy of it at the same time)</p>\n\n<p>if you wnat to interfere with a running batch file, the easiest way would be to check periodically if a file exists:</p>\n\n<pre><code>@echo off\n:startserver\nif exists stopfile.txt del stopfile.txt\njava -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\n:running\n\nif exists stopfile.txt goto stopserver\ntimeout /T 2\ngoto running \n\n\n:stopserver\ndel stopfile.txt\njava stop\nREM or whatever the commabd to stop the server is\ngoto :EOF\nexit\n</code></pre>\n\n<p>and stop.bat just does this:</p>\n\n<pre><code>@echo off\necho.something &gt;stopfile.txt\nexit\n</code></pre>\n\n<p>this will cause the server-running.bat to</p>\n\n<p>-run the server</p>\n\n<p>-check every 2 seconds if stopfile.txt apperared</p>\n\n<p>-if it did, stop the server</p>\n\n<p>(remember to change the dummy lines with the java code,\ni have no idea if they are right)</p>\n\n<p>hope this helped in the end</p>\n"}],"owner":{"account_id":6095222,"reputation":25,"user_id":4756248,"accept_rate":0,"display_name":"Kieran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9344,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697911565,"creation_date":1442971927,"question_id":32729631,"body_markdown":"Hey community I need to know how I can run .bat file to eacute a string of text to a .bat file running a .jar to use the command.\r\n\r\nalso the batch file to run the command in the other batch file will be run from Windows Task Scheduler.\r\n\r\nThis is for a Minecraft server by the way. anyhow below is the code used to run the .jar in the batch file. the command syntax is just **&quot;stop&quot;**.\r\n\r\n----------\r\n**server.bat** code\r\n\r\n    java -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\r\n\r\n\r\n----------\r\nSo in long terms I need to make a batch file called **stop.bat** to be run from Windows **Task Scheduler**. In the **stop.bat** file I need the file to exacute the command in the **server.bat** file so that the server will stop, after that I can just run the **server.bat** to start the server again.\r\n\r\nany thoughts on how this can be done?\r\nbasic lay out how this should all work is below.\r\n\r\nserver-run.bat &gt;&gt;&gt; &quot;Runs&quot; &gt;&gt;&gt; minecraft-server.jar\r\n\r\nTask Scheduler &gt;&gt;&gt; &quot;Runs&quot; &gt;&gt;&gt; stop.bat\r\n\r\nstop.bat &gt;&gt;&gt; &quot;Executes command in&quot; &gt;&gt;&gt; server-run.bat\r\n","title":"How do I run a .bat file for commands to execute in a second .bat file running a .jar?","body":"<p>Hey community I need to know how I can run .bat file to eacute a string of text to a .bat file running a .jar to use the command.</p>\n\n<p>also the batch file to run the command in the other batch file will be run from Windows Task Scheduler.</p>\n\n<p>This is for a Minecraft server by the way. anyhow below is the code used to run the .jar in the batch file. the command syntax is just <strong>\"stop\"</strong>.</p>\n\n<hr>\n\n<p><strong>server.bat</strong> code</p>\n\n<pre><code>java -Xmx1024M -Xms1024M -jar minecraft_server.jar nogui.\n</code></pre>\n\n<hr>\n\n<p>So in long terms I need to make a batch file called <strong>stop.bat</strong> to be run from Windows <strong>Task Scheduler</strong>. In the <strong>stop.bat</strong> file I need the file to exacute the command in the <strong>server.bat</strong> file so that the server will stop, after that I can just run the <strong>server.bat</strong> to start the server again.</p>\n\n<p>any thoughts on how this can be done?\nbasic lay out how this should all work is below.</p>\n\n<p>server-run.bat >>> \"Runs\" >>> minecraft-server.jar</p>\n\n<p>Task Scheduler >>> \"Runs\" >>> stop.bat</p>\n\n<p>stop.bat >>> \"Executes command in\" >>> server-run.bat</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-boot-test"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697987747,"post_id":77337198,"comment_id":136345464,"body_markdown":"Can you show full test class ?","body":"Can you show full test class ?"}],"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697911209,"creation_date":1697911209,"question_id":77337198,"body_markdown":"I have two native queries (select and delete) in my repository and i call these methods in my service class.I want to write a unit test but my two native queries does not work\r\n\r\nEntity class\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity(name = &quot;Products&quot;)\r\n    public class Products {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String code;\r\n        \r\n        @CreatedDate\r\n        private LocalDateTime created;\r\n    \r\n        @Column(nullable = false)\r\n        private ZonedDateTime delivery;\r\n    \r\n     }\r\n\r\n Repository class\r\n \r\n\r\n    @Repository\r\n    public interface ProductRepository extends JpaRepository&lt;Products, Long&gt; {\r\n        \r\n    \r\n        @Query(value = &quot;SELECT count(p) FROM product p WHERE p.id = :id and (p.created BETWEEN :start AND :end) &quot;, nativeQuery = true)\r\n        int countDeliveryProduct(@Param(&quot;id&quot;)Long Id, @Param(&quot;start&quot;)ZonedDateTime start, @Param(&quot;end&quot;)ZonedDateTime end);\r\n        \r\n  \r\n        @Modifying\r\n        @Query(value = &quot;DELETE FROM product p WHERE p.id = :id and (p.created BETWEEN :start AND :end) &quot;, nativeQuery = true)\r\n        int deleteByIdAndDeliveryDate(@Param(&quot;id&quot;)Long Id, @Param(&quot;start&quot;)ZonedDateTime start, @Param(&quot;end&quot;)ZonedDateTime end);\r\n       \r\n    \r\n    }\r\n\r\nmy service class\r\n\r\n    @Service\r\n    public class ProductService {\r\n    \r\n        private ProductRepository prod;\r\n    \r\n        public Long allProducts(long id, ZonedDateTime start, ZonedDateTime end) \r\n        {\r\n          return Long.valueof(prod.countDeliveryProduct(id,start,end));\r\n        }\r\n        \r\n        @Transactional\r\n        public Long deleteProducts(long id, ZonedDateTime start, ZonedDateTime end) \r\n        {\r\n          return Long.valueof(prod.deleteByIdAndDeliveryDate(id,start,end));\r\n        }\r\n    \r\n     }\r\n\r\nMy unit test method\r\n\r\n  \r\n\r\n    @Test\r\n      @Transactional\r\n      void myUnitTest() {\r\n    \r\n        // GIVEN\r\n        var product=new Product(1,&quot;Code1&quot;,LocalDateTime.now(), ZonedDateTime.parse(&quot;2021-12-13T12:30:00.987+02:00&quot;);\r\n        var result = productRepository .save(product);\r\n    \r\n        var allProducts = productRepository.countDeliveryProduct(1,ZonedDateTime.parse(&quot;2021-12-01T12:30:00.987+02:00&quot;),ZonedDateTime.parse(&quot;2099-12-31T12:30:00.987+02:00&quot;));\r\n    \r\n        // WHEN\r\n        var numberDeletedProduct = productRepository.deleteByIdAndDeliveryDate(1,ZonedDateTime.parse(&quot;2021-12-01T12:30:00.987+02:00&quot;),ZonedDateTime.parse(&quot;2099-12-31T12:30:00.987+02:00&quot;));\r\n    \r\n        // THEN\r\n        Assertions.assertEquals(numberDeletedProduct, 1);\r\n      }\r\n\r\nWhen i run my unit test, allProducts equals 0 instead of 1 and numberDeletedProduct equals 0 instead of 1 and my test failed.\r\n\r\nHow can i fix that ? I doesn&#39;t see the problem because LocalDateTime.now is between ZonedDateTime.parse(&quot;2021-12-01T12:30:00.987+02:00&quot;) and ZonedDateTime.parse(&quot;2099-12-31T12:30:00.987+02:00&quot;). The problem is in the conversion date . My zonedDateTime is Europe/fr\r\n","title":"Unit test with native query using @Modifying doesn&#39;t work in spring boot","body":"<p>I have two native queries (select and delete) in my repository and i call these methods in my service class.I want to write a unit test but my two native queries does not work</p>\n<p>Entity class</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity(name = &quot;Products&quot;)\npublic class Products {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(nullable = false)\n    private String code;\n    \n    @CreatedDate\n    private LocalDateTime created;\n\n    @Column(nullable = false)\n    private ZonedDateTime delivery;\n\n }\n</code></pre>\n<p>Repository class</p>\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Products, Long&gt; {\n    \n\n    @Query(value = &quot;SELECT count(p) FROM product p WHERE p.id = :id and (p.created BETWEEN :start AND :end) &quot;, nativeQuery = true)\n    int countDeliveryProduct(@Param(&quot;id&quot;)Long Id, @Param(&quot;start&quot;)ZonedDateTime start, @Param(&quot;end&quot;)ZonedDateTime end);\n    \n\n    @Modifying\n    @Query(value = &quot;DELETE FROM product p WHERE p.id = :id and (p.created BETWEEN :start AND :end) &quot;, nativeQuery = true)\n    int deleteByIdAndDeliveryDate(@Param(&quot;id&quot;)Long Id, @Param(&quot;start&quot;)ZonedDateTime start, @Param(&quot;end&quot;)ZonedDateTime end);\n   \n\n}\n</code></pre>\n<p>my service class</p>\n<pre><code>@Service\npublic class ProductService {\n\n    private ProductRepository prod;\n\n    public Long allProducts(long id, ZonedDateTime start, ZonedDateTime end) \n    {\n      return Long.valueof(prod.countDeliveryProduct(id,start,end));\n    }\n    \n    @Transactional\n    public Long deleteProducts(long id, ZonedDateTime start, ZonedDateTime end) \n    {\n      return Long.valueof(prod.deleteByIdAndDeliveryDate(id,start,end));\n    }\n\n }\n</code></pre>\n<p>My unit test method</p>\n<pre><code>@Test\n  @Transactional\n  void myUnitTest() {\n\n    // GIVEN\n    var product=new Product(1,&quot;Code1&quot;,LocalDateTime.now(), ZonedDateTime.parse(&quot;2021-12-13T12:30:00.987+02:00&quot;);\n    var result = productRepository .save(product);\n\n    var allProducts = productRepository.countDeliveryProduct(1,ZonedDateTime.parse(&quot;2021-12-01T12:30:00.987+02:00&quot;),ZonedDateTime.parse(&quot;2099-12-31T12:30:00.987+02:00&quot;));\n\n    // WHEN\n    var numberDeletedProduct = productRepository.deleteByIdAndDeliveryDate(1,ZonedDateTime.parse(&quot;2021-12-01T12:30:00.987+02:00&quot;),ZonedDateTime.parse(&quot;2099-12-31T12:30:00.987+02:00&quot;));\n\n    // THEN\n    Assertions.assertEquals(numberDeletedProduct, 1);\n  }\n</code></pre>\n<p>When i run my unit test, allProducts equals 0 instead of 1 and numberDeletedProduct equals 0 instead of 1 and my test failed.</p>\n<p>How can i fix that ? I doesn't see the problem because LocalDateTime.now is between ZonedDateTime.parse(&quot;2021-12-01T12:30:00.987+02:00&quot;) and ZonedDateTime.parse(&quot;2099-12-31T12:30:00.987+02:00&quot;). The problem is in the conversion date . My zonedDateTime is Europe/fr</p>\n"},{"tags":["java","swing","jframe","key-bindings"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1697910751,"post_id":77337114,"comment_id":136339926,"body_markdown":"You should add the key bindings to the root pane of the frame. See: https://stackoverflow.com/a/8359296/131872 for a basic example.","body":"You should add the key bindings to the root pane of the frame. See: <a href=\"https://stackoverflow.com/a/8359296/131872\">stackoverflow.com/a/8359296/131872</a> for a basic example."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697921093,"post_id":77337114,"comment_id":136340840,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29723109,"reputation":1,"user_id":22779881,"display_name":"FireGoose&#39;s Empire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697910762,"creation_date":1697909742,"question_id":77337114,"body_markdown":"I&#39;ve wanted to add a functionality to my program, if you press a specific key,the window will go fullscreen VIA KEYBINDINGS. And I tried `this.getInputMap()` and `this.getActionKey()`, but the JFrame does not have these methods.\r\n\r\n\r\nIs there any way to use these methods within a JFrame, or are there any other methods, that are doing the same thing? Or should I use Key Listeners?","title":"Can I get the input and action map of a JFrame?","body":"<p>I've wanted to add a functionality to my program, if you press a specific key,the window will go fullscreen VIA KEYBINDINGS. And I tried <code>this.getInputMap()</code> and <code>this.getActionKey()</code>, but the JFrame does not have these methods.</p>\n<p>Is there any way to use these methods within a JFrame, or are there any other methods, that are doing the same thing? Or should I use Key Listeners?</p>\n"},{"tags":["java","apache-kafka","deserialization","avro"],"answers":[{"tags":[],"owner":{"account_id":29706955,"reputation":1,"user_id":22767574,"display_name":"Samaxdor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697908484,"creation_date":1697908484,"answer_id":77337038,"question_id":77179780,"body_markdown":"I&#39;m fairly sure the avro libs dont resort to GenericRecord as a fallback when deserializing to SpecificRecord doesn&#39;t work but rather throw an Exception that it couldn&#39;t find the class you are trying to deserialize to. So there must be something wrong with your clazz-class or your deserializer config. ","title":"How to override avro namespace and name to deserialize to a specific class in KafkaAvroDeserializer","body":"<p>I'm fairly sure the avro libs dont resort to GenericRecord as a fallback when deserializing to SpecificRecord doesn't work but rather throw an Exception that it couldn't find the class you are trying to deserialize to. So there must be something wrong with your clazz-class or your deserializer config.</p>\n"}],"owner":{"account_id":20053761,"reputation":11,"user_id":14701902,"display_name":"campbellc.dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697908484,"creation_date":1695729254,"question_id":77179780,"body_markdown":"I am trying to deserialize records in Kafka that are serialized using Avro. Unfortunately, the producer (who is not me, and has been producing for other consumers for a long time) has set a schema with a name &quot;record&quot;. When I use avro-tool to generate a class from this schema, I get a class named &#39;record$&#39;, presumably because avro tool is trying to avoid a clash with the java keyword record(?). \r\n\r\nThe KafkaAvroDeserializer is now unable to deserialize these records to a SpecificRecord. At first, because it could not find the class to deserialize to. I am instead now passing this class in my config:\r\n```\r\n      SchemaRegistryClient schemaRegistryClient = new CachedSchemaRegistryClient(schemaRegistryUrl, 100);\r\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    config.put(SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n      config.put(SPECIFIC_AVRO_READER_CONFIG, true);\r\n      config.put(AVRO_REFLECTION_ALLOW_NULL_CONFIG, true);\r\n      config.put(AVRO_USE_LOGICAL_TYPE_CONVERTERS_CONFIG, true);\r\n\r\n    if (isKey) {\r\n      config.put(SPECIFIC_AVRO_KEY_TYPE_CONFIG, clazz.getName());\r\n    } else {\r\n      config.put(SPECIFIC_AVRO_VALUE_TYPE_CONFIG, clazz.getName());\r\n    }\r\n      deserializer = new KafkaAvroDeserializer(schemaRegistryClient, config, isKey);\r\n```\r\n\r\nHowever, when running:\r\n```\r\n  public T deserialize(byte[] array) throws IOException {\r\n      Object bla = deserializer.deserialize(topic, array);\r\n    return clazz.cast(bla);\r\n  }\r\n```\r\nI now get \r\n```java.lang.ClassCastException: Cannot cast org.apache.avro.generic.GenericData$Record to COMPANY_NAMESPACE.record$```\r\n\r\nThere must be a way to handle producers setting whatever valid namespace and name they choose for their schemas, but I cannot figure out how to deserialize to a SpecificRecord in a case where they&#39;ve chosen something like this.\r\n\r\nFor now, I am planning to fall back to using GenericRecord. \r\n\r\nI am using confluent libraries with version 7.4.1. \r\n\r\nI have stepped through the debugger but cannot find the moment at which the libs fall back to GenericRecord instead of the type I have told it to use. ","title":"How to override avro namespace and name to deserialize to a specific class in KafkaAvroDeserializer","body":"<p>I am trying to deserialize records in Kafka that are serialized using Avro. Unfortunately, the producer (who is not me, and has been producing for other consumers for a long time) has set a schema with a name &quot;record&quot;. When I use avro-tool to generate a class from this schema, I get a class named 'record$', presumably because avro tool is trying to avoid a clash with the java keyword record(?).</p>\n<p>The KafkaAvroDeserializer is now unable to deserialize these records to a SpecificRecord. At first, because it could not find the class to deserialize to. I am instead now passing this class in my config:</p>\n<pre><code>      SchemaRegistryClient schemaRegistryClient = new CachedSchemaRegistryClient(schemaRegistryUrl, 100);\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n    config.put(SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n      config.put(SPECIFIC_AVRO_READER_CONFIG, true);\n      config.put(AVRO_REFLECTION_ALLOW_NULL_CONFIG, true);\n      config.put(AVRO_USE_LOGICAL_TYPE_CONVERTERS_CONFIG, true);\n\n    if (isKey) {\n      config.put(SPECIFIC_AVRO_KEY_TYPE_CONFIG, clazz.getName());\n    } else {\n      config.put(SPECIFIC_AVRO_VALUE_TYPE_CONFIG, clazz.getName());\n    }\n      deserializer = new KafkaAvroDeserializer(schemaRegistryClient, config, isKey);\n</code></pre>\n<p>However, when running:</p>\n<pre><code>  public T deserialize(byte[] array) throws IOException {\n      Object bla = deserializer.deserialize(topic, array);\n    return clazz.cast(bla);\n  }\n</code></pre>\n<p>I now get\n<code>java.lang.ClassCastException: Cannot cast org.apache.avro.generic.GenericData$Record to COMPANY_NAMESPACE.record$</code></p>\n<p>There must be a way to handle producers setting whatever valid namespace and name they choose for their schemas, but I cannot figure out how to deserialize to a SpecificRecord in a case where they've chosen something like this.</p>\n<p>For now, I am planning to fall back to using GenericRecord.</p>\n<p>I am using confluent libraries with version 7.4.1.</p>\n<p>I have stepped through the debugger but cannot find the moment at which the libs fall back to GenericRecord instead of the type I have told it to use.</p>\n"},{"tags":["java","arrays","for-loop"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697908080,"creation_date":1697906274,"answer_id":77336916,"question_id":77336824,"body_markdown":"Divide `n` with 59, round it down and assign it to `a`:\r\n\r\n```\r\na = (n / 59);\r\n```","title":"Initialization, conditions, and afterthought of for-looping to add variable value each time the arraylist size reach certain value","body":"<p>Divide <code>n</code> with 59, round it down and assign it to <code>a</code>:</p>\n<pre><code>a = (n / 59);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29549062,"reputation":47,"user_id":22646153,"display_name":"Abisay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697907213,"creation_date":1697907213,"answer_id":77336969,"question_id":77336824,"body_markdown":"Is it right if I make it like this?\r\n\r\n    int a = 0;\r\n    ArrayList&lt;String&gt; arrayLog = new ArrayList&lt;&gt;();\r\n    \r\n    androidx.appcompat.widget.AppCompatButton log = findViewById(R.id.log);\r\n    log.setOnClickListener(view -&gt; {\r\n        arrayLog.add(&quot;Clicked&quot;);\r\n\r\n    }\r\n    \r\n    int n = arrayLog.size();\r\n    \r\n    if(n % 59 == 0){\r\n        a++;\r\n    }\r\n\r\nIf this right, then it means it doesn&#39;t have to use for-loop.","title":"Initialization, conditions, and afterthought of for-looping to add variable value each time the arraylist size reach certain value","body":"<p>Is it right if I make it like this?</p>\n<pre><code>int a = 0;\nArrayList&lt;String&gt; arrayLog = new ArrayList&lt;&gt;();\n\nandroidx.appcompat.widget.AppCompatButton log = findViewById(R.id.log);\nlog.setOnClickListener(view -&gt; {\n    arrayLog.add(&quot;Clicked&quot;);\n\n}\n\nint n = arrayLog.size();\n\nif(n % 59 == 0){\n    a++;\n}\n</code></pre>\n<p>If this right, then it means it doesn't have to use for-loop.</p>\n"}],"owner":{"account_id":29549062,"reputation":47,"user_id":22646153,"display_name":"Abisay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77336916,"answer_count":2,"score":1,"last_activity_date":1697908080,"creation_date":1697904726,"question_id":77336824,"body_markdown":"I want to make a program that consist of 1 arraylist and 1 variable. So, every time the arraylist&#39;s size 59, 118, 177,..... (added by 59), will add the variable by 1.\r\n\r\n```\r\nint a = 0;\r\nArrayList&lt;String&gt; arrayLog = new ArrayList&lt;&gt;();\r\n\r\nandroidx.appcompat.widget.AppCompatButton log = findViewById(R.id.log);\r\nlog.setOnClickListener(view -&gt; {\r\n    arrayLog.add(&quot;Clicked&quot;);\r\n}\r\n\r\nint n = arrayLog.size();\r\n```\r\n\r\nI don&#39;t know what I should write for the next part but it should be like this:\r\n\r\nIf n = 59, a = 1\r\n\r\nIf n = 59+59 = 118, a = 2\r\n\r\nIf n = 59+59+59 = 177, a = 3\r\n\r\nI&#39;m thinking about using for loop, but I don&#39;t know what I should write for the initialization, condition and afterthought.","title":"Initialization, conditions, and afterthought of for-looping to add variable value each time the arraylist size reach certain value","body":"<p>I want to make a program that consist of 1 arraylist and 1 variable. So, every time the arraylist's size 59, 118, 177,..... (added by 59), will add the variable by 1.</p>\n<pre><code>int a = 0;\nArrayList&lt;String&gt; arrayLog = new ArrayList&lt;&gt;();\n\nandroidx.appcompat.widget.AppCompatButton log = findViewById(R.id.log);\nlog.setOnClickListener(view -&gt; {\n    arrayLog.add(&quot;Clicked&quot;);\n}\n\nint n = arrayLog.size();\n</code></pre>\n<p>I don't know what I should write for the next part but it should be like this:</p>\n<p>If n = 59, a = 1</p>\n<p>If n = 59+59 = 118, a = 2</p>\n<p>If n = 59+59+59 = 177, a = 3</p>\n<p>I'm thinking about using for loop, but I don't know what I should write for the initialization, condition and afterthought.</p>\n"},{"tags":["java","spring","junit","mockito","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697779947,"creation_date":1697779947,"answer_id":77328518,"question_id":75008497,"body_markdown":"This is janky as all get out, but this seems to work\r\n\r\n```\r\n        ClassicHttpResponse classicResponse = Mockito.mock(ClassicHttpResponse.class);\r\n        Mockito.when(classicResponse.getCode()).thenReturn(200);\r\n        Method m = CloseableHttpResponse.class.getDeclaredMethod(&quot;adapt&quot;, ClassicHttpResponse.class);\r\n        m.setAccessible(true);\r\n        CloseableHttpResponse response = (CloseableHttpResponse) m.invoke(null, classicResponse);\r\n```","title":"How to mock the CloaseableHttpResponse from apache http client 5.x?","body":"<p>This is janky as all get out, but this seems to work</p>\n<pre><code>        ClassicHttpResponse classicResponse = Mockito.mock(ClassicHttpResponse.class);\n        Mockito.when(classicResponse.getCode()).thenReturn(200);\n        Method m = CloseableHttpResponse.class.getDeclaredMethod(&quot;adapt&quot;, ClassicHttpResponse.class);\n        m.setAccessible(true);\n        CloseableHttpResponse response = (CloseableHttpResponse) m.invoke(null, classicResponse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697906208,"creation_date":1697906208,"answer_id":77336912,"question_id":75008497,"body_markdown":"One should never need to mock `CloseableHttpResponse`. It is provided for compatibility with HC 4.x and ought not be used by any new code. \r\n\r\nOne should be using methods of `HttpClient` interface that take a lamdba expression or `#executeOpen` method that returns `ClassicHttpResponse` interface.","title":"How to mock the CloaseableHttpResponse from apache http client 5.x?","body":"<p>One should never need to mock <code>CloseableHttpResponse</code>. It is provided for compatibility with HC 4.x and ought not be used by any new code.</p>\n<p>One should be using methods of <code>HttpClient</code> interface that take a lamdba expression or <code>#executeOpen</code> method that returns <code>ClassicHttpResponse</code> interface.</p>\n"}],"owner":{"account_id":4497740,"reputation":895,"user_id":3657148,"accept_rate":84,"display_name":"dinhokz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697906208,"creation_date":1672850138,"question_id":75008497,"body_markdown":"I&#39;m using apache http client version 5.x, and I&#39;m struglling to implement mocked unit tests for the `CloseableHttpResponse execute(ClassicHttpRequest request)` method from `CloseableHttpClient` class, since the response type is final and there is no public way to instantiate it.\r\n\r\nThe following [question][1] provided some ways to do it, but the discussion seems to be around the older versions of the apache http client, and although I was able to enable mockito to mock final types, it seems to be risky, as documentation itself warns that this is a [completely different mocking mechanism that requires more feedback from the community][2].\r\n\r\nIs there an easier/proper way to achieve this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19846526/how-can-i-create-a-closeablehttpresponse-object-to-help-testing\r\n  [2]: https://javadoc.io/static/org.mockito/mockito-core/4.11.0/org/mockito/Mockito.html#39","title":"How to mock the CloaseableHttpResponse from apache http client 5.x?","body":"<p>I'm using apache http client version 5.x, and I'm struglling to implement mocked unit tests for the <code>CloseableHttpResponse execute(ClassicHttpRequest request)</code> method from <code>CloseableHttpClient</code> class, since the response type is final and there is no public way to instantiate it.</p>\n<p>The following <a href=\"https://stackoverflow.com/questions/19846526/how-can-i-create-a-closeablehttpresponse-object-to-help-testing\">question</a> provided some ways to do it, but the discussion seems to be around the older versions of the apache http client, and although I was able to enable mockito to mock final types, it seems to be risky, as documentation itself warns that this is a <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.11.0/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">completely different mocking mechanism that requires more feedback from the community</a>.</p>\n<p>Is there an easier/proper way to achieve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1697906469,"post_id":77336820,"comment_id":136339503,"body_markdown":"&quot;without creating a method I cant call methods of &#39;bin&#39; class&quot; - without creating a method (or constructor, or instance initializer) you can&#39;t write *any* non-declaration statements. It&#39;s nothing to do with calling a method on an instance of a class - you&#39;d get the same probelm if you wrote `System.out.println(&quot;This won&#39;t compile&quot;);` directly in the `process` class declaration.","body":"&quot;without creating a method I cant call methods of &#39;bin&#39; class&quot; - without creating a method (or constructor, or instance initializer) you can&#39;t write <i>any</i> non-declaration statements. It&#39;s nothing to do with calling a method on an instance of a class - you&#39;d get the same probelm if you wrote <code>System.out.println(&quot;This won&#39;t compile&quot;);</code> directly in the <code>process</code> class declaration."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697904808,"creation_date":1697904808,"answer_id":77336832,"question_id":77336820,"body_markdown":"You can&#39;t put arbitrary code in a class and expect it to execute. `process` contains no methods. Class names should start with a capital letter. The typical entry point of a Java program is `main`. And you don&#39;t appear to have one of those. Finally, your classes *should* be in a package.\r\n\r\n    class Bin {\r\n        public void print() {\r\n            System.out.println(&quot;You typed print.&quot;);\r\n        }\r\n    }\r\n    \r\n    class Process {\r\n        public static void main(String[] args) { // entry-point\r\n            Bin bn = new Bin();\r\n            bn.print();\r\n        }\r\n    }\r\n\r\n","title":"Can&#39;t use methods of other class even after creating an object","body":"<p>You can't put arbitrary code in a class and expect it to execute. <code>process</code> contains no methods. Class names should start with a capital letter. The typical entry point of a Java program is <code>main</code>. And you don't appear to have one of those. Finally, your classes <em>should</em> be in a package.</p>\n<pre><code>class Bin {\n    public void print() {\n        System.out.println(&quot;You typed print.&quot;);\n    }\n}\n\nclass Process {\n    public static void main(String[] args) { // entry-point\n        Bin bn = new Bin();\n        bn.print();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697906054,"creation_date":1697906054,"answer_id":77336904,"question_id":77336820,"body_markdown":"You missed adding a method:\r\n\r\n```\r\nclass process{\r\n    public void print() {\r\n        bin bn = new bin();\r\n        bn.print();\r\n    }\r\n}\r\n```\r\n\r\nYour code needs to be inside a method, except for data member declarations. As your code was, your second class had some code to be processed without being inside a method.","title":"Can&#39;t use methods of other class even after creating an object","body":"<p>You missed adding a method:</p>\n<pre><code>class process{\n    public void print() {\n        bin bn = new bin();\n        bn.print();\n    }\n}\n</code></pre>\n<p>Your code needs to be inside a method, except for data member declarations. As your code was, your second class had some code to be processed without being inside a method.</p>\n"}],"owner":{"account_id":29723560,"reputation":29,"user_id":22780214,"display_name":"maulik"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1697910147,"answer_count":2,"score":-3,"last_activity_date":1697906054,"creation_date":1697904657,"question_id":77336820,"body_markdown":"There is also a public class with main method, but these class just wont let me call each others methods, variables into each other, same goes with using statements like switch/case. All requires to be inside method.\r\n\r\n```\r\n\r\nclass bin{\r\n    public void print(){\r\n        System.out.println(&quot;You typed print.&quot;);\r\n    }\r\n}\r\n\r\nclass process{\r\n    bin bn = new bin();\r\n    bn.print();\r\n    \r\n\r\n}\r\n```\r\n\r\nIt might work when I extend class but why it isn&#39;t working this way?\r\n\r\n\r\nThey work fine when I call it(method) inside a method of class &#39;process&#39;, but without creating a method I cant call methods of &#39;bin&#39; class.","title":"Can&#39;t use methods of other class even after creating an object","body":"<p>There is also a public class with main method, but these class just wont let me call each others methods, variables into each other, same goes with using statements like switch/case. All requires to be inside method.</p>\n<pre><code>\nclass bin{\n    public void print(){\n        System.out.println(&quot;You typed print.&quot;);\n    }\n}\n\nclass process{\n    bin bn = new bin();\n    bn.print();\n    \n\n}\n</code></pre>\n<p>It might work when I extend class but why it isn't working this way?</p>\n<p>They work fine when I call it(method) inside a method of class 'process', but without creating a method I cant call methods of 'bin' class.</p>\n"},{"tags":["java","android","apktool"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698055509,"post_id":77336464,"comment_id":136352213,"body_markdown":"What apktool version do you use? What happens if you just decompile and recompile the app without making any changes?","body":"What apktool version do you use? What happens if you just decompile and recompile the app without making any changes?"}],"owner":{"account_id":17161412,"reputation":93,"user_id":12420972,"display_name":"nitanmarcel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697905788,"creation_date":1697899090,"question_id":77336464,"body_markdown":"I&#39;m trying to mod an launcher application and I&#39;m currently stuck at this error `java.lang.IncompatibleClassChangeError: Found interface com.android.launcher3.util.FlagOp, but class was expected` which I quite don&#39;t understand since by doing a google search for the error it seems that this happens when when your runtime classpath is different than your compile time classpath. But it doesn&#39;t make sense since I&#39;m rebuilding the app with the same code but few modifications using apktool, and I&#39;m not really touching the specified implementation. What could be the issue?\r\n\r\n~~~\r\nat com.android.launcher3.util.FlagOp.c(Unknown Source:0) \t\r\nat com.android.launcher3.util.i.apply(Unknown Source:4) \t\r\nat com.android.launcher3.icons.BitmapInfo.withFlags(Unknown Source:11) \t\r\nat com.android.launcher3.icons.cache.BaseIconCache.getDefaultIcon(Unknown Source:37) \t\r\nat com.android.launcher3.icons.cache.BaseIconCache.isDefaultIcon(Unknown Source:0) \t\r\nat com.android.launcher3.icons.IconCache.loadIconSubsection(Unknown Source:233) \t\r\nat com.android.launcher3.icons.IconCache.lambda$getTitlesAndIconsInBulk$14(Unknown Source:33) \t\r\nat com.android.launcher3.icons.IconCache.h(Unknown Source:0) \t\r\nat h.o.accept(Unknown Source:6) \t\r\nat java.util.HashMap.forEach(HashMap.java:1292) \t\r\nat com.android.launcher3.icons.IconCache.getTitlesAndIconsInBulk(Unknown Source:36) \t\r\nat com.android.launcher3.model.LoaderTask.loadWorkspace(Unknown Source:2966) \t\r\nat com.android.launcher3.model.LoaderTask.loadWorkspace(Unknown Source:7) \t\r\nat com.android.launcher3.model.LoaderTask.run(Unknown Source:123) \t\r\nat android.os.Handler.handleCallback(Handler.java:942) \t\r\nat android.os.Handler.dispatchMessage(Handler.java:99) \t\r\nat android.os.Looper.loopOnce(Looper.java:201) \t\r\nat android.os.Looper.loop(Looper.java:288) \t\r\nat android.os.HandlerThread.run(HandlerThread.java:67) \r\n~~~","title":"java.lang.IncompatibleClassChangeError: Found interface com.android.launcher3.util.FlagOp, but class was expected","body":"<p>I'm trying to mod an launcher application and I'm currently stuck at this error <code>java.lang.IncompatibleClassChangeError: Found interface com.android.launcher3.util.FlagOp, but class was expected</code> which I quite don't understand since by doing a google search for the error it seems that this happens when when your runtime classpath is different than your compile time classpath. But it doesn't make sense since I'm rebuilding the app with the same code but few modifications using apktool, and I'm not really touching the specified implementation. What could be the issue?</p>\n<pre><code>at com.android.launcher3.util.FlagOp.c(Unknown Source:0)    \nat com.android.launcher3.util.i.apply(Unknown Source:4)     \nat com.android.launcher3.icons.BitmapInfo.withFlags(Unknown Source:11)  \nat com.android.launcher3.icons.cache.BaseIconCache.getDefaultIcon(Unknown Source:37)    \nat com.android.launcher3.icons.cache.BaseIconCache.isDefaultIcon(Unknown Source:0)  \nat com.android.launcher3.icons.IconCache.loadIconSubsection(Unknown Source:233)     \nat com.android.launcher3.icons.IconCache.lambda$getTitlesAndIconsInBulk$14(Unknown Source:33)   \nat com.android.launcher3.icons.IconCache.h(Unknown Source:0)    \nat h.o.accept(Unknown Source:6)     \nat java.util.HashMap.forEach(HashMap.java:1292)     \nat com.android.launcher3.icons.IconCache.getTitlesAndIconsInBulk(Unknown Source:36)     \nat com.android.launcher3.model.LoaderTask.loadWorkspace(Unknown Source:2966)    \nat com.android.launcher3.model.LoaderTask.loadWorkspace(Unknown Source:7)   \nat com.android.launcher3.model.LoaderTask.run(Unknown Source:123)   \nat android.os.Handler.handleCallback(Handler.java:942)  \nat android.os.Handler.dispatchMessage(Handler.java:99)  \nat android.os.Looper.loopOnce(Looper.java:201)  \nat android.os.Looper.loop(Looper.java:288)  \nat android.os.HandlerThread.run(HandlerThread.java:67) \n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1430594246,"post_id":6463580,"comment_id":48131281,"body_markdown":"What do you by by &quot;as characters&quot; exactly? Decimal? Hex: http://stackoverflow.com/questions/9655181/convert-from-byte-array-to-hex-string-in-java","body":"What do you by by &quot;as characters&quot; exactly? Decimal? Hex: <a href=\"http://stackoverflow.com/questions/9655181/convert-from-byte-array-to-hex-string-in-java\" title=\"convert from byte array to hex string in java\">stackoverflow.com/questions/9655181/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1308891836,"creation_date":1308891836,"answer_id":6463608,"question_id":6463580,"body_markdown":"Well if you&#39;re happy printing it in decimal, you could just make it positive by masking:\r\n\r\n    int positive = bytes[i] &amp; 0xff;\r\n\r\nIf you&#39;re printing out a hash though, it would be more conventional to use hex. There are plenty of other questions on Stack Overflow addressing converting binary data to a hex string in Java.","title":"How to print the data in byte array as characters?","body":"<p>Well if you're happy printing it in decimal, you could just make it positive by masking:</p>\n\n<pre><code>int positive = bytes[i] &amp; 0xff;\n</code></pre>\n\n<p>If you're printing out a hash though, it would be more conventional to use hex. There are plenty of other questions on Stack Overflow addressing converting binary data to a hex string in Java.</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1308892093,"creation_date":1308892093,"answer_id":6463636,"question_id":6463580,"body_markdown":"\tbyte[] buff = {1, -2, 5, 66};\r\n\tfor(byte c : buff) {\r\n\t\tSystem.out.format(&quot;%d &quot;, c);\r\n\t}\r\n\tSystem.out.println();\r\n\r\ngets you\r\n\r\n    1 -2 5 66 ","title":"How to print the data in byte array as characters?","body":"<pre><code>byte[] buff = {1, -2, 5, 66};\nfor(byte c : buff) {\n    System.out.format(\"%d \", c);\n}\nSystem.out.println();\n</code></pre>\n\n<p>gets you</p>\n\n<pre><code>1 -2 5 66 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":292,"is_accepted":false,"score":291,"last_activity_date":1469173015,"creation_date":1308892267,"answer_id":6463665,"question_id":6463580,"body_markdown":"How about [`Arrays.toString(byteArray)`](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString(byte[]))?\r\n\r\nHere&#39;s some compilable code:\r\n\r\n    byte[] byteArray = new byte[] { -1, -128, 1, 127 };\r\n    System.out.println(Arrays.toString(byteArray));\r\n\r\nOutput:\r\n\r\n    [-1, -128, 1, 127]\r\n\r\nWhy re-invent the wheel...","title":"How to print the data in byte array as characters?","body":"<p>How about <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString(byte[])\" rel=\"noreferrer\"><code>Arrays.toString(byteArray)</code></a>?</p>\n\n<p>Here's some compilable code:</p>\n\n<pre><code>byte[] byteArray = new byte[] { -1, -128, 1, 127 };\nSystem.out.println(Arrays.toString(byteArray));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[-1, -128, 1, 127]\n</code></pre>\n\n<p>Why re-invent the wheel...</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1308894177,"creation_date":1308894177,"answer_id":6463879,"question_id":6463580,"body_markdown":"If you want to print the bytes as chars you can use the String constructor.\r\n\r\n    byte[] bytes = new byte[] { -1, -128, 1, 127 };\r\n    System.out.println(new String(bytes, 0));","title":"How to print the data in byte array as characters?","body":"<p>If you want to print the bytes as chars you can use the String constructor.</p>\n\n<pre><code>byte[] bytes = new byte[] { -1, -128, 1, 127 };\nSystem.out.println(new String(bytes, 0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202941,"reputation":1603,"user_id":1173227,"accept_rate":67,"display_name":"Vinit Prajapati"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1378460523,"creation_date":1378460523,"answer_id":18654711,"question_id":6463580,"body_markdown":"Try this one : `new String(byte[])`","title":"How to print the data in byte array as characters?","body":"<p>Try this one : <code>new String(byte[])</code></p>\n"},{"tags":[],"owner":{"account_id":4321399,"reputation":2415,"user_id":3529488,"accept_rate":50,"display_name":"Robust"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1508053404,"creation_date":1508053404,"answer_id":46752837,"question_id":6463580,"body_markdown":"Try it:\r\n\r\n    public static String print(byte[] bytes) {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;[ &quot;);\r\n        for (byte b : bytes) {\r\n            sb.append(String.format(&quot;0x%02X &quot;, b));\r\n        }\r\n        sb.append(&quot;]&quot;);\r\n        return sb.toString();\r\n    }\r\nExample:\r\n\r\n     public static void main(String []args){\r\n        byte[] bytes = new byte[] { \r\n            (byte) 0x01, (byte) 0xFF, (byte) 0x2E, (byte) 0x6E, (byte) 0x30\r\n        };\r\n\r\n        System.out.println(&quot;bytes = &quot; + print(bytes));\r\n     }\r\nOutput: `bytes = [ 0x01 0xFF 0x2E 0x6E 0x30 ]`","title":"How to print the data in byte array as characters?","body":"<p>Try it:</p>\n\n<pre><code>public static String print(byte[] bytes) {\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"[ \");\n    for (byte b : bytes) {\n        sb.append(String.format(\"0x%02X \", b));\n    }\n    sb.append(\"]\");\n    return sb.toString();\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code> public static void main(String []args){\n    byte[] bytes = new byte[] { \n        (byte) 0x01, (byte) 0xFF, (byte) 0x2E, (byte) 0x6E, (byte) 0x30\n    };\n\n    System.out.println(\"bytes = \" + print(bytes));\n }\n</code></pre>\n\n<p>Output: <code>bytes = [ 0x01 0xFF 0x2E 0x6E 0x30 ]</code></p>\n"},{"tags":[],"owner":{"account_id":4719927,"reputation":915,"user_id":3818147,"display_name":"Alireza Ghanbarinia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640017783,"creation_date":1640017783,"answer_id":70424977,"question_id":6463580,"body_markdown":"in Kotlin you can use :\r\n\r\n`println(byteArray.contentToString())`","title":"How to print the data in byte array as characters?","body":"<p>in Kotlin you can use :</p>\n<p><code>println(byteArray.contentToString())</code></p>\n"},{"tags":[],"owner":{"account_id":1413181,"reputation":603,"user_id":1339385,"display_name":"MJ Walsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697904905,"creation_date":1697904905,"answer_id":77336838,"question_id":6463580,"body_markdown":"If you want to write binary data to the standard output you can use a FileOutputStream object.\r\n\r\n```java\r\nFileOutputStream stdout = new FileOutputStream(FileDescriptor.out);\r\nbyte arr[] = {-16, -97, -104, -118, 10};\r\nstdout.write(arr);\r\n```\r\n\r\nTrying to convert binary data to a string runs the risk of mangling it through unwanted codepage conversion.\r\n\r\nOf course, it&#39;s probably better to avoid sending binary data to the standard output, or if you&#39;re writing ha ash value to print it in hexadecimal.","title":"How to print the data in byte array as characters?","body":"<p>If you want to write binary data to the standard output you can use a FileOutputStream object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileOutputStream stdout = new FileOutputStream(FileDescriptor.out);\nbyte arr[] = {-16, -97, -104, -118, 10};\nstdout.write(arr);\n</code></pre>\n<p>Trying to convert binary data to a string runs the risk of mangling it through unwanted codepage conversion.</p>\n<p>Of course, it's probably better to avoid sending binary data to the standard output, or if you're writing ha ash value to print it in hexadecimal.</p>\n"}],"owner":{"display_name":"user631785"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281435,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":6463608,"answer_count":8,"score":87,"last_activity_date":1697904905,"creation_date":1308891612,"question_id":6463580,"body_markdown":"In my byte array I have the *hash* values of a message which consists of some negative values and also positive values. Positive values are being printed easily by using the `(char)byte[i]` statement.\r\n\r\nNow how can I get the negative value?","title":"How to print the data in byte array as characters?","body":"<p>In my byte array I have the <em>hash</em> values of a message which consists of some negative values and also positive values. Positive values are being printed easily by using the <code>(char)byte[i]</code> statement.</p>\n<p>Now how can I get the negative value?</p>\n"},{"tags":["java","java-native-interface","obfuscation","yguard"],"comments":[{"owner":{"account_id":24015730,"reputation":382,"user_id":17998702,"display_name":"jluims"},"score":0,"creation_date":1697901336,"post_id":77336432,"comment_id":136338971,"body_markdown":"Could you give the exact warning outputted by yGuard?","body":"Could you give the exact warning outputted by yGuard?"},{"owner":{"account_id":1879183,"reputation":496,"user_id":1774707,"display_name":"user42723"},"score":0,"creation_date":1697902345,"post_id":77336432,"comment_id":136339075,"body_markdown":"@jluims I added it to the question","body":"@jluims I added it to the question"}],"answers":[{"tags":[],"owner":{"account_id":1879183,"reputation":496,"user_id":1774707,"display_name":"user42723"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697904604,"creation_date":1697904604,"answer_id":77336816,"question_id":77336432,"body_markdown":"Okay, it&#39;s not as bad as I thought. yGuard does automatically prevent native methods from being renamed. You only have to specify the classes manually. So in my case the configuration becomes:\r\n\r\n```xml\r\n&lt;yguard&gt;\r\n    &lt;inoutpair in=&quot;target/package/protoedit-0.7+.jar&quot; out=&quot;target/package/protoedit-0.7+o.jar&quot; /&gt;\r\n    &lt;rename mainclass=&quot;appgui.MainKt&quot;&gt;\r\n        &lt;keep&gt;\r\n            &lt;class name=&quot;nodemodel.Node&quot; /&gt;\r\n            &lt;class name=&quot;nodemodel.NodeKt&quot; /&gt;\r\n            &lt;class name=&quot;nodemodel.NodeModelGenerated&quot; /&gt;\r\n            &lt;class name=&quot;nodemodel.NodeTreeGenerated&quot; /&gt;\r\n            &lt;class name=&quot;nodemodel.NodeTreeGenerated$ConcreteWrapper&quot; /&gt;\r\n            &lt;class name=&quot;nodemodel.NodetreeKt&quot; /&gt;\r\n            &lt;class name=&quot;nodemodel.QtJambi_LibraryUtilities&quot; /&gt;\r\n        &lt;/keep&gt;\r\n    &lt;/rename&gt;\r\n&lt;/yguard&gt;\r\n```","title":"How can I keep native (JNI) method names when obfuscating with yGuard?","body":"<p>Okay, it's not as bad as I thought. yGuard does automatically prevent native methods from being renamed. You only have to specify the classes manually. So in my case the configuration becomes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;yguard&gt;\n    &lt;inoutpair in=&quot;target/package/protoedit-0.7+.jar&quot; out=&quot;target/package/protoedit-0.7+o.jar&quot; /&gt;\n    &lt;rename mainclass=&quot;appgui.MainKt&quot;&gt;\n        &lt;keep&gt;\n            &lt;class name=&quot;nodemodel.Node&quot; /&gt;\n            &lt;class name=&quot;nodemodel.NodeKt&quot; /&gt;\n            &lt;class name=&quot;nodemodel.NodeModelGenerated&quot; /&gt;\n            &lt;class name=&quot;nodemodel.NodeTreeGenerated&quot; /&gt;\n            &lt;class name=&quot;nodemodel.NodeTreeGenerated$ConcreteWrapper&quot; /&gt;\n            &lt;class name=&quot;nodemodel.NodetreeKt&quot; /&gt;\n            &lt;class name=&quot;nodemodel.QtJambi_LibraryUtilities&quot; /&gt;\n        &lt;/keep&gt;\n    &lt;/rename&gt;\n&lt;/yguard&gt;\n</code></pre>\n"}],"owner":{"account_id":1879183,"reputation":496,"user_id":1774707,"display_name":"user42723"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77336816,"answer_count":1,"score":2,"last_activity_date":1697904604,"creation_date":1697898638,"question_id":77336432,"body_markdown":"I&#39;m trying to obfuscate the jar file of my application using yGuard.\r\n\r\nNative (JNI) methods and the classes that contain them should not be renamed, because then the application does not work anymore.\r\n\r\nHow can I do this without specifying the methods one by one?\r\n\r\nMy configuration is currently like this:\r\n```xml\r\n&lt;yguard&gt;\r\n    &lt;inoutpair in=&quot;target/package/protoedit-0.7+.jar&quot; out=&quot;target/package/protoedit-0.7+o.jar&quot; /&gt;\r\n    &lt;rename mainclass=&quot;appgui.MainKt&quot;&gt;\r\n    &lt;/rename&gt;\r\n&lt;/yguard&gt;\r\n````\r\n\r\nWhen I run the obfuscation, I get warnings about native methods being renamed, but I could not find how to prevent this. Here the relevant part of the Maven output:\r\n\r\n```lang-none\r\n[INFO] --- maven-antrun-plugin:3.1.0:run (obfuscate) @ protoedit ---\r\n[INFO] Executing tasks\r\n[INFO]    [rename] yGuard Obfuscator v4.0.0 - https://www.yworks.com/products/yguard\r\n[INFO] Parsing jar C:\\Users\\Paul\\Documents\\protoedit\\app\\target\\package\\protoedit-0.7+.jar\r\n[WARNING]    [rename] WARNING: Method selectionChanged_native_cref_QItemSelection_cref_QItemSelection is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method canCollapseParents_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method canCollapseChildren_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method collapseOthers_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method expandRecursively_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method delayLayout_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method collapseChildren_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method canExpand_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method initialize_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method collapseChildrenRecursively_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method collapseParents_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method show_native___int64_bool is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method canCollapseOthers_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method collapseOthersRecursively_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method updated_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method expand_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method updated_native is native but nodemodel/NodeTreeGenerated$ConcreteWrapper is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method createCppObject is native but nodemodel/Node is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method initialize_native is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method index_native_int_int_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method replace_native___int64___int64 is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method parent_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method nodeCount_native is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method rowCount_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method hasChildren_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method columnCount_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method data_native_cref_QModelIndex_int_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method setNodeCount_native_int is native but nodemodel/NodeModelGenerated is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method removeChildren is native but nodemodel/NodeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method moveChildren is native but nodemodel/NodeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method getJavaObject is native but nodemodel/NodeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method insertChildren is native but nodemodel/NodeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method deleteCppObject is native but nodemodel/NodeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method internalAccess is native but nodemodel/QtJambi_LibraryUtilities is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method getVisible is native but nodemodel/NodetreeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method cleanUp is native but nodemodel/NodetreeKt is not kept/exposed.\r\n[WARNING]    [rename] WARNING: Method getSelected is native but nodemodel/NodetreeKt is not kept/exposed.\r\n[INFO] Obfuscating Jar C:\\Users\\Paul\\Documents\\protoedit\\app\\target\\package\\protoedit-0.7+.jar to protoedit-0.7+o.jar\r\n[INFO] Executed tasks\r\n```","title":"How can I keep native (JNI) method names when obfuscating with yGuard?","body":"<p>I'm trying to obfuscate the jar file of my application using yGuard.</p>\n<p>Native (JNI) methods and the classes that contain them should not be renamed, because then the application does not work anymore.</p>\n<p>How can I do this without specifying the methods one by one?</p>\n<p>My configuration is currently like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;yguard&gt;\n    &lt;inoutpair in=&quot;target/package/protoedit-0.7+.jar&quot; out=&quot;target/package/protoedit-0.7+o.jar&quot; /&gt;\n    &lt;rename mainclass=&quot;appgui.MainKt&quot;&gt;\n    &lt;/rename&gt;\n&lt;/yguard&gt;\n</code></pre>\n<p>When I run the obfuscation, I get warnings about native methods being renamed, but I could not find how to prevent this. Here the relevant part of the Maven output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- maven-antrun-plugin:3.1.0:run (obfuscate) @ protoedit ---\n[INFO] Executing tasks\n[INFO]    [rename] yGuard Obfuscator v4.0.0 - https://www.yworks.com/products/yguard\n[INFO] Parsing jar C:\\Users\\Paul\\Documents\\protoedit\\app\\target\\package\\protoedit-0.7+.jar\n[WARNING]    [rename] WARNING: Method selectionChanged_native_cref_QItemSelection_cref_QItemSelection is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method canCollapseParents_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method canCollapseChildren_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method collapseOthers_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method expandRecursively_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method delayLayout_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method collapseChildren_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method canExpand_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method initialize_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method collapseChildrenRecursively_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method collapseParents_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method show_native___int64_bool is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method canCollapseOthers_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method collapseOthersRecursively_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method updated_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method expand_native is native but nodemodel/NodeTreeGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method updated_native is native but nodemodel/NodeTreeGenerated$ConcreteWrapper is not kept/exposed.\n[WARNING]    [rename] WARNING: Method createCppObject is native but nodemodel/Node is not kept/exposed.\n[WARNING]    [rename] WARNING: Method initialize_native is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method index_native_int_int_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method replace_native___int64___int64 is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method parent_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method nodeCount_native is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method rowCount_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method hasChildren_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method columnCount_native_cref_QModelIndex_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method data_native_cref_QModelIndex_int_constfct is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method setNodeCount_native_int is native but nodemodel/NodeModelGenerated is not kept/exposed.\n[WARNING]    [rename] WARNING: Method removeChildren is native but nodemodel/NodeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method moveChildren is native but nodemodel/NodeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method getJavaObject is native but nodemodel/NodeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method insertChildren is native but nodemodel/NodeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method deleteCppObject is native but nodemodel/NodeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method internalAccess is native but nodemodel/QtJambi_LibraryUtilities is not kept/exposed.\n[WARNING]    [rename] WARNING: Method getVisible is native but nodemodel/NodetreeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method cleanUp is native but nodemodel/NodetreeKt is not kept/exposed.\n[WARNING]    [rename] WARNING: Method getSelected is native but nodemodel/NodetreeKt is not kept/exposed.\n[INFO] Obfuscating Jar C:\\Users\\Paul\\Documents\\protoedit\\app\\target\\package\\protoedit-0.7+.jar to protoedit-0.7+o.jar\n[INFO] Executed tasks\n</code></pre>\n"},{"tags":["java","struts","roles","acl","struts-1"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1360162495,"post_id":14724514,"comment_id":20611221,"body_markdown":"That&#39;s because you&#39;re forwarding, not redirecting.","body":"That&#39;s because you&#39;re forwarding, not redirecting."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1360183464,"post_id":14724514,"comment_id":20622771,"body_markdown":"so, add the forward attribute redirect=&quot;true&quot; and return that forward","body":"so, add the forward attribute redirect=&quot;true&quot; and return that forward"},{"owner":{"account_id":1250427,"reputation":547,"user_id":1210940,"accept_rate":33,"display_name":"Pierpaolo"},"score":0,"creation_date":1360243337,"post_id":14724514,"comment_id":20645439,"body_markdown":"@Roman C: do you mean like this?\n\n    `&lt;action path=&quot;/ProtectedPageAction&quot; type=&quot;org.apache.struts.actions.ForwardAction&quot;\n    parameter=&quot;ProtectedPage&quot; roles=&quot;admin&quot; redirect=&quot;true&quot; /&gt;`","body":"@Roman C: do you mean like this?      <code>&lt;action path=&quot;&#47;ProtectedPageAction&quot; type=&quot;org.apache.struts.actions.ForwardAction&quot;     parameter=&quot;ProtectedPage&quot; roles=&quot;admin&quot; redirect=&quot;true&quot; &#47;&gt;</code>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1360251212,"post_id":14724514,"comment_id":20650218,"body_markdown":"@Pierpaolo No, that won&#39;t work as for the action tag has not such attr.","body":"@Pierpaolo No, that won&#39;t work as for the action tag has not such attr."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697904437,"creation_date":1360252763,"answer_id":14755440,"question_id":14724514,"body_markdown":"Redirects usually done via setting the action forward attribute `redirect=&quot;true&quot;`. In your case you need to create action\r\n\r\n    public class RedirectAction extends ForwardAction {\r\n      @Override\r\n      public ActionForward execute(\r\n        ActionMapping mapping,\r\n        ActionForm form,\r\n        HttpServletRequest request,\r\n        HttpServletResponse response)\r\n        throws Exception {\r\n\r\n        // Create a RequestDispatcher the corresponding resource\r\n        String path = mapping.getParameter();\r\n\r\n        if (path == null) {\r\n            throw new ServletException(messages.getMessage(&quot;forward.path&quot;));\r\n        }\r\n\r\n        // Let the controller handle the request\r\n        ActionForward retVal = new ActionForward(path, true);\r\n        retVal.setContextRelative(true);\r\n\r\n        return retVal;\r\n      }\r\n    }\r\n\r\nor naturally use the configuration\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action path=&quot;/ProtectedPageAction&quot; type=&quot;org.yourname.struts.actions.ProtectedPageAction&quot;\r\n        parameter=&quot;ProtectedPage&quot; roles=&quot;admin&quot;&gt;\r\n      &lt;forward name=&quot;success&quot; path=&quot;/Homepage.do&quot; redirect=&quot;true&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nand action\r\n\r\n    public class ProtectedPageAction extends Action {\r\n      @Override\r\n      public ActionForward execute(\r\n        ActionMapping mapping,\r\n        ActionForm form,\r\n        HttpServletRequest request,\r\n        HttpServletResponse response)\r\n        throws Exception {\r\n\r\n        // Let the controller handle the request\r\n        ActionForward retVal = mapping.findForward(&quot;success&quot;);\r\n        retVal.setContextRelative(true);\r\n\r\n        return retVal;\r\n      }\r\n    }\r\n \r\n","title":"How to redirect to homepage.do when user has no right to access a page in Struts?","body":"<p>Redirects usually done via setting the action forward attribute <code>redirect=&quot;true&quot;</code>. In your case you need to create action</p>\n<pre><code>public class RedirectAction extends ForwardAction {\n  @Override\n  public ActionForward execute(\n    ActionMapping mapping,\n    ActionForm form,\n    HttpServletRequest request,\n    HttpServletResponse response)\n    throws Exception {\n\n    // Create a RequestDispatcher the corresponding resource\n    String path = mapping.getParameter();\n\n    if (path == null) {\n        throw new ServletException(messages.getMessage(&quot;forward.path&quot;));\n    }\n\n    // Let the controller handle the request\n    ActionForward retVal = new ActionForward(path, true);\n    retVal.setContextRelative(true);\n\n    return retVal;\n  }\n}\n</code></pre>\n<p>or naturally use the configuration</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action path=&quot;/ProtectedPageAction&quot; type=&quot;org.yourname.struts.actions.ProtectedPageAction&quot;\n    parameter=&quot;ProtectedPage&quot; roles=&quot;admin&quot;&gt;\n  &lt;forward name=&quot;success&quot; path=&quot;/Homepage.do&quot; redirect=&quot;true&quot;/&gt;\n&lt;/action&gt;\n</code></pre>\n<p>and action</p>\n<pre><code>public class ProtectedPageAction extends Action {\n  @Override\n  public ActionForward execute(\n    ActionMapping mapping,\n    ActionForm form,\n    HttpServletRequest request,\n    HttpServletResponse response)\n    throws Exception {\n\n    // Let the controller handle the request\n    ActionForward retVal = mapping.findForward(&quot;success&quot;);\n    retVal.setContextRelative(true);\n\n    return retVal;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1250427,"reputation":547,"user_id":1210940,"accept_rate":33,"display_name":"Pierpaolo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697904483,"creation_date":1360139003,"question_id":14724514,"body_markdown":"My application is using Struts 1 and the pages are role-protected (i.e.: a user cannot access a page if his role doesn&#39;t allow him) using the attribute &quot;roles&quot; of the action path in the `struts-config.xml`:\r\n\r\n    &lt;action path=&quot;/ProtectedPageAction&quot; type=&quot;org.apache.struts.actions.ForwardAction&quot;\r\n        parameter=&quot;ProtectedPage&quot; roles=&quot;admin&quot; /&gt;\r\n\r\nthis way, if a user is either not logged in or doesn&#39;t have the role &quot;admin&quot;, he sees the homepage instead of the protected page.\r\n\r\nNow, all of this works perfectly, the only problem being that the URL in the browser (hence the value of servlet_path) is not `homepage.do` but `ProtectedPageAction.do` or, in other words, the servlet_path is not &quot;in sync&quot; with the shown page.\r\n\r\nI need to work with the value of servlet_path hence when the user is not authorised to see a page, the URL shown in the browser must be `homepage.do` and not `ProtectedPageAction.do`; this is also for security reason: if a user notices `ProtectedPageAction.do` in the URL might start wondering what&#39;s that for and how to access it etc. \r\n\r\n\r\n","title":"How to redirect to homepage.do when user has no right to access a page in Struts?","body":"<p>My application is using Struts 1 and the pages are role-protected (i.e.: a user cannot access a page if his role doesn't allow him) using the attribute &quot;roles&quot; of the action path in the <code>struts-config.xml</code>:</p>\n<pre><code>&lt;action path=&quot;/ProtectedPageAction&quot; type=&quot;org.apache.struts.actions.ForwardAction&quot;\n    parameter=&quot;ProtectedPage&quot; roles=&quot;admin&quot; /&gt;\n</code></pre>\n<p>this way, if a user is either not logged in or doesn't have the role &quot;admin&quot;, he sees the homepage instead of the protected page.</p>\n<p>Now, all of this works perfectly, the only problem being that the URL in the browser (hence the value of servlet_path) is not <code>homepage.do</code> but <code>ProtectedPageAction.do</code> or, in other words, the servlet_path is not &quot;in sync&quot; with the shown page.</p>\n<p>I need to work with the value of servlet_path hence when the user is not authorised to see a page, the URL shown in the browser must be <code>homepage.do</code> and not <code>ProtectedPageAction.do</code>; this is also for security reason: if a user notices <code>ProtectedPageAction.do</code> in the URL might start wondering what's that for and how to access it etc.</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":3270306,"reputation":921,"user_id":2753839,"accept_rate":74,"display_name":"Lukas Novicky"},"score":0,"creation_date":1551697120,"post_id":54981805,"comment_id":96721528,"body_markdown":"Show some code samples.\nHow you connect to REST API? Is this request logged? what are logs\n\nToo much questions here to help you","body":"Show some code samples. How you connect to REST API? Is this request logged? what are logs  Too much questions here to help you"},{"owner":{"account_id":11116342,"reputation":1868,"user_id":8160563,"display_name":"Marvin Klar"},"score":0,"creation_date":1551697164,"post_id":54981805,"comment_id":96721542,"body_markdown":"Is the api running in a webserver? And is it available through your browser? Also make sure that you exported the project 1 in your build of the project 2","body":"Is the api running in a webserver? And is it available through your browser? Also make sure that you exported the project 1 in your build of the project 2"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1551697179,"post_id":54981805,"comment_id":96721554,"body_markdown":"If project A provides a REST API, it should be deployed separately. Thus, Project B has a semantical, but not a syntactical dependency on A.","body":"If project A provides a REST API, it should be deployed separately. Thus, Project B has a semantical, but not a syntactical dependency on A."},{"owner":{"display_name":"user9214790"},"score":0,"creation_date":1551697224,"post_id":54981805,"comment_id":96721583,"body_markdown":"Code sample--&gt;sorry cant paste","body":"Code sample--&gt;sorry cant paste"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1551697252,"post_id":54981805,"comment_id":96721596,"body_markdown":"&quot;*Code sample--&gt;sorry cant paste*&quot; - Then we cannot help.","body":"&quot;<i>Code sample--&gt;sorry cant paste</i>&quot; - Then we cannot help."},{"owner":{"account_id":8247774,"reputation":984,"user_id":6203350,"accept_rate":60,"display_name":"asendjasni"},"score":0,"creation_date":1551697356,"post_id":54981805,"comment_id":96721656,"body_markdown":"Please take the time to take the [tour](https://stackoverflow.com/tour) and read up on [How to Ask](https://stackoverflow.com/help/how-to-ask), then [edit](https://stackoverflow.com/posts/54981805/edit) the question accordingly. Please create [a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve), and give sample inputs, outputs and the error messages you get, if any. This will help us to determine what is going on and improve your chances to get an answer.","body":"Please take the time to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read up on <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>, then <a href=\"https://stackoverflow.com/posts/54981805/edit\">edit</a> the question accordingly. Please create <a href=\"https://stackoverflow.com/help/mcve\">a Minimal, Complete, and Verifiable example</a>, and give sample inputs, outputs and the error messages you get, if any. This will help us to determine what is going on and improve your chances to get an answer."},{"owner":{"display_name":"user9214790"},"score":0,"creation_date":1551697379,"post_id":54981805,"comment_id":96721667,"body_markdown":"What i can share is this is a spring boot project.Added dependency of project 1 in 2 in pom.xml.itss running in the tomcat server which is part of the spring boot project.so if i need to call API of 1 from Project 2 wat shud i do?confused in that part.","body":"What i can share is this is a spring boot project.Added dependency of project 1 in 2 in pom.xml.itss running in the tomcat server which is part of the spring boot project.so if i need to call API of 1 from Project 2 wat shud i do?confused in that part."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1551697424,"post_id":54981805,"comment_id":96721700,"body_markdown":"Again: No code, no help. We cannot debug what we cannot see. If you have some kind of NDA, then discuss this problem with someone who is allowed to see it.","body":"Again: No code, no help. We cannot debug what we cannot see. If you have some kind of NDA, then discuss this problem with someone who is allowed to see it."},{"owner":{"account_id":3270306,"reputation":921,"user_id":2753839,"accept_rate":74,"display_name":"Lukas Novicky"},"score":0,"creation_date":1551697852,"post_id":54981805,"comment_id":96721899,"body_markdown":"noone is asking for delicate data - paste code changing some names, and not postig full URL&#39;s. we are not spies, but in same time we are not mindreaders","body":"noone is asking for delicate data - paste code changing some names, and not postig full URL&#39;s. we are not spies, but in same time we are not mindreaders"},{"owner":{"account_id":106364,"reputation":159993,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":0,"creation_date":1551745891,"post_id":54981805,"comment_id":96744302,"body_markdown":"Do you have a controller implementing `myApi`?","body":"Do you have a controller implementing <code>myApi</code>?"},{"owner":{"display_name":"user9214790"},"score":0,"creation_date":1551746207,"post_id":54981805,"comment_id":96744387,"body_markdown":"Its a spring boot project.Yes.will add it.Its not a controller but an implementation class for the interface","body":"Its a spring boot project.Yes.will add it.Its not a controller but an implementation class for the interface"},{"owner":{"display_name":"user9214790"},"score":0,"creation_date":1551746602,"post_id":54981805,"comment_id":96744466,"body_markdown":"The thing is i can get a hit on the API in the normal case.The only issue here is that the api is in one spring boot project that is added to another spring boot project as a jar dependency.The latter is being started up and just the api of the former is called from postman.","body":"The thing is i can get a hit on the API in the normal case.The only issue here is that the api is in one spring boot project that is added to another spring boot project as a jar dependency.The latter is being started up and just the api of the former is called from postman."},{"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"score":0,"creation_date":1551750042,"post_id":54981805,"comment_id":96745193,"body_markdown":"Is `Project1` and `Project2` and independent microservices?","body":"Is <code>Project1</code> and <code>Project2</code> and independent microservices?"},{"owner":{"account_id":9245404,"reputation":2155,"user_id":6867430,"display_name":"ivanivan"},"score":0,"creation_date":1551753291,"post_id":54981805,"comment_id":96745932,"body_markdown":"Seems more like a sysadmin type question - having been through this with work stuff (Websphere 8, IBM&#39;s RBD which is a screwed up old version of eclipse, etc) recently I recall there being a spot in the Server properties/config (right click on your server) and add the appropriate project and/or JAR as an &quot;installed application&quot;.","body":"Seems more like a sysadmin type question - having been through this with work stuff (Websphere 8, IBM&#39;s RBD which is a screwed up old version of eclipse, etc) recently I recall there being a spot in the Server properties/config (right click on your server) and add the appropriate project and/or JAR as an &quot;installed application&quot;."},{"owner":{"display_name":"user9214790"},"score":0,"creation_date":1551756488,"post_id":54981805,"comment_id":96746586,"body_markdown":"Project 2 is a microservice..project 1 is independant.","body":"Project 2 is a microservice..project 1 is independant."}],"answers":[{"tags":[],"owner":{"display_name":"user9214790"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1551782353,"creation_date":1551781926,"answer_id":55000717,"question_id":54981805,"body_markdown":"Finally was able to make it work!\r\n\r\n 1. One of the issues was a missing `@Service` over the implementation.\r\n 2. Package names were refactored.\r\n 3. The port I was calling was different from which it was getting\r\n    started on.\r\n\r\nGoing through the startup logs helped.\r\n\r\nNow the call to the `api` works.","title":"call rest API in project A which is added as a jar dependency to project B","body":"<p>Finally was able to make it work!</p>\n\n<ol>\n<li>One of the issues was a missing <code>@Service</code> over the implementation.</li>\n<li>Package names were refactored.</li>\n<li>The port I was calling was different from which it was getting\nstarted on.</li>\n</ol>\n\n<p>Going through the startup logs helped.</p>\n\n<p>Now the call to the <code>api</code> works.</p>\n"}],"owner":{"display_name":"user9214790"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55000717,"answer_count":1,"score":0,"last_activity_date":1697904316,"creation_date":1551697014,"question_id":54981805,"body_markdown":"Project 1 ---&gt;jar build\r\nProject 2---&gt;jar build \r\n\r\nProject 2 has dependency of project1.\r\n\r\nNow we just run the project 2 locally and then call the api written in Project 1.\r\nBut the hit to the API isn&#39;t happening.\r\n\r\nAny idea what i may be missing.Googling didn&#39;t help much.\r\n\r\nProject A has a rest api configured like this   \r\n   \r\n\r\n     @Path(&quot;/mytest&quot;)\r\n        public interface myApi {\r\n        @PUT\r\n        @Path(&quot;/create&quot;)\r\n        void create(MyModelmodel);  \r\n    }\r\n\r\nImplemented as\r\n\r\n    @Component\r\n    public class myApService implements myApi {\r\n    \r\n        \r\n       @Autowired\r\n       public myClient myClient;\r\n        \r\n        @Override\r\n        public void create(MyModel model) {\r\n            myClient.createazureworkspace(model);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAdded Project 1 as a dependency jar in pom of Project 2\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.xxxx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project a&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nNow when i call http://localhost:8080/mytest/create it doesn&#39;t even hit the api\r\nTried adding the below code in Project 2\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages =&quot;com.basepack.projectA&quot;)\r\n    public class AppConfig {\r\n      \r\n    }\r\n\r\nBut it too didn&#39;t work\r\n                                         ","title":"call rest API in project A which is added as a jar dependency to project B","body":"<p>Project 1 --->jar build\nProject 2--->jar build </p>\n\n<p>Project 2 has dependency of project1.</p>\n\n<p>Now we just run the project 2 locally and then call the api written in Project 1.\nBut the hit to the API isn't happening.</p>\n\n<p>Any idea what i may be missing.Googling didn't help much.</p>\n\n<p>Project A has a rest api configured like this   </p>\n\n<pre><code> @Path(\"/mytest\")\n    public interface myApi {\n    @PUT\n    @Path(\"/create\")\n    void create(MyModelmodel);  \n}\n</code></pre>\n\n<p>Implemented as</p>\n\n<pre><code>@Component\npublic class myApService implements myApi {\n\n\n   @Autowired\n   public myClient myClient;\n\n    @Override\n    public void create(MyModel model) {\n        myClient.createazureworkspace(model);\n\n    }\n\n}\n</code></pre>\n\n<p>Added Project 1 as a dependency jar in pom of Project 2</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.xxxx&lt;/groupId&gt;\n&lt;artifactId&gt;project a&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n\n<p>Now when i call <a href=\"http://localhost:8080/mytest/create\" rel=\"nofollow noreferrer\">http://localhost:8080/mytest/create</a> it doesn't even hit the api\nTried adding the below code in Project 2</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages =\"com.basepack.projectA\")\npublic class AppConfig {\n\n}\n</code></pre>\n\n<p>But it too didn't work</p>\n"},{"tags":["java","arraylist","collections","iterator","string-iteration"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":2,"creation_date":1697819674,"post_id":77332476,"comment_id":136331987,"body_markdown":"The String in brackets is a &quot;type casting&quot;, however it&#39;s a very old tutorial.  Choose another one.","body":"The String in brackets is a &quot;type casting&quot;, however it&#39;s a very old tutorial.  Choose another one."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1697824666,"post_id":77332476,"comment_id":136332837,"body_markdown":"It’s not only an old tutorial (for Java 1.5,1.6 or 1.7; Java 21 just came out). It’s also poor code for those old versions. Since Java 5 you should do `Iterator&lt;String&gt; iterator = courses.iterator();iterator.hasNext()`, and you would not need the cast. Just `String course = iterator.hasNext();`.","body":"It’s not only an old tutorial (for Java 1.5,1.6 or 1.7; Java 21 just came out). It’s also poor code for those old versions. Since Java 5 you should do <code>Iterator&lt;String&gt; iterator = courses.iterator();iterator.hasNext()</code>, and you would not need the cast. Just <code>String course = iterator.hasNext();</code>."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1697902923,"post_id":77332476,"comment_id":136339128,"body_markdown":"There’s a mistake in here somewhere. The initializer for the `course` variable inside the loop should be a call to `iterator.next()` as opposed to `hasNext()`. Also as pointed out elsewhere the cast and the iterator haven’t been necessary since Java 5 (2004) if one uses the “for-each” style loop instead.","body":"There’s a mistake in here somewhere. The initializer for the <code>course</code> variable inside the loop should be a call to <code>iterator.next()</code> as opposed to <code>hasNext()</code>. Also as pointed out elsewhere the cast and the iterator haven’t been necessary since Java 5 (2004) if one uses the “for-each” style loop instead."}],"answers":[{"tags":[],"owner":{"account_id":1544842,"reputation":486,"user_id":6036446,"display_name":"Juan C Nuno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697903960,"creation_date":1697819895,"answer_id":77332540,"question_id":77332476,"body_markdown":"1. (String) is called a [&quot;cast&quot;.](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.16) It converts from one type (Object) to another (String). It was more necessary before generics and parametrized types (`Iterator&lt;String&gt;`). Before generics, you could only get elements of type Object (the root of all types) out of a collection. If you wanted to call String methods on your element, you had to cast it to a String. This would fail at runtime if the thing was actually, say, an Integer.\r\n\r\n1. Those semicolons are a required part of the [for loop syntax](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.14.1). It&#39;s usually for something to happen at the end of your iterations, normally incrementing an index variable. As you&#39;re not using an index variable, it&#39;s a noop (no operation, do nothing) in your case.\r\n\r\nSince Java 1.5 prefer this terser syntax:\r\n\r\n        for (String course : courses) {\r\n            System.out.println(course);\r\n        }\r\n\r\nAnd since Java 9 use `List.of()` for creating the list (creates an immutable list, which for most purposes is advantageous):\r\n\r\n        List&lt;String&gt; courses = List.of(&quot;Java&quot;, &quot;Python&quot;, &quot;C&quot;);\r\n","title":"String Iteration using Iterator interface in Lists","body":"<ol>\n<li><p>(String) is called a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.16\" rel=\"nofollow noreferrer\">&quot;cast&quot;.</a> It converts from one type (Object) to another (String). It was more necessary before generics and parametrized types (<code>Iterator&lt;String&gt;</code>). Before generics, you could only get elements of type Object (the root of all types) out of a collection. If you wanted to call String methods on your element, you had to cast it to a String. This would fail at runtime if the thing was actually, say, an Integer.</p>\n</li>\n<li><p>Those semicolons are a required part of the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.14.1\" rel=\"nofollow noreferrer\">for loop syntax</a>. It's usually for something to happen at the end of your iterations, normally incrementing an index variable. As you're not using an index variable, it's a noop (no operation, do nothing) in your case.</p>\n</li>\n</ol>\n<p>Since Java 1.5 prefer this terser syntax:</p>\n<pre><code>    for (String course : courses) {\n        System.out.println(course);\n    }\n</code></pre>\n<p>And since Java 9 use <code>List.of()</code> for creating the list (creates an immutable list, which for most purposes is advantageous):</p>\n<pre><code>    List&lt;String&gt; courses = List.of(&quot;Java&quot;, &quot;Python&quot;, &quot;C&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697833322,"creation_date":1697833322,"answer_id":77333597,"question_id":77332476,"body_markdown":"&gt; _&quot;... In the above code, Can someone explain this line \r\n`String course = (String) iterator.hasNext();`\r\nwhy have they give `String` in brackets()? ...&quot;_\r\n\r\nThis code is poorly abstracted.\r\n\r\nFirstly, it should be the _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#next())_ method, and not the _hasNext_ method.\r\n\r\nThe reason _String_ is in parentheses is because of the _[type-cast](https://en.wikipedia.org/wiki/Type_conversion) syntax_.\\\r\nIn this situation, a _type-parameter_ for _iterator_ was not declared, thus _Object_ is used.\r\n\r\nIf you provide the _type-parameter_ you can remove the _cast_.\r\n\r\n```java\r\nfor(Iterator&lt;String&gt; iterator = courses.iterator(); iterator.hasNext();){\r\n    String course = iterator.next();\r\n    System.out.println(course);\r\n}\r\n```\r\n\r\n&gt; _&quot;... And, why semicolon after `iterator.hasNext();` in `for` loop ...&quot;_\r\n\r\nThat&#39;s the _[syntax](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_.&amp;nbsp; They are not using any _increment_ value.\r\n\r\n```none\r\nfor (initialization; termination; increment) {\r\n    statement(s)\r\n}\r\n```\r\n\r\nFinally, just iterate _courses_.\r\n\r\n```java\r\nfor (String s : courses) System.out.println(s);\r\n```","title":"String Iteration using Iterator interface in Lists","body":"<blockquote>\n<p><em>&quot;... In the above code, Can someone explain this line\n<code>String course = (String) iterator.hasNext();</code>\nwhy have they give <code>String</code> in brackets()? ...&quot;</em></p>\n</blockquote>\n<p>This code is poorly abstracted.</p>\n<p>Firstly, it should be the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#next()\" rel=\"nofollow noreferrer\">next</a></em> method, and not the <em>hasNext</em> method.</p>\n<p>The reason <em>String</em> is in parentheses is because of the <em><a href=\"https://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow noreferrer\">type-cast</a> syntax</em>.<br />\nIn this situation, a <em>type-parameter</em> for <em>iterator</em> was not declared, thus <em>Object</em> is used.</p>\n<p>If you provide the <em>type-parameter</em> you can remove the <em>cast</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Iterator&lt;String&gt; iterator = courses.iterator(); iterator.hasNext();){\n    String course = iterator.next();\n    System.out.println(course);\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... And, why semicolon after <code>iterator.hasNext();</code> in <code>for</code> loop ...&quot;</em></p>\n</blockquote>\n<p>That's the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">syntax</a></em>.  They are not using any <em>increment</em> value.</p>\n<pre class=\"lang-none prettyprint-override\"><code>for (initialization; termination; increment) {\n    statement(s)\n}\n</code></pre>\n<p>Finally, just iterate <em>courses</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String s : courses) System.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":26120045,"reputation":1,"user_id":19812487,"display_name":"Pazhani_Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1697903960,"creation_date":1697819217,"question_id":77332476,"body_markdown":"I was learning Collections in JAVA from a tutorial. In that during List topic I saw a line where we use a line to iterate the lists of type String in for loop using Iterator. Please refer to the piece of code below and help me to understand the concept,\r\n\r\n```\r\nList &lt;String&gt; courses = Arrays.asList(&quot;Java&quot;,&quot;Python&quot;,&quot;C&quot;);\r\n\r\nfor(Iterator iterator = courses.iterator();iterator.hasNext();){\r\n    String course = (String) iterator.hasNext();\r\n    System.out.println(course);\r\n}\r\n```\r\nIn the above code, Can someone explain this line \r\n`String course = (String) iterator.hasNext();`\r\nwhy have they give `String` in brackets()?\r\n\r\nAnd, why semicolon after `iterator.hasNext();` in `for` loop\r\n\r\nAppreciating your response in advance!!","title":"String Iteration using Iterator interface in Lists","body":"<p>I was learning Collections in JAVA from a tutorial. In that during List topic I saw a line where we use a line to iterate the lists of type String in for loop using Iterator. Please refer to the piece of code below and help me to understand the concept,</p>\n<pre><code>List &lt;String&gt; courses = Arrays.asList(&quot;Java&quot;,&quot;Python&quot;,&quot;C&quot;);\n\nfor(Iterator iterator = courses.iterator();iterator.hasNext();){\n    String course = (String) iterator.hasNext();\n    System.out.println(course);\n}\n</code></pre>\n<p>In the above code, Can someone explain this line\n<code>String course = (String) iterator.hasNext();</code>\nwhy have they give <code>String</code> in brackets()?</p>\n<p>And, why semicolon after <code>iterator.hasNext();</code> in <code>for</code> loop</p>\n<p>Appreciating your response in advance!!</p>\n"},{"tags":["java","jsp","struts2","url-parameters","actionresult"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1457434198,"post_id":35864697,"comment_id":59394563,"body_markdown":"http://struts.apache.org/docs/redirect-action-result.html.","body":"<a href=\"http://struts.apache.org/docs/redirect-action-result.html\" rel=\"nofollow noreferrer\">struts.apache.org/docs/redirect-action-result.html</a>."},{"owner":{"account_id":1646237,"reputation":2925,"user_id":1517735,"accept_rate":75,"display_name":"Vinoth Krishnan"},"score":0,"creation_date":1457436142,"post_id":35864697,"comment_id":59395776,"body_markdown":"@AleksandrM OP has not assigned any variable name to pass the `request.getQueryString()`, in that case adding `&lt;param /&gt;` tag is not possible.","body":"@AleksandrM OP has not assigned any variable name to pass the <code>request.getQueryString()</code>, in that case adding <code>&lt;param &#47;&gt;</code> tag is not possible."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1457436204,"post_id":35864697,"comment_id":59395814,"body_markdown":"@VinothKrishnan What?","body":"@VinothKrishnan What?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1490865930,"post_id":35864697,"comment_id":73307048,"body_markdown":"@VinothKrishnan See my answer below","body":"@VinothKrishnan See my answer below"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697901825,"creation_date":1457454625,"answer_id":35872764,"question_id":35864697,"body_markdown":"You can return [`redirectAction` result][1]:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;board*&quot; class=&quot;com.nextjet.web.hud.BoardAction&quot;&gt;\r\n        &lt;result name=&quot;success&quot;&gt;/board.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;input&quot;&gt;/board.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;redirect&quot; type=&quot;redirectAction&quot;&gt;\r\n          &lt;param name=&quot;actionName&quot;&gt;&lt;![CDATA[${&#39;board.action?&#39;+ parameters}]]&gt;&lt;/param&gt;\r\n        &lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nYou should have getter for `parameters`:\r\n\r\n    public String getParameters(){\r\n       return &quot;id=&quot; + request.getParameter(&quot;id&quot;) + &quot;&amp;&quot; + request.getQueryString();\r\n    }\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/redirect-action-result","title":"Add Query Parameter in action url within action after action is called","body":"<p>You can return <a href=\"https://struts.apache.org/core-developers/redirect-action-result\" rel=\"nofollow noreferrer\"><code>redirectAction</code> result</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;board*&quot; class=&quot;com.nextjet.web.hud.BoardAction&quot;&gt;\n    &lt;result name=&quot;success&quot;&gt;/board.jsp&lt;/result&gt;\n    &lt;result name=&quot;input&quot;&gt;/board.jsp&lt;/result&gt;\n    &lt;result name=&quot;redirect&quot; type=&quot;redirectAction&quot;&gt;\n      &lt;param name=&quot;actionName&quot;&gt;&lt;![CDATA[${'board.action?'+ parameters}]]&gt;&lt;/param&gt;\n    &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>You should have getter for <code>parameters</code>:</p>\n<pre><code>public String getParameters(){\n   return &quot;id=&quot; + request.getParameter(&quot;id&quot;) + &quot;&amp;&quot; + request.getQueryString();\n}\n</code></pre>\n"}],"owner":{"account_id":6605027,"reputation":201,"user_id":5595691,"display_name":"Vishal Patidar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697902354,"creation_date":1457432446,"question_id":35864697,"body_markdown":"I am migrating an application from Struts 1 to Struts 2. I have a usecase here. Struts1 action adds a query String in the URL like this:\r\n\r\n     public String execute() throws Exception {\r\n         ..... some code here.....\r\n         ActionForward inputForward = HttpRedirector.getRedirectToInput(request,\r\n         mapping, &quot;id=&quot; + request.getParameter(&quot;id&quot;) + &quot;&amp;&quot; + \r\n         request.getQueryString(), filterForm);\r\n\r\n         return inputForward;\r\n\r\n     }\r\n\r\nwhen it redirects to `input` page the URL is modified like this:\r\n\r\n```\r\nhttp://localhost:8084/struts2App/board.jsp?id=1&amp;null\r\n```\r\n\r\nSimilarly, I have to add Query String in my Struts 2 action URL. Currently my Struts 2 action URL looks like this when I submit the form:\r\n```\r\nlocalhost:8084/struts2App/board.action\r\n```\r\n\r\nAnd I want to modify it, the same way it is done in struts1 like this:\r\n\r\n```\r\nhttp://localhost:8084/struts2App/board.action?id=1&amp;null\r\n``` \r\nHere is the struts2 action mapping\r\n\r\n        &lt;action name=&quot;board*&quot; class=&quot;com.nextjet.web.hud.BoardAction&quot;&gt;\r\n        \t&lt;result name=&quot;success&quot;&gt;/board.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot;&gt;/board.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n\r\n\r\nCan someone tell me how to achieve it.\r\n\r\n","title":"Add Query Parameter in action url within action after action is called","body":"<p>I am migrating an application from Struts 1 to Struts 2. I have a usecase here. Struts1 action adds a query String in the URL like this:</p>\n<pre><code> public String execute() throws Exception {\n     ..... some code here.....\n     ActionForward inputForward = HttpRedirector.getRedirectToInput(request,\n     mapping, &quot;id=&quot; + request.getParameter(&quot;id&quot;) + &quot;&amp;&quot; + \n     request.getQueryString(), filterForm);\n\n     return inputForward;\n\n }\n</code></pre>\n<p>when it redirects to <code>input</code> page the URL is modified like this:</p>\n<pre><code>http://localhost:8084/struts2App/board.jsp?id=1&amp;null\n</code></pre>\n<p>Similarly, I have to add Query String in my Struts 2 action URL. Currently my Struts 2 action URL looks like this when I submit the form:</p>\n<pre><code>localhost:8084/struts2App/board.action\n</code></pre>\n<p>And I want to modify it, the same way it is done in struts1 like this:</p>\n<pre><code>http://localhost:8084/struts2App/board.action?id=1&amp;null\n</code></pre>\n<p>Here is the struts2 action mapping</p>\n<pre><code>    &lt;action name=&quot;board*&quot; class=&quot;com.nextjet.web.hud.BoardAction&quot;&gt;\n        &lt;result name=&quot;success&quot;&gt;/board.jsp&lt;/result&gt;\n        &lt;result name=&quot;input&quot;&gt;/board.jsp&lt;/result&gt;\n    &lt;/action&gt;\n</code></pre>\n<p>Can someone tell me how to achieve it.</p>\n"},{"tags":["java","spring-boot","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1694018338,"post_id":74781733,"comment_id":135837149,"body_markdown":"Does this answer your question? [upgrade to SnakeYaml 1.31 in spring-boot-starter-parent 2.7.3](https://stackoverflow.com/questions/73707768/upgrade-to-snakeyaml-1-31-in-spring-boot-starter-parent-2-7-3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73707768/upgrade-to-snakeyaml-1-31-in-spring-boot-starter-parent-2-7-3\">upgrade to SnakeYaml 1.31 in spring-boot-starter-parent 2.7.3</a>"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1679644372,"creation_date":1670919897,"answer_id":74781869,"question_id":74781733,"body_markdown":"Unfortunately, Spring Boot 2.7.x still uses an older, vulnerable version of SnakeYAML (1.30). They still have not upgraded it to the last version (1.33). Spring Boot 3.0.0 does depend on version 1.33.\r\n\r\nAssuming you cannot upgrade to Spring Boot 3.0.0 yet, the only thing that should work is to add a dependency to [SnakeYAML 1.33][1] in your project. That version should then take precedence over Spring Boot&#39;s transitive dependency.\r\n\r\nHowever, SnakeYAML 1.33 still has a vulnerability. Since that is the last version (SnakeYAML 2.x is not compatible with 1.x), that&#39;s something you can&#39;t get rid off until the SnakeYAML team fixes that.\r\n\r\nEdit: with SnakeYAML 2.x, I meant [this one][2]. SnakeYAML 1.33 recently had a follow-up 2.0 version which is a different one. Compatibility between 1.33 and 2.0 is still not 100%, but Spring Boot 2.7.10+ and Spring Boot 3.x should support both.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.yaml/snakeyaml/1.33\r\n  [2]: https://mvnrepository.com/artifact/org.snakeyaml/snakeyaml-engine","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p>Unfortunately, Spring Boot 2.7.x still uses an older, vulnerable version of SnakeYAML (1.30). They still have not upgraded it to the last version (1.33). Spring Boot 3.0.0 does depend on version 1.33.</p>\n<p>Assuming you cannot upgrade to Spring Boot 3.0.0 yet, the only thing that should work is to add a dependency to <a href=\"https://mvnrepository.com/artifact/org.yaml/snakeyaml/1.33\" rel=\"noreferrer\">SnakeYAML 1.33</a> in your project. That version should then take precedence over Spring Boot's transitive dependency.</p>\n<p>However, SnakeYAML 1.33 still has a vulnerability. Since that is the last version (SnakeYAML 2.x is not compatible with 1.x), that's something you can't get rid off until the SnakeYAML team fixes that.</p>\n<p>Edit: with SnakeYAML 2.x, I meant <a href=\"https://mvnrepository.com/artifact/org.snakeyaml/snakeyaml-engine\" rel=\"noreferrer\">this one</a>. SnakeYAML 1.33 recently had a follow-up 2.0 version which is a different one. Compatibility between 1.33 and 2.0 is still not 100%, but Spring Boot 2.7.10+ and Spring Boot 3.x should support both.</p>\n"},{"tags":[],"owner":{"account_id":23598498,"reputation":101,"user_id":17635343,"display_name":"aiktb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1672980040,"creation_date":1672979948,"answer_id":75026981,"question_id":74781733,"body_markdown":"***Rob Spoor*** has already explained why, this warning can be eliminated by excluding dependencies:\r\n```xml\r\n&lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n```\r\nAdd the above code to the corresponding \\&lt;dependency&gt; label.","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p><em><strong>Rob Spoor</strong></em> has already explained why, this warning can be eliminated by excluding dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n<p>Add the above code to the corresponding &lt;dependency&gt; label.</p>\n"},{"tags":[],"owner":{"account_id":27412974,"reputation":132,"user_id":20912639,"display_name":"Martin Maťovč&#237;k"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684423768,"creation_date":1684423768,"answer_id":76282270,"question_id":74781733,"body_markdown":"I had the same warning in Springboot 3.0.6. It was working properly but it annoyed me a lot to see a huge yellow piece of code in pom.xml.\r\nI overcome this issue by adding exclusions to the code as was mentioned above.\r\n\r\nCode with the warning:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis is the working solution:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n          &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p>I had the same warning in Springboot 3.0.6. It was working properly but it annoyed me a lot to see a huge yellow piece of code in pom.xml.\nI overcome this issue by adding exclusions to the code as was mentioned above.</p>\n<p>Code with the warning:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is the working solution:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n      &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12637691,"reputation":51,"user_id":9186336,"display_name":"Yadnyesh Desai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685994220,"creation_date":1685994220,"answer_id":76409555,"question_id":74781733,"body_markdown":"You need to update the SnakeYAML version to 2.0.\r\nTo do this, add the below code in ***pom.xml*** and ***re-run*** your application.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p>You need to update the SnakeYAML version to 2.0.\nTo do this, add the below code in <em><strong>pom.xml</strong></em> and <em><strong>re-run</strong></em> your application.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29380741,"reputation":131,"user_id":22511300,"display_name":"Gaetano"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1694015916,"creation_date":1694015916,"answer_id":77053594,"question_id":74781733,"body_markdown":"SnakeYAML 2.2 version is compatible with SpringBoot 3.1.3. \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nCopy and paste in your pom.xml and re-run your application. \r\n\r\n\r\n    ","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p>SnakeYAML 2.2 version is compatible with SpringBoot 3.1.3.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Copy and paste in your pom.xml and re-run your application.</p>\n"},{"tags":[],"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697901699,"creation_date":1697901699,"answer_id":77336639,"question_id":74781733,"body_markdown":"When you have a maven setup, where spring-boot is your parent, you can also set the `snakeyaml.version` property to override its version:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;example.com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.13-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath /&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;snakeyaml.version&gt;2.2&lt;/snakeyaml.version&gt;\r\n    &lt;/properties&gt;\r\n...","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p>When you have a maven setup, where spring-boot is your parent, you can also set the <code>snakeyaml.version</code> property to override its version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;example.com&lt;/groupId&gt;\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\n    &lt;version&gt;1.13-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;snakeyaml.version&gt;2.2&lt;/snakeyaml.version&gt;\n    &lt;/properties&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40641,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":74781869,"answer_count":6,"score":21,"last_activity_date":1697901699,"creation_date":1670919063,"question_id":74781733,"body_markdown":"I am periodically checking vulnerabilities on my `pom.xml` and generally fix these problems by updating the dependency versions. However, I get the following error:\r\n\r\n&gt;Provides transitive vulnerable dependency maven:org.yaml:snakeyaml:1.30 CVE-2022-25857 7.5 Uncontrolled Resource Consumption vulnerability pending CVSS allocation CVE-2022-38752 6.5 \r\nOut-of-bounds Write vulnerability with medium severity found CVE-2022-38749 6.5 Out-of-bounds Write vulnerability pending CVSS allocation CVE-2022-38750 5.5 \r\nOut-of-bounds Write vulnerability pending CVSS allocation CVE-2022-38751 6.5 Out-of-bounds Write vulnerability pending CVSS allocation CVE-2022-41854 6.5 \r\nStack-based Buffer Overflow vulnerability with medium severity found CVE-2022-1471 9.8 \r\nDeserialization of Untrusted Data vulnerability with high severity found  \r\nResults powered by Checkmarx(c) \r\n\r\nI I try to add `&lt;version&gt;` to the `&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;` in my `pom.xml`, but it does not make any sense. \r\n\r\nSo, how can I fix this problem properly? I use IntelliJ default features to fix this kind of problems, but should I do any an extra useful plugins etc.?","title":"vulnerable dependency maven:org.yaml:snakeyaml","body":"<p>I am periodically checking vulnerabilities on my <code>pom.xml</code> and generally fix these problems by updating the dependency versions. However, I get the following error:</p>\n<blockquote>\n<p>Provides transitive vulnerable dependency maven:org.yaml:snakeyaml:1.30 CVE-2022-25857 7.5 Uncontrolled Resource Consumption vulnerability pending CVSS allocation CVE-2022-38752 6.5\nOut-of-bounds Write vulnerability with medium severity found CVE-2022-38749 6.5 Out-of-bounds Write vulnerability pending CVSS allocation CVE-2022-38750 5.5\nOut-of-bounds Write vulnerability pending CVSS allocation CVE-2022-38751 6.5 Out-of-bounds Write vulnerability pending CVSS allocation CVE-2022-41854 6.5\nStack-based Buffer Overflow vulnerability with medium severity found CVE-2022-1471 9.8\nDeserialization of Untrusted Data vulnerability with high severity found<br />\nResults powered by Checkmarx(c)</p>\n</blockquote>\n<p>I I try to add <code>&lt;version&gt;</code> to the <code>&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</code> in my <code>pom.xml</code>, but it does not make any sense.</p>\n<p>So, how can I fix this problem properly? I use IntelliJ default features to fix this kind of problems, but should I do any an extra useful plugins etc.?</p>\n"},{"tags":["java","authentication","session","session-cookies","vert.x"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1701080036,"post_id":77335833,"comment_id":136726246,"body_markdown":"how do you initialize your router instance?","body":"how do you initialize your router instance?"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697901262,"creation_date":1697888848,"question_id":77335833,"body_markdown":"I&#39;m trying to secure endpoints using Sessions in Vert.x. With my configuration, Sessions are initialized and can be found as cookies on Postman, secure true, and the HttpOnly flag is true, but Session data is not displayed. Now I tried to route endpoints starting with /api/* to be unauthorised unless a session is found but each time I test an endpoint it returns unauthorised even when a Session is present. In one of the solutions I searched, I found that I needed to inject .handler(CookieHandler.create()) together with .handler(sessionHandler); as the vertx Session needs the Cookie handler to operate, but there is no import for Vertx CookieHandler on my project even when I have vertx web and vertx core dependencies deployed. Why is session  not found and session data not displaying? Here is What I have done\r\n\r\nLoginController\r\n```\r\n@Controller\r\npublic class UserLoginController implements Function&lt;RoutingContext, Uni&lt;Void&gt;&gt; {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(UserLoginController.class);\r\n    private static final String CONTENT = &quot;content-type&quot;;\r\n    private static final String JSON_TYPE = &quot;application/json&quot;;\r\n    private final UserDal userDal;\r\n\r\n    @Autowired\r\n    public UserLoginController(Router router, UserDal userDal, Vertx vertx) {\r\n        this.userDal = userDal;\r\n\r\n        RedisOptions redisOptions = new RedisOptions()\r\n                .setConnectionString(&quot;redis://localhost:6379&quot;);\r\n        Redis redisClient = Redis.createClient(vertx, redisOptions);\r\n\r\n        SessionStore sessionStore = SessionStore.create(vertx, JsonObject.mapFrom(redisClient));\r\n\r\n        SessionHandler sessionHandler = SessionHandler.create(sessionStore);\r\n        sessionHandler.setCookieHttpOnlyFlag(true)\r\n                        .setCookieSecureFlag(true);\r\n        router.route(&quot;/login&quot;)\r\n                .handler(sessionHandler);\r\n\r\n        router.post(&quot;/login&quot;)\r\n                .handler(BodyHandler.create())\r\n                .respond(this);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Uni&lt;Void&gt; apply(RoutingContext ctx) {\r\n        LoginData credentials = ctx.body().asPojo(LoginData.class);\r\n\r\n        return userDal.isValidCredentials(credentials)\r\n                .flatMap(login -&gt; {\r\n                    if (login) {\r\n\r\n                        Session session = ctx.session();\r\n\r\n                        session.put(&quot;userId&quot;, credentials.getPhoneNumber());\r\n                        session.setAccessed();\r\n\r\n                        LOGGER.info(&quot;User logged in successfully. UserPhoneNumber: {}&quot;, credentials.getPhoneNumber());\r\n                        return ctx.response().setStatusCode(200)\r\n                                .putHeader(CONTENT, JSON_TYPE)\r\n                                .end(new JsonObject().put(&quot;message&quot;, &quot;Login Successful&quot;)\r\n                                        .encode());\r\n                    } else {\r\n                        LOGGER.info(&quot;Login failed for phoneNumber: {}&quot;, credentials.getPhoneNumber());\r\n                        return ctx.response().setStatusCode(401)\r\n                                .putHeader(CONTENT, JSON_TYPE)\r\n                                .end(new JsonObject().put(&quot;Unauthorised!&quot;, &quot;Incorrect Phonenumber or password&quot;)\r\n                                        .encode());\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nSecurityFilter\r\n```\r\n@Configuration\r\npublic class SecurityFilter {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SecurityFilter.class);\r\n\r\n\r\n    @Autowired\r\n    public void handler(Router router) {\r\n        router.route(&quot;/api/*&quot;).handler(ctx -&gt; {\r\n            Session session = ctx.session();\r\n            if (session != null) {\r\n                ctx.next();\r\n            } else {\r\n                LOGGER.info(&quot;Unauthorized: No session found&quot;);\r\n                ctx.fail(401, new RuntimeException(&quot;Unauthorized&quot;));\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How to Secure Route using Vert.x Sessions","body":"<p>I'm trying to secure endpoints using Sessions in Vert.x. With my configuration, Sessions are initialized and can be found as cookies on Postman, secure true, and the HttpOnly flag is true, but Session data is not displayed. Now I tried to route endpoints starting with /api/* to be unauthorised unless a session is found but each time I test an endpoint it returns unauthorised even when a Session is present. In one of the solutions I searched, I found that I needed to inject .handler(CookieHandler.create()) together with .handler(sessionHandler); as the vertx Session needs the Cookie handler to operate, but there is no import for Vertx CookieHandler on my project even when I have vertx web and vertx core dependencies deployed. Why is session  not found and session data not displaying? Here is What I have done</p>\n<p>LoginController</p>\n<pre><code>@Controller\npublic class UserLoginController implements Function&lt;RoutingContext, Uni&lt;Void&gt;&gt; {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(UserLoginController.class);\n    private static final String CONTENT = &quot;content-type&quot;;\n    private static final String JSON_TYPE = &quot;application/json&quot;;\n    private final UserDal userDal;\n\n    @Autowired\n    public UserLoginController(Router router, UserDal userDal, Vertx vertx) {\n        this.userDal = userDal;\n\n        RedisOptions redisOptions = new RedisOptions()\n                .setConnectionString(&quot;redis://localhost:6379&quot;);\n        Redis redisClient = Redis.createClient(vertx, redisOptions);\n\n        SessionStore sessionStore = SessionStore.create(vertx, JsonObject.mapFrom(redisClient));\n\n        SessionHandler sessionHandler = SessionHandler.create(sessionStore);\n        sessionHandler.setCookieHttpOnlyFlag(true)\n                        .setCookieSecureFlag(true);\n        router.route(&quot;/login&quot;)\n                .handler(sessionHandler);\n\n        router.post(&quot;/login&quot;)\n                .handler(BodyHandler.create())\n                .respond(this);\n    }\n\n\n    @Override\n    public Uni&lt;Void&gt; apply(RoutingContext ctx) {\n        LoginData credentials = ctx.body().asPojo(LoginData.class);\n\n        return userDal.isValidCredentials(credentials)\n                .flatMap(login -&gt; {\n                    if (login) {\n\n                        Session session = ctx.session();\n\n                        session.put(&quot;userId&quot;, credentials.getPhoneNumber());\n                        session.setAccessed();\n\n                        LOGGER.info(&quot;User logged in successfully. UserPhoneNumber: {}&quot;, credentials.getPhoneNumber());\n                        return ctx.response().setStatusCode(200)\n                                .putHeader(CONTENT, JSON_TYPE)\n                                .end(new JsonObject().put(&quot;message&quot;, &quot;Login Successful&quot;)\n                                        .encode());\n                    } else {\n                        LOGGER.info(&quot;Login failed for phoneNumber: {}&quot;, credentials.getPhoneNumber());\n                        return ctx.response().setStatusCode(401)\n                                .putHeader(CONTENT, JSON_TYPE)\n                                .end(new JsonObject().put(&quot;Unauthorised!&quot;, &quot;Incorrect Phonenumber or password&quot;)\n                                        .encode());\n                    }\n                });\n    }\n}\n</code></pre>\n<p>SecurityFilter</p>\n<pre><code>@Configuration\npublic class SecurityFilter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SecurityFilter.class);\n\n\n    @Autowired\n    public void handler(Router router) {\n        router.route(&quot;/api/*&quot;).handler(ctx -&gt; {\n            Session session = ctx.session();\n            if (session != null) {\n                ctx.next();\n            } else {\n                LOGGER.info(&quot;Unauthorized: No session found&quot;);\n                ctx.fail(401, new RuntimeException(&quot;Unauthorized&quot;));\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","filehandle","sdkman"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697154427,"creation_date":1697153372,"answer_id":77284314,"question_id":77284252,"body_markdown":"# *Inside* IntelliJ versus *outside* IntelliJ\r\n\r\n - For running a project from within IntelliJ, you specify which JDK to use by configuring *within IntelliJ*. \r\n - The current default JDK set by SDKMAN! only applies to Java apps being executed on their own, *outside* IntelliJ. \r\n\r\nUnfortunately, configuring which JDK to run your app within IntelliJ is complicated and confusing, requiring you to go spelunking through various buried panels.  \r\n\r\nThese panels include some for the JDK, and some for the language level (which version of Java to target):\r\n\r\n - File | Project Structure | Project Settings | Project | SDK … and Language Level.\r\n - File | Project Structure | Project Settings | Project | Modules | Language Level. \r\n - Settings | Build, Execution, Deployment | Compiler | Java Compiler | Per-module bytecode version.\r\n\r\nThere may be others I don&#39;t recall at the moment. Search Stack Overflow to learn more.\r\n\r\nIf you are building a Web app in *IntelliJ Ultimate* edition, and running that app from within IntelliJ via an external application server such as Tomcat, Jetty, Glassfish, OpenLiberty, etc., then you need to also specify in another IntelliJ panel which JDK should be used to launch that app server. \r\n\r\nIf using Maven or Gradle, you need to specify language level there too. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/sdk.html","title":"How do you change java version using SDKMAN without needing to close Intellij IDEA first?","body":"<h1><em>Inside</em> IntelliJ versus <em>outside</em> IntelliJ</h1>\n<ul>\n<li>For running a project from within IntelliJ, you specify which JDK to use by configuring <em>within IntelliJ</em>.</li>\n<li>The current default JDK set by SDKMAN! only applies to Java apps being executed on their own, <em>outside</em> IntelliJ.</li>\n</ul>\n<p>Unfortunately, configuring which JDK to run your app within IntelliJ is complicated and confusing, requiring you to go spelunking through various buried panels.</p>\n<p>These panels include some for the JDK, and some for the language level (which version of Java to target):</p>\n<ul>\n<li>File | Project Structure | Project Settings | Project | SDK … and Language Level.</li>\n<li>File | Project Structure | Project Settings | Project | Modules | Language Level.</li>\n<li>Settings | Build, Execution, Deployment | Compiler | Java Compiler | Per-module bytecode version.</li>\n</ul>\n<p>There may be others I don't recall at the moment. Search Stack Overflow to learn more.</p>\n<p>If you are building a Web app in <em>IntelliJ Ultimate</em> edition, and running that app from within IntelliJ via an external application server such as Tomcat, Jetty, Glassfish, OpenLiberty, etc., then you need to also specify in another IntelliJ panel which JDK should be used to launch that app server.</p>\n<p>If using Maven or Gradle, you need to specify language level there too.</p>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697901174,"creation_date":1697901174,"answer_id":77336602,"question_id":77284252,"body_markdown":"After some additional effort to figure this out, it turned out to be an easy fix. SDKman stores the JDKs in this folder: \r\n\r\n`C:\\Users\\yourUserName\\.sdkman\\candidates\\java`\r\n\r\nWhen you issue the command \r\n\r\n`sdk default java 8.322.06.2-amzn`\r\n\r\nit copies the JDK from the java 8 folder \r\n\r\n`C:\\Users\\yourUserName\\.sdkman\\candidates\\java\\8.322.06.2-amzn`\r\n\r\nand pastes it into the current folder.\r\n\r\n`C:\\Users\\yourUserName\\.sdkman\\candidates\\java\\current`\r\n\r\nThe idea is that you point your pc to the &quot;current/&quot; directory so that when you change java version with SDKman, the pc environment variable never needs to be updated.\r\n\r\nBut for the ide, instead of pointing it to the &quot;current/&quot; directory, you can point it directly to the JDK folder\r\n\r\n`C:\\Users\\yourUserName\\.sdkman\\candidates\\java\\8.322.06.2-amzn`\r\n\r\nYou can specify the JDK for each project, P1 and P2, separately. So even if you change java version with SDKman, that only effects the &quot;current/&quot; directory, which the ides are no longer pointing at.\r\n\r\nSince I did this, I dont have to change java version if I want to switch working on my java 8 project to working on my java 11 project. And that means I dont have to close my java 8 project to open my java 11 project. I can have them both open at the same time, and switch between them easily.","title":"How do you change java version using SDKMAN without needing to close Intellij IDEA first?","body":"<p>After some additional effort to figure this out, it turned out to be an easy fix. SDKman stores the JDKs in this folder:</p>\n<p><code>C:\\Users\\yourUserName\\.sdkman\\candidates\\java</code></p>\n<p>When you issue the command</p>\n<p><code>sdk default java 8.322.06.2-amzn</code></p>\n<p>it copies the JDK from the java 8 folder</p>\n<p><code>C:\\Users\\yourUserName\\.sdkman\\candidates\\java\\8.322.06.2-amzn</code></p>\n<p>and pastes it into the current folder.</p>\n<p><code>C:\\Users\\yourUserName\\.sdkman\\candidates\\java\\current</code></p>\n<p>The idea is that you point your pc to the &quot;current/&quot; directory so that when you change java version with SDKman, the pc environment variable never needs to be updated.</p>\n<p>But for the ide, instead of pointing it to the &quot;current/&quot; directory, you can point it directly to the JDK folder</p>\n<p><code>C:\\Users\\yourUserName\\.sdkman\\candidates\\java\\8.322.06.2-amzn</code></p>\n<p>You can specify the JDK for each project, P1 and P2, separately. So even if you change java version with SDKman, that only effects the &quot;current/&quot; directory, which the ides are no longer pointing at.</p>\n<p>Since I did this, I dont have to change java version if I want to switch working on my java 8 project to working on my java 11 project. And that means I dont have to close my java 8 project to open my java 11 project. I can have them both open at the same time, and switch between them easily.</p>\n"}],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697901174,"creation_date":1697152060,"question_id":77284252,"body_markdown":"I have sdkman installed on my PC laptop. I work on two separate projects, where P1 uses Java 11 and P2 uses Java 8. If I am working on P1, but something comes up and I need to work on P2, I will open up P2 using my ide (IntelliJ IDEA). Since P2 uses Java 8, I will open a terminal and use sdkman to change my pc to use Java 8. However, when I attempt this, I get 2 error messages:\r\n\r\n    user1@ bin $ sdk default java 8.322.06.2-amzn\r\n\r\n    rm: cannot remove &#39;/c/Users/user1/.sdkman/candidates/java/current/lib/jrt-fs.jar&#39;: \r\n    Device or resource busy\r\n\r\n    ln: failed to create symbolic link \r\n    &#39;/c/Users/user1/.sdkman/candidates/java/current/8.322.06.2-amzn&#39;: No such file or \r\n    directory\r\n\r\nWhen I look in the &quot;current/&quot; directory, instead of it being populated with the Java 8 JDK, it looks like &quot;lib/jrt-fs.jar&quot; (left over from the previous Java 11 JDK content) has not been deleted, and is in fact still residing in &quot;current/&quot;. If I attempt to delete &quot;lib/&quot; via the file system, it tells me that the folder cannot be deleted, as a program is using it. I think there is a file handle not released by the ide, because when I close the ide, I can delete the folder, and I can use sdkman to populate the &quot;current/&quot; folder again.\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n**Question**: Is there a way to release the ide file handle on contents in the &quot;current/&quot; folder, without closing the ide? \r\n\r\n**Caveat**: When I googled &quot;Device or resource busy&quot; I saw mentioned that I could use the umount command somehow, but I am not sure if this is a false trail or if I just need more information: [here][2]\r\n\r\nNote: I am using the Community Edition of IntelliJ IDEA, version 2022.3.2\r\n\r\n**Edit**: Here is a snapshot of the Project Settings that shows picking the JDK from the file system.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KXyPG.jpg\r\n  [2]: https://stackoverflow.com/questions/71962532/automatically-solve-rm-cannot-remove-path-device-or-resource-busy-error\r\n  [3]: https://i.stack.imgur.com/ajagM.jpg","title":"How do you change java version using SDKMAN without needing to close Intellij IDEA first?","body":"<p>I have sdkman installed on my PC laptop. I work on two separate projects, where P1 uses Java 11 and P2 uses Java 8. If I am working on P1, but something comes up and I need to work on P2, I will open up P2 using my ide (IntelliJ IDEA). Since P2 uses Java 8, I will open a terminal and use sdkman to change my pc to use Java 8. However, when I attempt this, I get 2 error messages:</p>\n<pre><code>user1@ bin $ sdk default java 8.322.06.2-amzn\n\nrm: cannot remove '/c/Users/user1/.sdkman/candidates/java/current/lib/jrt-fs.jar': \nDevice or resource busy\n\nln: failed to create symbolic link \n'/c/Users/user1/.sdkman/candidates/java/current/8.322.06.2-amzn': No such file or \ndirectory\n</code></pre>\n<p>When I look in the &quot;current/&quot; directory, instead of it being populated with the Java 8 JDK, it looks like &quot;lib/jrt-fs.jar&quot; (left over from the previous Java 11 JDK content) has not been deleted, and is in fact still residing in &quot;current/&quot;. If I attempt to delete &quot;lib/&quot; via the file system, it tells me that the folder cannot be deleted, as a program is using it. I think there is a file handle not released by the ide, because when I close the ide, I can delete the folder, and I can use sdkman to populate the &quot;current/&quot; folder again.</p>\n<p><a href=\"https://i.stack.imgur.com/KXyPG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXyPG.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question</strong>: Is there a way to release the ide file handle on contents in the &quot;current/&quot; folder, without closing the ide?</p>\n<p><strong>Caveat</strong>: When I googled &quot;Device or resource busy&quot; I saw mentioned that I could use the umount command somehow, but I am not sure if this is a false trail or if I just need more information: <a href=\"https://stackoverflow.com/questions/71962532/automatically-solve-rm-cannot-remove-path-device-or-resource-busy-error\">here</a></p>\n<p>Note: I am using the Community Edition of IntelliJ IDEA, version 2022.3.2</p>\n<p><strong>Edit</strong>: Here is a snapshot of the Project Settings that shows picking the JDK from the file system.</p>\n<p><a href=\"https://i.stack.imgur.com/ajagM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajagM.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","redirect","struts2","actionresult"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1418991348,"post_id":27565324,"comment_id":43556855,"body_markdown":"What is the action config for the above url?","body":"What is the action config for the above url?"},{"owner":{"account_id":5511577,"reputation":1,"user_id":4377690,"display_name":"king37sniper"},"score":0,"creation_date":1418992280,"post_id":27565324,"comment_id":43557374,"body_markdown":"U mean web.xml file ?","body":"U mean web.xml file ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1418992559,"post_id":27565324,"comment_id":43557516,"body_markdown":"You have posted only action configuration in xml for two actions `listProductsAction` and `sendComments`. What is the action configuration for `localhost:8084/Web/viewProductsAction?idProducts=1`?","body":"You have posted only action configuration in xml for two actions <code>listProductsAction</code> and <code>sendComments</code>. What is the action configuration for <code>localhost:8084&#47;Web&#47;viewProductsAction?idProducts=1</code>?"},{"owner":{"account_id":5511577,"reputation":1,"user_id":4377690,"display_name":"king37sniper"},"score":0,"creation_date":1418992773,"post_id":27565324,"comment_id":43557623,"body_markdown":"&lt;action name=&quot;viewProductsAction&quot; class=&quot;com.struts2.action.ProductsAction&quot; method=&quot;viewProducts&quot;&gt;\n       &lt;result name=&quot;success&quot;&gt;/products.jsp&lt;/result&gt;            \n    &lt;/action&gt;","body":"&lt;action name=&quot;viewProductsAction&quot; class=&quot;com.struts2.action.ProductsAction&quot; method=&quot;viewProducts&quot;&gt;        &lt;result name=&quot;success&quot;&gt;/products.jsp&lt;/result&gt;                 &lt;/action&gt;"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1418995198,"post_id":27565324,"comment_id":43558922,"body_markdown":"http://stackoverflow.com/a/25685548/1654265","body":"<a href=\"http://stackoverflow.com/a/25685548/1654265\">stackoverflow.com/a/25685548/1654265</a>"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621366870,"creation_date":1418993034,"answer_id":27566467,"question_id":27565324,"body_markdown":"Change the location of the `redirect` result to `redirectAction` result and location to `viewProductsAction`. After the post it will forward to the previous page.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;sendComments&quot; class=&quot;com.struts2.action.CommentsAction&quot; method=&quot;sendComments&quot;&gt;\r\n       &lt;result name=&quot;success&quot; type=&quot;redirectAction&quot;&gt;viewProductsAction?idProducts=1&lt;/result&gt;\r\n    &lt;/action&gt; ","title":"Struts 2 Actions Redirect","body":"<p>Change the location of the <code>redirect</code> result to <code>redirectAction</code> result and location to <code>viewProductsAction</code>. After the post it will forward to the previous page.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;sendComments&quot; class=&quot;com.struts2.action.CommentsAction&quot; method=&quot;sendComments&quot;&gt;\n   &lt;result name=&quot;success&quot; type=&quot;redirectAction&quot;&gt;viewProductsAction?idProducts=1&lt;/result&gt;\n&lt;/action&gt; \n</code></pre>\n"}],"owner":{"account_id":5511577,"reputation":1,"user_id":4377690,"display_name":"king37sniper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697900779,"creation_date":1418989132,"question_id":27565324,"body_markdown":"I am using Struts 2.  \r\n\r\n    localhost:8084/Web/viewProductsAction?idProducts=1\r\n\r\nAfter I see this product, I leave a comment.\r\n\r\nAnd it successful but I got moved to \r\n\r\n    localhost:8084/Web/listProductsAction\r\n\r\nHere is code in `struts.xml`: \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;listProductsAction&quot; class=&quot;com.struts2.action.ProductsAction&quot; method=&quot;viewProducts&quot;&gt;\r\n       &lt;result name=&quot;success&quot;&gt;/products.jsp&lt;/result&gt;            \r\n    &lt;/action&gt;\r\n    &lt;action name=&quot;sendComments&quot; class=&quot;com.struts2.action.CommentsAction&quot; method=&quot;sendComments&quot;&gt;\r\n       &lt;result name=&quot;success&quot; type=&quot;redirect&quot;&gt;listProductsAction&lt;/result&gt;\r\n    &lt;/action&gt; \r\n\r\nBut I want after leave a comment, it forward to \r\n \r\n    localhost:8084/Web/viewProductsAction?idProducts=1\r\n\r\nHow can I do that?","title":"Struts 2 Actions Redirect","body":"<p>I am using Struts 2.</p>\n<pre><code>localhost:8084/Web/viewProductsAction?idProducts=1\n</code></pre>\n<p>After I see this product, I leave a comment.</p>\n<p>And it successful but I got moved to</p>\n<pre><code>localhost:8084/Web/listProductsAction\n</code></pre>\n<p>Here is code in <code>struts.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;listProductsAction&quot; class=&quot;com.struts2.action.ProductsAction&quot; method=&quot;viewProducts&quot;&gt;\n   &lt;result name=&quot;success&quot;&gt;/products.jsp&lt;/result&gt;            \n&lt;/action&gt;\n&lt;action name=&quot;sendComments&quot; class=&quot;com.struts2.action.CommentsAction&quot; method=&quot;sendComments&quot;&gt;\n   &lt;result name=&quot;success&quot; type=&quot;redirect&quot;&gt;listProductsAction&lt;/result&gt;\n&lt;/action&gt; \n</code></pre>\n<p>But I want after leave a comment, it forward to</p>\n<pre><code>localhost:8084/Web/viewProductsAction?idProducts=1\n</code></pre>\n<p>How can I do that?</p>\n"},{"tags":["java","struts2","migration","struts-1"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1441620152,"post_id":32434941,"comment_id":52736449,"body_markdown":"can you post your full code. by this code we can&#39;t guess what you are trying to achieve?","body":"can you post your full code. by this code we can&#39;t guess what you are trying to achieve?"},{"owner":{"account_id":6872449,"reputation":91,"user_id":5282243,"accept_rate":62,"display_name":"Test"},"score":0,"creation_date":1441620582,"post_id":32434941,"comment_id":52736686,"body_markdown":"Well it is difficult to post the entire code. But in the 1st case, the function is for page redirection. In the 2nd case the code is for setting global action error. I hope it helps.","body":"Well it is difficult to post the entire code. But in the 1st case, the function is for page redirection. In the 2nd case the code is for setting global action error. I hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697900434,"creation_date":1441626537,"answer_id":32437983,"question_id":32434941,"body_markdown":"In Struts 1 you should return `ActionForward` from the `execute` method. Struts 2 returns a result code of type `String`. So the code where `ActionForward` is expected should be replaced with result code. The action result should be configured to the action the same way like you configure forwards in Struts 1. \r\n\r\nCreate two result configs: one is `redirectAction` result type, and another `dispatcher` result type. Like this \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;result name=&quot;redirect&quot; type=&quot;redirectAction&quot;&gt;${forwardPage}&lt;/result&gt;\r\n    &lt;result&gt;${forwardPage}&lt;/result&gt;\r\n\r\n   \r\nThe code should be replace with\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private String forwardPage; \r\n\r\n    public String getForwardPage() { return forwardPage; }\r\n    \r\n    public void setForwardPage(String forwardPage) {\r\n      this.forwardPage = forwardPage;\r\n    } \r\n\r\n    protected String getActionForward(FilterContext ctx, String key, boolean redirect) {\r\n        HashMap filterForwards = ctx.getFilterForwards();\r\n        String forwardPage = (String)filterForwards.get(key);\r\n        if(forwardPage == null)\r\n            return NONE;\r\n        if (redirect) {\r\n           setForwardPage(forwardPage);\r\n           return &quot;redirect&quot;;\r\n        } else {\r\n           setForwardPage(forwardPage)\r\n           return SUCCESS; \r\n        }\r\n    }\r\n\r\nThe errors are provided by the `ActionSupport` class that your action should inherit. Then you can use the code\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    protected void setError(String msg) {\r\n        addActionError(getText(&quot;exception&quot;, new Object[]{msg}));\r\n    }\r\n\r\nIn the JSP you can display errors with \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:actionerror/&gt;\r\n","title":"Migrating from Struts1 to Struts2","body":"<p>In Struts 1 you should return <code>ActionForward</code> from the <code>execute</code> method. Struts 2 returns a result code of type <code>String</code>. So the code where <code>ActionForward</code> is expected should be replaced with result code. The action result should be configured to the action the same way like you configure forwards in Struts 1.</p>\n<p>Create two result configs: one is <code>redirectAction</code> result type, and another <code>dispatcher</code> result type. Like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;result name=&quot;redirect&quot; type=&quot;redirectAction&quot;&gt;${forwardPage}&lt;/result&gt;\n&lt;result&gt;${forwardPage}&lt;/result&gt;\n</code></pre>\n<p>The code should be replace with</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String forwardPage; \n\npublic String getForwardPage() { return forwardPage; }\n\npublic void setForwardPage(String forwardPage) {\n  this.forwardPage = forwardPage;\n} \n\nprotected String getActionForward(FilterContext ctx, String key, boolean redirect) {\n    HashMap filterForwards = ctx.getFilterForwards();\n    String forwardPage = (String)filterForwards.get(key);\n    if(forwardPage == null)\n        return NONE;\n    if (redirect) {\n       setForwardPage(forwardPage);\n       return &quot;redirect&quot;;\n    } else {\n       setForwardPage(forwardPage)\n       return SUCCESS; \n    }\n}\n</code></pre>\n<p>The errors are provided by the <code>ActionSupport</code> class that your action should inherit. Then you can use the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void setError(String msg) {\n    addActionError(getText(&quot;exception&quot;, new Object[]{msg}));\n}\n</code></pre>\n<p>In the JSP you can display errors with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:actionerror/&gt;\n</code></pre>\n"}],"owner":{"account_id":6872449,"reputation":91,"user_id":5282243,"accept_rate":62,"display_name":"Test"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32437983,"answer_count":1,"score":1,"last_activity_date":1697900434,"creation_date":1441616926,"question_id":32434941,"body_markdown":"I am migrating an application from Struts 1 to Struts 2. I have encountered the following code snippet. Please let me know how to replace the code snippet in Struts 2.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n     \r\n    protected ActionForward getActionForward(FilterContext ctx, String key, boolean redirect) {\r\n    \tHashMap filterForwards = ctx.getFilterForwards();\r\n    \tString forwardPage = (String)filterForwards.get(key);\r\n    \tif(forwardPage == null)\r\n    \t\treturn null;\r\n    \treturn new ActionForward(forwardPage, redirect);\r\n    }\r\n\r\nAnd another code snippet is like this:-\r\n\r\n    protected void setError(HttpServletRequest req, String msg) {\r\n    \t\tActionMessages errors = new ActionMessages();\r\n    \t\terrors.add(&quot;exception&quot;, new ActionMessage(MSG_KEY, msg));\r\n    \t\treq.setAttribute(Globals.ERROR_KEY, errors);\r\n    \t}\r\n\r\nShould I replace the above code with `addActionError(msg)`?\r\n\r\n","title":"Migrating from Struts1 to Struts2","body":"<p>I am migrating an application from Struts 1 to Struts 2. I have encountered the following code snippet. Please let me know how to replace the code snippet in Struts 2.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>protected ActionForward getActionForward(FilterContext ctx, String key, boolean redirect) {\n    HashMap filterForwards = ctx.getFilterForwards();\n    String forwardPage = (String)filterForwards.get(key);\n    if(forwardPage == null)\n        return null;\n    return new ActionForward(forwardPage, redirect);\n}\n</code></pre>\n\n<p>And another code snippet is like this:-</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected void setError(HttpServletRequest req, String msg) {\n        ActionMessages errors = new ActionMessages();\n        errors.add(\"exception\", new ActionMessage(MSG_KEY, msg));\n        req.setAttribute(Globals.ERROR_KEY, errors);\n    }\n</code></pre>\n\n<p>Should I replace the above code with <code>addActionError(msg)</code>?</p>\n"},{"tags":["java","spring-oauth2"],"comments":[{"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697905968,"post_id":77336534,"comment_id":136339445,"body_markdown":"Is the Authorization server started when before you start the client?","body":"Is the Authorization server started when before you start the client?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1697914152,"post_id":77336534,"comment_id":136340256,"body_markdown":"@ch4mp yes, yes","body":"@ch4mp yes, yes"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697900292,"creation_date":1697900292,"question_id":77336534,"body_markdown":"For learning purposes, I&#39;ve decided to create a sample application that would consist of three services (Java modules).\r\n* OAuth 2 authorization server\r\n* resource server\r\n* OAuth 2 client\r\n\r\nI&#39;ve not had any big issues with the first 2 of them, but I&#39;ve spent the last few hours trying to figure out how to create a valid OAuth 2 client, but I keep on receiving this error: `Unable to resolve Configuration with the provided Issuer of &quot;http://localhost:9000&quot;`.\r\n\r\nSince I&#39;ve no clue where the issue is, I&#39;ll provide all the neccessary context of all 3 services.\r\n\r\nHere&#39;s the configuration of the **resource server**.\r\n\r\n* `application.yml`\r\n```\r\nserver:\r\n  port: 8080\r\n\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: &quot;http://localhost:9000&quot;\r\n          jwk-set-uri: &quot;http://localhost:9000/oauth2/jwks&quot;\r\n```\r\n* `SecurityConfig`\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    MvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\r\n        return new MvcRequestMatcher.Builder(introspector);\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain filterChain(HttpSecurity http, MvcRequestMatcher.Builder mvc) throws Exception {\r\n        http\r\n                // SECURITY\r\n                .csrf(CsrfConfigurer::disable)\r\n                .headers(headers -&gt; headers\r\n                        .frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\r\n                // RISK\r\n                .authorizeHttpRequests((auth) -&gt; auth\r\n                        .requestMatchers(mvc.pattern(&quot;/data-api/users&quot;)).denyAll()\r\n                        .requestMatchers(mvc.pattern(&quot;/data-api/users/**&quot;)).denyAll()\r\n                        .requestMatchers(mvc.pattern(&quot;/data-api/taco-orders&quot;)).denyAll()\r\n                        .requestMatchers(mvc.pattern(&quot;/data-api/taco-orders/**&quot;)).denyAll()\r\n                        .requestMatchers(mvc.pattern(HttpMethod.POST, &quot;/data-api/tacos&quot;)).authenticated()\r\n                        .requestMatchers(mvc.pattern(HttpMethod.DELETE, &quot;/data-api/tacos/**&quot;)).denyAll()\r\n                        .requestMatchers(mvc.pattern(HttpMethod.POST, &quot;/data-api/ingredients&quot;)).hasAuthority(&quot;SCOPE_ingredients.write&quot;)\r\n                        .requestMatchers(mvc.pattern(HttpMethod.DELETE, &quot;/data-api/ingredients/**&quot;)).hasAuthority(&quot;SCOPE_ingredients.delete&quot;)\r\n                        .requestMatchers(mvc.pattern(&quot;/design&quot;), mvc.pattern(&quot;/orders&quot;)).hasRole(&quot;USER&quot;)\r\n                        .requestMatchers(mvc.pattern(&quot;/&quot;), mvc.pattern(&quot;/**&quot;)).permitAll()\r\n                        .requestMatchers(toH2Console()).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(Customizer.withDefaults()))\r\n                .formLogin((formLogin) -&gt; formLogin\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/design&quot;));\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n**Authorization server** settings...\r\n\r\n* `application.yml`\r\n```\r\nserver:\r\n  port: 9000\r\n```\r\n\r\n* `AuthServerConfig`\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthServerConfig {\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http\r\n                .formLogin(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder) {\r\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n                .clientId(&quot;taco-cloud-client&quot;)\r\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                .authorizationGrantTypes(grantTypes -&gt; grantTypes.addAll(Set.of(\r\n                        AuthorizationGrantType.AUTHORIZATION_CODE,\r\n                        AuthorizationGrantType.REFRESH_TOKEN\r\n                )))\r\n                .redirectUris(redirectUris -&gt; redirectUris.addAll(Set.of(\r\n                        &quot;http://127.0.0.1:9090/authorized&quot;,\r\n                        &quot;http://127.0.0.1:9090/login/oauth2/code/taco-cloud-client&quot;\r\n                )))\r\n                .scopes(scopes -&gt; scopes.addAll(Set.of(\r\n                        &quot;ingredients.write&quot;,\r\n                        &quot;ingredients.delete&quot;,\r\n                        OidcScopes.OPENID\r\n                )))\r\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n                .build();\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource()\r\n            throws NoSuchAlgorithmException {\r\n        RSAKey rsaKey = generateRsa();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\r\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\r\n    }\r\n\r\n    private static RSAKey generateRsa() throws NoSuchAlgorithmException {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        return new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n    }\r\n\r\n    private static KeyPair generateRsaKey() throws NoSuchAlgorithmException {\r\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        keyPairGenerator.initialize(2048);\r\n        return keyPairGenerator.generateKeyPair();\r\n    }\r\n}\r\n```\r\n* `SecurityConfig`\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .anyRequest().authenticated())\r\n                .formLogin(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nAnd the problematic **OAuth 2.0 client**:\r\n* `application.yml`\r\n```\r\nserver:\r\n  port: 9090\r\n\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          taco-cloud-client:\r\n            provider: tacocloud\r\n            client-id: taco-cloud-client\r\n            client-secret: secret\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: &quot;http://127.0.0.1:9090/login/oauth2/code/{registrationId}&quot;\r\n            scope:\r\n              - openid\r\n              - ingredients.read\r\n              - ingredients.write\r\n        provider:\r\n          tacocloud:\r\n            issuer-uri: http://localhost:9000\r\n```\r\n* `SecurityConfig`\r\n```\r\n@EnableWebSecurity\r\n@Configuration(proxyBeanMethods = false)\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt;\r\n                        authorize\r\n                                .anyRequest().authenticated())\r\n                .oauth2Login(oauth2Login -&gt;\r\n                        oauth2Login.loginPage(&quot;/oauth2/authorization/taco-cloud-client&quot;))\r\n                .oauth2Client(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nUff.. That&#39;s it, I think ;D If anyone would be so kind to point me in the right direction, I&#39;d be thankful!","title":"Unable to resolve Configuration with the provided Issuer: can&#39;t set up OAuth client","body":"<p>For learning purposes, I've decided to create a sample application that would consist of three services (Java modules).</p>\n<ul>\n<li>OAuth 2 authorization server</li>\n<li>resource server</li>\n<li>OAuth 2 client</li>\n</ul>\n<p>I've not had any big issues with the first 2 of them, but I've spent the last few hours trying to figure out how to create a valid OAuth 2 client, but I keep on receiving this error: <code>Unable to resolve Configuration with the provided Issuer of &quot;http://localhost:9000&quot;</code>.</p>\n<p>Since I've no clue where the issue is, I'll provide all the neccessary context of all 3 services.</p>\n<p>Here's the configuration of the <strong>resource server</strong>.</p>\n<ul>\n<li><code>application.yml</code></li>\n</ul>\n<pre><code>server:\n  port: 8080\n\nspring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: &quot;http://localhost:9000&quot;\n          jwk-set-uri: &quot;http://localhost:9000/oauth2/jwks&quot;\n</code></pre>\n<ul>\n<li><code>SecurityConfig</code></li>\n</ul>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    MvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\n        return new MvcRequestMatcher.Builder(introspector);\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain filterChain(HttpSecurity http, MvcRequestMatcher.Builder mvc) throws Exception {\n        http\n                // SECURITY\n                .csrf(CsrfConfigurer::disable)\n                .headers(headers -&gt; headers\n                        .frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\n                // RISK\n                .authorizeHttpRequests((auth) -&gt; auth\n                        .requestMatchers(mvc.pattern(&quot;/data-api/users&quot;)).denyAll()\n                        .requestMatchers(mvc.pattern(&quot;/data-api/users/**&quot;)).denyAll()\n                        .requestMatchers(mvc.pattern(&quot;/data-api/taco-orders&quot;)).denyAll()\n                        .requestMatchers(mvc.pattern(&quot;/data-api/taco-orders/**&quot;)).denyAll()\n                        .requestMatchers(mvc.pattern(HttpMethod.POST, &quot;/data-api/tacos&quot;)).authenticated()\n                        .requestMatchers(mvc.pattern(HttpMethod.DELETE, &quot;/data-api/tacos/**&quot;)).denyAll()\n                        .requestMatchers(mvc.pattern(HttpMethod.POST, &quot;/data-api/ingredients&quot;)).hasAuthority(&quot;SCOPE_ingredients.write&quot;)\n                        .requestMatchers(mvc.pattern(HttpMethod.DELETE, &quot;/data-api/ingredients/**&quot;)).hasAuthority(&quot;SCOPE_ingredients.delete&quot;)\n                        .requestMatchers(mvc.pattern(&quot;/design&quot;), mvc.pattern(&quot;/orders&quot;)).hasRole(&quot;USER&quot;)\n                        .requestMatchers(mvc.pattern(&quot;/&quot;), mvc.pattern(&quot;/**&quot;)).permitAll()\n                        .requestMatchers(toH2Console()).permitAll()\n                        .anyRequest().authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(Customizer.withDefaults()))\n                .formLogin((formLogin) -&gt; formLogin\n                        .loginPage(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/design&quot;));\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Authorization server</strong> settings...</p>\n<ul>\n<li><code>application.yml</code></li>\n</ul>\n<pre><code>server:\n  port: 9000\n</code></pre>\n<ul>\n<li><code>AuthServerConfig</code></li>\n</ul>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class AuthServerConfig {\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http\n                .formLogin(Customizer.withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder) {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;taco-cloud-client&quot;)\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantTypes(grantTypes -&gt; grantTypes.addAll(Set.of(\n                        AuthorizationGrantType.AUTHORIZATION_CODE,\n                        AuthorizationGrantType.REFRESH_TOKEN\n                )))\n                .redirectUris(redirectUris -&gt; redirectUris.addAll(Set.of(\n                        &quot;http://127.0.0.1:9090/authorized&quot;,\n                        &quot;http://127.0.0.1:9090/login/oauth2/code/taco-cloud-client&quot;\n                )))\n                .scopes(scopes -&gt; scopes.addAll(Set.of(\n                        &quot;ingredients.write&quot;,\n                        &quot;ingredients.delete&quot;,\n                        OidcScopes.OPENID\n                )))\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n\n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource()\n            throws NoSuchAlgorithmException {\n        RSAKey rsaKey = generateRsa();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\n    }\n\n    private static RSAKey generateRsa() throws NoSuchAlgorithmException {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        return new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n    }\n\n    private static KeyPair generateRsaKey() throws NoSuchAlgorithmException {\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        keyPairGenerator.initialize(2048);\n        return keyPairGenerator.generateKeyPair();\n    }\n}\n</code></pre>\n<ul>\n<li><code>SecurityConfig</code></li>\n</ul>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .anyRequest().authenticated())\n                .formLogin(Customizer.withDefaults());\n        return http.build();\n    }\n}\n</code></pre>\n<p>And the problematic <strong>OAuth 2.0 client</strong>:</p>\n<ul>\n<li><code>application.yml</code></li>\n</ul>\n<pre><code>server:\n  port: 9090\n\nspring:\n  security:\n    oauth2:\n      client:\n        registration:\n          taco-cloud-client:\n            provider: tacocloud\n            client-id: taco-cloud-client\n            client-secret: secret\n            authorization-grant-type: authorization_code\n            redirect-uri: &quot;http://127.0.0.1:9090/login/oauth2/code/{registrationId}&quot;\n            scope:\n              - openid\n              - ingredients.read\n              - ingredients.write\n        provider:\n          tacocloud:\n            issuer-uri: http://localhost:9000\n</code></pre>\n<ul>\n<li><code>SecurityConfig</code></li>\n</ul>\n<pre><code>@EnableWebSecurity\n@Configuration(proxyBeanMethods = false)\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt;\n                        authorize\n                                .anyRequest().authenticated())\n                .oauth2Login(oauth2Login -&gt;\n                        oauth2Login.loginPage(&quot;/oauth2/authorization/taco-cloud-client&quot;))\n                .oauth2Client(Customizer.withDefaults());\n        return http.build();\n    }\n}\n</code></pre>\n<p>Uff.. That's it, I think ;D If anyone would be so kind to point me in the right direction, I'd be thankful!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1473438609,"post_id":39415947,"comment_id":66156691,"body_markdown":"That&#39;s not something you can reasonably check. In any case, you&#39;d have to worry about other lists that don&#39;t support `add`, like `Collections.unmodifiableList`, or Guava&#39;s `ImmutableList`, or who knows what else.","body":"That&#39;s not something you can reasonably check. In any case, you&#39;d have to worry about other lists that don&#39;t support <code>add</code>, like <code>Collections.unmodifiableList</code>, or Guava&#39;s <code>ImmutableList</code>, or who knows what else."},{"owner":{"account_id":4056640,"reputation":1703,"user_id":4969140,"accept_rate":88,"display_name":"Adrian Jałoszewski"},"score":0,"creation_date":1473438721,"post_id":39415947,"comment_id":66156738,"body_markdown":"Is there really no good way of checking this? Even through some reflection magic?","body":"Is there really no good way of checking this? Even through some reflection magic?"},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1473438982,"post_id":39415947,"comment_id":66156868,"body_markdown":"Sure, there&#39;s nasty reflection stuff you could do, but it&#39;s not really *better* to do the nasty reflection stuff. You&#39;ll still get `UnsupportedOperationError`s when someone passes in a type that doesn&#39;t support `add`, and now you&#39;ll also have to deal with `SecurityException`s when a security manager stops you or `ClassNotFoundException`s when the class name changes.","body":"Sure, there&#39;s nasty reflection stuff you could do, but it&#39;s not really <i>better</i> to do the nasty reflection stuff. You&#39;ll still get <code>UnsupportedOperationError</code>s when someone passes in a type that doesn&#39;t support <code>add</code>, and now you&#39;ll also have to deal with <code>SecurityException</code>s when a security manager stops you or <code>ClassNotFoundException</code>s when the class name changes."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697899607,"post_id":39415947,"comment_id":136338787,"body_markdown":"‘Static inner’ is a contradiction in terms. This is a static nested class.","body":"‘Static inner’ is a contradiction in terms. This is a static nested class."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717185,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1473439095,"creation_date":1473439095,"answer_id":39416135,"question_id":39415947,"body_markdown":"&gt; Is there really no good way of checking this? Even through some reflection magic?\r\n\r\nThere is a way, but it is not a good one by any measure:\r\n\r\n    // WARNINIG: This is very fragile, please try avoiding code like this.\r\n    if (theirList.getClass().getEnclosingClass() != null) {\r\n        // theirList is an instance of an inner class\r\n    }\r\n\r\nThe problem is not that it is hard to do, but that the result becomes very unreliable:\r\n\r\n- **This code rejects mutable implementations of `List&lt;T&gt;`** - for example, if you decide to roll your own nested class implementing `List&lt;T&gt;`, it would be rejected\r\n- **This code would accept a top-level read-only implementation** - if Oracle decides one day to move the implementation to top level, your code will stop working.\r\n\r\nFor these reasons it would be better to try adding to the class, catch the exception, and take whatever alternative that you were going to take when the caller passes you a read-only list.","title":"Checking if instance of private static nested class","body":"<blockquote>\n  <p>Is there really no good way of checking this? Even through some reflection magic?</p>\n</blockquote>\n\n<p>There is a way, but it is not a good one by any measure:</p>\n\n<pre><code>// WARNINIG: This is very fragile, please try avoiding code like this.\nif (theirList.getClass().getEnclosingClass() != null) {\n    // theirList is an instance of an inner class\n}\n</code></pre>\n\n<p>The problem is not that it is hard to do, but that the result becomes very unreliable:</p>\n\n<ul>\n<li><strong>This code rejects mutable implementations of <code>List&lt;T&gt;</code></strong> - for example, if you decide to roll your own nested class implementing <code>List&lt;T&gt;</code>, it would be rejected</li>\n<li><strong>This code would accept a top-level read-only implementation</strong> - if Oracle decides one day to move the implementation to top level, your code will stop working.</li>\n</ul>\n\n<p>For these reasons it would be better to try adding to the class, catch the exception, and take whatever alternative that you were going to take when the caller passes you a read-only list.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473439206,"creation_date":1473439206,"answer_id":39416165,"question_id":39415947,"body_markdown":"It&#39;s a horrible, dirty, error-prone practice, but you can check the class&#39; name. An inner&#39;s class name is the enclosing class&#39; name followed by `$` and the inner class&#39; name. In this case:\r\n\r\n    SomeInterface instance = Outer.returnInner();\r\n    if (instance.getClass().getName().equals(Outer.class.getName() + &quot;$Inner&quot;)) {\r\n        throw new RuntimeException(&quot;Ooops, something bad happened&quot;);\r\n    }","title":"Checking if instance of private static nested class","body":"<p>It's a horrible, dirty, error-prone practice, but you can check the class' name. An inner's class name is the enclosing class' name followed by <code>$</code> and the inner class' name. In this case:</p>\n\n<pre><code>SomeInterface instance = Outer.returnInner();\nif (instance.getClass().getName().equals(Outer.class.getName() + \"$Inner\")) {\n    throw new RuntimeException(\"Ooops, something bad happened\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697899589,"creation_date":1697898911,"answer_id":77336452,"question_id":39415947,"body_markdown":"None of the other answers up to now generalize to a ***real*** `instanceof` implementation and merely check class equality. This doesn&#39;t handle the situation where `returnInner()` returns a *subclass* of `Inner`.\r\n\r\nIt&#39;s not too hard to emulate `instanceof` using reflection by recursively checking all superclasses and interfaces.\r\n\r\n\r\n\tprivate static boolean isInstanceOf(Class&lt;?&gt; clazz, String type) {\r\n\t\tif (clazz.getName().equals(type)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tClass&lt;?&gt; superClazz = clazz.getSuperclass();\r\n\t\tif (superClazz != null &amp;&amp; isInstanceOf(superClazz, type)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfor (Class&lt;?&gt; interfaze : clazz.getInterfaces()) {\r\n\t\t\tif (isInstanceOf(interfaze, type)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\nUsage:\r\n\r\n    if (isInstanceOf(o.getClass(), &quot;my.package.Outer$Inner&quot;)) // or\r\n    if (isInstanceOf(o.getClass(), Outer.class.getName() + &quot;$Inner&quot;))\r\n\r\n*The same fragility warnings apply as with all reflection usage of non-public elements: The element(s) in question are not non-public without reason. The reason is that these elements can change without notice when a library updates or when your program is run with a different JRE version.*","title":"Checking if instance of private static nested class","body":"<p>None of the other answers up to now generalize to a <em><strong>real</strong></em> <code>instanceof</code> implementation and merely check class equality. This doesn't handle the situation where <code>returnInner()</code> returns a <em>subclass</em> of <code>Inner</code>.</p>\n<p>It's not too hard to emulate <code>instanceof</code> using reflection by recursively checking all superclasses and interfaces.</p>\n<pre><code>private static boolean isInstanceOf(Class&lt;?&gt; clazz, String type) {\n    if (clazz.getName().equals(type)) {\n        return true;\n    }\n\n    Class&lt;?&gt; superClazz = clazz.getSuperclass();\n    if (superClazz != null &amp;&amp; isInstanceOf(superClazz, type)) {\n        return true;\n    }\n\n    for (Class&lt;?&gt; interfaze : clazz.getInterfaces()) {\n        if (isInstanceOf(interfaze, type)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>if (isInstanceOf(o.getClass(), &quot;my.package.Outer$Inner&quot;)) // or\nif (isInstanceOf(o.getClass(), Outer.class.getName() + &quot;$Inner&quot;))\n</code></pre>\n<p><em>The same fragility warnings apply as with all reflection usage of non-public elements: The element(s) in question are not non-public without reason. The reason is that these elements can change without notice when a library updates or when your program is run with a different JRE version.</em></p>\n"}],"owner":{"account_id":4056640,"reputation":1703,"user_id":4969140,"accept_rate":88,"display_name":"Adrian Jałoszewski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":39416135,"answer_count":3,"score":8,"last_activity_date":1697899589,"creation_date":1473438396,"question_id":39415947,"body_markdown":"The title of the question sounds like a good thought experiment. Sadly it isn&#39;t. Lets assume the following code structure:\r\n\r\n    class Outer {\r\n    \tprivate static class Inner implements SomeInterface {\r\n    \t\t...\r\n    \t}\r\n        public static SomeInterface returnInner() {\r\n            return new Inner();\r\n        }\r\n    }\r\nIs there a good, clean way of performing the following check:\r\n\r\n    SomeInterface a  = A.returnInner();\r\n    if (a instanceof Outer.Inner)\r\n    \tthrow new Error(&quot;Ooops, something bad happened&quot;);\r\nYou think this isn&#39;t a real life example? Check the `Arrays` class and the method `asList(T ...)` which returns its own `List&lt;T&gt;` implementation, which just happens to be an `private static class ArrayList&lt;T&gt;` (which has nothing to do with the usual `ArrayList` - thanks Sun and Oracle what would I do without you). I need to check whether the object passed to my method isn&#39;t an instance of this wrapper class, because it does not implement the `add()` method (it uses the implementation of `AbstractList` - it throws an `UnsupportedOperationException`).","title":"Checking if instance of private static nested class","body":"<p>The title of the question sounds like a good thought experiment. Sadly it isn't. Lets assume the following code structure:</p>\n\n<pre><code>class Outer {\n    private static class Inner implements SomeInterface {\n        ...\n    }\n    public static SomeInterface returnInner() {\n        return new Inner();\n    }\n}\n</code></pre>\n\n<p>Is there a good, clean way of performing the following check:</p>\n\n<pre><code>SomeInterface a  = A.returnInner();\nif (a instanceof Outer.Inner)\n    throw new Error(\"Ooops, something bad happened\");\n</code></pre>\n\n<p>You think this isn't a real life example? Check the <code>Arrays</code> class and the method <code>asList(T ...)</code> which returns its own <code>List&lt;T&gt;</code> implementation, which just happens to be an <code>private static class ArrayList&lt;T&gt;</code> (which has nothing to do with the usual <code>ArrayList</code> - thanks Sun and Oracle what would I do without you). I need to check whether the object passed to my method isn't an instance of this wrapper class, because it does not implement the <code>add()</code> method (it uses the implementation of <code>AbstractList</code> - it throws an <code>UnsupportedOperationException</code>).</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1641830358,"post_id":70655180,"comment_id":124903206,"body_markdown":"It works fine with http here, possibly an issue with your network setup.","body":"It works fine with http here, possibly an issue with your network setup."},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1641831471,"post_id":70655180,"comment_id":124903760,"body_markdown":"`http` is being redirected to `https`. It depends on the tool if it can handle such redirects.","body":"<code>http</code> is being redirected to <code>https</code>. It depends on the tool if it can handle such redirects."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641892543,"post_id":70655180,"comment_id":124919847,"body_markdown":"I also cannot reproduce your issue in the current Eclipse 2021-12 with m2e 1.19.0.20211116-0804: in the preferences _XML &gt; XML Catalog_ there is `http://maven.apache.org/xsd/maven-4.0.0.xsd` as a plug-in specified entry for me. Is your Eclipse up to date and do you have this entry in the preferences?","body":"I also cannot reproduce your issue in the current Eclipse 2021-12 with m2e 1.19.0.20211116-0804: in the preferences <i>XML &gt; XML Catalog</i> there is <code>http:&#47;&#47;maven.apache.org&#47;xsd&#47;maven-4.0.0.xsd</code> as a plug-in specified entry for me. Is your Eclipse up to date and do you have this entry in the preferences?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641892785,"post_id":70655180,"comment_id":124919926,"body_markdown":"@RobertScholte There should be an XML catalog entry for that not requiring to following the link.","body":"@RobertScholte There should be an XML catalog entry for that not requiring to following the link."}],"answers":[{"tags":[],"owner":{"account_id":29544418,"reputation":1,"user_id":22642360,"display_name":"Seema Supriya P N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695794348,"creation_date":1695794348,"answer_id":77184970,"question_id":70655180,"body_markdown":"I also observed this error. However, I got it resolved in a different way.\r\nI did not add any s to the fist line. It was already there as part of the default pom.xml\r\n\r\nError Observed: cvc-elt.1.1: Cannot find the declaration element project.\r\nSolution :Upon right clicking on the &quot;https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; and selecting the option &quot; force download the resources&quot;, the error was gone.\r\n","title":"Why POM.xml default template has an error? cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>I also observed this error. However, I got it resolved in a different way.\nI did not add any s to the fist line. It was already there as part of the default pom.xml</p>\n<p>Error Observed: cvc-elt.1.1: Cannot find the declaration element project.\nSolution :Upon right clicking on the &quot;https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; and selecting the option &quot; force download the resources&quot;, the error was gone.</p>\n"},{"tags":[],"owner":{"account_id":29642425,"reputation":1,"user_id":22718255,"display_name":"Avinash Sammetla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696960172,"creation_date":1696960172,"answer_id":77267974,"question_id":70655180,"body_markdown":"I got this error and when i scroll to right its showing error on end of that project line&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;, when i hover over it and selected force download resources its fixed","title":"Why POM.xml default template has an error? cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>I got this error and when i scroll to right its showing error on end of that project line, when i hover over it and selected force download resources its fixed</p>\n"},{"tags":[],"owner":{"account_id":29722677,"reputation":1,"user_id":22779560,"display_name":"kalyan madarapu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697899487,"creation_date":1697892773,"answer_id":77336054,"question_id":70655180,"body_markdown":"&gt; Issue:POM.xml default template has an error? cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;\r\n\r\nSolution :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n","title":"Why POM.xml default template has an error? cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<blockquote>\n<p>Issue:POM.xml default template has an error? cvc-elt.1.a: Cannot find the declaration of element 'project'</p>\n</blockquote>\n<p>Solution :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":23792858,"reputation":9,"user_id":17804113,"display_name":"KaOKeS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2390,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1697899487,"creation_date":1641829742,"question_id":70655180,"body_markdown":"today I had fight with theoretically simple Maven. I did everything like in tutorial, but I had an issue:\r\ncvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;.\r\n[Link to see template error][1]\r\n\r\nI had no idea why is it not working so I tried to do it way around. I created normal java project,\r\nthen converted it into Maven project and thanks to this I received pom.xml file which works.\r\n\r\nI wanna share it with you and maybe somebody will take some conclusions. I am totally new in java and I have error for the second time which does not come, because of my mistake - I hope.\r\n\r\nHere you can see notpad comparation: [difference in declaration][2]\r\n\r\nNot working declaration:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n```\r\n\r\nAnd here corrected one by adding &quot;s&quot; to &quot;http&quot;:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n```\r\nThat &quot;s&quot; can be added to any &quot;http&quot; to exists at least once.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WIrgX.png\r\n  [2]: https://i.stack.imgur.com/RqWyP.png","title":"Why POM.xml default template has an error? cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>today I had fight with theoretically simple Maven. I did everything like in tutorial, but I had an issue:\ncvc-elt.1.a: Cannot find the declaration of element 'project'.\n<a href=\"https://i.stack.imgur.com/WIrgX.png\" rel=\"nofollow noreferrer\">Link to see template error</a></p>\n<p>I had no idea why is it not working so I tried to do it way around. I created normal java project,\nthen converted it into Maven project and thanks to this I received pom.xml file which works.</p>\n<p>I wanna share it with you and maybe somebody will take some conclusions. I am totally new in java and I have error for the second time which does not come, because of my mistake - I hope.</p>\n<p>Here you can see notpad comparation: <a href=\"https://i.stack.imgur.com/RqWyP.png\" rel=\"nofollow noreferrer\">difference in declaration</a></p>\n<p>Not working declaration:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n</code></pre>\n<p>And here corrected one by adding &quot;s&quot; to &quot;http&quot;:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n</code></pre>\n<p>That &quot;s&quot; can be added to any &quot;http&quot; to exists at least once.</p>\n"},{"tags":["java","jsp","authentication","session","struts2"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618637938,"creation_date":1405433979,"answer_id":24760676,"question_id":24760439,"body_markdown":"You can configure a result before the session is invalidated if you need a session to do that. \r\n\r\nOnce a result is configured, where you can use a dynamic parameter to the action or URL you want to redirect you no longer need a JSP to perform redirection. \r\n\r\nRedirect results can do that without rendering a JSP. \r\n\r\nThe example is taken from the answer to [Redirecting to another action with unknown amount of parameters in Struts 2][1].\r\n\r\n&gt;You can also save query string instead of parameter map.\r\n&gt;\r\n&gt;     String params = request.getQueryString();\r\n&gt;To add parameters dynamically to `redirectAction` result you should use OGNL in a dynamic parameter.\r\n&gt;\r\n&gt;     &lt;param name=&quot;actionName&quot;&gt;${previousAction.name +&#39;?&#39;+ parameters}&lt;/param&gt;\r\n&gt;Supposed you have a getter for parameters and initialized it from session where you saved previous query string, action name, and namespace.\r\n\r\n  [1]: https://stackoverflow.com/a/24250240/573032","title":"Sending configuration value for logout after session invalidate in Struts 2","body":"<p>You can configure a result before the session is invalidated if you need a session to do that.</p>\n<p>Once a result is configured, where you can use a dynamic parameter to the action or URL you want to redirect you no longer need a JSP to perform redirection.</p>\n<p>Redirect results can do that without rendering a JSP.</p>\n<p>The example is taken from the answer to <a href=\"https://stackoverflow.com/a/24250240/573032\">Redirecting to another action with unknown amount of parameters in Struts 2</a>.</p>\n<blockquote>\n<p>You can also save query string instead of parameter map.</p>\n<pre><code>String params = request.getQueryString();\n</code></pre>\n<p>To add parameters dynamically to <code>redirectAction</code> result you should use OGNL in a dynamic parameter.</p>\n<pre><code>&lt;param name=&quot;actionName&quot;&gt;${previousAction.name +'?'+ parameters}&lt;/param&gt;\n</code></pre>\n<p>Supposed you have a getter for parameters and initialized it from session where you saved previous query string, action name, and namespace.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405438104,"creation_date":1405438104,"answer_id":24762219,"question_id":24760439,"body_markdown":"Put the value in the application context on startup and retrieve it from the same place.\r\n\r\nThere&#39;s no reason to put anything in the session that isn&#39;t a per-user value.","title":"Sending configuration value for logout after session invalidate in Struts 2","body":"<p>Put the value in the application context on startup and retrieve it from the same place.</p>\n\n<p>There's no reason to put anything in the session that isn't a per-user value.</p>\n"}],"owner":{"account_id":367255,"reputation":616,"user_id":713328,"accept_rate":76,"display_name":"paramupk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697899464,"creation_date":1405433345,"question_id":24760439,"body_markdown":"I have a Struts 2 web application.\r\n\r\nCurrently, when user click on logout  URL, we call a logout action and in the method we call `session.invalidate()`. If it&#39;s success then we are calling `logout.jsp`.\r\n\r\nIn `logout.jsp` we need to redirect to another link. This link is currently hardcoded in JSP. \r\n\r\nThe link is different in test and production so we have to make changes to this link when we deploy in test &amp; production. We have utility to get values from external file. But since the session is invalidated we are not able to set value in session and retrieve in JSP.\r\n\r\nWhat is the best approach for this?\r\n","title":"Sending configuration value for logout after session invalidate in Struts 2","body":"<p>I have a Struts 2 web application.</p>\n<p>Currently, when user click on logout  URL, we call a logout action and in the method we call <code>session.invalidate()</code>. If it's success then we are calling <code>logout.jsp</code>.</p>\n<p>In <code>logout.jsp</code> we need to redirect to another link. This link is currently hardcoded in JSP.</p>\n<p>The link is different in test and production so we have to make changes to this link when we deploy in test &amp; production. We have utility to get values from external file. But since the session is invalidated we are not able to set value in session and retrieve in JSP.</p>\n<p>What is the best approach for this?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":7233893,"reputation":111,"user_id":5519813,"display_name":"Serghei Motpan"},"score":0,"creation_date":1697899852,"post_id":77336458,"comment_id":136338813,"body_markdown":"It looks quite similar to this one: https://stackoverflow.com/questions/73312803/could-not-determine-recommended-jdbctype-for-class. \nTry reviewing your relationship definitions.","body":"It looks quite similar to this one: <a href=\"https://stackoverflow.com/questions/73312803/could-not-determine-recommended-jdbctype-for-class\" title=\"could not determine recommended jdbctype for class\">stackoverflow.com/questions/73312803/&hellip;</a>.  Try reviewing your relationship definitions."},{"owner":{"account_id":29328831,"reputation":131,"user_id":22470734,"display_name":"Sairam Nagaraj"},"score":0,"creation_date":1697978845,"post_id":77336458,"comment_id":136344537,"body_markdown":"Can you also share how pom is currently configured?","body":"Can you also share how pom is currently configured?"}],"owner":{"account_id":29717961,"reputation":11,"user_id":22776005,"display_name":"DaniK178"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697899265,"creation_date":1697898990,"question_id":77336458,"body_markdown":"We are trying to run a Spring Boot Java application that contains these three models: \r\n\r\n\r\n    @Entity (name = &quot;chatbox&quot;)\r\n    public class Chatbox {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;chatbox&quot;)\r\n    private List&lt;SentPrompt&gt; conversationHistory;\r\n\r\n    public Chatbox() {\r\n        this.conversationHistory = new ArrayList&lt;&gt;();\r\n    }\r\n    //Getters and Setters`\r\n\r\n\r\nThe chatbox model:\r\n\r\n\r\n    `@Entity(name = &quot;employees&quot;)\r\n    public class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    //can be null\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    //can be null\r\n    @Column(name = &quot;manager&quot;)\r\n    private String manager;\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\r\n    @JsonIgnoreProperties({&quot;employee&quot;})\r\n    private List&lt;SentPrompt&gt; sentPrompts;\r\n\r\n    public Employee() {}\r\n\r\n    public Employee(String name, String email, String manager) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.manager = manager;\r\n        this.sentPrompts = new ArrayList&lt;&gt;();\r\n    }`\r\n\r\nand the SentPrompts model which joins the models above:\r\n\r\n\r\n    `@Entity\r\n    @Table(name = &quot;prompts&quot;)\r\n    public class SentPrompt {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;chatbox_id&quot;)\r\n    private Chatbox chatbox;\r\n\r\n    @Column (name = &quot;question&quot;)\r\n    private String question;\r\n\r\n    @Column (name = &quot;response&quot;)\r\n    private String response;\r\n\r\n    public SentPrompt(){}\r\n\r\n    public SentPrompt(String question, String response) {\r\n        this.question = question;\r\n        this.response = response;\r\n    }\r\n`\r\n\r\nWhen trying to run the application we get this error: \r\nError creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.valuedbnta.demo.Models.SentPrompt`\r\n\r\nWe have tried changing Java versions and looking at the dependencies in pom.xml however we cant find an issue.  We&#39;ve also looked at other similar questions and they haven&#39;t helped us yet either. \r\n\r\nAny insight into this error would be great, thank you!","title":"Java Spring Boot: Getting error &quot;Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>We are trying to run a Spring Boot Java application that contains these three models:</p>\n<pre><code>@Entity (name = &quot;chatbox&quot;)\npublic class Chatbox {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@OneToMany(mappedBy = &quot;chatbox&quot;)\nprivate List&lt;SentPrompt&gt; conversationHistory;\n\npublic Chatbox() {\n    this.conversationHistory = new ArrayList&lt;&gt;();\n}\n//Getters and Setters`\n</code></pre>\n<p>The chatbox model:</p>\n<pre><code>`@Entity(name = &quot;employees&quot;)\npublic class Employee {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n//can be null\n@Column(name = &quot;email&quot;)\nprivate String email;\n\n//can be null\n@Column(name = &quot;manager&quot;)\nprivate String manager;\n\n@OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\n@JsonIgnoreProperties({&quot;employee&quot;})\nprivate List&lt;SentPrompt&gt; sentPrompts;\n\npublic Employee() {}\n\npublic Employee(String name, String email, String manager) {\n    this.name = name;\n    this.email = email;\n    this.manager = manager;\n    this.sentPrompts = new ArrayList&lt;&gt;();\n}`\n</code></pre>\n<p>and the SentPrompts model which joins the models above:</p>\n<pre><code>`@Entity\n@Table(name = &quot;prompts&quot;)\npublic class SentPrompt {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@ManyToOne\n@JoinColumn(name=&quot;employee_id&quot;)\nprivate Employee employee;\n\n@ManyToOne\n@JoinColumn(name=&quot;chatbox_id&quot;)\nprivate Chatbox chatbox;\n\n@Column (name = &quot;question&quot;)\nprivate String question;\n\n@Column (name = &quot;response&quot;)\nprivate String response;\n\npublic SentPrompt(){}\n\npublic SentPrompt(String question, String response) {\n    this.question = question;\n    this.response = response;\n}\n</code></pre>\n<p>`</p>\n<p>When trying to run the application we get this error:\nError creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for <code>com.valuedbnta.demo.Models.SentPrompt</code></p>\n<p>We have tried changing Java versions and looking at the dependencies in pom.xml however we cant find an issue.  We've also looked at other similar questions and they haven't helped us yet either.</p>\n<p>Any insight into this error would be great, thank you!</p>\n"},{"tags":["java","jsp","struts2"],"comments":[{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1514008343,"post_id":47933461,"comment_id":82869815,"body_markdown":"Are you sure that other parameters are posted to struts action ?! Did you check your out going response with Firefox dev tools  ( Or other similar tools)","body":"Are you sure that other parameters are posted to struts action ?! Did you check your out going response with Firefox dev tools  ( Or other similar tools)"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513900932,"creation_date":1513900932,"answer_id":47934327,"question_id":47933461,"body_markdown":"After deleting an object you should return `redirectAction` result.\r\n\r\n    &lt;result name=&quot;success&quot; type=&quot;redirectAction&quot;&gt;getOrderDetails&lt;/result&gt;","title":"Struts delete action setters not called","body":"<p>After deleting an object you should return <code>redirectAction</code> result.</p>\n\n<pre><code>&lt;result name=\"success\" type=\"redirectAction\"&gt;getOrderDetails&lt;/result&gt;\n</code></pre>\n"}],"owner":{"account_id":3755177,"reputation":1320,"user_id":3121683,"accept_rate":64,"display_name":"Karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1514504307,"answer_count":1,"score":0,"last_activity_date":1697898128,"creation_date":1513894685,"question_id":47933461,"body_markdown":"I have a Struts action class like so:\r\n    \r\n    public class OrderDetailAction extends BaseActionSupport {\r\n\r\n       private String ID = new OID().toString();\r\n\t   private Collection&lt;OrderDetail&gt; orderdetailList;\r\n\t   private String orderStatus;\r\n\t   private String shippingAddressId;\r\n\t   private java.util.Date createdDate;\r\n\t   private java.util.Date updatedDate;\r\n\t   private String billingAddressId;\r\n\r\n\t   public void setOrderStatus(String orderStatus) {\r\n\t     \tthis.orderStatus = orderStatus;\r\n\t   }\r\n\r\n\t   public String getOrderStatus() {\r\n\t\t   return orderStatus;\r\n\t   }\r\n\t\r\n       public void setShippingAddressId(String shippingAddressId) {\r\n\t\t  this.shippingAddressId = shippingAddressId;\r\n\t   }\r\n\r\n\t   public String getShippingAddressId() {\r\n\t\t    return shippingAddressId;\r\n\t   }\r\n\t   public void setCreatedDate(java.util.Date createdDate) {\r\n\t\t   this.createdDate = createdDate;\r\n\t   }\r\n\r\n\t   public java.util.Date getCreatedDate() {\r\n\t\t   return createdDate;\r\n\t   }\r\n\t   public void setUpdatedDate(java.util.Date updatedDate) {\r\n\t\t   this.updatedDate = updatedDate;\r\n\t   }\r\n\r\n\t   public java.util.Date getUpdatedDate() {\r\n\t\t   return updatedDate;\r\n\t   }\r\n\t   public void setBillingAddressId(String billingAddressId) {\r\n\t\t   this.billingAddressId = billingAddressId;\r\n\t   }\r\n\r\n\t   public String getBillingAddressId() {\r\n\t\t   return billingAddressId;\r\n\t   }\r\n\t   public String getID() {\r\n\t\t   return ID;\r\n\t   }   \r\n\r\n\t   public void setID(String ID) {\r\n     \t\tthis.ID = ID;\r\n\t   }\r\n\r\n\t   public Collection&lt;OrderDetail&gt; getOrderDetailList() {\r\n\t\t   return orderdetailList;\r\n\t   }\r\n\r\n\t   public void setOrderDetailList(Collection&lt;OrderDetail&gt; orderdetailList) {\r\n\t\t   this.orderdetailList = orderdetailList;\r\n\t   }\r\n\r\n       // some more logic\r\n    }\r\n\r\nWhenever I run a create action, a display action or an edit action, Struts calls all of the setters. However, when I run my **delete action** struts fails to call all the setters EXCEPT `setID()`. \r\n\r\nIs there a reason why this happens? \r\n\r\nHere is my `struts.xml` for reference: \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;struts&gt;\r\n\t\t   // some other stuff here\r\n\t\t\t\r\n\t\t\t&lt;action name=&quot;getOrderDetails&quot; class=&quot;presentation.OrderDetailAction&quot; method=&quot;getOrderDetails&quot;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot;&gt;OrderDetailList.jsp&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\r\n\tOo\r\n\t\t\t&lt;action name=&quot;displayOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method=&#39;displayOrderDetail&#39;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot;&gt;OrderDetail.jsp&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\r\n\t\t\t\r\n\t\t\t&lt;action name=&quot;displayCreateOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method=&#39;displayCreate&#39;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot;&gt;CreateOrderDetail.jsp&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\r\n\t\r\n\t\t\t&lt;action name=&quot;createOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method=&#39;create&#39;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;getOrderDetails&lt;/result&gt;\r\n\t\t\t\t&lt;result name=&quot;input&quot;&gt;CreateOrderDetail.jsp&lt;/result&gt;\r\n\t\t\t\t&lt;result name=&quot;error&quot;&gt;CreateOrderDetail.jsp&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\t\r\n\t\r\n\t\t\t&lt;action name=&quot;displayEditOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method=&#39;displayUpdate&#39;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot;&gt;EditOrderDetail.jsp&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\r\n\t\r\n\t\t\t&lt;action name=&quot;editOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method=&#39;update&#39;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;getOrderDetails&lt;/result&gt;\r\n\t\t\t\t&lt;result name=&quot;input&quot;&gt;EditOrderDetail.jsp&lt;/result&gt;\r\n\t\t\t\t&lt;result name=&quot;error&quot;&gt;EditOrderDetail.jsp&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\r\n\t\t\t\r\n\t\t\t&lt;action name=&quot;deleteOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method=&#39;delete&#39;&gt;\r\n\t\t\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;getOrderDetails&lt;/result&gt;\r\n\t\t\t&lt;/action&gt;\r\n    // some more stuff here\r\n    &lt;/sturts&gt;\r\n\r\n\r\nThere is no difference between what the input looks like form the JSP either: \r\n\r\n        &lt;input name=&quot;action:displayEditOrderDetail&quot;  class=&quot;btn btn-success&quot; value=&quot;Edit&quot; type=&quot;submit&quot; id=&quot;displayOrderDetail_displayEditOrderDetail&quot;/&gt;\r\n\t\t&lt;input name=&quot;action:deleteOrderDetail&quot; class=&quot;btn btn-danger&quot; value=&quot;Delete&quot; type=&quot;submit&quot; id=&quot;displayOrderDetail_deleteOrderDetail&quot;/&gt;\r\n\t    &lt;input name=&quot;action:getOrderDetails&quot; class=&quot;btn btn-default&quot; value=&quot;Cancel&quot; type=&quot;submit&quot; id=&quot;displayOrderDetail_getOrderDetails&quot;/&gt;\r\n\r\n\r\nFor every other CRUD operation, Struts successfully calls all the setters. Except in the case of Delete where it only calls `setID()`. Is there something different I am supposed to be doing for Delete? \r\n\r\n","title":"Struts delete action setters not called","body":"<p>I have a Struts action class like so:</p>\n<pre><code>public class OrderDetailAction extends BaseActionSupport {\n\n   private String ID = new OID().toString();\n   private Collection&lt;OrderDetail&gt; orderdetailList;\n   private String orderStatus;\n   private String shippingAddressId;\n   private java.util.Date createdDate;\n   private java.util.Date updatedDate;\n   private String billingAddressId;\n\n   public void setOrderStatus(String orderStatus) {\n        this.orderStatus = orderStatus;\n   }\n\n   public String getOrderStatus() {\n       return orderStatus;\n   }\n\n   public void setShippingAddressId(String shippingAddressId) {\n      this.shippingAddressId = shippingAddressId;\n   }\n\n   public String getShippingAddressId() {\n        return shippingAddressId;\n   }\n   public void setCreatedDate(java.util.Date createdDate) {\n       this.createdDate = createdDate;\n   }\n\n   public java.util.Date getCreatedDate() {\n       return createdDate;\n   }\n   public void setUpdatedDate(java.util.Date updatedDate) {\n       this.updatedDate = updatedDate;\n   }\n\n   public java.util.Date getUpdatedDate() {\n       return updatedDate;\n   }\n   public void setBillingAddressId(String billingAddressId) {\n       this.billingAddressId = billingAddressId;\n   }\n\n   public String getBillingAddressId() {\n       return billingAddressId;\n   }\n   public String getID() {\n       return ID;\n   }   \n\n   public void setID(String ID) {\n        this.ID = ID;\n   }\n\n   public Collection&lt;OrderDetail&gt; getOrderDetailList() {\n       return orderdetailList;\n   }\n\n   public void setOrderDetailList(Collection&lt;OrderDetail&gt; orderdetailList) {\n       this.orderdetailList = orderdetailList;\n   }\n\n   // some more logic\n}\n</code></pre>\n<p>Whenever I run a create action, a display action or an edit action, Struts calls all of the setters. However, when I run my <strong>delete action</strong> struts fails to call all the setters EXCEPT <code>setID()</code>.</p>\n<p>Is there a reason why this happens?</p>\n<p>Here is my <code>struts.xml</code> for reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n       // some other stuff here\n        \n        &lt;action name=&quot;getOrderDetails&quot; class=&quot;presentation.OrderDetailAction&quot; method=&quot;getOrderDetails&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;OrderDetailList.jsp&lt;/result&gt;\n        &lt;/action&gt;\nOo\n        &lt;action name=&quot;displayOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method='displayOrderDetail'&gt;\n            &lt;result name=&quot;success&quot;&gt;OrderDetail.jsp&lt;/result&gt;\n        &lt;/action&gt;\n        \n        &lt;action name=&quot;displayCreateOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method='displayCreate'&gt;\n            &lt;result name=&quot;success&quot;&gt;CreateOrderDetail.jsp&lt;/result&gt;\n        &lt;/action&gt;\n\n        &lt;action name=&quot;createOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method='create'&gt;\n            &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;getOrderDetails&lt;/result&gt;\n            &lt;result name=&quot;input&quot;&gt;CreateOrderDetail.jsp&lt;/result&gt;\n            &lt;result name=&quot;error&quot;&gt;CreateOrderDetail.jsp&lt;/result&gt;\n        &lt;/action&gt;   \n\n        &lt;action name=&quot;displayEditOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method='displayUpdate'&gt;\n            &lt;result name=&quot;success&quot;&gt;EditOrderDetail.jsp&lt;/result&gt;\n        &lt;/action&gt;\n\n        &lt;action name=&quot;editOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method='update'&gt;\n            &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;getOrderDetails&lt;/result&gt;\n            &lt;result name=&quot;input&quot;&gt;EditOrderDetail.jsp&lt;/result&gt;\n            &lt;result name=&quot;error&quot;&gt;EditOrderDetail.jsp&lt;/result&gt;\n        &lt;/action&gt;\n        \n        &lt;action name=&quot;deleteOrderDetail&quot; class=&quot;presentation.OrderDetailAction&quot; method='delete'&gt;\n            &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;getOrderDetails&lt;/result&gt;\n        &lt;/action&gt;\n// some more stuff here\n&lt;/sturts&gt;\n</code></pre>\n<p>There is no difference between what the input looks like form the JSP either:</p>\n<pre><code>    &lt;input name=&quot;action:displayEditOrderDetail&quot;  class=&quot;btn btn-success&quot; value=&quot;Edit&quot; type=&quot;submit&quot; id=&quot;displayOrderDetail_displayEditOrderDetail&quot;/&gt;\n    &lt;input name=&quot;action:deleteOrderDetail&quot; class=&quot;btn btn-danger&quot; value=&quot;Delete&quot; type=&quot;submit&quot; id=&quot;displayOrderDetail_deleteOrderDetail&quot;/&gt;\n    &lt;input name=&quot;action:getOrderDetails&quot; class=&quot;btn btn-default&quot; value=&quot;Cancel&quot; type=&quot;submit&quot; id=&quot;displayOrderDetail_getOrderDetails&quot;/&gt;\n</code></pre>\n<p>For every other CRUD operation, Struts successfully calls all the setters. Except in the case of Delete where it only calls <code>setID()</code>. Is there something different I am supposed to be doing for Delete?</p>\n"},{"tags":["javascript","java","authentication","vaadin","webauthn"],"answers":[{"tags":[],"owner":{"account_id":45436,"reputation":1387,"user_id":133912,"accept_rate":75,"display_name":"agl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697674300,"creation_date":1697674300,"answer_id":77320262,"question_id":77318207,"body_markdown":"&gt; How do I access the WebAuthn credentials in newCredentialInfo and send them to privacyIDEA server to perform user authentification?\r\n\r\nThe [toJSON method](https://w3c.github.io/webauthn/#dom-publickeycredential-tojson) is not yet widely supported, I&#39;m afraid. So you need to grab the fields from [the object](https://w3c.github.io/webauthn/#iface-pkcredential) and serialise them yourself in most cases.","title":"WebAuthn Client Registration: How to access user credentials and send them to server for user authentification?","body":"<blockquote>\n<p>How do I access the WebAuthn credentials in newCredentialInfo and send them to privacyIDEA server to perform user authentification?</p>\n</blockquote>\n<p>The <a href=\"https://w3c.github.io/webauthn/#dom-publickeycredential-tojson\" rel=\"nofollow noreferrer\">toJSON method</a> is not yet widely supported, I'm afraid. So you need to grab the fields from <a href=\"https://w3c.github.io/webauthn/#iface-pkcredential\" rel=\"nofollow noreferrer\">the object</a> and serialise them yourself in most cases.</p>\n"},{"tags":[],"owner":{"account_id":82952,"reputation":461,"user_id":232887,"display_name":"Marc Englund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697707556,"creation_date":1697707556,"answer_id":77322532,"question_id":77318207,"body_markdown":"You can encode `newCredentialInfo` with something like this:\r\n\r\n    const encodedCredential = {\r\n      attestationObject: btoa(String.fromCharCode(...new Uint8Array(newCredentialInfo.response.attestationObject))),\r\n      clientDataJSON: btoa(String.fromCharCode(...new Uint8Array(newCredentialInfo.response.clientDataJSON))),\r\n      transports: (newCredentialInfo.response.getTransports &amp;&amp; credential.response.getTransports()) || [],\r\n      // TODO encode all you need, etc clientExtensionJSON: (newCredentialInfo.response.getClientExtensionResults &amp;&amp; newCredentialInfo.response.getClientExtensionResults()) || {}\r\n    };\r\n\r\nYeah, probably clean that up a bit, but to illustrate the point.\r\n\r\nThen you can return `encodedCredential` from `registerWebAuthn()` and handle it in a `then()` of your `executeJS()` call. Something like:\r\n\r\n    executeJS(...).then(encodedCredential -&gt; {\r\n                        if (encodedCredential.getType() == JsonType.OBJECT) {\r\n                            JsonObject obj = (JsonObject) encodedCredential;\r\n                            String attestationObjectBase64 = obj.getString(&quot;attestationObject&quot;);\r\n                            byte[] attestationObject = Base64.getDecoder().decode(attestationObjectBase64);\r\n\r\n\r\nAgain, you might really want to clean up this code.\r\n\r\nHTH even though it&#39;s not exactly production ready.","title":"WebAuthn Client Registration: How to access user credentials and send them to server for user authentification?","body":"<p>You can encode <code>newCredentialInfo</code> with something like this:</p>\n<pre><code>const encodedCredential = {\n  attestationObject: btoa(String.fromCharCode(...new Uint8Array(newCredentialInfo.response.attestationObject))),\n  clientDataJSON: btoa(String.fromCharCode(...new Uint8Array(newCredentialInfo.response.clientDataJSON))),\n  transports: (newCredentialInfo.response.getTransports &amp;&amp; credential.response.getTransports()) || [],\n  // TODO encode all you need, etc clientExtensionJSON: (newCredentialInfo.response.getClientExtensionResults &amp;&amp; newCredentialInfo.response.getClientExtensionResults()) || {}\n};\n</code></pre>\n<p>Yeah, probably clean that up a bit, but to illustrate the point.</p>\n<p>Then you can return <code>encodedCredential</code> from <code>registerWebAuthn()</code> and handle it in a <code>then()</code> of your <code>executeJS()</code> call. Something like:</p>\n<pre><code>executeJS(...).then(encodedCredential -&gt; {\n                    if (encodedCredential.getType() == JsonType.OBJECT) {\n                        JsonObject obj = (JsonObject) encodedCredential;\n                        String attestationObjectBase64 = obj.getString(&quot;attestationObject&quot;);\n                        byte[] attestationObject = Base64.getDecoder().decode(attestationObjectBase64);\n</code></pre>\n<p>Again, you might really want to clean up this code.</p>\n<p>HTH even though it's not exactly production ready.</p>\n"},{"tags":[],"owner":{"account_id":11432698,"reputation":494,"user_id":8380968,"display_name":"Nuvanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697897380,"creation_date":1697897380,"answer_id":77336360,"question_id":77318207,"body_markdown":"Hi I am the developer who implemented the webauthn support in privacyIDEA. I&#39;m afraid none of the code you posted is sensible, so I&#39;ll just give you some pointers to the documentation.\r\n\r\n`pi-webauthn.js` is a thin wrapper around `navigator.credential.create()` and `navigator.credentials.get()`, to make those methods more comfortable to use with privacyIDEA. If you wanna use `window.credentials.create()` directly, you don&#39;t need it, but in any case, you&#39;ll have to actually supply the function with a valid challenge coming from the server, which you currently don&#39;t. How to do this is outlined in great detail [in the documentation][1]\r\n\r\nSending data to the server works exactly the same as with any other object, and has nothing to do with webauthn or privacyIDEA. If you don&#39;t know how to do that, I suggest reading the documentation for Vaadin, before diving into more advanced stuff.\r\n\r\nWhen using privacyIDEA, your server doesn&#39;t need to do much at all, except proxy the requests to privacyIDEA and check the response to see if authentication was successful. It&#39;s a very simple API and it is documented in great detail [in the documentation][2]. There is also an [example app][3] that shows the entire flow from start to finish. The request is sent to the server [here][4], which is proxied on the server side [here][5].\r\n\r\nI suggest you try to understand how a web-browser and a web-server work, what the difference between client-side and server-side code is, and how they interact. Your code samples are not even close to working for a whole myriad of reasons and nobody will write your code for you.\r\n\r\n\r\n  [1]: https://privacyidea.readthedocs.io/en/v3.8.1/modules/lib/tokentypes/webauthn.html?highlight=webauthn#get-the-challenge-using-validate-triggerchallenge\r\n  [2]: https://privacyidea.readthedocs.io/en/v3.8.1/modules/lib/tokentypes/webauthn.html?highlight=webauthn\r\n  [3]: https://github.com/privacyidea/webauthn-demo/tree/master\r\n  [4]: https://github.com/privacyidea/webauthn-demo/blob/d254d79f6ec11ade91c5b3996c14795cf17d0445/public/javascripts/script.js#L170\r\n  [5]: https://github.com/privacyidea/webauthn-demo/blob/master/routes/validate/check.js","title":"WebAuthn Client Registration: How to access user credentials and send them to server for user authentification?","body":"<p>Hi I am the developer who implemented the webauthn support in privacyIDEA. I'm afraid none of the code you posted is sensible, so I'll just give you some pointers to the documentation.</p>\n<p><code>pi-webauthn.js</code> is a thin wrapper around <code>navigator.credential.create()</code> and <code>navigator.credentials.get()</code>, to make those methods more comfortable to use with privacyIDEA. If you wanna use <code>window.credentials.create()</code> directly, you don't need it, but in any case, you'll have to actually supply the function with a valid challenge coming from the server, which you currently don't. How to do this is outlined in great detail <a href=\"https://privacyidea.readthedocs.io/en/v3.8.1/modules/lib/tokentypes/webauthn.html?highlight=webauthn#get-the-challenge-using-validate-triggerchallenge\" rel=\"nofollow noreferrer\">in the documentation</a></p>\n<p>Sending data to the server works exactly the same as with any other object, and has nothing to do with webauthn or privacyIDEA. If you don't know how to do that, I suggest reading the documentation for Vaadin, before diving into more advanced stuff.</p>\n<p>When using privacyIDEA, your server doesn't need to do much at all, except proxy the requests to privacyIDEA and check the response to see if authentication was successful. It's a very simple API and it is documented in great detail <a href=\"https://privacyidea.readthedocs.io/en/v3.8.1/modules/lib/tokentypes/webauthn.html?highlight=webauthn\" rel=\"nofollow noreferrer\">in the documentation</a>. There is also an <a href=\"https://github.com/privacyidea/webauthn-demo/tree/master\" rel=\"nofollow noreferrer\">example app</a> that shows the entire flow from start to finish. The request is sent to the server <a href=\"https://github.com/privacyidea/webauthn-demo/blob/d254d79f6ec11ade91c5b3996c14795cf17d0445/public/javascripts/script.js#L170\" rel=\"nofollow noreferrer\">here</a>, which is proxied on the server side <a href=\"https://github.com/privacyidea/webauthn-demo/blob/master/routes/validate/check.js\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I suggest you try to understand how a web-browser and a web-server work, what the difference between client-side and server-side code is, and how they interact. Your code samples are not even close to working for a whole myriad of reasons and nobody will write your code for you.</p>\n"}],"owner":{"account_id":2762524,"reputation":131,"user_id":2379123,"accept_rate":88,"display_name":"user2379123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697897380,"creation_date":1697647480,"question_id":77318207,"body_markdown":"I want to implement WebAuthn using Java/Vaadin for the client side.\r\n\r\nMy goal is to reach that point that any users can register/enroll a WebAuthn in the context of 2FA.\r\nThe created token should be saved on a privacyIDEA server for later use. It also handles the authentification of the users.\r\n\r\nWhat I have done so far:\r\n\r\n - Creating the web application with Vaadin (Java framework)\r\n - Implementing methods for the token management in Java (still unfinished)\r\n - Using a JavaScript client plugin to faciliate authentification against privacyIDEA server using WebAuthn tokens\r\n\r\nCode snippet from JavaScript client-side library:\r\n```js\r\nwindow.registerWebAuthn = function (challenge, rpName, rpId, userId, userName, displayName) {\r\n\t        const publicKeyCredentialCreationOptions = {\r\n\t            challenge: new Uint8Array(challenge),\r\n\t             rp: {\r\n    \t\t\t\tname: rpName,\r\n    \t\t\t\tid  : rpId\r\n  \t\t\t},\r\n\t            user: {\r\n\t                id: new Uint8Array(userId),\r\n\t                name: userName,\r\n\t                displayName: displayName\r\n\t            }\r\n\t        };\r\n\t        \r\n\t        navigator\r\n\t            .credentials\r\n\t            .create({publicKey: publicKeyCredentialCreationOptions})\r\n\t            .then(function (newCredentialInfo) {\r\n\t\t\t\t\tconsole.log(newCredentialInfo);\r\n\t\t\t  }).catch(function (err) {\r\n\t\t\t     console.error(err);\r\n\t\t\t  });\r\n\r\n   };\r\n```\r\nThe JavaScript function ``registerWebAuthn`` takes several parameters and utilizes the WebAuthn API to create a new public key credential. The ``then`` block handles the successful creation of the credential, and it logs the ``newCredentialInfo`` to the console.\r\n\r\nIt is expected to start the WebAuthn registration process by pressing the button *Create token*. To do this, I call the Js function ``registerWebAuthn()`` inside Vaadins ``executeJs()`` function.\r\n\r\nVaadin/Java code:\r\n```java\r\n@JsModule(&quot;./src/pi-webauthn.js&quot;)\r\npublic class MFAPageView {\r\n\r\n\tprivate Button buttonPrimary0 = new Button();\r\n\r\n\tpublic MFAPageView() {\r\n\r\n\t\tbuttonPrimary0.setText(&quot;Create token&quot;);\r\n\r\n\t\tlayoutColumn2.add(buttonPrimary0);\r\n\t\tbuttonPrimary0.addClickListener(e -&gt; {\r\n\t\t\tUI.getCurrent().getPage().executeJs(&quot;registerWebAuthn()&quot;);\r\n\t}\r\n}\r\n```\r\nHow do I access the WebAuthn credentials in ``newCredentialInfo`` and send them to privacyIDEA server to perform user authentification?\r\n\r\nDo you have any idea?\r\n\r\n**Update**\r\n\r\nThe communication between Mozilla Firefox and my Yubikey works fine. The user credentials are being created and can be displayed in the browser console.\r\n\r\nOutput:\r\n```\r\nPublicKeyCredential { rawId: ArrayBuffer, response: AuthenticatorAttestationResponse, id: &quot;nV8W7CnC2ZZbNtajZ_gTPWrmuzH52rcHChbZ4qPSfg0CjPMI8SpYNZ8-dCO6TyTzOZavLrRtmw6r0N_9Oem-yw&quot;, type: &quot;public-key&quot; }\r\n    id: &quot;nV8W7CnC2ZZbNtajZ_gTPWrmuzH52rcHChbZ4qPSfg0CjPMI8SpYNZ8-dCO6TyTzOZavLrRtmw6r0N_9Oem-yw&quot;\r\n    rawId: ArrayBuffer { byteLength: 64 }\r\n    ...\r\n    response: AuthenticatorAttestationResponse { attestationObject: ArrayBuffer, clientDataJSON: ArrayBuffer }\r\n    ...\r\n    type: &quot;public-key&quot;\r\n    &lt;prototype&gt;: PublicKeyCredentialPrototype { getClientExtensionResults: getClientExtensionResults(), rawId: Getter, response: Getter, … }\r\n    ...\r\n```\r\nI need these credentials to be transferred to privacyIDEA to finish the registration of the WebAuthn token. Before I can do that, the credentials need to be transferred to the Java/Vaadin client.\r\n\r\nFor this purpose I edited the ``registerWebAuthn`` function slightly:\r\n```js\r\nwindow.registerWebAuthn = function () {\r\n\t        const publicKeyCredentialCreationOptions = {\r\n\t            challenge: new Uint8Array(26),\r\n\t             rp: {\r\n    \t\t\t\tname: &quot;Example&quot;,\r\n    \t\t\t\tid  : &quot;localhost&quot;\r\n  \t\t\t},\r\n\t            user: {\r\n\t                id: new Uint8Array(26),\r\n\t                name: &quot;xyz@test.com&quot;,\r\n\t                displayName: &quot;Foo Bar&quot;\r\n\t            }\r\n\t        };\r\n\t        \r\n\t        navigator\r\n\t            .credentials\r\n\t            .create({publicKey: publicKeyCredentialCreationOptions})\r\n\t            .then(function (newCredentialInfo) {\r\n\t\t\t\t\tconsole.log(newCredentialInfo);\r\n                    return newCredentialInfo;\r\n\t\t\t  }).catch(function (err) {\r\n\t\t\t     console.error(err);\r\n\t\t\t  });\r\n   };\r\n```\r\nThe essentiell part for me is coming now. I have tried to return ``newCredentialInfo`` in the Java console. For that I changed the Vaadin/Java code:\r\n\r\n```java\r\n@JsModule(&quot;./src/pi-webauthn.js&quot;)\r\npublic class MFAPageView {\r\n\r\n    private Button buttonPrimary0 = new Button();\r\n\r\n    public MFAPageView() {\r\n\r\n        buttonPrimary0.setText(&quot;Create token&quot;);\r\n\r\n        layoutColumn2.add(buttonPrimary0);\r\n        buttonPrimary0.addClickListener(e -&gt; {\r\n\t\t\tUI.getCurrent().getPage().executeJs(&quot;return registerWebAuthn()&quot;)\r\n\t\t\t\t\t.then(newCredentialInfo -&gt; {\r\n\t\t\t\t\t\tSystem.out.println(newCredentialInfo);\r\n\t\t\t\t\t\tSystem.out.println(new Gson().toJson(newCredentialInfo));\r\n\t\t\t\t\t});\r\n\t\t});\r\n```\r\n\r\nUnfortunately I get an empty string as a result.\r\n\r\n```\r\nelemental.json.impl.JreJsonNull@5f7e6f19\r\n{}\r\n```\r\n\r\nWhat is wrong with my code?","title":"WebAuthn Client Registration: How to access user credentials and send them to server for user authentification?","body":"<p>I want to implement WebAuthn using Java/Vaadin for the client side.</p>\n<p>My goal is to reach that point that any users can register/enroll a WebAuthn in the context of 2FA.\nThe created token should be saved on a privacyIDEA server for later use. It also handles the authentification of the users.</p>\n<p>What I have done so far:</p>\n<ul>\n<li>Creating the web application with Vaadin (Java framework)</li>\n<li>Implementing methods for the token management in Java (still unfinished)</li>\n<li>Using a JavaScript client plugin to faciliate authentification against privacyIDEA server using WebAuthn tokens</li>\n</ul>\n<p>Code snippet from JavaScript client-side library:</p>\n<pre class=\"lang-js prettyprint-override\"><code>window.registerWebAuthn = function (challenge, rpName, rpId, userId, userName, displayName) {\n            const publicKeyCredentialCreationOptions = {\n                challenge: new Uint8Array(challenge),\n                 rp: {\n                    name: rpName,\n                    id  : rpId\n            },\n                user: {\n                    id: new Uint8Array(userId),\n                    name: userName,\n                    displayName: displayName\n                }\n            };\n            \n            navigator\n                .credentials\n                .create({publicKey: publicKeyCredentialCreationOptions})\n                .then(function (newCredentialInfo) {\n                    console.log(newCredentialInfo);\n              }).catch(function (err) {\n                 console.error(err);\n              });\n\n   };\n</code></pre>\n<p>The JavaScript function <code>registerWebAuthn</code> takes several parameters and utilizes the WebAuthn API to create a new public key credential. The <code>then</code> block handles the successful creation of the credential, and it logs the <code>newCredentialInfo</code> to the console.</p>\n<p>It is expected to start the WebAuthn registration process by pressing the button <em>Create token</em>. To do this, I call the Js function <code>registerWebAuthn()</code> inside Vaadins <code>executeJs()</code> function.</p>\n<p>Vaadin/Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsModule(&quot;./src/pi-webauthn.js&quot;)\npublic class MFAPageView {\n\n    private Button buttonPrimary0 = new Button();\n\n    public MFAPageView() {\n\n        buttonPrimary0.setText(&quot;Create token&quot;);\n\n        layoutColumn2.add(buttonPrimary0);\n        buttonPrimary0.addClickListener(e -&gt; {\n            UI.getCurrent().getPage().executeJs(&quot;registerWebAuthn()&quot;);\n    }\n}\n</code></pre>\n<p>How do I access the WebAuthn credentials in <code>newCredentialInfo</code> and send them to privacyIDEA server to perform user authentification?</p>\n<p>Do you have any idea?</p>\n<p><strong>Update</strong></p>\n<p>The communication between Mozilla Firefox and my Yubikey works fine. The user credentials are being created and can be displayed in the browser console.</p>\n<p>Output:</p>\n<pre><code>PublicKeyCredential { rawId: ArrayBuffer, response: AuthenticatorAttestationResponse, id: &quot;nV8W7CnC2ZZbNtajZ_gTPWrmuzH52rcHChbZ4qPSfg0CjPMI8SpYNZ8-dCO6TyTzOZavLrRtmw6r0N_9Oem-yw&quot;, type: &quot;public-key&quot; }\n    id: &quot;nV8W7CnC2ZZbNtajZ_gTPWrmuzH52rcHChbZ4qPSfg0CjPMI8SpYNZ8-dCO6TyTzOZavLrRtmw6r0N_9Oem-yw&quot;\n    rawId: ArrayBuffer { byteLength: 64 }\n    ...\n    response: AuthenticatorAttestationResponse { attestationObject: ArrayBuffer, clientDataJSON: ArrayBuffer }\n    ...\n    type: &quot;public-key&quot;\n    &lt;prototype&gt;: PublicKeyCredentialPrototype { getClientExtensionResults: getClientExtensionResults(), rawId: Getter, response: Getter, … }\n    ...\n</code></pre>\n<p>I need these credentials to be transferred to privacyIDEA to finish the registration of the WebAuthn token. Before I can do that, the credentials need to be transferred to the Java/Vaadin client.</p>\n<p>For this purpose I edited the <code>registerWebAuthn</code> function slightly:</p>\n<pre class=\"lang-js prettyprint-override\"><code>window.registerWebAuthn = function () {\n            const publicKeyCredentialCreationOptions = {\n                challenge: new Uint8Array(26),\n                 rp: {\n                    name: &quot;Example&quot;,\n                    id  : &quot;localhost&quot;\n            },\n                user: {\n                    id: new Uint8Array(26),\n                    name: &quot;xyz@test.com&quot;,\n                    displayName: &quot;Foo Bar&quot;\n                }\n            };\n            \n            navigator\n                .credentials\n                .create({publicKey: publicKeyCredentialCreationOptions})\n                .then(function (newCredentialInfo) {\n                    console.log(newCredentialInfo);\n                    return newCredentialInfo;\n              }).catch(function (err) {\n                 console.error(err);\n              });\n   };\n</code></pre>\n<p>The essentiell part for me is coming now. I have tried to return <code>newCredentialInfo</code> in the Java console. For that I changed the Vaadin/Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsModule(&quot;./src/pi-webauthn.js&quot;)\npublic class MFAPageView {\n\n    private Button buttonPrimary0 = new Button();\n\n    public MFAPageView() {\n\n        buttonPrimary0.setText(&quot;Create token&quot;);\n\n        layoutColumn2.add(buttonPrimary0);\n        buttonPrimary0.addClickListener(e -&gt; {\n            UI.getCurrent().getPage().executeJs(&quot;return registerWebAuthn()&quot;)\n                    .then(newCredentialInfo -&gt; {\n                        System.out.println(newCredentialInfo);\n                        System.out.println(new Gson().toJson(newCredentialInfo));\n                    });\n        });\n</code></pre>\n<p>Unfortunately I get an empty string as a result.</p>\n<pre><code>elemental.json.impl.JreJsonNull@5f7e6f19\n{}\n</code></pre>\n<p>What is wrong with my code?</p>\n"},{"tags":["java","sql","spring","spring-boot"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1687506111,"post_id":60136474,"comment_id":134949208,"body_markdown":"Could you please provide the code which is used to update the specific entity?","body":"Could you please provide the code which is used to update the specific entity?"}],"answers":[{"tags":[],"owner":{"account_id":8059771,"reputation":1177,"user_id":6075655,"display_name":"Maxim Popov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581252013,"creation_date":1581252013,"answer_id":60136716,"question_id":60136474,"body_markdown":"As I understand, &quot;createdBy&quot; field is already not null in DB (since this is an update request).\r\nI guess you should look through the saving method to DB. Looks like you try to set null to the &quot;createdBy&quot; field when updating the row and mysql throw an exception. Maybe you set null (just copy from SubTeamMembersUpdateRequestDTO.createBy) to DB model and save model?","title":"could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException:","body":"<p>As I understand, \"createdBy\" field is already not null in DB (since this is an update request).\nI guess you should look through the saving method to DB. Looks like you try to set null to the \"createdBy\" field when updating the row and mysql throw an exception. Maybe you set null (just copy from SubTeamMembersUpdateRequestDTO.createBy) to DB model and save model?</p>\n"}],"owner":{"account_id":17645003,"reputation":9,"user_id":12806616,"display_name":"Bhargav Netha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11541,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697896885,"creation_date":1581250353,"question_id":60136474,"body_markdown":"I&#39;m updating some values through this class, the values of createdBy and lastModifiedBy is not mandatory to update. So, I&#39;m not passing those values from postman. It is accepting for the lastModifiedBy column but it is showing the sql exception when I&#39;m not passing createdBy value. Why this is happening ?\r\n\r\n    public class SubTeamMembersUpdateRequestDTO {\r\n    \r\n        private Long id;\r\n        private Long subTeamId;\r\n        private Long userId;\r\n        private Integer target;\r\n        private Date startDate;\r\n        private Date endDate;\r\n        private String memberType;\r\n        private boolean isActive;\r\n        \r\n        private String createdBy;\r\n        private String lastModifiedBy;\r\n    }\r\n\r\nThe Console looks like this:\r\n\r\n&gt; at\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE] \tat\r\n&gt; org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n&gt; ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE] \t... 111 common frames\r\n&gt; omitted Caused by: java.sql.SQLIntegrityConstraintViolationException:\r\n&gt; Column &#39;created_by&#39; cannot be null \tat\r\n&gt; com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1340)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n&gt; ~[mysql-connector-java-8.0.17.jar:8.0.17] \tat\r\n&gt; com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n&gt; ~[HikariCP-3.2.0.jar:na] \tat\r\n&gt; com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n&gt; ~[HikariCP-3.2.0.jar:na] \tat\r\n&gt; org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)\r\n&gt; ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final] \t... 160 common frames\r\n&gt; omitted\r\n\r\n","title":"could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException:","body":"<p>I'm updating some values through this class, the values of createdBy and lastModifiedBy is not mandatory to update. So, I'm not passing those values from postman. It is accepting for the lastModifiedBy column but it is showing the sql exception when I'm not passing createdBy value. Why this is happening ?</p>\n\n<pre><code>public class SubTeamMembersUpdateRequestDTO {\n\n    private Long id;\n    private Long subTeamId;\n    private Long userId;\n    private Integer target;\n    private Date startDate;\n    private Date endDate;\n    private String memberType;\n    private boolean isActive;\n\n    private String createdBy;\n    private String lastModifiedBy;\n}\n</code></pre>\n\n<p>The Console looks like this:</p>\n\n<blockquote>\n  <p>at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]     at\n  org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n  ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]  ... 111 common frames\n  omitted Caused by: java.sql.SQLIntegrityConstraintViolationException:\n  Column 'created_by' cannot be null    at\n  com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1340)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\n  ~[mysql-connector-java-8.0.17.jar:8.0.17]     at\n  com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n  ~[HikariCP-3.2.0.jar:na]  at\n  com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n  ~[HikariCP-3.2.0.jar:na]  at\n  org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)\n  ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]   ... 160 common frames\n  omitted</p>\n</blockquote>\n"},{"tags":["java","web-services","soap","maximo"],"comments":[{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":1,"creation_date":1367006545,"post_id":16237798,"comment_id":23240165,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/14274644/find-soapaction-from-a-wsdl","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/14274644/find-soapaction-from-a-wsdl\" title=\"find soapaction from a wsdl\">stackoverflow.com/questions/14274644/&hellip;</a>"},{"owner":{"account_id":2627587,"reputation":115,"user_id":2274304,"accept_rate":69,"display_name":"ja jaaaa"},"score":0,"creation_date":1367091727,"post_id":16237798,"comment_id":23260203,"body_markdown":"It is not duplicate!!!! I have several operations in that WSDL while previous post had only one! How to web service knows which oepration to call if I put only &quot;&quot; in soapAction.????? Bogdane stvarno vas zelim zamoliti da ne govorite odmah da je duplikat ako mi vec ne mozete pomoci za ovaj veliki problem koji imam...nije u redu..hvala","body":"It is not duplicate!!!! I have several operations in that WSDL while previous post had only one! How to web service knows which oepration to call if I put only &quot;&quot; in soapAction.????? Bogdane stvarno vas zelim zamoliti da ne govorite odmah da je duplikat ako mi vec ne mozete pomoci za ovaj veliki problem koji imam...nije u redu..hvala"},{"owner":{"account_id":2627587,"reputation":115,"user_id":2274304,"accept_rate":69,"display_name":"ja jaaaa"},"score":0,"creation_date":1367091947,"post_id":16237798,"comment_id":23260272,"body_markdown":"It is not duplicate!!!!!!!!!!!! Previous post had only one operation while I have  5 operations in WSDL so how will web service know what operation/action to call if I put just &quot;&quot;???? Bogdane nije duplikat i stvarno vas zelim zamoliti da ako mi ne mozete pomoci ne govoirte tako lako da je duplikat za nesto sto mi predstavlja veliki problem..nije u redu.. hvala","body":"It is not duplicate!!!!!!!!!!!! Previous post had only one operation while I have  5 operations in WSDL so how will web service know what operation/action to call if I put just &quot;&quot;???? Bogdane nije duplikat i stvarno vas zelim zamoliti da ako mi ne mozete pomoci ne govoirte tako lako da je duplikat za nesto sto mi predstavlja veliki problem..nije u redu.. hvala"},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":1,"creation_date":1367141636,"post_id":16237798,"comment_id":23268988,"body_markdown":"The operation to call can be found in the first element of `&lt;soap:Body&gt;`. `SOAPAction` can be used to indicate the intent of the SOAP HTTP request and have your server perform some action without the need to look inside the `&lt;soap:Body&gt;`. If it&#39;s empty then there is no indication of the intent of the message. `SOAPAction` can be used when you have overloaded operations or when your payload is generic and ...","body":"The operation to call can be found in the first element of <code>&lt;soap:Body&gt;</code>. <code>SOAPAction</code> can be used to indicate the intent of the SOAP HTTP request and have your server perform some action without the need to look inside the <code>&lt;soap:Body&gt;</code>. If it&#39;s empty then there is no indication of the intent of the message. <code>SOAPAction</code> can be used when you have overloaded operations or when your payload is generic and ..."},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":1,"creation_date":1367141705,"post_id":16237798,"comment_id":23269000,"body_markdown":"... you need a way to direct the message within your server. Your `SOAPAction` is empty so there is no intent expressed. The operation name inside `&lt;soap:Body&gt;` is the operation you are calling. Here is a another link you might want to read: http://michelchristianen.blogspot.ro/2011/02/understanding-soapaction-mystery_5785.html","body":"... you need a way to direct the message within your server. Your <code>SOAPAction</code> is empty so there is no intent expressed. The operation name inside <code>&lt;soap:Body&gt;</code> is the operation you are calling. Here is a another link you might want to read: <a href=\"http://michelchristianen.blogspot.ro/2011/02/understanding-soapaction-mystery_5785.html\" rel=\"nofollow noreferrer\">michelchristianen.blogspot.ro/2011/02/&hellip;</a>"},{"owner":{"account_id":2627587,"reputation":115,"user_id":2274304,"accept_rate":69,"display_name":"ja jaaaa"},"score":0,"creation_date":1367143582,"post_id":16237798,"comment_id":23269382,"body_markdown":"I  updated my question. You may now see the whole picture- I gave you the list of parameters (as I said usually populate only  three paramteres to invoke web service and that was enough) and I gave you the example 2 of 5 operations in WSDL - so how to invoke second operation sendBulkSms when I have five of them. If you can give me the example how would you invoke this operation based on the wsdl and the parameter list which exist? Thank you!!!!!!!","body":"I  updated my question. You may now see the whole picture- I gave you the list of parameters (as I said usually populate only  three paramteres to invoke web service and that was enough) and I gave you the example 2 of 5 operations in WSDL - so how to invoke second operation sendBulkSms when I have five of them. If you can give me the example how would you invoke this operation based on the wsdl and the parameter list which exist? Thank you!!!!!!!"}],"answers":[{"tags":[],"owner":{"account_id":2679000,"reputation":100,"user_id":2314709,"display_name":"Himanshu Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367053068,"creation_date":1367053068,"answer_id":16250204,"question_id":16237798,"body_markdown":"This is absolutely legal as the WS-I Profile, so it should be supported by your IBM toll also","title":"How to call Web Service with empty soapAction definition?","body":"<p>This is absolutely legal as the WS-I Profile, so it should be supported by your IBM toll also</p>\n"}],"owner":{"account_id":2627587,"reputation":115,"user_id":2274304,"accept_rate":69,"display_name":"ja jaaaa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697896885,"creation_date":1366983217,"question_id":16237798,"body_markdown":"I received WSDL file from my customer for integrations and that WSDL file was used for other customers and integrations also so it is valid and it won&#39;t be changed certainly.\r\n\r\nI call Web Service from some IBM application (Java based) where I define in some application parameters:end point URL, Service Name and Soap Action. This definition is not done in code but on GUI. I also did many integrations before so this is how it works.\r\n\r\nNow I am confused:\r\nI have end Point URL, I have Service Name (...HttpBinding) I have name of the operation in WSDL file (sendSMS) but field SOAP ACTION is empty? This Service has other operations too so I must call this operation sendSMS but how to define soapaction when it is blank?\r\n\r\nOnce again WSDL generation won&#39;t be changed it is valid and used by others before. I am confused if some one can give me answer. How to find out soap action name?\r\n\r\nthis is from WSDL:\r\n\r\n        &lt;operation name=&quot;sendSms&quot;&gt;\r\n    &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\n\r\nThis is the possible list of parameters which I can define in IBM Tivoli Maximo application. In previous integrations I defined only three at that was enough `(ENDPOINTURL, SERVICENAME, SOAPACTION).`\r\n\r\n    CFGXMLPATH\r\n    ENDPOINTURL\r\n    HTTPCONNTIMEOUT\r\n    HTTPREADTIMEOUT\r\n    HTTPVERSION\r\n    MEP\r\n    PASSWORD\r\n    SERVICENAME\r\n    SOAPACTION\r\n    SOAPVERSION\r\n    USERNAME\r\n    WSEXIT\r\n\r\nThat is the possible list of parameters which can be populate on GUI.\r\nHere is the part from WSDL just to show you that I have several operations.\r\n\r\n\r\n  \r\n\r\n    &lt;binding name=&quot;CpaSmsSendServiceWSExport_SmsParlayxSHttpBinding&quot; type=&quot;tns:SmsParlayxS&quot;&gt;\r\n        &lt;soap:binding style=&quot;document&quot; \r\n    transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;&gt;\r\n        \r\n        &lt;operation name=&quot;getRequestId&quot;&gt;\r\n    &lt;soap:operation soapAction=&quot;&quot;/&gt;&lt;input&gt;&lt;soap:body parts=&quot;getRequestId&quot;/&gt;\r\n    &lt;soap:header message=&quot;tns:SmsParlayx_getRequestId&quot; part=&quot;potpis&quot;&gt;\r\n                    &lt;/soap:header&gt;&lt;/input&gt;&lt;output&gt;&lt;soap:body parts=&quot;getRequestIdResponse&quot; use=&quot;literal&quot;/&gt;&lt;/output&gt;&lt;/operation&gt;\r\n        \r\n        \r\n        &lt;operation name=&quot;sendBulkSms&quot;&gt;\r\n    &lt;soap:operation soapAction=&quot;&quot;/&gt;&lt;input&gt;&lt;soap:body parts=&quot;sendBulkSms&quot;/&gt;\r\n    &lt;soap:header message=&quot;tns:SmsParlayx_sendBulkSms&quot; part=&quot;potpis&quot;&gt;\r\n                    &lt;/soap:header&gt;&lt;/input&gt;&lt;output&gt;&lt;soap:body parts=&quot;sendBulkSmsResponse&quot; use=&quot;literal&quot;/&gt;&lt;/output&gt;&lt;/operation&gt;","title":"How to call Web Service with empty soapAction definition?","body":"<p>I received WSDL file from my customer for integrations and that WSDL file was used for other customers and integrations also so it is valid and it won't be changed certainly.</p>\n\n<p>I call Web Service from some IBM application (Java based) where I define in some application parameters:end point URL, Service Name and Soap Action. This definition is not done in code but on GUI. I also did many integrations before so this is how it works.</p>\n\n<p>Now I am confused:\nI have end Point URL, I have Service Name (...HttpBinding) I have name of the operation in WSDL file (sendSMS) but field SOAP ACTION is empty? This Service has other operations too so I must call this operation sendSMS but how to define soapaction when it is blank?</p>\n\n<p>Once again WSDL generation won't be changed it is valid and used by others before. I am confused if some one can give me answer. How to find out soap action name?</p>\n\n<p>this is from WSDL:</p>\n\n<pre><code>    &lt;operation name=\"sendSms\"&gt;\n&lt;soap:operation soapAction=\"\"/&gt;\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This is the possible list of parameters which I can define in IBM Tivoli Maximo application. In previous integrations I defined only three at that was enough <code>(ENDPOINTURL, SERVICENAME, SOAPACTION).</code></p>\n\n<pre><code>CFGXMLPATH\nENDPOINTURL\nHTTPCONNTIMEOUT\nHTTPREADTIMEOUT\nHTTPVERSION\nMEP\nPASSWORD\nSERVICENAME\nSOAPACTION\nSOAPVERSION\nUSERNAME\nWSEXIT\n</code></pre>\n\n<p>That is the possible list of parameters which can be populate on GUI.\nHere is the part from WSDL just to show you that I have several operations.</p>\n\n<pre><code>&lt;binding name=\"CpaSmsSendServiceWSExport_SmsParlayxSHttpBinding\" type=\"tns:SmsParlayxS\"&gt;\n    &lt;soap:binding style=\"document\" \ntransport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;&gt;\n\n    &lt;operation name=\"getRequestId\"&gt;\n&lt;soap:operation soapAction=\"\"/&gt;&lt;input&gt;&lt;soap:body parts=\"getRequestId\"/&gt;\n&lt;soap:header message=\"tns:SmsParlayx_getRequestId\" part=\"potpis\"&gt;\n                &lt;/soap:header&gt;&lt;/input&gt;&lt;output&gt;&lt;soap:body parts=\"getRequestIdResponse\" use=\"literal\"/&gt;&lt;/output&gt;&lt;/operation&gt;\n\n\n    &lt;operation name=\"sendBulkSms\"&gt;\n&lt;soap:operation soapAction=\"\"/&gt;&lt;input&gt;&lt;soap:body parts=\"sendBulkSms\"/&gt;\n&lt;soap:header message=\"tns:SmsParlayx_sendBulkSms\" part=\"potpis\"&gt;\n                &lt;/soap:header&gt;&lt;/input&gt;&lt;output&gt;&lt;soap:body parts=\"sendBulkSmsResponse\" use=\"literal\"/&gt;&lt;/output&gt;&lt;/operation&gt;\n</code></pre>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":2849294,"reputation":2131,"user_id":3012050,"accept_rate":25,"display_name":"Shani Goriwal"},"score":1,"creation_date":1374213339,"post_id":17738966,"comment_id":25861077,"body_markdown":"for fragment popbackstack() method is used..","body":"for fragment popbackstack() method is used.."}],"answers":[{"tags":[],"owner":{"account_id":2739192,"reputation":7424,"user_id":2361098,"accept_rate":24,"display_name":"Bhoomika Brahmbhatt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537989795,"creation_date":1374213462,"answer_id":17739017,"question_id":17738966,"body_markdown":"Change\r\n\r\n    public void onBackPressed() {\r\n    }\r\n\r\nto\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed()\r\n    }\r\n\r\n**OR**\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n    \t\r\n    \t}\r\n    \treturn super.onKeyDown(keyCode, event);    \r\n    }","title":"How to disable back button pressed in android fragment class","body":"<p>Change</p>\n\n<pre><code>public void onBackPressed() {\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onBackPressed()\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n\n    }\n    return super.onKeyDown(keyCode, event);    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426100,"reputation":6877,"user_id":807110,"display_name":"Gunhan"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1697896383,"creation_date":1374214395,"answer_id":17739235,"question_id":17738966,"body_markdown":"**Updated Answer**\r\n\r\nYou need to use the new `OnBackPressedDispatcher` to handle on back callbacks. Then, you can show `Are you sure dialog` to confirm the action.\r\n\r\n    OnBackPressedCallback callback = new OnBackPressedCallback(true) {\r\n                @Override\r\n                public void handleOnBackPressed() {\r\n                    // create a dialog to ask yes no questions whether or not the user wants to exit\r\n                }\r\n            };\r\n        requireActivity().getOnBackPressedDispatcher().addCallback(this, callback);\r\n\r\n\r\n\r\n**Old Answer**\r\n\r\n*The below method is deprecated.*\r\n\r\nYou have to override `onBackPressed` of the parent `FragmentActivity` class. Therefore, put your codes in the parent `FragmentActivity`. Or you can call the parent&#39;s method by using this:\r\n\r\n    public void callParentMethod(){\r\n        getActivity().onBackPressed();\r\n    }\r\n\r\nin `FragmentActivity` override `onBackPressed` Method and not call its superclass to disable the back button.\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n      // super.onBackPressed();\r\n      // create a dialog to ask yes no question whether or not the user wants to exit\r\n      ...\r\n    }\r\n\r\n","title":"How to disable back button pressed in android fragment class","body":"<p><strong>Updated Answer</strong></p>\n<p>You need to use the new <code>OnBackPressedDispatcher</code> to handle on back callbacks. Then, you can show <code>Are you sure dialog</code> to confirm the action.</p>\n<pre><code>OnBackPressedCallback callback = new OnBackPressedCallback(true) {\n            @Override\n            public void handleOnBackPressed() {\n                // create a dialog to ask yes no questions whether or not the user wants to exit\n            }\n        };\n    requireActivity().getOnBackPressedDispatcher().addCallback(this, callback);\n</code></pre>\n<p><strong>Old Answer</strong></p>\n<p><em>The below method is deprecated.</em></p>\n<p>You have to override <code>onBackPressed</code> of the parent <code>FragmentActivity</code> class. Therefore, put your codes in the parent <code>FragmentActivity</code>. Or you can call the parent's method by using this:</p>\n<pre><code>public void callParentMethod(){\n    getActivity().onBackPressed();\n}\n</code></pre>\n<p>in <code>FragmentActivity</code> override <code>onBackPressed</code> Method and not call its superclass to disable the back button.</p>\n<pre><code>@Override\npublic void onBackPressed() {\n  // super.onBackPressed();\n  // create a dialog to ask yes no question whether or not the user wants to exit\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2614183"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395995019,"creation_date":1395995019,"answer_id":22707547,"question_id":17738966,"body_markdown":"    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event)  {\r\n    if ( keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getRepeatCount() == 0) {\r\n\r\n        onBackPressed();\r\n    }\r\n\r\n    return super.onKeyDown(keyCode, event);\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n    return;\r\n    }","title":"How to disable back button pressed in android fragment class","body":"<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event)  {\nif ( keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getRepeatCount() == 0) {\n\n    onBackPressed();\n}\n\nreturn super.onKeyDown(keyCode, event);\n}\n@Override\npublic void onBackPressed() {\n\nreturn;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2015665,"reputation":3017,"user_id":1803034,"display_name":"Mayank Saini"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1435577811,"creation_date":1435577811,"answer_id":31114671,"question_id":17738966,"body_markdown":"In your parent Activity\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        Fragment f = getSupportFragmentManager().findFragmentById(R.id.content_frame);\r\n        if (f instanceof yourfragment) {//the fragment on which you want to handle your back press\r\n            Log.i(&quot;BACK PRESSED&quot;, &quot;BACK PRESSED&quot;);\r\n        }else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n","title":"How to disable back button pressed in android fragment class","body":"<p>In your parent Activity</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n\n    Fragment f = getSupportFragmentManager().findFragmentById(R.id.content_frame);\n    if (f instanceof yourfragment) {//the fragment on which you want to handle your back press\n        Log.i(\"BACK PRESSED\", \"BACK PRESSED\");\n    }else{\n        super.onBackPressed();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6481387,"reputation":686,"user_id":5018257,"display_name":"Raj Kumar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1481179114,"creation_date":1458556801,"answer_id":36128834,"question_id":17738966,"body_markdown":"In your oncreateView() method you need to write this code and in KEYCODE_BACk return should true then it will stop the back button option for particular fragment\r\n\r\n         View v = inflater.inflate(R.layout.xyz, container, false);\r\n        //Back pressed Logic for fragment  \r\n        v.setFocusableInTouchMode(true);  \r\n        v.requestFocus();  \r\n        v.setOnKeyListener(new View.OnKeyListener() {  \r\n        @Override  \r\n        public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n            if (event.getAction() == KeyEvent.ACTION_DOWN) {\r\n                if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n    \r\n                    return true;  \r\n                }  \r\n            }  \r\n            return false;  \r\n        }  \r\n    });\r\n\r\n  ","title":"How to disable back button pressed in android fragment class","body":"<p>In your oncreateView() method you need to write this code and in KEYCODE_BACk return should true then it will stop the back button option for particular fragment</p>\n\n<pre><code>     View v = inflater.inflate(R.layout.xyz, container, false);\n    //Back pressed Logic for fragment  \n    v.setFocusableInTouchMode(true);  \n    v.requestFocus();  \n    v.setOnKeyListener(new View.OnKeyListener() {  \n    @Override  \n    public boolean onKey(View v, int keyCode, KeyEvent event) {\n        if (event.getAction() == KeyEvent.ACTION_DOWN) {\n            if (keyCode == KeyEvent.KEYCODE_BACK) {\n\n                return true;  \n            }  \n        }  \n        return false;  \n    }  \n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10704023,"reputation":1472,"user_id":10516463,"display_name":"d-feverx"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1595657126,"creation_date":1563100460,"answer_id":57026582,"question_id":17738966,"body_markdown":"I know it&#39;s too late, \r\nIn fragment onCreate\r\n\r\n\r\n\r\n        \r\n    val callback = requireActivity().onBackPressedDispatcher.addCallback(this) {\r\n    Log.d(&quot;tag&quot;,&quot;back button pressed&quot;)    // Handle the back button event\r\n    }\r\n\r\n    callback.isEnabled\r\n\r\n   ","title":"How to disable back button pressed in android fragment class","body":"<p>I know it's too late,\nIn fragment onCreate</p>\n<pre><code>val callback = requireActivity().onBackPressedDispatcher.addCallback(this) {\nLog.d(&quot;tag&quot;,&quot;back button pressed&quot;)    // Handle the back button event\n}\n\ncallback.isEnabled\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850393,"reputation":460,"user_id":6491408,"display_name":"AhuraMazda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588988547,"creation_date":1588988547,"answer_id":61690747,"question_id":17738966,"body_markdown":"if you want to fragment never closed without any button action you can try to prevent cancel Fragment.\r\n\r\nIn your fragment method add this\r\n\r\n     this.setCancelable(false);","title":"How to disable back button pressed in android fragment class","body":"<p>if you want to fragment never closed without any button action you can try to prevent cancel Fragment.</p>\n\n<p>In your fragment method add this</p>\n\n<pre><code> this.setCancelable(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981137,"reputation":17317,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1591730494,"creation_date":1591730494,"answer_id":62290318,"question_id":17738966,"body_markdown":"#OnBackPressedCallback\r\n\r\nHere is the code which you can write in your Fragment class to customize the back button press. \r\n\r\n    public class MyFragment extends Fragment{\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState){\r\n\r\n            super.onCreate(savedInstanceState);\r\n\r\n            OnBackPressedCallback callback = new OnBackPressedCallback(true /* enabled by default */) {\r\n                @Override\r\n                public void handleOnBackPressed() {\r\n                    // Handle the back button even\r\n                    Log.d(&quot;BACKBUTTON&quot;, &quot;Back button clicks&quot;);\r\n                }\r\n            };\r\n\r\n            requireActivity().getOnBackPressedDispatcher().addCallback(this, callback);\r\n\r\n         }\r\n\r\n    }\r\n\r\n##Relevant link\r\nYou can read and research more on this [HERE][1]\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-custom-back","title":"How to disable back button pressed in android fragment class","body":"<h1>OnBackPressedCallback</h1>\n\n<p>Here is the code which you can write in your Fragment class to customize the back button press. </p>\n\n<pre><code>public class MyFragment extends Fragment{\n\n    @Override\n    public void onCreate(Bundle savedInstanceState){\n\n        super.onCreate(savedInstanceState);\n\n        OnBackPressedCallback callback = new OnBackPressedCallback(true /* enabled by default */) {\n            @Override\n            public void handleOnBackPressed() {\n                // Handle the back button even\n                Log.d(\"BACKBUTTON\", \"Back button clicks\");\n            }\n        };\n\n        requireActivity().getOnBackPressedDispatcher().addCallback(this, callback);\n\n     }\n\n}\n</code></pre>\n\n<h2>Relevant link</h2>\n\n<p>You can read and research more on this <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"noreferrer\">HERE</a></p>\n"},{"tags":[],"owner":{"account_id":3529602,"reputation":24852,"user_id":2949612,"accept_rate":76,"display_name":"pRaNaY"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1639120156,"creation_date":1592310399,"answer_id":62408480,"question_id":17738966,"body_markdown":"Here is the new way you can manage your `onBackPressed()` in fragment with the new call back of activity:\r\n\r\n        // Disable onBack click\r\n        requireActivity().onBackPressedDispatcher.addCallback(this) {\r\n          // With blank your fragment BackPressed will be disabled.\r\n        }\r\n\r\nHere is the android doc link: https://developer.android.com/reference/androidx/activity/OnBackPressedDispatcher","title":"How to disable back button pressed in android fragment class","body":"<p>Here is the new way you can manage your <code>onBackPressed()</code> in fragment with the new call back of activity:</p>\n<pre><code>    // Disable onBack click\n    requireActivity().onBackPressedDispatcher.addCallback(this) {\n      // With blank your fragment BackPressed will be disabled.\n    }\n</code></pre>\n<p>Here is the android doc link: <a href=\"https://developer.android.com/reference/androidx/activity/OnBackPressedDispatcher\" rel=\"noreferrer\">https://developer.android.com/reference/androidx/activity/OnBackPressedDispatcher</a></p>\n"},{"tags":[],"owner":{"account_id":13392060,"reputation":1,"user_id":9664177,"display_name":"Đỗ Th&#224;nh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611766306,"creation_date":1611746838,"answer_id":65918189,"question_id":17738966,"body_markdown":"Just put a transparent view and set onClickListener for it","title":"How to disable back button pressed in android fragment class","body":"<p>Just put a transparent view and set onClickListener for it</p>\n"},{"tags":[],"owner":{"account_id":15854530,"reputation":470,"user_id":11439327,"display_name":"Drioueche Mohammed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642441041,"creation_date":1642441041,"answer_id":70745405,"question_id":17738966,"body_markdown":"Just override `onBackPressed` in your fragment where you want to disable the back press.\r\n\r\nMore info here: https://developer.android.com/reference/androidx/activity/OnBackPressedDispatcher\r\n \r\n\r\n    public class Login extends Fragment {\r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            OnBackPressedCallback callback = new OnBackPressedCallback(true) {\r\n                @Override\r\n                public void handleOnBackPressed() {\r\n                    // Log.d(&quot;TAG&quot;, &quot;Pressed...&quot;);\r\n                }\r\n            };\r\n            requireActivity().getOnBackPressedDispatcher().addCallback(this, callback);\r\n        }\r\n    }","title":"How to disable back button pressed in android fragment class","body":"<p>Just override <code>onBackPressed</code> in your fragment where you want to disable the back press.</p>\n<p>More info here: <a href=\"https://developer.android.com/reference/androidx/activity/OnBackPressedDispatcher\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/activity/OnBackPressedDispatcher</a></p>\n<pre><code>public class Login extends Fragment {\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        OnBackPressedCallback callback = new OnBackPressedCallback(true) {\n            @Override\n            public void handleOnBackPressed() {\n                // Log.d(&quot;TAG&quot;, &quot;Pressed...&quot;);\n            }\n        };\n        requireActivity().getOnBackPressedDispatcher().addCallback(this, callback);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21971145,"reputation":21,"user_id":16247629,"display_name":"Eshaqi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658044236,"creation_date":1658044236,"answer_id":73010062,"question_id":17738966,"body_markdown":"I know it&#39;s too late but maybe this code helps someone works with kotlin.\r\n\r\n- in the activity which contains your fragment override onBackPressed Function.\r\n\r\n- check if your frameLayout Which will have the fragment is empty.\r\n- if the container is empty, super.onBackPressed will call.\r\n\r\n        override fun onBackPressed() {\r\n\r\n        val frameLayout = supportFragmentManager.findFragmentById(R.id.yourFrameLayout)\r\n        if (frameLayout == null) {\r\n            super.onBackPressed()\r\n        }\r\n       }","title":"How to disable back button pressed in android fragment class","body":"<p>I know it's too late but maybe this code helps someone works with kotlin.</p>\n<ul>\n<li><p>in the activity which contains your fragment override onBackPressed Function.</p>\n</li>\n<li><p>check if your frameLayout Which will have the fragment is empty.</p>\n</li>\n<li><p>if the container is empty, super.onBackPressed will call.</p>\n<pre><code>  override fun onBackPressed() {\n\n  val frameLayout = supportFragmentManager.findFragmentById(R.id.yourFrameLayout)\n  if (frameLayout == null) {\n      super.onBackPressed()\n  }\n }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17644186,"reputation":1340,"user_id":12805923,"display_name":"Ahmet B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677842036,"creation_date":1677842036,"answer_id":75626372,"question_id":17738966,"body_markdown":"You can use this method;\r\n\r\n    private fun disableBackPress() {\r\n        activity?.onBackPressedDispatcher?.addCallback(viewLifecycleOwner, object : OnBackPressedCallback(true) {\r\n            override fun handleOnBackPressed() {\r\n                // do nothing for disable back button\r\n            }\r\n        })\r\n    }","title":"How to disable back button pressed in android fragment class","body":"<p>You can use this method;</p>\n<pre><code>private fun disableBackPress() {\n    activity?.onBackPressedDispatcher?.addCallback(viewLifecycleOwner, object : OnBackPressedCallback(true) {\n        override fun handleOnBackPressed() {\n            // do nothing for disable back button\n        }\n    })\n}\n</code></pre>\n"}],"owner":{"account_id":3066662,"reputation":395,"user_id":2598197,"accept_rate":50,"display_name":"JellyBean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58151,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":17739235,"answer_count":13,"score":33,"last_activity_date":1697896383,"creation_date":1374213197,"question_id":17738966,"body_markdown":"I want to disable the back button in a fragment class. `onBackPressed()` doesn&#39;t seem to work in this fragment. How could I disable the back button?\r\n\r\nThis is my sample code:\r\n\r\n    public class Login extends Fragment {\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n           ,Bundle savedInstanceState) {\r\n            ViewGroup root = (ViewGroup) inflater.inflate(R.layout.login, null);\r\n            return root;\r\n        }\r\n\r\n        public void onBackPressed() {\r\n        }\r\n    }\r\n","title":"How to disable back button pressed in android fragment class","body":"<p>I want to disable the back button in a fragment class. <code>onBackPressed()</code> doesn't seem to work in this fragment. How could I disable the back button?</p>\n\n<p>This is my sample code:</p>\n\n<pre><code>public class Login extends Fragment {\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n       ,Bundle savedInstanceState) {\n        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.login, null);\n        return root;\n    }\n\n    public void onBackPressed() {\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1697842372,"post_id":77334041,"comment_id":136335033,"body_markdown":"For some reason, your ASCII screen layout doesn&#39;t have a scroll bar in my display.   Create each `JPanel` in a separate method so you can test different layouts.  I&#39;d use a `BorderLayout` for `JPanel 1`, with the header `JPanel` in NORTH, and the `JScrollPane` with the `JEditorPane` in the CENTER.  Your total display looks really busy to me with way too many components.  I hope you aren&#39;t confusing users.","body":"For some reason, your ASCII screen layout doesn&#39;t have a scroll bar in my display.   Create each <code>JPanel</code> in a separate method so you can test different layouts.  I&#39;d use a <code>BorderLayout</code> for <code>JPanel 1</code>, with the header <code>JPanel</code> in NORTH, and the <code>JScrollPane</code> with the <code>JEditorPane</code> in the CENTER.  Your total display looks really busy to me with way too many components.  I hope you aren&#39;t confusing users."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1697845394,"post_id":77334041,"comment_id":136335238,"body_markdown":"Maybe also have a look at [`Scrollable`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Scrollable.html)","body":"Maybe also have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Scrollable.html\" rel=\"nofollow noreferrer\"><code>Scrollable</code></a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697853317,"post_id":77334041,"comment_id":136335638,"body_markdown":"*I&#39;m trying to layout my components to fit across the screen with equal size.* - sounds like a GridLayout to me. With the inner panels using a BorderLaout. *I am using MigLayout.* - I fond it easier to use nest panels with a appropriate layout manager rather than using a single layout manager.","body":"<i>I&#39;m trying to layout my components to fit across the screen with equal size.</i> - sounds like a GridLayout to me. With the inner panels using a BorderLaout. <i>I am using MigLayout.</i> - I fond it easier to use nest panels with a appropriate layout manager rather than using a single layout manager."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697895754,"creation_date":1697895754,"answer_id":77336262,"question_id":77334041,"body_markdown":"MigLayout doesn’t seem like the best solution to this.  It may be that MigLayout *can* do it, but I doubt it can do it cleanly or easily.\r\n\r\nAs others have pointed out, you can simply nest different layouts.  This is a very common practice, because it is how layouts are meant to be used.\r\n\r\nIn each panel, you have a resizable, scrollable component: the JEditorPane.  That should be the center of a BorderLayout, so it can resize when the parent panel is resized.  I’m guessing the header does not need to change size, so it should be in the PAGE_START (that is, NORTH, in Latin locales) section of the BorderLayout.\r\n\r\nThen, place all three panels into a GridLayout, to force them to be the same size.\r\n\r\nHere is how I did it:\r\n\r\n    import java.time.ZonedDateTime;\r\n\r\n    import java.io.IOException;\r\n\r\n    import java.net.URL;\r\n    import java.net.URI;\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.EventQueue;\r\n\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JEditorPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.BorderFactory;\r\n\r\n    import javax.swing.text.AbstractDocument;\r\n\r\n    public class TripleEditorPanes {\r\n        private JEditorPane editorPane1;\r\n        private JEditorPane editorPane2;\r\n        private JEditorPane editorPane3;\r\n\r\n        private JComponent buildEditorPanel(String title,\r\n                                            ZonedDateTime date,\r\n                                            JEditorPane editor) {\r\n\r\n            JLabel titleLabel = new JLabel(&quot;Name: &quot; + title);\r\n            JLabel dateLabel = new JLabel(String.format(&quot;Date: %tc&quot;, date));\r\n\r\n            JComponent header = new JPanel(new GridLayout(0, 1, 0, 6));\r\n            header.add(titleLabel);\r\n            header.add(dateLabel);\r\n            header.setBorder(BorderFactory.createEmptyBorder(6, 6, 12, 6));\r\n\r\n            JScrollPane editorScrollPane = new JScrollPane(editor);\r\n\r\n            JComponent editorPanel = new JPanel(new CardLayout());\r\n            editorPanel.add(editorScrollPane, &quot;editor&quot;);\r\n            // Make editor&#39;s default size equivalent to 20 columns by 12 rows.\r\n            editorPanel.add(new JScrollPane(new JTextArea(12, 20)), &quot;sizer&quot;);\r\n\r\n            JComponent panel = new JPanel(new BorderLayout());\r\n            panel.add(header, BorderLayout.PAGE_START);\r\n            panel.add(editorPanel, BorderLayout.CENTER);\r\n\r\n            return panel;\r\n        }\r\n\r\n        private JEditorPane createEditorPane(URL url)\r\n        throws IOException {\r\n            JEditorPane editorPane = new JEditorPane();\r\n            editorPane.setContentType(&quot;text/html&quot;);\r\n            editorPane.setEditable(false);\r\n\r\n            AbstractDocument doc = (AbstractDocument)\r\n                editorPane.getEditorKit().createDefaultDocument();\r\n\r\n            doc.setAsynchronousLoadPriority(0);\r\n            editorPane.setDocument(doc);\r\n            editorPane.setPage(url);\r\n\r\n            return editorPane;\r\n        }\r\n\r\n        private JComponent buildEditorsPanel()\r\n        throws IOException {\r\n            URI page1 = URI.create(\r\n                &quot;https://docs.oracle.com/en/java/javase/21/docs/api/&quot; +\r\n                &quot;java.base/java/lang/Void.html&quot;);\r\n            URI page2 = URI.create(\r\n                &quot;https://docs.oracle.com/en/java/javase/21/docs/api/&quot; +\r\n                &quot;java.base/java/lang/Runnable.html&quot;);\r\n            URI page3 = URI.create(\r\n                &quot;https://docs.oracle.com/en/java/javase/21/docs/api/&quot; +\r\n                &quot;java.base/java/lang/Iterable.html&quot;);\r\n\r\n            editorPane1 = createEditorPane(page1.toURL());\r\n            editorPane2 = createEditorPane(page2.toURL());\r\n            editorPane3 = createEditorPane(page3.toURL());\r\n\r\n            ZonedDateTime d1 = ZonedDateTime.now().minusMonths(6).minusDays(10);\r\n            ZonedDateTime d2 = ZonedDateTime.now().minusMonths(3).minusDays(21);\r\n            ZonedDateTime d3 = ZonedDateTime.now().minusMonths(1).minusDays(2);\r\n\r\n            JComponent panel1 = buildEditorPanel(&quot;First&quot;, d1, editorPane1);\r\n            JComponent panel2 = buildEditorPanel(&quot;Second&quot;, d2, editorPane2);\r\n            JComponent panel3 = buildEditorPanel(&quot;Third&quot;, d3, editorPane3);\r\n\r\n            JComponent editorsPanel = new JPanel(new GridLayout(1, 0, 12, 0));\r\n            editorsPanel.add(panel1);\r\n            editorsPanel.add(panel2);\r\n            editorsPanel.add(panel3);\r\n\r\n            return editorsPanel;\r\n        }\r\n\r\n        void show() {\r\n            try {\r\n                JComponent editors = buildEditorsPanel();\r\n\r\n                JFrame frame = new JFrame(&quot;Editors&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(editors);\r\n                frame.pack();\r\n                frame.setLocationByPlatform(true);\r\n                frame.setVisible(true);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; new TripleEditorPanes().show());\r\n        }\r\n    }\r\n\r\nYou may notice that I did not take your goal of a horizontal scrollbar into account.  Having one dimension’s scrollbar on one component while the other dimension’s scrollbar is on a different component results in an awkward user interface, which may satisfy the developer but is an unpleasant experience for the end user.  Instead, I let each JEditorPane’s JScrollPane take care of horizontal scrolling;  since all JEditorPanes are resizable, a user can always make them bigger to remove the need for horizontal scrolling.\r\n\r\nIf you truly feel the outer horizontal scrollbar is necessary, you will have to create a subclass of JPanel which implements [Scrollable](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Scrollable.html), as MadProgrammer pointed out, so it will always use the height of the containing JScrollPane.\r\n","title":"Make a JscrollPane&#39;s viewport size depend on the Scrollpane&#39;s container&#39;s size and layout rather than it&#39;s viewport view&#39;s size?","body":"<p>MigLayout doesn’t seem like the best solution to this.  It may be that MigLayout <em>can</em> do it, but I doubt it can do it cleanly or easily.</p>\n<p>As others have pointed out, you can simply nest different layouts.  This is a very common practice, because it is how layouts are meant to be used.</p>\n<p>In each panel, you have a resizable, scrollable component: the JEditorPane.  That should be the center of a BorderLayout, so it can resize when the parent panel is resized.  I’m guessing the header does not need to change size, so it should be in the PAGE_START (that is, NORTH, in Latin locales) section of the BorderLayout.</p>\n<p>Then, place all three panels into a GridLayout, to force them to be the same size.</p>\n<p>Here is how I did it:</p>\n<pre><code>import java.time.ZonedDateTime;\n\nimport java.io.IOException;\n\nimport java.net.URL;\nimport java.net.URI;\n\nimport java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.GridLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.JComponent;\nimport javax.swing.JEditorPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.JFrame;\nimport javax.swing.BorderFactory;\n\nimport javax.swing.text.AbstractDocument;\n\npublic class TripleEditorPanes {\n    private JEditorPane editorPane1;\n    private JEditorPane editorPane2;\n    private JEditorPane editorPane3;\n\n    private JComponent buildEditorPanel(String title,\n                                        ZonedDateTime date,\n                                        JEditorPane editor) {\n\n        JLabel titleLabel = new JLabel(&quot;Name: &quot; + title);\n        JLabel dateLabel = new JLabel(String.format(&quot;Date: %tc&quot;, date));\n\n        JComponent header = new JPanel(new GridLayout(0, 1, 0, 6));\n        header.add(titleLabel);\n        header.add(dateLabel);\n        header.setBorder(BorderFactory.createEmptyBorder(6, 6, 12, 6));\n\n        JScrollPane editorScrollPane = new JScrollPane(editor);\n\n        JComponent editorPanel = new JPanel(new CardLayout());\n        editorPanel.add(editorScrollPane, &quot;editor&quot;);\n        // Make editor's default size equivalent to 20 columns by 12 rows.\n        editorPanel.add(new JScrollPane(new JTextArea(12, 20)), &quot;sizer&quot;);\n\n        JComponent panel = new JPanel(new BorderLayout());\n        panel.add(header, BorderLayout.PAGE_START);\n        panel.add(editorPanel, BorderLayout.CENTER);\n\n        return panel;\n    }\n\n    private JEditorPane createEditorPane(URL url)\n    throws IOException {\n        JEditorPane editorPane = new JEditorPane();\n        editorPane.setContentType(&quot;text/html&quot;);\n        editorPane.setEditable(false);\n\n        AbstractDocument doc = (AbstractDocument)\n            editorPane.getEditorKit().createDefaultDocument();\n\n        doc.setAsynchronousLoadPriority(0);\n        editorPane.setDocument(doc);\n        editorPane.setPage(url);\n\n        return editorPane;\n    }\n\n    private JComponent buildEditorsPanel()\n    throws IOException {\n        URI page1 = URI.create(\n            &quot;https://docs.oracle.com/en/java/javase/21/docs/api/&quot; +\n            &quot;java.base/java/lang/Void.html&quot;);\n        URI page2 = URI.create(\n            &quot;https://docs.oracle.com/en/java/javase/21/docs/api/&quot; +\n            &quot;java.base/java/lang/Runnable.html&quot;);\n        URI page3 = URI.create(\n            &quot;https://docs.oracle.com/en/java/javase/21/docs/api/&quot; +\n            &quot;java.base/java/lang/Iterable.html&quot;);\n\n        editorPane1 = createEditorPane(page1.toURL());\n        editorPane2 = createEditorPane(page2.toURL());\n        editorPane3 = createEditorPane(page3.toURL());\n\n        ZonedDateTime d1 = ZonedDateTime.now().minusMonths(6).minusDays(10);\n        ZonedDateTime d2 = ZonedDateTime.now().minusMonths(3).minusDays(21);\n        ZonedDateTime d3 = ZonedDateTime.now().minusMonths(1).minusDays(2);\n\n        JComponent panel1 = buildEditorPanel(&quot;First&quot;, d1, editorPane1);\n        JComponent panel2 = buildEditorPanel(&quot;Second&quot;, d2, editorPane2);\n        JComponent panel3 = buildEditorPanel(&quot;Third&quot;, d3, editorPane3);\n\n        JComponent editorsPanel = new JPanel(new GridLayout(1, 0, 12, 0));\n        editorsPanel.add(panel1);\n        editorsPanel.add(panel2);\n        editorsPanel.add(panel3);\n\n        return editorsPanel;\n    }\n\n    void show() {\n        try {\n            JComponent editors = buildEditorsPanel();\n\n            JFrame frame = new JFrame(&quot;Editors&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(editors);\n            frame.pack();\n            frame.setLocationByPlatform(true);\n            frame.setVisible(true);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new TripleEditorPanes().show());\n    }\n}\n</code></pre>\n<p>You may notice that I did not take your goal of a horizontal scrollbar into account.  Having one dimension’s scrollbar on one component while the other dimension’s scrollbar is on a different component results in an awkward user interface, which may satisfy the developer but is an unpleasant experience for the end user.  Instead, I let each JEditorPane’s JScrollPane take care of horizontal scrolling;  since all JEditorPanes are resizable, a user can always make them bigger to remove the need for horizontal scrolling.</p>\n<p>If you truly feel the outer horizontal scrollbar is necessary, you will have to create a subclass of JPanel which implements <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Scrollable.html\" rel=\"nofollow noreferrer\">Scrollable</a>, as MadProgrammer pointed out, so it will always use the height of the containing JScrollPane.</p>\n"}],"owner":{"account_id":13446245,"reputation":154,"user_id":9702105,"display_name":"Josh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1697895754,"creation_date":1697840728,"question_id":77334041,"body_markdown":"According to the docs on how to properly size a scrollpane, says that the scrollpane&#39;s preferred size depends on the viewport view&#39;s size.\r\n\r\nI am having an issue where I have a scrollpane with a JEditorPane inside of it. The default behavior here (which, in my opinion makes no sense if the JEditorPane is supposed to be &quot;scroll savvy&quot;) is that the scrollpane expands its size so show the entire editor pane. Obviously this won&#39;t do, because I&#39;m trying to layout my components to fit across the screen with equal size.\r\n\r\nThe below diagrom shows my setup. I am using MigLayout.\r\n\r\n```\r\nThe entire structure is inside the bottom half of a JSplitPane, and is thus vertically resizeable.\r\n--------------JPanel inside JScrollPane (Horizantal scrolling only)-----------|\r\n| |------JPanel 1-------| |--------JPanel 2-------| |--------Jpanel 3-------| |\r\n| | |-----------------| | |     Same as first     | |   Same as first       | |\r\n| | |---Header Panel--| | |                       | |                       | |\r\n| | |-----------------| | |                       | |                       | | --&gt;\r\n| |                     | |                       | |                       | | --&gt; \r\n| | |-VerticalScroll--| | |                       | |                       | | --&gt;\r\n| | |   JEditorPane   | | |                       | |                       | |\r\n| | |   inside here   | | |                       | |                       | |\r\n| | |-----------------| | |                       | |                       | |\r\n| |---------------------| |-----------------------| |-----------------------| |\r\n|-----------------------------------------------------------------------------|\r\n``` \r\nYou can probably ignore the outer component. I&#39;m just focusing on JPanel 1, whose height can change as its ancestor JSplitPane is resized, and the VerticalScroll component which should simply fit inside of it.\r\n\r\nSimply put: How do I get the Vertical Scrollpane to fill all remaining vertical space inside JPanel 1/2..etc? I want the header to stay put at the top, and the scrollpane to resize its viewport *not based on its viewport view size, but on its parent container&#39;s size*. That is to say: no matter the component inside the JScrollPane, no matter its size or type, I simply want the JScrollPane to set it and its viewports size with respect to the layout of the container that its in. \r\n\r\nI&#39;m only focusing on the height of the scrollpane, not the width. That&#39;s a separate problem to solve which may or may not factor into a solution I find for this.\r\n\r\nI&#39;ve tried all sorts of things like attempting to calculate component height and position and setting the preferredHeight manually from there, but I always run into issues where the size grows indefinitly, or it doesn&#39;t fit perfectly into the container. ","title":"Make a JscrollPane&#39;s viewport size depend on the Scrollpane&#39;s container&#39;s size and layout rather than it&#39;s viewport view&#39;s size?","body":"<p>According to the docs on how to properly size a scrollpane, says that the scrollpane's preferred size depends on the viewport view's size.</p>\n<p>I am having an issue where I have a scrollpane with a JEditorPane inside of it. The default behavior here (which, in my opinion makes no sense if the JEditorPane is supposed to be &quot;scroll savvy&quot;) is that the scrollpane expands its size so show the entire editor pane. Obviously this won't do, because I'm trying to layout my components to fit across the screen with equal size.</p>\n<p>The below diagrom shows my setup. I am using MigLayout.</p>\n<pre><code>The entire structure is inside the bottom half of a JSplitPane, and is thus vertically resizeable.\n--------------JPanel inside JScrollPane (Horizantal scrolling only)-----------|\n| |------JPanel 1-------| |--------JPanel 2-------| |--------Jpanel 3-------| |\n| | |-----------------| | |     Same as first     | |   Same as first       | |\n| | |---Header Panel--| | |                       | |                       | |\n| | |-----------------| | |                       | |                       | | --&gt;\n| |                     | |                       | |                       | | --&gt; \n| | |-VerticalScroll--| | |                       | |                       | | --&gt;\n| | |   JEditorPane   | | |                       | |                       | |\n| | |   inside here   | | |                       | |                       | |\n| | |-----------------| | |                       | |                       | |\n| |---------------------| |-----------------------| |-----------------------| |\n|-----------------------------------------------------------------------------|\n</code></pre>\n<p>You can probably ignore the outer component. I'm just focusing on JPanel 1, whose height can change as its ancestor JSplitPane is resized, and the VerticalScroll component which should simply fit inside of it.</p>\n<p>Simply put: How do I get the Vertical Scrollpane to fill all remaining vertical space inside JPanel 1/2..etc? I want the header to stay put at the top, and the scrollpane to resize its viewport <em>not based on its viewport view size, but on its parent container's size</em>. That is to say: no matter the component inside the JScrollPane, no matter its size or type, I simply want the JScrollPane to set it and its viewports size with respect to the layout of the container that its in.</p>\n<p>I'm only focusing on the height of the scrollpane, not the width. That's a separate problem to solve which may or may not factor into a solution I find for this.</p>\n<p>I've tried all sorts of things like attempting to calculate component height and position and setting the preferredHeight manually from there, but I always run into issues where the size grows indefinitly, or it doesn't fit perfectly into the container.</p>\n"},{"tags":["java","spring","environment-variables"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697892914,"post_id":77336053,"comment_id":136338122,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- It should be `@Value(&quot;server.port&quot;)` instead of `@Value(&quot;SERVER.PORT&quot;)` and `System.getenv(&quot;SERVER_PORT&quot;)` instead of `System.getenv(&quot;PORT&quot;)`.","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a> --- It should be <code>@Value(&quot;server.port&quot;)</code> instead of <code>@Value(&quot;SERVER.PORT&quot;)</code> and <code>System.getenv(&quot;SERVER_PORT&quot;)</code> instead of <code>System.getenv(&quot;PORT&quot;)</code>."},{"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"score":0,"creation_date":1697893106,"post_id":77336053,"comment_id":136338136,"body_markdown":"Thank for the Info, will refrain from uploading images from now on. \n\nUpdate for the server.port I still got the null value","body":"Thank for the Info, will refrain from uploading images from now on.   Update for the server.port I still got the null value"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697893135,"post_id":77336053,"comment_id":136338137,"body_markdown":"Please refresh the page and re-read my comment. I updated it.","body":"Please refresh the page and re-read my comment. I updated it."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1697893239,"post_id":77336053,"comment_id":136338144,"body_markdown":"I am also not sure whether spring-boot has build-in support for `.env`-files.","body":"I am also not sure whether spring-boot has build-in support for <code>.env</code>-files."}],"answers":[{"tags":[],"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697894806,"creation_date":1697894806,"answer_id":77336182,"question_id":77336053,"body_markdown":"Unfortunately, output still the same. Don&#39;t know what is the cause of this. \r\n\r\nI fixed it by doing this in my main application\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\r\n    \t\tEnvironment env = context.getEnvironment();\r\n    \r\n    \r\n    \t\tString port = env.getProperty(&quot;server.port&quot;);\r\n    \t\tif (port != null) {\r\n    \t\t\tSystem.out.println(&quot;Port: &quot; + port);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Port environment variable is not set.&quot;);\r\n    \t\t}\r\n    }","title":"How to log value of my .env file in Spring","body":"<p>Unfortunately, output still the same. Don't know what is the cause of this.</p>\n<p>I fixed it by doing this in my main application</p>\n<pre><code>public static void main(String[] args) {\n\n        ConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\n        Environment env = context.getEnvironment();\n\n\n        String port = env.getProperty(&quot;server.port&quot;);\n        if (port != null) {\n            System.out.println(&quot;Port: &quot; + port);\n        } else {\n            System.out.println(&quot;Port environment variable is not set.&quot;);\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697894806,"creation_date":1697892772,"question_id":77336053,"body_markdown":"When I log my env variables in my main application I get null value. How to fix this? Or are there other best practice to check my env variables?\r\n\r\n[YAML File](https://i.stack.imgur.com/b3dYQ.png)\r\n\r\n    SERVER:\r\n      PORT: ${SERVER_PORT}\r\n    \r\n    spring:\r\n      datasource:\r\n        url: ${DB_URL}\r\n        username: ${USERNAME}\r\n        password: ${PASSWORD}\r\n        driverClassName: ${DRIVER_CLASSNAME}\r\n    \r\n      jpa:\r\n        spring.jpa.database-platform: ${DB_PLATFORM}\r\n\r\n[Env File](https://i.stack.imgur.com/MWtqi.png)\r\n\r\n    SERVER_PORT=8070\r\n    \r\n    DB_URL=&quot;jdbc:h2:mem:dcbapp&quot;\r\n    DRIVER_CLASSNAME=&quot;org.h2.Driver&quot;\r\n    DB_PLATFORM=&quot;org.hibernate.dialect.H2Dialect&quot;\r\n    \r\n    WELCOME_MESSAGE=&quot;Welcome to the Student App&quot;\r\n\r\n[My Main Application](https://i.stack.imgur.com/OD3sE.png)\r\n\r\nI tried logging using Logger and also a @Value(&quot;&quot;) annotation but still end up with the same result\r\n\r\n[Output](https://i.stack.imgur.com/CUmJW.png)\r\npackage com.example.demo;\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \t@Value(&quot;${SERVER.PORT}&quot;)\r\n    \tprivate static String port;\r\n    \r\n    \r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t\t//To display using port variable\r\n    \t\tSystem.out.println(&quot;Port: &quot;+ port);\r\n    \t\t// To display using System.getenv(&quot;PORT&quot;)\r\n    \t\tSystem.out.println(&quot;Port: &quot;+ System.getenv(&quot;PORT&quot;));\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How to log value of my .env file in Spring","body":"<p>When I log my env variables in my main application I get null value. How to fix this? Or are there other best practice to check my env variables?</p>\n<p><a href=\"https://i.stack.imgur.com/b3dYQ.png\" rel=\"nofollow noreferrer\">YAML File</a></p>\n<pre><code>SERVER:\n  PORT: ${SERVER_PORT}\n\nspring:\n  datasource:\n    url: ${DB_URL}\n    username: ${USERNAME}\n    password: ${PASSWORD}\n    driverClassName: ${DRIVER_CLASSNAME}\n\n  jpa:\n    spring.jpa.database-platform: ${DB_PLATFORM}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MWtqi.png\" rel=\"nofollow noreferrer\">Env File</a></p>\n<pre><code>SERVER_PORT=8070\n\nDB_URL=&quot;jdbc:h2:mem:dcbapp&quot;\nDRIVER_CLASSNAME=&quot;org.h2.Driver&quot;\nDB_PLATFORM=&quot;org.hibernate.dialect.H2Dialect&quot;\n\nWELCOME_MESSAGE=&quot;Welcome to the Student App&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OD3sE.png\" rel=\"nofollow noreferrer\">My Main Application</a></p>\n<p>I tried logging using Logger and also a @Value(&quot;&quot;) annotation but still end up with the same result</p>\n<p><a href=\"https://i.stack.imgur.com/CUmJW.png\" rel=\"nofollow noreferrer\">Output</a>\npackage com.example.demo;</p>\n<pre><code>import org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.util.logging.Logger;\n\n@SpringBootApplication\npublic class DemoApplication {\n    @Value(&quot;${SERVER.PORT}&quot;)\n    private static String port;\n\n\n\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(DemoApplication.class, args);\n        //To display using port variable\n        System.out.println(&quot;Port: &quot;+ port);\n        // To display using System.getenv(&quot;PORT&quot;)\n        System.out.println(&quot;Port: &quot;+ System.getenv(&quot;PORT&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","hibernate","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500433966,"creation_date":1500433966,"answer_id":45180328,"question_id":45179935,"body_markdown":"One possible solution is to use a java.sql.timestamp instead of java.sql.Date.  Also you can refer to [SQL and PL/SQL Mappings to Oracle and JDBC Types][1] in order to verify the correct data type mapping.\r\n\r\n\r\n[This is an example of how get java.sql.timestamp][2]\r\n\r\n    java.util.Date utilDate = new java.util.Date();\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(utilDate);\r\n    cal.set(Calendar.MILLISECOND, 0);\r\n    System.out.println(new java.sql.Timestamp(utilDate.getTime()));\r\n    System.out.println(new java.sql.Timestamp(cal.getTimeInMillis()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B19306_01/java.102/b14188/datamap.htm#CHDBJAGH\r\n  [2]: https://stackoverflow.com/questions/22856931/converting-java-date-to-sql-timestamp#22857114","title":"passing date as a parameter in stored procedure (oracle)","body":"<p>One possible solution is to use a java.sql.timestamp instead of java.sql.Date.  Also you can refer to <a href=\"https://docs.oracle.com/cd/B19306_01/java.102/b14188/datamap.htm#CHDBJAGH\" rel=\"nofollow noreferrer\">SQL and PL/SQL Mappings to Oracle and JDBC Types</a> in order to verify the correct data type mapping.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22856931/converting-java-date-to-sql-timestamp#22857114\">This is an example of how get java.sql.timestamp</a></p>\n\n<pre><code>java.util.Date utilDate = new java.util.Date();\nCalendar cal = Calendar.getInstance();\ncal.setTime(utilDate);\ncal.set(Calendar.MILLISECOND, 0);\nSystem.out.println(new java.sql.Timestamp(utilDate.getTime()));\nSystem.out.println(new java.sql.Timestamp(cal.getTimeInMillis()));\n</code></pre>\n"}],"owner":{"account_id":10343412,"reputation":1212,"user_id":7629068,"accept_rate":16,"display_name":"sagar limbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9881,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697893400,"creation_date":1500430947,"question_id":45179935,"body_markdown":"i am trying to perform insert operation from hibernate into the oracle table. \r\nmy stored procedure is:-\r\n\r\n    create or replace PROCEDURE          ADMSN_TABLE (\r\n      P_ID                            NUMBER,\r\n      P_ADMISSIONFOR                  VARCHAR2,\r\n      P_SUBMISSIONDATE                DATE,                            --NOT NULL\r\n      P_SUBMISSIONLASTDATE            DATE                          --NOT NULL\r\n    \r\n    )\r\n    IS\r\n      v_sno number;\r\n      \r\n      BEGIN\r\n          INSERT INTO ORACLE.ADMISSION(AMSNID,ADMISSIONFOR,SUBMISSIONDATE,\r\n     SUBMISSIONLASTDATE)\r\n          VALUES (P_ID,P_ADMISSIONFOR,P_SUBMISSIONDATE,P_SUBMISSIONLASTDATE);\r\n    \r\n          COMMIT;\r\n      END;\r\n\r\nthe way i am calling this procedure from hibernate:-\r\n\r\n        public void callProc(){\r\n    \r\n            Date utilDate= new Date();\r\n            java.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());\r\n            System.out.println(sqlDate);\r\n    \r\n    \r\n            Date date = new Date();\r\n            SimpleDateFormat smd = new SimpleDateFormat(&quot;dd-MMM-YYYY&quot;);\r\n            String sdate = smd.format(date);\r\n            System.out.println(sdate);\r\n    \r\n        try {\r\n        session = sessionFactory.openSession();\r\n        transaction = session.beginTransaction();\r\n        StoredProcedureQuery query = session.createStoredProcedureQuery(&quot;ADMSN_TABLE&quot;);\r\n    query.registerStoredProcedureParameter(&quot;P_ID&quot;, Number.class, \r\n    ParameterMode.IN);\r\n    query.registerStoredProcedureParameter(&quot;P_ADMISSIONFOR&quot;, String.class, \r\n    ParameterMode.IN);\r\n    query.registerStoredProcedureParameter(&quot;P_SUBMISSIONDATE&quot;, Date.class, \r\n    ParameterMode.IN);             \r\n    query.registerStoredProcedureParameter(&quot;P_SUBMISSIONLASTDATE&quot;,Date.class, \r\n    ParameterMode.IN);\r\n    \r\n                query.setParameter(&quot;P_ID&quot;, 1);\r\n                query.setParameter(&quot;P_ADMISSIONFOR&quot;, &quot;schoolfee&quot;);\r\n                query.setParameter(&quot;P_SUBMISSIONDATE&quot;, sqlDate);\r\n                query.setParameter(&quot;P_SUBMISSIONLASTDATE&quot;, sqlDate);\r\n                query.execute();\r\n                System.out.println(&quot;excuted&quot;);\r\n            }catch(Exception ex){\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nnow i tried to pass date parameter as `new Date()` or `sqldate` like given above. and `query.setParameter(&quot;P_SUBMISSIONLASTDATE&quot;, sqlDate,TemporalType.Date);`but all of them are throwing error:- \r\n\r\n    Caused by: org.hibernate.exception.SQLGrammarException: \r\n    Error calling CallableStatement.getMoreResults at \r\n    org.hibernate.exception.internal.SQLStateConversionDelegate.convert\r\n    (SQLStateConversionDelegate.java:106) at \r\n    org.hibernate.exception.internal.StandardSQLExceptionConverter.convert\r\n    (StandardSQLExceptionConverter.java:42) at \r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert\r\n    (SqlExceptionHelper.java:111)\r\n    at org.hibernate.result.internal.OutputsImpl.convert\r\n    at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;\r\n    (OutputsImpl.java:55)\r\n    at org.hibernate.procedure.internal.ProcedureOutputsImpl.&lt;init&gt;\r\n    (ProcedureOutputsImpl.java:32)\r\n    at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs\r\n    (ProcedureCallImpl.java:453)\r\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs\r\n    (ProcedureCallImpl.java:404)\r\n    \tat org .hibernate.procedure.internal.ProcedureCallImpl.outputs\r\n    (ProcedureCallImpl.java:663)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.execute\r\n    (ProcedureCallImpl.java:646)\r\n    \t... 41 more\r\n    Caused by: java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;ADMSN_TABLE&#39;\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\n","title":"passing date as a parameter in stored procedure (oracle)","body":"<p>i am trying to perform insert operation from hibernate into the oracle table. \nmy stored procedure is:-</p>\n\n<pre><code>create or replace PROCEDURE          ADMSN_TABLE (\n  P_ID                            NUMBER,\n  P_ADMISSIONFOR                  VARCHAR2,\n  P_SUBMISSIONDATE                DATE,                            --NOT NULL\n  P_SUBMISSIONLASTDATE            DATE                          --NOT NULL\n\n)\nIS\n  v_sno number;\n\n  BEGIN\n      INSERT INTO ORACLE.ADMISSION(AMSNID,ADMISSIONFOR,SUBMISSIONDATE,\n SUBMISSIONLASTDATE)\n      VALUES (P_ID,P_ADMISSIONFOR,P_SUBMISSIONDATE,P_SUBMISSIONLASTDATE);\n\n      COMMIT;\n  END;\n</code></pre>\n\n<p>the way i am calling this procedure from hibernate:-</p>\n\n<pre><code>    public void callProc(){\n\n        Date utilDate= new Date();\n        java.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());\n        System.out.println(sqlDate);\n\n\n        Date date = new Date();\n        SimpleDateFormat smd = new SimpleDateFormat(\"dd-MMM-YYYY\");\n        String sdate = smd.format(date);\n        System.out.println(sdate);\n\n    try {\n    session = sessionFactory.openSession();\n    transaction = session.beginTransaction();\n    StoredProcedureQuery query = session.createStoredProcedureQuery(\"ADMSN_TABLE\");\nquery.registerStoredProcedureParameter(\"P_ID\", Number.class, \nParameterMode.IN);\nquery.registerStoredProcedureParameter(\"P_ADMISSIONFOR\", String.class, \nParameterMode.IN);\nquery.registerStoredProcedureParameter(\"P_SUBMISSIONDATE\", Date.class, \nParameterMode.IN);             \nquery.registerStoredProcedureParameter(\"P_SUBMISSIONLASTDATE\",Date.class, \nParameterMode.IN);\n\n            query.setParameter(\"P_ID\", 1);\n            query.setParameter(\"P_ADMISSIONFOR\", \"schoolfee\");\n            query.setParameter(\"P_SUBMISSIONDATE\", sqlDate);\n            query.setParameter(\"P_SUBMISSIONLASTDATE\", sqlDate);\n            query.execute();\n            System.out.println(\"excuted\");\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>now i tried to pass date parameter as <code>new Date()</code> or <code>sqldate</code> like given above. and <code>query.setParameter(\"P_SUBMISSIONLASTDATE\", sqlDate,TemporalType.Date);</code>but all of them are throwing error:- </p>\n\n<pre><code>Caused by: org.hibernate.exception.SQLGrammarException: \nError calling CallableStatement.getMoreResults at \norg.hibernate.exception.internal.SQLStateConversionDelegate.convert\n(SQLStateConversionDelegate.java:106) at \norg.hibernate.exception.internal.StandardSQLExceptionConverter.convert\n(StandardSQLExceptionConverter.java:42) at \norg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert\n(SqlExceptionHelper.java:111)\nat org.hibernate.result.internal.OutputsImpl.convert\nat org.hibernate.result.internal.OutputsImpl.&lt;init&gt;\n(OutputsImpl.java:55)\nat org.hibernate.procedure.internal.ProcedureOutputsImpl.&lt;init&gt;\n(ProcedureOutputsImpl.java:32)\nat org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs\n(ProcedureCallImpl.java:453)\nat org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs\n(ProcedureCallImpl.java:404)\n    at org .hibernate.procedure.internal.ProcedureCallImpl.outputs\n(ProcedureCallImpl.java:663)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.execute\n(ProcedureCallImpl.java:646)\n    ... 41 more\nCaused by: java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'ADMSN_TABLE'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n"},{"tags":["java","list","immutability","java-stream"],"comments":[{"owner":{"account_id":2915811,"reputation":10602,"user_id":2499035,"accept_rate":100,"display_name":"resueman"},"score":3,"creation_date":1459098078,"post_id":36250104,"comment_id":60129791,"body_markdown":"It looks like `getConnectedDevices()` is returning an `ImmutableList`.","body":"It looks like <code>getConnectedDevices()</code> is returning an <code>ImmutableList</code>."},{"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"score":0,"creation_date":1459098714,"post_id":36250104,"comment_id":60130008,"body_markdown":"and I dug into all the methods calls of `getConnectedDevices()`","body":"and I dug into all the methods calls of <code>getConnectedDevices()</code>"}],"answers":[{"tags":[],"owner":{"account_id":5566524,"reputation":1073,"user_id":4413603,"display_name":"Willy du Preez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459098483,"creation_date":1459098483,"answer_id":36250172,"question_id":36250104,"body_markdown":"You can pass the list of device IDs from the getConnectedDevices() method to a new ArrayList:\r\n\r\n     final List&lt;String&gt; connectedIds = new ArrayList&lt;&gt;(getConnectedDevices());\r\n\r\nThat will copy all values from the ImmutableList into an ArrayList from which you can remove items.\r\n\r\nThe example you have provided using streams look much more concise and understandable. Unless it has a confirmed performance impact that is not acceptable, it would look like the best approach.","title":"java.lang.UnsupportedOperationException ImmutableList.remove when i didn&#39;t use ImmutableList","body":"<p>You can pass the list of device IDs from the getConnectedDevices() method to a new ArrayList:</p>\n\n<pre><code> final List&lt;String&gt; connectedIds = new ArrayList&lt;&gt;(getConnectedDevices());\n</code></pre>\n\n<p>That will copy all values from the ImmutableList into an ArrayList from which you can remove items.</p>\n\n<p>The example you have provided using streams look much more concise and understandable. Unless it has a confirmed performance impact that is not acceptable, it would look like the best approach.</p>\n"},{"tags":[],"owner":{"account_id":7865942,"reputation":5058,"user_id":5944754,"display_name":"Deendayal Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459098528,"creation_date":1459098528,"answer_id":36250182,"question_id":36250104,"body_markdown":"From the java doc,  it says. it doesn&#39;t guarantee about the mutability.\r\n\r\n    public static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toList()\r\nReturns a Collector that accumulates the input elements into a new List. There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned; if more control over the returned List is required, use toCollection(Supplier).\r\nType Parameters:\r\nT - the type of the input elements\r\nReturns:\r\na Collector which collects all the input elements into a List, in encounter order.\r\n\r\nYou can try printing the type of list returned by getConnectedDevices().\r\n","title":"java.lang.UnsupportedOperationException ImmutableList.remove when i didn&#39;t use ImmutableList","body":"<p>From the java doc,  it says. it doesn't guarantee about the mutability.</p>\n\n<pre><code>public static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toList()\n</code></pre>\n\n<p>Returns a Collector that accumulates the input elements into a new List. There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned; if more control over the returned List is required, use toCollection(Supplier).\nType Parameters:\nT - the type of the input elements\nReturns:\na Collector which collects all the input elements into a List, in encounter order.</p>\n\n<p>You can try printing the type of list returned by getConnectedDevices().</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459098883,"creation_date":1459098759,"answer_id":36250218,"question_id":36250104,"body_markdown":"Make a copy of the connected device id `List`. This copy will be mutable.\r\n\r\n\r\n\tList&lt;String&gt; connectedIds = new ArrayList&lt;String&gt;(getConnectedDevices());\r\n\tList&lt;Device&gt; allDbDevicesAsList = getAllDbDevicesAsList();\r\n\t\t\r\n\tList&lt;Device&gt; connectedDevices = new ArrayList&lt;Device&gt;();\r\n\t\t\r\n\tfor (int i = 0; i &lt; allDbDevicesAsList.size(); i++) {\r\n\t\tDevice currentDevice = allDbDevicesAsList.get(i);\r\n\t\tboolean removed = connectedIds.remove(currentDevice.uuid);\r\n\t\tif (removed) {\r\n\t\t\tconnectedDevices.add(currentDevice);\r\n\t\t}\r\n\t}\r\n\r\nPS: The id&#39;s collection should be a `Set` instead of a list. E.g.\r\n\r\n    Set&lt;String&gt; connectedIds = new HashSet&lt;String&gt;(getConnectedDevices());","title":"java.lang.UnsupportedOperationException ImmutableList.remove when i didn&#39;t use ImmutableList","body":"<p>Make a copy of the connected device id <code>List</code>. This copy will be mutable.</p>\n\n<pre><code>List&lt;String&gt; connectedIds = new ArrayList&lt;String&gt;(getConnectedDevices());\nList&lt;Device&gt; allDbDevicesAsList = getAllDbDevicesAsList();\n\nList&lt;Device&gt; connectedDevices = new ArrayList&lt;Device&gt;();\n\nfor (int i = 0; i &lt; allDbDevicesAsList.size(); i++) {\n    Device currentDevice = allDbDevicesAsList.get(i);\n    boolean removed = connectedIds.remove(currentDevice.uuid);\n    if (removed) {\n        connectedDevices.add(currentDevice);\n    }\n}\n</code></pre>\n\n<p>PS: The id's collection should be a <code>Set</code> instead of a list. E.g.</p>\n\n<pre><code>Set&lt;String&gt; connectedIds = new HashSet&lt;String&gt;(getConnectedDevices());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3827531,"reputation":1,"user_id":3444804,"display_name":"Sherin Syriac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697890561,"creation_date":1697890561,"answer_id":77335926,"question_id":36250104,"body_markdown":"You might encounter an &quot;UnsupportedOperationException&quot; when you&#39;re not intentionally using an immutable list due to certain methods like List.of(object1, object2, ...) or Arrays.asList(...). These methods produce fixed-size lists, which can give the illusion of mutability. If you inadvertently modify a list created using these methods, it will result in the &quot;UnsupportedOperationException&quot; because the lists themselves are immutable.","title":"java.lang.UnsupportedOperationException ImmutableList.remove when i didn&#39;t use ImmutableList","body":"<p>You might encounter an &quot;UnsupportedOperationException&quot; when you're not intentionally using an immutable list due to certain methods like List.of(object1, object2, ...) or Arrays.asList(...). These methods produce fixed-size lists, which can give the illusion of mutability. If you inadvertently modify a list created using these methods, it will result in the &quot;UnsupportedOperationException&quot; because the lists themselves are immutable.</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13585,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36250218,"answer_count":4,"score":2,"last_activity_date":1697890561,"creation_date":1459098023,"question_id":36250104,"body_markdown":"I have this code \r\n\r\n        final List&lt;String&gt; connectedIds = getConnectedDevices();\r\n        final List&lt;Device&gt; allDbDevicesAsList = getAllDbDevicesAsList();\r\n\r\n        List&lt;Device&gt; connectedDevices = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; allDbDevicesAsList.size(); i++) {\r\n            int size = connectedIds.size();\r\n            for (int j = 0; j &lt; size; j++) {\r\n                final Device currentDevice = allDbDevicesAsList.get(i);\r\n                if(currentDevice.uuid == connectedIds.get(j))\r\n                {\r\n                    connectedDevices.add(currentDevice);\r\n                    connectedIds.remove(j);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nand I get this exception, even thought I don&#39;t use ImmutableList\r\n\r\nand I dug into all the methods calls of `getConnectedDevices()`\r\n\r\n    java.lang.UnsupportedOperationException\r\n    \tat com.google.common.collect.ImmutableList.remove(ImmutableList.java:479)\r\n    \tat com.waze.automation.client.services.web.lib.devices.DevicesServiceLocal.getDevices(DevicesServiceLocal.java:66)\r\n    \tat com.waze.mobileautomation.devices.DevicesServiceLocalTest.testGetAvailableDevices_returnsOnly(DevicesServiceLocalTest.java:194)\r\n\r\n\r\nusing this code will gain same intersection logic, but is less efficient.\r\n\r\n        List&lt;Device&gt; connectedDevices = allDbDevicesAsList.stream()\r\n                .filter(item -&gt; connectedIds.contains(item.uuid))\r\n                .collect(Collectors.toList());\r\n\r\nHow would you re-write the intersection code?\r\n\r\nwhy do i get this error anyways?","title":"java.lang.UnsupportedOperationException ImmutableList.remove when i didn&#39;t use ImmutableList","body":"<p>I have this code </p>\n\n<pre><code>    final List&lt;String&gt; connectedIds = getConnectedDevices();\n    final List&lt;Device&gt; allDbDevicesAsList = getAllDbDevicesAsList();\n\n    List&lt;Device&gt; connectedDevices = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; allDbDevicesAsList.size(); i++) {\n        int size = connectedIds.size();\n        for (int j = 0; j &lt; size; j++) {\n            final Device currentDevice = allDbDevicesAsList.get(i);\n            if(currentDevice.uuid == connectedIds.get(j))\n            {\n                connectedDevices.add(currentDevice);\n                connectedIds.remove(j);\n                break;\n            }\n        }\n    }\n</code></pre>\n\n<p>and I get this exception, even thought I don't use ImmutableList</p>\n\n<p>and I dug into all the methods calls of <code>getConnectedDevices()</code></p>\n\n<pre><code>java.lang.UnsupportedOperationException\n    at com.google.common.collect.ImmutableList.remove(ImmutableList.java:479)\n    at com.waze.automation.client.services.web.lib.devices.DevicesServiceLocal.getDevices(DevicesServiceLocal.java:66)\n    at com.waze.mobileautomation.devices.DevicesServiceLocalTest.testGetAvailableDevices_returnsOnly(DevicesServiceLocalTest.java:194)\n</code></pre>\n\n<p>using this code will gain same intersection logic, but is less efficient.</p>\n\n<pre><code>    List&lt;Device&gt; connectedDevices = allDbDevicesAsList.stream()\n            .filter(item -&gt; connectedIds.contains(item.uuid))\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>How would you re-write the intersection code?</p>\n\n<p>why do i get this error anyways?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":427266,"reputation":10203,"user_id":808940,"display_name":"Moog"},"score":0,"creation_date":1316166388,"post_id":7437987,"comment_id":9000191,"body_markdown":"please refrain from posting questions that you have not tried to solve yourself.  [ask]","body":"please refrain from posting questions that you have not tried to solve yourself.  <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1316126013,"creation_date":1316124638,"answer_id":7438009,"question_id":7437987,"body_markdown":"Use `Integer.parseInt` (see [javadoc][1]), that converts your `String` to `int` using base two:\r\n\r\n    int decimalValue = Integer.parseInt(c, 2);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"How to convert binary string value to decimal","body":"<p>Use <code>Integer.parseInt</code> (see <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\">javadoc</a>), that converts your <code>String</code> to <code>int</code> using base two:</p>\n\n<pre><code>int decimalValue = Integer.parseInt(c, 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1316124644,"creation_date":1316124644,"answer_id":7438011,"question_id":7437987,"body_markdown":"    int i = Integer.parseInt(c, 2);","title":"How to convert binary string value to decimal","body":"<pre><code>int i = Integer.parseInt(c, 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275496,"reputation":18860,"user_id":568393,"accept_rate":87,"display_name":"schmmd"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1316124671,"creation_date":1316124671,"answer_id":7438015,"question_id":7437987,"body_markdown":"I think you are looking for [Integer.parseInt][1].  The second argument takes a radix, which in this case is 2.\r\n\r\n    Integer.parseInt(c, 2)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"How to convert binary string value to decimal","body":"<p>I think you are looking for <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"noreferrer\">Integer.parseInt</a>.  The second argument takes a radix, which in this case is 2.</p>\n\n<pre><code>Integer.parseInt(c, 2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1391609,"reputation":181,"user_id":1322317,"display_name":"Sumeet R Sharma"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1333990837,"creation_date":1333990446,"answer_id":10076687,"question_id":7437987,"body_markdown":"    public static int integerfrmbinary(String str){\r\n    \tdouble j=0;\r\n    \tfor(int i=0;i&lt;str.length();i++){\r\n    \t\tif(str.charAt(i)== &#39;1&#39;){\r\n       \t\t j=j+ Math.pow(2,str.length()-1-i);\r\n       \t }\r\n       \t\r\n    \t}\r\n    \treturn (int) j;\r\n    }\r\n    \r\nThis piece of code I have written manually. You can also use parseInt as mentioned above .\r\nThis function will give decimal value corresponding to the binary string :)","title":"How to convert binary string value to decimal","body":"<pre><code>public static int integerfrmbinary(String str){\n    double j=0;\n    for(int i=0;i&lt;str.length();i++){\n        if(str.charAt(i)== '1'){\n         j=j+ Math.pow(2,str.length()-1-i);\n     }\n\n    }\n    return (int) j;\n}\n</code></pre>\n\n<p>This piece of code I have written manually. You can also use parseInt as mentioned above .\nThis function will give decimal value corresponding to the binary string :)</p>\n"},{"tags":[],"owner":{"display_name":"user4058730"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1411411235,"creation_date":1411408173,"answer_id":25980142,"question_id":7437987,"body_markdown":"    int num = Integer.parseInt(&quot;binaryString&quot;,2);","title":"How to convert binary string value to decimal","body":"<pre><code>int num = Integer.parseInt(\"binaryString\",2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4230873,"reputation":7,"user_id":3463190,"display_name":"Shobha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443681435,"creation_date":1443681435,"answer_id":32880917,"question_id":7437987,"body_markdown":"\tpublic static void convertStringToDecimal(String binary)\r\n\t{\r\n\t\tint decimal=0;\r\n\t\tint power=0;\r\n\t\twhile(binary.length()&gt;0)\r\n\t\t{\r\n\t\t\tint temp = Integer.parseInt(binary.charAt((binary.length())-1)+&quot;&quot;);\r\n\t\t\tdecimal+=temp*Math.pow(2, power++);\r\n\t\t\tbinary=binary.substring(0,binary.length()-1);\r\n\t\t}\r\n\t\tSystem.out.println(decimal);\r\n\t}","title":"How to convert binary string value to decimal","body":"<pre><code>public static void convertStringToDecimal(String binary)\n{\n    int decimal=0;\n    int power=0;\n    while(binary.length()&gt;0)\n    {\n        int temp = Integer.parseInt(binary.charAt((binary.length())-1)+\"\");\n        decimal+=temp*Math.pow(2, power++);\n        binary=binary.substring(0,binary.length()-1);\n    }\n    System.out.println(decimal);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8456863,"reputation":21,"user_id":6343816,"display_name":"manu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463461419,"creation_date":1463461419,"answer_id":37267536,"question_id":7437987,"body_markdown":"    public static Long binToDec(String bin) {\r\n    long dec = 0L;\r\n    \tlong pow = 1L;\r\n    \tfor (int i = (bin.length() - 1); i &gt;= 0; i--) {\r\n    \t    char c = bin.charAt(i);\r\n    \t    dec = dec + (Long.parseLong(c + &quot;&quot;) * pow);\r\n    \t    pow = pow * 2;\r\n    \t}\r\n    \treturn dec;\r\n    }\r\nor \r\n\r\n    long num = Long.parseLong(&quot;101110111&quot;,2);","title":"How to convert binary string value to decimal","body":"<pre><code>public static Long binToDec(String bin) {\nlong dec = 0L;\n    long pow = 1L;\n    for (int i = (bin.length() - 1); i &gt;= 0; i--) {\n        char c = bin.charAt(i);\n        dec = dec + (Long.parseLong(c + \"\") * pow);\n        pow = pow * 2;\n    }\n    return dec;\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>long num = Long.parseLong(\"101110111\",2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9630335,"reputation":9,"user_id":7148479,"display_name":"Victor Fern&#225;ndez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485884173,"creation_date":1485841341,"answer_id":41950431,"question_id":7437987,"body_markdown":"Test it\r\n\r\n    import java.util.Scanner;\r\n    public class BinaryToDecimal{\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int binaryNumber = 0;\r\n        int counter = 0;\r\n        int number = 0;\r\n        \r\n        \r\n        System.out.print(&quot;Input binary number: &quot;);\r\n        binaryNumber = input.nextInt();\r\n         \r\n        //it&#39;s going to stop when the binaryNumber/10 is less than 0\r\n        //example:\r\n        //binaryNumber = 11/10. The result value is 1 when you do the next\r\n        //operation 1/10 . The result value is 0     \r\n\r\n        while(binaryNumber != 0)\r\n        {\r\n            //Obtaining the remainder of the division and multiplying it \r\n            //with the number raised to two\r\n\r\n            //adding it up with the previous result\r\n\r\n            number += ((binaryNumber % 10)) * Math.pow(2,counter);\r\n\r\n            binaryNumber /= 10;  //removing one digit from the binary number\r\n            \r\n            //Increasing counter 2^0, 2^1, 2^2, 2^3.....\r\n            counter++;\r\n            \r\n        }\r\n        System.out.println(&quot;Decimal number : &quot; + number);\r\n    \r\n        \r\n    }\r\n    \r\n}","title":"How to convert binary string value to decimal","body":"<p>Test it</p>\n\n<pre><code>import java.util.Scanner;\npublic class BinaryToDecimal{\n\npublic static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    int binaryNumber = 0;\n    int counter = 0;\n    int number = 0;\n\n\n    System.out.print(\"Input binary number: \");\n    binaryNumber = input.nextInt();\n\n    //it's going to stop when the binaryNumber/10 is less than 0\n    //example:\n    //binaryNumber = 11/10. The result value is 1 when you do the next\n    //operation 1/10 . The result value is 0     \n\n    while(binaryNumber != 0)\n    {\n        //Obtaining the remainder of the division and multiplying it \n        //with the number raised to two\n\n        //adding it up with the previous result\n\n        number += ((binaryNumber % 10)) * Math.pow(2,counter);\n\n        binaryNumber /= 10;  //removing one digit from the binary number\n\n        //Increasing counter 2^0, 2^1, 2^2, 2^3.....\n        counter++;\n\n    }\n    System.out.println(\"Decimal number : \" + number);\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487159482,"creation_date":1487159482,"answer_id":42248615,"question_id":7437987,"body_markdown":"    private static int convertBinaryToDecimal(String strOfBinary){\r\n    \t\tint flag = 1, binary=0;\r\n    \t\tchar binaryOne = &#39;1&#39;;\r\n    \t\tchar[] charArray = strOfBinary.toCharArray();\r\n    \t\tfor(int i=charArray.length-1;i&gt;=0;i--){\r\n    \t\t\tif(charArray[i] == binaryOne){\r\n    \t\t\t\tbinary+=flag;\r\n    \t\t\t}\r\n    \t\t\tflag*=2;\r\n    \t\t}\r\n    \t\treturn binary;\r\n    \t}","title":"How to convert binary string value to decimal","body":"<pre><code>private static int convertBinaryToDecimal(String strOfBinary){\n        int flag = 1, binary=0;\n        char binaryOne = '1';\n        char[] charArray = strOfBinary.toCharArray();\n        for(int i=charArray.length-1;i&gt;=0;i--){\n            if(charArray[i] == binaryOne){\n                binary+=flag;\n            }\n            flag*=2;\n        }\n        return binary;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11187675,"reputation":1,"user_id":8209362,"display_name":"George"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498328515,"creation_date":1498314898,"answer_id":44737512,"question_id":7437987,"body_markdown":"    public static void main(String[] args) {\r\n\r\n        java.util.Scanner scan = new java.util.Scanner(System.in);\r\n        long decimalValue = 0;\r\n\r\n        System.out.println(&quot;Please enter a positive binary number.(Only 1s and 0s)&quot;);\r\n\r\n        //This reads the input as a String and splits each symbol into \r\n        //array list\r\n        String element = scan.nextLine();\r\n        String[] array = element.split(&quot;&quot;);\r\n\r\n        //This assigns the length to integer arrys based on actual number of \r\n        //symbols entered\r\n        int[] numberSplit = new int[array.length];\r\n        int position = array.length - 1; //set beginning position to the end of array\r\n\r\n        //This turns String array into Integer array\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            numberSplit[i] = Integer.parseInt(array[i]);\r\n        }\r\n        //This loop goes from last to first position of an array making\r\n        //calculation where power of 2 is the current loop instance number\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (numberSplit[position] == 1) {\r\n                decimalValue = decimalValue + (long) Math.pow(2, i);\r\n            }\r\n            position--;\r\n        }\r\n        System.out.println(decimalValue);\r\n        main(null);\r\n\r\n    }\r\n","title":"How to convert binary string value to decimal","body":"<pre><code>public static void main(String[] args) {\n\n    java.util.Scanner scan = new java.util.Scanner(System.in);\n    long decimalValue = 0;\n\n    System.out.println(\"Please enter a positive binary number.(Only 1s and 0s)\");\n\n    //This reads the input as a String and splits each symbol into \n    //array list\n    String element = scan.nextLine();\n    String[] array = element.split(\"\");\n\n    //This assigns the length to integer arrys based on actual number of \n    //symbols entered\n    int[] numberSplit = new int[array.length];\n    int position = array.length - 1; //set beginning position to the end of array\n\n    //This turns String array into Integer array\n    for (int i = 0; i &lt; array.length; i++) {\n        numberSplit[i] = Integer.parseInt(array[i]);\n    }\n    //This loop goes from last to first position of an array making\n    //calculation where power of 2 is the current loop instance number\n    for (int i = 0; i &lt; array.length; i++) {\n        if (numberSplit[position] == 1) {\n            decimalValue = decimalValue + (long) Math.pow(2, i);\n        }\n        position--;\n    }\n    System.out.println(decimalValue);\n    main(null);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8044324,"reputation":21,"user_id":6064962,"display_name":"json.wei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499305212,"creation_date":1499303181,"answer_id":44938247,"question_id":7437987,"body_markdown":"Have to think about the decimal precision, so you must to limit the bitstring length. Anyway, using BigDecimal is a good choice.\r\n\r\n    public BigDecimal bitStringToBigDecimal(String bitStr){\r\n       \r\n        BigDecimal sum = new BigDecimal(&quot;0&quot;);\r\n        BigDecimal base = new BigDecimal(2);\r\n        BigDecimal temp;\r\n        for(int i=0;i&lt;bitStr.length();i++){\r\n            if(bitStr.charAt(i)== &#39;1&#39;){\r\n                int exponent= bitStr.length()-1-i;\r\n                temp=base.pow(exponent);\r\n                sum=sum.add(temp);\r\n            }\r\n\r\n        }\r\n        return sum;\r\n    }","title":"How to convert binary string value to decimal","body":"<p>Have to think about the decimal precision, so you must to limit the bitstring length. Anyway, using BigDecimal is a good choice.</p>\n\n<pre><code>public BigDecimal bitStringToBigDecimal(String bitStr){\n\n    BigDecimal sum = new BigDecimal(\"0\");\n    BigDecimal base = new BigDecimal(2);\n    BigDecimal temp;\n    for(int i=0;i&lt;bitStr.length();i++){\n        if(bitStr.charAt(i)== '1'){\n            int exponent= bitStr.length()-1-i;\n            temp=base.pow(exponent);\n            sum=sum.add(temp);\n        }\n\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11894284,"reputation":1,"user_id":8704181,"display_name":"rayan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509518663,"creation_date":1509518663,"answer_id":47049557,"question_id":7437987,"body_markdown":"    import java.util.*;\r\n    public class BinaryToDecimal\r\n    {\r\n      public static void main()\r\n      {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;enter the binary number&quot;);\r\n        double s=sc.nextDouble();\r\n        int c=0;\r\n        long s1=0;\r\n        while(s&gt;0)\r\n        {\r\n            s1=s1+(long)(Math.pow(2,c)*(long)(s%10));\r\n            s=(long)s/10;\r\n            c++;\r\n        }\r\n        System.out.println(&quot;The respective decimal number is : &quot;+s1);\r\n      }\r\n    }\r\n   ","title":"How to convert binary string value to decimal","body":"<pre><code>import java.util.*;\npublic class BinaryToDecimal\n{\n  public static void main()\n  {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(\"enter the binary number\");\n    double s=sc.nextDouble();\n    int c=0;\n    long s1=0;\n    while(s&gt;0)\n    {\n        s1=s1+(long)(Math.pow(2,c)*(long)(s%10));\n        s=(long)s/10;\n        c++;\n    }\n    System.out.println(\"The respective decimal number is : \"+s1);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13118813,"reputation":116,"user_id":9477012,"display_name":"Mouad Abrini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520815180,"creation_date":1520814011,"answer_id":49226536,"question_id":7437987,"body_markdown":"test this, you&#39;ll find out that there is a line in the code which contains **Scan.S()** .This is used only for stocking data (String).\r\nSo just try this: \r\n\r\nPS:Don&#39;t forget to save the file as bindec\r\n\r\n    import java.io.*;\r\n    class Scan\r\n    {        \r\n        public static String S() \r\n        {\r\n            String x;\r\n    \tchar c;\r\n    \tboolean erreur;\r\n    \t\t\r\n    \tdo\r\n    \t{\r\n                x = &quot;&quot;;\r\n                erreur = false;\r\n                \r\n                try\r\n                {\r\n                    while((c = (char)System.in.read()) != &#39;\\n&#39;)\r\n    \t\t{\r\n                        if (c != &#39;\\r&#39;)\r\n                        {\r\n                            x += c;\r\n                        }\r\n                    }\r\n                }\r\n                catch(IOException e)\r\n                {\r\n                    System.out.print(&quot; &gt; enter String : &quot;);\r\n                    erreur = true;\r\n                }\r\n    \t} while(erreur);\r\n    \t\t\r\n    \treturn x;\r\n        }\r\n    public class  bindec{\r\n    \t\r\n    \tpublic static void main (String[] args) {\r\n    \t\tint b=0;\r\n    \t\tString a;\r\n    \t\tSystem.out.println(&quot;bin: &quot;);\r\n    \t\ta = Lire.S();\r\n    \t\tint j=a.length()-1;\r\n    \t\tfor(int i=0;i&lt;a.length() ;i++ ){\r\n    \t\t\tif(a.charAt(i)==&#39;1&#39;){\r\n    \t\t\tb += Math.pow(2,j);\r\n    \t\t}\r\n    \t\tif(a.charAt(i)==&#39;0&#39;){\r\n    \t\t\tb+=0;\r\n    \t\t}\r\n    \t\tj=j-1;\r\n    \t}\r\n    \t\tSystem.out.println(&quot;dec: &quot;+b);\r\n    \t}\r\n    }","title":"How to convert binary string value to decimal","body":"<p>test this, you'll find out that there is a line in the code which contains <strong>Scan.S()</strong> .This is used only for stocking data (String).\nSo just try this: </p>\n\n<p>PS:Don't forget to save the file as bindec</p>\n\n<pre><code>import java.io.*;\nclass Scan\n{        \n    public static String S() \n    {\n        String x;\n    char c;\n    boolean erreur;\n\n    do\n    {\n            x = \"\";\n            erreur = false;\n\n            try\n            {\n                while((c = (char)System.in.read()) != '\\n')\n        {\n                    if (c != '\\r')\n                    {\n                        x += c;\n                    }\n                }\n            }\n            catch(IOException e)\n            {\n                System.out.print(\" &gt; enter String : \");\n                erreur = true;\n            }\n    } while(erreur);\n\n    return x;\n    }\npublic class  bindec{\n\n    public static void main (String[] args) {\n        int b=0;\n        String a;\n        System.out.println(\"bin: \");\n        a = Lire.S();\n        int j=a.length()-1;\n        for(int i=0;i&lt;a.length() ;i++ ){\n            if(a.charAt(i)=='1'){\n            b += Math.pow(2,j);\n        }\n        if(a.charAt(i)=='0'){\n            b+=0;\n        }\n        j=j-1;\n    }\n        System.out.println(\"dec: \"+b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1090269,"reputation":842,"user_id":1085048,"display_name":"digitebs"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583049290,"creation_date":1583049290,"answer_id":60473091,"question_id":7437987,"body_markdown":"      int base2(String bits) {\r\n        int ans = 0;\r\n        for (int i = bits.length() - 1, f = 1; i &gt;= 0; i--) {\r\n          ans += f * (bits.charAt(i) - &#39;0&#39;);\r\n          f &lt;&lt;= 1;\r\n        }\r\n        return ans;\r\n      }","title":"How to convert binary string value to decimal","body":"<pre><code>  int base2(String bits) {\n    int ans = 0;\n    for (int i = bits.length() - 1, f = 1; i &gt;= 0; i--) {\n      ans += f * (bits.charAt(i) - '0');\n      f &lt;&lt;= 1;\n    }\n    return ans;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13406308,"reputation":4132,"user_id":9674249,"display_name":"i30mb1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609857534,"creation_date":1609857534,"answer_id":65580975,"question_id":7437987,"body_markdown":"According to this : [![1]][1]\r\nwe can write this help function :\r\n```\r\n    public static int convertBinaryToDecimal(String str) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            int value = Character.getNumericValue(str.charAt(i));\r\n            result = result * 2 + value;\r\n        }\r\n        return result;\r\n    }\r\n```\r\n  [1]: https://i.stack.imgur.com/L2tBT.png","title":"How to convert binary string value to decimal","body":"<p>According to this : <a href=\"https://i.stack.imgur.com/L2tBT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2tBT.png\" alt=\"1\" /></a>\nwe can write this help function :</p>\n<pre><code>    public static int convertBinaryToDecimal(String str) {\n        int result = 0;\n        for (int i = 0; i &lt; str.length(); i++) {\n            int value = Character.getNumericValue(str.charAt(i));\n            result = result * 2 + value;\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20016172,"reputation":2513,"user_id":14672114,"display_name":"RARE Kpop Manifesto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697890186,"creation_date":1697889811,"answer_id":77335887,"question_id":7437987,"body_markdown":"let&#39;s say `23456789`\r\n\r\nit has a binary string of `1011001011110110000010101`\r\n\r\neasiest way is to put all copies of the base needed on the left, which should always be `string length - 1` (assuming not leading edge zeros), put and all the coefficients on the right :\r\n\r\n    echo &#39;1011001011110110000010101&#39; | \r\n---\r\n      mawk &#39;function __(_) {\r\n          \r\n          print; gsub(/./, &quot;2*(&quot;, _)\r\n          return substr(_,   4)\r\n      }\r\n      $!_ = __($_) $!_&#39; FS= OFS=&#39;)+&#39; | gtee &gt;( gcat -b | lgp3 &gt;&amp;2; ) | bc \r\n---\r\n\r\n    23456789\r\n    1011001011110110000010101\r\n\r\n---\r\n     2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(\r\n     +1)+0)+1)+1)+0)+0)+1)+0)+1)+1)+1)+1)+0)+1)+1)+0)+0)+0)+0)+0)+1)+0)+1)+0)+1\r\n \r\n     2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(\r\n      1)  )+1)+1)  )  )+1)  )+1)+1)+1)+1)  )+1)+1)  )  )  )  )  )+1)  )+1)  )+1\r\n\r\n     2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(\r\n     2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(1)  )+1)+1)))+1))+1)+1)+1)+1)\r\n                                          )+1)+1)  )))  ))+1)  )+1)  )+1\r\n\r\n&gt; versus the standard form, which is succinct only for base-2, \r\n&gt; and more helpful for polynomials than for bit-string/vector conversion :   \r\n\r\n    2^24 + 2^22 + 2^21 + 2^18 + 2^16 + 2^15 + 2^14 + 2^13 + 2^11 + 2^10 + 2^4 + 2^2\r\n\r\n    1*2^24 + 0*2^23 + 1*2^22 + 1*2^21 + 0*2^20 + 0*2^19 + \r\n    1*2^18 + 0*2^17 + 1*2^16 + 1*2^15 + 1*2^14 + 1*2^13 + \r\n    0*2^12 + 1*2^11 + 1*2^10 + 0*2^ 9 + 0*2^ 8 + 0*2^ 7 + \r\n    0*2^ 6 + 0*2^ 5 + 1*2^ 4 + 0*2^ 3 + 1*2^ 2 + 0*2    + 1\r\n\r\n---\r\n\r\n  - Digits are always kept adjacent to one another, in big-endian notation, without the base and exponent getting in the way\r\n\r\n  - It completely eliminated the power operator `^` from the chain of operations by using nested layers of the base supporting one another instead.\r\n  \r\n  - Count up # of `2*`s (i.e. `(1 &lt;&lt; 1)`) to get floor of `log2(x)`\r\n\r\n    Similarly, count up # of `10*`s (i.e. `((1 &lt;&lt; 3) + (1 &lt;&lt; 1)`) in the decimal version to get floor of `log10(x)`\r\n\r\n  - For each of the `1` bits, the power of 2 exponent associated with it would be just # of closing parenthesis `)` to its right\r\n\r\n---\r\n\r\nThe decimal equivalent of this structure is shown below. If anything, the condensed gapless form of the notation **increases** readability due to close proximity of digits with one another.\r\n\r\n    10*(10*(10*(10*(10*(10*(10*( \r\n      \r\n      2)+ 3)+ 4)+ 5)+ 6)+ 7)+ 8)+ 9\r\n\r\n    10*(10*(10*(10*(10*(10*(10*(2)+3)+4)+5)+6)+7)+8)+9\r\n\r\nBut instead of using the minimum of 7 copies of `10` and 8 coefficient digits for a total of **15** numbers, the standard form needs **21** numbers for including superfluous exponents that could be easily derived just by counting layers in nested form.\r\n\r\n    2*10^7 + 3*10^6 + 4*10^5 + 5*10^4 + \r\n             6*10^3 + 7*10^2 + 8*10   + 9\r\n\r\n    2*10^7 + 3*10^6 + 4*10^5 + 5*10^4 + 6*10^3 + 7*10^2 + 8*10 + 9\r\n\r\nThe clutter in its gapless form…\r\n\r\n    2*10^7+3*10^6+4*10^5+5*10^4+6*10^3+7*10^2+8*10+9\r\n\r\nOnce you see numbers in any base in this nested form instead of standard notation, then base-conversion becomes a trivial exercise of nothing more than peeling back the nested layers.","title":"How to convert binary string value to decimal","body":"<p>let's say <code>23456789</code></p>\n<p>it has a binary string of <code>1011001011110110000010101</code></p>\n<p>easiest way is to put all copies of the base needed on the left, which should always be <code>string length - 1</code> (assuming not leading edge zeros), put and all the coefficients on the right :</p>\n<pre><code>echo '1011001011110110000010101' | \n</code></pre>\n<hr />\n<pre><code>  mawk 'function __(_) {\n      \n      print; gsub(/./, &quot;2*(&quot;, _)\n      return substr(_,   4)\n  }\n  $!_ = __($_) $!_' FS= OFS=')+' | gtee &gt;( gcat -b | lgp3 &gt;&amp;2; ) | bc \n</code></pre>\n<hr />\n<pre><code>23456789\n1011001011110110000010101\n</code></pre>\n<hr />\n<pre><code> 2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(\n +1)+0)+1)+1)+0)+0)+1)+0)+1)+1)+1)+1)+0)+1)+1)+0)+0)+0)+0)+0)+1)+0)+1)+0)+1\n\n 2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(\n  1)  )+1)+1)  )  )+1)  )+1)+1)+1)+1)  )+1)+1)  )  )  )  )  )+1)  )+1)  )+1\n\n 2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(\n 2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(2*(1)  )+1)+1)))+1))+1)+1)+1)+1)\n                                      )+1)+1)  )))  ))+1)  )+1)  )+1\n</code></pre>\n<blockquote>\n<p>versus the standard form, which is succinct only for base-2,\nand more helpful for polynomials than for bit-string/vector conversion :</p>\n</blockquote>\n<pre><code>2^24 + 2^22 + 2^21 + 2^18 + 2^16 + 2^15 + 2^14 + 2^13 + 2^11 + 2^10 + 2^4 + 2^2\n\n1*2^24 + 0*2^23 + 1*2^22 + 1*2^21 + 0*2^20 + 0*2^19 + \n1*2^18 + 0*2^17 + 1*2^16 + 1*2^15 + 1*2^14 + 1*2^13 + \n0*2^12 + 1*2^11 + 1*2^10 + 0*2^ 9 + 0*2^ 8 + 0*2^ 7 + \n0*2^ 6 + 0*2^ 5 + 1*2^ 4 + 0*2^ 3 + 1*2^ 2 + 0*2    + 1\n</code></pre>\n<hr />\n<ul>\n<li><p>Digits are always kept adjacent to one another, in big-endian notation, without the base and exponent getting in the way</p>\n</li>\n<li><p>It completely eliminated the power operator <code>^</code> from the chain of operations by using nested layers of the base supporting one another instead.</p>\n</li>\n<li><p>Count up # of <code>2*</code>s (i.e. <code>(1 &lt;&lt; 1)</code>) to get floor of <code>log2(x)</code></p>\n<p>Similarly, count up # of <code>10*</code>s (i.e. <code>((1 &lt;&lt; 3) + (1 &lt;&lt; 1)</code>) in the decimal version to get floor of <code>log10(x)</code></p>\n</li>\n<li><p>For each of the <code>1</code> bits, the power of 2 exponent associated with it would be just # of closing parenthesis <code>)</code> to its right</p>\n</li>\n</ul>\n<hr />\n<p>The decimal equivalent of this structure is shown below. If anything, the condensed gapless form of the notation <strong>increases</strong> readability due to close proximity of digits with one another.</p>\n<pre><code>10*(10*(10*(10*(10*(10*(10*( \n  \n  2)+ 3)+ 4)+ 5)+ 6)+ 7)+ 8)+ 9\n\n10*(10*(10*(10*(10*(10*(10*(2)+3)+4)+5)+6)+7)+8)+9\n</code></pre>\n<p>But instead of using the minimum of 7 copies of <code>10</code> and 8 coefficient digits for a total of <strong>15</strong> numbers, the standard form needs <strong>21</strong> numbers for including superfluous exponents that could be easily derived just by counting layers in nested form.</p>\n<pre><code>2*10^7 + 3*10^6 + 4*10^5 + 5*10^4 + \n         6*10^3 + 7*10^2 + 8*10   + 9\n\n2*10^7 + 3*10^6 + 4*10^5 + 5*10^4 + 6*10^3 + 7*10^2 + 8*10 + 9\n</code></pre>\n<p>The clutter in its gapless form…</p>\n<pre><code>2*10^7+3*10^6+4*10^5+5*10^4+6*10^3+7*10^2+8*10+9\n</code></pre>\n<p>Once you see numbers in any base in this nested form instead of standard notation, then base-conversion becomes a trivial exercise of nothing more than peeling back the nested layers.</p>\n"}],"owner":{"account_id":908832,"reputation":669,"user_id":943155,"accept_rate":100,"display_name":"goldsoft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167940,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":7438009,"answer_count":16,"score":41,"last_activity_date":1697890186,"creation_date":1316124495,"question_id":7437987,"body_markdown":"How to convert a binary String such as\r\n\r\n    String c = &quot;110010&quot;; // as binary\r\n\r\nto the value in decimal in Java? (expected result in the example is 50)","title":"How to convert binary string value to decimal","body":"<p>How to convert a binary String such as</p>\n\n<pre><code>String c = \"110010\"; // as binary\n</code></pre>\n\n<p>to the value in decimal in Java? (expected result in the example is 50)</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1480588796,"post_id":40908393,"comment_id":69029285,"body_markdown":"http://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format","body":"<a href=\"http://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format\" title=\"how to get current moment in iso 8601 format\">stackoverflow.com/questions/3914404/&hellip;</a>"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1480589124,"post_id":40908393,"comment_id":69029514,"body_markdown":"http://stackoverflow.com/a/18217193/1746118","body":"<a href=\"http://stackoverflow.com/a/18217193/1746118\">stackoverflow.com/a/18217193/1746118</a>"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1480589152,"post_id":40908393,"comment_id":69029536,"body_markdown":"Possible duplicate of [Converting ISO 8601-compliant String to java.util.Date](http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date\">Converting ISO 8601-compliant String to java.util.Date</a>"},{"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"score":0,"creation_date":1480590221,"post_id":40908393,"comment_id":69030251,"body_markdown":"@nullpointer my question is just opposite of what you have suggested","body":"@nullpointer my question is just opposite of what you have suggested"},{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":0,"creation_date":1480590649,"post_id":40908393,"comment_id":69030523,"body_markdown":"In your question edit I cannot see any connection to MongoDB... So, as far as I understand your question, you query a document from Mongo and have problems getting the saved date value, is that right? If so, show your document (completely) and the code that you use to retrieve the document and the date value from that doc.","body":"In your question edit I cannot see any connection to MongoDB... So, as far as I understand your question, you query a document from Mongo and have problems getting the saved date value, is that right? If so, show your document (completely) and the code that you use to retrieve the document and the date value from that doc."},{"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"score":0,"creation_date":1480591104,"post_id":40908393,"comment_id":69030804,"body_markdown":"@mtj the ques is not about mongo but mongo default save the data in ISO format. one who are using mongo can answer this that is why i tagged it with mongo... yes i am getting the data from mongo but is iso format. and since mongo save the date in ISO so it also fetching it in ISO","body":"@mtj the ques is not about mongo but mongo default save the data in ISO format. one who are using mongo can answer this that is why i tagged it with mongo... yes i am getting the data from mongo but is iso format. and since mongo save the date in ISO so it also fetching it in ISO"},{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":2,"creation_date":1480591259,"post_id":40908393,"comment_id":69030884,"body_markdown":"@adasdasd No, mongo does *not* store a specific format. A date saved in mongo is stored in an internal date representation and only *displayed* in that format, if you use the mongo shell. Each language specific mongo driver will translate this into the specific date-type for the target language (at least the java driver does).","body":"@adasdasd No, mongo does <i>not</i> store a specific format. A date saved in mongo is stored in an internal date representation and only <i>displayed</i> in that format, if you use the mongo shell. Each language specific mongo driver will translate this into the specific date-type for the target language (at least the java driver does)."},{"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"score":0,"creation_date":1480591310,"post_id":40908393,"comment_id":69030919,"body_markdown":"@mtj sorry my bad you are right i am saving the data in @DateTimeFormat(iso = ISO.DATE_TIME)\n    protected Date createdOn;\n    \n    @DateTimeFormat(iso = ISO.DATE_TIME)\n    protected Date updatedOn;","body":"@mtj sorry my bad you are right i am saving the data in @DateTimeFormat(iso = ISO.DATE_TIME)     protected Date createdOn;          @DateTimeFormat(iso = ISO.DATE_TIME)     protected Date updatedOn;"},{"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"score":0,"creation_date":1480591362,"post_id":40908393,"comment_id":69030967,"body_markdown":"but this is not the question that how i am saving... the question is now i can i covert ISO in string","body":"but this is not the question that how i am saving... the question is now i can i covert ISO in string"},{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":0,"creation_date":1480592150,"post_id":40908393,"comment_id":69031476,"body_markdown":"Read the Date *object* via the mongo driver, convert the date using the methods found here: http://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format","body":"Read the Date <i>object</i> via the mongo driver, convert the date using the methods found here: <a href=\"http://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format\" title=\"how to get current moment in iso 8601 format\">stackoverflow.com/questions/3914404/&hellip;</a>"},{"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"score":0,"creation_date":1480592505,"post_id":40908393,"comment_id":69031736,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/129529/discussion-between-adasdasd-and-mtj).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/129529/discussion-between-adasdasd-and-mtj\">continue this discussion in chat</a>."},{"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"score":0,"creation_date":1480593443,"post_id":40908393,"comment_id":69032320,"body_markdown":"@mtj java 6 or earier version doen&#39;t support Z as in different values but 0:00 and also i am still clueless what to do -_-","body":"@mtj java 6 or earier version doen&#39;t support Z as in different values but 0:00 and also i am still clueless what to do -_-"}],"answers":[{"tags":[],"owner":{"account_id":1098171,"reputation":7201,"user_id":1332870,"accept_rate":78,"display_name":"CompEng"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1480588826,"creation_date":1480588826,"answer_id":40908462,"question_id":40908393,"body_markdown":"try this:\r\n--\r\n\r\n     new Date(&quot;2016-11-30T11:17:20.945Z&quot;)","title":"How to convert ISOdate in String in JAVA","body":"<h2>try this:</h2>\n\n<pre><code> new Date(\"2016-11-30T11:17:20.945Z\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6352608,"reputation":1320,"user_id":4931102,"display_name":"thilina Kj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500824212,"creation_date":1500824212,"answer_id":45266874,"question_id":40908393,"body_markdown":"If you **don&#39;t care about the time zone** you can use this method to parse the date format like &quot;2017-06-19T05:27:26.000Z&quot;\r\n\r\n    private static String convertMongoDate(String val){\r\n        SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        SimpleDateFormat outputFormat= new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n        try {\r\n            String finalStr = outputFormat.format(inputFormat.parse(val));\r\n            System.out.println(finalStr);\r\n            return finalStr;\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"How to convert ISOdate in String in JAVA","body":"<p>If you <strong>don't care about the time zone</strong> you can use this method to parse the date format like \"2017-06-19T05:27:26.000Z\"</p>\n\n<pre><code>private static String convertMongoDate(String val){\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n    SimpleDateFormat outputFormat= new SimpleDateFormat(\"yyyy/MM/dd\");\n    try {\n        String finalStr = outputFormat.format(inputFormat.parse(val));\n        System.out.println(finalStr);\n        return finalStr;\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return \"\";\n}\n</code></pre>\n"}],"owner":{"account_id":3421240,"reputation":816,"user_id":2868798,"accept_rate":86,"display_name":"Aman"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697889690,"creation_date":1480588600,"question_id":40908393,"body_markdown":"I am using MongoDB to save my data and in database i can see the date value like this \r\n \r\n\r\n    ISODate(&quot;2016-11-30T11:17:20.945Z&quot;)\r\n\r\n\r\nbut when i parse it in front-end it become like\r\n\r\n\r\n    createdOn : 1480582463992\r\n\r\n\r\nI want to convert &quot;ISODate(&quot;2016-11-30T11:17:20.945Z&quot;)&quot; it in JAVA and not in js in such a way so that i can get string date value. \r\n\r\n\r\nThanks in advance\r\n\r\n==============================================================\r\n\r\nhere is my java code\r\n\r\n\r\n\t@Override\r\n\tpublic List&lt;Prescription&gt; getcus(\r\n\t\t\tString id, String cid) {\r\n\t\tList&lt;Prescription&gt; listrescription = null;\r\n\t\tlistrescription  = this.patientDBService.getPatientLastThreePrescription(id, cid);\r\n\t\t\r\n\t\tPrescription prre = new Prescription();\r\n\t\tfor(Prescription i : listrescription){ \r\n\t\t\t//Date dates = new Date();\r\n\t\t\t//i.getCreatedOn(); // getting the data from mongo like 1480582463992\r\n\t\t\t\r\n\t\t//no clue what to do here to get ISO date as in string\r\n\t\t }\r\n\t\treturn listrescription;\r\n\t}\r\n\t","title":"How to convert ISOdate in String in JAVA","body":"<p>I am using MongoDB to save my data and in database i can see the date value like this </p>\n\n<pre><code>ISODate(\"2016-11-30T11:17:20.945Z\")\n</code></pre>\n\n<p>but when i parse it in front-end it become like</p>\n\n<pre><code>createdOn : 1480582463992\n</code></pre>\n\n<p>I want to convert \"ISODate(\"2016-11-30T11:17:20.945Z\")\" it in JAVA and not in js in such a way so that i can get string date value. </p>\n\n<p>Thanks in advance</p>\n\n<p>==============================================================</p>\n\n<p>here is my java code</p>\n\n<pre><code>@Override\npublic List&lt;Prescription&gt; getcus(\n        String id, String cid) {\n    List&lt;Prescription&gt; listrescription = null;\n    listrescription  = this.patientDBService.getPatientLastThreePrescription(id, cid);\n\n    Prescription prre = new Prescription();\n    for(Prescription i : listrescription){ \n        //Date dates = new Date();\n        //i.getCreatedOn(); // getting the data from mongo like 1480582463992\n\n    //no clue what to do here to get ISO date as in string\n     }\n    return listrescription;\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22860492,"reputation":51,"user_id":17004662,"display_name":"p-wel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697889292,"creation_date":1697888444,"answer_id":77335809,"question_id":77334208,"body_markdown":"You are on the good way :)\r\n\r\nYou only need to use `@RequestParam` and add some logic inside the controller. Simple example below:\r\n\r\n    @GetMapping\r\n    public Page&lt;TaskListingData&gt; listAllTasks(\r\n        Pageable pagination,\r\n        @RequestParam(required = false) boolean completed\r\n        ) {\r\n            if (completed == true) {\r\n                return repository.findAll(pagination)\r\n                    .filter() // here you may filter only completed tasks\r\n                    .map(TaskListingData::new);\r\n            }\r\n            if (completed == false) {\r\n                return repository.findAll(pagination)\r\n                    .filter() // here you may filter only uncompleted tasks\r\n                    .map(TaskListingData::new);\r\n            }\r\n            return repository.findAll(pagination).map(TaskListingData::new); // this will happen if you won&#39;t pass any value for &quot;completed&quot; param in url, because its value will be null\r\n        }\r\n\r\nIf you this will work for you, please consider creating new method in your repository class, so you will move above filtering logic to such method and inside the controller you will only use it.\r\n\r\nController methods should be simple and are mostly used only to forward all params to other methods and then to return the final value (paginated objects in your case).\r\n","title":"Is there a way to use a class attribute as a url parameter on Spring Boot 3?","body":"<p>You are on the good way :)</p>\n<p>You only need to use <code>@RequestParam</code> and add some logic inside the controller. Simple example below:</p>\n<pre><code>@GetMapping\npublic Page&lt;TaskListingData&gt; listAllTasks(\n    Pageable pagination,\n    @RequestParam(required = false) boolean completed\n    ) {\n        if (completed == true) {\n            return repository.findAll(pagination)\n                .filter() // here you may filter only completed tasks\n                .map(TaskListingData::new);\n        }\n        if (completed == false) {\n            return repository.findAll(pagination)\n                .filter() // here you may filter only uncompleted tasks\n                .map(TaskListingData::new);\n        }\n        return repository.findAll(pagination).map(TaskListingData::new); // this will happen if you won't pass any value for &quot;completed&quot; param in url, because its value will be null\n    }\n</code></pre>\n<p>If you this will work for you, please consider creating new method in your repository class, so you will move above filtering logic to such method and inside the controller you will only use it.</p>\n<p>Controller methods should be simple and are mostly used only to forward all params to other methods and then to return the final value (paginated objects in your case).</p>\n"}],"owner":{"account_id":19531379,"reputation":45,"user_id":14291065,"display_name":"Jo&#227;o Pedro Checco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77335809,"answer_count":1,"score":0,"last_activity_date":1697889292,"creation_date":1697844512,"question_id":77334208,"body_markdown":"I started making a small task manager api in order to learn Spring Boot 3. I made a method that lists all tasks, but I want to list them by completed and not completed. My URL is currently like this:\r\n\r\n    http://localhost:8080/tasks\r\nWhat I want is to have a URL parameter that is either true or false:\r\n\r\n    http://localhost:8080/tasks?completed=false\r\nHere&#39;s the method in the Controller class:\r\n\r\n    @Autowired\r\n    private TaskRepository repository;\r\n\r\n    @GetMapping\r\n    public Page&lt;TaskListingData&gt; listAllTasks(Pageable pagination) {\r\n        return repository.findAll(pagination).map(TaskListingData::new);\r\n    }\r\nHere&#39;s the TaskListingData record:\r\n\r\n    public record TaskListingData(Long id, String title, String description, boolean completed) {\r\n        public TaskListingData(Task task) {\r\n            this(task.getId(), task.getTitle(), task.getDescription(), task.isCompleted());\r\n        }\r\n    }\r\nI know about @RequestParam, but I still haven&#39;t thought of a way to change the method.","title":"Is there a way to use a class attribute as a url parameter on Spring Boot 3?","body":"<p>I started making a small task manager api in order to learn Spring Boot 3. I made a method that lists all tasks, but I want to list them by completed and not completed. My URL is currently like this:</p>\n<pre><code>http://localhost:8080/tasks\n</code></pre>\n<p>What I want is to have a URL parameter that is either true or false:</p>\n<pre><code>http://localhost:8080/tasks?completed=false\n</code></pre>\n<p>Here's the method in the Controller class:</p>\n<pre><code>@Autowired\nprivate TaskRepository repository;\n\n@GetMapping\npublic Page&lt;TaskListingData&gt; listAllTasks(Pageable pagination) {\n    return repository.findAll(pagination).map(TaskListingData::new);\n}\n</code></pre>\n<p>Here's the TaskListingData record:</p>\n<pre><code>public record TaskListingData(Long id, String title, String description, boolean completed) {\n    public TaskListingData(Task task) {\n        this(task.getId(), task.getTitle(), task.getDescription(), task.isCompleted());\n    }\n}\n</code></pre>\n<p>I know about @RequestParam, but I still haven't thought of a way to change the method.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697921210,"post_id":77335762,"comment_id":136340858,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29722112,"reputation":1,"user_id":22779130,"display_name":"Katharsis03"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697887900,"creation_date":1697887482,"question_id":77335762,"body_markdown":" I&#39;m developing an Android application that plays a video by received the &#39;raw video frames&#39; from the client to the server using TCP in &#39;real-time&#39;.\r\n\r\nFor test, I made a client application that sends sequential bytes of selected video file to the server application, after receiving all bytes and converting them to the complete mp4 file in the server part, then I could play it successfully.\r\n \r\nThen I have a new problem: how display video frames received from the client in &#39;real time&#39;. ※In the above test project, each chunks of bytes are not pure video frames so I can&#39;t play them as video in real time.\r\n\r\n I have searched that RTSP can help this, but I have no time (3 days left to complete this project..) to analyze RTSP libraries, so I decided to use primitive way to implement live-streaming application.\r\n\r\n And I have tried using MediaCodec, MediaExtractor, MediaMuxer and TextureView, but I failed to play the result video, because maybe I miscomprehend using MediaCodec properly. Well I just decode a local video file and store entire video frames and meta-data(such as presentationTimeUs and flags of BufferInfo), and then in result activity, used muxer to combine them to new result video file, but I failed.\r\n\r\nAnyway, I want to know the sure method to complete this project.\r\nAlso I can provide my decoder and muxer code if you need.\r\n\r\nThank you for your advice.","title":"Android Live-Streaming using MediaCodec and TextureView","body":"<p>I'm developing an Android application that plays a video by received the 'raw video frames' from the client to the server using TCP in 'real-time'.</p>\n<p>For test, I made a client application that sends sequential bytes of selected video file to the server application, after receiving all bytes and converting them to the complete mp4 file in the server part, then I could play it successfully.</p>\n<p>Then I have a new problem: how display video frames received from the client in 'real time'. ※In the above test project, each chunks of bytes are not pure video frames so I can't play them as video in real time.</p>\n<p>I have searched that RTSP can help this, but I have no time (3 days left to complete this project..) to analyze RTSP libraries, so I decided to use primitive way to implement live-streaming application.</p>\n<p>And I have tried using MediaCodec, MediaExtractor, MediaMuxer and TextureView, but I failed to play the result video, because maybe I miscomprehend using MediaCodec properly. Well I just decode a local video file and store entire video frames and meta-data(such as presentationTimeUs and flags of BufferInfo), and then in result activity, used muxer to combine them to new result video file, but I failed.</p>\n<p>Anyway, I want to know the sure method to complete this project.\nAlso I can provide my decoder and muxer code if you need.</p>\n<p>Thank you for your advice.</p>\n"},{"tags":["java","spring","hibernate","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696582068,"creation_date":1696582068,"answer_id":77243066,"question_id":77242980,"body_markdown":"As I see, you map the `category.id` field from the `Item` entity to the `categoryId` field of the `ItemDTO` using MapStruct.\r\n\r\nMapStruct this way will generate a mapping method that will check if the `category` field is initialised. If this field is not initialized, MapStruct will initialize it before calling `category.getId()` method.\r\n\r\nIt is implemented using a technique called **bytecode enhancement**. MapStruct injects **bytecode enhancer** into the compilation process, which modifies the generated code to initialize **lazy-fetched** fields before they are accessed.\r\n\r\nMapStruct gets data about lazy-fetched category by calling `category.getId()` method after initializing the category field.\r\n","title":"How Spring Mapstruct gets info of Lazy initialized entity field?","body":"<p>As I see, you map the <code>category.id</code> field from the <code>Item</code> entity to the <code>categoryId</code> field of the <code>ItemDTO</code> using MapStruct.</p>\n<p>MapStruct this way will generate a mapping method that will check if the <code>category</code> field is initialised. If this field is not initialized, MapStruct will initialize it before calling <code>category.getId()</code> method.</p>\n<p>It is implemented using a technique called <strong>bytecode enhancement</strong>. MapStruct injects <strong>bytecode enhancer</strong> into the compilation process, which modifies the generated code to initialize <strong>lazy-fetched</strong> fields before they are accessed.</p>\n<p>MapStruct gets data about lazy-fetched category by calling <code>category.getId()</code> method after initializing the category field.</p>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696943683,"creation_date":1696943683,"answer_id":77266114,"question_id":77242980,"body_markdown":"MapStruct generates java code which looks the same as if it has been written be a human.\r\n\r\ne.g.\r\n\r\nfor the mapping method:\r\n\r\n```java\r\n@Mapping(source = &quot;category.id&quot;, target = &quot;categoryId&quot;)\r\nItemDTO itemToItemDTO(Item item);\r\n```\r\n\r\nMapStruct generates the following code:\r\n\r\n```java\r\n@Override\r\npublic ItemDTO itemToItemDTO(Item item) {\r\n    if (item == null) {\r\n        return null;\r\n    }\r\n\r\n    ItemDTO itemDTO = new ItemDTO();\r\n\r\n    itemDTO.setId( item.getId() );\r\n    itemDTO.setTitle( item.getTitle() );\r\n    itemDTO.setCategoryId( itemCategoryId( item ) );\r\n\r\n    return itemDTO;\r\n}\r\n\r\nprivate Long itemCategoryId(Item item) {\r\n    if (item == null) {\r\n        return null;\r\n    }\r\n\r\n    Category category = item.getCategory();\r\n\r\n    if (category == null) {\r\n        return null;\r\n    }\r\n\r\n    Long id = category.getId();\r\n\r\n    if (id == null) {\r\n        return null;\r\n    }\r\n\r\n    return id;\r\n}\r\n```\r\n\r\nThe reason why a DB call is done is due to the JPA provider that you are using. Once you MapStruct calls `category.getId()` the JPA provider is going to do a DB call to fetch the category. The `Category` returned by `item.getCategory()` is a proxy that would do the lazy loading once one of its getters is called.","title":"How Spring Mapstruct gets info of Lazy initialized entity field?","body":"<p>MapStruct generates java code which looks the same as if it has been written be a human.</p>\n<p>e.g.</p>\n<p>for the mapping method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(source = &quot;category.id&quot;, target = &quot;categoryId&quot;)\nItemDTO itemToItemDTO(Item item);\n</code></pre>\n<p>MapStruct generates the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ItemDTO itemToItemDTO(Item item) {\n    if (item == null) {\n        return null;\n    }\n\n    ItemDTO itemDTO = new ItemDTO();\n\n    itemDTO.setId( item.getId() );\n    itemDTO.setTitle( item.getTitle() );\n    itemDTO.setCategoryId( itemCategoryId( item ) );\n\n    return itemDTO;\n}\n\nprivate Long itemCategoryId(Item item) {\n    if (item == null) {\n        return null;\n    }\n\n    Category category = item.getCategory();\n\n    if (category == null) {\n        return null;\n    }\n\n    Long id = category.getId();\n\n    if (id == null) {\n        return null;\n    }\n\n    return id;\n}\n</code></pre>\n<p>The reason why a DB call is done is due to the JPA provider that you are using. Once you MapStruct calls <code>category.getId()</code> the JPA provider is going to do a DB call to fetch the category. The <code>Category</code> returned by <code>item.getCategory()</code> is a proxy that would do the lazy loading once one of its getters is called.</p>\n"},{"tags":[],"owner":{"account_id":29228438,"reputation":19,"user_id":22392644,"display_name":"Nicenick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697886437,"creation_date":1697886437,"answer_id":77335712,"question_id":77242980,"body_markdown":"Even with Lazy initialize Hibernate fetch id of entity, so it can make request for it later. Thats why you can getId() without additional requests. But if I would like to get some other info, like title then request would be send.","title":"How Spring Mapstruct gets info of Lazy initialized entity field?","body":"<p>Even with Lazy initialize Hibernate fetch id of entity, so it can make request for it later. Thats why you can getId() without additional requests. But if I would like to get some other info, like title then request would be send.</p>\n"}],"owner":{"account_id":29228438,"reputation":19,"user_id":22392644,"display_name":"Nicenick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77335712,"answer_count":3,"score":1,"last_activity_date":1697886450,"creation_date":1696581144,"question_id":77242980,"body_markdown":"I have two entities with ManyToOne relationship and lazy fetch type:\r\n\r\n```\r\n@Entity\r\npublic class Item {\r\n private Long id;\r\n private String title;\r\n\r\n @ManyToOne(fetch = FetchType.LAZY)\r\n private Category category;\r\n}\r\n\r\n@Entity\r\npublic class Category {\r\n private Long id;\r\n private String title;\r\n}\r\n```\r\nAnd I have DTO:\r\n\r\n```\r\npublic class ItemDTO {\r\n private Long id;\r\n private String title;\r\n\r\n private Long categoryId;\r\n}\r\n```\r\nWhen I get items from DB I map them to ItemDTO with mapstruct, where I have this rule:\r\n\r\n```\r\n@Mapping(source = &quot;category.id&quot;, target = &quot;categoryId&quot;)\r\nItemDTO itemToItemDTO(Item item);\r\n```\r\nAnd everything works perfect, but question is how and where mapstruct in its impl class get data about lazy fetched category ?\r\n\r\nI have \r\n```\r\nshow-sql: true \r\n```\r\nin properties and don&#39;t see any additional queries, when mapping happening. Can someone explain to me how it works ? \r\n\r\n","title":"How Spring Mapstruct gets info of Lazy initialized entity field?","body":"<p>I have two entities with ManyToOne relationship and lazy fetch type:</p>\n<pre><code>@Entity\npublic class Item {\n private Long id;\n private String title;\n\n @ManyToOne(fetch = FetchType.LAZY)\n private Category category;\n}\n\n@Entity\npublic class Category {\n private Long id;\n private String title;\n}\n</code></pre>\n<p>And I have DTO:</p>\n<pre><code>public class ItemDTO {\n private Long id;\n private String title;\n\n private Long categoryId;\n}\n</code></pre>\n<p>When I get items from DB I map them to ItemDTO with mapstruct, where I have this rule:</p>\n<pre><code>@Mapping(source = &quot;category.id&quot;, target = &quot;categoryId&quot;)\nItemDTO itemToItemDTO(Item item);\n</code></pre>\n<p>And everything works perfect, but question is how and where mapstruct in its impl class get data about lazy fetched category ?</p>\n<p>I have</p>\n<pre><code>show-sql: true \n</code></pre>\n<p>in properties and don't see any additional queries, when mapping happening. Can someone explain to me how it works ?</p>\n"},{"tags":["java","jboss","ejb","war","ear"],"comments":[{"owner":{"account_id":453409,"reputation":797,"user_id":850379,"accept_rate":73,"display_name":"gebuh"},"score":0,"creation_date":1351047348,"post_id":13039118,"comment_id":17708312,"body_markdown":"It looks like your project war failed to deploy due to something wrong with a file that is misconfigured, normally it would be less cryptic.  Is there more to the stack trace?","body":"It looks like your project war failed to deploy due to something wrong with a file that is misconfigured, normally it would be less cryptic.  Is there more to the stack trace?"},{"owner":{"account_id":1007330,"reputation":4545,"user_id":1020719,"accept_rate":60,"display_name":"John Rumpel"},"score":0,"creation_date":1399453515,"post_id":13039118,"comment_id":36063343,"body_markdown":"Check your beans.xml, faces-config.xml, web.xml and your taglibs for erroneous tags.","body":"Check your beans.xml, faces-config.xml, web.xml and your taglibs for erroneous tags."}],"answers":[{"tags":[],"owner":{"account_id":5568615,"reputation":1265,"user_id":4414854,"display_name":"danialk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556549028,"creation_date":1556549028,"answer_id":55905742,"question_id":13039118,"body_markdown":"I faced the same message trying to run an ee8 WAR on WildFly 16 in standalone mode.  Assuming you are also running in standalone mode, ensure you set `--server-config=standalone-full.xml` after the standalone executable.","title":"java jboss failed to process phase PARSE of deployment","body":"<p>I faced the same message trying to run an ee8 WAR on WildFly 16 in standalone mode.  Assuming you are also running in standalone mode, ensure you set <code>--server-config=standalone-full.xml</code> after the standalone executable.</p>\n"}],"owner":{"account_id":1970198,"reputation":332,"user_id":1769374,"accept_rate":17,"display_name":"Sean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697886145,"creation_date":1351025866,"question_id":13039118,"body_markdown":"I run my war/ear file on Jboss 7 and get the following error:\r\n\r\n```\r\n&quot;Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\PROJECTNAME.war\\&quot;.\r\nPARSE&quot; =&gt; &quot;org.jboss.msc.services.StartException in service jboss.deployment.unit.\\&quot;PROJECTNAME.war\\&quot;.\r\nPARSE:  Failed to process phase PARSE of deployment \\&quot;PROJECTNAME.war\\&quot;&quot;}\r\n```\r\nAny suggestions or ideas on how to solve this?","title":"java jboss failed to process phase PARSE of deployment","body":"<p>I run my war/ear file on Jboss 7 and get the following error:</p>\n<pre><code>&quot;Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\PROJECTNAME.war\\&quot;.\nPARSE&quot; =&gt; &quot;org.jboss.msc.services.StartException in service jboss.deployment.unit.\\&quot;PROJECTNAME.war\\&quot;.\nPARSE:  Failed to process phase PARSE of deployment \\&quot;PROJECTNAME.war\\&quot;&quot;}\n</code></pre>\n<p>Any suggestions or ideas on how to solve this?</p>\n"},{"tags":["java","android","retrofit","okhttp"],"answers":[{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645188272,"creation_date":1645187609,"answer_id":71173559,"question_id":71172619,"body_markdown":"As after adding the configurations, you are getting this exception, I am suspecting, the requested endpoint needs more time than your configured 5 seconds.\r\n\r\nIf your requested endpoint is taking more than 5 seconds (5_000 milliseconds) to get a response, you will get a timeout here with this config.\r\n\r\nYou can use postman to get the response time of your requested endpoint. If it is more than 5 seconds, you can simply configure these values accordingly. Maybe, you can use 30 seconds, instead of 5 Seconds.\r\n\r\nI Hope, it helps.","title":"okHttp client gives timeout after adding callTimeout() config to it and has moments where the request doesn&#39;t reach the host","body":"<p>As after adding the configurations, you are getting this exception, I am suspecting, the requested endpoint needs more time than your configured 5 seconds.</p>\n<p>If your requested endpoint is taking more than 5 seconds (5_000 milliseconds) to get a response, you will get a timeout here with this config.</p>\n<p>You can use postman to get the response time of your requested endpoint. If it is more than 5 seconds, you can simply configure these values accordingly. Maybe, you can use 30 seconds, instead of 5 Seconds.</p>\n<p>I Hope, it helps.</p>\n"},{"tags":[],"owner":{"account_id":13956376,"reputation":544,"user_id":10078629,"display_name":"Master Zzzing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645189110,"creation_date":1645189110,"answer_id":71173879,"question_id":71172619,"body_markdown":"callTimeOut()\r\n&gt; Sets the default timeout for complete calls. A value of 0 means no\r\n&gt; timeout, otherwise values must be between 1 and [Integer.MAX_VALUE]\r\n&gt; when converted to milliseconds. The call timeout spans the entire\r\n&gt; call: resolving DNS, connecting, writing the request body, server\r\n&gt; processing, and reading the response body. If the call requires\r\n&gt; redirects or retries all must complete within one timeout period. The\r\n&gt; default value is 0 which imposes no timeout.\r\n\r\nCorrect me if I&#39;m wrong. from what I understand `callTimeOut()` set call timeout spans for the entire call. Eg: you set `callTimeOut = 5s`. if resolving DNS takes 1s, connecting 1s, write 2s, read 2s then you will get TimeOut exception. by default, callTimeOut() is set to no timeout while another default Timeouts is 10s. why do you have to set callTimeOut() to 5s? for me, I have never set callTimeOut before.\r\n","title":"okHttp client gives timeout after adding callTimeout() config to it and has moments where the request doesn&#39;t reach the host","body":"<p>callTimeOut()</p>\n<blockquote>\n<p>Sets the default timeout for complete calls. A value of 0 means no\ntimeout, otherwise values must be between 1 and [Integer.MAX_VALUE]\nwhen converted to milliseconds. The call timeout spans the entire\ncall: resolving DNS, connecting, writing the request body, server\nprocessing, and reading the response body. If the call requires\nredirects or retries all must complete within one timeout period. The\ndefault value is 0 which imposes no timeout.</p>\n</blockquote>\n<p>Correct me if I'm wrong. from what I understand <code>callTimeOut()</code> set call timeout spans for the entire call. Eg: you set <code>callTimeOut = 5s</code>. if resolving DNS takes 1s, connecting 1s, write 2s, read 2s then you will get TimeOut exception. by default, callTimeOut() is set to no timeout while another default Timeouts is 10s. why do you have to set callTimeOut() to 5s? for me, I have never set callTimeOut before.</p>\n"},{"tags":[],"owner":{"account_id":24758334,"reputation":1,"user_id":18643029,"display_name":"Di Sarra George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697885963,"creation_date":1697885963,"answer_id":77335684,"question_id":71172619,"body_markdown":"It is also possible, that you are exceeding your CPU quota. Call timeout is controlled by side-thread (called Watchdog), that is checking in infinite loop if the certain request call timeout was expired ([source code][1]). But when you are creating a large amount of threads and there all are enqueued for CPU the call timeout could be expired while they are waiting in queue, so it doesn&#39;t depend on the network. While read and connect timeouts does not depend on the fact of the thread being too long in queue, because these timeouts are managed on OS level. \r\n\r\nIt also explains why the actual request was not sent - because the request thread was displaced from the CPU axactly after it was registered in the watchdog. And actual request haven&#39;t been sent, but the watchdog already decided that the time have passed.\r\n\r\nThat&#39;s why maybe you shouldn&#39;t use these kind of timeout for a backend app, especially working in a cloud. It is more relevant for android apps or other clients to use it.\r\n\r\n\r\n  [1]: https://github.com/square/okio/blob/132fde79292f6333c16b3a15571922084e19cf87/okio/src/jvmMain/kotlin/okio/AsyncTimeout.kt#L182","title":"okHttp client gives timeout after adding callTimeout() config to it and has moments where the request doesn&#39;t reach the host","body":"<p>It is also possible, that you are exceeding your CPU quota. Call timeout is controlled by side-thread (called Watchdog), that is checking in infinite loop if the certain request call timeout was expired (<a href=\"https://github.com/square/okio/blob/132fde79292f6333c16b3a15571922084e19cf87/okio/src/jvmMain/kotlin/okio/AsyncTimeout.kt#L182\" rel=\"nofollow noreferrer\">source code</a>). But when you are creating a large amount of threads and there all are enqueued for CPU the call timeout could be expired while they are waiting in queue, so it doesn't depend on the network. While read and connect timeouts does not depend on the fact of the thread being too long in queue, because these timeouts are managed on OS level.</p>\n<p>It also explains why the actual request was not sent - because the request thread was displaced from the CPU axactly after it was registered in the watchdog. And actual request haven't been sent, but the watchdog already decided that the time have passed.</p>\n<p>That's why maybe you shouldn't use these kind of timeout for a backend app, especially working in a cloud. It is more relevant for android apps or other clients to use it.</p>\n"}],"owner":{"account_id":11954896,"reputation":519,"user_id":8747553,"display_name":"Truica Sorin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71173559,"answer_count":3,"score":0,"last_activity_date":1697885963,"creation_date":1645183137,"question_id":71172619,"body_markdown":"after adding callTimeout() config to the okhttp client I started to get timeouts\r\n\r\n    Caused by: java.io.InterruptedIOException: timeout\r\n    Caused by: java.io.IOException: Canceled\r\n    \r\n    OkHttpClient httpClient = new OkHttpClient.Builder()\r\n                    .callTimeout(5_000L, TimeUnit.MILLISECONDS)\r\n                    .connectTimeout(500L, TimeUnit.MILLISECONDS)\r\n                    .readTimeout(5_000L, TimeUnit.MILLISECONDS)\r\n                    .writeTimeout(5_000L, TimeUnit.MILLISECONDS)\r\n                    .build();\r\n\r\nI&#39;m not completely sure if having callTimeout configured with the same value as write and read is correct.Is it possible if read and write takes longer to trigger callTimeout()?\r\nAlso another weird thing is that there are moments in which the request doesn&#39;t even reach the host","title":"okHttp client gives timeout after adding callTimeout() config to it and has moments where the request doesn&#39;t reach the host","body":"<p>after adding callTimeout() config to the okhttp client I started to get timeouts</p>\n<pre><code>Caused by: java.io.InterruptedIOException: timeout\nCaused by: java.io.IOException: Canceled\n\nOkHttpClient httpClient = new OkHttpClient.Builder()\n                .callTimeout(5_000L, TimeUnit.MILLISECONDS)\n                .connectTimeout(500L, TimeUnit.MILLISECONDS)\n                .readTimeout(5_000L, TimeUnit.MILLISECONDS)\n                .writeTimeout(5_000L, TimeUnit.MILLISECONDS)\n                .build();\n</code></pre>\n<p>I'm not completely sure if having callTimeout configured with the same value as write and read is correct.Is it possible if read and write takes longer to trigger callTimeout()?\nAlso another weird thing is that there are moments in which the request doesn't even reach the host</p>\n"},{"tags":["java","nested-loops"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697841332,"post_id":77333941,"comment_id":136334937,"body_markdown":"Check how your loops are nested, particularly where you put together the colons. Also, you should not be closing the Scanner, since it is wrapping System.in, something which you did not open.","body":"Check how your loops are nested, particularly where you put together the colons. Also, you should not be closing the Scanner, since it is wrapping System.in, something which you did not open."}],"answers":[{"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697840280,"creation_date":1697840280,"answer_id":77334018,"question_id":77333941,"body_markdown":"It sometimes help to just read through your code and step through it like a naive execution would. Or if you are already familiar with a debugger you could step through your code line by line while watching the variables change.\r\nDoing this you should notice an issue with this part of your code:\r\n\r\n    while(baseVal &gt; 0) {\r\n        for(int i = 0; i &lt;= lineNum; i++) {\r\n            System.out.print(&quot; &quot;);\r\n            \r\n            for(int j = 1; j &lt;= (baseVal - 2); j++) {\r\n                colon += &quot;:&quot;;\r\n            \r\n            }\r\n            baseVal -= 2;\r\n        }\r\n        lineNum++;\r\n        System.out.println(&quot;\\\\&quot; + colon + &quot;/&quot;);\r\n        colon = &quot;&quot;;\r\n    }\r\n\r\nSpecifically look what the outer `for` loop is doing with each iteration of the outmost `while` (especially after the first iteration). Track how `lineNum` is changing and what it means for `baseVal` and `colon`","title":"Hourglass code logic error using nested for loops","body":"<p>It sometimes help to just read through your code and step through it like a naive execution would. Or if you are already familiar with a debugger you could step through your code line by line while watching the variables change.\nDoing this you should notice an issue with this part of your code:</p>\n<pre><code>while(baseVal &gt; 0) {\n    for(int i = 0; i &lt;= lineNum; i++) {\n        System.out.print(&quot; &quot;);\n        \n        for(int j = 1; j &lt;= (baseVal - 2); j++) {\n            colon += &quot;:&quot;;\n        \n        }\n        baseVal -= 2;\n    }\n    lineNum++;\n    System.out.println(&quot;\\\\&quot; + colon + &quot;/&quot;);\n    colon = &quot;&quot;;\n}\n</code></pre>\n<p>Specifically look what the outer <code>for</code> loop is doing with each iteration of the outmost <code>while</code> (especially after the first iteration). Track how <code>lineNum</code> is changing and what it means for <code>baseVal</code> and <code>colon</code></p>\n"},{"tags":[],"owner":{"account_id":26055378,"reputation":51,"user_id":19757832,"display_name":"Rune Trold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697885537,"creation_date":1697840298,"answer_id":77334020,"question_id":77333941,"body_markdown":"Your second for loop shouldn&#39;t be nested inside the previous:\r\n\r\n\r\n        while(baseVal &gt; 0) {\r\n            \r\n            for(int i = 0; i &lt;= lineNum; i++) {\r\n                System.out.print(&quot; &quot;);\r\n            }    \r\n            for(int j = 1; j &lt;= (baseVal - 2); j++) {\r\n                colon += &quot;:&quot;;\r\n                \r\n            }\r\n            baseVal -= 2;\r\n\r\nThis should fix it i think :)\r\nBest regards","title":"Hourglass code logic error using nested for loops","body":"<p>Your second for loop shouldn't be nested inside the previous:</p>\n<pre><code>    while(baseVal &gt; 0) {\n        \n        for(int i = 0; i &lt;= lineNum; i++) {\n            System.out.print(&quot; &quot;);\n        }    \n        for(int j = 1; j &lt;= (baseVal - 2); j++) {\n            colon += &quot;:&quot;;\n            \n        }\n        baseVal -= 2;\n</code></pre>\n<p>This should fix it i think :)\nBest regards</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697852800,"creation_date":1697852800,"answer_id":77334478,"question_id":77333941,"body_markdown":"&gt; _&quot;... I&#39;m working on a assignment where I need to print our an hourglass using nested for loops. ...&quot;_\r\n\r\nGreat attempt.&amp;nbsp; I don&#39;t see the practicality in using the nested _loop_.\r\n\r\nUtilize the _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ and _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ class to format the value.\r\n\r\n```java\r\nclass Hourglass {\r\n    int w, h;\r\n\r\n    Hourglass(int n) {\r\n        h = (w = n) / 2;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        Formatter f = new Formatter(s);\r\n        f.format(&quot;|%s|%n&quot;, &quot;”&quot;.repeat(w));\r\n        for (int i = 1; i &lt; h; i++)\r\n            f.format(&quot;%s\\\\%s/%n&quot;, &quot; &quot;.repeat(i), &quot;:&quot;.repeat(w - (i * 2)));\r\n        f.format(&quot;%s%s%n&quot;, &quot; &quot;.repeat(h), w % 2 != 0 ? &quot;|||&quot; : &quot;||&quot;);\r\n        for (int i = h - 1; i &gt;= 1; i--)\r\n            f.format(&quot;%s/%s\\\\%n&quot;, &quot; &quot;.repeat(i), &quot;:&quot;.repeat(w - (i * 2)));\r\n        f.format(&quot;|%s|&quot;, &quot;”&quot;.repeat(w));\r\n        f.flush();\r\n        return s.toString();\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n|””””””””””|\r\n \\::::::::/\r\n  \\::::::/\r\n   \\::::/\r\n    \\::/\r\n     ||\r\n    /::\\\r\n   /::::\\\r\n  /::::::\\\r\n /::::::::\\\r\n|””””””””””|\r\n```","title":"Hourglass code logic error using nested for loops","body":"<blockquote>\n<p><em>&quot;... I'm working on a assignment where I need to print our an hourglass using nested for loops. ...&quot;</em></p>\n</blockquote>\n<p>Great attempt.  I don't see the practicality in using the nested <em>loop</em>.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> class to format the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Hourglass {\n    int w, h;\n\n    Hourglass(int n) {\n        h = (w = n) / 2;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder s = new StringBuilder();\n        Formatter f = new Formatter(s);\n        f.format(&quot;|%s|%n&quot;, &quot;”&quot;.repeat(w));\n        for (int i = 1; i &lt; h; i++)\n            f.format(&quot;%s\\\\%s/%n&quot;, &quot; &quot;.repeat(i), &quot;:&quot;.repeat(w - (i * 2)));\n        f.format(&quot;%s%s%n&quot;, &quot; &quot;.repeat(h), w % 2 != 0 ? &quot;|||&quot; : &quot;||&quot;);\n        for (int i = h - 1; i &gt;= 1; i--)\n            f.format(&quot;%s/%s\\\\%n&quot;, &quot; &quot;.repeat(i), &quot;:&quot;.repeat(w - (i * 2)));\n        f.format(&quot;|%s|&quot;, &quot;”&quot;.repeat(w));\n        f.flush();\n        return s.toString();\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>|””””””””””|\n \\::::::::/\n  \\::::::/\n   \\::::/\n    \\::/\n     ||\n    /::\\\n   /::::\\\n  /::::::\\\n /::::::::\\\n|””””””””””|\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697864000,"creation_date":1697864000,"answer_id":77334798,"question_id":77333941,"body_markdown":"Made it more challenging by sweeping from top to bottom in just one outer for loop, and sweeping left to right with just one nested for loop:\r\n\r\n    import java.util.Scanner;\r\n    class Main {\r\n      \r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Hourglass width? &quot;);\r\n        int width = sc.nextInt();\r\n            \r\n        int left = 1;\r\n        int right = width+2;\r\n        int lastRow = width+((width%2==0) ? 1 : 2);\r\n        for(int row=1; row&lt;=lastRow;row++) {\r\n          for(int col=1; col&lt;=width+2; col++) {\r\n            if (row==1 || row==lastRow) {\r\n              System.out.print((col==1 || col==width+2) ? &quot;|&quot; : &quot;\\&quot;&quot;);\r\n            } \r\n            else if (col&lt;left || col&gt;right) {\r\n              System.out.print(&quot; &quot;);\r\n            }\r\n            else if(right-left&lt;=1) {\r\n              System.out.print(&quot;|&quot;);\r\n            }\r\n            else if (col==left) {\r\n              System.out.print((row&lt;=((width+1)/2)) ? &quot;\\\\&quot; : &quot;/&quot;);\r\n            }\r\n            else if (col==right) {\r\n              System.out.print((row&lt;=((width+1)/2)) ? &quot;/&quot; : &quot;\\\\&quot;);\r\n            }\r\n            else {\r\n              System.out.print(&quot;:&quot;);\r\n            }\r\n          } \r\n          System.out.println();\r\n          left += (row&lt;(width+1)/2+1) ? 1 : -1;\r\n          right += (row&lt;(width+1)/2+1) ? -1 : 1;\r\n        }\r\n      }\r\n      \r\n    }\r\n\r\nSample runs:\r\n\r\n    Hourglass width? 25\r\n    |&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\r\n     \\:::::::::::::::::::::::/ \r\n      \\:::::::::::::::::::::/  \r\n       \\:::::::::::::::::::/   \r\n        \\:::::::::::::::::/    \r\n         \\:::::::::::::::/     \r\n          \\:::::::::::::/      \r\n           \\:::::::::::/       \r\n            \\:::::::::/        \r\n             \\:::::::/         \r\n              \\:::::/          \r\n               \\:::/           \r\n                \\:/            \r\n                 |             \r\n                /:\\            \r\n               /:::\\           \r\n              /:::::\\          \r\n             /:::::::\\         \r\n            /:::::::::\\        \r\n           /:::::::::::\\       \r\n          /:::::::::::::\\      \r\n         /:::::::::::::::\\     \r\n        /:::::::::::::::::\\    \r\n       /:::::::::::::::::::\\   \r\n      /:::::::::::::::::::::\\  \r\n     /:::::::::::::::::::::::\\ \r\n    |&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\r\n\r\n    Hourglass width? 24\r\n    |&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\r\n     \\::::::::::::::::::::::/ \r\n      \\::::::::::::::::::::/  \r\n       \\::::::::::::::::::/   \r\n        \\::::::::::::::::/    \r\n         \\::::::::::::::/     \r\n          \\::::::::::::/      \r\n           \\::::::::::/       \r\n            \\::::::::/        \r\n             \\::::::/         \r\n              \\::::/          \r\n               \\::/           \r\n                ||            \r\n               /::\\           \r\n              /::::\\          \r\n             /::::::\\         \r\n            /::::::::\\        \r\n           /::::::::::\\       \r\n          /::::::::::::\\      \r\n         /::::::::::::::\\     \r\n        /::::::::::::::::\\    \r\n       /::::::::::::::::::\\   \r\n      /::::::::::::::::::::\\  \r\n     /::::::::::::::::::::::\\ \r\n    |&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|","title":"Hourglass code logic error using nested for loops","body":"<p>Made it more challenging by sweeping from top to bottom in just one outer for loop, and sweeping left to right with just one nested for loop:</p>\n<pre><code>import java.util.Scanner;\nclass Main {\n  \n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Hourglass width? &quot;);\n    int width = sc.nextInt();\n        \n    int left = 1;\n    int right = width+2;\n    int lastRow = width+((width%2==0) ? 1 : 2);\n    for(int row=1; row&lt;=lastRow;row++) {\n      for(int col=1; col&lt;=width+2; col++) {\n        if (row==1 || row==lastRow) {\n          System.out.print((col==1 || col==width+2) ? &quot;|&quot; : &quot;\\&quot;&quot;);\n        } \n        else if (col&lt;left || col&gt;right) {\n          System.out.print(&quot; &quot;);\n        }\n        else if(right-left&lt;=1) {\n          System.out.print(&quot;|&quot;);\n        }\n        else if (col==left) {\n          System.out.print((row&lt;=((width+1)/2)) ? &quot;\\\\&quot; : &quot;/&quot;);\n        }\n        else if (col==right) {\n          System.out.print((row&lt;=((width+1)/2)) ? &quot;/&quot; : &quot;\\\\&quot;);\n        }\n        else {\n          System.out.print(&quot;:&quot;);\n        }\n      } \n      System.out.println();\n      left += (row&lt;(width+1)/2+1) ? 1 : -1;\n      right += (row&lt;(width+1)/2+1) ? -1 : 1;\n    }\n  }\n  \n}\n</code></pre>\n<p>Sample runs:</p>\n<pre><code>Hourglass width? 25\n|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\n \\:::::::::::::::::::::::/ \n  \\:::::::::::::::::::::/  \n   \\:::::::::::::::::::/   \n    \\:::::::::::::::::/    \n     \\:::::::::::::::/     \n      \\:::::::::::::/      \n       \\:::::::::::/       \n        \\:::::::::/        \n         \\:::::::/         \n          \\:::::/          \n           \\:::/           \n            \\:/            \n             |             \n            /:\\            \n           /:::\\           \n          /:::::\\          \n         /:::::::\\         \n        /:::::::::\\        \n       /:::::::::::\\       \n      /:::::::::::::\\      \n     /:::::::::::::::\\     \n    /:::::::::::::::::\\    \n   /:::::::::::::::::::\\   \n  /:::::::::::::::::::::\\  \n /:::::::::::::::::::::::\\ \n|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\n\nHourglass width? 24\n|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\n \\::::::::::::::::::::::/ \n  \\::::::::::::::::::::/  \n   \\::::::::::::::::::/   \n    \\::::::::::::::::/    \n     \\::::::::::::::/     \n      \\::::::::::::/      \n       \\::::::::::/       \n        \\::::::::/        \n         \\::::::/         \n          \\::::/          \n           \\::/           \n            ||            \n           /::\\           \n          /::::\\          \n         /::::::\\         \n        /::::::::\\        \n       /::::::::::\\       \n      /::::::::::::\\      \n     /::::::::::::::\\     \n    /::::::::::::::::\\    \n   /::::::::::::::::::\\   \n  /::::::::::::::::::::\\  \n /::::::::::::::::::::::\\ \n|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\n</code></pre>\n"}],"owner":{"account_id":29719260,"reputation":1,"user_id":22776995,"display_name":"Babette"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1697885537,"creation_date":1697838871,"question_id":77333941,"body_markdown":"I&#39;m working on a assignment where I need to print our an hourglass using nested for loops. The input base number(number of initial quotation marks) is user inputed, and odd and even difference is that there is a colon in the middle. \r\nI&#39;m currently working on UpCone, haven&#39;t even started on the mess of downcone, I need help because I can&#39;t find the logic error as to why colon # is printing MORE than I want, even after adjusting baseVal by subtracting 2\r\nMy code: \r\n\r\n```\r\n`public class HourglassProject {\r\n\t/*\r\n\t * Print Base\r\n\t * Print Middle\r\n\t * Print invPyrimid\r\n\t * Print Pyrimid\r\n\t */\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner userInput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;enter the length of the base(# of colons), reccomended 10/12&quot;);\r\n\t\tint numLength = userInput.nextInt();\r\n\t\tprintBase(numLength);\r\n\t\tupCone(numLength);\r\n\r\n\t\t\r\n\t\tuserInput.close();\r\n\t}\r\n\t\r\n\tpublic static void printBase(int baseNum) {\r\n\t\tString quotation = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; baseNum; i++) {\r\n\t\t\tquotation += &quot;\\&quot;&quot;;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;|&quot;+ quotation +&quot;|&quot;);\r\n\t\t\r\n\t}\r\n**\tpublic static void upCone(int baseVal) {\r\n\t\tint lineNum = 0; \r\n\t\tString colon= &quot;&quot;;\r\n\t\tString space = &quot;&quot;;\r\n\t\t//for loops: Line, Spaces; Colon shrink\r\n\t\twhile(baseVal &gt; 0) {\r\n\t\t\t\r\n\t\t\tfor(int i = 0; i &lt;= lineNum; i++) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t\r\n\t\t\t\tfor(int j = 1; j &lt;= (baseVal - 2); j++) {\r\n\t\t\t\t\tcolon += &quot;:&quot;;\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tbaseVal -= 2;\r\n\t\t\t}\r\n\t\t\tlineNum++;\r\n\t\t\tSystem.out.println(&quot;\\\\&quot; + colon + &quot;/&quot;);\r\n\t\t\tcolon = &quot;&quot;;\r\n\t\t}**\r\n\t\t\r\n\t\tfor(int i = 0; i &lt;= lineNum; i++) {\r\n\t\t\tspace += &quot; &quot;;\r\n\t\t}\r\n\t\t\r\n\t\tif(baseVal % 2 == 0) {\r\n\t\t\tSystem.out.println(space + &quot;||&quot;);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tSystem.out.println(space + &quot;|:|&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}`\r\n\r\nDesired: \r\n|””””””””””|\r\n \\::::::::/\r\n  \\::::::/\r\n   \\::::/\r\n    \\::/\r\n     ||\r\n    /::\\\r\n   /::::\\\r\n  /::::::\\\r\n /::::::::\\\r\n|””””””””””|\r\n\r\n\r\nWhat I have: \r\nenter the length of the base(# of colons), reccomended 10/12\r\n10\r\n|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\r\n \\::::::::/\r\n  \\::::::::::/\r\n   \\::/\r\n    ||","title":"Hourglass code logic error using nested for loops","body":"<p>I'm working on a assignment where I need to print our an hourglass using nested for loops. The input base number(number of initial quotation marks) is user inputed, and odd and even difference is that there is a colon in the middle.\nI'm currently working on UpCone, haven't even started on the mess of downcone, I need help because I can't find the logic error as to why colon # is printing MORE than I want, even after adjusting baseVal by subtracting 2\nMy code:</p>\n<pre><code>`public class HourglassProject {\n    /*\n     * Print Base\n     * Print Middle\n     * Print invPyrimid\n     * Print Pyrimid\n     */\n\n    public static void main(String[] args) {\n        Scanner userInput = new Scanner(System.in);\n        System.out.println(&quot;enter the length of the base(# of colons), reccomended 10/12&quot;);\n        int numLength = userInput.nextInt();\n        printBase(numLength);\n        upCone(numLength);\n\n        \n        userInput.close();\n    }\n    \n    public static void printBase(int baseNum) {\n        String quotation = &quot;&quot;;\n        for (int i = 0; i &lt; baseNum; i++) {\n            quotation += &quot;\\&quot;&quot;;\n        }\n        System.out.println(&quot;|&quot;+ quotation +&quot;|&quot;);\n        \n    }\n**  public static void upCone(int baseVal) {\n        int lineNum = 0; \n        String colon= &quot;&quot;;\n        String space = &quot;&quot;;\n        //for loops: Line, Spaces; Colon shrink\n        while(baseVal &gt; 0) {\n            \n            for(int i = 0; i &lt;= lineNum; i++) {\n                System.out.print(&quot; &quot;);\n                \n                for(int j = 1; j &lt;= (baseVal - 2); j++) {\n                    colon += &quot;:&quot;;\n                \n                }\n                baseVal -= 2;\n            }\n            lineNum++;\n            System.out.println(&quot;\\\\&quot; + colon + &quot;/&quot;);\n            colon = &quot;&quot;;\n        }**\n        \n        for(int i = 0; i &lt;= lineNum; i++) {\n            space += &quot; &quot;;\n        }\n        \n        if(baseVal % 2 == 0) {\n            System.out.println(space + &quot;||&quot;);\n            \n        } else {\n            System.out.println(space + &quot;|:|&quot;);\n        }\n        \n        \n    }`\n\nDesired: \n|””””””””””|\n \\::::::::/\n  \\::::::/\n   \\::::/\n    \\::/\n     ||\n    /::\\\n   /::::\\\n  /::::::\\\n /::::::::\\\n|””””””””””|\n\n\nWhat I have: \nenter the length of the base(# of colons), reccomended 10/12\n10\n|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|\n \\::::::::/\n  \\::::::::::/\n   \\::/\n    ||\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9923,"page":109,"page_size":100}
