{"items":[{"tags":["java","spring","spring-boot","spring-security","csrf"],"comments":[{"owner":{"account_id":11266715,"reputation":2288,"user_id":8263299,"accept_rate":50,"display_name":"benjamin c"},"score":7,"creation_date":1537172580,"post_id":52363487,"comment_id":91671159,"body_markdown":"someone can use another token mechanism which is not csrf to authenticate requests, such as jwt, so there wont be any use of csrf token","body":"someone can use another token mechanism which is not csrf to authenticate requests, such as jwt, so there wont be any use of csrf token"},{"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1537172942,"post_id":52363487,"comment_id":91671351,"body_markdown":"In a tutorial, that might just be to make the tutorial simpler.","body":"In a tutorial, that might just be to make the tutorial simpler."},{"owner":{"account_id":13655237,"reputation":1007,"user_id":9851955,"display_name":"arminvanbuuren"},"score":0,"creation_date":1537172950,"post_id":52363487,"comment_id":91671355,"body_markdown":"@benjaminc ok, i see, but why don&#39;t just forget about csrf().disable()? are jwt and standart csrf somehow interfere or disturb each other?","body":"@benjaminc ok, i see, but why don&#39;t just forget about csrf().disable()? are jwt and standart csrf somehow interfere or disturb each other?"},{"owner":{"account_id":13655237,"reputation":1007,"user_id":9851955,"display_name":"arminvanbuuren"},"score":0,"creation_date":1537173057,"post_id":52363487,"comment_id":91671404,"body_markdown":"@Raedwald, i think just forget about  csrf().disable() is simplier )))","body":"@Raedwald, i think just forget about  csrf().disable() is simplier )))"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":1,"creation_date":1537173194,"post_id":52363487,"comment_id":91671479,"body_markdown":"@arminvanbuuren it would make requests more verbose","body":"@arminvanbuuren it would make requests more verbose"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1621031467,"creation_date":1537172875,"answer_id":52363613,"question_id":52363487,"body_markdown":"[Spring][1] recommend using it when serving **browser clients**, if not it may be disabled:\r\n\r\n&gt;Our recommendation is to use CSRF protection for any request that could be processed by a browser by normal users. If you are only creating a service that is used by non-browser clients, you will likely want to disable CSRF protection.\r\n\r\nI will add that even if you serve browser clients, but it&#39;s used internally only you may want/able to remove it. \r\n\r\n[1]:https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html#when-to-use-csrf-protection","title":"What is the reason to disable csrf in spring boot web application?","body":"<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html#when-to-use-csrf-protection\" rel=\"nofollow noreferrer\">Spring</a> recommend using it when serving <strong>browser clients</strong>, if not it may be disabled:</p>\n<blockquote>\n<p>Our recommendation is to use CSRF protection for any request that could be processed by a browser by normal users. If you are only creating a service that is used by non-browser clients, you will likely want to disable CSRF protection.</p>\n</blockquote>\n<p>I will add that even if you serve browser clients, but it's used internally only you may want/able to remove it.</p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":1,"up_vote_count":62,"is_accepted":true,"score":61,"last_activity_date":1537173588,"creation_date":1537172880,"answer_id":52363615,"question_id":52363487,"body_markdown":"&gt; What is the real-life reason to disable it?\r\n\r\nThe Spring documentation suggests:\r\n\r\n&gt; Our recommendation is to use CSRF protection for any request that could be processed by a browser by normal users. **If you are only creating a service that is used by non-browser clients, you will likely want to disable CSRF protection.**\r\n\r\n---\r\n\r\n&gt; Does it improve performance?\r\n\r\nIt shouldn&#39;t impact the performance. A filter (or another component) will be removed from the request processing chain to make the feature unavailable.\r\n\r\n&gt; What is the reason to disable `csrf` in a Spring Boot application?\r\n\r\n1. You are using another token mechanism.\r\n2. You want to simplify interactions between a client and the server.","title":"What is the reason to disable csrf in spring boot web application?","body":"<blockquote>\n  <p>What is the real-life reason to disable it?</p>\n</blockquote>\n\n<p>The Spring documentation suggests:</p>\n\n<blockquote>\n  <p>Our recommendation is to use CSRF protection for any request that could be processed by a browser by normal users. <strong>If you are only creating a service that is used by non-browser clients, you will likely want to disable CSRF protection.</strong></p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>Does it improve performance?</p>\n</blockquote>\n\n<p>It shouldn't impact the performance. A filter (or another component) will be removed from the request processing chain to make the feature unavailable.</p>\n\n<blockquote>\n  <p>What is the reason to disable <code>csrf</code> in a Spring Boot application?</p>\n</blockquote>\n\n<ol>\n<li>You are using another token mechanism.</li>\n<li>You want to simplify interactions between a client and the server.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1621012775,"creation_date":1588012602,"answer_id":61465963,"question_id":52363487,"body_markdown":"Yes, it is safe to disable if you have a different authentication mechanism that cannot be cloaked. For internal enterprise applications, not much of a concern.\r\nWe had to disable it because it was interfering with our existing authentication mechanism.","title":"What is the reason to disable csrf in spring boot web application?","body":"<p>Yes, it is safe to disable if you have a different authentication mechanism that cannot be cloaked. For internal enterprise applications, not much of a concern.\nWe had to disable it because it was interfering with our existing authentication mechanism.</p>\n"},{"tags":[],"owner":{"account_id":30111552,"reputation":1,"user_id":23075958,"display_name":"Daniel Remsburg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702237407,"creation_date":1702216449,"answer_id":77635061,"question_id":52363487,"body_markdown":"CSRF protects against what is aptly titled a Cross Site Request Forgery. In this type of attack, a token such as a session ID, is stored in the browser&#39;s cookies. The default behavior is to send the cookies with a request to a site. Someone can exploit this default behavior to impersonate you and do malicious things.\r\n\r\nHere&#39;s how it works:\r\n\r\n(this example carped from the Spring Security Reference docs: [https://docs.spring.io/spring-security/site/docs/5.3.x/reference/html5/#csrf][1])\r\n\r\nYour bank has a website and on this website there&#39;s a mechanism to\r\ntransfer money. You login and transfer a little money. You forget to logout. Then you navigate to an evil website.\r\n\r\nThe evil website duplicates this form and sends a request to transfer\r\n100 bucks from your account to theirs. They can&#39;t see the cookie but\r\nthe cookies are sent with the request. They don&#39;t have to see the key\r\nin order to turn the key in the lock. Because you forgot to logout,\r\nyour Session ID is still active (typically they expire but sometimes\r\nthey don&#39;t want to burden their customers with logging in every time).\r\n\r\nThe bank can&#39;t tell who sent the request, and they certainly can&#39;t\r\nblock all malicious websites since there are probably more malicious\r\nsites than legitimate ones out there.\r\n\r\nSo, the bank enables CSRF protection which requires a special token to be generated for the request. The token will be embedded in the request and won&#39;t be stored in a cookie. Without this token, the request will rejected. \r\n\r\nThe token is generated by the legitimate site and if you&#39;re not navigating from this site&#39;s official page, then the token won&#39;t be generated. The evil website can&#39;t generate this token so they cannot forge the transaction.\r\n\r\nTo answer your question, why would you want to disable this? Here are some common reasons:\r\n\r\n1. You have a different token mechanism already, such as JWT. JWT is typically used because the tokens can be passed to a JavaScript front end framework (such as Angular) which allows your front end to use the endpoints securely.\r\n\r\n2. The endpoint does not actually &quot;change the state of the application&quot;. This means it doesn&#39;t do anything a malicious attacker could exploit.\r\n\r\n3. You are maintaining boundary security in some other way, such as an appliance that manages an enterprise&#39;s security.\r\n\r\nThere may be other reasons, but I didn&#39;t like the answer &quot;because the tutorial was just trying to simplify&quot;. Why would a tutorial simplify? Well probably because of reason number 2: there&#39;s nothing of value to protect. But also a tutorial might actually be showing you how to implement JWT or some other token system.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.3.x/reference/html5/#csrf","title":"What is the reason to disable csrf in spring boot web application?","body":"<p>CSRF protects against what is aptly titled a Cross Site Request Forgery. In this type of attack, a token such as a session ID, is stored in the browser's cookies. The default behavior is to send the cookies with a request to a site. Someone can exploit this default behavior to impersonate you and do malicious things.</p>\n<p>Here's how it works:</p>\n<p>(this example carped from the Spring Security Reference docs: <a href=\"https://docs.spring.io/spring-security/site/docs/5.3.x/reference/html5/#csrf\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.3.x/reference/html5/#csrf</a>)</p>\n<p>Your bank has a website and on this website there's a mechanism to\ntransfer money. You login and transfer a little money. You forget to logout. Then you navigate to an evil website.</p>\n<p>The evil website duplicates this form and sends a request to transfer\n100 bucks from your account to theirs. They can't see the cookie but\nthe cookies are sent with the request. They don't have to see the key\nin order to turn the key in the lock. Because you forgot to logout,\nyour Session ID is still active (typically they expire but sometimes\nthey don't want to burden their customers with logging in every time).</p>\n<p>The bank can't tell who sent the request, and they certainly can't\nblock all malicious websites since there are probably more malicious\nsites than legitimate ones out there.</p>\n<p>So, the bank enables CSRF protection which requires a special token to be generated for the request. The token will be embedded in the request and won't be stored in a cookie. Without this token, the request will rejected.</p>\n<p>The token is generated by the legitimate site and if you're not navigating from this site's official page, then the token won't be generated. The evil website can't generate this token so they cannot forge the transaction.</p>\n<p>To answer your question, why would you want to disable this? Here are some common reasons:</p>\n<ol>\n<li><p>You have a different token mechanism already, such as JWT. JWT is typically used because the tokens can be passed to a JavaScript front end framework (such as Angular) which allows your front end to use the endpoints securely.</p>\n</li>\n<li><p>The endpoint does not actually &quot;change the state of the application&quot;. This means it doesn't do anything a malicious attacker could exploit.</p>\n</li>\n<li><p>You are maintaining boundary security in some other way, such as an appliance that manages an enterprise's security.</p>\n</li>\n</ol>\n<p>There may be other reasons, but I didn't like the answer &quot;because the tutorial was just trying to simplify&quot;. Why would a tutorial simplify? Well probably because of reason number 2: there's nothing of value to protect. But also a tutorial might actually be showing you how to implement JWT or some other token system.</p>\n"}],"owner":{"account_id":13655237,"reputation":1007,"user_id":9851955,"display_name":"arminvanbuuren"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62313,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":52363615,"answer_count":4,"score":73,"last_activity_date":1702237407,"creation_date":1537172346,"question_id":52363487,"body_markdown":"There are many tutorials where is shown how to disable csrf, \r\n\r\n    csrf().disable()\r\n\r\n(and other possibilities like `.properties`, `.yml`, etc.)\r\nbut nowhere explained why they do this? \r\n\r\nSo my questions are: \r\n\r\nWhat is the real-life reason to disable it?  \r\nIs it improves performance?\r\n","title":"What is the reason to disable csrf in spring boot web application?","body":"<p>There are many tutorials where is shown how to disable csrf, </p>\n\n<pre><code>csrf().disable()\n</code></pre>\n\n<p>(and other possibilities like <code>.properties</code>, <code>.yml</code>, etc.)\nbut nowhere explained why they do this? </p>\n\n<p>So my questions are: </p>\n\n<p>What is the real-life reason to disable it?<br>\nIs it improves performance?</p>\n"},{"tags":["java","sorting","selection-sort"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1702232873,"post_id":77635931,"comment_id":136868582,"body_markdown":"&quot;How&quot; is but the form, following the function of &quot;why&quot;. So why do you want to do selection sort without a `for` loop? --- &quot;How&quot; is but the form, following the function of &quot;why&quot;. So why do you want to do selection sort without a `for` loop? --- &quot;How&quot; is but the form, following the function of &quot;why&quot;. So why do you want to do selection sort without a `for` loop?","body":"&quot;How&quot; is but the form, following the function of &quot;why&quot;. So why do you want to do selection sort without a <code>for</code> loop? --- &quot;How&quot; is but the form, following the function of &quot;why&quot;. So why do you want to do selection sort without a <code>for</code> loop? --- &quot;How&quot; is but the form, following the function of &quot;why&quot;. So why do you want to do selection sort without a <code>for</code> loop?"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1702233054,"post_id":77635931,"comment_id":136868598,"body_markdown":"Please don&#39;t repeat  your question as that just adds distracting nonsense to your question and increases its risk of being closed. Instead, add more text that clarifies the problem and makes it more specific, and show some attempt in your question. Please review the [ask] and [tour] links to see how to best use this site.","body":"Please don&#39;t repeat  your question as that just adds distracting nonsense to your question and increases its risk of being closed. Instead, add more text that clarifies the problem and makes it more specific, and show some attempt in your question. Please review the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links to see how to best use this site."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702258753,"post_id":77635931,"comment_id":136870819,"body_markdown":"What do you mean with this  *&quot;A sorted array ascending to descending order.&quot;*   ?  Do you want to reverse an array, or what?","body":"What do you mean with this  <i>&quot;A sorted array ascending to descending order.&quot;</i>   ?  Do you want to reverse an array, or what?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702258811,"post_id":77635931,"comment_id":136870822,"body_markdown":"I suppose replacing a `for` loop with a `while` loop or a `do ... while` loop isn&#39;t allowed?","body":"I suppose replacing a <code>for</code> loop with a <code>while</code> loop or a <code>do ... while</code> loop isn&#39;t allowed?"}],"owner":{"account_id":30096911,"reputation":1,"user_id":23064947,"display_name":"Aryan Solanki"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702232965,"answer_count":0,"score":-3,"last_activity_date":1702236721,"creation_date":1702232518,"question_id":77635931,"body_markdown":"I want to sort an Array of integer numbers in java but without using for loop is it possible if yes then how?\r\n\r\nA sorted array ascending to descending order.","title":"How can i do selection sort in java without for loop?","body":"<p>I want to sort an Array of integer numbers in java but without using for loop is it possible if yes then how?</p>\n<p>A sorted array ascending to descending order.</p>\n"},{"tags":["java","xml","spring","spring-boot","servlets"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702235881,"creation_date":1702235115,"answer_id":77636072,"question_id":77636006,"body_markdown":"&gt;Tomcat version 10 does not understand classes in the `javax.*` package. For this reason, many applications that have `javax` in their code, and those built for earlier versions of Java EE, which include servlets and JSP, as well as tag libraries such as JSTL, cannot run on the new version of Tomcat 10. Therefore, it is required rewrite the code and replace all references `javax` to `jakarta`, old libraries, and also update the application version in the descriptor, if available.\r\n\r\nIn all dependencies, you also need to remove all references to `javax.*`.\r\n\r\nIt you don&#39;t want to update a  java-ee version to JakartaEE then you should use Tomcat 9.","title":"Root Cause:Java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet","body":"<blockquote>\n<p>Tomcat version 10 does not understand classes in the <code>javax.*</code> package. For this reason, many applications that have <code>javax</code> in their code, and those built for earlier versions of Java EE, which include servlets and JSP, as well as tag libraries such as JSTL, cannot run on the new version of Tomcat 10. Therefore, it is required rewrite the code and replace all references <code>javax</code> to <code>jakarta</code>, old libraries, and also update the application version in the descriptor, if available.</p>\n</blockquote>\n<p>In all dependencies, you also need to remove all references to <code>javax.*</code>.</p>\n<p>It you don't want to update a  java-ee version to JakartaEE then you should use Tomcat 9.</p>\n"}],"owner":{"account_id":28753762,"reputation":41,"user_id":22021203,"display_name":"UTHAYAKUMAR M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702235881,"creation_date":1702233831,"question_id":77636006,"body_markdown":"I am Working with Java  Maven Project but I got some errors.please find I have given the project code below. I am Working in Eclipse Java EE IDE\r\n\r\nThis is My Project Code: [Link][1]\r\n\r\nTomcat Version v10.1\r\n\r\n\r\nJDK 11\r\n\r\n```\r\nHTTP Status 500 – Internal Server Error\r\n\r\n\r\nType Exception Report\r\n\r\nMessage Error instantiating servlet class [org.springframework.web.servlet.DispatcherServlet]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\njakarta.servlet.ServletException: Error instantiating servlet class [org.springframework.web.servlet.DispatcherServlet]\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n\r\nRoot Causejava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\r\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1353)org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1165)java.base/java.lang.ClassLoader.defineClass1(Native Method)java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2352)org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:800)\r\n```\r\n\r\n  [1]: https://www.blogger.com/blog/post/edit/7226897299712508249/6630596163099579963","title":"Root Cause:Java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet","body":"<p>I am Working with Java  Maven Project but I got some errors.please find I have given the project code below. I am Working in Eclipse Java EE IDE</p>\n<p>This is My Project Code: <a href=\"https://www.blogger.com/blog/post/edit/7226897299712508249/6630596163099579963\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Tomcat Version v10.1</p>\n<p>JDK 11</p>\n<pre><code>HTTP Status 500 – Internal Server Error\n\n\nType Exception Report\n\nMessage Error instantiating servlet class [org.springframework.web.servlet.DispatcherServlet]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\njakarta.servlet.ServletException: Error instantiating servlet class [org.springframework.web.servlet.DispatcherServlet]\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:1623)\n\n\nRoot Causejava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1353)org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1165)java.base/java.lang.ClassLoader.defineClass1(Native Method)java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2352)org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:800)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1702067999,"post_id":77629050,"comment_id":136856299,"body_markdown":"Where and how do you use your ScienceFilenameMetadataProcessor?","body":"Where and how do you use your ScienceFilenameMetadataProcessor?"},{"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"score":0,"creation_date":1702068042,"post_id":77629050,"comment_id":136856304,"body_markdown":"It is there in the example. It is used from another class.","body":"It is there in the example. It is used from another class."},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1702068376,"post_id":77629050,"comment_id":136856351,"body_markdown":"As `ScienceFilenameMetadataProcessor` is already a spring managed object, you don&#39;t have to use new in `SoarScienceCdfFileRouteBuilder`. But when creating `ScienceFilenameMetadataProcessor` as it needed `FilenameParser` type, you can create any of their implementation as bean, so that it will automatically inject and creates the object for `ScienceFilenameMetadataProcessor`","body":"As <code>ScienceFilenameMetadataProcessor</code> is already a spring managed object, you don&#39;t have to use new in <code>SoarScienceCdfFileRouteBuilder</code>. But when creating <code>ScienceFilenameMetadataProcessor</code> as it needed <code>FilenameParser</code> type, you can create any of their implementation as bean, so that it will automatically inject and creates the object for <code>ScienceFilenameMetadataProcessor</code>"},{"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"score":0,"creation_date":1702068613,"post_id":77629050,"comment_id":136856386,"body_markdown":"Thanks @kcsurapaneni - lets see an example please?","body":"Thanks @kcsurapaneni - lets see an example please?"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1702069525,"post_id":77629050,"comment_id":136856494,"body_markdown":"@user1472672 check the answer and let me know if you have any questions","body":"@user1472672 check the answer and let me know if you have any questions"}],"answers":[{"tags":[],"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702235529,"creation_date":1702069483,"answer_id":77629161,"question_id":77629050,"body_markdown":"The provided code defines a simple Spring application with a configuration class, interface, and several classes that implement the interface. The classes are then injected into Spring components using annotations.\r\n\r\n### 1. Interface `In`:\r\n\r\n```java\r\npublic interface In {\r\n    String getClassName();\r\n}\r\n```\r\n\r\nThis interface declares a method `getClassName()`.\r\n\r\n### 2. Implementing Classes:\r\n\r\n#### a. ClassA:\r\n\r\n```java\r\npublic class ClassA implements In {\r\n    @Override\r\n    public String getClassName() {\r\n        return &quot;Class A&quot;;\r\n    }\r\n}\r\n```\r\n\r\n#### b. ClassB:\r\n\r\n```java\r\npublic class ClassB implements In {\r\n    @Override\r\n    public String getClassName() {\r\n        return &quot;Class B&quot;;\r\n    }\r\n}\r\n```\r\n\r\nBoth `ClassA` and `ClassB` implement the `In` interface and provide their own implementation of the `getClassName()` method.\r\n\r\n### 3. Configuration Class `Config`:\r\n\r\n```java\r\n@Configuration\r\npublic class Config {\r\n\r\n    @Bean\r\n    public In classA() {\r\n        return new ClassA();\r\n    }\r\n\r\n    @Bean In classB() {\r\n        return new ClassB();\r\n    }\r\n}\r\n```\r\n\r\nThis configuration class defines beans named `classA` and `classB`. These beans will be injected into other components.\r\n\r\n### 4. Processor:\r\n\r\n```java\r\npublic interface Processor {\r\n\r\n    public In getIn();\r\n}\r\n```\r\n\r\n#### a. ProcessorClassA:\r\n\r\n```java\r\n@Component\r\npublic class ProcessorClassA implements Processor {\r\n    private final In in;\r\n\r\n    public ProcessorClassA(@Qualifier(&quot;classA&quot;) In in) {\r\n        this.in = in;\r\n    }\r\n\r\n    public In getIn() {\r\n        return in;\r\n    }\r\n}\r\n```\r\n\r\n\r\n#### b. ProcessorClassB:\r\n\r\n```java\r\n@Component\r\npublic class ProcessorClassB implements Processor{\r\n    private final In in;\r\n\r\n    public ProcessorClassB(@Qualifier(&quot;classB&quot;) In in) {\r\n        this.in = in;\r\n    }\r\n\r\n    public In getIn() {\r\n        return in;\r\n    }\r\n}\r\n```\r\n\r\n\r\n### 5. RouteBuilder Class:\r\n\r\n```java\r\n@Component\r\npublic class RouteBuilder {\r\n\r\n    private final Processor processor;\r\n\r\n    public RouteBuilder(@Qualifier(&quot;processorClassA&quot;) Processor processor) {\r\n        this.processor = processor;\r\n    }\r\n\r\n    public Processor getProcessor() {\r\n        return processor;\r\n    }\r\n}\r\n```\r\n\r\n### 6. AnotherRouteBuilder Class:\r\n\r\n```java\r\n@Component\r\npublic class AnotherRouteBuilder {\r\n\r\n    private final Processor processor;\r\n\r\n    public AnotherRouteBuilder(@Qualifier(&quot;processorClassB&quot;) Processor processor) {\r\n        this.processor = processor;\r\n    }\r\n\r\n    public Processor getProcessor() {\r\n        return processor;\r\n    }\r\n}\r\n```\r\n\r\n\r\n### 6. Accessing the result:\r\n\r\n\r\n```java\r\nString resultA = routeBuilder.getProcessor().getIn().getClassName();\r\n// The value of result will be &quot;Class A&quot;\r\nString resultB = anotherRouteBuilder.getProcessor().getIn().getClassName();\r\n// The value of result will be &quot;Class B&quot;\r\n```\r\n\r\n\r\n---\r\n\r\nFeel free to ask if you have any further questions!","title":"Simple Spring constructor injection using autowiring","body":"<p>The provided code defines a simple Spring application with a configuration class, interface, and several classes that implement the interface. The classes are then injected into Spring components using annotations.</p>\n<h3>1. Interface <code>In</code>:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public interface In {\n    String getClassName();\n}\n</code></pre>\n<p>This interface declares a method <code>getClassName()</code>.</p>\n<h3>2. Implementing Classes:</h3>\n<h4>a. ClassA:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassA implements In {\n    @Override\n    public String getClassName() {\n        return &quot;Class A&quot;;\n    }\n}\n</code></pre>\n<h4>b. ClassB:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassB implements In {\n    @Override\n    public String getClassName() {\n        return &quot;Class B&quot;;\n    }\n}\n</code></pre>\n<p>Both <code>ClassA</code> and <code>ClassB</code> implement the <code>In</code> interface and provide their own implementation of the <code>getClassName()</code> method.</p>\n<h3>3. Configuration Class <code>Config</code>:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n\n    @Bean\n    public In classA() {\n        return new ClassA();\n    }\n\n    @Bean In classB() {\n        return new ClassB();\n    }\n}\n</code></pre>\n<p>This configuration class defines beans named <code>classA</code> and <code>classB</code>. These beans will be injected into other components.</p>\n<h3>4. Processor:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Processor {\n\n    public In getIn();\n}\n</code></pre>\n<h4>a. ProcessorClassA:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ProcessorClassA implements Processor {\n    private final In in;\n\n    public ProcessorClassA(@Qualifier(&quot;classA&quot;) In in) {\n        this.in = in;\n    }\n\n    public In getIn() {\n        return in;\n    }\n}\n</code></pre>\n<h4>b. ProcessorClassB:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ProcessorClassB implements Processor{\n    private final In in;\n\n    public ProcessorClassB(@Qualifier(&quot;classB&quot;) In in) {\n        this.in = in;\n    }\n\n    public In getIn() {\n        return in;\n    }\n}\n</code></pre>\n<h3>5. RouteBuilder Class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RouteBuilder {\n\n    private final Processor processor;\n\n    public RouteBuilder(@Qualifier(&quot;processorClassA&quot;) Processor processor) {\n        this.processor = processor;\n    }\n\n    public Processor getProcessor() {\n        return processor;\n    }\n}\n</code></pre>\n<h3>6. AnotherRouteBuilder Class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AnotherRouteBuilder {\n\n    private final Processor processor;\n\n    public AnotherRouteBuilder(@Qualifier(&quot;processorClassB&quot;) Processor processor) {\n        this.processor = processor;\n    }\n\n    public Processor getProcessor() {\n        return processor;\n    }\n}\n</code></pre>\n<h3>6. Accessing the result:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String resultA = routeBuilder.getProcessor().getIn().getClassName();\n// The value of result will be &quot;Class A&quot;\nString resultB = anotherRouteBuilder.getProcessor().getIn().getClassName();\n// The value of result will be &quot;Class B&quot;\n</code></pre>\n<hr />\n<p>Feel free to ask if you have any further questions!</p>\n"}],"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77629161,"answer_count":1,"score":0,"last_activity_date":1702235529,"creation_date":1702067737,"question_id":77629050,"body_markdown":"I have a simple constructor injection example which I cannot get to work:\r\n\r\n```\r\n@Component\r\npublic class ScienceFilenameMetadataProcessor extends ScienceBasicFileProcessor implements Processor {\r\n\r\n\r\n    private final FilenameParser parser;\r\n\r\n    @Autowired\r\n    public ScienceFilenameMetadataProcessor(FilenameParser parser) {\r\n        this.parser = parser;\r\n    }\r\n}\r\n```\r\n\r\nThe `FilenameParser` is an interface and contains several implementations. Identified using the @Qualifier.\r\n\r\nI want to use this component from another class:\r\n\r\n```\r\n@Autowired\r\npublic SoarScienceCdfFileRouteBuilder(@Qualifier(&quot;cdfFileNameParser&quot;) FilenameParser filenameParser) {\r\n    this.scienceFilenameMetadataProcessor = new ScienceFilenameMetadataProcessor(filenameParser);\r\n}\r\n```\r\n\r\nI want to pass in the filenameParser to the constructor. But of course I want to avoid the new keyword otherwise spring is not going to initialize my class properly. However I want to avoid hardcoding the filenameParser implementation in the `ScienceFilenameMetadataProcessor` class.\r\n\r\nHow is this possible. \r\n\r\nThanks","title":"Simple Spring constructor injection using autowiring","body":"<p>I have a simple constructor injection example which I cannot get to work:</p>\n<pre><code>@Component\npublic class ScienceFilenameMetadataProcessor extends ScienceBasicFileProcessor implements Processor {\n\n\n    private final FilenameParser parser;\n\n    @Autowired\n    public ScienceFilenameMetadataProcessor(FilenameParser parser) {\n        this.parser = parser;\n    }\n}\n</code></pre>\n<p>The <code>FilenameParser</code> is an interface and contains several implementations. Identified using the @Qualifier.</p>\n<p>I want to use this component from another class:</p>\n<pre><code>@Autowired\npublic SoarScienceCdfFileRouteBuilder(@Qualifier(&quot;cdfFileNameParser&quot;) FilenameParser filenameParser) {\n    this.scienceFilenameMetadataProcessor = new ScienceFilenameMetadataProcessor(filenameParser);\n}\n</code></pre>\n<p>I want to pass in the filenameParser to the constructor. But of course I want to avoid the new keyword otherwise spring is not going to initialize my class properly. However I want to avoid hardcoding the filenameParser implementation in the <code>ScienceFilenameMetadataProcessor</code> class.</p>\n<p>How is this possible.</p>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","deeplearning4j","nd4j"],"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702233554,"creation_date":1702228067,"question_id":77635666,"body_markdown":"I&#39;m encountering performance issues when running Deeplearning4j in a multi-threaded environment. My system slows down or gets stuck while trying inferences (fit instead works, i do fit on the main model and output on the copied models), despite creating separate model instances for each thread.\r\n\r\n**Expected Behavior:**\r\nI expect the model to perform inference efficiently in a multi-threaded context.\r\n\r\n**Actual Behavior:**\r\nAfter several inference operations, the system dramatically slows down or gets stuck.\r\n\r\n**Setup:**\r\nI&#39;m using Deeplearning4j version M2 on a Mac system with an i5 3.3GHz processor and 16 GB RAM. ND4J version is M2.1\r\n\r\n**Current Approach:**\r\nI create a new `ComputationGraph` instance for each thread before performing inference. Here&#39;s a snippet of my code for cloning the model:\r\n\r\n```java\r\n// Existing model\r\nComputationGraph model = ...;\r\n\r\n// Cloning for each thread\r\nComputationGraph clone = model.clone();\r\n\r\n// Example inference code in each thread\r\nINDArray input = ...; // your input data\r\nINDArray output = clone.output(input);\r\n```\r\ncurrent model:\r\n```java\r\nMap&lt;Integer, Double&gt; learningRateSchedule = new HashMap&lt;&gt;();\r\n                learningRateSchedule.put(0, 2e-5);\r\n                learningRateSchedule.put(833, 2e-6);\r\n                learningRateSchedule.put(1666, 2e-7);\r\n                ISchedule schedule = new MapSchedule(ScheduleType.ITERATION, learningRateSchedule);\r\nComputationGraphConfiguration.GraphBuilder graphBuilder = new NeuralNetConfiguration.Builder()\r\n                        .seed(System.currentTimeMillis())\r\n                        .weightInit(WeightInit.RELU)\r\n                        .l2(1e-4)\r\n                        .updater(new Adam(schedule))\r\n                        .graphBuilder()\r\n                        .addInputs(&quot;input&quot;)\r\n                        .setInputTypes(InputType.convolutional(M+2, N, 1));\r\n\r\n                String lastLayer = &quot;input&quot;;\r\n                for (int i = 0; i &lt; nndepth; i++) {\r\n                    graphBuilder.addLayer(&quot;torso_&quot; + i + &quot;_conv&quot;, new ConvolutionLayer.Builder()\r\n                            .kernelSize(3,3)\r\n                            .stride(1,1)\r\n                            .nIn(i == 0 ? 1 : numHiddenNodes)\r\n                            .nOut(numHiddenNodes)\r\n                            .padding((3-1)/2, (3-1)/2)//padding per un kernel di 3x3\r\n                            .activation(Activation.RELU)\r\n                            .build(), lastLayer);\r\n                    lastLayer = &quot;torso_&quot; + i + &quot;_conv&quot;;\r\n                }\r\n                graphBuilder.addLayer(&quot;policy_conv&quot;,\r\n                        new ConvolutionLayer.Builder()\r\n                                .nIn(numHiddenNodes)\r\n                                .nOut(numHiddenNodes)\r\n                                .kernelSize(3,3)\r\n                                .padding((3-1)/2, (3-1)/2)//padding per un kernel di 3x3\r\n                                .stride(1,1)\r\n                                .activation(Activation.RELU)\r\n                                .build(),\r\n                        lastLayer);\r\n                graphBuilder.addLayer(&quot;policy_output&quot;,\r\n                        new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\r\n                                .nIn(numHiddenNodes)\r\n                                .nOut(numOutputs)\r\n                                .activation(Activation.SOFTMAX)\r\n                                .build(),\r\n                        &quot;policy_conv&quot;);\r\n\r\n                graphBuilder.addLayer(&quot;value_conv&quot;,\r\n                        new ConvolutionLayer.Builder()\r\n                                .nIn(numHiddenNodes)\r\n                                .nOut(numHiddenNodes)\r\n                                .kernelSize(3,3)\r\n                                .padding((3-1)/2, (3-1)/2)//padding per un kernel di 3x3\r\n                                .stride(1,1)\r\n                                .activation(Activation.RELU)\r\n                                .build(),\r\n                        lastLayer);\r\n                graphBuilder.addLayer(&quot;value_output&quot;,\r\n                        new OutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                                .nIn(numHiddenNodes)\r\n                                .nOut(1)\r\n                                .activation(Activation.IDENTITY)\r\n                                .build(),\r\n                        &quot;value_conv&quot;);\r\n\r\n                graphBuilder.setOutputs(&quot;policy_output&quot;, &quot;value_output&quot;);\r\n\r\n                ComputationGraphConfiguration conf = graphBuilder.build();\r\n                model = new ComputationGraph(conf);\r\n```\r\ni have also tried to experiment with different VM option, last ones i tried are:\r\n-Dlog4j.debug=true\r\n-Dlog4j.configuration=file:&quot;path/log4j.properties&quot;\r\n-Xms16G\r\n-Xmx16g\r\nI monitored CPU and memory usage, but the problem persists.\r\n- Are there specific Deeplearning4j or ND4J configurations that can help in this multi-threaded setup?\r\n- Could there be any underlying issues with my model configuration leading to these performance bottlenecks?\r\n- Any JVM settings or system-level adjustments recommended for such Deeplearning4j workloads?\r\n\r\nAny suggestions on how to improve performance or resolve the freezing issue would be greatly appreciated. Thank you!\r\n\r\n**UPDATE**\r\nthe problem doesn&#39;t happen if i remove padding or if i remove multithreading, that means that if only one of these (or both obv) is satisfied it runs","title":"Deeplearning4j: System Freezes During Multi-threaded Inference despite Separate Model Instances","body":"<p>I'm encountering performance issues when running Deeplearning4j in a multi-threaded environment. My system slows down or gets stuck while trying inferences (fit instead works, i do fit on the main model and output on the copied models), despite creating separate model instances for each thread.</p>\n<p><strong>Expected Behavior:</strong>\nI expect the model to perform inference efficiently in a multi-threaded context.</p>\n<p><strong>Actual Behavior:</strong>\nAfter several inference operations, the system dramatically slows down or gets stuck.</p>\n<p><strong>Setup:</strong>\nI'm using Deeplearning4j version M2 on a Mac system with an i5 3.3GHz processor and 16 GB RAM. ND4J version is M2.1</p>\n<p><strong>Current Approach:</strong>\nI create a new <code>ComputationGraph</code> instance for each thread before performing inference. Here's a snippet of my code for cloning the model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Existing model\nComputationGraph model = ...;\n\n// Cloning for each thread\nComputationGraph clone = model.clone();\n\n// Example inference code in each thread\nINDArray input = ...; // your input data\nINDArray output = clone.output(input);\n</code></pre>\n<p>current model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Double&gt; learningRateSchedule = new HashMap&lt;&gt;();\n                learningRateSchedule.put(0, 2e-5);\n                learningRateSchedule.put(833, 2e-6);\n                learningRateSchedule.put(1666, 2e-7);\n                ISchedule schedule = new MapSchedule(ScheduleType.ITERATION, learningRateSchedule);\nComputationGraphConfiguration.GraphBuilder graphBuilder = new NeuralNetConfiguration.Builder()\n                        .seed(System.currentTimeMillis())\n                        .weightInit(WeightInit.RELU)\n                        .l2(1e-4)\n                        .updater(new Adam(schedule))\n                        .graphBuilder()\n                        .addInputs(&quot;input&quot;)\n                        .setInputTypes(InputType.convolutional(M+2, N, 1));\n\n                String lastLayer = &quot;input&quot;;\n                for (int i = 0; i &lt; nndepth; i++) {\n                    graphBuilder.addLayer(&quot;torso_&quot; + i + &quot;_conv&quot;, new ConvolutionLayer.Builder()\n                            .kernelSize(3,3)\n                            .stride(1,1)\n                            .nIn(i == 0 ? 1 : numHiddenNodes)\n                            .nOut(numHiddenNodes)\n                            .padding((3-1)/2, (3-1)/2)//padding per un kernel di 3x3\n                            .activation(Activation.RELU)\n                            .build(), lastLayer);\n                    lastLayer = &quot;torso_&quot; + i + &quot;_conv&quot;;\n                }\n                graphBuilder.addLayer(&quot;policy_conv&quot;,\n                        new ConvolutionLayer.Builder()\n                                .nIn(numHiddenNodes)\n                                .nOut(numHiddenNodes)\n                                .kernelSize(3,3)\n                                .padding((3-1)/2, (3-1)/2)//padding per un kernel di 3x3\n                                .stride(1,1)\n                                .activation(Activation.RELU)\n                                .build(),\n                        lastLayer);\n                graphBuilder.addLayer(&quot;policy_output&quot;,\n                        new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\n                                .nIn(numHiddenNodes)\n                                .nOut(numOutputs)\n                                .activation(Activation.SOFTMAX)\n                                .build(),\n                        &quot;policy_conv&quot;);\n\n                graphBuilder.addLayer(&quot;value_conv&quot;,\n                        new ConvolutionLayer.Builder()\n                                .nIn(numHiddenNodes)\n                                .nOut(numHiddenNodes)\n                                .kernelSize(3,3)\n                                .padding((3-1)/2, (3-1)/2)//padding per un kernel di 3x3\n                                .stride(1,1)\n                                .activation(Activation.RELU)\n                                .build(),\n                        lastLayer);\n                graphBuilder.addLayer(&quot;value_output&quot;,\n                        new OutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                                .nIn(numHiddenNodes)\n                                .nOut(1)\n                                .activation(Activation.IDENTITY)\n                                .build(),\n                        &quot;value_conv&quot;);\n\n                graphBuilder.setOutputs(&quot;policy_output&quot;, &quot;value_output&quot;);\n\n                ComputationGraphConfiguration conf = graphBuilder.build();\n                model = new ComputationGraph(conf);\n</code></pre>\n<p>i have also tried to experiment with different VM option, last ones i tried are:\n-Dlog4j.debug=true\n-Dlog4j.configuration=file:&quot;path/log4j.properties&quot;\n-Xms16G\n-Xmx16g\nI monitored CPU and memory usage, but the problem persists.</p>\n<ul>\n<li>Are there specific Deeplearning4j or ND4J configurations that can help in this multi-threaded setup?</li>\n<li>Could there be any underlying issues with my model configuration leading to these performance bottlenecks?</li>\n<li>Any JVM settings or system-level adjustments recommended for such Deeplearning4j workloads?</li>\n</ul>\n<p>Any suggestions on how to improve performance or resolve the freezing issue would be greatly appreciated. Thank you!</p>\n<p><strong>UPDATE</strong>\nthe problem doesn't happen if i remove padding or if i remove multithreading, that means that if only one of these (or both obv) is satisfied it runs</p>\n"},{"tags":["java","maven","apache-spark","spark-excel"],"owner":{"account_id":13526561,"reputation":1,"user_id":9758220,"display_name":"Arman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702233116,"creation_date":1702148418,"question_id":77632519,"body_markdown":"I&#39;m trying to submit a java spark program with the package `crealytics.spark-excel`.\r\n\r\nThe java file looks like this:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\nimport com.crealytics.spark.excel.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SparkSession spark = SparkSession.builder()\r\n                .appName(&quot;Spark_Excel&quot;)\r\n                .master(&quot;local&quot;)\r\n                .getOrCreate();\r\n        String filePath = &quot;/home/arman/Desktop/resources/example_XLSX_5000.xlsx&quot;;\r\n        Dataset&lt;Row&gt; dataset = spark.read().format(&quot;com.crealytics.spark.excel&quot;)\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .load(filePath);\r\n        dataset.show();\r\n\r\n        dataset.write()\r\n                .format(&quot;excel&quot;) // Or .format(&quot;excel&quot;) for V2 implementation\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .partitionBy(&quot;Country&quot;)\r\n                .save(&quot;/home/arman/Desktop/output/partitioned&quot;);\r\n\r\n        spark.stop();\r\n    }\r\n}\r\n```\r\n\r\nThe pom.xml looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-excel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;name&gt;spark-excel&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Apache Spark Core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Apache Spark SQL --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spark Excel Library --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.crealytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-excel_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1_0.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nIt&#39;s working correctly, if I run the java class from intellij idea\r\nbut using `spark-submit --class org.example.Main spark-excel-1.0-SNAPSHOT.jar` I become the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.SparkClassNotFoundException: [DATA_SOURCE_NOT_FOUND] Failed to find the data source: com.crealytics.spark.excel. Please find packages at `https://spark.apache.org/third-party-projects.html`.\r\n```\r\n\r\n\r\nI have tried with both formats &quot;com.crealytics.spark.excel&quot; and &quot;excel&quot;\r\nand tried with different versions of the dependencies","title":"DATA_SOURCE_NOT_FOUND Failed to find the data source: com.crealytics.spark.excel","body":"<p>I'm trying to submit a java spark program with the package <code>crealytics.spark-excel</code>.</p>\n<p>The java file looks like this:</p>\n<pre><code>package org.example;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\nimport com.crealytics.spark.excel.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;Spark_Excel&quot;)\n                .master(&quot;local&quot;)\n                .getOrCreate();\n        String filePath = &quot;/home/arman/Desktop/resources/example_XLSX_5000.xlsx&quot;;\n        Dataset&lt;Row&gt; dataset = spark.read().format(&quot;com.crealytics.spark.excel&quot;)\n                .option(&quot;header&quot;, &quot;true&quot;)\n                .load(filePath);\n        dataset.show();\n\n        dataset.write()\n                .format(&quot;excel&quot;) // Or .format(&quot;excel&quot;) for V2 implementation\n                .option(&quot;header&quot;, &quot;true&quot;)\n                .partitionBy(&quot;Country&quot;)\n                .save(&quot;/home/arman/Desktop/output/partitioned&quot;);\n\n        spark.stop();\n    }\n}\n</code></pre>\n<p>The pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-excel&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;name&gt;spark-excel&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Apache Spark Core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Spark SQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spark Excel Library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.crealytics&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-excel_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1_0.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>It's working correctly, if I run the java class from intellij idea\nbut using <code>spark-submit --class org.example.Main spark-excel-1.0-SNAPSHOT.jar</code> I become the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.SparkClassNotFoundException: [DATA_SOURCE_NOT_FOUND] Failed to find the data source: com.crealytics.spark.excel. Please find packages at `https://spark.apache.org/third-party-projects.html`.\n</code></pre>\n<p>I have tried with both formats &quot;com.crealytics.spark.excel&quot; and &quot;excel&quot;\nand tried with different versions of the dependencies</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702231723,"post_id":77635864,"comment_id":136868473,"body_markdown":"code is trying to read `D:\\CV` and to write to `D:\\CV\\Test`  - if `CV` is a file, then writing a file inside another file? Otherwise, if `CV` is a directory, then reading a directory?","body":"code is trying to read <code>D:\\CV</code> and to write to <code>D:\\CV\\Test</code>  - if <code>CV</code> is a file, then writing a file inside another file? Otherwise, if <code>CV</code> is a directory, then reading a directory?"},{"owner":{"account_id":30112920,"reputation":1,"user_id":23076971,"display_name":"Dejan Jankovic"},"score":0,"creation_date":1702232213,"post_id":77635864,"comment_id":136868518,"body_markdown":"Thank you very much for your help. I get it now","body":"Thank you very much for your help. I get it now"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1702232410,"post_id":77635864,"comment_id":136868545,"body_markdown":"By the way, `Files.copy(aFile.toPath(), bFile.toPath())` will do the same thing.  No need to write your own loop.","body":"By the way, <code>Files.copy(aFile.toPath(), bFile.toPath())</code> will do the same thing.  No need to write your own loop."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1702232686,"post_id":77635864,"comment_id":136868566,"body_markdown":"Also, review the [ask] and [tour] links to see how to improve future questions, how to add more detail and less distracting &quot;fluff&quot; to the question. We don&#39;t need to know how you&#39;ve struggled, that you&#39;ve not been able to find,..., that you need a little help. Instead, state the facts and the details, information that helps clarify the problem itself, nothing more and nothing less. Also, show that you&#39;ve researched the error message, what you&#39;ve found, how it doesn&#39;t specifically help you.","body":"Also, review the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links to see how to improve future questions, how to add more detail and less distracting &quot;fluff&quot; to the question. We don&#39;t need to know how you&#39;ve struggled, that you&#39;ve not been able to find,..., that you need a little help. Instead, state the facts and the details, information that helps clarify the problem itself, nothing more and nothing less. Also, show that you&#39;ve researched the error message, what you&#39;ve found, how it doesn&#39;t specifically help you."}],"owner":{"account_id":30112920,"reputation":1,"user_id":23076971,"display_name":"Dejan Jankovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702231611,"answer_count":0,"score":-1,"last_activity_date":1702232934,"creation_date":1702231423,"question_id":77635864,"body_markdown":"I can&#39;t copy the file using the streams?  \r\nI want you to help me with the code and point out the error.non stop getting error d:\\cv(access denied).I don&#39;t know where the problem is?I&#39;ve been trying to find an error in the code, but it doesn&#39;t work. I&#39;m a beginner in programming and that&#39;s why I need a little help.\r\n```\r\nFile aFile = new File(&quot;D:\\\\CV&quot;);\r\nFile bFile = new File(&quot;D:\\\\CV\\\\Test&quot;);\r\n\r\ntry ( \r\n\tFileInputStream fileInputStream = new FileInputStream(aFile);\r\n\tFileOutputStream fileOutputStream = new FileOutputStream(bFile)) {\r\n\tbyte[] buffer = new byte[1024];\r\n\tint length;\r\n\twhile ((length = fileInputStream.read(buffer)) &gt; 0){\r\n\t\tfileOutputStream.write(buffer,0,length);\r\n\t}\r\n\tSystem.out.println(&quot;File is copied successfully&quot;);\r\n} catch (FileNotFoundException e) {\r\n\te.getMessage();\r\n}\r\n```","title":"my code is not working and i don&#39;t no why?","body":"<p>I can't copy the file using the streams?<br />\nI want you to help me with the code and point out the error.non stop getting error d:\\cv(access denied).I don't know where the problem is?I've been trying to find an error in the code, but it doesn't work. I'm a beginner in programming and that's why I need a little help.</p>\n<pre><code>File aFile = new File(&quot;D:\\\\CV&quot;);\nFile bFile = new File(&quot;D:\\\\CV\\\\Test&quot;);\n\ntry ( \n    FileInputStream fileInputStream = new FileInputStream(aFile);\n    FileOutputStream fileOutputStream = new FileOutputStream(bFile)) {\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = fileInputStream.read(buffer)) &gt; 0){\n        fileOutputStream.write(buffer,0,length);\n    }\n    System.out.println(&quot;File is copied successfully&quot;);\n} catch (FileNotFoundException e) {\n    e.getMessage();\n}\n</code></pre>\n"},{"tags":["java","graph","dijkstra"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702226746,"post_id":77635431,"comment_id":136867914,"body_markdown":"&quot;*I am sure that my file reading is working correctly because it worked for breadth-first search.*&quot; - does the breadth-first search use the `neighbors` of `Vertex`? The `dijkstra()` method is using these, but posted code is not setting any neighbor, or did I miss it? (BTW the reading is also a bit strange: 1) if `graph` is null, it is created but not populated; 2) calling `addVertex()` and later `setNodes()` - double work here)","body":"&quot;<i>I am sure that my file reading is working correctly because it worked for breadth-first search.</i>&quot; - does the breadth-first search use the <code>neighbors</code> of <code>Vertex</code>? The <code>dijkstra()</code> method is using these, but posted code is not setting any neighbor, or did I miss it? (BTW the reading is also a bit strange: 1) if <code>graph</code> is null, it is created but not populated; 2) calling <code>addVertex()</code> and later <code>setNodes()</code> - double work here)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702226924,"post_id":77635431,"comment_id":136867930,"body_markdown":"in other words, if using the `neighbors` arrays to find the path, these arrays must be filled - Hints: 1) start with simple test data&#185; (e.g. two nodes with one path); 2) output the read  data; 3) use a debugger!  || **&#185;** posted test data is strange - connection between all nodes, even each node is connected to itself with some weight","body":"in other words, if using the <code>neighbors</code> arrays to find the path, these arrays must be filled - Hints: 1) start with simple test data&#185; (e.g. two nodes with one path); 2) output the read  data; 3) use a debugger!  || <b>&#185;</b> posted test data is strange - connection between all nodes, even each node is connected to itself with some weight"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702232245,"creation_date":1702232245,"answer_id":77635911,"question_id":77635431,"body_markdown":"There are two issues:\r\n\r\n1. Your `dijkstra` function looks for neighbors with:\r\n\r\n    ```\r\n         for (Edge neighbor : currentVertex.getNeighbors())\r\n    ```\r\n    \r\n    ...but `getNeighbors()` always returns an empty list. This is because there is no code that populates it.\r\n    \r\n    To fix this, add the following method to the `Vertex` class:\r\n    \r\n    ```\r\n        public void addEdge(Edge edge) {\r\n            this.neighbors.add(edge); \r\n        }\r\n    ```\r\n    \r\n    Next, call it from the `addEdge` method of `Graph`:\r\n    \r\n    ```\r\n        public void addEdge(Vertex start, Vertex end, int weight) {\r\n            Edge edge = new Edge(start, end, weight);\r\n            edges.add(edge);  \r\n            start.addEdge(edge);   // &lt;--- calling the newly added method\r\n        }\r\n    ```\r\n\r\n2. In `GraphUtility`, the `readFile` function calls `populateVertices` repeatedly, where each call detaches the previously created vertices from `graph.nodes`, and creates a new set of vertices with the same ids. This is wrong, because it creates many vertices with the same IDs (and labels), using them to create edges, but only the last batch is retained in `graph.nodes`, while `graph.edges` has references to nodes that are not in `graph.nodes`. \r\n\r\n    To correct this, make sure to only call `populateVertices` once, at a moment you don&#39;t have registered any yet.\r\n\r\n    So change this:\r\n\r\n    ```\r\n                populateVertices(tokens.length);\r\n    ```\r\n\r\n    to:\r\n\r\n    ```\r\n                if (graph.getCount() == 0) {\r\n                    populateVertices(tokens.length);\r\n                }\r\n    ```\r\n\r\nWith these two fixes it should work.","title":"Dijkstra Search Algorithm Implementation","body":"<p>There are two issues:</p>\n<ol>\n<li><p>Your <code>dijkstra</code> function looks for neighbors with:</p>\n<pre><code>     for (Edge neighbor : currentVertex.getNeighbors())\n</code></pre>\n<p>...but <code>getNeighbors()</code> always returns an empty list. This is because there is no code that populates it.</p>\n<p>To fix this, add the following method to the <code>Vertex</code> class:</p>\n<pre><code>    public void addEdge(Edge edge) {\n        this.neighbors.add(edge); \n    }\n</code></pre>\n<p>Next, call it from the <code>addEdge</code> method of <code>Graph</code>:</p>\n<pre><code>    public void addEdge(Vertex start, Vertex end, int weight) {\n        Edge edge = new Edge(start, end, weight);\n        edges.add(edge);  \n        start.addEdge(edge);   // &lt;--- calling the newly added method\n    }\n</code></pre>\n</li>\n<li><p>In <code>GraphUtility</code>, the <code>readFile</code> function calls <code>populateVertices</code> repeatedly, where each call detaches the previously created vertices from <code>graph.nodes</code>, and creates a new set of vertices with the same ids. This is wrong, because it creates many vertices with the same IDs (and labels), using them to create edges, but only the last batch is retained in <code>graph.nodes</code>, while <code>graph.edges</code> has references to nodes that are not in <code>graph.nodes</code>.</p>\n<p>To correct this, make sure to only call <code>populateVertices</code> once, at a moment you don't have registered any yet.</p>\n<p>So change this:</p>\n<pre><code>            populateVertices(tokens.length);\n</code></pre>\n<p>to:</p>\n<pre><code>            if (graph.getCount() == 0) {\n                populateVertices(tokens.length);\n            }\n</code></pre>\n</li>\n</ol>\n<p>With these two fixes it should work.</p>\n"}],"owner":{"account_id":19386421,"reputation":37,"user_id":14176037,"display_name":"Rithik Tank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77635911,"answer_count":1,"score":1,"last_activity_date":1702232245,"creation_date":1702223762,"question_id":77635431,"body_markdown":"\r\nSo I have this class GraphUtility which handles all my inputs for a graph system I am creating. My issue here is that the dijkstra method is not working how I want it to work. I am sure that my file reading is working correctly because it worked for breadth-first search. \r\n\r\n```\r\n/**\r\n * GraphUtility class\r\n */\r\npublic class GraphUtility {\r\n\r\n    // Class variable\r\n    private Graph graph;\r\n\r\n    /**\r\n     * Default constructor for class\r\n     */\r\n    public GraphUtility() {\r\n        graph = null;\r\n    }\r\n\r\n    /**\r\n     * Getter for graph\r\n     * @return graph\r\n     */\r\n    public Graph getGraph() {\r\n        return graph;\r\n    }\r\n\r\n    /**\r\n     * Setter for graph\r\n     * @param graph\r\n     */\r\n    public void setGraph(Graph graph) {\r\n        this.graph = graph;\r\n    }\r\n\r\n    /**\r\n     * TODO: Documentation\r\n     * @param file given file path\r\n     * @throws Exception if error or exception occurs\r\n     */\r\n    public void readFile(File file) throws Exception {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n            graph = new Graph();\r\n            String line;\r\n            int y = 0;\r\n\r\n            while ((line = br.readLine()) != null) {\r\n                String[] tokens = line.split(&quot;,&quot;);\r\n                populateVertices(tokens.length);\r\n\r\n                for (int x = 0; x &lt; tokens.length; x++) {\r\n                    int weight = Integer.parseInt(tokens[x].trim());\r\n                    if (weight != 0) {\r\n                        Vertex sourceVertex = graph.getNodes().get(y);\r\n                        Vertex destinationVertex = graph.getNodes().get(x);\r\n                        graph.addEdge(sourceVertex, destinationVertex, weight);\r\n                    }\r\n                }\r\n                y++;\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new Exception(&quot;Error reading the file.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    private void populateVertices(int verticesCount) {\r\n        if (graph != null) {\r\n            List&lt;Vertex&gt; vertices = new ArrayList&lt;&gt;();\r\n            String labels = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            char symbol;\r\n\r\n            for (int i = 0; i &lt; verticesCount; i++) {\r\n                symbol = labels.charAt(i);\r\n                Vertex vertex = new Vertex(String.valueOf(symbol));\r\n                vertex.setId(i);  // Assign unique ID to each vertex\r\n                vertices.add(vertex);\r\n                graph.addVertex(vertex);\r\n            }\r\n            graph.setNodes(vertices);\r\n        } else {\r\n            graph = new Graph();\r\n        }\r\n    }\r\n\r\n    public static double[] dijkstra(Graph graph, Vertex source) {\r\n        double[] distance = new double[graph.getNodes().size()];\r\n        boolean[] visited = new boolean[graph.getNodes().size()];\r\n\r\n        // Initialize distances\r\n        Arrays.fill(distance, Integer.MAX_VALUE);\r\n        distance[source.getId()] = 0;\r\n\r\n        // Use PriorityQueue to efficiently get the minimum distance vertex\r\n        PriorityQueue&lt;VertexDistancePair&gt; pq = new PriorityQueue&lt;&gt;();\r\n        pq.add(new VertexDistancePair(source, 0));\r\n\r\n        while (!pq.isEmpty()) {\r\n            VertexDistancePair currentPair = pq.poll();\r\n            Vertex currentVertex = currentPair.getVertex();\r\n\r\n            if (!visited[currentVertex.getId()]) {\r\n                visited[currentVertex.getId()] = true;\r\n\r\n                for (Edge neighbor : currentVertex.getNeighbors()) {\r\n                    int neighborIndex = neighbor.getEnd().getId();\r\n\r\n                    if (!visited[neighborIndex]) {\r\n                        double newDist = distance[currentVertex.getId()] + neighbor.getWeight();\r\n                        if (newDist &lt; distance[neighborIndex]) {\r\n                            distance[neighborIndex] = newDist;\r\n                            pq.add(new VertexDistancePair(neighbor.getEnd(), (int) newDist));\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Add this inside your dijkstra method before the return statement\r\n        System.out.println(&quot;Debug Output:&quot;);\r\n        System.out.println(&quot;Vertex IDs: &quot; + Arrays.toString(graph.getNodes().stream().map(Vertex::getId).toArray()));\r\n        System.out.println(&quot;Edge Weights: &quot; + graph.getEdges().stream().map(Edge::getWeight).collect(Collectors.toList()));\r\n        System.out.println(&quot;Distances: &quot; + Arrays.toString(distance));\r\n\r\n\r\n        return distance;\r\n    }\r\n\r\n}\r\n\r\nclass VertexDistancePair implements Comparable&lt;VertexDistancePair&gt; {\r\n    private Vertex vertex;\r\n    private int distance;\r\n\r\n    public VertexDistancePair(Vertex vertex, int distance) {\r\n        this.vertex = vertex;\r\n        this.distance = distance;\r\n    }\r\n\r\n    public Vertex getVertex() {\r\n        return vertex;\r\n    }\r\n\r\n    public int getDistance() {\r\n        return distance;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(VertexDistancePair other) {\r\n        return Double.compare(this.distance, other.distance);\r\n    }\r\n}\r\n```\r\nThis is my vertex class\r\n\r\n```\r\npublic class Vertex{\r\n    //Class variables\r\n    private String label;\r\n    private List&lt;Edge&gt; neighbors;\r\n    private int id;\r\n\r\n\r\n    public Vertex() {\r\n        label = &quot;&quot;;\r\n        neighbors = null;\r\n    }\r\n\r\n    public Vertex(String label) {\r\n        this.label = label;\r\n        this.neighbors = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public Vertex(String label, List&lt;Edge&gt; neighbors) {\r\n        this.label = label;\r\n        this.neighbors = neighbors;\r\n    }\r\n\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n \r\n    public void setNeighbors(List&lt;Edge&gt; neighbors) {\r\n        this.neighbors = neighbors;\r\n    }\r\n\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public List&lt;Edge&gt; getNeighbors() {\r\n        return neighbors;\r\n    }\r\n    public String toString() {\r\n        return label;\r\n    }\r\n\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null || getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        Vertex otherVertex = (Vertex) obj;\r\n        return label.equals(otherVertex.label);\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nThis is my edge class\r\n\r\n```\r\npublic class Edge {\r\n\r\n    // Class Variables\r\n    private Vertex start;\r\n    private  Vertex end;\r\n    private int weight;\r\n    private int id;\r\n\r\n    /**\r\n     * Default Constructor\r\n     */\r\n    public Edge() {\r\n        start = null;\r\n        end = null;\r\n        weight = 0;\r\n        id = 0;\r\n    }\r\n\r\n    /**\r\n     * Constructor for edge without weight\r\n     * @param start : vertex\r\n     * @param end : vertex\r\n     */\r\n    public Edge(Vertex start, Vertex end) {\r\n        this.start = start;\r\n        this.end = end;\r\n        this.weight = 0;\r\n        id = 0;\r\n    }\r\n\r\n    /**\r\n     * Constructor for edge with weight\r\n     * @param start\r\n     * @param end\r\n     * @param weight\r\n     */\r\n    public Edge(Vertex start, Vertex end, int weight) {\r\n        this.start = start;\r\n        this.end = end;\r\n        this.weight = weight;\r\n    }\r\n\r\n    /**\r\n     * Setter for start vertex\r\n     * @param start : Vertex\r\n     */\r\n    public void setStart(Vertex start) {\r\n        this.start = start;\r\n    }\r\n\r\n    /**\r\n     * Setter for end vertex\r\n     * @param end : Vertex\r\n     */\r\n    public void setEnd(Vertex end) {\r\n        this.end = end;\r\n    }\r\n\r\n    /**\r\n     * Setter for weight of edge\r\n     * @param weight : double\r\n     */\r\n    public void setWeight(int weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    /**\r\n     * Setter for ID\r\n     * @param id : id\r\n     */\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    /**\r\n     * Getter for start\r\n     * @return : Vertex\r\n     */\r\n    public Vertex getStart() {\r\n        return start;\r\n    }\r\n\r\n    /**\r\n     * Getter for end\r\n     * @return : Vertex\r\n     */\r\n    public Vertex getEnd() {\r\n        return end;\r\n    }\r\n\r\n    /**\r\n     * Getter for weight\r\n     * @return : weight\r\n     */\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    /**\r\n     * Getter for id\r\n     * @return id\r\n     */\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * toString method\r\n     * @return string representation\r\n     */\r\n    public String toString() {\r\n        return &quot;(&quot; + start + &quot;,&quot; + end + &quot;)&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThis is my graph class\r\n\r\n```\r\npublic class Graph {\r\n\r\n    //Class variables\r\n    private List&lt;Vertex&gt; nodes; // nodes are a list of vertices\r\n    private List&lt;Edge&gt; edges;\r\n    private int count;\r\n\r\n    /**\r\n     * Default Constructor\r\n     */\r\n    public Graph() {\r\n        nodes = new ArrayList&lt;&gt;();\r\n        edges = new ArrayList&lt;&gt;();\r\n        count = 0;\r\n    }\r\n\r\n    /**\r\n     * Constructor\r\n     * @param nodes : List&lt;Vertex\r\n     * @param count : int\r\n     */\r\n    public Graph(List&lt;Vertex&gt; nodes, int count) {\r\n        this.nodes = nodes;\r\n        this.count = count;\r\n    }\r\n\r\n    /**\r\n     * Method to add a vertex\r\n     * @param vertex : Vertex\r\n     */\r\n    public void addVertex(Vertex vertex) {\r\n        if (!nodes.contains(vertex)) {\r\n            this.nodes.add(vertex);\r\n            this.count++;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Method to add edge\r\n     * @param start : Vertex\r\n     * @param end : Vertex\r\n     */\r\n    public void addEdge(Vertex start, Vertex end) {\r\n        edges.add(new Edge(start, end));\r\n    }\r\n\r\n    public void addEdge(Vertex start, Vertex end, int weight) {\r\n        edges.add(new Edge(start, end,weight));\r\n    }\r\n\r\n    /**\r\n     * Setter to set nodes\r\n     * @param nodes : List&lt;Vertex\r\n     */\r\n    public void setNodes(List&lt;Vertex&gt; nodes) {\r\n        this.nodes = nodes;\r\n    }\r\n\r\n    /**\r\n     * Setter to set edges\r\n     * @param edges : List&lt;Edge\r\n     */\r\n    public void setEdges(List&lt;Edge&gt; edges) {\r\n        this.edges = edges;\r\n    }\r\n\r\n    /**\r\n     * Setter to set count\r\n     * @param count\r\n     */\r\n    public void setCount(int count) {\r\n        this.count = count;\r\n    }\r\n\r\n    /**\r\n     * Getter to get nodes\r\n     * @return\r\n     */\r\n    public List&lt;Vertex&gt; getNodes() {\r\n        return nodes;\r\n    }\r\n\r\n    /**\r\n     * Getter to get edges\r\n     */\r\n    public List&lt;Edge&gt; getEdges() {\r\n        return edges;\r\n    }\r\n\r\n    /**\r\n     * Getter for count\r\n     * @return\r\n     */\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * toString method\r\n     * @return string representation\r\n     */\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;V={&quot;);\r\n        for (Vertex vertex : this.nodes) {\r\n            sb.append(vertex + &quot;,&quot;);\r\n        }\r\n        sb.append(&quot;}\\n&quot;);\r\n\r\n        sb.append(&quot;E={&quot;);\r\n        for (Edge edge : this.edges) {\r\n            sb.append(edge + &quot;,&quot;);\r\n        }\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is where I create my GraphUtility class object and where I attempt to call the dijkstra method. \r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        // Instantiate GraphUtility and read graph from file\r\n        GraphUtility graphUtility = new GraphUtility();\r\n        try {\r\n            File file = new File(&quot;graphs/weighted-directed-matrix&quot;);  // Replace with your file path\r\n            graphUtility.readFile(file);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return;\r\n        }\r\n\r\n        // Get the graph from GraphUtility\r\n        Graph graph = graphUtility.getGraph();\r\n\r\n        // Choose a source vertex (you can change this as needed)\r\n        Vertex source = graph.getNodes().get(0);\r\n\r\n        // Dijkstra&#39;s algorithm\r\n        double[] distance = dijkstra(graph, graph.getNodes().get(0));\r\n\r\n        // Printing results\r\n        for (int i = 0; i &lt; graph.getNodes().size(); i++) {\r\n            String vertexLabel = graph.getNodes().get(i).getLabel();\r\n            String distanceString = (distance[i] == Integer.MAX_VALUE) ? &quot;Unreachable&quot; : String.valueOf(distance[i]);\r\n            System.out.println(&quot;Vertex: &quot; + vertexLabel + &quot; &amp; Distance from Source: &quot; + distanceString);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe contents of the file &quot;graphs/weighted-directed-matrix&quot; include this:\r\n\r\n```\r\n2,2,2,4,2 \r\n4,5,1,3,4\r\n1,2,3,3,5\r\n3,5,5,6,5\r\n3,5,3,4,5\r\n```\r\n\r\nthis is my output:\r\n```\r\nDebug Output:\r\nVertex IDs: [0, 1, 2, 3, 4]\r\nEdge Weights: [2.0, 2.0, 2.0, 4.0, 2.0, 4.0, 5.0, 1.0, 3.0, 4.0, 1.0, 2.0, 3.0, 3.0, 5.0, 3.0, 5.0, 5.0, 6.0, 5.0, 3.0, 5.0, 3.0, 4.0, 5.0]\r\nDistances: [0.0, 2.147483647E9, 2.147483647E9, 2.147483647E9, 2.147483647E9]\r\nVertex: A &amp; Distance from Source: 0.0\r\nVertex: B &amp; Distance from Source: Unreachable\r\nVertex: C &amp; Distance from Source: Unreachable\r\nVertex: D &amp; Distance from Source: Unreachable\r\nVertex: E &amp; Distance from Source: Unreachable\r\n```\r\n\r\nI do not understand why my distance from source for B,C,D, and E say unreachable. Furthermore, I was hoping to implement a system where I could pass in an end vertex alongside my start vertex to the dijkstra method and have my code just output the travel path from my start vertex to my end vertex. How do I go about resolving my issue and implementing this functionality. I have been at this for the whole day and I cannot figure out where the issue lies in the code I have presented. I understand that this question was answered using another method in another post, but I would really like to know where I went wrong in my own code.\r\n\r\n","title":"Dijkstra Search Algorithm Implementation","body":"<p>So I have this class GraphUtility which handles all my inputs for a graph system I am creating. My issue here is that the dijkstra method is not working how I want it to work. I am sure that my file reading is working correctly because it worked for breadth-first search.</p>\n<pre><code>/**\n * GraphUtility class\n */\npublic class GraphUtility {\n\n    // Class variable\n    private Graph graph;\n\n    /**\n     * Default constructor for class\n     */\n    public GraphUtility() {\n        graph = null;\n    }\n\n    /**\n     * Getter for graph\n     * @return graph\n     */\n    public Graph getGraph() {\n        return graph;\n    }\n\n    /**\n     * Setter for graph\n     * @param graph\n     */\n    public void setGraph(Graph graph) {\n        this.graph = graph;\n    }\n\n    /**\n     * TODO: Documentation\n     * @param file given file path\n     * @throws Exception if error or exception occurs\n     */\n    public void readFile(File file) throws Exception {\n        try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n            graph = new Graph();\n            String line;\n            int y = 0;\n\n            while ((line = br.readLine()) != null) {\n                String[] tokens = line.split(&quot;,&quot;);\n                populateVertices(tokens.length);\n\n                for (int x = 0; x &lt; tokens.length; x++) {\n                    int weight = Integer.parseInt(tokens[x].trim());\n                    if (weight != 0) {\n                        Vertex sourceVertex = graph.getNodes().get(y);\n                        Vertex destinationVertex = graph.getNodes().get(x);\n                        graph.addEdge(sourceVertex, destinationVertex, weight);\n                    }\n                }\n                y++;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new Exception(&quot;Error reading the file.&quot;);\n        }\n    }\n\n\n    private void populateVertices(int verticesCount) {\n        if (graph != null) {\n            List&lt;Vertex&gt; vertices = new ArrayList&lt;&gt;();\n            String labels = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n            char symbol;\n\n            for (int i = 0; i &lt; verticesCount; i++) {\n                symbol = labels.charAt(i);\n                Vertex vertex = new Vertex(String.valueOf(symbol));\n                vertex.setId(i);  // Assign unique ID to each vertex\n                vertices.add(vertex);\n                graph.addVertex(vertex);\n            }\n            graph.setNodes(vertices);\n        } else {\n            graph = new Graph();\n        }\n    }\n\n    public static double[] dijkstra(Graph graph, Vertex source) {\n        double[] distance = new double[graph.getNodes().size()];\n        boolean[] visited = new boolean[graph.getNodes().size()];\n\n        // Initialize distances\n        Arrays.fill(distance, Integer.MAX_VALUE);\n        distance[source.getId()] = 0;\n\n        // Use PriorityQueue to efficiently get the minimum distance vertex\n        PriorityQueue&lt;VertexDistancePair&gt; pq = new PriorityQueue&lt;&gt;();\n        pq.add(new VertexDistancePair(source, 0));\n\n        while (!pq.isEmpty()) {\n            VertexDistancePair currentPair = pq.poll();\n            Vertex currentVertex = currentPair.getVertex();\n\n            if (!visited[currentVertex.getId()]) {\n                visited[currentVertex.getId()] = true;\n\n                for (Edge neighbor : currentVertex.getNeighbors()) {\n                    int neighborIndex = neighbor.getEnd().getId();\n\n                    if (!visited[neighborIndex]) {\n                        double newDist = distance[currentVertex.getId()] + neighbor.getWeight();\n                        if (newDist &lt; distance[neighborIndex]) {\n                            distance[neighborIndex] = newDist;\n                            pq.add(new VertexDistancePair(neighbor.getEnd(), (int) newDist));\n                        }\n\n                    }\n                }\n            }\n        }\n\n        // Add this inside your dijkstra method before the return statement\n        System.out.println(&quot;Debug Output:&quot;);\n        System.out.println(&quot;Vertex IDs: &quot; + Arrays.toString(graph.getNodes().stream().map(Vertex::getId).toArray()));\n        System.out.println(&quot;Edge Weights: &quot; + graph.getEdges().stream().map(Edge::getWeight).collect(Collectors.toList()));\n        System.out.println(&quot;Distances: &quot; + Arrays.toString(distance));\n\n\n        return distance;\n    }\n\n}\n\nclass VertexDistancePair implements Comparable&lt;VertexDistancePair&gt; {\n    private Vertex vertex;\n    private int distance;\n\n    public VertexDistancePair(Vertex vertex, int distance) {\n        this.vertex = vertex;\n        this.distance = distance;\n    }\n\n    public Vertex getVertex() {\n        return vertex;\n    }\n\n    public int getDistance() {\n        return distance;\n    }\n\n    @Override\n    public int compareTo(VertexDistancePair other) {\n        return Double.compare(this.distance, other.distance);\n    }\n}\n</code></pre>\n<p>This is my vertex class</p>\n<pre><code>public class Vertex{\n    //Class variables\n    private String label;\n    private List&lt;Edge&gt; neighbors;\n    private int id;\n\n\n    public Vertex() {\n        label = &quot;&quot;;\n        neighbors = null;\n    }\n\n    public Vertex(String label) {\n        this.label = label;\n        this.neighbors = new ArrayList&lt;&gt;();\n    }\n\n    public Vertex(String label, List&lt;Edge&gt; neighbors) {\n        this.label = label;\n        this.neighbors = neighbors;\n    }\n\n\n    public void setLabel(String label) {\n        this.label = label;\n    }\n\n \n    public void setNeighbors(List&lt;Edge&gt; neighbors) {\n        this.neighbors = neighbors;\n    }\n\n\n    public String getLabel() {\n        return label;\n    }\n\n    public List&lt;Edge&gt; getNeighbors() {\n        return neighbors;\n    }\n    public String toString() {\n        return label;\n    }\n\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null || getClass() != obj.getClass()) {\n            return false;\n        }\n        Vertex otherVertex = (Vertex) obj;\n        return label.equals(otherVertex.label);\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>This is my edge class</p>\n<pre><code>public class Edge {\n\n    // Class Variables\n    private Vertex start;\n    private  Vertex end;\n    private int weight;\n    private int id;\n\n    /**\n     * Default Constructor\n     */\n    public Edge() {\n        start = null;\n        end = null;\n        weight = 0;\n        id = 0;\n    }\n\n    /**\n     * Constructor for edge without weight\n     * @param start : vertex\n     * @param end : vertex\n     */\n    public Edge(Vertex start, Vertex end) {\n        this.start = start;\n        this.end = end;\n        this.weight = 0;\n        id = 0;\n    }\n\n    /**\n     * Constructor for edge with weight\n     * @param start\n     * @param end\n     * @param weight\n     */\n    public Edge(Vertex start, Vertex end, int weight) {\n        this.start = start;\n        this.end = end;\n        this.weight = weight;\n    }\n\n    /**\n     * Setter for start vertex\n     * @param start : Vertex\n     */\n    public void setStart(Vertex start) {\n        this.start = start;\n    }\n\n    /**\n     * Setter for end vertex\n     * @param end : Vertex\n     */\n    public void setEnd(Vertex end) {\n        this.end = end;\n    }\n\n    /**\n     * Setter for weight of edge\n     * @param weight : double\n     */\n    public void setWeight(int weight) {\n        this.weight = weight;\n    }\n\n    /**\n     * Setter for ID\n     * @param id : id\n     */\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    /**\n     * Getter for start\n     * @return : Vertex\n     */\n    public Vertex getStart() {\n        return start;\n    }\n\n    /**\n     * Getter for end\n     * @return : Vertex\n     */\n    public Vertex getEnd() {\n        return end;\n    }\n\n    /**\n     * Getter for weight\n     * @return : weight\n     */\n    public double getWeight() {\n        return weight;\n    }\n\n    /**\n     * Getter for id\n     * @return id\n     */\n    public int getId() {\n        return id;\n    }\n\n    /**\n     * toString method\n     * @return string representation\n     */\n    public String toString() {\n        return &quot;(&quot; + start + &quot;,&quot; + end + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>This is my graph class</p>\n<pre><code>public class Graph {\n\n    //Class variables\n    private List&lt;Vertex&gt; nodes; // nodes are a list of vertices\n    private List&lt;Edge&gt; edges;\n    private int count;\n\n    /**\n     * Default Constructor\n     */\n    public Graph() {\n        nodes = new ArrayList&lt;&gt;();\n        edges = new ArrayList&lt;&gt;();\n        count = 0;\n    }\n\n    /**\n     * Constructor\n     * @param nodes : List&lt;Vertex\n     * @param count : int\n     */\n    public Graph(List&lt;Vertex&gt; nodes, int count) {\n        this.nodes = nodes;\n        this.count = count;\n    }\n\n    /**\n     * Method to add a vertex\n     * @param vertex : Vertex\n     */\n    public void addVertex(Vertex vertex) {\n        if (!nodes.contains(vertex)) {\n            this.nodes.add(vertex);\n            this.count++;\n        }\n    }\n\n    /**\n     * Method to add edge\n     * @param start : Vertex\n     * @param end : Vertex\n     */\n    public void addEdge(Vertex start, Vertex end) {\n        edges.add(new Edge(start, end));\n    }\n\n    public void addEdge(Vertex start, Vertex end, int weight) {\n        edges.add(new Edge(start, end,weight));\n    }\n\n    /**\n     * Setter to set nodes\n     * @param nodes : List&lt;Vertex\n     */\n    public void setNodes(List&lt;Vertex&gt; nodes) {\n        this.nodes = nodes;\n    }\n\n    /**\n     * Setter to set edges\n     * @param edges : List&lt;Edge\n     */\n    public void setEdges(List&lt;Edge&gt; edges) {\n        this.edges = edges;\n    }\n\n    /**\n     * Setter to set count\n     * @param count\n     */\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    /**\n     * Getter to get nodes\n     * @return\n     */\n    public List&lt;Vertex&gt; getNodes() {\n        return nodes;\n    }\n\n    /**\n     * Getter to get edges\n     */\n    public List&lt;Edge&gt; getEdges() {\n        return edges;\n    }\n\n    /**\n     * Getter for count\n     * @return\n     */\n    public int getCount() {\n        return count;\n    }\n\n    /**\n     * toString method\n     * @return string representation\n     */\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n\n        sb.append(&quot;V={&quot;);\n        for (Vertex vertex : this.nodes) {\n            sb.append(vertex + &quot;,&quot;);\n        }\n        sb.append(&quot;}\\n&quot;);\n\n        sb.append(&quot;E={&quot;);\n        for (Edge edge : this.edges) {\n            sb.append(edge + &quot;,&quot;);\n        }\n        sb.append(&quot;}&quot;);\n        return sb.toString();\n    }\n}\n\n</code></pre>\n<p>This is where I create my GraphUtility class object and where I attempt to call the dijkstra method.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        // Instantiate GraphUtility and read graph from file\n        GraphUtility graphUtility = new GraphUtility();\n        try {\n            File file = new File(&quot;graphs/weighted-directed-matrix&quot;);  // Replace with your file path\n            graphUtility.readFile(file);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return;\n        }\n\n        // Get the graph from GraphUtility\n        Graph graph = graphUtility.getGraph();\n\n        // Choose a source vertex (you can change this as needed)\n        Vertex source = graph.getNodes().get(0);\n\n        // Dijkstra's algorithm\n        double[] distance = dijkstra(graph, graph.getNodes().get(0));\n\n        // Printing results\n        for (int i = 0; i &lt; graph.getNodes().size(); i++) {\n            String vertexLabel = graph.getNodes().get(i).getLabel();\n            String distanceString = (distance[i] == Integer.MAX_VALUE) ? &quot;Unreachable&quot; : String.valueOf(distance[i]);\n            System.out.println(&quot;Vertex: &quot; + vertexLabel + &quot; &amp; Distance from Source: &quot; + distanceString);\n        }\n    }\n}\n</code></pre>\n<p>The contents of the file &quot;graphs/weighted-directed-matrix&quot; include this:</p>\n<pre><code>2,2,2,4,2 \n4,5,1,3,4\n1,2,3,3,5\n3,5,5,6,5\n3,5,3,4,5\n</code></pre>\n<p>this is my output:</p>\n<pre><code>Debug Output:\nVertex IDs: [0, 1, 2, 3, 4]\nEdge Weights: [2.0, 2.0, 2.0, 4.0, 2.0, 4.0, 5.0, 1.0, 3.0, 4.0, 1.0, 2.0, 3.0, 3.0, 5.0, 3.0, 5.0, 5.0, 6.0, 5.0, 3.0, 5.0, 3.0, 4.0, 5.0]\nDistances: [0.0, 2.147483647E9, 2.147483647E9, 2.147483647E9, 2.147483647E9]\nVertex: A &amp; Distance from Source: 0.0\nVertex: B &amp; Distance from Source: Unreachable\nVertex: C &amp; Distance from Source: Unreachable\nVertex: D &amp; Distance from Source: Unreachable\nVertex: E &amp; Distance from Source: Unreachable\n</code></pre>\n<p>I do not understand why my distance from source for B,C,D, and E say unreachable. Furthermore, I was hoping to implement a system where I could pass in an end vertex alongside my start vertex to the dijkstra method and have my code just output the travel path from my start vertex to my end vertex. How do I go about resolving my issue and implementing this functionality. I have been at this for the whole day and I cannot figure out where the issue lies in the code I have presented. I understand that this question was answered using another method in another post, but I would really like to know where I went wrong in my own code.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","itemwriter"],"comments":[{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1702225431,"post_id":77635507,"comment_id":136867776,"body_markdown":"One problem with your `ItemWriter` is that the interface changed and you now have to accept a `Chunk&lt;? extends Customer&gt;` in stead of a `List&lt;? extends Customer&gt;`.","body":"One problem with your <code>ItemWriter</code> is that the interface changed and you now have to accept a <code>Chunk&lt;? extends Customer&gt;</code> in stead of a <code>List&lt;? extends Customer&gt;</code>."},{"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"score":0,"creation_date":1702226038,"post_id":77635507,"comment_id":136867833,"body_markdown":"Hi @g00glen00b if i change Chunk in stead of a list how can i modify this part of my unit test \nCustomer customer = new Customer(123);\nCustomerItemWriter cust;\ncust.write(Lists.newArrayList(customer));==&gt; How can i modify Lists.newArrayList(customer) to Chunk","body":"Hi @g00glen00b if i change Chunk in stead of a list how can i modify this part of my unit test  Customer customer = new Customer(123); CustomerItemWriter cust; cust.write(Lists.newArrayList(customer));==&gt; How can i modify Lists.newArrayList(customer) to Chunk"},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1702239281,"post_id":77635507,"comment_id":136869254,"body_markdown":"`Chunk` has a constructor that accepts a collection, so you wrap it into `new Chunk&lt;&gt;(Lists.newArrayList(customer))` (see [API docs](https://docs.spring.io/spring-batch/trunk_bkp/apidocs/org/springframework/batch/core/step/item/Chunk.html#Chunk-java.util.Collection-)).","body":"<code>Chunk</code> has a constructor that accepts a collection, so you wrap it into <code>new Chunk&lt;&gt;(Lists.newArrayList(customer))</code> (see <a href=\"https://docs.spring.io/spring-batch/trunk_bkp/apidocs/org/springframework/batch/core/step/item/Chunk.html#Chunk-java.util.Collection-\" rel=\"nofollow noreferrer\">API docs</a>)."}],"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702231304,"creation_date":1702225274,"question_id":77635507,"body_markdown":"I want to migration my spring boot application (spring batch ) in Spring boot version 2.7 to Spring boot 3.2 and i have a difficult to migrate ItemWriter&lt;T&gt; and reactor.netty.http.client.HttpClient with tcpConfiguration method;\r\n\r\n\r\n    public class CustomerItemWriter implements ItemWriter&lt;Customer&gt; {\r\n    \r\n        private final CustomerService customerService;\r\n    \r\n        public CustomerItemWriter(CustomerService customerService) {\r\n            this.customerService= customerService;\r\n        }\r\n    \r\n        @Override\r\n        public void write(List&lt;? extends Customer&gt; customerlist) {\r\n            log.info(&quot;New customer chunk : {}&quot;, customerlist.size());\r\n            list.forEach(this::ModifyCUstomer);\r\n        }\r\n    \r\n    }\r\n    \r\n    HttpClient httpcl = HttpClient.create().tcpConfiguration(client -&gt; client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeOut).doOnConnected(\r\n    conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(readTimeOut)).addHandlerLast(new WriteTimeoutHandler(writeTimeOut)))).wiretap(enableWireTap).compress(true);\r\n\r\ncan I have help to migrate this code above\r\n","title":"Problem of spring batch migration in spring boot 2 to spring boot 3","body":"<p>I want to migration my spring boot application (spring batch ) in Spring boot version 2.7 to Spring boot 3.2 and i have a difficult to migrate ItemWriter and reactor.netty.http.client.HttpClient with tcpConfiguration method;</p>\n<pre><code>public class CustomerItemWriter implements ItemWriter&lt;Customer&gt; {\n\n    private final CustomerService customerService;\n\n    public CustomerItemWriter(CustomerService customerService) {\n        this.customerService= customerService;\n    }\n\n    @Override\n    public void write(List&lt;? extends Customer&gt; customerlist) {\n        log.info(&quot;New customer chunk : {}&quot;, customerlist.size());\n        list.forEach(this::ModifyCUstomer);\n    }\n\n}\n\nHttpClient httpcl = HttpClient.create().tcpConfiguration(client -&gt; client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeOut).doOnConnected(\nconn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(readTimeOut)).addHandlerLast(new WriteTimeoutHandler(writeTimeOut)))).wiretap(enableWireTap).compress(true);\n</code></pre>\n<p>can I have help to migrate this code above</p>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":6970618,"reputation":25,"user_id":5347120,"display_name":"Alfred Benigno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702131010,"creation_date":1702131010,"answer_id":77631557,"question_id":77631483,"body_markdown":"It means obviously, you handled abstraction inappropriately. You can always use/create Data Transfer Objects as the middleman to handle your data to and from thymeleaf forms.","title":"How to use abstract class from Thymeleaf template to Spring boot controller?","body":"<p>It means obviously, you handled abstraction inappropriately. You can always use/create Data Transfer Objects as the middleman to handle your data to and from thymeleaf forms.</p>\n"},{"tags":[],"owner":{"account_id":6810556,"reputation":332,"user_id":5240905,"display_name":"mtnp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702231008,"creation_date":1702231008,"answer_id":77635837,"question_id":77631483,"body_markdown":"Ok, as Alfred said I use DTO now.\r\n\r\nBut I found the solution for my original question with a Converter configuration class and a hidden input in the template :\r\n\r\n```html\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{vehicules[__${i.index}__]}&quot; /&gt;\r\n```\r\n\r\n```java\r\npublic class VehiculeConverter implements Converter&lt;String, Vehicule&gt; {\r\n    @Override\r\n    public Vehicule convert(String source) {\r\n        // return Car or Bike\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\npublic class FormattersConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new VehiculeConverter());\r\n    }\r\n}\r\n```\r\n\r\nWhat I understand is in the template the hidden field calls the converter because the controller needs to create Vehicule object from a String.\r\nIt works even with abstract keyword.","title":"How to use abstract class from Thymeleaf template to Spring boot controller?","body":"<p>Ok, as Alfred said I use DTO now.</p>\n<p>But I found the solution for my original question with a Converter configuration class and a hidden input in the template :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; th:field=&quot;*{vehicules[__${i.index}__]}&quot; /&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class VehiculeConverter implements Converter&lt;String, Vehicule&gt; {\n    @Override\n    public Vehicule convert(String source) {\n        // return Car or Bike\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class FormattersConfig implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new VehiculeConverter());\n    }\n}\n</code></pre>\n<p>What I understand is in the template the hidden field calls the converter because the controller needs to create Vehicule object from a String.\nIt works even with abstract keyword.</p>\n"}],"owner":{"account_id":6810556,"reputation":332,"user_id":5240905,"display_name":"mtnp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1702231008,"creation_date":1702129535,"question_id":77631483,"body_markdown":"I have this structure model for my application :\r\n\r\n```java\r\npublic class Garage\r\nList&lt;Vehicule&gt; vehicules;\r\n\r\n...\r\n\r\npublic abstract class Vehicule\r\nList&lt;Wheel&gt; wheels\r\n\r\n...\r\n\r\npublic class Car extends Vehicule\r\npublic class Bike extends Vehicule\r\n\r\n... \r\n\r\npublic class Wheel\r\nboolean damaged\r\n```\r\n\r\nAnd I have a form which contains a checkbox input to let him know if a wheel is damaged :\r\n\r\n```html\r\n&lt;form id=&quot;garage&quot;\r\n      action=&quot;#&quot;\r\n      th:action=&quot;@{/save}&quot;\r\n      th:object=&quot;${garage}&quot;\r\n      method=&quot;post&quot;&gt;\r\n            &lt;div th:each=&quot;vehicule, i : ${garage.getVehicules()}&quot;&gt;\r\n               &lt;ul&gt;\r\n                  &lt;li th:each=&quot;wheel, j : ${garage.getWheels()}&quot;&gt;\r\n                     &lt;input type=&quot;checkbox&quot; th:field=&quot;*{{vehicules[__${i.index}__].wheels}}&quot; th:value=&quot;${wheel}&quot; /&gt;\r\n                    &lt;label th:for=&quot;${#ids.next(&#39;wheels&#39;)}&quot; th:text=&quot;${wheel.value}&quot;&gt;Label&lt;/label&gt;\r\n                  &lt;/li&gt;\r\n               &lt;/ul&gt;\r\n            &lt;/div&gt;\r\n&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nWhat I get is this error because of abstract keyword on my vehicule class :\r\n\r\n&gt; java.lang.InstantiationException: null\r\n\tat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197)\r\n\r\n\r\nLast thing, this is not my real code but it&#39;s to provide you the most similar context for the question.","title":"How to use abstract class from Thymeleaf template to Spring boot controller?","body":"<p>I have this structure model for my application :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Garage\nList&lt;Vehicule&gt; vehicules;\n\n...\n\npublic abstract class Vehicule\nList&lt;Wheel&gt; wheels\n\n...\n\npublic class Car extends Vehicule\npublic class Bike extends Vehicule\n\n... \n\npublic class Wheel\nboolean damaged\n</code></pre>\n<p>And I have a form which contains a checkbox input to let him know if a wheel is damaged :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;garage&quot;\n      action=&quot;#&quot;\n      th:action=&quot;@{/save}&quot;\n      th:object=&quot;${garage}&quot;\n      method=&quot;post&quot;&gt;\n            &lt;div th:each=&quot;vehicule, i : ${garage.getVehicules()}&quot;&gt;\n               &lt;ul&gt;\n                  &lt;li th:each=&quot;wheel, j : ${garage.getWheels()}&quot;&gt;\n                     &lt;input type=&quot;checkbox&quot; th:field=&quot;*{{vehicules[__${i.index}__].wheels}}&quot; th:value=&quot;${wheel}&quot; /&gt;\n                    &lt;label th:for=&quot;${#ids.next('wheels')}&quot; th:text=&quot;${wheel.value}&quot;&gt;Label&lt;/label&gt;\n                  &lt;/li&gt;\n               &lt;/ul&gt;\n            &lt;/div&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>What I get is this error because of abstract keyword on my vehicule class :</p>\n<blockquote>\n<p>java.lang.InstantiationException: null\nat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48) ~[na:na]\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]\nat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197)</p>\n</blockquote>\n<p>Last thing, this is not my real code but it's to provide you the most similar context for the question.</p>\n"},{"tags":["java","arrays","loops","arraylist","substring"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416459958,"creation_date":1416437317,"answer_id":27028525,"question_id":27028457,"body_markdown":"Use a foreach loop:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    List&lt;String&gt; msgs = new ArrayList&lt;String&gt;();\r\n    for (String s : list) {\r\n        msgs.add(s.replaceAll(&quot;.*&#39;(.*)&#39;.*&quot;, &quot;$1&quot;));\r\n    }\r\n    list = msgs;\r\n\r\nUsing regex to extract the string is cleaner and still scalable enough.\r\n","title":"How to loop through an array and create substrings from an ArrayList?","body":"<p>Use a foreach loop:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nList&lt;String&gt; msgs = new ArrayList&lt;String&gt;();\nfor (String s : list) {\n    msgs.add(s.replaceAll(\".*'(.*)'.*\", \"$1\"));\n}\nlist = msgs;\n</code></pre>\n\n<p>Using regex to extract the string is cleaner and still scalable enough.</p>\n"},{"tags":[],"owner":{"account_id":30084862,"reputation":1,"user_id":23055643,"display_name":"Nuradil Zhanadil uulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702230776,"creation_date":1702230776,"answer_id":77635823,"question_id":27028457,"body_markdown":"You can use following loop:\r\n\r\n        ArrayList&lt;String&gt; errorFullTexts = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; errorMessageTexts = new ArrayList&lt;&gt;();\r\n\r\n        //Add the text to the first spot, you can add as many as you would like\r\n        errorFullTexts.add(&quot;ValidationError line 23 col 40:&#39;Bad value ius-cors for attribute name on element meta: Keyword ius-cors is not registered.&#39;&quot;);\r\n\r\n        for(String errorFullText : errorFullTexts){\r\n            errorMessageTexts.add(errorFullText.substring(errorFullText.indexOf(&quot;:&#39;&quot;)+2, errorFullText.lastIndexOf(&quot;.&#39;&quot;)));\r\n        }\r\n","title":"How to loop through an array and create substrings from an ArrayList?","body":"<p>You can use following loop:</p>\n<pre><code>    ArrayList&lt;String&gt; errorFullTexts = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; errorMessageTexts = new ArrayList&lt;&gt;();\n\n    //Add the text to the first spot, you can add as many as you would like\n    errorFullTexts.add(&quot;ValidationError line 23 col 40:'Bad value ius-cors for attribute name on element meta: Keyword ius-cors is not registered.'&quot;);\n\n    for(String errorFullText : errorFullTexts){\n        errorMessageTexts.add(errorFullText.substring(errorFullText.indexOf(&quot;:'&quot;)+2, errorFullText.lastIndexOf(&quot;.'&quot;)));\n    }\n</code></pre>\n"}],"owner":{"account_id":4378674,"reputation":47,"user_id":3570956,"display_name":"laurakellie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702230776,"creation_date":1416437004,"question_id":27028457,"body_markdown":"I am trying to parse through HTML validation errors by adding the errors to an array, and then looping through the array, strip out the first part of the error (e.g. ValidationError line 23 col 40:) and then I want to only keep the text inside the single quotes and save that to a new list.\r\n\r\nHere is what I have working, but I know it&#39;s not scalable and only works with the String fullText and not with the ArrayList&lt;String&gt; list so that&#39;s what I need help with. Thank you!\r\n\r\n    package htmlvalidator;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class ErrorCleanup {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//Saving the raw errors to an array list\r\n\t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n\t\t//Add the text to the first spot\r\n\t\tlist.add(&quot;ValidationError line 23 col 40:&#39;Bad value ius-cors for attribute name on element meta: Keyword ius-cors is not registered.&#39;&quot;);\r\n\t\t\r\n\t\t//Show what is in the list\r\n\t\tSystem.out.println(&quot;The full error message is: &quot; + list);\t\t\r\n\t\t\r\n\t\tString fullText = &quot;ValidationError line 23 col 40:&#39;Bad value ius-cors for attribute name on element meta: Keyword ius-cors is not registered.&#39;&quot;;\r\n\t\t\r\n\t\t//Show just the actual message\r\n\t\tSystem.out.println(&quot;The actual error message is: &quot; + fullText.substring(fullText.indexOf(&quot;&#39;&quot;) + 1));\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n    }","title":"How to loop through an array and create substrings from an ArrayList?","body":"<p>I am trying to parse through HTML validation errors by adding the errors to an array, and then looping through the array, strip out the first part of the error (e.g. ValidationError line 23 col 40:) and then I want to only keep the text inside the single quotes and save that to a new list.</p>\n\n<p>Here is what I have working, but I know it's not scalable and only works with the String fullText and not with the ArrayList list so that's what I need help with. Thank you!</p>\n\n<pre><code>package htmlvalidator;\n\nimport java.util.ArrayList;\n\npublic class ErrorCleanup {\n\npublic static void main(String[] args) {\n    //Saving the raw errors to an array list\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    //Add the text to the first spot\n    list.add(\"ValidationError line 23 col 40:'Bad value ius-cors for attribute name on element meta: Keyword ius-cors is not registered.'\");\n\n    //Show what is in the list\n    System.out.println(\"The full error message is: \" + list);       \n\n    String fullText = \"ValidationError line 23 col 40:'Bad value ius-cors for attribute name on element meta: Keyword ius-cors is not registered.'\";\n\n    //Show just the actual message\n    System.out.println(\"The actual error message is: \" + fullText.substring(fullText.indexOf(\"'\") + 1));\n\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","encryption","public-key-encryption","encryption-asymmetric"],"comments":[{"owner":{"account_id":2025388,"reputation":69,"user_id":1810556,"accept_rate":67,"display_name":"mkohanek"},"score":0,"creation_date":1561669499,"post_id":56798210,"comment_id":100151482,"body_markdown":"This is the closest I have found to an answer - https://stackoverflow.com/questions/23086424/rsa-keys-keys-static-generation - Do I really have to find some way to store the private key in a shared space between the two applications?  AT that point, why don&#39;t I just forego encryption altogether, and have application 1 store its unencrypted value in a database that application 2 then retrieves to ensure it has not been tampered with??  Surely there is a better, correct way to do this!","body":"This is the closest I have found to an answer - <a href=\"https://stackoverflow.com/questions/23086424/rsa-keys-keys-static-generation\" title=\"rsa keys keys static generation\">stackoverflow.com/questions/23086424/&hellip;</a> - Do I really have to find some way to store the private key in a shared space between the two applications?  AT that point, why don&#39;t I just forego encryption altogether, and have application 1 store its unencrypted value in a database that application 2 then retrieves to ensure it has not been tampered with??  Surely there is a better, correct way to do this!"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1561674235,"post_id":56798210,"comment_id":100152806,"body_markdown":"Why not just use SSL/TLS?","body":"Why not just use SSL/TLS?"},{"owner":{"account_id":2025388,"reputation":69,"user_id":1810556,"accept_rate":67,"display_name":"mkohanek"},"score":0,"creation_date":1561689992,"post_id":56798210,"comment_id":100155298,"body_markdown":"@JamesKPolk The fact is I am not aware of this being an option. That is why I posted this, trying to find what I can try. In my full day of searching about encryption, this did not come up, so thanks.  Funnily enough it is slightly similar to the option I came up with on my drive home. I would have client A call client B, which would generate an ID and a salt and store it. Client A would use that salt to encrypt the ID I gave it, plus the other data it needs to encrypt. Then send that all back to client B to use for validation. Creating that initial contract sounds similar to SSL/TLS methods","body":"@JamesKPolk The fact is I am not aware of this being an option. That is why I posted this, trying to find what I can try. In my full day of searching about encryption, this did not come up, so thanks.  Funnily enough it is slightly similar to the option I came up with on my drive home. I would have client A call client B, which would generate an ID and a salt and store it. Client A would use that salt to encrypt the ID I gave it, plus the other data it needs to encrypt. Then send that all back to client B to use for validation. Creating that initial contract sounds similar to SSL/TLS methods"},{"owner":{"account_id":2025388,"reputation":69,"user_id":1810556,"accept_rate":67,"display_name":"mkohanek"},"score":0,"creation_date":1561690272,"post_id":56798210,"comment_id":100155346,"body_markdown":"I also realized that my initial approach is flawed no matter what. As long as an encrypted value can get decrypted in the destination system at any time, it does not matter if that encrypted value changes each session. Once a hacker has a working encrypted value for any given String which I expect my source system to decrypt, he can send whatever data he wants, if he has seen the desired value encrypted in a previous session. Since I am sending prices in these requests, it would not be hard to obtain a previous valid representation of any amount desired and use that for other calls","body":"I also realized that my initial approach is flawed no matter what. As long as an encrypted value can get decrypted in the destination system at any time, it does not matter if that encrypted value changes each session. Once a hacker has a working encrypted value for any given String which I expect my source system to decrypt, he can send whatever data he wants, if he has seen the desired value encrypted in a previous session. Since I am sending prices in these requests, it would not be hard to obtain a previous valid representation of any amount desired and use that for other calls"}],"answers":[{"tags":[],"owner":{"account_id":2025388,"reputation":69,"user_id":1810556,"accept_rate":67,"display_name":"mkohanek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1561751039,"creation_date":1561731287,"answer_id":56808558,"question_id":56798210,"body_markdown":"    package com.ni.apps.cartencryptutil;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.util.Locale;\r\n    import java.util.MissingResourceException;\r\n    import java.util.ResourceBundle;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    import com.ni.apps.cartencryptutil.exceptions.EncryptionException;\r\n    \r\n    /**\r\n     * Security class for encrypting and decrypting Strings (that also works in WC ver 7 and above).\r\n     *\r\n     * @author mkohanek\r\n     *\r\n     */\r\n    public class SecurityTools {\r\n      private static final Logger logger = Logger.getLogger(SecurityTools.class);\r\n    \r\n      private Cipher cipher;\r\n      private IvParameterSpec initVector;\r\n      private SecretKey secretKey;\r\n      private transient ResourceBundle rbConfig;\r\n    \r\n      private static SecureRandom secureRandom = new SecureRandom();\r\n      private static final String AES_ALGORITHM = &quot;AES/CBC/PKCS5Padding&quot;;\r\n      private static final String ALGORITHM_SHORT = &quot;AES&quot;;\r\n      private static final String PBE_ALGORITHM = &quot;PBEWithMD5AndDES&quot;;\r\n      private static final String UTF8 = &quot;UTF-8&quot;;\r\n      private static final int ITERATIONS = 10000;\r\n      private static final int KEY_LENGTH = 128;\r\n    \r\n      // exceptions\r\n      private static final String _ERR_ILLEGAL_BLOCK_SIZE = &quot;illegal block size exception.&quot;;\r\n      private static final String _ERR_BAD_PADDING = &quot;bad padding exception.&quot;;\r\n      private static final String _ERR_INVALIDKEY = &quot;invalidkey exception.&quot;;\r\n      private static final String _ERR_PADDING = &quot;padding exception.&quot;;\r\n      private static final String _ERR_NO_SUCH_ALGORITHM = &quot;no such algorithm exception.&quot;;\r\n      private static final String _ERR_PASSPHRASE_IS_NULL = &quot;passphrase is null.&quot;;\r\n      private static final String _ERR_SALT_IS_NULL = &quot;salt is null.&quot;;\r\n      private static final String _ERR_INVALID_ALGORITHM = &quot;invalid algorithm exception.&quot;;\r\n      private static final String _ERR_UNSUPPORTED_ENCODING = &quot;encoding not supported.&quot;;\r\n      private static final String _ERR_INVALID_KEY_SPEC = &quot;invalid key spec exception.&quot;;\r\n    \r\n      /**\r\n       * Constructor\r\n       *\r\n       * @param salt\r\n       *          - for encryption, obtain salt from generateSalt(). for decryption, you should use the same salt used during encryption\r\n       * @throws EncryptionException\r\n       */\r\n      public SecurityTools(String salt) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering Constructor&quot;);\r\n        }\r\n        try {\r\n          loadProperties();\r\n          cipher = Cipher.getInstance(AES_ALGORITHM);\r\n          generateIV(salt);\r\n          generateKey(salt);\r\n        } catch (NoSuchAlgorithmException iae) {\r\n          logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\r\n          throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\r\n        } catch (NoSuchPaddingException nspe) {\r\n          logger.error(_ERR_PADDING, nspe);\r\n          throw new EncryptionException(_ERR_PADDING, nspe);\r\n        }\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting Constructor&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Constructor\r\n       *\r\n       * @param salt\r\n       *          - for encryption, obtain salt from generateSalt(). for decryption, you should use the same salt used during encryption\r\n       * @param passPhrase\r\n       *          - Allows client to pass in a passphrase it wants to use rather than use the one this library defines. This must also be used when decrypting. The length limit for this key is 16\r\n       *          characters\r\n       * @throws EncryptionException\r\n       */\r\n      public SecurityTools(String salt, String passPhrase) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering Constructor&quot;);\r\n        }\r\n        try {\r\n          loadProperties();\r\n          cipher = Cipher.getInstance(AES_ALGORITHM);\r\n          generateIV(salt);\r\n          generateKey(salt, passPhrase);\r\n        } catch (NoSuchAlgorithmException iae) {\r\n          logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\r\n          throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\r\n        } catch (NoSuchPaddingException nspe) {\r\n          logger.error(_ERR_PADDING, nspe);\r\n          throw new EncryptionException(_ERR_PADDING, nspe);\r\n        }\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting Constructor&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Encrypts a given plain text String, and returns the encrypted String\r\n       *\r\n       * @param plainText\r\n       * @return\r\n       * @throws EncryptionException\r\n       */\r\n      public String encrypt(String plainText) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering encrypt&quot;);\r\n        }\r\n    \r\n        String encryptedKey = null;\r\n        try {\r\n          byte[] byteToEncrypt = plainText.getBytes(UTF8);\r\n          cipher.init(Cipher.ENCRYPT_MODE, secretKey, initVector, new SecureRandom());\r\n          byte[] encryptedBytes = cipher.doFinal(byteToEncrypt);\r\n          encryptedKey = DatatypeConverter.printBase64Binary(encryptedBytes);\r\n        } catch (IllegalArgumentException iae) {\r\n          logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\r\n          throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\r\n        } catch (InvalidKeyException ike) {\r\n          logger.error(_ERR_INVALIDKEY, ike);\r\n          throw new EncryptionException(_ERR_INVALIDKEY, ike);\r\n        } catch (BadPaddingException bpe) {\r\n          logger.error(_ERR_BAD_PADDING, bpe);\r\n          throw new EncryptionException(_ERR_BAD_PADDING, bpe);\r\n        } catch (IllegalBlockSizeException bpe) {\r\n          logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n          throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n        } catch (UnsupportedEncodingException uee) {\r\n          logger.error(_ERR_UNSUPPORTED_ENCODING, uee);\r\n          throw new EncryptionException(_ERR_UNSUPPORTED_ENCODING, uee);\r\n        } catch (InvalidAlgorithmParameterException iape) {\r\n          logger.error(_ERR_INVALID_ALGORITHM, iape);\r\n          throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\r\n        }\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting encrypt&quot;);\r\n        }\r\n    \r\n        return encryptedKey;\r\n      }\r\n    \r\n      /**\r\n       * Decrypts a given encrypted String, and returns the plain text String\r\n       *\r\n       * @param cipherTextStr\r\n       * @return\r\n       * @throws EncryptionException\r\n       */\r\n      public String decrypt(String cipherTextStr) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering decrypt&quot;);\r\n        }\r\n    \r\n        String cleartext = null;\r\n        try {\r\n          cipher.init(Cipher.DECRYPT_MODE, secretKey, initVector);\r\n          byte[] plainByte = cipher.doFinal(DatatypeConverter.parseBase64Binary(cipherTextStr));\r\n          cleartext = new String(plainByte);\r\n        } catch (InvalidAlgorithmParameterException iape) {\r\n          logger.error(_ERR_INVALID_ALGORITHM, iape);\r\n          throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\r\n        } catch (IllegalArgumentException iae) {\r\n          logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\r\n          throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\r\n        } catch (InvalidKeyException ike) {\r\n          logger.error(_ERR_INVALIDKEY, ike);\r\n          throw new EncryptionException(_ERR_INVALIDKEY, ike);\r\n        } catch (BadPaddingException bpe) {\r\n          logger.error(_ERR_BAD_PADDING, bpe);\r\n          throw new EncryptionException(_ERR_BAD_PADDING, bpe);\r\n        } catch (IllegalBlockSizeException bpe) {\r\n          logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n          throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n        }\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting decrypt&quot;);\r\n        }\r\n    \r\n        return cleartext;\r\n      }\r\n    \r\n      /**\r\n       * Creates the IV using Secure Random Number Generator and an empty 16byte array\r\n       *\r\n       * @return\r\n       */\r\n      private void generateIV(String salt) {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering generateIV&quot;);\r\n        }\r\n    \r\n        byte[] newSeed = DatatypeConverter.parseBase64Binary(salt);\r\n        initVector = new IvParameterSpec(newSeed);\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting generateIV&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Generates the Key used for decryption and encryption using passphrase from properties file on library\r\n       *\r\n       ** @param saltStr\r\n       * @return\r\n       * @throws EncryptionException\r\n       */\r\n      private void generateKey(String saltStr) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering generateKey&quot;);\r\n        }\r\n    \r\n        try {\r\n          String passPhraseStr = rbConfig.getString(&quot;passphrase&quot;);\r\n          if (StringUtils.isEmpty(passPhraseStr)) {\r\n            throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL);\r\n          }\r\n          if (StringUtils.isEmpty(saltStr)) {\r\n            throw new EncryptionException(_ERR_SALT_IS_NULL);\r\n          }\r\n    \r\n          byte[] salt = DatatypeConverter.parseBase64Binary(saltStr);\r\n    \r\n          SecretKeyFactory factory = SecretKeyFactory.getInstance(PBE_ALGORITHM);\r\n          SecretKey tmp = factory.generateSecret(new PBEKeySpec(passPhraseStr.toCharArray(), salt, ITERATIONS, KEY_LENGTH));\r\n          secretKey = new SecretKeySpec(tmp.getEncoded(), ALGORITHM_SHORT);\r\n        } catch (NoSuchAlgorithmException iae) {\r\n          logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\r\n          throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\r\n        } catch (InvalidKeySpecException e) {\r\n          logger.error(_ERR_INVALID_KEY_SPEC, e);\r\n          throw new EncryptionException(_ERR_INVALID_KEY_SPEC, e);\r\n        }\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting generateKey&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Generates the Key used for decryption and encryption using passphrase passed in\r\n       *\r\n       * @param saltStr\r\n       * @param passPhrase\r\n       * @throws EncryptionException\r\n       */\r\n      private void generateKey(String saltStr, String passPhrase) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering generateKey&quot;);\r\n        }\r\n    \r\n        try {\r\n          if (StringUtils.isEmpty(passPhrase)) {\r\n            throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL);\r\n          }\r\n          if (StringUtils.isEmpty(saltStr)) {\r\n            throw new EncryptionException(_ERR_SALT_IS_NULL);\r\n          }\r\n    \r\n          byte[] salt = DatatypeConverter.parseBase64Binary(saltStr);\r\n    \r\n          SecretKeyFactory factory = SecretKeyFactory.getInstance(PBE_ALGORITHM);\r\n          SecretKey tmp = factory.generateSecret(new PBEKeySpec(passPhrase.toCharArray(), salt, ITERATIONS, KEY_LENGTH));\r\n          secretKey = new SecretKeySpec(tmp.getEncoded(), ALGORITHM_SHORT);\r\n        } catch (NoSuchAlgorithmException iae) {\r\n          logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\r\n          throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\r\n        } catch (InvalidKeySpecException e) {\r\n          logger.error(_ERR_INVALID_KEY_SPEC, e);\r\n          throw new EncryptionException(_ERR_INVALID_KEY_SPEC, e);\r\n        }\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting generateKey&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * This generates a random value of user defined size that can be used to encrypt data. The decrypting client will then need to access this value to be able to decrypt\r\n       *\r\n       * @return\r\n       */\r\n      public static String generateSaltStr(int size) {\r\n        String salt = null;\r\n        byte[] newSeed = secureRandom.generateSeed(size);\r\n        salt = DatatypeConverter.printBase64Binary(newSeed);\r\n    \r\n        return salt;\r\n      }\r\n    \r\n      /**\r\n       * This generates a random 16 bit value that can be used to encrypt data. The decrypting client will then need to access this value to be able to decrypt\r\n       *\r\n       * @return\r\n       */\r\n      public static String generateSaltStr() {\r\n        String salt = null;\r\n        byte[] newSeed = secureRandom.generateSeed(16);\r\n        salt = DatatypeConverter.printBase64Binary(newSeed);\r\n    \r\n        return salt;\r\n      }\r\n    \r\n      /**\r\n       * Loads properties files (call before attempting to read any properties files)\r\n       */\r\n      private void loadProperties() {\r\n        try {\r\n          rbConfig = ResourceBundle.getBundle(&quot;application&quot;, Locale.US);\r\n        } catch (MissingResourceException ie) {\r\n          logger.fatal(\r\n              &quot;FATAL: SecurityTools.loadProperties Cannot read the properties file.  Please ensure the file is on the classpath.&quot;);\r\n        } catch (Exception e) {\r\n          logger.fatal(\r\n              &quot;FATAL: SecurityTools.loadProperties Cannot read the properties file.  Please ensure the file is on the classpath.&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Test method\r\n       *\r\n       * @param args\r\n       */\r\n      public static void main(String[] args) {\r\n        String[] message = { &quot;mkohanek&quot;, &quot;9248547896548752345&quot;, &quot;okok234234234okok467467&quot;,\r\n            &quot;12&quot; };\r\n        String result = null;\r\n        try {\r\n          // ASYMMETRIC TEST - use this block to test values are usable over separate sessions by taking output from loop below and using it here for subsequent calls\r\n          // String previousSalt = &quot;jriUh+01HlHw4g3mO9PLcw==&quot;;\r\n          // SecurityTools asSecTool = new SecurityTools(previousSalt);\r\n          // String previousEncryptedValue = &quot;nFVxkzdx+psiUVkCW5NztQ==&quot;;\r\n          // System.out.println(&quot;should decrypt to an expected value - &quot; + asSecTool.decrypt(previousEncryptedValue));\r\n          // END ASYMMETRIC TEST\r\n    \r\n          // SYMMETRIC TEST - tests that single requests will encrypt and decrypt successfully\r\n          String salt = generateSaltStr(16);\r\n          System.out.println(&quot;salt - &quot; + salt);\r\n          SecurityTools secTool = new SecurityTools(salt);\r\n          for (String mess : message) {\r\n            result = secTool.encrypt(mess);\r\n            System.out.println(result);\r\n            result = secTool.decrypt(result);\r\n            System.out.println(result);\r\n          }\r\n          // END SYMMETRIC TEST\r\n        } catch (Exception e) {\r\n          System.out.println(e.getMessage());\r\n          e.printStackTrace();\r\n    \r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n","title":"How can I decrypt text from one application in another application with asymmetric encryption?","body":"<pre><code>package com.ni.apps.cartencryptutil;\n\nimport java.io.UnsupportedEncodingException;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.util.Locale;\nimport java.util.MissingResourceException;\nimport java.util.ResourceBundle;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.xml.bind.DatatypeConverter;\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.log4j.Logger;\n\nimport com.ni.apps.cartencryptutil.exceptions.EncryptionException;\n\n/**\n * Security class for encrypting and decrypting Strings (that also works in WC ver 7 and above).\n *\n * @author mkohanek\n *\n */\npublic class SecurityTools {\n  private static final Logger logger = Logger.getLogger(SecurityTools.class);\n\n  private Cipher cipher;\n  private IvParameterSpec initVector;\n  private SecretKey secretKey;\n  private transient ResourceBundle rbConfig;\n\n  private static SecureRandom secureRandom = new SecureRandom();\n  private static final String AES_ALGORITHM = \"AES/CBC/PKCS5Padding\";\n  private static final String ALGORITHM_SHORT = \"AES\";\n  private static final String PBE_ALGORITHM = \"PBEWithMD5AndDES\";\n  private static final String UTF8 = \"UTF-8\";\n  private static final int ITERATIONS = 10000;\n  private static final int KEY_LENGTH = 128;\n\n  // exceptions\n  private static final String _ERR_ILLEGAL_BLOCK_SIZE = \"illegal block size exception.\";\n  private static final String _ERR_BAD_PADDING = \"bad padding exception.\";\n  private static final String _ERR_INVALIDKEY = \"invalidkey exception.\";\n  private static final String _ERR_PADDING = \"padding exception.\";\n  private static final String _ERR_NO_SUCH_ALGORITHM = \"no such algorithm exception.\";\n  private static final String _ERR_PASSPHRASE_IS_NULL = \"passphrase is null.\";\n  private static final String _ERR_SALT_IS_NULL = \"salt is null.\";\n  private static final String _ERR_INVALID_ALGORITHM = \"invalid algorithm exception.\";\n  private static final String _ERR_UNSUPPORTED_ENCODING = \"encoding not supported.\";\n  private static final String _ERR_INVALID_KEY_SPEC = \"invalid key spec exception.\";\n\n  /**\n   * Constructor\n   *\n   * @param salt\n   *          - for encryption, obtain salt from generateSalt(). for decryption, you should use the same salt used during encryption\n   * @throws EncryptionException\n   */\n  public SecurityTools(String salt) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering Constructor\");\n    }\n    try {\n      loadProperties();\n      cipher = Cipher.getInstance(AES_ALGORITHM);\n      generateIV(salt);\n      generateKey(salt);\n    } catch (NoSuchAlgorithmException iae) {\n      logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\n      throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\n    } catch (NoSuchPaddingException nspe) {\n      logger.error(_ERR_PADDING, nspe);\n      throw new EncryptionException(_ERR_PADDING, nspe);\n    }\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting Constructor\");\n    }\n  }\n\n  /**\n   * Constructor\n   *\n   * @param salt\n   *          - for encryption, obtain salt from generateSalt(). for decryption, you should use the same salt used during encryption\n   * @param passPhrase\n   *          - Allows client to pass in a passphrase it wants to use rather than use the one this library defines. This must also be used when decrypting. The length limit for this key is 16\n   *          characters\n   * @throws EncryptionException\n   */\n  public SecurityTools(String salt, String passPhrase) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering Constructor\");\n    }\n    try {\n      loadProperties();\n      cipher = Cipher.getInstance(AES_ALGORITHM);\n      generateIV(salt);\n      generateKey(salt, passPhrase);\n    } catch (NoSuchAlgorithmException iae) {\n      logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\n      throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\n    } catch (NoSuchPaddingException nspe) {\n      logger.error(_ERR_PADDING, nspe);\n      throw new EncryptionException(_ERR_PADDING, nspe);\n    }\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting Constructor\");\n    }\n  }\n\n  /**\n   * Encrypts a given plain text String, and returns the encrypted String\n   *\n   * @param plainText\n   * @return\n   * @throws EncryptionException\n   */\n  public String encrypt(String plainText) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering encrypt\");\n    }\n\n    String encryptedKey = null;\n    try {\n      byte[] byteToEncrypt = plainText.getBytes(UTF8);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey, initVector, new SecureRandom());\n      byte[] encryptedBytes = cipher.doFinal(byteToEncrypt);\n      encryptedKey = DatatypeConverter.printBase64Binary(encryptedBytes);\n    } catch (IllegalArgumentException iae) {\n      logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\n      throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\n    } catch (InvalidKeyException ike) {\n      logger.error(_ERR_INVALIDKEY, ike);\n      throw new EncryptionException(_ERR_INVALIDKEY, ike);\n    } catch (BadPaddingException bpe) {\n      logger.error(_ERR_BAD_PADDING, bpe);\n      throw new EncryptionException(_ERR_BAD_PADDING, bpe);\n    } catch (IllegalBlockSizeException bpe) {\n      logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n      throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n    } catch (UnsupportedEncodingException uee) {\n      logger.error(_ERR_UNSUPPORTED_ENCODING, uee);\n      throw new EncryptionException(_ERR_UNSUPPORTED_ENCODING, uee);\n    } catch (InvalidAlgorithmParameterException iape) {\n      logger.error(_ERR_INVALID_ALGORITHM, iape);\n      throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\n    }\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting encrypt\");\n    }\n\n    return encryptedKey;\n  }\n\n  /**\n   * Decrypts a given encrypted String, and returns the plain text String\n   *\n   * @param cipherTextStr\n   * @return\n   * @throws EncryptionException\n   */\n  public String decrypt(String cipherTextStr) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering decrypt\");\n    }\n\n    String cleartext = null;\n    try {\n      cipher.init(Cipher.DECRYPT_MODE, secretKey, initVector);\n      byte[] plainByte = cipher.doFinal(DatatypeConverter.parseBase64Binary(cipherTextStr));\n      cleartext = new String(plainByte);\n    } catch (InvalidAlgorithmParameterException iape) {\n      logger.error(_ERR_INVALID_ALGORITHM, iape);\n      throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\n    } catch (IllegalArgumentException iae) {\n      logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\n      throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\n    } catch (InvalidKeyException ike) {\n      logger.error(_ERR_INVALIDKEY, ike);\n      throw new EncryptionException(_ERR_INVALIDKEY, ike);\n    } catch (BadPaddingException bpe) {\n      logger.error(_ERR_BAD_PADDING, bpe);\n      throw new EncryptionException(_ERR_BAD_PADDING, bpe);\n    } catch (IllegalBlockSizeException bpe) {\n      logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n      throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n    }\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting decrypt\");\n    }\n\n    return cleartext;\n  }\n\n  /**\n   * Creates the IV using Secure Random Number Generator and an empty 16byte array\n   *\n   * @return\n   */\n  private void generateIV(String salt) {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering generateIV\");\n    }\n\n    byte[] newSeed = DatatypeConverter.parseBase64Binary(salt);\n    initVector = new IvParameterSpec(newSeed);\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting generateIV\");\n    }\n  }\n\n  /**\n   * Generates the Key used for decryption and encryption using passphrase from properties file on library\n   *\n   ** @param saltStr\n   * @return\n   * @throws EncryptionException\n   */\n  private void generateKey(String saltStr) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering generateKey\");\n    }\n\n    try {\n      String passPhraseStr = rbConfig.getString(\"passphrase\");\n      if (StringUtils.isEmpty(passPhraseStr)) {\n        throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL);\n      }\n      if (StringUtils.isEmpty(saltStr)) {\n        throw new EncryptionException(_ERR_SALT_IS_NULL);\n      }\n\n      byte[] salt = DatatypeConverter.parseBase64Binary(saltStr);\n\n      SecretKeyFactory factory = SecretKeyFactory.getInstance(PBE_ALGORITHM);\n      SecretKey tmp = factory.generateSecret(new PBEKeySpec(passPhraseStr.toCharArray(), salt, ITERATIONS, KEY_LENGTH));\n      secretKey = new SecretKeySpec(tmp.getEncoded(), ALGORITHM_SHORT);\n    } catch (NoSuchAlgorithmException iae) {\n      logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\n      throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\n    } catch (InvalidKeySpecException e) {\n      logger.error(_ERR_INVALID_KEY_SPEC, e);\n      throw new EncryptionException(_ERR_INVALID_KEY_SPEC, e);\n    }\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting generateKey\");\n    }\n  }\n\n  /**\n   * Generates the Key used for decryption and encryption using passphrase passed in\n   *\n   * @param saltStr\n   * @param passPhrase\n   * @throws EncryptionException\n   */\n  private void generateKey(String saltStr, String passPhrase) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering generateKey\");\n    }\n\n    try {\n      if (StringUtils.isEmpty(passPhrase)) {\n        throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL);\n      }\n      if (StringUtils.isEmpty(saltStr)) {\n        throw new EncryptionException(_ERR_SALT_IS_NULL);\n      }\n\n      byte[] salt = DatatypeConverter.parseBase64Binary(saltStr);\n\n      SecretKeyFactory factory = SecretKeyFactory.getInstance(PBE_ALGORITHM);\n      SecretKey tmp = factory.generateSecret(new PBEKeySpec(passPhrase.toCharArray(), salt, ITERATIONS, KEY_LENGTH));\n      secretKey = new SecretKeySpec(tmp.getEncoded(), ALGORITHM_SHORT);\n    } catch (NoSuchAlgorithmException iae) {\n      logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\n      throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\n    } catch (InvalidKeySpecException e) {\n      logger.error(_ERR_INVALID_KEY_SPEC, e);\n      throw new EncryptionException(_ERR_INVALID_KEY_SPEC, e);\n    }\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting generateKey\");\n    }\n  }\n\n  /**\n   * This generates a random value of user defined size that can be used to encrypt data. The decrypting client will then need to access this value to be able to decrypt\n   *\n   * @return\n   */\n  public static String generateSaltStr(int size) {\n    String salt = null;\n    byte[] newSeed = secureRandom.generateSeed(size);\n    salt = DatatypeConverter.printBase64Binary(newSeed);\n\n    return salt;\n  }\n\n  /**\n   * This generates a random 16 bit value that can be used to encrypt data. The decrypting client will then need to access this value to be able to decrypt\n   *\n   * @return\n   */\n  public static String generateSaltStr() {\n    String salt = null;\n    byte[] newSeed = secureRandom.generateSeed(16);\n    salt = DatatypeConverter.printBase64Binary(newSeed);\n\n    return salt;\n  }\n\n  /**\n   * Loads properties files (call before attempting to read any properties files)\n   */\n  private void loadProperties() {\n    try {\n      rbConfig = ResourceBundle.getBundle(\"application\", Locale.US);\n    } catch (MissingResourceException ie) {\n      logger.fatal(\n          \"FATAL: SecurityTools.loadProperties Cannot read the properties file.  Please ensure the file is on the classpath.\");\n    } catch (Exception e) {\n      logger.fatal(\n          \"FATAL: SecurityTools.loadProperties Cannot read the properties file.  Please ensure the file is on the classpath.\");\n    }\n  }\n\n  /**\n   * Test method\n   *\n   * @param args\n   */\n  public static void main(String[] args) {\n    String[] message = { \"mkohanek\", \"9248547896548752345\", \"okok234234234okok467467\",\n        \"12\" };\n    String result = null;\n    try {\n      // ASYMMETRIC TEST - use this block to test values are usable over separate sessions by taking output from loop below and using it here for subsequent calls\n      // String previousSalt = \"jriUh+01HlHw4g3mO9PLcw==\";\n      // SecurityTools asSecTool = new SecurityTools(previousSalt);\n      // String previousEncryptedValue = \"nFVxkzdx+psiUVkCW5NztQ==\";\n      // System.out.println(\"should decrypt to an expected value - \" + asSecTool.decrypt(previousEncryptedValue));\n      // END ASYMMETRIC TEST\n\n      // SYMMETRIC TEST - tests that single requests will encrypt and decrypt successfully\n      String salt = generateSaltStr(16);\n      System.out.println(\"salt - \" + salt);\n      SecurityTools secTool = new SecurityTools(salt);\n      for (String mess : message) {\n        result = secTool.encrypt(mess);\n        System.out.println(result);\n        result = secTool.decrypt(result);\n        System.out.println(result);\n      }\n      // END SYMMETRIC TEST\n    } catch (Exception e) {\n      System.out.println(e.getMessage());\n      e.printStackTrace();\n\n    }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2025388,"reputation":69,"user_id":1810556,"accept_rate":67,"display_name":"mkohanek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56808558,"answer_count":1,"score":0,"last_activity_date":1702230374,"creation_date":1561668053,"question_id":56798210,"body_markdown":"I am trying to understand how I can decrypt a String in one application that I have encrypted in a separate application.  I can do this when I am in a single application execution, and I use the PrivateKey from the same KeyPair that generated the PublicKey.  However, I want to encrypt the value in one application, and decrypt the value in another application.  Basically I have a web service sending value I do not want to be tampered with to an application, and I was planning to use asymmetric encryption to handle it.  Feel free to let me know if I am going about solving that the wrong way.\r\n\r\nI have tried various encryption techniques, starting with Symmetric.  The issue I ran into with that is that the value is encrypted to the same text each time - not very useful if my goal is to keep someone from tampering with a value - once they know the encrypted version of some text, they will be able to use that in any request.  I have been trying to follow the standards here - https://www.veracode.com/blog/research/encryption-and-decryption-java-cryptography\r\nI can get all my examples working in a single transaction doing the encrypt/decrypt - it is just when I try to encrypt in one request, and decrypt in a second request that I fail.\r\n\r\nHere is my current working example:\r\n\r\n\r\n    package com.ni.apps.cartencryptutil;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.PrivateKey;\r\n    import java.security.PublicKey;\r\n    import java.security.SecureRandom;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    /**\r\n     * Security class for encrypting and decrypting Strings (that also works in WC ver 7 and above)\r\n     *\r\n     * @author \r\n     *\r\n     */\r\n    public class SecurityTools {\r\n      private static final Logger logger = Logger.getLogger(SecurityTools.class);\r\n    \r\n      private Cipher cipher;\r\n      private IvParameterSpec initVector;\r\n      private SecretKey secretKey;\r\n      PrivateKey privateKeyParam;\r\n      PublicKey publicKeyParam;\r\n      private static SecureRandom secureRandom = new SecureRandom();\r\n    \r\n      private static final String TRANSFORMATION = &quot;RSA/ECB/OAEPWithSHA-1AndMGF1Padding&quot;;\r\n      private static final String ALGORITHM_SHORT = &quot;RSA&quot;;\r\n      private static final String RNG_ALGORITHM = &quot;SHA1PRNG&quot;;\r\n      private static final String ALGORITHM = &quot;PBKDF2WithHmacSHA256&quot;;\r\n      private static final String UTF8 = &quot;UTF-8&quot;;\r\n    \r\n      // exceptions\r\n      private static final String _ERR_ILLEGAL_BLOCK_SIZE = &quot;illegal block size exception.&quot;;\r\n      private static final String _ERR_BAD_PADDING = &quot;bad padding exception.&quot;;\r\n      private static final String _ERR_INVALIDKEY = &quot;invalidkey exception.&quot;;\r\n      private static final String _ERR_PADDING = &quot;padding exception.&quot;;\r\n      private static final String _ERR_NO_SUCH_ALGORITHM = &quot;no such algorithm exception.&quot;;\r\n      private static final String _ERR_PASSPHRASE_IS_NULL = &quot;passphrase is null.&quot;;\r\n      private static final String _ERR_INVALID_ALGORITHM = &quot;invalid algorithm exception.&quot;;\r\n      private static final String _ERR_UNSUPPORTED_ENCODING = &quot;encoding not supported.&quot;;\r\n      private static final String _ERR_INVALID_KEY_SPEC = &quot;invalid key spec exception.&quot;;\r\n    \r\n      /**\r\n       * Constructor\r\n       *\r\n       * @throws EncryptionException\r\n       */\r\n      public SecurityTools() throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering Constructor&quot;);\r\n        }\r\n        try {\r\n          cipher = Cipher.getInstance(ALGORITHM_SHORT);\r\n          generateIV();\r\n          generateKeys();\r\n        } catch (NoSuchAlgorithmException iae) {\r\n          logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\r\n          throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\r\n        } catch (NoSuchPaddingException nspe) {\r\n          logger.error(_ERR_PADDING, nspe);\r\n          throw new EncryptionException(_ERR_PADDING, nspe);\r\n        }\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting Constructor&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Encrypts a given plain text String, and returns the encrypted String\r\n       *\r\n       * @param plainText\r\n       * @return\r\n       * @throws EncryptionException\r\n       */\r\n      public String encrypt(String plainText, PublicKey publicKey) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering encrypt&quot;);\r\n        }\r\n    \r\n        String encryptedKey = null;\r\n        try {\r\n          byte[] byteToEncrypt = plainText.getBytes(UTF8);\r\n          cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n          byte[] encryptedBytes = cipher.doFinal(byteToEncrypt);\r\n          encryptedKey = DatatypeConverter.printBase64Binary(encryptedBytes);\r\n        } catch (IllegalArgumentException iae) {\r\n          logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\r\n          throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\r\n        } catch (InvalidKeyException ike) {\r\n          logger.error(_ERR_INVALIDKEY, ike);\r\n          throw new EncryptionException(_ERR_INVALIDKEY, ike);\r\n        } catch (BadPaddingException bpe) {\r\n          logger.error(_ERR_BAD_PADDING, bpe);\r\n          throw new EncryptionException(_ERR_BAD_PADDING, bpe);\r\n        } catch (IllegalBlockSizeException bpe) {\r\n          logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n          throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n        } catch (UnsupportedEncodingException uee) {\r\n          logger.error(_ERR_UNSUPPORTED_ENCODING, uee);\r\n          throw new EncryptionException(_ERR_UNSUPPORTED_ENCODING, uee);\r\n        } /*-catch (InvalidAlgorithmParameterException iape) {\r\n          logger.error(_ERR_INVALID_ALGORITHM, iape);\r\n          throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\r\n          }*/\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting encrypt&quot;);\r\n        }\r\n    \r\n        return encryptedKey;\r\n      }\r\n    \r\n      /**\r\n       * Decrypts a given encrypted String, and returns the plain text String\r\n       *\r\n       * @param cipherTextStr\r\n       * @return\r\n       * @throws EncryptionException\r\n       */\r\n      public String decrypt(String cipherTextStr, PrivateKey privateKey) throws EncryptionException {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering decrypt&quot;);\r\n        }\r\n    \r\n        String cleartext = null;\r\n        try {\r\n          cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n          byte[] plainByte = cipher.doFinal(DatatypeConverter.parseBase64Binary(cipherTextStr));\r\n          cleartext = new String(plainByte);\r\n        } /*-catch (InvalidAlgorithmParameterException iape) {\r\n          logger.error(_ERR_INVALID_ALGORITHM, iape);\r\n          throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\r\n          } */catch (IllegalArgumentException iae) {\r\n          logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\r\n          throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\r\n        } catch (InvalidKeyException ike) {\r\n          logger.error(_ERR_INVALIDKEY, ike);\r\n          throw new EncryptionException(_ERR_INVALIDKEY, ike);\r\n        } catch (BadPaddingException bpe) {\r\n          logger.error(_ERR_BAD_PADDING, bpe);\r\n          throw new EncryptionException(_ERR_BAD_PADDING, bpe);\r\n        } catch (IllegalBlockSizeException bpe) {\r\n          logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n          throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\r\n        }\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting decrypt&quot;);\r\n        }\r\n    \r\n        return cleartext;\r\n      }\r\n    \r\n      /**\r\n       * Creates the IV using Secure Random Number Generator and an empty 16byte array\r\n       *\r\n       * @return\r\n       */\r\n      private void generateIV() {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;entering generateIV&quot;);\r\n        }\r\n    \r\n        byte[] newSeed = secureRandom.generateSeed(16);\r\n        secureRandom.setSeed(newSeed);\r\n        byte[] byteIV = new byte[16];\r\n        secureRandom.nextBytes(byteIV);\r\n        initVector = new IvParameterSpec(byteIV);\r\n    \r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(&quot;exiting generateIV&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Generates the Key used for decryption and encryption\r\n       *\r\n       * @throws EncryptionException\r\n       */\r\n      private void generateKeys() throws EncryptionException {\r\n    \r\n        try {\r\n          String saltStr = &quot;salty&quot;;// rbConfig.getString(&quot;salt&quot;);\r\n          String passPhraseStr = &quot;passy&quot;;// rbConfig.getString(&quot;passphrase&quot;);\r\n          if (StringUtils.isEmpty(saltStr) || StringUtils.isEmpty(passPhraseStr)) {\r\n            throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL);\r\n          }\r\n    \r\n          KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n          keyGen.initialize(512); // key size specified here.\r\n          KeyPair pair = keyGen.generateKeyPair();\r\n          privateKeyParam = pair.getPrivate();\r\n          publicKeyParam = pair.getPublic();\r\n    \r\n          /*-byte[] salt = saltStr.getBytes();\r\n          int iterations = 10000;\r\n          int keyLength = 128;\r\n          \r\n          SecretKeyFactory factory = SecretKeyFactory.getInstance(ALGORITHM);\r\n          SecretKey tmp = factory.generateSecret(new PBEKeySpec(passPhraseStr.toCharArray(), salt, iterations, keyLength));\r\n          secretKey = new SecretKeySpec(tmp.getEncoded(), ALGORITHM_SHORT);*/\r\n        } catch (NoSuchAlgorithmException iae) {\r\n          logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\r\n          throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\r\n        } /*-catch (InvalidKeySpecException e) {\r\n          logger.error(_ERR_INVALID_KEY_SPEC, e);\r\n          throw new EncryptionException(_ERR_INVALID_KEY_SPEC, e);\r\n          }*/\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Test method\r\n       *\r\n       * @param args\r\n       */\r\n      public static void main(String[] args) {\r\n        String[] message = { &quot;mktest&quot;, &quot;9248547896548752345&quot;, &quot;okok234234234okok467467&quot;,\r\n            &quot;12&quot; };\r\n        String result = null;\r\n        try {\r\n          SecurityTools secTool = new SecurityTools();\r\n          PrivateKey priv = secTool.getPrivateKeyParam();\r\n          PublicKey publ = secTool.getPublicKeyParam();\r\n          String temp = &quot;N5B1zgbvts3Vwrt6qyL/TBzt62HTFz0ISySx5HFu02oVq1YEhFLbrgdCndROX4/5hMpxCHGM8UJBSyZUfjD/DA==&quot;;\r\n          // System.out.println(&quot;ASYMMETRIC TEST&quot; + secTool.decrypt(temp, priv));\r\n    \r\n          for (String mess : message) {\r\n            result = secTool.encrypt(mess, publ);\r\n            System.out.println(result);\r\n            result = secTool.decrypt(result, priv);\r\n            System.out.println(result);\r\n          }\r\n        } catch (Exception e) {\r\n          System.out.println(e.getMessage());\r\n          e.printStackTrace();\r\n    \r\n        }\r\n      }\r\n    \r\n      /**\r\n       * @return the privateKeyParam\r\n       */\r\n      public PrivateKey getPrivateKeyParam() {\r\n        return privateKeyParam;\r\n      }\r\n    \r\n      /**\r\n       * @return the publicKeyParam\r\n       */\r\n      public PublicKey getPublicKeyParam() {\r\n        return publicKeyParam;\r\n      }\r\n    \r\n      class EncryptionException extends Exception {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public EncryptionException() {}\r\n    \r\n        public EncryptionException(String message, Throwable cause) {\r\n          super(message, cause);\r\n        }\r\n    \r\n        public EncryptionException(String message) {\r\n          super(message);\r\n        }\r\n    \r\n        public EncryptionException(Throwable cause) {\r\n          super(cause);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nWhen I run that as-is it works because the main is doing the encryption and decryption all in one go.  However, when I take the output from a run, and store it in the temp String in main(), and then uncomment the line System.out.println(&quot;ASYMMETRIC TEST&quot; +  is when it fails with\r\n\r\n\r\n    com.ni.apps.cartencryptutil.SecurityTools$EncryptionException: bad padding exception.\r\n    \tat com.ni.apps.cartencryptutil.SecurityTools.decrypt(SecurityTools.java:154)\r\n    \tat com.ni.apps.cartencryptutil.SecurityTools.main(SecurityTools.java:239)\r\n    Caused by: javax.crypto.BadPaddingException: Decryption error\r\n    \tat sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:380)\r\n    \tat sun.security.rsa.RSAPadding.unpad(RSAPadding.java:291)\r\n    \tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:363)\r\n    \tat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:389)\r\n    \tat javax.crypto.Cipher.doFinal(Cipher.java:2165)\r\n    \tat com.ni.apps.cartencryptutil.SecurityTools.decrypt(SecurityTools.java:141)\r\n    \t... 1 more\r\n\r\nI assume my issue is that I am re-generating a new KeyPair each time, which will only work the one time as a pair. So once I try to match a PrivateKey that came from one KeyPair to the text that was encrypted with an entirely different KeyPair, it fails.  But I have yet to find how you are supposed to otherwise achieve this in that case.","title":"How can I decrypt text from one application in another application with asymmetric encryption?","body":"<p>I am trying to understand how I can decrypt a String in one application that I have encrypted in a separate application.  I can do this when I am in a single application execution, and I use the PrivateKey from the same KeyPair that generated the PublicKey.  However, I want to encrypt the value in one application, and decrypt the value in another application.  Basically I have a web service sending value I do not want to be tampered with to an application, and I was planning to use asymmetric encryption to handle it.  Feel free to let me know if I am going about solving that the wrong way.</p>\n\n<p>I have tried various encryption techniques, starting with Symmetric.  The issue I ran into with that is that the value is encrypted to the same text each time - not very useful if my goal is to keep someone from tampering with a value - once they know the encrypted version of some text, they will be able to use that in any request.  I have been trying to follow the standards here - <a href=\"https://www.veracode.com/blog/research/encryption-and-decryption-java-cryptography\" rel=\"nofollow noreferrer\">https://www.veracode.com/blog/research/encryption-and-decryption-java-cryptography</a>\nI can get all my examples working in a single transaction doing the encrypt/decrypt - it is just when I try to encrypt in one request, and decrypt in a second request that I fail.</p>\n\n<p>Here is my current working example:</p>\n\n<pre><code>package com.ni.apps.cartencryptutil;\n\nimport java.io.UnsupportedEncodingException;\nimport java.security.InvalidKeyException;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.SecureRandom;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.xml.bind.DatatypeConverter;\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.log4j.Logger;\n\n/**\n * Security class for encrypting and decrypting Strings (that also works in WC ver 7 and above)\n *\n * @author \n *\n */\npublic class SecurityTools {\n  private static final Logger logger = Logger.getLogger(SecurityTools.class);\n\n  private Cipher cipher;\n  private IvParameterSpec initVector;\n  private SecretKey secretKey;\n  PrivateKey privateKeyParam;\n  PublicKey publicKeyParam;\n  private static SecureRandom secureRandom = new SecureRandom();\n\n  private static final String TRANSFORMATION = \"RSA/ECB/OAEPWithSHA-1AndMGF1Padding\";\n  private static final String ALGORITHM_SHORT = \"RSA\";\n  private static final String RNG_ALGORITHM = \"SHA1PRNG\";\n  private static final String ALGORITHM = \"PBKDF2WithHmacSHA256\";\n  private static final String UTF8 = \"UTF-8\";\n\n  // exceptions\n  private static final String _ERR_ILLEGAL_BLOCK_SIZE = \"illegal block size exception.\";\n  private static final String _ERR_BAD_PADDING = \"bad padding exception.\";\n  private static final String _ERR_INVALIDKEY = \"invalidkey exception.\";\n  private static final String _ERR_PADDING = \"padding exception.\";\n  private static final String _ERR_NO_SUCH_ALGORITHM = \"no such algorithm exception.\";\n  private static final String _ERR_PASSPHRASE_IS_NULL = \"passphrase is null.\";\n  private static final String _ERR_INVALID_ALGORITHM = \"invalid algorithm exception.\";\n  private static final String _ERR_UNSUPPORTED_ENCODING = \"encoding not supported.\";\n  private static final String _ERR_INVALID_KEY_SPEC = \"invalid key spec exception.\";\n\n  /**\n   * Constructor\n   *\n   * @throws EncryptionException\n   */\n  public SecurityTools() throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering Constructor\");\n    }\n    try {\n      cipher = Cipher.getInstance(ALGORITHM_SHORT);\n      generateIV();\n      generateKeys();\n    } catch (NoSuchAlgorithmException iae) {\n      logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\n      throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\n    } catch (NoSuchPaddingException nspe) {\n      logger.error(_ERR_PADDING, nspe);\n      throw new EncryptionException(_ERR_PADDING, nspe);\n    }\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting Constructor\");\n    }\n  }\n\n  /**\n   * Encrypts a given plain text String, and returns the encrypted String\n   *\n   * @param plainText\n   * @return\n   * @throws EncryptionException\n   */\n  public String encrypt(String plainText, PublicKey publicKey) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering encrypt\");\n    }\n\n    String encryptedKey = null;\n    try {\n      byte[] byteToEncrypt = plainText.getBytes(UTF8);\n      cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n      byte[] encryptedBytes = cipher.doFinal(byteToEncrypt);\n      encryptedKey = DatatypeConverter.printBase64Binary(encryptedBytes);\n    } catch (IllegalArgumentException iae) {\n      logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\n      throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\n    } catch (InvalidKeyException ike) {\n      logger.error(_ERR_INVALIDKEY, ike);\n      throw new EncryptionException(_ERR_INVALIDKEY, ike);\n    } catch (BadPaddingException bpe) {\n      logger.error(_ERR_BAD_PADDING, bpe);\n      throw new EncryptionException(_ERR_BAD_PADDING, bpe);\n    } catch (IllegalBlockSizeException bpe) {\n      logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n      throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n    } catch (UnsupportedEncodingException uee) {\n      logger.error(_ERR_UNSUPPORTED_ENCODING, uee);\n      throw new EncryptionException(_ERR_UNSUPPORTED_ENCODING, uee);\n    } /*-catch (InvalidAlgorithmParameterException iape) {\n      logger.error(_ERR_INVALID_ALGORITHM, iape);\n      throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\n      }*/\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting encrypt\");\n    }\n\n    return encryptedKey;\n  }\n\n  /**\n   * Decrypts a given encrypted String, and returns the plain text String\n   *\n   * @param cipherTextStr\n   * @return\n   * @throws EncryptionException\n   */\n  public String decrypt(String cipherTextStr, PrivateKey privateKey) throws EncryptionException {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering decrypt\");\n    }\n\n    String cleartext = null;\n    try {\n      cipher.init(Cipher.DECRYPT_MODE, privateKey);\n      byte[] plainByte = cipher.doFinal(DatatypeConverter.parseBase64Binary(cipherTextStr));\n      cleartext = new String(plainByte);\n    } /*-catch (InvalidAlgorithmParameterException iape) {\n      logger.error(_ERR_INVALID_ALGORITHM, iape);\n      throw new EncryptionException(_ERR_INVALID_ALGORITHM, iape);\n      } */catch (IllegalArgumentException iae) {\n      logger.error(_ERR_PASSPHRASE_IS_NULL, iae);\n      throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL, iae);\n    } catch (InvalidKeyException ike) {\n      logger.error(_ERR_INVALIDKEY, ike);\n      throw new EncryptionException(_ERR_INVALIDKEY, ike);\n    } catch (BadPaddingException bpe) {\n      logger.error(_ERR_BAD_PADDING, bpe);\n      throw new EncryptionException(_ERR_BAD_PADDING, bpe);\n    } catch (IllegalBlockSizeException bpe) {\n      logger.error(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n      throw new EncryptionException(_ERR_ILLEGAL_BLOCK_SIZE, bpe);\n    }\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting decrypt\");\n    }\n\n    return cleartext;\n  }\n\n  /**\n   * Creates the IV using Secure Random Number Generator and an empty 16byte array\n   *\n   * @return\n   */\n  private void generateIV() {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"entering generateIV\");\n    }\n\n    byte[] newSeed = secureRandom.generateSeed(16);\n    secureRandom.setSeed(newSeed);\n    byte[] byteIV = new byte[16];\n    secureRandom.nextBytes(byteIV);\n    initVector = new IvParameterSpec(byteIV);\n\n    if (logger.isDebugEnabled()) {\n      logger.debug(\"exiting generateIV\");\n    }\n  }\n\n  /**\n   * Generates the Key used for decryption and encryption\n   *\n   * @throws EncryptionException\n   */\n  private void generateKeys() throws EncryptionException {\n\n    try {\n      String saltStr = \"salty\";// rbConfig.getString(\"salt\");\n      String passPhraseStr = \"passy\";// rbConfig.getString(\"passphrase\");\n      if (StringUtils.isEmpty(saltStr) || StringUtils.isEmpty(passPhraseStr)) {\n        throw new EncryptionException(_ERR_PASSPHRASE_IS_NULL);\n      }\n\n      KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\n      keyGen.initialize(512); // key size specified here.\n      KeyPair pair = keyGen.generateKeyPair();\n      privateKeyParam = pair.getPrivate();\n      publicKeyParam = pair.getPublic();\n\n      /*-byte[] salt = saltStr.getBytes();\n      int iterations = 10000;\n      int keyLength = 128;\n\n      SecretKeyFactory factory = SecretKeyFactory.getInstance(ALGORITHM);\n      SecretKey tmp = factory.generateSecret(new PBEKeySpec(passPhraseStr.toCharArray(), salt, iterations, keyLength));\n      secretKey = new SecretKeySpec(tmp.getEncoded(), ALGORITHM_SHORT);*/\n    } catch (NoSuchAlgorithmException iae) {\n      logger.error(_ERR_NO_SUCH_ALGORITHM, iae);\n      throw new EncryptionException(_ERR_NO_SUCH_ALGORITHM, iae);\n    } /*-catch (InvalidKeySpecException e) {\n      logger.error(_ERR_INVALID_KEY_SPEC, e);\n      throw new EncryptionException(_ERR_INVALID_KEY_SPEC, e);\n      }*/\n\n  }\n\n  /**\n   * Test method\n   *\n   * @param args\n   */\n  public static void main(String[] args) {\n    String[] message = { \"mktest\", \"9248547896548752345\", \"okok234234234okok467467\",\n        \"12\" };\n    String result = null;\n    try {\n      SecurityTools secTool = new SecurityTools();\n      PrivateKey priv = secTool.getPrivateKeyParam();\n      PublicKey publ = secTool.getPublicKeyParam();\n      String temp = \"N5B1zgbvts3Vwrt6qyL/TBzt62HTFz0ISySx5HFu02oVq1YEhFLbrgdCndROX4/5hMpxCHGM8UJBSyZUfjD/DA==\";\n      // System.out.println(\"ASYMMETRIC TEST\" + secTool.decrypt(temp, priv));\n\n      for (String mess : message) {\n        result = secTool.encrypt(mess, publ);\n        System.out.println(result);\n        result = secTool.decrypt(result, priv);\n        System.out.println(result);\n      }\n    } catch (Exception e) {\n      System.out.println(e.getMessage());\n      e.printStackTrace();\n\n    }\n  }\n\n  /**\n   * @return the privateKeyParam\n   */\n  public PrivateKey getPrivateKeyParam() {\n    return privateKeyParam;\n  }\n\n  /**\n   * @return the publicKeyParam\n   */\n  public PublicKey getPublicKeyParam() {\n    return publicKeyParam;\n  }\n\n  class EncryptionException extends Exception {\n\n    private static final long serialVersionUID = 1L;\n\n    public EncryptionException() {}\n\n    public EncryptionException(String message, Throwable cause) {\n      super(message, cause);\n    }\n\n    public EncryptionException(String message) {\n      super(message);\n    }\n\n    public EncryptionException(Throwable cause) {\n      super(cause);\n    }\n  }\n}\n</code></pre>\n\n<p>When I run that as-is it works because the main is doing the encryption and decryption all in one go.  However, when I take the output from a run, and store it in the temp String in main(), and then uncomment the line System.out.println(\"ASYMMETRIC TEST\" +  is when it fails with</p>\n\n<pre><code>com.ni.apps.cartencryptutil.SecurityTools$EncryptionException: bad padding exception.\n    at com.ni.apps.cartencryptutil.SecurityTools.decrypt(SecurityTools.java:154)\n    at com.ni.apps.cartencryptutil.SecurityTools.main(SecurityTools.java:239)\nCaused by: javax.crypto.BadPaddingException: Decryption error\n    at sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:380)\n    at sun.security.rsa.RSAPadding.unpad(RSAPadding.java:291)\n    at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:363)\n    at com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:389)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2165)\n    at com.ni.apps.cartencryptutil.SecurityTools.decrypt(SecurityTools.java:141)\n    ... 1 more\n</code></pre>\n\n<p>I assume my issue is that I am re-generating a new KeyPair each time, which will only work the one time as a pair. So once I try to match a PrivateKey that came from one KeyPair to the text that was encrypted with an entirely different KeyPair, it fails.  But I have yet to find how you are supposed to otherwise achieve this in that case.</p>\n"},{"tags":["java","applet","awt"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1702230178,"post_id":77635781,"comment_id":136868322,"body_markdown":"You may be here too early since this isn&#39;t a &quot;please give me the code&quot; type of site, and instead best to come here *after* you&#39;ve at least given it a try, and then show your code, and explain the problem that you may be having with it.","body":"You may be here too early since this isn&#39;t a &quot;please give me the code&quot; type of site, and instead best to come here <i>after</i> you&#39;ve at least given it a try, and then show your code, and explain the problem that you may be having with it."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1702230218,"post_id":77635781,"comment_id":136868328,"body_markdown":"Besides, you would probably provide more motivation for a volunteer to help if you show that you&#39;re willing to put in effort yourself.","body":"Besides, you would probably provide more motivation for a volunteer to help if you show that you&#39;re willing to put in effort yourself."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1702230584,"post_id":77635781,"comment_id":136868363,"body_markdown":"Also, this question begs another question -- why are you trying to create applets or use the AWT GUI library? Both are long-dead. Is this for a class requirement? If so, then that class needs to be updated to 2015 much less 2023.","body":"Also, this question begs another question -- why are you trying to create applets or use the AWT GUI library? Both are long-dead. Is this for a class requirement? If so, then that class needs to be updated to 2015 much less 2023."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1702230653,"post_id":77635781,"comment_id":136868373,"body_markdown":"I’m voting to close this question because Homework questions, while welcome, should show existing effort, a description of the particular problem encountered and where it was encountered.","body":"I’m voting to close this question because Homework questions, while welcome, should show existing effort, a description of the particular problem encountered and where it was encountered."}],"owner":{"account_id":27072542,"reputation":1,"user_id":20622983,"display_name":"Isha Akram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702230653,"answer_count":0,"score":-2,"last_activity_date":1702230061,"creation_date":1702230061,"question_id":77635781,"body_markdown":" Create a java applet that include at least 3 a w t control such as buttons labels combo box and implement functionality for each control. Actually I am new to Java and I don&#39;t know how to do these things so please help me to give me the code with output and a bit of explanation\r\n\r\n","title":"Applet with a w t controls","body":"<p>Create a java applet that include at least 3 a w t control such as buttons labels combo box and implement functionality for each control. Actually I am new to Java and I don't know how to do these things so please help me to give me the code with output and a bit of explanation</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1702222821,"post_id":77635366,"comment_id":136867508,"body_markdown":"Please provide a [MRE].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":3,"creation_date":1702223077,"post_id":77635366,"comment_id":136867530,"body_markdown":"Without a minimal reproducible example, the only guess I can make is that you coded it wrong, and instead of trying on one lock, each thread has a lock and they lock on their own lock.","body":"Without a minimal reproducible example, the only guess I can make is that you coded it wrong, and instead of trying on one lock, each thread has a lock and they lock on their own lock."},{"owner":{"account_id":30112037,"reputation":1,"user_id":23076313,"display_name":"Debanshu Panigrahi"},"score":0,"creation_date":1702223365,"post_id":77635366,"comment_id":136867564,"body_markdown":"i&#39;VE updated in problem","body":"i&#39;VE updated in problem"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1702223447,"post_id":77635366,"comment_id":136867574,"body_markdown":"That is not an MRE. We do not know what is the contents of MyRunnable. But I can already know that because you call the constructor of MyRunnable without passing any values, your issue is exactly what I have guessed. You coded the runnable wrong","body":"That is not an MRE. We do not know what is the contents of MyRunnable. But I can already know that because you call the constructor of MyRunnable without passing any values, your issue is exactly what I have guessed. You coded the runnable wrong"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1702223888,"post_id":77635366,"comment_id":136867617,"body_markdown":"I would also go as far to bet that you probably even included `this.r1 = new ReentrantLock();` in your MyRunnable constructor or `ReentrantLock r1 = new ReentrantLock();` as a field variable. Though, it might work if it was a __static__ variable","body":"I would also go as far to bet that you probably even included <code>this.r1 = new ReentrantLock();</code> in your MyRunnable constructor or <code>ReentrantLock r1 = new ReentrantLock();</code> as a field variable. Though, it might work if it was a <b>static</b> variable"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1702224522,"post_id":77635366,"comment_id":136867679,"body_markdown":"[Cannot reproduce (`ideone.com`)](https://ideone.com/DV9o8W).","body":"<a href=\"https://ideone.com/DV9o8W\" rel=\"nofollow noreferrer\">Cannot reproduce (<code>ideone.com</code>)</a>."},{"owner":{"account_id":30112037,"reputation":1,"user_id":23076313,"display_name":"Debanshu Panigrahi"},"score":0,"creation_date":1702225983,"post_id":77635366,"comment_id":136867826,"body_markdown":"Thanks. I&#39;ve also changed some implementation logic and able get  intended solution [updated]","body":"Thanks. I&#39;ve also changed some implementation logic and able get  intended solution [updated]"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702226332,"post_id":77635366,"comment_id":136867870,"body_markdown":"Making something static isn’t a logic change.","body":"Making something static isn’t a logic change."}],"owner":{"account_id":30112037,"reputation":1,"user_id":23076313,"display_name":"Debanshu Panigrahi"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702229072,"answer_count":0,"score":-3,"last_activity_date":1702229167,"creation_date":1702222512,"question_id":77635366,"body_markdown":"```java    \r\npublic void run () {\r\n    if (rl.tryLock()) {\r\n        System.out.println(&quot;lock is acquired by &quot;+Thread.currentThread().getName());\r\n        System.out.println(Thread.currentThread().getName()+&quot; is executing...&quot;);\r\n        try {\r\n            Thread.sleep(100);\r\n        } catch (InterruptedException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        System.out.println(Thread.currentThread().getName() + &quot; releases lock&quot;);    \r\n        rl.unlock();\r\n    }\r\n```\r\n```\r\nclass Test1 {\r\n    public static void main(String[] args) {\r\n        Myrunnable[] r = {new Myrunnable(),new Myrunnable(),new Myrunnable(),new Myrunnable()};\r\n        ExecutorService exc = Executors.newFixedThreadPool(6);\r\n        for (Myrunnable myrunnable : r) {\r\n            exc.submit(myrunnable);\r\n        }\r\n        exc.shutdown();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nEven if I use `tryLock()`, multiple threads get access to &#39;rl&#39; at a time. I was expecting execution of a single thread one by one, such that:\r\n\r\n```none\r\nlock is acquired by pool-1-thread-1\r\npool-1-thread-1 is executing...\r\npool-1-thread-1 releases lock\r\nso on\r\n...\r\n```\r\n\r\n\r\nHowever, the actual output is:\r\n\r\n```none\r\nlock is acquired by pool-1-thread-1\r\nlock is acquired by pool-1-thread-3\r\nlock is acquired by pool-1-thread-2\r\nlock is acquired by pool-1-thread-4\r\npool-1-thread-1 is executing...\r\npool-1-thread-3 is executing...\r\npool-1-thread-2 is executing...\r\npool-1-thread-4 is executing...\r\npool-1-thread-1 releases lock\r\npool-1-thread-3 releases lock\r\npool-1-thread-4 releases lock\r\npool-1-thread-2 releases lock\r\n```\r\n\r\nupdated run method :\r\n```java\r\nboolean isAcquired = false;  // to keep track whether lock has been acquired or not \r\nstatic ReentrantLock rl=new ReentrantLock();  \r\n\r\npublic void run () {  \r\n    do {  \r\n        if (rl.tryLock()) {  \r\n            try {  \r\n                System.out.println(&quot;Lock is acquired by &quot; + Thread.currentThread().getName());  \r\n                System.out.println(Thread.currentThread().getName() + &quot; is executing...&quot;);  \r\n                try {  \r\n                    Thread.sleep(100);  \r\n                } catch (InterruptedException e) {  \r\n                    e.printStackTrace();  \r\n                } \r\n                System.out.println(Thread.currentThread().getName() + &quot; releases lock&quot;);  \r\n            } finally {  \r\n                rl.unlock();    // always release lock after execution       \r\n                isAcquired = true;  // lock has been acquired  \r\n            }  \r\n        } else {  \r\n            try {  \r\n                Thread.sleep(100);   \r\n            } catch (InterruptedException e) {  \r\n                e.printStackTrace();  \r\n            }  \r\n        }  \r\n    } while (! isAcquired);  // iterate until condition breaks\r\n}  \r\n```\r\nAnd here goes the result:\r\n\r\n```none\r\nLock is acquired by pool-1-thread-1  \r\npool-1-thread-1 is executing...  \r\npool-1-thread-1 releases lock  \r\nLock is acquired by pool-1-thread-2  \r\npool-1-thread-2 is executing...  \r\npool-1-thread-2 releases lock  \r\nLock is acquired by pool-1-thread-4  \r\npool-1-thread-4 is executing...  \r\npool-1-thread-4 releases lock\r\nLock is acquired by pool-1-thread-3  \r\npool-1-thread-3 is executing...  \r\npool-1-thread-3 releases lock  \r\n```\r\n","title":"Can multiple threads get lock of same ReentrantLock object if tryLock() is used?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void run () {\n    if (rl.tryLock()) {\n        System.out.println(&quot;lock is acquired by &quot;+Thread.currentThread().getName());\n        System.out.println(Thread.currentThread().getName()+&quot; is executing...&quot;);\n        try {\n            Thread.sleep(100);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        System.out.println(Thread.currentThread().getName() + &quot; releases lock&quot;);    \n        rl.unlock();\n    }\n</code></pre>\n<pre><code>class Test1 {\n    public static void main(String[] args) {\n        Myrunnable[] r = {new Myrunnable(),new Myrunnable(),new Myrunnable(),new Myrunnable()};\n        ExecutorService exc = Executors.newFixedThreadPool(6);\n        for (Myrunnable myrunnable : r) {\n            exc.submit(myrunnable);\n        }\n        exc.shutdown();\n    }\n}\n</code></pre>\n<p>Even if I use <code>tryLock()</code>, multiple threads get access to 'rl' at a time. I was expecting execution of a single thread one by one, such that:</p>\n<pre class=\"lang-none prettyprint-override\"><code>lock is acquired by pool-1-thread-1\npool-1-thread-1 is executing...\npool-1-thread-1 releases lock\nso on\n...\n</code></pre>\n<p>However, the actual output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>lock is acquired by pool-1-thread-1\nlock is acquired by pool-1-thread-3\nlock is acquired by pool-1-thread-2\nlock is acquired by pool-1-thread-4\npool-1-thread-1 is executing...\npool-1-thread-3 is executing...\npool-1-thread-2 is executing...\npool-1-thread-4 is executing...\npool-1-thread-1 releases lock\npool-1-thread-3 releases lock\npool-1-thread-4 releases lock\npool-1-thread-2 releases lock\n</code></pre>\n<p>updated run method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isAcquired = false;  // to keep track whether lock has been acquired or not \nstatic ReentrantLock rl=new ReentrantLock();  \n\npublic void run () {  \n    do {  \n        if (rl.tryLock()) {  \n            try {  \n                System.out.println(&quot;Lock is acquired by &quot; + Thread.currentThread().getName());  \n                System.out.println(Thread.currentThread().getName() + &quot; is executing...&quot;);  \n                try {  \n                    Thread.sleep(100);  \n                } catch (InterruptedException e) {  \n                    e.printStackTrace();  \n                } \n                System.out.println(Thread.currentThread().getName() + &quot; releases lock&quot;);  \n            } finally {  \n                rl.unlock();    // always release lock after execution       \n                isAcquired = true;  // lock has been acquired  \n            }  \n        } else {  \n            try {  \n                Thread.sleep(100);   \n            } catch (InterruptedException e) {  \n                e.printStackTrace();  \n            }  \n        }  \n    } while (! isAcquired);  // iterate until condition breaks\n}  \n</code></pre>\n<p>And here goes the result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Lock is acquired by pool-1-thread-1  \npool-1-thread-1 is executing...  \npool-1-thread-1 releases lock  \nLock is acquired by pool-1-thread-2  \npool-1-thread-2 is executing...  \npool-1-thread-2 releases lock  \nLock is acquired by pool-1-thread-4  \npool-1-thread-4 is executing...  \npool-1-thread-4 releases lock\nLock is acquired by pool-1-thread-3  \npool-1-thread-3 is executing...  \npool-1-thread-3 releases lock  \n</code></pre>\n"},{"tags":["java","persistence"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702176279,"post_id":77633534,"comment_id":136864508,"body_markdown":"I think this is a duplicate of https://stackoverflow.com/questions/35511860.  Basically, you need to tell your IDE to update the project classpath.  `mvn clean install` is insufficient.","body":"I think this is a duplicate of <a href=\"https://stackoverflow.com/questions/35511860\">stackoverflow.com/questions/35511860</a>.  Basically, you need to tell your IDE to update the project classpath.  <code>mvn clean install</code> is insufficient."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1702177463,"post_id":77633534,"comment_id":136864553,"body_markdown":"&quot;*I added this dependency to the pom and did mvn clean install:*&quot; - This should not be necessary; spring-boot should manage the version. If you need to explicitly add this dependency, something else in the project setup is at least fishy. Can you provide a [MRE]?","body":"&quot;<i>I added this dependency to the pom and did mvn clean install:</i>&quot; - This should not be necessary; spring-boot should manage the version. If you need to explicitly add this dependency, something else in the project setup is at least fishy. Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1702184621,"post_id":77633534,"comment_id":136864823,"body_markdown":"Remove your shown dependency and add `spring-boot-starter-data-jpa`.","body":"Remove your shown dependency and add <code>spring-boot-starter-data-jpa</code>."}],"owner":{"account_id":11556177,"reputation":81,"user_id":8616517,"display_name":"aluuusch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702228915,"creation_date":1702175960,"question_id":77633534,"body_markdown":"using `Java 17` (double checked) and `Springboot 3.2` (double checked) I learnt that I should use the `jakarta.persistence.api` instead of the one from `javax`.\r\n\r\nI added this dependency to the pom and did `mvn clean install`:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe import for `jakarta` in my java.class would not work though (Cannot resolve symbol `jakarta` when hovering over `jakarta`)\r\n\r\n    package model;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n\r\nI&#39;d appreciate if anyone could provide some help.\r\nThank you very much\r\n","title":"Jakarta.persistence-API not found in Java project","body":"<p>using <code>Java 17</code> (double checked) and <code>Springboot 3.2</code> (double checked) I learnt that I should use the <code>jakarta.persistence.api</code> instead of the one from <code>javax</code>.</p>\n<p>I added this dependency to the pom and did <code>mvn clean install</code>:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n&lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The import for <code>jakarta</code> in my java.class would not work though (Cannot resolve symbol <code>jakarta</code> when hovering over <code>jakarta</code>)</p>\n<pre><code>package model;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n</code></pre>\n<p>I'd appreciate if anyone could provide some help.\nThank you very much</p>\n"},{"tags":["java","class","oop","enums","access-modifiers"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1594132358,"post_id":62777492,"comment_id":111015530,"body_markdown":"It will surely work, but what is the use of declaring them `private`? The fields referencing them can&#39;t be retrieved or set by anyone using your `AirCraft` class.","body":"It will surely work, but what is the use of declaring them <code>private</code>? The fields referencing them can&#39;t be retrieved or set by anyone using your <code>AirCraft</code> class."},{"owner":{"account_id":18773404,"reputation":191,"user_id":13741986,"display_name":"Hello World"},"score":0,"creation_date":1594132826,"post_id":62777492,"comment_id":111015806,"body_markdown":"@Lino-Votedon&#39;tsayThanks you&#39;re right, that wouldn&#39;t make much sense for them to be private. Do you think that these enum classes being inside the AirCraft class is okay though? Or should they be in class files of their own?","body":"@Lino-Votedon&#39;tsayThanks you&#39;re right, that wouldn&#39;t make much sense for them to be private. Do you think that these enum classes being inside the AirCraft class is okay though? Or should they be in class files of their own?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1594133101,"post_id":62777492,"comment_id":111015969,"body_markdown":"Inner classes/enums only make sense when they are used together with the enclosing class (e.g. they are tightly coupled and really only make sense when used together). Your `AirType` would make sense to be in your class, but `AirFixTime` could aswell be used for different classes.","body":"Inner classes/enums only make sense when they are used together with the enclosing class (e.g. they are tightly coupled and really only make sense when used together). Your <code>AirType</code> would make sense to be in your class, but <code>AirFixTime</code> could aswell be used for different classes."},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1594133164,"post_id":62777492,"comment_id":111016005,"body_markdown":"To get started, I would always put classes and enums in their own file. Not private classes and no private enums. They can mess up your code quickly and there is absolutely no need. If you want to keep order in your program and if you want to manage access to certain classes or enums, then put them in packages and make the them package `protected` (instead of public)","body":"To get started, I would always put classes and enums in their own file. Not private classes and no private enums. They can mess up your code quickly and there is absolutely no need. If you want to keep order in your program and if you want to manage access to certain classes or enums, then put them in packages and make the them package <code>protected</code> (instead of public)"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1594133550,"post_id":62777492,"comment_id":111016214,"body_markdown":"Yes, it is possible and it works (just like you can have inner classes and nested static classes), but whether or not it is the &#39;right&#39; choice is a matter of opinion.","body":"Yes, it is possible and it works (just like you can have inner classes and nested static classes), but whether or not it is the &#39;right&#39; choice is a matter of opinion."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1594135648,"post_id":62777492,"comment_id":111017428,"body_markdown":"This Question **should be reopened**. Being closed for being “Opinion-based” is not appropriate here. That closing rule is designed to avoid open-ended long-winded discussions going on and on without resolution. This Question can be neatly answered with brief explanation.","body":"This Question <b>should be reopened</b>. Being closed for being “Opinion-based” is not appropriate here. That closing rule is designed to avoid open-ended long-winded discussions going on and on without resolution. This Question can be neatly answered with brief explanation."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1594198541,"post_id":62777492,"comment_id":111039445,"body_markdown":"@BasilBourque I&#39;m trusting you on that assumption","body":"@BasilBourque I&#39;m trusting you on that assumption"}],"answers":[{"tags":[],"owner":{"account_id":1419077,"reputation":51,"user_id":1344089,"display_name":"dominor_bifrous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594133441,"creation_date":1594133147,"answer_id":62777891,"question_id":62777492,"body_markdown":"Technically, your code is properly written. Uses of enums depends of the functionality. Remember that the access modifiers are used to manage what you going to share or show to others. Right now your code is correct if the enums is going to be used just inside AirCraft.\r\n\r\nTake a look at [this][1]\r\n\r\n\r\n  [1]: https://crunchify.com/why-and-for-what-should-i-use-enum-java-enum-examples/","title":"Is this proper enum practice in Java?","body":"<p>Technically, your code is properly written. Uses of enums depends of the functionality. Remember that the access modifiers are used to manage what you going to share or show to others. Right now your code is correct if the enums is going to be used just inside AirCraft.</p>\n<p>Take a look at <a href=\"https://crunchify.com/why-and-for-what-should-i-use-enum-java-enum-examples/\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1702228876,"creation_date":1594227610,"answer_id":62799864,"question_id":62777492,"body_markdown":"You have a choice of three places to put an enum definition.\r\n\r\n - Class of its own.\r\n - Nested within another class.\r\n - Locally, within a method (Java 16+)\r\n\r\n# Context is key\r\n\r\nYou can place your enum definition anywhere that makes sense to you. It all depends on context.\r\n\r\n - If your enum is meant to be used in other code, on its own, put the enum in its own class. \r\n - If the enum really only makes sense when used within the context of a\r\n   particular class, then nest the enum. \r\n   - If the enum objects are used only within the parent class’ own source code, make the enum definition `private`.\r\n   - If the enum objects might be used by outside code working with objects of the parent class, make the nested class `public`. For example, a report building class might want to sort aircraft parts by their assigned `AirCraft.Color` enum object, to gather together all the [safety-orange][1] parts.\r\n\r\nFor example, consider the `Month` and `DayOfWeek` enum classes built into Java as part of the *java.time* classes. These enum definitions live in their own separate classes because they may be used in many different contexts, without the involvement of other *java.time* classes. These enums could be used on their own in workflow apps, sales reports, accounting apps, and more.\r\n\r\nIn contrast, imagine a UI framework tracking mouse events. There we might find a `Event` enum for mouse events, defining objects named `HOVER`, `CLICKED`, and `DRAGGED`. This enum would best be housed within the `Mouse` class as it only has meaning within the context of the outer mouse-handling class.\r\n\r\nAnother example, colors. \r\n\r\n - An enum listing all [the standard colors][2] named in [Cascading Style Sheets (CSS)][3] should be in its own class, as many kinds of code may use that. \r\n - An enum listing colors used in color-coding parts of your aircraft should be nested within the `AirCraft` class, its only sensible context.\r\n\r\nUsages: \r\n\r\n    myWebPage.setBackground( CssColor.DARK_SLATE_GREY ) ;  // This enum could be used on its own with many classes in different frameworks. So define enum in a separate class..\r\n\r\n    myAircraft.getEmergencyStopButton().setColor( AirCraft.Color.SAFETY_ORANGE ) ;  // This enum is only ever used in contexts using its parent class, so nest the enum definition. \r\n\r\nIf nesting, think about your naming. I would likely name the enum `Color` rather than `AircraftColor`, because the nested notation `AirCraft.Color.x` makes clear the context. On the other hand, some folks like to use a `static import` to be able to use [`Color.x` without the `AirCraft.` prefix][4] (not my preference). \r\n\r\n## Local enums\r\n\r\nNew in Java 16 will be local enums (previewed in Java 15). That means enums defined within a method. \r\n\r\nThis new feature seems to be documented only as a mention within the new Records feature: [*JEP 384: Records (Second Preview)*](https://openjdk.java.net/jeps/384).\r\n\r\n    private void demoLocalEnum ( )\r\n    {\r\n        enum Color { PURPLE , SAFETY_ORANGE }\r\n        System.out.println( Color.PURPLE ) ;\r\n    }\r\n\r\nAs we can see in this screenshot, the enum only exists within the method containing its declaration. A sibling method on the same class does not know of the enum’s existence. In this example, trying to use the enum within another method generates an error within the IDE’s code editor.\r\n\r\n[![Screenshot of error &quot;Cannot resolve symbol &#39;Color&#39;&quot; caused by trying to use in an enum defined locally in another method.][5]][5]\r\n\r\nUse this where your enum makes sense only within one chunk of code. If your enum is only used within a single method, then declaring it as a nested class draws undue attention. Being tucked away inside that method is more tidy.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Safety_orange\r\n  [2]: https://en.wikipedia.org/wiki/Web_colors#CSS_colors\r\n  [3]: https://en.wikipedia.org/wiki/Cascading_Style_Sheets\r\n  [4]: https://stackoverflow.com/q/1677037/642706\r\n  [5]: https://i.stack.imgur.com/z5PPP.png","title":"Is this proper enum practice in Java?","body":"<p>You have a choice of three places to put an enum definition.</p>\n<ul>\n<li>Class of its own.</li>\n<li>Nested within another class.</li>\n<li>Locally, within a method (Java 16+)</li>\n</ul>\n<h1>Context is key</h1>\n<p>You can place your enum definition anywhere that makes sense to you. It all depends on context.</p>\n<ul>\n<li>If your enum is meant to be used in other code, on its own, put the enum in its own class.</li>\n<li>If the enum really only makes sense when used within the context of a\nparticular class, then nest the enum.\n<ul>\n<li>If the enum objects are used only within the parent class’ own source code, make the enum definition <code>private</code>.</li>\n<li>If the enum objects might be used by outside code working with objects of the parent class, make the nested class <code>public</code>. For example, a report building class might want to sort aircraft parts by their assigned <code>AirCraft.Color</code> enum object, to gather together all the <a href=\"https://en.wikipedia.org/wiki/Safety_orange\" rel=\"nofollow noreferrer\">safety-orange</a> parts.</li>\n</ul>\n</li>\n</ul>\n<p>For example, consider the <code>Month</code> and <code>DayOfWeek</code> enum classes built into Java as part of the <em>java.time</em> classes. These enum definitions live in their own separate classes because they may be used in many different contexts, without the involvement of other <em>java.time</em> classes. These enums could be used on their own in workflow apps, sales reports, accounting apps, and more.</p>\n<p>In contrast, imagine a UI framework tracking mouse events. There we might find a <code>Event</code> enum for mouse events, defining objects named <code>HOVER</code>, <code>CLICKED</code>, and <code>DRAGGED</code>. This enum would best be housed within the <code>Mouse</code> class as it only has meaning within the context of the outer mouse-handling class.</p>\n<p>Another example, colors.</p>\n<ul>\n<li>An enum listing all <a href=\"https://en.wikipedia.org/wiki/Web_colors#CSS_colors\" rel=\"nofollow noreferrer\">the standard colors</a> named in <a href=\"https://en.wikipedia.org/wiki/Cascading_Style_Sheets\" rel=\"nofollow noreferrer\">Cascading Style Sheets (CSS)</a> should be in its own class, as many kinds of code may use that.</li>\n<li>An enum listing colors used in color-coding parts of your aircraft should be nested within the <code>AirCraft</code> class, its only sensible context.</li>\n</ul>\n<p>Usages:</p>\n<pre><code>myWebPage.setBackground( CssColor.DARK_SLATE_GREY ) ;  // This enum could be used on its own with many classes in different frameworks. So define enum in a separate class..\n\nmyAircraft.getEmergencyStopButton().setColor( AirCraft.Color.SAFETY_ORANGE ) ;  // This enum is only ever used in contexts using its parent class, so nest the enum definition. \n</code></pre>\n<p>If nesting, think about your naming. I would likely name the enum <code>Color</code> rather than <code>AircraftColor</code>, because the nested notation <code>AirCraft.Color.x</code> makes clear the context. On the other hand, some folks like to use a <code>static import</code> to be able to use <a href=\"https://stackoverflow.com/q/1677037/642706\"><code>Color.x</code> without the <code>AirCraft.</code> prefix</a> (not my preference).</p>\n<h2>Local enums</h2>\n<p>New in Java 16 will be local enums (previewed in Java 15). That means enums defined within a method.</p>\n<p>This new feature seems to be documented only as a mention within the new Records feature: <a href=\"https://openjdk.java.net/jeps/384\" rel=\"nofollow noreferrer\"><em>JEP 384: Records (Second Preview)</em></a>.</p>\n<pre><code>private void demoLocalEnum ( )\n{\n    enum Color { PURPLE , SAFETY_ORANGE }\n    System.out.println( Color.PURPLE ) ;\n}\n</code></pre>\n<p>As we can see in this screenshot, the enum only exists within the method containing its declaration. A sibling method on the same class does not know of the enum’s existence. In this example, trying to use the enum within another method generates an error within the IDE’s code editor.</p>\n<p><a href=\"https://i.stack.imgur.com/z5PPP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5PPP.png\" alt=\"Screenshot of error &quot;Cannot resolve symbol 'Color'&quot; caused by trying to use in an enum defined locally in another method.\" /></a></p>\n<p>Use this where your enum makes sense only within one chunk of code. If your enum is only used within a single method, then declaring it as a nested class draws undue attention. Being tucked away inside that method is more tidy.</p>\n"}],"owner":{"account_id":18773404,"reputation":191,"user_id":13741986,"display_name":"Hello World"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62799864,"answer_count":2,"score":3,"last_activity_date":1702228876,"creation_date":1594131921,"question_id":62777492,"body_markdown":"I just started learning enums in Java and although the concept seems straightforward, its application isn&#39;t really intuitive to me. I see that I can put enums inside of classes although they are classes themselves.\r\n\r\nI also saw online some people say you can only have one enum in a class, or that you shouldn&#39;t put all enums in a single class unless they are put private.\r\n\r\nThus, I&#39;m a bit confused, would this piece of code be a proper writing of enum?\r\n\r\nThanks.\r\n\r\n```\r\npublic class AirCraft \r\n{\r\n    private AirType type;\r\n    private AirFixTime maintainTime;\r\n    \r\n    private enum AirType\r\n    {\r\n        HELICOPTER,\r\n        AIRLINE,\r\n        BALLOON,\r\n        GLIDER;\r\n    }\r\n    \r\n    private enum AirFixTime\r\n    {\r\n        WEEKLY,\r\n        MONTHLY,\r\n        YEARLY;\r\n    }\r\n}\r\n```","title":"Is this proper enum practice in Java?","body":"<p>I just started learning enums in Java and although the concept seems straightforward, its application isn't really intuitive to me. I see that I can put enums inside of classes although they are classes themselves.</p>\n<p>I also saw online some people say you can only have one enum in a class, or that you shouldn't put all enums in a single class unless they are put private.</p>\n<p>Thus, I'm a bit confused, would this piece of code be a proper writing of enum?</p>\n<p>Thanks.</p>\n<pre><code>public class AirCraft \n{\n    private AirType type;\n    private AirFixTime maintainTime;\n    \n    private enum AirType\n    {\n        HELICOPTER,\n        AIRLINE,\n        BALLOON,\n        GLIDER;\n    }\n    \n    private enum AirFixTime\n    {\n        WEEKLY,\n        MONTHLY,\n        YEARLY;\n    }\n}\n</code></pre>\n"},{"tags":["java","properties-file","quarkus","microprofile"],"answers":[{"tags":[],"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1589886169,"creation_date":1589885740,"answer_id":61889330,"question_id":61872993,"body_markdown":"Declare the configuration like this\r\n```\r\nimport io.quarkus.arc.config.ConfigProperties;\r\n\r\n@ConfigProperties(prefix = &quot;myapp&quot;)\r\npublic class AppSpecificConfig {\r\n\r\n    public String property;\r\n\r\n}\r\n```\r\nThe `application.properties` file will contain\r\n```\r\nmyapp.property=foo\r\n```\r\nAnd then you can `@Inject` an instance of this class anywhere within your application.\r\n\r\nFor more details, see https://quarkus.io/guides/config#using-configproperties","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>Declare the configuration like this</p>\n\n<pre><code>import io.quarkus.arc.config.ConfigProperties;\n\n@ConfigProperties(prefix = \"myapp\")\npublic class AppSpecificConfig {\n\n    public String property;\n\n}\n</code></pre>\n\n<p>The <code>application.properties</code> file will contain</p>\n\n<pre><code>myapp.property=foo\n</code></pre>\n\n<p>And then you can <code>@Inject</code> an instance of this class anywhere within your application.</p>\n\n<p>For more details, see <a href=\"https://quarkus.io/guides/config#using-configproperties\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config#using-configproperties</a></p>\n"},{"tags":[],"owner":{"account_id":2910900,"reputation":116,"user_id":2495165,"display_name":"gaetanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617788804,"creation_date":1617788804,"answer_id":66983543,"question_id":61872993,"body_markdown":"As written in this [Quarkus github issue][1], this is currently not supported.\r\n\r\nMy dirty workaround was to use the `ConfigProvider` directly. Use with care.\r\n\r\n``` lang-java\r\n  public static Map&lt;String, String&gt; getMapFromConfig(String prefix) {\r\n    final Config config = ConfigProvider.getConfig();\r\n    final Iterable&lt;String&gt; propertyNames = config.getPropertyNames();\r\n    return StreamSupport.stream(propertyNames.spliterator(), false)\r\n        .filter(name -&gt; name.startsWith(prefix) &amp;&amp; !name.equalsIgnoreCase(prefix))\r\n        .collect(\r\n            Collectors.toMap(\r\n                propertyName -&gt; cleanupPropertyName(propertyName.substring(prefix.length() + 1)),\r\n                propertyName -&gt; config.getOptionalValue(propertyName, String.class).orElse(&quot;&quot;)));\r\n  }\r\n\r\n  /** Remove start and end double quotes */\r\n  public static String cleanupPropertyName(String name) {\r\n    if (name.startsWith(&quot;\\&quot;&quot;) &amp;&amp; name.endsWith(&quot;\\&quot;&quot;)) {\r\n      return name.substring(1, name.length() - 1);\r\n    }\r\n    return name;\r\n  }\r\n```\r\n\r\nMy config looks like this:\r\n``` lang-yaml\r\nproperty-templates:\r\n  &quot;my.key&quot;: value 1\r\n  &quot;my.second.key&quot;: value 2\r\n```\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/8017","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>As written in this <a href=\"https://github.com/quarkusio/quarkus/issues/8017\" rel=\"nofollow noreferrer\">Quarkus github issue</a>, this is currently not supported.</p>\n<p>My dirty workaround was to use the <code>ConfigProvider</code> directly. Use with care.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static Map&lt;String, String&gt; getMapFromConfig(String prefix) {\n    final Config config = ConfigProvider.getConfig();\n    final Iterable&lt;String&gt; propertyNames = config.getPropertyNames();\n    return StreamSupport.stream(propertyNames.spliterator(), false)\n        .filter(name -&gt; name.startsWith(prefix) &amp;&amp; !name.equalsIgnoreCase(prefix))\n        .collect(\n            Collectors.toMap(\n                propertyName -&gt; cleanupPropertyName(propertyName.substring(prefix.length() + 1)),\n                propertyName -&gt; config.getOptionalValue(propertyName, String.class).orElse(&quot;&quot;)));\n  }\n\n  /** Remove start and end double quotes */\n  public static String cleanupPropertyName(String name) {\n    if (name.startsWith(&quot;\\&quot;&quot;) &amp;&amp; name.endsWith(&quot;\\&quot;&quot;)) {\n      return name.substring(1, name.length() - 1);\n    }\n    return name;\n  }\n</code></pre>\n<p>My config looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>property-templates:\n  &quot;my.key&quot;: value 1\n  &quot;my.second.key&quot;: value 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21926858,"reputation":19,"user_id":16209340,"display_name":"Ahmet &#214;zaydın"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702165011,"creation_date":1702165011,"answer_id":77633249,"question_id":61872993,"body_markdown":"to get just one property from the configuration file use;\r\n\r\n    String mail = exchange.getContext().resolvePropertyPlaceholders(&quot;{{MAIL}}&quot;);","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>to get just one property from the configuration file use;</p>\n<pre><code>String mail = exchange.getContext().resolvePropertyPlaceholders(&quot;{{MAIL}}&quot;);\n</code></pre>\n"}],"owner":{"account_id":5666480,"reputation":2525,"user_id":4482535,"accept_rate":100,"display_name":"mika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6801,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1702228436,"creation_date":1589815225,"question_id":61872993,"body_markdown":"For my Quarkus application I&#39;m looking for a way to define a configuration map from within a custom ConfigProperties class. I tried the following:\r\n\r\n```java\r\nimport io.quarkus.arc.config.ConfigProperties;\r\nimport io.quarkus.runtime.annotations.ConfigItem;\r\n\r\n@ConfigProperties(prefix = &quot;my-properties&quot;)\r\npublic class MyPropertiesConfiguration { \r\n    \r\n    @ConfigItem\r\n    public Map&lt;String, FooConfiguration&gt; foo;\r\n\r\n    // ...\r\n}\r\n```\r\n```java\r\nimport io.quarkus.runtime.annotations.ConfigGroup;\r\nimport io.quarkus.runtime.annotations.ConfigItem;\r\n\r\n@ConfigGroup\r\npublic class FooConfiguration {\r\n\r\n  @ConfigItem\r\n  public String myProperty;\r\n}\r\n```\r\n\r\nGiven those two classes and the following application.properties file...\r\n```properties\r\nmy-properties.foo.anystring.my-property=bar\r\n```\r\n\r\non startup the application fails with error message:\r\n`javax.enterprise.inject.spi.DeploymentException: No config value of type [java.util.Map] exists for: my-properties.foo`\r\n\r\nAs far as I understand https://quarkus.io/guides/writing-extensions#configuration-maps the sample should work. What am I doing wrong? Could it happen that this functionality is just limited to Quarkus extensions only?","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>For my Quarkus application I'm looking for a way to define a configuration map from within a custom ConfigProperties class. I tried the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.arc.config.ConfigProperties;\nimport io.quarkus.runtime.annotations.ConfigItem;\n\n@ConfigProperties(prefix = \"my-properties\")\npublic class MyPropertiesConfiguration { \n\n    @ConfigItem\n    public Map&lt;String, FooConfiguration&gt; foo;\n\n    // ...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.runtime.annotations.ConfigGroup;\nimport io.quarkus.runtime.annotations.ConfigItem;\n\n@ConfigGroup\npublic class FooConfiguration {\n\n  @ConfigItem\n  public String myProperty;\n}\n</code></pre>\n\n<p>Given those two classes and the following application.properties file...</p>\n\n<pre><code>my-properties.foo.anystring.my-property=bar\n</code></pre>\n\n<p>on startup the application fails with error message:\n<code>javax.enterprise.inject.spi.DeploymentException: No config value of type [java.util.Map] exists for: my-properties.foo</code></p>\n\n<p>As far as I understand <a href=\"https://quarkus.io/guides/writing-extensions#configuration-maps\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-extensions#configuration-maps</a> the sample should work. What am I doing wrong? Could it happen that this functionality is just limited to Quarkus extensions only?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2563377,"reputation":7164,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1702224569,"post_id":77635201,"comment_id":136867683,"body_markdown":"The binding should be postfixed with `-out-0` not `_out_0`","body":"The binding should be postfixed with <code>-out-0</code> not <code>_out_0</code>"},{"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"score":0,"creation_date":1702224789,"post_id":77635201,"comment_id":136867709,"body_markdown":"I change it to   kafka_demo_topic-out-0 but still it choose bad topic.  INFO 1284 --- [   scheduling-1] o.s.c.s.b.k.p.KafkaTopicProvisioner      : Using kafka topic for outbound: kafka_demo_topic","body":"I change it to   kafka_demo_topic-out-0 but still it choose bad topic.  INFO 1284 --- [   scheduling-1] o.s.c.s.b.k.p.KafkaTopicProvisioner      : Using kafka topic for outbound: kafka_demo_topic"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1702227484,"post_id":77635201,"comment_id":136868010,"body_markdown":"Why is that bad? I see `destination: kafka_demo_topic` in the config. Do you really need Spring Cloud instead of Spring Kafka?","body":"Why is that bad? I see <code>destination: kafka_demo_topic</code> in the config. Do you really need Spring Cloud instead of Spring Kafka?"},{"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"score":0,"creation_date":1702228015,"post_id":77635201,"comment_id":136868073,"body_markdown":"Yes, I need Spring Cloud becouse we use it in my work. It seems that StreamBridge ignore configuration in application.yml.","body":"Yes, I need Spring Cloud becouse we use it in my work. It seems that StreamBridge ignore configuration in application.yml."}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702228145,"creation_date":1702219340,"question_id":77635201,"body_markdown":"I have problem with producer of Kafka with Spring cloud with Spring boot. When I try to create configuration in application.yml, It allways send messages to wrong topic. I use placeholder for my topic &quot;kafka_demo_topic_out_0&quot; and it sends message not in right destination kafka_demo_topic but in kafka_demo_topic_out_0. Here is my code for producer :\r\n\r\n    package org.heller.kafka.demo.producer;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.atomic.AtomicLong;\r\n    \r\n    import org.heller.kafka.demo.producer.pojo.Message;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cloud.stream.function.StreamBridge;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Component\r\n    @EnableScheduling\r\n    public class KafkaProducer {\r\n    \r\n    \tprivate AtomicLong idGenerator = new AtomicLong();\r\n    \t\r\n    \t@Autowired\r\n    \tStreamBridge streamBridge;\r\n    \t\r\n    \t@Scheduled(fixedDelay  = 1000)\r\n    \tpublic void scheduleFixedRateTask() throws Exception {\r\n    \t\tMessage message = constructMessage();\r\n    \t\tSystem.out.println(&quot;sending message&quot; + message);\r\n    \t\t\r\n    \t\tstreamBridge.send(&quot;kafka_demo_topic_out_0&quot;, new ObjectMapper().writeValueAsString(message));\r\n    \t}\r\n    \t\r\n    \tprivate Message constructMessage() {\r\n    \t\tMessage message = new Message();\r\n    \t\tmessage.setId(idGenerator.getAndIncrement());\r\n    \t\tmessage.setUuid( UUID.randomUUID().toString());\r\n    \t\t\r\n    \t\tLocalDateTime now = LocalDateTime.now();\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \t\tmessage.setDate(now.format(formatter));\r\n    \t     \r\n    \t\treturn message;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nHere is my application.yml :\r\n\r\n    spring:\r\n        cloud:\r\n          stream:\r\n            kafka:\r\n              binder:\r\n                 autoAddPartitions: true\r\n                 brokers: localhost:9092\r\n                 auto-create-topics: false\r\n          bindings:\r\n            kafka_demo_topic_out_0:\r\n              producer:\r\n                  headerMode: raw\r\n            destination: kafka_demo_topic\r\n            content-type: application/json\r\n            binder: kafka\r\n\r\n \r\nI use Spring starter Kafka :\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-stream-kafka&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThank you for any help.\r\n\r\nUpdate: Spring cloud stream bridge somehow ignore configuration in application.yml. I try this configuration, but It still create new topic named kafkaDemoTopic.\r\n\r\n    spring:\r\n        cloud:\r\n          stream:\r\n           function:\r\n              definition: kafkaDemoTopic\r\n           kafka:\r\n              binder:\r\n                 autoAddPartitions: true\r\n                 brokers: localhost:9092\r\n                 auto-create-topics: false\r\n          bindings:\r\n            kafkaDemoTopic-out-0:\r\n                  headerMode: raw\r\n                  destination: kafka_demo_topic\r\n                  content-type: application/json\r\n          binder: kafka\r\n      \r\n\r\n","title":"How to send message from Kafka to topic with Spring Cloud","body":"<p>I have problem with producer of Kafka with Spring cloud with Spring boot. When I try to create configuration in application.yml, It allways send messages to wrong topic. I use placeholder for my topic &quot;kafka_demo_topic_out_0&quot; and it sends message not in right destination kafka_demo_topic but in kafka_demo_topic_out_0. Here is my code for producer :</p>\n<pre><code>package org.heller.kafka.demo.producer;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.UUID;\nimport java.util.concurrent.atomic.AtomicLong;\n\nimport org.heller.kafka.demo.producer.pojo.Message;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.stream.function.StreamBridge;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Component\n@EnableScheduling\npublic class KafkaProducer {\n\n    private AtomicLong idGenerator = new AtomicLong();\n    \n    @Autowired\n    StreamBridge streamBridge;\n    \n    @Scheduled(fixedDelay  = 1000)\n    public void scheduleFixedRateTask() throws Exception {\n        Message message = constructMessage();\n        System.out.println(&quot;sending message&quot; + message);\n        \n        streamBridge.send(&quot;kafka_demo_topic_out_0&quot;, new ObjectMapper().writeValueAsString(message));\n    }\n    \n    private Message constructMessage() {\n        Message message = new Message();\n        message.setId(idGenerator.getAndIncrement());\n        message.setUuid( UUID.randomUUID().toString());\n        \n        LocalDateTime now = LocalDateTime.now();\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        message.setDate(now.format(formatter));\n         \n        return message;\n    }\n    \n}\n</code></pre>\n<p>Here is my application.yml :</p>\n<pre><code>spring:\n    cloud:\n      stream:\n        kafka:\n          binder:\n             autoAddPartitions: true\n             brokers: localhost:9092\n             auto-create-topics: false\n      bindings:\n        kafka_demo_topic_out_0:\n          producer:\n              headerMode: raw\n        destination: kafka_demo_topic\n        content-type: application/json\n        binder: kafka\n</code></pre>\n<p>I use Spring starter Kafka :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-stream-kafka&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank you for any help.</p>\n<p>Update: Spring cloud stream bridge somehow ignore configuration in application.yml. I try this configuration, but It still create new topic named kafkaDemoTopic.</p>\n<pre><code>spring:\n    cloud:\n      stream:\n       function:\n          definition: kafkaDemoTopic\n       kafka:\n          binder:\n             autoAddPartitions: true\n             brokers: localhost:9092\n             auto-create-topics: false\n      bindings:\n        kafkaDemoTopic-out-0:\n              headerMode: raw\n              destination: kafka_demo_topic\n              content-type: application/json\n      binder: kafka\n  \n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1649504,"reputation":31596,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"score":2,"creation_date":1357792743,"post_id":14250897,"comment_id":19776273,"body_markdown":"could they be talking about [`final`](http://www.javamex.com/java_equivalents/const_java.shtml)?","body":"could they be talking about <a href=\"http://www.javamex.com/java_equivalents/const_java.shtml\" rel=\"nofollow noreferrer\"><code>final</code></a>?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":4,"creation_date":1357793552,"post_id":14250897,"comment_id":19776464,"body_markdown":"The word you&#39;re looking for is &quot;immutable&quot;","body":"The word you&#39;re looking for is &quot;immutable&quot;"}],"answers":[{"tags":[],"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1426225677,"creation_date":1357792870,"answer_id":14250925,"question_id":14250897,"body_markdown":"Simple rule: Don&#39;t have any public fields and No public setter methods. \r\n\r\nFor example, see class below:\r\n\r\n    final class AReadOnlyClass\r\n    {\r\n        private int anInt;\r\n\r\n        public int GetAnInt()\r\n        {\r\n            return anInt;\r\n        }\r\n    }\r\n","title":"Read only classes/methods","body":"<p>Simple rule: Don't have any public fields and No public setter methods. </p>\n\n<p>For example, see class below:</p>\n\n<pre><code>final class AReadOnlyClass\n{\n    private int anInt;\n\n    public int GetAnInt()\n    {\n        return anInt;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8336121,"reputation":1,"user_id":6263019,"display_name":"DJ Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461780591,"creation_date":1461780145,"answer_id":36897535,"question_id":14250897,"body_markdown":"The following code will ensure that your class is always READ ONLY, but if you find any loop hole, please post it here.\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    final public class ImmutableClass implements Cloneable,Serializable {\r\n    \tprivate static final long serialVersionUID = 6488148163144293060L;\r\n    \tprivate static volatile ImmutableClass instance;\r\n    \r\n    \tprivate ImmutableClass() {\r\n    \t\t// no-op\r\n    \t\tSystem.out.println(&quot;instance created : &quot; + this.hashCode());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Lazy Instantiation\r\n    \t * \r\n    \t * @return\r\n    \t */\r\n    \tpublic static ImmutableClass getInstance() {\r\n    \t\tif (instance == null) {\r\n    \t\t\tsynchronized (ImmutableClass.class) {\r\n    \t\t\t\tSystem.out.println(&quot;aquired lock&quot;);\r\n    \t\t\t\tif (instance == null) {\r\n    \t\t\t\t\tinstance = new ImmutableClass() {\r\n    \t\t\t\t\t};\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;released lock&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    \tpublic Object readResolve() {\r\n    \t\tSystem.out.println(&quot;readResolve()&quot;);\r\n    \t\treturn getInstance();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object clone() throws CloneNotSupportedException {\r\n    \t\tthrow new CloneNotSupportedException();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Read only classes/methods","body":"<p>The following code will ensure that your class is always READ ONLY, but if you find any loop hole, please post it here.</p>\n\n<pre><code>import java.io.Serializable;\n\nfinal public class ImmutableClass implements Cloneable,Serializable {\n    private static final long serialVersionUID = 6488148163144293060L;\n    private static volatile ImmutableClass instance;\n\n    private ImmutableClass() {\n        // no-op\n        System.out.println(\"instance created : \" + this.hashCode());\n    }\n\n    /**\n     * Lazy Instantiation\n     * \n     * @return\n     */\n    public static ImmutableClass getInstance() {\n        if (instance == null) {\n            synchronized (ImmutableClass.class) {\n                System.out.println(\"aquired lock\");\n                if (instance == null) {\n                    instance = new ImmutableClass() {\n                    };\n                }\n                System.out.println(\"released lock\");\n            }\n        }\n        return instance;\n    }\n\n    public Object readResolve() {\n        System.out.println(\"readResolve()\");\n        return getInstance();\n    }\n\n    @Override\n    public Object clone() throws CloneNotSupportedException {\n        throw new CloneNotSupportedException();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8336121,"reputation":1,"user_id":6263019,"display_name":"DJ Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461786695,"creation_date":1461783609,"answer_id":36898666,"question_id":14250897,"body_markdown":"The `Read-only` class means, we are talking about &quot;IMMUTABLE&quot; concept. \r\n\r\nThe following example depicts the same: \r\n      \r\n    public class ImmutableString { \r\n        static String upcase(String s) { \r\n            return s.toUpperCase(); // here local variable s vanishes \r\n                    // it return the value to a new String object \r\n        } \r\n      \r\n        public static void main(String[] args) { \r\n            String s = new String(&quot;abc&quot;);  \r\n            System.out.println(s); //abc \r\n      \r\n            String s1 = upcase(s);  \r\n      \r\n            System.out.println(s1); //ABC \r\n            System.out.println(s); //abc \r\n        } \r\n    }  ","title":"Read only classes/methods","body":"<p>The <code>Read-only</code> class means, we are talking about \"IMMUTABLE\" concept. </p>\n\n<p>The following example depicts the same: </p>\n\n<pre><code>public class ImmutableString { \n    static String upcase(String s) { \n        return s.toUpperCase(); // here local variable s vanishes \n                // it return the value to a new String object \n    } \n\n    public static void main(String[] args) { \n        String s = new String(\"abc\");  \n        System.out.println(s); //abc \n\n        String s1 = upcase(s);  \n\n        System.out.println(s1); //ABC \n        System.out.println(s); //abc \n    } \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10525374,"reputation":686,"user_id":7756558,"accept_rate":75,"display_name":"jayant mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516503811,"creation_date":1516503811,"answer_id":48363284,"question_id":14250897,"body_markdown":"Lets Say you want a read only version of an object, \r\n\r\ncase 1: if your class contains fields which are not pointers to any other objects eg:\r\n\r\n    public class Person{\r\n    private String name;\r\n    //Getters n Setters\r\n    }\r\nin this case, you can return a copy of this class, write a constructor that accepts Person, any one who wants to get a Person object will have a copy of this object so any Setter operations wont effect the original object(Strings are immutable)\r\n\r\nCase 2: in case your object contains a pointer to another object or list or map\r\n\r\nin this case make classes implement an interface which has only read-only methods(Getters) and wherever you are returning the object, change it to return this interface, so client will have access to only read-only methods\r\n\r\neg:\r\n\r\n    class Person implements ReadOnly{\r\n    String name;\r\n    .. assume pointers also in here\r\n    // Getter n Setters \r\n    \r\n     public PersonReadOnly(){\r\n      return this;\r\n    }\r\n    }\r\n\r\n    interface PersonReadOnly {\r\n    public String getName();\r\n    }","title":"Read only classes/methods","body":"<p>Lets Say you want a read only version of an object, </p>\n\n<p>case 1: if your class contains fields which are not pointers to any other objects eg:</p>\n\n<pre><code>public class Person{\nprivate String name;\n//Getters n Setters\n}\n</code></pre>\n\n<p>in this case, you can return a copy of this class, write a constructor that accepts Person, any one who wants to get a Person object will have a copy of this object so any Setter operations wont effect the original object(Strings are immutable)</p>\n\n<p>Case 2: in case your object contains a pointer to another object or list or map</p>\n\n<p>in this case make classes implement an interface which has only read-only methods(Getters) and wherever you are returning the object, change it to return this interface, so client will have access to only read-only methods</p>\n\n<p>eg:</p>\n\n<pre><code>class Person implements ReadOnly{\nString name;\n.. assume pointers also in here\n// Getter n Setters \n\n public PersonReadOnly(){\n  return this;\n}\n}\n\ninterface PersonReadOnly {\npublic String getName();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699539851,"creation_date":1686213991,"answer_id":76430112,"question_id":14250897,"body_markdown":"Something is read-only if it cannot be modified (or, in a weaker sense, cannot be observed to have been modified). This is a really useful property that goes with a lot of different names: read-only, immutable, finality, const-ness, observer, purity, and probably others. \r\n\r\n**Why it is useful**\r\n\r\n- If you know that there is no possibility of others changing something, there are a lot less downsides to giving access or sharing it.\r\n\r\n- If a whole object is immutable, there is no longer that much of a difference between sharing the original and sharing copies. This may save a lot of space by avoiding copies.\r\n\r\n- Immutable things never break when several threads are accessing them at once, because all threads will see the same values.\r\n\r\n- It is a lot easier to reason about how things change when there is a very small set of places in which they _can_ change. Immutability helps you keep that set small.\r\n\r\n**How to get immutability in classes and methods in Java**\r\n\r\nFirst, let us assume that your class can only be modified via access to its methods (= no public attributes, and no use of reflection to gain access to privates)\r\n\r\n- A class is immutable if no methods can modify its state; that is, no setters, and all other methods can only read state and/or copy state to a _new_ object. For example, the JDK&#39;s [BigDecimal](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) are immutable: `a.add(b)` returns a new `BigDecimal`, but does not modify either `a` or `b`.\r\n\r\n- A method can be said to be `read only`, or `const` (especially in the C++ world), or `observer`, when it is guaranteed not to change the state of an object. Some languages, most notably C++, have a keyword for this (`const`). In others (Java) it is up to the documentation to clarify whether or not the internal state will change.\r\n\r\n**Other types of immutability in Java**\r\n\r\n- `static` methods have no underlying object, and cannot modify what they do not have. It does not make much sense to call them immutable, though.\r\n\r\n- `final` next to a `class` declaration prevents subclassing of classes. It does not make them immutable, but it does make it harder to (by subclassing) break the immutability of a class.\r\n\r\n- `final` next to an *attribute* declaration ensures that the attribute&#39;s value cannot be changed once initialized. This allows you to make those attributes `public` without compromising immutability, for example. A better use would be to make it abundantly clear, in an immutable class, that there will be no modifications to those attributes.\r\n\r\n- `enum` in Java builds special classes that have only a given set of members, a set which cannot be modified at run-time. It is a sort of generalization of the concept of singletons.","title":"Read only classes/methods","body":"<p>Something is read-only if it cannot be modified (or, in a weaker sense, cannot be observed to have been modified). This is a really useful property that goes with a lot of different names: read-only, immutable, finality, const-ness, observer, purity, and probably others.</p>\n<p><strong>Why it is useful</strong></p>\n<ul>\n<li><p>If you know that there is no possibility of others changing something, there are a lot less downsides to giving access or sharing it.</p>\n</li>\n<li><p>If a whole object is immutable, there is no longer that much of a difference between sharing the original and sharing copies. This may save a lot of space by avoiding copies.</p>\n</li>\n<li><p>Immutable things never break when several threads are accessing them at once, because all threads will see the same values.</p>\n</li>\n<li><p>It is a lot easier to reason about how things change when there is a very small set of places in which they <em>can</em> change. Immutability helps you keep that set small.</p>\n</li>\n</ul>\n<p><strong>How to get immutability in classes and methods in Java</strong></p>\n<p>First, let us assume that your class can only be modified via access to its methods (= no public attributes, and no use of reflection to gain access to privates)</p>\n<ul>\n<li><p>A class is immutable if no methods can modify its state; that is, no setters, and all other methods can only read state and/or copy state to a <em>new</em> object. For example, the JDK's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> are immutable: <code>a.add(b)</code> returns a new <code>BigDecimal</code>, but does not modify either <code>a</code> or <code>b</code>.</p>\n</li>\n<li><p>A method can be said to be <code>read only</code>, or <code>const</code> (especially in the C++ world), or <code>observer</code>, when it is guaranteed not to change the state of an object. Some languages, most notably C++, have a keyword for this (<code>const</code>). In others (Java) it is up to the documentation to clarify whether or not the internal state will change.</p>\n</li>\n</ul>\n<p><strong>Other types of immutability in Java</strong></p>\n<ul>\n<li><p><code>static</code> methods have no underlying object, and cannot modify what they do not have. It does not make much sense to call them immutable, though.</p>\n</li>\n<li><p><code>final</code> next to a <code>class</code> declaration prevents subclassing of classes. It does not make them immutable, but it does make it harder to (by subclassing) break the immutability of a class.</p>\n</li>\n<li><p><code>final</code> next to an <em>attribute</em> declaration ensures that the attribute's value cannot be changed once initialized. This allows you to make those attributes <code>public</code> without compromising immutability, for example. A better use would be to make it abundantly clear, in an immutable class, that there will be no modifications to those attributes.</p>\n</li>\n<li><p><code>enum</code> in Java builds special classes that have only a given set of members, a set which cannot be modified at run-time. It is a sort of generalization of the concept of singletons.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1526270,"reputation":1785,"user_id":1424638,"accept_rate":68,"display_name":"joshft91"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11725,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":5,"score":2,"last_activity_date":1702227645,"creation_date":1357792582,"question_id":14250897,"body_markdown":"In preparing for an interview, someone mentioned knowing how to make a class/method in java read-only.  I&#39;ve been doing a bit of searching, but haven&#39;t found anything really concrete.\r\n\r\nMaybe this question is simpler to answer than I&#39;m making it out to be, but what would be a way to make a class or method read-only in java?","title":"Read only classes/methods","body":"<p>In preparing for an interview, someone mentioned knowing how to make a class/method in java read-only.  I've been doing a bit of searching, but haven't found anything really concrete.</p>\n\n<p>Maybe this question is simpler to answer than I'm making it out to be, but what would be a way to make a class or method read-only in java?</p>\n"},{"tags":["java","azure","http","pagination","azure-web-app-service"],"owner":{"account_id":12998426,"reputation":1,"user_id":9395246,"display_name":"ADS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702227313,"creation_date":1702227313,"question_id":77635625,"body_markdown":"An application is deployed in ASP which has implemented pagination and to get the nextURI it uses the hostname from the request by using the java code (request.getRequestURL()) but instead of sending the original hostname sent in request it is sending the private hostname of the application deployed in ASP web app service. How can we get the original hostname in request. Also original is added in custom hostname in app gateway service.\r\n\r\nUsed java code request.getRequestURL()","title":"request.getRequestURL() returns the private hostname in asp app service instead of the hostname sent in request. how to get the original hostname?","body":"<p>An application is deployed in ASP which has implemented pagination and to get the nextURI it uses the hostname from the request by using the java code (request.getRequestURL()) but instead of sending the original hostname sent in request it is sending the private hostname of the application deployed in ASP web app service. How can we get the original hostname in request. Also original is added in custom hostname in app gateway service.</p>\n<p>Used java code request.getRequestURL()</p>\n"},{"tags":["java","spring","spring-boot","spring-security","nullpointerexception"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702227212,"post_id":77635578,"comment_id":136867971,"body_markdown":"handing out JWTs to browsers is not recommended, and there is a reason to why this type of authentication does not exist per default in spring security, so why are you building a custom not recommended authentication, especially if you are a beginner. JWTs should not be used as sessions. Im guessing you just followed some bad tutorial that has no idea how security works, and did not read the official spring security documentation?","body":"handing out JWTs to browsers is not recommended, and there is a reason to why this type of authentication does not exist per default in spring security, so why are you building a custom not recommended authentication, especially if you are a beginner. JWTs should not be used as sessions. Im guessing you just followed some bad tutorial that has no idea how security works, and did not read the official spring security documentation?"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702227294,"post_id":77635578,"comment_id":136867979,"body_markdown":"also why are you adding CORS manually, spring security already has a built in CORS filter that you can configure. Please read the docs! What is the purpose of dragging in spring security if you dont intend to use any of its features","body":"also why are you adding CORS manually, spring security already has a built in CORS filter that you can configure. Please read the docs! What is the purpose of dragging in spring security if you dont intend to use any of its features"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702227446,"post_id":77635578,"comment_id":136868005,"body_markdown":"also you are adding `com.auth0.jwt.JWT` when spring security already comes with a jwt library (Nimbus) built in, so why pull in an additional one?","body":"also you are adding <code>com.auth0.jwt.JWT</code> when spring security already comes with a jwt library (Nimbus) built in, so why pull in an additional one?"}],"owner":{"account_id":30112242,"reputation":1,"user_id":23076470,"display_name":"Ankit Ghosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702226630,"creation_date":1702226630,"question_id":77635578,"body_markdown":"I am implementing the SecurityConfig.java file for a SpringBoot project. Here&#39;s the code for it:\r\n\r\n```\r\npackage com.mastikhori.mastikhori.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig{\r\n\r\n    private static final String[] PUBLIC_MATCHERS = { &quot;/user/login&quot;, &quot;/user/register&quot;, &quot;/user/resetPassword/**&quot;, &quot;/image/**&quot; };\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n                .userDetailsService(userDetailsService)\r\n                .passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n        JwtAuthentication jwtAuthentication = new JwtAuthentication(authenticationManager);\r\n        jwtAuthentication.setFilterProcessesUrl(PUBLIC_MATCHERS[0]);\r\n\r\n\r\n\r\n        http.csrf(csrf -&gt; csrf.disable()).cors(cors -&gt; cors.disable())\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(PUBLIC_MATCHERS).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .addFilter(jwtAuthentication)\r\n                .addFilterBefore(new JwtAuthorization(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nI am getting a Null Pointer Exception because the variable authenticationManager is null. However, I am unable to find the cause. Here&#39;s the stack trace:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.authentication.AuthenticationManager.authenticate(org.springframework.security.core.Authentication)&quot; because &quot;this.authenticationManager&quot; is null\r\n\tat com.mastikhori.mastikhori.config.JwtAuthentication.attemptAuthentication(JwtAuthentication.java:48) ~[classes/:na]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat com.mastikhori.mastikhori.config.JwtAuthorization.doFilterInternal(JwtAuthorization.java:48) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]\r\n```\r\n\r\nThe code for JwtAuthentication.java :\r\n\r\n```\r\npackage com.mastikhori.mastikhori.config;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.fasterxml.jackson.core.JsonParser.Feature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.mastikhori.mastikhori.model.AppUser;\r\n\r\npublic class JwtAuthentication extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    public JwtAuthentication(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n            throws AuthenticationException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(Feature.AUTO_CLOSE_SOURCE, true);\r\n        AppUser appUser;\r\n        try {\r\n            appUser = objectMapper.readValue(request.getInputStream(), AppUser.class);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(&quot;Unable to convert Json into Java Object: &quot; + e);\r\n        }\r\n        System.out.println(&quot;username is: &quot; + appUser.getUsername());\r\n        System.out.println(&quot;password is: &quot; + appUser.getPassword());\r\n        return this.authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\r\n                appUser.getUsername(),\r\n                appUser.getPassword()));\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n                                            Authentication authentication) throws IOException, ServletException {\r\n        User user = (User) authentication.getPrincipal();\r\n        List&lt;String&gt; roles = new ArrayList&lt;&gt;();\r\n        user.getAuthorities()\r\n                .forEach(authority -&gt; {\r\n                    roles.add(authority.getAuthority());\r\n                });\r\n        String jwtToken = JWT.create()\r\n                .withIssuer(&quot;Orchard Company&quot;)\r\n                .withSubject(user.getUsername())\r\n                .withArrayClaim(&quot;roles&quot;, roles.stream().toArray(String[]::new))\r\n                .withExpiresAt(new Date (System.currentTimeMillis()+SecurityConstants.EXPIRATION_TIME))\r\n                .sign(Algorithm.HMAC256(SecurityConstants.SECRET));\r\n        response.addHeader(SecurityConstants.HEADER_TYPE, SecurityConstants.TOKEN_PREFIX+jwtToken);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe code of JwtAuthorization.java :\r\n\r\n```\r\npackage com.mastikhori.mastikhori.config;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.interfaces.DecodedJWT;\r\n\r\npublic class JwtAuthorization extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, SecurityConstants.CLIENT_DOMAIN_URL);\r\n\r\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, &quot;\r\n                + &quot;Content-Type, Access-Control-Request-Method, &quot; + &quot;Access-Control-Request-Headers, Authorization&quot;);\r\n\r\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;,\r\n                &quot;Access-Control-Allow-Origin, &quot; + &quot;Access-Control-Allow-Credentials, &quot; + &quot;Authorization&quot;);\r\n\r\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,&quot; + &quot;POST, &quot; + &quot;DELETE&quot;);\r\n\r\n        if ((request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;))) {\r\n            try {\r\n                response.setStatus(HttpServletResponse.SC_OK);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            String jwtToken = request.getHeader(SecurityConstants.HEADER_TYPE);\r\n            if (jwtToken == null || !jwtToken.startsWith(SecurityConstants.TOKEN_PREFIX)) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n            JWT.require(Algorithm.HMAC256(SecurityConstants.SECRET));\r\n            DecodedJWT jwt = JWT.decode(jwtToken.substring(SecurityConstants.TOKEN_PREFIX.length()));\r\n            String username = jwt.getSubject();\r\n            List&lt;String&gt; roles = jwt.getClaims().get(&quot;roles&quot;).asList(String.class);\r\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            roles.forEach(role -&gt; authorities.add(new SimpleGrantedAuthority(role)));\r\n            UsernamePasswordAuthenticationToken authenticatedUser = new UsernamePasswordAuthenticationToken(username,\r\n                    null, authorities);\r\n            SecurityContextHolder.getContext().setAuthentication(authenticatedUser);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAfter some debugging, I think the culprit is the function:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n        JwtAuthentication jwtAuthentication = new JwtAuthentication(authenticationManager);\r\n        jwtAuthentication.setFilterProcessesUrl(PUBLIC_MATCHERS[0]);\r\n\r\n\r\n\r\n        http.csrf(csrf -&gt; csrf.disable()).cors(cors -&gt; cors.disable())\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(PUBLIC_MATCHERS).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .addFilter(jwtAuthentication)\r\n                .addFilterBefore(new JwtAuthorization(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\nBut I am not sure. I need some help here.","title":"Spring Security Configuration Error - Null Pointer Exception for authenticationManager","body":"<p>I am implementing the SecurityConfig.java file for a SpringBoot project. Here's the code for it:</p>\n<pre><code>package com.mastikhori.mastikhori.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig{\n\n    private static final String[] PUBLIC_MATCHERS = { &quot;/user/login&quot;, &quot;/user/register&quot;, &quot;/user/resetPassword/**&quot;, &quot;/image/**&quot; };\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        JwtAuthentication jwtAuthentication = new JwtAuthentication(authenticationManager);\n        jwtAuthentication.setFilterProcessesUrl(PUBLIC_MATCHERS[0]);\n\n\n\n        http.csrf(csrf -&gt; csrf.disable()).cors(cors -&gt; cors.disable())\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(PUBLIC_MATCHERS).permitAll()\n                        .anyRequest().authenticated())\n                .addFilter(jwtAuthentication)\n                .addFilterBefore(new JwtAuthorization(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>I am getting a Null Pointer Exception because the variable authenticationManager is null. However, I am unable to find the cause. Here's the stack trace:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.authentication.AuthenticationManager.authenticate(org.springframework.security.core.Authentication)&quot; because &quot;this.authenticationManager&quot; is null\n    at com.mastikhori.mastikhori.config.JwtAuthentication.attemptAuthentication(JwtAuthentication.java:48) ~[classes/:na]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at com.mastikhori.mastikhori.config.JwtAuthorization.doFilterInternal(JwtAuthorization.java:48) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]\n</code></pre>\n<p>The code for JwtAuthentication.java :</p>\n<pre><code>package com.mastikhori.mastikhori.config;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.fasterxml.jackson.core.JsonParser.Feature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mastikhori.mastikhori.model.AppUser;\n\npublic class JwtAuthentication extends UsernamePasswordAuthenticationFilter {\n\n    private AuthenticationManager authenticationManager;\n\n    public JwtAuthentication(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(Feature.AUTO_CLOSE_SOURCE, true);\n        AppUser appUser;\n        try {\n            appUser = objectMapper.readValue(request.getInputStream(), AppUser.class);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Unable to convert Json into Java Object: &quot; + e);\n        }\n        System.out.println(&quot;username is: &quot; + appUser.getUsername());\n        System.out.println(&quot;password is: &quot; + appUser.getPassword());\n        return this.authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\n                appUser.getUsername(),\n                appUser.getPassword()));\n    }\n\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n                                            Authentication authentication) throws IOException, ServletException {\n        User user = (User) authentication.getPrincipal();\n        List&lt;String&gt; roles = new ArrayList&lt;&gt;();\n        user.getAuthorities()\n                .forEach(authority -&gt; {\n                    roles.add(authority.getAuthority());\n                });\n        String jwtToken = JWT.create()\n                .withIssuer(&quot;Orchard Company&quot;)\n                .withSubject(user.getUsername())\n                .withArrayClaim(&quot;roles&quot;, roles.stream().toArray(String[]::new))\n                .withExpiresAt(new Date (System.currentTimeMillis()+SecurityConstants.EXPIRATION_TIME))\n                .sign(Algorithm.HMAC256(SecurityConstants.SECRET));\n        response.addHeader(SecurityConstants.HEADER_TYPE, SecurityConstants.TOKEN_PREFIX+jwtToken);\n    }\n\n}\n</code></pre>\n<p>The code of JwtAuthorization.java :</p>\n<pre><code>package com.mastikhori.mastikhori.config;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.DecodedJWT;\n\npublic class JwtAuthorization extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, SecurityConstants.CLIENT_DOMAIN_URL);\n\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, &quot;\n                + &quot;Content-Type, Access-Control-Request-Method, &quot; + &quot;Access-Control-Request-Headers, Authorization&quot;);\n\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;,\n                &quot;Access-Control-Allow-Origin, &quot; + &quot;Access-Control-Allow-Credentials, &quot; + &quot;Authorization&quot;);\n\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,&quot; + &quot;POST, &quot; + &quot;DELETE&quot;);\n\n        if ((request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;))) {\n            try {\n                response.setStatus(HttpServletResponse.SC_OK);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        } else {\n            String jwtToken = request.getHeader(SecurityConstants.HEADER_TYPE);\n            if (jwtToken == null || !jwtToken.startsWith(SecurityConstants.TOKEN_PREFIX)) {\n                filterChain.doFilter(request, response);\n                return;\n            }\n            JWT.require(Algorithm.HMAC256(SecurityConstants.SECRET));\n            DecodedJWT jwt = JWT.decode(jwtToken.substring(SecurityConstants.TOKEN_PREFIX.length()));\n            String username = jwt.getSubject();\n            List&lt;String&gt; roles = jwt.getClaims().get(&quot;roles&quot;).asList(String.class);\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n            roles.forEach(role -&gt; authorities.add(new SimpleGrantedAuthority(role)));\n            UsernamePasswordAuthenticationToken authenticatedUser = new UsernamePasswordAuthenticationToken(username,\n                    null, authorities);\n            SecurityContextHolder.getContext().setAuthentication(authenticatedUser);\n            filterChain.doFilter(request, response);\n        }\n    }\n}\n</code></pre>\n<p>After some debugging, I think the culprit is the function:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        JwtAuthentication jwtAuthentication = new JwtAuthentication(authenticationManager);\n        jwtAuthentication.setFilterProcessesUrl(PUBLIC_MATCHERS[0]);\n\n\n\n        http.csrf(csrf -&gt; csrf.disable()).cors(cors -&gt; cors.disable())\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(PUBLIC_MATCHERS).permitAll()\n                        .anyRequest().authenticated())\n                .addFilter(jwtAuthentication)\n                .addFilterBefore(new JwtAuthorization(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>But I am not sure. I need some help here.</p>\n"},{"tags":["java","macos","javafx","encoding","arabic-support"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1702229173,"post_id":77635573,"comment_id":136868211,"body_markdown":"Writing `encoding=&quot;UTF-8&quot;` in the XML prolog does not automatically make the file a UTF-8 file.  From a terminal window, run `file /path/to/myapp.fxml`.  That will tell you whether the file is in fact UTF-8.","body":"Writing <code>encoding=&quot;UTF-8&quot;</code> in the XML prolog does not automatically make the file a UTF-8 file.  From a terminal window, run <code>file &#47;path&#47;to&#47;myapp.fxml</code>.  That will tell you whether the file is in fact UTF-8."},{"owner":{"account_id":14892092,"reputation":73,"user_id":10753434,"display_name":"Youssef Ehab"},"score":2,"creation_date":1702231686,"post_id":77635573,"comment_id":136868472,"body_markdown":"@VGR this is the output from terminal ```mainPage.fxml: XML 1.0 document text, Unicode text, UTF-8 text```","body":"@VGR this is the output from terminal <code>mainPage.fxml: XML 1.0 document text, Unicode text, UTF-8 text</code>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1702238822,"post_id":77635573,"comment_id":136869217,"body_markdown":"Also check your Mac&#39;s locale settings in _System Settings_. The _Font Book_ application may also offer insight.","body":"Also check your Mac&#39;s locale settings in <i>System Settings</i>. The <i>Font Book</i> application may also offer insight."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1702241270,"post_id":77635573,"comment_id":136869428,"body_markdown":"No issue on my end other than you `FXML` missing `&lt;Label&gt;`.","body":"No issue on my end other than you <code>FXML</code> missing <code>&lt;Label&gt;</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1702279376,"post_id":77635573,"comment_id":136872265,"body_markdown":"What version of JavaFX and OS X are you using? Some versions of JavaFX had issues rendering text in MacOS.  Since it works for SedJ601, it may well be that a JavaFX library upgrade could fix your issue.  Try the latest stable version (21.0.1) if you aren&#39;t using that already.  Also use JDK 21, because ([starting in JDK 18](https://openjdk.org/jeps/400)) UTF-8 was made the default encoding for the JDK, which simplifies some encoding issues.","body":"What version of JavaFX and OS X are you using? Some versions of JavaFX had issues rendering text in MacOS.  Since it works for SedJ601, it may well be that a JavaFX library upgrade could fix your issue.  Try the latest stable version (21.0.1) if you aren&#39;t using that already.  Also use JDK 21, because (<a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">starting in JDK 18</a>) UTF-8 was made the default encoding for the JDK, which simplifies some encoding issues."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1702280075,"post_id":77635573,"comment_id":136872341,"body_markdown":"Related: [Why JavaFX application and scene builder is showing garbled text?](https://stackoverflow.com/questions/66747171/why-javafx-application-and-scene-builder-is-showing-garbled-text) Where it seems similar issues were resolved for some users by either removing then reinstalling a font (Segoe UI) or upgrading to JavaFX 17+.","body":"Related: <a href=\"https://stackoverflow.com/questions/66747171/why-javafx-application-and-scene-builder-is-showing-garbled-text\">Why JavaFX application and scene builder is showing garbled text?</a> Where it seems similar issues were resolved for some users by either removing then reinstalling a font (Segoe UI) or upgrading to JavaFX 17+."}],"owner":{"account_id":14892092,"reputation":73,"user_id":10753434,"display_name":"Youssef Ehab"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1702226594,"creation_date":1702226594,"question_id":77635573,"body_markdown":"I have the following FXML file \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.text.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TableView layoutX=&quot;54.0&quot; layoutY=&quot;136.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;495.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;الرصيد&quot; /&gt;\r\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ملاحظات&quot; /&gt;\r\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;دائن&quot; /&gt;\r\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;مدين&quot; /&gt;\r\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;التاريخ&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;24.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nFile encoding is UTF-8 as mentioned above. When I run my project it displays like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w7JuS.png\r\n\r\n\r\nWhy is it displayed like that? what is wrong? FYI I am using MacOS","title":"JavaFX Arabic letters are not displayed at all","body":"<p>I have the following FXML file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.text.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;TableView layoutX=&quot;54.0&quot; layoutY=&quot;136.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;495.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;الرصيد&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ملاحظات&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;دائن&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;مدين&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;التاريخ&quot; /&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;24.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>File encoding is UTF-8 as mentioned above. When I run my project it displays like this:\n<a href=\"https://i.stack.imgur.com/w7JuS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7JuS.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is it displayed like that? what is wrong? FYI I am using MacOS</p>\n"},{"tags":["java","checkstyle"],"comments":[{"owner":{"account_id":429341,"reputation":63745,"user_id":812183,"accept_rate":77,"display_name":"anthony sottile"},"score":1,"creation_date":1691069526,"post_id":76828112,"comment_id":135443892,"body_markdown":"this isn&#39;t specific to pre-commit so I&#39;ve removed the tags for it","body":"this isn&#39;t specific to pre-commit so I&#39;ve removed the tags for it"}],"answers":[{"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702225905,"creation_date":1702225905,"answer_id":77635533,"question_id":76828112,"body_markdown":"A solution was found by including the other checks inside the `TreeWalker` like:\r\n```xml\r\n&lt;!DOCTYPE module PUBLIC\r\n        &quot;-//Puppy Crawl//DTD Check Configuration 1.3//EN&quot;\r\n        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n\r\n&lt;module name=&quot;Checker&quot;&gt;\r\n\r\n        &lt;!-- Formatting Check: Enforces a maximum line length of 80 characters --&gt;\r\n        &lt;module name=&quot;LineLength&quot;&gt;\r\n            &lt;property name=&quot;max&quot; value=&quot;100&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Code Structure Check: Limits the length of a file to 1000 lines --&gt;\r\n        &lt;module name=&quot;FileLength&quot;&gt;\r\n            &lt;property name=&quot;max&quot; value=&quot;1000&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Code Structure Check: Enforces Javadoc comments for package-info.java files --&gt;\r\n        &lt;module name=&quot;JavadocPackage&quot;/&gt;\r\n\r\n    &lt;!-- TreeWalker Module: Performs checks on the abstract syntax tree --&gt;\r\n    &lt;module name=&quot;TreeWalker&quot;&gt;\r\n\r\n\r\n\r\n\r\n        &lt;!-- Formatting Check: Ensures consistent indentation --&gt;\r\n        &lt;!-- &lt;module name=&quot;Indentation&quot;&gt; --&gt;\r\n            &lt;!-- &lt;property name=&quot;basicOffset&quot; value=&quot;2&quot;/&gt; --&gt;\r\n            &lt;!-- &lt;property name=&quot;braceAdjustment&quot; value=&quot;0&quot;/&gt; --&gt;\r\n            &lt;!-- &lt;property name=&quot;caseIndent&quot; value=&quot;0&quot;/&gt; --&gt;\r\n            &lt;!-- &lt;property name=&quot;throwsIndent&quot; value=&quot;2&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;/module&gt; --&gt;\r\n\r\n        &lt;!-- Formatting Check: Enforces right curly brace placement --&gt;\r\n        &lt;!-- &lt;module name=&quot;RightCurly&quot;&gt; --&gt;\r\n            &lt;!-- &lt;property name=&quot;option&quot; value=&quot;alone&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;/module&gt; --&gt;\r\n\r\n        &lt;!-- Formatting Check: Enforces whitespace around certain tokens --&gt;\r\n        &lt;module name=&quot;WhitespaceAround&quot;&gt;\r\n            &lt;property name=&quot;allowEmptyConstructors&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;allowEmptyMethods&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Code Structure Check: Disallows empty blocks --&gt;\r\n        &lt;module name=&quot;EmptyBlock&quot;&gt;\r\n            &lt;property name=&quot;option&quot; value=&quot;text&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Code Structure Check: Enforces the use of braces for control statements --&gt;\r\n        &lt;module name=&quot;NeedBraces&quot;/&gt;\r\n\r\n        &lt;!-- Formatting Check: Enforces consistent whitespace usage --&gt;\r\n        &lt;module name=&quot;GenericWhitespace&quot;/&gt;\r\n\r\n\r\n        &lt;!-- Code Structure Check: Checks for redundant import statements --&gt;\r\n        &lt;module name=&quot;RedundantImport&quot;/&gt;\r\n\r\n        &lt;!-- Code Structure Check: Disallows star import statements --&gt;\r\n        &lt;module name=&quot;AvoidStarImport&quot;/&gt;\r\n\r\n        &lt;!-- Code Structure Check: Checks the placement of left curly braces --&gt;\r\n        &lt;module name=&quot;LeftCurly&quot;&gt;&lt;/module&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for local final variables --&gt;\r\n        &lt;module name=&quot;LocalFinalVariableName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for local variables --&gt;\r\n        &lt;module name=&quot;LocalVariableName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for member variables --&gt;\r\n        &lt;module name=&quot;MemberName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for method names --&gt;\r\n        &lt;module name=&quot;MethodName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for package names --&gt;\r\n        &lt;module name=&quot;PackageName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for method parameters --&gt;\r\n        &lt;module name=&quot;ParameterName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for static variables --&gt;\r\n        &lt;module name=&quot;StaticVariableName&quot;/&gt;\r\n\r\n        &lt;!-- Naming Convention Check: Enforces naming conventions for type names (classes, interfaces, enums, etc.) --&gt;\r\n        &lt;module name=&quot;TypeName&quot;/&gt;\r\n\r\n        &lt;!-- Code Structure Check: Disallows unused import statements --&gt;\r\n        &lt;module name=&quot;UnusedImports&quot;/&gt;\r\n\r\n        &lt;!-- Code Structure Check: Disallows unused private fields --&gt;\r\n        &lt;!-- &lt;module name=&quot;UnusedPrivateField&quot;/&gt; --&gt;\r\n\r\n        &lt;!-- Code Structure Check: Enforces Javadoc comments for methods and classes --&gt;\r\n        &lt;module name=&quot;JavadocMethod&quot;/&gt;\r\n        &lt;module name=&quot;JavadocType&quot;/&gt;\r\n\r\n        &lt;!-- Code Structure Check: Disallows trailing whitespace --&gt;\r\n        &lt;module name=&quot;NoWhitespaceAfter&quot;/&gt;\r\n\r\n        &lt;!-- Code Structure Check: Disallows whitespace before a semicolon --&gt;\r\n        &lt;module name=&quot;NoWhitespaceBefore&quot;/&gt;\r\n\r\n        &lt;!-- Add: // CHECKSTYLE:OFF to the top of the file for which you want to skip checkstyle checks. --&gt;\r\n        &lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n&lt;/module&gt;\r\n\r\n```","title":"Using checkstyle (default) configuration, with lineLength 100 in pre-commit?","body":"<p>A solution was found by including the other checks inside the <code>TreeWalker</code> like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE module PUBLIC\n        &quot;-//Puppy Crawl//DTD Check Configuration 1.3//EN&quot;\n        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\n\n&lt;module name=&quot;Checker&quot;&gt;\n\n        &lt;!-- Formatting Check: Enforces a maximum line length of 80 characters --&gt;\n        &lt;module name=&quot;LineLength&quot;&gt;\n            &lt;property name=&quot;max&quot; value=&quot;100&quot;/&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Code Structure Check: Limits the length of a file to 1000 lines --&gt;\n        &lt;module name=&quot;FileLength&quot;&gt;\n            &lt;property name=&quot;max&quot; value=&quot;1000&quot;/&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Code Structure Check: Enforces Javadoc comments for package-info.java files --&gt;\n        &lt;module name=&quot;JavadocPackage&quot;/&gt;\n\n    &lt;!-- TreeWalker Module: Performs checks on the abstract syntax tree --&gt;\n    &lt;module name=&quot;TreeWalker&quot;&gt;\n\n\n\n\n        &lt;!-- Formatting Check: Ensures consistent indentation --&gt;\n        &lt;!-- &lt;module name=&quot;Indentation&quot;&gt; --&gt;\n            &lt;!-- &lt;property name=&quot;basicOffset&quot; value=&quot;2&quot;/&gt; --&gt;\n            &lt;!-- &lt;property name=&quot;braceAdjustment&quot; value=&quot;0&quot;/&gt; --&gt;\n            &lt;!-- &lt;property name=&quot;caseIndent&quot; value=&quot;0&quot;/&gt; --&gt;\n            &lt;!-- &lt;property name=&quot;throwsIndent&quot; value=&quot;2&quot;/&gt; --&gt;\n        &lt;!-- &lt;/module&gt; --&gt;\n\n        &lt;!-- Formatting Check: Enforces right curly brace placement --&gt;\n        &lt;!-- &lt;module name=&quot;RightCurly&quot;&gt; --&gt;\n            &lt;!-- &lt;property name=&quot;option&quot; value=&quot;alone&quot;/&gt; --&gt;\n        &lt;!-- &lt;/module&gt; --&gt;\n\n        &lt;!-- Formatting Check: Enforces whitespace around certain tokens --&gt;\n        &lt;module name=&quot;WhitespaceAround&quot;&gt;\n            &lt;property name=&quot;allowEmptyConstructors&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;allowEmptyMethods&quot; value=&quot;true&quot;/&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Code Structure Check: Disallows empty blocks --&gt;\n        &lt;module name=&quot;EmptyBlock&quot;&gt;\n            &lt;property name=&quot;option&quot; value=&quot;text&quot;/&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Code Structure Check: Enforces the use of braces for control statements --&gt;\n        &lt;module name=&quot;NeedBraces&quot;/&gt;\n\n        &lt;!-- Formatting Check: Enforces consistent whitespace usage --&gt;\n        &lt;module name=&quot;GenericWhitespace&quot;/&gt;\n\n\n        &lt;!-- Code Structure Check: Checks for redundant import statements --&gt;\n        &lt;module name=&quot;RedundantImport&quot;/&gt;\n\n        &lt;!-- Code Structure Check: Disallows star import statements --&gt;\n        &lt;module name=&quot;AvoidStarImport&quot;/&gt;\n\n        &lt;!-- Code Structure Check: Checks the placement of left curly braces --&gt;\n        &lt;module name=&quot;LeftCurly&quot;&gt;&lt;/module&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for local final variables --&gt;\n        &lt;module name=&quot;LocalFinalVariableName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for local variables --&gt;\n        &lt;module name=&quot;LocalVariableName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for member variables --&gt;\n        &lt;module name=&quot;MemberName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for method names --&gt;\n        &lt;module name=&quot;MethodName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for package names --&gt;\n        &lt;module name=&quot;PackageName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for method parameters --&gt;\n        &lt;module name=&quot;ParameterName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for static variables --&gt;\n        &lt;module name=&quot;StaticVariableName&quot;/&gt;\n\n        &lt;!-- Naming Convention Check: Enforces naming conventions for type names (classes, interfaces, enums, etc.) --&gt;\n        &lt;module name=&quot;TypeName&quot;/&gt;\n\n        &lt;!-- Code Structure Check: Disallows unused import statements --&gt;\n        &lt;module name=&quot;UnusedImports&quot;/&gt;\n\n        &lt;!-- Code Structure Check: Disallows unused private fields --&gt;\n        &lt;!-- &lt;module name=&quot;UnusedPrivateField&quot;/&gt; --&gt;\n\n        &lt;!-- Code Structure Check: Enforces Javadoc comments for methods and classes --&gt;\n        &lt;module name=&quot;JavadocMethod&quot;/&gt;\n        &lt;module name=&quot;JavadocType&quot;/&gt;\n\n        &lt;!-- Code Structure Check: Disallows trailing whitespace --&gt;\n        &lt;module name=&quot;NoWhitespaceAfter&quot;/&gt;\n\n        &lt;!-- Code Structure Check: Disallows whitespace before a semicolon --&gt;\n        &lt;module name=&quot;NoWhitespaceBefore&quot;/&gt;\n\n        &lt;!-- Add: // CHECKSTYLE:OFF to the top of the file for which you want to skip checkstyle checks. --&gt;\n        &lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\n    &lt;/module&gt;\n\n&lt;/module&gt;\n\n</code></pre>\n"}],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702225905,"creation_date":1691065982,"question_id":76828112,"body_markdown":"## Context\r\nWhen I run the following pre-commit configuration:\r\n```yml\r\n- repo: https://github.com/gherynos/pre-commit-java\r\n    rev: v0.2.9 # Use the ref you want to point at\r\n    hooks:\r\n      - id: pmd\r\n        # args: [&quot;--cache&quot;]\r\n        # exclude: /test/\r\n      - id: cpd\r\n        # exclude: /test/\r\n      - id: checkstyle\r\n        # Set the path to your Checkstyle configuration file\r\n        # args: [&quot;-c&quot;, &quot;checkstyle.xml&quot;]\r\n        # exclude: /test/\r\n```\r\ncheckstyle throws 32 warnings of various types, including `InvalidJavadocPosition`. That is as expected. However, by default it uses a lineLength of 80 characters, whereas google_style_java uses 100 characters. I would like to change checkstyle to use 100 characters, which I did by adding a `checkstyle.xml` file with content:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE module PUBLIC\r\n        &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n\r\n&lt;module name=&quot;Checker&quot;&gt;\r\n    &lt;!-- Configure the line length check with a maximum limit of 80 characters --&gt;\r\n    &lt;module name=&quot;LineLength&quot;&gt;\r\n        &lt;property name=&quot;max&quot; value=&quot;80&quot;/&gt;\r\n    &lt;/module&gt;\r\n&lt;/module&gt;\r\n\r\n```\r\nand enabling: `args: [&quot;-c&quot;, &quot;checkstyle.xml&quot;]`. \r\n\r\n## Issue\r\nHowever, the latter configuration makes checkstyle **only** check for lineLength. To resolve this, I could create a custom checkstyle configuration with all the checks that checkstyle supports. However, that is quite labour intensive, and more importantly, it requires me to manually update the configuration if checkstyle updates. Hence, I would like to &quot;just use the default checkstyle setting, as pre-commit uses it&quot;, with the exception that the line-length should be 100 instead of 80. \r\n\r\n## Question\r\nHence, I would like to ask, how can I use the default checkstyle configuration that pre-commit uses, with the exception of the linelenght check of 100 (instead of 80)","title":"Using checkstyle (default) configuration, with lineLength 100 in pre-commit?","body":"<h2>Context</h2>\n<p>When I run the following pre-commit configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- repo: https://github.com/gherynos/pre-commit-java\n    rev: v0.2.9 # Use the ref you want to point at\n    hooks:\n      - id: pmd\n        # args: [&quot;--cache&quot;]\n        # exclude: /test/\n      - id: cpd\n        # exclude: /test/\n      - id: checkstyle\n        # Set the path to your Checkstyle configuration file\n        # args: [&quot;-c&quot;, &quot;checkstyle.xml&quot;]\n        # exclude: /test/\n</code></pre>\n<p>checkstyle throws 32 warnings of various types, including <code>InvalidJavadocPosition</code>. That is as expected. However, by default it uses a lineLength of 80 characters, whereas google_style_java uses 100 characters. I would like to change checkstyle to use 100 characters, which I did by adding a <code>checkstyle.xml</code> file with content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE module PUBLIC\n        &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\n        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\n\n&lt;module name=&quot;Checker&quot;&gt;\n    &lt;!-- Configure the line length check with a maximum limit of 80 characters --&gt;\n    &lt;module name=&quot;LineLength&quot;&gt;\n        &lt;property name=&quot;max&quot; value=&quot;80&quot;/&gt;\n    &lt;/module&gt;\n&lt;/module&gt;\n\n</code></pre>\n<p>and enabling: <code>args: [&quot;-c&quot;, &quot;checkstyle.xml&quot;]</code>.</p>\n<h2>Issue</h2>\n<p>However, the latter configuration makes checkstyle <strong>only</strong> check for lineLength. To resolve this, I could create a custom checkstyle configuration with all the checks that checkstyle supports. However, that is quite labour intensive, and more importantly, it requires me to manually update the configuration if checkstyle updates. Hence, I would like to &quot;just use the default checkstyle setting, as pre-commit uses it&quot;, with the exception that the line-length should be 100 instead of 80.</p>\n<h2>Question</h2>\n<p>Hence, I would like to ask, how can I use the default checkstyle configuration that pre-commit uses, with the exception of the linelenght check of 100 (instead of 80)</p>\n"},{"tags":["java","javafx","scenebuilder"],"owner":{"account_id":30104967,"reputation":1,"user_id":23071075,"display_name":"oneHundredd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702225380,"creation_date":1702202240,"question_id":77634359,"body_markdown":"I want my enemy to keep moving in a direction for say, up, and when it detects a collision, it changes direction to the right, and then another collision, and so on. My enemy is already stopping at the objects, but I&#39;m having trouble figuring out the logic on how to change its direction.\r\n\r\nMy enemy class\r\n\r\n```\r\npackage application;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.shape.Rectangle;\r\n\r\npublic class Enemy extends Sprite{\r\n\t\r\n\t@FXML private ImageView enemy;\r\n\tdouble x;\r\n\tdouble y;\r\n\r\n\tpublic boolean canUp = true;\r\n\tpublic boolean canDown = true;\r\n\tpublic boolean canLeft = true; \r\n\tpublic boolean canRight = true;\r\n\t\r\n\tprivate int movementVariable = 1;\r\n\tPlayerController playerController;\r\n\t\r\n\tpublic Enemy(ImageView enemy, double x, double y, PlayerController playerController) {\r\n\t\tsuper(x,y,enemy);\r\n\t\tthis.enemy = enemy;\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.playerController = playerController;\r\n\t}\r\n\r\n\tpublic void moveEnemy(ImageView player, AnchorPane scene, ArrayList&lt;Rectangle&gt; unbreakableObjects) {\r\n\t\ttimer.start();\r\n\t}\r\n\r\n\tAnimationTimer timer = new AnimationTimer() {\r\n\t    @Override\r\n\t    public void handle(long timestamp) {\r\n\t        double currentX = enemy.getLayoutX();\r\n\t        double currentY = enemy.getLayoutY();\r\n\r\n\t        // Update the enemy&#39;s position based on movement direction\r\n\t        if (canUp) {\r\n\t            enemy.setLayoutY(enemy.getLayoutY() - movementVariable);\r\n\t            canUp = true;\r\n\t            canDown = false;\r\n\t            canLeft = false;\r\n\t            canRight = false;\r\n\t        } else if (canDown) {\r\n\t            enemy.setLayoutY(enemy.getLayoutY() + movementVariable);\r\n\t            canUp = false;\r\n\t            canDown = true;\r\n\t            canLeft = false;\r\n\t            canRight = false;\r\n\t        } else if (canLeft) {\r\n\t            enemy.setLayoutX(enemy.getLayoutX() - movementVariable);\r\n\t            canUp = false;\r\n\t            canDown = false;\r\n\t            canLeft = true;\r\n\t            canRight = false;\r\n\t        } else if (canRight) {\r\n\t            enemy.setLayoutX(enemy.getLayoutX() + movementVariable);\r\n\t            canUp = false;\r\n\t            canDown = false;\r\n\t            canLeft = false;\r\n\t            canRight = true;\r\n\t        }\r\n\r\n\t        playerController.checkEnemyCollision(currentX, currentY);\r\n\t    }\r\n\t}; \r\n\r\n    void moveUp() {\r\n\t\tenemy.setLayoutY(enemy.getLayoutY() - movementVariable);\r\n\t}\r\n\t\r\n\tpublic void moveDown() {\r\n\t\tenemy.setLayoutY(enemy.getLayoutY() + movementVariable);\r\n\t}\r\n\t\r\n\tpublic void moveLeft() {\r\n\t\tenemy.setLayoutX(enemy.getLayoutX() + movementVariable);\r\n\t}\r\n\t\r\n\tpublic void moveRight() {\r\n\t\tenemy.setLayoutX(enemy.getLayoutX() - movementVariable);\r\n\t}\r\n}\r\n```\r\n\r\nMy controller\r\n\r\n```\r\npackage application;\r\n\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Text;\r\n\r\npublic class PlayerController implements Initializable{\r\n\t\r\n\t@FXML\r\n\tprivate ImageView player;\r\n\tprivate Player playerComponent;\r\n\t\r\n\t@FXML private AnchorPane scene;\r\n\t\r\n\tprivate double x = 0;\r\n\tprivate double y = 0;\r\n\tprivate int scoreCounter = 0;\r\n\t\r\n\t@FXML private int lives;\r\n\t@FXML private Text score;\r\n\t\r\n\t@FXML private Rectangle Bed;\r\n\t@FXML private Rectangle Plant;\r\n\t@FXML private Rectangle Shelf1;\r\n\t@FXML private Rectangle Shelf2;\r\n\t@FXML private Rectangle Box1;\r\n\t@FXML private Rectangle Box2;\r\n\t@FXML private Rectangle Box3;\r\n\t@FXML private Rectangle Box4;\r\n\t@FXML private Rectangle Cabinet1;\r\n\t@FXML private Rectangle TVset;\r\n\t@FXML private Rectangle chair1;\r\n\t@FXML private Rectangle chair2;\r\n\t@FXML private Rectangle Table1;\r\n\t@FXML private Rectangle Desk1;\r\n\t@FXML private Rectangle Desk2;\r\n\t@FXML private Rectangle Box5;\r\n\t@FXML private Rectangle Box6;\r\n\t@FXML private Rectangle Cabinet2;\r\n\t@FXML private Rectangle RightWall;\r\n\t@FXML private Rectangle TopWall;\r\n\t@FXML private Rectangle LeftWall;\r\n\t@FXML private Rectangle BottomWall;\r\n\t\r\n\t@FXML private ImageView breakable1;\r\n\t@FXML private ImageView breakable2;\r\n\t@FXML private ImageView breakable3;\r\n\t@FXML private ImageView breakable4;\r\n\t@FXML private ImageView breakable5;\r\n\t@FXML private ImageView breakable6;\r\n\t@FXML private ImageView breakable7;\r\n\t@FXML private ImageView breakable8;\r\n\t@FXML private ImageView breakable9;\r\n\t@FXML private ImageView breakable10;\r\n\t@FXML private ImageView breakable11;\r\n\t@FXML private ImageView breakable12;\r\n\t@FXML private ImageView breakable13;\r\n\t@FXML private ImageView breakable14;\r\n\t@FXML private ImageView breakable15;\r\n\t@FXML private ImageView breakable16;\r\n\t@FXML private ImageView breakable17;\r\n\t@FXML private ImageView breakable18;\r\n\t@FXML private ImageView breakable19;\r\n\t@FXML private ImageView breakable20;\r\n\t@FXML private ImageView breakable21;\r\n\t@FXML private ImageView breakable22;\r\n\t@FXML private ImageView breakable23;\r\n\t@FXML private ImageView breakable24;\r\n\t\r\n\t@FXML private ImageView Enemy1;\r\n\tprivate Enemy enemy1Component;\r\n\r\n\tprivate ArrayList&lt;Rectangle&gt; unbreakableObjects = new ArrayList&lt;&gt;();\r\n\tprivate ArrayList&lt;ImageView&gt; breakableObjects = new ArrayList&lt;&gt;();\r\n\t\r\n\tCollisionHandler collisionHandler = new CollisionHandler();\r\n\t\r\n\tAnimationTimer gameLoop;\r\n\t\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tplayerComponent = new Player(player, x, y, lives, scoreCounter, this);\r\n\t\tenemy1Component = new Enemy(Enemy1, x, y, this);\r\n\t\t\r\n\t\tgameLoop = new AnimationTimer() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(long arg0) {\r\n\t\t\t\tplayerComponent.makeMovable(player, scene, unbreakableObjects);\r\n\t\t\t\tenemy1Component.moveEnemy(Enemy1, scene, unbreakableObjects);\r\n\t\t\t}\t\r\n\t\t};\r\n\t\t\r\n\t\tgameLoop.start();\r\n\t\t\r\n\t\t// add the unbreakable objects\r\n\t\tunbreakableObjects.add(Bed);\r\n\t\tunbreakableObjects.add(Cabinet1);\r\n\t\tunbreakableObjects.add(Shelf1);\r\n\t\tunbreakableObjects.add(Shelf2);\r\n\t\tunbreakableObjects.add(Box1);\r\n\t\tunbreakableObjects.add(Box2);\r\n\t\tunbreakableObjects.add(Box3);\r\n\t\tunbreakableObjects.add(Box4);\r\n\t\tunbreakableObjects.add(Plant);\r\n\t\tunbreakableObjects.add(TVset);\r\n\t\tunbreakableObjects.add(chair1);\r\n\t\tunbreakableObjects.add(chair2);\r\n\t\tunbreakableObjects.add(Table1);\r\n\t\tunbreakableObjects.add(Desk1);\r\n\t\tunbreakableObjects.add(Desk2);\r\n\t\tunbreakableObjects.add(Box5);\r\n\t\tunbreakableObjects.add(Box6);\r\n\t\tunbreakableObjects.add(Cabinet2);\r\n\t\tunbreakableObjects.add(RightWall);\r\n\t\tunbreakableObjects.add(TopWall);\r\n\t\tunbreakableObjects.add(LeftWall);\r\n\t\tunbreakableObjects.add(BottomWall);\r\n\t\t\r\n\t\t// add the breakable objects\r\n\t\tbreakableObjects.add(breakable1);\r\n\t\tbreakableObjects.add(breakable2);\r\n\t\tbreakableObjects.add(breakable3);\r\n\t\tbreakableObjects.add(breakable4);\r\n\t\tbreakableObjects.add(breakable5);\r\n\t\tbreakableObjects.add(breakable6);\r\n\t\tbreakableObjects.add(breakable7);\r\n\t\tbreakableObjects.add(breakable8);\r\n\t\tbreakableObjects.add(breakable9);\r\n\t\tbreakableObjects.add(breakable10);\r\n\t\tbreakableObjects.add(breakable11);\r\n\t\tbreakableObjects.add(breakable12);\r\n\t\tbreakableObjects.add(breakable13);\r\n\t\tbreakableObjects.add(breakable14);\r\n\t\tbreakableObjects.add(breakable15);\r\n\t\tbreakableObjects.add(breakable16);\r\n\t\tbreakableObjects.add(breakable17);\r\n\t\tbreakableObjects.add(breakable18);\r\n\t\tbreakableObjects.add(breakable19);\r\n\t\tbreakableObjects.add(breakable20);\r\n\t\tbreakableObjects.add(breakable21);\r\n\t\tbreakableObjects.add(breakable22);\r\n\t\tbreakableObjects.add(breakable23);\r\n\t\tbreakableObjects.add(breakable24);\r\n\t}\r\n\t\r\n\tpublic void checkCollision(double currentX, double currentY) {\r\n\t\tif (collisionHandler.checkCollisionUnbreakables(player, unbreakableObjects)) {\r\n\t\t\tplayer.setLayoutX(currentX);\r\n\t\t\tplayer.setLayoutY(currentY);\r\n\t\t}\r\n\t\t\r\n\t\tif (collisionHandler.checkCollisionBreakables(player, breakableObjects) ) {\r\n\t\t\tplayer.setLayoutX(currentX);\r\n\t\t\tplayer.setLayoutY(currentY);\r\n\t\t\tpointChecker();\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tpublic void checkEnemyCollision(double currentX, double currentY) {\r\n\t\tif (collisionHandler.checkCollisionUnbreakables(Enemy1, unbreakableObjects)) {\r\n\t\t\tEnemy1.setLayoutX(currentX);\r\n\t\t\tEnemy1.setLayoutY(currentY);\r\n\t\t}\r\n\t\t\r\n\t\tif (collisionHandler.checkCollisionBreakables(Enemy1, breakableObjects)) {\r\n\t\t\tEnemy1.setLayoutX(currentX);\r\n\t\t\tEnemy1.setLayoutY(currentY);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void pointChecker() {\r\n\t\tplayerComponent.incrementScore();\t\tscore.setText(String.valueOf(playerComponent.getScore()));\r\n\t\tSystem.out.println(&quot;PLAYER SCORE: &quot; + playerComponent.getScore());\r\n\t}\t\r\n}\r\n```\r\n\r\nI tried using Boolean flags to change direction upon collision, but it just doesn&#39;t move when it detects a collision.","title":"Change enemy movement upon collision","body":"<p>I want my enemy to keep moving in a direction for say, up, and when it detects a collision, it changes direction to the right, and then another collision, and so on. My enemy is already stopping at the objects, but I'm having trouble figuring out the logic on how to change its direction.</p>\n<p>My enemy class</p>\n<pre><code>package application;\n\nimport java.util.ArrayList;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.fxml.FXML;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.shape.Rectangle;\n\npublic class Enemy extends Sprite{\n    \n    @FXML private ImageView enemy;\n    double x;\n    double y;\n\n    public boolean canUp = true;\n    public boolean canDown = true;\n    public boolean canLeft = true; \n    public boolean canRight = true;\n    \n    private int movementVariable = 1;\n    PlayerController playerController;\n    \n    public Enemy(ImageView enemy, double x, double y, PlayerController playerController) {\n        super(x,y,enemy);\n        this.enemy = enemy;\n        this.x = x;\n        this.y = y;\n        this.playerController = playerController;\n    }\n\n    public void moveEnemy(ImageView player, AnchorPane scene, ArrayList&lt;Rectangle&gt; unbreakableObjects) {\n        timer.start();\n    }\n\n    AnimationTimer timer = new AnimationTimer() {\n        @Override\n        public void handle(long timestamp) {\n            double currentX = enemy.getLayoutX();\n            double currentY = enemy.getLayoutY();\n\n            // Update the enemy's position based on movement direction\n            if (canUp) {\n                enemy.setLayoutY(enemy.getLayoutY() - movementVariable);\n                canUp = true;\n                canDown = false;\n                canLeft = false;\n                canRight = false;\n            } else if (canDown) {\n                enemy.setLayoutY(enemy.getLayoutY() + movementVariable);\n                canUp = false;\n                canDown = true;\n                canLeft = false;\n                canRight = false;\n            } else if (canLeft) {\n                enemy.setLayoutX(enemy.getLayoutX() - movementVariable);\n                canUp = false;\n                canDown = false;\n                canLeft = true;\n                canRight = false;\n            } else if (canRight) {\n                enemy.setLayoutX(enemy.getLayoutX() + movementVariable);\n                canUp = false;\n                canDown = false;\n                canLeft = false;\n                canRight = true;\n            }\n\n            playerController.checkEnemyCollision(currentX, currentY);\n        }\n    }; \n\n    void moveUp() {\n        enemy.setLayoutY(enemy.getLayoutY() - movementVariable);\n    }\n    \n    public void moveDown() {\n        enemy.setLayoutY(enemy.getLayoutY() + movementVariable);\n    }\n    \n    public void moveLeft() {\n        enemy.setLayoutX(enemy.getLayoutX() + movementVariable);\n    }\n    \n    public void moveRight() {\n        enemy.setLayoutX(enemy.getLayoutX() - movementVariable);\n    }\n}\n</code></pre>\n<p>My controller</p>\n<pre><code>package application;\n\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.ResourceBundle;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Text;\n\npublic class PlayerController implements Initializable{\n    \n    @FXML\n    private ImageView player;\n    private Player playerComponent;\n    \n    @FXML private AnchorPane scene;\n    \n    private double x = 0;\n    private double y = 0;\n    private int scoreCounter = 0;\n    \n    @FXML private int lives;\n    @FXML private Text score;\n    \n    @FXML private Rectangle Bed;\n    @FXML private Rectangle Plant;\n    @FXML private Rectangle Shelf1;\n    @FXML private Rectangle Shelf2;\n    @FXML private Rectangle Box1;\n    @FXML private Rectangle Box2;\n    @FXML private Rectangle Box3;\n    @FXML private Rectangle Box4;\n    @FXML private Rectangle Cabinet1;\n    @FXML private Rectangle TVset;\n    @FXML private Rectangle chair1;\n    @FXML private Rectangle chair2;\n    @FXML private Rectangle Table1;\n    @FXML private Rectangle Desk1;\n    @FXML private Rectangle Desk2;\n    @FXML private Rectangle Box5;\n    @FXML private Rectangle Box6;\n    @FXML private Rectangle Cabinet2;\n    @FXML private Rectangle RightWall;\n    @FXML private Rectangle TopWall;\n    @FXML private Rectangle LeftWall;\n    @FXML private Rectangle BottomWall;\n    \n    @FXML private ImageView breakable1;\n    @FXML private ImageView breakable2;\n    @FXML private ImageView breakable3;\n    @FXML private ImageView breakable4;\n    @FXML private ImageView breakable5;\n    @FXML private ImageView breakable6;\n    @FXML private ImageView breakable7;\n    @FXML private ImageView breakable8;\n    @FXML private ImageView breakable9;\n    @FXML private ImageView breakable10;\n    @FXML private ImageView breakable11;\n    @FXML private ImageView breakable12;\n    @FXML private ImageView breakable13;\n    @FXML private ImageView breakable14;\n    @FXML private ImageView breakable15;\n    @FXML private ImageView breakable16;\n    @FXML private ImageView breakable17;\n    @FXML private ImageView breakable18;\n    @FXML private ImageView breakable19;\n    @FXML private ImageView breakable20;\n    @FXML private ImageView breakable21;\n    @FXML private ImageView breakable22;\n    @FXML private ImageView breakable23;\n    @FXML private ImageView breakable24;\n    \n    @FXML private ImageView Enemy1;\n    private Enemy enemy1Component;\n\n    private ArrayList&lt;Rectangle&gt; unbreakableObjects = new ArrayList&lt;&gt;();\n    private ArrayList&lt;ImageView&gt; breakableObjects = new ArrayList&lt;&gt;();\n    \n    CollisionHandler collisionHandler = new CollisionHandler();\n    \n    AnimationTimer gameLoop;\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        playerComponent = new Player(player, x, y, lives, scoreCounter, this);\n        enemy1Component = new Enemy(Enemy1, x, y, this);\n        \n        gameLoop = new AnimationTimer() {\n\n            @Override\n            public void handle(long arg0) {\n                playerComponent.makeMovable(player, scene, unbreakableObjects);\n                enemy1Component.moveEnemy(Enemy1, scene, unbreakableObjects);\n            }   \n        };\n        \n        gameLoop.start();\n        \n        // add the unbreakable objects\n        unbreakableObjects.add(Bed);\n        unbreakableObjects.add(Cabinet1);\n        unbreakableObjects.add(Shelf1);\n        unbreakableObjects.add(Shelf2);\n        unbreakableObjects.add(Box1);\n        unbreakableObjects.add(Box2);\n        unbreakableObjects.add(Box3);\n        unbreakableObjects.add(Box4);\n        unbreakableObjects.add(Plant);\n        unbreakableObjects.add(TVset);\n        unbreakableObjects.add(chair1);\n        unbreakableObjects.add(chair2);\n        unbreakableObjects.add(Table1);\n        unbreakableObjects.add(Desk1);\n        unbreakableObjects.add(Desk2);\n        unbreakableObjects.add(Box5);\n        unbreakableObjects.add(Box6);\n        unbreakableObjects.add(Cabinet2);\n        unbreakableObjects.add(RightWall);\n        unbreakableObjects.add(TopWall);\n        unbreakableObjects.add(LeftWall);\n        unbreakableObjects.add(BottomWall);\n        \n        // add the breakable objects\n        breakableObjects.add(breakable1);\n        breakableObjects.add(breakable2);\n        breakableObjects.add(breakable3);\n        breakableObjects.add(breakable4);\n        breakableObjects.add(breakable5);\n        breakableObjects.add(breakable6);\n        breakableObjects.add(breakable7);\n        breakableObjects.add(breakable8);\n        breakableObjects.add(breakable9);\n        breakableObjects.add(breakable10);\n        breakableObjects.add(breakable11);\n        breakableObjects.add(breakable12);\n        breakableObjects.add(breakable13);\n        breakableObjects.add(breakable14);\n        breakableObjects.add(breakable15);\n        breakableObjects.add(breakable16);\n        breakableObjects.add(breakable17);\n        breakableObjects.add(breakable18);\n        breakableObjects.add(breakable19);\n        breakableObjects.add(breakable20);\n        breakableObjects.add(breakable21);\n        breakableObjects.add(breakable22);\n        breakableObjects.add(breakable23);\n        breakableObjects.add(breakable24);\n    }\n    \n    public void checkCollision(double currentX, double currentY) {\n        if (collisionHandler.checkCollisionUnbreakables(player, unbreakableObjects)) {\n            player.setLayoutX(currentX);\n            player.setLayoutY(currentY);\n        }\n        \n        if (collisionHandler.checkCollisionBreakables(player, breakableObjects) ) {\n            player.setLayoutX(currentX);\n            player.setLayoutY(currentY);\n            pointChecker();\n        }   \n    }\n    \n    public void checkEnemyCollision(double currentX, double currentY) {\n        if (collisionHandler.checkCollisionUnbreakables(Enemy1, unbreakableObjects)) {\n            Enemy1.setLayoutX(currentX);\n            Enemy1.setLayoutY(currentY);\n        }\n        \n        if (collisionHandler.checkCollisionBreakables(Enemy1, breakableObjects)) {\n            Enemy1.setLayoutX(currentX);\n            Enemy1.setLayoutY(currentY);\n        }\n    }\n    \n    private void pointChecker() {\n        playerComponent.incrementScore();       score.setText(String.valueOf(playerComponent.getScore()));\n        System.out.println(&quot;PLAYER SCORE: &quot; + playerComponent.getScore());\n    }   \n}\n</code></pre>\n<p>I tried using Boolean flags to change direction upon collision, but it just doesn't move when it detects a collision.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2307875,"reputation":707,"user_id":2026753,"display_name":"user2026753"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1690735245,"creation_date":1477056634,"answer_id":40177990,"question_id":40177865,"body_markdown":"If you want String to be database key you need to use UUID to automatically generate key. Something like this:\r\n\r\n    @Id @GeneratedValue(generator=&quot;system-uuid&quot;)\r\n    @GenericGenerator(name=&quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n    private String myId;\r\n\r\n---\r\nUPDATE\r\n-\r\nThe way of doing has evolved to the following usage\r\n\r\n```java\r\nimport org.hibernate.annotations.UuidGenerator;\r\n// other code \r\n@Id\r\n@UuidGenerator\r\npublic String id;\r\n```","title":"Hibernate Unknown integral data type for ids","body":"<p>If you want String to be database key you need to use UUID to automatically generate key. Something like this:</p>\n<pre><code>@Id @GeneratedValue(generator=&quot;system-uuid&quot;)\n@GenericGenerator(name=&quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\nprivate String myId;\n</code></pre>\n<hr />\n<h2>UPDATE</h2>\n<p>The way of doing has evolved to the following usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.annotations.UuidGenerator;\n// other code \n@Id\n@UuidGenerator\npublic String id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21250867,"reputation":1,"user_id":15633101,"display_name":"Aamir khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624449663,"creation_date":1624449663,"answer_id":68099430,"question_id":40177865,"body_markdown":"Dear you have used string for the id that why it is causing issue. make it to int or long and check the database field as well . In case some one else come looking for an answer .\r\n\r\n    @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;increment&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;generator&quot;)\r\n    \t@Column(unique=true, nullable=false, precision=10,name=&quot;paymentid&quot;)\r\n    \tprivate  Long  \r\n\r\n\r\nThis will solve your problem","title":"Hibernate Unknown integral data type for ids","body":"<p>Dear you have used string for the id that why it is causing issue. make it to int or long and check the database field as well . In case some one else come looking for an answer .</p>\n<pre><code>@GenericGenerator(name = &quot;generator&quot;, strategy = &quot;increment&quot;)\n    @Id\n    @GeneratedValue(generator = &quot;generator&quot;)\n    @Column(unique=true, nullable=false, precision=10,name=&quot;paymentid&quot;)\n    private  Long  \n</code></pre>\n<p>This will solve your problem</p>\n"},{"tags":[],"owner":{"account_id":18781678,"reputation":21,"user_id":13696195,"display_name":"Mick.zw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644956552,"creation_date":1644956552,"answer_id":71132897,"question_id":40177865,"body_markdown":"For future readers, especially\r\nthose new to spring like myself, I had the same problem, even though my id was type Long.\r\n\r\nInitially, I created the instance variables before annotating them, and then created the annotation at the to of all instance variables as shown below.\r\n```\r\npublic class Student {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            generator = &quot;student_sequence&quot;,\r\n            strategy = GenerationType.SEQUENCE\r\n    )\r\n    private String name;\r\n    private Long id;\r\n    private String email;\r\n```\r\n\r\nI only realised this problem after reading Aamir Khan&#39;s answer to this post, that in effect I was annotating the name(which is of type String) instead of the id, hence the error.\r\n\r\nAs can be seen from the solution below, putting id right below the annotations and just above the name solved the problem.\r\n\r\n```\r\npublic class Student {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            generator = &quot;student_sequence&quot;,\r\n            strategy = GenerationType.SEQUENCE\r\n    )\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n```","title":"Hibernate Unknown integral data type for ids","body":"<p>For future readers, especially\nthose new to spring like myself, I had the same problem, even though my id was type Long.</p>\n<p>Initially, I created the instance variables before annotating them, and then created the annotation at the to of all instance variables as shown below.</p>\n<pre><code>public class Student {\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            generator = &quot;student_sequence&quot;,\n            strategy = GenerationType.SEQUENCE\n    )\n    private String name;\n    private Long id;\n    private String email;\n</code></pre>\n<p>I only realised this problem after reading Aamir Khan's answer to this post, that in effect I was annotating the name(which is of type String) instead of the id, hence the error.</p>\n<p>As can be seen from the solution below, putting id right below the annotations and just above the name solved the problem.</p>\n<pre><code>public class Student {\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            generator = &quot;student_sequence&quot;,\n            strategy = GenerationType.SEQUENCE\n    )\n    private Long id;\n    private String name;\n    private String email;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659435071,"creation_date":1659435071,"answer_id":73205753,"question_id":40177865,"body_markdown":"I was getting this error while using Postgres. I was using String for my Ids. Like this:\r\n\r\n    @Id\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\n    private String id;\r\n\r\nSo I remove the @GeneratedValue annotation, as it doesn&#39;t go well with spring. \r\n\r\n    @Id\r\n\r\n    private String id;\r\n\r\nThen it works!\r\n","title":"Hibernate Unknown integral data type for ids","body":"<p>I was getting this error while using Postgres. I was using String for my Ids. Like this:</p>\n<pre><code>@Id\n\n@GeneratedValue(strategy = GenerationType.AUTO)\n\nprivate String id;\n</code></pre>\n<p>So I remove the @GeneratedValue annotation, as it doesn't go well with spring.</p>\n<pre><code>@Id\n\nprivate String id;\n</code></pre>\n<p>Then it works!</p>\n"},{"tags":[],"owner":{"account_id":1150111,"reputation":4324,"user_id":1478181,"accept_rate":73,"display_name":"Abdullah Umer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702224281,"creation_date":1702224281,"answer_id":77635461,"question_id":40177865,"body_markdown":"I was facing the same issue and changing the `strategy = GenerationType.UUID` fixed the issue.\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private String id;","title":"Hibernate Unknown integral data type for ids","body":"<p>I was facing the same issue and changing the <code>strategy = GenerationType.UUID</code> fixed the issue.</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.UUID)\nprivate String id;\n</code></pre>\n"}],"owner":{"account_id":7178993,"reputation":213,"user_id":5483745,"display_name":"Caronte Hades"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56452,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":40177990,"answer_count":5,"score":21,"last_activity_date":1702224281,"creation_date":1477056303,"question_id":40177865,"body_markdown":"I&#39;m starting with Hibernate and I have an error that I just can&#39;t figure out.\r\n\r\nI have the following Classes:\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class AbstractColumn {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private String id;\r\n        private String name;\r\n    \r\n    //Other stuff\r\n    }\r\n\r\nThen I have\r\n\r\n    @Entity\r\n    public class DoubleColumn extends AbstractColumn  implements Column {\r\n    \r\n        @ElementCollection\r\n        private Map&lt;Double,String&gt; isNA;\r\n        private double min=0;\r\n        private double max=0;\r\n        @ElementCollection\r\n        private List&lt;Double&gt; data;\r\n        // a lot of stuff\r\n    }\r\n\r\nAnd finally:\r\n\r\n    @Entity\r\n    public class DataFrame {\r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @PrimaryKeyJoinColumn\r\n        private List&lt;AbstractColumn&gt; data;\r\n        private String name;\r\n        @Id\r\n        @GeneratedValue\r\n        private String id;\r\n        @ElementCollection\r\n        private Map&lt;String,Integer&gt; colIndex;\r\n    //more stuff\r\n    }\r\n\r\nThe error I&#39;m getting is:\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String\r\n    \tat org.hibernate.id.IdentifierGeneratorHelper.getIntegralDataTypeHolder(IdentifierGeneratorHelper.java:224)\r\n    \tat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:98)\r\n    \tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\r\n    \tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:432)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:105)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\r\n    \tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\r\n    \tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\r\n    \tat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:675)\r\n    \tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:667)\r\n    \tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:662)\r\n    \tat Main.main(Main.java:285)\r\n\r\nThe only hint that the error throws is that the error is in the main class here:\r\n\r\n    DoubleColumn c1 = new DoubleColumn(&quot;Datos varios&quot;);\r\n            c1.addData(12);\r\n            c1.addData(11);\r\n            c1.addData(131);\r\n            c1.addData(121);\r\n            c1.addData(151);\r\n            c1.addData(116);\r\n    \r\n    \r\n            DataFrame datosHibernate = new DataFrame(&quot;Dataframe Hibernate&quot;);\r\n            datosHibernate.addColumn(c1);\r\n    \r\n    \r\n            Configuration hibernateConfig = new Configuration();\r\n            SessionFactory sessionFactory = hibernateConfig.configure().buildSessionFactory();\r\n            Session session = sessionFactory.openSession();\r\n            session.beginTransaction();\r\n            session.save(datosHibernate);\r\n            session.getTransaction().commit();\r\n            session.disconnect();\r\n            session.close();\r\n            System.exit(0);\r\n\r\nThe ids are Strings, and I have them annotated as @GeneratedValue (I think I do not need to initialize them myself). The relation @OneToMany have the cascade annotation so it should be mapped correctly.\r\n\r\nI&#39;ve tried the code WITHOUT the session.save line and doesn&#39;t throw errors, so is not a problem in the code per se, it has to be something with Hibernate.\r\n\r\nMy configuration file is:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:h2:E:/bd;DB_CLOSE_DELAY=-1;MVCC=TRUE&lt;/property&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;user&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\n            &lt;mapping class=&quot;com.dataframe.estructuras.DataFrame&quot;&gt;&lt;/mapping&gt;\r\n            &lt;mapping class=&quot;com.dataframe.estructuras.column.AbstractColumn&quot;/&gt;\r\n            &lt;mapping class=&quot;com.dataframe.estructuras.column.types.DoubleColumn&quot;/&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nIt creates the database file and I see all the SQL code generated, tables and all. Is when it tries to store the info when the thing breaks.","title":"Hibernate Unknown integral data type for ids","body":"<p>I'm starting with Hibernate and I have an error that I just can't figure out.</p>\n\n<p>I have the following Classes:</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class AbstractColumn {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String id;\n    private String name;\n\n//Other stuff\n}\n</code></pre>\n\n<p>Then I have</p>\n\n<pre><code>@Entity\npublic class DoubleColumn extends AbstractColumn  implements Column {\n\n    @ElementCollection\n    private Map&lt;Double,String&gt; isNA;\n    private double min=0;\n    private double max=0;\n    @ElementCollection\n    private List&lt;Double&gt; data;\n    // a lot of stuff\n}\n</code></pre>\n\n<p>And finally:</p>\n\n<pre><code>@Entity\npublic class DataFrame {\n    @OneToMany(cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private List&lt;AbstractColumn&gt; data;\n    private String name;\n    @Id\n    @GeneratedValue\n    private String id;\n    @ElementCollection\n    private Map&lt;String,Integer&gt; colIndex;\n//more stuff\n}\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String\n    at org.hibernate.id.IdentifierGeneratorHelper.getIntegralDataTypeHolder(IdentifierGeneratorHelper.java:224)\n    at org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:98)\n    at org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:432)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:105)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\n    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\n    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\n    at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:675)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:667)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:662)\n    at Main.main(Main.java:285)\n</code></pre>\n\n<p>The only hint that the error throws is that the error is in the main class here:</p>\n\n<pre><code>DoubleColumn c1 = new DoubleColumn(\"Datos varios\");\n        c1.addData(12);\n        c1.addData(11);\n        c1.addData(131);\n        c1.addData(121);\n        c1.addData(151);\n        c1.addData(116);\n\n\n        DataFrame datosHibernate = new DataFrame(\"Dataframe Hibernate\");\n        datosHibernate.addColumn(c1);\n\n\n        Configuration hibernateConfig = new Configuration();\n        SessionFactory sessionFactory = hibernateConfig.configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        session.save(datosHibernate);\n        session.getTransaction().commit();\n        session.disconnect();\n        session.close();\n        System.exit(0);\n</code></pre>\n\n<p>The ids are Strings, and I have them annotated as @GeneratedValue (I think I do not need to initialize them myself). The relation @OneToMany have the cascade annotation so it should be mapped correctly.</p>\n\n<p>I've tried the code WITHOUT the session.save line and doesn't throw errors, so is not a problem in the code per se, it has to be something with Hibernate.</p>\n\n<p>My configuration file is:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:h2:E:/bd;DB_CLOSE_DELAY=-1;MVCC=TRUE&lt;/property&gt;\n        &lt;property name=\"connection.driver_class\"&gt;org.h2.Driver&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;user&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;&lt;/property&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;mapping class=\"com.dataframe.estructuras.DataFrame\"&gt;&lt;/mapping&gt;\n        &lt;mapping class=\"com.dataframe.estructuras.column.AbstractColumn\"/&gt;\n        &lt;mapping class=\"com.dataframe.estructuras.column.types.DoubleColumn\"/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>It creates the database file and I see all the SQL code generated, tables and all. Is when it tries to store the info when the thing breaks.</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1702109159,"creation_date":1702109159,"answer_id":77630574,"question_id":77630493,"body_markdown":"Sometimes, it&#39;s tricky.  \r\nI managed to compile it by changing it that way, after many attempts.\r\n\r\n```java\r\nclass Generic {\r\n   public static void main(String[] args) {\r\n      Generic generic = new Generic();\r\n      generic.testing();\r\n   }\r\n\r\n   public void testing() {\r\n      //List of imputs\r\n      List&lt;Test&gt; tests = new ArrayList&lt;&gt;();\r\n      tests.add(new TestSub1());\r\n      tests.add(new TestSub2());\r\n\r\n      // Processors are in a Map\r\n      Map&lt;String, Processor&lt;? extends Test&gt;&gt; testMaps = new HashMap&lt;&gt;();\r\n      testMaps.put(&quot;Processor1&quot;, new Processor1());\r\n      testMaps.put(&quot;Processor2&quot;, new Processor2());\r\n\r\n\r\n      // Doesn&#39;t compile\r\n      // java: incompatible types: Generic.Test cannot be converted to capture#1 of ? extends Generic.Test\r\n      tests.stream().filter(t -&gt; t instanceof TestSub1)\r\n         .forEach(test -&gt;\r\n            testMaps.get(&quot;Processor1&quot;).doWork(tests.get(0))\r\n         );\r\n   }\r\n\r\n   abstract public static class Test {\r\n   }\r\n\r\n   static class TestSub1 extends Test {\r\n   }\r\n\r\n   static class TestSub2 extends Test {\r\n   }\r\n\r\n   static abstract class Processor&lt;T&gt; {\r\n      abstract void doWork(Test t);\r\n   }\r\n\r\n   // Processors can handle subclasses of Test\r\n   static class Processor1 extends Processor&lt;TestSub1&gt; {\r\n      @Override\r\n      void doWork(Test testSub1) {\r\n         System.out.println(&quot;processing testSub1&quot;);\r\n      }\r\n   }\r\n\r\n   static class Processor2 extends  Processor&lt;TestSub2&gt; {\r\n      @Override\r\n      void doWork(Test testSub2) {\r\n         System.out.println(&quot;processing testSub2&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nSummarizing, it seems that I only changed your `void doWork(TestSub1 testSub1)` and `void doWork(TestSub2 testSub2)` by `void doWork(Test )` in fact.","title":"How to solve type mismatch error in Java when using generics with subclass mapping?","body":"<p>Sometimes, it's tricky.<br />\nI managed to compile it by changing it that way, after many attempts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Generic {\n   public static void main(String[] args) {\n      Generic generic = new Generic();\n      generic.testing();\n   }\n\n   public void testing() {\n      //List of imputs\n      List&lt;Test&gt; tests = new ArrayList&lt;&gt;();\n      tests.add(new TestSub1());\n      tests.add(new TestSub2());\n\n      // Processors are in a Map\n      Map&lt;String, Processor&lt;? extends Test&gt;&gt; testMaps = new HashMap&lt;&gt;();\n      testMaps.put(&quot;Processor1&quot;, new Processor1());\n      testMaps.put(&quot;Processor2&quot;, new Processor2());\n\n\n      // Doesn't compile\n      // java: incompatible types: Generic.Test cannot be converted to capture#1 of ? extends Generic.Test\n      tests.stream().filter(t -&gt; t instanceof TestSub1)\n         .forEach(test -&gt;\n            testMaps.get(&quot;Processor1&quot;).doWork(tests.get(0))\n         );\n   }\n\n   abstract public static class Test {\n   }\n\n   static class TestSub1 extends Test {\n   }\n\n   static class TestSub2 extends Test {\n   }\n\n   static abstract class Processor&lt;T&gt; {\n      abstract void doWork(Test t);\n   }\n\n   // Processors can handle subclasses of Test\n   static class Processor1 extends Processor&lt;TestSub1&gt; {\n      @Override\n      void doWork(Test testSub1) {\n         System.out.println(&quot;processing testSub1&quot;);\n      }\n   }\n\n   static class Processor2 extends  Processor&lt;TestSub2&gt; {\n      @Override\n      void doWork(Test testSub2) {\n         System.out.println(&quot;processing testSub2&quot;);\n      }\n   }\n}\n</code></pre>\n<p>Summarizing, it seems that I only changed your <code>void doWork(TestSub1 testSub1)</code> and <code>void doWork(TestSub2 testSub2)</code> by <code>void doWork(Test )</code> in fact.</p>\n"},{"tags":[],"owner":{"account_id":4042366,"reputation":283,"user_id":3324794,"display_name":"Reveson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1702110973,"creation_date":1702110973,"answer_id":77630646,"question_id":77630493,"body_markdown":"You are rightly getting a compile time error. You have a map with values of `? extends Test`, but the compiler doesn&#39;t know the exact types that the generic type of the Processor class will have. Then, you try to pass a superclass to the `doWork` method.\r\n\r\nThis will be best understood with an example:\r\n```java\r\ntestMaps.get(&quot;Processor1&quot;).doWork(tests.get(1))\r\n```\r\nWhat if you pass an object of type `TestSub2` to the `doWork()` method? The `Processor1` can only handle classes of type `TestSub1`. It doesn&#39;t matter that in your code you earlier filter the results in such a way that only arguments of the appropriate type get to the method. The compiler doesn&#39;t know about this - it doesn&#39;t analyze the semantics of the code. Java is a strongly typed language, hence the compiler simply won&#39;t let you do this.\r\n\r\nIn this case, you might use a design pattern like the &#39;type-safe heterogeneous container&#39; proposed by Joshua Bloch:\r\n\r\n```java\r\nclass ProcessorTypeSafeContainer {\r\n    private final Map&lt;Class&lt;? extends Test&gt;, Processor&lt;? extends Test&gt;&gt; processorRegistry = new HashMap&lt;&gt;();\r\n\r\n    &lt;T extends Test&gt; void registerProcessor(Class&lt;T&gt; type, Processor&lt;T&gt; processor) {\r\n        processorRegistry.put(type, processor);\r\n    }\r\n\r\n    void processTest(Test test) {\r\n        Processor&lt;? extends Test&gt; processor = processorRegistry.get(test.getClass());\r\n        if (processor == null)\r\n            throw new IllegalArgumentException(&quot;No processor registered for type &quot; + test.getClass());\r\n        doWorkWithProcessor(processor, test);\r\n    }\r\n\r\n    private &lt;T extends Test&gt; void doWorkWithProcessor(Processor&lt;T&gt; processor, Test test) {\r\n        processor.doWork((T) test);\r\n    }\r\n}\r\n```\r\n\r\nAnd then you may simply use it like this:\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;Test&gt; tests = new ArrayList&lt;&gt;();\r\n    tests.add(new TestSub1());\r\n    tests.add(new TestSub2());\r\n\r\n    ProcessorTypeSafeContainer container = new ProcessorTypeSafeContainer();\r\n    container.registerProcessor(TestSub1.class, new Processor1());\r\n    container.registerProcessor(TestSub2.class, new Processor2());\r\n\r\n    tests.forEach(container::processTest);\r\n}\r\n```","title":"How to solve type mismatch error in Java when using generics with subclass mapping?","body":"<p>You are rightly getting a compile time error. You have a map with values of <code>? extends Test</code>, but the compiler doesn't know the exact types that the generic type of the Processor class will have. Then, you try to pass a superclass to the <code>doWork</code> method.</p>\n<p>This will be best understood with an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>testMaps.get(&quot;Processor1&quot;).doWork(tests.get(1))\n</code></pre>\n<p>What if you pass an object of type <code>TestSub2</code> to the <code>doWork()</code> method? The <code>Processor1</code> can only handle classes of type <code>TestSub1</code>. It doesn't matter that in your code you earlier filter the results in such a way that only arguments of the appropriate type get to the method. The compiler doesn't know about this - it doesn't analyze the semantics of the code. Java is a strongly typed language, hence the compiler simply won't let you do this.</p>\n<p>In this case, you might use a design pattern like the 'type-safe heterogeneous container' proposed by Joshua Bloch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ProcessorTypeSafeContainer {\n    private final Map&lt;Class&lt;? extends Test&gt;, Processor&lt;? extends Test&gt;&gt; processorRegistry = new HashMap&lt;&gt;();\n\n    &lt;T extends Test&gt; void registerProcessor(Class&lt;T&gt; type, Processor&lt;T&gt; processor) {\n        processorRegistry.put(type, processor);\n    }\n\n    void processTest(Test test) {\n        Processor&lt;? extends Test&gt; processor = processorRegistry.get(test.getClass());\n        if (processor == null)\n            throw new IllegalArgumentException(&quot;No processor registered for type &quot; + test.getClass());\n        doWorkWithProcessor(processor, test);\n    }\n\n    private &lt;T extends Test&gt; void doWorkWithProcessor(Processor&lt;T&gt; processor, Test test) {\n        processor.doWork((T) test);\n    }\n}\n</code></pre>\n<p>And then you may simply use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;Test&gt; tests = new ArrayList&lt;&gt;();\n    tests.add(new TestSub1());\n    tests.add(new TestSub2());\n\n    ProcessorTypeSafeContainer container = new ProcessorTypeSafeContainer();\n    container.registerProcessor(TestSub1.class, new Processor1());\n    container.registerProcessor(TestSub2.class, new Processor2());\n\n    tests.forEach(container::processTest);\n}\n</code></pre>\n"}],"owner":{"account_id":1256960,"reputation":849,"user_id":1216225,"accept_rate":74,"display_name":"nerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77630646,"answer_count":2,"score":1,"last_activity_date":1702224085,"creation_date":1702106851,"question_id":77630493,"body_markdown":"I couldn&#39;t figure out why this code doesn&#39;t compile.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class Generic {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        //List of imputs\r\n        List&lt;Test&gt; tests = new ArrayList&lt;&gt;();\r\n        tests.add(new TestSub1());\r\n        tests.add(new TestSub2());\r\n\r\n        // Processors are in a Map\r\n        Map&lt;String, Processor&lt;? extends Test&gt;&gt; testMaps = new HashMap&lt;&gt;();\r\n        testMaps.put(&quot;Processor1&quot;, new Processor1());\r\n        testMaps.put(&quot;Processor2&quot;, new Processor2());\r\n\r\n\r\n        // Doesn&#39;t compile\r\n        // java: incompatible types: Generic.Test cannot be converted to capture#1 of ? extends Generic.Test\r\n        tests.stream().filter(t -&gt; t instanceof TestSub1)\r\n                .forEach(test -&gt;\r\n                    testMaps.get(&quot;Processor1&quot;).doWork(tests.get(0))\r\n                );\r\n    }\r\n\r\n\r\n    static class Test {\r\n    }\r\n\r\n    static class TestSub1 extends Test {\r\n\r\n    }\r\n\r\n    static class TestSub2 extends Test {\r\n\r\n    }\r\n\r\n    static abstract class Processor&lt;T extends Test&gt; {\r\n\r\n        abstract void doWork(T t);\r\n    }\r\n\r\n    // Processors can handle subclasses of Test\r\n    static  class Processor1 extends Processor&lt;TestSub1&gt; {\r\n\r\n        @Override\r\n        void doWork(TestSub1 testSub1) {\r\n            System.out.println(&quot;processing testSub1&quot;);\r\n        }\r\n    }\r\n\r\n    static  class Processor2 extends  Processor&lt;TestSub2&gt; {\r\n\r\n        @Override\r\n        void doWork(TestSub2 testSub2) {\r\n            System.out.println(&quot;processing testSub2&quot;);\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nI would like to have Processor per subclass of Test. I tried to cast tests.get(0) to TestSub1,but it doesn&#39;t work either. Is it possible to such thing or how can I make my processors type safe and generic.\r\n\r\nThanks!","title":"How to solve type mismatch error in Java when using generics with subclass mapping?","body":"<p>I couldn't figure out why this code doesn't compile.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Generic {\n\n\npublic static void main(String[] args) {\n\n    //List of imputs\n    List&lt;Test&gt; tests = new ArrayList&lt;&gt;();\n    tests.add(new TestSub1());\n    tests.add(new TestSub2());\n\n    // Processors are in a Map\n    Map&lt;String, Processor&lt;? extends Test&gt;&gt; testMaps = new HashMap&lt;&gt;();\n    testMaps.put(&quot;Processor1&quot;, new Processor1());\n    testMaps.put(&quot;Processor2&quot;, new Processor2());\n\n\n    // Doesn't compile\n    // java: incompatible types: Generic.Test cannot be converted to capture#1 of ? extends Generic.Test\n    tests.stream().filter(t -&gt; t instanceof TestSub1)\n            .forEach(test -&gt;\n                testMaps.get(&quot;Processor1&quot;).doWork(tests.get(0))\n            );\n}\n\n\nstatic class Test {\n}\n\nstatic class TestSub1 extends Test {\n\n}\n\nstatic class TestSub2 extends Test {\n\n}\n\nstatic abstract class Processor&lt;T extends Test&gt; {\n\n    abstract void doWork(T t);\n}\n\n// Processors can handle subclasses of Test\nstatic  class Processor1 extends Processor&lt;TestSub1&gt; {\n\n    @Override\n    void doWork(TestSub1 testSub1) {\n        System.out.println(&quot;processing testSub1&quot;);\n    }\n}\n\nstatic  class Processor2 extends  Processor&lt;TestSub2&gt; {\n\n    @Override\n    void doWork(TestSub2 testSub2) {\n        System.out.println(&quot;processing testSub2&quot;);\n    }\n}\n}\n</code></pre>\n<p>I would like to have Processor per subclass of Test. I tried to cast tests.get(0) to TestSub1,but it doesn't work either. Is it possible to such thing or how can I make my processors type safe and generic.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":26855967,"reputation":2321,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1672476014,"post_id":74967763,"comment_id":132295665,"body_markdown":"Doesn&#39;t seem any problem here,, can you `invalidate caches and restart`","body":"Doesn&#39;t seem any problem here,, can you <code>invalidate caches and restart</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1672479425,"post_id":74967763,"comment_id":132296100,"body_markdown":"Have added the corresponding import? Can you show that to us? Please respond using @AlexMamo","body":"Have added the corresponding import? Can you show that to us? Please respond using @AlexMamo"},{"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"score":0,"creation_date":1672486371,"post_id":74967763,"comment_id":132297116,"body_markdown":"`package com.example.pucabz;\n\nimport android.os.Bundle;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.firebase.auth.FirebaseAuth;\n\n\npublic class DriverLoginActivity extends AppCompatActivity {\n    private EditText mEmail, mPassword;\n    private Button mLogin, mRegistration;\n    private FirebaseAuth mAuth;`\nSee @AlexMamo the above code is what I have written. Still shows error","body":"<code>package com.example.pucabz;  import android.os.Bundle; import android.widget.Button; import android.widget.EditText;  import androidx.appcompat.app.AppCompatActivity;  import com.google.firebase.auth.FirebaseAuth;   public class DriverLoginActivity extends AppCompatActivity {     private EditText mEmail, mPassword;     private Button mLogin, mRegistration;     private FirebaseAuth mAuth;</code> See @AlexMamo the above code is what I have written. Still shows error"},{"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"score":0,"creation_date":1672486492,"post_id":74967763,"comment_id":132297133,"body_markdown":"Already done that @SohaibAhmed \nthe problem presist","body":"Already done that @SohaibAhmed  the problem presist"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2321,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672502288,"creation_date":1672502288,"answer_id":74970651,"question_id":74967763,"body_markdown":"Try to add this dependency and try if it works or not\r\n\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:21.1.0&#39;","title":"Cannot resolve symbol &#39;FirebaseAuth&#39; even after adding all the required dependencies","body":"<p>Try to add this dependency and try if it works or not</p>\n<pre><code>implementation 'com.google.firebase:firebase-auth-ktx:21.1.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10181473,"reputation":464,"user_id":7518083,"display_name":"Marfin. F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702223657,"creation_date":1702223657,"answer_id":77635424,"question_id":74967763,"body_markdown":"Mine was resolved by adding the necessary dependencies through firebase assistant menu in the right side of android studio. You can remove all the related firebase authentication dependencies first.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAfter doing that, `FirebaseAuth` is found!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q5IxV.png\r\n  [2]: https://i.stack.imgur.com/s1Xr5.png","title":"Cannot resolve symbol &#39;FirebaseAuth&#39; even after adding all the required dependencies","body":"<p>Mine was resolved by adding the necessary dependencies through firebase assistant menu in the right side of android studio. You can remove all the related firebase authentication dependencies first.</p>\n<p><a href=\"https://i.stack.imgur.com/Q5IxV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5IxV.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/s1Xr5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1Xr5.png\" alt=\"enter image description here\" /></a></p>\n<p>After doing that, <code>FirebaseAuth</code> is found!</p>\n"}],"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702223657,"creation_date":1672465611,"question_id":74967763,"body_markdown":"I have added all the required dependencies as per the docs and when I am trying to use the FirebaseAuth variable it shows **Cannot resolve symbol &#39;FirebaseAuth&#39;**.\r\nI have imported the required packages too.\r\nI have added these dependencies in build.gradle(app) pls check-\r\n**build.gradle (app) code -**\r\n\r\n    dependencies {\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:31.1.1&#39;)\r\n        implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:21.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-common-ktx:20.2.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage&#39;\r\n        implementation &#39;com.google.android.gms:play-services-gcm:17.0.0&#39;\r\n    }\r\n\r\nI am adding code of other gradle files just in case it might be the reason for error-\r\n**build.gradle (project) code-**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            // Make sure that you have the following two repositories\r\n            google()  // Google&#39;s Maven repository\r\n            mavenCentral()  // Maven Central repository\r\n        }\r\n        dependencies {\r\n            // Add the dependency for the Google services Gradle plugin\r\n            classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n    }\r\n    \r\n    //task clean(type: Delete) {\r\n    //    delete rootProject.buildDir\r\n    //}\r\n    \r\n    allprojects {\r\n        repositories {\r\n            // Make sure that you have the following two repositories\r\n            google()  // Google&#39;s Maven repository\r\n            mavenCentral()  // Maven Central repository\r\n        }\r\n    }\r\n\r\n**settings.gradle code-**\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    //dependencyResolutionManagement {\r\n    //    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    //    repositories {\r\n    //        google()\r\n    //        mavenCentral()\r\n    //    }\r\n    //}\r\n    \r\n    rootProject.name = &quot;PUCabz&quot;\r\n    include &#39;:app&#39;\r\n\r\n\r\nWhen I tried to run the application it shows this error in log cat-\r\n`Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n`","title":"Cannot resolve symbol &#39;FirebaseAuth&#39; even after adding all the required dependencies","body":"<p>I have added all the required dependencies as per the docs and when I am trying to use the FirebaseAuth variable it shows <strong>Cannot resolve symbol 'FirebaseAuth'</strong>.\nI have imported the required packages too.\nI have added these dependencies in build.gradle(app) pls check-\n<strong>build.gradle (app) code -</strong></p>\n<pre><code>dependencies {\n    implementation platform('com.google.firebase:firebase-bom:31.1.1')\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-core:21.1.1'\n    implementation 'com.google.firebase:firebase-common-ktx:20.2.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-storage'\n    implementation 'com.google.android.gms:play-services-gcm:17.0.0'\n}\n</code></pre>\n<p>I am adding code of other gradle files just in case it might be the reason for error-\n<strong>build.gradle (project) code-</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        // Make sure that you have the following two repositories\n        google()  // Google's Maven repository\n        mavenCentral()  // Maven Central repository\n    }\n    dependencies {\n        // Add the dependency for the Google services Gradle plugin\n        classpath 'com.google.gms:google-services:4.3.13'\n    }\n}\n\nplugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n}\n\n//task clean(type: Delete) {\n//    delete rootProject.buildDir\n//}\n\nallprojects {\n    repositories {\n        // Make sure that you have the following two repositories\n        google()  // Google's Maven repository\n        mavenCentral()  // Maven Central repository\n    }\n}\n</code></pre>\n<p><strong>settings.gradle code-</strong></p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\n//dependencyResolutionManagement {\n//    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n//    repositories {\n//        google()\n//        mavenCentral()\n//    }\n//}\n\nrootProject.name = &quot;PUCabz&quot;\ninclude ':app'\n</code></pre>\n<p>When I tried to run the application it shows this error in log cat-\n<code>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'. </code></p>\n"},{"tags":["java","database","derby"],"comments":[{"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"score":0,"creation_date":1702212525,"post_id":77634812,"comment_id":136866547,"body_markdown":"pls try to share the code snippet and error deails which you are getitng in the post. So its easy for us to asist you","body":"pls try to share the code snippet and error deails which you are getitng in the post. So its easy for us to asist you"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1702223326,"post_id":77634812,"comment_id":136867556,"body_markdown":"You have the [Informed](https://stackoverflow.com/help/badges/2600/informed?userid=23075543) badge. Did you not read [ask]?","body":"You have the <a href=\"https://stackoverflow.com/help/badges/2600/informed?userid=23075543\">Informed</a> badge. Did you not read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>?"}],"owner":{"account_id":30111009,"reputation":1,"user_id":23075543,"display_name":"Gavin Lerario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702237838,"answer_count":0,"score":0,"last_activity_date":1702223568,"creation_date":1702211840,"question_id":77634812,"body_markdown":"I am trying to create a database using derby. However, when I try to run the code to create the database I am prompted with this error:\r\n&gt; No suitable driver found for jdbc:derby:CoffeeDB;create=true\r\n\r\nI have installed numerous versions of derby, I have changed their directories in case it wasn&#39;t able to reach the folder. I have loaded `derby.jar` into libraries, and it still seems to not work. I have even added the tools, and shared files alongside the `derby.jar` file, and still left with the same error. Any help on this would be greatly appreciated!\r\n\r\nAs the details tab states, I have tried installing different versions, changing file locations, added the file to the library, and that is mainly it, I have tried adding lines of code within the program, but they seem to break the thing entirely.","title":"No suitable driver found for jdbc:derby:CoffeeDB;create=true","body":"<p>I am trying to create a database using derby. However, when I try to run the code to create the database I am prompted with this error:</p>\n<blockquote>\n<p>No suitable driver found for jdbc:derby:CoffeeDB;create=true</p>\n</blockquote>\n<p>I have installed numerous versions of derby, I have changed their directories in case it wasn't able to reach the folder. I have loaded <code>derby.jar</code> into libraries, and it still seems to not work. I have even added the tools, and shared files alongside the <code>derby.jar</code> file, and still left with the same error. Any help on this would be greatly appreciated!</p>\n<p>As the details tab states, I have tried installing different versions, changing file locations, added the file to the library, and that is mainly it, I have tried adding lines of code within the program, but they seem to break the thing entirely.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":10,"creation_date":1702141046,"post_id":77632089,"comment_id":136861693,"body_markdown":"Likely because the window is so narrow there&#39;s no room to show the title.","body":"Likely because the window is so narrow there&#39;s no room to show the title."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1702141184,"post_id":77632089,"comment_id":136861710,"body_markdown":"You might not want to extend from `JFrame`, see https://stackoverflow.com/questions/15867148/why-do-we-need-to-extend-jframe-in-a-swing-application","body":"You might not want to extend from <code>JFrame</code>, see <a href=\"https://stackoverflow.com/questions/15867148/why-do-we-need-to-extend-jframe-in-a-swing-application\" title=\"why do we need to extend jframe in a swing application\">stackoverflow.com/questions/15867148/&hellip;</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702148588,"post_id":77632089,"comment_id":136862488,"body_markdown":"have you tried to maximize it?","body":"have you tried to maximize it?"}],"answers":[{"tags":[],"owner":{"account_id":25393624,"reputation":134,"user_id":19204200,"display_name":"Patrick Cumpa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1702202809,"creation_date":1702202809,"answer_id":77634379,"question_id":77632089,"body_markdown":"Add manually the dimensions:\r\n\r\n    panel.setPreferredSize(new Dimension(400, 400));\r\n\r\n","title":"Why I can&#39;t see the title of JFrame in Swing?","body":"<p>Add manually the dimensions:</p>\n<pre><code>panel.setPreferredSize(new Dimension(400, 400));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702223051,"creation_date":1702223051,"answer_id":77635387,"question_id":77632089,"body_markdown":"Don&#39;t use setPreferredSize() to control the size of components. It is the job of every Swing component to determine its own preferred size. \r\n\r\nIf you want extra space on the panel you could always add an `EmptyBorder` to the panel. \r\n\r\nRead the Swing tutorial on [How to Use Borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) for more information and examples. \r\n\r\nOr, if you really want the buttons to be larger then you can use:\r\n\r\n    button.setMargin( new Insets(...) );\r\n\r\nto add extra space to the button.","title":"Why I can&#39;t see the title of JFrame in Swing?","body":"<p>Don't use setPreferredSize() to control the size of components. It is the job of every Swing component to determine its own preferred size.</p>\n<p>If you want extra space on the panel you could always add an <code>EmptyBorder</code> to the panel.</p>\n<p>Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a> for more information and examples.</p>\n<p>Or, if you really want the buttons to be larger then you can use:</p>\n<pre><code>button.setMargin( new Insets(...) );\n</code></pre>\n<p>to add extra space to the button.</p>\n"}],"owner":{"account_id":30020790,"reputation":23,"user_id":23006223,"display_name":"Jerry Wingsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":77634379,"answer_count":2,"score":-3,"last_activity_date":1702223051,"creation_date":1702140905,"question_id":77632089,"body_markdown":"So I&#39;m making a group project which is Java console GUI. This is my code for the Java console GUI:\r\n\r\nHere&#39;s the output from my code.  \r\n[![enter image description here](https://i.stack.imgur.com/6SS1N.png)](https://i.stack.imgur.com/6SS1N.png)\r\n\r\nWhy I can&#39;t see the title for this output? I already input my title tho. Can somebody fix my layout?\r\n\r\nHere&#39;s the coding part.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class Homepage5FeatureKeysGUIConsole extends JFrame {\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n        Homepage5FeatureKeysGUIConsole homePage = new Homepage5FeatureKeysGUIConsole();\r\n        homePage.createAndShowGUI();\r\n});\r\n}\r\n\r\n    public void createAndShowGUI() {\r\n        setTitle(&quot;Select Feature&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new GridLayout(6, 1, 10, 10));\r\n\r\n        JButton buttonFeature1 = createFeatureButton(&quot;Admin Registration&quot;);\r\n        panel.add(buttonFeature1);\r\n\r\n        JButton buttonFeature2 = createFeatureButton(&quot;Volunteer Registration&quot;);\r\n        panel.add(buttonFeature2);\r\n\r\n        JButton buttonFeature3 = createFeatureButton(&quot;Disaster Report&quot;);\r\n        panel.add(buttonFeature3);\r\n\r\n        JButton buttonFeature4 = createFeatureButton(&quot;Safe Shelter&quot;);\r\n        panel.add(buttonFeature4);\r\n\r\n        JButton buttonFeature5 = createFeatureButton(&quot;Fund Raising&quot;);\r\n        panel.add(buttonFeature5);\r\n\r\n        JButton buttonEmergencyContact = createFeatureButton(&quot;Emergency Contact&quot;);\r\n        panel.add(buttonEmergencyContact);\r\n\r\n        setContentPane(panel);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n}\r\n\r\n    private JButton createFeatureButton(String label) {\r\n        JButton button = new JButton(label);\r\n        button.setBorderPainted(false);\r\n        button.setFocusPainted(false);\r\n        button.setBackground(new Color(124, 200, 255));\r\n        button.addActionListener((ActionEvent e) -&gt; handleFeatureButton(label));\r\n        return button;\r\n}\r\n\r\n    private void handleFeatureButton(String feature) {\r\n        switch (feature) {\r\n            case &quot;Admin Registration&quot; -&gt; openAdminAppGUI();\r\n            case &quot;Volunteer Registration&quot; -&gt; openVolunteerAppGUI();\r\n            case &quot;Disaster Report&quot; -&gt; openDisasterReportGUI();\r\n            case &quot;Safe Shelter&quot; -&gt; openSafeShelterGUI();\r\n            case &quot;Fund Raising&quot; -&gt; openFundRaisingGUI();\r\n            case &quot;Emergency Contact&quot; -&gt; openEmergencyContactGUI();\r\n}\r\n}\r\n\r\n    private void openAdminAppGUI() {\r\n        AdminAppGUI adminAppGUI = new AdminAppGUI();\r\n        adminAppGUI.createAndShowGUI();\r\n        dispose();\r\n}\r\n\r\n    private void openVolunteerAppGUI() {\r\n        VolunteerAppGUI volunteerAppGUI = new VolunteerAppGUI();\r\n        volunteerAppGUI.createAndShowGUI();\r\n        dispose();\r\n}\r\n\r\n    private void openDisasterReportGUI() {\r\n        DisasterReportGUI disasterReportGUI = new DisasterReportGUI();\r\n        disasterReportGUI.createAndShowGUI();\r\n        dispose();\r\n}\r\n\r\n    private void openSafeShelterGUI() {\r\n        SafeShelterGUI safeShelterGUI = new SafeShelterGUI();\r\n        safeShelterGUI.createAndShowGUI();\r\n        dispose();\r\n}\r\n\r\n    private void openFundRaisingGUI() {\r\n        FundRaisingGUIConsole fundRaisingGUI = new FundRaisingGUIConsole();\r\n        fundRaisingGUI.createAndShowGUI();\r\n        dispose();\r\n}\r\n\r\n    private void openEmergencyContactGUI() {\r\n        EmergencyContactGUI emergencyContactGUI = new EmergencyContactGUI();\r\n        emergencyContactGUI.createAndShowGUI();\r\n        dispose();\r\n}\r\n}\r\n```\r\n\r\nI&#39;ve been trying to fix the layout but it still didn&#39;t work at all and I can&#39;t see the title from the output which is &quot;Select Feature&quot;.","title":"Why I can&#39;t see the title of JFrame in Swing?","body":"<p>So I'm making a group project which is Java console GUI. This is my code for the Java console GUI:</p>\n<p>Here's the output from my code.<br />\n<a href=\"https://i.stack.imgur.com/6SS1N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SS1N.png\" alt=\"enter image description here\" /></a></p>\n<p>Why I can't see the title for this output? I already input my title tho. Can somebody fix my layout?</p>\n<p>Here's the coding part.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\n\npublic class Homepage5FeatureKeysGUIConsole extends JFrame {\n\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n        Homepage5FeatureKeysGUIConsole homePage = new Homepage5FeatureKeysGUIConsole();\n        homePage.createAndShowGUI();\n});\n}\n\n    public void createAndShowGUI() {\n        setTitle(&quot;Select Feature&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(6, 1, 10, 10));\n\n        JButton buttonFeature1 = createFeatureButton(&quot;Admin Registration&quot;);\n        panel.add(buttonFeature1);\n\n        JButton buttonFeature2 = createFeatureButton(&quot;Volunteer Registration&quot;);\n        panel.add(buttonFeature2);\n\n        JButton buttonFeature3 = createFeatureButton(&quot;Disaster Report&quot;);\n        panel.add(buttonFeature3);\n\n        JButton buttonFeature4 = createFeatureButton(&quot;Safe Shelter&quot;);\n        panel.add(buttonFeature4);\n\n        JButton buttonFeature5 = createFeatureButton(&quot;Fund Raising&quot;);\n        panel.add(buttonFeature5);\n\n        JButton buttonEmergencyContact = createFeatureButton(&quot;Emergency Contact&quot;);\n        panel.add(buttonEmergencyContact);\n\n        setContentPane(panel);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n}\n\n    private JButton createFeatureButton(String label) {\n        JButton button = new JButton(label);\n        button.setBorderPainted(false);\n        button.setFocusPainted(false);\n        button.setBackground(new Color(124, 200, 255));\n        button.addActionListener((ActionEvent e) -&gt; handleFeatureButton(label));\n        return button;\n}\n\n    private void handleFeatureButton(String feature) {\n        switch (feature) {\n            case &quot;Admin Registration&quot; -&gt; openAdminAppGUI();\n            case &quot;Volunteer Registration&quot; -&gt; openVolunteerAppGUI();\n            case &quot;Disaster Report&quot; -&gt; openDisasterReportGUI();\n            case &quot;Safe Shelter&quot; -&gt; openSafeShelterGUI();\n            case &quot;Fund Raising&quot; -&gt; openFundRaisingGUI();\n            case &quot;Emergency Contact&quot; -&gt; openEmergencyContactGUI();\n}\n}\n\n    private void openAdminAppGUI() {\n        AdminAppGUI adminAppGUI = new AdminAppGUI();\n        adminAppGUI.createAndShowGUI();\n        dispose();\n}\n\n    private void openVolunteerAppGUI() {\n        VolunteerAppGUI volunteerAppGUI = new VolunteerAppGUI();\n        volunteerAppGUI.createAndShowGUI();\n        dispose();\n}\n\n    private void openDisasterReportGUI() {\n        DisasterReportGUI disasterReportGUI = new DisasterReportGUI();\n        disasterReportGUI.createAndShowGUI();\n        dispose();\n}\n\n    private void openSafeShelterGUI() {\n        SafeShelterGUI safeShelterGUI = new SafeShelterGUI();\n        safeShelterGUI.createAndShowGUI();\n        dispose();\n}\n\n    private void openFundRaisingGUI() {\n        FundRaisingGUIConsole fundRaisingGUI = new FundRaisingGUIConsole();\n        fundRaisingGUI.createAndShowGUI();\n        dispose();\n}\n\n    private void openEmergencyContactGUI() {\n        EmergencyContactGUI emergencyContactGUI = new EmergencyContactGUI();\n        emergencyContactGUI.createAndShowGUI();\n        dispose();\n}\n}\n</code></pre>\n<p>I've been trying to fix the layout but it still didn't work at all and I can't see the title from the output which is &quot;Select Feature&quot;.</p>\n"},{"tags":["java","android","json","gson","retrofit"],"owner":{"account_id":30111929,"reputation":1,"user_id":23076233,"display_name":"Martina Kenna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702221906,"creation_date":1702221181,"question_id":77635295,"body_markdown":"I am using retrofit to get data from the ticketmaster API\r\nMy class Event:\r\n    `public class Event implements Parcelable {\r\n    private String name;\r\n    private String id;\r\n    private String url;\r\n    private String startDate;\r\n    private String time;\r\n    private String notes;\r\n    private String image;\r\n    private Boolean ageRestrictions;\r\n    private EventPlace place;\r\n\r\n    public Event() {}\r\n\r\n    public Event(String name, String id, String url, String image, String startDate,\r\n                 String time, String notes, boolean ageRestrictions, EventPlace place) {\r\n        this.name = name;\r\n        this.id = id;\r\n        this.url = url;\r\n        this.startDate = startDate;\r\n        this.time = time;\r\n        this.notes = notes;\r\n        this.image = image;\r\n        this.ageRestrictions = ageRestrictions;\r\n        this.place = place;\r\n    }\r\n\r\n    protected Event(Parcel in) {\r\n        this.name = in.readString();\r\n        this.id = in.readString();\r\n        this.url = in.readString();\r\n        this.startDate = in.readString();\r\n        this.time = in.readString();\r\n        this.notes = in.readString();\r\n        this.image = in.readString();\r\n        this.ageRestrictions = in.readByte() != 0;\r\n        this.place = in.readParcelable(EventPlace.class.getClassLoader());\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public String getStartDate() {\r\n        return startDate;\r\n    }\r\n\r\n    public void setStartDate(String startDate) {\r\n        this.startDate = startDate;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(String time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public String getNotes() {\r\n        return notes;\r\n    }\r\n\r\n    public void setNotes(String notes) {\r\n        this.notes = notes;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public Boolean getAgeRestrictions() {\r\n        return ageRestrictions;\r\n    }\r\n\r\n    public void setAgeRestrictions(Boolean ageRestrictions) {\r\n        this.ageRestrictions = ageRestrictions;\r\n    }\r\n\r\n\r\n    public static final Parcelable.Creator&lt;Event&gt; CREATOR = new Parcelable.Creator&lt;Event&gt;() {\r\n        @Override\r\n        public Event createFromParcel(Parcel source) {\r\n            return new Event(source);\r\n        }\r\n\r\n        @Override\r\n        public Event[] newArray(int size) {\r\n            return new Event[size];\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(@NonNull Parcel dest, int flags) {\r\n        dest.writeString(this.name);\r\n        dest.writeString(this.id);\r\n        dest.writeString(this.url);\r\n        dest.writeString(this.startDate);\r\n        dest.writeString(this.time);\r\n        dest.writeString(this.notes);\r\n        dest.writeString(this.image);\r\n        dest.writeByte(this.ageRestrictions ? (byte) 1 : (byte) 0);\r\n        dest.writeParcelable(this.place, flags);\r\n    }\r\n}\r\n`    \r\nThe main method is: \r\n    `    public void fetchEvents(String type, String city, String startDateTime, String time, long lastUpdate) {\r\n\r\n        long currentTime = System.currentTimeMillis();\r\n\r\n        // It gets the news from the Web Service if the last download\r\n        // of the news has been performed more than FRESH_TIMEOUT value ago\r\n        //TODO sistemare la condizione per l&#39;aggiornamento\r\n        //if (currentTime - lastUpdate &gt; FRESH_TIMEOUT) {\r\n        if (true) {\r\n            Call&lt;EventApiResponse&gt; eventsResponseCall = eventsApiService.getEvents(type, city, startDateTime, time,\r\n                                                                                    &quot;ymPPalpoNoG8lG5xyca0AQ6uhACG4y3j&quot;);\r\n\r\n            eventsResponseCall.enqueue(new Callback&lt;EventApiResponse&gt;() {\r\n                @Override\r\n                public void onResponse(@NonNull Call&lt;EventApiResponse&gt; call,\r\n                                       @NonNull Response&lt;EventApiResponse&gt; response) {\r\n\r\n                    if(response.body() != null &amp;&amp; response.isSuccessful()) {\r\n                    List&lt;Event&gt; eventsList = response.body().getEvents();\r\n                        Log.d(TAG, &quot;Response code: &quot; + response.code());\r\n                        Log.d(TAG, &quot;Response body: &quot; + response.body());\r\n                        responseCallback.onSuccess(eventsList, System.currentTimeMillis());\r\n                        //TODO saveDataInDatabase(eventsList);\r\n                    } else {\r\n                        responseCallback.onFailure(application.getString(R.string.error_retrieving_events));\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(@NonNull Call&lt;EventApiResponse&gt; call, @NonNull Throwable t) {\r\n\r\n                    if(t.getMessage() != null)\r\n                        Log.d(TAG, t.getMessage());\r\n                    else\r\n                        Log.d(TAG, &quot;messaggio di errore nullo&quot;);\r\n\r\n                    responseCallback.onFailure(t.getMessage());\r\n                }\r\n            });\r\n        } else {\r\n            //TODO` \r\n    \r\nand the call method is:\r\n    `    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        recyclerViewEvents = view.findViewById(R.id.recyclerview);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(requireContext(), LinearLayoutManager.VERTICAL, false);\r\n\r\n        recyclerViewEvents.setLayoutManager(layoutManager);\r\n        recyclerViewEvents.setAdapter(recyclerViewEventsAdapter);\r\n\r\n        eventsRepository.fetchEvents(&quot;music&quot;, &quot;324&quot;, &quot;2024-06-01T08:00:00Z&quot;, &quot;2024-06-30T08:00:00Z&quot;, 10);\r\n    }`    \r\n\r\nWhen I try to parse from a json local file it works, but when i try with retrofit i get a OK response code(400) but an empty body.","title":"Receiving an empty body in a retrofit response","body":"<p>I am using retrofit to get data from the ticketmaster API\nMy class Event:\n`public class Event implements Parcelable {\nprivate String name;\nprivate String id;\nprivate String url;\nprivate String startDate;\nprivate String time;\nprivate String notes;\nprivate String image;\nprivate Boolean ageRestrictions;\nprivate EventPlace place;</p>\n<pre><code>public Event() {}\n\npublic Event(String name, String id, String url, String image, String startDate,\n             String time, String notes, boolean ageRestrictions, EventPlace place) {\n    this.name = name;\n    this.id = id;\n    this.url = url;\n    this.startDate = startDate;\n    this.time = time;\n    this.notes = notes;\n    this.image = image;\n    this.ageRestrictions = ageRestrictions;\n    this.place = place;\n}\n\nprotected Event(Parcel in) {\n    this.name = in.readString();\n    this.id = in.readString();\n    this.url = in.readString();\n    this.startDate = in.readString();\n    this.time = in.readString();\n    this.notes = in.readString();\n    this.image = in.readString();\n    this.ageRestrictions = in.readByte() != 0;\n    this.place = in.readParcelable(EventPlace.class.getClassLoader());\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic String getUrl() {\n    return url;\n}\n\npublic void setUrl(String url) {\n    this.url = url;\n}\n\npublic String getStartDate() {\n    return startDate;\n}\n\npublic void setStartDate(String startDate) {\n    this.startDate = startDate;\n}\n\npublic String getTime() {\n    return time;\n}\n\npublic void setTime(String time) {\n    this.time = time;\n}\n\npublic String getNotes() {\n    return notes;\n}\n\npublic void setNotes(String notes) {\n    this.notes = notes;\n}\n\npublic String getImage() {\n    return image;\n}\n\npublic void setImage(String image) {\n    this.image = image;\n}\n\npublic Boolean getAgeRestrictions() {\n    return ageRestrictions;\n}\n\npublic void setAgeRestrictions(Boolean ageRestrictions) {\n    this.ageRestrictions = ageRestrictions;\n}\n\n\npublic static final Parcelable.Creator&lt;Event&gt; CREATOR = new Parcelable.Creator&lt;Event&gt;() {\n    @Override\n    public Event createFromParcel(Parcel source) {\n        return new Event(source);\n    }\n\n    @Override\n    public Event[] newArray(int size) {\n        return new Event[size];\n    }\n};\n\n@Override\npublic int describeContents() {\n    return 0;\n}\n\n@Override\npublic void writeToParcel(@NonNull Parcel dest, int flags) {\n    dest.writeString(this.name);\n    dest.writeString(this.id);\n    dest.writeString(this.url);\n    dest.writeString(this.startDate);\n    dest.writeString(this.time);\n    dest.writeString(this.notes);\n    dest.writeString(this.image);\n    dest.writeByte(this.ageRestrictions ? (byte) 1 : (byte) 0);\n    dest.writeParcelable(this.place, flags);\n}\n</code></pre>\n<p>}\n<code>    The main method is: </code>    public void fetchEvents(String type, String city, String startDateTime, String time, long lastUpdate) {</p>\n<pre><code>    long currentTime = System.currentTimeMillis();\n\n    // It gets the news from the Web Service if the last download\n    // of the news has been performed more than FRESH_TIMEOUT value ago\n    //TODO sistemare la condizione per l'aggiornamento\n    //if (currentTime - lastUpdate &gt; FRESH_TIMEOUT) {\n    if (true) {\n        Call&lt;EventApiResponse&gt; eventsResponseCall = eventsApiService.getEvents(type, city, startDateTime, time,\n                                                                                &quot;ymPPalpoNoG8lG5xyca0AQ6uhACG4y3j&quot;);\n\n        eventsResponseCall.enqueue(new Callback&lt;EventApiResponse&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;EventApiResponse&gt; call,\n                                   @NonNull Response&lt;EventApiResponse&gt; response) {\n\n                if(response.body() != null &amp;&amp; response.isSuccessful()) {\n                List&lt;Event&gt; eventsList = response.body().getEvents();\n                    Log.d(TAG, &quot;Response code: &quot; + response.code());\n                    Log.d(TAG, &quot;Response body: &quot; + response.body());\n                    responseCallback.onSuccess(eventsList, System.currentTimeMillis());\n                    //TODO saveDataInDatabase(eventsList);\n                } else {\n                    responseCallback.onFailure(application.getString(R.string.error_retrieving_events));\n                }\n            }\n\n            @Override\n            public void onFailure(@NonNull Call&lt;EventApiResponse&gt; call, @NonNull Throwable t) {\n\n                if(t.getMessage() != null)\n                    Log.d(TAG, t.getMessage());\n                else\n                    Log.d(TAG, &quot;messaggio di errore nullo&quot;);\n\n                responseCallback.onFailure(t.getMessage());\n            }\n        });\n    } else {\n        //TODO` \n</code></pre>\n<p>and the call method is:\n`    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\nsuper.onViewCreated(view, savedInstanceState);\nrecyclerViewEvents = view.findViewById(R.id.recyclerview);\nRecyclerView.LayoutManager layoutManager = new LinearLayoutManager(requireContext(), LinearLayoutManager.VERTICAL, false);</p>\n<pre><code>    recyclerViewEvents.setLayoutManager(layoutManager);\n    recyclerViewEvents.setAdapter(recyclerViewEventsAdapter);\n\n    eventsRepository.fetchEvents(&quot;music&quot;, &quot;324&quot;, &quot;2024-06-01T08:00:00Z&quot;, &quot;2024-06-30T08:00:00Z&quot;, 10);\n}`    \n</code></pre>\n<p>When I try to parse from a json local file it works, but when i try with retrofit i get a OK response code(400) but an empty body.</p>\n"},{"tags":["java","html","reactjs","spring-boot","web"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702221630,"post_id":77633195,"comment_id":136867399,"body_markdown":"because you havnt configured CORS, read what it is https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-cors https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title","body":"because you havnt configured CORS, read what it is <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-cors\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a> <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/integration&zwnj;&#8203;s/&hellip;</a>"}],"owner":{"account_id":15727417,"reputation":29,"user_id":11348619,"display_name":"Mouad Meziani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702221522,"creation_date":1702163602,"question_id":77633195,"body_markdown":"I am experimenting with React but I have a small Problem, which wouldn&#39;t let me see the page in my Browser. For Info: I am working with SpringMvc and including React. these are my files:\r\n\r\n### `WebController.java`\r\n```java\r\npackage mouad.meziani.combispringandreactcombo.Controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class WebController {\r\n\r\n    @GetMapping()\r\n    public String init(){\r\n        return &quot;main&quot;;\r\n    }\r\n}\r\n\r\n```\r\n### `main.html`\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;script src=&quot;https://unpkg.com/react@18/umd/react.development.js&quot; crossorigin&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/react-dom@18/umd/react-dom.development.js&quot; crossorigin&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/babel-standalone@6/babel.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;\r\n&lt;script src=&quot;../static/JS/App.js&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n### `App.js`\r\n```javascript\r\nimport React from &quot;react&quot;;\r\nimport ReactDOM from &quot;react-dom&quot;;\r\nimport CounterComponent from &quot;../components/CounterComponent&quot;;\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(&quot;root&quot;));\r\n\r\nconst App = () =&gt; {\r\n    return (\r\n        &lt;&gt;\r\n            &lt;h1&gt;My Page of Counter&lt;/h1&gt;\r\n            &lt;CounterComponent /&gt;\r\n        &lt;/&gt;\r\n    )\r\n}\r\n\r\nroot.render(&lt;App/&gt;);\r\n\r\n```\r\n### `CounterComponent.js`\r\n```javascript\r\nimport { useState } from &#39;react&#39;;\r\n\r\nfunction CounterComponent(){\r\n    const [count, setCount] = useState(() =&gt; { return 0; });\r\n\r\n    return(\r\n        &lt;div&gt;\r\n            &lt;button onClick={() =&gt; setCount(count - 1)}&gt;-&lt;/button&gt;\r\n            &lt;span&gt;{count}&lt;/span&gt;\r\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;+&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    );\r\n}\r\n\r\nexport default CounterComponent;\r\n```\r\n\r\n\r\nupdate: I have found the error but I don&#39;t know exactly why it is showing.\r\n\r\n```\r\nGET http://localhost:8080/static/JS/index.js 404 (Not Found)\r\nRoom:1  \r\n\r\nAccess to XMLHttpRequest at &#39;https://api.ciuvo.com/api/analyze?url=http%3A%2F%2Flocalhost%3A8080%2F&amp;version=2.1.4&amp;tag=threesixty&amp;uuid=74DB5A90-0740-4C73-8356-A9F8A76D2EB6&#39; from origin &#39;http://localhost:8080&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\nciuvo-contentscript.js:5684 \r\n      \r\nGET https://api.ciuvo.com/api/analyze?url=http%3A%2F%2Flocalhost%3A8080%2F&amp;version=2.1.4&amp;tag=threesixty&amp;uuid=74DB5A90-0740-4C73-8356-A9F8A76D2EB6 net::ERR_FAILED 400 (Bad Request)\r\n```","title":"Why isn&#39;t react component showing in my browser?","body":"<p>I am experimenting with React but I have a small Problem, which wouldn't let me see the page in my Browser. For Info: I am working with SpringMvc and including React. these are my files:</p>\n<h3><code>WebController.java</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>package mouad.meziani.combispringandreactcombo.Controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class WebController {\n\n    @GetMapping()\n    public String init(){\n        return &quot;main&quot;;\n    }\n}\n\n</code></pre>\n<h3><code>main.html</code></h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;script src=&quot;https://unpkg.com/react@18/umd/react.development.js&quot; crossorigin&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/react-dom@18/umd/react-dom.development.js&quot; crossorigin&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/babel-standalone@6/babel.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;\n&lt;script src=&quot;../static/JS/App.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h3><code>App.js</code></h3>\n<pre class=\"lang-js prettyprint-override\"><code>import React from &quot;react&quot;;\nimport ReactDOM from &quot;react-dom&quot;;\nimport CounterComponent from &quot;../components/CounterComponent&quot;;\n\nconst root = ReactDOM.createRoot(document.getElementById(&quot;root&quot;));\n\nconst App = () =&gt; {\n    return (\n        &lt;&gt;\n            &lt;h1&gt;My Page of Counter&lt;/h1&gt;\n            &lt;CounterComponent /&gt;\n        &lt;/&gt;\n    )\n}\n\nroot.render(&lt;App/&gt;);\n\n</code></pre>\n<h3><code>CounterComponent.js</code></h3>\n<pre class=\"lang-js prettyprint-override\"><code>import { useState } from 'react';\n\nfunction CounterComponent(){\n    const [count, setCount] = useState(() =&gt; { return 0; });\n\n    return(\n        &lt;div&gt;\n            &lt;button onClick={() =&gt; setCount(count - 1)}&gt;-&lt;/button&gt;\n            &lt;span&gt;{count}&lt;/span&gt;\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;+&lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n\nexport default CounterComponent;\n</code></pre>\n<p>update: I have found the error but I don't know exactly why it is showing.</p>\n<pre><code>GET http://localhost:8080/static/JS/index.js 404 (Not Found)\nRoom:1  \n\nAccess to XMLHttpRequest at 'https://api.ciuvo.com/api/analyze?url=http%3A%2F%2Flocalhost%3A8080%2F&amp;version=2.1.4&amp;tag=threesixty&amp;uuid=74DB5A90-0740-4C73-8356-A9F8A76D2EB6' from origin 'http://localhost:8080' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\nciuvo-contentscript.js:5684 \n      \nGET https://api.ciuvo.com/api/analyze?url=http%3A%2F%2Flocalhost%3A8080%2F&amp;version=2.1.4&amp;tag=threesixty&amp;uuid=74DB5A90-0740-4C73-8356-A9F8A76D2EB6 net::ERR_FAILED 400 (Bad Request)\n</code></pre>\n"},{"tags":["java","c++","java-native-interface","bytebuffer"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1702224259,"post_id":77635309,"comment_id":136867653,"body_markdown":"‘It fails’ is not a problem description.","body":"‘It fails’ is not a problem description."}],"owner":{"account_id":3814490,"reputation":1388,"user_id":3164187,"accept_rate":78,"display_name":"user3164187"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702259427,"answer_count":0,"score":-2,"last_activity_date":1702221500,"creation_date":1702221500,"question_id":77635309,"body_markdown":"I am passing a `float[]` from java to C++ via JNI and my code goes like below:\r\n\r\n**JNI Signature**\r\n\r\n    JNIEXPORT jint JNICALL Java_com_test_calculate(JNIENV *env, jfloatArray array)\r\n\r\nand i use the array like below:\r\n\r\n    jfloat *ptr = (*env)-&gt;GetFloatArrayElements(env, array, 0);\r\n\r\nThis worked well but when the array size was huge [2048*2048] it failed due to out of memory (`GetFloatArrayElements` returned NULL)\r\n\r\nSo to avoid that i tried using `Direct buffers` in java and in JNI used the below code:\r\n\r\n**JNI Signature**\r\n\r\n    JNIEXPORT jint JNICALL Java_com_test_calculate(JNIENV *env, jobject array)\r\n\r\nand i use the array like below:\r\n\r\n    jfloat *ptr = (jfloat*)(*env)-&gt;GetDirectBufferAddress(env, array);\r\n\r\nIt works with out any error.\r\n\r\nbut the pointer variable `*ptr` is used futrther in a *MIL(matrox imaging lib)* api call(as `UserArrayPtr`) like below:\r\n\r\n    void MbufGet(MIL_ID srcBifId, void *UserArrayPtr)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis fails when i use `DirectBuffer` but works in `GetFloatArrayElements` case.\r\n\r\nAs i understand both the case returns an UserArrayPtr but why the MIL Api with buffer fails?\r\n\r\nAm new to C++ dev, What am i doing wrong or is MIL api needs an array itself ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WaJeG.png","title":"Passing DirectBuffer from java to JNI method - fails in MIL api","body":"<p>I am passing a <code>float[]</code> from java to C++ via JNI and my code goes like below:</p>\n<p><strong>JNI Signature</strong></p>\n<pre><code>JNIEXPORT jint JNICALL Java_com_test_calculate(JNIENV *env, jfloatArray array)\n</code></pre>\n<p>and i use the array like below:</p>\n<pre><code>jfloat *ptr = (*env)-&gt;GetFloatArrayElements(env, array, 0);\n</code></pre>\n<p>This worked well but when the array size was huge [2048*2048] it failed due to out of memory (<code>GetFloatArrayElements</code> returned NULL)</p>\n<p>So to avoid that i tried using <code>Direct buffers</code> in java and in JNI used the below code:</p>\n<p><strong>JNI Signature</strong></p>\n<pre><code>JNIEXPORT jint JNICALL Java_com_test_calculate(JNIENV *env, jobject array)\n</code></pre>\n<p>and i use the array like below:</p>\n<pre><code>jfloat *ptr = (jfloat*)(*env)-&gt;GetDirectBufferAddress(env, array);\n</code></pre>\n<p>It works with out any error.</p>\n<p>but the pointer variable <code>*ptr</code> is used futrther in a <em>MIL(matrox imaging lib)</em> api call(as <code>UserArrayPtr</code>) like below:</p>\n<pre><code>void MbufGet(MIL_ID srcBifId, void *UserArrayPtr)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WaJeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WaJeG.png\" alt=\"enter image description here\" /></a></p>\n<p>This fails when i use <code>DirectBuffer</code> but works in <code>GetFloatArrayElements</code> case.</p>\n<p>As i understand both the case returns an UserArrayPtr but why the MIL Api with buffer fails?</p>\n<p>Am new to C++ dev, What am i doing wrong or is MIL api needs an array itself ?</p>\n"},{"tags":["java","tensorflow","opencv","keras","javacv"],"owner":{"account_id":9169191,"reputation":49,"user_id":6817462,"accept_rate":50,"display_name":"HMaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702221074,"creation_date":1521546634,"question_id":49383488,"body_markdown":"i&#39;m using `opencv` 3.4.1 `DNN` in java in order to load a &quot;`LeNet`&quot; model trained using `keras` and `tensorflow` in python. The model is saved as a `tensorflow` frozen model &quot;`.pb`&quot; where i&#39;m using the following line of code to load the it:\r\n\r\n    Dnn cvDnn = new org.opencv.dnn.Dnn();\r\n    Net net = cvDnn.readNetFromTensorflow(&quot;C:\\\\Users\\\\kr\\\\Desktop\\\\Plate_Recognition_frozen.pb&quot;);\r\n\r\nwhere the Error says:\r\n\r\n    OpenCV(3.4.1) Error: Unspecified error (Input layer not found: convolution2d_1_b_1) in cv::dnn::experimental_dnn_v4::`anonymous-namespace&#39;::TFImporter::connect, file C:\\build\\master_winpack-bindings-win64-vc14-static\\opencv\\modules\\dnn\\src\\tensorflow\\tf_importer.cpp, line 553\r\n    Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(3.4.1) C:\\build\\master_winpack-bindings-win64-vc14-static\\opencv\\modules\\dnn\\src\\tensorflow\\tf_importer.cpp:553: error: (-2) Input layer not found: convolution2d_1_b_1 in function cv::dnn::experimental_dnn_v4::`anonymous-namespace&#39;::TFImporter::connect\r\n    ]\r\n    \tat org.opencv.dnn.Dnn.readNetFromTensorflow_1(Native Method)\r\n    \tat org.opencv.dnn.Dnn.readNetFromTensorflow(Dnn.java:163)\r\n    \tat opencv.Main.main(Main.java:44)\r\n\r\n\r\nAny help would be appreciated, thanks in advance.","title":"loading Tensorflow model in Opencv 3.4.1 failed: Input layer not found: convolution2d_1_b_1","body":"<p>i'm using <code>opencv</code> 3.4.1 <code>DNN</code> in java in order to load a \"<code>LeNet</code>\" model trained using <code>keras</code> and <code>tensorflow</code> in python. The model is saved as a <code>tensorflow</code> frozen model \"<code>.pb</code>\" where i'm using the following line of code to load the it:</p>\n\n<pre><code>Dnn cvDnn = new org.opencv.dnn.Dnn();\nNet net = cvDnn.readNetFromTensorflow(\"C:\\\\Users\\\\kr\\\\Desktop\\\\Plate_Recognition_frozen.pb\");\n</code></pre>\n\n<p>where the Error says:</p>\n\n<pre><code>OpenCV(3.4.1) Error: Unspecified error (Input layer not found: convolution2d_1_b_1) in cv::dnn::experimental_dnn_v4::`anonymous-namespace'::TFImporter::connect, file C:\\build\\master_winpack-bindings-win64-vc14-static\\opencv\\modules\\dnn\\src\\tensorflow\\tf_importer.cpp, line 553\nException in thread \"main\" CvException [org.opencv.core.CvException: cv::Exception: OpenCV(3.4.1) C:\\build\\master_winpack-bindings-win64-vc14-static\\opencv\\modules\\dnn\\src\\tensorflow\\tf_importer.cpp:553: error: (-2) Input layer not found: convolution2d_1_b_1 in function cv::dnn::experimental_dnn_v4::`anonymous-namespace'::TFImporter::connect\n]\n    at org.opencv.dnn.Dnn.readNetFromTensorflow_1(Native Method)\n    at org.opencv.dnn.Dnn.readNetFromTensorflow(Dnn.java:163)\n    at opencv.Main.main(Main.java:44)\n</code></pre>\n\n<p>Any help would be appreciated, thanks in advance.</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":8684486,"reputation":191,"user_id":6499358,"accept_rate":33,"display_name":"Ravi Potnuru"},"score":0,"creation_date":1476853055,"post_id":40122423,"comment_id":67515355,"body_markdown":"make it as chromedriver.exe","body":"make it as chromedriver.exe"},{"owner":{"account_id":8696001,"reputation":59,"user_id":6507320,"display_name":"Harri"},"score":0,"creation_date":1476853551,"post_id":40122423,"comment_id":67515557,"body_markdown":"The driver executable does not exist: /home/exeter/Documents/chromedriver.exe","body":"The driver executable does not exist: /home/exeter/Documents/chromedriver.exe"},{"owner":{"account_id":8684486,"reputation":191,"user_id":6499358,"accept_rate":33,"display_name":"Ravi Potnuru"},"score":0,"creation_date":1476853700,"post_id":40122423,"comment_id":67515619,"body_markdown":"you can give file path like G:\\\\ravik\\\\Ravi-Training\\\\Selenium\\\\Drivers\\\\cd\\\\chromedriver.exe","body":"you can give file path like G:\\\\ravik\\\\Ravi-Training\\\\Selenium\\\\Drivers\\\\cd\\\\chromedrive&zwnj;&#8203;r.exe"},{"owner":{"account_id":1403180,"reputation":2541,"user_id":1331578,"accept_rate":33,"display_name":"SkorpEN"},"score":0,"creation_date":1562766382,"post_id":40122423,"comment_id":100480546,"body_markdown":"Which version of selenium are U using ??? Does it work in latest version ??","body":"Which version of selenium are U using ??? Does it work in latest version ??"},{"owner":{"account_id":384206,"reputation":50376,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1681434652,"post_id":40122423,"comment_id":134059696,"body_markdown":"Chrome 54 is... *really* old? Like, late 2016 levels of old?","body":"Chrome 54 is... <i>really</i> old? Like, late 2016 levels of old?"}],"answers":[{"tags":[],"owner":{"account_id":9999306,"reputation":21,"user_id":7395863,"display_name":"imalittletester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483985392,"creation_date":1483985392,"answer_id":41554216,"question_id":40122423,"body_markdown":"It looks like you are running on a Linux machine, so &quot;chromedriver&quot; (without .exe) should be fine. Just make sure you have the latest chrome and latest chrome driver versions, and also you have the correct &quot;chromedriver&quot; file (the one on 64 bits).","title":"chrome is not able to run in Selenium Webdriver . i am using selenium 3.0.1 chrome v-54.0","body":"<p>It looks like you are running on a Linux machine, so \"chromedriver\" (without .exe) should be fine. Just make sure you have the latest chrome and latest chrome driver versions, and also you have the correct \"chromedriver\" file (the one on 64 bits).</p>\n"},{"tags":[],"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592484954,"creation_date":1592484954,"answer_id":62450499,"question_id":40122423,"body_markdown":"Please check path is correct for chrome driver version \r\nhttps://chromedriver.chromium.org. you need use chrome driver according to which chrome browser version are using ","title":"chrome is not able to run in Selenium Webdriver . i am using selenium 3.0.1 chrome v-54.0","body":"<p>Please check path is correct for chrome driver version \n<a href=\"https://chromedriver.chromium.org\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org</a>. you need use chrome driver according to which chrome browser version are using </p>\n"},{"tags":[],"owner":{"account_id":10358348,"reputation":623,"user_id":7639547,"display_name":"Mohammad Faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605590516,"creation_date":1605590516,"answer_id":64869752,"question_id":40122423,"body_markdown":"If you are running on windows you need to specify .exe at the end too(Unless you are running on Linux)\r\nOn a side note try this https://github.com/bonigarcia/webdrivermanager. It will automatically download the driver for you based on your browser and OS. Managing the driver manually is just a waste of time in my opinion.","title":"chrome is not able to run in Selenium Webdriver . i am using selenium 3.0.1 chrome v-54.0","body":"<p>If you are running on windows you need to specify .exe at the end too(Unless you are running on Linux)\nOn a side note try this <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">https://github.com/bonigarcia/webdrivermanager</a>. It will automatically download the driver for you based on your browser and OS. Managing the driver manually is just a waste of time in my opinion.</p>\n"}],"owner":{"account_id":8696001,"reputation":59,"user_id":6507320,"display_name":"Harri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9835,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1702220670,"creation_date":1476852905,"question_id":40122423,"body_markdown":"    public class sikuli {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\t\t    //Screen screen=new Screen();\r\n            //screen.click(&quot;//home//exeter//Pictures//googlechrome.png&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;//home//exeter//Documents//chromedriver&quot;);\r\n            WebDriver driver=new ChromeDriver();\r\n            driver.get(&quot;https://mail.google.com&quot;);\r\n\r\n&gt;Starting ChromeDriver 2.24.417424 (c5c5ea873213ee72e3d0929b47482681555340c3) on port 11320\r\nOnly local connections are allowed.\r\nOct 19, 2016 10:07:22 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Attempting bi-dialect session, assuming Postel&#39;s Law holds true on the remote end\r\nOct 19, 2016 10:08:22 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: OSS\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchSessionException: no such session\r\n  (Driver info: chromedriver=2.24.417424 (c5c5ea873213ee72e3d0929b47482681555340c3),platform=Linux 4.4.0-43-generic x86_64) (WARNING: The server did not provide any stacktrace information)\r\nCommand duration or timeout: 9 milliseconds\r\nBuild info: version: &#39;unknown&#39;, revision: &#39;350cf60&#39;, time: &#39;2016-10-13 10:43:56 -0700&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities [{message=unknown error: Chrome failed to start: exited abnormally","title":"chrome is not able to run in Selenium Webdriver . i am using selenium 3.0.1 chrome v-54.0","body":"<pre><code>public class sikuli {\n\n    public static void main(String[] args) throws Exception {\n        //Screen screen=new Screen();\n        //screen.click(\"//home//exeter//Pictures//googlechrome.png\");\n        System.setProperty(\"webdriver.chrome.driver\",\"//home//exeter//Documents//chromedriver\");\n        WebDriver driver=new ChromeDriver();\n        driver.get(\"https://mail.google.com\");\n</code></pre>\n\n<blockquote>\n  <p>Starting ChromeDriver 2.24.417424 (c5c5ea873213ee72e3d0929b47482681555340c3) on port 11320\n  Only local connections are allowed.\n  Oct 19, 2016 10:07:22 AM org.openqa.selenium.remote.ProtocolHandshake createSession\n  INFO: Attempting bi-dialect session, assuming Postel's Law holds true on the remote end\n  Oct 19, 2016 10:08:22 AM org.openqa.selenium.remote.ProtocolHandshake createSession\n  INFO: Detected dialect: OSS\n  Exception in thread \"main\" org.openqa.selenium.NoSuchSessionException: no such session\n    (Driver info: chromedriver=2.24.417424 (c5c5ea873213ee72e3d0929b47482681555340c3),platform=Linux 4.4.0-43-generic x86_64) (WARNING: The server did not provide any stacktrace information)\n  Command duration or timeout: 9 milliseconds\n  Build info: version: 'unknown', revision: '350cf60', time: '2016-10-13 10:43:56 -0700'\n  Driver info: org.openqa.selenium.chrome.ChromeDriver\n  Capabilities [{message=unknown error: Chrome failed to start: exited abnormally</p>\n</blockquote>\n"},{"tags":["java","spring","spring-mvc","openid"],"answers":[{"tags":[],"owner":{"account_id":1542148,"reputation":559,"user_id":1436519,"display_name":"jsjunkie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386655894,"creation_date":1386655894,"answer_id":20487412,"question_id":20487252,"body_markdown":"The class org/apache/http/client/ClientProtocolException is part of httpclient jar. I guess you missed to include that.","title":"Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7&#39;: Instantiation of bean failed","body":"<p>The class org/apache/http/client/ClientProtocolException is part of httpclient jar. I guess you missed to include that.</p>\n"},{"tags":[],"owner":{"account_id":943332,"reputation":1865,"user_id":971042,"accept_rate":17,"display_name":"Waheed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386664942,"creation_date":1386664942,"answer_id":20489684,"question_id":20487252,"body_markdown":"Add latest httpclient.jar into the classpath. You can download it from [here][1].\r\n\r\n\r\n  [1]: http://hc.apache.org/downloads.cgi","title":"Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7&#39;: Instantiation of bean failed","body":"<p>Add latest httpclient.jar into the classpath. You can download it from <a href=\"http://hc.apache.org/downloads.cgi\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":3668485,"reputation":21,"user_id":3056194,"display_name":"user3056194"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702220670,"creation_date":1386655105,"question_id":20487252,"body_markdown":"I&#39;m basically trying to implement openId in spring which will allow user to login through goggle and extract their emailId, name and save in data base\r\n\r\nAfter adding openid4java jar, now I&#39;m getting the following exception:\r\n\r\n    SEVERE: Exception sending context initialized event to listener instance of class    \r\n    org.springframework.web.context.ContextLoaderListener\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with     name &#39;org.springframework.security.openid.OpenIDAuthenticationFilter#0&#39;: Cannot create inner bean &#39;(inner bean)&#39; of type [org.springframework.security.openid.OpenID4JavaConsumer] while setting bean property &#39;consumer&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.openid.OpenID4JavaConsumer]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:125)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\r\n        at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.openid.OpenID4JavaConsumer]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:281)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:984)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:888)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\r\n        ... 25 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.openid.OpenID4JavaConsumer]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:141)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:107)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:273)\r\n        ... 30 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\r\n        at org.openid4java.consumer.ConsumerManager.&lt;init&gt;(ConsumerManager.java:146)\r\n        at org.springframework.security.openid.OpenID4JavaConsumer.&lt;init&gt;(OpenID4JavaConsumer.java:62)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:126)\r\n        ... 32 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.client.ClientProtocolException\r\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n        ... 39 more\r\n\r\nLibrary:\r\n\r\n    activation-1.0.2.jar\r\n    antlr-2.7.6.jar\r\n    aopalliance-1.0.jar\r\n    asm-1.5.3.jar\r\n    asm-attrs-1.5.3.jar\r\n    cglib-2.1_3.jar\r\n    commons-beanutils-1.7.0.jar\r\n    commons-collection-2.1.1.jar\r\n    commons-digester-1.8.jar\r\n    commons-email-1.0.jar\r\n    commons-fileupload-1.1.1.jar\r\n    commons-io-1.1.jar\r\n    commons-lang-2.5.jar\r\n    commons-logging-1.1.1.jar\r\n    dom4j-1.6.1.jar\r\n    dumbster-1.6.jar\r\n    ehchache-1.2.3.jar\r\n    hibernate-3.2.6.ga.jar\r\n    hibernate-annotations-3.3.1.GA.jar\r\n    hibernate-commons-annotations-3.0.0.ga.jar\r\n    hibernate-entitymanager-3.3.2.GA.jar\r\n    hibernate-search-3.0.0.GA.jar\r\n    hibernate-validator-4.0.2.GA.jar\r\n    jackson-all-1.9.11.jar\r\n    jackson-jaxrs-1.9.13.jar\r\n    javassist-3.4.GA.jar\r\n    jaxb-api-2.1.jar\r\n    jaxb-impl-2.1.3.jar\r\n    jaxen-1.1.1.jar\r\n    jdom-1.0.jar\r\n    jstl.1.2.jar\r\n    jta-1.1.jar\r\n    log4j-1.2.14.jar\r\n    luncene-core-2.3.2.jar\r\n    luncene-highlighter-2.0.0.jar\r\n    mail-1.4.jar\r\n    mysql-connector-java-5.0.5.jar\r\n    openid4java-0.9.8.jar\r\n    persistance-api-1.0.jar\r\n    quartz-1.5.2.jar\r\n    slf4j-api-1.5.6.jar\r\n    slf4j-log4j12-1.5.6.jar\r\n    spring-aop-3.0.1.RELEASE.jar\r\n    spring-asm-3.0.1.RELEASE.jar\r\n    spring-beans-3.0.1.RELEASE.jar\r\n    spring-context-3.0.1.RELEASE.jar\r\n    spring-core-3.0.1.RELEASE.jar\r\n    spring-expression-3.0.1.RELEASE.jar\r\n    spring-jdbc-3.0.1.RELEASE.jar\r\n    spring-orm-3.0.1.RELEASE.jar\r\n    spring-oxm-3.0.1.RELEASE.jar\r\n    spring-security-config-3.0.1.RELEASE.jar\r\n    spring-security-core-3.0.1.RELEASE.jar\r\n    spring-security-openid-3.0.1.RELEASE.jar\r\n    spring-security-step2-3.0.2.RELEASE.jar\r\n    spring-security-taglibs-3.0.1.RELEASE.jar\r\n    spring-security-web-3.0.1.RELEASE.jar\r\n    spring-tx-3.0.1.RELEASE.jar\r\n    spring-web-3.0.1.RELEASE.jar\r\n    spring-webmvc-3.0.1.RELEASE.jar\r\n    stax-api-1.0-2.jar\r\n    validation-api-1.0.0.GA.jar\r\n    xalan-2.6.0.jar\r\n    xercesImpl-2.6.2.jar\r\n    xml-apis-1.3.02.jar\r\n    xmlParserAPIs-2.6.2.jar\r\n    xom-1.0.jar\r\n\r\n","title":"Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7&#39;: Instantiation of bean failed","body":"<p>I'm basically trying to implement openId in spring which will allow user to login through goggle and extract their emailId, name and save in data base</p>\n\n<p>After adding openid4java jar, now I'm getting the following exception:</p>\n\n<pre><code>SEVERE: Exception sending context initialized event to listener instance of class    \norg.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanCreationException: Error creating bean with     name 'org.springframework.security.openid.OpenIDAuthenticationFilter#0': Cannot create inner bean '(inner bean)' of type [org.springframework.security.openid.OpenID4JavaConsumer] while setting bean property 'consumer'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.openid.OpenID4JavaConsumer]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:125)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.openid.OpenID4JavaConsumer]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:281)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:984)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:888)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\n    ... 25 more\nCaused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.openid.OpenID4JavaConsumer]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:141)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:107)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:273)\n    ... 30 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/http/client/ClientProtocolException\n    at org.openid4java.consumer.ConsumerManager.&lt;init&gt;(ConsumerManager.java:146)\n    at org.springframework.security.openid.OpenID4JavaConsumer.&lt;init&gt;(OpenID4JavaConsumer.java:62)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:126)\n    ... 32 more\nCaused by: java.lang.ClassNotFoundException: org.apache.http.client.ClientProtocolException\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    ... 39 more\n</code></pre>\n\n<p>Library:</p>\n\n<pre><code>activation-1.0.2.jar\nantlr-2.7.6.jar\naopalliance-1.0.jar\nasm-1.5.3.jar\nasm-attrs-1.5.3.jar\ncglib-2.1_3.jar\ncommons-beanutils-1.7.0.jar\ncommons-collection-2.1.1.jar\ncommons-digester-1.8.jar\ncommons-email-1.0.jar\ncommons-fileupload-1.1.1.jar\ncommons-io-1.1.jar\ncommons-lang-2.5.jar\ncommons-logging-1.1.1.jar\ndom4j-1.6.1.jar\ndumbster-1.6.jar\nehchache-1.2.3.jar\nhibernate-3.2.6.ga.jar\nhibernate-annotations-3.3.1.GA.jar\nhibernate-commons-annotations-3.0.0.ga.jar\nhibernate-entitymanager-3.3.2.GA.jar\nhibernate-search-3.0.0.GA.jar\nhibernate-validator-4.0.2.GA.jar\njackson-all-1.9.11.jar\njackson-jaxrs-1.9.13.jar\njavassist-3.4.GA.jar\njaxb-api-2.1.jar\njaxb-impl-2.1.3.jar\njaxen-1.1.1.jar\njdom-1.0.jar\njstl.1.2.jar\njta-1.1.jar\nlog4j-1.2.14.jar\nluncene-core-2.3.2.jar\nluncene-highlighter-2.0.0.jar\nmail-1.4.jar\nmysql-connector-java-5.0.5.jar\nopenid4java-0.9.8.jar\npersistance-api-1.0.jar\nquartz-1.5.2.jar\nslf4j-api-1.5.6.jar\nslf4j-log4j12-1.5.6.jar\nspring-aop-3.0.1.RELEASE.jar\nspring-asm-3.0.1.RELEASE.jar\nspring-beans-3.0.1.RELEASE.jar\nspring-context-3.0.1.RELEASE.jar\nspring-core-3.0.1.RELEASE.jar\nspring-expression-3.0.1.RELEASE.jar\nspring-jdbc-3.0.1.RELEASE.jar\nspring-orm-3.0.1.RELEASE.jar\nspring-oxm-3.0.1.RELEASE.jar\nspring-security-config-3.0.1.RELEASE.jar\nspring-security-core-3.0.1.RELEASE.jar\nspring-security-openid-3.0.1.RELEASE.jar\nspring-security-step2-3.0.2.RELEASE.jar\nspring-security-taglibs-3.0.1.RELEASE.jar\nspring-security-web-3.0.1.RELEASE.jar\nspring-tx-3.0.1.RELEASE.jar\nspring-web-3.0.1.RELEASE.jar\nspring-webmvc-3.0.1.RELEASE.jar\nstax-api-1.0-2.jar\nvalidation-api-1.0.0.GA.jar\nxalan-2.6.0.jar\nxercesImpl-2.6.2.jar\nxml-apis-1.3.02.jar\nxmlParserAPIs-2.6.2.jar\nxom-1.0.jar\n</code></pre>\n"},{"tags":["java","modbus","modbus-tcp"],"comments":[{"owner":{"account_id":2345432,"reputation":359,"user_id":2055824,"display_name":"Bosz"},"score":0,"creation_date":1597578699,"post_id":63371419,"comment_id":112173101,"body_markdown":"Do you get the same result when reading one register, i.e. `readMultipleRegisters(1, 47, 1)`?","body":"Do you get the same result when reading one register, i.e. <code>readMultipleRegisters(1, 47, 1)</code>?"},{"owner":{"account_id":1360960,"reputation":351,"user_id":1298354,"accept_rate":44,"display_name":"niteen22"},"score":0,"creation_date":1598619280,"post_id":63371419,"comment_id":112525706,"body_markdown":"yes even for single register had same issue","body":"yes even for single register had same issue"}],"answers":[{"tags":[],"owner":{"account_id":30104774,"reputation":1,"user_id":23070931,"display_name":"Nadger"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702219652,"creation_date":1702128755,"answer_id":77631444,"question_id":63371419,"body_markdown":"\r\nYou have created a Slave with a process image with a single register in it and then in your master, you are asking for 2 registers.\r\n```\r\nRegister[] data1 = tcpMaster.readMultipleRegisters(1, 47, 2);\r\n```\r\nShould be\r\n```\r\nRegister[] data1 = tcpMaster.readMultipleRegisters(1, 47, 1);\r\n```\r\n\r\nTake a look at the test cases for j2mod, there are plenty of examples for each of the transports i.e. creating a slave and then calling it from a master.  There are also examples of advanced usages for the more exotic function codes [here][1]\r\nI am the maintainer (with friends) of j2mod so I&#39;m happy to help if you need it\r\n\r\n\r\n  [1]: https://github.com/steveohara/j2mod/tree/master/src/test/java/com/ghgande/j2mod/modbus/cmd","title":"Illegal Address Issue with Modbus Slave using j2mod","body":"<p>You have created a Slave with a process image with a single register in it and then in your master, you are asking for 2 registers.</p>\n<pre><code>Register[] data1 = tcpMaster.readMultipleRegisters(1, 47, 2);\n</code></pre>\n<p>Should be</p>\n<pre><code>Register[] data1 = tcpMaster.readMultipleRegisters(1, 47, 1);\n</code></pre>\n<p>Take a look at the test cases for j2mod, there are plenty of examples for each of the transports i.e. creating a slave and then calling it from a master.  There are also examples of advanced usages for the more exotic function codes <a href=\"https://github.com/steveohara/j2mod/tree/master/src/test/java/com/ghgande/j2mod/modbus/cmd\" rel=\"nofollow noreferrer\">here</a>\nI am the maintainer (with friends) of j2mod so I'm happy to help if you need it</p>\n"}],"owner":{"account_id":1360960,"reputation":351,"user_id":1298354,"accept_rate":44,"display_name":"niteen22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702219652,"creation_date":1597215498,"question_id":63371419,"body_markdown":"I am using J2mod library for my modbus communication needs. I basically want to create modbus slave using java service , which will be updated by another java service. To simulate this I am writing 2 test classes , however on reading from master, I keep getting illegal address issue. I am definitely missing something in slave creation since if I use tools like ModbusSlaveSlim it works fine.\r\n\r\nModbusSlaveApp\r\n\r\n    SimpleProcessImage spi = new SimpleProcessImage(1);\r\n\t\t\tspi.addRegister(47, new SimpleRegister(251));\r\n\t\t\tModbusSlave slave = ModbusSlaveFactory.createTCPSlave(502, 5);\r\n\t\t\tslave.addProcessImage(1, spi);\r\n\t\t\tslave.open();\r\n\t\t\tModbusTCPListener listener = new ModbusTCPListener(5, InetAddress.getByName(&quot;127.0.0.1&quot;), false);\r\n\t\t\tlistener.setPort(502);\r\n\t\t\tlistener.setListening(true);\r\n\t\t\tlistener.setTimeout(5000);// 5 Seconds\r\n\r\nModbusMasterApp\r\n\r\n    ModbusTCPMaster tcpMaster = new ModbusTCPMaster(&quot;127.0.0.1&quot;, 502);\r\n\ttcpMaster.connect();\r\n\t// TEST READ FOR PUMP SETTINGS\r\n\tRegister[] data1 = tcpMaster.readMultipleRegisters(1, 47, 2);\r\n\r\nI seem to have address correct but still keep getting Illegal Data Address exception\r\n","title":"Illegal Address Issue with Modbus Slave using j2mod","body":"<p>I am using J2mod library for my modbus communication needs. I basically want to create modbus slave using java service , which will be updated by another java service. To simulate this I am writing 2 test classes , however on reading from master, I keep getting illegal address issue. I am definitely missing something in slave creation since if I use tools like ModbusSlaveSlim it works fine.</p>\n<p>ModbusSlaveApp</p>\n<pre><code>SimpleProcessImage spi = new SimpleProcessImage(1);\n        spi.addRegister(47, new SimpleRegister(251));\n        ModbusSlave slave = ModbusSlaveFactory.createTCPSlave(502, 5);\n        slave.addProcessImage(1, spi);\n        slave.open();\n        ModbusTCPListener listener = new ModbusTCPListener(5, InetAddress.getByName(&quot;127.0.0.1&quot;), false);\n        listener.setPort(502);\n        listener.setListening(true);\n        listener.setTimeout(5000);// 5 Seconds\n</code></pre>\n<p>ModbusMasterApp</p>\n<pre><code>ModbusTCPMaster tcpMaster = new ModbusTCPMaster(&quot;127.0.0.1&quot;, 502);\ntcpMaster.connect();\n// TEST READ FOR PUMP SETTINGS\nRegister[] data1 = tcpMaster.readMultipleRegisters(1, 47, 2);\n</code></pre>\n<p>I seem to have address correct but still keep getting Illegal Data Address exception</p>\n"},{"tags":["java","android","android-studio","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1702218374,"post_id":77634197,"comment_id":136867073,"body_markdown":"Please do not post images of code, post the actual text. Images are hard to read, impossible to search and unusable for people that use screen readers","body":"Please do not post images of code, post the actual text. Images are hard to read, impossible to search and unusable for people that use screen readers"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1702218569,"post_id":77634197,"comment_id":136867094,"body_markdown":"Also without seeing the code for the functions in MainActivity functions at the toss of the stack trace we are unlikely to be able to answer this","body":"Also without seeing the code for the functions in MainActivity functions at the toss of the stack trace we are unlikely to be able to answer this"}],"owner":{"account_id":24047851,"reputation":1,"user_id":18026683,"display_name":"Aema"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702228577,"answer_count":0,"score":-3,"last_activity_date":1702218540,"creation_date":1702198248,"question_id":77634197,"body_markdown":"![enter image description here][1]\r\n\r\n\r\ni&#39;m trying to connect to mqtt and i&#39;m using the android studio giraffe \r\ni tried this way \r\n\r\n![enter image description here][2]\r\n\r\nbut i&#39;m getting this error : \r\n\r\n```\r\n2023-12-10 09:37:11.352  9467-9467  AndroidRuntime          com.example.mqtt4                    E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.mqtt4, PID: 9467\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;org.eclipse.paho.client.mqttv3.IMqttToken org.eclipse.paho.android.service.MqttAndroidClient.connect()&#39; on a null object reference\r\n                                                                                                    \tat com.example.mqtt4.MainActivity.connectx(MainActivity.java:47)\r\n                                                                                                    \tat com.example.mqtt4.MainActivity.access$000(MainActivity.java:21)\r\n                                                                                                    \tat com.example.mqtt4.MainActivity$1.onClick(MainActivity.java:41)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7659)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7636)\r\n                                                                                                    \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30156)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:958)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nGLaO.png\r\n  [2]: https://i.stack.imgur.com/CZx9X.png","title":"How to solve Paho Android Service problem","body":"<p><img src=\"https://i.stack.imgur.com/nGLaO.png\" alt=\"enter image description here\" /></p>\n<p>i'm trying to connect to mqtt and i'm using the android studio giraffe\ni tried this way</p>\n<p><img src=\"https://i.stack.imgur.com/CZx9X.png\" alt=\"enter image description here\" /></p>\n<p>but i'm getting this error :</p>\n<pre><code>2023-12-10 09:37:11.352  9467-9467  AndroidRuntime          com.example.mqtt4                    E  FATAL EXCEPTION: main\n                                                                                                    Process: com.example.mqtt4, PID: 9467\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method 'org.eclipse.paho.client.mqttv3.IMqttToken org.eclipse.paho.android.service.MqttAndroidClient.connect()' on a null object reference\n                                                                                                        at com.example.mqtt4.MainActivity.connectx(MainActivity.java:47)\n                                                                                                        at com.example.mqtt4.MainActivity.access$000(MainActivity.java:21)\n                                                                                                        at com.example.mqtt4.MainActivity$1.onClick(MainActivity.java:41)\n                                                                                                        at android.view.View.performClick(View.java:7659)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\n                                                                                                        at android.view.View.performClickInternal(View.java:7636)\n                                                                                                        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n                                                                                                        at android.view.View$PerformClick.run(View.java:30156)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:958)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n</code></pre>\n"},{"tags":["java","binary","byte","bitwise-operators","bit-shift"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1702218472,"creation_date":1702188165,"answer_id":77633829,"question_id":77633815,"body_markdown":"You&#39;re running into a chain of really weird java design choices that make this code &#39;lie&#39; (it _appears_ to do one thing but it actually won&#39;t do that thing). Let&#39;s break it down:\r\n\r\n### Lesser known java aspect 1: `byte`, `short`, `char`, and `boolean` are inferior\r\n\r\nIn java, `byte`, `short`, `char`, `boolean` are the __inferior__ primitives, with `int`, `long`, `double` and `float` being the __superior__ primitives. There are no opcodes for the inferiors beyond array store and array load. __There is no opcode in java that adds 2 bytes together. It just does not exist.__. It is literally impossible to do this, given that `javac` has no idea what to generate. So, instead:\r\n\r\n```\r\nbyte b = 5;\r\nbyte c = 10;\r\nbyte d = b + c;\r\n```\r\n\r\nIs actually taken to mean:\r\n\r\n```\r\nbyte b = 5;\r\nbyte c = 10;\r\nbyte d = (int) b + (int) c;\r\n```\r\n\r\nAnd, thus, this is a compiler error - the result of `int + int` is `int`, and trying to assign an `int` to a `byte` is not allowed without explicit casting.\r\n\r\nYou can trivially have a look at any [list of java bytecodes](https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions). You&#39;ll find FADD, DADD, IADD, and LADD (respectively, &#39;float add&#39;, &#39;double add&#39;, &#39;int add&#39; and &#39;long add&#39;). But you won&#39;t find byte/short/char variants; there is no BADD, CADD, or SADD.\r\n\r\n### Lesser known java aspect 2: The compound assignment operators auto-cast.\r\n\r\nthis: `a += b;` is not actually identical to `a = a + b;` at all! I know that&#39;s what you were taught, but this is incorrect. It is, in fact, equal to `a = (byte) (a + b);` where that `byte` is the type of `a` itself:\r\n\r\n```\r\ndouble d = 5.5;\r\nint x = 5;\r\nx = x + d; // obviously, compiler error. Explicit cast needed.\r\n```\r\n\r\nversus:\r\n\r\n```\r\ndouble d = 5.5;\r\nint x = 5;\r\nx += d;\r\n```\r\n\r\nTotally legal. And results in x being 10. The full flow is:\r\n\r\n* x is 5. This is converted to `double` because java can only do math between 2 things of the same type.\r\n* `d` is 5.5, already a double, nice.\r\n* `DADD` bytecode is executed; the result of this is 10.5.\r\n* This is cast to `int`, resulting in `10`, which is assigned to `x`.\r\n\r\nRun `javap` if you want to see this.\r\n\r\n## Combining the two\r\n\r\nThus, let&#39;s break down your code:\r\n\r\n```\r\nbyte b = (byte) -1;\r\n```\r\n\r\nThis makes the int -1 (32 &#39;1&#39; bits), then casts it to byte, resulting in `b` having the value `1111 1111`. So far, so good, nothing surprising here.\r\n\r\n```\r\nb &gt;&gt;&gt;= 1;\r\n```\r\n\r\nHoo boy. This looks simple but is very complicated. It&#39;s syntax sugar for:\r\n\r\n```\r\nb = (byte) (((int) b) &gt;&gt;&gt; 1);\r\n```\r\n\r\nTo break _that_ down:\r\n\r\n* `(int) b` results in 32 1-bits. `b` is -1 in byte, casting that to int produces -1 the int, which is 32 1-bits.\r\n* `&gt;&gt;&gt; 1` then makes that a zero, followed by 31 1 bits.\r\n* this is then cast back to a byte, which.. is -1 - 8 1-bits.\r\n\r\n### So how do I do this?\r\n\r\nDon&#39;t use `byte`, basically. Don&#39;t ever use the inferior primitives except under the following circumstances:\r\n\r\n* You use them in signatures (i.e. the return type or param types of methods) as API doc, essentially.\r\n* You make an array. `byte[]` _is_ useful and really does only take 1 byte per item.\r\n\r\nFor all other things (such as single fields, and local vars aimed at math, such as what you are doing), __don&#39;t__. They don&#39;t act like you think they act, as you have found out here.\r\n\r\nJust go with ints. If you want an &#39;unsigned byte&#39;, just make an `int` variable and use that:\r\n\r\n```\r\nbyte b = (byte) -1;\r\nint x = b &amp; 0xFF; // x is now 0000...0000 1111 1111.\r\nSystem.out.println(x); // prints 255\r\nx &gt;&gt;= 1;\r\nSystem.out.println(x); // prints 127\r\n```\r\n\r\n`byte` as a single value (not `byte[]` - just `byte`) __is not more efficient in any way__ than `int` or likely even `long`, on 64-bit architecture. Java does not assign less memory (because all things have to align on word boundaries), the operation is not faster (CPUs work in 64-bit chunks already).","title":"Why does b &gt;&gt;&gt; 1 always equals -1 when b is a byte and has value -1 in Java?","body":"<p>You're running into a chain of really weird java design choices that make this code 'lie' (it <em>appears</em> to do one thing but it actually won't do that thing). Let's break it down:</p>\n<h3>Lesser known java aspect 1: <code>byte</code>, <code>short</code>, <code>char</code>, and <code>boolean</code> are inferior</h3>\n<p>In java, <code>byte</code>, <code>short</code>, <code>char</code>, <code>boolean</code> are the <strong>inferior</strong> primitives, with <code>int</code>, <code>long</code>, <code>double</code> and <code>float</code> being the <strong>superior</strong> primitives. There are no opcodes for the inferiors beyond array store and array load. <strong>There is no opcode in java that adds 2 bytes together. It just does not exist.</strong>. It is literally impossible to do this, given that <code>javac</code> has no idea what to generate. So, instead:</p>\n<pre><code>byte b = 5;\nbyte c = 10;\nbyte d = b + c;\n</code></pre>\n<p>Is actually taken to mean:</p>\n<pre><code>byte b = 5;\nbyte c = 10;\nbyte d = (int) b + (int) c;\n</code></pre>\n<p>And, thus, this is a compiler error - the result of <code>int + int</code> is <code>int</code>, and trying to assign an <code>int</code> to a <code>byte</code> is not allowed without explicit casting.</p>\n<p>You can trivially have a look at any <a href=\"https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\" rel=\"nofollow noreferrer\">list of java bytecodes</a>. You'll find FADD, DADD, IADD, and LADD (respectively, 'float add', 'double add', 'int add' and 'long add'). But you won't find byte/short/char variants; there is no BADD, CADD, or SADD.</p>\n<h3>Lesser known java aspect 2: The compound assignment operators auto-cast.</h3>\n<p>this: <code>a += b;</code> is not actually identical to <code>a = a + b;</code> at all! I know that's what you were taught, but this is incorrect. It is, in fact, equal to <code>a = (byte) (a + b);</code> where that <code>byte</code> is the type of <code>a</code> itself:</p>\n<pre><code>double d = 5.5;\nint x = 5;\nx = x + d; // obviously, compiler error. Explicit cast needed.\n</code></pre>\n<p>versus:</p>\n<pre><code>double d = 5.5;\nint x = 5;\nx += d;\n</code></pre>\n<p>Totally legal. And results in x being 10. The full flow is:</p>\n<ul>\n<li>x is 5. This is converted to <code>double</code> because java can only do math between 2 things of the same type.</li>\n<li><code>d</code> is 5.5, already a double, nice.</li>\n<li><code>DADD</code> bytecode is executed; the result of this is 10.5.</li>\n<li>This is cast to <code>int</code>, resulting in <code>10</code>, which is assigned to <code>x</code>.</li>\n</ul>\n<p>Run <code>javap</code> if you want to see this.</p>\n<h2>Combining the two</h2>\n<p>Thus, let's break down your code:</p>\n<pre><code>byte b = (byte) -1;\n</code></pre>\n<p>This makes the int -1 (32 '1' bits), then casts it to byte, resulting in <code>b</code> having the value <code>1111 1111</code>. So far, so good, nothing surprising here.</p>\n<pre><code>b &gt;&gt;&gt;= 1;\n</code></pre>\n<p>Hoo boy. This looks simple but is very complicated. It's syntax sugar for:</p>\n<pre><code>b = (byte) (((int) b) &gt;&gt;&gt; 1);\n</code></pre>\n<p>To break <em>that</em> down:</p>\n<ul>\n<li><code>(int) b</code> results in 32 1-bits. <code>b</code> is -1 in byte, casting that to int produces -1 the int, which is 32 1-bits.</li>\n<li><code>&gt;&gt;&gt; 1</code> then makes that a zero, followed by 31 1 bits.</li>\n<li>this is then cast back to a byte, which.. is -1 - 8 1-bits.</li>\n</ul>\n<h3>So how do I do this?</h3>\n<p>Don't use <code>byte</code>, basically. Don't ever use the inferior primitives except under the following circumstances:</p>\n<ul>\n<li>You use them in signatures (i.e. the return type or param types of methods) as API doc, essentially.</li>\n<li>You make an array. <code>byte[]</code> <em>is</em> useful and really does only take 1 byte per item.</li>\n</ul>\n<p>For all other things (such as single fields, and local vars aimed at math, such as what you are doing), <strong>don't</strong>. They don't act like you think they act, as you have found out here.</p>\n<p>Just go with ints. If you want an 'unsigned byte', just make an <code>int</code> variable and use that:</p>\n<pre><code>byte b = (byte) -1;\nint x = b &amp; 0xFF; // x is now 0000...0000 1111 1111.\nSystem.out.println(x); // prints 255\nx &gt;&gt;= 1;\nSystem.out.println(x); // prints 127\n</code></pre>\n<p><code>byte</code> as a single value (not <code>byte[]</code> - just <code>byte</code>) <strong>is not more efficient in any way</strong> than <code>int</code> or likely even <code>long</code>, on 64-bit architecture. Java does not assign less memory (because all things have to align on word boundaries), the operation is not faster (CPUs work in 64-bit chunks already).</p>\n"}],"owner":{"account_id":29431779,"reputation":33,"user_id":22551351,"display_name":"K_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77633829,"answer_count":1,"score":3,"last_activity_date":1702218472,"creation_date":1702187404,"question_id":77633815,"body_markdown":"I know that `&gt;&gt;&gt;` is unsigned shift-right, and since `byte` in Java is signed 8-bit then -1 will be represented as `1111 1111`. As a result, for the code below:\r\n\r\n```java\r\nbyte b = (byte) -1;\r\nb &gt;&gt;&gt;= 1;\r\nSystem.out.println(b);\r\n\r\n```\r\n\r\nShouldn&#39;t it print `127` (0111 1111 in binary)? But the result I get is always `-1`, no matter how many times I perform `&gt;&gt;&gt;` to `b` (e.g. in a loop).\r\n\r\nCan anyone explain why and in what way I can get the result I expect (i.e. to perform unsigned right shift in which `-1` shifted right once equals `127` for a `byte` in Java)? Is my understanding wrong? Thanks a lot!","title":"Why does b &gt;&gt;&gt; 1 always equals -1 when b is a byte and has value -1 in Java?","body":"<p>I know that <code>&gt;&gt;&gt;</code> is unsigned shift-right, and since <code>byte</code> in Java is signed 8-bit then -1 will be represented as <code>1111 1111</code>. As a result, for the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = (byte) -1;\nb &gt;&gt;&gt;= 1;\nSystem.out.println(b);\n\n</code></pre>\n<p>Shouldn't it print <code>127</code> (0111 1111 in binary)? But the result I get is always <code>-1</code>, no matter how many times I perform <code>&gt;&gt;&gt;</code> to <code>b</code> (e.g. in a loop).</p>\n<p>Can anyone explain why and in what way I can get the result I expect (i.e. to perform unsigned right shift in which <code>-1</code> shifted right once equals <code>127</code> for a <code>byte</code> in Java)? Is my understanding wrong? Thanks a lot!</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699278699,"post_id":77431361,"comment_id":136507720,"body_markdown":"if you are using  [Apache Maven Dependency Plugin](https://maven.apache.org/plugins/maven-dependency-plugin/index.html) run  `dependency:purge-local-repository` and in IDEA reimport  `Project &gt; [your project name] &gt; right click &gt; Maven &gt; Reimport`","body":"if you are using  <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/index.html\" rel=\"nofollow noreferrer\">Apache Maven Dependency Plugin</a> run  <code>dependency:purge-local-repository</code> and in IDEA reimport  <code>Project &gt; [your project name] &gt; right click &gt; Maven &gt; Reimport</code>"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699290229,"post_id":77431361,"comment_id":136510259,"body_markdown":"Please show your full pom file... Do you use the spring boot parent?","body":"Please show your full pom file... Do you use the spring boot parent?"},{"owner":{"account_id":13263731,"reputation":111,"user_id":9577357,"display_name":"chenlangping"},"score":0,"creation_date":1699337592,"post_id":77431361,"comment_id":136515651,"body_markdown":"@ArunDuraisamy I ran `mvn dependency:purge-local-repository` and reloaded all maven projects, still not working for me.","body":"@ArunDuraisamy I ran <code>mvn dependency:purge-local-repository</code> and reloaded all maven projects, still not working for me."},{"owner":{"account_id":13263731,"reputation":111,"user_id":9577357,"display_name":"chenlangping"},"score":0,"creation_date":1699337986,"post_id":77431361,"comment_id":136515697,"body_markdown":"@khmarbaise  I am so sorry I cannot offer you the full pom file because it is a huge, complex, and my company&#39;s project. \nThis project does use springboot parent, but my point is when I use &#39;mvn dependency:tree&#39; to check the dependency tree, the `elasticsearch-rest-client` version is 7.10.0 which is correct, but IDEA shows the `elasticsearch-rest-client` version is controlled by springboot parent, which is 6.4.3, I want know the reason and how to fix it.","body":"@khmarbaise  I am so sorry I cannot offer you the full pom file because it is a huge, complex, and my company&#39;s project.  This project does use springboot parent, but my point is when I use &#39;mvn dependency:tree&#39; to check the dependency tree, the <code>elasticsearch-rest-client</code> version is 7.10.0 which is correct, but IDEA shows the <code>elasticsearch-rest-client</code> version is controlled by springboot parent, which is 6.4.3, I want know the reason and how to fix it."},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699353302,"post_id":77431361,"comment_id":136518106,"body_markdown":"@chenlanping this is due to Transitive Dependency.  run the `mvn dependency:tree`  and exclude elasticsearch-rest-client from the dependency `&lt;dependency&gt;\n\t&lt;groupId&gt;..&lt;/groupId&gt;\n\t&lt;artifactId&gt;..&lt;/artifactId&gt;\n\t&lt;version&gt;...&lt;/version&gt;\n\t&lt;exclusions&gt;\n\t\t&lt;exclusion&gt;\n\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n  \t\t\t&lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n\t\t&lt;/exclusion&gt;\n\t&lt;/exclusions&gt;\n&lt;/dependency&gt;`","body":"@chenlanping this is due to Transitive Dependency.  run the <code>mvn dependency:tree</code>  and exclude elasticsearch-rest-client from the dependency <code>&lt;dependency&gt; \t&lt;groupId&gt;..&lt;&#47;groupId&gt; \t&lt;artifactId&gt;..&lt;&#47;artifactId&gt; \t&lt;version&gt;...&lt;&#47;version&gt; \t&lt;exclusions&gt; \t\t&lt;exclusion&gt; \t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;&#47;groupId&gt;   \t\t\t&lt;artifactId&gt;elasticsearch-rest-client&lt;&#47;artifactId&gt; \t\t&lt;&#47;exclusion&gt; \t&lt;&#47;exclusions&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1699440492,"post_id":77431361,"comment_id":136530805,"body_markdown":"Hard to tell without knowing your Project&#39;s exact structure. Where does &#39;spring-boot-dependencies&#39; come from - your root Project or Child? Is it added to dependencyManagement there? Also, when you run mvn dependency:tree, do you run it in the context  of your root Project or Child? You may want to take a look at IDEA&#39;s Dependency Analyzer - might give you more info on where this comes from.","body":"Hard to tell without knowing your Project&#39;s exact structure. Where does &#39;spring-boot-dependencies&#39; come from - your root Project or Child? Is it added to dependencyManagement there? Also, when you run mvn dependency:tree, do you run it in the context  of your root Project or Child? You may want to take a look at IDEA&#39;s Dependency Analyzer - might give you more info on where this comes from."}],"owner":{"account_id":13263731,"reputation":111,"user_id":9577357,"display_name":"chenlangping"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702217428,"creation_date":1699276356,"question_id":77431361,"body_markdown":"I have a springboot project and I use Maven as my build tool. I have a dependency in my root pom.xml file as below:\r\n```\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${elasticsearch.version}&lt;/version&gt;\r\n        &lt;!-- elasticsearch.version is 7.10.0 in my project --&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\nIn my child pom.xml file, I have the following dependency:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n  &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhen I click Idea button to find the version of elasticsearch-rest-client,[![enter image description here][1]][1] it jumps to a file named &#39;spring-boot-dependencies-2.1.3.RELEASE.pom&#39;, and the version of this dependency is 6.4.3, which is not what I expected.\r\n\r\nThen I use the command `mvn dependency:tree -U` to find the dependency tree, and it shows the version of elasticsearch-rest-client is 7.10.0, which is correct. And also, there is no 2.1.3 springboot version in my project.\r\n\r\nI don&#39;t know why Idea resolves the wrong version of this dependency, and how to fix it.\r\n\r\n------ Following UPDATE DEC 10  ---------\r\n\r\nSince the above content is from my company&#39;s project, I have decided to use a simpler and easily reproducible example below to illustrate the issue.\r\nFirst, let&#39;s look at the content of the pom.xml file:\r\n```\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Import dependency management from Spring Boot --&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nIn the pom.xml file of spring-boot-dependencies version 2.7.3, the version of httpcore is 4.4.15. However, in my project, I have imported httpcore version 4.4.13.\r\n\r\nNext, let&#39;s consider the content of a sub-module, which is very simple:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nWhen I run &#39;mvn dependency:tree -Dverbose&#39;, the result shows version 4.4.13. But when I use IntelliJ IDEA, the result is different:\r\n[![IDEA RESULT][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XGkMo.png\r\n  [2]: https://i.stack.imgur.com/eHeSc.png","title":"Idea maven project resolve wrong dependency version","body":"<p>I have a springboot project and I use Maven as my build tool. I have a dependency in my root pom.xml file as below:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n        &lt;version&gt;${elasticsearch.version}&lt;/version&gt;\n        &lt;!-- elasticsearch.version is 7.10.0 in my project --&gt;\n    &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>In my child pom.xml file, I have the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I click Idea button to find the version of elasticsearch-rest-client,<a href=\"https://i.stack.imgur.com/XGkMo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGkMo.png\" alt=\"enter image description here\" /></a> it jumps to a file named 'spring-boot-dependencies-2.1.3.RELEASE.pom', and the version of this dependency is 6.4.3, which is not what I expected.</p>\n<p>Then I use the command <code>mvn dependency:tree -U</code> to find the dependency tree, and it shows the version of elasticsearch-rest-client is 7.10.0, which is correct. And also, there is no 2.1.3 springboot version in my project.</p>\n<p>I don't know why Idea resolves the wrong version of this dependency, and how to fix it.</p>\n<p>------ Following UPDATE DEC 10  ---------</p>\n<p>Since the above content is from my company's project, I have decided to use a simpler and easily reproducible example below to illustrate the issue.\nFirst, let's look at the content of the pom.xml file:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>In the pom.xml file of spring-boot-dependencies version 2.7.3, the version of httpcore is 4.4.15. However, in my project, I have imported httpcore version 4.4.13.</p>\n<p>Next, let's consider the content of a sub-module, which is very simple:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>When I run 'mvn dependency:tree -Dverbose', the result shows version 4.4.13. But when I use IntelliJ IDEA, the result is different:\n<a href=\"https://i.stack.imgur.com/eHeSc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eHeSc.png\" alt=\"IDEA RESULT\" /></a></p>\n"},{"tags":["java","javafx","zxing","jlink","module-info"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702214977,"post_id":77634820,"comment_id":136866738,"body_markdown":"Try searching for tutorials before asking.","body":"Try searching for tutorials before asking."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702222750,"post_id":77634820,"comment_id":136867505,"body_markdown":"Without Maven, the basic steps are: **(1)** Generate the module-info descriptor with `jdeps` (see [this](https://docs.oracle.com/en/java/javase/21/docs/specs/man/jdeps.html#module-dependence-analysis-options)); **(2)** Compile the module-info source file with `javac` (see [this](https://stackoverflow.com/q/47222226/6395627)); **(3)** Add the module-info class file to the JAR file with `jar`.","body":"Without Maven, the basic steps are: <b>(1)</b> Generate the module-info descriptor with <code>jdeps</code> (see <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jdeps.html#module-dependence-analysis-options\" rel=\"nofollow noreferrer\">this</a>); <b>(2)</b> Compile the module-info source file with <code>javac</code> (see <a href=\"https://stackoverflow.com/q/47222226/6395627\">this</a>); <b>(3)</b> Add the module-info class file to the JAR file with <code>jar</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702223045,"post_id":77634820,"comment_id":136867521,"body_markdown":"There may be Maven plugins out there that already do this for you. For example, [moditect](https://github.com/moditect/moditect) seems to do this, though I&#39;ve never used it.","body":"There may be Maven plugins out there that already do this for you. For example, <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">moditect</a> seems to do this, though I&#39;ve never used it."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1702233310,"post_id":77634820,"comment_id":136868629,"body_markdown":"If you&#39;re using Java 9 or higher, just add a `module-info.java` file to the root of your source folder (i.e. with no package), and include it in compilation. When using Maven, just put it directly in `src/main/java`. If you&#39;re using Java 8 then Moditect works great. I&#39;m using it in my Java 8 libraries without any problems.","body":"If you&#39;re using Java 9 or higher, just add a <code>module-info.java</code> file to the root of your source folder (i.e. with no package), and include it in compilation. When using Maven, just put it directly in <code>src&#47;main&#47;java</code>. If you&#39;re using Java 8 then Moditect works great. I&#39;m using it in my Java 8 libraries without any problems."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702239119,"post_id":77634820,"comment_id":136869244,"body_markdown":"@RobSpoor If I understood correctly, the OP is trying to add a module-info descriptor to a non-modular third-party dependency.","body":"@RobSpoor If I understood correctly, the OP is trying to add a module-info descriptor to a non-modular third-party dependency."},{"owner":{"account_id":28985227,"reputation":89,"user_id":22202172,"display_name":"Dharun"},"score":1,"creation_date":1702272942,"post_id":77634820,"comment_id":136871737,"body_markdown":"@Slaw Thank you i have successfully injected the file into the library and jlink is working perfectly. I&#39;m getting some errors after running my application from the generated zip file from jlink i&#39;ll figure it out","body":"@Slaw Thank you i have successfully injected the file into the library and jlink is working perfectly. I&#39;m getting some errors after running my application from the generated zip file from jlink i&#39;ll figure it out"}],"owner":{"account_id":28985227,"reputation":89,"user_id":22202172,"display_name":"Dharun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1702217298,"creation_date":1702211998,"question_id":77634820,"body_markdown":"I am Working on a javafx project where i am in need to generate `module-info.class` file myself. So, Iam wondering how to do it properly and make it work with maven.\r\n\r\nIam facing this issue with a QRCode generator library `zxing`. I cannot find any alternative Qr generator libraries in java with module-info.class file , if any please mention it.\r\n\r\nbreif explanation would be very helpful :)\r\n\r\nnote: I have tried to inject the module file using a tool but it throws error: cannot read jar\r\n","title":"How to create a module-info class file and add it to the jar?","body":"<p>I am Working on a javafx project where i am in need to generate <code>module-info.class</code> file myself. So, Iam wondering how to do it properly and make it work with maven.</p>\n<p>Iam facing this issue with a QRCode generator library <code>zxing</code>. I cannot find any alternative Qr generator libraries in java with module-info.class file , if any please mention it.</p>\n<p>breif explanation would be very helpful :)</p>\n<p>note: I have tried to inject the module file using a tool but it throws error: cannot read jar</p>\n"},{"tags":["java","eclipse","hibernate","annotations","mapping"],"comments":[{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1370335379,"post_id":16913225,"comment_id":24412266,"body_markdown":"Which version of Hibernate are you using? BTW, the fuly qualified name of a class is com.david.Categoria and not com/david/Categoria.","body":"Which version of Hibernate are you using? BTW, the fuly qualified name of a class is com.david.Categoria and not com/david/Categoria."},{"owner":{"account_id":542632,"reputation":991,"user_id":911524,"accept_rate":77,"display_name":"Davidin073"},"score":0,"creation_date":1370336133,"post_id":16913225,"comment_id":24412674,"body_markdown":"The error is the same with com/david/Categoria or com.david.Categoria.","body":"The error is the same with com/david/Categoria or com.david.Categoria."},{"owner":{"account_id":542632,"reputation":991,"user_id":911524,"accept_rate":77,"display_name":"Davidin073"},"score":0,"creation_date":1370336169,"post_id":16913225,"comment_id":24412688,"body_markdown":"My version of Hibernate is &lt; 4 but i&#180;m not sure is is 3.5 or 3.3 or other.","body":"My version of Hibernate is &lt; 4 but i&#180;m not sure is is 3.5 or 3.3 or other."},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1370336192,"post_id":16913225,"comment_id":24412708,"body_markdown":"Looking at the name of the jar would help. 3.3 and 3.5 are old versions. You should update to the latest 3.x version at least.","body":"Looking at the name of the jar would help. 3.3 and 3.5 are old versions. You should update to the latest 3.x version at least."},{"owner":{"account_id":542632,"reputation":991,"user_id":911524,"accept_rate":77,"display_name":"Davidin073"},"score":0,"creation_date":1370336361,"post_id":16913225,"comment_id":24412798,"body_markdown":"I don&#180;t have only a any folder with all of jar&#180;s. Initially i downloaded this rar: hibernate-search-4.3.0.CR1. But i couldn&#180;t operate it, so i have downloaded jar to jar.","body":"I don&#180;t have only a any folder with all of jar&#180;s. Initially i downloaded this rar: hibernate-search-4.3.0.CR1. But i couldn&#180;t operate it, so i have downloaded jar to jar."}],"answers":[{"tags":[],"owner":{"account_id":1797603,"reputation":3764,"user_id":1636680,"display_name":"eternay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1370336133,"creation_date":1370336133,"answer_id":16913581,"question_id":16913225,"body_markdown":"I think you need the Hibernate Annotation library in your classpath. You can add it manually, downloading it from Hibernate site, or you can add this Maven dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;hibernate-annotations&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.3.0.GA&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd then use the class `AnnotationConfiguration` instead of Configuration to configure your `sessionFactory`.\r\n\r\n    return new AnnotationConfiguration().configure().buildSessionFactory();\r\n\r\nThen you have to correct the qualified name of the class, as @JB Nizet suggested you in his comment.\r\n\r\nI think this will solve your problem.\r\n\r\nEDIT: sorry, I think you have the annotations library in your classpath, just use the `AnnotationConfiguration` class instead of `Configuration` when you build your `sessionFactory`.\r\n","title":"Hibernate Mapping Error: MappingException: An AnnotationConfiguration instance","body":"<p>I think you need the Hibernate Annotation library in your classpath. You can add it manually, downloading it from Hibernate site, or you can add this Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;hibernate-annotations&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And then use the class <code>AnnotationConfiguration</code> instead of Configuration to configure your <code>sessionFactory</code>.</p>\n\n<pre><code>return new AnnotationConfiguration().configure().buildSessionFactory();\n</code></pre>\n\n<p>Then you have to correct the qualified name of the class, as @JB Nizet suggested you in his comment.</p>\n\n<p>I think this will solve your problem.</p>\n\n<p>EDIT: sorry, I think you have the annotations library in your classpath, just use the <code>AnnotationConfiguration</code> class instead of <code>Configuration</code> when you build your <code>sessionFactory</code>.</p>\n"},{"tags":[],"owner":{"account_id":542632,"reputation":991,"user_id":911524,"accept_rate":77,"display_name":"Davidin073"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370338383,"creation_date":1370338383,"answer_id":16914336,"question_id":16913225,"body_markdown":"The problem was of libraries.\r\nThis is the solutions:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nA lot of thank&#180;s to Eternay and JB Nizet.\r\n\r\n  [1]: http://i.stack.imgur.com/dq51u.png","title":"Hibernate Mapping Error: MappingException: An AnnotationConfiguration instance","body":"<p>The problem was of libraries.\nThis is the solutions:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dq51u.png\" alt=\"enter image description here\"></p>\n\n<p>A lot of thank´s to Eternay and JB Nizet.</p>\n"}],"owner":{"account_id":542632,"reputation":991,"user_id":911524,"accept_rate":77,"display_name":"Davidin073"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702217080,"creation_date":1370335030,"question_id":16913225,"body_markdown":"I have a project with Hibernate.I tried to read the configuration file hibernate.cfg and got this error:\r\n\r\n   \r\n\r\n     Error creando una factoria de session.org.hibernate.MappingException: An AnnotationConfiguration instance is required to use &lt;mapping class=&quot;com/david/Categoria&quot;/&gt;\r\n    jun 04, 2013 10:19:26 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: El Servlet.service() para el servlet [ControladorLibros] en el contexto con ruta [/App01HTML] lanz&#243; la excepci&#243;n [La ejecuci&#243;n del Servlet lanz&#243; una excepci&#243;n] con causa ra&#237;z\r\n    org.hibernate.MappingException: An AnnotationConfiguration instance is required to use &lt;mapping class=&quot;com/david/Categoria&quot;/&gt;\r\n    \tat org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:1524)\r\n    \tat org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:1479)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1458)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1432)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1352)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1338)\r\n    \tat com.david.HibernateHelper.buildSessionFactory(HibernateHelper.java:13)\r\n\r\nmy configuration file is so simple:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost/arquitecturajava&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.pool_size&quot;&gt;5&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;mapping class=&quot;com/david/Categoria&quot;&gt;&lt;/mapping&gt;\r\n    \t\t&lt;mapping class=&quot;com/david/Libro&quot;&gt;&lt;/mapping&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\ndon&#180;t accept mapping class lines.\r\n\r\nI create de configurations similar to this code:\r\n\r\n    private static SessionFactory buildSessionFactory() \r\n    \t{\r\n    \t    try\r\n    \t    {\r\n    \t    \t\r\n    \t    \treturn new Configuration().configure().buildSessionFactory(); \r\n    \t    }\r\n    \t    catch (Throwable ex) \r\n    \t    {\r\n    \t    \tSystem.err.println(&quot;Error creando una factoria de session.&quot; + ex);\r\n    \t    \tthrow new ExceptionInInitializerError(ex);\r\n    \t    }\r\n    \t}\r\n\r\nand my project libraries are:\r\n\r\n![enter image description here][1]\r\n\r\nAny idea?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uq7Dp.png","title":"Hibernate Mapping Error: MappingException: An AnnotationConfiguration instance","body":"<p>I have a project with Hibernate.I tried to read the configuration file hibernate.cfg and got this error:</p>\n\n<pre><code> Error creando una factoria de session.org.hibernate.MappingException: An AnnotationConfiguration instance is required to use &lt;mapping class=\"com/david/Categoria\"/&gt;\njun 04, 2013 10:19:26 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: El Servlet.service() para el servlet [ControladorLibros] en el contexto con ruta [/App01HTML] lanzó la excepción [La ejecución del Servlet lanzó una excepción] con causa raíz\norg.hibernate.MappingException: An AnnotationConfiguration instance is required to use &lt;mapping class=\"com/david/Categoria\"/&gt;\n    at org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:1524)\n    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:1479)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1458)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1432)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1352)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1338)\n    at com.david.HibernateHelper.buildSessionFactory(HibernateHelper.java:13)\n</code></pre>\n\n<p>my configuration file is so simple:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost/arquitecturajava&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;root&lt;/property&gt;\n        &lt;property name=\"connection.pool_size\"&gt;5&lt;/property&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;mapping class=\"com/david/Categoria\"&gt;&lt;/mapping&gt;\n        &lt;mapping class=\"com/david/Libro\"&gt;&lt;/mapping&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>don´t accept mapping class lines.</p>\n\n<p>I create de configurations similar to this code:</p>\n\n<pre><code>private static SessionFactory buildSessionFactory() \n    {\n        try\n        {\n\n            return new Configuration().configure().buildSessionFactory(); \n        }\n        catch (Throwable ex) \n        {\n            System.err.println(\"Error creando una factoria de session.\" + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n</code></pre>\n\n<p>and my project libraries are:</p>\n\n<p><img src=\"https://i.stack.imgur.com/uq7Dp.png\" alt=\"enter image description here\"></p>\n\n<p>Any idea?</p>\n"},{"tags":["java","spring-boot","error-handling"],"answers":[{"tags":[],"owner":{"account_id":30094699,"reputation":26,"user_id":23063247,"display_name":"Mariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702216362,"creation_date":1702216362,"answer_id":77635054,"question_id":77634865,"body_markdown":"To see debugging information add this to your application.properties\r\n\r\n    debug=true","title":"How to Resolve? Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled","body":"<p>To see debugging information add this to your application.properties</p>\n<pre><code>debug=true\n</code></pre>\n"}],"owner":{"account_id":21386264,"reputation":11,"user_id":15751236,"display_name":"LearnCoding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702216362,"creation_date":1702212842,"question_id":77634865,"body_markdown":"I&#39;m encountering recurring errors in my several Spring Boot applications startup, and I&#39;m seeking guidance on how to address and resolve these issues. The error messages are as follows:\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nERROR 37995 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nERROR 38057 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nERROR 38082 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nERROR 38090 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n\r\nI&#39;d appreciate any insights, suggestions, or additional debugging techniques to identify and resolve these recurring errors in my Spring Boot applications startup. If there&#39;s additional information needed, please let me know. Thank you in advanced!\r\n\r\n\r\n1. Enabled debug mode in IntelliJ IDEA by adding -Dspring.profiles.active=debug to the JVM options.\r\n2. Started the Spring Boot application in debug mode.\r\n3. Analyzed the debugging information, but the error persists\r\n4. Added some dependencied","title":"How to Resolve? Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled","body":"<p>I'm encountering recurring errors in my several Spring Boot applications startup, and I'm seeking guidance on how to address and resolve these issues. The error messages are as follows:</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nERROR 37995 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nERROR 38057 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nERROR 38082 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nERROR 38090 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<p>I'd appreciate any insights, suggestions, or additional debugging techniques to identify and resolve these recurring errors in my Spring Boot applications startup. If there's additional information needed, please let me know. Thank you in advanced!</p>\n<ol>\n<li>Enabled debug mode in IntelliJ IDEA by adding -Dspring.profiles.active=debug to the JVM options.</li>\n<li>Started the Spring Boot application in debug mode.</li>\n<li>Analyzed the debugging information, but the error persists</li>\n<li>Added some dependencied</li>\n</ol>\n"},{"tags":["java","android","android-studio","fitbit"],"owner":{"account_id":30110920,"reputation":1,"user_id":23075476,"display_name":"Κωσταντίνος"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702215768,"creation_date":1702215768,"question_id":77635024,"body_markdown":"I want to take fitbit data(like heart rate or profile data) from fitbit server to my own android App.Can you send me a simple example or give me directions on how to achive this?\r\nThanks a lot.\r\n\r\n\r\nI tried using FitbitApi20 from github but does not work for me.","title":"Fitbit collect data from Android","body":"<p>I want to take fitbit data(like heart rate or profile data) from fitbit server to my own android App.Can you send me a simple example or give me directions on how to achive this?\nThanks a lot.</p>\n<p>I tried using FitbitApi20 from github but does not work for me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1702213531,"post_id":77634888,"comment_id":136866626,"body_markdown":"you completed the [tour] - it states: &quot;Avoid questions that are **primarily opinion-based**&quot; (original emphasis)","body":"you completed the <a href=\"https://stackoverflow.com/tour\">tour</a> - it states: &quot;Avoid questions that are <b>primarily opinion-based</b>&quot; (original emphasis)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1702213567,"post_id":77634888,"comment_id":136866630,"body_markdown":"You will also need to be familiar with the Collection, List, and Map classes.  And hopefully you have used a number of desktop applications, so you are familiar with how good desktop applications behave.  (For example, almost no applications create more than one top-level window.)","body":"You will also need to be familiar with the Collection, List, and Map classes.  And hopefully you have used a number of desktop applications, so you are familiar with how good desktop applications behave.  (For example, almost no applications create more than one top-level window.)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1702215628,"post_id":77634888,"comment_id":136866803,"body_markdown":"“Okay” in what sense or to who? There’s no “right” way; everybody learns in different ways.","body":"“Okay” in what sense or to who? There’s no “right” way; everybody learns in different ways."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1702215880,"post_id":77634888,"comment_id":136866822,"body_markdown":"@VGR All sorts of applications create more than one top-level window.","body":"@VGR All sorts of applications create more than one top-level window."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702215983,"post_id":77634888,"comment_id":136866830,"body_markdown":"*&quot;I am expecting the right way which can lead me into professional track.&quot;*  - Likewise, there is no right or wrong way to learn the things that a professional would need.  Indeed, learning JavaFX (or Swing) itself is not a prerequisite for being a professional programmer.  There is Android.  There are applications that are entirely web-UI based.  There are other programming languages. And so on.  You don&#39;t need to know everything.","body":"<i>&quot;I am expecting the right way which can lead me into professional track.&quot;</i>  - Likewise, there is no right or wrong way to learn the things that a professional would need.  Indeed, learning JavaFX (or Swing) itself is not a prerequisite for being a professional programmer.  There is Android.  There are applications that are entirely web-UI based.  There are other programming languages. And so on.  You don&#39;t need to know everything."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1702216291,"post_id":77634888,"comment_id":136866864,"body_markdown":"However, trying to learn (complicated) UI programming before you are thoroughly familiar with Java basics *could* lead to frustration.","body":"However, trying to learn (complicated) UI programming before you are thoroughly familiar with Java basics <i>could</i> lead to frustration."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1702249412,"post_id":77634888,"comment_id":136870083,"body_markdown":"Since answers are closed, I&#39;m leaving a comment.... The industry direction of travel is 1) Web Application / APIs / Micro Services 2) Mobile Applications (powered by JSON APIs). So 3) Desktop-type Apps IMO are a sinking ship, so if I were in your shoes, I wouldn&#39;t bother with JavaFX. Build a HelloWorld Web App with a Database, then get that working on a mobile app - If you&#39;ve achieved that, you can do what 99% can&#39;t.","body":"Since answers are closed, I&#39;m leaving a comment.... The industry direction of travel is 1) Web Application / APIs / Micro Services 2) Mobile Applications (powered by JSON APIs). So 3) Desktop-type Apps IMO are a sinking ship, so if I were in your shoes, I wouldn&#39;t bother with JavaFX. Build a HelloWorld Web App with a Database, then get that working on a mobile app - If you&#39;ve achieved that, you can do what 99% can&#39;t."},{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1702274276,"post_id":77634888,"comment_id":136871836,"body_markdown":"You&#39;ll need at the very minimum to learn what classes, objects, fields and methods are, before you even think about JavaFX.  I&#39;m not sure whether you&#39;re planning to learn those things before or after you deal with loops and branches.","body":"You&#39;ll need at the very minimum to learn what classes, objects, fields and methods are, before you even think about JavaFX.  I&#39;m not sure whether you&#39;re planning to learn those things before or after you deal with loops and branches."}],"owner":{"account_id":21999865,"reputation":1,"user_id":16271715,"display_name":"Still_Learning"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702215556,"answer_count":0,"score":-3,"last_activity_date":1702215651,"creation_date":1702213214,"question_id":77634888,"body_markdown":"Is it okay to learn JAVAFX after doing the basic JAVA loops, if else, switch etc ?\r\nor i have to learn something else before going on JAVA GUI development?\r\n\r\nI am expecting the right way which can lead me into professional track.","title":"Is it okay to learn JAVAFX after doing the basic JAVA loops, if else, switch etc?","body":"<p>Is it okay to learn JAVAFX after doing the basic JAVA loops, if else, switch etc ?\nor i have to learn something else before going on JAVA GUI development?</p>\n<p>I am expecting the right way which can lead me into professional track.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"score":0,"creation_date":1562918461,"post_id":57002413,"comment_id":100538351,"body_markdown":"If you are going to process this exceptions differently then catch it in differents blocks, else you can use `catch (Exception1 | Exception2 | Exception3 e) { }`.","body":"If you are going to process this exceptions differently then catch it in differents blocks, else you can use <code>catch (Exception1 | Exception2 | Exception3 e) { }</code>."},{"owner":{"display_name":"user2039981"},"score":1,"creation_date":1562918873,"post_id":57002413,"comment_id":100538541,"body_markdown":"else if(e.getClass().getPackage().startsWith(&quot;java.net&quot;))","body":"else if(e.getClass().getPackage().startsWith(&quot;java.net&quot;))"}],"answers":[{"tags":[],"owner":{"account_id":7187279,"reputation":125,"user_id":5488843,"accept_rate":0,"display_name":"Sumit Kumawat"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1562917877,"creation_date":1562917877,"answer_id":57002481,"question_id":57002413,"body_markdown":"    Example\r\n    \r\n    Try{\r\n    \r\n    Code where your exception occuring\r\n    \r\n    }\r\n    \r\n    Catch(Exception e){\r\n     e.printStackTrace();\r\n    }","title":"How to handle all the java.net exceptions in a single catch block?","body":"<pre><code>Example\n\nTry{\n\nCode where your exception occuring\n\n}\n\nCatch(Exception e){\n e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2039981"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1562918566,"creation_date":1562918184,"answer_id":57002571,"question_id":57002413,"body_markdown":"java.net.Exception doesn&#39;t exist, java.lang.Exception does.\r\n\r\nTo check that the package is java.net, use e.getClass().getPackage():\r\n\r\n    catch(Exception e)\r\n    {\r\n        if(e instanceof org.openqa.selenium.WebDriverException)\r\n            sendException(&quot;Problem is with the selenium web driver&quot;);\r\n        else if(e.getClass().getPackage().startsWith(&quot;java.net&quot;))\r\n            sendException(&quot;There is some problem with the network&quot;);\r\n    }","title":"How to handle all the java.net exceptions in a single catch block?","body":"<p>java.net.Exception doesn't exist, java.lang.Exception does.</p>\n\n<p>To check that the package is java.net, use e.getClass().getPackage():</p>\n\n<pre><code>catch(Exception e)\n{\n    if(e instanceof org.openqa.selenium.WebDriverException)\n        sendException(\"Problem is with the selenium web driver\");\n    else if(e.getClass().getPackage().startsWith(\"java.net\"))\n        sendException(\"There is some problem with the network\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562918337,"creation_date":1562918337,"answer_id":57002615,"question_id":57002413,"body_markdown":"If there is no common superclass, there is no way to catch these exceptions in a single clause. You might want to check out this post, but I would agree with you that it&#39;s not pretty if you have to specify 12 exceptions:\r\n\r\nhttps://stackoverflow.com/questions/3495926/can-i-catch-multiple-java-exceptions-in-the-same-catch-clause","title":"How to handle all the java.net exceptions in a single catch block?","body":"<p>If there is no common superclass, there is no way to catch these exceptions in a single clause. You might want to check out this post, but I would agree with you that it's not pretty if you have to specify 12 exceptions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3495926/can-i-catch-multiple-java-exceptions-in-the-same-catch-clause\">Can I catch multiple Java exceptions in the same catch clause?</a></p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562920591,"creation_date":1562918549,"answer_id":57002676,"question_id":57002413,"body_markdown":"`java.net.Exception` doesn&#39;t exist and you cannot catch exceptions of classes from a specific package in this way.    \r\nConsidering that network exceptions always start by `java.net` is wrong too.   \r\nSome network exception don&#39;t start by `java.net` and exceptions can also be wrapped by another exception. For example `java.net.SocketException` could be wrapped by `java.lang.IllegalStateException`.  \r\nYou will not handle it because that is not a `java.net` exception.   \r\n\r\n\r\nHandling the exception with `instanceOf` looks not helpful either.   \r\nSpecifying a specific exception in the `catch` clause is enough.   \r\nNote also that an exception is self-explanatory and should contain in its state all relevant information : you don&#39;t need to map the exception to a textual message as you do.  \r\n\r\n   \r\nWhat you want to send/log is exploiting the exception class/message/cause/stracktrace associated to. What you do is just interpretation of the exception meaning that would be error prone.  \r\n\r\nso do that :\r\n\r\n\r\n    catch(Exception e){\r\n        sendException(e); \r\n    }\r\n\r\n    public void sendException(Exception e){\r\n       // exploit e.getClass(), e.getMessage() or e.getStackTrace()\r\n       ...\r\n    }\r\n\r\nNote that in some cases you want to catch some specific exceptions because you have a specific processing for them :\r\n\r\n    catch(WebDriverException e){\r\n         processWebDriverException(e);\r\n    }\r\n    catch(Exception e){\r\n         processAnyOtherException(e);\r\n    }\r\n\r\n","title":"How to handle all the java.net exceptions in a single catch block?","body":"<p><code>java.net.Exception</code> doesn't exist and you cannot catch exceptions of classes from a specific package in this way.<br>\nConsidering that network exceptions always start by <code>java.net</code> is wrong too.<br>\nSome network exception don't start by <code>java.net</code> and exceptions can also be wrapped by another exception. For example <code>java.net.SocketException</code> could be wrapped by <code>java.lang.IllegalStateException</code>.<br>\nYou will not handle it because that is not a <code>java.net</code> exception.   </p>\n\n<p>Handling the exception with <code>instanceOf</code> looks not helpful either.<br>\nSpecifying a specific exception in the <code>catch</code> clause is enough.<br>\nNote also that an exception is self-explanatory and should contain in its state all relevant information : you don't need to map the exception to a textual message as you do.  </p>\n\n<p>What you want to send/log is exploiting the exception class/message/cause/stracktrace associated to. What you do is just interpretation of the exception meaning that would be error prone.  </p>\n\n<p>so do that :</p>\n\n<pre><code>catch(Exception e){\n    sendException(e); \n}\n\npublic void sendException(Exception e){\n   // exploit e.getClass(), e.getMessage() or e.getStackTrace()\n   ...\n}\n</code></pre>\n\n<p>Note that in some cases you want to catch some specific exceptions because you have a specific processing for them :</p>\n\n<pre><code>catch(WebDriverException e){\n     processWebDriverException(e);\n}\ncatch(Exception e){\n     processAnyOtherException(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562918829,"creation_date":1562918829,"answer_id":57002747,"question_id":57002413,"body_markdown":"You can catch java.net Exceptions like this : \r\n\r\n```\r\ntry {\r\n\t\t\t\r\n}\r\ncatch (\r\n    BindException \r\n    | ConnectException \r\n\t| HttpRetryException\r\n\t| MalformedURLException\r\n\t| NoRouteToHostException\r\n\t| PortUnreachableException\r\n\t| ProtocolException\r\n\t| SocketException\r\n\t| SocketTimeoutException\r\n\t| UnknownHostException\r\n\t| UnknownServiceException\r\n\t| URISyntaxException\r\n\te\r\n){\r\n\t// do stuff with e\r\n}\r\n```\r\n\r\nBut what is the point if you are going to call `instanceof` after to process each exception differently? \r\n\r\nIn this case you should use different catch blocks.","title":"How to handle all the java.net exceptions in a single catch block?","body":"<p>You can catch java.net Exceptions like this : </p>\n\n<pre><code>try {\n\n}\ncatch (\n    BindException \n    | ConnectException \n    | HttpRetryException\n    | MalformedURLException\n    | NoRouteToHostException\n    | PortUnreachableException\n    | ProtocolException\n    | SocketException\n    | SocketTimeoutException\n    | UnknownHostException\n    | UnknownServiceException\n    | URISyntaxException\n    e\n){\n    // do stuff with e\n}\n</code></pre>\n\n<p>But what is the point if you are going to call <code>instanceof</code> after to process each exception differently? </p>\n\n<p>In this case you should use different catch blocks.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1702215618,"creation_date":1562923457,"answer_id":57004050,"question_id":57002413,"body_markdown":"First off, the reason that you can&#39;t catch `java.net.Exception` is that it doesn&#39;t exist!  The actual `Exception` class `java.lang.Exception` but that is NOT the exception you should be catching.\r\n\r\nSo what should you catch?\r\n\r\nUnfortunately, there there is no single supertype for all networking exceptions (and not non-networking exceptions).  Most networking exceptions have `java.io.IOException` as an ancestor, but many `IOException` subclasses are declared in `java.io` and other places and have nothing to do with networking.\r\n\r\n(One `java.net.*` exception that doesn&#39;t descend from `IOException`; i.e. `java.net.URISyntaxException`.  But that is an unchecked exception, and it is not indicative of a &quot;network problem&quot;.)\r\n\r\nSo one approach would be to catch `IOException`.  You could further refine this by using reflection to get the package name of the exception class (see https://stackoverflow.com/a/57002571/139985); e.g.\r\n\r\n    } catch (org.openqa.selenium.WebDriverException e) {\r\n        sendException(&quot;Problem is with the selenium web driver&quot;);\r\n    } catch (IOException e) {\r\n        if (e.getClass().getPackage().startsWith(&quot;java.net&quot;))\r\n            sendException(&quot;There is some problem with the network&quot;);\r\n        else {\r\n            throw e;  // Or diagnose differently\r\n        }\r\n    }\r\n\r\nBut there is another wrinkle: even `java.net.*` exceptions don&#39;t necessarily indicate a &quot;network problem&quot;.  For example, if you get an `UnknownHostException`, that&#39;s probably not a problem with the network.  It is more likely that you (or the user) have supplied the wrong hostname.  Likewise, some flavors of `ConnectException` indicate that the network is fine, but the required remote service is not running on that host.  It might be down, or you might have gotten the wrong host.\r\n\r\nFinally, if you translate all `java.net` exceptions to a simple catch-all &quot;network problem&quot; message, you will be discarding information that could be used to diagnose the actual problem.  So, I&#39;d advise you not to *try* to do what you are proposing.  Not even in a &quot;friendly&quot; user interface.","title":"How to handle all the java.net exceptions in a single catch block?","body":"<p>First off, the reason that you can't catch <code>java.net.Exception</code> is that it doesn't exist!  The actual <code>Exception</code> class <code>java.lang.Exception</code> but that is NOT the exception you should be catching.</p>\n<p>So what should you catch?</p>\n<p>Unfortunately, there there is no single supertype for all networking exceptions (and not non-networking exceptions).  Most networking exceptions have <code>java.io.IOException</code> as an ancestor, but many <code>IOException</code> subclasses are declared in <code>java.io</code> and other places and have nothing to do with networking.</p>\n<p>(One <code>java.net.*</code> exception that doesn't descend from <code>IOException</code>; i.e. <code>java.net.URISyntaxException</code>.  But that is an unchecked exception, and it is not indicative of a &quot;network problem&quot;.)</p>\n<p>So one approach would be to catch <code>IOException</code>.  You could further refine this by using reflection to get the package name of the exception class (see <a href=\"https://stackoverflow.com/a/57002571/139985\">https://stackoverflow.com/a/57002571/139985</a>); e.g.</p>\n<pre><code>} catch (org.openqa.selenium.WebDriverException e) {\n    sendException(&quot;Problem is with the selenium web driver&quot;);\n} catch (IOException e) {\n    if (e.getClass().getPackage().startsWith(&quot;java.net&quot;))\n        sendException(&quot;There is some problem with the network&quot;);\n    else {\n        throw e;  // Or diagnose differently\n    }\n}\n</code></pre>\n<p>But there is another wrinkle: even <code>java.net.*</code> exceptions don't necessarily indicate a &quot;network problem&quot;.  For example, if you get an <code>UnknownHostException</code>, that's probably not a problem with the network.  It is more likely that you (or the user) have supplied the wrong hostname.  Likewise, some flavors of <code>ConnectException</code> indicate that the network is fine, but the required remote service is not running on that host.  It might be down, or you might have gotten the wrong host.</p>\n<p>Finally, if you translate all <code>java.net</code> exceptions to a simple catch-all &quot;network problem&quot; message, you will be discarding information that could be used to diagnose the actual problem.  So, I'd advise you not to <em>try</em> to do what you are proposing.  Not even in a &quot;friendly&quot; user interface.</p>\n"}],"owner":{"account_id":9268066,"reputation":103,"user_id":11691886,"display_name":"Prasanth G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1641,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57002571,"answer_count":6,"score":2,"last_activity_date":1702215618,"creation_date":1562917640,"question_id":57002413,"body_markdown":"I am trying to handle the exceptions that are a part of the java.net package. I went through the [documentation](https://docs.oracle.com/javase/7/docs/api/java/net/package-summary.html) and I saw 12 exceptions belonging to that package, but I couldn&#39;t find the parent class of these exceptions.\r\n\r\nSo far what I have tried is:\r\n\r\n    catch(Exception e)\r\n    {\r\n        if(e instanceof org.openqa.selenium.WebDriverException)\r\n            sendException(&quot;Problem is with the selenium web driver&quot;);\r\n        else if(e instanceof java.net.Exception) //I need help with this line\r\n            sendException(&quot;There is some problem with the network&quot;);\r\n    }\r\n\r\nAfter trying this, I get the following error message\r\n&gt; unable to resolve class java.net.Exception \r\n\r\nHow can I catch the java.net exceptions?","title":"How to handle all the java.net exceptions in a single catch block?","body":"<p>I am trying to handle the exceptions that are a part of the java.net package. I went through the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a> and I saw 12 exceptions belonging to that package, but I couldn't find the parent class of these exceptions.</p>\n\n<p>So far what I have tried is:</p>\n\n<pre><code>catch(Exception e)\n{\n    if(e instanceof org.openqa.selenium.WebDriverException)\n        sendException(\"Problem is with the selenium web driver\");\n    else if(e instanceof java.net.Exception) //I need help with this line\n        sendException(\"There is some problem with the network\");\n}\n</code></pre>\n\n<p>After trying this, I get the following error message</p>\n\n<blockquote>\n  <p>unable to resolve class java.net.Exception </p>\n</blockquote>\n\n<p>How can I catch the java.net exceptions?</p>\n"},{"tags":["java","backtracking"],"answers":[{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702215113,"creation_date":1702211691,"answer_id":77634806,"question_id":77634689,"body_markdown":"Not sure I understood your code completely, because it is not in English and there are things like `PlaEstudis` which you didn&#39;t explain. Your problem is a combinatorial optimization problem known as Constraint Programming, which is known to be NP-Hard, so the larger the input the longer it will take.\r\n\r\nHowever, given your constraints (based only on your description, because the code is too cryptic), you can do something like this: \r\n\r\nAssuming you have a number of days `d` and number of tasks `n`, where `2d &gt;= n`.\r\n\r\n1. Sort your tasks by their cost (Perjudicats) highest cost first. \r\n\r\n2. Starting at the end of your array, allocate the first task (only) of each day to the next task from the list. So Day `d-1` Task 1 gets the most costly task, Day `d-2` Task 1 gets the next most costly etc. In the end of this step all days will have 1 task, with the most costly task at the last day. \r\n\r\n3. With the remaining unallocated tasks `n-d`, allocate Task 2 of each day, but now starting from Day 0 moving forwards. In the end you will have some days at the end with only 1 task, but they will be the most costly tasks. \r\n\r\nUnless I am missing something, you should have your costs distributed between all days.\r\n\r\n\r\n\r\n\r\n","title":"Backtracking optimization in java","body":"<p>Not sure I understood your code completely, because it is not in English and there are things like <code>PlaEstudis</code> which you didn't explain. Your problem is a combinatorial optimization problem known as Constraint Programming, which is known to be NP-Hard, so the larger the input the longer it will take.</p>\n<p>However, given your constraints (based only on your description, because the code is too cryptic), you can do something like this:</p>\n<p>Assuming you have a number of days <code>d</code> and number of tasks <code>n</code>, where <code>2d &gt;= n</code>.</p>\n<ol>\n<li><p>Sort your tasks by their cost (Perjudicats) highest cost first.</p>\n</li>\n<li><p>Starting at the end of your array, allocate the first task (only) of each day to the next task from the list. So Day <code>d-1</code> Task 1 gets the most costly task, Day <code>d-2</code> Task 1 gets the next most costly etc. In the end of this step all days will have 1 task, with the most costly task at the last day.</p>\n</li>\n<li><p>With the remaining unallocated tasks <code>n-d</code>, allocate Task 2 of each day, but now starting from Day 0 moving forwards. In the end you will have some days at the end with only 1 task, but they will be the most costly tasks.</p>\n</li>\n</ol>\n<p>Unless I am missing something, you should have your costs distributed between all days.</p>\n"}],"owner":{"account_id":7058257,"reputation":575,"user_id":5404647,"accept_rate":50,"display_name":"Norhther"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702215113,"creation_date":1702209543,"question_id":77634689,"body_markdown":"I have an optimization problem, where Im trying to schedule some tasks called Assignatura.\r\nMy representation is, if I have N days, for each one I can have two tasks, and I represent it using a single array. So this is, in the positions that are even, this is the first task of the day, and in the odd, the second ones. So position 0,1 represents the first day, 2,3 the second one, etc.\r\nThe restriction is that I need to have at least one Assignatura each day, trying to minimize a certain quantity for each day, called getPerjudicats.\r\n\r\nThis is my code:\r\n\r\n    package backtracking;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class SolucioCalendari {\r\n        private int nDays, nAssignInADay;\r\n        private boolean[] assignada;  // Track if an Assignatura has been assigned\r\n        private Assignatura[] solucio;  // Current solution attempt\r\n        private Assignatura[] millor_solucio;  // Best solution found so far\r\n        private int millor_cost;  // Cost of the best solution\r\n        private int assignades;  // Number of assigned Assignatura\r\n        private int cost_actual;  // Current cost\r\n        private Map&lt;String, Integer&gt; memoization;  // Cache for memoization\r\n    \r\n        public SolucioCalendari(int nDays, int nAssigInADay) {\r\n            if (nDays * nAssigInADay &lt; Assignatura.getPlaEstudis().length) {\r\n                throw new IllegalArgumentException(&quot;El nombre d&#39;assignatures es menor que nDays per nAssignInADay&quot;);\r\n            }\r\n            this.nDays = nDays;\r\n            this.nAssignInADay = nAssigInADay;\r\n            this.assignada = new boolean[Assignatura.getPlaEstudis().length];\r\n            this.solucio = new Assignatura[nAssigInADay * nDays];\r\n            this.millor_solucio = new Assignatura[nAssigInADay * nDays];\r\n            this.millor_cost = Integer.MAX_VALUE;\r\n            this.assignades = 0;\r\n            this.cost_actual = 0;\r\n            Arrays.fill(this.assignada, false);\r\n        }\r\n    \r\n        public void start() {\r\n            this.backMillorSolucio(0);\r\n        }\r\n    \r\n        private void backMillorSolucio(int dia) {\r\n            if (dia &gt;= this.solucio.length) {\r\n                if (assignades == Assignatura.getPlaEstudis().length &amp;&amp; this.millor_cost &gt; this.cost_actual) {\r\n                    this.millor_cost = this.cost_actual;\r\n                    this.millor_solucio = Arrays.copyOf(this.solucio, this.solucio.length);\r\n                }\r\n                return;\r\n            }\r\n    \r\n            int remainingAssignatura = Assignatura.getPlaEstudis().length - assignades;\r\n            int remainingSlots = this.solucio.length - dia;\r\n    \r\n            if (remainingAssignatura &gt; remainingSlots) {\r\n                return; //Cut off the recursion if impossible to assign all\r\n            }\r\n    \r\n            //Try not assigning an Assignatura only if it does not leave insufficient slots\r\n            if (remainingAssignatura &lt; remainingSlots) {\r\n                backMillorSolucio(dia + 1);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; Assignatura.getPlaEstudis().length; i++) {\r\n                if (!assignada[i]) {\r\n                    this.solucio[dia] = Assignatura.getPlaEstudis()[i];\r\n                    assignada[i] = true;\r\n                    assignades++;\r\n                    int previousCost = this.cost_actual;\r\n    \r\n                    boolean validAssignment = true;\r\n                    int perjudicatsCost = 0;\r\n    \r\n                    if (dia % 2 == 1 &amp;&amp; this.solucio[dia - 1] != null) {\r\n                        int codi_anterior = (this.solucio[dia - 1].getCodi() / 1000) % 10;\r\n                        int codi_actual = (this.solucio[dia].getCodi() / 1000) % 10;\r\n                        if (codi_anterior != codi_actual) {\r\n                            perjudicatsCost = Assignatura.getPerjudicats(\r\n                                Assignatura.assignatures.indexOf(this.solucio[dia - 1]),\r\n                                Assignatura.assignatures.indexOf(this.solucio[dia])\r\n                            );\r\n                            this.cost_actual += perjudicatsCost;\r\n                        } else {\r\n                            validAssignment = false;\r\n                        }\r\n                    }\r\n    \r\n                    if (validAssignment) {\r\n                        backMillorSolucio(dia + 1);\r\n                    }\r\n    \r\n                    this.cost_actual = previousCost;\r\n                    assignada[i] = false;\r\n                    assignades--;\r\n                    this.solucio[dia] = null;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public int getMillorResultat() {\r\n            return this.millor_cost;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder s = new StringBuilder();\r\n            for (Assignatura assignatura : millor_solucio) {\r\n                s.append(assignatura == null ? &quot;null &quot; : assignatura.toString()).append(&quot; &quot;);\r\n            }\r\n            return s.toString().trim();\r\n        }\r\n    \r\n        public void printaSolActual() {\r\n            for (Assignatura assignatura : solucio) {\r\n                System.out.print(assignatura + &quot; - &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nHowever, for real cases, this is tacking too long. Are there any ways to further optimize this? I tried removing some permutations only creating solutions with a certain order in Assignatura, removing bad branches... But it is not enough.\r\n\r\nThanks\r\n","title":"Backtracking optimization in java","body":"<p>I have an optimization problem, where Im trying to schedule some tasks called Assignatura.\nMy representation is, if I have N days, for each one I can have two tasks, and I represent it using a single array. So this is, in the positions that are even, this is the first task of the day, and in the odd, the second ones. So position 0,1 represents the first day, 2,3 the second one, etc.\nThe restriction is that I need to have at least one Assignatura each day, trying to minimize a certain quantity for each day, called getPerjudicats.</p>\n<p>This is my code:</p>\n<pre><code>package backtracking;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SolucioCalendari {\n    private int nDays, nAssignInADay;\n    private boolean[] assignada;  // Track if an Assignatura has been assigned\n    private Assignatura[] solucio;  // Current solution attempt\n    private Assignatura[] millor_solucio;  // Best solution found so far\n    private int millor_cost;  // Cost of the best solution\n    private int assignades;  // Number of assigned Assignatura\n    private int cost_actual;  // Current cost\n    private Map&lt;String, Integer&gt; memoization;  // Cache for memoization\n\n    public SolucioCalendari(int nDays, int nAssigInADay) {\n        if (nDays * nAssigInADay &lt; Assignatura.getPlaEstudis().length) {\n            throw new IllegalArgumentException(&quot;El nombre d'assignatures es menor que nDays per nAssignInADay&quot;);\n        }\n        this.nDays = nDays;\n        this.nAssignInADay = nAssigInADay;\n        this.assignada = new boolean[Assignatura.getPlaEstudis().length];\n        this.solucio = new Assignatura[nAssigInADay * nDays];\n        this.millor_solucio = new Assignatura[nAssigInADay * nDays];\n        this.millor_cost = Integer.MAX_VALUE;\n        this.assignades = 0;\n        this.cost_actual = 0;\n        Arrays.fill(this.assignada, false);\n    }\n\n    public void start() {\n        this.backMillorSolucio(0);\n    }\n\n    private void backMillorSolucio(int dia) {\n        if (dia &gt;= this.solucio.length) {\n            if (assignades == Assignatura.getPlaEstudis().length &amp;&amp; this.millor_cost &gt; this.cost_actual) {\n                this.millor_cost = this.cost_actual;\n                this.millor_solucio = Arrays.copyOf(this.solucio, this.solucio.length);\n            }\n            return;\n        }\n\n        int remainingAssignatura = Assignatura.getPlaEstudis().length - assignades;\n        int remainingSlots = this.solucio.length - dia;\n\n        if (remainingAssignatura &gt; remainingSlots) {\n            return; //Cut off the recursion if impossible to assign all\n        }\n\n        //Try not assigning an Assignatura only if it does not leave insufficient slots\n        if (remainingAssignatura &lt; remainingSlots) {\n            backMillorSolucio(dia + 1);\n        }\n\n        for (int i = 0; i &lt; Assignatura.getPlaEstudis().length; i++) {\n            if (!assignada[i]) {\n                this.solucio[dia] = Assignatura.getPlaEstudis()[i];\n                assignada[i] = true;\n                assignades++;\n                int previousCost = this.cost_actual;\n\n                boolean validAssignment = true;\n                int perjudicatsCost = 0;\n\n                if (dia % 2 == 1 &amp;&amp; this.solucio[dia - 1] != null) {\n                    int codi_anterior = (this.solucio[dia - 1].getCodi() / 1000) % 10;\n                    int codi_actual = (this.solucio[dia].getCodi() / 1000) % 10;\n                    if (codi_anterior != codi_actual) {\n                        perjudicatsCost = Assignatura.getPerjudicats(\n                            Assignatura.assignatures.indexOf(this.solucio[dia - 1]),\n                            Assignatura.assignatures.indexOf(this.solucio[dia])\n                        );\n                        this.cost_actual += perjudicatsCost;\n                    } else {\n                        validAssignment = false;\n                    }\n                }\n\n                if (validAssignment) {\n                    backMillorSolucio(dia + 1);\n                }\n\n                this.cost_actual = previousCost;\n                assignada[i] = false;\n                assignades--;\n                this.solucio[dia] = null;\n            }\n        }\n    }\n\n    public int getMillorResultat() {\n        return this.millor_cost;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder s = new StringBuilder();\n        for (Assignatura assignatura : millor_solucio) {\n            s.append(assignatura == null ? &quot;null &quot; : assignatura.toString()).append(&quot; &quot;);\n        }\n        return s.toString().trim();\n    }\n\n    public void printaSolActual() {\n        for (Assignatura assignatura : solucio) {\n            System.out.print(assignatura + &quot; - &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>However, for real cases, this is tacking too long. Are there any ways to further optimize this? I tried removing some permutations only creating solutions with a certain order in Assignatura, removing bad branches... But it is not enough.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","telegram-bot"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1702215778,"post_id":77634990,"comment_id":136866814,"body_markdown":"It&#39;s just a normal reply.","body":"It&#39;s just a normal reply."}],"owner":{"account_id":30111355,"reputation":1,"user_id":23075807,"display_name":"mxmm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702214914,"creation_date":1702214914,"question_id":77634990,"body_markdown":"`That is: the first line displays the user&#39;s nickname and the second line is: the user&#39;s problem\r\nThe third line is: System processing\r\n\r\nWhen the processing is completed, it will be processed into my normal reply words.\r\n\r\nScreenshot below\r\n[enter image description here](https://i.stack.imgur.com/EXhoQ.jpg)","title":"How does telegram bot achieve the following effects","body":"<p>`That is: the first line displays the user's nickname and the second line is: the user's problem\nThe third line is: System processing</p>\n<p>When the processing is completed, it will be processed into my normal reply words.</p>\n<p>Screenshot below\n<a href=\"https://i.stack.imgur.com/EXhoQ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"score":1,"creation_date":1702134300,"post_id":77631730,"comment_id":136861063,"body_markdown":"Refer https://stackoverflow.com/questions/1905470/cannot-delete-or-update-a-parent-row-a-foreign-key-constraint-fails","body":"Refer <a href=\"https://stackoverflow.com/questions/1905470/cannot-delete-or-update-a-parent-row-a-foreign-key-constraint-fails\" title=\"cannot delete or update a parent row a foreign key constraint fails\">stackoverflow.com/questions/1905470/&hellip;</a>"},{"owner":{"account_id":30105621,"reputation":1,"user_id":23071545,"display_name":"itachi_zhm"},"score":0,"creation_date":1702135081,"post_id":77631730,"comment_id":136861145,"body_markdown":"The issue persists even after adding the ON DELETE CASCADE option to each referential integrity constraint.","body":"The issue persists even after adding the ON DELETE CASCADE option to each referential integrity constraint."}],"owner":{"account_id":30105621,"reputation":1,"user_id":23071545,"display_name":"itachi_zhm"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702139959,"answer_count":0,"score":-3,"last_activity_date":1702214367,"creation_date":1702134102,"question_id":77631730,"body_markdown":"**important** \r\nThe issue persists even after adding the ON DELETE CASCADE option to each referential integrity constraint.\r\n\r\n**database schema :**\r\n\r\n```sql\r\nCREATE TABLE utilisateurs(\r\n    id_utilisateur Int  Auto_increment  NOT NULL ,\r\n    nom    Varchar (50) NOT NULL ,\r\n    prenom         Varchar (50) NOT NULL ,\r\n    email          Varchar (100) NOT NULL ,\r\n    password       Varchar (100) NOT NULL ,\r\n    sexe           enum(&#39;M&#39;,&#39;F&#39;) NOT NULL,\r\n    type           enum(&#39;patient&#39;,&#39;medecin&#39;) NOT NULL ,\r\n    num_tel        Varchar (20) NOT NULL,\r\n    CONSTRAINT utilisateurs_PK PRIMARY KEY (id_utilisateur)\r\n);\r\n\r\nCREATE TABLE patients(\r\n    id_patient Int  Auto_increment  NOT NULL ,\r\n    estMalade  Bool NOT NULL ,\r\n    id_dossier_medicale Int DEFAULT NULL,\r\n    id_utilisateur Int NOT NULL,\r\n    CONSTRAINT patients_PK PRIMARY KEY (id_patient)\r\n);\r\n\r\nCREATE TABLE dossier_medicale(\r\n    id_dossier_medicale Int  Auto_increment  NOT NULL ,\r\n    id_patient Int NOT NULL,\r\n    CONSTRAINT dossier_medicale_PK PRIMARY KEY (id_dossier_medicale)\r\n);\r\n\r\nALTER TABLE patients\r\n    ADD CONSTRAINT patients_dossier_medicale0_FK\r\n    FOREIGN KEY (id_dossier_medicale)\r\n    REFERENCES dossier_medicale(id_dossier_medicale)\r\n    on delete cascade;\r\n\r\nALTER TABLE patients\r\n    ADD CONSTRAINT patients_utilisateurs1_FK\r\n    FOREIGN KEY (id_utilisateur)\r\n    REFERENCES utilisateurs(id_utilisateur)\r\n    on delete cascade;\r\n    \r\nALTER TABLE dossier_medicale\r\n    ADD CONSTRAINT Dossier_medicale_Patients0_FK\r\n    FOREIGN KEY (id_patient)\r\n    REFERENCES patients(id_patient)\r\n    on delete cascade;\r\n```\r\n\r\n** Deletion code : **\r\n\r\n    public void supprimerPatient(int id_utilisateur) { \t\t// TODO Auto-generated method stub \t\tConnection connexion = null; \t\tPreparedStatement preparedStatement = null;\r\n    \t\t \t\ttry { \t\t\tconnexion = dao_factory.getConnection();\r\n    \t        preparedStatement = connexion.prepareStatement(&quot;DELETE FROM utilisateurs WHERE id_utilisateur = ?&quot;);\r\n    \t        preparedStatement.setInt(1, id_utilisateur);\r\n    \t        preparedStatement.executeUpdate();\r\n    \t        } catch (SQLException e) {\r\n    \t            e.printStackTrace(); // G&#233;rer l&#39;exception de mani&#232;re appropri&#233;e\r\n    \t        }\r\n    \t\t \t}\r\n\r\n\r\n\r\n**I am facing an issue when attempting to delete a user in my database. The database schema includes tables for users, patients, and medical records. The error I encounter is:**\r\nCannot delete or update a parent row: a foreign key constraint fails (`medicareconnect`.`dossier_medicale`, CONSTRAINT `Dossier_medicale_Patients0_FK` FOREIGN KEY (`id_patient`) REFERENCES `patients` (`id_patient`))\r\n","title":"Error :Cannot delete or update a parent row: a foreign key constraint fails","body":"<p><strong>important</strong>\nThe issue persists even after adding the ON DELETE CASCADE option to each referential integrity constraint.</p>\n<p><strong>database schema :</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE utilisateurs(\n    id_utilisateur Int  Auto_increment  NOT NULL ,\n    nom    Varchar (50) NOT NULL ,\n    prenom         Varchar (50) NOT NULL ,\n    email          Varchar (100) NOT NULL ,\n    password       Varchar (100) NOT NULL ,\n    sexe           enum('M','F') NOT NULL,\n    type           enum('patient','medecin') NOT NULL ,\n    num_tel        Varchar (20) NOT NULL,\n    CONSTRAINT utilisateurs_PK PRIMARY KEY (id_utilisateur)\n);\n\nCREATE TABLE patients(\n    id_patient Int  Auto_increment  NOT NULL ,\n    estMalade  Bool NOT NULL ,\n    id_dossier_medicale Int DEFAULT NULL,\n    id_utilisateur Int NOT NULL,\n    CONSTRAINT patients_PK PRIMARY KEY (id_patient)\n);\n\nCREATE TABLE dossier_medicale(\n    id_dossier_medicale Int  Auto_increment  NOT NULL ,\n    id_patient Int NOT NULL,\n    CONSTRAINT dossier_medicale_PK PRIMARY KEY (id_dossier_medicale)\n);\n\nALTER TABLE patients\n    ADD CONSTRAINT patients_dossier_medicale0_FK\n    FOREIGN KEY (id_dossier_medicale)\n    REFERENCES dossier_medicale(id_dossier_medicale)\n    on delete cascade;\n\nALTER TABLE patients\n    ADD CONSTRAINT patients_utilisateurs1_FK\n    FOREIGN KEY (id_utilisateur)\n    REFERENCES utilisateurs(id_utilisateur)\n    on delete cascade;\n    \nALTER TABLE dossier_medicale\n    ADD CONSTRAINT Dossier_medicale_Patients0_FK\n    FOREIGN KEY (id_patient)\n    REFERENCES patients(id_patient)\n    on delete cascade;\n</code></pre>\n<p>** Deletion code : **</p>\n<pre><code>public void supprimerPatient(int id_utilisateur) {      // TODO Auto-generated method stub      Connection connexion = null;        PreparedStatement preparedStatement = null;\n                try {           connexion = dao_factory.getConnection();\n            preparedStatement = connexion.prepareStatement(&quot;DELETE FROM utilisateurs WHERE id_utilisateur = ?&quot;);\n            preparedStatement.setInt(1, id_utilisateur);\n            preparedStatement.executeUpdate();\n            } catch (SQLException e) {\n                e.printStackTrace(); // Gérer l'exception de manière appropriée\n            }\n            }\n</code></pre>\n<p><strong>I am facing an issue when attempting to delete a user in my database. The database schema includes tables for users, patients, and medical records. The error I encounter is:</strong>\nCannot delete or update a parent row: a foreign key constraint fails (<code>medicareconnect</code>.<code>dossier_medicale</code>, CONSTRAINT <code>Dossier_medicale_Patients0_FK</code> FOREIGN KEY (<code>id_patient</code>) REFERENCES <code>patients</code> (<code>id_patient</code>))</p>\n"},{"tags":["java","jframe","jpanel","imageicon"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702202823,"post_id":77634130,"comment_id":136865854,"body_markdown":"as often seen on this site, do not use `ImageIcon` to **load** the images, prefer `ImageIO.read()` (`ImageIcon` is known for **not** throwing any exception if the file is not found - it just *returns* an `Image` with dimension -1 x -1 - code must check the size to recognize the missing image, otherwise nothing is shown)","body":"as often seen on this site, do not use <code>ImageIcon</code> to <b>load</b> the images, prefer <code>ImageIO.read()</code> (<code>ImageIcon</code> is known for <b>not</b> throwing any exception if the file is not found - it just <i>returns</i> an <code>Image</code> with dimension -1 x -1 - code must check the size to recognize the missing image, otherwise nothing is shown)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1702202921,"post_id":77634130,"comment_id":136865857,"body_markdown":"`ImageIcon(String)` will look for a file (named `rocket.png` in this case) within the current working directory &lt;- this is important as the &quot;working directory&quot; isn&#39;t always where the compiled code is.  So, the first thing would be to determine the working directory, you can use `System.out.println(System.getProperty(&quot;user.dir&quot;));` to print the current working directory.  You would then place your image file in this directory and try running the code again.","body":"<code>ImageIcon(String)</code> will look for a file (named <code>rocket.png</code> in this case) within the current working directory &lt;- this is important as the &quot;working directory&quot; isn&#39;t always where the compiled code is.  So, the first thing would be to determine the working directory, you can use <code>System.out.println(System.getProperty(&quot;user.dir&quot;));</code> to print the current working directory.  You would then place your image file in this directory and try running the code again."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1702202946,"post_id":77634130,"comment_id":136865861,"body_markdown":"Remember, `ImageIcon` will fail silently, this is why we recommend using [`ImageIO.read`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) - this will provide you with more information about why the image wasn&#39;t loaded. Also remember, the working directory can change, which is why, for read only resources, you should embed them within the application context - how this is done will depend on your build process, but essentially is a process by which the resources are bundled with the class files - you then use `Class#getResource` to obtain a reference to them","body":"Remember, <code>ImageIcon</code> will fail silently, this is why we recommend using <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO.read</code></a> - this will provide you with more information about why the image wasn&#39;t loaded. Also remember, the working directory can change, which is why, for read only resources, you should embed them within the application context - how this is done will depend on your build process, but essentially is a process by which the resources are bundled with the class files - you then use <code>Class#getResource</code> to obtain a reference to them"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1702210093,"post_id":77634130,"comment_id":136866366,"body_markdown":"Please don&#39;t use a `null` layout. There are layout managers that you should use instead: https://docs.oracle.com/javase%2Ftutorial%2F/uiswing/layout/visual.html. These will help you displaying everything correctly","body":"Please don&#39;t use a <code>null</code> layout. There are layout managers that you should use instead: <a href=\"https://docs.oracle.com/javase%2Ftutorial%2F/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase%2Ftutorial%2F/uiswing/layout/visual.h&zwnj;&#8203;tml</a>. These will help you displaying everything correctly"}],"answers":[{"tags":[],"owner":{"account_id":25393624,"reputation":134,"user_id":19204200,"display_name":"Patrick Cumpa"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1702214254,"creation_date":1702214254,"answer_id":77634954,"question_id":77634130,"body_markdown":"Change this:\r\n\r\n    icon=new ImageIcon(&quot;rocket.png&quot;);\r\n\r\nto:\r\n\r\n    icon=new ImageIcon(&quot;src\\\\rocket.png&quot;);","title":"I can&#39;t get the ImageIcon to display properly","body":"<p>Change this:</p>\n<pre><code>icon=new ImageIcon(&quot;rocket.png&quot;);\n</code></pre>\n<p>to:</p>\n<pre><code>icon=new ImageIcon(&quot;src\\\\rocket.png&quot;);\n</code></pre>\n"}],"owner":{"account_id":30109641,"reputation":1,"user_id":23074496,"display_name":"Thwoopster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702214254,"creation_date":1702196485,"question_id":77634130,"body_markdown":"Everything works except when I push run, it doesn&#39;t show the icon for the label in the JFrame. Does anyone know how to fix that?\r\n\r\n```\r\npublic class Frame extends JFrame\r\n{\r\n    private final int speed=5;\r\n    JLabel label;\r\n    ImageIcon icon;\r\n    public void create() {\r\n        this.setSize(240,228);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setLocationRelativeTo(null);\r\n        this.addKeyListener(this);\r\n        this.setLayout(null);\r\n        icon=new ImageIcon(&quot;rocket.png&quot;);\r\n        label=new JLabel();\r\n        label.setBounds(0,0,100,100);\r\n        label.setIcon(icon);\r\n        this.add(label);\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried renaming the file, putting it in several different spots in the code, and even looked up a tutorial or two, but none of them helped.","title":"I can&#39;t get the ImageIcon to display properly","body":"<p>Everything works except when I push run, it doesn't show the icon for the label in the JFrame. Does anyone know how to fix that?</p>\n<pre><code>public class Frame extends JFrame\n{\n    private final int speed=5;\n    JLabel label;\n    ImageIcon icon;\n    public void create() {\n        this.setSize(240,228);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);\n        this.addKeyListener(this);\n        this.setLayout(null);\n        icon=new ImageIcon(&quot;rocket.png&quot;);\n        label=new JLabel();\n        label.setBounds(0,0,100,100);\n        label.setIcon(icon);\n        this.add(label);\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>I've tried renaming the file, putting it in several different spots in the code, and even looked up a tutorial or two, but none of them helped.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":408579,"reputation":9103,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1702213920,"creation_date":1702213920,"answer_id":77634931,"question_id":77634917,"body_markdown":"I know very little of spring security, but `.roles(&quot;EMPLOYEE, MANAGER, ADMIN&quot;)` why comma separated entries in a single string? [looking at the docs](https://docs.spring.io/spring-security/site/docs/4.2.15.RELEASE/apidocs/org/springframework/security/core/userdetails/User.UserBuilder.html#roles-java.lang.String...-) shouldn&#39;t that be a list like: `.roles(&quot;EMPLOYEE&quot;, &quot;MANAGER&quot;, &quot;ADMIN&quot;)`","title":"Spring Security Role Based Authorization is not working","body":"<p>I know very little of spring security, but <code>.roles(&quot;EMPLOYEE, MANAGER, ADMIN&quot;)</code> why comma separated entries in a single string? <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.15.RELEASE/apidocs/org/springframework/security/core/userdetails/User.UserBuilder.html#roles-java.lang.String...-\" rel=\"nofollow noreferrer\">looking at the docs</a> shouldn't that be a list like: <code>.roles(&quot;EMPLOYEE&quot;, &quot;MANAGER&quot;, &quot;ADMIN&quot;)</code></p>\n"}],"owner":{"account_id":10330272,"reputation":79,"user_id":7620351,"display_name":"Abhishek Satyavolu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77634931,"answer_count":1,"score":0,"last_activity_date":1702213920,"creation_date":1702213606,"question_id":77634917,"body_markdown":"I&#39;m implementing Spring Security in a demo Spring Boot project, I have implemented the following Spring Security Authorization for the URLs. But, I&#39;m unable to access the `GET APIs` with the `MANAGER` and `ADMIN` roles. Also, when I try to access the `DELETE API` with the `ADMIN` role, I get `403 Forbidden`. I&#39;m  not sure what the issue is.\r\n\r\n    @Configuration\r\n    public class DemoSecurityConfig\r\n    {\r\n        @Bean\r\n        public InMemoryUserDetailsManager userDetailsManager()\r\n        {\r\n            UserDetails john = User.builder()\r\n                .username(&quot;john&quot;)\r\n                .password(&quot;{noop}test123&quot;)\r\n                .roles(&quot;EMPLOYEE&quot;)\r\n                .build();\r\n\r\n            UserDetails mary = User.builder()\r\n                .username(&quot;mary&quot;)\r\n                .password(&quot;{noop}test123&quot;)\r\n                .roles(&quot;EMPLOYEE, MANAGER&quot;)\r\n                .build();\r\n\r\n            UserDetails susan = User.builder()\r\n                .username(&quot;susan&quot;)\r\n                .password(&quot;{noop}test123&quot;)\r\n                .roles(&quot;EMPLOYEE, MANAGER, ADMIN&quot;)\r\n                .build();\r\n\r\n            return new InMemoryUserDetailsManager(john, mary, susan);\r\n        }\r\n\r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n        {\r\n            http.authorizeHttpRequests(configurer-&gt;\r\n                configurer\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/employees/&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n                        .requestMatchers(HttpMethod.PUT, &quot;/api/employees/**&quot;).hasRole(&quot;MANAGER&quot;)\r\n                        .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n            );\r\n            http.httpBasic(Customizer.withDefaults());\r\n            http.csrf(csrf-&gt;csrf.disable());\r\n            return http.build();\r\n        }\r\n    }\r\n\r\nThanks for the help.","title":"Spring Security Role Based Authorization is not working","body":"<p>I'm implementing Spring Security in a demo Spring Boot project, I have implemented the following Spring Security Authorization for the URLs. But, I'm unable to access the <code>GET APIs</code> with the <code>MANAGER</code> and <code>ADMIN</code> roles. Also, when I try to access the <code>DELETE API</code> with the <code>ADMIN</code> role, I get <code>403 Forbidden</code>. I'm  not sure what the issue is.</p>\n<pre><code>@Configuration\npublic class DemoSecurityConfig\n{\n    @Bean\n    public InMemoryUserDetailsManager userDetailsManager()\n    {\n        UserDetails john = User.builder()\n            .username(&quot;john&quot;)\n            .password(&quot;{noop}test123&quot;)\n            .roles(&quot;EMPLOYEE&quot;)\n            .build();\n\n        UserDetails mary = User.builder()\n            .username(&quot;mary&quot;)\n            .password(&quot;{noop}test123&quot;)\n            .roles(&quot;EMPLOYEE, MANAGER&quot;)\n            .build();\n\n        UserDetails susan = User.builder()\n            .username(&quot;susan&quot;)\n            .password(&quot;{noop}test123&quot;)\n            .roles(&quot;EMPLOYEE, MANAGER, ADMIN&quot;)\n            .build();\n\n        return new InMemoryUserDetailsManager(john, mary, susan);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n    {\n        http.authorizeHttpRequests(configurer-&gt;\n            configurer\n                    .requestMatchers(HttpMethod.GET, &quot;/api/employees/&quot;).hasRole(&quot;EMPLOYEE&quot;)\n                    .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\n                    .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n                    .requestMatchers(HttpMethod.PUT, &quot;/api/employees/**&quot;).hasRole(&quot;MANAGER&quot;)\n                    .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;)\n        );\n        http.httpBasic(Customizer.withDefaults());\n        http.csrf(csrf-&gt;csrf.disable());\n        return http.build();\n    }\n}\n</code></pre>\n<p>Thanks for the help.</p>\n"},{"tags":["java","arrays","tostring","multidimensional-array"],"comments":[{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1384719801,"post_id":20035669,"comment_id":29838476,"body_markdown":"Maybe it doesn&#39;t like the extra space at the beginning of every line.  Is it possible for you to post the test code, so we can see?","body":"Maybe it doesn&#39;t like the extra space at the beginning of every line.  Is it possible for you to post the test code, so we can see?"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1384719908,"post_id":20035669,"comment_id":29838507,"body_markdown":"Since your code works as expected, you have to tell us what the expected output (aka: tests) look like.","body":"Since your code works as expected, you have to tell us what the expected output (aka: tests) look like."},{"owner":{"account_id":3515960,"reputation":11,"user_id":2939395,"accept_rate":20,"display_name":"Alex A"},"score":0,"creation_date":1384722291,"post_id":20035669,"comment_id":29839276,"body_markdown":"It could possibly be the extra space at the beginning, however I do not see the space in the output when I do it. Where could I post the test code for you guys to see it? @DavidWallace","body":"It could possibly be the extra space at the beginning, however I do not see the space in the output when I do it. Where could I post the test code for you guys to see it? @DavidWallace"},{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1384723204,"post_id":20035669,"comment_id":29839554,"body_markdown":"Edit the question.  Append the test code to it.","body":"Edit the question.  Append the test code to it."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1384720199,"creation_date":1384720199,"answer_id":20035765,"question_id":20035669,"body_markdown":"Your code is basically OK, except you are putting a leading space at the start of every line. To clean them up before returning, add this line:\r\n\r\n    aString = aString.replaceAll(&quot;(?m)^ &quot;, &quot;&quot;);\r\n\r\nThis uses regex to delete (by replacing with a blank) all spaces at the start of lines. The regex flag `(?m)` makes `^` match the start of every line of the input (normally `^` matches only the start of input).","title":"2 dimensional array to string code java","body":"<p>Your code is basically OK, except you are putting a leading space at the start of every line. To clean them up before returning, add this line:</p>\n\n<pre><code>aString = aString.replaceAll(\"(?m)^ \", \"\");\n</code></pre>\n\n<p>This uses regex to delete (by replacing with a blank) all spaces at the start of lines. The regex flag <code>(?m)</code> makes <code>^</code> match the start of every line of the input (normally <code>^</code> matches only the start of input).</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384720468,"creation_date":1384720468,"answer_id":20035823,"question_id":20035669,"body_markdown":"I can think of three possible issues.\r\n\r\n1. The test code doesn&#39;t want to see the space that you are putting at the beginning of every line.\r\n2. The test code is passing an array where some of the entries are null.  Your code doesn&#39;t cope with this.\r\n3.  The test code is passing an array where the entries have different lengths.  Your code doesn&#39;t cope with this either.\r\n\r\nUntil you post the test code, we can&#39;t see which one the problem is.  But you could deal with all three by changing your loop to this.\r\n\r\n    for (row = 0; row &lt; a.length; row++) {\r\n        if (a[row] != null &amp;&amp; a[row].length &gt; 0) {\r\n            aString = aString + a[row][0];\r\n\r\n            for (column = 1; column &lt; a[row].length; column++) {\r\n                aString = aString + &quot; &quot; + a[row][column];\r\n            }\r\n        }\r\n        aString = aString + &quot;\\n&quot;;\r\n    }\r\n\r\n","title":"2 dimensional array to string code java","body":"<p>I can think of three possible issues.</p>\n\n<ol>\n<li>The test code doesn't want to see the space that you are putting at the beginning of every line.</li>\n<li>The test code is passing an array where some of the entries are null.  Your code doesn't cope with this.</li>\n<li>The test code is passing an array where the entries have different lengths.  Your code doesn't cope with this either.</li>\n</ol>\n\n<p>Until you post the test code, we can't see which one the problem is.  But you could deal with all three by changing your loop to this.</p>\n\n<pre><code>for (row = 0; row &lt; a.length; row++) {\n    if (a[row] != null &amp;&amp; a[row].length &gt; 0) {\n        aString = aString + a[row][0];\n\n        for (column = 1; column &lt; a[row].length; column++) {\n            aString = aString + \" \" + a[row][column];\n        }\n    }\n    aString = aString + \"\\n\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1554438,"reputation":630,"user_id":1446006,"accept_rate":20,"display_name":"Martin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384721079,"creation_date":1384721079,"answer_id":20035944,"question_id":20035669,"body_markdown":"    int[][] a = new int[][]{{1,2,3},{4,5,6},{7,8,9}};\r\n\r\n    public static String arrayToString(int[][] a) {\r\n    \r\n        String aString;     \r\n        aString = &quot;&quot;;\r\n        int column;\r\n        int row;\r\n    \r\n        for (row = 0; row &lt; a.length; row++) {\r\n            for (column = 0; column &lt; a[0].length; column++ ) {\r\n            aString = aString + &quot; &quot; + a[row][column];\r\n            }\r\n        aString = aString + &quot;\\n&quot;;\r\n        }\r\n    \r\n        return aString;\r\n    }\r\n\r\nOutput:\r\n\r\n    1 2 3\r\n    4 5 6\r\n    7 8 9\r\n\r\nIf you skip this line `aString = aString + &quot;\\n&quot;;` your output will look like this\r\n\r\n    1 2 3 4 5 6 7 8 9","title":"2 dimensional array to string code java","body":"<pre><code>int[][] a = new int[][]{{1,2,3},{4,5,6},{7,8,9}};\n\npublic static String arrayToString(int[][] a) {\n\n    String aString;     \n    aString = \"\";\n    int column;\n    int row;\n\n    for (row = 0; row &lt; a.length; row++) {\n        for (column = 0; column &lt; a[0].length; column++ ) {\n        aString = aString + \" \" + a[row][column];\n        }\n    aString = aString + \"\\n\";\n    }\n\n    return aString;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1 2 3\n4 5 6\n7 8 9\n</code></pre>\n\n<p>If you skip this line <code>aString = aString + \"\\n\";</code> your output will look like this</p>\n\n<pre><code>1 2 3 4 5 6 7 8 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7818645,"reputation":2089,"user_id":5912422,"display_name":"Valentin Michalak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523609277,"creation_date":1523608875,"answer_id":49812753,"question_id":20035669,"body_markdown":"@dawood-ibn-kareem explain good the possible cause of the failure of the test.\r\n\r\nWith Java 8 Stream, it&#39;s pretty easy to do what you want!\r\n\r\nWith the input: [[1,2,3], [3,4,5], [5,6,7]]\r\n\r\n    public static String arrayToString(int[][] a) {\r\n        return Arrays.stream(a)\r\n                .map(s -&gt; Arrays.stream(s)\r\n                                .mapToObj(String::valueOf)\r\n                                .collect(Collectors.joining(&quot; &quot;))\r\n                )\r\n                .collect(Collectors.joining(&quot;\\n&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n    1 2 3\r\n    3 4 5\r\n    5 6 7\r\n\r\n\r\nOther method, to separate each line of the 2D array without carriage return\r\n\r\n    public static String arrayToString(int[][] a) {\r\n        return Arrays.stream(a)\r\n                .flatMapToInt(Arrays::stream)\r\n                .mapToObj(String::valueOf)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n    }\r\n\r\nOutput\r\n\r\n    1 2 3 3 4 5 5 6 7\r\n\r\n\r\nHave fun!","title":"2 dimensional array to string code java","body":"<p>@dawood-ibn-kareem explain good the possible cause of the failure of the test.</p>\n\n<p>With Java 8 Stream, it's pretty easy to do what you want!</p>\n\n<p>With the input: [[1,2,3], [3,4,5], [5,6,7]]</p>\n\n<pre><code>public static String arrayToString(int[][] a) {\n    return Arrays.stream(a)\n            .map(s -&gt; Arrays.stream(s)\n                            .mapToObj(String::valueOf)\n                            .collect(Collectors.joining(\" \"))\n            )\n            .collect(Collectors.joining(\"\\n\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1 2 3\n3 4 5\n5 6 7\n</code></pre>\n\n<p>Other method, to separate each line of the 2D array without carriage return</p>\n\n<pre><code>public static String arrayToString(int[][] a) {\n    return Arrays.stream(a)\n            .flatMapToInt(Arrays::stream)\n            .mapToObj(String::valueOf)\n            .collect(Collectors.joining(\" \"));\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>1 2 3 3 4 5 5 6 7\n</code></pre>\n\n<p>Have fun!</p>\n"}],"owner":{"account_id":3515960,"reputation":11,"user_id":2939395,"accept_rate":20,"display_name":"Alex A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13932,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1702213470,"creation_date":1384719615,"question_id":20035669,"body_markdown":"For a program I have to write I am required to turn a 2 dimensional array of single digit intgers into a string of numbers separated by spaces. A test code is provided for me and when I run it, my code fails both arrayToString tests. I am unable to find where my logic error is. Someone help!\r\n\r\n    public static String arrayToString(int[][] a) {\r\n\t\r\n\t\tString aString;\t\t\r\n\t\taString = &quot;&quot;;\r\n\t\tint column;\r\n\t\tint row;\r\n\t\t\r\n\t\tfor (row = 0; row &lt; a.length; row++) {\r\n\t\t\tfor (column = 0; column &lt; a[0].length; column++ ) {\r\n\t\t\taString = aString + &quot; &quot; + a[row][column];\r\n\t\t\t}\r\n\t\taString = aString + &quot;\\n&quot;;\r\n\t\t}\r\n\t\t\r\n\t\treturn aString;\r\n\t}","title":"2 dimensional array to string code java","body":"<p>For a program I have to write I am required to turn a 2 dimensional array of single digit intgers into a string of numbers separated by spaces. A test code is provided for me and when I run it, my code fails both arrayToString tests. I am unable to find where my logic error is. Someone help!</p>\n\n<pre><code>public static String arrayToString(int[][] a) {\n\n    String aString;     \n    aString = \"\";\n    int column;\n    int row;\n\n    for (row = 0; row &lt; a.length; row++) {\n        for (column = 0; column &lt; a[0].length; column++ ) {\n        aString = aString + \" \" + a[row][column];\n        }\n    aString = aString + \"\\n\";\n    }\n\n    return aString;\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"owner":{"account_id":30102122,"reputation":9,"user_id":23068928,"display_name":"idiot_sandwich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1702127048,"answer_count":0,"score":0,"last_activity_date":1702212497,"creation_date":1702086493,"question_id":77629877,"body_markdown":"I have recently upgraded to Spring Boot 3 and thus Hibernate 6. I have some logic in place for calculating the time difference in days for two dates using `CriteriaBuilder`.\r\n\r\n```java\r\nExpression&lt;String&gt; day = new UnitExpression(null, String.class, &quot;DAY&quot;);\r\nExpression&lt;Integer&gt; timeDiff = builder.function(\r\n            &quot;TIMESTAMPDIFF&quot;,\r\n            Integer.class,\r\n            day,\r\n            root.&lt;LocalDateTime&gt;get(&quot;startDate&quot;),\r\n            root.&lt;LocalDateTime&gt;get(&quot;endDate&quot;))\r\n    );\r\n```\r\n\r\n`UnitExpression` is a custom class:\r\n\r\n```java\r\npublic class UnitExpression extends BasicFunctionExpression&lt;String&gt; implements Serializable {\r\n\r\n  public UnitExpression(CriteriaBuilderImpl builder, Class&lt;String&gt; type,\r\n      String functionName) {\r\n    super(builder, type, functionName);\r\n  }\r\n\r\n  @Override\r\n  public String render(RenderingContext renderingContext) {\r\n    return getFunctionName();\r\n  }\r\n\r\n}\r\n```\r\n\r\nAfter upgrading to SB3 I am now getting a compilation error in `UnitExpression.java`. It looks like `BasicFunctionExpression` was removed.\r\n\r\nDoes anyone know an alternative approach?\r\n\r\nI have tried the below\r\n\r\n```java\r\nExpression&lt;TemporalUnit&gt; day = builder.literal(TemporalUnit.DAY);\r\nExpression&lt;Integer&gt; timeDiff = builder.function(\r\n            &quot;TIMESTAMPDIFF&quot;,\r\n            Integer.class,\r\n            day,\r\n            root.&lt;LocalDateTime&gt;get(&quot;startDate&quot;),\r\n            root.&lt;LocalDateTime&gt;get(&quot;endDate&quot;))\r\n    );\r\n```\r\n\r\nbut I am getting an error:\r\n\r\n```log\r\njava.lang.ClassCastException: class org.hibernate.query.sqm.tree.expression.SqmLiteral cannot be cast to class org.hibernate.query.sqm.tree.expression.SqmDurationUnit\r\n```\r\n\r\nPerhaps using `builder.literal(..)` is not the correct approach? Is there another method that should be used? \r\n\r\n\r\nI have also tried `Expression&lt;String&gt; day = builder.literal(TemporalUnit.DAY.name());` but then I get this error:\r\n\r\n```log\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: Parameter 1 of function timestampdiff() has type TEMPORAL_UNIT, but argument is of type java.lang.Object\r\n```","title":"Hibernate 6 / JPA Criteria using TIMESTAMPDIFF; Removal of BasicFunctionExpression","body":"<p>I have recently upgraded to Spring Boot 3 and thus Hibernate 6. I have some logic in place for calculating the time difference in days for two dates using <code>CriteriaBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expression&lt;String&gt; day = new UnitExpression(null, String.class, &quot;DAY&quot;);\nExpression&lt;Integer&gt; timeDiff = builder.function(\n            &quot;TIMESTAMPDIFF&quot;,\n            Integer.class,\n            day,\n            root.&lt;LocalDateTime&gt;get(&quot;startDate&quot;),\n            root.&lt;LocalDateTime&gt;get(&quot;endDate&quot;))\n    );\n</code></pre>\n<p><code>UnitExpression</code> is a custom class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UnitExpression extends BasicFunctionExpression&lt;String&gt; implements Serializable {\n\n  public UnitExpression(CriteriaBuilderImpl builder, Class&lt;String&gt; type,\n      String functionName) {\n    super(builder, type, functionName);\n  }\n\n  @Override\n  public String render(RenderingContext renderingContext) {\n    return getFunctionName();\n  }\n\n}\n</code></pre>\n<p>After upgrading to SB3 I am now getting a compilation error in <code>UnitExpression.java</code>. It looks like <code>BasicFunctionExpression</code> was removed.</p>\n<p>Does anyone know an alternative approach?</p>\n<p>I have tried the below</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expression&lt;TemporalUnit&gt; day = builder.literal(TemporalUnit.DAY);\nExpression&lt;Integer&gt; timeDiff = builder.function(\n            &quot;TIMESTAMPDIFF&quot;,\n            Integer.class,\n            day,\n            root.&lt;LocalDateTime&gt;get(&quot;startDate&quot;),\n            root.&lt;LocalDateTime&gt;get(&quot;endDate&quot;))\n    );\n</code></pre>\n<p>but I am getting an error:</p>\n<pre><code>java.lang.ClassCastException: class org.hibernate.query.sqm.tree.expression.SqmLiteral cannot be cast to class org.hibernate.query.sqm.tree.expression.SqmDurationUnit\n</code></pre>\n<p>Perhaps using <code>builder.literal(..)</code> is not the correct approach? Is there another method that should be used?</p>\n<p>I have also tried <code>Expression&lt;String&gt; day = builder.literal(TemporalUnit.DAY.name());</code> but then I get this error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: Parameter 1 of function timestampdiff() has type TEMPORAL_UNIT, but argument is of type java.lang.Object\n</code></pre>\n"},{"tags":["java","spring","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":4042366,"reputation":283,"user_id":3324794,"display_name":"Reveson"},"score":0,"creation_date":1702196366,"post_id":77632860,"comment_id":136865451,"body_markdown":"To be honest, this Spring Boot tutorial is not of very good quality. I learned RabbitMQ from plain java tutorials and they were ok. But from what I see, the Spring Boot version is poor imho... Try to find simple examples on github - if you know RabbitMQ (e.g. from plain java tutorials), then for Spring Boot it works practically the same. Just some different classes and less configuraton.","body":"To be honest, this Spring Boot tutorial is not of very good quality. I learned RabbitMQ from plain java tutorials and they were ok. But from what I see, the Spring Boot version is poor imho... Try to find simple examples on github - if you know RabbitMQ (e.g. from plain java tutorials), then for Spring Boot it works practically the same. Just some different classes and less configuraton."},{"owner":{"account_id":4042366,"reputation":283,"user_id":3324794,"display_name":"Reveson"},"score":0,"creation_date":1702196567,"post_id":77632860,"comment_id":136865463,"body_markdown":"Btw. You miss some properties in your `application.yml` and you have wrong package in your `Rabbitmq4Application` class. But I didn&#39;t verify it completely, because I think that this tutorial proposes a terribly chaotic project...","body":"Btw. You miss some properties in your <code>application.yml</code> and you have wrong package in your <code>Rabbitmq4Application</code> class. But I didn&#39;t verify it completely, because I think that this tutorial proposes a terribly chaotic project..."},{"owner":{"account_id":28931871,"reputation":1,"user_id":22160389,"display_name":"Luminati"},"score":0,"creation_date":1702227391,"post_id":77632860,"comment_id":136867997,"body_markdown":"Understood. Sounds like its just a poor tutorial issue. I appreciate it.","body":"Understood. Sounds like its just a poor tutorial issue. I appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":10315060,"reputation":3,"user_id":7609613,"display_name":"Mojtaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702210545,"creation_date":1702210545,"answer_id":77634756,"question_id":77632860,"body_markdown":"I&#39;ve run your code, as Reveson said you missed some configuration in your `application.yml`. do it like that tutorial:\r\n\r\n    spring:\r\n      profiles:\r\n        active: usage_message\r\n\r\n    logging:\r\n      level:\r\n        org: ERROR\r\n\r\n    tutorial:\r\n      client:\r\n        duration: 10000\r\n\r\n and you have the wrong package name in your `Rabbitmq4Application.java` class, change this:\r\n\r\n    package com.example.rabbitmq4.tut1;\r\nto this :\r\n\r\n    package com.example.rabbitmq4;\r\nI&#39;ve run Rabbitmq using docker-compose file like this:\r\n\r\n    version: &quot;3.2&quot;\r\n    services:\r\n    rabbitmq:\r\n      image: rabbitmq:3-management-alpine\r\n      container_name: &quot;rabbitmq&quot;\r\n      ports:\r\n        - 5672:5672\r\n        - 15672:15672\r\n      volumes:\r\n        - ~/.docker-conf/rabbitmq/data/:/var/lib/rabbitmq/\r\n        - ~/.docker-conf/rabbitmq/log/:/var/log/rabbitmq\r\n      networks:\r\n        - rabbitmq\r\n      restart: unless-stopped\r\n\r\n    networks:\r\n      rabbitmq:\r\n        driver: bridge\r\nI&#39;ve seen messages in the terminal and Rabbitmq managementUI.\r\nBut notice when a message is read by an application from a queue it will be deleted from that queue. Because you got print in the terminal you have the queue but if you want to see messages in Rabbitmq managementUI you can run only the sender.\r\n","title":"Unable to get rabbitmq sender to print out message when using RabbitMQ tut1 tutorial","body":"<p>I've run your code, as Reveson said you missed some configuration in your <code>application.yml</code>. do it like that tutorial:</p>\n<pre><code>spring:\n  profiles:\n    active: usage_message\n\nlogging:\n  level:\n    org: ERROR\n\ntutorial:\n  client:\n    duration: 10000\n</code></pre>\n<p>and you have the wrong package name in your <code>Rabbitmq4Application.java</code> class, change this:</p>\n<pre><code>package com.example.rabbitmq4.tut1;\n</code></pre>\n<p>to this :</p>\n<pre><code>package com.example.rabbitmq4;\n</code></pre>\n<p>I've run Rabbitmq using docker-compose file like this:</p>\n<pre><code>version: &quot;3.2&quot;\nservices:\nrabbitmq:\n  image: rabbitmq:3-management-alpine\n  container_name: &quot;rabbitmq&quot;\n  ports:\n    - 5672:5672\n    - 15672:15672\n  volumes:\n    - ~/.docker-conf/rabbitmq/data/:/var/lib/rabbitmq/\n    - ~/.docker-conf/rabbitmq/log/:/var/log/rabbitmq\n  networks:\n    - rabbitmq\n  restart: unless-stopped\n\nnetworks:\n  rabbitmq:\n    driver: bridge\n</code></pre>\n<p>I've seen messages in the terminal and Rabbitmq managementUI.\nBut notice when a message is read by an application from a queue it will be deleted from that queue. Because you got print in the terminal you have the queue but if you want to see messages in Rabbitmq managementUI you can run only the sender.</p>\n"}],"owner":{"account_id":28931871,"reputation":1,"user_id":22160389,"display_name":"Luminati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702210545,"creation_date":1702155358,"question_id":77632860,"body_markdown":"I have a link to my github repo for this project here: https://github.com/luiz-miotto/rabbitmqTut1v4\r\n\r\nI&#39;ve been attempting to learn how to use RabbitMQ with Spring AMQP using the tutorial provided by RabbitMQ here: https://www.rabbitmq.com/tutorials/tutorial-one-spring-amqp.html\r\n\r\nThe issue I&#39;m running into is that I get no print out and no communication from my sender to my receiver class when running the project.\r\n\r\nTo run this I run the two jar commands in terminal: `java -Dserver.port=8889  -jar target/rabbitmq4-0.0.1-SNAPSHOT.jar --spring.profiles.active=hello-world,sender`\r\n\r\nand\r\n\r\n`java -Dserver.port=8888 -jar target/rabbitmq4-0.0.1-SNAPSHOT.jar --spring.profiles.active=hello-world,receiver`\r\n\r\nRunning the jars tells me that they are Ready and runnig and that the `The following 2 profiles are active: &quot;hello-world&quot;, &quot;receiver&quot;` \r\n\r\nHowever, I get print out to my terminal nor do I see anything in my RabbitMQ UI (I have RabbitMQ running, in case anyone asks)\r\n\r\nI&#39;m suspecting that the issue is related to @Profile somehow since I can&#39;t get a print out for the receiver or sender classess but I&#39;m not sure.\r\n\r\nI tried adding logging to the sender method in my Tut1Config class to see if that was even being called and I have not seen any of that get logged out.\r\n\r\npackage com.example.rabbitmq4.tut1;\r\n\r\n```\r\nimport org.springframework.amqp.core.Queue;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n\r\n@Profile({&quot;tut1&quot;,&quot;hello-world&quot;})\r\n@Configuration\r\npublic class Tut1Config {\r\n\r\n    @Bean\r\n    public Queue hello(){\r\n        return new Queue(&quot;hello&quot;);\r\n    }\r\n\r\n    @Profile(&quot;receiver&quot;)\r\n    @Bean\r\n    public Tut1Receiver receiver(){\r\n        return new Tut1Receiver();\r\n    }\r\n\r\n    @Profile(&quot;sender&quot;)\r\n    @Bean\r\n    public Tut1Sender sender(){\r\n        System.out.println(&quot;this shit working for sender?&quot;);\r\n        return new Tut1Sender();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.rabbitmq4;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\n\r\npublic class RabbitAmqpTutorialsRunner implements CommandLineRunner {\r\n\r\n    @Value(&quot;${tutorial.client.duration:0}&quot;)\r\n    private int duration;\r\n\r\n    @Autowired\r\n    private ConfigurableApplicationContext ctx;\r\n\r\n    @Override\r\n    public void run(String... arg0) throws Exception {\r\n        System.out.println(&quot;Ready ... running for &quot; + duration + &quot;ms&quot;);\r\n        Thread.sleep(duration);\r\n        ctx.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nimport org.springframework.amqp.core.Queue;\r\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\n\r\npublic class Tut1Sender {\r\n    @Autowired\r\n    private RabbitTemplate template;\r\n\r\n    @Autowired\r\n    private Queue queue;\r\n\r\n\r\n    @Scheduled(fixedDelay = 1000, initialDelay = 500)\r\n    public void send() {\r\n        String message = &quot;Hello World!&quot;;\r\n        this.template.convertAndSend(queue.getName(), message);\r\n        System.out.println(&quot; [x] Sent &#39;&quot; + message + &quot;&#39;&quot;);\r\n    }\r\n}\r\n```","title":"Unable to get rabbitmq sender to print out message when using RabbitMQ tut1 tutorial","body":"<p>I have a link to my github repo for this project here: <a href=\"https://github.com/luiz-miotto/rabbitmqTut1v4\" rel=\"nofollow noreferrer\">https://github.com/luiz-miotto/rabbitmqTut1v4</a></p>\n<p>I've been attempting to learn how to use RabbitMQ with Spring AMQP using the tutorial provided by RabbitMQ here: <a href=\"https://www.rabbitmq.com/tutorials/tutorial-one-spring-amqp.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-one-spring-amqp.html</a></p>\n<p>The issue I'm running into is that I get no print out and no communication from my sender to my receiver class when running the project.</p>\n<p>To run this I run the two jar commands in terminal: <code>java -Dserver.port=8889  -jar target/rabbitmq4-0.0.1-SNAPSHOT.jar --spring.profiles.active=hello-world,sender</code></p>\n<p>and</p>\n<p><code>java -Dserver.port=8888 -jar target/rabbitmq4-0.0.1-SNAPSHOT.jar --spring.profiles.active=hello-world,receiver</code></p>\n<p>Running the jars tells me that they are Ready and runnig and that the <code>The following 2 profiles are active: &quot;hello-world&quot;, &quot;receiver&quot;</code></p>\n<p>However, I get print out to my terminal nor do I see anything in my RabbitMQ UI (I have RabbitMQ running, in case anyone asks)</p>\n<p>I'm suspecting that the issue is related to @Profile somehow since I can't get a print out for the receiver or sender classess but I'm not sure.</p>\n<p>I tried adding logging to the sender method in my Tut1Config class to see if that was even being called and I have not seen any of that get logged out.</p>\n<p>package com.example.rabbitmq4.tut1;</p>\n<pre><code>import org.springframework.amqp.core.Queue;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n\n@Profile({&quot;tut1&quot;,&quot;hello-world&quot;})\n@Configuration\npublic class Tut1Config {\n\n    @Bean\n    public Queue hello(){\n        return new Queue(&quot;hello&quot;);\n    }\n\n    @Profile(&quot;receiver&quot;)\n    @Bean\n    public Tut1Receiver receiver(){\n        return new Tut1Receiver();\n    }\n\n    @Profile(&quot;sender&quot;)\n    @Bean\n    public Tut1Sender sender(){\n        System.out.println(&quot;this shit working for sender?&quot;);\n        return new Tut1Sender();\n    }\n}\n</code></pre>\n<pre><code>package com.example.rabbitmq4;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.ConfigurableApplicationContext;\n\npublic class RabbitAmqpTutorialsRunner implements CommandLineRunner {\n\n    @Value(&quot;${tutorial.client.duration:0}&quot;)\n    private int duration;\n\n    @Autowired\n    private ConfigurableApplicationContext ctx;\n\n    @Override\n    public void run(String... arg0) throws Exception {\n        System.out.println(&quot;Ready ... running for &quot; + duration + &quot;ms&quot;);\n        Thread.sleep(duration);\n        ctx.close();\n    }\n}\n\n</code></pre>\n<pre><code>import org.springframework.amqp.core.Queue;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n\n\npublic class Tut1Sender {\n    @Autowired\n    private RabbitTemplate template;\n\n    @Autowired\n    private Queue queue;\n\n\n    @Scheduled(fixedDelay = 1000, initialDelay = 500)\n    public void send() {\n        String message = &quot;Hello World!&quot;;\n        this.template.convertAndSend(queue.getName(), message);\n        System.out.println(&quot; [x] Sent '&quot; + message + &quot;'&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","http-headers"],"answers":[{"tags":[],"owner":{"account_id":10510865,"reputation":13,"user_id":7746624,"display_name":"Giuliano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702210152,"creation_date":1651057414,"answer_id":72027654,"question_id":72027258,"body_markdown":"There are several different ways of reading a header on a REST API controller using java and spring-boot project with Spring Web dependency. As you&#39;re looking for a specific header you could use this Spring annotation:\r\n\r\n[@RequestHeader][1]\r\n\r\n```\r\n@GetMapping(&quot;/get-end-point&quot;)\r\npublic ResponseEntity&lt;String&gt; foo(@RequestHeader(&quot;X-User&quot;) Integer accountingNumber) {\r\n    // code that uses the number for accounting purpose\r\n    return new ResponseEntity&lt;String&gt;(mockResourceString, HttpStatus.OK);\r\n}\r\n```\r\n\r\nCheck out this tutorial [here][2] if you want to know more.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestHeader.html\r\n  [2]: https://www.baeldung.com/spring-rest-http-headers","title":"How to make a header that do the accounting purpose in springboot","body":"<p>There are several different ways of reading a header on a REST API controller using java and spring-boot project with Spring Web dependency. As you're looking for a specific header you could use this Spring annotation:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestHeader.html\" rel=\"nofollow noreferrer\">@RequestHeader</a></p>\n<pre><code>@GetMapping(&quot;/get-end-point&quot;)\npublic ResponseEntity&lt;String&gt; foo(@RequestHeader(&quot;X-User&quot;) Integer accountingNumber) {\n    // code that uses the number for accounting purpose\n    return new ResponseEntity&lt;String&gt;(mockResourceString, HttpStatus.OK);\n}\n</code></pre>\n<p>Check out this tutorial <a href=\"https://www.baeldung.com/spring-rest-http-headers\" rel=\"nofollow noreferrer\">here</a> if you want to know more.</p>\n"}],"owner":{"account_id":25100419,"reputation":1,"user_id":18951204,"display_name":"rishabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702231995,"answer_count":1,"score":0,"last_activity_date":1702210152,"creation_date":1651055599,"question_id":72027258,"body_markdown":"API should also read a header.\r\nX-User - This will be a numeric number used for accounting purpose. This will be used as the user id.","title":"How to make a header that do the accounting purpose in springboot","body":"<p>API should also read a header.\nX-User - This will be a numeric number used for accounting purpose. This will be used as the user id.</p>\n"},{"tags":["java","security","cve"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1702153028,"post_id":77632707,"comment_id":136862899,"body_markdown":"If nothing else is specified, we should assume that we are susceptible to all CVEs that are pulled in by our dependencies - no matter whether they are direct or transitive. --- A dependency may declare a certain version of - for example - log4j it wants to use. But this is oerrideable. I recommend inspecting the dependencies. I also recommend using a build system like [`gradle` (`gradle.org`)](https://gradle.org/) or [`maven` (`maven.apache.org`)](https://maven.apache.org/). This also enables us to use other services for e.g. dependency scanning.","body":"If nothing else is specified, we should assume that we are susceptible to all CVEs that are pulled in by our dependencies - no matter whether they are direct or transitive. --- A dependency may declare a certain version of - for example - log4j it wants to use. But this is oerrideable. I recommend inspecting the dependencies. I also recommend using a build system like <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\"><code>gradle</code> (<code>gradle.org</code>)</a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\"><code>maven</code> (<code>maven.apache.org</code>)</a>. This also enables us to use other services for e.g. dependency scanning."},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1702153331,"post_id":77632707,"comment_id":136862935,"body_markdown":"@Turing85 &quot;If nothing else is specified, we should assume that we are susceptible to all CVEs that are pulled in by our dependencies - no matter whether they are direct or transitive&quot; and how can we prevent it? by the way i use maven repo","body":"@Turing85 &quot;If nothing else is specified, we should assume that we are susceptible to all CVEs that are pulled in by our dependencies - no matter whether they are direct or transitive&quot; and how can we prevent it? by the way i use maven repo"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1702153559,"post_id":77632707,"comment_id":136862961,"body_markdown":"As I said: the dependency may define a version of a dependency it may want to use, but this is overridable (for example, we can just import another version of the transitive dependency in our `pom.xml` before we import the actual dependency). But there may be situations where this is not feasible (e.g. the dependency we want to use needs a specific version of the transitive dependency). There is no silver bullet to this problem. In my opinion, the only viable solution would be to use a maintained dependency to do what we want (which may mean that we need to write or own dependency).","body":"As I said: the dependency may define a version of a dependency it may want to use, but this is overridable (for example, we can just import another version of the transitive dependency in our <code>pom.xml</code> before we import the actual dependency). But there may be situations where this is not feasible (e.g. the dependency we want to use needs a specific version of the transitive dependency). There is no silver bullet to this problem. In my opinion, the only viable solution would be to use a maintained dependency to do what we want (which may mean that we need to write or own dependency)."}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1702210063,"creation_date":1702152152,"question_id":77632707,"body_markdown":"Hello to the wonderful community. I have a basic question assuming we have an application that uses a library `x` and we choose to use the latest stable version of this library from the Maven repo. Let&#39;s further assume that this library `x` is not supported anymore or is simply outdated and it depends on some other libraries including outdated log4j which points to the well-known zero-day vulnerability. Is automatically my project vulnerable to remote code execution? If yes how to prevent such an attack what should I do in that case? Do I need to manually copy and paste the code of the library if it is open source and ensure I will update all the dependencies including log4j manually? What happens in that case?","title":"How to prevent CVE exploits from unsupported libraries in Java","body":"<p>Hello to the wonderful community. I have a basic question assuming we have an application that uses a library <code>x</code> and we choose to use the latest stable version of this library from the Maven repo. Let's further assume that this library <code>x</code> is not supported anymore or is simply outdated and it depends on some other libraries including outdated log4j which points to the well-known zero-day vulnerability. Is automatically my project vulnerable to remote code execution? If yes how to prevent such an attack what should I do in that case? Do I need to manually copy and paste the code of the library if it is open source and ensure I will update all the dependencies including log4j manually? What happens in that case?</p>\n"},{"tags":["java","json","rest","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43614,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1466429207,"post_id":37922624,"comment_id":63297871,"body_markdown":"How does your Folder class look like?","body":"How does your Folder class look like?"},{"owner":{"display_name":"user177800"},"score":2,"creation_date":1467821913,"post_id":37922624,"comment_id":63879465,"body_markdown":"You are getting `JSON`, what you posted is 100% valid `JSON`! What do you want? An array of `Object` instead of an `Array` of `Array`? Based on your code and annotations it does not look like you have even looked at the documentation a single time, you have annotations that make no sense based on the methods they are annotating.","body":"You are getting <code>JSON</code>, what you posted is 100% valid <code>JSON</code>! What do you want? An array of <code>Object</code> instead of an <code>Array</code> of <code>Array</code>? Based on your code and annotations it does not look like you have even looked at the documentation a single time, you have annotations that make no sense based on the methods they are annotating."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1467822138,"post_id":37922624,"comment_id":63879606,"body_markdown":"Possible duplicate of [springboot jackson returns array instead of proper json object](http://stackoverflow.com/questions/37954728/springboot-jackson-returns-array-instead-of-proper-json-object)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/37954728/springboot-jackson-returns-array-instead-of-proper-json-object\">springboot jackson returns array instead of proper json object</a>"},{"owner":{"account_id":2422269,"reputation":1138,"user_id":2114983,"accept_rate":75,"display_name":"MiraTech"},"score":0,"creation_date":1585644126,"post_id":37922624,"comment_id":107825996,"body_markdown":"Did you get any answer?","body":"Did you get any answer?"},{"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"score":0,"creation_date":1702210361,"post_id":37922624,"comment_id":136866388,"body_markdown":"Are you expecting something like\n[\n{id:1,\nname:&quot;test&quot;,\ncomments:&quot;something&quot;},\n{id:2,\nname:&quot;test1&quot;,\ncomments:&quot;something1&quot;}\n]\n\nAre you expetring list of your objects like above?","body":"Are you expecting something like [ {id:1, name:&quot;test&quot;, comments:&quot;something&quot;}, {id:2, name:&quot;test1&quot;, comments:&quot;something1&quot;} ]  Are you expetring list of your objects like above?"}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1466426131,"creation_date":1466426131,"answer_id":37922753,"question_id":37922624,"body_markdown":"Could you please check you have the following dependency in your `pom.xml` ?\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso you can have more information about how Spring boot handles Java object to JSON on spring boot website : https://spring.io/guides/gs/rest-service/\r\n\r\n&gt; The Greeting object must be converted to JSON. Thanks to Spring’s HTTP\r\n&gt; message converter support, you don’t need to do this conversion\r\n&gt; manually. Because [Jackson 2][1] is on the classpath, Spring’s\r\n&gt; `MappingJackson2HttpMessageConverter` is automatically chosen to convert\r\n&gt; the Greeting instance to JSON.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome","title":"Produce JSON by RESTful web service in Spring Boot?","body":"<p>Could you please check you have the following dependency in your <code>pom.xml</code> ?</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also you can have more information about how Spring boot handles Java object to JSON on spring boot website : <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow\">https://spring.io/guides/gs/rest-service/</a></p>\n\n<blockquote>\n  <p>The Greeting object must be converted to JSON. Thanks to Spring’s HTTP\n  message converter support, you don’t need to do this conversion\n  manually. Because <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"nofollow\">Jackson 2</a> is on the classpath, Spring’s\n  <code>MappingJackson2HttpMessageConverter</code> is automatically chosen to convert\n  the Greeting instance to JSON.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5373310,"reputation":343,"user_id":4281115,"accept_rate":0,"display_name":"Sumeet Tiwari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467357091,"creation_date":1467357091,"answer_id":38139210,"question_id":37922624,"body_markdown":"    Try this one in controller :\r\n    \r\n    @RequestMapping(value=&quot;/folders&quot;, method= RequestMethod.GET,produces=MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Folder&gt; getFolders()\r\n    {\r\n      HttpStatus httpStatus = HttpStatus.OK;\r\n      List&lt;Folder&gt; listFol=iUd.getFolders();\r\n      return new ResponseEntity&lt;HawkeyesResponse&gt;(listFol,httpStatus);\r\n    }\r\n\r\nIn class level add this annotation :\r\n\r\n    @RestController\r\n        \r\n       \r\n","title":"Produce JSON by RESTful web service in Spring Boot?","body":"<pre><code>Try this one in controller :\n\n@RequestMapping(value=\"/folders\", method= RequestMethod.GET,produces=MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Folder&gt; getFolders()\n{\n  HttpStatus httpStatus = HttpStatus.OK;\n  List&lt;Folder&gt; listFol=iUd.getFolders();\n  return new ResponseEntity&lt;HawkeyesResponse&gt;(listFol,httpStatus);\n}\n</code></pre>\n\n<p>In class level add this annotation :</p>\n\n<pre><code>@RestController\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206454,"reputation":2823,"user_id":2707444,"display_name":"luizMello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490408377,"creation_date":1490408377,"answer_id":43011796,"question_id":37922624,"body_markdown":"You can use a constructor annotated with @JsonCreator in you entity:\r\n\r\nEx\r\n\r\n    ...\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    \r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        Long id;\r\n        String name;\r\n        String phone;\r\n        String password;\r\n    \r\n        @JsonCreator\r\n        public User(@JsonProperty(&quot;name&quot;) String name,\r\n                    @JsonProperty(&quot;phone&quot;) String phone) {\r\n    \r\n            this.name = name;\r\n            this.phone = phone;\r\n    \r\n        }\r\n    \r\n    ...","title":"Produce JSON by RESTful web service in Spring Boot?","body":"<p>You can use a constructor annotated with @JsonCreator in you entity:</p>\n\n<p>Ex</p>\n\n<pre><code>...\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport javax.persistence.*;\n\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long id;\n    String name;\n    String phone;\n    String password;\n\n    @JsonCreator\n    public User(@JsonProperty(\"name\") String name,\n                @JsonProperty(\"phone\") String phone) {\n\n        this.name = name;\n        this.phone = phone;\n\n    }\n\n...\n</code></pre>\n"}],"owner":{"account_id":8208652,"reputation":47,"user_id":6177565,"display_name":"Adam D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18480,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1702209735,"creation_date":1466425740,"question_id":37922624,"body_markdown":"**My problem:** I don&#39;t returns Json but an array.\r\n\r\nSo, I will wish Json return:\r\n\r\n**My repository interface:**\r\n\r\n    public interface SuiRepository extends JpaRepository&lt;Folder, Integer&gt;{\r\n    @Query(&quot;...&quot;)\r\n    \tpublic List&lt;Folder&gt; data();\r\n    }\r\n\r\n**My method:**\r\n \r\n\r\n    @Override\r\n    \tpublic List&lt;Folder&gt; getFolder(){\r\n    \t\tList&lt;Folder&gt; s = folderRepository.data();\r\n    \t\t\r\n    \t\treturn s;\r\n    \t\t \r\n    \t}\r\n**My Rest Service:**\r\n\r\n    @RequestMapping(value=&quot;/folders&quot;, method=RequestMethod.GET, produces=&quot;application/json&quot;, consumes=&quot;application/json&quot;)\r\n    \t@ResponseBody\r\n    \tpublic  List&lt;Folder&gt; getFolders() {\r\n    \t\treturn iUd.getFolders();\r\n    \t}\r\n\r\n**My Folder class**\r\n\r\n    Entity\r\n         public class Folder implements Serializable{\r\n        \t@Id\r\n        \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n         \tprivate int idFolder; \r\n         \tprivate String comments;\r\n         \t@ManyToOne\r\n         \t@JoinColumn(name=&quot;IdFile&quot;)\r\n         \tprivate File file;\r\n         \t@ManyToOne\r\n         \t@JoinColumn(name=&quot;username&quot;)\r\n         \tprivate User user;\r\n     \r\n         **Getters&amp;Setters...**\r\n    \r\n    }  \r\n\r\n**The current return:**\r\n\r\n    [[&quot;Ban&quot;,&quot;dee&quot;,&quot;dede@gmail.com&quot;,1,&quot;xx&quot;,&quot;Emb&quot;],[&quot;Cin&quot;,&quot;mis&quot;,&quot;sse@gmail.com&quot;,1,&quot;yy&quot;,&quot;Ns&quot;]]\r\n\r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\n\r\n","title":"Produce JSON by RESTful web service in Spring Boot?","body":"<p><strong>My problem:</strong> I don't returns Json but an array.</p>\n\n<p>So, I will wish Json return:</p>\n\n<p><strong>My repository interface:</strong></p>\n\n<pre><code>public interface SuiRepository extends JpaRepository&lt;Folder, Integer&gt;{\n@Query(\"...\")\n    public List&lt;Folder&gt; data();\n}\n</code></pre>\n\n<p><strong>My method:</strong></p>\n\n<pre><code>@Override\n    public List&lt;Folder&gt; getFolder(){\n        List&lt;Folder&gt; s = folderRepository.data();\n\n        return s;\n\n    }\n</code></pre>\n\n<p><strong>My Rest Service:</strong></p>\n\n<pre><code>@RequestMapping(value=\"/folders\", method=RequestMethod.GET, produces=\"application/json\", consumes=\"application/json\")\n    @ResponseBody\n    public  List&lt;Folder&gt; getFolders() {\n        return iUd.getFolders();\n    }\n</code></pre>\n\n<p><strong>My Folder class</strong></p>\n\n<pre><code>Entity\n     public class Folder implements Serializable{\n        @Id\n        @GeneratedValue(strategy=GenerationType.AUTO)\n        private int idFolder; \n        private String comments;\n        @ManyToOne\n        @JoinColumn(name=\"IdFile\")\n        private File file;\n        @ManyToOne\n        @JoinColumn(name=\"username\")\n        private User user;\n\n     **Getters&amp;Setters...**\n\n}  \n</code></pre>\n\n<p><strong>The current return:</strong></p>\n\n<pre><code>[[\"Ban\",\"dee\",\"dede@gmail.com\",1,\"xx\",\"Emb\"],[\"Cin\",\"mis\",\"sse@gmail.com\",1,\"yy\",\"Ns\"]]\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1702211042,"post_id":77634698,"comment_id":136866442,"body_markdown":"Your APP is named &quot;registration&quot; therefore it resides in the web app folder named registration!  The registration.jsp is a &quot;page&quot; and would be address called http://localhost:8080/registration/registration.jsp , it is not an index.html or index.jsp so is not a domain or sub domain pointer, it must be written completely in the address bar.","body":"Your APP is named &quot;registration&quot; therefore it resides in the web app folder named registration!  The registration.jsp is a &quot;page&quot; and would be address called <a href=\"http://localhost:8080/registration/registration.jsp\" rel=\"nofollow noreferrer\">localhost:8080/registration/registration.jsp</a> , it is not an index.html or index.jsp so is not a domain or sub domain pointer, it must be written completely in the address bar."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1702211267,"post_id":77634698,"comment_id":136866465,"body_markdown":"However, more usually, that error message means there is a problem with the web.xml such an error or malformed markup web.xml","body":"However, more usually, that error message means there is a problem with the web.xml such an error or malformed markup web.xml"},{"owner":{"account_id":30110733,"reputation":1,"user_id":23075327,"display_name":"jdiaso"},"score":0,"creation_date":1702211963,"post_id":77634698,"comment_id":136866509,"body_markdown":"@SamuelMarchant, in appliction.properties file i set spring.mvc.view.prefix = /WEB-INF/jsp/ (folder with all my jsp files) and spring.mvc.view.suffix = .jsp. As i understand, after typing URL: localhost:8080/registration, method registration() will be started, and this method return &quot;registration&quot; string. So spring will check .properties file and find registration.jsp. Or no?","body":"@SamuelMarchant, in appliction.properties file i set spring.mvc.view.prefix = /WEB-INF/jsp/ (folder with all my jsp files) and spring.mvc.view.suffix = .jsp. As i understand, after typing URL: localhost:8080/registration, method registration() will be started, and this method return &quot;registration&quot; string. So spring will check .properties file and find registration.jsp. Or no?"}],"owner":{"account_id":30110733,"reputation":1,"user_id":23075327,"display_name":"jdiaso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702209662,"creation_date":1702209662,"question_id":77634698,"body_markdown":"I am making java spring app with springboot, tomcat 9 and Intellij IDEA. I want to use registration() method with @GetMapping(&quot;/registration&quot;) to go to registration.jsp. But if i go to http://localhost:8080/registration, i see error &quot;The requested resource [/registration] is not available&quot; with description &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;.\r\n\r\nI thought that it&#39;s problem with tomcat so i also tried tomcat 10 but it didn&#39;t help me. What&#39;s problem?\r\n\r\n**pom.xml:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;ark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;name&gt;spring_app&lt;/name&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n**application.properties:**\r\n\r\n\r\n```\r\nspring.jpa.generate-ddl=false\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\nspring.mvc.view.prefix = /WEB-INF/jsp/\r\nspring.mvc.view.suffix = .jsp\r\n```\r\n\r\n**RegistrationController:**\r\n\r\n```\r\npackage com.boots.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class RegistrationController {\r\n@GetMapping(&quot;/registration&quot;)\r\n    public String registration() {\r\n        return &quot;registration&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**registration.jsp:**\r\n\r\n\r\n```\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=utf-8&quot; pageEncoding=&quot;utf-8&quot; %&gt;\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;utf-8&quot;&gt;\r\n  &lt;title&gt;Sign in&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;p&gt;Welcome to registration page&lt;/p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**MvcConfig:**\r\n\r\n```\r\npackage com.boots.config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n        registry.addViewController(&quot;/news&quot;).setViewName(&quot;news&quot;);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Tomcat 9 error with spring app: the requested resource [/registration] is not available","body":"<p>I am making java spring app with springboot, tomcat 9 and Intellij IDEA. I want to use registration() method with @GetMapping(&quot;/registration&quot;) to go to registration.jsp. But if i go to http://localhost:8080/registration, i see error &quot;The requested resource [/registration] is not available&quot; with description &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;.</p>\n<p>I thought that it's problem with tomcat so i also tried tomcat 10 but it didn't help me. What's problem?</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ark&lt;/groupId&gt;\n    &lt;artifactId&gt;spring&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;name&gt;spring_app&lt;/name&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.jpa.generate-ddl=false\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n\nspring.mvc.view.prefix = /WEB-INF/jsp/\nspring.mvc.view.suffix = .jsp\n</code></pre>\n<p><strong>RegistrationController:</strong></p>\n<pre><code>package com.boots.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class RegistrationController {\n@GetMapping(&quot;/registration&quot;)\n    public String registration() {\n        return &quot;registration&quot;;\n    }\n}\n</code></pre>\n<p><strong>registration.jsp:</strong></p>\n<pre><code>&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=utf-8&quot; pageEncoding=&quot;utf-8&quot; %&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;utf-8&quot;&gt;\n  &lt;title&gt;Sign in&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;p&gt;Welcome to registration page&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>MvcConfig:</strong></p>\n<pre><code>package com.boots.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n        registry.addViewController(&quot;/news&quot;).setViewName(&quot;news&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","plugins","dependencies"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1625847160,"post_id":68319303,"comment_id":120744977,"body_markdown":"Not sure what a &quot;plugin&quot; is in this case, but what about using maven-shade?","body":"Not sure what a &quot;plugin&quot; is in this case, but what about using maven-shade?"},{"owner":{"account_id":14985939,"reputation":1382,"user_id":10818506,"display_name":"Diesan Romero"},"score":0,"creation_date":1625848425,"post_id":68319303,"comment_id":120745398,"body_markdown":"Hello, welcome to SO. Consider making a [Tour](https://stackoverflow.com/tour) and read the section [How to ask](https://stackoverflow.com/help/how-to-ask) before asking another question.","body":"Hello, welcome to SO. Consider making a <a href=\"https://stackoverflow.com/tour\">Tour</a> and read the section <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a> before asking another question."}],"owner":{"account_id":21257915,"reputation":1,"user_id":15639106,"display_name":"sultan-sch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702208731,"creation_date":1625844673,"question_id":68319303,"body_markdown":"I need some help using [j2mod](https://mvnrepository.com/artifact/com.ghgande/j2mod), a java library for Modbus TCP/RTU into a plugin for Universal Robots. \r\n\r\nUsing the maven-bungle-plugin.\r\n\r\nWhat I have tried:\r\n - Including dependencies one by one (never ending dependency tree)\r\n - Using the `&lt;Export-Package&gt;` tag to include the j2mod package in jar (program starts with a requires &#39;jSerialComm&#39; error)\r\n - Using `&lt;Embed-Dependency&gt;` tag to include all dependencies of scope compile and runtime (program starts with a requires &#39;org.slf4.impl&#39; error and I cant seem to figure out a way to adapt slf4j to log4j).\r\n\r\nI know from snooping around the polyscope simulator program&#39;s files. The simulator seems to use `log4j-api-2.3.jar` and a `modified-log4j-core-1.11.6.jar`.\r\n\r\nAny insights on using j2mod or a similar java Modbus TCP/RTU library in an embedded system environment will me helpful. \r\n","title":"Need help embedding j2mod library into a java plugin","body":"<p>I need some help using <a href=\"https://mvnrepository.com/artifact/com.ghgande/j2mod\" rel=\"nofollow noreferrer\">j2mod</a>, a java library for Modbus TCP/RTU into a plugin for Universal Robots.</p>\n<p>Using the maven-bungle-plugin.</p>\n<p>What I have tried:</p>\n<ul>\n<li>Including dependencies one by one (never ending dependency tree)</li>\n<li>Using the <code>&lt;Export-Package&gt;</code> tag to include the j2mod package in jar (program starts with a requires 'jSerialComm' error)</li>\n<li>Using <code>&lt;Embed-Dependency&gt;</code> tag to include all dependencies of scope compile and runtime (program starts with a requires 'org.slf4.impl' error and I cant seem to figure out a way to adapt slf4j to log4j).</li>\n</ul>\n<p>I know from snooping around the polyscope simulator program's files. The simulator seems to use <code>log4j-api-2.3.jar</code> and a <code>modified-log4j-core-1.11.6.jar</code>.</p>\n<p>Any insights on using j2mod or a similar java Modbus TCP/RTU library in an embedded system environment will me helpful.</p>\n"},{"tags":["java","spring","saml-2.0","spring-cloud-gateway"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1701780639,"post_id":77602557,"comment_id":136815565,"body_markdown":"please correct me if my understanding is wrong. You want a specific request to go directly to a service instead of routed via gateway. Is my understanding correct?","body":"please correct me if my understanding is wrong. You want a specific request to go directly to a service instead of routed via gateway. Is my understanding correct?"},{"owner":{"account_id":18128655,"reputation":11,"user_id":13183982,"display_name":"Виктор Кольцо"},"score":0,"creation_date":1701800953,"post_id":77602557,"comment_id":136819543,"body_markdown":"No. Vice versa. Now there is a redirect to localhost:8080/saml2/authenticate/{registrationId} (second service), when it should go through the gateway. That&#39;s why I need to change this {baseUrl} somehow","body":"No. Vice versa. Now there is a redirect to localhost:8080/saml2/authenticate/{registrationId} (second service), when it should go through the gateway. That&#39;s why I need to change this {baseUrl} somehow"}],"answers":[{"tags":[],"owner":{"account_id":18128655,"reputation":11,"user_id":13183982,"display_name":"Виктор Кольцо"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702208634,"creation_date":1701862126,"answer_id":77612665,"question_id":77602557,"body_markdown":"Eventually I found out that this can be done with 6 version of Spring security config.\r\n\r\nhttps://github.com/spring-projects/spring-security/issues/8873\r\n\r\n```\r\nhttp.saml2Login(saml2 -&gt; {                \r\n    saml2.authenticationRequestUri(&quot;yourUrl&quot;)\r\n};\r\n```","title":"How to configure {baseUrl} for endpoint /saml2/authenticate/{registrationId} spring-security-saml2?","body":"<p>Eventually I found out that this can be done with 6 version of Spring security config.</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/8873\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/8873</a></p>\n<pre><code>http.saml2Login(saml2 -&gt; {                \n    saml2.authenticationRequestUri(&quot;yourUrl&quot;)\n};\n</code></pre>\n"}],"owner":{"account_id":18128655,"reputation":11,"user_id":13183982,"display_name":"Виктор Кольцо"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702208634,"creation_date":1701723887,"question_id":77602557,"body_markdown":"I&#39;m trying to implement saml2 SSO.  \r\nMy project uses a gateway (port 8090). The authentication logic is located in the second service (port 8080), but I want **all requests to go through the gateway**.\r\n\r\nI tried to implement this but I ended up in a redirect to the second service localhost:8080/saml2/authenticate/{registrationId}.\r\nI assume that the problem is that the service(second) calling the identity provider must also accept requests, and not delegate them to the gateway.   \r\nMaybe there is some workaround to make this request go through the gateway?\r\n\r\nAlso, I cannot transfer this logic to the gateway, because there is currently no support for reactive SAML.\r\n\r\nI have almost no working experience with security (especially SAML).\r\nSo I will be grateful for any help!\r\n\r\nDependencies:  \r\n\\- Gateway\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\\- SAML dependencies in the second service\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opensaml-core&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opensaml-saml-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opensaml-saml-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to configure {baseUrl} for endpoint /saml2/authenticate/{registrationId} spring-security-saml2?","body":"<p>I'm trying to implement saml2 SSO.<br />\nMy project uses a gateway (port 8090). The authentication logic is located in the second service (port 8080), but I want <strong>all requests to go through the gateway</strong>.</p>\n<p>I tried to implement this but I ended up in a redirect to the second service localhost:8080/saml2/authenticate/{registrationId}.\nI assume that the problem is that the service(second) calling the identity provider must also accept requests, and not delegate them to the gateway.<br />\nMaybe there is some workaround to make this request go through the gateway?</p>\n<p>Also, I cannot transfer this logic to the gateway, because there is currently no support for reactive SAML.</p>\n<p>I have almost no working experience with security (especially SAML).\nSo I will be grateful for any help!</p>\n<p>Dependencies:<br />\n- Gateway</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>- SAML dependencies in the second service</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\n    &lt;version&gt;5.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n    &lt;artifactId&gt;opensaml-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n    &lt;artifactId&gt;opensaml-saml-api&lt;/artifactId&gt;\n    &lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n    &lt;artifactId&gt;opensaml-saml-impl&lt;/artifactId&gt;\n    &lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","http-headers","pact"],"owner":{"account_id":14975624,"reputation":11,"user_id":10811152,"display_name":"mayank mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702208383,"creation_date":1545225118,"question_id":53851989,"body_markdown":"This the response provide by the API in body:\r\n\r\n&gt; &quot;Please provide the valid App Id and SystemId in Header.&quot;,\r\n\r\nThis is my Code for provider:\r\n\r\n    @RunWith(PactRunner.class)\r\n    @Provider(&quot;questionnaire-services&quot;)\r\n    @PactFolder(&quot;target/pacts&quot;)\r\n    public class ProviderTest {\r\n    \t\r\n    @TestTarget\r\n    public final Target target = new HttpTarget(&quot;http&quot;, &quot;host&quot;, 8080, &quot;path&quot;);\r\n    \r\n    \t@State(&quot;GET request&quot;)\r\n    \tpublic void toGetState() { }\r\n    }\r\n\r\nHow do I pass headers in this `HttpTarget` method?\r\n","title":"How to pass headers in HttpTarget while using PACT","body":"<p>This the response provide by the API in body:</p>\n<blockquote>\n<p>&quot;Please provide the valid App Id and SystemId in Header.&quot;,</p>\n</blockquote>\n<p>This is my Code for provider:</p>\n<pre><code>@RunWith(PactRunner.class)\n@Provider(&quot;questionnaire-services&quot;)\n@PactFolder(&quot;target/pacts&quot;)\npublic class ProviderTest {\n    \n@TestTarget\npublic final Target target = new HttpTarget(&quot;http&quot;, &quot;host&quot;, 8080, &quot;path&quot;);\n\n    @State(&quot;GET request&quot;)\n    public void toGetState() { }\n}\n</code></pre>\n<p>How do I pass headers in this <code>HttpTarget</code> method?</p>\n"},{"tags":["java","spring-boot","rest","http-headers"],"comments":[{"owner":{"account_id":4045718,"reputation":542,"user_id":3327009,"display_name":"Niclas Lindgren"},"score":1,"creation_date":1602152633,"post_id":64259291,"comment_id":113632738,"body_markdown":"Add reading of request headers public String test_API(@RequestHeader MultiValueMap&lt;String, String&gt; headers, HttpServletRequest request) {}","body":"Add reading of request headers public String test_API(@RequestHeader MultiValueMap&lt;String, String&gt; headers, HttpServletRequest request) {}"},{"owner":{"account_id":18719706,"reputation":13,"user_id":13647881,"display_name":"Emanuele Cozzolino"},"score":0,"creation_date":1602154598,"post_id":64259291,"comment_id":113633583,"body_markdown":"thank&#39;s man! it function, now i can handle the headers key in the application ;)","body":"thank&#39;s man! it function, now i can handle the headers key in the application ;)"}],"owner":{"account_id":18719706,"reputation":13,"user_id":13647881,"display_name":"Emanuele Cozzolino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702208333,"creation_date":1602148225,"question_id":64259291,"body_markdown":"I&#39;m falling into a problem this morning with a custom request between two application, what I need to do is to let application able to talk each other with two Rest API cause I need to do some actions on the first application by the second. The two applications are developed with springboot.\r\n\r\nSuppose to call this two applications **admin** and **superadmin**\r\n\r\nsuperadmin send a request with a RestAPI and a customized header -&gt; name = key value = 1234\r\n\r\nadmin recieve the request and first of all check if the header is present or not, after that the header is finded it can proceed to do all the task.\r\n\r\nHere&#39;s the code that i&#39;ve developed : \r\n\r\nSUPERADMIN : \r\n\r\n```\r\n\t@PostMapping(value=&quot;/test_api_header&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; test_API(@RequestParam String url) {\r\n\t\tRestTemplate template = new RestTemplate();\r\n\t\tURI targetUrl = UriComponentsBuilder.fromUriString(url) // Build the base link\r\n\t\t\t\t.path(&quot;/test_API&quot;) // Add path\r\n\t\t\t\t.build() // Build the URL\r\n\t\t\t\t.encode() // Encode any URI items that need to be encoded\r\n\t\t\t\t.toUri(); // Convert to URI\r\n\t\tMultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;();\r\n\t\theaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\theaders.add(&quot;superadminKey&quot;, &quot;123456abc&quot;);\r\n//\t    build the request\r\n\t\tResponseEntity&lt;String&gt; entity = template.exchange(targetUrl, HttpMethod.GET, new HttpEntity&lt;String&gt;(headers), String.class);\r\n\t\treturn entity;\r\n\t}\r\n```\r\n\r\nADMIN : \r\n\r\n```\r\n\t@Value(&quot;123456abc&quot;)\r\n\tprivate String saKey;\r\n\r\n\t@GetMapping(value = &quot;/superadmin/test_API&quot;)\r\n\tpublic String test_API(HttpServletRequest request) {\r\n\t\tif (request.getHeader(&quot;superadminKey&quot;) == saKey) {\r\n\t\t\treturn &quot;Finally&quot;;\r\n\t\t} else {\r\n\t\t\treturn &quot;Nothing to do, header not present&quot;;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe SUPERADMIN is able to communicate with the RESTApi in the ADMIN application, in fact on postman I received the answer : Nothing to do, header not present, but i really cannot be able to set that customized header in the superadmin request cause I cannot found it also on postman request in the section &quot;headers&quot;.\r\n\r\nI&#39;ve seen that I could also create a customized API Key for this special case, but really don&#39;t know how it works, if someone could help me I would be very grateful!","title":"create a Rest API with customized header request","body":"<p>I'm falling into a problem this morning with a custom request between two application, what I need to do is to let application able to talk each other with two Rest API cause I need to do some actions on the first application by the second. The two applications are developed with springboot.</p>\n<p>Suppose to call this two applications <strong>admin</strong> and <strong>superadmin</strong></p>\n<p>superadmin send a request with a RestAPI and a customized header -&gt; name = key value = 1234</p>\n<p>admin recieve the request and first of all check if the header is present or not, after that the header is finded it can proceed to do all the task.</p>\n<p>Here's the code that i've developed :</p>\n<p>SUPERADMIN :</p>\n<pre><code>    @PostMapping(value=&quot;/test_api_header&quot;)\n    public ResponseEntity&lt;String&gt; test_API(@RequestParam String url) {\n        RestTemplate template = new RestTemplate();\n        URI targetUrl = UriComponentsBuilder.fromUriString(url) // Build the base link\n                .path(&quot;/test_API&quot;) // Add path\n                .build() // Build the URL\n                .encode() // Encode any URI items that need to be encoded\n                .toUri(); // Convert to URI\n        MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;();\n        headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.add(&quot;superadminKey&quot;, &quot;123456abc&quot;);\n//      build the request\n        ResponseEntity&lt;String&gt; entity = template.exchange(targetUrl, HttpMethod.GET, new HttpEntity&lt;String&gt;(headers), String.class);\n        return entity;\n    }\n</code></pre>\n<p>ADMIN :</p>\n<pre><code>    @Value(&quot;123456abc&quot;)\n    private String saKey;\n\n    @GetMapping(value = &quot;/superadmin/test_API&quot;)\n    public String test_API(HttpServletRequest request) {\n        if (request.getHeader(&quot;superadminKey&quot;) == saKey) {\n            return &quot;Finally&quot;;\n        } else {\n            return &quot;Nothing to do, header not present&quot;;\n        }\n    }\n</code></pre>\n<p>The SUPERADMIN is able to communicate with the RESTApi in the ADMIN application, in fact on postman I received the answer : Nothing to do, header not present, but i really cannot be able to set that customized header in the superadmin request cause I cannot found it also on postman request in the section &quot;headers&quot;.</p>\n<p>I've seen that I could also create a customized API Key for this special case, but really don't know how it works, if someone could help me I would be very grateful!</p>\n"},{"tags":["java","http-headers"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1611573646,"post_id":65883667,"comment_id":116486473,"body_markdown":"You just need to create a request and send it. Please don&#39;t criticize my comment for missing out on details.","body":"You just need to create a request and send it. Please don&#39;t criticize my comment for missing out on details."},{"owner":{"account_id":18963638,"reputation":19,"user_id":13838561,"display_name":"madhu"},"score":0,"creation_date":1611574064,"post_id":65883667,"comment_id":116486663,"body_markdown":"@AniketSahrawat thank you. actually, the process you told me about is not working in my case.","body":"@AniketSahrawat thank you. actually, the process you told me about is not working in my case."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1611574134,"post_id":65883667,"comment_id":116486690,"body_markdown":"You cracked me up. Please add details.","body":"You cracked me up. Please add details."}],"answers":[{"tags":[],"owner":{"account_id":17919240,"reputation":9,"user_id":13019528,"display_name":"sina dayani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611615932,"creation_date":1611578000,"answer_id":65884882,"question_id":65883667,"body_markdown":"You can use postman.\r\n\r\npostman is software for testing api with different parameters and headers\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GH2pw.png","title":"Send the java POST request with header Content-Type:multipart/form-data?","body":"<p>You can use postman.</p>\n<p>postman is software for testing api with different parameters and headers</p>\n<p><a href=\"https://i.stack.imgur.com/GH2pw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GH2pw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18963638,"reputation":19,"user_id":13838561,"display_name":"madhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702232401,"answer_count":1,"score":0,"last_activity_date":1702208255,"creation_date":1611573297,"question_id":65883667,"body_markdown":"I am trying to make an API call, that can have header Content-Type: multipart/form-data.\r\nI am having the parameters that need to send with the request.\r\n\r\nCan anyone please help?","title":"Send the java POST request with header Content-Type:multipart/form-data?","body":"<p>I am trying to make an API call, that can have header Content-Type: multipart/form-data.\nI am having the parameters that need to send with the request.</p>\n<p>Can anyone please help?</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","cors"],"owner":{"account_id":30110570,"reputation":1,"user_id":23075197,"display_name":"Malinade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702207878,"creation_date":1702207878,"question_id":77634612,"body_markdown":"I&#39;m trying to accept a json file on frontend and got a cors error [(pic. 1).](https://i.stack.imgur.com/VhugQ.png)\r\n\r\nMy GET method in controller:\r\n   \r\n```java\r\n @GetMapping(&quot;/users&quot;)\r\n    public @ResponseBody Iterable&lt;User&gt; getAllUsers(){\r\n        return UserService.findAll();\r\n    }\r\n}\r\n\r\n```\r\nAfter reading various tips on the Internet, I decided to create a header filter that will allow me to send my json to frontend:\r\n```java\r\n@Component\r\npublic class SimpleCORSFilter implements Filter{\r\n\r\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException{\r\n      HttpServletResponse response = (HttpServletResponse) res;\r\n      response.setHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);\r\n      response.setHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;POST, GET, OPTIONS, DELETE&quot;);\r\n      response.setHeader(&quot;Access-Control-Max-Age&quot;,&quot;3600&quot;);\r\n      response.setHeader(&quot;Access-Control-Allow-Headers&quot;,&quot;x-requested-with&quot;);\r\n      chain.doFilter(req,res);\r\n    }\r\n    public void init(FilterConfig filterConfig){}\r\n    public void destroy(){}\r\n}\r\n```\r\nBut the error is still the same.\r\nMy build.gradle:\r\n```java\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.apache.httpcomponents:httpclient&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\nIf you need anything else, I will definitely send it to you\r\n\r\nI&#39;m beginner in development and very confused in these CORS, if there is some other way that is easier than mine, I will be glad to do it","title":"Has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. / Java Spring Boot","body":"<p>I'm trying to accept a json file on frontend and got a cors error <a href=\"https://i.stack.imgur.com/VhugQ.png\" rel=\"nofollow noreferrer\">(pic. 1).</a></p>\n<p>My GET method in controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @GetMapping(&quot;/users&quot;)\n    public @ResponseBody Iterable&lt;User&gt; getAllUsers(){\n        return UserService.findAll();\n    }\n}\n\n</code></pre>\n<p>After reading various tips on the Internet, I decided to create a header filter that will allow me to send my json to frontend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SimpleCORSFilter implements Filter{\n\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException{\n      HttpServletResponse response = (HttpServletResponse) res;\n      response.setHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);\n      response.setHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;POST, GET, OPTIONS, DELETE&quot;);\n      response.setHeader(&quot;Access-Control-Max-Age&quot;,&quot;3600&quot;);\n      response.setHeader(&quot;Access-Control-Allow-Headers&quot;,&quot;x-requested-with&quot;);\n      chain.doFilter(req,res);\n    }\n    public void init(FilterConfig filterConfig){}\n    public void destroy(){}\n}\n</code></pre>\n<p>But the error is still the same.\nMy build.gradle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'javax.servlet:javax.servlet-api:4.0.1'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.apache.httpcomponents:httpclient'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>If you need anything else, I will definitely send it to you</p>\n<p>I'm beginner in development and very confused in these CORS, if there is some other way that is easier than mine, I will be glad to do it</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702183253,"post_id":77633500,"comment_id":136864764,"body_markdown":"I find it strange you do `dates.clear()` just before `xAxis.setCategories(dates)`. Not sure if that&#39;s the problem though. May need a [mre].","body":"I find it strange you do <code>dates.clear()</code> just before <code>xAxis.setCategories(dates)</code>. Not sure if that&#39;s the problem though. May need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1702183562,"post_id":77633500,"comment_id":136864776,"body_markdown":"My guess is that you are doing `Chart&lt;...&gt; chart = new Chart();`","body":"My guess is that you are doing <code>Chart&lt;...&gt; chart = new Chart();</code>"},{"owner":{"account_id":20770242,"reputation":13,"user_id":15253529,"display_name":"Kerby3"},"score":0,"creation_date":1702201892,"post_id":77633500,"comment_id":136865778,"body_markdown":"Using dates.clear() I clear the dates because during initialization I add the element &quot;a&quot; there. I haven&#39;t found any other way to initialize empty dates.","body":"Using dates.clear() I clear the dates because during initialization I add the element &quot;a&quot; there. I haven&#39;t found any other way to initialize empty dates."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702203202,"post_id":77633500,"comment_id":136865877,"body_markdown":"`CategoryAxis` has some weird problems, at least when the chart is animated, if you don&#39;t have at least the same categories registered with it as show up in the chart data. This _might_ be the source of your problem (or it might not be).","body":"<code>CategoryAxis</code> has some weird problems, at least when the chart is animated, if you don&#39;t have at least the same categories registered with it as show up in the chart data. This <i>might</i> be the source of your problem (or it might not be)."},{"owner":{"account_id":20770242,"reputation":13,"user_id":15253529,"display_name":"Kerby3"},"score":0,"creation_date":1702206988,"post_id":77633500,"comment_id":136866121,"body_markdown":"Slaw, your comment about empty dates was correct. I didn’t notice that it doesn’t fill up at all afterwards. Thank you very much!","body":"Slaw, your comment about empty dates was correct. I didn’t notice that it doesn’t fill up at all afterwards. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":20770242,"reputation":13,"user_id":15253529,"display_name":"Kerby3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702207225,"creation_date":1702207225,"answer_id":77634570,"question_id":77633500,"body_markdown":"According to Slaw&#39;s comment, I will add data to dates like this\r\n\r\n    public void drawChart() {\r\n            chart.setTitle(&quot;Country Summary&quot;);\r\n            chart.setAxisSortingPolicy(LineChart.SortingPolicy.NONE);\r\n            xAxis.setLabel(&quot;Country&quot;);\r\n            yAxis.setLabel(&quot;Value&quot;);\r\n            dates.clear();\r\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; data = par.prepareDataToDraw();\r\n            for (ArrayList&lt;String&gt; tmpDates: data){\r\n                dates.add(tmpDates.get(0));\r\n            }\r\n            xAxis.setCategories(dates);\r\n    \r\n            for (int i = 1; i &lt; items.size(); i++) {\r\n                XYChart.Series tmpSeries = new XYChart.Series();\r\n                tmpSeries.setName(items.get(i));\r\n                for (int j = 0; j &lt; data.size(); j++) {\r\n                    tmpSeries.getData().add(new XYChart.Data(data.get(j).get(0), Double.parseDouble(data.get(j).get(i))));\r\n                }\r\n                chart.getData().add(tmpSeries);\r\n            }\r\n        }\r\n\r\nAnd everything worked","title":"javafx doesn&#39;t draw graph","body":"<p>According to Slaw's comment, I will add data to dates like this</p>\n<pre><code>public void drawChart() {\n        chart.setTitle(&quot;Country Summary&quot;);\n        chart.setAxisSortingPolicy(LineChart.SortingPolicy.NONE);\n        xAxis.setLabel(&quot;Country&quot;);\n        yAxis.setLabel(&quot;Value&quot;);\n        dates.clear();\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; data = par.prepareDataToDraw();\n        for (ArrayList&lt;String&gt; tmpDates: data){\n            dates.add(tmpDates.get(0));\n        }\n        xAxis.setCategories(dates);\n\n        for (int i = 1; i &lt; items.size(); i++) {\n            XYChart.Series tmpSeries = new XYChart.Series();\n            tmpSeries.setName(items.get(i));\n            for (int j = 0; j &lt; data.size(); j++) {\n                tmpSeries.getData().add(new XYChart.Data(data.get(j).get(0), Double.parseDouble(data.get(j).get(i))));\n            }\n            chart.getData().add(tmpSeries);\n        }\n    }\n</code></pre>\n<p>And everything worked</p>\n"}],"owner":{"account_id":20770242,"reputation":13,"user_id":15253529,"display_name":"Kerby3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702207225,"creation_date":1702174616,"question_id":77633500,"body_markdown":"I&#39;m trying to draw a graph of currency changes. I take the data from a text file. The data looks like this. \r\n\r\n    09.12.2023 1 91.6402 98.8409 22.8068\r\n    10.12.2023 1 91.8103 99.0205 23.5067\r\n    11.12.2023 1 90.5367 98.0256 22.0023\r\nthe line consists of 5 parts: date, relation to the original currency, relation to the dollar, relation to the euro, relation to the zloty.\r\n\r\nI prepare data like this, arraylist lines stores an array of lines from a file\r\n\r\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; prepareDataToDraw() {\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        String[] tmpStr = new String[5];\r\n        if (lines.size() &gt; 5) {\r\n            for(int i = lines.size()-1; i &lt; lines.size(); i++) {\r\n                tmpStr = lines.get(i).split(&quot; &quot;);\r\n                ArrayList&lt;String&gt; tmpBlock = new ArrayList&lt;&gt;();\r\n                tmpBlock.add(tmpStr[0]);\r\n                tmpBlock.add(tmpStr[2]);\r\n                tmpBlock.add(tmpStr[3]);\r\n                tmpBlock.add(tmpStr[4]);\r\n                data.add(tmpBlock);\r\n            }\r\n        } else {\r\n            for (String line : lines) {\r\n                tmpStr = line.split(&quot; &quot;);\r\n                ArrayList&lt;String&gt; tmpBlock = new ArrayList&lt;&gt;();\r\n                tmpBlock.add(tmpStr[0]);\r\n                tmpBlock.add(tmpStr[2]);\r\n                tmpBlock.add(tmpStr[3]);\r\n                tmpBlock.add(tmpStr[4]);\r\n                data.add(tmpBlock);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\nI&#39;m trying to draw a graph using this function. The variable dates stores dates from the file\r\n\r\n    public void drawChart() {\r\n            chart.setTitle(&quot;Country Summary&quot;);\r\n            chart.setAxisSortingPolicy(LineChart.SortingPolicy.NONE);\r\n            xAxis.setLabel(&quot;Country&quot;);\r\n            yAxis.setLabel(&quot;Value&quot;);\r\n            dates.clear();\r\n            cures.clear();\r\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; data = par.prepareDataToDraw();\r\n            xAxis.setCategories(dates);\r\n    \r\n            ArrayList&lt;XYChart.Series&gt; listSeries = new ArrayList&lt;&gt;();\r\n            for (int i = 1; i &lt; items.size(); i++) {\r\n                XYChart.Series tmpSeries = new XYChart.Series();\r\n                tmpSeries.setName(items.get(i));\r\n                for (int j = 0; j &lt; data.size(); j++) {\r\n                    tmpSeries.getData().add(new XYChart.Data(data.get(j).get(0), Double.parseDouble(data.get(j).get(i))));\r\n                }\r\n                chart.getData().add(tmpSeries);\r\n            }\r\n\r\n\r\nthe graph is defined in the fxml file like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.chart.CategoryAxis?&gt;\r\n    &lt;?import javafx.scene.chart.LineChart?&gt;\r\n    &lt;?import javafx.scene.chart.NumberAxis?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.chart.BarChart?&gt;\r\n    &lt;?import javafx.scene.shape.Line?&gt;\r\n    &lt;GridPane hgap=&quot;15&quot; vgap=&quot;15&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n        &lt;ComboBox fx:id=&quot;fromCurrency&quot; onAction=&quot;#changeFromCurrencyCombo&quot; GridPane.rowIndex=&quot;3&quot; GridPane.columnIndex=&quot;2&quot;/&gt;\r\n        &lt;TextField fx:id=&quot;fromCurrencyText&quot; onTextChange=&quot;#changeFromCurrencyText&quot; GridPane.rowIndex=&quot;4&quot; GridPane.columnIndex=&quot;2&quot;/&gt;\r\n        &lt;Label fx:id=&quot;fromCurrencyLabel&quot; GridPane.rowIndex=&quot;5&quot; GridPane.columnIndex=&quot;2&quot;&gt;&lt;/Label&gt;\r\n        &lt;Button fx:id=&quot;swapButton&quot; text=&quot;↔&quot; GridPane.rowIndex=&quot;6&quot; GridPane.columnIndex=&quot;2&quot; onAction=&quot;#swapButtonClicked&quot;&gt;&lt;/Button&gt;\r\n        &lt;ComboBox fx:id=&quot;toCurrency&quot; onAction=&quot;#changeToCurrencyCombo&quot; GridPane.rowIndex=&quot;7&quot; GridPane.columnIndex=&quot;2&quot;/&gt;\r\n        &lt;Label fx:id=&quot;toCurrencyText&quot;  GridPane.rowIndex=&quot;8&quot; GridPane.columnIndex=&quot;2&quot;/&gt;&lt;!--onTextChange=&quot;#changeToCurrencyText&quot;--&gt;\r\n        &lt;Label fx:id=&quot;toCurrencyLabel&quot; GridPane.rowIndex=&quot;9&quot; GridPane.columnIndex=&quot;2&quot;&gt;&lt;/Label&gt;\r\n        &lt;LineChart fx:id=&quot;chart&quot; GridPane.rowIndex=&quot;10&quot; GridPane.columnIndex=&quot;2&quot;&gt;\r\n            &lt;xAxis&gt;\r\n                &lt;CategoryAxis fx:id=&quot;xAxis&quot;&gt;\r\n                &lt;/CategoryAxis&gt;\r\n            &lt;/xAxis&gt;\r\n            &lt;yAxis&gt;\r\n                &lt;NumberAxis fx:id=&quot;yAxis&quot;/&gt;\r\n            &lt;/yAxis&gt;\r\n        &lt;/LineChart&gt;\r\n    &lt;/GridPane&gt;\r\n\r\nThe chart is not drawn and I also noticed that the order of the data is changing without my knowledge and tried to prevent this using `chart.setAxisSortingPolicy(LineChart.SortingPolicy.NONE);`\r\nBut the data still changes order\r\nWindow of program look like this\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Krqrc.png","title":"javafx doesn&#39;t draw graph","body":"<p>I'm trying to draw a graph of currency changes. I take the data from a text file. The data looks like this.</p>\n<pre><code>09.12.2023 1 91.6402 98.8409 22.8068\n10.12.2023 1 91.8103 99.0205 23.5067\n11.12.2023 1 90.5367 98.0256 22.0023\n</code></pre>\n<p>the line consists of 5 parts: date, relation to the original currency, relation to the dollar, relation to the euro, relation to the zloty.</p>\n<p>I prepare data like this, arraylist lines stores an array of lines from a file</p>\n<pre><code>public ArrayList&lt;ArrayList&lt;String&gt;&gt; prepareDataToDraw() {\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; data = new ArrayList&lt;&gt;();\n\n    String[] tmpStr = new String[5];\n    if (lines.size() &gt; 5) {\n        for(int i = lines.size()-1; i &lt; lines.size(); i++) {\n            tmpStr = lines.get(i).split(&quot; &quot;);\n            ArrayList&lt;String&gt; tmpBlock = new ArrayList&lt;&gt;();\n            tmpBlock.add(tmpStr[0]);\n            tmpBlock.add(tmpStr[2]);\n            tmpBlock.add(tmpStr[3]);\n            tmpBlock.add(tmpStr[4]);\n            data.add(tmpBlock);\n        }\n    } else {\n        for (String line : lines) {\n            tmpStr = line.split(&quot; &quot;);\n            ArrayList&lt;String&gt; tmpBlock = new ArrayList&lt;&gt;();\n            tmpBlock.add(tmpStr[0]);\n            tmpBlock.add(tmpStr[2]);\n            tmpBlock.add(tmpStr[3]);\n            tmpBlock.add(tmpStr[4]);\n            data.add(tmpBlock);\n        }\n    }\n    return data;\n}\n</code></pre>\n<p>I'm trying to draw a graph using this function. The variable dates stores dates from the file</p>\n<pre><code>public void drawChart() {\n        chart.setTitle(&quot;Country Summary&quot;);\n        chart.setAxisSortingPolicy(LineChart.SortingPolicy.NONE);\n        xAxis.setLabel(&quot;Country&quot;);\n        yAxis.setLabel(&quot;Value&quot;);\n        dates.clear();\n        cures.clear();\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; data = par.prepareDataToDraw();\n        xAxis.setCategories(dates);\n\n        ArrayList&lt;XYChart.Series&gt; listSeries = new ArrayList&lt;&gt;();\n        for (int i = 1; i &lt; items.size(); i++) {\n            XYChart.Series tmpSeries = new XYChart.Series();\n            tmpSeries.setName(items.get(i));\n            for (int j = 0; j &lt; data.size(); j++) {\n                tmpSeries.getData().add(new XYChart.Data(data.get(j).get(0), Double.parseDouble(data.get(j).get(i))));\n            }\n            chart.getData().add(tmpSeries);\n        }\n</code></pre>\n<p>the graph is defined in the fxml file like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.chart.CategoryAxis?&gt;\n&lt;?import javafx.scene.chart.LineChart?&gt;\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.chart.BarChart?&gt;\n&lt;?import javafx.scene.shape.Line?&gt;\n&lt;GridPane hgap=&quot;15&quot; vgap=&quot;15&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;ComboBox fx:id=&quot;fromCurrency&quot; onAction=&quot;#changeFromCurrencyCombo&quot; GridPane.rowIndex=&quot;3&quot; GridPane.columnIndex=&quot;2&quot;/&gt;\n    &lt;TextField fx:id=&quot;fromCurrencyText&quot; onTextChange=&quot;#changeFromCurrencyText&quot; GridPane.rowIndex=&quot;4&quot; GridPane.columnIndex=&quot;2&quot;/&gt;\n    &lt;Label fx:id=&quot;fromCurrencyLabel&quot; GridPane.rowIndex=&quot;5&quot; GridPane.columnIndex=&quot;2&quot;&gt;&lt;/Label&gt;\n    &lt;Button fx:id=&quot;swapButton&quot; text=&quot;↔&quot; GridPane.rowIndex=&quot;6&quot; GridPane.columnIndex=&quot;2&quot; onAction=&quot;#swapButtonClicked&quot;&gt;&lt;/Button&gt;\n    &lt;ComboBox fx:id=&quot;toCurrency&quot; onAction=&quot;#changeToCurrencyCombo&quot; GridPane.rowIndex=&quot;7&quot; GridPane.columnIndex=&quot;2&quot;/&gt;\n    &lt;Label fx:id=&quot;toCurrencyText&quot;  GridPane.rowIndex=&quot;8&quot; GridPane.columnIndex=&quot;2&quot;/&gt;&lt;!--onTextChange=&quot;#changeToCurrencyText&quot;--&gt;\n    &lt;Label fx:id=&quot;toCurrencyLabel&quot; GridPane.rowIndex=&quot;9&quot; GridPane.columnIndex=&quot;2&quot;&gt;&lt;/Label&gt;\n    &lt;LineChart fx:id=&quot;chart&quot; GridPane.rowIndex=&quot;10&quot; GridPane.columnIndex=&quot;2&quot;&gt;\n        &lt;xAxis&gt;\n            &lt;CategoryAxis fx:id=&quot;xAxis&quot;&gt;\n            &lt;/CategoryAxis&gt;\n        &lt;/xAxis&gt;\n        &lt;yAxis&gt;\n            &lt;NumberAxis fx:id=&quot;yAxis&quot;/&gt;\n        &lt;/yAxis&gt;\n    &lt;/LineChart&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p>The chart is not drawn and I also noticed that the order of the data is changing without my knowledge and tried to prevent this using <code>chart.setAxisSortingPolicy(LineChart.SortingPolicy.NONE);</code>\nBut the data still changes order\nWindow of program look like this\n<a href=\"https://i.stack.imgur.com/Krqrc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","persistence"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702198877,"post_id":77634096,"comment_id":136865589,"body_markdown":"What IDE are you using?  Or is this happening when you build from the command line?","body":"What IDE are you using?  Or is this happening when you build from the command line?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702199059,"post_id":77634096,"comment_id":136865597,"body_markdown":"(For Eclipse, try rerunning `gradle eclipse` to update the project&#39;s classpath.)","body":"(For Eclipse, try rerunning <code>gradle eclipse</code> to update the project&#39;s classpath.)"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1702206579,"post_id":77634096,"comment_id":136866091,"body_markdown":"Probably not related to your problem, but if you&#39;re using Spring Boot, you should let Spring Boot manage the dependencies (especially the versions), instead of doing it yourself. Also, you&#39;re specifying dependencies which the Spring Boot starters already pull in for you.","body":"Probably not related to your problem, but if you&#39;re using Spring Boot, you should let Spring Boot manage the dependencies (especially the versions), instead of doing it yourself. Also, you&#39;re specifying dependencies which the Spring Boot starters already pull in for you."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1702233161,"post_id":77634096,"comment_id":136868613,"body_markdown":"@MarkRotteveel is right. All those `jakarta.*` dependencies should be removed as these are also transitive dependencies from `spring-boot-starter-data-jpa`, `spring-boot-starter-web` and `spring-boot-starter-validation`. The same goes for `hibernate-core`.","body":"@MarkRotteveel is right. All those <code>jakarta.*</code> dependencies should be removed as these are also transitive dependencies from <code>spring-boot-starter-data-jpa</code>, <code>spring-boot-starter-web</code> and <code>spring-boot-starter-validation</code>. The same goes for <code>hibernate-core</code>."},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702235949,"post_id":77634096,"comment_id":136868927,"body_markdown":"I&#39;m using the IntelliJ community version @StephenC. I removed the Jarkarta and hibernate-core dependencies, but the problem persists.","body":"I&#39;m using the IntelliJ community version @StephenC. I removed the Jarkarta and hibernate-core dependencies, but the problem persists."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702249080,"post_id":77634096,"comment_id":136870056,"body_markdown":"Does this happening when you build from the command line?","body":"Does this happening when you build from the command line?"},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702256040,"post_id":77634096,"comment_id":136870647,"body_markdown":"Yes, it does. I&#39;ve tried using the ./gradlew build command, and it fails out on a test I haven&#39;t worked on yet. It gives me the error message: \n*Myproject*Tests &gt; contextLoads() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:180","body":"Yes, it does. I&#39;ve tried using the ./gradlew build command, and it fails out on a test I haven&#39;t worked on yet. It gives me the error message:  <i>Myproject</i>Tests &gt; contextLoads() FAILED     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:180"},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702256044,"post_id":77634096,"comment_id":136870648,"body_markdown":"Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1775\n            Caused by: jakarta.persistence.PersistenceException at AbstractEntityManagerFactoryBean.java:421\n                Caused by: org.hibernate.exception.GenericJDBCException at StandardSQLExceptionConverter.java:63\n                    Caused by: java.sql.SQLException at SQLError.java:130","body":"Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1775             Caused by: jakarta.persistence.PersistenceException at AbstractEntityManagerFactoryBean.java:421                 Caused by: org.hibernate.exception.GenericJDBCException at StandardSQLExceptionConverter.java:63                     Caused by: java.sql.SQLException at SQLError.java:130"}],"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702206645,"creation_date":1702195446,"question_id":77634096,"body_markdown":"I&#39;m trying to use @Entity and @Id on another part of my project, but I need the error &quot;java: package jakarta.persistence does not exist&quot; to be resolved first. I&#39;ve been working on this all day, but I really haven&#39;t gotten anywhere. I&#39;m using Gradle and below are my dependencies. Does anyone know how to fix this problem? Please let me know if you need more information.\r\n\r\n```groovy\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n}\r\n\r\ngroup = &#39;com.*group-name*&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\njava {\r\n\ttoolchain {\r\n\t\tlanguageVersion = JavaLanguageVersion.of(17)\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.2.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web:3.2.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter:3.2.0&#39;\r\n\timplementation &#39;mysql:mysql-connector-java:8.0.32&#39;\r\n\timplementation &#39;org.jetbrains:annotations:22.0.0&#39;\r\n\timplementation &#39;org.hibernate:hibernate-core:6.4.0.Final&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation:3.2.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-gradle-plugin:3.2.0&#39;\r\n\timplementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n\timplementation &#39;jakarta.validation:jakarta.validation-api:2.0.2&#39;\r\n\timplementation &#39;jakarta.servlet:jakarta.servlet-api:6.0.0&#39;\r\n\timplementation &#39;jakarta.annotation:jakarta.annotation-api:2.1.1&#39;\r\n\timplementation &#39;jakarta.transaction:jakarta.transaction-api:2.0.1&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools:3.2.0&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test:3.2.0&#39;\r\n}\r\n\r\njar {\r\n\tarchiveFileName = &quot;${project.name}-${project.version}.jar&quot;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried adding new dependencies, checking all versions to make sure they&#39;re up to date, and I&#39;ve altered the structure of my files to make sure that the right files were in the right places. I also tried invalidating caches, and adding my src to the listing of libraries.","title":"java: package jakarta.persistence does not exist","body":"<p>I'm trying to use @Entity and @Id on another part of my project, but I need the error &quot;java: package jakarta.persistence does not exist&quot; to be resolved first. I've been working on this all day, but I really haven't gotten anywhere. I'm using Gradle and below are my dependencies. Does anyone know how to fix this problem? Please let me know if you need more information.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.1.4'\n}\n\ngroup = 'com.*group-name*'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-starter:3.2.0'\n    implementation 'mysql:mysql-connector-java:8.0.32'\n    implementation 'org.jetbrains:annotations:22.0.0'\n    implementation 'org.hibernate:hibernate-core:6.4.0.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-gradle-plugin:3.2.0'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n    implementation 'jakarta.validation:jakarta.validation-api:2.0.2'\n    implementation 'jakarta.servlet:jakarta.servlet-api:6.0.0'\n    implementation 'jakarta.annotation:jakarta.annotation-api:2.1.1'\n    implementation 'jakarta.transaction:jakarta.transaction-api:2.0.1'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools:3.2.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:3.2.0'\n}\n\njar {\n    archiveFileName = &quot;${project.name}-${project.version}.jar&quot;\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I've tried adding new dependencies, checking all versions to make sure they're up to date, and I've altered the structure of my files to make sure that the right files were in the right places. I also tried invalidating caches, and adding my src to the listing of libraries.</p>\n"},{"tags":["java","spring","spring-boot","long-polling"],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702206418,"creation_date":1702206418,"question_id":77634527,"body_markdown":"I have a long polling server, I wrote it this way:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class LongPollingController {\r\n    private final Map&lt;String, String&gt; codeTypeCodeMap = new HashMap&lt;&gt;();\r\n\r\n    @GetMapping(&quot;/getCode&quot;)\r\n    public Map&lt;String, String&gt; getCode(@RequestParam(required = true, value = &quot;type&quot;) String type) throws InterruptedException {\r\n        while (codeTypeCodeMap.get(type) == null){\r\n            Thread.sleep(600);\r\n        }\r\n\r\n        String code = codeTypeCodeMap.get(type);\r\n\r\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\r\n\r\n        response.put(&quot;code&quot;, code);\r\n\r\n        codeTypeCodeMap.put(type, null);\r\n\r\n        return response;\r\n    }\r\n\r\n    @PostMapping(&quot;/sendCode&quot;)\r\n    public void sendCode(@RequestBody SendCodeRequest sendCodeRequest){\r\n        codeTypeCodeMap.put(sendCodeRequest.getType(), sendCodeRequest.getCode());\r\n    }\r\n}\r\n\r\n```\r\nIf I send a GET request to getCode 4-5 times and cancel them immediately, and after that send a sixth time, when sending the code to sendCode, my request will hang simply. After I use sendCode 2-3 times, the sixth getCode request will return a response. How to solve this problem?\r\n","title":"Why is the answer not returned when creating a Long Polling Spring boot?","body":"<p>I have a long polling server, I wrote it this way:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class LongPollingController {\n    private final Map&lt;String, String&gt; codeTypeCodeMap = new HashMap&lt;&gt;();\n\n    @GetMapping(&quot;/getCode&quot;)\n    public Map&lt;String, String&gt; getCode(@RequestParam(required = true, value = &quot;type&quot;) String type) throws InterruptedException {\n        while (codeTypeCodeMap.get(type) == null){\n            Thread.sleep(600);\n        }\n\n        String code = codeTypeCodeMap.get(type);\n\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\n\n        response.put(&quot;code&quot;, code);\n\n        codeTypeCodeMap.put(type, null);\n\n        return response;\n    }\n\n    @PostMapping(&quot;/sendCode&quot;)\n    public void sendCode(@RequestBody SendCodeRequest sendCodeRequest){\n        codeTypeCodeMap.put(sendCodeRequest.getType(), sendCodeRequest.getCode());\n    }\n}\n\n</code></pre>\n<p>If I send a GET request to getCode 4-5 times and cancel them immediately, and after that send a sixth time, when sending the code to sendCode, my request will hang simply. After I use sendCode 2-3 times, the sixth getCode request will return a response. How to solve this problem?</p>\n"},{"tags":["java","certificate","code-signing","jpackage"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1701612688,"post_id":77584300,"comment_id":136794930,"body_markdown":"How to reproduce this on the local? I&#39;m using mac. I have already downloaded the SongKong app.","body":"How to reproduce this on the local? I&#39;m using mac. I have already downloaded the SongKong app."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1701616055,"post_id":77584300,"comment_id":136795275,"body_markdown":"`kSignCMD` is now [obsolete](https://support.ksoftware.net/support/solutions/articles/17169-how-do-i-automate-code-signing-with-innosetup-and-ksign-). You should not use it anymore.","body":"<code>kSignCMD</code> is now <a href=\"https://support.ksoftware.net/support/solutions/articles/17169-how-do-i-automate-code-signing-with-innosetup-and-ksign-\" rel=\"nofollow noreferrer\">obsolete</a>. You should not use it anymore."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1701686567,"post_id":77584300,"comment_id":136802238,"body_markdown":"@AnishB. hi its a windows only issue","body":"@AnishB. hi its a windows only issue"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1701686674,"post_id":77584300,"comment_id":136802251,"body_markdown":"@Olivier thx will look into new tool, still interested in how new version of JPackage could break existing tool though","body":"@Olivier thx will look into new tool, still interested in how new version of JPackage could break existing tool though"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1701762573,"post_id":77584300,"comment_id":136812678,"body_markdown":"I guess only K Software could give you an explanation.","body":"I guess only K Software could give you an explanation."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1701867844,"post_id":77584300,"comment_id":136827892,"body_markdown":"@Oliver i thought a Java expert might know of some key difference with jpackage 21","body":"@Oliver i thought a Java expert might know of some key difference with jpackage 21"}],"answers":[{"tags":[],"owner":{"account_id":5927294,"reputation":321,"user_id":4662834,"display_name":"Harisudan Kuppusami"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702100396,"creation_date":1702100396,"answer_id":77630271,"question_id":77584300,"body_markdown":"Most likely that certificate used by you is not compatible with Java21 &lt;br&gt;\r\n**Solution:** Please get new certificate from vendor \r\n\r\n**Rootcause:** whenever we upgrade to Java version, we need to recreate keystore files because each java version will remove some service providers and add/remove  algorithms/certificates supported\r\n\r\n**Reference URLs:**\r\n\r\n 1. https://www.oracle.com/java/technologies/javase/21-relnote-issues.html#JDK-8295894 has list of Security Algorithms supported\r\n \r\n 2. https://docs.oracle.com/en/java/javase/21/security/oracle-providers.html#GUID-F41EE1C9-DD6A-4BAB-8979-EB7654094029  has Security Certificate Provider details\r\n 3. https://docs.oracle.com/en/java/javase/21/migrate/removed-tools-and-components.html#GUID-D7936F0D-08A9-411E-AD2F-E14A38DA56A7 has information on  list of Tools removed from Java21 .\r\n 4. Please refer Removed Features and Options section on\r\n        https://www.oracle.com/java/technologies/javase/21-relnote-issues.html  \r\n    [![enter image description here][1]][1]\r\n    \r\nIf comodo certificate uses any of these features , Java21 blocks it and signing will not happen.\r\n\r\n   [1]: https://i.stack.imgur.com/RMerB.png","title":"Using Ksign and Comodo certificate unable to digitally sign Java installer built using JPackage with Java 21, okay with Java 20","body":"<p>Most likely that certificate used by you is not compatible with Java21 <br>\n<strong>Solution:</strong> Please get new certificate from vendor</p>\n<p><strong>Rootcause:</strong> whenever we upgrade to Java version, we need to recreate keystore files because each java version will remove some service providers and add/remove  algorithms/certificates supported</p>\n<p><strong>Reference URLs:</strong></p>\n<ol>\n<li><p><a href=\"https://www.oracle.com/java/technologies/javase/21-relnote-issues.html#JDK-8295894\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/21-relnote-issues.html#JDK-8295894</a> has list of Security Algorithms supported</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/21/security/oracle-providers.html#GUID-F41EE1C9-DD6A-4BAB-8979-EB7654094029\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/security/oracle-providers.html#GUID-F41EE1C9-DD6A-4BAB-8979-EB7654094029</a>  has Security Certificate Provider details</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/21/migrate/removed-tools-and-components.html#GUID-D7936F0D-08A9-411E-AD2F-E14A38DA56A7\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/migrate/removed-tools-and-components.html#GUID-D7936F0D-08A9-411E-AD2F-E14A38DA56A7</a> has information on  list of Tools removed from Java21 .</p>\n</li>\n<li><p>Please refer Removed Features and Options section on\n<a href=\"https://www.oracle.com/java/technologies/javase/21-relnote-issues.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/21-relnote-issues.html</a><br />\n<a href=\"https://i.stack.imgur.com/RMerB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RMerB.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>If comodo certificate uses any of these features , Java21 blocks it and signing will not happen.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702206363,"creation_date":1702206363,"answer_id":77634524,"question_id":77584300,"body_markdown":"As you are using `ksigncmd` you are not using the most current version of kSIgn (&gt;=3.0.0) - because there they are no longer offering a commandline tool. (See [K Softwares tutorial][1])\r\n\r\nThe manufacturer of kSign recommends Microsofts own `signtool.exe` that is part of the free [Windows SDK][2]. It is a super huge download for just that small tool. It is also part of Visual Studio (probably not a smaller download), you find it&#39;s [reference documentation][3] also on the Microsoft homepage. That documentation is huge as signtool.exe is capable of many tasks.\r\n\r\nI also found this small guide [how to use signtool.exe with jpackage][4] but it&#39;s from Java 15 - so no guarantee that it will work with Java 21.\r\n\r\nSo while I cannot provide insight what changed from Java 20 to 21, I hope that the signtool replacement will also work for the latest version, or at least give a better error message.\r\n\r\n\r\n  [1]: https://support.ksoftware.net/support/solutions/articles/17170-how-do-i-use-ksign-to-digitally-sign-files-\r\n  [2]: https://developer.microsoft.com/de-de/windows/downloads/windows-sdk/\r\n  [3]: https://learn.microsoft.com/en-us/dotnet/framework/tools/signtool-exe\r\n  [4]: https://simplefury.com/posts/java/windows/jpackage-win-codesign/","title":"Using Ksign and Comodo certificate unable to digitally sign Java installer built using JPackage with Java 21, okay with Java 20","body":"<p>As you are using <code>ksigncmd</code> you are not using the most current version of kSIgn (&gt;=3.0.0) - because there they are no longer offering a commandline tool. (See <a href=\"https://support.ksoftware.net/support/solutions/articles/17170-how-do-i-use-ksign-to-digitally-sign-files-\" rel=\"nofollow noreferrer\">K Softwares tutorial</a>)</p>\n<p>The manufacturer of kSign recommends Microsofts own <code>signtool.exe</code> that is part of the free <a href=\"https://developer.microsoft.com/de-de/windows/downloads/windows-sdk/\" rel=\"nofollow noreferrer\">Windows SDK</a>. It is a super huge download for just that small tool. It is also part of Visual Studio (probably not a smaller download), you find it's <a href=\"https://learn.microsoft.com/en-us/dotnet/framework/tools/signtool-exe\" rel=\"nofollow noreferrer\">reference documentation</a> also on the Microsoft homepage. That documentation is huge as signtool.exe is capable of many tasks.</p>\n<p>I also found this small guide <a href=\"https://simplefury.com/posts/java/windows/jpackage-win-codesign/\" rel=\"nofollow noreferrer\">how to use signtool.exe with jpackage</a> but it's from Java 15 - so no guarantee that it will work with Java 21.</p>\n<p>So while I cannot provide insight what changed from Java 20 to 21, I hope that the signtool replacement will also work for the latest version, or at least give a better error message.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1702206363,"creation_date":1701423893,"question_id":77584300,"body_markdown":"My Java application uses Oracles **JPackage** to build an installation, I then use **ksigncmd** to digitally sign the installer using a certificate provided by comodo\r\n\r\n\r\ne.g.\r\n\r\n    c:\\Code\\jthink\\SongKong&gt;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-20.0.2.9-hotspot\\bin\\jpackage&quot; --add-launcher SongKongDebug=songkongdebug.properties --add-launcher SongKongRemote=songkongremote.properties @jpackage.txt\r\n    \r\n    c:\\Code\\jthink\\SongKong&gt;attrib -r SongKong-10.0.exe\r\n    \r\n    c:\\Code\\jthink\\SongKong&gt;C:\\Apps\\Code\\kSign\\ksigncmd /d &quot;SongKong Installer&quot; /du &quot;http://jthink.net/songkong&quot; /f c:\\code\\signing\\comodo.pfx /p password SongKong-10.0.exe\r\n   \r\n    \r\n\r\nBeen working for many years.\r\n\r\nTo resolve an issue with JPackage I would like to use the Java 21 version of JPackage but when I do that signing now fails with *An unknown error has occured. Please contact your vendor for assistance*\r\n\r\ne.g.\r\n\r\n    c:\\Code\\jthink\\SongKong&gt;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-21.0.1.12-hotspot\\bin\\jpackage&quot; --add-launcher SongKongDebug=songkongdebug.properties --add-launcher SongKongRemote=songkongremote.properties @jpackage.txt\r\n    \r\n    c:\\Code\\jthink\\SongKong&gt;attrib -r SongKong-10.0.exe\r\n    \r\n    c:\\Code\\jthink\\SongKong&gt;C:\\Apps\\Code\\kSign\\ksigncmd /d &quot;SongKong Installer&quot; /du &quot;http://jthink.net/songkong&quot; /f c:\\code\\signing\\comodo.pfx /p password SongKong-10.0.exe\r\n    An unknown error has occured. Please contact your vendor for assistance\r\n\r\nWhat could be the change in the Java 21 build that prevents **ksigncmd** working ?\r\n\r\n","title":"Using Ksign and Comodo certificate unable to digitally sign Java installer built using JPackage with Java 21, okay with Java 20","body":"<p>My Java application uses Oracles <strong>JPackage</strong> to build an installation, I then use <strong>ksigncmd</strong> to digitally sign the installer using a certificate provided by comodo</p>\n<p>e.g.</p>\n<pre><code>c:\\Code\\jthink\\SongKong&gt;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-20.0.2.9-hotspot\\bin\\jpackage&quot; --add-launcher SongKongDebug=songkongdebug.properties --add-launcher SongKongRemote=songkongremote.properties @jpackage.txt\n\nc:\\Code\\jthink\\SongKong&gt;attrib -r SongKong-10.0.exe\n\nc:\\Code\\jthink\\SongKong&gt;C:\\Apps\\Code\\kSign\\ksigncmd /d &quot;SongKong Installer&quot; /du &quot;http://jthink.net/songkong&quot; /f c:\\code\\signing\\comodo.pfx /p password SongKong-10.0.exe\n</code></pre>\n<p>Been working for many years.</p>\n<p>To resolve an issue with JPackage I would like to use the Java 21 version of JPackage but when I do that signing now fails with <em>An unknown error has occured. Please contact your vendor for assistance</em></p>\n<p>e.g.</p>\n<pre><code>c:\\Code\\jthink\\SongKong&gt;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-21.0.1.12-hotspot\\bin\\jpackage&quot; --add-launcher SongKongDebug=songkongdebug.properties --add-launcher SongKongRemote=songkongremote.properties @jpackage.txt\n\nc:\\Code\\jthink\\SongKong&gt;attrib -r SongKong-10.0.exe\n\nc:\\Code\\jthink\\SongKong&gt;C:\\Apps\\Code\\kSign\\ksigncmd /d &quot;SongKong Installer&quot; /du &quot;http://jthink.net/songkong&quot; /f c:\\code\\signing\\comodo.pfx /p password SongKong-10.0.exe\nAn unknown error has occured. Please contact your vendor for assistance\n</code></pre>\n<p>What could be the change in the Java 21 build that prevents <strong>ksigncmd</strong> working ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1702212471,"post_id":77633880,"comment_id":136866543,"body_markdown":"It&#39;s quite unlikely that this isolated code fails. Please specify the Spring version you are using, provide a complete reproducible example (incl. the imports) and provide the full stack trace.","body":"It&#39;s quite unlikely that this isolated code fails. Please specify the Spring version you are using, provide a complete reproducible example (incl. the imports) and provide the full stack trace."},{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1702261207,"post_id":77633880,"comment_id":136870993,"body_markdown":"Check in postman first before writing the code.","body":"Check in postman first before writing the code."},{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1702261226,"post_id":77633880,"comment_id":136870995,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29514676,"reputation":3,"user_id":22618894,"display_name":"Hani Bikdeli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702204617,"creation_date":1702189854,"question_id":77633880,"body_markdown":"I am trying to call an api using spring&#39;s rest template, but I get this exception even though I am certain the request is going through:\r\n```\r\nI/O error on POST request for \\&quot;http://example.com&quot;: mark/reset not supported; nested exception is java.io.IOException: mark/reset not supported\r\n```\r\n\r\nthis is my code:\r\n```\r\n    private final RestTemplate restTemplate;\r\n\r\n    public JsonNode sendRequest(String value) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        Map&lt;String, String&gt; body = new HashMap&lt;&gt;();\r\n        body.put(&quot;param&quot;, value);\r\n\r\n        return restTemplate.postForObject(&quot;http://example.com&quot;, new HttpEntity&lt;&gt;(body, headers), JsonNode.class);\r\n    }\r\n\r\n```\r\nsomebody please help","title":"getting java.io.IOException: mark/reset not supported while using rest template","body":"<p>I am trying to call an api using spring's rest template, but I get this exception even though I am certain the request is going through:</p>\n<pre><code>I/O error on POST request for \\&quot;http://example.com&quot;: mark/reset not supported; nested exception is java.io.IOException: mark/reset not supported\n</code></pre>\n<p>this is my code:</p>\n<pre><code>    private final RestTemplate restTemplate;\n\n    public JsonNode sendRequest(String value) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        Map&lt;String, String&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;param&quot;, value);\n\n        return restTemplate.postForObject(&quot;http://example.com&quot;, new HttpEntity&lt;&gt;(body, headers), JsonNode.class);\n    }\n\n</code></pre>\n<p>somebody please help</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702204251,"creation_date":1702204251,"answer_id":77634438,"question_id":77624828,"body_markdown":"As I understand, the problem is that your test is running in one transaction and you set `cascade = CascadeType.ALL` for `Parent` and `Doctor` `medicalNotes` fields. So `deleteByDoctorId` marks `MedicalNote` entity for removal but at the end of transaction Hibernate propagates persistent status again from doctor or parent. \r\n\r\nIf you remove `cascade = CascadeType.ALL` or run &quot;Given&quot; test block in a separate transaction from &quot;When&quot; and &quot;Then&quot; - the test will finish correctly. ","title":"Composite primary and foreign key in JPA","body":"<p>As I understand, the problem is that your test is running in one transaction and you set <code>cascade = CascadeType.ALL</code> for <code>Parent</code> and <code>Doctor</code> <code>medicalNotes</code> fields. So <code>deleteByDoctorId</code> marks <code>MedicalNote</code> entity for removal but at the end of transaction Hibernate propagates persistent status again from doctor or parent.</p>\n<p>If you remove <code>cascade = CascadeType.ALL</code> or run &quot;Given&quot; test block in a separate transaction from &quot;When&quot; and &quot;Then&quot; - the test will finish correctly.</p>\n"}],"owner":{"account_id":25953659,"reputation":1,"user_id":19671309,"display_name":"Mostafa M. Galal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702204251,"creation_date":1702018501,"question_id":77624828,"body_markdown":"I have MedicalNote referencing both Doctor and Patient ids and have a date attribute all of these constitute the primary key for MedicalNote. MedicalNote and both Doctor and Patient have one to many bidirectional relation. I want to make sure if this the right way to implement this in Hibernate.\r\n\r\nMedicalNote\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.sql.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;MedicalNote&quot;)\r\n@IdClass(MedicalNoteId.class)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MedicalNote {\r\n    @Column(name = &quot;Diagnosis&quot;)\r\n    private String diagnosis;\r\n\r\n    @Column(name = &quot;Investigations&quot;)\r\n    private String investigations;\r\n\r\n    @Column(name = &quot;Prescription&quot;)\r\n    private String prescription;\r\n\r\n    @Id\r\n    @Column(name = &quot;Date&quot;)\r\n    private Date date;\r\n\r\n    @Id\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    @JoinColumn(name = &quot;PatientId&quot;)\r\n    private Patient patient;\r\n\r\n    @Id\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    @JoinColumn(name = &quot;DoctorId&quot;)\r\n    private Doctor doctor;\r\n}\r\n```\r\n\r\nMedicalNoteId\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport lombok.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.sql.Date;\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MedicalNoteId implements Serializable {\r\n    private Patient patient;\r\n    private Doctor doctor;\r\n    private Date date;\r\n}\r\n```\r\n\r\nDoctor\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport org.hibernate.Hibernate;\r\nimport org.hibernate.proxy.HibernateProxy;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;Doctor&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Doctor {\r\n    @Id\r\n    @Column(name = &quot;UserId&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;Title&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private DoctorTitle title;\r\n\r\n    @Column(name = &quot;Specialty&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private DoctorSpecialty specialty;\r\n\r\n    @MapsId\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;UserId&quot;)\r\n    private SystemUser systemUser;\r\n\r\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @ToString.Exclude\r\n    private List&lt;MedicalNote&gt; medicalNotes;\r\n\r\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @ToString.Exclude\r\n    private List&lt;TimeSlot&gt; timeSlots;\r\n\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH})\r\n    @JoinTable(\r\n            name = &quot;WorksFor&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;DoctorId&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;ClinicId&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    private List&lt;Clinic&gt; clinics;\r\n\r\n    public void addMedicalNote (MedicalNote medicalNote) {\r\n        if (medicalNotes == null) {\r\n            medicalNotes = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        medicalNotes.add(medicalNote);\r\n        medicalNote.setDoctor(this);\r\n    }\r\n\r\n    void deleteMedicalNote (MedicalNote medicalNote) {\r\n        if (medicalNotes != null) {\r\n            medicalNotes.remove(medicalNote);\r\n            medicalNote.setDoctor(null);\r\n        }\r\n    }\r\n\r\n    public void addTimeSlot (TimeSlot timeSlot) {\r\n        if (timeSlots == null) {\r\n            timeSlots = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        timeSlots.add(timeSlot);\r\n        timeSlot.setDoctor(this);\r\n    }\r\n\r\n    void deleteTimeSlot (TimeSlot timeSlot) {\r\n        if (timeSlots != null) {\r\n            timeSlots.remove(timeSlot);\r\n            timeSlot.setDoctor(null);\r\n        }\r\n    }\r\n\r\n    public void addClinic (Clinic clinic) {\r\n        if (clinics == null) {\r\n            clinics = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        clinics.add(clinic);\r\n        clinic.getDoctors().add(this);\r\n    }\r\n\r\n    void deleteClinic (Clinic clinic) {\r\n        if (clinics != null) {\r\n            clinics.remove(clinic);\r\n            clinic.getDoctors().remove(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPatient\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport org.hibernate.Hibernate;\r\nimport org.hibernate.proxy.HibernateProxy;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;Patient&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Patient {\r\n    @Id\r\n    @Column(name = &quot;UserId&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;Occupation&quot;)\r\n    private String occupation;\r\n\r\n    @Column(name = &quot;MaritalStatus&quot;)\r\n    private String maritalStatus;\r\n\r\n    @Column(name = &quot;Insurance&quot;)\r\n    private String insurance;\r\n\r\n    @MapsId\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;UserId&quot;)\r\n    private SystemUser systemUser;\r\n\r\n    @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.ALL)\r\n    @ToString.Exclude\r\n    private List&lt;MedicalNote&gt; medicalNotes;\r\n\r\n    public void addMedicalNote (MedicalNote medicalNote) {\r\n        if (medicalNotes == null) {\r\n            medicalNotes = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        medicalNotes.add(medicalNote);\r\n        medicalNote.setPatient(this);\r\n    }\r\n}\r\n```\r\n\r\nThis way makes some trouble when testing with H2 like this one\r\n```\r\n@Test\r\n    void whenDeleteByDoctorId_thenDeleteMedicalNote() {\r\n        // Given\r\n        Account patientAccount = Account.builder().\r\n                email(&quot;johnsmith123@lol.com&quot;).\r\n                username(&quot;JohnSmith1&quot;).\r\n                password(&quot;JohnyJohny123&quot;).\r\n                role(Role.PATIENT).\r\n                build();\r\n\r\n        SystemUser patientSystemUser = SystemUser.builder().\r\n                firstName(&quot;John&quot;).\r\n                lastName(&quot;Smith&quot;).\r\n                birthdate(Date.valueOf(&quot;1985-11-14&quot;)).\r\n                gender(Gender.MALE).\r\n                address(&quot;221B Baker Street&quot;).\r\n                mobilePhone(&quot;(555) 555-5555&quot;).\r\n                landlinePhone(&quot;(555) 123-4567&quot;).\r\n                account(patientAccount).\r\n                build();\r\n\r\n        Patient patient = Patient.builder().\r\n                occupation(&quot;Engineer&quot;).\r\n                maritalStatus(&quot;Single&quot;).\r\n                insurance(&quot;BOBA&quot;).\r\n                systemUser(patientSystemUser).\r\n                build();\r\n\r\n        patientRepository.save(patient);\r\n\r\n        Account doctorAccount = Account.builder().\r\n                email(&quot;drsmith@hospital.com&quot;).\r\n                username(&quot;DrSmith1&quot;).\r\n                password(&quot;Medical123&quot;).\r\n                role(Role.DOCTOR).\r\n                build();\r\n\r\n        SystemUser doctorSystemUser = SystemUser.builder().\r\n                firstName(&quot;Smith&quot;).\r\n                lastName(&quot;Health&quot;).\r\n                birthdate(Date.valueOf(&quot;1976-10-30&quot;)).\r\n                gender(Gender.MALE).\r\n                address(&quot;123 Main Street&quot;).\r\n                mobilePhone(&quot;(666) 666-6666&quot;).\r\n                landlinePhone(&quot;(555) 765-4321&quot;).\r\n                account(doctorAccount).\r\n                build();\r\n\r\n        Doctor doctor = Doctor.builder().\r\n                title(DoctorTitle.PROFESSOR).\r\n                specialty(DoctorSpecialty.ONCOLOGIST).\r\n                systemUser(doctorSystemUser).\r\n                build();\r\n\r\n        doctorRepository.save(doctor);\r\n\r\n        MedicalNote medicalNote = MedicalNote.builder().\r\n                date(Date.valueOf(&quot;2023-04-01&quot;)).\r\n                patient(patient).\r\n                doctor(doctor).\r\n                build();\r\n\r\n        medicalNoteRepository.save(medicalNote);\r\n\r\n        patient.addMedicalNote(medicalNote);\r\n        doctor.addMedicalNote(medicalNote);\r\n\r\n        patientRepository.save(patient);\r\n        doctorRepository.save(doctor);\r\n\r\n        // When\r\n        medicalNoteRepository.deleteByDoctorId(doctor.getId());\r\n\r\n        // Then\r\n        assertTrue(medicalNoteRepository.findByDoctorId(doctor.getId()).isEmpty());\r\n    }\r\n```\r\n\r\nit throws the current exception\r\n```\r\nHibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\r\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\r\nHibernate: insert into Patient (Insurance,MaritalStatus,Occupation,UserId) values (?,?,?,?)\r\nHibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\r\nHibernate: select \r\nm1_0.Date,m1_0.DoctorId,d1_0.UserId,d1_0.Specialty,s1_0.AccountId,a1_0.Id,a1_0.Email,a1_0.Enabled,a1_0.Password,a1_0.Role,a1_0.Username,s1_0.Address,s1_0.Birthdate,s1_0.FirstName,s1_0.Gender,s1_0.LandlinePhone,s1_0.LastName,s1_0.MobilePhone,d1_0.Title,c1_0.DoctorId,c1_1.ClinicId,c1_1.Address,a2_0.AccountId,a3_0.Id,a3_0.Email,a3_0.Enabled,a3_0.Password,a3_0.Role,a3_0.Username,c1_1.Email,c1_1.LandlinePhone,c1_1.MobilePhone,c1_1.Name,m1_0.PatientId,p1_0.UserId,p1_0.Insurance,p1_0.MaritalStatus,p1_0.Occupation,s2_0.AccountId,a4_0.Id,a4_0.Email,a4_0.Enabled,a4_0.Password,a4_0.Role,a4_0.Username,s2_0.Address,s2_0.Birthdate,s2_0.FirstName,s2_0.Gender,s2_0.LandlinePhone,s2_0.LastName,s2_0.MobilePhone,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 join Doctor d1_0 on d1_0.UserId=m1_0.DoctorId left join SystemUser s1_0 on s1_0.AccountId=d1_0.UserId left join Account a1_0 on a1_0.Id=s1_0.AccountId left join (WorksFor c1_0 join Clinic c1_1 on c1_1.ClinicId=c1_0.ClinicId) on d1_0.UserId=c1_0.DoctorId left join ClinicAdmin a2_0 on a2_0.AccountId=c1_1.ClinicId left join Account a3_0 on a3_0.Id=a2_0.AccountId join Patient p1_0 on p1_0.UserId=m1_0.PatientId left join SystemUser s2_0 on s2_0.AccountId=p1_0.UserId left join Account a4_0 on a4_0.Id=s2_0.AccountId where (m1_0.Date,m1_0.DoctorId,m1_0.PatientId) in ((?,?,?))\r\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\r\nHibernate: insert into Doctor (Specialty,Title,UserId) values (?,?,?)\r\nHibernate: insert into MedicalNote (Diagnosis,Investigations,Prescription,Date,DoctorId,PatientId) values (?,?,?,?,?,?)\r\nHibernate: select m1_0.Date,m1_0.DoctorId,m1_0.PatientId,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 where m1_0.DoctorId=?\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :true\r\nActual   :false\r\n```","title":"Composite primary and foreign key in JPA","body":"<p>I have MedicalNote referencing both Doctor and Patient ids and have a date attribute all of these constitute the primary key for MedicalNote. MedicalNote and both Doctor and Patient have one to many bidirectional relation. I want to make sure if this the right way to implement this in Hibernate.</p>\n<p>MedicalNote</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\nimport java.sql.Date;\n\n@Entity\n@Table(name = &quot;MedicalNote&quot;)\n@IdClass(MedicalNoteId.class)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MedicalNote {\n    @Column(name = &quot;Diagnosis&quot;)\n    private String diagnosis;\n\n    @Column(name = &quot;Investigations&quot;)\n    private String investigations;\n\n    @Column(name = &quot;Prescription&quot;)\n    private String prescription;\n\n    @Id\n    @Column(name = &quot;Date&quot;)\n    private Date date;\n\n    @Id\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    @JoinColumn(name = &quot;PatientId&quot;)\n    private Patient patient;\n\n    @Id\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    @JoinColumn(name = &quot;DoctorId&quot;)\n    private Doctor doctor;\n}\n</code></pre>\n<p>MedicalNoteId</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport lombok.*;\n\nimport java.io.Serializable;\nimport java.sql.Date;\n\n@Getter\n@Setter\n@ToString\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MedicalNoteId implements Serializable {\n    private Patient patient;\n    private Doctor doctor;\n    private Date date;\n}\n</code></pre>\n<p>Doctor</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport org.hibernate.Hibernate;\nimport org.hibernate.proxy.HibernateProxy;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;Doctor&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Doctor {\n    @Id\n    @Column(name = &quot;UserId&quot;)\n    private Integer id;\n\n    @Column(name = &quot;Title&quot;)\n    @Enumerated(EnumType.STRING)\n    private DoctorTitle title;\n\n    @Column(name = &quot;Specialty&quot;)\n    @Enumerated(EnumType.STRING)\n    private DoctorSpecialty specialty;\n\n    @MapsId\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;UserId&quot;)\n    private SystemUser systemUser;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @ToString.Exclude\n    private List&lt;MedicalNote&gt; medicalNotes;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @ToString.Exclude\n    private List&lt;TimeSlot&gt; timeSlots;\n\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH})\n    @JoinTable(\n            name = &quot;WorksFor&quot;,\n            joinColumns = @JoinColumn(name = &quot;DoctorId&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;ClinicId&quot;)\n    )\n    @ToString.Exclude\n    private List&lt;Clinic&gt; clinics;\n\n    public void addMedicalNote (MedicalNote medicalNote) {\n        if (medicalNotes == null) {\n            medicalNotes = new ArrayList&lt;&gt;();\n        }\n\n        medicalNotes.add(medicalNote);\n        medicalNote.setDoctor(this);\n    }\n\n    void deleteMedicalNote (MedicalNote medicalNote) {\n        if (medicalNotes != null) {\n            medicalNotes.remove(medicalNote);\n            medicalNote.setDoctor(null);\n        }\n    }\n\n    public void addTimeSlot (TimeSlot timeSlot) {\n        if (timeSlots == null) {\n            timeSlots = new ArrayList&lt;&gt;();\n        }\n\n        timeSlots.add(timeSlot);\n        timeSlot.setDoctor(this);\n    }\n\n    void deleteTimeSlot (TimeSlot timeSlot) {\n        if (timeSlots != null) {\n            timeSlots.remove(timeSlot);\n            timeSlot.setDoctor(null);\n        }\n    }\n\n    public void addClinic (Clinic clinic) {\n        if (clinics == null) {\n            clinics = new ArrayList&lt;&gt;();\n        }\n\n        clinics.add(clinic);\n        clinic.getDoctors().add(this);\n    }\n\n    void deleteClinic (Clinic clinic) {\n        if (clinics != null) {\n            clinics.remove(clinic);\n            clinic.getDoctors().remove(this);\n        }\n    }\n}\n</code></pre>\n<p>Patient</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport org.hibernate.Hibernate;\nimport org.hibernate.proxy.HibernateProxy;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;Patient&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Patient {\n    @Id\n    @Column(name = &quot;UserId&quot;)\n    private Integer id;\n\n    @Column(name = &quot;Occupation&quot;)\n    private String occupation;\n\n    @Column(name = &quot;MaritalStatus&quot;)\n    private String maritalStatus;\n\n    @Column(name = &quot;Insurance&quot;)\n    private String insurance;\n\n    @MapsId\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;UserId&quot;)\n    private SystemUser systemUser;\n\n    @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.ALL)\n    @ToString.Exclude\n    private List&lt;MedicalNote&gt; medicalNotes;\n\n    public void addMedicalNote (MedicalNote medicalNote) {\n        if (medicalNotes == null) {\n            medicalNotes = new ArrayList&lt;&gt;();\n        }\n\n        medicalNotes.add(medicalNote);\n        medicalNote.setPatient(this);\n    }\n}\n</code></pre>\n<p>This way makes some trouble when testing with H2 like this one</p>\n<pre><code>@Test\n    void whenDeleteByDoctorId_thenDeleteMedicalNote() {\n        // Given\n        Account patientAccount = Account.builder().\n                email(&quot;johnsmith123@lol.com&quot;).\n                username(&quot;JohnSmith1&quot;).\n                password(&quot;JohnyJohny123&quot;).\n                role(Role.PATIENT).\n                build();\n\n        SystemUser patientSystemUser = SystemUser.builder().\n                firstName(&quot;John&quot;).\n                lastName(&quot;Smith&quot;).\n                birthdate(Date.valueOf(&quot;1985-11-14&quot;)).\n                gender(Gender.MALE).\n                address(&quot;221B Baker Street&quot;).\n                mobilePhone(&quot;(555) 555-5555&quot;).\n                landlinePhone(&quot;(555) 123-4567&quot;).\n                account(patientAccount).\n                build();\n\n        Patient patient = Patient.builder().\n                occupation(&quot;Engineer&quot;).\n                maritalStatus(&quot;Single&quot;).\n                insurance(&quot;BOBA&quot;).\n                systemUser(patientSystemUser).\n                build();\n\n        patientRepository.save(patient);\n\n        Account doctorAccount = Account.builder().\n                email(&quot;drsmith@hospital.com&quot;).\n                username(&quot;DrSmith1&quot;).\n                password(&quot;Medical123&quot;).\n                role(Role.DOCTOR).\n                build();\n\n        SystemUser doctorSystemUser = SystemUser.builder().\n                firstName(&quot;Smith&quot;).\n                lastName(&quot;Health&quot;).\n                birthdate(Date.valueOf(&quot;1976-10-30&quot;)).\n                gender(Gender.MALE).\n                address(&quot;123 Main Street&quot;).\n                mobilePhone(&quot;(666) 666-6666&quot;).\n                landlinePhone(&quot;(555) 765-4321&quot;).\n                account(doctorAccount).\n                build();\n\n        Doctor doctor = Doctor.builder().\n                title(DoctorTitle.PROFESSOR).\n                specialty(DoctorSpecialty.ONCOLOGIST).\n                systemUser(doctorSystemUser).\n                build();\n\n        doctorRepository.save(doctor);\n\n        MedicalNote medicalNote = MedicalNote.builder().\n                date(Date.valueOf(&quot;2023-04-01&quot;)).\n                patient(patient).\n                doctor(doctor).\n                build();\n\n        medicalNoteRepository.save(medicalNote);\n\n        patient.addMedicalNote(medicalNote);\n        doctor.addMedicalNote(medicalNote);\n\n        patientRepository.save(patient);\n        doctorRepository.save(doctor);\n\n        // When\n        medicalNoteRepository.deleteByDoctorId(doctor.getId());\n\n        // Then\n        assertTrue(medicalNoteRepository.findByDoctorId(doctor.getId()).isEmpty());\n    }\n</code></pre>\n<p>it throws the current exception</p>\n<pre><code>Hibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\nHibernate: insert into Patient (Insurance,MaritalStatus,Occupation,UserId) values (?,?,?,?)\nHibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\nHibernate: select \nm1_0.Date,m1_0.DoctorId,d1_0.UserId,d1_0.Specialty,s1_0.AccountId,a1_0.Id,a1_0.Email,a1_0.Enabled,a1_0.Password,a1_0.Role,a1_0.Username,s1_0.Address,s1_0.Birthdate,s1_0.FirstName,s1_0.Gender,s1_0.LandlinePhone,s1_0.LastName,s1_0.MobilePhone,d1_0.Title,c1_0.DoctorId,c1_1.ClinicId,c1_1.Address,a2_0.AccountId,a3_0.Id,a3_0.Email,a3_0.Enabled,a3_0.Password,a3_0.Role,a3_0.Username,c1_1.Email,c1_1.LandlinePhone,c1_1.MobilePhone,c1_1.Name,m1_0.PatientId,p1_0.UserId,p1_0.Insurance,p1_0.MaritalStatus,p1_0.Occupation,s2_0.AccountId,a4_0.Id,a4_0.Email,a4_0.Enabled,a4_0.Password,a4_0.Role,a4_0.Username,s2_0.Address,s2_0.Birthdate,s2_0.FirstName,s2_0.Gender,s2_0.LandlinePhone,s2_0.LastName,s2_0.MobilePhone,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 join Doctor d1_0 on d1_0.UserId=m1_0.DoctorId left join SystemUser s1_0 on s1_0.AccountId=d1_0.UserId left join Account a1_0 on a1_0.Id=s1_0.AccountId left join (WorksFor c1_0 join Clinic c1_1 on c1_1.ClinicId=c1_0.ClinicId) on d1_0.UserId=c1_0.DoctorId left join ClinicAdmin a2_0 on a2_0.AccountId=c1_1.ClinicId left join Account a3_0 on a3_0.Id=a2_0.AccountId join Patient p1_0 on p1_0.UserId=m1_0.PatientId left join SystemUser s2_0 on s2_0.AccountId=p1_0.UserId left join Account a4_0 on a4_0.Id=s2_0.AccountId where (m1_0.Date,m1_0.DoctorId,m1_0.PatientId) in ((?,?,?))\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\nHibernate: insert into Doctor (Specialty,Title,UserId) values (?,?,?)\nHibernate: insert into MedicalNote (Diagnosis,Investigations,Prescription,Date,DoctorId,PatientId) values (?,?,?,?,?,?)\nHibernate: select m1_0.Date,m1_0.DoctorId,m1_0.PatientId,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 where m1_0.DoctorId=?\n\norg.opentest4j.AssertionFailedError: \nExpected :true\nActual   :false\n</code></pre>\n"},{"tags":["java","mapbox"],"owner":{"account_id":30015275,"reputation":1,"user_id":23001997,"display_name":"kregtopoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702204009,"creation_date":1702203545,"question_id":77634408,"body_markdown":"Most of the samples in SDK 10 lead to Kotlin, unfortunately there are no samples in Java. I&#39;m trying to add markers from a local geojson file to an existing style.\r\n\r\nThis is what the beginning of my code looks like:\r\n\r\n```\r\nmapBoxView.getMapboxMap().loadStyleUri(&quot;mapbox://styles/account/clpnxwmpn00yfxwmqe1&quot;, new Style.OnStyleLoaded() {\r\n\r\n\r\n            @Override\r\n            public void onStyleLoaded(@NonNull Style style) {\r\n\r\n                StyleContract.StyleSourceExtension source = new StyleContract.StyleSourceExtension() {\r\n                    @Override\r\n                    public void bindTo(@NonNull StyleInterface styleInterface) {\r\n\r\n                    }\r\n                };\r\n\r\n                GeoJsonSource jsonSource = new GeoJsonSource.Builder(&quot;markers-source&quot;).build();\r\n                SourceUtils.addSource(style, source);\r\n\r\n            }\r\n        });\r\n```","title":"Mapbox SDK 10 java, add markers from geojson to existing layer","body":"<p>Most of the samples in SDK 10 lead to Kotlin, unfortunately there are no samples in Java. I'm trying to add markers from a local geojson file to an existing style.</p>\n<p>This is what the beginning of my code looks like:</p>\n<pre><code>mapBoxView.getMapboxMap().loadStyleUri(&quot;mapbox://styles/account/clpnxwmpn00yfxwmqe1&quot;, new Style.OnStyleLoaded() {\n\n\n            @Override\n            public void onStyleLoaded(@NonNull Style style) {\n\n                StyleContract.StyleSourceExtension source = new StyleContract.StyleSourceExtension() {\n                    @Override\n                    public void bindTo(@NonNull StyleInterface styleInterface) {\n\n                    }\n                };\n\n                GeoJsonSource jsonSource = new GeoJsonSource.Builder(&quot;markers-source&quot;).build();\n                SourceUtils.addSource(style, source);\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","selenium","jar","selenium-webdriver","dependencies"],"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1418364516,"post_id":27437743,"comment_id":43315877,"body_markdown":"Do you trying to upload from local pc to website?","body":"Do you trying to upload from local pc to website?"},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418364744,"post_id":27437743,"comment_id":43315933,"body_markdown":"@HelpingHands Yep. I start some server locally(localhost) and try to upload a file. Code is working. Because I uploaded file another java package that not contain all these jar files. I think some wrong with these jar files. May it happen with some conflict with jar files?","body":"@HelpingHands Yep. I start some server locally(localhost) and try to upload a file. Code is working. Because I uploaded file another java package that not contain all these jar files. I think some wrong with these jar files. May it happen with some conflict with jar files?"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1418364809,"post_id":27437743,"comment_id":43315952,"body_markdown":"YES then you should first integrate missing jars.","body":"YES then you should first integrate missing jars."},{"owner":{"account_id":4654175,"reputation":1091,"user_id":3770161,"display_name":"Fumu 7"},"score":0,"creation_date":1418364913,"post_id":27437743,"comment_id":43315986,"body_markdown":"Where is the code around &#39;main(FusekiStart.java:39)&#39; that is the line of code to raise Error?　I&#39;m not sure that you code is absolutely OK without evidence.","body":"Where is the code around &#39;main(FusekiStart.java:39)&#39; that is the line of code to raise Error?　I&#39;m not sure that you code is absolutely OK without evidence."},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418365079,"post_id":27437743,"comment_id":43316041,"body_markdown":"@Fumu7 WebDriver driver = new FirefoxDriver(cap); Code is working. I tried in another package.","body":"@Fumu7 WebDriver driver = new FirefoxDriver(cap); Code is working. I tried in another package."},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418365233,"post_id":27437743,"comment_id":43316102,"body_markdown":"@HelpingHands Not missing actually. All jar files (selenium-server..jar) also here. The error came when I tried add code into this package and after adding new selenium jar file. Can it may some conflict with selenium-server jar file and other jar files?","body":"@HelpingHands Not missing actually. All jar files (selenium-server..jar) also here. The error came when I tried add code into this package and after adding new selenium jar file. Can it may some conflict with selenium-server jar file and other jar files?"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1418365727,"post_id":27437743,"comment_id":43316250,"body_markdown":"@Maduri - Nope, there is not conflict possibility there.","body":"@Maduri - Nope, there is not conflict possibility there."},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418366032,"post_id":27437743,"comment_id":43316355,"body_markdown":"@HelpingHands Do you know what is mean by dependencies issue? Most of post saying that kind of problem may be reason. What may be the reason this code work in some other package which contain only selenium-server jar file and not work here?","body":"@HelpingHands Do you know what is mean by dependencies issue? Most of post saying that kind of problem may be reason. What may be the reason this code work in some other package which contain only selenium-server jar file and not work here?"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1418366224,"post_id":27437743,"comment_id":43316409,"body_markdown":"@Maduri - do you using maven plugin?","body":"@Maduri - do you using maven plugin?"},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418366356,"post_id":27437743,"comment_id":43316459,"body_markdown":"@HelpingHands Not actually.","body":"@HelpingHands Not actually."},{"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"score":0,"creation_date":1418366394,"post_id":27437743,"comment_id":43316476,"body_markdown":"can you please share code @line 39?","body":"can you please share code @line 39?"},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418366529,"post_id":27437743,"comment_id":43316518,"body_markdown":"@VivekSingh WebDriver driver = new FirefoxDriver(cap); [line 39]","body":"@VivekSingh WebDriver driver = new FirefoxDriver(cap); [line 39]"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1418366790,"post_id":27437743,"comment_id":43316593,"body_markdown":"@Maduri   -   have you imported ? package org.apache.http.impl.io;&amp; package com.jai.http;","body":"@Maduri   -   have you imported ? package org.apache.http.impl.io;&amp; package com.jai.http;"},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418367163,"post_id":27437743,"comment_id":43316725,"body_markdown":"@HelpingHands Yep I have imported. There are same packages contains  httpclient jar file and selenium jar file. Is that a problem?","body":"@HelpingHands Yep I have imported. There are same packages contains  httpclient jar file and selenium jar file. Is that a problem?"},{"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"score":0,"creation_date":1418367166,"post_id":27437743,"comment_id":43316726,"body_markdown":"@Maduri please check for selenium webdriver version matches the required httpclient-4.2.3 and httpcore-4.2.2..it might be possible that webdriver uses different versions of these http libraries..","body":"@Maduri please check for selenium webdriver version matches the required httpclient-4.2.3 and httpcore-4.2.2..it might be possible that webdriver uses different versions of these http libraries.."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1418367421,"post_id":27437743,"comment_id":43316814,"body_markdown":"@Maduri - what are you Httpclient and Httpcore versions?","body":"@Maduri - what are you Httpclient and Httpcore versions?"},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418367749,"post_id":27437743,"comment_id":43316934,"body_markdown":"@VivekSingh Previously I run properly this code. Didn&#39;t use any kind of these httpclient or core packages. Only used Selenium jar file. Is that may be a problem?","body":"@VivekSingh Previously I run properly this code. Didn&#39;t use any kind of these httpclient or core packages. Only used Selenium jar file. Is that may be a problem?"},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418367788,"post_id":27437743,"comment_id":43316950,"body_markdown":"@HelpingHands client 4.2.3 and core 4.2.2","body":"@HelpingHands client 4.2.3 and core 4.2.2"},{"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"score":0,"creation_date":1418368547,"post_id":27437743,"comment_id":43317205,"body_markdown":"U can try to sysout the resource of BasicLineFormatter.class and check for the proper dependencies it is using.","body":"U can try to sysout the resource of BasicLineFormatter.class and check for the proper dependencies it is using."},{"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"score":0,"creation_date":1418369514,"post_id":27437743,"comment_id":43317564,"body_markdown":"@VivekSingh In my selenium server jar file org.apache.http.message.BasicLineFormatter; org.apache.http.message.LineFormatter; contain in the org.apache.http.message package. org.apache.http.impl.io.DefaultHttpRequestWriterFactory class contains in the org.apache.http.impl.io package. Is that a problem?  Another thing is both two packages contain in the httpcore-4.2.2 jar file also(Not only the selenium-server jar file). It can&#39;t be a problem?","body":"@VivekSingh In my selenium server jar file org.apache.http.message.BasicLineFormatter; org.apache.http.message.LineFormatter; contain in the org.apache.http.message package. org.apache.http.impl.io.DefaultHttpRequestWriterFactory class contains in the org.apache.http.impl.io package. Is that a problem?  Another thing is both two packages contain in the httpcore-4.2.2 jar file also(Not only the selenium-server jar file). It can&#39;t be a problem?"},{"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"score":0,"creation_date":1418370301,"post_id":27437743,"comment_id":43317872,"body_markdown":"Its better as suggested by @rupesh update your jars to 3.x and then give it a try...","body":"Its better as suggested by @rupesh update your jars to 3.x and then give it a try..."}],"answers":[{"tags":[],"owner":{"account_id":3703078,"reputation":894,"user_id":3082247,"display_name":"Tabrej Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418364663,"creation_date":1418364663,"answer_id":27437875,"question_id":27437743,"body_markdown":"Check this link:\r\n[Source Code at Grep][1] \r\n\r\nYou are missing BasicLineFormatter class from org.apache.http.message package.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.apache.httpcomponents/httpcore/4.3-beta1/org/apache/http/impl/io/DefaultHttpRequestWriterFactory.java","title":"How to solve Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE?","body":"<p>Check this link:\n<a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.httpcomponents/httpcore/4.3-beta1/org/apache/http/impl/io/DefaultHttpRequestWriterFactory.java\" rel=\"nofollow\">Source Code at Grep</a> </p>\n\n<p>You are missing BasicLineFormatter class from org.apache.http.message package.</p>\n"},{"tags":[],"owner":{"account_id":4655188,"reputation":1943,"user_id":3770951,"accept_rate":64,"display_name":"Rupesh Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418369787,"creation_date":1418369787,"answer_id":27438914,"question_id":27437743,"body_markdown":"I would  say not this will fix your problem but can you see by including a httpcore 4.2.2 jar file is what your are using currently. Can you try to get the higher one from the [Link][1] and replace it with current httpcore 4.2.2 and see what difference it makes ? \r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/h/Downloadhttpcorejar.htm","title":"How to solve Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE?","body":"<p>I would  say not this will fix your problem but can you see by including a httpcore 4.2.2 jar file is what your are using currently. Can you try to get the higher one from the <a href=\"http://www.java2s.com/Code/Jar/h/Downloadhttpcorejar.htm\" rel=\"nofollow\">Link</a> and replace it with current httpcore 4.2.2 and see what difference it makes ? </p>\n"},{"tags":[],"owner":{"account_id":4879069,"reputation":970,"user_id":3933351,"accept_rate":47,"display_name":"Goku__"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434007717,"creation_date":1434007717,"answer_id":30774334,"question_id":27437743,"body_markdown":"I faced the same problem. After a lot of debugging, I found out that there is a CLASSPATH conflict. A jar file already existing in the project \r\n\r\n    httpclient-osgi-4.2.1.jar\r\n\r\nwas conflicting with selenium jar files. Fortunately for me, the httpclient-osgi-4.2.1.jar file is not required in the project anymore, so I could safely remove it. After that the problem is gone.\r\n\r\nThe error message is pathetic. It doesn&#39;t help in any way to point out the real problem.","title":"How to solve Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE?","body":"<p>I faced the same problem. After a lot of debugging, I found out that there is a CLASSPATH conflict. A jar file already existing in the project </p>\n\n<pre><code>httpclient-osgi-4.2.1.jar\n</code></pre>\n\n<p>was conflicting with selenium jar files. Fortunately for me, the httpclient-osgi-4.2.1.jar file is not required in the project anymore, so I could safely remove it. After that the problem is gone.</p>\n\n<p>The error message is pathetic. It doesn't help in any way to point out the real problem.</p>\n"}],"owner":{"account_id":4674937,"reputation":259,"user_id":3785607,"accept_rate":48,"display_name":"Maduri"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1702202625,"creation_date":1418364049,"question_id":27437743,"body_markdown":"I&#39;m trying to upload a file using Selenium web driver. Above error receive. I know code is ok. Most of post saying it is because &quot;dependencies&quot;. How can I solve it? I checked there was no same name jar files. Here I have show some screen shot of my jar files. How can I solve this dependencies problem?\r\n\r\nJava code:\r\n\r\n        import java.io.File;\r\n        import java.io.IOException;\r\n        import org.openqa.selenium.By;\r\n        import org.openqa.selenium.WebDriver;\r\n        import org.openqa.selenium.WebElement;\r\n        import org.openqa.selenium.firefox.FirefoxDriver;\r\n        import org.openqa.selenium.remote.CapabilityType;\r\n        import org.openqa.selenium.remote.DesiredCapabilities;\r\n\r\n        public class FusekiStart {\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\t\t\t\t\r\n\t\t    /* Selenium config  */\r\n\t\t    String PROXY = &quot;localhost:3030&quot;;\r\n\r\n\t\t\torg.openqa.selenium.Proxy proxy = new org.openqa.selenium.Proxy();\r\n\t\t\tproxy.setHttpProxy(PROXY)\r\n\t\t\t     .setFtpProxy(PROXY)\r\n\t\t\t     .setSslProxy(PROXY);\r\n\t\t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n\t\t\tcap.setCapability(CapabilityType.PROXY, proxy);\r\n\t\t\tWebDriver driver = new FirefoxDriver(cap);\r\n\t\t\tdriver.get(&quot;http://localhost:3030/control-panel.tpl&quot;);\r\n\t\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Select&#39;]&quot;)).click();\r\n\t\t\t                   driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;)).sendKeys(&quot;C:\\\\Users\\\\user1\\\\Desktop\\\\Ontology.owl&quot;); \r\n\t\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Upload&#39;]&quot;)).click(); \r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nError message:\r\n\r\n        Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\r\n\t    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;      (DefaultHttpRequestWriterFactory.java:52)\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:56)\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:46)\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:72)\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:84)\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:59)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:487)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:147)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:136)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:112)\r\n\tat org.openqa.selenium.remote.internal.HttpClientFactory.getClientConnectionManager(HttpClientFactory.java:68)\r\n\tat org.openqa.selenium.remote.internal.HttpClientFactory.&lt;init&gt;(HttpClientFactory.java:55)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:99)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:82)\r\n\tat org.openqa.selenium.firefox.internal.NewProfileExtensionConnection.start(NewProfileExtensionConnection.java:93)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.startClient(FirefoxDriver.java:246)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:114)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:193)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:104)\r\n\tat uom.brts.statisticalmt.FusekiStart.main(FusekiStart.java:39)\r\n\r\n![Jar files][1]\r\n\r\n\r\n![Jar files web app][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ieXIZ.jpg\r\n  [2]: http://i.stack.imgur.com/gASEa.jpg","title":"How to solve Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE?","body":"<p>I'm trying to upload a file using Selenium web driver. Above error receive. I know code is ok. Most of post saying it is because \"dependencies\". How can I solve it? I checked there was no same name jar files. Here I have show some screen shot of my jar files. How can I solve this dependencies problem?</p>\n\n<p>Java code:</p>\n\n<pre><code>    import java.io.File;\n    import java.io.IOException;\n    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.WebElement;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.openqa.selenium.remote.CapabilityType;\n    import org.openqa.selenium.remote.DesiredCapabilities;\n\n    public class FusekiStart {\n\n    public static void main(String[] args) {\n\n        /* Selenium config  */\n        String PROXY = \"localhost:3030\";\n\n        org.openqa.selenium.Proxy proxy = new org.openqa.selenium.Proxy();\n        proxy.setHttpProxy(PROXY)\n             .setFtpProxy(PROXY)\n             .setSslProxy(PROXY);\n        DesiredCapabilities cap = new DesiredCapabilities();\n        cap.setCapability(CapabilityType.PROXY, proxy);\n        WebDriver driver = new FirefoxDriver(cap);\n        driver.get(\"http://localhost:3030/control-panel.tpl\");\n        driver.findElement(By.xpath(\"//input[@value='Select']\")).click();\n                           driver.findElement(By.xpath(\"//input[@type='file']\")).sendKeys(\"C:\\\\Users\\\\user1\\\\Desktop\\\\Ontology.owl\"); \n        driver.findElement(By.xpath(\"//input[@value='Upload']\")).click(); \n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Error message:</p>\n\n<pre><code>    Exception in thread \"main\" java.lang.NoSuchFieldError: INSTANCE\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;      (DefaultHttpRequestWriterFactory.java:52)\nat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:56)\nat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:46)\nat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:72)\nat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:84)\nat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:59)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:487)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:147)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:136)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:112)\nat org.openqa.selenium.remote.internal.HttpClientFactory.getClientConnectionManager(HttpClientFactory.java:68)\nat org.openqa.selenium.remote.internal.HttpClientFactory.&lt;init&gt;(HttpClientFactory.java:55)\nat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:99)\nat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:82)\nat org.openqa.selenium.firefox.internal.NewProfileExtensionConnection.start(NewProfileExtensionConnection.java:93)\nat org.openqa.selenium.firefox.FirefoxDriver.startClient(FirefoxDriver.java:246)\nat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:114)\nat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:193)\nat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\nat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:104)\nat uom.brts.statisticalmt.FusekiStart.main(FusekiStart.java:39)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/ieXIZ.jpg\" alt=\"Jar files\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/gASEa.jpg\" alt=\"Jar files web app\"></p>\n"},{"tags":["java","android","xml","image","android-studio"],"comments":[{"owner":{"account_id":4906212,"reputation":2720,"user_id":3952885,"accept_rate":0,"display_name":"Amir Dora."},"score":0,"creation_date":1529557758,"post_id":50960640,"comment_id":88918292,"body_markdown":"can you show an image of what you&#39;re getting and what you are trying to achieve?","body":"can you show an image of what you&#39;re getting and what you are trying to achieve?"},{"owner":{"account_id":4906212,"reputation":2720,"user_id":3952885,"accept_rate":0,"display_name":"Amir Dora."},"score":0,"creation_date":1529557883,"post_id":50960640,"comment_id":88918341,"body_markdown":"if you want to use transparent icon for ic_launcher, then paste your 512x512 size icon to drawable, you don&#39;t need to import it through -new image asset &gt; configure... just pasting does the job. and then refer to the newly pasted icon in manifest","body":"if you want to use transparent icon for ic_launcher, then paste your 512x512 size icon to drawable, you don&#39;t need to import it through -new image asset &gt; configure... just pasting does the job. and then refer to the newly pasted icon in manifest"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1529763889,"post_id":50960640,"comment_id":88997912,"body_markdown":"(If you wish to enquire about downvotes, please do it in the comments. It is not of interest to most people, who do not sign in or vote. Most calls for explanation of votes go unnoticed by the voter(s) anyway, so I&#39;d suggest you just ignore it.)","body":"(If you wish to enquire about downvotes, please do it in the comments. It is not of interest to most people, who do not sign in or vote. Most calls for explanation of votes go unnoticed by the voter(s) anyway, so I&#39;d suggest you just ignore it.)"},{"owner":{"account_id":12676632,"reputation":617,"user_id":9212084,"display_name":"apsommer"},"score":0,"creation_date":1530059565,"post_id":50960640,"comment_id":89097053,"body_markdown":"@halfer I&#39;ll follow your lead here, since it&#39;s my first post I&#39;ll attempt to solicit an explanation for the downvote via the comments.","body":"@halfer I&#39;ll follow your lead here, since it&#39;s my first post I&#39;ll attempt to solicit an explanation for the downvote via the comments."},{"owner":{"account_id":12676632,"reputation":617,"user_id":9212084,"display_name":"apsommer"},"score":1,"creation_date":1530059995,"post_id":50960640,"comment_id":89097140,"body_markdown":"@halfer It would be nice to have some idea of what was wrong in the post, otherwise I am left with an empty reprimand and no ability to improve.","body":"@halfer It would be nice to have some idea of what was wrong in the post, otherwise I am left with an empty reprimand and no ability to improve."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1530081089,"post_id":50960640,"comment_id":89102437,"body_markdown":"Sure, in the comments is fine. You&#39;ll find that occasionally you&#39;ll get inexplicable DVs, but if you use the site over the long term and your contributions are good, your work will get more upvotes than down. I&#39;d only try to figure it out if I received very heavy downvoting. You can always discuss it on the _Meta_ site too, but for single DVs, the answer will be &quot;we don&#39;t know&quot; `:-)`.","body":"Sure, in the comments is fine. You&#39;ll find that occasionally you&#39;ll get inexplicable DVs, but if you use the site over the long term and your contributions are good, your work will get more upvotes than down. I&#39;d only try to figure it out if I received very heavy downvoting. You can always discuss it on the <i>Meta</i> site too, but for single DVs, the answer will be &quot;we don&#39;t know&quot; <code>:-)</code>."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1530081219,"post_id":50960640,"comment_id":89102492,"body_markdown":"My subjective and untested opinion about boilerplate material in questions that insists &quot;I&#39;ve been at this for hours&quot;, &quot;I really have researched this&quot; (etc) is that it attracts downvotes. I&#39;ve written about [language confidence here](https://meta.stackoverflow.com/questions/366264/how-can-we-encourage-new-authors-to-ask-confident-questions).","body":"My subjective and untested opinion about boilerplate material in questions that insists &quot;I&#39;ve been at this for hours&quot;, &quot;I really have researched this&quot; (etc) is that it attracts downvotes. I&#39;ve written about <a href=\"https://meta.stackoverflow.com/questions/366264/how-can-we-encourage-new-authors-to-ask-confident-questions\">language confidence here</a>."},{"owner":{"account_id":12676632,"reputation":617,"user_id":9212084,"display_name":"apsommer"},"score":0,"creation_date":1530082708,"post_id":50960640,"comment_id":89103255,"body_markdown":"@halfer Wow, your language confidence article is extensive and heavily commented. I need a moment to absorb the level of interest and opinions about forum post etiquette! My next question will not be prefaced with any indication of the blood, sweat, and tears on my keyboard. ;)","body":"@halfer Wow, your language confidence article is extensive and heavily commented. I need a moment to absorb the level of interest and opinions about forum post etiquette! My next question will not be prefaced with any indication of the blood, sweat, and tears on my keyboard. ;)"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1530083005,"post_id":50960640,"comment_id":89103386,"body_markdown":"Yeah, the core community here is _really_ committed to getting the teaching/effort/quality mix right. It&#39;s a hard balance, and of course we can&#39;t avoid taking human psychology into account when examining these issues. That said, we can&#39;t know that this was the reason for a single DV in this case.","body":"Yeah, the core community here is <i>really</i> committed to getting the teaching/effort/quality mix right. It&#39;s a hard balance, and of course we can&#39;t avoid taking human psychology into account when examining these issues. That said, we can&#39;t know that this was the reason for a single DV in this case."}],"answers":[{"tags":[],"owner":{"account_id":4906212,"reputation":2720,"user_id":3952885,"accept_rate":0,"display_name":"Amir Dora."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1702202443,"creation_date":1529558212,"answer_id":50960841,"question_id":50960640,"body_markdown":"**Method 1:**\r\n\r\nif you have a png, just copy it and paste it in drawable, and refer to image name from manifest (be careful to change both the *android:icon* and *android:roundIcon* attributes).\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/new_image&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/new_image&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    \r\n            ....\r\n            &lt;/application&gt;\r\n\r\n**Method 2:**\r\n\r\n\r\n**Goto file &gt; new &gt; image asset**, make sure you select a png image (with transparent background) &amp; set background shape to none.\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VkvLJ.jpg","title":"How to make the icon background of an Android app transparent?","body":"<p><strong>Method 1:</strong></p>\n<p>if you have a png, just copy it and paste it in drawable, and refer to image name from manifest (be careful to change both the <em>android:icon</em> and <em>android:roundIcon</em> attributes).</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/new_image&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/new_image&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        ....\n        &lt;/application&gt;\n</code></pre>\n<p><strong>Method 2:</strong></p>\n<p><strong>Goto file &gt; new &gt; image asset</strong>, make sure you select a png image (with transparent background) &amp; set background shape to none.</p>\n<p><a href=\"https://i.stack.imgur.com/VkvLJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VkvLJ.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13318829,"reputation":106,"user_id":9614251,"display_name":"Mitesh Sawant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529562259,"creation_date":1529562259,"answer_id":50961700,"question_id":50960640,"body_markdown":"First you have a background image to get transparent icon without any background image you can&#39;t get your icon transparent .\r\n\r\nAnd if you look to get image transparent you simply use some photo editor. \r\n","title":"How to make the icon background of an Android app transparent?","body":"<p>First you have a background image to get transparent icon without any background image you can't get your icon transparent .</p>\n\n<p>And if you look to get image transparent you simply use some photo editor. </p>\n"},{"tags":[],"owner":{"account_id":15177105,"reputation":1,"user_id":10951515,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548177657,"creation_date":1548177657,"answer_id":54313411,"question_id":50960640,"body_markdown":"*Get a view of the imageButton*\r\n\r\n    View v = findViewById(R.id.myImageBtn);\r\n\r\n*get the icon from the app for example Chrome* \r\n\r\n    pkgnam=&quot;com.android.chrome&quot;;\r\n    Intent intent1 = ctx.getPackageManager().getLaunchIntentForPackage(pgknam);\r\n    Drawable myIcon = getPackageManager().getActivityIcon(intent1);\r\n\r\n*set the background icon the same as the foreground icon*\r\n\r\n    v.setForeground(myIcon);\r\n    v.setBackground(myIcon);\r\n","title":"How to make the icon background of an Android app transparent?","body":"<p><em>Get a view of the imageButton</em></p>\n\n<pre><code>View v = findViewById(R.id.myImageBtn);\n</code></pre>\n\n<p><em>get the icon from the app for example Chrome</em> </p>\n\n<pre><code>pkgnam=\"com.android.chrome\";\nIntent intent1 = ctx.getPackageManager().getLaunchIntentForPackage(pgknam);\nDrawable myIcon = getPackageManager().getActivityIcon(intent1);\n</code></pre>\n\n<p><em>set the background icon the same as the foreground icon</em></p>\n\n<pre><code>v.setForeground(myIcon);\nv.setBackground(myIcon);\n</code></pre>\n"}],"owner":{"account_id":12676632,"reputation":617,"user_id":9212084,"display_name":"apsommer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27697,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":50960841,"answer_count":3,"score":7,"last_activity_date":1702202443,"creation_date":1529556989,"question_id":50960640,"body_markdown":"A PNG image is to be used as the icon foreground, and the background should be completely transparent.\r\n\r\nUsing `Android Studio &gt; New Image Asset &gt; Configure Image Asset dialog` in the Asset Studio, virtually very combination of options for the background has been tried, including removing the file entirely from the path and deleting the background tags in `ic_launcher.xml` and `ic_launcher_round.xml`.\r\n\r\nRemoving the file from the path in this wizard and removing the tags from the XML files almost does the trick, but a faint black outline remains as the background (~alpha=20%). All other options for the Background Layer leave either a stark white or black background behind the foreground image when viewing the icon on the device&#39;s launcher.\r\n\r\nMany apps manage to have a foreground only on their icons, so it is possible. What am I doing wrong here?\r\n\r\nUpdate: Thank you for the quick comments! I tried both the solutions provided as answers, same result. Screen capture is uploaded as suggested.\r\n\r\nUpdating just the Legacy icon in the wizard is not sufficient, as that only changes the Legacy icon format. The newer &quot;Adaptive&quot; icons are required as well. Even if the background is set to a completely transparent square png, Android Studio changes it to white. If the background file is removed entirely, the wizard allows completion, but then Android Studio uses a slightly opaque black background, as shown. With respect to the uploaded image, there should be nothing behind the foreground, completely gray to in this case without any visible circle.\r\n\r\n[Screen capture from device running API 25][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1b5ni.png","title":"How to make the icon background of an Android app transparent?","body":"<p>A PNG image is to be used as the icon foreground, and the background should be completely transparent.</p>\n\n<p>Using <code>Android Studio &gt; New Image Asset &gt; Configure Image Asset dialog</code> in the Asset Studio, virtually very combination of options for the background has been tried, including removing the file entirely from the path and deleting the background tags in <code>ic_launcher.xml</code> and <code>ic_launcher_round.xml</code>.</p>\n\n<p>Removing the file from the path in this wizard and removing the tags from the XML files almost does the trick, but a faint black outline remains as the background (~alpha=20%). All other options for the Background Layer leave either a stark white or black background behind the foreground image when viewing the icon on the device's launcher.</p>\n\n<p>Many apps manage to have a foreground only on their icons, so it is possible. What am I doing wrong here?</p>\n\n<p>Update: Thank you for the quick comments! I tried both the solutions provided as answers, same result. Screen capture is uploaded as suggested.</p>\n\n<p>Updating just the Legacy icon in the wizard is not sufficient, as that only changes the Legacy icon format. The newer \"Adaptive\" icons are required as well. Even if the background is set to a completely transparent square png, Android Studio changes it to white. If the background file is removed entirely, the wizard allows completion, but then Android Studio uses a slightly opaque black background, as shown. With respect to the uploaded image, there should be nothing behind the foreground, completely gray to in this case without any visible circle.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1b5ni.png\" rel=\"noreferrer\">Screen capture from device running API 25</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security","authorization"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702221266,"post_id":77634363,"comment_id":136867368,"body_markdown":"`When I call my protected endpoint using bearer token JWSVerificationKeysSelector always have this.algs as RS256` What algorithm is defined in your JOSE header and were is your error message, stack trace?","body":"<code>When I call my protected endpoint using bearer token JWSVerificationKeysSelector always have this.algs as RS256</code> What algorithm is defined in your JOSE header and were is your error message, stack trace?"},{"owner":{"account_id":4399867,"reputation":23,"user_id":3585886,"display_name":"someRandomGuy"},"score":0,"creation_date":1702274088,"post_id":77634363,"comment_id":136871823,"body_markdown":"Algorithm in my JOSE header is ES256 and exception I get is   \n\n\nSigned JWT rejected: Another algorithm expected, or no matching key(s) found","body":"Algorithm in my JOSE header is ES256 and exception I get is      Signed JWT rejected: Another algorithm expected, or no matching key(s) found"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702276027,"post_id":77634363,"comment_id":136871982,"body_markdown":"without full debug logs including stacktraces or an application to be able to reproduce this, this is impossible to solve. Good luck","body":"without full debug logs including stacktraces or an application to be able to reproduce this, this is impossible to solve. Good luck"}],"owner":{"account_id":4399867,"reputation":23,"user_id":3585886,"display_name":"someRandomGuy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702202305,"creation_date":1702202305,"question_id":77634363,"body_markdown":"I have a protected resource that can only be accessed using an OIDC access token. The authorization server signs this token using two algorithms (ES256 and RS256). When I call my resource server with this token Spring Security checks the token algorithm against its trusted algorithm. \r\n\r\nWhen the token is signed with RS256 I can use that token since this is the default spring trusted algorithm. I want to use ES256 as well for my token verification. MY application is not able to configure both algorithms as a trusted algorithm \r\n\r\nI have tried setting it using property . \r\n\r\n    `\r\n        spring:\r\n          security:\r\n            oauth2:\r\n              resourceserver:\r\n                jwt:\r\n                  jws-algorithms: \r\n                      -RS256\r\n                      -ES256\r\n    `\r\n\r\nThis did not work.\r\n\r\nI also tried to create a bean that would call JWSVerificationKeysSelector constructor to configure the algorithms like below   \r\n\r\n    `\r\n        @Bean\r\n        JwtDecoder jwtDecoder() {\r\n            return NimbusJwtDecoder.withJWKSetURI(jwkSetURI)\r\n                    .jwsAlgorithms(algorithms -&gt; {\r\n                            algorithms.add(RS256);\r\n                            algorithms.add(ES256);\r\n                    }).build();\r\n        }\r\n    `\r\n\r\nNone of them worked. When I call my protected endpoint using bearer token, JWSVerificationKeysSelector  always have this.algs as RS256","title":"Spring boot trusted Algo (RS256 , ES256 ) not working","body":"<p>I have a protected resource that can only be accessed using an OIDC access token. The authorization server signs this token using two algorithms (ES256 and RS256). When I call my resource server with this token Spring Security checks the token algorithm against its trusted algorithm.</p>\n<p>When the token is signed with RS256 I can use that token since this is the default spring trusted algorithm. I want to use ES256 as well for my token verification. MY application is not able to configure both algorithms as a trusted algorithm</p>\n<p>I have tried setting it using property .</p>\n<pre><code>`\n    spring:\n      security:\n        oauth2:\n          resourceserver:\n            jwt:\n              jws-algorithms: \n                  -RS256\n                  -ES256\n`\n</code></pre>\n<p>This did not work.</p>\n<p>I also tried to create a bean that would call JWSVerificationKeysSelector constructor to configure the algorithms like below</p>\n<pre><code>`\n    @Bean\n    JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withJWKSetURI(jwkSetURI)\n                .jwsAlgorithms(algorithms -&gt; {\n                        algorithms.add(RS256);\n                        algorithms.add(ES256);\n                }).build();\n    }\n`\n</code></pre>\n<p>None of them worked. When I call my protected endpoint using bearer token, JWSVerificationKeysSelector  always have this.algs as RS256</p>\n"},{"tags":["java","spring","security","ldap"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1702220152,"post_id":77634343,"comment_id":136867262,"body_markdown":"As stated the question is *way* too broad. This is not a question, this is a call out for help. However, the assignment is yours not ours. Sentences such as &quot;i would like to have an unswer to my problem&quot; are actually detrimental, just don&#39;t do that, we owe you absolutely nothing.","body":"As stated the question is <i>way</i> too broad. This is not a question, this is a call out for help. However, the assignment is yours not ours. Sentences such as &quot;i would like to have an unswer to my problem&quot; are actually detrimental, just don&#39;t do that, we owe you absolutely nothing."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1702220376,"post_id":77634343,"comment_id":136867287,"body_markdown":"Note that pasting your question into ChatGPT 4 gives me quite nice results. It won&#39;t end with a directly usable application maybe but it does a good job explaining how you would start to solve this kind of problem. Then if you get stuck on something specific ask here, as ChatGPT is good at indicating a direction, but it&#39;s answers are certainly not always correct. Just like programming: choose the right tool for the job.","body":"Note that pasting your question into ChatGPT 4 gives me quite nice results. It won&#39;t end with a directly usable application maybe but it does a good job explaining how you would start to solve this kind of problem. Then if you get stuck on something specific ask here, as ChatGPT is good at indicating a direction, but it&#39;s answers are certainly not always correct. Just like programming: choose the right tool for the job."}],"owner":{"account_id":30110028,"reputation":1,"user_id":23074779,"display_name":"Mahdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702201922,"creation_date":1702201922,"question_id":77634343,"body_markdown":"I am interested in using Spring Security LDAP in my project. We manage a list of documents, and each document is associated with a unique code representing a specific region.\r\n\r\nUser access to these documents is determined by their position. For example:\r\n\r\nList of codes = {16; 48; 88}\r\nUser1 belongs to region 16 and holds position &#39;R,&#39; allowing access exclusively to documents within region 16.\r\nUser2 is associated with region 48 and holds position &#39;N,&#39; granting access to all documents across all regions.\r\n\r\nUser data is stored in LDAP. Upon user login, the application connects to the LDAP to retrieve all the user&#39;s information, including their position. Based on this position, the application sends a query to the database to obtain the list of codes allowed for that user. Subsequently, it creates a user session in Spring Security.\r\n\r\nMy question revolves around customizing this process using Spring LDAP, specifically concerning connecting to the database and retrieving the list of codes for each user before creating their session. \r\n\r\nthank you \r\n\r\n \r\n\r\n\r\ni would like to have an unswer to my problem","title":"how to implement spring ldap in order to creat a method that access to the database and get user&#39;s roles before creating the user&#39;s session","body":"<p>I am interested in using Spring Security LDAP in my project. We manage a list of documents, and each document is associated with a unique code representing a specific region.</p>\n<p>User access to these documents is determined by their position. For example:</p>\n<p>List of codes = {16; 48; 88}\nUser1 belongs to region 16 and holds position 'R,' allowing access exclusively to documents within region 16.\nUser2 is associated with region 48 and holds position 'N,' granting access to all documents across all regions.</p>\n<p>User data is stored in LDAP. Upon user login, the application connects to the LDAP to retrieve all the user's information, including their position. Based on this position, the application sends a query to the database to obtain the list of codes allowed for that user. Subsequently, it creates a user session in Spring Security.</p>\n<p>My question revolves around customizing this process using Spring LDAP, specifically concerning connecting to the database and retrieving the list of codes for each user before creating their session.</p>\n<p>thank you</p>\n<p>i would like to have an unswer to my problem</p>\n"},{"tags":["java","android","flutter","android-studio"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522487384,"post_id":49583070,"comment_id":86180093,"body_markdown":"You did not tell what kind of server you have runing.","body":"You did not tell what kind of server you have runing."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522487434,"post_id":49583070,"comment_id":86180103,"body_markdown":"You do not have to forward ports if you are in a local network.","body":"You do not have to forward ports if you are in a local network."},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522488773,"post_id":49583070,"comment_id":86180417,"body_markdown":"@greenapps it&#39;s just a simple node express server.","body":"@greenapps it&#39;s just a simple node express server."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522488905,"post_id":49583070,"comment_id":86180449,"body_markdown":"Any protocol used?","body":"Any protocol used?"},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522489130,"post_id":49583070,"comment_id":86180497,"body_markdown":"@greenapps I&#39;m not 100% what you mean by protocol, but it&#39;s just a real basic express server, no https or anything like that...","body":"@greenapps I&#39;m not 100% what you mean by protocol, but it&#39;s just a real basic express server, no https or anything like that..."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522489164,"post_id":49583070,"comment_id":86180510,"body_markdown":"So no http:// ?","body":"So no http:// ?"},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522489479,"post_id":49583070,"comment_id":86180583,"body_markdown":"@greenapps Hmm, I wasn&#39;t aware you could do without `http://`. I&#39;m using OKHttp inside my android app, and it threw an error the first time I tried entering in the address without `http://`. So my endpoint looks like `http://192.168.1.129:3000`","body":"@greenapps Hmm, I wasn&#39;t aware you could do without <code>http:&#47;&#47;</code>. I&#39;m using OKHttp inside my android app, and it threw an error the first time I tried entering in the address without <code>http:&#47;&#47;</code>. So my endpoint looks like <code>http:&#47;&#47;192.168.1.129:3000</code>"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522489678,"post_id":49583070,"comment_id":86180632,"body_markdown":"So the used server is a webserver (using http:// protocol). And using a browser on your device you obtain the requested page? Indeed using okhttp your url should always start with http://.","body":"So the used server is a webserver (using http:// protocol). And using a browser on your device you obtain the requested page? Indeed using okhttp your url should always start with http://."},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522489753,"post_id":49583070,"comment_id":86180645,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/167928/discussion-between-dustin-and-greenapps).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/167928/discussion-between-dustin-and-greenapps\">continue this discussion in chat</a>."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522489781,"post_id":49583070,"comment_id":86180655,"body_markdown":"No. No chat. Just answer my question.","body":"No. No chat. Just answer my question."},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522490388,"post_id":49583070,"comment_id":86180797,"body_markdown":"@greenapps. It&#39;s a web server using the express js framework. On the android device, I am able to retrieve the JSON. If I swap the url to http://10.0.2.2:3000 and use the emulator, I can reach it just fine. But on the device, using http://192.168.1.129:3000 results in a timeout.","body":"@greenapps. It&#39;s a web server using the express js framework. On the android device, I am able to retrieve the JSON. If I swap the url to <a href=\"http://10.0.2.2:3000\" rel=\"nofollow noreferrer\">10.0.2.2:3000</a> and use the emulator, I can reach it just fine. But on the device, using <a href=\"http://192.168.1.129:3000\" rel=\"nofollow noreferrer\">192.168.1.129:3000</a> results in a timeout."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522490634,"post_id":49583070,"comment_id":86180852,"body_markdown":"`On the android device, I am able to retrieve the JSON.` It is unclear to me what you are doing to obtain that result. My simple question was `And using a browser on your device you obtain the requested page?`. Please answer to the point.","body":"<code>On the android device, I am able to retrieve the JSON.</code> It is unclear to me what you are doing to obtain that result. My simple question was <code>And using a browser on your device you obtain the requested page?</code>. Please answer to the point."},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522490878,"post_id":49583070,"comment_id":86180914,"body_markdown":"My bad it&#39;s late here. Yes, navigating to the server in the browser on the device, I can get the JSON.","body":"My bad it&#39;s late here. Yes, navigating to the server in the browser on the device, I can get the JSON."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522491031,"post_id":49583070,"comment_id":86180956,"body_markdown":"Well then there is no reason that your app should not work from that device. Isnt there a default page you have to specify too like `http://192.168.1.129:3000/index` or so?","body":"Well then there is no reason that your app should not work from that device. Isnt there a default page you have to specify too like <code>http:&#47;&#47;192.168.1.129:3000&#47;index</code> or so?"},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522491304,"post_id":49583070,"comment_id":86181018,"body_markdown":"That is what I thought. I figured since I can ping the machine, and access the server from the browser inside the device, I should be able to access it in the app. In the server I&#39;m just returning some JSON from a `POST` request at the moment.","body":"That is what I thought. I figured since I can ping the machine, and access the server from the browser inside the device, I should be able to access it in the app. In the server I&#39;m just returning some JSON from a <code>POST</code> request at the moment."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1522492750,"post_id":49583070,"comment_id":86181351,"body_markdown":"How are you executing a post request with the browser on your device?","body":"How are you executing a post request with the browser on your device?"},{"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"score":0,"creation_date":1522493494,"post_id":49583070,"comment_id":86181542,"body_markdown":"I&#39;m sorry, I&#39;m not. In the app I am issuing a `POST` request. In the app, I am issuing a GET request which was originally just a quick way to test if the server was working at all during initial setup that I just haven&#39;t deleted yet and keep reusing for quick testing. It is returning the same type of response object though as the post.","body":"I&#39;m sorry, I&#39;m not. In the app I am issuing a <code>POST</code> request. In the app, I am issuing a GET request which was originally just a quick way to test if the server was working at all during initial setup that I just haven&#39;t deleted yet and keep reusing for quick testing. It is returning the same type of response object though as the post."}],"answers":[{"tags":[],"owner":{"account_id":12800050,"reputation":1146,"user_id":11909003,"display_name":"Priyansh jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702200980,"creation_date":1696874679,"answer_id":77260934,"question_id":49583070,"body_markdown":"To run your local server in different devices:\r\n1. Android Emulator: 10.0.2.2:3000 (or any other port if you have configured)\r\n2. IOS emulator: localhost:3000\r\n3. Android/IOS external device: your-pc-IP-address:3000\r\n\r\nTo find your IP address in Windows:\r\n1. Open cmd\r\n2. run &quot;ipconfig /all&quot; command\r\n3. Under &quot;Wireless LAN adapter Wi-Fi&quot; section. Find IPv4 address. Use that IP address to run your application.\r\n\r\nNOTE: There are more than one IPv4 addresses available in output. So, make sure you use the one mentioned in point 3.\r\n","title":"Android, connection timeout when making request from device to local server","body":"<p>To run your local server in different devices:</p>\n<ol>\n<li>Android Emulator: 10.0.2.2:3000 (or any other port if you have configured)</li>\n<li>IOS emulator: localhost:3000</li>\n<li>Android/IOS external device: your-pc-IP-address:3000</li>\n</ol>\n<p>To find your IP address in Windows:</p>\n<ol>\n<li>Open cmd</li>\n<li>run &quot;ipconfig /all&quot; command</li>\n<li>Under &quot;Wireless LAN adapter Wi-Fi&quot; section. Find IPv4 address. Use that IP address to run your application.</li>\n</ol>\n<p>NOTE: There are more than one IPv4 addresses available in output. So, make sure you use the one mentioned in point 3.</p>\n"}],"owner":{"account_id":305955,"reputation":577,"user_id":616403,"accept_rate":25,"display_name":"Dustin"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702200980,"creation_date":1522456204,"question_id":49583070,"body_markdown":"I have read many posts related to this one, but none of them seem to provide a solution to my problem.\r\n\r\nI am trying to reach my localhost server from my android app on a physical device, but keep getting a connection timeout. \r\n\r\nI can ping the server from the device, and visa versa, I can reach the endpoint in the browser from both the device and the development machine, but I can not reach it from inside my app. The internet permissions are set in the manifest file.\r\n\r\nUsing the emulator, and setting the endpoint to `10.0.2.2:3000` to reach it just fine, but if I set it to my machines local IP `192.168.1.129:3000` and run it on the physical device, then it times out.\r\n\r\nBoth the device and the server are set to static IP addresses.\r\n\r\nI&#39;m running out of things to check with my limited knowledge of networking. It was working fine the other day, but I had to change my network settings and firewall settings around for something else, and can&#39;t seem to troubleshoot the issue here.\r\n\r\nIf anyone could help me troubleshoot this, it would be greatly appreciated.\r\n\r\nedit: Thought I should say that the port is forwarded on the router, in case that helps troubleshooting.\r\n\r\nedit2: I&#39;ve also tried disabling my firewall completely to see if it was a firewall issue.","title":"Android, connection timeout when making request from device to local server","body":"<p>I have read many posts related to this one, but none of them seem to provide a solution to my problem.</p>\n\n<p>I am trying to reach my localhost server from my android app on a physical device, but keep getting a connection timeout. </p>\n\n<p>I can ping the server from the device, and visa versa, I can reach the endpoint in the browser from both the device and the development machine, but I can not reach it from inside my app. The internet permissions are set in the manifest file.</p>\n\n<p>Using the emulator, and setting the endpoint to <code>10.0.2.2:3000</code> to reach it just fine, but if I set it to my machines local IP <code>192.168.1.129:3000</code> and run it on the physical device, then it times out.</p>\n\n<p>Both the device and the server are set to static IP addresses.</p>\n\n<p>I'm running out of things to check with my limited knowledge of networking. It was working fine the other day, but I had to change my network settings and firewall settings around for something else, and can't seem to troubleshoot the issue here.</p>\n\n<p>If anyone could help me troubleshoot this, it would be greatly appreciated.</p>\n\n<p>edit: Thought I should say that the port is forwarded on the router, in case that helps troubleshooting.</p>\n\n<p>edit2: I've also tried disabling my firewall completely to see if it was a firewall issue.</p>\n"},{"tags":["java","spring-boot","maven","cucumber","junit5"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1701634040,"post_id":77595466,"comment_id":136797318,"body_markdown":"`@SelectClasspathResource(&quot;features&quot;)` suggests that the features are located in `src/test/resources/features`. Are they?","body":"<code>@SelectClasspathResource(&quot;features&quot;)</code> suggests that the features are located in <code>src&#47;test&#47;resources&#47;features</code>. Are they?"},{"owner":{"account_id":11873432,"reputation":528,"user_id":8689045,"display_name":"onouv"},"score":0,"creation_date":1701678804,"post_id":77595466,"comment_id":136801003,"body_markdown":"Yes, the feature file is  src/test/resources/features/greeting.feature. \n\nThere also is a src/test/resources/cucumber.properties file with this line in it: cucumber.publish.quiet=false \n\nBut it seems to me that the whole cucumber mechanism doesn&#39;t even start, since the Suite doesn&#39;t seem to take notice of the CucumberRunnerTest (I assume that is the launching point for the cucumber magic).","body":"Yes, the feature file is  src/test/resources/features/greeting.feature.   There also is a src/test/resources/cucumber.properties file with this line in it: cucumber.publish.quiet=false   But it seems to me that the whole cucumber mechanism doesn&#39;t even start, since the Suite doesn&#39;t seem to take notice of the CucumberRunnerTest (I assume that is the launching point for the cucumber magic)."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1701688578,"post_id":77595466,"comment_id":136802553,"body_markdown":"Okay. I can&#39;t tell you what is wrong. It looks like you are missing the `junit-platform-suite` (not -api) dependency but the error message suggests otherwise.","body":"Okay. I can&#39;t tell you what is wrong. It looks like you are missing the <code>junit-platform-suite</code> (not -api) dependency but the error message suggests otherwise."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1701688620,"post_id":77595466,"comment_id":136802561,"body_markdown":"Maybe start with https://github.com/cucumber/cucumber-java-skeleton. If anything the depencies are more cleanly defined.","body":"Maybe start with <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a>. If anything the depencies are more cleanly defined."}],"answers":[{"tags":[],"owner":{"account_id":11873432,"reputation":528,"user_id":8689045,"display_name":"onouv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702200843,"creation_date":1702200843,"answer_id":77634301,"question_id":77595466,"body_markdown":"So, following M.P.Korstanjes advice, I got it to work. Most grateful, Thanks ! I believe it was a mix between lacking the ```junit-platform-suite``` dependency and, most importantly a wrong folder structure: this stuff expects to find the package folders under ```src/test/java``` to exactly replicate what is under ```src/main/java```. Looks like the ```@SelectClassPathResource``` annotation did not work and falls back to default behavior. Also, the gherkin feature files apparently need to be under ```src/test/resources``` again, replicating the package folder structure from there. All this was not the case.  \r\nSo my sprint now looks like so:   \r\n```\r\nsrc/\r\n  main/\r\n    java/\r\n      org/\r\n        ono/\r\n          sprint/\r\n             demo/\r\n               DemoApplication.java\r\n               HomeController.java\r\n  test/\r\n    java/\r\n      org/\r\n        ono/\r\n          sprint/\r\n             demo/\r\n               SmokeTest.java\r\n               CucumberRunnerTest.java\r\n    resource/\r\n      org/\r\n        ono/\r\n          sprint/\r\n             demo/\r\n               helloworld.feature\r\n```   \r\n\r\nand the ```CucumberRunnerTest``` like so:\r\n```java\r\npackage org.ono.sprint.demo;\r\n\r\nimport io.cucumber.spring.CucumberContextConfiguration;\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;features&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;org.ono.sprint.demo&quot;)\r\n@CucumberContextConfiguration\r\n@SpringBootTest\r\npublic class CucumberRunnerTest {\r\n}\r\n```\r\n\r\nThe dependencies are as follows. Note the dependency management section that was needed to resolve some of the cucumber deps.\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;7.14.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.14.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Junit5 Suite did not discover any tests (spring boot with cucumber setup)","body":"<p>So, following M.P.Korstanjes advice, I got it to work. Most grateful, Thanks ! I believe it was a mix between lacking the <code>junit-platform-suite</code> dependency and, most importantly a wrong folder structure: this stuff expects to find the package folders under <code>src/test/java</code> to exactly replicate what is under <code>src/main/java</code>. Looks like the <code>@SelectClassPathResource</code> annotation did not work and falls back to default behavior. Also, the gherkin feature files apparently need to be under <code>src/test/resources</code> again, replicating the package folder structure from there. All this was not the case.<br />\nSo my sprint now looks like so:</p>\n<pre><code>src/\n  main/\n    java/\n      org/\n        ono/\n          sprint/\n             demo/\n               DemoApplication.java\n               HomeController.java\n  test/\n    java/\n      org/\n        ono/\n          sprint/\n             demo/\n               SmokeTest.java\n               CucumberRunnerTest.java\n    resource/\n      org/\n        ono/\n          sprint/\n             demo/\n               helloworld.feature\n</code></pre>\n<p>and the <code>CucumberRunnerTest</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.ono.sprint.demo;\n\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;org.ono.sprint.demo&quot;)\n@CucumberContextConfiguration\n@SpringBootTest\npublic class CucumberRunnerTest {\n}\n</code></pre>\n<p>The dependencies are as follows. Note the dependency management section that was needed to resolve some of the cucumber deps.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.10.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.14.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":11873432,"reputation":528,"user_id":8689045,"display_name":"onouv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77634301,"answer_count":1,"score":0,"last_activity_date":1702200843,"creation_date":1701625185,"question_id":77595466,"body_markdown":"Following \r\n[this example][1], I&#39;m trying to run a cucumber test in JUnit5, but the @Suite doesn&#39;t like me: \r\n\r\n    org.junit.platform.suite.engine.NoTestsDiscoveredException: Suite [org.ono.sprint.demo.CucumberRunnerTest] did not discover any tests\r\n\r\nand I have fiddled with it and researched this for a the better part of a day now, would be extremely thankful if someone can give me hint in the right direction. It seems to be a problem on the a JUnit level since it doesn&#39;t even recognize the test class.\r\n\r\n\r\nThe test setup has an empty `@Suite`, `@SpringBootTest` class which appears to be configured by cucumber-specific annotations ...\r\n\r\n    package org.ono.sprint.demo;\r\n    \r\n    import io.cucumber.spring.CucumberContextConfiguration;\r\n    import org.junit.platform.suite.api.ConfigurationParameter;\r\n    import org.junit.platform.suite.api.IncludeEngines;\r\n    import org.junit.platform.suite.api.SelectClasspathResource;\r\n    import org.junit.platform.suite.api.Suite;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    import static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n    \r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;features&quot;)\r\n    @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;org.ono.sprint.demo&quot;)\r\n    @CucumberContextConfiguration\r\n    @SpringBootTest\r\n    public class CucumberRunnerTest {\r\n    }\r\n\r\n...to do the actual test described in a cucumber step definitions class, which is accompanied by a feature file. I don&#39;t think this is a cucumber problem at this stage, so I am ommitting the feature file):\r\n\r\n    package org.ono.sprint.demo;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    \r\n    import org.springframework.boot.test.web.server.LocalServerPort;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    import io.cucumber.java.en.When;\r\n    \r\n    public class StepDefinitionsTest {\r\n    \r\n      @LocalServerPort\r\n      private int port;\r\n    \r\n      private final RestTemplate restTemplate = new RestTemplate();\r\n    \r\n      @When(&quot;I request a greeting&quot;)\r\n      public void i_request_a_greeting() {\r\n        String greetingUrl = &quot;http://localhost:&quot; + port + &quot;/greetings&quot;;\r\n    \r\n        String greeting = restTemplate.getForObject(greetingUrl, String.class);\r\n        Assertions.assertEquals(&quot;Hello&quot;, greeting);\r\n      }\r\n    \r\n    }\r\n\r\nalso, the actual spring boot implementation is most trivial, so ommitted. \r\n\r\nThese are the maven dependencies:\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;junit-platform.version&gt;1.9.1&lt;/junit-platform.version&gt;\r\n\t\t&lt;cucumber.version&gt;7.10.1&lt;/cucumber.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-console-standalone&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\nand I am using the `&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId`&gt;.\r\n\r\n \r\n  [1]: https://github.com/datmt/Spring-tutorial/blob/main/spring-boot-cucumber-junit5-testcontainers/pom.xml","title":"Junit5 Suite did not discover any tests (spring boot with cucumber setup)","body":"<p>Following\n<a href=\"https://github.com/datmt/Spring-tutorial/blob/main/spring-boot-cucumber-junit5-testcontainers/pom.xml\" rel=\"nofollow noreferrer\">this example</a>, I'm trying to run a cucumber test in JUnit5, but the @Suite doesn't like me:</p>\n<pre><code>org.junit.platform.suite.engine.NoTestsDiscoveredException: Suite [org.ono.sprint.demo.CucumberRunnerTest] did not discover any tests\n</code></pre>\n<p>and I have fiddled with it and researched this for a the better part of a day now, would be extremely thankful if someone can give me hint in the right direction. It seems to be a problem on the a JUnit level since it doesn't even recognize the test class.</p>\n<p>The test setup has an empty <code>@Suite</code>, <code>@SpringBootTest</code> class which appears to be configured by cucumber-specific annotations ...</p>\n<pre><code>package org.ono.sprint.demo;\n\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;org.ono.sprint.demo&quot;)\n@CucumberContextConfiguration\n@SpringBootTest\npublic class CucumberRunnerTest {\n}\n</code></pre>\n<p>...to do the actual test described in a cucumber step definitions class, which is accompanied by a feature file. I don't think this is a cucumber problem at this stage, so I am ommitting the feature file):</p>\n<pre><code>package org.ono.sprint.demo;\n\nimport org.junit.jupiter.api.Assertions;\n\nimport org.springframework.boot.test.web.server.LocalServerPort;\nimport org.springframework.web.client.RestTemplate;\n\nimport io.cucumber.java.en.When;\n\npublic class StepDefinitionsTest {\n\n  @LocalServerPort\n  private int port;\n\n  private final RestTemplate restTemplate = new RestTemplate();\n\n  @When(&quot;I request a greeting&quot;)\n  public void i_request_a_greeting() {\n    String greetingUrl = &quot;http://localhost:&quot; + port + &quot;/greetings&quot;;\n\n    String greeting = restTemplate.getForObject(greetingUrl, String.class);\n    Assertions.assertEquals(&quot;Hello&quot;, greeting);\n  }\n\n}\n</code></pre>\n<p>also, the actual spring boot implementation is most trivial, so ommitted.</p>\n<p>These are the maven dependencies:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;junit-platform.version&gt;1.9.1&lt;/junit-platform.version&gt;\n    &lt;cucumber.version&gt;7.10.1&lt;/cucumber.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-console-standalone&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;       \n&lt;/dependencies&gt;\n</code></pre>\n<p>and I am using the <code>&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId</code>&gt;.</p>\n"},{"tags":["javascript","java","reactjs","node.js"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1702204202,"post_id":77634278,"comment_id":136865935,"body_markdown":"*...after that server encrypt response message with private key and cleint must can be to decrypt encrypted response message...* This is a wrong design. Encryption with the private key and confidentiality are a contradiction in terms (since the public key would have to be used for decryption, which by definition *anyone* can have). Take a look at how RSA works (especially [key exchange](https://en.wikipedia.org/wiki/RSA_(cryptosystem)#Key_distribution)), and [hybrid encryption](https://en.wikipedia.org/wiki/Hybrid_cryptosystem).","body":"<i>...after that server encrypt response message with private key and cleint must can be to decrypt encrypted response message...</i> This is a wrong design. Encryption with the private key and confidentiality are a contradiction in terms (since the public key would have to be used for decryption, which by definition <i>anyone</i> can have). Take a look at how RSA works (especially <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)#Key_distribution\" rel=\"nofollow noreferrer\">key exchange</a>), and <a href=\"https://en.wikipedia.org/wiki/Hybrid_cryptosystem\" rel=\"nofollow noreferrer\">hybrid encryption</a>."}],"owner":{"account_id":8421454,"reputation":105,"user_id":6320162,"display_name":"Mohammad Hossin Samadian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702200629,"creation_date":1702200299,"question_id":77634278,"body_markdown":"I generated a RSA key pair based this command:\r\n\r\n    openssl genrsa -out key_pair.pem 2048\r\n    openssl pkcs8 -topk8 -inform PEM -outform PEM -in key_pair.pem  -out private.pem\r\n    openssl rsa -in key_pair.pem -pubout -outform PEM -out public.pem\r\n\r\nthen I wrote this codes to make a server-side program that used above private key to generate encrypt/decrypt message that send/receive to/from client side application. \r\n\r\n    public static String encryptByPrivate(String strToEncrypt) {\r\n        try {\r\n            var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PRIVATE_KEY_PATH);\r\n            byte[] privateKeyBytes = inputStream.readAllBytes();\r\n            KeyFactory privateKeyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n            PrivateKey privateKey = privateKeyFactory.generatePrivate(privateKeySpec);\r\n\r\n            Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            encryptCipher.init(Cipher.ENCRYPT_MODE, privateKey);\r\n\r\n\r\n            byte[] secretMessageBytes = strToEncrypt.getBytes(StandardCharsets.UTF_8);\r\n            byte[] encrypted = encryptCipher.doFinal(secretMessageBytes);\r\n            String encryptedText = Base64.getEncoder().encodeToString(encrypted);\r\n            return encryptedText;\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new EncryptBodyFailException(&quot;Encoding error, please contact the system administrator.&quot;);\r\n        }\r\n    }\r\n\r\n    public static String decryptByPrivate(String strToDecrypt) {\r\n        try {\r\n            var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PRIVATE_KEY_PATH);\r\n            byte[] privateKeyBytes = inputStream.readAllBytes();\r\n            KeyFactory privateKeyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n            PrivateKey privateKey = privateKeyFactory.generatePrivate(privateKeySpec);\r\n\r\n            Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n            byte[] decryptedMessageBytes = decryptCipher.doFinal(Base64.getDecoder().decode(strToDecrypt));\r\n            return new String(decryptedMessageBytes, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new DecryptBodyFailException(&quot;Decoding error, please contact the system administrator.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public static String encryptByPublic(String strToEncrypt) {\r\n        try {\r\n            var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PUBLIC_KEY_PATH);\r\n            byte[] publicKeyBytes = inputStream.readAllBytes();\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n            byte[] encryptedBytes = cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;));\r\n            String encryptedText = Base64.getEncoder().encodeToString(encryptedBytes);\r\n            return encryptedText;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new EncryptBodyFailException(&quot;Encoding error, please contact the system administrator.&quot;);\r\n        }\r\n    }\r\n\r\n    public static String decryptByPublic(String strToDecrypt) {\r\n        try {\r\n            var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PUBLIC_KEY_PATH);\r\n            byte[] publicKeyBytes = inputStream.readAllBytes();\r\n\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n\r\n            Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            decryptCipher.init(Cipher.DECRYPT_MODE, publicKey);\r\n            byte[] decryptedMessageBytes = decryptCipher.doFinal(Base64.getDecoder().decode(strToDecrypt));\r\n            return new String(decryptedMessageBytes, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new DecryptBodyFailException(&quot;Decoding error, please contact the system administrator.&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThen, we try to wrote javascript app fopr client side. I have a react-js app that use public key to encrypt/decrypt message using Public key that send or receive from server. the java script code is :\r\n\r\n    const publicKeyPEM = &quot;-----BEGIN PUBLIC KEY-----\\n&quot; +\r\n        &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwFSqIsNbDl/bBhHMQLwA\\n&quot; +\r\n        ...................\r\n        &quot;OvkGLdI1AR0MtaCRrllE3yO3n5bAqqeZQjMl0C4ZURxjEzE7aTn2Hq3AU2conIwe\\n&quot; +\r\n        &quot;EQIDAQAB\\n&quot; +\r\n        &quot;-----END PUBLIC KEY-----&quot;;\r\n\r\n\r\n\r\n    const plaintext = &quot;plain text that we want to send...&quot;;\r\n\r\n\r\n    function pemToArrayBuffer(pem) {\r\n        const lines = pem.split(&#39;\\n&#39;);\r\n        const base64 = lines.slice(1, lines.length - 1).join(&#39;&#39;);\r\n        const binaryString = window.atob(base64);\r\n        const bytes = new Uint8Array(binaryString.length);\r\n        for (let i = 0; i &lt; binaryString.length; i++) {\r\n            bytes[i] = binaryString.charCodeAt(i);\r\n        }\r\n        return bytes.buffer;\r\n    }\r\n\r\n    const publicKey = pemToArrayBuffer(publicKeyPEM);\r\n\r\n\r\n    window.crypto.subtle.importKey(\r\n        &quot;spki&quot;,\r\n        publicKey,\r\n        {\r\n            name: &quot;RSA-OAEP&quot;,\r\n            hash: { name: &quot;SHA-256&quot; },\r\n        },\r\n        true,\r\n        [&quot;encrypt&quot;]\r\n    )\r\n        .then((cryptoKey) =&gt; {\r\n            const encodedText = new TextEncoder().encode(plaintext);\r\n            return window.crypto.subtle.encrypt(\r\n                {\r\n                    name: &quot;RSA-OAEP&quot;\r\n                },\r\n                cryptoKey,\r\n                encodedText\r\n            );\r\n        })\r\n        .then((encrypted) =&gt; {\r\n            const encryptedText = btoa(String.fromCharCode.apply(null, new Uint8Array(encrypted)));\r\n            console.log(&quot;encrypted message: &quot;, encryptedText);\r\n        })\r\n        .catch((error) =&gt; {\r\n            console.error(&quot;error on encrypt: &quot;, error);\r\n        });\r\n\r\n\r\n    const encryptedText = &quot;encrypted base64 string that server side application send to me...&quot;;\r\n\r\n\r\n    const encryptedData = new Uint8Array(atob(encryptedText).split(&#39;&#39;).map((c) =&gt; c.charCodeAt(0)));\r\n\r\n\r\n    window.crypto.subtle.importKey(\r\n        &quot;spki&quot;,\r\n        publicKey,\r\n        {\r\n            name: &quot;RSA-OAEP&quot;,\r\n            hash: { name: &quot;SHA-256&quot; },\r\n        },\r\n        true,\r\n        [&quot;decrypt&quot;]\r\n    )\r\n        .then((cryptoKey) =&gt; {\r\n            const encryptedData = new Uint8Array(atob(encryptedText).split(&#39;&#39;).map((c) =&gt; c.charCodeAt(0)));\r\n            console.log()\r\n            return window.crypto.subtle.decrypt(\r\n                {\r\n                    name: &quot;RSA-OAEP&quot;\r\n                },\r\n                cryptoKey,\r\n                encryptedData\r\n            );\r\n        })\r\n        .then((decrypted) =&gt; {\r\n            const decryptedText = new TextDecoder().decode(decrypted);\r\n            console.log(&quot;decrypted test:&quot;, decryptedText);\r\n        })\r\n        .catch((error) =&gt; {\r\n            console.error(&quot;error on decrypt :&quot;, error);\r\n        });\r\n\r\nWhen a client sending message to server first step encrypt requested message with Public key and server decrypt message with private key. after that server encrypt response message with private key and cleint must can be to decrypt encrypted response message.\r\n\r\nwhen we encrypt message y public in client side every thins is OK. but decryption method return error :  `DOMException: Data provided to an operation does not meet requirements`\r\n\r\n  I try another library like Crypto-js, Hybid-Crypto-js and NodeRSA. but cannot reach to Goal.","title":"JavaScript Encrypt and Decrypt message using RSA Public Key","body":"<p>I generated a RSA key pair based this command:</p>\n<pre><code>openssl genrsa -out key_pair.pem 2048\nopenssl pkcs8 -topk8 -inform PEM -outform PEM -in key_pair.pem  -out private.pem\nopenssl rsa -in key_pair.pem -pubout -outform PEM -out public.pem\n</code></pre>\n<p>then I wrote this codes to make a server-side program that used above private key to generate encrypt/decrypt message that send/receive to/from client side application.</p>\n<pre><code>public static String encryptByPrivate(String strToEncrypt) {\n    try {\n        var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PRIVATE_KEY_PATH);\n        byte[] privateKeyBytes = inputStream.readAllBytes();\n        KeyFactory privateKeyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n        PrivateKey privateKey = privateKeyFactory.generatePrivate(privateKeySpec);\n\n        Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n        encryptCipher.init(Cipher.ENCRYPT_MODE, privateKey);\n\n\n        byte[] secretMessageBytes = strToEncrypt.getBytes(StandardCharsets.UTF_8);\n        byte[] encrypted = encryptCipher.doFinal(secretMessageBytes);\n        String encryptedText = Base64.getEncoder().encodeToString(encrypted);\n        return encryptedText;\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new EncryptBodyFailException(&quot;Encoding error, please contact the system administrator.&quot;);\n    }\n}\n\npublic static String decryptByPrivate(String strToDecrypt) {\n    try {\n        var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PRIVATE_KEY_PATH);\n        byte[] privateKeyBytes = inputStream.readAllBytes();\n        KeyFactory privateKeyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n        PrivateKey privateKey = privateKeyFactory.generatePrivate(privateKeySpec);\n\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(Base64.getDecoder().decode(strToDecrypt));\n        return new String(decryptedMessageBytes, StandardCharsets.UTF_8);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new DecryptBodyFailException(&quot;Decoding error, please contact the system administrator.&quot;);\n    }\n}\n\n\npublic static String encryptByPublic(String strToEncrypt) {\n    try {\n        var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PUBLIC_KEY_PATH);\n        byte[] publicKeyBytes = inputStream.readAllBytes();\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n        byte[] encryptedBytes = cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;));\n        String encryptedText = Base64.getEncoder().encodeToString(encryptedBytes);\n        return encryptedText;\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new EncryptBodyFailException(&quot;Encoding error, please contact the system administrator.&quot;);\n    }\n}\n\npublic static String decryptByPublic(String strToDecrypt) {\n    try {\n        var inputStream = EncryptDecryptHelper.class.getResourceAsStream(PUBLIC_KEY_PATH);\n        byte[] publicKeyBytes = inputStream.readAllBytes();\n\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\n\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n        decryptCipher.init(Cipher.DECRYPT_MODE, publicKey);\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(Base64.getDecoder().decode(strToDecrypt));\n        return new String(decryptedMessageBytes, StandardCharsets.UTF_8);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new DecryptBodyFailException(&quot;Decoding error, please contact the system administrator.&quot;);\n    }\n}\n</code></pre>\n<p>Then, we try to wrote javascript app fopr client side. I have a react-js app that use public key to encrypt/decrypt message using Public key that send or receive from server. the java script code is :</p>\n<pre><code>const publicKeyPEM = &quot;-----BEGIN PUBLIC KEY-----\\n&quot; +\n    &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwFSqIsNbDl/bBhHMQLwA\\n&quot; +\n    ...................\n    &quot;OvkGLdI1AR0MtaCRrllE3yO3n5bAqqeZQjMl0C4ZURxjEzE7aTn2Hq3AU2conIwe\\n&quot; +\n    &quot;EQIDAQAB\\n&quot; +\n    &quot;-----END PUBLIC KEY-----&quot;;\n\n\n\nconst plaintext = &quot;plain text that we want to send...&quot;;\n\n\nfunction pemToArrayBuffer(pem) {\n    const lines = pem.split('\\n');\n    const base64 = lines.slice(1, lines.length - 1).join('');\n    const binaryString = window.atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i &lt; binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\nconst publicKey = pemToArrayBuffer(publicKeyPEM);\n\n\nwindow.crypto.subtle.importKey(\n    &quot;spki&quot;,\n    publicKey,\n    {\n        name: &quot;RSA-OAEP&quot;,\n        hash: { name: &quot;SHA-256&quot; },\n    },\n    true,\n    [&quot;encrypt&quot;]\n)\n    .then((cryptoKey) =&gt; {\n        const encodedText = new TextEncoder().encode(plaintext);\n        return window.crypto.subtle.encrypt(\n            {\n                name: &quot;RSA-OAEP&quot;\n            },\n            cryptoKey,\n            encodedText\n        );\n    })\n    .then((encrypted) =&gt; {\n        const encryptedText = btoa(String.fromCharCode.apply(null, new Uint8Array(encrypted)));\n        console.log(&quot;encrypted message: &quot;, encryptedText);\n    })\n    .catch((error) =&gt; {\n        console.error(&quot;error on encrypt: &quot;, error);\n    });\n\n\nconst encryptedText = &quot;encrypted base64 string that server side application send to me...&quot;;\n\n\nconst encryptedData = new Uint8Array(atob(encryptedText).split('').map((c) =&gt; c.charCodeAt(0)));\n\n\nwindow.crypto.subtle.importKey(\n    &quot;spki&quot;,\n    publicKey,\n    {\n        name: &quot;RSA-OAEP&quot;,\n        hash: { name: &quot;SHA-256&quot; },\n    },\n    true,\n    [&quot;decrypt&quot;]\n)\n    .then((cryptoKey) =&gt; {\n        const encryptedData = new Uint8Array(atob(encryptedText).split('').map((c) =&gt; c.charCodeAt(0)));\n        console.log()\n        return window.crypto.subtle.decrypt(\n            {\n                name: &quot;RSA-OAEP&quot;\n            },\n            cryptoKey,\n            encryptedData\n        );\n    })\n    .then((decrypted) =&gt; {\n        const decryptedText = new TextDecoder().decode(decrypted);\n        console.log(&quot;decrypted test:&quot;, decryptedText);\n    })\n    .catch((error) =&gt; {\n        console.error(&quot;error on decrypt :&quot;, error);\n    });\n</code></pre>\n<p>When a client sending message to server first step encrypt requested message with Public key and server decrypt message with private key. after that server encrypt response message with private key and cleint must can be to decrypt encrypted response message.</p>\n<p>when we encrypt message y public in client side every thins is OK. but decryption method return error :  <code>DOMException: Data provided to an operation does not meet requirements</code></p>\n<p>I try another library like Crypto-js, Hybid-Crypto-js and NodeRSA. but cannot reach to Goal.</p>\n"},{"tags":["java","php","android","json"],"comments":[{"owner":{"account_id":7939055,"reputation":955,"user_id":5993854,"display_name":"Pardeep"},"score":0,"creation_date":1492487729,"post_id":43463246,"comment_id":73982217,"body_markdown":"Do you want to extract values from finalObject?","body":"Do you want to extract values from finalObject?"},{"owner":{"account_id":10708992,"reputation":3,"user_id":7881785,"display_name":"ZhanWei Yap"},"score":0,"creation_date":1492488101,"post_id":43463246,"comment_id":73982310,"body_markdown":"@PardeepDogra im not sure whether it is a good way, I just trying any possible method since I have no idea, how is your opinion?","body":"@PardeepDogra im not sure whether it is a good way, I just trying any possible method since I have no idea, how is your opinion?"},{"owner":{"account_id":1752755,"reputation":1026,"user_id":1601476,"accept_rate":20,"display_name":"Nitin_Narale"},"score":0,"creation_date":1492489807,"post_id":43463246,"comment_id":73982798,"body_markdown":"If you want to print for log cat then simply add jsonObject.toString(); in log","body":"If you want to print for log cat then simply add jsonObject.toString(); in log"}],"answers":[{"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492488402,"creation_date":1492488402,"answer_id":43463395,"question_id":43463246,"body_markdown":"You can use java library GSON https://github.com/google/gson.\r\n\r\nTo convert json format to java String.class write:\r\n\r\n    String str = gson.fromJson(&quot;\\&quot;abc\\&quot;&quot;, String.class);","title":"convert json object to string and display","body":"<p>You can use java library GSON <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a>.</p>\n\n<p>To convert json format to java String.class write:</p>\n\n<pre><code>String str = gson.fromJson(\"\\\"abc\\\"\", String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7704390,"reputation":337,"user_id":5835760,"display_name":"Tanvi Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492491415,"creation_date":1492491415,"answer_id":43463854,"question_id":43463246,"body_markdown":"After the callback comes in onPostExecute, the String arguments may be in key-value pair. So to convert String to JsonObject use -\r\n\r\n\r\n    @Override\r\n    protected void onPostExecute(String s) {\r\n     try {\r\n            JSONObject jsonObject = new JSONObject(s);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n         }\r\n    }\r\n","title":"convert json object to string and display","body":"<p>After the callback comes in onPostExecute, the String arguments may be in key-value pair. So to convert String to JsonObject use -</p>\n\n<pre><code>@Override\nprotected void onPostExecute(String s) {\n try {\n        JSONObject jsonObject = new JSONObject(s);\n    } catch (JSONException e) {\n        e.printStackTrace();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9549175,"reputation":472,"user_id":7743702,"display_name":"Aldrin Joe Mathew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492492137,"creation_date":1492491591,"answer_id":43463895,"question_id":43463246,"body_markdown":"1. You can use\r\n\r\n    dataField.setText(result);\r\n\r\non onPostExecute()\r\n\r\n2. For easily accessing your data from remote you can use the concept of POJO class.\r\n\r\nFirst create a POJO class like this \r\n\r\n    class BaseClass {\r\n        Boolean status;\r\n        String message;\r\n        String data;\r\n        RowClass row;\r\n    \r\n        public Boolean getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public String getData() {\r\n            return data;\r\n        }\r\n    \r\n        public RowClass getRow() {\r\n            return row;\r\n        }\r\n    \r\n        class RowClass {\r\n            String name;\r\n            String username;\r\n            int age;\r\n            String data;\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public String getUsername() {\r\n                return username;\r\n            }\r\n    \r\n            public int getAge() {\r\n                return age;\r\n            }\r\n    \r\n            public String getData() {\r\n                return data;\r\n            }\r\n        }\r\n    }\r\n\r\nand then retrieve data by\r\n\r\n    BaseClass jsonObject = new BaseClass();\r\n    jsonObject = gson.fromJson(finalJson, BaseClass.class);","title":"convert json object to string and display","body":"<ol>\n<li><p>You can use</p>\n\n<p>dataField.setText(result);</p></li>\n</ol>\n\n<p>on onPostExecute()</p>\n\n<ol start=\"2\">\n<li>For easily accessing your data from remote you can use the concept of POJO class.</li>\n</ol>\n\n<p>First create a POJO class like this </p>\n\n<pre><code>class BaseClass {\n    Boolean status;\n    String message;\n    String data;\n    RowClass row;\n\n    public Boolean getStatus() {\n        return status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public String getData() {\n        return data;\n    }\n\n    public RowClass getRow() {\n        return row;\n    }\n\n    class RowClass {\n        String name;\n        String username;\n        int age;\n        String data;\n\n        public String getName() {\n            return name;\n        }\n\n        public String getUsername() {\n            return username;\n        }\n\n        public int getAge() {\n            return age;\n        }\n\n        public String getData() {\n            return data;\n        }\n    }\n}\n</code></pre>\n\n<p>and then retrieve data by</p>\n\n<pre><code>BaseClass jsonObject = new BaseClass();\njsonObject = gson.fromJson(finalJson, BaseClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13933207,"reputation":1,"user_id":10060904,"display_name":"nikhitha jose mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539588603,"creation_date":1539588603,"answer_id":52811715,"question_id":43463246,"body_markdown":"\tprivate static String jsonToString(final Object obj) {\r\n\t\tString result;\r\n\t\ttry {\r\n\t\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\t\tfinal String jsonContent = mapper.writeValueAsString(obj);\r\n\t\t\tresult = jsonContent;\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\tresult = &quot;JSON Parsing error&quot;;\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"convert json object to string and display","body":"<pre><code>private static String jsonToString(final Object obj) {\n    String result;\n    try {\n        final ObjectMapper mapper = new ObjectMapper();\n        final String jsonContent = mapper.writeValueAsString(obj);\n        result = jsonContent;\n    } catch (JsonProcessingException e) {\n        result = \"JSON Parsing error\";\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689151264,"creation_date":1686240360,"answer_id":76433786,"question_id":43463246,"body_markdown":"Write $data php as an array\r\nFor example, mariadb loop\r\n\r\n        $query = &quot;SELECT * FROM image where (file_name like &#39;&quot;. $_POST[&quot;test&quot;] .&quot;&#39;) ORDER BY uploaded_on DESC limit 1&quot;;$contacts = $pdo-&gt;query( $sql )-&gt;fetchAll(PDO::FETCH_CLASS, &#39;Contact&#39;);\r\n\t\t// Print contacts\r\n\t\t$resultCount = count($contacts);\r\n        $r1 = &quot;&quot;;\r\n        $data = array();\r\n\t\t$dCount =0;\r\n\t\tforeach($contacts as $contact) { \t\t\r\n\r\n\t\t\t$email = $contact-&gt;email;\r\n\t\t\t$dCount++;\r\n\t\t\t\r\n\t\t\t$r1 = $contact-&gt;id;\r\n\t\t\t\r\n\t\t\t$data[&#39;params_name1&#39;][]= array(&quot;name&quot; =&gt; $contact-&gt;name, &quot;age&quot; =&gt; $contact-&gt;age, &quot;username&quot; =&gt; $contact-&gt;username);\r\n\t\t}\r\n\r\n    $data[&#39;params_name2&#39;][] = array(&quot;status&quot; =&gt; $status, &quot;message&quot; =&gt; $message, &quot;row&quot; =&gt; $dCount);\r\n\r\n    echo json_encode($data);\r\n    $pdo = null;\r\n\r\nYou can replace params_name1 to table\r\nand params_name2 to title.\r\n\r\nThen it can be easy to read by android async task.\r\n\r\n","title":"convert json object to string and display","body":"<p>Write $data php as an array\nFor example, mariadb loop</p>\n<pre><code>    $query = &quot;SELECT * FROM image where (file_name like '&quot;. $_POST[&quot;test&quot;] .&quot;') ORDER BY uploaded_on DESC limit 1&quot;;$contacts = $pdo-&gt;query( $sql )-&gt;fetchAll(PDO::FETCH_CLASS, 'Contact');\n    // Print contacts\n    $resultCount = count($contacts);\n    $r1 = &quot;&quot;;\n    $data = array();\n    $dCount =0;\n    foreach($contacts as $contact) {        \n\n        $email = $contact-&gt;email;\n        $dCount++;\n        \n        $r1 = $contact-&gt;id;\n        \n        $data['params_name1'][]= array(&quot;name&quot; =&gt; $contact-&gt;name, &quot;age&quot; =&gt; $contact-&gt;age, &quot;username&quot; =&gt; $contact-&gt;username);\n    }\n\n$data['params_name2'][] = array(&quot;status&quot; =&gt; $status, &quot;message&quot; =&gt; $message, &quot;row&quot; =&gt; $dCount);\n\necho json_encode($data);\n$pdo = null;\n</code></pre>\n<p>You can replace params_name1 to table\nand params_name2 to title.</p>\n<p>Then it can be easy to read by android async task.</p>\n"}],"owner":{"account_id":10708992,"reputation":3,"user_id":7881785,"display_name":"ZhanWei Yap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1702199276,"creation_date":1492487345,"question_id":43463246,"body_markdown":"Basically here im using url connection to connect to php, everything is work find in log in and register phase, now i want to fetch the json object that i create in php file and then display it in a string view, so anyone got idea regarding this?\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_display);\r\n\r\n        dataField = (TextView) findViewById(R.id.data);\r\n        btnDis = (Button) findViewById(R.id.btnClick);\r\n\r\n\r\n\r\n\r\n        btnDis.setOnClickListener (new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v){\r\n\r\n                strUrl =&quot;http://10.0.2.2/android/display.php&quot;;\r\n\r\n                new jsonParse().execute();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    public class jsonParse extends AsyncTask&lt;String, String, String&gt;{\r\n        @Override\r\n        protected void onPreExecute() {\r\n\r\n            super.onPreExecute();\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n\r\n            Toast.makeText(EditActivity.this,&quot;&quot;+result,Toast.LENGTH_LONG ).show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            try{\r\n                URL url = new URL (strUrl);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;POST&quot;);\r\n                con.connect();\r\n\r\n                //get response from server\r\n                BufferedReader bf = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                String value = bf.readLine();\r\n                System.out.println(&quot;result is&quot;+value);\r\n                result = value;\r\n\r\n                String finalJson = bf.toString();\r\n                JSONObject parentObject = new JSONObject(finalJson);\r\n                JSONArray parentArray = parentObject.getJSONArray(&quot;data&quot;);\r\n\r\n                JSONObject finalObject= parentArray.getJSONObject(0);\r\n                String username = finalObject.getString(&quot;NAME&quot;);\r\n                String age = finalObject.getString(&quot;AGE&quot;);\r\n                String result = username +&quot; - &quot;+age;\r\n                return result;\r\n            }\r\n\r\n\r\n            catch(Exception e){\r\n                System.out.println(e);\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nHere is my php file called display.php\r\n\r\n    &lt;?php\r\n    require &quot;conn.php&quot;;\r\n    require_once &quot;global.php&quot;;\r\n    \r\n    \r\n    \r\n    //get record from databases\r\n    $query = &quot;SELECT * FROM user&quot;;\r\n    if($result = mysqli_query($conn, $query)){\r\n      // printf(&quot;%d&quot;, mysqli_num_rows($result));\r\n    \r\n    if(mysqli_num_rows($result) &gt; 0){\r\n      $status = &#39;true&#39;;\r\n      $message = &#39;data retrieved successfully&#39;;\r\n          while($row = mysqli_fetch_assoc($result)){\r\n            $name = $row[&#39;name&#39;];\r\n            $age = $row[&#39;age&#39;];\r\n            $username = $row[&#39;username&#39;];\r\n    \r\n    \r\n            // echo $name.&quot;\\n\\n&quot;;\r\n            // echo $age.&quot;\\n\\n&quot;;\r\n            // echo $username.&quot;\\n\\n&quot;;\r\n    \r\n            $data .= &#39;{&quot;NAME&quot; : &quot;&#39;.$name.&#39;&quot;, &quot;AGE&quot; : &quot;&#39;.$age.&#39;&quot;, &quot;USERNAME&quot; : &quot;&#39;.$username.&#39;&quot;},&#39;;\r\n          }\r\n    \r\n    }else{\r\n      $status = &#39;false&#39;;\r\n      $message = &#39;data retrieved failed&#39;;\r\n      $data = &#39;&#39;;\r\n    }\r\n    \r\n    mysqli_free_result($result);\r\n    mysqli_close($conn);\r\n    }else{\r\n      $message = mysqli_error($conn);\r\n    }\r\n    $output = &#39;{&quot;status&quot;: &quot;&#39;.$status.&#39;&quot;,&quot;message&quot;:&quot;&#39;.$message.&#39;&quot;, &quot;data&quot;: [&#39;.rtrim($data, &#39;,&#39;).&#39;]}&#39;;\r\n    echo $output;\r\n    \r\n    ?&gt;\r\n\r\n","title":"convert json object to string and display","body":"<p>Basically here im using url connection to connect to php, everything is work find in log in and register phase, now i want to fetch the json object that i create in php file and then display it in a string view, so anyone got idea regarding this?</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_display);\n\n    dataField = (TextView) findViewById(R.id.data);\n    btnDis = (Button) findViewById(R.id.btnClick);\n\n\n\n\n    btnDis.setOnClickListener (new View.OnClickListener(){\n        @Override\n        public void onClick(View v){\n\n            strUrl =\"http://10.0.2.2/android/display.php\";\n\n            new jsonParse().execute();\n        }\n    });\n}\n\n\n\n\npublic class jsonParse extends AsyncTask&lt;String, String, String&gt;{\n    @Override\n    protected void onPreExecute() {\n\n        super.onPreExecute();\n\n    }\n\n    @Override\n    protected void onPostExecute(String s) {\n\n        Toast.makeText(EditActivity.this,\"\"+result,Toast.LENGTH_LONG ).show();\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n        try{\n            URL url = new URL (strUrl);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            con.setRequestMethod(\"POST\");\n            con.connect();\n\n            //get response from server\n            BufferedReader bf = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            String value = bf.readLine();\n            System.out.println(\"result is\"+value);\n            result = value;\n\n            String finalJson = bf.toString();\n            JSONObject parentObject = new JSONObject(finalJson);\n            JSONArray parentArray = parentObject.getJSONArray(\"data\");\n\n            JSONObject finalObject= parentArray.getJSONObject(0);\n            String username = finalObject.getString(\"NAME\");\n            String age = finalObject.getString(\"AGE\");\n            String result = username +\" - \"+age;\n            return result;\n        }\n\n\n        catch(Exception e){\n            System.out.println(e);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is my php file called display.php</p>\n\n<pre><code>&lt;?php\nrequire \"conn.php\";\nrequire_once \"global.php\";\n\n\n\n//get record from databases\n$query = \"SELECT * FROM user\";\nif($result = mysqli_query($conn, $query)){\n  // printf(\"%d\", mysqli_num_rows($result));\n\nif(mysqli_num_rows($result) &gt; 0){\n  $status = 'true';\n  $message = 'data retrieved successfully';\n      while($row = mysqli_fetch_assoc($result)){\n        $name = $row['name'];\n        $age = $row['age'];\n        $username = $row['username'];\n\n\n        // echo $name.\"\\n\\n\";\n        // echo $age.\"\\n\\n\";\n        // echo $username.\"\\n\\n\";\n\n        $data .= '{\"NAME\" : \"'.$name.'\", \"AGE\" : \"'.$age.'\", \"USERNAME\" : \"'.$username.'\"},';\n      }\n\n}else{\n  $status = 'false';\n  $message = 'data retrieved failed';\n  $data = '';\n}\n\nmysqli_free_result($result);\nmysqli_close($conn);\n}else{\n  $message = mysqli_error($conn);\n}\n$output = '{\"status\": \"'.$status.'\",\"message\":\"'.$message.'\", \"data\": ['.rtrim($data, ',').']}';\necho $output;\n\n?&gt;\n</code></pre>\n"},{"tags":["java","android","parse-platform"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695290164,"post_id":77145579,"comment_id":136005895,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29494648,"reputation":1,"user_id":22602985,"display_name":"Bouchra bicho"},"score":0,"creation_date":1695291752,"post_id":77145579,"comment_id":136006270,"body_markdown":"as i mentioned before ,i&#39;m trying to get users usernames and show them up in my listView as friendlist for my current user ,but i&#39;m just getting username of my current user instead of other users usernames , idk if the problem is about access to others users or is just about query here :\n&lt;query.whereNotEqualTo(&quot;username&quot;,ParseUser.getCurrentUser().getUsername());&gt;","body":"as i mentioned before ,i&#39;m trying to get users usernames and show them up in my listView as friendlist for my current user ,but i&#39;m just getting username of my current user instead of other users usernames , idk if the problem is about access to others users or is just about query here : &lt;query.whereNotEqualTo(&quot;username&quot;,ParseUser.getCurrentUser()&zwnj;&#8203;.getUsername());&gt;"}],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695257954,"creation_date":1695257954,"answer_id":77146641,"question_id":77145579,"body_markdown":"The line query.whereNotEqualTo(&quot;username&quot;, ParseUser.getCurrentUser().getUsername()); is filtering out the current user from the query results, which is why you are only getting the current user&#39;s username in the list.\r\n\r\nIf you want to retrieve the usernames of all users except the current user, you should remove this line:\r\n\r\n    public class UsersListActivity extends AppCompatActivity {\r\n    \r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_users_list);\r\n            ParseACL defaultACL = new ParseACL();\r\n            defaultACL.setPublicReadAccess(true);\r\n            ParseACL.setDefaultACL(defaultACL, true);\r\n    \r\n            final ListView listView = findViewById(R.id.usersListView);\r\n            final ArrayList&lt;String&gt; usernames = new ArrayList&lt;String&gt;();\r\n            final ArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, usernames);\r\n    \r\n            ParseQuery&lt;ParseUser&gt; query = ParseUser.getQuery();\r\n            query.addAscendingOrder(&quot;username&quot;);\r\n    \r\n            query.findInBackground(new FindCallback&lt;ParseUser&gt;() {\r\n                @Override\r\n                public void done(List&lt;ParseUser&gt; objects, ParseException e) {\r\n                    if (e == null) {\r\n                        if (objects.size() &gt; 0) {\r\n                            for (ParseUser user : objects) {\r\n                                // Exclude the current user&#39;s username\r\n                                if (!user.getUsername().equals(ParseUser.getCurrentUser().getUsername())) {\r\n                                    usernames.add(user.getUsername());\r\n                                }\r\n                            }\r\n                            listView.setAdapter(arrayAdapter);\r\n                        }\r\n                    } else {\r\n                        e.printStackTrace();\r\n                        Log.i(&quot;usernames&quot;, &quot;Error: &quot; + e.getMessage());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThis modified code will populate the usernames list with usernames of all users except the current user and display them in the ListView. Make sure to remove the line that was excluding the current user&#39;s username from the query filter, as shown above.","title":"How do I get usernames of other users in Parse in Android?","body":"<p>The line query.whereNotEqualTo(&quot;username&quot;, ParseUser.getCurrentUser().getUsername()); is filtering out the current user from the query results, which is why you are only getting the current user's username in the list.</p>\n<p>If you want to retrieve the usernames of all users except the current user, you should remove this line:</p>\n<pre><code>public class UsersListActivity extends AppCompatActivity {\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_users_list);\n        ParseACL defaultACL = new ParseACL();\n        defaultACL.setPublicReadAccess(true);\n        ParseACL.setDefaultACL(defaultACL, true);\n\n        final ListView listView = findViewById(R.id.usersListView);\n        final ArrayList&lt;String&gt; usernames = new ArrayList&lt;String&gt;();\n        final ArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, usernames);\n\n        ParseQuery&lt;ParseUser&gt; query = ParseUser.getQuery();\n        query.addAscendingOrder(&quot;username&quot;);\n\n        query.findInBackground(new FindCallback&lt;ParseUser&gt;() {\n            @Override\n            public void done(List&lt;ParseUser&gt; objects, ParseException e) {\n                if (e == null) {\n                    if (objects.size() &gt; 0) {\n                        for (ParseUser user : objects) {\n                            // Exclude the current user's username\n                            if (!user.getUsername().equals(ParseUser.getCurrentUser().getUsername())) {\n                                usernames.add(user.getUsername());\n                            }\n                        }\n                        listView.setAdapter(arrayAdapter);\n                    }\n                } else {\n                    e.printStackTrace();\n                    Log.i(&quot;usernames&quot;, &quot;Error: &quot; + e.getMessage());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>This modified code will populate the usernames list with usernames of all users except the current user and display them in the ListView. Make sure to remove the line that was excluding the current user's username from the query filter, as shown above.</p>\n"},{"tags":[],"owner":{"account_id":29494648,"reputation":1,"user_id":22602985,"display_name":"Bouchra bicho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695295021,"creation_date":1695295021,"answer_id":77149730,"question_id":77145579,"body_markdown":"**Solution**\r\ni found the soulution which is about the access to others users, i set the ACL manually to public to all the users :\r\n\r\n[image of Users ACL][1]\r\n\r\n  [1]: https://i.stack.imgur.com/8K1fs.png\r\n\r\n-and copy paste the update code of **@Sarah** ,and got my list view full of all the users usernames.\r\n\r\n\r\n-the probleme it was give the current user access to other users.\r\n\r\n\r\n&gt; i hope this help :)\r\n\r\n ","title":"How do I get usernames of other users in Parse in Android?","body":"<p><strong>Solution</strong>\ni found the soulution which is about the access to others users, i set the ACL manually to public to all the users :</p>\n<p><a href=\"https://i.stack.imgur.com/8K1fs.png\" rel=\"nofollow noreferrer\">image of Users ACL</a></p>\n<p>-and copy paste the update code of <strong>@Sarah</strong> ,and got my list view full of all the users usernames.</p>\n<p>-the probleme it was give the current user access to other users.</p>\n<blockquote>\n<p>i hope this help :)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6503642,"reputation":33,"user_id":5033422,"display_name":"Mohamed Belhassen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702198513,"creation_date":1702197951,"answer_id":77634187,"question_id":77145579,"body_markdown":"You should be careful about your App security when dealing with user class data. \r\nIn fact, making the User class publicly accessible will expose your app to serious security threats.\r\n\r\nI recommend to follow one of the subsequent solutions:\r\n\r\n**- solution 1:** It is recommended to be sure that the requester user has the sufficient permissions to get the user List. For instance, he should belong to admin role. \r\n\r\n--step 1: You need to add the admin user to the &quot;admin&quot; role either by code or directly from the parse dashboard:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n--step 2: add the following function to your cloud code functions:\r\n\r\n    Parse.Cloud.define(&quot;ListUsers&quot;, function(request, response) {  \r\n      var adminRoleQuery = new Parse.Query(Parse.Role);\r\n      adminRoleQuery.equalTo(&#39;name&#39;, &#39;admin&#39;);\r\n      adminRoleQuery.equalTo(&#39;users&#39;, request.user);    \r\n        adminRoleQuery.first({ useMasterKey: true }).then(async function(adminRole) {\r\n          if (!adminRole) {\r\n            response.error(&#39; Users Could only be listed by an admin:&#39;);\r\n          }\r\n          else{\r\n              const User = Parse.Object.extend(&quot;User&quot;);\r\n              const query = new Parse.Query(User);\r\n              var usersList = await query.find({useMasterKey: true});\r\n    \r\n              if(usersList ==null)\r\n              {\r\n                response.error(&quot;There is an error when retrieving the user&quot;);\r\n              }\r\n              else\r\n              {\r\n                response.success(usersList);\r\n              }\r\n          }\r\n        });\t\t\r\n    });\r\n\r\n--step 3: From your Android App, call the cloud code function using the following code:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n    //        params.put(&quot;userEmail&quot;, ParseUser.getCurrentUser().getEmail());\r\n    ParseCloud.callFunctionInBackground(&quot;ListUsers&quot;, params, new Function2&lt;List&lt;ParseUser&gt;, ParseException&gt;() {\r\n        @Override\r\n        public void done(List&lt;ParseUser&gt; usersList, ParseException e) {\r\n            if (e == null) {\r\n                Log.e(TAG, &quot;****Retrieved users: &quot; + usersList.size());\r\n                findViewById(R.id.tvInfo).setText(&quot;users:&quot; + usersList.size());\r\n                findViewById(R.id.tvInfo).setVisibility(View.VISIBLE);\r\n                for (ParseUser user : usersList) {\r\n                    Log.d(TAG, &quot;****Retrieved user &quot; +\r\n                            user.get(&quot;email&quot;).toString() + &quot; &quot;\r\n                    );\r\n                    Log.d(TAG, &quot;****Retrieved user &quot; +\r\n                            user.get(&quot;name&quot;).toString() + &quot; &quot; +\r\n                            user.get(&quot;department&quot;).toString() + &quot; &quot; +\r\n                            user.get(&quot;email&quot;).toString() + &quot; &quot; +\r\n                            user.get(&quot;phoneNumber&quot;).toString()\r\n                    );\r\n                }\r\n            } else {\r\n                Log.e(TAG, &quot;****Error occured when calling the cloud code function (ListUsers): &quot; + e.getMessage());\r\n                Toast.makeText(MainActivity.this, &quot;Error: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    });\r\n\r\n**- solution 2:** But, if the user List should be accessible by every one, at least, put the logic retrieving the user list in a cloud code function, so that, you have the ability to perform additional control on the data that will be publicly exposed. For instance, if you need to just expose the username and its email, just modify your cloud code function to:\r\n\r\n    Parse.Cloud.define(&quot;ListUsers&quot;, function(request, response) {\r\n      \r\n    \r\n      const User = Parse.Object.extend(&quot;User&quot;);\r\n              const query = new Parse.Query(User);\r\n              query.select(&quot;username&quot;, &quot;email&quot;);\r\n    \r\n              query.find({useMasterKey: true}).then(async function(usersList) {\r\n                if(usersList ==null)\r\n                {\r\n                  response.error(&quot;There is an error when retrieving the user list&quot;);\r\n                }\r\n                else\r\n                {\r\n                  response.success(usersList);\r\n                }\r\n              });\r\n    \r\n    });\r\n\r\nThis cloud code function could be called with the same Android code of the previous solution (step 3 of the first solution).\r\n\r\n  [1]: https://i.stack.imgur.com/6fc5v.png\r\n","title":"How do I get usernames of other users in Parse in Android?","body":"<p>You should be careful about your App security when dealing with user class data.\nIn fact, making the User class publicly accessible will expose your app to serious security threats.</p>\n<p>I recommend to follow one of the subsequent solutions:</p>\n<p><strong>- solution 1:</strong> It is recommended to be sure that the requester user has the sufficient permissions to get the user List. For instance, he should belong to admin role.</p>\n<p>--step 1: You need to add the admin user to the &quot;admin&quot; role either by code or directly from the parse dashboard:</p>\n<p><a href=\"https://i.stack.imgur.com/6fc5v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6fc5v.png\" alt=\"enter image description here\" /></a></p>\n<p>--step 2: add the following function to your cloud code functions:</p>\n<pre><code>Parse.Cloud.define(&quot;ListUsers&quot;, function(request, response) {  \n  var adminRoleQuery = new Parse.Query(Parse.Role);\n  adminRoleQuery.equalTo('name', 'admin');\n  adminRoleQuery.equalTo('users', request.user);    \n    adminRoleQuery.first({ useMasterKey: true }).then(async function(adminRole) {\n      if (!adminRole) {\n        response.error(' Users Could only be listed by an admin:');\n      }\n      else{\n          const User = Parse.Object.extend(&quot;User&quot;);\n          const query = new Parse.Query(User);\n          var usersList = await query.find({useMasterKey: true});\n\n          if(usersList ==null)\n          {\n            response.error(&quot;There is an error when retrieving the user&quot;);\n          }\n          else\n          {\n            response.success(usersList);\n          }\n      }\n    });     \n});\n</code></pre>\n<p>--step 3: From your Android App, call the cloud code function using the following code:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\n\nHashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\n//        params.put(&quot;userEmail&quot;, ParseUser.getCurrentUser().getEmail());\nParseCloud.callFunctionInBackground(&quot;ListUsers&quot;, params, new Function2&lt;List&lt;ParseUser&gt;, ParseException&gt;() {\n    @Override\n    public void done(List&lt;ParseUser&gt; usersList, ParseException e) {\n        if (e == null) {\n            Log.e(TAG, &quot;****Retrieved users: &quot; + usersList.size());\n            findViewById(R.id.tvInfo).setText(&quot;users:&quot; + usersList.size());\n            findViewById(R.id.tvInfo).setVisibility(View.VISIBLE);\n            for (ParseUser user : usersList) {\n                Log.d(TAG, &quot;****Retrieved user &quot; +\n                        user.get(&quot;email&quot;).toString() + &quot; &quot;\n                );\n                Log.d(TAG, &quot;****Retrieved user &quot; +\n                        user.get(&quot;name&quot;).toString() + &quot; &quot; +\n                        user.get(&quot;department&quot;).toString() + &quot; &quot; +\n                        user.get(&quot;email&quot;).toString() + &quot; &quot; +\n                        user.get(&quot;phoneNumber&quot;).toString()\n                );\n            }\n        } else {\n            Log.e(TAG, &quot;****Error occured when calling the cloud code function (ListUsers): &quot; + e.getMessage());\n            Toast.makeText(MainActivity.this, &quot;Error: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\n        }\n    }\n});\n</code></pre>\n<p><strong>- solution 2:</strong> But, if the user List should be accessible by every one, at least, put the logic retrieving the user list in a cloud code function, so that, you have the ability to perform additional control on the data that will be publicly exposed. For instance, if you need to just expose the username and its email, just modify your cloud code function to:</p>\n<pre><code>Parse.Cloud.define(&quot;ListUsers&quot;, function(request, response) {\n  \n\n  const User = Parse.Object.extend(&quot;User&quot;);\n          const query = new Parse.Query(User);\n          query.select(&quot;username&quot;, &quot;email&quot;);\n\n          query.find({useMasterKey: true}).then(async function(usersList) {\n            if(usersList ==null)\n            {\n              response.error(&quot;There is an error when retrieving the user list&quot;);\n            }\n            else\n            {\n              response.success(usersList);\n            }\n          });\n\n});\n</code></pre>\n<p>This cloud code function could be called with the same Android code of the previous solution (step 3 of the first solution).</p>\n"}],"owner":{"account_id":29494648,"reputation":1,"user_id":22602985,"display_name":"Bouchra bicho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1702198513,"creation_date":1695239746,"question_id":77145579,"body_markdown":"i&#39;m trying to get usernames of other users and i end up getting just username of current user .\r\n\r\n\r\n[,here&#39;s other users in my _User class](https://i.stack.imgur.com/nAtOo.png)\r\n\r\nhere&#39;s my code, \r\n```\r\npublic class UsersListActivity extends AppCompatActivity {\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_users_list);\r\n        ParseACL defaultACL = new ParseACL();\r\n        defaultACL.setPublicReadAccess(true);\r\n        ParseACL.setDefaultACL(defaultACL, true);\r\n\r\n        final ListView listView = findViewById(R.id.usersListView);\r\n        final ArrayList&lt;String&gt; usernames = new ArrayList&lt;String&gt;();\r\n        final ArrayAdapter arrayAdapter = new ArrayAdapter(this,android.R.layout.simple_list_item_1, usernames);\r\n        ParseUser user= new ParseUser();\r\n        ParseQuery&lt;ParseUser&gt; query = ParseUser.getQuery();\r\n        query.whereNotEqualTo(&quot;username&quot;,ParseUser.getCurrentUser().getUsername());\r\n\r\n        Log.i(&quot;usernames&quot;,ParseUser.getCurrentUser().getUsername());\r\n        query.addAscendingOrder(&quot;username&quot;);\r\n        \r\n        query.findInBackground(new FindCallback&lt;ParseUser&gt;() {\r\n            @Override\r\n            public void done(List&lt;ParseUser&gt; objects, ParseException e) {\r\n           \r\n                if (e == null) {\r\n                    if (objects.size() &gt; 0) {\r\n                        for (ParseUser user : objects) {\r\n                           usernames.add(user.getUsername());\r\n                            Log.i(&quot;usernames&quot;,user.getUsername());\r\n                        }\r\n                        listView.setAdapter(arrayAdapter);\r\n                    }\r\n                } else {\r\n                    e.printStackTrace();\r\n                    Log.i(&quot;usernames&quot;,&quot;hi&quot;);an\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nwhen i removed this line:  &quot;query.whereNotEqualTo(&quot;username&quot;,ParseUser.getCurrentUser().getUsername());&quot; ,i got the current user username .\r\nand i got no errors in logcat :(","title":"How do I get usernames of other users in Parse in Android?","body":"<p>i'm trying to get usernames of other users and i end up getting just username of current user .</p>\n<p><a href=\"https://i.stack.imgur.com/nAtOo.png\" rel=\"nofollow noreferrer\">,here's other users in my _User class</a></p>\n<p>here's my code,</p>\n<pre><code>public class UsersListActivity extends AppCompatActivity {\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_users_list);\n        ParseACL defaultACL = new ParseACL();\n        defaultACL.setPublicReadAccess(true);\n        ParseACL.setDefaultACL(defaultACL, true);\n\n        final ListView listView = findViewById(R.id.usersListView);\n        final ArrayList&lt;String&gt; usernames = new ArrayList&lt;String&gt;();\n        final ArrayAdapter arrayAdapter = new ArrayAdapter(this,android.R.layout.simple_list_item_1, usernames);\n        ParseUser user= new ParseUser();\n        ParseQuery&lt;ParseUser&gt; query = ParseUser.getQuery();\n        query.whereNotEqualTo(&quot;username&quot;,ParseUser.getCurrentUser().getUsername());\n\n        Log.i(&quot;usernames&quot;,ParseUser.getCurrentUser().getUsername());\n        query.addAscendingOrder(&quot;username&quot;);\n        \n        query.findInBackground(new FindCallback&lt;ParseUser&gt;() {\n            @Override\n            public void done(List&lt;ParseUser&gt; objects, ParseException e) {\n           \n                if (e == null) {\n                    if (objects.size() &gt; 0) {\n                        for (ParseUser user : objects) {\n                           usernames.add(user.getUsername());\n                            Log.i(&quot;usernames&quot;,user.getUsername());\n                        }\n                        listView.setAdapter(arrayAdapter);\n                    }\n                } else {\n                    e.printStackTrace();\n                    Log.i(&quot;usernames&quot;,&quot;hi&quot;);an\n                }\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>when i removed this line:  &quot;query.whereNotEqualTo(&quot;username&quot;,ParseUser.getCurrentUser().getUsername());&quot; ,i got the current user username .\nand i got no errors in logcat :(</p>\n"},{"tags":["java","spring","hibernate","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":2363653,"reputation":1,"user_id":2069827,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360786356,"creation_date":1360786356,"answer_id":14862231,"question_id":14837601,"body_markdown":"Perhaps you need to upgrade version of hibernate to last 4.X and use annotation or aspects to start transaction","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>Perhaps you need to upgrade version of hibernate to last 4.X and use annotation or aspects to start transaction</p>\n"},{"tags":[],"owner":{"account_id":2380497,"reputation":231,"user_id":2082627,"display_name":"Darren"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1607013979,"creation_date":1361178790,"answer_id":14932795,"question_id":14837601,"body_markdown":"Are you using `@Transactional` anywhere in your code (ie mark a service or dao class/method)?  \r\nI was running into the same error until I commented out the `@Transactional` in my service class.  \r\nI think it&#39;s related to the default openSessionInThread behavior of Hibernate 4. \r\n\r\nI also have hibernate configured without a custom implementation of the `ConnectionProvider` and `TenantIdentifierResolver`. I&#39;m using the jndi-based approach, setting the **hibernate.connection.datasource** to java://comp/env/jdbc/, and then passing in the name of the jndi resource into my dao methods, which call \r\n\r\n`sessionFactory.withOptions().tenantIdentifier(tenant).openSession();`\r\n\r\nI&#39;m still playing around to see if I can get a configuration working with `@Transactional`, but the jndi-based approach with the default session in thread behavior seems to be working now.","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>Are you using <code>@Transactional</code> anywhere in your code (ie mark a service or dao class/method)?<br />\nI was running into the same error until I commented out the <code>@Transactional</code> in my service class.<br />\nI think it's related to the default openSessionInThread behavior of Hibernate 4.</p>\n<p>I also have hibernate configured without a custom implementation of the <code>ConnectionProvider</code> and <code>TenantIdentifierResolver</code>. I'm using the jndi-based approach, setting the <strong>hibernate.connection.datasource</strong> to java://comp/env/jdbc/, and then passing in the name of the jndi resource into my dao methods, which call</p>\n<p><code>sessionFactory.withOptions().tenantIdentifier(tenant).openSession();</code></p>\n<p>I'm still playing around to see if I can get a configuration working with <code>@Transactional</code>, but the jndi-based approach with the default session in thread behavior seems to be working now.</p>\n"},{"tags":[],"owner":{"account_id":202618,"reputation":2880,"user_id":449805,"accept_rate":100,"display_name":"Craige"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1361475270,"creation_date":1361475270,"answer_id":15010710,"question_id":14837601,"body_markdown":"*Foreward: Although I accepted this answer which (will) contains code, please upvote [Darren&#39;s answer][1] if you think this was useful. He&#39;s the reason I was able to solve this at all.*\r\n\r\nOkay, so here we go....\r\n\r\n[As Darren pointed out][1], this is really an issue with SessionFactory&#39;s instantiating a Session improperly. If you were to instantiate the session manually, you have no issue. eg:\r\n\r\n    sessionFactory.withOptions().tenantIdentifier(tenant).openSession();\r\n\r\nHowever, the `@Transactional` annotation causes the SessionFactory to open a session with `sessionFactory.getCurrentSession()`, which does not pull the tenant identifier from the `CurrentTenantIdentifierResolver`.\r\n\r\nDarren suggested opening the Session manually in the DAO layer, but this means that each DAO method will have a locally scoped transaction. The better place to do this is on the service layer. Each service layer call (ie, `doSomeLogicalTask()`) may call multiple DAO methods. It makes sense that each of these should be bound to the same transaction, as they&#39;re logically related.\r\n\r\nFurthermore, I didn&#39;t like the idea of duplicating code in each service layer method to create and manage a transaction. Instead, I used AOP to wrap each method in my service layer with with the advice to instantiate a new `Session` and handle the transaction. The aspect stores the current `Session` in a `TheadLocal` stack which can be accessed by the DAO layer for querying.\r\n\r\nAll of this work will allow the interfaces and implementations to stay identical to their bug-fixed counterparts, except one line in the DAO superclass that will get the `Session` from the `ThreadLocal` stack rather than the `SessionFactory`. This can be changed once the bug is fixed.\r\n\r\nI will post the code shortly, once I clean it up a little. If anybody sees any problems with this, do feel free to discuss below.\r\n\r\n  [1]: https://stackoverflow.com/a/14932795/449805","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p><em>Foreward: Although I accepted this answer which (will) contains code, please upvote <a href=\"https://stackoverflow.com/a/14932795/449805\">Darren's answer</a> if you think this was useful. He's the reason I was able to solve this at all.</em></p>\n\n<p>Okay, so here we go....</p>\n\n<p><a href=\"https://stackoverflow.com/a/14932795/449805\">As Darren pointed out</a>, this is really an issue with SessionFactory's instantiating a Session improperly. If you were to instantiate the session manually, you have no issue. eg:</p>\n\n<pre><code>sessionFactory.withOptions().tenantIdentifier(tenant).openSession();\n</code></pre>\n\n<p>However, the <code>@Transactional</code> annotation causes the SessionFactory to open a session with <code>sessionFactory.getCurrentSession()</code>, which does not pull the tenant identifier from the <code>CurrentTenantIdentifierResolver</code>.</p>\n\n<p>Darren suggested opening the Session manually in the DAO layer, but this means that each DAO method will have a locally scoped transaction. The better place to do this is on the service layer. Each service layer call (ie, <code>doSomeLogicalTask()</code>) may call multiple DAO methods. It makes sense that each of these should be bound to the same transaction, as they're logically related.</p>\n\n<p>Furthermore, I didn't like the idea of duplicating code in each service layer method to create and manage a transaction. Instead, I used AOP to wrap each method in my service layer with with the advice to instantiate a new <code>Session</code> and handle the transaction. The aspect stores the current <code>Session</code> in a <code>TheadLocal</code> stack which can be accessed by the DAO layer for querying.</p>\n\n<p>All of this work will allow the interfaces and implementations to stay identical to their bug-fixed counterparts, except one line in the DAO superclass that will get the <code>Session</code> from the <code>ThreadLocal</code> stack rather than the <code>SessionFactory</code>. This can be changed once the bug is fixed.</p>\n\n<p>I will post the code shortly, once I clean it up a little. If anybody sees any problems with this, do feel free to discuss below.</p>\n"},{"tags":[],"owner":{"account_id":2684526,"reputation":1511,"user_id":2319179,"display_name":"Carsten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367239772,"creation_date":1367239772,"answer_id":16279054,"question_id":14837601,"body_markdown":"Even though this might be an older topic, and the answer might be already taken care of. What I noticed is the following:\r\n\r\n  In your define the class CurrentTenantIdentifierResolverImpl:\r\n\r\n    public class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver\r\n\r\n\r\nBut in your config you reference MultiTenantIdentifierResolverImpl:\r\n\r\n    &lt;prop key=&quot;hibernate.tenant_identifier_resolver&quot;&gt;com.afflatus.edu.thoth.context.MultiTenantIdentifierResolverImpl&lt;/prop&gt;\r\n\r\nJust pointing this out because I did the same mistake today, after that it all worked like a charm.","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>Even though this might be an older topic, and the answer might be already taken care of. What I noticed is the following:</p>\n\n<p>In your define the class CurrentTenantIdentifierResolverImpl:</p>\n\n<pre><code>public class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver\n</code></pre>\n\n<p>But in your config you reference MultiTenantIdentifierResolverImpl:</p>\n\n<pre><code>&lt;prop key=\"hibernate.tenant_identifier_resolver\"&gt;com.afflatus.edu.thoth.context.MultiTenantIdentifierResolverImpl&lt;/prop&gt;\n</code></pre>\n\n<p>Just pointing this out because I did the same mistake today, after that it all worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":50580,"reputation":1591,"user_id":150953,"accept_rate":59,"display_name":"Scott Warren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435661589,"creation_date":1435661589,"answer_id":31136301,"question_id":14837601,"body_markdown":"I had a similar issue when my CurrentTenantIdentifierResolver implementation returned null for the resolveCurrentTenantIdentifier() method","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>I had a similar issue when my CurrentTenantIdentifierResolver implementation returned null for the resolveCurrentTenantIdentifier() method</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610275664,"creation_date":1458633146,"answer_id":36148814,"question_id":14837601,"body_markdown":" Hibernate defines the [`CurrentTenantIdentifierResolver`][1] interface to help frameworks like Spring or Java EE to allow using the default `Session` instantiation mechanism (be it from an `EntityManagerFactory`).\r\n\r\nSo, the `CurrentTenantIdentifierResolver` must be set via a configuration property which is exactly where you went wrong because you didn&#39;t supply the right fully-qualified class name. The `CurrentTenantIdentifierResolver` implementation being `CurrentTenantIdentifierResolverImpl`, the `hibernate.tenant_identifier_resolver` has to be:\r\n\r\n    &lt;prop key=&quot;hibernate.tenant_identifier_resolver&quot;&gt;com.afflatus.edu.thoth.context.CurrentTenantIdentifierResolverImpl&lt;/prop&gt;\r\n\r\nAfter you fix this, when the `HibernateTransactionManager` calls `getSessionFactory().openSession()`, Hibernate will use the `CurrentTenantIdentifierResolverImpl` to resolve the tenant identifier.\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-database-schema-multitenancy/","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>Hibernate defines the <a href=\"https://vladmihalcea.com/hibernate-database-schema-multitenancy/\" rel=\"nofollow noreferrer\"><code>CurrentTenantIdentifierResolver</code></a> interface to help frameworks like Spring or Java EE to allow using the default <code>Session</code> instantiation mechanism (be it from an <code>EntityManagerFactory</code>).</p>\n<p>So, the <code>CurrentTenantIdentifierResolver</code> must be set via a configuration property which is exactly where you went wrong because you didn't supply the right fully-qualified class name. The <code>CurrentTenantIdentifierResolver</code> implementation being <code>CurrentTenantIdentifierResolverImpl</code>, the <code>hibernate.tenant_identifier_resolver</code> has to be:</p>\n<pre><code>&lt;prop key=&quot;hibernate.tenant_identifier_resolver&quot;&gt;com.afflatus.edu.thoth.context.CurrentTenantIdentifierResolverImpl&lt;/prop&gt;\n</code></pre>\n<p>After you fix this, when the <code>HibernateTransactionManager</code> calls <code>getSessionFactory().openSession()</code>, Hibernate will use the <code>CurrentTenantIdentifierResolverImpl</code> to resolve the tenant identifier.</p>\n"},{"tags":[],"owner":{"account_id":3881276,"reputation":416,"user_id":3213708,"accept_rate":75,"display_name":"nanachimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673052884,"creation_date":1673052884,"answer_id":75037389,"question_id":14837601,"body_markdown":"I used Spring Boot 3.0.1 with Hibernates 6.1.6.Final and I solved this issue by implementing the interface `HibernatePropertiesCustomizer`.\r\n\r\n```java\r\n@Configuration\r\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver, HibernatePropertiesCustomizer {\r\n\r\n    private String tenantId = &quot;default&quot;;\r\n\r\n    @Override\r\n    public String resolveCurrentTenantIdentifier() {\r\n        return tenantId;\r\n    }\r\n\r\n    @Override\r\n    public boolean validateExistingCurrentSessions() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, this);\r\n    }\r\n}\r\n```\r\n\r\n&quot;In a real application [the field `currentTenant`] would either use a different scope (like request, for example) or get the value from some other bean that is appropriately scoped&quot;.\r\n\r\nThe original blog post is authored can be found [here][1].\r\n\r\nThe fact that `HibernatePropertiesCustomizer` must be implemented is addressed by the author of the blog post as an [issue][2] to the hibernate team and may not be required in the future.\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/07/31/how-to-integrate-hibernates-multitenant-feature-with-spring-data-jpa-in-a-spring-boot-application\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-15422","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>I used Spring Boot 3.0.1 with Hibernates 6.1.6.Final and I solved this issue by implementing the interface <code>HibernatePropertiesCustomizer</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver, HibernatePropertiesCustomizer {\n\n    private String tenantId = &quot;default&quot;;\n\n    @Override\n    public String resolveCurrentTenantIdentifier() {\n        return tenantId;\n    }\n\n    @Override\n    public boolean validateExistingCurrentSessions() {\n        return false;\n    }\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, this);\n    }\n}\n</code></pre>\n<p>&quot;In a real application [the field <code>currentTenant</code>] would either use a different scope (like request, for example) or get the value from some other bean that is appropriately scoped&quot;.</p>\n<p>The original blog post is authored can be found <a href=\"https://spring.io/blog/2022/07/31/how-to-integrate-hibernates-multitenant-feature-with-spring-data-jpa-in-a-spring-boot-application\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The fact that <code>HibernatePropertiesCustomizer</code> must be implemented is addressed by the author of the blog post as an <a href=\"https://hibernate.atlassian.net/browse/HHH-15422\" rel=\"nofollow noreferrer\">issue</a> to the hibernate team and may not be required in the future.</p>\n"},{"tags":[],"owner":{"account_id":27362671,"reputation":11,"user_id":20870046,"display_name":"Abilash Sethu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702196119,"creation_date":1702196119,"answer_id":77634119,"question_id":14837601,"body_markdown":"I&#39;ve come across similar kind of issue, But not the same, Just posting maybe helpful to someone in future\r\n\r\nError\r\n\r\n     org.hibernate.HibernateException: SessionFactory was not configured for multi-tenancy\r\n\r\nSolution\r\n\r\nWe need to add what multi-tenancy strategy are we following by adding below to MultiTenantConnectionProvider\r\n\r\n \r\n\r\n     public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, this);\r\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\r\n      }\r\n\r\n  [1]: https://i.stack.imgur.com/Wslmf.png","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>I've come across similar kind of issue, But not the same, Just posting maybe helpful to someone in future</p>\n<p>Error</p>\n<pre><code> org.hibernate.HibernateException: SessionFactory was not configured for multi-tenancy\n</code></pre>\n<p>Solution</p>\n<p>We need to add what multi-tenancy strategy are we following by adding below to MultiTenantConnectionProvider</p>\n<pre><code> public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n    hibernateProperties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, this);\n    hibernateProperties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\n  }\n</code></pre>\n"}],"owner":{"account_id":202618,"reputation":2880,"user_id":449805,"accept_rate":100,"display_name":"Craige"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21613,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":15010710,"answer_count":8,"score":20,"last_activity_date":1702196119,"creation_date":1360687911,"question_id":14837601,"body_markdown":"In a Spring 3 application, I&#39;m trying to implement multi-tenancy via Hibernate 4&#39;s native [MultiTenantConnectionProvider][1] and [CurrentTenantIdentifierResolver][2]. I see that [there was a problem with this in Hibernate 4.1.3][3], but I&#39;m running 4.1.9 and still getting a similar exception:\r\n\r\n       Caused by:\r\n    \r\n    org.hibernate.HibernateException: SessionFactory configured for multi-tenancy, but no tenant identifier specified\r\n    \tat org.hibernate.internal.AbstractSessionImpl.&lt;init&gt;(AbstractSessionImpl.java:84)\r\n    \tat org.hibernate.internal.SessionImpl.&lt;init&gt;(SessionImpl.java:239)\r\n    \tat org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1597)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.openSession(SessionFactoryImpl.java:963)\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:328)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:334)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\r\n    \tat com.afflatus.edu.thoth.repository.UserRepository$$EnhancerByCGLIB$$c844ce96.getAllUsers(&lt;generated&gt;)\r\n    \tat com.afflatus.edu.thoth.service.UserService.getAllUsers(UserService.java:29)\r\n    \tat com.afflatus.edu.thoth.HomeController.hello(HomeController.java:37)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:746)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:687)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:915)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:811)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:735)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:796)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:848)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:671)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:448)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:138)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:564)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:213)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1070)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:375)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:175)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1004)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:136)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:258)\r\n    \tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:439)\r\n    \tat org.eclipse.jetty.server.HttpChannel.run(HttpChannel.java:246)\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:265)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.run(AbstractConnection.java:240)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:589)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:520)\r\n    \tat java.lang.Thread.run(Thread.java:722) enter code here\r\n    \r\n    \r\nBelow is the relevant code. In the `MultiTenantConnectionProvider` I&#39;ve simply wrote some dumb code for now that just returns a new connection every time, and the `CurrentTenantIdentifierResolver` always returns the same ID at this point. Obviously this logic was to be implemented after I managed to get the connections to instantiate.\r\n\r\n# config.xml\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.afflatus.edu.thoth.entity&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl&quot;&gt;${hibernate.dbm2ddl}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.multiTenancy&quot;&gt;DATABASE&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.multi_tenant_connection_provider&quot;&gt;com.afflatus.edu.thoth.connection.MultiTenantConnectionProviderImpl&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.tenant_identifier_resolver&quot;&gt;com.afflatus.edu.thoth.context.MultiTenantIdentifierResolverImpl&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;autodetectDataSource&quot; value=&quot;false&quot; /&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n# MultiTenantConnectionProvider.java\r\n\r\n    package com.afflatus.edu.thoth.connection;\r\n    \r\n    import java.util.Properties;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.hibernate.service.jdbc.connections.spi.AbstractMultiTenantConnectionProvider;\r\n    import org.hibernate.service.jdbc.connections.spi.ConnectionProvider;\r\n    import org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.hibernate.cfg.*;\r\n    \r\n    public class MultiTenantConnectionProviderImpl extends AbstractMultiTenantConnectionProvider {\r\n    \r\n        private final Map&lt;String, ConnectionProvider&gt; connectionProviders\r\n            = new HashMap&lt;String, ConnectionProvider&gt;();\r\n    \r\n        @Override\r\n        protected ConnectionProvider getAnyConnectionProvider() {\r\n    \r\n            System.out.println(&quot;barfoo&quot;);\r\n            Properties properties = getConnectionProperties();\r\n    \r\n            DriverManagerDataSource ds = new DriverManagerDataSource();\r\n            ds.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            ds.setUrl(&quot;jdbc:mysql://127.0.0.1:3306/test&quot;);\r\n            ds.setUsername(&quot;root&quot;);\r\n            ds.setPassword(&quot;&quot;);\r\n    \r\n            InjectedDataSourceConnectionProvider defaultProvider = new InjectedDataSourceConnectionProvider();\r\n            defaultProvider.setDataSource(ds);\r\n            defaultProvider.configure(properties);\r\n    \r\n            return (ConnectionProvider) defaultProvider;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected ConnectionProvider selectConnectionProvider(String tenantIdentifier) {\r\n            System.out.println(&quot;foobar&quot;);\r\n            Properties properties = getConnectionProperties();\r\n    \r\n            DriverManagerDataSource ds = new DriverManagerDataSource();\r\n            ds.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            ds.setUrl(&quot;jdbc:mysql://127.0.0.1:3306/test2&quot;);\r\n            ds.setUsername(&quot;root&quot;);\r\n            ds.setPassword(&quot;&quot;);\r\n    \r\n            InjectedDataSourceConnectionProvider defaultProvider = new InjectedDataSourceConnectionProvider();\r\n            defaultProvider.setDataSource(ds);\r\n            defaultProvider.configure(properties);\r\n    \r\n            return (ConnectionProvider) defaultProvider;\r\n        }\r\n    \r\n        private Properties getConnectionProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(AvailableSettings.DIALECT, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n            properties.put(AvailableSettings.DRIVER, &quot;com.mysql.jdbc.Driver&quot;);\r\n            properties.put(AvailableSettings.URL, &quot;jdbc:mysql://127.0.0.1:3306/test&quot;);\r\n            properties.put(AvailableSettings.USER, &quot;root&quot;);\r\n            properties.put(AvailableSettings.PASS, &quot;&quot;);\r\n    \r\n            return properties;\r\n    \r\n        }\r\n    }\r\n# CurrentTenantIdentifierResolver.java\r\n\r\n    package com.afflatus.edu.thoth.context;\r\n    \r\n    import org.hibernate.context.spi.CurrentTenantIdentifierResolver;\r\n    \r\n    public class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver {\r\n    \r\n        public String resolveCurrentTenantIdentifier() {\r\n            return &quot;1&quot;;\r\n        }\r\n    \r\n        public boolean validateExistingCurrentSessions() {\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nCan anybody see anything specifically wrong? This throws an exception as soon as a transaction is opened. It *seems* like the `SessionFactory` isn&#39;t opening the Session correctly, or the `Session` is simply ignoring the value returned by the `CurrentTenantIdentifierResolver`, which I believe was the issue in Hibernate 4.1.3; this was supposed to have been resolved.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html#d5e4661\r\n  [2]: http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html#d5e4686\r\n  [3]: https://hibernate.onjira.com/browse/HHH-7306","title":"Multi-Tenancy with Spring + Hibernate: &quot;SessionFactory configured for multi-tenancy, but no tenant identifier specified&quot;","body":"<p>In a Spring 3 application, I'm trying to implement multi-tenancy via Hibernate 4's native <a href=\"http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html#d5e4661\">MultiTenantConnectionProvider</a> and <a href=\"http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html#d5e4686\">CurrentTenantIdentifierResolver</a>. I see that <a href=\"https://hibernate.onjira.com/browse/HHH-7306\">there was a problem with this in Hibernate 4.1.3</a>, but I'm running 4.1.9 and still getting a similar exception:</p>\n\n<pre><code>   Caused by:\n\norg.hibernate.HibernateException: SessionFactory configured for multi-tenancy, but no tenant identifier specified\n    at org.hibernate.internal.AbstractSessionImpl.&lt;init&gt;(AbstractSessionImpl.java:84)\n    at org.hibernate.internal.SessionImpl.&lt;init&gt;(SessionImpl.java:239)\n    at org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1597)\n    at org.hibernate.internal.SessionFactoryImpl.openSession(SessionFactoryImpl.java:963)\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:328)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:334)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\n    at com.afflatus.edu.thoth.repository.UserRepository$$EnhancerByCGLIB$$c844ce96.getAllUsers(&lt;generated&gt;)\n    at com.afflatus.edu.thoth.service.UserService.getAllUsers(UserService.java:29)\n    at com.afflatus.edu.thoth.HomeController.hello(HomeController.java:37)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:746)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:687)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:915)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:811)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:735)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:796)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:671)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:448)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:138)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:564)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:213)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1070)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:375)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:175)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1004)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:136)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:258)\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\n    at org.eclipse.jetty.server.Server.handle(Server.java:439)\n    at org.eclipse.jetty.server.HttpChannel.run(HttpChannel.java:246)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:265)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.run(AbstractConnection.java:240)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:589)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:520)\n    at java.lang.Thread.run(Thread.java:722) enter code here\n</code></pre>\n\n<p>Below is the relevant code. In the <code>MultiTenantConnectionProvider</code> I've simply wrote some dumb code for now that just returns a new connection every time, and the <code>CurrentTenantIdentifierResolver</code> always returns the same ID at this point. Obviously this logic was to be implemented after I managed to get the connections to instantiate.</p>\n\n<h1>config.xml</h1>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"packagesToScan\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.afflatus.edu.thoth.entity&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl\"&gt;${hibernate.dbm2ddl}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.multiTenancy\"&gt;DATABASE&lt;/prop&gt;\n            &lt;prop key=\"hibernate.multi_tenant_connection_provider\"&gt;com.afflatus.edu.thoth.connection.MultiTenantConnectionProviderImpl&lt;/prop&gt;\n            &lt;prop key=\"hibernate.tenant_identifier_resolver\"&gt;com.afflatus.edu.thoth.context.MultiTenantIdentifierResolverImpl&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"autodetectDataSource\" value=\"false\" /&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<h1>MultiTenantConnectionProvider.java</h1>\n\n<pre><code>package com.afflatus.edu.thoth.connection;\n\nimport java.util.Properties;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.hibernate.service.jdbc.connections.spi.AbstractMultiTenantConnectionProvider;\nimport org.hibernate.service.jdbc.connections.spi.ConnectionProvider;\nimport org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.hibernate.cfg.*;\n\npublic class MultiTenantConnectionProviderImpl extends AbstractMultiTenantConnectionProvider {\n\n    private final Map&lt;String, ConnectionProvider&gt; connectionProviders\n        = new HashMap&lt;String, ConnectionProvider&gt;();\n\n    @Override\n    protected ConnectionProvider getAnyConnectionProvider() {\n\n        System.out.println(\"barfoo\");\n        Properties properties = getConnectionProperties();\n\n        DriverManagerDataSource ds = new DriverManagerDataSource();\n        ds.setDriverClassName(\"com.mysql.jdbc.Driver\");\n        ds.setUrl(\"jdbc:mysql://127.0.0.1:3306/test\");\n        ds.setUsername(\"root\");\n        ds.setPassword(\"\");\n\n        InjectedDataSourceConnectionProvider defaultProvider = new InjectedDataSourceConnectionProvider();\n        defaultProvider.setDataSource(ds);\n        defaultProvider.configure(properties);\n\n        return (ConnectionProvider) defaultProvider;\n    }\n\n\n    @Override\n    protected ConnectionProvider selectConnectionProvider(String tenantIdentifier) {\n        System.out.println(\"foobar\");\n        Properties properties = getConnectionProperties();\n\n        DriverManagerDataSource ds = new DriverManagerDataSource();\n        ds.setDriverClassName(\"com.mysql.jdbc.Driver\");\n        ds.setUrl(\"jdbc:mysql://127.0.0.1:3306/test2\");\n        ds.setUsername(\"root\");\n        ds.setPassword(\"\");\n\n        InjectedDataSourceConnectionProvider defaultProvider = new InjectedDataSourceConnectionProvider();\n        defaultProvider.setDataSource(ds);\n        defaultProvider.configure(properties);\n\n        return (ConnectionProvider) defaultProvider;\n    }\n\n    private Properties getConnectionProperties() {\n        Properties properties = new Properties();\n        properties.put(AvailableSettings.DIALECT, \"org.hibernate.dialect.MySQLDialect\");\n        properties.put(AvailableSettings.DRIVER, \"com.mysql.jdbc.Driver\");\n        properties.put(AvailableSettings.URL, \"jdbc:mysql://127.0.0.1:3306/test\");\n        properties.put(AvailableSettings.USER, \"root\");\n        properties.put(AvailableSettings.PASS, \"\");\n\n        return properties;\n\n    }\n}\n</code></pre>\n\n<h1>CurrentTenantIdentifierResolver.java</h1>\n\n<pre><code>package com.afflatus.edu.thoth.context;\n\nimport org.hibernate.context.spi.CurrentTenantIdentifierResolver;\n\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver {\n\n    public String resolveCurrentTenantIdentifier() {\n        return \"1\";\n    }\n\n    public boolean validateExistingCurrentSessions() {\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>Can anybody see anything specifically wrong? This throws an exception as soon as a transaction is opened. It <em>seems</em> like the <code>SessionFactory</code> isn't opening the Session correctly, or the <code>Session</code> is simply ignoring the value returned by the <code>CurrentTenantIdentifierResolver</code>, which I believe was the issue in Hibernate 4.1.3; this was supposed to have been resolved.</p>\n"},{"tags":["java","instrumentation","javaagents"],"answers":[{"tags":[],"owner":{"account_id":984070,"reputation":554,"user_id":1003030,"accept_rate":40,"display_name":"ainlolcat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702195427,"creation_date":1702195427,"answer_id":77634095,"question_id":73032992,"body_markdown":"Not exactly the full answer but maybe will help someone. I suppose there is no generic solution for this in pure-java because name of function does not always follow JNI naming convention and can be registered manually via `RegisterNatives`. So You cannot just create interface for JNA in runtime and use it. If you are not afraid of C/++ and most importantly managing library distribution, specific platform compilation and loading, you can try to lookup pointer to native function from Method(not java Method, see `RegisterNatives` implementation) object, construct contract from java signature and then call it using JNI/JNA. All that being said, I did not find pure-java solution. Still, if you know corresponding native method, you can try several things. \r\n\r\nFor example, lets look at `Thread.sleep` method (I wanted to instrument it initially).\r\n\r\n## First solution\r\n\r\nWait several years. Now it is not native anymore and you can instrument it! Problem is solved!\r\n\r\n## Second solution\r\n\r\nReplace method with pure-java. You can search for similar method like `parkNanos` and build solution around it (handling &quot;no reason&quot; part too) or block current thread using wait and schedule task in utility thread to wake up current thread via notify. Messy. And you can get different exception during interrupt. Of course there is a problem - how to find replacement and what to do if you want to instrument the replacement too.\r\n\r\nI used this method and had 2 branches - AllowRedefinitionToAddDeleteMethods enabled or not. Now I need to consider first solution and add third branch.\r\n\r\n## Third solution\r\n\r\nSuppose you found native method name and it is `JVM_Sleep`. Now you can use JNA to call it. Just add dependency and then declare interface like this:\r\n\r\n```\r\npublic interface ThreadWrapper extends com.sun.jna.Library {\r\n    void JVM_Sleep(JNIEnv env, Class thisObj, long nanos) throws InterruptedException;\r\n}\r\n```\r\n\r\nthen call it like this:\r\n\r\n```\r\nThreadWrapper lib = com.sun.jna.Native.load(&quot;jvm&quot;, ThreadWrapper.class, Collections.singletonMap(Library.OPTION_ALLOW_OBJECTS, Boolean.TRUE));\r\nlong nanos = MILLISECONDS.toNanos(millis);\r\nlib.JVM_Sleep(JNIEnv.CURRENT, Thread.class, nanos);\r\n```\r\n\r\nSimple solution but requires knowledge about method name, new quite heavy dependency and introduces additional ovehead on JNA.\r\n**Oh, one more thing - `JVM_Sleep` changed contract between versions so it receives millis in older versions and nanos it newer. Of course you should be aware of it and have `if` for that.**\r\n\r\n## Forth solution\r\n\r\nJava now has foreign functions API and we can use it to call JNI methods.\r\nMain advantage - new API does not need any dependencies. \r\nMain disadvantage - new API does not really have nice and clean bridge to old JNI functions. \r\nStill you can do it like that (error handling are out of scope of example):\r\n\r\n```\r\npublic void invokeJvmSleepFull(long millis) {\r\n    System.out.println(&quot;Start &quot; + new Date());\r\n    try (Arena arena = Arena.ofConfined()) {\r\n        Linker linker = Linker.nativeLinker();\r\n        SymbolLookup jvmLib = SymbolLookup.libraryLookup(&quot;jvm&quot;, arena);\r\n\r\n        // use JNI_GetCreatedJavaVMs to get address of running VM\r\n        MemorySegment jniGetCreatedVmsAddr = jvmLib.find(&quot;JNI_GetCreatedJavaVMs&quot;).get();\r\n        FunctionDescriptor jniGetCreatedVmsSig =\r\n                FunctionDescriptor.of(ValueLayout.JAVA_INT,\r\n                        ValueLayout.ADDRESS,\r\n                        ValueLayout.JAVA_INT,\r\n                        ValueLayout.ADDRESS\r\n                );\r\n        MethodHandle jniGetCreatedVms = linker.downcallHandle(jniGetCreatedVmsAddr, jniGetCreatedVmsSig);\r\n        MemorySegment writtenVmsCount = arena.allocate(ValueLayout.OfInt.JAVA_INT, 0);\r\n        MemorySegment writtenVms = arena.allocateArray(ValueLayout.ADDRESS, 2);\r\n        int code = (int) jniGetCreatedVms.invokeExact(writtenVms, 2, writtenVmsCount);\r\n        if (code != JNI_OK) {\r\n            throw new RuntimeException(&quot;Unexpected code &quot; + code);\r\n        }\r\n        MemorySegment jvmAddress = writtenVms.get(ValueLayout.ADDRESS, 0);\r\n\r\n        // navigate through JavaVM_ -&gt; functions (aka JNIInvokeInterface_) -&gt; GetEnv to get Env address\r\n        StructLayout JavaVM_Layout = MemoryLayout.structLayout(\r\n                POINTER.withName(&quot;functions&quot;)\r\n        ).withName(&quot;JavaVM_&quot;);\r\n        long functionsOffset = JavaVM_Layout.byteOffset(MemoryLayout.PathElement.groupElement(&quot;functions&quot;));\r\n        MemorySegment functionsAddr = jvmAddress.reinterpret(JavaVM_Layout.byteSize()).get(ValueLayout.ADDRESS, functionsOffset);\r\n\r\n        StructLayout JNIInvokeInterface_Layout = MemoryLayout.structLayout(\r\n                POINTER.withName(&quot;reserved0&quot;),\r\n                POINTER.withName(&quot;reserved1&quot;),\r\n                POINTER.withName(&quot;reserved2&quot;),\r\n                POINTER.withName(&quot;DestroyJavaVM&quot;),\r\n                POINTER.withName(&quot;AttachCurrentThread&quot;),\r\n                POINTER.withName(&quot;DetachCurrentThread&quot;),\r\n                POINTER.withName(&quot;GetEnv&quot;),\r\n                POINTER.withName(&quot;AttachCurrentThreadAsDaemon&quot;)\r\n        ).withName(&quot;JNIInvokeInterface_&quot;);\r\n        long getEnvOffset = JNIInvokeInterface_Layout.byteOffset(MemoryLayout.PathElement.groupElement(&quot;GetEnv&quot;));\r\n        MemorySegment jniGetEnvAddr = functionsAddr.reinterpret(JNIInvokeInterface_Layout.byteSize()).get(ValueLayout.ADDRESS, getEnvOffset);\r\n\r\n        FunctionDescriptor jniGetEnvSig =\r\n                FunctionDescriptor.of(ValueLayout.JAVA_INT,\r\n                        ValueLayout.ADDRESS,\r\n                        ValueLayout.ADDRESS,\r\n                        ValueLayout.JAVA_INT\r\n                );\r\n        MethodHandle jniGetEnv = linker.downcallHandle(jniGetEnvAddr, jniGetEnvSig);\r\n        MemorySegment envAddress = arena.allocate(ValueLayout.ADDRESS);\r\n        code = (int) jniGetEnv.invokeExact(jvmAddress, envAddress, JNI_VERSION_21);\r\n        if (code != JNI_OK) {\r\n            throw new RuntimeException(&quot;Unexpected code &quot; + code);\r\n        }\r\n        envAddress = envAddress.get(ADDRESS, 0);\r\n\r\n        // use env to call JVM_Sleep. It does not use class so just pass null instead.\r\n        MemorySegment jvmSleepAddr = jvmLib.find(&quot;JVM_Sleep&quot;).get();\r\n        FunctionDescriptor jvmSleepSig =\r\n                FunctionDescriptor.ofVoid(\r\n                        ValueLayout.ADDRESS,\r\n                        ValueLayout.ADDRESS,\r\n                        ValueLayout.JAVA_LONG);\r\n        MethodHandle threadSleep = linker.downcallHandle(jvmSleepAddr, jvmSleepSig);\r\n        threadSleep.invokeExact(envAddress, MemorySegment.NULL, MILLISECONDS.toNanos(millis));\r\n    } catch (Throwable e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    System.out.println(&quot;End &quot; + new Date());\r\n}\r\n```\r\n\r\nThis solution has problems of JNA solution except new dependency. And it introduces new problems - it is preview feature, it requires knowledge about structure of `JavaVM_` and `JNIInvokeInterface_` and I am not sure if it is possible to lookup `jclass` through FFI without going native.","title":"Instrument native method in java 13+","body":"<p>Not exactly the full answer but maybe will help someone. I suppose there is no generic solution for this in pure-java because name of function does not always follow JNI naming convention and can be registered manually via <code>RegisterNatives</code>. So You cannot just create interface for JNA in runtime and use it. If you are not afraid of C/++ and most importantly managing library distribution, specific platform compilation and loading, you can try to lookup pointer to native function from Method(not java Method, see <code>RegisterNatives</code> implementation) object, construct contract from java signature and then call it using JNI/JNA. All that being said, I did not find pure-java solution. Still, if you know corresponding native method, you can try several things.</p>\n<p>For example, lets look at <code>Thread.sleep</code> method (I wanted to instrument it initially).</p>\n<h2>First solution</h2>\n<p>Wait several years. Now it is not native anymore and you can instrument it! Problem is solved!</p>\n<h2>Second solution</h2>\n<p>Replace method with pure-java. You can search for similar method like <code>parkNanos</code> and build solution around it (handling &quot;no reason&quot; part too) or block current thread using wait and schedule task in utility thread to wake up current thread via notify. Messy. And you can get different exception during interrupt. Of course there is a problem - how to find replacement and what to do if you want to instrument the replacement too.</p>\n<p>I used this method and had 2 branches - AllowRedefinitionToAddDeleteMethods enabled or not. Now I need to consider first solution and add third branch.</p>\n<h2>Third solution</h2>\n<p>Suppose you found native method name and it is <code>JVM_Sleep</code>. Now you can use JNA to call it. Just add dependency and then declare interface like this:</p>\n<pre><code>public interface ThreadWrapper extends com.sun.jna.Library {\n    void JVM_Sleep(JNIEnv env, Class thisObj, long nanos) throws InterruptedException;\n}\n</code></pre>\n<p>then call it like this:</p>\n<pre><code>ThreadWrapper lib = com.sun.jna.Native.load(&quot;jvm&quot;, ThreadWrapper.class, Collections.singletonMap(Library.OPTION_ALLOW_OBJECTS, Boolean.TRUE));\nlong nanos = MILLISECONDS.toNanos(millis);\nlib.JVM_Sleep(JNIEnv.CURRENT, Thread.class, nanos);\n</code></pre>\n<p>Simple solution but requires knowledge about method name, new quite heavy dependency and introduces additional ovehead on JNA.\n<strong>Oh, one more thing - <code>JVM_Sleep</code> changed contract between versions so it receives millis in older versions and nanos it newer. Of course you should be aware of it and have <code>if</code> for that.</strong></p>\n<h2>Forth solution</h2>\n<p>Java now has foreign functions API and we can use it to call JNI methods.\nMain advantage - new API does not need any dependencies.\nMain disadvantage - new API does not really have nice and clean bridge to old JNI functions.\nStill you can do it like that (error handling are out of scope of example):</p>\n<pre><code>public void invokeJvmSleepFull(long millis) {\n    System.out.println(&quot;Start &quot; + new Date());\n    try (Arena arena = Arena.ofConfined()) {\n        Linker linker = Linker.nativeLinker();\n        SymbolLookup jvmLib = SymbolLookup.libraryLookup(&quot;jvm&quot;, arena);\n\n        // use JNI_GetCreatedJavaVMs to get address of running VM\n        MemorySegment jniGetCreatedVmsAddr = jvmLib.find(&quot;JNI_GetCreatedJavaVMs&quot;).get();\n        FunctionDescriptor jniGetCreatedVmsSig =\n                FunctionDescriptor.of(ValueLayout.JAVA_INT,\n                        ValueLayout.ADDRESS,\n                        ValueLayout.JAVA_INT,\n                        ValueLayout.ADDRESS\n                );\n        MethodHandle jniGetCreatedVms = linker.downcallHandle(jniGetCreatedVmsAddr, jniGetCreatedVmsSig);\n        MemorySegment writtenVmsCount = arena.allocate(ValueLayout.OfInt.JAVA_INT, 0);\n        MemorySegment writtenVms = arena.allocateArray(ValueLayout.ADDRESS, 2);\n        int code = (int) jniGetCreatedVms.invokeExact(writtenVms, 2, writtenVmsCount);\n        if (code != JNI_OK) {\n            throw new RuntimeException(&quot;Unexpected code &quot; + code);\n        }\n        MemorySegment jvmAddress = writtenVms.get(ValueLayout.ADDRESS, 0);\n\n        // navigate through JavaVM_ -&gt; functions (aka JNIInvokeInterface_) -&gt; GetEnv to get Env address\n        StructLayout JavaVM_Layout = MemoryLayout.structLayout(\n                POINTER.withName(&quot;functions&quot;)\n        ).withName(&quot;JavaVM_&quot;);\n        long functionsOffset = JavaVM_Layout.byteOffset(MemoryLayout.PathElement.groupElement(&quot;functions&quot;));\n        MemorySegment functionsAddr = jvmAddress.reinterpret(JavaVM_Layout.byteSize()).get(ValueLayout.ADDRESS, functionsOffset);\n\n        StructLayout JNIInvokeInterface_Layout = MemoryLayout.structLayout(\n                POINTER.withName(&quot;reserved0&quot;),\n                POINTER.withName(&quot;reserved1&quot;),\n                POINTER.withName(&quot;reserved2&quot;),\n                POINTER.withName(&quot;DestroyJavaVM&quot;),\n                POINTER.withName(&quot;AttachCurrentThread&quot;),\n                POINTER.withName(&quot;DetachCurrentThread&quot;),\n                POINTER.withName(&quot;GetEnv&quot;),\n                POINTER.withName(&quot;AttachCurrentThreadAsDaemon&quot;)\n        ).withName(&quot;JNIInvokeInterface_&quot;);\n        long getEnvOffset = JNIInvokeInterface_Layout.byteOffset(MemoryLayout.PathElement.groupElement(&quot;GetEnv&quot;));\n        MemorySegment jniGetEnvAddr = functionsAddr.reinterpret(JNIInvokeInterface_Layout.byteSize()).get(ValueLayout.ADDRESS, getEnvOffset);\n\n        FunctionDescriptor jniGetEnvSig =\n                FunctionDescriptor.of(ValueLayout.JAVA_INT,\n                        ValueLayout.ADDRESS,\n                        ValueLayout.ADDRESS,\n                        ValueLayout.JAVA_INT\n                );\n        MethodHandle jniGetEnv = linker.downcallHandle(jniGetEnvAddr, jniGetEnvSig);\n        MemorySegment envAddress = arena.allocate(ValueLayout.ADDRESS);\n        code = (int) jniGetEnv.invokeExact(jvmAddress, envAddress, JNI_VERSION_21);\n        if (code != JNI_OK) {\n            throw new RuntimeException(&quot;Unexpected code &quot; + code);\n        }\n        envAddress = envAddress.get(ADDRESS, 0);\n\n        // use env to call JVM_Sleep. It does not use class so just pass null instead.\n        MemorySegment jvmSleepAddr = jvmLib.find(&quot;JVM_Sleep&quot;).get();\n        FunctionDescriptor jvmSleepSig =\n                FunctionDescriptor.ofVoid(\n                        ValueLayout.ADDRESS,\n                        ValueLayout.ADDRESS,\n                        ValueLayout.JAVA_LONG);\n        MethodHandle threadSleep = linker.downcallHandle(jvmSleepAddr, jvmSleepSig);\n        threadSleep.invokeExact(envAddress, MemorySegment.NULL, MILLISECONDS.toNanos(millis));\n    } catch (Throwable e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(&quot;End &quot; + new Date());\n}\n</code></pre>\n<p>This solution has problems of JNA solution except new dependency. And it introduces new problems - it is preview feature, it requires knowledge about structure of <code>JavaVM_</code> and <code>JNIInvokeInterface_</code> and I am not sure if it is possible to lookup <code>jclass</code> through FFI without going native.</p>\n"}],"owner":{"account_id":984070,"reputation":554,"user_id":1003030,"accept_rate":40,"display_name":"ainlolcat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1702195427,"creation_date":1658216644,"question_id":73032992,"body_markdown":"I want to instrument native method in java 13+ (preferably using javassist). Say I want to add logging for particular method and then call real native method. It was possible before via native method prefix (issue https://bugs.openjdk.org/browse/JDK-6263317 and my answer with possible solution with javassist https://stackoverflow.com/questions/12663905/editing-a-native-method-class-with-javassist/64973854#64973854) but since J13 it&#39;s not possible to add new method without explicit option (issue https://bugs.openjdk.java.net/browse/JDK-8221528) which is deprecated from start and can be removed at any time. \r\n\r\nThere are a lot of questions for this topic like: \r\n * https://stackoverflow.com/questions/13954192/retransform-native-methods-in-java-instrumentation-agent-library\r\n * https://stackoverflow.com/questions/12663905/editing-a-native-method-class-with-javassist/64973854\r\n * https://stackoverflow.com/questions/8960734/native-java-bytecode-instrumentation\r\n * https://stackoverflow.com/questions/36790578/java-agent-cannot-transform-all-the-classes-in-my-project\r\n\r\nBut none of them covers topic how to wrap native method without `-XX:+AllowRedefinitionToAddDeleteMethods` option in J13+ using javassist. I can replace method body but cannot see next good move. It&#39;s quite hard or impossible to implement every interesting native method in pure java and does not scale well so I cannot just replace method. May be I did something wrong in my previous attempt with javassist. Or may be my only option is to use JNA somehow to invoke arbitrary function from jdk libs. ","title":"Instrument native method in java 13+","body":"<p>I want to instrument native method in java 13+ (preferably using javassist). Say I want to add logging for particular method and then call real native method. It was possible before via native method prefix (issue <a href=\"https://bugs.openjdk.org/browse/JDK-6263317\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6263317</a> and my answer with possible solution with javassist <a href=\"https://stackoverflow.com/questions/12663905/editing-a-native-method-class-with-javassist/64973854#64973854\">Editing a native method class with javassist?</a>) but since J13 it's not possible to add new method without explicit option (issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-8221528\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8221528</a>) which is deprecated from start and can be removed at any time.</p>\n<p>There are a lot of questions for this topic like:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13954192/retransform-native-methods-in-java-instrumentation-agent-library\">Retransform native methods in Java Instrumentation Agent library</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12663905/editing-a-native-method-class-with-javassist/64973854\">Editing a native method class with javassist?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8960734/native-java-bytecode-instrumentation\">native java bytecode instrumentation</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36790578/java-agent-cannot-transform-all-the-classes-in-my-project\">Java agent cannot transform all the classes in my project</a></li>\n</ul>\n<p>But none of them covers topic how to wrap native method without <code>-XX:+AllowRedefinitionToAddDeleteMethods</code> option in J13+ using javassist. I can replace method body but cannot see next good move. It's quite hard or impossible to implement every interesting native method in pure java and does not scale well so I cannot just replace method. May be I did something wrong in my previous attempt with javassist. Or may be my only option is to use JNA somehow to invoke arbitrary function from jdk libs.</p>\n"},{"tags":["java","lombok","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":2345147,"reputation":116,"user_id":2055614,"display_name":"mlebedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702194820,"creation_date":1702145394,"answer_id":77632355,"question_id":77563442,"body_markdown":"You need to address the IDENT child node of the VARIABLE_DEF with the suppression query:\r\n\r\n    query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text=&#39;val&#39;]]/IDENT&quot;\r\n","title":"Suppress checkstyle for lombock&#39;s val using SuppressionXpathFilter","body":"<p>You need to address the IDENT child node of the VARIABLE_DEF with the suppression query:</p>\n<pre><code>query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text='val']]/IDENT&quot;\n</code></pre>\n"}],"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702194820,"creation_date":1701170235,"question_id":77563442,"body_markdown":"I am using lombok&#39;s `val` to specify the final variables in my code. The checkstyle rule for FinalLocalVariable reports any `val` variable as non-final. I am trying to write a custom suppress.xml to suppress this check for any `val` field. Currently, my suppression.xml looks like this \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE suppressions PUBLIC\r\n        &quot;-//Checkstyle//DTD SuppressionXpathFilter Experimental Configuration 1.2//EN&quot;\r\n        &quot;https://checkstyle.org/dtds/suppressions_1_2_xpath_experimental.dtd&quot;&gt;\r\n     &lt;suppressions&gt;\r\n    &lt;suppress-xpath \r\n            checks=&quot;FinalLocalVariable&quot; query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text=&#39;val&#39;]]&quot;/\r\n    &lt;/suppressions&gt;\r\n\r\n\r\nI have generated the AST tree for the class that has the `val` fields, here is the part where `val` is declared \r\n\r\n    `--SLIST -&gt; { [32:96]\r\n        |       |--VARIABLE_DEF -&gt; VARIABLE_DEF [33:4]\r\n        |       |   |--MODIFIERS -&gt; MODIFIERS [33:4]\r\n        |       |   |--TYPE -&gt; TYPE [33:4]\r\n        |       |   |   `--IDENT -&gt; val [33:4]\r\n\r\nMy idea was to specify that any variable definition of identity `val` should be ignored for this exact check. I have read the checkstyle&#39;s documentation for SuppressionXpathFilter and I cannot find what my issue is as the checkstyle keeps reporting that the variable should be declared final. Any help would be much appreciated.  \r\n\r\n","title":"Suppress checkstyle for lombock&#39;s val using SuppressionXpathFilter","body":"<p>I am using lombok's <code>val</code> to specify the final variables in my code. The checkstyle rule for FinalLocalVariable reports any <code>val</code> variable as non-final. I am trying to write a custom suppress.xml to suppress this check for any <code>val</code> field. Currently, my suppression.xml looks like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE suppressions PUBLIC\n    &quot;-//Checkstyle//DTD SuppressionXpathFilter Experimental Configuration 1.2//EN&quot;\n    &quot;https://checkstyle.org/dtds/suppressions_1_2_xpath_experimental.dtd&quot;&gt;\n &lt;suppressions&gt;\n&lt;suppress-xpath \n        checks=&quot;FinalLocalVariable&quot; query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text='val']]&quot;/\n&lt;/suppressions&gt;\n</code></pre>\n<p>I have generated the AST tree for the class that has the <code>val</code> fields, here is the part where <code>val</code> is declared</p>\n<pre><code>`--SLIST -&gt; { [32:96]\n    |       |--VARIABLE_DEF -&gt; VARIABLE_DEF [33:4]\n    |       |   |--MODIFIERS -&gt; MODIFIERS [33:4]\n    |       |   |--TYPE -&gt; TYPE [33:4]\n    |       |   |   `--IDENT -&gt; val [33:4]\n</code></pre>\n<p>My idea was to specify that any variable definition of identity <code>val</code> should be ignored for this exact check. I have read the checkstyle's documentation for SuppressionXpathFilter and I cannot find what my issue is as the checkstyle keeps reporting that the variable should be declared final. Any help would be much appreciated.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702193739,"post_id":77634009,"comment_id":136865246,"body_markdown":"Github Link: https://github.com/gchapidze/maze-gen","body":"Github Link: <a href=\"https://github.com/gchapidze/maze-gen\" rel=\"nofollow noreferrer\">github.com/gchapidze/maze-gen</a>"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702194069,"post_id":77634009,"comment_id":136865267,"body_markdown":"The stacktrace does not match the code.  The code is for a `playSound` method.  But according to the stacktrace, the attempt to load the resource is in `App.start`.   Either way, the explanation is EITHER the resource is not in the app&#39;s JAR file (for some reason) OR the **actual** `getResource` call (i.e. the one that you didn&#39;t show us!) is using the wrong resource path.","body":"The stacktrace does not match the code.  The code is for a <code>playSound</code> method.  But according to the stacktrace, the attempt to load the resource is in <code>App.start</code>.   Either way, the explanation is EITHER the resource is not in the app&#39;s JAR file (for some reason) OR the <b>actual</b> <code>getResource</code> call (i.e. the one that you didn&#39;t show us!) is using the wrong resource path."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702194556,"post_id":77634009,"comment_id":136865318,"body_markdown":"According to your screenshot, you have a module-info file. Your resource is in the `audio` &quot;package&quot;, which means it&#39;s encapsulated. The `ClassLoader#getResource(String)` method will only be able to see that resource if you `opens` the `audio` package _unconditionally_. It&#39;s better to use `Class#getResource(String)` when the caller, class, and resource are all part of the same module. If you make that change, the path should be `&quot;/audio/maze-sound.wav&quot;` (same as before but with a leading forward slash). Or, if it makes more sense for your project, you can make it non-modular.","body":"According to your screenshot, you have a module-info file. Your resource is in the <code>audio</code> &quot;package&quot;, which means it&#39;s encapsulated. The <code>ClassLoader#getResource(String)</code> method will only be able to see that resource if you <code>opens</code> the <code>audio</code> package <i>unconditionally</i>. It&#39;s better to use <code>Class#getResource(String)</code> when the caller, class, and resource are all part of the same module. If you make that change, the path should be <code>&quot;&#47;audio&#47;maze-sound.wav&quot;</code> (same as before but with a leading forward slash). Or, if it makes more sense for your project, you can make it non-modular."},{"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702194702,"post_id":77634009,"comment_id":136865331,"body_markdown":"I updated the code and screenshot. Please check it again!","body":"I updated the code and screenshot. Please check it again!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702194845,"post_id":77634009,"comment_id":136865338,"body_markdown":"Additionally, you are creating a `MediaPlayer` object but do not keep any strong references to it. That means it can be garbage collected prematurely and thus stop playing unexpectedly. It&#39;s also weird to place the `MediaPlayer` in a `MediaView` given WAV files are audio-only (i.e., there&#39;s no video component to view). And as an aside, I don&#39;t know what `maze-sound.wav` is exactly, but if it&#39;s a short, sound-effect like sound then `javafx.scene.media.AudioClip` may be more appropriate.","body":"Additionally, you are creating a <code>MediaPlayer</code> object but do not keep any strong references to it. That means it can be garbage collected prematurely and thus stop playing unexpectedly. It&#39;s also weird to place the <code>MediaPlayer</code> in a <code>MediaView</code> given WAV files are audio-only (i.e., there&#39;s no video component to view). And as an aside, I don&#39;t know what <code>maze-sound.wav</code> is exactly, but if it&#39;s a short, sound-effect like sound then <code>javafx.scene.media.AudioClip</code> may be more appropriate."},{"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702194974,"post_id":77634009,"comment_id":136865347,"body_markdown":"@Slaw Thanks for your suggestions! I removed MediaView and wrapped media with MediaPlayer. I can now get audio file but I am getting a strange exception now.","body":"@Slaw Thanks for your suggestions! I removed MediaView and wrapped media with MediaPlayer. I can now get audio file but I am getting a strange exception now."},{"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702195174,"post_id":77634009,"comment_id":136865358,"body_markdown":"@Slaw I am getting exception: Loading library gstreamer-lite from resource failed: java.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can&#39;t find dependent libraries\njava.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can&#39;t find dependent libraries.\n\n\nDo you know why?","body":"@Slaw I am getting exception: Loading library gstreamer-lite from resource failed: java.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can&#39;t find dependent libraries java.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can&#39;t find dependent libraries.   Do you know why?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1702195419,"post_id":77634009,"comment_id":136865377,"body_markdown":"Looks like it&#39;s finding the resource just fine now. That `UnsatisifiedLinkError` is unrelated to the current question. Though I will say that, to me at least, it indicates the native code for the `javafx.media` module is missing (specifically `gstreamer-lite.dll`), or maybe other DLLs are missing that GStreamer requires. I don&#39;t know why this would be the case, however.","body":"Looks like it&#39;s finding the resource just fine now. That <code>UnsatisifiedLinkError</code> is unrelated to the current question. Though I will say that, to me at least, it indicates the native code for the <code>javafx.media</code> module is missing (specifically <code>gstreamer-lite.dll</code>), or maybe other DLLs are missing that GStreamer requires. I don&#39;t know why this would be the case, however."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702196002,"post_id":77634009,"comment_id":136865426,"body_markdown":"If you want help with the `UnsatisifiedLinkError` then I suggest you ask a new question. Please **create** a [mre] (MRE) that demonstrates the problem. Put this MRE in the question itself, as text, formatted as code. Include the full stack trace of the error. If you&#39;re using a build tool, then include your POM file (if using Maven) or build file (if using Gradle). Screenshots should not be used to show code, errors, or data. Note most operating systems have some kind of `tree` command you can use to get a text representation of a directory, if you want/need to show your project&#39;s structure.","body":"If you want help with the <code>UnsatisifiedLinkError</code> then I suggest you ask a new question. Please <b>create</b> a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (MRE) that demonstrates the problem. Put this MRE in the question itself, as text, formatted as code. Include the full stack trace of the error. If you&#39;re using a build tool, then include your POM file (if using Maven) or build file (if using Gradle). Screenshots should not be used to show code, errors, or data. Note most operating systems have some kind of <code>tree</code> command you can use to get a text representation of a directory, if you want/need to show your project&#39;s structure."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1702196219,"post_id":77634009,"comment_id":136865443,"body_markdown":"Check the path output in the exception.  Is the DLL there?  The JavaFX Maven modules pack the native dlls inside the JAR files hosted in Maven and the JavaFX runtime unpacks them to the openjfx cache directory, then adds the native libraries to the Java native library path after the application is started.  But normally that whole process will be transparent and just works.  In your case, there is some issue which may be diagnosable in a new question in which the requested info is supplied.","body":"Check the path output in the exception.  Is the DLL there?  The JavaFX Maven modules pack the native dlls inside the JAR files hosted in Maven and the JavaFX runtime unpacks them to the openjfx cache directory, then adds the native libraries to the Java native library path after the application is started.  But normally that whole process will be transparent and just works.  In your case, there is some issue which may be diagnosable in a new question in which the requested info is supplied."},{"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702196993,"post_id":77634009,"comment_id":136865490,"body_markdown":"I will post a new question after the 90-minute threshold.","body":"I will post a new question after the 90-minute threshold."}],"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702195743,"answer_count":0,"score":0,"last_activity_date":1702194602,"creation_date":1702193169,"question_id":77634009,"body_markdown":"Just I want to do is have audio play when the JavaFX application launches. For this, I&#39;m use the JavaFX&#39;s media module in the manner shown below:\r\n\r\n[My directory structure][1]\r\n\r\n```\r\nprivate void playSound() {\r\n        try {\r\n            MediaView mediaView = new MediaView();\r\n            Media media = new Media(\r\n                    getClass()\r\n                            .getClassLoader()\r\n                            .getResource(&quot;audio/maze-sound.wav&quot;)\r\n                            .toExternalForm()\r\n            );\r\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n            mediaView.setMediaPlayer(mediaPlayer);\r\n            mediaView.getMediaPlayer().setAutoPlay(true);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error playing the sound!&quot;);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI am getting the following exception:\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat com.algorithms.maze/com.algorithms.maze.App.playSound(App.java:36)\r\n\tat com.algorithms.maze/com.algorithms.maze.App.start(App.java:26)\r\n\tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n\tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n\tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lu7zG.png","title":"Can not get .wav file as resource","body":"<p>Just I want to do is have audio play when the JavaFX application launches. For this, I'm use the JavaFX's media module in the manner shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/lu7zG.png\" rel=\"nofollow noreferrer\">My directory structure</a></p>\n<pre><code>private void playSound() {\n        try {\n            MediaView mediaView = new MediaView();\n            Media media = new Media(\n                    getClass()\n                            .getClassLoader()\n                            .getResource(&quot;audio/maze-sound.wav&quot;)\n                            .toExternalForm()\n            );\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\n            mediaView.setMediaPlayer(mediaPlayer);\n            mediaView.getMediaPlayer().setAutoPlay(true);\n        } catch (Exception e) {\n            System.out.println(&quot;Error playing the sound!&quot;);\n        }\n    }\n</code></pre>\n<p>I am getting the following exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at com.algorithms.maze/com.algorithms.maze.App.playSound(App.java:36)\n    at com.algorithms.maze/com.algorithms.maze.App.start(App.java:26)\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1700700926,"post_id":77532372,"comment_id":136688115,"body_markdown":"Sounds like you need causally consistent sessions: https://www.mongodb.com/docs/manual/core/read-isolation-consistency-recency/#client-sessions-and-causal-consistency-guarantees","body":"Sounds like you need causally consistent sessions: <a href=\"https://www.mongodb.com/docs/manual/core/read-isolation-consistency-recency/#client-sessions-and-causal-consistency-guarantees\" rel=\"nofollow noreferrer\">mongodb.com/docs/manual/core/read-isolation-consistency-rece&zwnj;&#8203;ncy/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23725268,"reputation":332,"user_id":17745239,"display_name":"Nishang Raiyani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702193999,"creation_date":1702193999,"answer_id":77634038,"question_id":77532372,"body_markdown":"Below factor&#39;s might you have to check:\r\n\r\n1. **Write Concern:**\r\n   Double-check that your write concern is set right. If you&#39;re using `WriteConcern.MAJORITY`, it ensures most replica set members acknowledge the write, but it doesn&#39;t promise immediate visibility for reads.\r\n\r\n   ```java\r\n   WriteConcern.MAJORITY\r\n   ```\r\n\r\n2. **Read Concern:**\r\n   Make sure your read concern is set to `majority` for consistent results reflecting the latest majority-committed write.\r\n\r\n   ```java\r\n   ReadConcern.MAJORITY\r\n   ```\r\n\r\n3. **Indexing:**\r\n   Check if your query/update fields are properly indexed for better read performance.\r\n\r\n4. **Check for Errors:**\r\n   After the `updateOne` operation, log the result and check for errors.\r\n\r\n   ```java\r\n   UpdateResult result = collection.updateOne(filter, update);\r\n   if (!result.wasAcknowledged()) {\r\n       // Handle error\r\n   }\r\n   ```\r\n\r\n5. **Connection Pooling:**\r\n   Confirm your MongoDB Java driver uses connection pooling for efficiency.\r\n\r\n6. **Replica Set Status:**\r\n   Verify the health of your MongoDB replica set. Ensure all nodes are okay, and there&#39;s no replication lag.\r\n","title":"Getting delay in Mongo DB with updateOne","body":"<p>Below factor's might you have to check:</p>\n<ol>\n<li><p><strong>Write Concern:</strong>\nDouble-check that your write concern is set right. If you're using <code>WriteConcern.MAJORITY</code>, it ensures most replica set members acknowledge the write, but it doesn't promise immediate visibility for reads.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WriteConcern.MAJORITY\n</code></pre>\n</li>\n<li><p><strong>Read Concern:</strong>\nMake sure your read concern is set to <code>majority</code> for consistent results reflecting the latest majority-committed write.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ReadConcern.MAJORITY\n</code></pre>\n</li>\n<li><p><strong>Indexing:</strong>\nCheck if your query/update fields are properly indexed for better read performance.</p>\n</li>\n<li><p><strong>Check for Errors:</strong>\nAfter the <code>updateOne</code> operation, log the result and check for errors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UpdateResult result = collection.updateOne(filter, update);\nif (!result.wasAcknowledged()) {\n    // Handle error\n}\n</code></pre>\n</li>\n<li><p><strong>Connection Pooling:</strong>\nConfirm your MongoDB Java driver uses connection pooling for efficiency.</p>\n</li>\n<li><p><strong>Replica Set Status:</strong>\nVerify the health of your MongoDB replica set. Ensure all nodes are okay, and there's no replication lag.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7742735,"reputation":135,"user_id":6318205,"accept_rate":57,"display_name":"Bat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702193999,"creation_date":1700677970,"question_id":77532372,"body_markdown":"I am updating few fields in a document with java and updates get complete with in 4ms.\r\nI am going to db to fetch same documentjust after the update completes. I am not getting updated documents. \r\nAny reason why I am not getting updated Document?\r\nFew things i tried are\r\n1. I tried updateOne Method it shows modified document 1 \r\n2. findOneAndUpdate method option of ReturnDocument.AFTER and it returns updated document.\r\nIssue is When after 2 ms my process goes to updated document then updated Document is not there.\r\n\r\nConfiguration are Read Concern as majority, Write concern as majority and read preference as Primary.","title":"Getting delay in Mongo DB with updateOne","body":"<p>I am updating few fields in a document with java and updates get complete with in 4ms.\nI am going to db to fetch same documentjust after the update completes. I am not getting updated documents.\nAny reason why I am not getting updated Document?\nFew things i tried are</p>\n<ol>\n<li>I tried updateOne Method it shows modified document 1</li>\n<li>findOneAndUpdate method option of ReturnDocument.AFTER and it returns updated document.\nIssue is When after 2 ms my process goes to updated document then updated Document is not there.</li>\n</ol>\n<p>Configuration are Read Concern as majority, Write concern as majority and read preference as Primary.</p>\n"},{"tags":["java","spring","spring-boot","eclipse","arabic-support"],"owner":{"account_id":22368385,"reputation":3,"user_id":16583814,"display_name":"Mohammed Himaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702193955,"creation_date":1702193955,"question_id":77634036,"body_markdown":"I have an System which has English as default language and Arabic as the 2nd language so a user can change to arabic if needed this is setted ap with an key and value pair in properties file like text_en and text_ar here when i try to do this through my computer using eclipse its working perfect when i click arabic the language is switching but when i deploy it to the server or when i just run it in some other pc&#39;s i only get unicodes of the arabic language \r\n\r\ni have tried in many ways to troubleshoot this issue and resolve it but nothing worked for me upto now \r\n\r\nif any one has faced this issue before or anyone knows what will be the fix please send an reply this would help for me as well as many devlopers \r\n\r\n**Thank you**","title":"Multi langauge Translate options in Java Springboot Project","body":"<p>I have an System which has English as default language and Arabic as the 2nd language so a user can change to arabic if needed this is setted ap with an key and value pair in properties file like text_en and text_ar here when i try to do this through my computer using eclipse its working perfect when i click arabic the language is switching but when i deploy it to the server or when i just run it in some other pc's i only get unicodes of the arabic language</p>\n<p>i have tried in many ways to troubleshoot this issue and resolve it but nothing worked for me upto now</p>\n<p>if any one has faced this issue before or anyone knows what will be the fix please send an reply this would help for me as well as many devlopers</p>\n<p><strong>Thank you</strong></p>\n"},{"tags":["java","maven","selenium","testng","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":1,"creation_date":1361191112,"post_id":14935807,"comment_id":20960828,"body_markdown":"Do you see a section of maven dependencies in your project?","body":"Do you see a section of maven dependencies in your project?"}],"answers":[{"tags":[],"owner":{"account_id":1421603,"reputation":5012,"user_id":1346104,"accept_rate":16,"display_name":"Manigandan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361189549,"creation_date":1361189549,"answer_id":14936028,"question_id":14935807,"body_markdown":"**Try these steps:**\r\n\r\n1. Right click the project  \r\n2. Goto `Maven` Menu  \r\n3. Click the `Update Project Configuration`\r\n","title":"&quot;java.lang.Error: Unresolved compilation problems&quot; during execution Selenium tests with TestNG using Maven","body":"<p><strong>Try these steps:</strong></p>\n\n<ol>\n<li>Right click the project  </li>\n<li>Goto <code>Maven</code> Menu  </li>\n<li>Click the <code>Update Project Configuration</code></li>\n</ol>\n"}],"owner":{"account_id":2296755,"reputation":75,"user_id":2018017,"accept_rate":0,"display_name":"user2018017"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702193937,"creation_date":1361188835,"question_id":14935807,"body_markdown":"I am using Selenium with TestNG for automated testing. I am using Maven as a software project management and comprehension tool. I have all maven dependencies in my class path. Still I got Caused by: java.lang.Error: Unresolved compilation problems: \r\n\t\r\nThe import org.openqa.selenium.firefox.FirefoxDriver cannot be resolved.selenium.firefox.driver jar is present in my class path same problem for other dependencies.\r\n\r\nHow to resolve this error?","title":"&quot;java.lang.Error: Unresolved compilation problems&quot; during execution Selenium tests with TestNG using Maven","body":"<p>I am using Selenium with TestNG for automated testing. I am using Maven as a software project management and comprehension tool. I have all maven dependencies in my class path. Still I got Caused by: java.lang.Error: Unresolved compilation problems: </p>\n\n<p>The import org.openqa.selenium.firefox.FirefoxDriver cannot be resolved.selenium.firefox.driver jar is present in my class path same problem for other dependencies.</p>\n\n<p>How to resolve this error?</p>\n"},{"tags":["java","object","oop","design-patterns","observer-pattern"],"comments":[{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1701987087,"post_id":77622395,"comment_id":136845933,"body_markdown":"Your `Observer` interface assumes two values. What if a `ConcreteSubject` has more or less? The `Observer` can&#39;t handle that. One `ConcreteSubject` has an int and a String. What if another `ConcreteSubject` has different data types? The `Observer` has to guess. By the way, here is the GoF description of [push vs pull](https://stackoverflow.com/a/63326502/1371329).","body":"Your <code>Observer</code> interface assumes two values. What if a <code>ConcreteSubject</code> has more or less? The <code>Observer</code> can&#39;t handle that. One <code>ConcreteSubject</code> has an int and a String. What if another <code>ConcreteSubject</code> has different data types? The <code>Observer</code> has to guess. By the way, here is the GoF description of <a href=\"https://stackoverflow.com/a/63326502/1371329\">push vs pull</a>."}],"answers":[{"tags":[],"owner":{"account_id":8406764,"reputation":392,"user_id":6310022,"display_name":"R.Abbasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702193457,"creation_date":1702193457,"answer_id":77634018,"question_id":77622395,"body_markdown":"If your design depends on what the observers need to know about the message, you should use the pulling style. Because there is always a possibility to change the contract of messages for the sake of observers. In other words, your message contract depends on the observers because they consume the message. In this way, changing observers&#39; (consumers&#39;) requirements results in changing the message contract which is not a good coupling. The consumer&#39;s side is more likely to be changed. Because there are likely to be new consumers and existing consumers probably will change over time.\r\n\r\nObserver design pattern should be used when the message contract depends on the Subject. In this notion, the subject dictates what the message contract structure is. For example, it&#39;s a good fit to use it with events. Events indicate that sth happened. They don&#39;t care who uses this data, they are just broadcasting the event data.","title":"Push and Pull Communication Styles in oop: why Push style is not flexible?","body":"<p>If your design depends on what the observers need to know about the message, you should use the pulling style. Because there is always a possibility to change the contract of messages for the sake of observers. In other words, your message contract depends on the observers because they consume the message. In this way, changing observers' (consumers') requirements results in changing the message contract which is not a good coupling. The consumer's side is more likely to be changed. Because there are likely to be new consumers and existing consumers probably will change over time.</p>\n<p>Observer design pattern should be used when the message contract depends on the Subject. In this notion, the subject dictates what the message contract structure is. For example, it's a good fit to use it with events. Events indicate that sth happened. They don't care who uses this data, they are just broadcasting the event data.</p>\n"}],"owner":{"account_id":7998897,"reputation":93,"user_id":18771851,"display_name":"Mehdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702193457,"creation_date":1701974315,"question_id":77622395,"body_markdown":"I&#39;m trying to learn Observer Design Pattern and I started to watch the series which belongs to [codewithmosh][1] called &quot;The Ultimate Design Pattern Series&quot;.\r\n\r\nin the lesson which was about Observer, he says:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n&gt; This is what we call a &quot;Push&quot; style of communication. because the\r\n&gt; &quot;Subject&quot; pushes the changes to the observers. \r\n&gt; \r\n&gt; \r\n&gt; However, there is a problem with this approach.  Tomorrow, we might\r\n&gt; introduce a new type of ConcreteObserver and that observer might need\r\n&gt; a different set of values.  So we have to come back here and change\r\n&gt; the Observer interface; we may have to introduce a new parameter, or\r\n&gt; we may have to change the object that is passed over here. we have to\r\n&gt; introduce new fields in that class. \r\n\r\n&gt; So this approach is not very\r\n&gt; flexible, because the Subject is making assumptions about these\r\n&gt; Observers; it&#39;s assuming that these Observers need these values when a\r\n&gt; change happens.  Now, what if each observer needs a different set of\r\n&gt; values? So, that is when we can use a &quot;Pull&quot; style of communication.\r\n\r\n\r\nI&#39;m just trying to understand why ***Push*** style is not flexible. my question is about this sentence: \r\n\r\n&gt; So we have to come back here and change the Observer interface; we may\r\n&gt; have to introduce a new parameter, **or we may have to change the object\r\n&gt; that is passed over here. we have to introduce new fields in that\r\n&gt; class.**\r\n\r\nthis is my ConcreteSubject:\r\n\r\n    public class ConcreteSubject extends Subject {\r\n    \r\n        private int value;\r\n    \r\n        private String value2;\r\n    \r\n        public void setValue(int value) {\r\n            this.value = value;\r\n            notifyObservers(value, null);\r\n        }\r\n    \r\n        public void setValue2(String value2) {\r\n            this.value2 = value2;\r\n            notifyObservers(null, value2);\r\n        }\r\n    }\r\n\r\nI also have 2 ConcreteObserver but `ConcreteObserver2` doesn&#39;t want to be notified about the first field &quot;`value`&quot; in ConcreteSubject. I tried to introduce a new parameter like this:\r\n\r\n    public interface Observer {\r\n        &lt;T, U&gt; void update(T value, U value2);\r\n    }\r\n\r\n\r\nand these are my other classes:\r\n\r\n    public class Subject { // Observable\r\n    \r\n        private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\r\n    \r\n        public void addObserver(Observer observer) {\r\n            observers.add(observer);\r\n        }\r\n    \r\n        public void removeObserver(Observer observer) {\r\n            observers.remove(observer);\r\n        }\r\n    \r\n        public &lt;T, U&gt; void notifyObservers(T value, U value2) {\r\n            for (Observer observer : observers)\r\n                observer.update(value, value2);\r\n        }\r\n    }\r\n\r\n\r\n--\r\n\r\n    public class ConcreteObserver1 implements Observer {\r\n    \r\n        @Override\r\n        public &lt;T, U&gt; void update(T value, U value2) {\r\n            if (value != null)\r\n                System.out.println(&quot;ConcreteObserver1 got notified. &quot; + value);\r\n    \r\n            if (value2 != null)\r\n                System.out.println(&quot;ConcreteObserver1 got notified. &quot; + value2);\r\n        }\r\n    }\r\n\r\n--\r\n\r\n    public class ConcreteObserver2 implements Observer {\r\n    \r\n        @Override\r\n        public &lt;T, U&gt; void update(T value, U value2) {\r\n            if (value2 != null)\r\n                System.out.println(&quot;ConcreteObserver2 got notified. value2 is: &quot; + value2);\r\n        }\r\n    }\r\n\r\n\r\nSo this was the first solution which the teacher talked about and that was introducing a new parameter and this was my implementation for this solution but I cannot understand the second solution. (the bold text)\r\n\r\nwhat does it mean when he says &quot;**we may have to change the object that is passed over here**&quot;? I think it&#39;s useless because my parameter&#39;s type in the interface is generic and I can pass anything that I want. also I cannot understand &quot;**we have to introduce new fields in that class**&quot;. in which class? why? how this can helps ConcreteObserver2 to be notified about a specific field? \r\n\r\n  [1]: https://codewithmosh.com\r\n  [2]: https://i.stack.imgur.com/11fGe.png","title":"Push and Pull Communication Styles in oop: why Push style is not flexible?","body":"<p>I'm trying to learn Observer Design Pattern and I started to watch the series which belongs to <a href=\"https://codewithmosh.com\" rel=\"nofollow noreferrer\">codewithmosh</a> called &quot;The Ultimate Design Pattern Series&quot;.</p>\n<p>in the lesson which was about Observer, he says:</p>\n<p><a href=\"https://i.stack.imgur.com/11fGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/11fGe.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>This is what we call a &quot;Push&quot; style of communication. because the\n&quot;Subject&quot; pushes the changes to the observers.</p>\n<p>However, there is a problem with this approach.  Tomorrow, we might\nintroduce a new type of ConcreteObserver and that observer might need\na different set of values.  So we have to come back here and change\nthe Observer interface; we may have to introduce a new parameter, or\nwe may have to change the object that is passed over here. we have to\nintroduce new fields in that class.</p>\n</blockquote>\n<blockquote>\n<p>So this approach is not very\nflexible, because the Subject is making assumptions about these\nObservers; it's assuming that these Observers need these values when a\nchange happens.  Now, what if each observer needs a different set of\nvalues? So, that is when we can use a &quot;Pull&quot; style of communication.</p>\n</blockquote>\n<p>I'm just trying to understand why <em><strong>Push</strong></em> style is not flexible. my question is about this sentence:</p>\n<blockquote>\n<p>So we have to come back here and change the Observer interface; we may\nhave to introduce a new parameter, <strong>or we may have to change the object\nthat is passed over here. we have to introduce new fields in that\nclass.</strong></p>\n</blockquote>\n<p>this is my ConcreteSubject:</p>\n<pre><code>public class ConcreteSubject extends Subject {\n\n    private int value;\n\n    private String value2;\n\n    public void setValue(int value) {\n        this.value = value;\n        notifyObservers(value, null);\n    }\n\n    public void setValue2(String value2) {\n        this.value2 = value2;\n        notifyObservers(null, value2);\n    }\n}\n</code></pre>\n<p>I also have 2 ConcreteObserver but <code>ConcreteObserver2</code> doesn't want to be notified about the first field &quot;<code>value</code>&quot; in ConcreteSubject. I tried to introduce a new parameter like this:</p>\n<pre><code>public interface Observer {\n    &lt;T, U&gt; void update(T value, U value2);\n}\n</code></pre>\n<p>and these are my other classes:</p>\n<pre><code>public class Subject { // Observable\n\n    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n\n    public void addObserver(Observer observer) {\n        observers.add(observer);\n    }\n\n    public void removeObserver(Observer observer) {\n        observers.remove(observer);\n    }\n\n    public &lt;T, U&gt; void notifyObservers(T value, U value2) {\n        for (Observer observer : observers)\n            observer.update(value, value2);\n    }\n}\n</code></pre>\n<p>--</p>\n<pre><code>public class ConcreteObserver1 implements Observer {\n\n    @Override\n    public &lt;T, U&gt; void update(T value, U value2) {\n        if (value != null)\n            System.out.println(&quot;ConcreteObserver1 got notified. &quot; + value);\n\n        if (value2 != null)\n            System.out.println(&quot;ConcreteObserver1 got notified. &quot; + value2);\n    }\n}\n</code></pre>\n<p>--</p>\n<pre><code>public class ConcreteObserver2 implements Observer {\n\n    @Override\n    public &lt;T, U&gt; void update(T value, U value2) {\n        if (value2 != null)\n            System.out.println(&quot;ConcreteObserver2 got notified. value2 is: &quot; + value2);\n    }\n}\n</code></pre>\n<p>So this was the first solution which the teacher talked about and that was introducing a new parameter and this was my implementation for this solution but I cannot understand the second solution. (the bold text)</p>\n<p>what does it mean when he says &quot;<strong>we may have to change the object that is passed over here</strong>&quot;? I think it's useless because my parameter's type in the interface is generic and I can pass anything that I want. also I cannot understand &quot;<strong>we have to introduce new fields in that class</strong>&quot;. in which class? why? how this can helps ConcreteObserver2 to be notified about a specific field?</p>\n"},{"tags":["java","dataframe","apache-spark","aggregate"],"answers":[{"tags":[],"owner":{"account_id":1674431,"reputation":7823,"user_id":1540264,"display_name":"Grisha Weintraub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702193131,"creation_date":1702193131,"answer_id":77634008,"question_id":77633104,"body_markdown":"You were close\r\n\r\n    df.select(Arrays.stream(df.columns()).map(colname -&gt; max(length(col(colname)))).toArray(Column[]::new))","title":"Selecting column and it&#39;s maximum length of the data frame using spark in java","body":"<p>You were close</p>\n<pre><code>df.select(Arrays.stream(df.columns()).map(colname -&gt; max(length(col(colname)))).toArray(Column[]::new))\n</code></pre>\n"}],"owner":{"account_id":12709389,"reputation":1,"user_id":9233471,"display_name":"PRAMOD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702193131,"creation_date":1702160532,"question_id":77633104,"body_markdown":"I am new to spark. \r\n\r\nI want to select column name and its maximum length of spark data frame in java. \r\n\r\nI am using spark. I find few but those are in scala and python and those are not working in spark. \r\nThe input and expected out are as below. \r\n\r\n\r\nI would like to find a length of the longest element in each column. \r\n\r\n\r\n\r\nI try \r\n\r\n    df.select(Arrays.stream(df.columns().map(colname - &gt; df.agg(max(length(col(colname))).head().get(0));\r\n\r\nBut not sure how to get data frame with column names and it&#39;s maximum length. \r\n\r\n\r\n\r\n\r\nRegards, \r\nPramod","title":"Selecting column and it&#39;s maximum length of the data frame using spark in java","body":"<p>I am new to spark.</p>\n<p>I want to select column name and its maximum length of spark data frame in java.</p>\n<p>I am using spark. I find few but those are in scala and python and those are not working in spark.\nThe input and expected out are as below.</p>\n<p>I would like to find a length of the longest element in each column.</p>\n<p>I try</p>\n<pre><code>df.select(Arrays.stream(df.columns().map(colname - &gt; df.agg(max(length(col(colname))).head().get(0));\n</code></pre>\n<p>But not sure how to get data frame with column names and it's maximum length.</p>\n<p>Regards,\nPramod</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1702147994,"post_id":77632315,"comment_id":136862448,"body_markdown":"Is that the complete stack trace? If not, please [edit] your post and include it.","body":"Is that the complete stack trace? If not, please <a href=\"https://stackoverflow.com/posts/77632315/edit\">edit</a> your post and include it."},{"owner":{"account_id":15124630,"reputation":27,"user_id":10914389,"display_name":"Issues"},"score":0,"creation_date":1702193002,"post_id":77632315,"comment_id":136865199,"body_markdown":"@JimGarrison alright done","body":"@JimGarrison alright done"}],"owner":{"account_id":15124630,"reputation":27,"user_id":10914389,"display_name":"Issues"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702192969,"creation_date":1702144767,"question_id":77632315,"body_markdown":"When I try to send a json body to my endpoint, spring fails to read it and map the fields onto the entity. I keep getting the error message that I&#39;ve pasted below inconsistently.&#160;\r\n\r\nWhen I try to send a get request to retrieve a Module object that I&#39;ve manually added in the db, everything works normal. Any ideas?\r\n\r\nThis is my controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/module&quot;)\r\npublic class ModuleController {\r\n\t@Autowired\r\n\tprivate ServiceModule sc;\r\n\t\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic Module insert(@RequestBody Module Module) {\r\n\t\treturn sc.add(Module);\r\n\t}\r\n\t\r\n\t@RequestMapping(value = &quot;/post&quot;, method = RequestMethod.POST,\r\n\t        consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic Module add(@RequestBody Module module) {\r\n\t\treturn sc.add(module);\r\n\t}\t\r\n}\r\n```\r\nThis is my entity\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Module implements Serializable{\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tlong id;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;module&quot;, cascade = CascadeType.ALL)\r\n    @JsonBackReference\r\n\tSet&lt;Chapter&gt; chapter_set;\r\n\t\r\n\tString title;\r\n\tString badge_path;\r\n\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Set&lt;Chapter&gt; getChapter_set() {\r\n\t\treturn chapter_set;\r\n\t}\r\n\r\n\tpublic void setChapter_set(Set&lt;Chapter&gt; chapter_set) {\r\n\t\tthis.chapter_set = chapter_set;\r\n\t}\r\n\r\n\tpublic String getBadge_path() {\r\n\t\treturn badge_path;\r\n\t}\r\n\r\n\tpublic void setBadge_path(String badge_path) {\r\n\t\tthis.badge_path = badge_path;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nThis is the request\r\n```\r\n&gt; POST /api/module/post HTTP/1.1\r\n&gt; Host: localhost:8014\r\n&gt; Cookie: JSESSIONID=7902FB30F8B5A88609B1831221612D47\r\n&gt; Content-Type: application/json\r\n&gt; User-Agent: insomnia/2023.5.8\r\n&gt; Accept: */*\r\n&gt; Content-Length: 42\r\n\r\n| {\r\n| \t&quot;title&quot;: &quot;test&quot;,\r\n| \t&quot;badge_path&quot;: &quot;sss&quot;\r\n| }\r\n```\r\n\r\nThe error I get is with the stack trace\r\n```\r\norg.springframework.web.server.UnsupportedMediaTypeStatusException: 415 UNSUPPORTED_MEDIA_TYPE &quot;Content type &#39;application/json&#39; not supported for bodyType=entities.Module&quot;\r\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.readBody(AbstractMessageReaderArgumentResolver.java:232)\r\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below:\r\nError has been observed at the following site(s):\r\n    *__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\r\n    *__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\r\n    *__checkpoint ⇢ HTTP POST &quot;/api/module/post&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.readBody(AbstractMessageReaderArgumentResolver.java:232)\r\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.readBody(AbstractMessageReaderArgumentResolver.java:124)\r\n    at org.springframework.web.reactive.result.method.annotation.RequestBodyMethodArgumentResolver.resolveArgument(RequestBodyMethodArgumentResolver.java:64)\r\n    at org.springframework.web.reactive.result.method.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:119)\r\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:205)\r\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:136)\r\n    at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$1(RequestMappingHandlerAdapter.java:201)\r\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\r\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189)\r\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\r\n    at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121)\r\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)\r\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258)\r\n    at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545)\r\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)\r\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305)\r\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338)\r\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341)\r\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215)\r\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164)\r\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n    at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1052)\r\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\r\n    at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481)\r\n    at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:650)\r\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:238)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n","title":"Spring Boot - Json content type not supported by entity","body":"<p>When I try to send a json body to my endpoint, spring fails to read it and map the fields onto the entity. I keep getting the error message that I've pasted below inconsistently. </p>\n<p>When I try to send a get request to retrieve a Module object that I've manually added in the db, everything works normal. Any ideas?</p>\n<p>This is my controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/module&quot;)\npublic class ModuleController {\n    @Autowired\n    private ServiceModule sc;\n    \n    @PostMapping(&quot;/&quot;)\n    public Module insert(@RequestBody Module Module) {\n        return sc.add(Module);\n    }\n    \n    @RequestMapping(value = &quot;/post&quot;, method = RequestMethod.POST,\n            consumes = MediaType.APPLICATION_JSON_VALUE)\n    public Module add(@RequestBody Module module) {\n        return sc.add(module);\n    }   \n}\n</code></pre>\n<p>This is my entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\npublic class Module implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    long id;\n    \n    @OneToMany(mappedBy = &quot;module&quot;, cascade = CascadeType.ALL)\n    @JsonBackReference\n    Set&lt;Chapter&gt; chapter_set;\n    \n    String title;\n    String badge_path;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public Set&lt;Chapter&gt; getChapter_set() {\n        return chapter_set;\n    }\n\n    public void setChapter_set(Set&lt;Chapter&gt; chapter_set) {\n        this.chapter_set = chapter_set;\n    }\n\n    public String getBadge_path() {\n        return badge_path;\n    }\n\n    public void setBadge_path(String badge_path) {\n        this.badge_path = badge_path;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n    \n}\n\n</code></pre>\n<p>This is the request</p>\n<pre><code>&gt; POST /api/module/post HTTP/1.1\n&gt; Host: localhost:8014\n&gt; Cookie: JSESSIONID=7902FB30F8B5A88609B1831221612D47\n&gt; Content-Type: application/json\n&gt; User-Agent: insomnia/2023.5.8\n&gt; Accept: */*\n&gt; Content-Length: 42\n\n| {\n|   &quot;title&quot;: &quot;test&quot;,\n|   &quot;badge_path&quot;: &quot;sss&quot;\n| }\n</code></pre>\n<p>The error I get is with the stack trace</p>\n<pre><code>org.springframework.web.server.UnsupportedMediaTypeStatusException: 415 UNSUPPORTED_MEDIA_TYPE &quot;Content type 'application/json' not supported for bodyType=entities.Module&quot;\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.readBody(AbstractMessageReaderArgumentResolver.java:232)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below:\nError has been observed at the following site(s):\n    *__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP POST &quot;/api/module/post&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.readBody(AbstractMessageReaderArgumentResolver.java:232)\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.readBody(AbstractMessageReaderArgumentResolver.java:124)\n    at org.springframework.web.reactive.result.method.annotation.RequestBodyMethodArgumentResolver.resolveArgument(RequestBodyMethodArgumentResolver.java:64)\n    at org.springframework.web.reactive.result.method.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:119)\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:205)\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:136)\n    at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$1(RequestMappingHandlerAdapter.java:201)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258)\n    at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338)\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1052)\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\n    at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481)\n    at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:650)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:238)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","java-web-start"],"comments":[{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1395045419,"post_id":22449097,"comment_id":34144414,"body_markdown":"Could you past the PredictedServices.jws&#39;s content?","body":"Could you past the PredictedServices.jws&#39;s content?"},{"owner":{"account_id":2859264,"reputation":193,"user_id":2454830,"accept_rate":33,"display_name":"user2454830"},"score":0,"creation_date":1395048069,"post_id":22449097,"comment_id":34145721,"body_markdown":"Code Added for PredictedServices.jws","body":"Code Added for PredictedServices.jws"},{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1395050752,"post_id":22449097,"comment_id":34147126,"body_markdown":"Added my answer, it is missing an annotation","body":"Added my answer, it is missing an annotation"}],"answers":[{"tags":[],"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395048325,"creation_date":1395048325,"answer_id":22450619,"question_id":22449097,"body_markdown":"Your Web Service should contain the `@WebService` annotation. Check also the other [requirements][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E11035_01/wls100/webserv/jws.html#wp220946","title":"AxisFault faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException faultSubcode: faultString:","body":"<p>Your Web Service should contain the <code>@WebService</code> annotation. Check also the other <a href=\"http://docs.oracle.com/cd/E11035_01/wls100/webserv/jws.html#wp220946\" rel=\"nofollow\">requirements</a>.</p>\n"}],"owner":{"account_id":2859264,"reputation":193,"user_id":2454830,"accept_rate":33,"display_name":"user2454830"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702191720,"creation_date":1395042416,"question_id":22449097,"body_markdown":"I am getting an exception when i am trying to execute the following code. Can anyone please solve the problem?\r\n\r\n    String url = &quot;http://localhost:8080/Pack_Server/PredictedServices.jws&quot;;\r\n    Service service = new Service();\r\n    Call call = (Call) service.createCall();\r\n    call.setTargetEndpointAddress(new java.net.URL(url));\r\n    call.setOperationName(new QName(&quot;retriveData&quot;));\r\n    Vector recVector = (Vector) call.invoke(new Object[]{category, inpquery});\r\n\r\n\r\nFollowing is the exception that i am getting when i run this code.\r\n\r\n    {http://xml.apache.org/axis/}stackTrace:org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 1; Content is not allowed in prolog.\r\n    \tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)\r\n    \tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:441)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1388)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:998)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:302)\r\n    \tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\r\n    \tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\r\n    \tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\r\n    \tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\r\n    \tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n    \tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat com.mycompany.logic.ClientServiceRequest.sendSearchQuery(ClientServiceRequest.java:233)\r\n    \tat com.mycompany.design.ClientForm.actionPerformed(ClientForm.java:241)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener$Actions.actionPerformed(BasicButtonListener.java:303)\r\n    \tat javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1664)\r\n    \tat javax.swing.JComponent.processKeyBinding(JComponent.java:2879)\r\n    \tat javax.swing.JComponent.processKeyBindings(JComponent.java:2926)\r\n    \tat javax.swing.JComponent.processKeyEvent(JComponent.java:2842)\r\n    \tat java.awt.Component.processEvent(Component.java:6282)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4861)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n    \tat java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1895)\r\n    \tat java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:762)\r\n    \tat java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1027)\r\n    \tat java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:899)\r\n    \tat java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:727)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4731)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n    \tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n\r\n\r\n----------\r\n\r\n\r\n\t{http://xml.apache.org/axis/}hostname:Dinesh-PC\r\n\r\n\r\n\r\n\r\nThis is the code my friend has given... I am not sure about this code...\r\n\r\n    import java.util.Vector;\r\n    import com.mycompany.action.UserAction;\r\n    import com.mycompany.dao.DAO;\r\n    import com.mycompany.dao.DAOImpl;\r\n    \r\n    public class PredictedServices {\r\n    \r\n\tprivate DAO userDAO = new DAOImpl();\r\n\tpublic Vector retriveData(String category,String inputquery){\r\n\t\tVector values = new Vector();\r\n\t\tif(category.equals(&quot;Textile&quot;)){\r\n\t\t\tvalues=userDAO.getRequestTextileData(category,inputquery);\r\n\t\t}\r\n\t\telse if(category.equals(&quot;Electronic&quot;)){\r\n\t\t\tvalues=userDAO.getRequestElectronicData(category,inputquery);\r\n\t\t}\r\n\t\telse if(category.equals(&quot;Tourist&quot;)){\r\n\t\t\tvalues=userDAO.getRequestTouristData(category,inputquery);\r\n\t\t}\r\n\t\treturn values;\r\n\t}\r\n    }\r\n\r\n\r\n","title":"AxisFault faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException faultSubcode: faultString:","body":"<p>I am getting an exception when i am trying to execute the following code. Can anyone please solve the problem?</p>\n\n<pre><code>String url = \"http://localhost:8080/Pack_Server/PredictedServices.jws\";\nService service = new Service();\nCall call = (Call) service.createCall();\ncall.setTargetEndpointAddress(new java.net.URL(url));\ncall.setOperationName(new QName(\"retriveData\"));\nVector recVector = (Vector) call.invoke(new Object[]{category, inpquery});\n</code></pre>\n\n<p>Following is the exception that i am getting when i run this code.</p>\n\n<pre><code>{http://xml.apache.org/axis/}stackTrace:org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 1; Content is not allowed in prolog.\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:441)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)\n    at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1388)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:998)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:302)\n    at org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\n    at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\n    at org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\n    at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\n    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\n    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n    at org.apache.axis.client.Call.invoke(Call.java:2767)\n    at org.apache.axis.client.Call.invoke(Call.java:2443)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at com.mycompany.logic.ClientServiceRequest.sendSearchQuery(ClientServiceRequest.java:233)\n    at com.mycompany.design.ClientForm.actionPerformed(ClientForm.java:241)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener$Actions.actionPerformed(BasicButtonListener.java:303)\n    at javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1664)\n    at javax.swing.JComponent.processKeyBinding(JComponent.java:2879)\n    at javax.swing.JComponent.processKeyBindings(JComponent.java:2926)\n    at javax.swing.JComponent.processKeyEvent(JComponent.java:2842)\n    at java.awt.Component.processEvent(Component.java:6282)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4861)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4687)\n    at java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1895)\n    at java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:762)\n    at java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1027)\n    at java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:899)\n    at java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:727)\n    at java.awt.Component.dispatchEventImpl(Component.java:4731)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4687)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\n    at java.awt.EventQueue.access$200(EventQueue.java:103)\n    at java.awt.EventQueue$3.run(EventQueue.java:694)\n    at java.awt.EventQueue$3.run(EventQueue.java:692)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:708)\n    at java.awt.EventQueue$4.run(EventQueue.java:706)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n</code></pre>\n\n<hr>\n\n<pre><code>{http://xml.apache.org/axis/}hostname:Dinesh-PC\n</code></pre>\n\n<p>This is the code my friend has given... I am not sure about this code...</p>\n\n<pre><code>import java.util.Vector;\nimport com.mycompany.action.UserAction;\nimport com.mycompany.dao.DAO;\nimport com.mycompany.dao.DAOImpl;\n\npublic class PredictedServices {\n\nprivate DAO userDAO = new DAOImpl();\npublic Vector retriveData(String category,String inputquery){\n    Vector values = new Vector();\n    if(category.equals(\"Textile\")){\n        values=userDAO.getRequestTextileData(category,inputquery);\n    }\n    else if(category.equals(\"Electronic\")){\n        values=userDAO.getRequestElectronicData(category,inputquery);\n    }\n    else if(category.equals(\"Tourist\")){\n        values=userDAO.getRequestTouristData(category,inputquery);\n    }\n    return values;\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6358,"reputation":386062,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":5,"creation_date":1264083957,"post_id":2109860,"comment_id":2044920,"body_markdown":"Why don&#39;t you like it?  What&#39;s wrong with it?","body":"Why don&#39;t you like it?  What&#39;s wrong with it?"},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":3,"creation_date":1264093077,"post_id":2109860,"comment_id":2046385,"body_markdown":"I think about how many other programmers are going to create the same method, it&#39;s just DRY. Even the simplest calculator has a percentage button. I can&#39;t understand why the class doesn&#39;t have it.","body":"I think about how many other programmers are going to create the same method, it&#39;s just DRY. Even the simplest calculator has a percentage button. I can&#39;t understand why the class doesn&#39;t have it."},{"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"score":2,"creation_date":1435137489,"post_id":2109860,"comment_id":50069939,"body_markdown":"@LluisMartinez: The problem here is precision. When you divide two ``BigDecimal``s (which you do when calculating percentage), you&#39;d have to provide a proper rounding mode. I suppose that&#39;s why the class does not provide a ``percentage()`` method. Just look at ``BigDecimal``, there are six ``divide()`` methods already with different signatures. Providing a percentage method, you&#39;d have to add another 6+ methods and ultimately that would bloat up the entire implementation.","body":"@LluisMartinez: The problem here is precision. When you divide two <code>BigDecimal</code>s (which you do when calculating percentage), you&#39;d have to provide a proper rounding mode. I suppose that&#39;s why the class does not provide a <code>percentage()</code> method. Just look at <code>BigDecimal</code>, there are six <code>divide()</code> methods already with different signatures. Providing a percentage method, you&#39;d have to add another 6+ methods and ultimately that would bloat up the entire implementation."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":6,"up_vote_count":13,"is_accepted":true,"score":7,"last_activity_date":1469603952,"creation_date":1264084183,"answer_id":2109911,"question_id":2109860,"body_markdown":"Feel free to subclass `BigDecimal` and add that method. Beyond that, what do you expect? You know where to find the API and confirm that the class you would like to have that method doesn&#39;t. Personally, I&#39;d say the functionality is so trivial that there wouldn&#39;t be much of a point in having it in the standard API.","title":"Compute percentage for bigdecimals","body":"<p>Feel free to subclass <code>BigDecimal</code> and add that method. Beyond that, what do you expect? You know where to find the API and confirm that the class you would like to have that method doesn't. Personally, I'd say the functionality is so trivial that there wouldn't be much of a point in having it in the standard API.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1576159309,"creation_date":1264087370,"answer_id":2110337,"question_id":2109860,"body_markdown":"I don&#39;t think there is an API for that (I never needed it).  \r\nYour solution seams good to me, maybe you just add the constant `ONE_HUNDRED`:   \r\n\r\n    public static final BigDecimal ONE_HUNDRED = new BigDecimal(100);\r\n\r\n    public static BigDecimal percentage(BigDecimal base, BigDecimal pct){\r\n        return base.multiply(pct).divide(ONE_HUNDRED);\r\n    }\r\n\r\n*probably not that much gain, only if called* very *often*\r\n\r\neventually put it in some Util class...","title":"Compute percentage for bigdecimals","body":"<p>I don't think there is an API for that (I never needed it).<br>\nYour solution seams good to me, maybe you just add the constant <code>ONE_HUNDRED</code>:   </p>\n\n<pre><code>public static final BigDecimal ONE_HUNDRED = new BigDecimal(100);\n\npublic static BigDecimal percentage(BigDecimal base, BigDecimal pct){\n    return base.multiply(pct).divide(ONE_HUNDRED);\n}\n</code></pre>\n\n<p><em>probably not that much gain, only if called</em> very <em>often</em></p>\n\n<p>eventually put it in some Util class...</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670346499,"creation_date":1264096919,"answer_id":2111618,"question_id":2109860,"body_markdown":"See also [DecimalFormat][1]. You can use the parent&#39;s factory method `NumberFormat.getPercentInstance()` as shown [here][2], [here][3], [_et al._][4]\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\r\n  [2]: https://stackoverflow.com/a/698506/230513\r\n  [3]: https://stackoverflow.com/a/698354/230513\r\n  [4]: https://stackoverflow.com/search?tab=votes&amp;q=%5Bjava%5D%20BigDecimal%20NumberFormat.getPercentInstance","title":"Compute percentage for bigdecimals","body":"<p>See also <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>. You can use the parent's factory method <code>NumberFormat.getPercentInstance()</code> as shown <a href=\"https://stackoverflow.com/a/698506/230513\">here</a>, <a href=\"https://stackoverflow.com/a/698354/230513\">here</a>, <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5Bjava%5D%20BigDecimal%20NumberFormat.getPercentInstance\"><em>et al.</em></a></p>\n"},{"tags":[],"owner":{"account_id":6145039,"reputation":457,"user_id":4791255,"display_name":"Valentyn Danylchuk"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1470159817,"creation_date":1470159817,"answer_id":38727163,"question_id":2109860,"body_markdown":"You may want to implement the division by 100 using `BigDecimal.scaleByPowerOfTen(-2)`.\r\n\r\nIt adds up if you do it a million times. It is much faster in my experience.\r\n\r\nThere is also a similar method `BigDecimal.movePointLeft(2)` - see [the other thread][1] for details and decide which one works better for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/25454734/4791255","title":"Compute percentage for bigdecimals","body":"<p>You may want to implement the division by 100 using <code>BigDecimal.scaleByPowerOfTen(-2)</code>.</p>\n\n<p>It adds up if you do it a million times. It is much faster in my experience.</p>\n\n<p>There is also a similar method <code>BigDecimal.movePointLeft(2)</code> - see <a href=\"https://stackoverflow.com/q/25454734/4791255\">the other thread</a> for details and decide which one works better for you.</p>\n"},{"tags":[],"owner":{"account_id":21685090,"reputation":114,"user_id":16000686,"display_name":"Hooman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702190963,"creation_date":1702123838,"answer_id":77631209,"question_id":2109860,"body_markdown":"You can also use `UNNECESSARY` rounding mode and scale of `2`, if your number is an *integer*.\r\n\r\nIt would be like this:\r\n\r\n        \r\n    // rate == 0.10\r\n    BigDecimal rate = BigDecimal.TEN\r\n            .divide(BigDecimal.valueOf(100), 2, RoundingMode.UNNECESSARY);\r\n\r\nThis way you can also avoid facing warnings like:\r\n\r\n`BigDecimal.divide()&#39; called without a rounding mode argument`\r\n\r\n\r\nwithout needing to suppress them. ","title":"Compute percentage for bigdecimals","body":"<p>You can also use <code>UNNECESSARY</code> rounding mode and scale of <code>2</code>, if your number is an <em>integer</em>.</p>\n<p>It would be like this:</p>\n<pre><code>// rate == 0.10\nBigDecimal rate = BigDecimal.TEN\n        .divide(BigDecimal.valueOf(100), 2, RoundingMode.UNNECESSARY);\n</code></pre>\n<p>This way you can also avoid facing warnings like:</p>\n<p><code>BigDecimal.divide()' called without a rounding mode argument</code></p>\n<p>without needing to suppress them.</p>\n"}],"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74264,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":2109911,"answer_count":5,"score":35,"last_activity_date":1702190963,"creation_date":1264083751,"question_id":2109860,"body_markdown":"I haven&#39;t found any native method to do this, so I created my own in a helper class:\r\n\r\n\tpublic static BigDecimal percentage(BigDecimal base, BigDecimal pct){\r\n\t\treturn base.multiply(pct).divide(new BigDecimal(100));\r\n\t}\r\n\r\nBut I don&#39;t quite like it, I wonder if the API has something similar. The Number class (ancestor of BigDecimal) would be a nice place.","title":"Compute percentage for bigdecimals","body":"<p>I haven't found any native method to do this, so I created my own in a helper class:</p>\n\n<pre><code>public static BigDecimal percentage(BigDecimal base, BigDecimal pct){\n    return base.multiply(pct).divide(new BigDecimal(100));\n}\n</code></pre>\n\n<p>But I don't quite like it, I wonder if the API has something similar. The Number class (ancestor of BigDecimal) would be a nice place.</p>\n"},{"tags":["java","minecraft","luaj","luajava"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702195023,"post_id":77633928,"comment_id":136865351,"body_markdown":"probably because it is not intended to `call` a `String` - the documentation of `Globals` shows different examples of how to run a script, but I would try to use its `load(String)` method. that is, `globals.load(&quot;setTitle = &#39;hi&#39;&quot;)` (but I never used Lua nor Luaj)","body":"probably because it is not intended to <code>call</code> a <code>String</code> - the documentation of <code>Globals</code> shows different examples of how to run a script, but I would try to use its <code>load(String)</code> method. that is, <code>globals.load(&quot;setTitle = &#39;hi&#39;&quot;)</code> (but I never used Lua nor Luaj)"}],"owner":{"account_id":30109317,"reputation":1,"user_id":23074248,"display_name":"Soul God"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702190825,"creation_date":1702190825,"question_id":77633928,"body_markdown":"I&#39;ve been trying to interact with my java project using lua with LuaJ. But I have some problems since im trying to use this to interact with the minecraft client API.\r\n\r\nMy code:\r\n\r\n```\r\nGlobals globals = JsePlatform.standardGlobals();\r\n\t        LuaValue displayTable = CoerceJavaToLua.coerce(Display.class);\r\n\t        globals.set(&quot;Display&quot;, displayTable);\r\n\t        LuaValue luaCode = LuaValue.valueOf(\r\n\t        \t    &quot;setTitle = &#39;hi&#39;&quot;\r\n\t        );\r\n\r\n\t        try {\r\n\t            LuaValue chunk = globals.load(luaCode);\r\n\t            chunk.call();\r\n\t        } catch (LuaError e) {\r\n\t            System.err.println(&quot;LuaError: &quot; + e.getMessage());\r\n\t            e.printStackTrace();\r\n\t        }\r\n```\r\n\r\nI&#39;ve been getting this error though when this part of the code is ran:\r\n\r\n&gt; ```\r\n&gt; org.luaj.vm2.LuaError: attempt to call string\r\n&gt; \tat org.luaj.vm2.LuaValue.checkmetatag(Unknown Source)\r\n&gt; \tat org.luaj.vm2.LuaValue.callmt(Unknown Source)\r\n&gt; \tat org.luaj.vm2.LuaValue.call(Unknown Source)\r\n&gt; \tat org.luaj.vm2.LuaValue.load(Unknown Source)\r\n&gt; \tat me.soulgodd.luxury.Luxury.luacompile(Luxury.java:48)\r\n&gt; \tat me.soulgodd.luxury.module.combat.KillAura.onUpdate(KillAura.java:55)\r\n&gt; \tat me.soulgodd.luxury.module.ModuleManager.onUpdate(ModuleManager.java:30)\r\n&gt; \tat net.minecraft.client.entity.EntityPlayerSP.onLivingUpdate(EntityPlayerSP.java:719)\r\n&gt; \tat net.minecraft.entity.EntityLivingBase.onUpdate(EntityLivingBase.java:1825)\r\n&gt; \tat net.minecraft.entity.player.EntityPlayer.onUpdate(EntityPlayer.java:333)\r\n&gt; \tat net.minecraft.client.entity.EntityPlayerSP.onUpdate(EntityPlayerSP.java:173)\r\n&gt; \tat net.minecraft.world.World.updateEntityWithOptionalForce(World.java:1879)\r\n&gt; \tat net.minecraft.world.World.updateEntity(World.java:1848)\r\n&gt; \tat net.minecraft.world.World.updateEntities(World.java:1700)\r\n&gt; \tat net.minecraft.client.Minecraft.runTick(Minecraft.java:2192)\r\n&gt; \tat net.minecraft.client.Minecraft.runGameLoop(Minecraft.java:1106)\r\n&gt; \tat net.minecraft.client.Minecraft.run(Minecraft.java:423)\r\n&gt; \tat net.minecraft.client.main.Main.main(Main.java:113)\r\n&gt; \tat Start.main(Start.java:11)\r\n&gt; \r\n&gt; \r\n&gt; I&#39;m new to java so can someone help.\r\n&gt; ```","title":"Attempt to call string (Java LuaJ)","body":"<p>I've been trying to interact with my java project using lua with LuaJ. But I have some problems since im trying to use this to interact with the minecraft client API.</p>\n<p>My code:</p>\n<pre><code>Globals globals = JsePlatform.standardGlobals();\n            LuaValue displayTable = CoerceJavaToLua.coerce(Display.class);\n            globals.set(&quot;Display&quot;, displayTable);\n            LuaValue luaCode = LuaValue.valueOf(\n                    &quot;setTitle = 'hi'&quot;\n            );\n\n            try {\n                LuaValue chunk = globals.load(luaCode);\n                chunk.call();\n            } catch (LuaError e) {\n                System.err.println(&quot;LuaError: &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n</code></pre>\n<p>I've been getting this error though when this part of the code is ran:</p>\n<blockquote>\n<pre><code>org.luaj.vm2.LuaError: attempt to call string\n  at org.luaj.vm2.LuaValue.checkmetatag(Unknown Source)\n  at org.luaj.vm2.LuaValue.callmt(Unknown Source)\n  at org.luaj.vm2.LuaValue.call(Unknown Source)\n  at org.luaj.vm2.LuaValue.load(Unknown Source)\n  at me.soulgodd.luxury.Luxury.luacompile(Luxury.java:48)\n  at me.soulgodd.luxury.module.combat.KillAura.onUpdate(KillAura.java:55)\n  at me.soulgodd.luxury.module.ModuleManager.onUpdate(ModuleManager.java:30)\n  at net.minecraft.client.entity.EntityPlayerSP.onLivingUpdate(EntityPlayerSP.java:719)\n  at net.minecraft.entity.EntityLivingBase.onUpdate(EntityLivingBase.java:1825)\n  at net.minecraft.entity.player.EntityPlayer.onUpdate(EntityPlayer.java:333)\n  at net.minecraft.client.entity.EntityPlayerSP.onUpdate(EntityPlayerSP.java:173)\n  at net.minecraft.world.World.updateEntityWithOptionalForce(World.java:1879)\n  at net.minecraft.world.World.updateEntity(World.java:1848)\n  at net.minecraft.world.World.updateEntities(World.java:1700)\n  at net.minecraft.client.Minecraft.runTick(Minecraft.java:2192)\n  at net.minecraft.client.Minecraft.runGameLoop(Minecraft.java:1106)\n  at net.minecraft.client.Minecraft.run(Minecraft.java:423)\n  at net.minecraft.client.main.Main.main(Main.java:113)\n  at Start.main(Start.java:11)\n\n\nI'm new to java so can someone help.\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","kotlin","clone","samsung-mobile"],"comments":[{"owner":{"account_id":1419026,"reputation":1952,"user_id":1344049,"display_name":"Dipankar Baghel"},"score":0,"creation_date":1579594051,"post_id":59836563,"comment_id":105808054,"body_markdown":"Question not clear.","body":"Question not clear."},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1579594115,"post_id":59836563,"comment_id":105808080,"body_markdown":"do you have Samsung device.? @DipankarBaghel","body":"do you have Samsung device.? @DipankarBaghel"},{"owner":{"account_id":1419026,"reputation":1952,"user_id":1344049,"display_name":"Dipankar Baghel"},"score":0,"creation_date":1579594185,"post_id":59836563,"comment_id":105808107,"body_markdown":"No I am sorry. Can you explain the issue?","body":"No I am sorry. Can you explain the issue?"},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1579594218,"post_id":59836563,"comment_id":105808122,"body_markdown":"issue is well explained in Question if you re-read it.","body":"issue is well explained in Question if you re-read it."},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1579594340,"post_id":59836563,"comment_id":105808186,"body_markdown":"this issue is related to Samsung devices it has a secure folder where you can easily clone existing application.","body":"this issue is related to Samsung devices it has a secure folder where you can easily clone existing application."},{"owner":{"account_id":1419026,"reputation":1952,"user_id":1344049,"display_name":"Dipankar Baghel"},"score":0,"creation_date":1579594502,"post_id":59836563,"comment_id":105808249,"body_markdown":"Does it also changes package name after cloning?","body":"Does it also changes package name after cloning?"},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1579599038,"post_id":59836563,"comment_id":105810386,"body_markdown":"package name is same have a look at screenshot but process id is different! @DipankarBaghel","body":"package name is same have a look at screenshot but process id is different! @DipankarBaghel"},{"owner":{"account_id":2397966,"reputation":2781,"user_id":2096401,"display_name":"TripeHound"},"score":0,"creation_date":1579616052,"post_id":59836563,"comment_id":105819873,"body_markdown":"@AtifAbbAsi What are you trying to protect against? From a brief search of what Secure Folder is, and how it behaves, it feels like – in essence (ignoring the encrypted data area) – a user cloning an app into the secure folder would be little different than if they installed your app on a second phone. What is it you think they can do (and you want to guard against) with to instances on one phone, vs. two instances on two separate phones?","body":"@AtifAbbAsi What are you trying to protect against? From a brief search of what Secure Folder is, and how it behaves, it feels like – in essence (ignoring the encrypted data area) – a user cloning an app into the secure folder would be little different than if they installed your app on a second phone. What is it you think they can do (and you want to guard against) with to instances on one phone, vs. two instances on two separate phones?"},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1579624745,"post_id":59836563,"comment_id":105825106,"body_markdown":"its fintech(wallet app) basically we are trying to prevent user from installing two apps and using two different account on same device.","body":"its fintech(wallet app) basically we are trying to prevent user from installing two apps and using two different account on same device."},{"owner":{"account_id":2397966,"reputation":2781,"user_id":2096401,"display_name":"TripeHound"},"score":0,"creation_date":1579650756,"post_id":59836563,"comment_id":105835202,"body_markdown":"@AtifAbbAsi Do you do anything to stop someone installing your app on two phones? If **not**, why is installing it twice on the _same_ phone worse? If you **do** try to prevent one person using two phones, how/why are those measures less effective when using Samsung Secure on just the one phone?","body":"@AtifAbbAsi Do you do anything to stop someone installing your app on two phones? If <b>not</b>, why is installing it twice on the <i>same</i> phone worse? If you <b>do</b> try to prevent one person using two phones, how/why are those measures less effective when using Samsung Secure on just the one phone?"},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1579672222,"post_id":59836563,"comment_id":105839508,"body_markdown":"@TripeHound as I have already told you its fin-tech app and to avoid fraud and risk we want to prevent user from installing more than one app on same device.","body":"@TripeHound as I have already told you its fin-tech app and to avoid fraud and risk we want to prevent user from installing more than one app on same device."}],"answers":[{"tags":[],"owner":{"account_id":2397966,"reputation":2781,"user_id":2096401,"display_name":"TripeHound"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579695454,"creation_date":1579695454,"answer_id":59859604,"question_id":59836563,"body_markdown":"As I have failed to express myself clearly enough in comments, I have decided to write a _frame challenging_ answer to try and show you why I believe you are focusing on the wrong problem.\r\n\r\n**Summary**: Your (perceived) &quot;_Samsung problem_&quot; (one phone; two accounts) is really just a special case of a wider &quot;_two phone problem_&quot; (two phones; two accounts). The relative ease with which an attacker could (ab)use two phones means that that is where you should first focus your defensive efforts. A by-product of successfully defending the &quot;two phone problem&quot; is that it will (as far as I can see) _also_ defend against the specific &quot;Samsung problem&quot; that you are currently worried about.\r\n\r\n---\r\n\r\n## Your _Perceived_ Problem\r\n\r\nIn comments, you say:\r\n\r\n&gt; [It&#39;s a] fintech (wallet app) basically we are trying to prevent user from installing two apps and using two different account on same device\r\n\r\nand:\r\n\r\n&gt; [It&#39;s a] fin-tech app and to avoid fraud and risk we want to prevent user from installing more than one app on same device\r\n\r\nAlthough you don&#39;t give details, I&#39;m happy to take at face value that one user having multiple accounts poses a risk of fraud. Many applications have rules against multiple accounts: for instance, with many online games multiple accounts could be used to &quot;game the system&quot; to get an unfair advantage.\r\n\r\nWhat I would question is the relevance of &quot;_**on same device**_&quot;.\r\n\r\n---\r\n\r\n### (Almost Certainly) Your _Real_ Problem\r\n\r\nIgnoring Samsung&#39;s _Secure Area_ for the moment, it&#39;s very easy to write your app so that a user can only use one account per phone. However, if someone doesn&#39;t already have a second phone lying around, they can get a second one for relatively little cost, install your application on that and configure it to use a second account.\r\n\r\nFrom your perspective, it&#39;s _**equally as dangerous**_: two instances of your application, using two accounts, controlled by one person. From the attacker&#39;s perspective, it is _**very slightly less convenient**_ (over using Samsung&#39;s _Secure Area_) because they have to carry two phones with them.\r\n\r\n---\r\n\r\n### Your Priority\r\n\r\nTherefore, your main priority should be to guard against the &quot;_two phones; two accounts_&quot; scenario.\r\n\r\nFor some applications, it is sufficient to write &quot;_you must not use multiple accounts_&quot; into the terms-of-service. If someone is found to be abusing the system, you can use the presence of that rule to ban them. For others, insisting on the user providing an email address, phone number or postal address – and guarding against duplicates – may be sufficient (although none of these checks are hard to bypass).\r\n\r\nFor banking and financial applications (such as yours), more stringent efforts must be made. Typically, something like _National Insurance_ (NI) numbers (in the UK) or _Social Security Numbers_ (SSN) in the US are used (and, presumably, similar &quot;ID numbers&quot; for the rest of the world). Legal requirements to &quot;know your customer&quot; generally make asking for such details acceptable.\r\n\r\nWhatever method you use, because &quot;having two phones&quot; is no barrier to an attacker, you need your systems to be able to effectively defend against one user setting up two accounts from two separate devices.\r\n\r\n---\r\n\r\n### The Bonus\r\n\r\nIf you have sufficiently strong defenses against one user using two phones to create two accounts, then _at no extra cost_ you will – as far as I can see – have defended against the more specific &quot;one phone; two accounts&quot; scenario that you are asking about. _Yes_ Samsung&#39;s _Secure Area_ will allow a user to install your application a second time on a single phone, but when they come to create or register an account, your _existing_ measures will prevent this in the same way as if they were using two separate phones.\r\n\r\nWhile I cannot think of a way at the moment, I&#39;ll concede that it&#39;s _just about conceivable_ that there is some _very specific_ threat that _only_ occurs when two instances of your application are installed on the same phone using Samsung&#39;s _Secure Area_. However, if that _were_ to be the case, I think you would need to explain in more detail what that threat is, and why the (by then) existing protections against using _two_ phones are not sufficient to deal with it.","title":"prevent android app from cloning into Samsung Secure folder or others app of such nature?","body":"<p>As I have failed to express myself clearly enough in comments, I have decided to write a <em>frame challenging</em> answer to try and show you why I believe you are focusing on the wrong problem.</p>\n\n<p><strong>Summary</strong>: Your (perceived) \"<em>Samsung problem</em>\" (one phone; two accounts) is really just a special case of a wider \"<em>two phone problem</em>\" (two phones; two accounts). The relative ease with which an attacker could (ab)use two phones means that that is where you should first focus your defensive efforts. A by-product of successfully defending the \"two phone problem\" is that it will (as far as I can see) <em>also</em> defend against the specific \"Samsung problem\" that you are currently worried about.</p>\n\n<hr>\n\n<h2>Your <em>Perceived</em> Problem</h2>\n\n<p>In comments, you say:</p>\n\n<blockquote>\n  <p>[It's a] fintech (wallet app) basically we are trying to prevent user from installing two apps and using two different account on same device</p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p>[It's a] fin-tech app and to avoid fraud and risk we want to prevent user from installing more than one app on same device</p>\n</blockquote>\n\n<p>Although you don't give details, I'm happy to take at face value that one user having multiple accounts poses a risk of fraud. Many applications have rules against multiple accounts: for instance, with many online games multiple accounts could be used to \"game the system\" to get an unfair advantage.</p>\n\n<p>What I would question is the relevance of \"<em><strong>on same device</strong></em>\".</p>\n\n<hr>\n\n<h3>(Almost Certainly) Your <em>Real</em> Problem</h3>\n\n<p>Ignoring Samsung's <em>Secure Area</em> for the moment, it's very easy to write your app so that a user can only use one account per phone. However, if someone doesn't already have a second phone lying around, they can get a second one for relatively little cost, install your application on that and configure it to use a second account.</p>\n\n<p>From your perspective, it's <em><strong>equally as dangerous</strong></em>: two instances of your application, using two accounts, controlled by one person. From the attacker's perspective, it is <em><strong>very slightly less convenient</strong></em> (over using Samsung's <em>Secure Area</em>) because they have to carry two phones with them.</p>\n\n<hr>\n\n<h3>Your Priority</h3>\n\n<p>Therefore, your main priority should be to guard against the \"<em>two phones; two accounts</em>\" scenario.</p>\n\n<p>For some applications, it is sufficient to write \"<em>you must not use multiple accounts</em>\" into the terms-of-service. If someone is found to be abusing the system, you can use the presence of that rule to ban them. For others, insisting on the user providing an email address, phone number or postal address – and guarding against duplicates – may be sufficient (although none of these checks are hard to bypass).</p>\n\n<p>For banking and financial applications (such as yours), more stringent efforts must be made. Typically, something like <em>National Insurance</em> (NI) numbers (in the UK) or <em>Social Security Numbers</em> (SSN) in the US are used (and, presumably, similar \"ID numbers\" for the rest of the world). Legal requirements to \"know your customer\" generally make asking for such details acceptable.</p>\n\n<p>Whatever method you use, because \"having two phones\" is no barrier to an attacker, you need your systems to be able to effectively defend against one user setting up two accounts from two separate devices.</p>\n\n<hr>\n\n<h3>The Bonus</h3>\n\n<p>If you have sufficiently strong defenses against one user using two phones to create two accounts, then <em>at no extra cost</em> you will – as far as I can see – have defended against the more specific \"one phone; two accounts\" scenario that you are asking about. <em>Yes</em> Samsung's <em>Secure Area</em> will allow a user to install your application a second time on a single phone, but when they come to create or register an account, your <em>existing</em> measures will prevent this in the same way as if they were using two separate phones.</p>\n\n<p>While I cannot think of a way at the moment, I'll concede that it's <em>just about conceivable</em> that there is some <em>very specific</em> threat that <em>only</em> occurs when two instances of your application are installed on the same phone using Samsung's <em>Secure Area</em>. However, if that <em>were</em> to be the case, I think you would need to explain in more detail what that threat is, and why the (by then) existing protections against using <em>two</em> phones are not sufficient to deal with it.</p>\n"}],"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1702190659,"creation_date":1579593919,"question_id":59836563,"body_markdown":"I&#39;m trying to figure out how secure folder works. It&#39;s creating clone application in secure folder.\r\nhow I&#39;ll be able to prevent android phone from creating a clone.?\r\nscreenshot is attached where you can see package name is same but the process id is different. It&#39;s a high risk for fin-tech or promotional campaign based apps.\r\nhow to check if app is running inside a virtual machine or not.?\r\n\r\nFor instance\r\n\r\n 1. package : com.example.app (6151)\r\n 2. package : com.example.app (user 150) (6337)\r\n\r\n\r\n\r\n[![Sample Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0KcHU.png","title":"prevent android app from cloning into Samsung Secure folder or others app of such nature?","body":"<p>I'm trying to figure out how secure folder works. It's creating clone application in secure folder.\nhow I'll be able to prevent android phone from creating a clone.?\nscreenshot is attached where you can see package name is same but the process id is different. It's a high risk for fin-tech or promotional campaign based apps.\nhow to check if app is running inside a virtual machine or not.?</p>\n\n<p>For instance</p>\n\n<ol>\n<li>package : com.example.app (6151)</li>\n<li>package : com.example.app (user 150) (6337)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/0KcHU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KcHU.png\" alt=\"Sample Image\"></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1701769696,"post_id":77605096,"comment_id":136813829,"body_markdown":"Answering your own questions is ok, but this just isn&#39;t a good question. It doesn&#39;t appear to have been proof read, it also doesn&#39;t have any attempt at solving the problem.","body":"Answering your own questions is ok, but this just isn&#39;t a good question. It doesn&#39;t appear to have been proof read, it also doesn&#39;t have any attempt at solving the problem."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1701772820,"post_id":77605096,"comment_id":136814377,"body_markdown":"`String string = &quot;ABC XYZ 20 30 40&quot;; String text = string.replaceAll(&quot;\\\\d+ ?&quot;, &quot;&quot;).trim(); int[] numbers = java.util.stream.Stream.of(string.replaceAll(&quot;\\\\D&quot;, &quot; &quot;).trim().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray(); double average = 0.0d; for (Integer i : numbers) { average += i; } average = average / (double)numbers.length;  System.out.printf(text + &quot; = %.2f&quot;, average);`","body":"<code>String string = &quot;ABC XYZ 20 30 40&quot;; String text = string.replaceAll(&quot;\\\\d+ ?&quot;, &quot;&quot;).trim(); int[] numbers = java.util.stream.Stream.of(string.replaceAll(&quot;\\\\D&quot;, &quot; &quot;).trim().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray&zwnj;&#8203;(); double average = 0.0d; for (Integer i : numbers) { average += i; } average = average &#47; (double)numbers.length;  System.out.printf(text + &quot; = %.2f&quot;, average);</code>"}],"answers":[{"tags":[],"owner":{"account_id":29646685,"reputation":1,"user_id":22721542,"display_name":"Ishaq"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1701768785,"creation_date":1701768785,"answer_id":77605107,"question_id":77605096,"body_markdown":"We can achieve above through below program.\r\n\r\npackage practise;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class stringArrayWithTexNumb {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString[] input = {&quot;ABC xyz 40 30 20&quot;,&quot;DEF 10 11 12&quot;};\r\n\t\taverageMarks(input);\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static boolean isNumeric(String str) {\r\n\t\t  return str.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);  //match a number with optional &#39;-&#39; and decimal.\r\n\t\t}\r\n\t\r\n\tpublic static void averageMarks(String[] request) {\r\n\t\t\r\n\t\tString[] result=null;\r\n\t\tMap&lt;String,String&gt; splittedArray = new HashMap&lt;&gt;();\r\n\t\tString[] abc;\r\n\t\tint cnt  = 0;\r\n\t\tint sum = 0;\r\n\t\tint avg = 0;\r\n\t\tMap&lt;String,Integer&gt; avgValue = new HashMap&lt;&gt;();\r\n\t\tStringBuffer objAlpha;\r\n\t\tfor( String s : request)\r\n\t\t{\r\n\t\t\tobjAlpha= new StringBuffer();\r\n\t\t\tabc = s.split(&quot; &quot;);\r\n\t\t\tfor(String obj: abc) {\r\n             \r\n\t\t\t\t\r\n             if(isNumeric(obj)) {\r\n            \t sum = Integer.parseInt(obj) +sum;\r\n            \t cnt = cnt+1;\r\n             }else {\r\n            \tobjAlpha.append(obj); \r\n            \tobjAlpha.append(&quot; &quot;);\r\n             }\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tavg = sum/cnt;\r\n\t\t\tavgValue.put(objAlpha.toString(), avg);\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot;hello&quot;+avgValue);\r\n\t\t\r\n\t}\r\n\r\n}\r\n","title":"How to split a string array and print string and numbers","body":"<p>We can achieve above through below program.</p>\n<p>package practise;</p>\n<p>import java.util.HashMap;\nimport java.util.Map;</p>\n<p>public class stringArrayWithTexNumb {</p>\n<pre><code>public static void main(String[] args) {\n    \n    String[] input = {&quot;ABC xyz 40 30 20&quot;,&quot;DEF 10 11 12&quot;};\n    averageMarks(input);\n    \n\n    \n}\n\npublic static boolean isNumeric(String str) {\n      return str.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);  //match a number with optional '-' and decimal.\n    }\n\npublic static void averageMarks(String[] request) {\n    \n    String[] result=null;\n    Map&lt;String,String&gt; splittedArray = new HashMap&lt;&gt;();\n    String[] abc;\n    int cnt  = 0;\n    int sum = 0;\n    int avg = 0;\n    Map&lt;String,Integer&gt; avgValue = new HashMap&lt;&gt;();\n    StringBuffer objAlpha;\n    for( String s : request)\n    {\n        objAlpha= new StringBuffer();\n        abc = s.split(&quot; &quot;);\n        for(String obj: abc) {\n         \n            \n         if(isNumeric(obj)) {\n             sum = Integer.parseInt(obj) +sum;\n             cnt = cnt+1;\n         }else {\n            objAlpha.append(obj); \n            objAlpha.append(&quot; &quot;);\n         }\n        \n        \n        }\n        avg = sum/cnt;\n        avgValue.put(objAlpha.toString(), avg);\n        \n    }\n    System.out.println(&quot;hello&quot;+avgValue);\n    \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29646685,"reputation":1,"user_id":22721542,"display_name":"Ishaq"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701769810,"accepted_answer_id":77605107,"answer_count":1,"score":-4,"last_activity_date":1702190237,"creation_date":1701768730,"question_id":77605096,"body_markdown":"Given a String array with student name and their marks in subjects Maths , Science and Social  as {&quot;Xavier Telly 20 30 40&quot;, &quot;Leban JOHN 40 70 90&quot;}\r\nWrite an algorithm to print &#160;Student Name and average of marks.\r\nFor example above problem output should be {Xavier Telly 45, Leban JOHN 66}\r\n","title":"How to split a string array and print string and numbers","body":"<p>Given a String array with student name and their marks in subjects Maths , Science and Social  as {&quot;Xavier Telly 20 30 40&quot;, &quot;Leban JOHN 40 70 90&quot;}\nWrite an algorithm to print  Student Name and average of marks.\nFor example above problem output should be {Xavier Telly 45, Leban JOHN 66}</p>\n"},{"tags":["java","linux","flutter","ubuntu"],"comments":[{"owner":{"account_id":11062239,"reputation":626,"user_id":8123050,"display_name":"Anjaan"},"score":0,"creation_date":1694143311,"post_id":76882205,"comment_id":135855530,"body_markdown":"Did you find a working solution for this problem? I am facing the same issue now.","body":"Did you find a working solution for this problem? I am facing the same issue now."}],"answers":[{"tags":[],"owner":{"account_id":29220745,"reputation":11,"user_id":22386510,"display_name":"gparo7"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691997322,"creation_date":1691997322,"answer_id":76896961,"question_id":76882205,"body_markdown":"I had the exact same problem but on Windows.\r\nI solved it by completely uninstalling JDK, which searching on internet turned out to be a possible problem, and installing the latest version (20).","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>I had the exact same problem but on Windows.\nI solved it by completely uninstalling JDK, which searching on internet turned out to be a possible problem, and installing the latest version (20).</p>\n"},{"tags":[],"owner":{"account_id":17552675,"reputation":21,"user_id":12732786,"display_name":"enssilva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692281522,"creation_date":1692281522,"answer_id":76922350,"question_id":76882205,"body_markdown":"I had the same problem and fix it by removing the version installed (openjdk-11-jre and openjdk-11-jdk) and installing the newest one (openjdk-19-jre and openjdk-19-jdk).","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>I had the same problem and fix it by removing the version installed (openjdk-11-jre and openjdk-11-jdk) and installing the newest one (openjdk-19-jre and openjdk-19-jdk).</p>\n"},{"tags":[],"owner":{"account_id":3708392,"reputation":759,"user_id":3086325,"accept_rate":56,"display_name":"Charis The Programmer"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1692355102,"creation_date":1692355102,"answer_id":76928561,"question_id":76882205,"body_markdown":"I was able to resolve this issue on Windows 10 with these steps\r\n\r\n[![Install Android SDK Command-line Tools 8.0][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mppWQ.jpg\r\n\r\n 1. Using the Android Studio SDK manager, install Android SDK Command-line Tools 8.0. You may need to toggle the checkboxes highlighted in green to see the older versions like 8.0.\r\n 2. Using windows explorer, navigate to the `Sdk/cmdline-tools` folder. On my system it&#39;s located at `C:\\Users\\&lt;USER_NAME&gt;\\AppData\\Local\\Android\\Sdk\\cmdline-tools`.\r\n 3. Rename the `8.0` folder to `latest`\r\n 4. Run `flutter doctor --android-licenses`.","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>I was able to resolve this issue on Windows 10 with these steps</p>\n<p><a href=\"https://i.stack.imgur.com/mppWQ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mppWQ.jpg\" alt=\"Install Android SDK Command-line Tools 8.0\" /></a></p>\n<ol>\n<li>Using the Android Studio SDK manager, install Android SDK Command-line Tools 8.0. You may need to toggle the checkboxes highlighted in green to see the older versions like 8.0.</li>\n<li>Using windows explorer, navigate to the <code>Sdk/cmdline-tools</code> folder. On my system it's located at <code>C:\\Users\\&lt;USER_NAME&gt;\\AppData\\Local\\Android\\Sdk\\cmdline-tools</code>.</li>\n<li>Rename the <code>8.0</code> folder to <code>latest</code></li>\n<li>Run <code>flutter doctor --android-licenses</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21861506,"reputation":71,"user_id":16152255,"display_name":"Chamudi Abeysinghe"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1693992376,"creation_date":1693929504,"answer_id":77046020,"question_id":76882205,"body_markdown":"Try this (for Mac)...\r\n\r\n- Check Android SDK command-line Tools (latest)\r\n- Check Android SDK command-line Tools 8.0\r\n- Click Apply\r\n- In Mac, go to `/Users/Library/Android/sdk/cmdline-tools` and rename the `8.0` folder to `latest`.\r\n- Run Flutter doctor again.","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>Try this (for Mac)...</p>\n<ul>\n<li>Check Android SDK command-line Tools (latest)</li>\n<li>Check Android SDK command-line Tools 8.0</li>\n<li>Click Apply</li>\n<li>In Mac, go to <code>/Users/Library/Android/sdk/cmdline-tools</code> and rename the <code>8.0</code> folder to <code>latest</code>.</li>\n<li>Run Flutter doctor again.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24419286,"reputation":119,"user_id":18345780,"display_name":"Taher Salah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697274099,"creation_date":1697274099,"answer_id":77292211,"question_id":76882205,"body_markdown":"Try This (For Windows) ...\r\n\r\n - Uncheck Android SDK command-line Tools (latest)\r\n - Check Android SDK command-line Tools 8.0\r\n - Click Apply\r\n - In Windows, go to\r\n   “C:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk\\cmdline-tools” and\r\n   rename the 8.0 folder to “latest”\r\n\r\nRun Flutter doctor again.","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>Try This (For Windows) ...</p>\n<ul>\n<li>Uncheck Android SDK command-line Tools (latest)</li>\n<li>Check Android SDK command-line Tools 8.0</li>\n<li>Click Apply</li>\n<li>In Windows, go to\n“C:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk\\cmdline-tools” and\nrename the 8.0 folder to “latest”</li>\n</ul>\n<p>Run Flutter doctor again.</p>\n"},{"tags":[],"owner":{"account_id":3818334,"reputation":1282,"user_id":3167086,"accept_rate":38,"display_name":"karma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699660755,"creation_date":1699660755,"answer_id":77463393,"question_id":76882205,"body_markdown":"Apart from installing android sdk command line tool, I also have to upgrade my android studio to the latest to fix it.","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>Apart from installing android sdk command line tool, I also have to upgrade my android studio to the latest to fix it.</p>\n"},{"tags":[],"owner":{"account_id":17684986,"reputation":383,"user_id":12838070,"display_name":"LeulAria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702190209,"creation_date":1702190209,"answer_id":77633897,"question_id":76882205,"body_markdown":"flutter config --android-studio-dir &#39;&#39;","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>flutter config --android-studio-dir ''</p>\n"}],"owner":{"account_id":29203863,"reputation":171,"user_id":22373380,"display_name":"Bhav Khurana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20550,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1702190209,"creation_date":1691745580,"question_id":76882205,"body_markdown":"I am trying to set up flutter with VS Code in Ubuntu. I have followed the installation guide and have installed the latest cmdline tools as required by the flutter doctor.\r\n\r\nNow this is the output I get on running flutter doctor again\r\n\r\n``` [!] Android toolchain - develop for Android devices (Android SDK version 29.0.3)\r\n    ✗ Android license status unknown.\r\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\r\n      See https://flutter.dev/docs/get-started/install/linux#android-setup for more details. \r\n```\r\n\r\nOn running ```flutter doctor --android-licenses``` I get the following error\r\n\r\n```Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli\r\njava.lang.UnsupportedClassVersionError: \r\ncom/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled \r\nby a more recent version of the Java Runtime (class file version 61.0), \r\nthis version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\n\r\n\r\n\r\nI tried upgrading to Java 17 using ```sudo apt install openjdk-17-jdk``` and set up the environment variables but the problem still persists.","title":"Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli","body":"<p>I am trying to set up flutter with VS Code in Ubuntu. I have followed the installation guide and have installed the latest cmdline tools as required by the flutter doctor.</p>\n<p>Now this is the output I get on running flutter doctor again</p>\n<pre><code>    ✗ Android license status unknown.\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\n      See https://flutter.dev/docs/get-started/install/linux#android-setup for more details. \n</code></pre>\n<p>On running <code>flutter doctor --android-licenses</code> I get the following error</p>\n<pre><code>java.lang.UnsupportedClassVersionError: \ncom/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled \nby a more recent version of the Java Runtime (class file version 61.0), \nthis version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>I tried upgrading to Java 17 using <code>sudo apt install openjdk-17-jdk</code> and set up the environment variables but the problem still persists.</p>\n"},{"tags":["java","jna","jnaerator"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702188131,"creation_date":1702186684,"answer_id":77633788,"question_id":77601455,"body_markdown":"JNA does not automatically read the values at `Structure.ByReference` pointers, as there is a possibility that they may be null.\r\n\r\nYou may be able to solve the problem by explicitly reading your `MyLoadFile` structure after your method call.\r\n```java\r\nMyLibrary.LoadFile(fName, file, 0);\r\nfile.read();\r\n// file.src should now be populated\r\n```\r\n\r\nAnother solution here is to map `src` as a `Pointer`:\r\n```java\r\n@FieldOrder ({ &quot;src&quot; })\r\npublic class MyLoadFile extends Structure {\r\n  public Pointer src;\r\n}\r\n```\r\nThen after calling `LoadFile()` use that pointer to instantiate the nested structure with its constructor taking a pointer argument:\r\n\r\n```java\r\nMyLibrary.LoadFile(fName, file, 0);\r\nSrc src = new Src(file.src);\r\n```\r\nYou may need to do something similar to access the nested `Msg.ByReference` structure.","title":"Сan&#39;t get data from native, using the ByReference to the structure","body":"<p>JNA does not automatically read the values at <code>Structure.ByReference</code> pointers, as there is a possibility that they may be null.</p>\n<p>You may be able to solve the problem by explicitly reading your <code>MyLoadFile</code> structure after your method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyLibrary.LoadFile(fName, file, 0);\nfile.read();\n// file.src should now be populated\n</code></pre>\n<p>Another solution here is to map <code>src</code> as a <code>Pointer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldOrder ({ &quot;src&quot; })\npublic class MyLoadFile extends Structure {\n  public Pointer src;\n}\n</code></pre>\n<p>Then after calling <code>LoadFile()</code> use that pointer to instantiate the nested structure with its constructor taking a pointer argument:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyLibrary.LoadFile(fName, file, 0);\nSrc src = new Src(file.src);\n</code></pre>\n<p>You may need to do something similar to access the nested <code>Msg.ByReference</code> structure.</p>\n"}],"owner":{"account_id":16055655,"reputation":17,"user_id":11588133,"display_name":"Andrey Vladimirovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702188131,"creation_date":1701711193,"question_id":77601455,"body_markdown":"I&#39;m a complete beginner at JNA\r\n\r\nI am passing an empty structure to the function, which consists of structures nested in it.  After calling the function, I expect the fields to be filled in, but the internal structure is always null\r\n\r\nThe native method looks like this:\r\n\r\n    SDK_API int LoadFile (char *fname, struct MyLoadFile *logfile, int reset);\r\n\r\nThe structure looks like this:\r\n\r\n    struct MyLoadFile {\t\r\n\t  struct Src *src\r\n    };\r\n\r\n    struct Src  {\r\n    \tchar *FileId;\t\t\t\t\r\n\t    unsigned long Version[4];\t\r\n\t    struct Msg *Messages;\r\n\t    struct Src   *next;\r\n    };\r\n\r\n\r\nMy JNA function looks like this:\r\n\r\n    int LoadFile(ByteBuffer fname, MyLoadFile logfile, int reset);\r\n\r\nI tried calling the function:\r\n\r\n        MyLoadFile  file = new MyLoadFile ();\r\n        byte[] bytes = &quot;D:/test/file&quot;.getBytes(StandardCharsets.US_ASCII);//Windows OS\r\n        ByteBuffer fName = ByteBuffer.allocateDirect(bytes.length);\r\n        fName.put(bytes);\r\n        fName.flip();\r\n        System.out.println(&quot;Ret code: &quot; + MyLibrary.LoadFile(fName, file, 0));\r\n        **//file.src == null**\r\n\r\n\r\nFrom the c++ code, I call the method as follows (and it works):\r\n\r\n    struct MyLoadFile logfile;\r\n    LoadFile (&quot;D:/test/file&quot;, &amp;logfile, true)\r\n\r\nThe structure classes are generated by JNAerator and look like this:\r\n\r\n    public class MyLoadFile extends Structure {\r\n\t  public Src.ByReference src;\r\n\t  public MyLoadFile() {\r\n\t\tsuper();\r\n\t  }\r\n\t  protected List&lt;String &gt; getFieldOrder() {\r\n\t\treturn Arrays.asList(&quot;src&quot;);\r\n\t  }\r\n\r\n\t  public MyLoadFile(Src.ByReference src) {\r\n\t\tsuper();\r\n\t\tthis.src= src;\r\n\t  }\r\n\t  public MyLoadFile(Pointer peer) {\r\n\t\tsuper(peer);\r\n        read();\r\n\t  }\r\n\t  public static class ByReference extends MyLoadFile implements Structure.ByReference {}\r\n   \t  public static class ByValue extends MyLoadFile implements Structure.ByValue { }\r\n     }\r\n\r\n    public class Src extends Structure {\r\n     \tpublic Pointer FileId;\r\n    \tpublic NativeLong[] Version = new NativeLong[4];\r\n\t    public Msg.ByReference Messages;\r\n\t    public ByReference next;\r\n\r\n\t    public Src() {\r\n\t\t  super();\r\n\t    }\r\n\r\n\t    protected List&lt;String &gt; getFieldOrder() {\r\n\t\t  return Arrays.asList(&quot;FileId&quot;, &quot;Version&quot;, &quot;Messages&quot;, &quot;next&quot;);\r\n\t    }\r\n\r\n\t    public Src(Pointer FileId, NativeLong Version[], Msg.ByReference Messages, \r\n          ByReference next) {\r\n\t\t   super();\r\n\t\t   this.FileId = FileId;\r\n\t\t   if ((Version.length != this.Version.length))\r\n\t\t\t   throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\r\n\t\t   this.Version = Version;\r\n\t\t   this.Messages = Messages;\r\n\t\t   this.next = next;\r\n\t    }\r\n\r\n\t    public Src(Pointer peer) {\r\n\t\t   super(peer);\r\n           read();\r\n\t    }\r\n\r\n\t    public static class ByReference extends Src implements Structure.ByReference {}\r\n\t    public static class ByValue extends Src implements Structure.ByValue {}\r\n      }","title":"Сan&#39;t get data from native, using the ByReference to the structure","body":"<p>I'm a complete beginner at JNA</p>\n<p>I am passing an empty structure to the function, which consists of structures nested in it.  After calling the function, I expect the fields to be filled in, but the internal structure is always null</p>\n<p>The native method looks like this:</p>\n<pre><code>SDK_API int LoadFile (char *fname, struct MyLoadFile *logfile, int reset);\n</code></pre>\n<p>The structure looks like this:</p>\n<pre><code>struct MyLoadFile { \n  struct Src *src\n};\n\nstruct Src  {\n    char *FileId;               \n    unsigned long Version[4];   \n    struct Msg *Messages;\n    struct Src   *next;\n};\n</code></pre>\n<p>My JNA function looks like this:</p>\n<pre><code>int LoadFile(ByteBuffer fname, MyLoadFile logfile, int reset);\n</code></pre>\n<p>I tried calling the function:</p>\n<pre><code>    MyLoadFile  file = new MyLoadFile ();\n    byte[] bytes = &quot;D:/test/file&quot;.getBytes(StandardCharsets.US_ASCII);//Windows OS\n    ByteBuffer fName = ByteBuffer.allocateDirect(bytes.length);\n    fName.put(bytes);\n    fName.flip();\n    System.out.println(&quot;Ret code: &quot; + MyLibrary.LoadFile(fName, file, 0));\n    **//file.src == null**\n</code></pre>\n<p>From the c++ code, I call the method as follows (and it works):</p>\n<pre><code>struct MyLoadFile logfile;\nLoadFile (&quot;D:/test/file&quot;, &amp;logfile, true)\n</code></pre>\n<p>The structure classes are generated by JNAerator and look like this:</p>\n<pre><code>public class MyLoadFile extends Structure {\n  public Src.ByReference src;\n  public MyLoadFile() {\n    super();\n  }\n  protected List&lt;String &gt; getFieldOrder() {\n    return Arrays.asList(&quot;src&quot;);\n  }\n\n  public MyLoadFile(Src.ByReference src) {\n    super();\n    this.src= src;\n  }\n  public MyLoadFile(Pointer peer) {\n    super(peer);\n    read();\n  }\n  public static class ByReference extends MyLoadFile implements Structure.ByReference {}\n  public static class ByValue extends MyLoadFile implements Structure.ByValue { }\n }\n\npublic class Src extends Structure {\n    public Pointer FileId;\n    public NativeLong[] Version = new NativeLong[4];\n    public Msg.ByReference Messages;\n    public ByReference next;\n\n    public Src() {\n      super();\n    }\n\n    protected List&lt;String &gt; getFieldOrder() {\n      return Arrays.asList(&quot;FileId&quot;, &quot;Version&quot;, &quot;Messages&quot;, &quot;next&quot;);\n    }\n\n    public Src(Pointer FileId, NativeLong Version[], Msg.ByReference Messages, \n      ByReference next) {\n       super();\n       this.FileId = FileId;\n       if ((Version.length != this.Version.length))\n           throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\n       this.Version = Version;\n       this.Messages = Messages;\n       this.next = next;\n    }\n\n    public Src(Pointer peer) {\n       super(peer);\n       read();\n    }\n\n    public static class ByReference extends Src implements Structure.ByReference {}\n    public static class ByValue extends Src implements Structure.ByValue {}\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes","netflix-eureka","service-discovery"],"owner":{"account_id":1220593,"reputation":1281,"user_id":1187318,"accept_rate":76,"display_name":"NIVESH SENGAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702187833,"creation_date":1702113118,"question_id":77630730,"body_markdown":"We have a microservice eco-system with Spring Cloud API Gateway, Eureka Service Registry and Spring Config Server and other business flow Spring Boot microservices.\r\n\r\nAll of the services are containerized and running on on-prem servers with plain docker-host.\r\n\r\nWe want to migrate these services to Kubernetes from on-prem servers. \r\nWe have done some POC and tried to run one of the service to Kubernetes and we were successful after some changes now we can manually hit the endpoint and individually it is working fine. \r\n\r\nWe are using ngnix virtual server (Ingress) for external connection. For that we are using a DNS to consume outside network, then this virtual server routes the request to associated service which in turn reach to the service finally. So the pod doesn&#39;t know about the DNS at all. Now what do we need to do to inform Eureka Service Discovery to register the service with associated DNS, so even if multiple such instances are up in kubernetes cluster only single instance with DNS is registered.\r\n\r\nI know we don&#39;t need to have Eureka if we are using kubernetes as kubernetes itself has such capabilities. I just was to see if there are any options so that there is no interruption in the current setup while we slowly migrate everything on there on cluster. ","title":"Register Kubernetes ingress DNS hostname to Eureka instead of pod name","body":"<p>We have a microservice eco-system with Spring Cloud API Gateway, Eureka Service Registry and Spring Config Server and other business flow Spring Boot microservices.</p>\n<p>All of the services are containerized and running on on-prem servers with plain docker-host.</p>\n<p>We want to migrate these services to Kubernetes from on-prem servers.\nWe have done some POC and tried to run one of the service to Kubernetes and we were successful after some changes now we can manually hit the endpoint and individually it is working fine.</p>\n<p>We are using ngnix virtual server (Ingress) for external connection. For that we are using a DNS to consume outside network, then this virtual server routes the request to associated service which in turn reach to the service finally. So the pod doesn't know about the DNS at all. Now what do we need to do to inform Eureka Service Discovery to register the service with associated DNS, so even if multiple such instances are up in kubernetes cluster only single instance with DNS is registered.</p>\n<p>I know we don't need to have Eureka if we are using kubernetes as kubernetes itself has such capabilities. I just was to see if there are any options so that there is no interruption in the current setup while we slowly migrate everything on there on cluster.</p>\n"},{"tags":["java","javafx","collision"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1702186898,"post_id":77633766,"comment_id":136864886,"body_markdown":"Create an  [MCVE](https://meta.stackoverflow.com/a/367019/2423906).","body":"Create an  <a href=\"https://meta.stackoverflow.com/a/367019/2423906\">MCVE</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1702219102,"post_id":77633766,"comment_id":136867147,"body_markdown":"What node is the parent of each enemy?  What node is the parent of `playArea`?","body":"What node is the parent of each enemy?  What node is the parent of <code>playArea</code>?"}],"owner":{"account_id":28690496,"reputation":1,"user_id":21969835,"display_name":"Erjoy Constantine Robles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702185767,"creation_date":1702185767,"question_id":77633766,"body_markdown":"There are two primary issues, one would be that the code always detects that enemy characters are colliding almost all of the time on the x-axis. Another issue would be that on the code that I tried that doesn&#39;t collide all the time on the x-axis, the enemy movement doesn&#39;t follow the rules of being bounded within the play area.\r\n\r\n\r\n```\r\nprivate void randomMovement(Rectangle enemy) {\r\n\t\r\n\tdouble currX = enemy.getX();\r\n\tdouble currY = enemy.getY();\r\n\r\n\tdouble randX = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) *(this.playerComponent.returnX()&gt;enemy.getX() ? 2.5 : -2.5);\r\n\tdouble randY = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) * (this.playerComponent.returnY()&gt;enemy.getY() ? 2.5 : -2.5);\r\n\r\n\tdouble newX = enemy.getX() + randX;\r\n\tdouble newY = enemy.getY() + randY;\r\n\r\n\tenemy.setX(newX);\r\n\tenemy.setY(newY);\r\n\r\n\tdouble enemyMaxX = newX + enemy.getWidth();\r\n\tdouble enemyMaxY = newY + enemy.getHeight();\r\n\tdouble xmin = this.playArea.getX();\r\n\tdouble xmax = this.playArea.getX() + this.playArea.getWidth();\r\n\tdouble ymin = this.playArea.getY();\r\n\tdouble ymax = this.playArea.getY() + this.playArea.getHeight();\r\n\t\t\r\n    if(newX &lt; xmin) {\r\n\t\tenemy.setX(xmin);\r\n\t}\r\n\r\n\tif(enemyMaxX &gt; xmax) {\r\n\t\tenemy.setX(xmax-enemy.getWidth());\r\n\t}\r\n\r\n\tif(newY &lt; ymin) {\r\n\t\tenemy.setY(ymin);\r\n\t}\r\n\r\n\tif(enemyMaxY &gt; ymax) {\r\n\t\tenemy.setY(ymax-enemy.getHeight());\r\n\t}\r\n}\r\n```\r\n\r\nI have tried to see if there really is a collision all the time by decreasing the x positions of the enemy shapes on collision detection, and they all move to the left. Fixing this issue by separating the code as much as I can, I run into the original issue of the shapes not stopping for the right and bottom bounds.","title":"Randomly moving object on JavaFx does not stop for bounds","body":"<p>There are two primary issues, one would be that the code always detects that enemy characters are colliding almost all of the time on the x-axis. Another issue would be that on the code that I tried that doesn't collide all the time on the x-axis, the enemy movement doesn't follow the rules of being bounded within the play area.</p>\n<pre><code>private void randomMovement(Rectangle enemy) {\n    \n    double currX = enemy.getX();\n    double currY = enemy.getY();\n\n    double randX = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) *(this.playerComponent.returnX()&gt;enemy.getX() ? 2.5 : -2.5);\n    double randY = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) * (this.playerComponent.returnY()&gt;enemy.getY() ? 2.5 : -2.5);\n\n    double newX = enemy.getX() + randX;\n    double newY = enemy.getY() + randY;\n\n    enemy.setX(newX);\n    enemy.setY(newY);\n\n    double enemyMaxX = newX + enemy.getWidth();\n    double enemyMaxY = newY + enemy.getHeight();\n    double xmin = this.playArea.getX();\n    double xmax = this.playArea.getX() + this.playArea.getWidth();\n    double ymin = this.playArea.getY();\n    double ymax = this.playArea.getY() + this.playArea.getHeight();\n        \n    if(newX &lt; xmin) {\n        enemy.setX(xmin);\n    }\n\n    if(enemyMaxX &gt; xmax) {\n        enemy.setX(xmax-enemy.getWidth());\n    }\n\n    if(newY &lt; ymin) {\n        enemy.setY(ymin);\n    }\n\n    if(enemyMaxY &gt; ymax) {\n        enemy.setY(ymax-enemy.getHeight());\n    }\n}\n</code></pre>\n<p>I have tried to see if there really is a collision all the time by decreasing the x positions of the enemy shapes on collision detection, and they all move to the left. Fixing this issue by separating the code as much as I can, I run into the original issue of the shapes not stopping for the right and bottom bounds.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1702182163,"post_id":77633584,"comment_id":136864724,"body_markdown":"Stack Overflow permits questions about programming as well as programming tools, so this question appears to be legitimately on topic for this site. Hopefully, people stop voting to close. A more succinct way to put OP&#39;s question might be &quot;How can I generate a Netbeans .form file from existing code.&quot; I was never a big Netbeans user, so I can&#39;t help there, but hopefully, someone else can.","body":"Stack Overflow permits questions about programming as well as programming tools, so this question appears to be legitimately on topic for this site. Hopefully, people stop voting to close. A more succinct way to put OP&#39;s question might be &quot;How can I generate a Netbeans .form file from existing code.&quot; I was never a big Netbeans user, so I can&#39;t help there, but hopefully, someone else can."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702183511,"post_id":77633584,"comment_id":136864772,"body_markdown":"@MarsAtomic - If that is the question, it is a duplicate; see https://stackoverflow.com/questions/5709877, https://stackoverflow.com/questions/1643491, https://stackoverflow.com/questions/7203625 and so on.   And the answer to all of those is ... basically ... &quot;You can&#39;t do that&quot;.","body":"@MarsAtomic - If that is the question, it is a duplicate; see <a href=\"https://stackoverflow.com/questions/5709877\">stackoverflow.com/questions/5709877</a>, <a href=\"https://stackoverflow.com/questions/1643491\">stackoverflow.com/questions/1643491</a>, <a href=\"https://stackoverflow.com/questions/7203625\">stackoverflow.com/questions/7203625</a> and so on.   And the answer to all of those is ... basically ... &quot;You can&#39;t do that&quot;."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702190914,"post_id":77633584,"comment_id":136865082,"body_markdown":"@MarsAtomic I wholeheartedly agree.  Was half way through authoring an answer yesterday and it was downvoted and closed while I was writing my answer.  The author deleted the question (likely to save some reputation) and all of the very useful comments were lost.  I wish I had taken a screenshot, it was a fairly innocuous question about parsing the output of `top` from Java, but one which required a 3-step solution including `envp` as well as some flags to prevent `top` from running forever.   /rant https://www.reddit.com/r/ProgrammerHumor/comments/17zhjtt/waverobi7764isanewcontributor/","body":"@MarsAtomic I wholeheartedly agree.  Was half way through authoring an answer yesterday and it was downvoted and closed while I was writing my answer.  The author deleted the question (likely to save some reputation) and all of the very useful comments were lost.  I wish I had taken a screenshot, it was a fairly innocuous question about parsing the output of <code>top</code> from Java, but one which required a 3-step solution including <code>envp</code> as well as some flags to prevent <code>top</code> from running forever.   /rant <a href=\"https://www.reddit.com/r/ProgrammerHumor/comments/17zhjtt/waverobi7764isanewcontributor/\" rel=\"nofollow noreferrer\">reddit.com/r/ProgrammerHumor/comments/17zhjtt/&hellip;</a>"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702193212,"post_id":77633584,"comment_id":136865214,"body_markdown":"With regards to the OPs question, I did find some documentation of an old IntelliJ feature that could do GUI &quot;form snapshots&quot;, but when I looked for it in the software, it seems to be missing.   Related: https://superuser.com/q/708986/443147","body":"With regards to the OPs question, I did find some documentation of an old IntelliJ feature that could do GUI &quot;form snapshots&quot;, but when I looked for it in the software, it seems to be missing.   Related: <a href=\"https://superuser.com/q/708986/443147\">superuser.com/q/708986/443147</a>"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702203349,"post_id":77633584,"comment_id":136865886,"body_markdown":"@tresf - That&#39;s Intellij, not Netbeans.  And re your wasted effort ... you should wait until the OP fixes their question before investing time answering it.  Or look for a duplicate instead.  Finding likely duplicates for a poorly written or poorly researched question is possibly more helpful for everyone in the long run.","body":"@tresf - That&#39;s Intellij, not Netbeans.  And re your wasted effort ... you should wait until the OP fixes their question before investing time answering it.  Or look for a duplicate instead.  Finding likely duplicates for a poorly written or poorly researched question is possibly more helpful for everyone in the long run."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702249911,"post_id":77633584,"comment_id":136870130,"body_markdown":"@StephenC I&#39;m fully aware it&#39;s a different IDE.  All answers about this are &gt;10 years old.  If another IDE (still) provided a way to do this, it would be valuable information to those searching for a similar solution.  WRT the OP &quot;fixing&quot; the question, I&#39;m uncertain what more information can be provided.","body":"@StephenC I&#39;m fully aware it&#39;s a different IDE.  All answers about this are &gt;10 years old.  If another IDE (still) provided a way to do this, it would be valuable information to those searching for a similar solution.  WRT the OP &quot;fixing&quot; the question, I&#39;m uncertain what more information can be provided."}],"owner":{"account_id":30108561,"reputation":1,"user_id":23073694,"display_name":"Santiago Quesada Pierce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1702183845,"answer_count":0,"score":-4,"last_activity_date":1702183008,"creation_date":1702178437,"question_id":77633584,"body_markdown":"I use netbeans 18 and jdk 17\r\n\r\nI was working on a java proyect using javax swing and I saw that the lights in my room were kinda flickering so I tried to save before power went out but it went off as I was saving and now it says this when I try to go to the design tab https://imagizer.imageshack.com/img923/3503/TLFtLX.jpg\r\n\r\nIt still runs and has the design from before power went out but just can&#39;t open the design tab\r\n\r\nI&#39;ve tried reverting from history and managed to recover the code from an earlier version but I tried the same for the .form file but it didn&#39;t change anything and in every revert from history for .form it appears empty\r\n\r\nEdit: changed the title","title":"How can I generate a Netbeans .form file from existing code?","body":"<p>I use netbeans 18 and jdk 17</p>\n<p>I was working on a java proyect using javax swing and I saw that the lights in my room were kinda flickering so I tried to save before power went out but it went off as I was saving and now it says this when I try to go to the design tab <a href=\"https://imagizer.imageshack.com/img923/3503/TLFtLX.jpg\" rel=\"nofollow noreferrer\">https://imagizer.imageshack.com/img923/3503/TLFtLX.jpg</a></p>\n<p>It still runs and has the design from before power went out but just can't open the design tab</p>\n<p>I've tried reverting from history and managed to recover the code from an earlier version but I tried the same for the .form file but it didn't change anything and in every revert from history for .form it appears empty</p>\n<p>Edit: changed the title</p>\n"},{"tags":["javascript","java","jmeter","nashorn","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1571239918,"creation_date":1571239174,"answer_id":58416705,"question_id":58416070,"body_markdown":"Groovy is [encouraged][2] in JMeter&#39;s best practices\n\n&gt;We advise using Apache Groovy \n\n In new version [changes][1] there&#39;s a workaround for this warning:\n\n&gt;To silence these warnings, add -Dnashorn.args=--no-deprecation-warning to your Java arguments. That can be achieved by setting the enviroment variable JVM_ARGS\n&gt;\n&gt;     export JVM_ARGS=&quot;-Dnashorn.args=--no-deprecation-warning&quot;\n\n[1]:https://apache.github.io/jmeter-site-preview/site/changes.html\n\n[2]:https://jmeter.apache.org/usermanual/best-practices.html","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>Groovy is <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"noreferrer\">encouraged</a> in JMeter's best practices</p>\n<blockquote>\n<p>We advise using Apache Groovy</p>\n</blockquote>\n<p>In new version <a href=\"https://apache.github.io/jmeter-site-preview/site/changes.html\" rel=\"noreferrer\">changes</a> there's a workaround for this warning:</p>\n<blockquote>\n<p>To silence these warnings, add -Dnashorn.args=--no-deprecation-warning to your Java arguments. That can be achieved by setting the enviroment variable JVM_ARGS</p>\n<pre><code>export JVM_ARGS=&quot;-Dnashorn.args=--no-deprecation-warning&quot;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2305795,"reputation":21,"user_id":2025104,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646045301,"creation_date":1646045301,"answer_id":71293828,"question_id":58416070,"body_markdown":"You may also install Rhino, see note on https://jmeter.apache.org/changes.html#Known%20problems%20and%20workarounds","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>You may also install Rhino, see note on <a href=\"https://jmeter.apache.org/changes.html#Known%20problems%20and%20workarounds\" rel=\"nofollow noreferrer\">https://jmeter.apache.org/changes.html#Known%20problems%20and%20workarounds</a></p>\n"},{"tags":[],"owner":{"account_id":30108799,"reputation":1,"user_id":23073870,"display_name":"regice202"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702182474,"creation_date":1702182474,"answer_id":77633674,"question_id":58416070,"body_markdown":"Even better, you can use:\r\n```\r\nstatic{\r\n     System.setProperty(&quot;nashorn.args&quot;,&quot;--no-deprecation-warning&quot;);\r\n}\r\n```\r\nDo this &lt;b&gt;before&lt;/b&gt; you instantiate the ``ScriptEngineManager`` Object and you&#39;ll be set! No warnings and it&#39;s in your code instead of just your launch environment!","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>Even better, you can use:</p>\n<pre><code>static{\n     System.setProperty(&quot;nashorn.args&quot;,&quot;--no-deprecation-warning&quot;);\n}\n</code></pre>\n<p>Do this <b>before</b> you instantiate the <code>ScriptEngineManager</code> Object and you'll be set! No warnings and it's in your code instead of just your launch environment!</p>\n"}],"owner":{"account_id":7202279,"reputation":3472,"user_id":5499118,"accept_rate":8,"display_name":"Alex Martian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39218,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":58416705,"answer_count":3,"score":19,"last_activity_date":1702182474,"creation_date":1571237166,"question_id":58416070,"body_markdown":"When I run JMeter 5.1.1 recently downloaded, I see many times in `terminal window`:\r\n\r\n&gt; Warning: Nashorn engine is planned to be removed from a future JDK\r\n&gt; release\r\n\r\nI&#39;ve used web search and found [JEP 335: Deprecate the Nashorn JavaScript Engine](https://openjdk.java.net/jeps/335).\r\n\r\n&gt; Motivation \r\n\r\n&gt; The Nashorn JavaScript engine was first incorporated into\r\n&gt; JDK 8 via JEP 174 as a replacement for the Rhino scripting engine.\r\n&gt; When it was released, it was a complete implementation of the\r\n&gt; ECMAScript-262 5.1 standard.\r\n&gt; \r\n&gt; With the rapid pace at which ECMAScript language constructs, along\r\n&gt; with APIs, are adapted and modified, we have found Nashorn challenging\r\n&gt; to maintain.\r\n\r\nI expected to read that new engine is now in more use, but no, I could not find what will run `JavaScript` in replacement. What would happen with `JavaScript` in `JMeter`? It will not run and we use *encouraged* to use `Groovy`?\r\n\r\nBTW, how to remove that warning from terminal?\r\n\r\n","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>When I run JMeter 5.1.1 recently downloaded, I see many times in <code>terminal window</code>:</p>\n\n<blockquote>\n  <p>Warning: Nashorn engine is planned to be removed from a future JDK\n  release</p>\n</blockquote>\n\n<p>I've used web search and found <a href=\"https://openjdk.java.net/jeps/335\" rel=\"noreferrer\">JEP 335: Deprecate the Nashorn JavaScript Engine</a>.</p>\n\n<blockquote>\n  <p>Motivation </p>\n  \n  <p>The Nashorn JavaScript engine was first incorporated into\n  JDK 8 via JEP 174 as a replacement for the Rhino scripting engine.\n  When it was released, it was a complete implementation of the\n  ECMAScript-262 5.1 standard.</p>\n  \n  <p>With the rapid pace at which ECMAScript language constructs, along\n  with APIs, are adapted and modified, we have found Nashorn challenging\n  to maintain.</p>\n</blockquote>\n\n<p>I expected to read that new engine is now in more use, but no, I could not find what will run <code>JavaScript</code> in replacement. What would happen with <code>JavaScript</code> in <code>JMeter</code>? It will not run and we use <em>encouraged</em> to use <code>Groovy</code>?</p>\n\n<p>BTW, how to remove that warning from terminal?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9857,"page":2,"page_size":100}
