{"items":[{"tags":["java","postgresql","hibernate","orm","type-mapping"],"answers":[{"comments":[{"owner":{"account_id":6827447,"reputation":3243,"user_id":5252715,"accept_rate":47,"display_name":"malexanders"},"score":0,"creation_date":1702330319,"post_id":77642497,"comment_id":136880880,"body_markdown":"How do I do the type mapping in hibernate? That&#39;s the main issue. I haven&#39;t been able to figure that out.","body":"How do I do the type mapping in hibernate? That&#39;s the main issue. I haven&#39;t been able to figure that out."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1702336609,"post_id":77642497,"comment_id":136881591,"body_markdown":"`decimal precision` is not a valid PostgreSQL field type.  You need `NUMERIC` on the Postgres side and `BigDecimal` in Java.","body":"<code>decimal precision</code> is not a valid PostgreSQL field type.  You need <code>NUMERIC</code> on the Postgres side and <code>BigDecimal</code> in Java."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702330172,"creation_date":1702330172,"answer_id":77642497,"question_id":77642369,"body_markdown":"In PostgreSQL, `double precision` is a floating point number, where the concept of user-specified precision is meaningless.\r\n\r\nYou want the `NUMERIC` type instead, where you can store arbitrarily large numbers with specified precision.","title":"How do I support PostgresQL decimal precision type with Hibernate ORM hbm2java?","body":"<p>In PostgreSQL, <code>double precision</code> is a floating point number, where the concept of user-specified precision is meaningless.</p>\n<p>You want the <code>NUMERIC</code> type instead, where you can store arbitrarily large numbers with specified precision.</p>\n"}],"owner":{"account_id":6827447,"reputation":3243,"user_id":5252715,"accept_rate":47,"display_name":"malexanders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702330172,"creation_date":1702328518,"question_id":77642369,"body_markdown":"I want to generate entities for postgresql12 database using hbm2java and Hibernate version 6.4.0.Final. DB to hibernate type mapping does not work for `decimal precision` type fields out of the box. \r\n\r\nHow do I add support for the PostgresQL data type `decimal precision`?\r\n\r\nPostgresQL Database Table\r\n```\r\nCREATE TABLE schema_1.table_1 (\r\n    id integer NOT NULL,\r\n    field_1 double precision NOT NULL,    \r\n);\r\n```\r\n\r\nhibernate-tools:6.4.0.Final:hbm2java (entity-generation) Exception\r\n```\r\nINFO: Sql type mismatch for Table: schema_1.table_1 column: field_1 between DB and wanted hibernate type. Sql type set to 8(DOUBLE) instead of 6(FLOAT)\r\n\r\nscale has no meaning for floating point numbers\r\n```\r\n\r\n","title":"How do I support PostgresQL decimal precision type with Hibernate ORM hbm2java?","body":"<p>I want to generate entities for postgresql12 database using hbm2java and Hibernate version 6.4.0.Final. DB to hibernate type mapping does not work for <code>decimal precision</code> type fields out of the box.</p>\n<p>How do I add support for the PostgresQL data type <code>decimal precision</code>?</p>\n<p>PostgresQL Database Table</p>\n<pre><code>CREATE TABLE schema_1.table_1 (\n    id integer NOT NULL,\n    field_1 double precision NOT NULL,    \n);\n</code></pre>\n<p>hibernate-tools:6.4.0.Final:hbm2java (entity-generation) Exception</p>\n<pre><code>INFO: Sql type mismatch for Table: schema_1.table_1 column: field_1 between DB and wanted hibernate type. Sql type set to 8(DOUBLE) instead of 6(FLOAT)\n\nscale has no meaning for floating point numbers\n</code></pre>\n"},{"tags":["java","opengl","3d","rotation","game-physics"],"comments":[{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1702359474,"post_id":77642457,"comment_id":136883321,"body_markdown":"Does this answer your question? [Realistic simulation of sphere rotation on a floor](https://stackoverflow.com/questions/52798298/realistic-simulation-of-sphere-rotation-on-a-floor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52798298/realistic-simulation-of-sphere-rotation-on-a-floor\">Realistic simulation of sphere rotation on a floor</a>"}],"owner":{"account_id":30073785,"reputation":1,"user_id":23047137,"display_name":"Damon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702359474,"answer_count":0,"score":-1,"last_activity_date":1702329951,"creation_date":1702329565,"question_id":77642457,"body_markdown":"I&#39;m programming a little 3D game with a rolling ball on a flat surface.\r\nFor some reason I can&#39;t get the ball to rotate around the correct axis all the time.\r\nIt starts spinning around the wrong axes after a little movement in both directions.\r\n\r\nEvery frame I calculate the movement vector and using the crossproduct between that and the normalvector to get the rotation vector.\r\nI also calculate the amount the ball should rotate around that rotation vector every frame.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nglPushMatrix();\r\n   float[] normalVector = {0, 1, 0}; //stays the same\r\n   float[] movementVector = {previousx - currentx, 0, previousz - currentz};\r\n   float distanceMoved = Math.sqrt(movementVector[0]*movementVector[0] +\r\n                                   movementVector[1]*movementVector[1] +\r\n                                   movementVector[2]*movementVector[2]);\r\n   float amountToRotate = distanceMoved / (radius * 2 * (float)Math.PI) * 360;\r\n   float[] rotationVector = { //normalVektor X movementVektor\r\n \t\t normalVector[1]*movementVector[2] - normalVector[2]*movementVector[1], \r\n\t\t normalVector[2]*movementVector[0] - normalVector[0]*movementVector[2], \r\n\t\t normalVector[0]*movementVector[1] - normalVector[1]*movementVector[0]}; \r\n\t\t\t\t\r\n   glPushMatrix();\r\n      glLoadIdentity();\r\n      glMultMatrixf(r);\r\n      glRotatef(amountToRotate, -rotationVector[0], -rotationVector[1], -rotationVector[2]);\r\n      glGetFloatv(GL_MODELVIEW_MATRIX, r);\r\n   glPopMatrix();\r\n\r\n   glMultMatrixf(r);\r\n   glCallList(ball);\r\n\t\t\t\t\r\n   previousx = currentx;\r\n   previousz = currentz;\r\nglPopMatrix();\r\n```\r\n\r\nI should mention that &quot;r&quot; is a floatBuffer to save the rotations that already happened.\r\n\r\nI tried a lot of different methods of rotation and for some reason it doesn&#39;t work.\r\n\r\nI haven&#39;t tried quaternions yet since I have no idea how to use them and I am not allowed to use basically any libraries outside of opengl.","title":"OpenGL Rotation of a rolling Sphere","body":"<p>I'm programming a little 3D game with a rolling ball on a flat surface.\nFor some reason I can't get the ball to rotate around the correct axis all the time.\nIt starts spinning around the wrong axes after a little movement in both directions.</p>\n<p>Every frame I calculate the movement vector and using the crossproduct between that and the normalvector to get the rotation vector.\nI also calculate the amount the ball should rotate around that rotation vector every frame.</p>\n<p>Here's my code:</p>\n<pre><code>glPushMatrix();\n   float[] normalVector = {0, 1, 0}; //stays the same\n   float[] movementVector = {previousx - currentx, 0, previousz - currentz};\n   float distanceMoved = Math.sqrt(movementVector[0]*movementVector[0] +\n                                   movementVector[1]*movementVector[1] +\n                                   movementVector[2]*movementVector[2]);\n   float amountToRotate = distanceMoved / (radius * 2 * (float)Math.PI) * 360;\n   float[] rotationVector = { //normalVektor X movementVektor\n         normalVector[1]*movementVector[2] - normalVector[2]*movementVector[1], \n         normalVector[2]*movementVector[0] - normalVector[0]*movementVector[2], \n         normalVector[0]*movementVector[1] - normalVector[1]*movementVector[0]}; \n                \n   glPushMatrix();\n      glLoadIdentity();\n      glMultMatrixf(r);\n      glRotatef(amountToRotate, -rotationVector[0], -rotationVector[1], -rotationVector[2]);\n      glGetFloatv(GL_MODELVIEW_MATRIX, r);\n   glPopMatrix();\n\n   glMultMatrixf(r);\n   glCallList(ball);\n                \n   previousx = currentx;\n   previousz = currentz;\nglPopMatrix();\n</code></pre>\n<p>I should mention that &quot;r&quot; is a floatBuffer to save the rotations that already happened.</p>\n<p>I tried a lot of different methods of rotation and for some reason it doesn't work.</p>\n<p>I haven't tried quaternions yet since I have no idea how to use them and I am not allowed to use basically any libraries outside of opengl.</p>\n"},{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1644941509,"post_id":71129297,"comment_id":125735977,"body_markdown":"Out of curiosity: why do you need to limit the connections for java.net.http.HttpClient?","body":"Out of curiosity: why do you need to limit the connections for java.net.http.HttpClient?"},{"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"score":0,"creation_date":1644942302,"post_id":71129297,"comment_id":125736356,"body_markdown":"Because the HTTP server authorize only 10 connections max. So I want to be sure to execute only 10 request simultaneous and put next &quot;in a queue&quot;","body":"Because the HTTP server authorize only 10 connections max. So I want to be sure to execute only 10 request simultaneous and put next &quot;in a queue&quot;"},{"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"score":0,"creation_date":1644961830,"post_id":71129297,"comment_id":125743534,"body_markdown":"I wonder if I set an executor like new ThreadPoolExecutor(0, 10, 60, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;()); I have the warranty I don&#39;t exceed the connection limit (10).","body":"I wonder if I set an executor like new ThreadPoolExecutor(0, 10, 60, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;()); I have the warranty I don&#39;t exceed the connection limit (10)."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1644970496,"post_id":71129297,"comment_id":125745584,"body_markdown":"Maybe this SO thread can be of some help to you https://stackoverflow.com/questions/64302936/java-11-httpclient-what-is-optimum-ratio-of-httpclients-to-concurrent-httprequ .","body":"Maybe this SO thread can be of some help to you <a href=\"https://stackoverflow.com/questions/64302936/java-11-httpclient-what-is-optimum-ratio-of-httpclients-to-concurrent-httprequ\" title=\"java 11 httpclient what is optimum ratio of httpclients to concurrent httprequ\">stackoverflow.com/questions/64302936/&hellip;</a> ."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1644972527,"post_id":71129297,"comment_id":125745923,"body_markdown":"Use a bounded blocking queue when building the Executor, and a fixed size thread pool.","body":"Use a bounded blocking queue when building the Executor, and a fixed size thread pool."},{"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"score":0,"creation_date":1644988569,"post_id":71129297,"comment_id":125748404,"body_markdown":"I read the page @Maurice. An I read the code but I &#39;m not sure. I think if I have a thread pool executor with maximum 10 threads, I can have more than 10 connections because there is some compose on computable future used in sendAsync (but I don&#39;t know if exchange is atomic (connection/request/receipt response), I want to say in one thread.","body":"I read the page @Maurice. An I read the code but I &#39;m not sure. I think if I have a thread pool executor with maximum 10 threads, I can have more than 10 connections because there is some compose on computable future used in sendAsync (but I don&#39;t know if exchange is atomic (connection/request/receipt response), I want to say in one thread."}],"answers":[{"comments":[{"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"score":0,"creation_date":1645425760,"post_id":71157441,"comment_id":125858949,"body_markdown":"Thanks for your answer. It&#39;s clear. :)","body":"Thanks for your answer. It&#39;s clear. :)"}],"tags":[],"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645097898,"creation_date":1645097898,"answer_id":71157441,"question_id":71129297,"body_markdown":"To limit the number of concurrent requests made through the HttpClient you will have to do so at the application level. The HttpClient is purely asynchronous so limiting the number of threads in the HttpClient executor will not work. Similarly, limiting the number of connections in the keep-alive pool will not work, since the pool contains only *idle* connections.\r\n\r\nIt should be very easy to limit the number of concurrent requests at the application level by guarding the code that sends requests with a simple semaphore (see [java.util.concurrent.Semaphore][1]). To limit the number of concurrent requests to e.g. 10 requests, just create a semaphore with 10 permits, acquire the semaphore before sending a request and release it when the response has arrived.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html","title":"How to limit connections for java.net.http.HttpClient","body":"<p>To limit the number of concurrent requests made through the HttpClient you will have to do so at the application level. The HttpClient is purely asynchronous so limiting the number of threads in the HttpClient executor will not work. Similarly, limiting the number of connections in the keep-alive pool will not work, since the pool contains only <em>idle</em> connections.</p>\n<p>It should be very easy to limit the number of concurrent requests at the application level by guarding the code that sends requests with a simple semaphore (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"noreferrer\">java.util.concurrent.Semaphore</a>). To limit the number of concurrent requests to e.g. 10 requests, just create a semaphore with 10 permits, acquire the semaphore before sending a request and release it when the response has arrived.</p>\n"},{"tags":[],"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702329744,"creation_date":1702329744,"answer_id":77642472,"question_id":71129297,"body_markdown":"The HTTP/1.1 connection pool size is controlled by the jdk.httpclient.connectionPoolSize system property. If unset it defaults to unlimited connections.","title":"How to limit connections for java.net.http.HttpClient","body":"<p>The HTTP/1.1 connection pool size is controlled by the jdk.httpclient.connectionPoolSize system property. If unset it defaults to unlimited connections.</p>\n"}],"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1906,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71157441,"answer_count":2,"score":4,"last_activity_date":1702329744,"creation_date":1644939795,"question_id":71129297,"body_markdown":"How to limit the number of connection/request for java.net.http.HttpClient?\r\n\r\nI see I can set an Executor to HttpClient but I don&#39;t know: if I limit the number of thread in pool of Executor, is it limit also the number of connection?\r\n\r\nAnother way to limit the number of connection?\r\n","title":"How to limit connections for java.net.http.HttpClient","body":"<p>How to limit the number of connection/request for java.net.http.HttpClient?</p>\n<p>I see I can set an Executor to HttpClient but I don't know: if I limit the number of thread in pool of Executor, is it limit also the number of connection?</p>\n<p>Another way to limit the number of connection?</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702313473,"creation_date":1702313473,"answer_id":77641150,"question_id":77640943,"body_markdown":"The query looks incorrect. \r\nAfter the word `LIMIT` there should be a number. \r\nAnd if you don&#39;t need a limit, remove the word `LIMIT`. ","title":"How can I get this to return the last lines in a SQLite db controlled by how many players played the game?","body":"<p>The query looks incorrect.\nAfter the word <code>LIMIT</code> there should be a number.\nAnd if you don't need a limit, remove the word <code>LIMIT</code>.</p>\n"}],"owner":{"account_id":29965783,"reputation":9,"user_id":22964394,"display_name":"Owen B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702329308,"creation_date":1702311625,"question_id":77640943,"body_markdown":"Im trying to get this code to return the scores and names of each player in an SQLite database depending on the amount of players in the game so if there&#39;s 4 return the last 4 rows and if there&#39;s 2 return the last 2.\r\n\r\n\r\n```\r\npackage dev.owen.a22006760;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\npublic class GameComplete extends AppCompatActivity {\r\n\r\n    DBHandler dbHandler;\r\n    GameMaker get = new GameMaker();\r\n    int PlayerCount = GameMaker.GetPlayers();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game_complete);\r\n\r\n        dbHandler = new DBHandler(this);\r\n        SQLiteDatabase db = dbHandler.getReadableDatabase();\r\n\r\n\r\n        // Define your table and column names from DBHandler\r\n        String tableName = DBHandler.tableName;\r\n        String columnName = DBHandler.DBName;\r\n        String columnScore = DBHandler.DBTotal;\r\n\r\n        // Query the last 4 rows\r\n        String query = &quot;SELECT &quot; + DBHandler.DBId + &quot;, &quot; + columnName + &quot;, &quot; + columnScore + &quot; FROM &quot; + tableName +\r\n                &quot; ORDER BY &quot; + DBHandler.DBId + &quot; DESC LIMIT &quot; + PlayerCount ;\r\n\r\n        Cursor cursor = db.rawQuery(query, null);\r\n\r\n        // Process the results\r\n        StringBuilder resultString = new StringBuilder();\r\n        while (cursor.moveToNext()) {\r\n            int id = cursor.getInt(cursor.getColumnIndex(DBHandler.DBId));\r\n            String name = cursor.getString(cursor.getColumnIndex(columnName));\r\n            String score = cursor.getString(cursor.getColumnIndex(columnScore));\r\n\r\n            resultString.append(&quot;ID: &quot;).append(id).append(&quot;, Name: &quot;).append(name)\r\n                    .append(&quot;, Score: &quot;).append(score).append(&quot;\\n&quot;);\r\n        }\r\n\r\n        // Close the cursor and database\r\n        cursor.close();\r\n        db.close();\r\n\r\n        // Use the resultString as needed\r\n        String finalResult = resultString.toString();\r\n\r\n        TextView Results = findViewById(R.id.ResultsLab);\r\n        Results.setText(finalResult);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my current code for doing so, but the cursor keeps pointing to -1 and I don&#39;t know how to fix it, this is the layout of my code for fetching the amount.\r\n\r\nThis is the layout of the Database\r\n[![Database][1]][1]\r\n\r\n\r\n\r\nI want the code to output the total scores and name of the last lets say 4 players in the database. so..\r\n\r\n4\tPlayer 4. 21\t\r\n5\tPlayer 1. 15\t\r\n6\tPlayer 2. 20\t\r\n7\tPlayer 3. 19\t\r\n8\tPlayer 1. 11\t\r\n\r\n(Without the indexes on the side)\r\n\r\nI&#39;m trying to put this into a string which can then be put in a TextView on Android Studio. Without the \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nCFpX.png","title":"How can I get this to return the last lines in a SQLite db controlled by how many players played the game?","body":"<p>Im trying to get this code to return the scores and names of each player in an SQLite database depending on the amount of players in the game so if there's 4 return the last 4 rows and if there's 2 return the last 2.</p>\n<pre><code>package dev.owen.a22006760;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class GameComplete extends AppCompatActivity {\n\n    DBHandler dbHandler;\n    GameMaker get = new GameMaker();\n    int PlayerCount = GameMaker.GetPlayers();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game_complete);\n\n        dbHandler = new DBHandler(this);\n        SQLiteDatabase db = dbHandler.getReadableDatabase();\n\n\n        // Define your table and column names from DBHandler\n        String tableName = DBHandler.tableName;\n        String columnName = DBHandler.DBName;\n        String columnScore = DBHandler.DBTotal;\n\n        // Query the last 4 rows\n        String query = &quot;SELECT &quot; + DBHandler.DBId + &quot;, &quot; + columnName + &quot;, &quot; + columnScore + &quot; FROM &quot; + tableName +\n                &quot; ORDER BY &quot; + DBHandler.DBId + &quot; DESC LIMIT &quot; + PlayerCount ;\n\n        Cursor cursor = db.rawQuery(query, null);\n\n        // Process the results\n        StringBuilder resultString = new StringBuilder();\n        while (cursor.moveToNext()) {\n            int id = cursor.getInt(cursor.getColumnIndex(DBHandler.DBId));\n            String name = cursor.getString(cursor.getColumnIndex(columnName));\n            String score = cursor.getString(cursor.getColumnIndex(columnScore));\n\n            resultString.append(&quot;ID: &quot;).append(id).append(&quot;, Name: &quot;).append(name)\n                    .append(&quot;, Score: &quot;).append(score).append(&quot;\\n&quot;);\n        }\n\n        // Close the cursor and database\n        cursor.close();\n        db.close();\n\n        // Use the resultString as needed\n        String finalResult = resultString.toString();\n\n        TextView Results = findViewById(R.id.ResultsLab);\n        Results.setText(finalResult);\n    }\n\n\n}\n\n</code></pre>\n<p>This is my current code for doing so, but the cursor keeps pointing to -1 and I don't know how to fix it, this is the layout of my code for fetching the amount.</p>\n<p>This is the layout of the Database\n<a href=\"https://i.stack.imgur.com/nCFpX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nCFpX.png\" alt=\"Database\" /></a></p>\n<p>I want the code to output the total scores and name of the last lets say 4 players in the database. so..</p>\n<p>4   Player 4. 21<br />\n5   Player 1. 15<br />\n6   Player 2. 20<br />\n7   Player 3. 19<br />\n8   Player 1. 11</p>\n<p>(Without the indexes on the side)</p>\n<p>I'm trying to put this into a string which can then be put in a TextView on Android Studio. Without the</p>\n"},{"tags":["java","spring","datatable","mssql-jdbc","spring-data-jdbc"],"owner":{"account_id":24823951,"reputation":1,"user_id":18703981,"display_name":"YATENDRA KUMAWAT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702330868,"answer_count":0,"score":-1,"last_activity_date":1702329041,"creation_date":1702329041,"question_id":77642408,"body_markdown":"I have a Student class with  following attributes same as mentioned and want I a extend solution of this Stackoverflow solution that what should the method in which it returns a datatable in which is automatically takes the Column name from the parameters passed in list and row data from the value against each parameters in list. \r\n\r\n[text](https://stackoverflow.com/questions/36575529/how-to-pass-table-valued-parameters-from-java-to-sql-server-stored-procedure)\r\n\r\n**If anyone have solution from which we can remove these harcoded part? **\r\n\r\nCurrently one is this :\r\n`\r\n\r\nSQLServerDataTable stuTypeDT = new SQLServerDataTable(); \r\n\r\nstuTypeDT.addColumnMetadata(&quot;StudentId&quot;, java.sql.Types.NUMERIC);\r\n\r\nstuTypeDT.addColumnMetadata(&quot;Name&quot;, java.sql.Types.VARCHAR);\r\n\r\nstuTypeDT.addColumnMetadata(&quot;Department&quot;, java.sql.Types.VARCHAR);\r\n\r\nstuTypeDT.addColumnMetadata(&quot;Address&quot;, java.sql.Types.VARCHAR);\r\n\r\nstuTypeDT.addRow(&quot;1&quot;,&quot;Tom&quot;, &quot;A&quot;, &quot;123 Street&quot;);\r\n\r\nstuTypeDT.addRow(&quot;2&quot;,&quot;Jery&quot;, &quot;B&quot;, &quot;456 Street&quot;);\r\n\r\nstuTypeDT.addRow(&quot;3&quot;,&quot;Mac&quot;, &quot;C&quot;, &quot;Vancour&quot;);\r\n\r\nString ececStoredProc = &quot;EXEC InsertStudentInfo ?&quot;;\r\n\r\nSQLServerPreparedStatement pStmt = (SQLServerPreparedStatement)connection.prepareStatement(ececStoredProc);\r\n\r\npStmt.setStructured(1, &quot;dbo.StudentInfoType&quot;, stuTypeDT);\r\n\r\npStmt.execute();`\r\n\r\n\r\nAnd I want to remove this harcoded part from this code and want to make it dynamic which takes name and data automatically using loop \r\n\r\n`\r\n\r\nstuTypeDT.addColumnMetadata(&quot;StudentId&quot;, java.sql.Types.NUMERIC);\r\n\r\nstuTypeDT.addColumnMetadata(&quot;Name&quot;, java.sql.Types.VARCHAR);\r\n\r\nstuTypeDT.addColumnMetadata(&quot;Department&quot;, java.sql.Types.VARCHAR);\r\n\r\nstuTypeDT.addColumnMetadata(&quot;Address&quot;, java.sql.Types.VARCHAR);\r\n\r\nstuTypeDT.addRow(&quot;1&quot;,&quot;Tom&quot;, &quot;A&quot;, &quot;123 Street&quot;);\r\n\r\nstuTypeDT.addRow(&quot;2&quot;,&quot;Jery&quot;, &quot;B&quot;, &quot;456 Street&quot;);\r\n\r\nstuTypeDT.addRow(&quot;3&quot;,&quot;Mac&quot;, &quot;C&quot;, &quot;Vancour&quot;);`\r\n\r\nI have write this code but it is not working \r\n\r\n`\r\n\r\npublic static SQLServerDataTable createDataTable(Object inputObject) {\r\n\r\n    try {\r\n\r\n        SQLServerDataTable dataTable = new SQLServerDataTable();\r\n\r\n        Object obj1 = inputObject.getClass();\r\n\r\n        Object obj = java.beans.Introspector.getBeanInfo(inputObject.getClass()).getPropertyDescriptors();\r\n\r\n        for (PropertyDescriptor propertyDescriptor : java.beans.Introspector.getBeanInfo(inputObject.getClass()).getPropertyDescriptors()) {\r\n\r\n            String propertyName = propertyDescriptor.getName();\r\n\r\n            // Exclude &quot;class&quot; property\r\n\r\n            if (!propertyName.equals(&quot;class&quot;)) {\r\n\r\n                // Adding column metadata\r\n\r\n                dataTable.addColumnMetadata(propertyName, java.sql.Types.OTHER); // Adjust the type as needed\r\n\r\n                // Getting property value using the getter method\r\n\r\n                Object propertyValue = propertyDescriptor.getReadMethod().invoke(inputObject);\r\n\r\n                // Adding row to the DataTable\r\n\r\n                dataTable.addRow(propertyValue);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return dataTable;\r\n\r\n    } catch (Exception e) {\r\n\r\n        throw new RuntimeException(e);\r\n\r\n    }\r\n\r\n} `","title":"Creation of dynamic method which picks the Column name and row from List data and automatically bind into SQLServerDataTable table","body":"<p>I have a Student class with  following attributes same as mentioned and want I a extend solution of this Stackoverflow solution that what should the method in which it returns a datatable in which is automatically takes the Column name from the parameters passed in list and row data from the value against each parameters in list.</p>\n<p><a href=\"https://stackoverflow.com/questions/36575529/how-to-pass-table-valued-parameters-from-java-to-sql-server-stored-procedure\">text</a></p>\n<p>**If anyone have solution from which we can remove these harcoded part? **</p>\n<p>Currently one is this :\n`</p>\n<p>SQLServerDataTable stuTypeDT = new SQLServerDataTable();</p>\n<p>stuTypeDT.addColumnMetadata(&quot;StudentId&quot;, java.sql.Types.NUMERIC);</p>\n<p>stuTypeDT.addColumnMetadata(&quot;Name&quot;, java.sql.Types.VARCHAR);</p>\n<p>stuTypeDT.addColumnMetadata(&quot;Department&quot;, java.sql.Types.VARCHAR);</p>\n<p>stuTypeDT.addColumnMetadata(&quot;Address&quot;, java.sql.Types.VARCHAR);</p>\n<p>stuTypeDT.addRow(&quot;1&quot;,&quot;Tom&quot;, &quot;A&quot;, &quot;123 Street&quot;);</p>\n<p>stuTypeDT.addRow(&quot;2&quot;,&quot;Jery&quot;, &quot;B&quot;, &quot;456 Street&quot;);</p>\n<p>stuTypeDT.addRow(&quot;3&quot;,&quot;Mac&quot;, &quot;C&quot;, &quot;Vancour&quot;);</p>\n<p>String ececStoredProc = &quot;EXEC InsertStudentInfo ?&quot;;</p>\n<p>SQLServerPreparedStatement pStmt = (SQLServerPreparedStatement)connection.prepareStatement(ececStoredProc);</p>\n<p>pStmt.setStructured(1, &quot;dbo.StudentInfoType&quot;, stuTypeDT);</p>\n<p>pStmt.execute();`</p>\n<p>And I want to remove this harcoded part from this code and want to make it dynamic which takes name and data automatically using loop</p>\n<p>`</p>\n<p>stuTypeDT.addColumnMetadata(&quot;StudentId&quot;, java.sql.Types.NUMERIC);</p>\n<p>stuTypeDT.addColumnMetadata(&quot;Name&quot;, java.sql.Types.VARCHAR);</p>\n<p>stuTypeDT.addColumnMetadata(&quot;Department&quot;, java.sql.Types.VARCHAR);</p>\n<p>stuTypeDT.addColumnMetadata(&quot;Address&quot;, java.sql.Types.VARCHAR);</p>\n<p>stuTypeDT.addRow(&quot;1&quot;,&quot;Tom&quot;, &quot;A&quot;, &quot;123 Street&quot;);</p>\n<p>stuTypeDT.addRow(&quot;2&quot;,&quot;Jery&quot;, &quot;B&quot;, &quot;456 Street&quot;);</p>\n<p>stuTypeDT.addRow(&quot;3&quot;,&quot;Mac&quot;, &quot;C&quot;, &quot;Vancour&quot;);`</p>\n<p>I have write this code but it is not working</p>\n<p>`</p>\n<p>public static SQLServerDataTable createDataTable(Object inputObject) {</p>\n<pre><code>try {\n\n    SQLServerDataTable dataTable = new SQLServerDataTable();\n\n    Object obj1 = inputObject.getClass();\n\n    Object obj = java.beans.Introspector.getBeanInfo(inputObject.getClass()).getPropertyDescriptors();\n\n    for (PropertyDescriptor propertyDescriptor : java.beans.Introspector.getBeanInfo(inputObject.getClass()).getPropertyDescriptors()) {\n\n        String propertyName = propertyDescriptor.getName();\n\n        // Exclude &quot;class&quot; property\n\n        if (!propertyName.equals(&quot;class&quot;)) {\n\n            // Adding column metadata\n\n            dataTable.addColumnMetadata(propertyName, java.sql.Types.OTHER); // Adjust the type as needed\n\n            // Getting property value using the getter method\n\n            Object propertyValue = propertyDescriptor.getReadMethod().invoke(inputObject);\n\n            // Adding row to the DataTable\n\n            dataTable.addRow(propertyValue);\n\n        }\n\n    }\n\n    return dataTable;\n\n} catch (Exception e) {\n\n    throw new RuntimeException(e);\n\n}\n</code></pre>\n<p>} `</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":30049234,"reputation":1,"user_id":23028173,"display_name":"orhan berkil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702328960,"creation_date":1702328960,"question_id":77642400,"body_markdown":"\r\nclass CallReceiver : BroadcastReceiver() {\r\n\r\n    // BroadcastReceiver class that captures phone call events\r\n\r\n    @SuppressLint(&quot;ServiceCast&quot;)\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        try {\r\n            // Get an instance of MyPreferences to store and retrieve user preferences\r\n            val preferences = MyPreferences.getInstance(context)\r\n\r\n            // Check if the event should be handled based on user preferences\r\n            if (!shouldHandleEvent(preferences)) {\r\n                return\r\n            }\r\n\r\n            // Get the AudioManager to access the device&#39;s audio settings\r\n            val audioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager?\r\n            val ringerMode = audioManager?.ringerMode ?: AudioManager.RINGER_MODE_NORMAL\r\n\r\n            // Check if the event should be handled based on the current ringer mode\r\n            if (!shouldHandleRingerMode(preferences, ringerMode)) {\r\n                return\r\n            }\r\n\r\n            // Get the PowerManager to manage the device&#39;s power state\r\n            val powerManager = context.getSystemService(Context.POWER_SERVICE) as PowerManager?\r\n            // Check if the screen is on\r\n            val isScreenOn = powerManager?.isInteractive == true\r\n\r\n            // If the screen is on and the user prefers not to flash, do not process\r\n            if (isScreenOn &amp;&amp; preferences.prefNotFlashWhenScreenOn) {\r\n                return\r\n            }\r\n\r\n            // Handle the phone call state based on the received intent\r\n            handlePhoneCallState(context, intent, preferences)\r\n        } catch (e: Exception) {\r\n            // Handle any unexpected exceptions and print the stack trace\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\n    // Check whether the event should be handled based on user preferences\r\n    private fun shouldHandleEvent(preferences: MyPreferences): Boolean {\r\n        return preferences.prefFlashInSilentMode &amp;&amp;\r\n                preferences.prefFlashInVibrateMode &amp;&amp;\r\n                preferences.prefFlashInSoundMode\r\n    }\r\n\r\n    // Check whether to handle the event based on the current ringer mode\r\n    private fun shouldHandleRingerMode(preferences: MyPreferences, ringerMode: Int): Boolean {\r\n        return when (ringerMode) {\r\n            AudioManager.RINGER_MODE_SILENT -&gt; preferences.prefFlashInSilentMode\r\n            AudioManager.RINGER_MODE_VIBRATE -&gt; preferences.prefFlashInVibrateMode\r\n            AudioManager.RINGER_MODE_NORMAL -&gt; preferences.prefFlashInSoundMode\r\n            else -&gt; false\r\n        }\r\n    }\r\n\r\n    // Handle the phone call state based on the received intent\r\n    private fun handlePhoneCallState(context: Context, intent: Intent, preferences: MyPreferences) {\r\n        try {\r\n            // Get an instance of FlashLightUtil to control flash operations\r\n            val flashUtil = FlashLightUtil.getInstance(context)\r\n\r\n            // Process the phone call state based on the received intent\r\n            when (intent.getStringExtra(TelephonyManager.EXTRA_STATE)) {\r\n                TelephonyManager.EXTRA_STATE_RINGING -&gt; {\r\n                    // Turn on the flash when a call is ringing\r\n                    Log.e(&quot;call&quot;, &quot;Incoming call - Flash turned on&quot;)\r\n                    flashUtil.turnOnFlash()\r\n                }\r\n                TelephonyManager.EXTRA_STATE_OFFHOOK, TelephonyManager.EXTRA_STATE_IDLE -&gt; {\r\n                    // Turn off the flash and remove the callback when the call ends or goes to idle\r\n                    Log.e(&quot;call&quot;, &quot;Call ended - Flash turned off and callback removed&quot;)\r\n                    flashUtil.turnOffFlashAndRemoveCallBack()\r\n                }\r\n            }\r\n        } catch (e: Exception) {\r\n            // Handle any unexpected exceptions and print the stack trace\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n\r\n\r\n**In this broadcast class, it is supposed to catch the calls coming to the user and turn the flash on and off, but there is no status when the call comes, it is also defined in the receiver manifest file. when I want to print logcate, I still can&#39;t get a result. thank you in advance for your help.** \r\n\r\n**I don&#39;t get any error message in Logcat, when I compile my project, it runs smoothly.**\r\n\r\n**I use android studio**\r\n\r\n***I indicated in the comment lines what kind of logic is in my code***","title":"call broadcast receiver studys","body":"<p>class CallReceiver : BroadcastReceiver() {</p>\n<pre><code>// BroadcastReceiver class that captures phone call events\n\n@SuppressLint(&quot;ServiceCast&quot;)\noverride fun onReceive(context: Context, intent: Intent) {\n    try {\n        // Get an instance of MyPreferences to store and retrieve user preferences\n        val preferences = MyPreferences.getInstance(context)\n\n        // Check if the event should be handled based on user preferences\n        if (!shouldHandleEvent(preferences)) {\n            return\n        }\n\n        // Get the AudioManager to access the device's audio settings\n        val audioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager?\n        val ringerMode = audioManager?.ringerMode ?: AudioManager.RINGER_MODE_NORMAL\n\n        // Check if the event should be handled based on the current ringer mode\n        if (!shouldHandleRingerMode(preferences, ringerMode)) {\n            return\n        }\n\n        // Get the PowerManager to manage the device's power state\n        val powerManager = context.getSystemService(Context.POWER_SERVICE) as PowerManager?\n        // Check if the screen is on\n        val isScreenOn = powerManager?.isInteractive == true\n\n        // If the screen is on and the user prefers not to flash, do not process\n        if (isScreenOn &amp;&amp; preferences.prefNotFlashWhenScreenOn) {\n            return\n        }\n\n        // Handle the phone call state based on the received intent\n        handlePhoneCallState(context, intent, preferences)\n    } catch (e: Exception) {\n        // Handle any unexpected exceptions and print the stack trace\n        e.printStackTrace()\n    }\n}\n\n// Check whether the event should be handled based on user preferences\nprivate fun shouldHandleEvent(preferences: MyPreferences): Boolean {\n    return preferences.prefFlashInSilentMode &amp;&amp;\n            preferences.prefFlashInVibrateMode &amp;&amp;\n            preferences.prefFlashInSoundMode\n}\n\n// Check whether to handle the event based on the current ringer mode\nprivate fun shouldHandleRingerMode(preferences: MyPreferences, ringerMode: Int): Boolean {\n    return when (ringerMode) {\n        AudioManager.RINGER_MODE_SILENT -&gt; preferences.prefFlashInSilentMode\n        AudioManager.RINGER_MODE_VIBRATE -&gt; preferences.prefFlashInVibrateMode\n        AudioManager.RINGER_MODE_NORMAL -&gt; preferences.prefFlashInSoundMode\n        else -&gt; false\n    }\n}\n\n// Handle the phone call state based on the received intent\nprivate fun handlePhoneCallState(context: Context, intent: Intent, preferences: MyPreferences) {\n    try {\n        // Get an instance of FlashLightUtil to control flash operations\n        val flashUtil = FlashLightUtil.getInstance(context)\n\n        // Process the phone call state based on the received intent\n        when (intent.getStringExtra(TelephonyManager.EXTRA_STATE)) {\n            TelephonyManager.EXTRA_STATE_RINGING -&gt; {\n                // Turn on the flash when a call is ringing\n                Log.e(&quot;call&quot;, &quot;Incoming call - Flash turned on&quot;)\n                flashUtil.turnOnFlash()\n            }\n            TelephonyManager.EXTRA_STATE_OFFHOOK, TelephonyManager.EXTRA_STATE_IDLE -&gt; {\n                // Turn off the flash and remove the callback when the call ends or goes to idle\n                Log.e(&quot;call&quot;, &quot;Call ended - Flash turned off and callback removed&quot;)\n                flashUtil.turnOffFlashAndRemoveCallBack()\n            }\n        }\n    } catch (e: Exception) {\n        // Handle any unexpected exceptions and print the stack trace\n        e.printStackTrace()\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>In this broadcast class, it is supposed to catch the calls coming to the user and turn the flash on and off, but there is no status when the call comes, it is also defined in the receiver manifest file. when I want to print logcate, I still can't get a result. thank you in advance for your help.</strong></p>\n<p><strong>I don't get any error message in Logcat, when I compile my project, it runs smoothly.</strong></p>\n<p><strong>I use android studio</strong></p>\n<p><em><strong>I indicated in the comment lines what kind of logic is in my code</strong></em></p>\n"},{"tags":["java","android-studio","notifications"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1702329923,"post_id":77642396,"comment_id":136880822,"body_markdown":"_&quot;isn&#39;t working anymore&quot;_  - Welcome to Stack Overflow.\nSorry, but this site is not a discussion forum or programming tutorial site, and you are expected to provide a detailed description of the problem, as well as the steps you have taken to debug the issue.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. \nAlso read \n[Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"<i>&quot;isn&#39;t working anymore&quot;</i>  - Welcome to Stack Overflow. Sorry, but this site is not a discussion forum or programming tutorial site, and you are expected to provide a detailed description of the problem, as well as the steps you have taken to debug the issue. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"}],"owner":{"account_id":16585720,"reputation":23,"user_id":11985193,"display_name":"Shainyyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702328947,"creation_date":1702328947,"question_id":77642396,"body_markdown":"I&#39;ve coded my permission for android 13, api33 and now I updated to api34.\r\n\r\nI&#39;ve already fixed the new permissions, so the app doesn&#39;t crash anymore.\r\n\r\nHowever, the pending/immutable/persistent part of the notification isn&#39;t working anymore.\r\n\r\nAny ideas how to fix that?\r\n\r\n        @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        // Start the Handler initially\r\n        //handler.post(runnable);\r\n\r\n\r\n        // Start the service in the foreground (alter Weg von Android 12)\r\n        //startForeground(1, createNotification());\r\n\r\n        //ab hier neuer Weg f&#252;r Android 13\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            createNotificationChannel();\r\n        }\r\n\r\n        startForeground(1, showStartUpNotification());\r\n        //showStartUpNotification();\r\n\r\n        Log.d(TAG, &quot;Notification is created&quot;);\r\n\r\n        return START_STICKY;\r\n    }\r\n\r\n    /**\r\n     * Creates Notification Channel (required for API level &gt;= 26) before sending any notification.\r\n     */\r\n    private void createNotificationChannel() {\r\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID,\r\n                &quot;SmartCar_Notification&quot;,\r\n                NotificationManager.IMPORTANCE_HIGH);\r\n        channel.setDescription(&quot;This notification says, that SmartCar is searching the Car BT in background&quot;);\r\n\r\n        notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.createNotificationChannel(channel);\r\n    }\r\n\r\n    /**\r\n     * Shows a notification to the user.\r\n     *\r\n     * The notification won&#39;t appear if the user doesn&#39;t grant notification permission first.\r\n     */\r\n    private Notification showStartUpNotification() {\r\n\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.ic_car)\r\n                .setLargeIcon(Bitmap.createBitmap(200, 200, Bitmap.Config.ARGB_8888))  // Create a large icon\r\n                .setContentTitle(&quot;SmartCar&quot;)\r\n                .setAutoCancel(false)\r\n                .setOngoing(true)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n            return builder.build(); //TODO handle no permission case\r\n        }\r\n        notificationManagerCompat.notify(1, builder.build());\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    public static final String CHANNEL_ID = &quot;smartcar_channel&quot;;\r\n","title":"API34 Notification Persistent","body":"<p>I've coded my permission for android 13, api33 and now I updated to api34.</p>\n<p>I've already fixed the new permissions, so the app doesn't crash anymore.</p>\n<p>However, the pending/immutable/persistent part of the notification isn't working anymore.</p>\n<p>Any ideas how to fix that?</p>\n<pre><code>    @Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    // Start the Handler initially\n    //handler.post(runnable);\n\n\n    // Start the service in the foreground (alter Weg von Android 12)\n    //startForeground(1, createNotification());\n\n    //ab hier neuer Weg für Android 13\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        createNotificationChannel();\n    }\n\n    startForeground(1, showStartUpNotification());\n    //showStartUpNotification();\n\n    Log.d(TAG, &quot;Notification is created&quot;);\n\n    return START_STICKY;\n}\n\n/**\n * Creates Notification Channel (required for API level &gt;= 26) before sending any notification.\n */\nprivate void createNotificationChannel() {\n    NotificationChannel channel = new NotificationChannel(CHANNEL_ID,\n            &quot;SmartCar_Notification&quot;,\n            NotificationManager.IMPORTANCE_HIGH);\n    channel.setDescription(&quot;This notification says, that SmartCar is searching the Car BT in background&quot;);\n\n    notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.createNotificationChannel(channel);\n}\n\n/**\n * Shows a notification to the user.\n *\n * The notification won't appear if the user doesn't grant notification permission first.\n */\nprivate Notification showStartUpNotification() {\n\n    Intent notificationIntent = new Intent(this, MainActivity.class);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\n\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n            .setSmallIcon(R.drawable.ic_car)\n            .setLargeIcon(Bitmap.createBitmap(200, 200, Bitmap.Config.ARGB_8888))  // Create a large icon\n            .setContentTitle(&quot;SmartCar&quot;)\n            .setAutoCancel(false)\n            .setOngoing(true)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setContentIntent(pendingIntent);\n\n    NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this);\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n        return builder.build(); //TODO handle no permission case\n    }\n    notificationManagerCompat.notify(1, builder.build());\n\n    return builder.build();\n}\n\npublic static final String CHANNEL_ID = &quot;smartcar_channel&quot;;\n</code></pre>\n"},{"tags":["java","input","lanterna"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1702328754,"post_id":77641997,"comment_id":136880644,"body_markdown":"I would think the key being held down is repeating and filling up the operating system typeahead buffer. I&#39;ve never heard of Lanterna, but `pollInput()` sounds like it would just read the keypresses, so if the key repeat rate is faster than the frame rate, the buffer is going to fill up and then not get &#39;drained&#39; until sometime after the key is released, which is what you are seeing.","body":"I would think the key being held down is repeating and filling up the operating system typeahead buffer. I&#39;ve never heard of Lanterna, but <code>pollInput()</code> sounds like it would just read the keypresses, so if the key repeat rate is faster than the frame rate, the buffer is going to fill up and then not get &#39;drained&#39; until sometime after the key is released, which is what you are seeing."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1702329614,"post_id":77641997,"comment_id":136880773,"body_markdown":"Same here, never heard of Lanterna before. I second @DavidConrad&#39;s comment, a possible solution for it would be to use some sort of KeyRelease event, and cancel/ignore the remaining processing of whatever `pollInput()` is doing. Now be advised depending on how you code this it might generate some nasty hard to find side effects.","body":"Same here, never heard of Lanterna before. I second @DavidConrad&#39;s comment, a possible solution for it would be to use some sort of KeyRelease event, and cancel/ignore the remaining processing of whatever <code>pollInput()</code> is doing. Now be advised depending on how you code this it might generate some nasty hard to find side effects."}],"owner":{"account_id":24812545,"reputation":11,"user_id":21849322,"display_name":"Educpf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702328590,"creation_date":1702323449,"question_id":77641997,"body_markdown":"I am doing a college project and need to use Java and Lanterna to develop a game.\r\n\r\nI have the game almost completed but need to fix this problem, where if I press a key for too long, after releasing it the game still thinks that I am pressing it, stopping only after a while.\r\n\r\nThe key press is read using the `.pollInput()` Lanterna method, and only made once per frame. The game has a set frame rate.\r\n\r\nI tried changing the frame rate in order to see if that affected anything, but it didn&#39;t seem to have a direct influence. Because I am only checking the input once per frame and this problem still occurs, I though that the only way this can happen is if the Lanterna saves in the Input pool, the key presses in a constant speed, not affected by the calling  of the `.pollInput` method. \r\n\r\nConsidering this, is there any way for me to fix this problem?\r\n\r\nI am guessing that changing the frame rate did not affect anything since it&#39;s already too slow for the speed in which Lanterna adds inputs to the pool. I had a much simpler version of the game, and when the frame rate was high the problem did not occur.\r\n\r\nI appreciate all the feedback, thanks for the support!\r\n\r\n","title":"Key considered pressed for a while after released in Java using Lanterna","body":"<p>I am doing a college project and need to use Java and Lanterna to develop a game.</p>\n<p>I have the game almost completed but need to fix this problem, where if I press a key for too long, after releasing it the game still thinks that I am pressing it, stopping only after a while.</p>\n<p>The key press is read using the <code>.pollInput()</code> Lanterna method, and only made once per frame. The game has a set frame rate.</p>\n<p>I tried changing the frame rate in order to see if that affected anything, but it didn't seem to have a direct influence. Because I am only checking the input once per frame and this problem still occurs, I though that the only way this can happen is if the Lanterna saves in the Input pool, the key presses in a constant speed, not affected by the calling  of the <code>.pollInput</code> method.</p>\n<p>Considering this, is there any way for me to fix this problem?</p>\n<p>I am guessing that changing the frame rate did not affect anything since it's already too slow for the speed in which Lanterna adds inputs to the pool. I had a much simpler version of the game, and when the frame rate was high the problem did not occur.</p>\n<p>I appreciate all the feedback, thanks for the support!</p>\n"},{"tags":["java","locking","h2","runnable","entitymanager"],"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702327975,"creation_date":1702322832,"question_id":77641939,"body_markdown":"I am trying to build a scheduler service using java.util.concurrent.ScheduledExecutorService. This will call a custom class that implements the Runnable interface, and the Runnable interface will update an entity in my database via a CRUD repository that uses EntityManager for DB transactions. \r\n\r\nSchedulerInit.java:\r\n```\r\nprivate ScheduledExecutorService executorService;\r\n...\r\nexecutorService = Executors.newScheduledThreadPool(5);\r\n...\r\nexecutorService.scheduleWithFixedDelay(executableRequestsTask, delay, 1, timeUnit);\r\n```\r\n\r\nExecutableRequestsTasks.java:\r\n\r\n```\r\n\r\npublic class ExecutableRequestsTask implements Runnable {\r\n\r\n  @Inject\r\n  private BatchRequestInterface batchRequestInterface;\r\n\r\n  @Inject\r\n  private BatchRequestExecutorImpl batchRequestExecutor;\r\n\r\n\r\n\r\n  @Override\r\n  public void run() {\r\n    try {\r\n      Iterable&lt;BatchRequest&gt; batchRequests = batchRequestInterface.displayCurrentBatchRequests(\r\n              BatchRequestStatus.SUBMITTED, Instant.now()\r\n      );\r\n      if (batchRequests.iterator().hasNext()) {\r\n        batchRequests.forEach(request -&gt; {\r\n          try {\r\n            batchRequestExecutor.execute(request);\r\n          } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        });\r\n      } else {\r\n          log.info(&quot;Batch requests are null&quot;);\r\n      }\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\nBatchRequestExecutorImpl.java:\r\n```\r\nimport org.eclipse.microprofile.faulttolerance.Asynchronous;\r\n\r\npublic class BatchRequestExecutorImpl  {\r\n\r\n  @Inject\r\n  private BatchRequestInterface batchRequestInterface;\r\n\r\n  @Inject\r\n  private KafkaMessageProducer producer;\r\n\r\n\r\n  @Asynchronous\r\n  public CompletionStage&lt;Void&gt; execute(BatchRequest request) throws IOException {\r\n    try {\r\n      return CompletableFuture.runAsync(() -&gt; {\r\n        BatchRequest lockedBatchRequest = null;\r\n        try {\r\n          lockedBatchRequest = batchRequestInterface.lockRequestByIdAndStatus(request.getId(),\r\n                  BatchRequestStatus.SUBMITTED);\r\n        } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n        if (lockedBatchRequest != null) {\r\n          request.updateBatchRequestStatus(BatchRequestStatus.SCHEDULED);\r\n          try {\r\n            batchRequestInterface.update(request, request.getId());\r\n          } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          // todo: publish to kafka topic\r\n          TaskScheduledEvent taskScheduledEvent = ...\r\n          try {\r\n            broadcast(taskScheduledEvent);\r\n            log.info(&quot;broadcasted kafka event&quot;);\r\n          } catch (IOException e) {\r\n            log.error(e.getMessage());\r\n            throw new RuntimeException(e);\r\n          }\r\n        } else {\r\n          log.error(&quot; Could not find Batch Request {} in Submitted Status&quot;, request.getId());\r\n        }\r\n      });\r\n    } catch (Exception e) {\r\n      log.error(e.getMessage());\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n\r\n```\r\n\r\nBatchRequestInterfaceImpl:\r\n```\r\npublic class BatchRequestInterfaceImpl extends CrudRepository implements BatchRequestInterface {\r\n\r\n\tpublic Iterable&lt;BatchRequest&gt; displayCurrentBatchRequests(BatchRequestStatus status, Instant scheduledStartDate) {\r\n\t\tQuery query = em.createQuery(&quot;select br from BatchRequest br where br.status = :status and br.scheduledStartDate &lt; :scheduledStartDate order by br.scheduledStartDate, br.id&quot;);\r\n\t\tquery.setParameter(&quot;status&quot;, status);\r\n\t\tquery.setParameter(&quot;scheduledStartDate&quot;, scheduledStartDate);\r\n\t\tquery.setLockMode(LockModeType.PESSIMISTIC_WRITE);\r\n\t\treturn query.getResultList();\r\n\t}\r\n\r\n\r\n\tpublic BatchRequest lockRequestByIdAndStatus(Long requestId, BatchRequestStatus status) {\r\n\t\tQuery query = em.createQuery(&quot;select br from BatchRequest br where br.status = :status and br.id = :requestId&quot;);\r\n\t\tquery.setParameter(&quot;requestId&quot;, requestId);\r\n\t\tquery.setParameter(&quot;status&quot;, status);\r\n\t\tquery.setLockMode(LockModeType.PESSIMISTIC_WRITE);\r\n\t\treturn (BatchRequest) query.getSingleResult();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nCrudRepository.java:\r\n```\r\n@Transactional\r\npublic class CrudRepository {\r\n\r\n    @PersistenceContext\r\n    protected EntityManager em;\r\n\r\n    //other methods\r\n\r\n    public &lt;S extends T&gt; S update(S entity, ID id) {\r\n        try {\r\n            log.info(&quot;About to merge this newly created entity&quot;);\r\n            S updatedEntity = em.merge(entity);\r\n            log.info(&quot;Just merged!&quot;);\r\n            return updatedEntity;\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not merge entity, here is the error msg &quot; + e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\nmicroprofile-config.properties:\r\n```\r\njavax.sql.DataSource.myDs.dataSourceClassName=org.h2.jdbcx.JdbcDataSource\r\njavax.sql.DataSource.myDs.dataSource.url=jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;classpath:data-h2.sql&#39;\r\njavax.sql.DataSource.myDs.dataSource.user=sa\r\njavax.sql.DataSource.myDs.dataSource.password=\r\n\r\n```\r\n\r\nProject configuration:\r\n-Framework: Helidon MP version 3.2.2\r\n-DB: H2 (local)\r\n-Language: Java\r\n\r\n\r\nWhen I run my application, and post a new BatchRequest via rest call, the expected behavior is the following log messages should appear in my console:\r\n\r\n&quot;About to merge this newly created entity&quot;\r\n&quot;Just merged!&quot;\r\n&quot;broadcasted kafka event&quot;\r\n\r\nThe above should appear ONLY once per every new BatchRequest I post to my endpoint. In other words, when I post a new batch request, it should call displayCurrentBatchRequests() which will return that batch request only once, then, post this batch request to the DB via the update() method.\r\n\r\nHowever, the actual behavior is the following:\r\n\r\n```\r\norg.eclipse.persistence.exceptions.OptimisticLockException\r\nException Description: The object cannot be updated because it has changed or been deleted since it was last read. \r\n...\r\norg.eclipse.persistence.exceptions.OptimisticLockException\r\nException Description: The object cannot be updated because it has changed or been deleted since it was last read. \r\n...(infinite loop)\r\n\r\n```\r\n\r\nOn the line &quot;em.merge(entity);&quot; in CrudRepository.update()\r\n\r\nSo there are few issues going on here:\r\n(1) Calling update() the first time seems to trigger an OptimisticLockException, when the expected behavior is it should just save the newly created entity in the DB.\r\n(2) Multiple threads seem to be calling the update() method at the same time, triggering an OptimisticLockException infinite times.\r\n\r\n\r\nI am unsure why those are happening, as in my BatchRequestInterfaceImpl.lockRequestByIdAndStatus and displayCurrentBatchRequests, I am clearly doing pessimistic locking on those queries so multiple threads cannot read from those tables at the same time. I also have the CrudRepository annotated with @Transactional, so each CRUD operation should be its own transaction (including update).\r\n\r\nAny suggestions on how to fix this issue?     \r\n\r\n\r\n\r\n\r\n**Update 1**: tried to lock EntityManager in my update() method before calling merge: \r\n\r\nem.lock(entity, LockModeType.PESSIMISTIC_WRITE);\r\n\r\nBut got the error: Entity must be managed to call lock: try merging the detached and try the lock again.\r\n\r\nTried to manage the Entity first by doing the following in the update() method:\r\n\r\n```\r\nem.find(entity, id)\r\nem.lock(...)\r\nem.merge()\r\n```\r\n\r\nWhich gave the exact same error\r\n\r\n","title":"Java Runnable Interface and Threadpool: EntityManager transactions that are run by multiple threads don&#39;t seem to close","body":"<p>I am trying to build a scheduler service using java.util.concurrent.ScheduledExecutorService. This will call a custom class that implements the Runnable interface, and the Runnable interface will update an entity in my database via a CRUD repository that uses EntityManager for DB transactions.</p>\n<p>SchedulerInit.java:</p>\n<pre><code>private ScheduledExecutorService executorService;\n...\nexecutorService = Executors.newScheduledThreadPool(5);\n...\nexecutorService.scheduleWithFixedDelay(executableRequestsTask, delay, 1, timeUnit);\n</code></pre>\n<p>ExecutableRequestsTasks.java:</p>\n<pre><code>\npublic class ExecutableRequestsTask implements Runnable {\n\n  @Inject\n  private BatchRequestInterface batchRequestInterface;\n\n  @Inject\n  private BatchRequestExecutorImpl batchRequestExecutor;\n\n\n\n  @Override\n  public void run() {\n    try {\n      Iterable&lt;BatchRequest&gt; batchRequests = batchRequestInterface.displayCurrentBatchRequests(\n              BatchRequestStatus.SUBMITTED, Instant.now()\n      );\n      if (batchRequests.iterator().hasNext()) {\n        batchRequests.forEach(request -&gt; {\n          try {\n            batchRequestExecutor.execute(request);\n          } catch (IOException e) {\n            throw new RuntimeException(e);\n          }\n        });\n      } else {\n          log.info(&quot;Batch requests are null&quot;);\n      }\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  }\n}\n\n\n</code></pre>\n<p>BatchRequestExecutorImpl.java:</p>\n<pre><code>import org.eclipse.microprofile.faulttolerance.Asynchronous;\n\npublic class BatchRequestExecutorImpl  {\n\n  @Inject\n  private BatchRequestInterface batchRequestInterface;\n\n  @Inject\n  private KafkaMessageProducer producer;\n\n\n  @Asynchronous\n  public CompletionStage&lt;Void&gt; execute(BatchRequest request) throws IOException {\n    try {\n      return CompletableFuture.runAsync(() -&gt; {\n        BatchRequest lockedBatchRequest = null;\n        try {\n          lockedBatchRequest = batchRequestInterface.lockRequestByIdAndStatus(request.getId(),\n                  BatchRequestStatus.SUBMITTED);\n        } catch (Exception e) {\n          throw new RuntimeException(e);\n        }\n        if (lockedBatchRequest != null) {\n          request.updateBatchRequestStatus(BatchRequestStatus.SCHEDULED);\n          try {\n            batchRequestInterface.update(request, request.getId());\n          } catch (Exception e) {\n            throw new RuntimeException(e);\n          }\n          // todo: publish to kafka topic\n          TaskScheduledEvent taskScheduledEvent = ...\n          try {\n            broadcast(taskScheduledEvent);\n            log.info(&quot;broadcasted kafka event&quot;);\n          } catch (IOException e) {\n            log.error(e.getMessage());\n            throw new RuntimeException(e);\n          }\n        } else {\n          log.error(&quot; Could not find Batch Request {} in Submitted Status&quot;, request.getId());\n        }\n      });\n    } catch (Exception e) {\n      log.error(e.getMessage());\n      throw new RuntimeException(e);\n    }\n  }\n\n</code></pre>\n<p>BatchRequestInterfaceImpl:</p>\n<pre><code>public class BatchRequestInterfaceImpl extends CrudRepository implements BatchRequestInterface {\n\n    public Iterable&lt;BatchRequest&gt; displayCurrentBatchRequests(BatchRequestStatus status, Instant scheduledStartDate) {\n        Query query = em.createQuery(&quot;select br from BatchRequest br where br.status = :status and br.scheduledStartDate &lt; :scheduledStartDate order by br.scheduledStartDate, br.id&quot;);\n        query.setParameter(&quot;status&quot;, status);\n        query.setParameter(&quot;scheduledStartDate&quot;, scheduledStartDate);\n        query.setLockMode(LockModeType.PESSIMISTIC_WRITE);\n        return query.getResultList();\n    }\n\n\n    public BatchRequest lockRequestByIdAndStatus(Long requestId, BatchRequestStatus status) {\n        Query query = em.createQuery(&quot;select br from BatchRequest br where br.status = :status and br.id = :requestId&quot;);\n        query.setParameter(&quot;requestId&quot;, requestId);\n        query.setParameter(&quot;status&quot;, status);\n        query.setLockMode(LockModeType.PESSIMISTIC_WRITE);\n        return (BatchRequest) query.getSingleResult();\n    }\n}\n</code></pre>\n<p>CrudRepository.java:</p>\n<pre><code>@Transactional\npublic class CrudRepository {\n\n    @PersistenceContext\n    protected EntityManager em;\n\n    //other methods\n\n    public &lt;S extends T&gt; S update(S entity, ID id) {\n        try {\n            log.info(&quot;About to merge this newly created entity&quot;);\n            S updatedEntity = em.merge(entity);\n            log.info(&quot;Just merged!&quot;);\n            return updatedEntity;\n        } catch (Exception e) {\n            log.error(&quot;Could not merge entity, here is the error msg &quot; + e);\n            return null;\n        }\n    }\n\n\n</code></pre>\n<p>microprofile-config.properties:</p>\n<pre><code>javax.sql.DataSource.myDs.dataSourceClassName=org.h2.jdbcx.JdbcDataSource\njavax.sql.DataSource.myDs.dataSource.url=jdbc:h2:mem:test;INIT=RUNSCRIPT FROM 'classpath:data-h2.sql'\njavax.sql.DataSource.myDs.dataSource.user=sa\njavax.sql.DataSource.myDs.dataSource.password=\n\n</code></pre>\n<p>Project configuration:\n-Framework: Helidon MP version 3.2.2\n-DB: H2 (local)\n-Language: Java</p>\n<p>When I run my application, and post a new BatchRequest via rest call, the expected behavior is the following log messages should appear in my console:</p>\n<p>&quot;About to merge this newly created entity&quot;\n&quot;Just merged!&quot;\n&quot;broadcasted kafka event&quot;</p>\n<p>The above should appear ONLY once per every new BatchRequest I post to my endpoint. In other words, when I post a new batch request, it should call displayCurrentBatchRequests() which will return that batch request only once, then, post this batch request to the DB via the update() method.</p>\n<p>However, the actual behavior is the following:</p>\n<pre><code>org.eclipse.persistence.exceptions.OptimisticLockException\nException Description: The object cannot be updated because it has changed or been deleted since it was last read. \n...\norg.eclipse.persistence.exceptions.OptimisticLockException\nException Description: The object cannot be updated because it has changed or been deleted since it was last read. \n...(infinite loop)\n\n</code></pre>\n<p>On the line &quot;em.merge(entity);&quot; in CrudRepository.update()</p>\n<p>So there are few issues going on here:\n(1) Calling update() the first time seems to trigger an OptimisticLockException, when the expected behavior is it should just save the newly created entity in the DB.\n(2) Multiple threads seem to be calling the update() method at the same time, triggering an OptimisticLockException infinite times.</p>\n<p>I am unsure why those are happening, as in my BatchRequestInterfaceImpl.lockRequestByIdAndStatus and displayCurrentBatchRequests, I am clearly doing pessimistic locking on those queries so multiple threads cannot read from those tables at the same time. I also have the CrudRepository annotated with @Transactional, so each CRUD operation should be its own transaction (including update).</p>\n<p>Any suggestions on how to fix this issue?</p>\n<p><strong>Update 1</strong>: tried to lock EntityManager in my update() method before calling merge:</p>\n<p>em.lock(entity, LockModeType.PESSIMISTIC_WRITE);</p>\n<p>But got the error: Entity must be managed to call lock: try merging the detached and try the lock again.</p>\n<p>Tried to manage the Entity first by doing the following in the update() method:</p>\n<pre><code>em.find(entity, id)\nem.lock(...)\nem.merge()\n</code></pre>\n<p>Which gave the exact same error</p>\n"},{"tags":["java","keycloak","quarkus","htmx","quarkus-oidc"],"owner":{"account_id":10592426,"reputation":67,"user_id":7802501,"accept_rate":80,"display_name":"NanoBreaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702327570,"creation_date":1702327570,"question_id":77642313,"body_markdown":"I&#39;m developing a web application powered by HTMX for the client-side and Quarkus for the server-side. Quarkus supports [various authentication mechanism](https://quarkus.io/guides/security-authentication-mechanisms#combining-authentication-mechanisms), I&#39;ve chosen OIDC Authorization Grant Flow for this project. I ended up configuring Quarkus and Keycloak applications to implement the flow.\r\n\r\nAs I try to access a protected resource as expected authorization grant flow is fired, and I end up being authenticated and granted with the requested resource, but wait, here is the moment, with next ajax request fired from granted resources my request is being re-authenticated again, and consequently fails with CORS error\r\n```\r\nAccess to XMLHttpRequest at &#39;http://localhost:32806/realms/reactive-todos-realm/protocol/openid-connect/auth?response_type=code&amp;client_id=reactive-todos-service&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapi%2Fv1%2Ftodo&amp;state=cab72361-ae2a-49a5-8780-1e742004cec7&#39; (redirected from &#39;http://localhost:8080/api/v1/todo&#39;) from origin &#39;http://localhost:8080&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\n**QUESTION:** From this point I&#39;m asking why Quarkus re-initiated authentication on first ajax request on granted resource, guess is that Quarkus does automatically the exchange of code for id &amp; access tokens but doesn&#39;t persist the access token in cookies or any other way on client, **do I understand correctly that handling of access token must be done explicitly** after the exchange? I&#39;m wondering that Quarkus has so many extensions and configurations but doesn&#39;t really help you with putting an access token into a cookie? Just making sure that I didn&#39;t miss anything there.\r\n\r\nHere are the configuration and realm properties I used to enable the authentication\r\n```\r\n# application\r\nquarkus.application.name=reactive-todos-service\r\n# cors\r\nquarkus.http.root-path=/api/v1\r\nquarkus.http.cors=true\r\n%dev.quarkus.http.cors.origins=/.*/\r\n# web authentication (oidc)\r\n%prod.quarkus.oidc.auth-server-url=https://localhost:8543/realms/quarkus\r\nquarkus.oidc.client-id=reactive-todos-service\r\nquarkus.oidc.credentials.secret=secret\r\nquarkus.oidc.application-type=web_app\r\nquarkus.oidc.roles.source=accesstoken\r\nquarkus.oidc.token-state-manager.strategy=keep_all_tokens\r\nquarkus.oidc.token-state-manager.split-tokens=true\r\nquarkus.oidc.token-state-manager.encryption-secret=eUk1p7UB3nFiXZGUXi0uph1Y9p34YhBU\r\n# web authorization\r\nquarkus.http.auth.permission.authenticated.paths=/*\r\nquarkus.http.auth.permission.authenticated.policy=authenticated\r\nquarkus.http.auth.permission.public.paths=/api/v1/q/dev/*\r\nquarkus.http.auth.permission.public.policy=permit\r\n# keycloak\r\nquarkus.keycloak.devservices.realm-path=reactive-todos-realm.json\r\n```\r\n\r\nEntryResource that I&#39;m successfully getting after redirect from IdP\r\n```\r\n@Path(&quot;/&quot;)\r\n@Produces(MediaType.TEXT_HTML)\r\npublic class EntryResource {\r\n\r\n    @Inject\r\n    @IdToken\r\n    JsonWebToken idToken;\r\n\r\n    @Location(&quot;v1/entry/authorized.qute.html&quot;)\r\n    Template authorizedTemplate;\r\n\r\n    @GET\r\n    @RolesAllowed({&quot;user&quot;})\r\n    public Uni&lt;TemplateInstance&gt; getAuthorized() {\r\n        return Uni.createFrom().item(authorizedTemplate.data(&quot;username&quot;, idToken.getClaim(&quot;preferred_username&quot;)));\r\n    }\r\n\r\n}\r\n```\r\n[![error after auth flow][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mfiuv.png","title":"Quarkus OIDC Authentication for Web Application based on HTMX","body":"<p>I'm developing a web application powered by HTMX for the client-side and Quarkus for the server-side. Quarkus supports <a href=\"https://quarkus.io/guides/security-authentication-mechanisms#combining-authentication-mechanisms\" rel=\"nofollow noreferrer\">various authentication mechanism</a>, I've chosen OIDC Authorization Grant Flow for this project. I ended up configuring Quarkus and Keycloak applications to implement the flow.</p>\n<p>As I try to access a protected resource as expected authorization grant flow is fired, and I end up being authenticated and granted with the requested resource, but wait, here is the moment, with next ajax request fired from granted resources my request is being re-authenticated again, and consequently fails with CORS error</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:32806/realms/reactive-todos-realm/protocol/openid-connect/auth?response_type=code&amp;client_id=reactive-todos-service&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapi%2Fv1%2Ftodo&amp;state=cab72361-ae2a-49a5-8780-1e742004cec7' (redirected from 'http://localhost:8080/api/v1/todo') from origin 'http://localhost:8080' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p><strong>QUESTION:</strong> From this point I'm asking why Quarkus re-initiated authentication on first ajax request on granted resource, guess is that Quarkus does automatically the exchange of code for id &amp; access tokens but doesn't persist the access token in cookies or any other way on client, <strong>do I understand correctly that handling of access token must be done explicitly</strong> after the exchange? I'm wondering that Quarkus has so many extensions and configurations but doesn't really help you with putting an access token into a cookie? Just making sure that I didn't miss anything there.</p>\n<p>Here are the configuration and realm properties I used to enable the authentication</p>\n<pre><code># application\nquarkus.application.name=reactive-todos-service\n# cors\nquarkus.http.root-path=/api/v1\nquarkus.http.cors=true\n%dev.quarkus.http.cors.origins=/.*/\n# web authentication (oidc)\n%prod.quarkus.oidc.auth-server-url=https://localhost:8543/realms/quarkus\nquarkus.oidc.client-id=reactive-todos-service\nquarkus.oidc.credentials.secret=secret\nquarkus.oidc.application-type=web_app\nquarkus.oidc.roles.source=accesstoken\nquarkus.oidc.token-state-manager.strategy=keep_all_tokens\nquarkus.oidc.token-state-manager.split-tokens=true\nquarkus.oidc.token-state-manager.encryption-secret=eUk1p7UB3nFiXZGUXi0uph1Y9p34YhBU\n# web authorization\nquarkus.http.auth.permission.authenticated.paths=/*\nquarkus.http.auth.permission.authenticated.policy=authenticated\nquarkus.http.auth.permission.public.paths=/api/v1/q/dev/*\nquarkus.http.auth.permission.public.policy=permit\n# keycloak\nquarkus.keycloak.devservices.realm-path=reactive-todos-realm.json\n</code></pre>\n<p>EntryResource that I'm successfully getting after redirect from IdP</p>\n<pre><code>@Path(&quot;/&quot;)\n@Produces(MediaType.TEXT_HTML)\npublic class EntryResource {\n\n    @Inject\n    @IdToken\n    JsonWebToken idToken;\n\n    @Location(&quot;v1/entry/authorized.qute.html&quot;)\n    Template authorizedTemplate;\n\n    @GET\n    @RolesAllowed({&quot;user&quot;})\n    public Uni&lt;TemplateInstance&gt; getAuthorized() {\n        return Uni.createFrom().item(authorizedTemplate.data(&quot;username&quot;, idToken.getClaim(&quot;preferred_username&quot;)));\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Mfiuv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mfiuv.png\" alt=\"error after auth flow\" /></a></p>\n"},{"tags":["java","spring","error-handling","backend","spring-boot-security"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1702302832,"post_id":77637712,"comment_id":136876053,"body_markdown":"check `requestMatchers(&quot;/api/v1/registration/**&quot;, &quot;*&quot;)` if you want to allow only /api/v1/registration/ resources then * is not needed.","body":"check <code>requestMatchers(&quot;&#47;api&#47;v1&#47;registration&#47;**&quot;, &quot;*&quot;)</code> if you want to allow only /api/v1/registration/ resources then * is not needed."},{"owner":{"account_id":30115975,"reputation":1,"user_id":23079216,"display_name":"Ricardo Blohm"},"score":0,"creation_date":1702305719,"post_id":77637712,"comment_id":136876646,"body_markdown":"The reason I added that * was because I think the root path was getting called when error was thrown and that root path isn’t part of the “api/v1/registrstion/**”. I was correct in thinking that (by correct I mean login page wasn’t called and internal server error was show)  but it’s a hacky way of solving the issue. So I want to be able to solve issue without “*”","body":"The reason I added that * was because I think the root path was getting called when error was thrown and that root path isn’t part of the “api/v1/registrstion/**”. I was correct in thinking that (by correct I mean login page wasn’t called and internal server error was show)  but it’s a hacky way of solving the issue. So I want to be able to solve issue without “*”"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1702306402,"post_id":77637712,"comment_id":136876796,"body_markdown":"refer this [link](https://reflectoring.io/spring-security/). setup proper error page, front-end routing on registration error and map resources in the SecurityFilterChain.","body":"refer this <a href=\"https://reflectoring.io/spring-security/\" rel=\"nofollow noreferrer\">link</a>. setup proper error page, front-end routing on registration error and map resources in the SecurityFilterChain."},{"owner":{"account_id":30115975,"reputation":1,"user_id":23079216,"display_name":"Ricardo Blohm"},"score":0,"creation_date":1702308547,"post_id":77637712,"comment_id":136877260,"body_markdown":"This doesnt answer my question because all talk about exception handling is for when there is an authentication error. I am running into an error unrelated to login which triggers the login page for some reason.","body":"This doesnt answer my question because all talk about exception handling is for when there is an authentication error. I am running into an error unrelated to login which triggers the login page for some reason."}],"owner":{"account_id":30115975,"reputation":1,"user_id":23079216,"display_name":"Ricardo Blohm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702327112,"creation_date":1702274428,"question_id":77637712,"body_markdown":"Spring Security keeps redirecting me to formLogin page after any exception is thrown. To add more context to issue: To register a new user the http://localhost:8080/api/v1/registration/register end point is called. the first time its called it adds the user successfully no problem. But if i hit that API again with same details of user i just created, then the &quot;email already taken&quot; error is thrown in the server logs, as it should. But instead of simply showing error, the program tried to redirect to /login endpoint when error was thrown. This is my websecurityconfig settings:\r\n\r\n\r\n```\r\npackage com.example.venuematchingservice.security.config;\r\n\r\nimport com.example.venuematchingservice.appuser.AppUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf\r\n                        .disable())\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/registration/**&quot;, &quot;*&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .formLogin(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/js/**&quot;, &quot;/images/**&quot;);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(appUserService);\r\n        authProvider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        return authProvider;\r\n    }\r\n}\r\n\r\n```\r\nand here is the class throwing the error:\r\n\r\n```\r\npackage com.example.venuematchingservice.appuser;\r\n\r\nimport com.example.venuematchingservice.registration.token.ConfirmationToken;\r\nimport com.example.venuematchingservice.registration.token.ConfirmationTokenService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n\r\n    private final AppUserRepository appUserRepository;\r\n    private final static String USER_NOT_FOUND = &quot;user with email %s not found&quot;;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    private ConfirmationTokenService confirmationTokenService;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        return appUserRepository.findByEmail(email).orElseThrow(() -&gt;  new UsernameNotFoundException(String.format(USER_NOT_FOUND, email)));\r\n    }\r\n\r\n    public String signUpUser(AppUser appUser){\r\n        boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\r\n\r\n        if (userExists){\r\n            throw new IllegalStateException(&quot;email already taken&quot;);\r\n        }\r\n\r\n        String encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\r\n        appUser.setPassword(encodedPassword);\r\n        appUserRepository.save(appUser);\r\n\r\n        String token = UUID.randomUUID().toString();\r\n        ConfirmationToken confirmationToken = new ConfirmationToken(\r\n                token,\r\n                LocalDateTime.now(),\r\n                LocalDateTime.now().plusMinutes(15),\r\n                appUser\r\n        );\r\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\r\n\r\n        return token;\r\n    }\r\n\r\n    public int enableAppUser(String email) {\r\n        return appUserRepository.enableAppUser(email);\r\n    }\r\n}\r\n```\r\n\r\nAny ideas why throwing errors would cause a redirect to login page?\r\n\r\n\r\nI&#39;ve tried changing WebSecurityConfigs and Custom error handeling but nothing worked","title":"Spring Security keeps redirecting me to formLogin page","body":"<p>Spring Security keeps redirecting me to formLogin page after any exception is thrown. To add more context to issue: To register a new user the http://localhost:8080/api/v1/registration/register end point is called. the first time its called it adds the user successfully no problem. But if i hit that API again with same details of user i just created, then the &quot;email already taken&quot; error is thrown in the server logs, as it should. But instead of simply showing error, the program tried to redirect to /login endpoint when error was thrown. This is my websecurityconfig settings:</p>\n<pre><code>package com.example.venuematchingservice.security.config;\n\nimport com.example.venuematchingservice.appuser.AppUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf\n                        .disable())\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/registration/**&quot;, &quot;*&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .formLogin(Customizer.withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/js/**&quot;, &quot;/images/**&quot;);\n    }\n\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(appUserService);\n        authProvider.setPasswordEncoder(bCryptPasswordEncoder);\n        return authProvider;\n    }\n}\n\n</code></pre>\n<p>and here is the class throwing the error:</p>\n<pre><code>package com.example.venuematchingservice.appuser;\n\nimport com.example.venuematchingservice.registration.token.ConfirmationToken;\nimport com.example.venuematchingservice.registration.token.ConfirmationTokenService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n\n    private final AppUserRepository appUserRepository;\n    private final static String USER_NOT_FOUND = &quot;user with email %s not found&quot;;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    private ConfirmationTokenService confirmationTokenService;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return appUserRepository.findByEmail(email).orElseThrow(() -&gt;  new UsernameNotFoundException(String.format(USER_NOT_FOUND, email)));\n    }\n\n    public String signUpUser(AppUser appUser){\n        boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\n\n        if (userExists){\n            throw new IllegalStateException(&quot;email already taken&quot;);\n        }\n\n        String encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\n        appUser.setPassword(encodedPassword);\n        appUserRepository.save(appUser);\n\n        String token = UUID.randomUUID().toString();\n        ConfirmationToken confirmationToken = new ConfirmationToken(\n                token,\n                LocalDateTime.now(),\n                LocalDateTime.now().plusMinutes(15),\n                appUser\n        );\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\n\n        return token;\n    }\n\n    public int enableAppUser(String email) {\n        return appUserRepository.enableAppUser(email);\n    }\n}\n</code></pre>\n<p>Any ideas why throwing errors would cause a redirect to login page?</p>\n<p>I've tried changing WebSecurityConfigs and Custom error handeling but nothing worked</p>\n"},{"tags":["java","spring-boot","azureservicebus","azure-servicebus-topics","azure-servicebus-subscriptions"],"owner":{"account_id":14595960,"reputation":7,"user_id":10770017,"display_name":"NothingIsIrrational"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702326835,"creation_date":1702326835,"question_id":77642266,"body_markdown":"I am trying to integrate **azure-service-bus** into my java **spring-project**.\r\n\r\nMy azure-service-bus subscription has `sessions` enabled.\r\n\r\nI am using `org.springframework.jms.annotation.JmsListener` to setup a listener.\r\n\r\n**PROBLEM** : \r\n - NOT able to create a listener that listens to a session-enabled subscription.\r\n - Not able to push messages to the topic also, they are going to dead-letter-queue. (with reason : DeadLetterReason -&gt; Session id is null., DeadLetterErrorDescription -&gt; Session enabled entity doesn&#39;t allow a message whose session identifier is null.)\r\n\r\n\r\n**QUESTION** : \r\n - How to enable session enabled message pushing and pulling in spring, for azure-service bus\r\n\r\n\r\n\r\n**sample code :**\r\n\r\n```\r\nprivate final JmsTemplate jmsTemplate;\r\npublic void sendMessage() {\r\n      jmsTemplate.convertAndSend(TOPIC_NAME, &quot;sample_data&quot;);\r\n}\r\n\r\n@JmsListener(destination = TOPIC_NAME, subscription = SUBSCRIPTION_NAME, containerFactory = &quot;topicJmsListenerContainerFactory&quot;)\r\n    public void receiveMessage(Object data) throws JMSException {\r\n//logic to process message\r\n}\r\n```\r\n\r\n**FYI** : The code is working as expected for non-session enabled topics and subcriptions.\r\n\r\n**Error I keep on getting :**\r\n```\r\njavax.jms.JMSException: It is not possible for an entity that requires sessions to create a non-sessionful message receiver. TrackingId:some_uuid, SystemTracker:some_uuid:subscription_name, Timestamp:2023-12-11T20:04:41 TrackingId:some_uuid, SystemTracker:some_uuid, Timestamp:2023-12-11T20:04:41 [condition = amqp:not-allowed]\r\n\tat org.apache.qpid.jms.provider.ProviderException.toJMSException(ProviderException.java:34) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.exceptions.JmsExceptionSupport.create(JmsExceptionSupport.java:80) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.exceptions.JmsExceptionSupport.create(JmsExceptionSupport.java:112) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.JmsConnection.createResource(JmsConnection.java:698) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.JmsMessageConsumer.&lt;init&gt;(JmsMessageConsumer.java:125) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.JmsTopicSubscriber.&lt;init&gt;(JmsTopicSubscriber.java:36) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.JmsDurableTopicSubscriber.&lt;init&gt;(JmsDurableTopicSubscriber.java:29) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.JmsSession.createDurableSubscriber(JmsSession.java:571) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.jms.connection.CachingConnectionFactory$CachedSessionInvocationHandler.invoke(CachingConnectionFactory.java:412) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat com.sun.proxy.$Proxy237.createDurableSubscriber(Unknown Source) ~[na:na]\r\n\tat org.springframework.jms.listener.AbstractMessageListenerContainer.createConsumer(AbstractMessageListenerContainer.java:863) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.createListenerConsumer(AbstractPollingMessageListenerContainer.java:225) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.initResourcesIfNecessary(DefaultMessageListenerContainer.java:1264) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1236) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) ~[spring-jms-5.3.31.jar:5.3.31]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: org.apache.qpid.jms.provider.ProviderException: It is not possible for an entity that requires sessions to create a non-sessionful message receiver. \r\n\tat org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToNonFatalException(AmqpSupport.java:181) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.getOpenAbortExceptionFromRemote(AmqpResourceBuilder.java:299) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.handleClosed(AmqpResourceBuilder.java:185) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.processRemoteClose(AmqpResourceBuilder.java:129) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:985) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.provider.amqp.AmqpProvider.onData(AmqpProvider.java:871) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:563) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:556) ~[qpid-jms-client-0.53.0.jar:na]\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1383) ~[netty-handler-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246) ~[netty-handler-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295) ~[netty-handler-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.92.Final.jar:4.1.92.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.92.Final.jar:4.1.92.Final]\r\n\t... 1 common frames omitted\r\n```\r\n\r\n**this warning comes before code throws an exception :**\r\n&gt; 2023-12-12 01:34:40.868  WARN 72600 --- [ntContainer#0-2] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination &#39;topic_name&#39; - trying to recover. Cause: It is not possible for an entity that requires sessions to create a non-sessionful message receiver. \r\n\r\n\r\n\r\n**external maven dependencies I am using :**\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.azure.spring/spring-cloud-azure-starter-servicebus-jms --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-servicebus-jms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jms --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n","title":"How to enable session based JMS-listeners for azure-service-bus?","body":"<p>I am trying to integrate <strong>azure-service-bus</strong> into my java <strong>spring-project</strong>.</p>\n<p>My azure-service-bus subscription has <code>sessions</code> enabled.</p>\n<p>I am using <code>org.springframework.jms.annotation.JmsListener</code> to setup a listener.</p>\n<p><strong>PROBLEM</strong> :</p>\n<ul>\n<li>NOT able to create a listener that listens to a session-enabled subscription.</li>\n<li>Not able to push messages to the topic also, they are going to dead-letter-queue. (with reason : DeadLetterReason -&gt; Session id is null., DeadLetterErrorDescription -&gt; Session enabled entity doesn't allow a message whose session identifier is null.)</li>\n</ul>\n<p><strong>QUESTION</strong> :</p>\n<ul>\n<li>How to enable session enabled message pushing and pulling in spring, for azure-service bus</li>\n</ul>\n<p><strong>sample code :</strong></p>\n<pre><code>private final JmsTemplate jmsTemplate;\npublic void sendMessage() {\n      jmsTemplate.convertAndSend(TOPIC_NAME, &quot;sample_data&quot;);\n}\n\n@JmsListener(destination = TOPIC_NAME, subscription = SUBSCRIPTION_NAME, containerFactory = &quot;topicJmsListenerContainerFactory&quot;)\n    public void receiveMessage(Object data) throws JMSException {\n//logic to process message\n}\n</code></pre>\n<p><strong>FYI</strong> : The code is working as expected for non-session enabled topics and subcriptions.</p>\n<p><strong>Error I keep on getting :</strong></p>\n<pre><code>javax.jms.JMSException: It is not possible for an entity that requires sessions to create a non-sessionful message receiver. TrackingId:some_uuid, SystemTracker:some_uuid:subscription_name, Timestamp:2023-12-11T20:04:41 TrackingId:some_uuid, SystemTracker:some_uuid, Timestamp:2023-12-11T20:04:41 [condition = amqp:not-allowed]\n    at org.apache.qpid.jms.provider.ProviderException.toJMSException(ProviderException.java:34) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.exceptions.JmsExceptionSupport.create(JmsExceptionSupport.java:80) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.exceptions.JmsExceptionSupport.create(JmsExceptionSupport.java:112) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.JmsConnection.createResource(JmsConnection.java:698) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.JmsMessageConsumer.&lt;init&gt;(JmsMessageConsumer.java:125) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.JmsTopicSubscriber.&lt;init&gt;(JmsTopicSubscriber.java:36) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.JmsDurableTopicSubscriber.&lt;init&gt;(JmsDurableTopicSubscriber.java:29) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.JmsSession.createDurableSubscriber(JmsSession.java:571) ~[qpid-jms-client-0.53.0.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.jms.connection.CachingConnectionFactory$CachedSessionInvocationHandler.invoke(CachingConnectionFactory.java:412) ~[spring-jms-5.3.31.jar:5.3.31]\n    at com.sun.proxy.$Proxy237.createDurableSubscriber(Unknown Source) ~[na:na]\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.createConsumer(AbstractMessageListenerContainer.java:863) ~[spring-jms-5.3.31.jar:5.3.31]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.createListenerConsumer(AbstractPollingMessageListenerContainer.java:225) ~[spring-jms-5.3.31.jar:5.3.31]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.initResourcesIfNecessary(DefaultMessageListenerContainer.java:1264) ~[spring-jms-5.3.31.jar:5.3.31]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1236) ~[spring-jms-5.3.31.jar:5.3.31]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) ~[spring-jms-5.3.31.jar:5.3.31]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) ~[spring-jms-5.3.31.jar:5.3.31]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.apache.qpid.jms.provider.ProviderException: It is not possible for an entity that requires sessions to create a non-sessionful message receiver. \n    at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToNonFatalException(AmqpSupport.java:181) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.getOpenAbortExceptionFromRemote(AmqpResourceBuilder.java:299) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.handleClosed(AmqpResourceBuilder.java:185) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.processRemoteClose(AmqpResourceBuilder.java:129) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:985) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.provider.amqp.AmqpProvider.onData(AmqpProvider.java:871) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:563) ~[qpid-jms-client-0.53.0.jar:na]\n    at org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:556) ~[qpid-jms-client-0.53.0.jar:na]\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1383) ~[netty-handler-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246) ~[netty-handler-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295) ~[netty-handler-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.92.Final.jar:4.1.92.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.92.Final.jar:4.1.92.Final]\n    ... 1 common frames omitted\n</code></pre>\n<p><strong>this warning comes before code throws an exception :</strong></p>\n<blockquote>\n<p>2023-12-12 01:34:40.868  WARN 72600 --- [ntContainer#0-2] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'topic_name' - trying to recover. Cause: It is not possible for an entity that requires sessions to create a non-sessionful message receiver.</p>\n</blockquote>\n<p><strong>external maven dependencies I am using :</strong></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.azure.spring/spring-cloud-azure-starter-servicebus-jms --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-servicebus-jms&lt;/artifactId&gt;\n            &lt;version&gt;4.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jms --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n            &lt;version&gt;5.3.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","bouncycastle"],"owner":{"account_id":2200176,"reputation":1550,"user_id":1944747,"accept_rate":100,"display_name":"And390"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702326488,"creation_date":1702326488,"question_id":77642250,"body_markdown":"Can I use the same BouncyCastleProvider instance in my multithreaded application, e.g. in `KeyStore.getInstance` or `KeyFactory.getInstance` calls?","title":"Is BouncyCastleProvider thread safe?","body":"<p>Can I use the same BouncyCastleProvider instance in my multithreaded application, e.g. in <code>KeyStore.getInstance</code> or <code>KeyFactory.getInstance</code> calls?</p>\n"},{"tags":["java","multithreading","game-development","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1702326074,"post_id":77641964,"comment_id":136880212,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"owner":{"account_id":26891588,"reputation":11,"user_id":20470259,"display_name":"TsuuN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702326360,"creation_date":1702323061,"question_id":77641964,"body_markdown":"`enter code here`I&#39;m developing a multiplayer snake game in Java, and for this, I require three classes: Server, Client, and RemoteBoard. The RemoteBoard class represents the game state, and it contains the information that needs to be sent to the client. However, I am encountering difficulties when the client receives this information and needs to update its own board.\r\n\r\nThere is a LocalBoard that represents the local game. I use it to create the RemoteBoard and provide it with the cells and obstacles from the local board. Subsequently, the server sends an object of type RemoteBoard, and the client receives it to update its own board.\r\n\r\n*Server*\r\n```\r\npublic Server(LocalBoard localBoard) {\r\n\t\t\t// TODO\r\n\t\t\tthis.board = new RemoteBoard(localBoard);\r\n}\r\nprivate void processConnection() {\r\n\t\t\ttry {\r\n                do {\r\n                    // Write object\r\n                    out.writeObject(board);\r\n\r\n                    System.out.println(&quot;Server sent a update&quot;);\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(board.REMOTE_REFRESH_INTERVAL);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t// TODO: handle exception\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n                } while (!board.isFinished());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n*Client*\r\n\r\n```\r\nprivate void processConnection() {\r\n\t\ttry {\r\n\t\t\tboard = new RemoteBoard();\r\n\t\t\tSnakeGui gui = new SnakeGui(board,600,0);\r\n\t\t\tgui.init();\r\n\t\t\tdo{\r\n\t\t\t\tboard = (RemoteBoard) in.readObject();\r\n\t\t\t\tboard.setChanged();\r\n\t\t\t}while(!board.isFinished());\r\n\t\t} catch (ClassNotFoundException | IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n}\r\n```\r\n\r\n*RemoteBoard*\r\n\r\n```\r\npublic RemoteBoard(LocalBoard localBoard) {\r\n\t\tthis.obstacles = localBoard.getObstacles();\r\n\t\tthis.cells = localBoard.getCells();\r\n\t\tsetChanged();\r\n}\r\n```\r\n\r\n\r\n","title":"Can&#39;t show the local board on the clients side","body":"<p><code>enter code here</code>I'm developing a multiplayer snake game in Java, and for this, I require three classes: Server, Client, and RemoteBoard. The RemoteBoard class represents the game state, and it contains the information that needs to be sent to the client. However, I am encountering difficulties when the client receives this information and needs to update its own board.</p>\n<p>There is a LocalBoard that represents the local game. I use it to create the RemoteBoard and provide it with the cells and obstacles from the local board. Subsequently, the server sends an object of type RemoteBoard, and the client receives it to update its own board.</p>\n<p><em>Server</em></p>\n<pre><code>public Server(LocalBoard localBoard) {\n            // TODO\n            this.board = new RemoteBoard(localBoard);\n}\nprivate void processConnection() {\n            try {\n                do {\n                    // Write object\n                    out.writeObject(board);\n\n                    System.out.println(&quot;Server sent a update&quot;);\n\n                    try {\n                        Thread.sleep(board.REMOTE_REFRESH_INTERVAL);\n                    } catch (Exception e) {\n                        // TODO: handle exception\n                    }\n                    \n                } while (!board.isFinished());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n}\n\n\n\n</code></pre>\n<p><em>Client</em></p>\n<pre><code>private void processConnection() {\n        try {\n            board = new RemoteBoard();\n            SnakeGui gui = new SnakeGui(board,600,0);\n            gui.init();\n            do{\n                board = (RemoteBoard) in.readObject();\n                board.setChanged();\n            }while(!board.isFinished());\n        } catch (ClassNotFoundException | IOException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p><em>RemoteBoard</em></p>\n<pre><code>public RemoteBoard(LocalBoard localBoard) {\n        this.obstacles = localBoard.getObstacles();\n        this.cells = localBoard.getCells();\n        setChanged();\n}\n</code></pre>\n"},{"tags":["java","docker","dockerfile","firebird"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702332161,"post_id":77642074,"comment_id":136881100,"body_markdown":"What has the question to do with Java? You are having an issue with Firebird installation.","body":"What has the question to do with Java? You are having an issue with Firebird installation."}],"answers":[{"comments":[{"owner":{"account_id":29927871,"reputation":36,"user_id":22935490,"display_name":"NapoleonDynamite"},"score":0,"creation_date":1702326098,"post_id":77642221,"comment_id":136880215,"body_markdown":"also, check this:\nhttps://gist.github.com/usmansaleem/1cb81d366fd721bd09b85579dc37aacf\nit may be useful","body":"also, check this: <a href=\"https://gist.github.com/usmansaleem/1cb81d366fd721bd09b85579dc37aacf\" rel=\"nofollow noreferrer\">gist.github.com/usmansaleem/1cb81d366fd721bd09b85579dc37aacf</a> it may be useful"}],"tags":[],"owner":{"account_id":29927871,"reputation":36,"user_id":22935490,"display_name":"NapoleonDynamite"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702326036,"creation_date":1702326036,"answer_id":77642221,"question_id":77642074,"body_markdown":"It seems that the package firebird is not available in the Alpine package repositories?\r\nI would suggest trying to manually download and install the firebird database server tools in your dockerfile, something similar to this:\r\n\r\n    # firebird download and install\r\n    RUN wget https://github.com/FirebirdSQL/firebird/releases/download/R3_0_9/Firebird-3.0.9.53074-0.amd64.tar.gz \\\r\n        &amp;&amp; tar -xzf Firebird-3.0.9.53074-0.amd64.tar.gz \\\r\n        &amp;&amp; cd Firebird-3.0.9.53074-0.amd64 \\\r\n        &amp;&amp; ./install.sh -silent\r\n\r\nConsider that i fabricated the github link, you will need to change it based on your requirements. Let me know if manually installing it solves your issues","title":"how to set gbak in dockerfile","body":"<p>It seems that the package firebird is not available in the Alpine package repositories?\nI would suggest trying to manually download and install the firebird database server tools in your dockerfile, something similar to this:</p>\n<pre><code># firebird download and install\nRUN wget https://github.com/FirebirdSQL/firebird/releases/download/R3_0_9/Firebird-3.0.9.53074-0.amd64.tar.gz \\\n    &amp;&amp; tar -xzf Firebird-3.0.9.53074-0.amd64.tar.gz \\\n    &amp;&amp; cd Firebird-3.0.9.53074-0.amd64 \\\n    &amp;&amp; ./install.sh -silent\n</code></pre>\n<p>Consider that i fabricated the github link, you will need to change it based on your requirements. Let me know if manually installing it solves your issues</p>\n"}],"owner":{"account_id":30043394,"reputation":11,"user_id":23083506,"display_name":"lari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1702326036,"creation_date":1702324299,"question_id":77642074,"body_markdown":"I have an API who needs gbak to works cause of this call:\r\n\r\n```\r\nString command = &quot;gbak -b -v -g -user &quot; + username + &quot; -password &quot; + password + &quot; &quot; + databasePath + &quot; &quot; + backupPathUpdated;\r\n\r\nProcessBuilder processBuilder = new ProcessBuilder(command.split(&quot; &quot;));\r\n            processBuilder.redirectErrorStream(true);\r\n            Process process = processBuilder.start();\r\n\r\nprocess.waitFor();\r\n\r\n\r\n```\r\n\r\nI created a dockerfile like this:\r\n\r\n```\r\n# Use an official OpenJDK runtime as a parent image\r\nFROM openjdk:17-alpine\r\n\r\n# Set the working directory to /app\r\nWORKDIR /app\r\n\r\n# Copy the current directory contents into the container at /app\r\nCOPY . /app\r\n\r\n# Make port 8080 available to the world outside this container\r\nEXPOSE 8080\r\n\r\n# Run application when the container launches\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/poc-docker-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nbut when I tried to run the image, I faced this error:\r\n\r\n```\r\nJava.io.IOException: Cannot run program &quot;gbak&quot;: error=2, No such file or directory\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1142)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\r\n        at xxxxxxxxxxxxxxxxxxxxxxxxxxxx.BackupSchedulerService.getBackup(BackupSchedulerService.java:52)\r\n        at xxxxxxxxxxxxxxxxxxxxxxxxxxxx.BackupSchedulerService.lambda$executeBackup$0(BackupSchedulerService.java:35)\r\n        at java.base/java.lang.Thread.run(Thread.java:831)\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n        at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n        at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:313)\r\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:244)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1109)\r\n        ... 4 more\r\n```\r\n\r\nI tried to change my dockerfile to this:\r\n\r\n```\r\n# Use an official OpenJDK runtime as a parent image\r\nFROM openjdk:17-alpine\r\n\r\n# Set the working directory to /app\r\nWORKDIR /app\r\n\r\n# Install gbak\r\nRUN apk --no-cache add firebird\r\n\r\n# Copy the current directory contents into the container at /app\r\nCOPY . /app\r\n\r\n# Make port 8080 available to the world outside this container\r\nEXPOSE 8080\r\n\r\n# Run application when the container launches\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/poc-docker-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nbut then I cant create a image, this is the error:\r\n\r\n```\r\n\r\n =&gt; ERROR [3/4] RUN apk --no-cache add firebird                                                                                                          1.3s \r\n   8 | &gt;&gt;&gt; RUN apk --no-cache add firebird\r\n   9 |\r\n  10 |     # Copy the current directory contents into the container at /app\r\n--------------------\r\n```\r\n\r\nhow can I solve my problem?\r\n\r\nI tried to change dockerfile, to have gbak dependency, but I had another error.","title":"how to set gbak in dockerfile","body":"<p>I have an API who needs gbak to works cause of this call:</p>\n<pre><code>String command = &quot;gbak -b -v -g -user &quot; + username + &quot; -password &quot; + password + &quot; &quot; + databasePath + &quot; &quot; + backupPathUpdated;\n\nProcessBuilder processBuilder = new ProcessBuilder(command.split(&quot; &quot;));\n            processBuilder.redirectErrorStream(true);\n            Process process = processBuilder.start();\n\nprocess.waitFor();\n\n\n</code></pre>\n<p>I created a dockerfile like this:</p>\n<pre><code># Use an official OpenJDK runtime as a parent image\nFROM openjdk:17-alpine\n\n# Set the working directory to /app\nWORKDIR /app\n\n# Copy the current directory contents into the container at /app\nCOPY . /app\n\n# Make port 8080 available to the world outside this container\nEXPOSE 8080\n\n# Run application when the container launches\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/poc-docker-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>but when I tried to run the image, I faced this error:</p>\n<pre><code>Java.io.IOException: Cannot run program &quot;gbak&quot;: error=2, No such file or directory\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1142)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\n        at xxxxxxxxxxxxxxxxxxxxxxxxxxxx.BackupSchedulerService.getBackup(BackupSchedulerService.java:52)\n        at xxxxxxxxxxxxxxxxxxxxxxxxxxxx.BackupSchedulerService.lambda$executeBackup$0(BackupSchedulerService.java:35)\n        at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.io.IOException: error=2, No such file or directory\n        at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\n        at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:313)\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:244)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1109)\n        ... 4 more\n</code></pre>\n<p>I tried to change my dockerfile to this:</p>\n<pre><code># Use an official OpenJDK runtime as a parent image\nFROM openjdk:17-alpine\n\n# Set the working directory to /app\nWORKDIR /app\n\n# Install gbak\nRUN apk --no-cache add firebird\n\n# Copy the current directory contents into the container at /app\nCOPY . /app\n\n# Make port 8080 available to the world outside this container\nEXPOSE 8080\n\n# Run application when the container launches\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/poc-docker-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>but then I cant create a image, this is the error:</p>\n<pre><code>\n =&gt; ERROR [3/4] RUN apk --no-cache add firebird                                                                                                          1.3s \n   8 | &gt;&gt;&gt; RUN apk --no-cache add firebird\n   9 |\n  10 |     # Copy the current directory contents into the container at /app\n--------------------\n</code></pre>\n<p>how can I solve my problem?</p>\n<p>I tried to change dockerfile, to have gbak dependency, but I had another error.</p>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1517825405,"post_id":48620030,"comment_id":84236677,"body_markdown":"It would less likely be about graphics as it is about threading. Do you know much about threading?","body":"It would less likely be about graphics as it is about threading. Do you know much about threading?"},{"owner":{"account_id":5707766,"reputation":801,"user_id":4510718,"display_name":"MatheM"},"score":0,"creation_date":1517825611,"post_id":48620030,"comment_id":84236800,"body_markdown":"Check out answers to [this](https://stackoverflow.com/questions/7634402/creating-a-nice-loading-animation) question. It has super simple example how to achieve this with `gif` and `ImageIcon`.","body":"Check out answers to <a href=\"https://stackoverflow.com/questions/7634402/creating-a-nice-loading-animation\">this</a> question. It has super simple example how to achieve this with <code>gif</code> and <code>ImageIcon</code>."},{"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"score":1,"creation_date":1517825707,"post_id":48620030,"comment_id":84236865,"body_markdown":"what the attempt you have made on your issue? first show your progress on above, if anything where you got stuck, we definitely help you...","body":"what the attempt you have made on your issue? first show your progress on above, if anything where you got stuck, we definitely help you..."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1517826333,"post_id":48620030,"comment_id":84237243,"body_markdown":"Essentially it&#39;s an arc, you just need to be able to animate the start angle and extent at different rates","body":"Essentially it&#39;s an arc, you just need to be able to animate the start angle and extent at different rates"}],"answers":[{"comments":[{"owner":{"account_id":3890014,"reputation":1500,"user_id":3220468,"accept_rate":100,"display_name":"Tom&#225;š Dvoř&#225;k"},"score":0,"creation_date":1614627915,"post_id":48620902,"comment_id":117437658,"body_markdown":"This is an excellent answer, I can basically use it as-is. One small, but important thing should be added, though, I&#39;ve been hunting it on Linux for hours: Add a `getToolkit().sync()` call at the end of the `paintComponent()` method, otherwise you may experience serious redraw lags when the arc is small.","body":"This is an excellent answer, I can basically use it as-is. One small, but important thing should be added, though, I&#39;ve been hunting it on Linux for hours: Add a <code>getToolkit().sync()</code> call at the end of the <code>paintComponent()</code> method, otherwise you may experience serious redraw lags when the arc is small."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1614632945,"post_id":48620902,"comment_id":117439532,"body_markdown":"@Tom&#225;šDvoř&#225;k In some 20 odd years of Java development, I&#39;ve never had to use `Toolkit#sync`, however, I would recommend putting in the `Timer`s `actionPerformed` method instead","body":"@Tom&#225;šDvoř&#225;k In some 20 odd years of Java development, I&#39;ve never had to use <code>Toolkit#sync</code>, however, I would recommend putting in the <code>Timer</code>s <code>actionPerformed</code> method instead"},{"owner":{"account_id":3890014,"reputation":1500,"user_id":3220468,"accept_rate":100,"display_name":"Tom&#225;š Dvoř&#225;k"},"score":0,"creation_date":1614752378,"post_id":48620902,"comment_id":117477575,"body_markdown":"Yeah, I also wasn&#39;t even aware of it&#39;s existence until yesterday. However, when really needed, it seems to cause a lot of woes: https://stackoverflow.com/a/63458711/3220468, https://stackoverflow.com/q/4074284/3220468 . It probably only manifests itself on Linux when only a small portion of the screen is updated, so it was totally confusing to see the spinner choppy when the arc was short and then suddenly smoothing up.","body":"Yeah, I also wasn&#39;t even aware of it&#39;s existence until yesterday. However, when really needed, it seems to cause a lot of woes: <a href=\"https://stackoverflow.com/a/63458711/3220468\">stackoverflow.com/a/63458711/3220468</a>, <a href=\"https://stackoverflow.com/q/4074284/3220468\">stackoverflow.com/q/4074284/3220468</a> . It probably only manifests itself on Linux when only a small portion of the screen is updated, so it was totally confusing to see the spinner choppy when the arc was short and then suddenly smoothing up."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1702306824,"post_id":48620902,"comment_id":136876917,"body_markdown":"Somebody once [told me](https://stackoverflow.com/questions/27077372/jseparator-dashed-style/74657060#comment131784160_74657060) that it&#39;s not necessary to call `g.create()` in your `paintComponent` method.","body":"Somebody once <a href=\"https://stackoverflow.com/questions/27077372/jseparator-dashed-style/74657060#comment131784160_74657060\">told me</a> that it&#39;s not necessary to call <code>g.create()</code> in your <code>paintComponent</code> method."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1702325123,"post_id":48620902,"comment_id":136880025,"body_markdown":"@CardinalSystem No it’s not “necessary”, but there are many good reasons for doing it, especially when dealing with transformations and I do out of habit - a lot less surprises. I also had issues in the past with the rendering hints been maintained and applied to subsequent components in the paint pass - not as pretty as that sounds","body":"@CardinalSystem No it’s not “necessary”, but there are many good reasons for doing it, especially when dealing with transformations and I do out of habit - a lot less surprises. I also had issues in the past with the rendering hints been maintained and applied to subsequent components in the paint pass - not as pretty as that sounds"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1702325673,"post_id":48620902,"comment_id":136880135,"body_markdown":"Well, I just learned something new :)","body":"Well, I just learned something new :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1702325769,"post_id":48620902,"comment_id":136880158,"body_markdown":"@CardinalSystem The important thing is to make use you also call `dispose` before the method exists.  In complex paint implementations I may even call create/dispose when passing the context to subsequent calls, so any modifications they make can be contained to the caller, but again, as needs maybe","body":"@CardinalSystem The important thing is to make use you also call <code>dispose</code> before the method exists.  In complex paint implementations I may even call create/dispose when passing the context to subsequent calls, so any modifications they make can be contained to the caller, but again, as needs maybe"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691462245,"creation_date":1517827876,"answer_id":48620902,"question_id":48620030,"body_markdown":"So, the basic idea is, the shape is an open arc.  That is, has a start angle and extends a certain number of degrees to create the edge.\r\n\r\nMaybe have a look at [Working with Geometry](https://docs.oracle.com/javase/tutorial/2d/geometry/index.html) for some more ideas.\r\n\r\nThe idea is then to animate both the start &quot;angle&quot; and the &quot;extent&quot; and different rates.  This gets the &quot;closing&quot; of the circle.  The trick is then the &quot;opening&quot; of the circle when the two ends meet, which is actually the same idea in reverse (kind of ;)). &quot;Opening&quot; the circle again involves recalculating the start position as the difference between the current angle and the extent and then changing the extent to be a fall circle and then letting the animation to play through again.\r\n\r\nBecause Swing is single threaded AND NOT thread safe, it&#39;s important NOT to block the Event Dispatching Thread AND only update the state of the UI (directly or indirectly) from within the content of the Event Dispatching Thread.\r\n\r\nThe simplest solution is to use a Swing `Timer`, which waits off the EDT, but generates it&#39;s notifications within the EDT.\r\n\r\nSee [How to use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details.\r\n\r\n[![Example][1]][1]\r\n\r\n\timport java.awt.BasicStroke;\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.RenderingHints;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.geom.Arc2D;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.Timer;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tprivate double angle;\r\n\t\t\tprivate double extent;\r\n\r\n\t\t\tprivate double angleDelta = -1;\r\n\t\t\tprivate double extentDelta = -5;\r\n\r\n\t\t\tprivate boolean flip = false;\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsetBackground(Color.BLACK);\r\n\t\t\t\tTimer timer = new Timer(10, new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tangle += angleDelta;\r\n\t\t\t\t\t\textent += extentDelta;\r\n\t\t\t\t\t\tif (Math.abs(extent) % 360.0 == 0) {\r\n\t\t\t\t\t\t\tangle = angle - extent;\r\n\t\t\t\t\t\t\tflip = !flip;\r\n\t\t\t\t\t\t\tif (flip) {\r\n\t\t\t\t\t\t\t\textent = 360.0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\textent = 0.0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\ttimer.start();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n\r\n\t\t\t\tArc2D.Double arc = new Arc2D.Double(50, 50, 100, 100, angle, extent, Arc2D.OPEN);\r\n\t\t\t\tBasicStroke stroke = new BasicStroke(4, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\r\n\t\t\t\tg2d.setStroke(stroke);\r\n\t\t\t\tg2d.setColor(Color.WHITE);\r\n\t\t\t\tg2d.draw(arc);\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nThe example also makes use of a `BasicStroke` to give the shape some thickness\r\n\r\n  [1]: https://i.stack.imgur.com/bvWO4.gif","title":"How to make the Youtube&#39;s rotating spinner loading screen on Java Swing","body":"<p>So, the basic idea is, the shape is an open arc.  That is, has a start angle and extends a certain number of degrees to create the edge.</p>\n<p>Maybe have a look at <a href=\"https://docs.oracle.com/javase/tutorial/2d/geometry/index.html\" rel=\"nofollow noreferrer\">Working with Geometry</a> for some more ideas.</p>\n<p>The idea is then to animate both the start &quot;angle&quot; and the &quot;extent&quot; and different rates.  This gets the &quot;closing&quot; of the circle.  The trick is then the &quot;opening&quot; of the circle when the two ends meet, which is actually the same idea in reverse (kind of ;)). &quot;Opening&quot; the circle again involves recalculating the start position as the difference between the current angle and the extent and then changing the extent to be a fall circle and then letting the animation to play through again.</p>\n<p>Because Swing is single threaded AND NOT thread safe, it's important NOT to block the Event Dispatching Thread AND only update the state of the UI (directly or indirectly) from within the content of the Event Dispatching Thread.</p>\n<p>The simplest solution is to use a Swing <code>Timer</code>, which waits off the EDT, but generates it's notifications within the EDT.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a> for more details.</p>\n<p><a href=\"https://i.stack.imgur.com/bvWO4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvWO4.gif\" alt=\"Example\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Arc2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private double angle;\n        private double extent;\n\n        private double angleDelta = -1;\n        private double extentDelta = -5;\n\n        private boolean flip = false;\n\n        public TestPane() {\n            setBackground(Color.BLACK);\n            Timer timer = new Timer(10, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    angle += angleDelta;\n                    extent += extentDelta;\n                    if (Math.abs(extent) % 360.0 == 0) {\n                        angle = angle - extent;\n                        flip = !flip;\n                        if (flip) {\n                            extent = 360.0;\n                        } else {\n                            extent = 0.0;\n                        }\n                    }\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n\n            Arc2D.Double arc = new Arc2D.Double(50, 50, 100, 100, angle, extent, Arc2D.OPEN);\n            BasicStroke stroke = new BasicStroke(4, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\n            g2d.setStroke(stroke);\n            g2d.setColor(Color.WHITE);\n            g2d.draw(arc);\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n<p>The example also makes use of a <code>BasicStroke</code> to give the shape some thickness</p>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702325696,"creation_date":1701184385,"answer_id":77564992,"question_id":48620030,"body_markdown":"I expanded a little on [MadProgrammer][1]&#39;s answer to create a more modular &quot;plug-and-play&quot; component for my own purposes. Thought I&#39;d share:\r\n   \r\n    public class ProgressSpinner extends JComponent implements ActionListener {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate Dimension size;\r\n    \tprivate int actualSize;\r\n    \tprivate int halfSize;\r\n    \tprivate int thickness;\r\n    \r\n    \tprivate double angle;\r\n    \tprivate double extent;\r\n    \r\n    \tprivate double angleDelta = -1;\r\n    \tprivate double extentDelta = -5;\r\n    \r\n    \tprivate boolean flip = false;\r\n    \tprivate boolean running = false;\r\n    \r\n    \tprivate Timer timer;\r\n    \r\n    \tpublic ProgressSpinner(int size) {\r\n    \t\tthis(size, 2);\r\n    \t}\r\n    \r\n    \tpublic ProgressSpinner(int size, int thickness) {\r\n    \t\tthis.actualSize = size;\r\n    \t\tthis.halfSize = this.actualSize / 2;\r\n    \r\n    \t\tsize += thickness;\r\n    \t\tthis.size = new Dimension(size, size);\r\n    \t\tthis.thickness = thickness;\r\n    \r\n    \t\tthis.timer = new Timer(10, this);\r\n    \t}\r\n    \r\n    \tpublic void startAnimation() {\r\n    \t\tif (!this.running) {\r\n    \t\t\tthis.timer.start();\r\n    \t\t\tthis.running = true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void stopAnimation() {\r\n    \t\tif (this.running) {\r\n    \t\t\tthis.timer.stop();\r\n    \t\t\tthis.running = false;\r\n    \t\t\tsuper.repaint();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Dimension getPreferredSize() {\r\n    \t\treturn this.size;\r\n    \t}\r\n    \r\n    \tprotected void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \r\n    \t\tif (!this.running)\r\n    \t\t\treturn;\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) g.create();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n    \r\n            // Center the animation in case a\r\n            // layout manager resizes this component.\r\n    \t\tRectangle bounds = g2d.getClipBounds();\r\n    \t\tint x = (bounds.width / 2) - this.halfSize;\r\n    \t\tint y = (bounds.height / 2) - this.halfSize;\r\n    \r\n    \t\tArc2D.Double arc = new Arc2D.Double(x, y, this.actualSize, this.actualSize, angle, extent, Arc2D.OPEN);\r\n    \t\tBasicStroke stroke = new BasicStroke(this.thickness, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\r\n    \t\tg2d.setStroke(stroke);\r\n    \t\tg2d.draw(arc);\r\n    \t\tg2d.dispose();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tthis.angle += this.angleDelta;\r\n    \t\tthis.extent += this.extentDelta;\r\n    \t\tif (Math.abs(this.extent) % 360D == 0) {\r\n    \t\t\tthis.angle = this.angle - this.extent;\r\n    \t\t\tthis.flip = !this.flip;\r\n    \t\t\textent = this.flip ? 360D : 0D;\r\n    \t\t}\r\n    \t\tsuper.repaint();\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer","title":"How to make the Youtube&#39;s rotating spinner loading screen on Java Swing","body":"<p>I expanded a little on <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">MadProgrammer</a>'s answer to create a more modular &quot;plug-and-play&quot; component for my own purposes. Thought I'd share:</p>\n<pre><code>public class ProgressSpinner extends JComponent implements ActionListener {\n\n    private static final long serialVersionUID = 1L;\n\n    private Dimension size;\n    private int actualSize;\n    private int halfSize;\n    private int thickness;\n\n    private double angle;\n    private double extent;\n\n    private double angleDelta = -1;\n    private double extentDelta = -5;\n\n    private boolean flip = false;\n    private boolean running = false;\n\n    private Timer timer;\n\n    public ProgressSpinner(int size) {\n        this(size, 2);\n    }\n\n    public ProgressSpinner(int size, int thickness) {\n        this.actualSize = size;\n        this.halfSize = this.actualSize / 2;\n\n        size += thickness;\n        this.size = new Dimension(size, size);\n        this.thickness = thickness;\n\n        this.timer = new Timer(10, this);\n    }\n\n    public void startAnimation() {\n        if (!this.running) {\n            this.timer.start();\n            this.running = true;\n        }\n    }\n\n    public void stopAnimation() {\n        if (this.running) {\n            this.timer.stop();\n            this.running = false;\n            super.repaint();\n        }\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return this.size;\n    }\n\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        if (!this.running)\n            return;\n\n        Graphics2D g2d = (Graphics2D) g.create();\n        g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n        g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n        g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n        g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n\n        // Center the animation in case a\n        // layout manager resizes this component.\n        Rectangle bounds = g2d.getClipBounds();\n        int x = (bounds.width / 2) - this.halfSize;\n        int y = (bounds.height / 2) - this.halfSize;\n\n        Arc2D.Double arc = new Arc2D.Double(x, y, this.actualSize, this.actualSize, angle, extent, Arc2D.OPEN);\n        BasicStroke stroke = new BasicStroke(this.thickness, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\n        g2d.setStroke(stroke);\n        g2d.draw(arc);\n        g2d.dispose();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        this.angle += this.angleDelta;\n        this.extent += this.extentDelta;\n        if (Math.abs(this.extent) % 360D == 0) {\n            this.angle = this.angle - this.extent;\n            this.flip = !this.flip;\n            extent = this.flip ? 360D : 0D;\n        }\n        super.repaint();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12855917,"reputation":43,"user_id":9299338,"display_name":"Ramsey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48620902,"answer_count":2,"score":2,"last_activity_date":1702325696,"creation_date":1517825213,"question_id":48620030,"body_markdown":"I&#39;m making a loading screen on my swing project but I want to use the **Google&#39;s rotating spinner as the loading screen**. It is just the loading screen that YouTube uses while it loads the video or it can also be seen when Google Chrome(or any other browser) is loading a webpage (see screenshots). I&#39;m not much good with the graphics class of java however I know the basics. Please suggest me a method to make the loading spinner.\r\n\r\nLoading spinner in New Tab of Google Chrome:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLoading spinner in YouTube:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TsH5N.png\r\n  [2]: https://i.stack.imgur.com/LWHvg.png","title":"How to make the Youtube&#39;s rotating spinner loading screen on Java Swing","body":"<p>I'm making a loading screen on my swing project but I want to use the <strong>Google's rotating spinner as the loading screen</strong>. It is just the loading screen that YouTube uses while it loads the video or it can also be seen when Google Chrome(or any other browser) is loading a webpage (see screenshots). I'm not much good with the graphics class of java however I know the basics. Please suggest me a method to make the loading spinner.</p>\n\n<p>Loading spinner in New Tab of Google Chrome:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TsH5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TsH5N.png\" alt=\"enter image description here\"></a></p>\n\n<p>Loading spinner in YouTube:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LWHvg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWHvg.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","json","xml","freemarker"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1702330261,"post_id":77642179,"comment_id":136880872,"body_markdown":"Xpath should be `.//ADDRESS/AddressLineText`","body":"Xpath should be <code>.&#47;&#47;ADDRESS&#47;AddressLineText</code>"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702325513,"creation_date":1702325513,"question_id":77642179,"body_markdown":"I am trying to create a Freemarker program to convert XML to JSON . I am not able to read values from the list of values from the repeated tags of a xml . \r\nAm not able to figure out why i could not read value from repeated tags . \r\n\r\n    &lt;#assign DEALS = body[&quot;.//DEALS&quot;]&gt;\r\n    {\r\n    loans:  [\r\n    &lt;#list DEALS as d&gt;\r\n        {\r\n            &lt;#assign PROPERTY = d[&quot;.//PROPERTY&quot;]&gt;\r\n            propAddress1: ${PROPERTY[&quot;.//AddressLineText&quot;]}\r\n        }\r\n    &lt;/#list&gt;\r\n    ]\r\n   }\r\n\r\n\r\n    &lt;MESSAGE&gt;\r\n\t&lt;DEAL_SETS&gt;\r\n\t\t&lt;DEALS&gt;\r\n\t\t\t&lt;DEAL&gt;\r\n\t\t\t &lt;PROPERTY&gt;\r\n            &lt;ADDRESS&gt;\r\n             &lt;AddressLineText&gt;1111&lt;/AddressLineText&gt;\r\n\t\t\t&lt;/ADDRESS&gt;\r\n\t\t\t&lt;/PROPERTY&gt;\r\n            &lt;/DEAL&gt;\r\n\t\t\t&lt;DEAL&gt;\r\n\t\t\t &lt;PROPERTY&gt;\r\n            &lt;ADDRESS&gt;\r\n             &lt;AddressLineText&gt;2222&lt;/AddressLineText&gt;\r\n\t\t\t&lt;/ADDRESS&gt;\r\n\t\t\t&lt;/PROPERTY&gt;\r\n            &lt;/DEAL&gt;\r\n\t\t\t&lt;DEAL&gt;\r\n\t\t\t &lt;PROPERTY&gt;\r\n            &lt;ADDRESS&gt;\r\n             &lt;AddressLineText&gt;3333&lt;/AddressLineText&gt;\r\n\t\t\t&lt;/ADDRESS&gt;\r\n\t\t\t&lt;/PROPERTY&gt;\r\n            &lt;/DEAL&gt;\r\n\t\t&lt;/DEALS&gt;\r\n\t&lt;/DEAL_SET&gt;\r\n    &lt;/MESSAGE&gt;\r\n\r\n    Output\r\n    {\r\n     &quot;loans&quot;: []\r\n    }\r\n\r\n    Expected output\r\n    {\r\n    &quot;loans&quot;: [\r\n    {propAddress1: 1111},\r\n    {propAddress1: 2222},\r\n    {propAddress1: 3333}\r\n    ]\r\n    }","title":"Could not read repeated tags value from XML using Freemarker","body":"<p>I am trying to create a Freemarker program to convert XML to JSON . I am not able to read values from the list of values from the repeated tags of a xml .\nAm not able to figure out why i could not read value from repeated tags .</p>\n<pre><code>&lt;#assign DEALS = body[&quot;.//DEALS&quot;]&gt;\n{\nloans:  [\n&lt;#list DEALS as d&gt;\n    {\n        &lt;#assign PROPERTY = d[&quot;.//PROPERTY&quot;]&gt;\n        propAddress1: ${PROPERTY[&quot;.//AddressLineText&quot;]}\n    }\n&lt;/#list&gt;\n]\n</code></pre>\n<p>}</p>\n<pre><code>&lt;MESSAGE&gt;\n&lt;DEAL_SETS&gt;\n    &lt;DEALS&gt;\n        &lt;DEAL&gt;\n         &lt;PROPERTY&gt;\n        &lt;ADDRESS&gt;\n         &lt;AddressLineText&gt;1111&lt;/AddressLineText&gt;\n        &lt;/ADDRESS&gt;\n        &lt;/PROPERTY&gt;\n        &lt;/DEAL&gt;\n        &lt;DEAL&gt;\n         &lt;PROPERTY&gt;\n        &lt;ADDRESS&gt;\n         &lt;AddressLineText&gt;2222&lt;/AddressLineText&gt;\n        &lt;/ADDRESS&gt;\n        &lt;/PROPERTY&gt;\n        &lt;/DEAL&gt;\n        &lt;DEAL&gt;\n         &lt;PROPERTY&gt;\n        &lt;ADDRESS&gt;\n         &lt;AddressLineText&gt;3333&lt;/AddressLineText&gt;\n        &lt;/ADDRESS&gt;\n        &lt;/PROPERTY&gt;\n        &lt;/DEAL&gt;\n    &lt;/DEALS&gt;\n&lt;/DEAL_SET&gt;\n&lt;/MESSAGE&gt;\n\nOutput\n{\n &quot;loans&quot;: []\n}\n\nExpected output\n{\n&quot;loans&quot;: [\n{propAddress1: 1111},\n{propAddress1: 2222},\n{propAddress1: 3333}\n]\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":1,"creation_date":1383693644,"post_id":19790026,"comment_id":29437460,"body_markdown":"Do you really mean connection (i.e. multiple requests on the same connection using HTTP keep-alive get the same ID) or do you mean per HTTP request?","body":"Do you really mean connection (i.e. multiple requests on the same connection using HTTP keep-alive get the same ID) or do you mean per HTTP request?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702330421,"post_id":19790026,"comment_id":136880894,"body_markdown":"They are almost certainly not separate connections, and they almost certainly share the same session. If you want to number individual requests, say so.","body":"They are almost certainly not separate connections, and they almost certainly share the same session. If you want to number individual requests, say so."}],"answers":[{"tags":[],"owner":{"account_id":3392035,"reputation":412,"user_id":2846665,"display_name":"Plux"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1383658105,"creation_date":1383658105,"answer_id":19790103,"question_id":19790026,"body_markdown":"One solution could perhaps be to create a new session on every request?\r\n\r\nA way to achieve that would be to set &lt;secure&gt;true&lt;/secure&gt; in session-config/cookie-config in web.xml (unless you are running a HTTPS connection)","title":"Unique identifier for a connection in Tomcat","body":"<p>One solution could perhaps be to create a new session on every request?</p>\n\n<p>A way to achieve that would be to set true in session-config/cookie-config in web.xml (unless you are running a HTTPS connection)</p>\n"},{"tags":[],"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383658215,"creation_date":1383658215,"answer_id":19790142,"question_id":19790026,"body_markdown":"One option is to use a ServletFilter:\r\n\r\n    public class UniqueRequestFilter implements Filter {\r\n    \r\n        public void doFilter(ServletRequest req, ServletResponse res,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n    \r\n            String requestID = UUID.randomUUID().toString()\r\n            //save to ThreadLocal...\r\n    \r\n            try {\r\n                chain.doFilter(req, res);\r\n            }\r\n            finally {\r\n                //remove from ThreadLocal\r\n            }\r\n        }\r\n    \r\n    \r\n        public void init(FilterConfig config) throws ServletException {\r\n        }\r\n    \r\n        public void destroy() {\r\n        }\r\n    }\r\n\r\n\r\nYou will be able to get the request value from the ThreadLocal at any point in your application.","title":"Unique identifier for a connection in Tomcat","body":"<p>One option is to use a ServletFilter:</p>\n\n<pre><code>public class UniqueRequestFilter implements Filter {\n\n    public void doFilter(ServletRequest req, ServletResponse res,\n                         FilterChain chain) throws IOException, ServletException {\n\n        String requestID = UUID.randomUUID().toString()\n        //save to ThreadLocal...\n\n        try {\n            chain.doFilter(req, res);\n        }\n        finally {\n            //remove from ThreadLocal\n        }\n    }\n\n\n    public void init(FilterConfig config) throws ServletException {\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n\n<p>You will be able to get the request value from the ThreadLocal at any point in your application.</p>\n"},{"comments":[{"owner":{"account_id":1905474,"reputation":81,"user_id":1720448,"display_name":"Paul Cunningham"},"score":0,"creation_date":1503600769,"post_id":19790553,"comment_id":78696817,"body_markdown":"This is useful, but a new JSESSIONID would need to be generated for &quot;every connection&quot; if it were to be considered as a solution. Is this possible, or does Tomcat provide a file-based session cache by default. Can sessions be turned off while still generating the JSESSIONID?","body":"This is useful, but a new JSESSIONID would need to be generated for &quot;every connection&quot; if it were to be considered as a solution. Is this possible, or does Tomcat provide a file-based session cache by default. Can sessions be turned off while still generating the JSESSIONID?"}],"tags":[],"owner":{"account_id":3154697,"reputation":7044,"user_id":2667343,"display_name":"pasha701"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1383659361,"creation_date":1383659361,"answer_id":19790553,"question_id":19790026,"body_markdown":"Servlet container has session tracking mechanism, usually its cookie with name &quot;JSESSIONID&quot;, you can use it as session identifier.\r\nFrom servlet specification:\r\n\r\nThe standard name of the session tracking cookie must be JSESSIONID,\r\nwhich must be supported by all 3.0 compliant containers\r\n\r\nMore details can be found in servlet specification.","title":"Unique identifier for a connection in Tomcat","body":"<p>Servlet container has session tracking mechanism, usually its cookie with name \"JSESSIONID\", you can use it as session identifier.\nFrom servlet specification:</p>\n\n<p>The standard name of the session tracking cookie must be JSESSIONID,\nwhich must be supported by all 3.0 compliant containers</p>\n\n<p>More details can be found in servlet specification.</p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702325305,"creation_date":1702325305,"answer_id":77642161,"question_id":19790026,"body_markdown":"Jakarta Servlet 6.0 (c. 2022) adds a new method to the [`ServletRequest`](https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/servletrequest) interface: [`getRequestId`](https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/servletrequest#getRequestId()).\r\n\r\nWhile you may have had to write your own request-id-generator in the past, you should now be able to rely on a container-agnostic feature in your web applications.\r\n","title":"Unique identifier for a connection in Tomcat","body":"<p>Jakarta Servlet 6.0 (c. 2022) adds a new method to the <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/servletrequest\" rel=\"nofollow noreferrer\"><code>ServletRequest</code></a> interface: <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/servletrequest#getRequestId()\" rel=\"nofollow noreferrer\"><code>getRequestId</code></a>.</p>\n<p>While you may have had to write your own request-id-generator in the past, you should now be able to rely on a container-agnostic feature in your web applications.</p>\n"}],"owner":{"account_id":99477,"reputation":2851,"user_id":268668,"accept_rate":79,"display_name":"Darek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":19790142,"answer_count":4,"score":3,"last_activity_date":1702325305,"creation_date":1383657853,"question_id":19790026,"body_markdown":"I would like to obtain a unique identifier for every connection established to Tomcat. I am not talking about sessions or uniqueness of users (clients) but every connection. Say, client A sends one GET, then another. In my scenario these are two separate and unique connections. \r\n\r\nIs there any variable or something that can play identifier role for such a connection in Tomcat ? ","title":"Unique identifier for a connection in Tomcat","body":"<p>I would like to obtain a unique identifier for every connection established to Tomcat. I am not talking about sessions or uniqueness of users (clients) but every connection. Say, client A sends one GET, then another. In my scenario these are two separate and unique connections. </p>\n\n<p>Is there any variable or something that can play identifier role for such a connection in Tomcat ? </p>\n"},{"tags":["java","android","tensorflow","model","tensorflow-lite"],"owner":{"account_id":30121631,"reputation":1,"user_id":23083503,"display_name":"Bhg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702324913,"creation_date":1702324913,"question_id":77642130,"body_markdown":"Is there a way in tensorflow to destinct between object photo on paper and real object. \r\nGoal is to block false detection of object photo on paper. \r\n\r\nWith custom trained model, no positive result for this usecase.\r\n\r\nCan tensorflow diffrenciate between real object and photo of the object on paper ","title":"Image on Paper or Real card","body":"<p>Is there a way in tensorflow to destinct between object photo on paper and real object.\nGoal is to block false detection of object photo on paper.</p>\n<p>With custom trained model, no positive result for this usecase.</p>\n<p>Can tensorflow diffrenciate between real object and photo of the object on paper</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1702325952,"post_id":77642121,"comment_id":136880189,"body_markdown":"Your problem is you&#39;re not using asynchronous programming correctly at all.  You image task isn&#39;t being used asynchrnously, and you don&#39;t seem to understand threading.  With your level of knowledge, I suggest using Picasso, Glide, or another image processing library to download the image and load it for you.","body":"Your problem is you&#39;re not using asynchronous programming correctly at all.  You image task isn&#39;t being used asynchrnously, and you don&#39;t seem to understand threading.  With your level of knowledge, I suggest using Picasso, Glide, or another image processing library to download the image and load it for you."},{"owner":{"account_id":26109721,"reputation":45,"user_id":19803853,"display_name":"eag-ehsan"},"score":0,"creation_date":1702326675,"post_id":77642121,"comment_id":136880332,"body_markdown":"Thanks for your guid. I think I found the answer but still trying to do this myself not using that . I think I have to use : taskRunner.executeAsync(new ImageLoadTask(url) -&gt; {}","body":"Thanks for your guid. I think I found the answer but still trying to do this myself not using that . I think I have to use : taskRunner.executeAsync(new ImageLoadTask(url) -&gt; {}"},{"owner":{"account_id":26109721,"reputation":45,"user_id":19803853,"display_name":"eag-ehsan"},"score":0,"creation_date":1702329510,"post_id":77642121,"comment_id":136880758,"body_markdown":"In addition, my App used to work perfectly with  AsyncTask API. but it is deprecated","body":"In addition, my App used to work perfectly with  AsyncTask API. but it is deprecated"}],"owner":{"account_id":26109721,"reputation":45,"user_id":19803853,"display_name":"eag-ehsan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702324815,"creation_date":1702324815,"question_id":77642121,"body_markdown":"Due to the deprecate of AsyncTask API according to this [question (Accepted answer)](https://stackoverflow.com/questions/58767733/the-asynctask-api-is-deprecated-in-android-11-what-are-the-alternatives) I try to change my codes but I don&#39;t know what is the problem , app will be crash when  : `Bitmap tmpBitmap = mImageLoadTask.call();` invokes.\r\n\r\nPlease help me, I spent a lot of time, but I don&#39;t understand where the problem is.\r\n\r\nMy codes:\r\n\r\n**class ImageLoadTask:**\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.concurrent.Callable;\r\npublic class ImageLoadTask implements Callable&lt;Bitmap&gt; {\r\n\r\n    private String url;\r\n    private Context mContex;\r\n    public ImageLoadTask(String url, Context contex) {\r\n        this.url = url;\r\n        this.mContex = contex;\r\n    }\r\n    @Override\r\n    public Bitmap call() {\r\n        try {\r\n            URL urlConnection = new URL(url);\r\n            HttpURLConnection connection = (HttpURLConnection) urlConnection\r\n                    .openConnection();\r\n            connection.setDoInput(true);\r\n            connection.connect();\r\n            InputStream input = connection.getInputStream();\r\n            Bitmap myBitmap = BitmapFactory.decodeStream(input);\r\n            return myBitmap;\r\n        }catch (IOException exception){\r\n            return BitmapFactory.decodeResource(mContex.getResources(), R.drawable.ee);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n**class TaskRunner:**\r\n\r\n```\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class TaskRunner {\r\n    private final Executor executor = Executors.newSingleThreadExecutor(); // change according to your requirements\r\n    private final Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n    public interface Callback&lt;R&gt; {\r\n        void onComplete(R result);\r\n    }\r\n\r\n    public &lt;R&gt; void executeAsync(Callable&lt;R&gt; callable, Callback&lt;R&gt; callback) {\r\n        executor.execute(() -&gt; {\r\n            final R result;\r\n            try {\r\n                result = callable.call();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            handler.post(() -&gt; {\r\n                callback.onComplete(result);\r\n            });\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**in Activity:**\r\n\r\n```\r\npublic class Sendtoserver extends AppCompatActivity {\r\n    private static Context mContext;\r\n    public static Context getContext() {\r\n        return mContext;\r\n    }\r\n    ImageView mImgfromurl;\r\n    Button getfromurlbtn;\r\n\r\n\r\n    ImageLoadTask mImageLoadTask;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sendtoserver);\r\n\r\n        mImgfromurl = (ImageView) findViewById(R.id.imgfromurl_id);\r\n        getfromurlbtn = (Button) findViewById(R.id.getfromurl_btn_id);\r\n\r\n        mImageLoadTask = new ImageLoadTask(&quot;https://www.ourartag.com/upload/pic.jpg&quot;, getContext() );\r\n        getfromurlbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    Bitmap tmpBitmap = mImageLoadTask.call();\r\n                    mImgfromurl.setImageBitmap(tmpBitmap);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nerror Log:\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.ourartag.eandroid, PID: 24006\r\n                                                                                                    java.lang.RuntimeException: android.os.NetworkOnMainThreadException\r\n                                                                                                    \tat com.ourartag.eandroid.Sendtoserver$2.onClick(Sendtoserver.java:99)\r\n                                                                                                    \tat android.view.View.performClick(View.java:8160)\r\n                                                                                                    \tat android.widget.TextView.performClick(TextView.java:16222)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:8137)\r\n                                                                                                    \tat android.view.View.access$3700(View.java:888)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30236)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8653)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n                                                                                                    Caused by: android.os.NetworkOnMainThreadException\r\n                                                                                                    \tat android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1605)\r\n                                                                                                    \tat com.android.org.conscrypt.Platform.blockGuardOnNetwork(Platform.java:426)\r\n                                                                                                    \tat com.android.org.conscrypt.ConscryptEngineSocket$SSLOutputStream.writeInternal(ConscryptEngineSocket.java:657)\r\n                                                                                                    \tat com.android.org.conscrypt.ConscryptEngineSocket$SSLOutputStream.access$200(ConscryptEngineSocket.java:616)\r\n                                                                                                    \tat com.android.org.conscrypt.ConscryptEngineSocket.drainOutgoingQueue(ConscryptEngineSocket.java:585)\r\n                                                                                                    \tat com.android.org.conscrypt.ConscryptEngineSocket.close(ConscryptEngineSocket.java:480)\r\n                                                                                                    \tat com.android.okhttp.internal.Util.closeQuietly(Util.java:95)\r\n                                                                                                    \tat com.android.okhttp.internal.http.StreamAllocation.deallocate(StreamAllocation.java:295)\r\n                                                                                                    \tat com.android.okhttp.internal.http.StreamAllocation.connectionFailed(StreamAllocation.java:332)\r\n                                                                                                    \tat com.android.okhttp.internal.http.HttpEngine.close(HttpEngine.java:591)\r\n                                                                                                    \tat com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:513)\r\n                                                                                                    \tat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\n                                                                                                    \tat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n                                                                                                    \tat com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\n                                                                                                    \tat com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\n```\r\n\r\nIt didn&#39;t matter if this line was there or not.\r\n\r\nin activity onClick :\r\n\r\n```\r\nmImgfromurl.setImageBitmap(tmpBitmap);\r\n```","title":"Put url image in ImageView Using Executors instead of The AsyncTask not working, app crashes","body":"<p>Due to the deprecate of AsyncTask API according to this <a href=\"https://stackoverflow.com/questions/58767733/the-asynctask-api-is-deprecated-in-android-11-what-are-the-alternatives\">question (Accepted answer)</a> I try to change my codes but I don't know what is the problem , app will be crash when  : <code>Bitmap tmpBitmap = mImageLoadTask.call();</code> invokes.</p>\n<p>Please help me, I spent a lot of time, but I don't understand where the problem is.</p>\n<p>My codes:</p>\n<p><strong>class ImageLoadTask:</strong></p>\n<pre><code>import android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.concurrent.Callable;\npublic class ImageLoadTask implements Callable&lt;Bitmap&gt; {\n\n    private String url;\n    private Context mContex;\n    public ImageLoadTask(String url, Context contex) {\n        this.url = url;\n        this.mContex = contex;\n    }\n    @Override\n    public Bitmap call() {\n        try {\n            URL urlConnection = new URL(url);\n            HttpURLConnection connection = (HttpURLConnection) urlConnection\n                    .openConnection();\n            connection.setDoInput(true);\n            connection.connect();\n            InputStream input = connection.getInputStream();\n            Bitmap myBitmap = BitmapFactory.decodeStream(input);\n            return myBitmap;\n        }catch (IOException exception){\n            return BitmapFactory.decodeResource(mContex.getResources(), R.drawable.ee);\n        }\n\n    }\n}\n\n\n</code></pre>\n<p><strong>class TaskRunner:</strong></p>\n<pre><code>import android.os.Handler;\nimport android.os.Looper;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\npublic class TaskRunner {\n    private final Executor executor = Executors.newSingleThreadExecutor(); // change according to your requirements\n    private final Handler handler = new Handler(Looper.getMainLooper());\n\n    public interface Callback&lt;R&gt; {\n        void onComplete(R result);\n    }\n\n    public &lt;R&gt; void executeAsync(Callable&lt;R&gt; callable, Callback&lt;R&gt; callback) {\n        executor.execute(() -&gt; {\n            final R result;\n            try {\n                result = callable.call();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n            handler.post(() -&gt; {\n                callback.onComplete(result);\n            });\n        });\n    }\n}\n</code></pre>\n<p><strong>in Activity:</strong></p>\n<pre><code>public class Sendtoserver extends AppCompatActivity {\n    private static Context mContext;\n    public static Context getContext() {\n        return mContext;\n    }\n    ImageView mImgfromurl;\n    Button getfromurlbtn;\n\n\n    ImageLoadTask mImageLoadTask;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sendtoserver);\n\n        mImgfromurl = (ImageView) findViewById(R.id.imgfromurl_id);\n        getfromurlbtn = (Button) findViewById(R.id.getfromurl_btn_id);\n\n        mImageLoadTask = new ImageLoadTask(&quot;https://www.ourartag.com/upload/pic.jpg&quot;, getContext() );\n        getfromurlbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                try {\n                    Bitmap tmpBitmap = mImageLoadTask.call();\n                    mImgfromurl.setImageBitmap(tmpBitmap);\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n</code></pre>\n<p>error Log:</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.ourartag.eandroid, PID: 24006\n                                                                                                    java.lang.RuntimeException: android.os.NetworkOnMainThreadException\n                                                                                                        at com.ourartag.eandroid.Sendtoserver$2.onClick(Sendtoserver.java:99)\n                                                                                                        at android.view.View.performClick(View.java:8160)\n                                                                                                        at android.widget.TextView.performClick(TextView.java:16222)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\n                                                                                                        at android.view.View.performClickInternal(View.java:8137)\n                                                                                                        at android.view.View.access$3700(View.java:888)\n                                                                                                        at android.view.View$PerformClick.run(View.java:30236)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loop(Looper.java:246)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8653)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n                                                                                                    Caused by: android.os.NetworkOnMainThreadException\n                                                                                                        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1605)\n                                                                                                        at com.android.org.conscrypt.Platform.blockGuardOnNetwork(Platform.java:426)\n                                                                                                        at com.android.org.conscrypt.ConscryptEngineSocket$SSLOutputStream.writeInternal(ConscryptEngineSocket.java:657)\n                                                                                                        at com.android.org.conscrypt.ConscryptEngineSocket$SSLOutputStream.access$200(ConscryptEngineSocket.java:616)\n                                                                                                        at com.android.org.conscrypt.ConscryptEngineSocket.drainOutgoingQueue(ConscryptEngineSocket.java:585)\n                                                                                                        at com.android.org.conscrypt.ConscryptEngineSocket.close(ConscryptEngineSocket.java:480)\n                                                                                                        at com.android.okhttp.internal.Util.closeQuietly(Util.java:95)\n                                                                                                        at com.android.okhttp.internal.http.StreamAllocation.deallocate(StreamAllocation.java:295)\n                                                                                                        at com.android.okhttp.internal.http.StreamAllocation.connectionFailed(StreamAllocation.java:332)\n                                                                                                        at com.android.okhttp.internal.http.HttpEngine.close(HttpEngine.java:591)\n                                                                                                        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:513)\n                                                                                                        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\n                                                                                                        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\n                                                                                                        at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\n                                                                                                        at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\n</code></pre>\n<p>It didn't matter if this line was there or not.</p>\n<p>in activity onClick :</p>\n<pre><code>mImgfromurl.setImageBitmap(tmpBitmap);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7721459,"reputation":419,"user_id":5847556,"display_name":"localghost"},"score":1,"creation_date":1510219400,"post_id":47197920,"comment_id":81344711,"body_markdown":"Equality comparison `rightCtr==leftCtr` should be checked outside the for-loop.","body":"Equality comparison <code>rightCtr==leftCtr</code> should be checked outside the for-loop."},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1510219571,"post_id":47197920,"comment_id":81344810,"body_markdown":"Thank you so much!","body":"Thank you so much!"},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1510219708,"post_id":47197920,"comment_id":81344904,"body_markdown":"@musefan yup, Just did it. Thank you so much","body":"@musefan yup, Just did it. Thank you so much"},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1510219886,"post_id":47197920,"comment_id":81345017,"body_markdown":"The error is that there is same amount of left curly bracket and right curly bracket, but it just does not match like }}{{ this.","body":"The error is that there is same amount of left curly bracket and right curly bracket, but it just does not match like }}{{ this."},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1510219903,"post_id":47197920,"comment_id":81345029,"body_markdown":"@musefan yup, realized that just now and fixed it haha","body":"@musefan yup, realized that just now and fixed it haha"}],"answers":[{"comments":[{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1510220431,"post_id":47198161,"comment_id":81345369,"body_markdown":"Okay, makes sense but I do not understand how it also works for cases like }}{{ ? Thank you","body":"Okay, makes sense but I do not understand how it also works for cases like }}{{ ? Thank you"},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":1,"creation_date":1510220563,"post_id":47198161,"comment_id":81345448,"body_markdown":"Because even though it&#39;s }}{{ wouldn&#39;t that equal zero as well? since it is              -1-1+1+1 ?","body":"Because even though it&#39;s }}{{ wouldn&#39;t that equal zero as well? since it is              -1-1+1+1 ?"},{"owner":{"account_id":446019,"reputation":48115,"user_id":838807,"accept_rate":89,"display_name":"musefan"},"score":1,"creation_date":1510220649,"post_id":47198161,"comment_id":81345503,"body_markdown":"@CodingBat: Yes it would equal zero... *if* we let it ever get to the end of the function. This is why we check for negative numbers on every loop. In your example, the first loop `count` will be `-1` and that means it&#39;s invalid. If we get `-1` then we exit the function early so we never end up checking the total counts, and we basically stop processing the rest of the string.","body":"@CodingBat: Yes it would equal zero... <i>if</i> we let it ever get to the end of the function. This is why we check for negative numbers on every loop. In your example, the first loop <code>count</code> will be <code>-1</code> and that means it&#39;s invalid. If we get <code>-1</code> then we exit the function early so we never end up checking the total counts, and we basically stop processing the rest of the string."},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1510220774,"post_id":47198161,"comment_id":81345589,"body_markdown":"Okay, I get it now thank you so much and have a wonderful day!","body":"Okay, I get it now thank you so much and have a wonderful day!"}],"tags":[],"owner":{"account_id":446019,"reputation":48115,"user_id":838807,"accept_rate":89,"display_name":"musefan"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510220987,"creation_date":1510219585,"answer_id":47198161,"question_id":47197920,"body_markdown":"I think the easiest way is just to keep a single count, which you increment for an open bracket and decrement for a closed bracket. then use the following rules:\r\n\r\n1. If the count is **ever** below 0, then it is invalid (i.e. a closing bracket that was never opened)\r\n2. If **at the end** the count is not 0, then it is invalid (i.e. too many open brackets)\r\n\r\nWith that in mind your code would look like this:\r\n\r\n    public boolean bracketsMatch(String brackets)\r\n    {\r\n        int count = 0;\r\n    \r\n        for (int i=0; i&lt; brackets.length(); i++)\r\n        {\r\n            char c = brackets.charAt(i);\r\n            if ( c == &#39;{&#39;)\r\n            {\r\n               count++;\r\n            }\r\n            else if (c ==&#39;}&#39;)\r\n            {\r\n                count--;\r\n            }\r\n    \r\n            // Process the first rule.\r\n            // Check if we have a negative count (i.e. close bracket without a matching opener).\r\n            // If we have a negative then we know the string is invalid, so we can stop processing and return (false) early.\r\n            if (count &lt; 0)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        // Process the second rule.\r\n        // If we got this far then we know there are no invalid close brackets, so now we need to just check to make sure we didn&#39;t have too many open brackets.\r\n        // Return true if everything matching (i.e. 0), otherwise false.\r\n        return count == 0; \r\n    }","title":"Write a method that takes a string of curly brackets and returns true if the brackets match up and false if they don’t","body":"<p>I think the easiest way is just to keep a single count, which you increment for an open bracket and decrement for a closed bracket. then use the following rules:</p>\n\n<ol>\n<li>If the count is <strong>ever</strong> below 0, then it is invalid (i.e. a closing bracket that was never opened)</li>\n<li>If <strong>at the end</strong> the count is not 0, then it is invalid (i.e. too many open brackets)</li>\n</ol>\n\n<p>With that in mind your code would look like this:</p>\n\n<pre><code>public boolean bracketsMatch(String brackets)\n{\n    int count = 0;\n\n    for (int i=0; i&lt; brackets.length(); i++)\n    {\n        char c = brackets.charAt(i);\n        if ( c == '{')\n        {\n           count++;\n        }\n        else if (c =='}')\n        {\n            count--;\n        }\n\n        // Process the first rule.\n        // Check if we have a negative count (i.e. close bracket without a matching opener).\n        // If we have a negative then we know the string is invalid, so we can stop processing and return (false) early.\n        if (count &lt; 0)\n        {\n            return false;\n        }\n    }\n\n    // Process the second rule.\n    // If we got this far then we know there are no invalid close brackets, so now we need to just check to make sure we didn't have too many open brackets.\n    // Return true if everything matching (i.e. 0), otherwise false.\n    return count == 0; \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":0,"creation_date":1510229202,"post_id":47198952,"comment_id":81351162,"body_markdown":"It&#39;s nice, but mostly relevant when the program also needs to handle multiple kinds of brackets, e.g. ( { and [.","body":"It&#39;s nice, but mostly relevant when the program also needs to handle multiple kinds of brackets, e.g. ( { and [."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":1,"creation_date":1510229555,"post_id":47198952,"comment_id":81351398,"body_markdown":"This answer was according to the OP&#39;s requirements. But implementing it for any type of brackets is not difficult. :)","body":"This answer was according to the OP&#39;s requirements. But implementing it for any type of brackets is not difficult. :)"}],"tags":[],"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510221908,"creation_date":1510221908,"answer_id":47198952,"question_id":47197920,"body_markdown":"Already **Musefan** gave a brilliant answer. Here is an another implementation. Using Stack Data Structure.\r\n\r\n    public static boolean isBracketMatch(String str) {\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        char c;\r\n\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            c = str.charAt(i);\r\n            if (c == &#39;{&#39;)\r\n                stack.push(&#39;}&#39;);\r\n            else if (c == &#39;}&#39;) {\r\n                if (!stack.empty() &amp;&amp; stack.peek() == c)\r\n                        stack.pop();\r\n                else\r\n                    return false;\r\n            }\r\n        }\r\n        return stack.empty();\r\n    }","title":"Write a method that takes a string of curly brackets and returns true if the brackets match up and false if they don’t","body":"<p>Already <strong>Musefan</strong> gave a brilliant answer. Here is an another implementation. Using Stack Data Structure.</p>\n\n<pre><code>public static boolean isBracketMatch(String str) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    char c;\n\n    for (int i = 0; i &lt; str.length(); i++) {\n        c = str.charAt(i);\n        if (c == '{')\n            stack.push('}');\n        else if (c == '}') {\n            if (!stack.empty() &amp;&amp; stack.peek() == c)\n                    stack.pop();\n            else\n                return false;\n        }\n    }\n    return stack.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8031,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1702324694,"creation_date":1510218936,"question_id":47197920,"body_markdown":"I was working on this problem in CodeHS, where I have to write a method that takes a string of curly brackets and returns true if the brackets match up and false if they don’t.\r\n\r\n\r\nthis is my coding so far, and I do not know what to do when there&#39;s same amount of left curly bracket and right curly bracket, but those just does not match like (  }}{{  ) this for an example.\r\n\r\n   \r\n\r\n    public boolean bracketsMatch(String brackets)\r\n    {\r\n        boolean result = true;\r\n        int leftCtr = 0 ;  //&quot;{&quot;;\r\n        int rightCtr =0 ; // &quot;}&quot;;\r\n        int count = 0;\r\n        \r\n        for (int i=0; i&lt;brackets.length(); i++)\r\n        {\r\n            char c = brackets.charAt(i);\r\n            if ( c == &#39;{&#39;)\r\n            {\r\n               leftCtr++;\r\n            }\r\n            if (c ==&#39;}&#39;)\r\n            {\r\n                rightCtr++;\r\n            }\r\n        }\r\n\r\n        if (rightCtr==leftCtr)\r\n        {\r\n            result= true;\r\n        }\r\n        else \r\n        {\r\n            return false;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nThank you\r\n","title":"Write a method that takes a string of curly brackets and returns true if the brackets match up and false if they don’t","body":"<p>I was working on this problem in CodeHS, where I have to write a method that takes a string of curly brackets and returns true if the brackets match up and false if they don’t.</p>\n\n<p>this is my coding so far, and I do not know what to do when there's same amount of left curly bracket and right curly bracket, but those just does not match like (  }}{{  ) this for an example.</p>\n\n<pre><code>public boolean bracketsMatch(String brackets)\n{\n    boolean result = true;\n    int leftCtr = 0 ;  //\"{\";\n    int rightCtr =0 ; // \"}\";\n    int count = 0;\n\n    for (int i=0; i&lt;brackets.length(); i++)\n    {\n        char c = brackets.charAt(i);\n        if ( c == '{')\n        {\n           leftCtr++;\n        }\n        if (c =='}')\n        {\n            rightCtr++;\n        }\n    }\n\n    if (rightCtr==leftCtr)\n    {\n        result= true;\n    }\n    else \n    {\n        return false;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","xsd","numberformatexception","xjc"],"answers":[{"tags":[],"owner":{"account_id":18396293,"reputation":1,"user_id":13400659,"display_name":"ali raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702324679,"creation_date":1702324679,"answer_id":77642107,"question_id":77141627,"body_markdown":"While building the UI project, we generated Java classes from the XML schema, expecting it to map the XML type to the corresponding Java type correctly. However, in this case, it seems to generate incorrect code that tries to parse the XML value as an integer rather than a decimal, resulting in an error and failing to generate the correct annotations.To Fix the Issue\r\n\r\n[image.png][1]\r\n\r\nThe &#39;XJsr303Annotations&#39; option allows for generating Java classes with annotations.\r\n\r\n[enter image description here][2]\r\n\r\nto add the correct annotation @DecimalMax And @DecimalMin for maxExculsive and minExculsive we have to add the -XJsr303Annotations:JSR_349=true\r\n\r\n`arg(value: &quot;-XJsr303Annotations:JSR_349=true&quot;)`","title":"Issue with JAXB and xjc: Parsing xs:decimal with minExclusive constraint when building the project","body":"<p>While building the UI project, we generated Java classes from the XML schema, expecting it to map the XML type to the corresponding Java type correctly. However, in this case, it seems to generate incorrect code that tries to parse the XML value as an integer rather than a decimal, resulting in an error and failing to generate the correct annotations.To Fix the Issue</p>\n<p>[image.png][1]</p>\n<p>The 'XJsr303Annotations' option allows for generating Java classes with annotations.</p>\n<p>[enter image description here][2]</p>\n<p>to add the correct annotation @DecimalMax And @DecimalMin for maxExculsive and minExculsive we have to add the -XJsr303Annotations:JSR_349=true</p>\n<p><code>arg(value: &quot;-XJsr303Annotations:JSR_349=true&quot;)</code></p>\n"}],"owner":{"account_id":18396293,"reputation":1,"user_id":13400659,"display_name":"ali raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77642107,"answer_count":1,"score":0,"last_activity_date":1702324679,"creation_date":1695206616,"question_id":77141627,"body_markdown":"I am facing an issue with JAXB and xjc while generating Java code from an XML schema (XSD) that includes an xs:decimal element with a minExclusive constraint. Despite specifying the type as xs:decimal in my XSD, xjc is generating code that attempts to parse the values as integers, leading to a NumberFormatException.\r\n\r\nHere&#39;s a simplified version of my XSD:\r\n\r\n```\r\n&lt;xs:element name=&quot;test&quot;&gt;\r\n    &lt;xs:simpleType&gt;\r\n        &lt;xs:restriction base=&quot;xs:decimal&quot;&gt;\r\n            &lt;xs:minExclusive value=&quot;1.5&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n&lt;/xs:element&gt;\r\n```\r\n\r\n**Code that is being generating**\r\n\r\n```\r\n \r\n    @XmlElement(required = true)\r\n\r\n    @NotNull\r\n\r\n    @DecimalMin &lt;- error occurs on this line\r\n\r\n    protected BigDecimal test\r\n```\r\n\r\n**ERROR**\r\n\r\n&gt; Task :command-xsd:src_frm_xsd  \r\n&gt; \\[ant:xjc\\] java.lang.NumberFormatException: For input string: &quot;1.5&quot;  \r\n&gt; \\[ant:xjc\\]       at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n&gt; \\[ant:xjc\\]       at java.lang.Integer.parseInt(Integer.java:580)  \r\n&gt; \\[ant:xjc\\]       at java.math.BigInteger.\\&lt;init\\&gt;(BigInteger.java:472)\r\n&gt; \\[ant:xjc\\]       at java.math.BigInteger.\\&lt;init\\&gt;(BigInteger.java:608)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processType(JaxbValidationsPlugins.java:324)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:219)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:203)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.run(JaxbValidationsPlugins.java:152)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.XJC2Task.\\_doXJC(XJC2Task.java:524)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.XJC2Task.doXJC(XJC2Task.java:457)\r\n&gt; \\[ant:xjc\\]       at com.sun.tools.xjc.XJC2Task.execute(XJC2Task.java:380)\r\n&gt; \\[ant:xjc\\]       at com.sun.istack.tools.ProtectedTask.execute(ProtectedTask.java:103)\r\n&gt; \\[ant:xjc\\]       at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n&gt; \\[ant:xjc\\]       at sun.reflect.GeneratedMethodAccessor88.invoke(Unknown Source)\r\n&gt; \\[ant:xjc\\]       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \\[ant:xjc\\]       at java.lang.reflect.Method.invoke(Method.java:498)\r\n&gt; \\[ant:xjc\\]       at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \\[ant:xjc\\]       at groovy.util.AntBuilder.performTask(AntBuilder.java:333)\r\n&gt; \\[ant:xjc\\]       at groovy.util.AntBuilder.nodeCompleted(AntBuilder.java:278)\r\n&gt; \\[ant:xjc\\]       at org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:80)\r\n&gt; \\[ant:xjc\\]       at groovy.util.BuilderSupport.doInvokeMethod(BuilderSupport.java:151)\r\n&gt; \\[ant:xjc\\]       at groovy.util.AntBuilder.doInvokeMethod(AntBuilder.java:213)\r\n&gt; \\[ant:xjc\\]       at org.gradle.api.internal.project.ant.BasicAntBuilder.doInvokeMethod(BasicAntBuilder.java:107)\r\n&gt; \\[ant:xjc\\]       at groovy.util.BuilderSupport.invokeMethod(BuilderSupport.java:64)\r\n&gt; \\[ant:xjc\\]       at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:43)\r\n&gt; \\[ant:xjc\\]       at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:135)\r\n\r\nerror: annotation @DecimalMin\r\n\r\nis missing a default value for the element &#39;value&#39;\r\n\r\n    @DecimalMin\r\n    \r\n    ^\r\n\r\nAnd the generated code is trying to parse the values as integers, resulting in a NumberFormatException.\r\n\r\nI&#39;ve tried adding custom JAXB bindings, but the issue persists. How can I ensure that xjc correctly generates code that handles xs:decimal with minExclusive as a BigDecimal and not as an integer?\r\n\r\nAny insights or suggestions would be greatly appreciated. Thank you!","title":"Issue with JAXB and xjc: Parsing xs:decimal with minExclusive constraint when building the project","body":"<p>I am facing an issue with JAXB and xjc while generating Java code from an XML schema (XSD) that includes an xs:decimal element with a minExclusive constraint. Despite specifying the type as xs:decimal in my XSD, xjc is generating code that attempts to parse the values as integers, leading to a NumberFormatException.</p>\n<p>Here's a simplified version of my XSD:</p>\n<pre><code>&lt;xs:element name=&quot;test&quot;&gt;\n    &lt;xs:simpleType&gt;\n        &lt;xs:restriction base=&quot;xs:decimal&quot;&gt;\n            &lt;xs:minExclusive value=&quot;1.5&quot;/&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n&lt;/xs:element&gt;\n</code></pre>\n<p><strong>Code that is being generating</strong></p>\n<pre><code> \n    @XmlElement(required = true)\n\n    @NotNull\n\n    @DecimalMin &lt;- error occurs on this line\n\n    protected BigDecimal test\n</code></pre>\n<p><strong>ERROR</strong></p>\n<blockquote>\n<p>Task :command-xsd:src_frm_xsd<br />\n[ant:xjc] java.lang.NumberFormatException: For input string: &quot;1.5&quot;<br />\n[ant:xjc]       at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n[ant:xjc]       at java.lang.Integer.parseInt(Integer.java:580)<br />\n[ant:xjc]       at java.math.BigInteger.&lt;init&gt;(BigInteger.java:472)\n[ant:xjc]       at java.math.BigInteger.&lt;init&gt;(BigInteger.java:608)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processType(JaxbValidationsPlugins.java:324)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:219)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.processElement(JaxbValidationsPlugins.java:203)\n[ant:xjc]       at com.sun.tools.xjc.addon.krasa.JaxbValidationsPlugins.run(JaxbValidationsPlugins.java:152)\n[ant:xjc]       at com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\n[ant:xjc]       at com.sun.tools.xjc.XJC2Task._doXJC(XJC2Task.java:524)\n[ant:xjc]       at com.sun.tools.xjc.XJC2Task.doXJC(XJC2Task.java:457)\n[ant:xjc]       at com.sun.tools.xjc.XJC2Task.execute(XJC2Task.java:380)\n[ant:xjc]       at com.sun.istack.tools.ProtectedTask.execute(ProtectedTask.java:103)\n[ant:xjc]       at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n[ant:xjc]       at sun.reflect.GeneratedMethodAccessor88.invoke(Unknown Source)\n[ant:xjc]       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ant:xjc]       at java.lang.reflect.Method.invoke(Method.java:498)\n[ant:xjc]       at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n[ant:xjc]       at groovy.util.AntBuilder.performTask(AntBuilder.java:333)\n[ant:xjc]       at groovy.util.AntBuilder.nodeCompleted(AntBuilder.java:278)\n[ant:xjc]       at org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:80)\n[ant:xjc]       at groovy.util.BuilderSupport.doInvokeMethod(BuilderSupport.java:151)\n[ant:xjc]       at groovy.util.AntBuilder.doInvokeMethod(AntBuilder.java:213)\n[ant:xjc]       at org.gradle.api.internal.project.ant.BasicAntBuilder.doInvokeMethod(BasicAntBuilder.java:107)\n[ant:xjc]       at groovy.util.BuilderSupport.invokeMethod(BuilderSupport.java:64)\n[ant:xjc]       at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:43)\n[ant:xjc]       at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:135)</p>\n</blockquote>\n<p>error: annotation @DecimalMin</p>\n<p>is missing a default value for the element 'value'</p>\n<pre><code>@DecimalMin\n\n^\n</code></pre>\n<p>And the generated code is trying to parse the values as integers, resulting in a NumberFormatException.</p>\n<p>I've tried adding custom JAXB bindings, but the issue persists. How can I ensure that xjc correctly generates code that handles xs:decimal with minExclusive as a BigDecimal and not as an integer?</p>\n<p>Any insights or suggestions would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","response","resteasy"],"comments":[{"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"score":0,"creation_date":1578042660,"post_id":59575752,"comment_id":105318349,"body_markdown":"Which framework do you use?","body":"Which framework do you use?"},{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":0,"creation_date":1578042725,"post_id":59575752,"comment_id":105318375,"body_markdown":"java ee and angular with resteasy","body":"java ee and angular with resteasy"},{"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"score":0,"creation_date":1578042836,"post_id":59575752,"comment_id":105318430,"body_markdown":"I assume therefore that Java EE is serializing instances of X to JSON, right?","body":"I assume therefore that Java EE is serializing instances of X to JSON, right?"},{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":0,"creation_date":1578042867,"post_id":59575752,"comment_id":105318446,"body_markdown":"Yes, it&#39; s right.","body":"Yes, it&#39; s right."},{"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"score":0,"creation_date":1578042893,"post_id":59575752,"comment_id":105318462,"body_markdown":"Which application server are you using? JBoss?","body":"Which application server are you using? JBoss?"},{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":0,"creation_date":1578042933,"post_id":59575752,"comment_id":105318476,"body_markdown":"Tomcat v8.5 . . .","body":"Tomcat v8.5 . . ."},{"owner":{"account_id":2448460,"reputation":580,"user_id":2135262,"display_name":"mahieus"},"score":1,"creation_date":1578043949,"post_id":59575752,"comment_id":105318879,"body_markdown":"are you looking for something like this? https://stackoverflow.com/questions/9112900/jackson-how-to-prevent-field-serialization","body":"are you looking for something like this? <a href=\"https://stackoverflow.com/questions/9112900/jackson-how-to-prevent-field-serialization\" title=\"jackson how to prevent field serialization\">stackoverflow.com/questions/9112900/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14136121,"reputation":11,"user_id":10212505,"display_name":"Marcos Gon&#231;alves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702324577,"creation_date":1702324577,"answer_id":77642095,"question_id":59575752,"body_markdown":"I&#39;m working with resteasy using jsonb.\r\nThe way I found to hide the field was by using @JsonbTransient in my getters. Every getter I need to hide, I noted with this.\r\nIn my case, I&#39;m using Lombok and @Getter, so I had to manually recreate the specific getter. Try this:\r\n\r\n    @JsonbTransient\r\n\tpublic String getB( ) {\r\n\t\treturn b;\r\n\t}\r\n    @JsonbTransient\r\n\tpublic String getC( ) {\r\n\t\treturn c;\r\n\t}","title":"Hide some object fields from response with resteasy annotation","body":"<p>I'm working with resteasy using jsonb.\nThe way I found to hide the field was by using @JsonbTransient in my getters. Every getter I need to hide, I noted with this.\nIn my case, I'm using Lombok and @Getter, so I had to manually recreate the specific getter. Try this:</p>\n<pre><code>@JsonbTransient\npublic String getB( ) {\n    return b;\n}\n@JsonbTransient\npublic String getC( ) {\n    return c;\n}\n</code></pre>\n"}],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702324577,"creation_date":1578042597,"question_id":59575752,"body_markdown":"Exists a resteasy annotation to hide some object fields?\r\n\r\nFor example I have \r\n\r\n    public class X {\r\n        private int a;\r\n        private int b;\r\n        private int c;\r\n    }\r\n\r\nWhen i check in the fiddler the front-end receive a,b and c but i only want to send a without create another response object (only with annotation on the field).\r\n\r\nCan I do this? Exists an annotation?\r\n\r\n\r\nThank you. ","title":"Hide some object fields from response with resteasy annotation","body":"<p>Exists a resteasy annotation to hide some object fields?</p>\n\n<p>For example I have </p>\n\n<pre><code>public class X {\n    private int a;\n    private int b;\n    private int c;\n}\n</code></pre>\n\n<p>When i check in the fiddler the front-end receive a,b and c but i only want to send a without create another response object (only with annotation on the field).</p>\n\n<p>Can I do this? Exists an annotation?</p>\n\n<p>Thank you. </p>\n"},{"tags":["java","persistence"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702198877,"post_id":77634096,"comment_id":136865589,"body_markdown":"What IDE are you using?  Or is this happening when you build from the command line?","body":"What IDE are you using?  Or is this happening when you build from the command line?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702199059,"post_id":77634096,"comment_id":136865597,"body_markdown":"(For Eclipse, try rerunning `gradle eclipse` to update the project&#39;s classpath.)","body":"(For Eclipse, try rerunning <code>gradle eclipse</code> to update the project&#39;s classpath.)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1702206579,"post_id":77634096,"comment_id":136866091,"body_markdown":"Probably not related to your problem, but if you&#39;re using Spring Boot, you should let Spring Boot manage the dependencies (especially the versions), instead of doing it yourself. Also, you&#39;re specifying dependencies which the Spring Boot starters already pull in for you.","body":"Probably not related to your problem, but if you&#39;re using Spring Boot, you should let Spring Boot manage the dependencies (especially the versions), instead of doing it yourself. Also, you&#39;re specifying dependencies which the Spring Boot starters already pull in for you."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1702233161,"post_id":77634096,"comment_id":136868613,"body_markdown":"@MarkRotteveel is right. All those `jakarta.*` dependencies should be removed as these are also transitive dependencies from `spring-boot-starter-data-jpa`, `spring-boot-starter-web` and `spring-boot-starter-validation`. The same goes for `hibernate-core`.","body":"@MarkRotteveel is right. All those <code>jakarta.*</code> dependencies should be removed as these are also transitive dependencies from <code>spring-boot-starter-data-jpa</code>, <code>spring-boot-starter-web</code> and <code>spring-boot-starter-validation</code>. The same goes for <code>hibernate-core</code>."},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702235949,"post_id":77634096,"comment_id":136868927,"body_markdown":"I&#39;m using the IntelliJ community version @StephenC. I removed the Jarkarta and hibernate-core dependencies, but the problem persists.","body":"I&#39;m using the IntelliJ community version @StephenC. I removed the Jarkarta and hibernate-core dependencies, but the problem persists."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702249080,"post_id":77634096,"comment_id":136870056,"body_markdown":"Does this happening when you build from the command line?","body":"Does this happening when you build from the command line?"},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702256040,"post_id":77634096,"comment_id":136870647,"body_markdown":"Yes, it does. I&#39;ve tried using the ./gradlew build command, and it fails out on a test I haven&#39;t worked on yet. It gives me the error message: \n*Myproject*Tests &gt; contextLoads() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:180","body":"Yes, it does. I&#39;ve tried using the ./gradlew build command, and it fails out on a test I haven&#39;t worked on yet. It gives me the error message:  <i>Myproject</i>Tests &gt; contextLoads() FAILED     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:180"},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702256044,"post_id":77634096,"comment_id":136870648,"body_markdown":"Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1775\n            Caused by: jakarta.persistence.PersistenceException at AbstractEntityManagerFactoryBean.java:421\n                Caused by: org.hibernate.exception.GenericJDBCException at StandardSQLExceptionConverter.java:63\n                    Caused by: java.sql.SQLException at SQLError.java:130","body":"Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1775             Caused by: jakarta.persistence.PersistenceException at AbstractEntityManagerFactoryBean.java:421                 Caused by: org.hibernate.exception.GenericJDBCException at StandardSQLExceptionConverter.java:63                     Caused by: java.sql.SQLException at SQLError.java:130"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702294615,"post_id":77634096,"comment_id":136874609,"body_markdown":"That is an entirely different error than the one in your post (a runtime error instead of a compiletime error), which means the problem goes away when you run gradle itself. It sounds that you need to reimport/refresh Gradle in IntelliJ (the refresh button in the Gradle tab) so it updates the dependencies. Or you haven&#39;t actually created the IntelliJ project as a Gradle project, so the dependencies in your build.gradle are not actually used to configure IntelliJ.","body":"That is an entirely different error than the one in your post (a runtime error instead of a compiletime error), which means the problem goes away when you run gradle itself. It sounds that you need to reimport/refresh Gradle in IntelliJ (the refresh button in the Gradle tab) so it updates the dependencies. Or you haven&#39;t actually created the IntelliJ project as a Gradle project, so the dependencies in your build.gradle are not actually used to configure IntelliJ."},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702319075,"post_id":77634096,"comment_id":136879079,"body_markdown":"I made sure that Gradle is installed in the plugins menu in settings, but there is no Gradle tab present so I can&#39;t reimport Gradle. I have rebuilt the project multiple times during this process though. I&#39;ve tried to make sure that it&#39;s a created as a Gradle project, but I&#39;m not sure how to tell whether it is or not. I have all the proper gradle files in my project structure, and, as far as I can tell, all the right plugins on my build.gradle file.","body":"I made sure that Gradle is installed in the plugins menu in settings, but there is no Gradle tab present so I can&#39;t reimport Gradle. I have rebuilt the project multiple times during this process though. I&#39;ve tried to make sure that it&#39;s a created as a Gradle project, but I&#39;m not sure how to tell whether it is or not. I have all the proper gradle files in my project structure, and, as far as I can tell, all the right plugins on my build.gradle file."},{"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"score":0,"creation_date":1702319729,"post_id":77634096,"comment_id":136879190,"body_markdown":"I commented out the &quot;tasks.named(&#39;test&#39;)&quot; and the project had a successful build from the terminal, but most of my annotations still aren&#39;t recognized. In case it helps, here&#39;s a list of some of the annotations that won&#39;t load successfully in my project:\nimport org.springframework.boot.test.context.SpringBootTest; - &quot;springframework isn&#39;t recognized, \n&quot;@SpringBootTest&quot;, \nimport jakarta.persistence.Entity; - jakarta is uncrecognized, \n&quot;@Entity&quot;, \n&quot;@Id&quot;, \n&quot;@SpringBootApplication&quot;, \nimport org.springframework.boot.SpringApplication; - springframework is unrecognized","body":"I commented out the &quot;tasks.named(&#39;test&#39;)&quot; and the project had a successful build from the terminal, but most of my annotations still aren&#39;t recognized. In case it helps, here&#39;s a list of some of the annotations that won&#39;t load successfully in my project: import org.springframework.boot.test.context.SpringBootTest; - &quot;springframework isn&#39;t recognized,  &quot;@SpringBootTest&quot;,  import jakarta.persistence.Entity; - jakarta is uncrecognized,  &quot;@Entity&quot;,  &quot;@Id&quot;,  &quot;@SpringBootApplication&quot;,  import org.springframework.boot.SpringApplication; - springframework is unrecognized"}],"answers":[{"comments":[{"owner":{"account_id":26518992,"reputation":1059,"user_id":20153035,"display_name":"Fastnlight"},"score":0,"creation_date":1702326832,"post_id":77642093,"comment_id":136880357,"body_markdown":"Welcome to Stack Overflow! Please do not post answers that just link to other posts. If the question was answered somewhere else, then flag this question as [a duplicate](//stackoverflow.com/help/duplicates) of the other post.","body":"Welcome to Stack Overflow! Please do not post answers that just link to other posts. If the question was answered somewhere else, then flag this question as <a href=\"//stackoverflow.com/help/duplicates\">a duplicate</a> of the other post."}],"tags":[],"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702324571,"creation_date":1702324571,"answer_id":77642093,"question_id":77634096,"body_markdown":"I solved the issue, I found the answer with this question: &quot;https://stackoverflow.com/questions/20376965/no-gradle-tool-window-in-intellij-idea-13&quot;. Thanks for the help everyone!","title":"java: package jakarta.persistence does not exist","body":"<p>I solved the issue, I found the answer with this question: &quot;https://stackoverflow.com/questions/20376965/no-gradle-tool-window-in-intellij-idea-13&quot;. Thanks for the help everyone!</p>\n"}],"owner":{"account_id":30109572,"reputation":1,"user_id":23074443,"display_name":"Joe Minor"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702324571,"creation_date":1702195446,"question_id":77634096,"body_markdown":"I&#39;m trying to use @Entity and @Id on another part of my project, but I need the error &quot;java: package jakarta.persistence does not exist&quot; to be resolved first. I&#39;ve been working on this all day, but I really haven&#39;t gotten anywhere. I&#39;m using Gradle and below are my dependencies. Does anyone know how to fix this problem? Please let me know if you need more information.\r\n\r\n```groovy\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n}\r\n\r\ngroup = &#39;com.*group-name*&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\njava {\r\n\ttoolchain {\r\n\t\tlanguageVersion = JavaLanguageVersion.of(17)\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.2.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web:3.2.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter:3.2.0&#39;\r\n\timplementation &#39;mysql:mysql-connector-java:8.0.32&#39;\r\n\timplementation &#39;org.jetbrains:annotations:22.0.0&#39;\r\n\timplementation &#39;org.hibernate:hibernate-core:6.4.0.Final&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation:3.2.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-gradle-plugin:3.2.0&#39;\r\n\timplementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n\timplementation &#39;jakarta.validation:jakarta.validation-api:2.0.2&#39;\r\n\timplementation &#39;jakarta.servlet:jakarta.servlet-api:6.0.0&#39;\r\n\timplementation &#39;jakarta.annotation:jakarta.annotation-api:2.1.1&#39;\r\n\timplementation &#39;jakarta.transaction:jakarta.transaction-api:2.0.1&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools:3.2.0&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test:3.2.0&#39;\r\n}\r\n\r\njar {\r\n\tarchiveFileName = &quot;${project.name}-${project.version}.jar&quot;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried adding new dependencies, checking all versions to make sure they&#39;re up to date, and I&#39;ve altered the structure of my files to make sure that the right files were in the right places. I also tried invalidating caches, and adding my src to the listing of libraries.","title":"java: package jakarta.persistence does not exist","body":"<p>I'm trying to use @Entity and @Id on another part of my project, but I need the error &quot;java: package jakarta.persistence does not exist&quot; to be resolved first. I've been working on this all day, but I really haven't gotten anywhere. I'm using Gradle and below are my dependencies. Does anyone know how to fix this problem? Please let me know if you need more information.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.1.4'\n}\n\ngroup = 'com.*group-name*'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-starter:3.2.0'\n    implementation 'mysql:mysql-connector-java:8.0.32'\n    implementation 'org.jetbrains:annotations:22.0.0'\n    implementation 'org.hibernate:hibernate-core:6.4.0.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-gradle-plugin:3.2.0'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n    implementation 'jakarta.validation:jakarta.validation-api:2.0.2'\n    implementation 'jakarta.servlet:jakarta.servlet-api:6.0.0'\n    implementation 'jakarta.annotation:jakarta.annotation-api:2.1.1'\n    implementation 'jakarta.transaction:jakarta.transaction-api:2.0.1'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools:3.2.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:3.2.0'\n}\n\njar {\n    archiveFileName = &quot;${project.name}-${project.version}.jar&quot;\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I've tried adding new dependencies, checking all versions to make sure they're up to date, and I've altered the structure of my files to make sure that the right files were in the right places. I also tried invalidating caches, and adding my src to the listing of libraries.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1702300731,"post_id":77639863,"comment_id":136875653,"body_markdown":"Your logic is fine, it&#39;s just too slow. Find a faster way.","body":"Your logic is fine, it&#39;s just too slow. Find a faster way."}],"answers":[{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1702306533,"post_id":77639901,"comment_id":136876828,"body_markdown":"I don&#39;t know who&#39;s downvoting, but this is a good and correct answer. Have an upvote.","body":"I don&#39;t know who&#39;s downvoting, but this is a good and correct answer. Have an upvote."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1702300977,"creation_date":1702300977,"answer_id":77639901,"question_id":77639863,"body_markdown":"As noted in the comments, the problem here is the speed. Using a `HashSet` instead of an `ArrayList` would provide an O(1) `contains` operation, and should do the trick.","title":"Question about error in solution for Leetcode 217: Contains Duplicate (Java), using ArrayList","body":"<p>As noted in the comments, the problem here is the speed. Using a <code>HashSet</code> instead of an <code>ArrayList</code> would provide an O(1) <code>contains</code> operation, and should do the trick.</p>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1702306455,"post_id":77639953,"comment_id":136876809,"body_markdown":"Whoever left the downvotes, would you please explain? What about my answer needs improvement?","body":"Whoever left the downvotes, would you please explain? What about my answer needs improvement?"}],"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1702323746,"creation_date":1702301483,"answer_id":77639953,"question_id":77639863,"body_markdown":"These types of questions are typically intended to test your knowledge of data structures, algorithms, and runtime complexity. You should [learn][1] about these things. Using the correct data structure can significantly decrease the runtime complexity of any algorithm.\r\n\r\n\r\nFor this particular problem, you can use a data structure backed by a [hash table][2] implementation, which would provide a find operation of `O(1)`.\r\n\r\nAs has already been mentioned, you can achieve this by using a [`HashSet`][3] instead of `ArrayList`.\r\n\r\n\r\n  [1]: https://techdevguide.withgoogle.com/paths/data-structures-and-algorithms/\r\n  [2]: https://en.wikipedia.org/wiki/Hash_table\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"Question about error in solution for Leetcode 217: Contains Duplicate (Java), using ArrayList","body":"<p>These types of questions are typically intended to test your knowledge of data structures, algorithms, and runtime complexity. You should <a href=\"https://techdevguide.withgoogle.com/paths/data-structures-and-algorithms/\" rel=\"nofollow noreferrer\">learn</a> about these things. Using the correct data structure can significantly decrease the runtime complexity of any algorithm.</p>\n<p>For this particular problem, you can use a data structure backed by a <a href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">hash table</a> implementation, which would provide a find operation of <code>O(1)</code>.</p>\n<p>As has already been mentioned, you can achieve this by using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a> instead of <code>ArrayList</code>.</p>\n"}],"owner":{"account_id":30118841,"reputation":1,"user_id":23081452,"display_name":"Nyx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702320914,"answer_count":2,"score":-2,"last_activity_date":1702323746,"creation_date":1702300582,"question_id":77639863,"body_markdown":"I&#39;m a beginner coder in Java trying to hone my technical skills on leetcode. Here&#39;s the [link](https://leetcode.com/problems/contains-duplicate/description/) to the question I&#39;m working on.\r\n\r\nHere&#39;s my solution in Java:\r\n\r\n```\r\nclass Solution {\r\n    public boolean containsDuplicate(int[] nums) {\r\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            if (arr.contains(nums[i])) {\r\n                return true;\r\n            } else {\r\n                arr.add(nums[i]);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI can&#39;t seem to pass the 65th test case. The error returned was &quot;Time Limit Exceeded&quot;. Can someone explain to me what&#39;s wrong with my logic? Is there some kind of edge case I&#39;m missing? ","title":"Question about error in solution for Leetcode 217: Contains Duplicate (Java), using ArrayList","body":"<p>I'm a beginner coder in Java trying to hone my technical skills on leetcode. Here's the <a href=\"https://leetcode.com/problems/contains-duplicate/description/\" rel=\"nofollow noreferrer\">link</a> to the question I'm working on.</p>\n<p>Here's my solution in Java:</p>\n<pre><code>class Solution {\n    public boolean containsDuplicate(int[] nums) {\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; nums.length; i++) {\n            if (arr.contains(nums[i])) {\n                return true;\n            } else {\n                arr.add(nums[i]);\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I can't seem to pass the 65th test case. The error returned was &quot;Time Limit Exceeded&quot;. Can someone explain to me what's wrong with my logic? Is there some kind of edge case I'm missing?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1702323492,"post_id":77641957,"comment_id":136879751,"body_markdown":"&quot;*Do you think this is the most suitable solution?*&quot; - Without a clear metric for &quot;most suitable&quot;, this question is opinion-based and thus off-topic for Stack Overflow. --- &quot;*Is it better to save the details in a single API along with the instructor?*&quot; - Same --- &quot;*Is the One-To-One relationship configured correctly?*&quot; - It looks fine, yes. But why not simply test it? --- Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"&quot;<i>Do you think this is the most suitable solution?</i>&quot; - Without a clear metric for &quot;most suitable&quot;, this question is opinion-based and thus off-topic for Stack Overflow. --- &quot;<i>Is it better to save the details in a single API along with the instructor?</i>&quot; - Same --- &quot;<i>Is the One-To-One relationship configured correctly?</i>&quot; - It looks fine, yes. But why not simply test it? --- Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1702324700,"post_id":77641957,"comment_id":136879953,"body_markdown":"Any reason why `InstructorDetail` has its own separate Id field ? As stated previous commentator it-is opinion-based, and on my honest opinion it is redundant here to split this info onto two separate tables/entities","body":"Any reason why <code>InstructorDetail</code> has its own separate Id field ? As stated previous commentator it-is opinion-based, and on my honest opinion it is redundant here to split this info onto two separate tables/entities"},{"owner":{"account_id":29328108,"reputation":1,"user_id":22470144,"display_name":"GioScu95"},"score":0,"creation_date":1702325240,"post_id":77641957,"comment_id":136880055,"body_markdown":"The reason is that where I work the frontend team always asks for so many different APIs (like in this case), so I wondered if it was really necessary or avoidable","body":"The reason is that where I work the frontend team always asks for so many different APIs (like in this case), so I wondered if it was really necessary or avoidable"},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1702325527,"post_id":77641957,"comment_id":136880093,"body_markdown":"https://stackoverflow.com/questions/517417/is-there-ever-a-time-where-using-a-database-11-relationship-makes-sense","body":"<a href=\"https://stackoverflow.com/questions/517417/is-there-ever-a-time-where-using-a-database-11-relationship-makes-sense\" title=\"is there ever a time where using a database 11 relationship makes sense\">stackoverflow.com/questions/517417/&hellip;</a>"},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1702325759,"post_id":77641957,"comment_id":136880154,"body_markdown":"If you want to query or update a part of `Instructor` you can do it straighforward through provided JPA/Spring Data functionality. If you afraid of performance issue on such action - you always can perform native query.","body":"If you want to query or update a part of <code>Instructor</code> you can do it straighforward through provided JPA/Spring Data functionality. If you afraid of performance issue on such action - you always can perform native query."}],"owner":{"account_id":29328108,"reputation":1,"user_id":22470144,"display_name":"GioScu95"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702323606,"creation_date":1702322999,"question_id":77641957,"body_markdown":"Let&#39;s say I have two entities Instructor and InstructorDetail as follows:\r\n\r\nInstructor.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor&quot;)\r\npublic class Instructor {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\t@JsonManagedReference\r\n\t@OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;instructor_detail_id&quot;)\r\n\tprivate InstructorDetail instructorDetail;\r\n\r\n        //getters, setters and constructors\r\n```\r\n\r\nand InstructorDetail.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor_detail&quot;)\r\npublic class InstructorDetail {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;youtube_channel&quot;)\r\n\tprivate String youtubeChannel;\r\n\r\n\t@Column(name = &quot;hobby&quot;)\r\n\tprivate String hobby;\r\n\r\n\t@JsonBackReference\r\n    \t@OneToOne(mappedBy = &quot;instructorDetail&quot;, cascade = { \r\n            CascadeType.DETACH, \r\n            CascadeType.MERGE, \r\n            CascadeType.PERSIST,\r\n            CascadeType.REFRESH })\r\n\tprivate Instructor instructor;\r\n\r\n        //getters, setters and constructors\r\n```\r\n\r\nThe scenario I imagine is where I first save an Instructor and then with a separate POST request I save an InstructorDetail.\r\n\r\nSo I imagined inserting a field\r\n\r\n```\r\n@Column(name = &quot;instructor_id&quot;)\r\nprivate Long instructorId;\r\n```\r\n\r\nSo this will be my InstructorDetail.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor_detail&quot;)\r\npublic class InstructorDetail {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n    \r\n        @Column(name = &quot;instructor_id&quot;)\r\n        private Long instructorId;\r\n\r\n\t@Column(name = &quot;youtube_channel&quot;)\r\n\tprivate String youtubeChannel;\r\n\r\n\t@Column(name = &quot;hobby&quot;)\r\n\tprivate String hobby;\r\n\r\n\t@JsonBackReference\r\n    \t@OneToOne(mappedBy = &quot;instructorDetail&quot;, cascade = { \r\n            CascadeType.DETACH, \r\n            CascadeType.MERGE, \r\n            CascadeType.PERSIST,\r\n            CascadeType.REFRESH })\r\n\tprivate Instructor instructor;\r\n\r\n        //getters, setters and constructors\r\n```\r\n\r\nThe DAO implementation\r\n\r\n```\r\n@Repository\r\npublic class InstructorDetailDAOImpl implements InstructorDetailDAO {\r\n\t\r\n\tprivate final EntityManager entityManager;\r\n\t\r\n\t@Autowired\r\n\tpublic InstructorDetailDAOImpl(EntityManager entityManager) {\r\n\t\tthis.entityManager = entityManager;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void save(InstructorDetail instructorDetail) {\r\n        \tInstructor savedInstructor = entityManager.find(Instructor.class,\r\n                instructorDetail.getInstructorId());\r\n\t\tsavedInstructor.setInstructorDetail(instructorDetail);\r\n\t\tentityManager.persist(instructorDetail);\r\n\t}\r\n```\r\n\r\nAt this point in a separate POST request with postman i save the instructor:  \r\nPOST: (it will be saved with id=1)\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;Harry&quot;,\r\n    &quot;lastName&quot;: &quot;Potter&quot;,\r\n    &quot;email&quot;: &quot;harry.potter@email.it&quot;\r\n}\r\n```\r\n\r\nand with another POST request I save the details parsing the instructorId into the payload\r\n\r\n```\r\n{\r\n    &quot;instructorId&quot;: 1,\r\n    &quot;youtubeChannel&quot;: &quot;www.youtube.it&quot;,\r\n    &quot;hobby&quot;: &quot;Voldemort&quot;\r\n}\r\n```\r\n\r\nDo you think this is the most suitable solution?\r\n\r\nIs it better to save the details in a single API along with the instructor? Is the One-To-One relationship configured correctly?  \r\nThank you in advance","title":"How do I save a child entity in a One-To-One relationship with Hibernate?","body":"<p>Let's say I have two entities Instructor and InstructorDetail as follows:</p>\n<p>Instructor.java</p>\n<pre><code>@Entity\n@Table(name = &quot;instructor&quot;)\npublic class Instructor {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @JsonManagedReference\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;instructor_detail_id&quot;)\n    private InstructorDetail instructorDetail;\n\n        //getters, setters and constructors\n</code></pre>\n<p>and InstructorDetail.java</p>\n<pre><code>@Entity\n@Table(name = &quot;instructor_detail&quot;)\npublic class InstructorDetail {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;youtube_channel&quot;)\n    private String youtubeChannel;\n\n    @Column(name = &quot;hobby&quot;)\n    private String hobby;\n\n    @JsonBackReference\n        @OneToOne(mappedBy = &quot;instructorDetail&quot;, cascade = { \n            CascadeType.DETACH, \n            CascadeType.MERGE, \n            CascadeType.PERSIST,\n            CascadeType.REFRESH })\n    private Instructor instructor;\n\n        //getters, setters and constructors\n</code></pre>\n<p>The scenario I imagine is where I first save an Instructor and then with a separate POST request I save an InstructorDetail.</p>\n<p>So I imagined inserting a field</p>\n<pre><code>@Column(name = &quot;instructor_id&quot;)\nprivate Long instructorId;\n</code></pre>\n<p>So this will be my InstructorDetail.java</p>\n<pre><code>@Entity\n@Table(name = &quot;instructor_detail&quot;)\npublic class InstructorDetail {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n        @Column(name = &quot;instructor_id&quot;)\n        private Long instructorId;\n\n    @Column(name = &quot;youtube_channel&quot;)\n    private String youtubeChannel;\n\n    @Column(name = &quot;hobby&quot;)\n    private String hobby;\n\n    @JsonBackReference\n        @OneToOne(mappedBy = &quot;instructorDetail&quot;, cascade = { \n            CascadeType.DETACH, \n            CascadeType.MERGE, \n            CascadeType.PERSIST,\n            CascadeType.REFRESH })\n    private Instructor instructor;\n\n        //getters, setters and constructors\n</code></pre>\n<p>The DAO implementation</p>\n<pre><code>@Repository\npublic class InstructorDetailDAOImpl implements InstructorDetailDAO {\n    \n    private final EntityManager entityManager;\n    \n    @Autowired\n    public InstructorDetailDAOImpl(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    @Override\n    public void save(InstructorDetail instructorDetail) {\n            Instructor savedInstructor = entityManager.find(Instructor.class,\n                instructorDetail.getInstructorId());\n        savedInstructor.setInstructorDetail(instructorDetail);\n        entityManager.persist(instructorDetail);\n    }\n</code></pre>\n<p>At this point in a separate POST request with postman i save the instructor:<br />\nPOST: (it will be saved with id=1)</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;Harry&quot;,\n    &quot;lastName&quot;: &quot;Potter&quot;,\n    &quot;email&quot;: &quot;harry.potter@email.it&quot;\n}\n</code></pre>\n<p>and with another POST request I save the details parsing the instructorId into the payload</p>\n<pre><code>{\n    &quot;instructorId&quot;: 1,\n    &quot;youtubeChannel&quot;: &quot;www.youtube.it&quot;,\n    &quot;hobby&quot;: &quot;Voldemort&quot;\n}\n</code></pre>\n<p>Do you think this is the most suitable solution?</p>\n<p>Is it better to save the details in a single API along with the instructor? Is the One-To-One relationship configured correctly?<br />\nThank you in advance</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1415025059,"post_id":26716020,"comment_id":42022632,"body_markdown":"Well, you can mock an `ObjectMapper` and have it throw that exception since `ObjectMapper` is not final","body":"Well, you can mock an <code>ObjectMapper</code> and have it throw that exception since <code>ObjectMapper</code> is not final"},{"owner":{"account_id":1203983,"reputation":6963,"user_id":1174076,"accept_rate":55,"display_name":"bitoiu"},"score":0,"creation_date":1415028697,"post_id":26716020,"comment_id":42024937,"body_markdown":"Wouldn&#39;t that be mocking the test itself, I would like to reproduce a scenario that can in fact happen in the context of the running application. Maybe one does not exists? If so, Why the exception? Thanks for the answer.","body":"Wouldn&#39;t that be mocking the test itself, I would like to reproduce a scenario that can in fact happen in the context of the running application. Maybe one does not exists? If so, Why the exception? Thanks for the answer."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1415029364,"post_id":26716020,"comment_id":42025377,"body_markdown":"Well, I thought you wanted to test the behaviour of your code in the event that this exception was raised, which is why I suggested this","body":"Well, I thought you wanted to test the behaviour of your code in the event that this exception was raised, which is why I suggested this"},{"owner":{"account_id":1203983,"reputation":6963,"user_id":1174076,"accept_rate":55,"display_name":"bitoiu"},"score":0,"creation_date":1415032273,"post_id":26716020,"comment_id":42027167,"body_markdown":"I guess it makes sense, and if no other suggestions come up I might as well do that. I just figured there should be a way to produce that exception with some sort of random object that would not parse correctly to JSON. Damn Jackson and it&#39;s intelligent parsing.","body":"I guess it makes sense, and if no other suggestions come up I might as well do that. I just figured there should be a way to produce that exception with some sort of random object that would not parse correctly to JSON. Damn Jackson and it&#39;s intelligent parsing."},{"owner":{"account_id":430788,"reputation":5925,"user_id":814416,"accept_rate":50,"display_name":"sherb"},"score":3,"creation_date":1415237926,"post_id":26716020,"comment_id":42120984,"body_markdown":"You could try giving it some XML... :-)","body":"You could try giving it some XML... :-)"}],"answers":[{"comments":[{"owner":{"account_id":5922848,"reputation":144,"user_id":4659696,"display_name":"pilotg2"},"score":0,"creation_date":1443806068,"post_id":32054934,"comment_id":53652730,"body_markdown":"Assuming the payload object has public getter and setter methods, you could simply use spy on the payload object and then have one of the getters return null.\n\nPayload payloadSpy = Mockito.spy(payload);        Mockito.doReturn(null).when(payloadSpy).getField();\nString jsonPayload = objectMapper.writeValueAsString(payloadSpy);","body":"Assuming the payload object has public getter and setter methods, you could simply use spy on the payload object and then have one of the getters return null.  Payload payloadSpy = Mockito.spy(payload);        Mockito.doReturn(null).when(payloadSpy).getField(); String jsonPayload = objectMapper.writeValueAsString(payloadSpy);"},{"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"score":5,"creation_date":1544366285,"post_id":32054934,"comment_id":94242188,"body_markdown":"this will throw `Checked exception is invalid for this method!` and does not work","body":"this will throw <code>Checked exception is invalid for this method!</code> and does not work"},{"owner":{"account_id":925047,"reputation":322,"user_id":955989,"accept_rate":100,"display_name":"heemin"},"score":3,"creation_date":1616556138,"post_id":32054934,"comment_id":118037005,"body_markdown":"JsonProcessingException constructor has protect access modifier. So, cannot create by calling `new JsonProcessingException(&quot;&quot;)`","body":"JsonProcessingException constructor has protect access modifier. So, cannot create by calling <code>new JsonProcessingException(&quot;&quot;)</code>"}],"tags":[],"owner":{"account_id":6803420,"reputation":265,"user_id":5236011,"display_name":"Lee Passey"},"comment_count":3,"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1532324577,"creation_date":1439827603,"answer_id":32054934,"question_id":26716020,"body_markdown":"I wanted to do the same thing, and eventually accomplished it by using the Mockito &quot;spy&quot; function, which wraps a real object with a mock object. All calls to the mock object get forwarded to the real object, except those you are trying to mock. For example:\r\n\r\n    ObjectMapper om = Mockito.spy(new ObjectMapper());\r\n    Mockito.when( om.writeValueAsString(ErrorObject.class)).thenThrow(new JsonProcessingException(&quot;&quot;) {});\r\n\r\nAll usages of `om` will be handled by the underlying ObjectMapper instance until an instance of `ErrorObject` gets passed in, at which point the `JsonProcessingException` will be thrown.\r\n\r\nThe new`JsonProcessingException` is created as an anonymous class, as it is a protected class and only a sub-class can be instantiated.","title":"How to get a JsonProcessingException using Jackson","body":"<p>I wanted to do the same thing, and eventually accomplished it by using the Mockito \"spy\" function, which wraps a real object with a mock object. All calls to the mock object get forwarded to the real object, except those you are trying to mock. For example:</p>\n\n<pre><code>ObjectMapper om = Mockito.spy(new ObjectMapper());\nMockito.when( om.writeValueAsString(ErrorObject.class)).thenThrow(new JsonProcessingException(\"\") {});\n</code></pre>\n\n<p>All usages of <code>om</code> will be handled by the underlying ObjectMapper instance until an instance of <code>ErrorObject</code> gets passed in, at which point the <code>JsonProcessingException</code> will be thrown.</p>\n\n<p>The new<code>JsonProcessingException</code> is created as an anonymous class, as it is a protected class and only a sub-class can be instantiated.</p>\n"},{"comments":[{"owner":{"account_id":1449578,"reputation":3098,"user_id":1366913,"accept_rate":91,"display_name":"nathansizemore"},"score":1,"creation_date":1565638224,"post_id":47381903,"comment_id":101407573,"body_markdown":"With 2.9, I couldn&#39;t replicate with the `toString` override, I had to do this:\n```private static class WillNotSerialize {\n    public WillNotSerialize getSelf() {\n        return this;\n    }\n}\n```","body":"With 2.9, I couldn&#39;t replicate with the <code>toString</code> override, I had to do this: <code>private static class WillNotSerialize {     public WillNotSerialize getSelf() {         return this;     } } </code>"}],"tags":[],"owner":{"account_id":1092304,"reputation":693,"user_id":1086679,"accept_rate":100,"display_name":"Liam Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1511124894,"creation_date":1511124894,"answer_id":47381903,"question_id":26716020,"body_markdown":"&lt;!-- language-all: java --&gt;\r\n\r\nYou could use something like this:\r\n\r\n    private static class ClassThatJacksonCannotSerialize {\r\n        private final ClassThatJacksonCannotSerialize self = this;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return self.getClass().getName();\r\n       }\r\n    }\r\n\r\nWhich results in a `JsonProcessingException` with message `Direct self-reference leading to cycle (through reference chain: ClassThatJacksonCannotSerialize[&quot;self&quot;])`\r\n","title":"How to get a JsonProcessingException using Jackson","body":"\n\n<p>You could use something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static class ClassThatJacksonCannotSerialize {\n    private final ClassThatJacksonCannotSerialize self = this;\n\n    @Override\n    public String toString() {\n        return self.getClass().getName();\n   }\n}\n</code></pre>\n\n<p>Which results in a <code>JsonProcessingException</code> with message <code>Direct self-reference leading to cycle (through reference chain: ClassThatJacksonCannotSerialize[\"self\"])</code></p>\n"},{"comments":[{"owner":{"account_id":10025983,"reputation":984,"user_id":7414142,"display_name":"Julien Feniou"},"score":0,"creation_date":1603273582,"post_id":47781555,"comment_id":113982474,"body_markdown":"Worked for me. Since the mocked item isn&#39;t serializable, the exception is throw if you use this mocked item as a parameter of your tested method. You don&#39;t need the `when` clause btw.","body":"Worked for me. Since the mocked item isn&#39;t serializable, the exception is throw if you use this mocked item as a parameter of your tested method. You don&#39;t need the <code>when</code> clause btw."}],"tags":[],"owner":{"account_id":7929469,"reputation":869,"user_id":5987851,"accept_rate":50,"display_name":"Hazel T"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1515018795,"creation_date":1513112900,"answer_id":47781555,"question_id":26716020,"body_markdown":"Building off of Liam&#39;s answer, mocking the `toString()` method with a cycle also causes Jackson to break.\r\n\r\n\r\n    @Test\r\n    public void forceJsonParseException() {\r\n        try {\r\n            Object mockItem = mock(Object.class);\r\n            when(mockItem.toString()).thenReturn(mockItem.getClass().getName());\r\n            new ObjectMapper().writeValueAsString(mockItem);\r\n            fail(&quot;did not throw JsonProcessingException&quot;);\r\n        } catch (JsonProcessingException e) {\r\n            //pass\r\n        }\r\n    }\r\n\r\nEDIT: It&#39;s way easier than that. A Mockito mock will always throw it. o.o;;","title":"How to get a JsonProcessingException using Jackson","body":"<p>Building off of Liam's answer, mocking the <code>toString()</code> method with a cycle also causes Jackson to break.</p>\n\n<pre><code>@Test\npublic void forceJsonParseException() {\n    try {\n        Object mockItem = mock(Object.class);\n        when(mockItem.toString()).thenReturn(mockItem.getClass().getName());\n        new ObjectMapper().writeValueAsString(mockItem);\n        fail(\"did not throw JsonProcessingException\");\n    } catch (JsonProcessingException e) {\n        //pass\n    }\n}\n</code></pre>\n\n<p>EDIT: It's way easier than that. A Mockito mock will always throw it. o.o;;</p>\n"},{"comments":[{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1593525493,"post_id":48956071,"comment_id":110808067,"body_markdown":"It works, thanks. Used this in my test to cover the throw clause :+1:","body":"It works, thanks. Used this in my test to cover the throw clause :+1:"}],"tags":[],"owner":{"account_id":13010241,"reputation":161,"user_id":9403535,"display_name":"Mike Mathieson"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1593527565,"creation_date":1519419247,"answer_id":48956071,"question_id":26716020,"body_markdown":"For me, if a class has no `public` fields/methods, `writeValueAsString` will throw a `JsonMappingException` (`no serializer found for class...`)\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    private static class ClassThatJacksonCannotSerialize {}\r\n\r\n    private void forceProcessingException() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\t\ttry {\r\n\t\t    return mapper.writeValueAsString(value);\r\n\t\t} \r\n        catch (JsonProcessingException e) {\r\n\t\t    throw new RuntimeException(e);\r\n\t\t}\r\n    }\r\n","title":"How to get a JsonProcessingException using Jackson","body":"<p>For me, if a class has no <code>public</code> fields/methods, <code>writeValueAsString</code> will throw a <code>JsonMappingException</code> (<code>no serializer found for class...</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class ClassThatJacksonCannotSerialize {}\n\nprivate void forceProcessingException() {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        return mapper.writeValueAsString(value);\n    } \n    catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1539691345,"creation_date":1539691345,"answer_id":52835012,"question_id":26716020,"body_markdown":"following on @Mike.Mathieson answer\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.Test;\r\n    \r\n    public class JacksonTest {\r\n\r\n        @Test(expected = JsonProcessingException.class)\r\n        // actually throws an InvalidDefinitionException (which extends JsonProcessingException)\r\n        public void encodeThrowsException() throws JsonProcessingException {\r\n            new ObjectMapper().writeValueAsString(new Object());\r\n        }\r\n    }\r\n\r\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/exc/InvalidDefinitionException.html\r\n\r\n\r\nnote that this test won&#39;t work if the ObjectMapper have been configured to disable `SerializationFeature.FAIL_ON_EMPTY_BEANS`, e.g.\r\n\r\n    new ObjectMapper()\r\n        .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false)\r\n        .writeValueAsString(new Object());\r\n\r\n\r\n\r\n","title":"How to get a JsonProcessingException using Jackson","body":"<p>following on @Mike.Mathieson answer</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.Test;\n\npublic class JacksonTest {\n\n    @Test(expected = JsonProcessingException.class)\n    // actually throws an InvalidDefinitionException (which extends JsonProcessingException)\n    public void encodeThrowsException() throws JsonProcessingException {\n        new ObjectMapper().writeValueAsString(new Object());\n    }\n}\n</code></pre>\n\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/exc/InvalidDefinitionException.html\" rel=\"noreferrer\">https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/exc/InvalidDefinitionException.html</a></p>\n\n<p>note that this test won't work if the ObjectMapper have been configured to disable <code>SerializationFeature.FAIL_ON_EMPTY_BEANS</code>, e.g.</p>\n\n<pre><code>new ObjectMapper()\n    .configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false)\n    .writeValueAsString(new Object());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544452292,"creation_date":1544452292,"answer_id":53707778,"question_id":26716020,"body_markdown":"Trying to mock using `mock(ObjectMapper.class)` will invariably result in *Checked exception is invalid for this method!* as it is not possible to throw checked exception (`JsonProcessingException` extends `IOException`). Creating a self referencing value object like other answers suggested could be too convoluted for many cases and looks like a hack.\r\n\r\nThe easiest way I found is to extend `ObjectMapper` and then use that in your test method. You should pass the subclass to SUT\r\n\r\n    @Test\r\n    public void buildJsonSwallowsJsonProcessingException() {\r\n\r\n        class MyObjectMapper extends ObjectMapper {\r\n            @Override\r\n            public String writeValueAsString(Object value)\r\n                    throws com.fasterxml.jackson.core.JsonProcessingException {\r\n                throw new com.fasterxml.jackson.core.JsonProcessingException(&quot;Forced error&quot;) {};\r\n            }\r\n        }\r\n\r\n        ObjectMapper objectMapper = new MyObjectMapper();\r\n\r\n        SUTBean sutbean = new SUTBean(objectMapper);\r\n\r\n        sutbean.testMethod();\r\n\r\n        assertTrue(expected, actual);\r\n    }","title":"How to get a JsonProcessingException using Jackson","body":"<p>Trying to mock using <code>mock(ObjectMapper.class)</code> will invariably result in <em>Checked exception is invalid for this method!</em> as it is not possible to throw checked exception (<code>JsonProcessingException</code> extends <code>IOException</code>). Creating a self referencing value object like other answers suggested could be too convoluted for many cases and looks like a hack.</p>\n\n<p>The easiest way I found is to extend <code>ObjectMapper</code> and then use that in your test method. You should pass the subclass to SUT</p>\n\n<pre><code>@Test\npublic void buildJsonSwallowsJsonProcessingException() {\n\n    class MyObjectMapper extends ObjectMapper {\n        @Override\n        public String writeValueAsString(Object value)\n                throws com.fasterxml.jackson.core.JsonProcessingException {\n            throw new com.fasterxml.jackson.core.JsonProcessingException(\"Forced error\") {};\n        }\n    }\n\n    ObjectMapper objectMapper = new MyObjectMapper();\n\n    SUTBean sutbean = new SUTBean(objectMapper);\n\n    sutbean.testMethod();\n\n    assertTrue(expected, actual);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11486354,"reputation":33,"user_id":8418924,"display_name":"Utkarsh M"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591049601,"creation_date":1591049601,"answer_id":62141812,"question_id":26716020,"body_markdown":"I found this in Jackson Github issue; but it solved my problem and I am able to throw the JsonProcessingException.\r\n\r\n     @Test\r\n    public void forceJsonParseException() {\r\n    try {\r\n        Object mockItem = mock(Object.class);\r\n        when(mockItem.toString()).thenReturn(mockItem.getClass().getName());\r\n        new ObjectMapper().writeValueAsString(mockItem);\r\n        fail(&quot;did not throw JsonProcessingException&quot;);\r\n    } catch (JsonProcessingException e) {\r\n        //pass\r\n    }\r\n    }\r\n\r\n\r\nNow how I used this in my code\r\n\r\nNeed to test this method\r\n\r\n    public String geResponse(MyObject myObject) {\r\n\r\n    try {\r\n      return objectMapper.writeValueAsString(myObject);\r\n    } catch (JsonProcessingException e) {\r\n      log.error(&quot;Service response JsonParsing error {} &quot;, e.getMessage());\r\n      return &quot;Validation Service response JsonParsing error {} &quot;+ e.getMessage();\r\n     }\r\n    }\r\n\r\n\r\nThis how I test the JsonProcessingException\r\n\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    public void testGetValidationResponseNegative() {\r\n        MyObject mockItem = mock(MyObject.class);\r\n        when(mockItem.toString()).thenReturn(mockItem.getClass().getName());\r\n        String vr = geResponse(mockItem);\r\n        assertTrue(!vr.isEmpty());\r\n    }\r\n\r\n\r\nI hope this helps!!!","title":"How to get a JsonProcessingException using Jackson","body":"<p>I found this in Jackson Github issue; but it solved my problem and I am able to throw the JsonProcessingException.</p>\n\n<pre><code> @Test\npublic void forceJsonParseException() {\ntry {\n    Object mockItem = mock(Object.class);\n    when(mockItem.toString()).thenReturn(mockItem.getClass().getName());\n    new ObjectMapper().writeValueAsString(mockItem);\n    fail(\"did not throw JsonProcessingException\");\n} catch (JsonProcessingException e) {\n    //pass\n}\n}\n</code></pre>\n\n<p>Now how I used this in my code</p>\n\n<p>Need to test this method</p>\n\n<pre><code>public String geResponse(MyObject myObject) {\n\ntry {\n  return objectMapper.writeValueAsString(myObject);\n} catch (JsonProcessingException e) {\n  log.error(\"Service response JsonParsing error {} \", e.getMessage());\n  return \"Validation Service response JsonParsing error {} \"+ e.getMessage();\n }\n}\n</code></pre>\n\n<p>This how I test the JsonProcessingException</p>\n\n<pre><code>@SneakyThrows\n@Test\npublic void testGetValidationResponseNegative() {\n    MyObject mockItem = mock(MyObject.class);\n    when(mockItem.toString()).thenReturn(mockItem.getClass().getName());\n    String vr = geResponse(mockItem);\n    assertTrue(!vr.isEmpty());\n}\n</code></pre>\n\n<p>I hope this helps!!!</p>\n"},{"comments":[{"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"score":3,"creation_date":1618228448,"post_id":67056036,"comment_id":118530594,"body_markdown":"Code-only answers are low-quality answers. Add some explanation to the code to further guide OP.","body":"Code-only answers are low-quality answers. Add some explanation to the code to further guide OP."}],"tags":[],"owner":{"account_id":2937936,"reputation":59,"user_id":2516469,"display_name":"Janardhan B. Chinta"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1618315995,"creation_date":1618220075,"answer_id":67056036,"question_id":26716020,"body_markdown":"Throw exception in getter to simulate JsonProcessingException.\r\n\r\n    public static class TestData {\r\n        public String getEx() throws JsonProcessingException { throw new JsonParseException(null, &quot;test&quot;); }\r\n    }\r\n    \r\n    ObjectMapper().writeValueAsString(new TestData());","title":"How to get a JsonProcessingException using Jackson","body":"<p>Throw exception in getter to simulate JsonProcessingException.</p>\n<pre><code>public static class TestData {\n    public String getEx() throws JsonProcessingException { throw new JsonParseException(null, &quot;test&quot;); }\n}\n\nObjectMapper().writeValueAsString(new TestData());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":0,"creation_date":1636097063,"post_id":68033438,"comment_id":123470598,"body_markdown":"That works for me. Mocking the ObjectMapper is a bad idea because I want to test the real ObjectMapper that is instantiated, and that&#39;s what this code does. However shouldn&#39;t it throw an excpetion instead of returning empty ?","body":"That works for me. Mocking the ObjectMapper is a bad idea because I want to test the real ObjectMapper that is instantiated, and that&#39;s what this code does. However shouldn&#39;t it throw an excpetion instead of returning empty ?"}],"tags":[],"owner":{"account_id":9478883,"reputation":21,"user_id":7047472,"display_name":"Perk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624011608,"creation_date":1624011608,"answer_id":68033438,"question_id":26716020,"body_markdown":"i was land on this question because i had the same target of the questioner:\r\n\r\n&gt; Might be a strange question but indeed I would like to achieve a a bit\r\n&gt; more coverage on my tests\r\n\r\nIMHO Mockito solution it&#39;s more elegant and not introduce misunderstanding but I challenged a colleague to find another solution and he did. This is the solution:\r\n\r\n    @Test\r\n    @DisplayName(&quot;Object To Json KO&quot;)\r\n    void objectToJsonKOTest() {\r\n    \tKafkaMessageDTO o = new KafkaMessageDTO() {\r\n    \t\t@Override\r\n    \t\tpublic String getAuthCode() {\r\n    \t\t\tint a = 2/0;\r\n    \t\t\treturn super.getAuthCode();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tString s = mapper.writeValueAsString(o);\r\n    \tAssertions.assertTrue(s.isEmpty());\r\n    }\r\n\r\nThis is trash, high level trash :) , but it works and I wanted to share it with you as an alternative to mock \r\n\r\nByeBye\r\n ","title":"How to get a JsonProcessingException using Jackson","body":"<p>i was land on this question because i had the same target of the questioner:</p>\n<blockquote>\n<p>Might be a strange question but indeed I would like to achieve a a bit\nmore coverage on my tests</p>\n</blockquote>\n<p>IMHO Mockito solution it's more elegant and not introduce misunderstanding but I challenged a colleague to find another solution and he did. This is the solution:</p>\n<pre><code>@Test\n@DisplayName(&quot;Object To Json KO&quot;)\nvoid objectToJsonKOTest() {\n    KafkaMessageDTO o = new KafkaMessageDTO() {\n        @Override\n        public String getAuthCode() {\n            int a = 2/0;\n            return super.getAuthCode();\n        }\n    };\n\n    String s = mapper.writeValueAsString(o);\n    Assertions.assertTrue(s.isEmpty());\n}\n</code></pre>\n<p>This is trash, high level trash :) , but it works and I wanted to share it with you as an alternative to mock</p>\n<p>ByeBye</p>\n"},{"tags":[],"owner":{"account_id":7283504,"reputation":313,"user_id":5552396,"accept_rate":67,"display_name":"gunescelil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634632047,"creation_date":1634632047,"answer_id":69627451,"question_id":26716020,"body_markdown":"You can get `JsonProcessingException` via below code \r\n\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n    public class SomePOJOClass \r\n    {\r\n        // Lets assume there are your fields here.\r\n    }\r\n    // ...\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    ObjectNode objectNode = new ObjectNode();\r\n    objectNode.put(&quot;unknown-field-in-the-class&quot;, &quot;and-its-value&quot;);\r\n    SomePOJOClass somePOJOClass = objectMapper.treeToValue(objectNode, SomePOJOClass .class);\r\n\r\n\r\n\r\n","title":"How to get a JsonProcessingException using Jackson","body":"<p>You can get <code>JsonProcessingException</code> via below code</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\npublic class SomePOJOClass \n{\n    // Lets assume there are your fields here.\n}\n// ...\nObjectMapper objectMapper = new ObjectMapper();\nObjectNode objectNode = new ObjectNode();\nobjectNode.put(&quot;unknown-field-in-the-class&quot;, &quot;and-its-value&quot;);\nSomePOJOClass somePOJOClass = objectMapper.treeToValue(objectNode, SomePOJOClass .class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":141892,"reputation":4532,"user_id":2275962,"display_name":"Taner"},"score":1,"creation_date":1665670857,"post_id":71397240,"comment_id":130757971,"body_markdown":"This is super simple solution and should be marked as answer. Works like a charm! Thank you.","body":"This is super simple solution and should be marked as answer. Works like a charm! Thank you."}],"tags":[],"owner":{"account_id":24493034,"reputation":101,"user_id":18409806,"display_name":"SHZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1646752176,"creation_date":1646752176,"answer_id":71397240,"question_id":26716020,"body_markdown":"You can get a JsonProcessingException if mapping two fields to the same property.\r\n\r\n    class InvalidObject {\r\n        @JsonProperty(&quot;s&quot;)\r\n        private String x = &quot;value1&quot;;\r\n\t\t\r\n        @JsonProperty(&quot;s&quot;)\r\n        private String y = &quot;value2&quot;;\r\n    }\r\n\r\nException message is &quot;Multiple fields representing property &quot;s&quot;:...&quot;","title":"How to get a JsonProcessingException using Jackson","body":"<p>You can get a JsonProcessingException if mapping two fields to the same property.</p>\n<pre><code>class InvalidObject {\n    @JsonProperty(&quot;s&quot;)\n    private String x = &quot;value1&quot;;\n    \n    @JsonProperty(&quot;s&quot;)\n    private String y = &quot;value2&quot;;\n}\n</code></pre>\n<p>Exception message is &quot;Multiple fields representing property &quot;s&quot;:...&quot;</p>\n"},{"comments":[{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1690282746,"post_id":75411925,"comment_id":135328545,"body_markdown":"This does not throw an error with jackson 2.14.3","body":"This does not throw an error with jackson 2.14.3"}],"tags":[],"owner":{"account_id":16856943,"reputation":57,"user_id":12188660,"display_name":"mitesh keswani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676036417,"creation_date":1676036417,"answer_id":75411925,"question_id":26716020,"body_markdown":"Use this value, it shall break, it broke for me::\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String jsonStringValue =&quot;{&#39;key1&#39;: &#39;value1&#39;, &#39;key2&#39;: &#39;value2&#39;, &#39;key3&#39;: &#39;value3&#39;}&quot;;        \r\n    try {\r\n                MyCustomClass classObject = objectMapper.readValue(jsonStringValue, MyCustomClass.class);\r\n    } catch(JsonProcessingException ex) {\r\n    //LOGGER / SYSOUT here\r\n    }\r\n\r\nERROR::JsonProcessingException / JsonParseException\r\nUnexpected character (&#39;&#39;&#39; (code 39)): was expecting double-quote to start field name\r\nIt really worked for me.. cheers..","title":"How to get a JsonProcessingException using Jackson","body":"<p>Use this value, it shall break, it broke for me::</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nString jsonStringValue =&quot;{'key1': 'value1', 'key2': 'value2', 'key3': 'value3'}&quot;;        \ntry {\n            MyCustomClass classObject = objectMapper.readValue(jsonStringValue, MyCustomClass.class);\n} catch(JsonProcessingException ex) {\n//LOGGER / SYSOUT here\n}\n</code></pre>\n<p>ERROR::JsonProcessingException / JsonParseException\nUnexpected character (''' (code 39)): was expecting double-quote to start field name\nIt really worked for me.. cheers..</p>\n"},{"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686652848,"creation_date":1686652848,"answer_id":76464046,"question_id":26716020,"body_markdown":"Here&#39;s how I did it. Let&#39;s imagine you have:\r\n\r\n    @JsonInclude(value = JsonInclude.Include.NON_NULL)\r\n    public class MyClass {\r\n       @JsonProperty(&quot;field&quot;) Object myField;\r\n\r\n       public String toJson() {\r\n\t       try {\r\n\t\t       ObjectMapper mapper = new ObjectMapper();\r\n\t\t\t   return mapper.writeValueAsString(this);\r\n\t\t   }\r\n\t\t   catch (JsonProcessingException jpe) {\r\n\t\t       throw new IllegalStateException(jpe);\r\n\t\t   }\r\n\t   }\r\n    }\r\nYou can add the following test to your suite to cover the catch block:\r\n\r\n    @Test(expected = RuntimeException.class)\r\n\tpublic void triggerJsonProcessingException() {\r\n\t\tclass SelfRefrencing extends MyClass {\r\n\t\t\t@JsonProperty(&quot;self&quot;) SelfRefrencing self = this;\r\n\t\t}\r\n\t\tnew SelfRefrencing(new MyClass()).toJson();\r\n\t}","title":"How to get a JsonProcessingException using Jackson","body":"<p>Here's how I did it. Let's imagine you have:</p>\n<pre><code>@JsonInclude(value = JsonInclude.Include.NON_NULL)\npublic class MyClass {\n   @JsonProperty(&quot;field&quot;) Object myField;\n\n   public String toJson() {\n       try {\n           ObjectMapper mapper = new ObjectMapper();\n           return mapper.writeValueAsString(this);\n       }\n       catch (JsonProcessingException jpe) {\n           throw new IllegalStateException(jpe);\n       }\n   }\n}\n</code></pre>\n<p>You can add the following test to your suite to cover the catch block:</p>\n<pre><code>@Test(expected = RuntimeException.class)\npublic void triggerJsonProcessingException() {\n    class SelfRefrencing extends MyClass {\n        @JsonProperty(&quot;self&quot;) SelfRefrencing self = this;\n    }\n    new SelfRefrencing(new MyClass()).toJson();\n}\n</code></pre>\n"}],"owner":{"account_id":1203983,"reputation":6963,"user_id":1174076,"accept_rate":55,"display_name":"bitoiu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109252,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"answer_count":13,"score":62,"last_activity_date":1702323371,"creation_date":1415024003,"question_id":26716020,"body_markdown":"Might be a strange question but indeed I would like to achieve a a bit more coverage on my tests and although I coded against a `JsonProcessingException` I can&#39;t create a payload that generates this exception, maybe because Jackson is quite smart and converts everything to a string, and even for bad strings it goes around the JSON specs. My problem is that Jackson is quite good :)\r\n\r\nI basically want a payload that when I run this, it break with `JsonProcessingException`:\r\n\r\n\r\n    String jsonPayload = objectMapper.writeValueAsString(payload);\r\n\r\n\r\n\r\nI&#39;ve tried some like:\r\n\r\n    HashMap&lt;String, String&gt; invalidJSONPayload= new HashMap&lt;&gt;();\r\n\r\n    invalidJSONPayload.put(&quot;021&quot;,021);\r\n    invalidJSONPayload.put(&quot;---&quot;,021);\r\n    invalidJSONPayload.put(&quot;~&quot;,021);\r\n\r\n\r\nI&#39;m not fussed with the type, so feel free to suggest another one. An empty object for example, throws `JsonMappingException` and I already catch that one as well.\r\n","title":"How to get a JsonProcessingException using Jackson","body":"<p>Might be a strange question but indeed I would like to achieve a a bit more coverage on my tests and although I coded against a <code>JsonProcessingException</code> I can't create a payload that generates this exception, maybe because Jackson is quite smart and converts everything to a string, and even for bad strings it goes around the JSON specs. My problem is that Jackson is quite good :)</p>\n\n<p>I basically want a payload that when I run this, it break with <code>JsonProcessingException</code>:</p>\n\n<pre><code>String jsonPayload = objectMapper.writeValueAsString(payload);\n</code></pre>\n\n<p>I've tried some like:</p>\n\n<pre><code>HashMap&lt;String, String&gt; invalidJSONPayload= new HashMap&lt;&gt;();\n\ninvalidJSONPayload.put(\"021\",021);\ninvalidJSONPayload.put(\"---\",021);\ninvalidJSONPayload.put(\"~\",021);\n</code></pre>\n\n<p>I'm not fussed with the type, so feel free to suggest another one. An empty object for example, throws <code>JsonMappingException</code> and I already catch that one as well.</p>\n"},{"tags":["java","spring-boot","spring-security","authorization"],"comments":[{"owner":{"account_id":1509736,"reputation":582,"user_id":1412161,"accept_rate":86,"display_name":"grange"},"score":1,"creation_date":1702329972,"post_id":77641968,"comment_id":136880826,"body_markdown":"Please provide more information, e.g. \n1) what have you been trying, what is the expected result and what&#39;s the actual result? \n2) what errors you see in the logs?","body":"Please provide more information, e.g.  1) what have you been trying, what is the expected result and what&#39;s the actual result?  2) what errors you see in the logs?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702335762,"post_id":77641968,"comment_id":136881521,"body_markdown":"please enable spring security DEBUG logs and edit your question to include them in full.","body":"please enable spring security DEBUG logs and edit your question to include them in full."}],"owner":{"account_id":15421731,"reputation":1,"user_id":11125575,"display_name":"Aaron Goes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702323081,"creation_date":1702323081,"question_id":77641968,"body_markdown":"I am new to spring security and i need to develop a spring boot project which authorizes the endpoints based on roles . The admin should be able to view , update , save , delete items and the user should be able to view and order items . Also after implementing spring security i am not able to view h2-console as i am getting 403 error .\r\nI have seen a few implementations but am not able to replicate the same behavior .\r\n\r\n\r\n\r\nBelow is My Controller where i have also tried using @preauthorize \r\n```\r\npackage qp.assessment.grocerybooking.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.access.prepost.PreAuthorize;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport qp.assessment.grocerybooking.exception.BadRequestException;\r\nimport qp.assessment.grocerybooking.exception.InternalServerException;\r\nimport qp.assessment.grocerybooking.exception.ResourceNotFoundException;\r\nimport qp.assessment.grocerybooking.model.GroceryItem;\r\nimport qp.assessment.grocerybooking.model.GroceryItemDTO;\r\nimport qp.assessment.grocerybooking.model.OrderDTO;\r\nimport qp.assessment.grocerybooking.service.GroceryService;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class GroceryController {\r\n\r\n    @Autowired\r\n    private GroceryService groceryService;\r\n\r\n    @GetMapping(&quot;/items&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;,&#39;USER&#39;)&quot;)\r\n    public ResponseEntity&lt;List&lt;GroceryItem&gt;&gt; getAllItems() {\r\n        List&lt;GroceryItem&gt; items = groceryService.getAllItems();\r\n        return new ResponseEntity&lt;&gt;(items, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;/items&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;Void&gt; addItem(@RequestBody GroceryItemDTO item) throws BadRequestException, InternalServerException {\r\n        groceryService.addItem(item);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(&quot;/items/{id}&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;Void&gt; updateItem(@PathVariable Long id, @RequestBody GroceryItemDTO updatedItem) throws ResourceNotFoundException, InternalServerException {\r\n        groceryService.updateItem(id, updatedItem);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/items/{id}&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;Void&gt; removeItem(@PathVariable Long id) throws ResourceNotFoundException, BadRequestException, InternalServerException {\r\n        groceryService.removeItem(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;USER&#39;)&quot;)\r\n    public ResponseEntity&lt;Map&lt;Long, String&gt;&gt; bookItems(@RequestBody List&lt;OrderDTO&gt; orderDTOList) {\r\n        Map&lt;Long, String&gt; errorMap = groceryService.bookItems(orderDTOList);\r\n        return new ResponseEntity&lt;&gt;(errorMap, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nSecurity Configuration class :\r\n\r\n```\r\npackage qp.assessment.grocerybooking.configuration;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user = User.withUsername(&quot;user&quot;)\r\n                .password(passwordEncoder.encode(&quot;user&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n\r\n        UserDetails admin = User.withUsername(&quot;admin&quot;)\r\n                .password(passwordEncoder.encode(&quot;admin&quot;))\r\n                .roles(&quot;ADMIN&quot;)\r\n                .build();\r\n\r\n        return new InMemoryUserDetailsManager(user, admin);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;,&quot;/h2-console&quot;,&quot;/h2-console/&quot;,&quot;/h2-console/**&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/api/v1/items/**&quot;,&quot;/api/v1/order&quot;)\r\n                .authenticated().and().build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am using spring boot version 3.0.1 and java 17 .\r\n\r\nPom xml :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;qp.assessment&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;grocerybooking&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;grocerybooking&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"How to authorize the endpoints based on roles provided in userdetails in spring boot","body":"<p>I am new to spring security and i need to develop a spring boot project which authorizes the endpoints based on roles . The admin should be able to view , update , save , delete items and the user should be able to view and order items . Also after implementing spring security i am not able to view h2-console as i am getting 403 error .\nI have seen a few implementations but am not able to replicate the same behavior .</p>\n<p>Below is My Controller where i have also tried using @preauthorize</p>\n<pre><code>package qp.assessment.grocerybooking.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.*;\nimport qp.assessment.grocerybooking.exception.BadRequestException;\nimport qp.assessment.grocerybooking.exception.InternalServerException;\nimport qp.assessment.grocerybooking.exception.ResourceNotFoundException;\nimport qp.assessment.grocerybooking.model.GroceryItem;\nimport qp.assessment.grocerybooking.model.GroceryItemDTO;\nimport qp.assessment.grocerybooking.model.OrderDTO;\nimport qp.assessment.grocerybooking.service.GroceryService;\n\nimport java.util.List;\nimport java.util.Map;\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class GroceryController {\n\n    @Autowired\n    private GroceryService groceryService;\n\n    @GetMapping(&quot;/items&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ADMIN','USER')&quot;)\n    public ResponseEntity&lt;List&lt;GroceryItem&gt;&gt; getAllItems() {\n        List&lt;GroceryItem&gt; items = groceryService.getAllItems();\n        return new ResponseEntity&lt;&gt;(items, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/items&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ADMIN')&quot;)\n    public ResponseEntity&lt;Void&gt; addItem(@RequestBody GroceryItemDTO item) throws BadRequestException, InternalServerException {\n        groceryService.addItem(item);\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/items/{id}&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ADMIN')&quot;)\n    public ResponseEntity&lt;Void&gt; updateItem(@PathVariable Long id, @RequestBody GroceryItemDTO updatedItem) throws ResourceNotFoundException, InternalServerException {\n        groceryService.updateItem(id, updatedItem);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/items/{id}&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ADMIN')&quot;)\n    public ResponseEntity&lt;Void&gt; removeItem(@PathVariable Long id) throws ResourceNotFoundException, BadRequestException, InternalServerException {\n        groceryService.removeItem(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/order&quot;)\n    @PreAuthorize(&quot;hasAnyRole('USER')&quot;)\n    public ResponseEntity&lt;Map&lt;Long, String&gt;&gt; bookItems(@RequestBody List&lt;OrderDTO&gt; orderDTOList) {\n        Map&lt;Long, String&gt; errorMap = groceryService.bookItems(orderDTOList);\n        return new ResponseEntity&lt;&gt;(errorMap, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>Security Configuration class :</p>\n<pre><code>package qp.assessment.grocerybooking.configuration;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService(PasswordEncoder passwordEncoder) {\n        UserDetails user = User.withUsername(&quot;user&quot;)\n                .password(passwordEncoder.encode(&quot;user&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n\n        UserDetails admin = User.withUsername(&quot;admin&quot;)\n                .password(passwordEncoder.encode(&quot;admin&quot;))\n                .roles(&quot;ADMIN&quot;)\n                .build();\n\n        return new InMemoryUserDetailsManager(user, admin);\n    }\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;,&quot;/h2-console&quot;,&quot;/h2-console/&quot;,&quot;/h2-console/**&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests().requestMatchers(&quot;/api/v1/items/**&quot;,&quot;/api/v1/order&quot;)\n                .authenticated().and().build();\n    }\n\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n}\n\n</code></pre>\n<p>I am using spring boot version 3.0.1 and java 17 .</p>\n<p>Pom xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;qp.assessment&lt;/groupId&gt;\n    &lt;artifactId&gt;grocerybooking&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;grocerybooking&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1702314850,"post_id":77641152,"comment_id":136878440,"body_markdown":"[mre], please. Everything else is just guessing!","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please. Everything else is just guessing!"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1702323082,"post_id":77641152,"comment_id":136879688,"body_markdown":"Can you please try again with Spring Boot 3.2.1-SNAPSHOT that&#39;s available from https://repo.spring.io/snapshot? There have been some bug fixes in this area recently. If that doesn&#39;t help, please open a [Spring Boot issue](https://github.com/spring-projects/spring-boot/issues) with a minimal, reproducible example.","body":"Can you please try again with Spring Boot 3.2.1-SNAPSHOT that&#39;s available from <a href=\"https://repo.spring.io/snapshot\" rel=\"nofollow noreferrer\">repo.spring.io/snapshot</a>? There have been some bug fixes in this area recently. If that doesn&#39;t help, please open a <a href=\"https://github.com/spring-projects/spring-boot/issues\" rel=\"nofollow noreferrer\">Spring Boot issue</a> with a minimal, reproducible example."}],"owner":{"account_id":15088260,"reputation":21,"user_id":10888849,"display_name":"Tomasz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702322987,"creation_date":1702313488,"question_id":77641152,"body_markdown":"When sending POST API call for the endpoint which is disabled using spring profiles I&#39;m receiving strange error instead of regular 404.\r\nThis error exists only when running spring boot apllication on tests inside the docker container and calling the API from the test code.\r\n\r\nSpring Boot 3.2.0\r\nJava 21.\r\nController annotated with: @Profile(&quot;!production&quot;)\r\n\r\n```\r\njava.lang.IllegalStateException: Zip file closed\r\n\tat org.springframework.boot.loader.jar.NestedJarFile.ensureOpen(NestedJarFile.java:406)\r\n\tat org.springframework.boot.loader.jar.NestedJarFile.getContentEntry(NestedJarFile.java:287)\r\n\tat org.springframework.boot.loader.jar.NestedJarFile.getNestedJarEntry(NestedJarFile.java:256)\r\n\tat org.springframework.boot.loader.jar.NestedJarFile.getJarEntry(NestedJarFile.java:221)\r\n\tat org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.getArchiveEntry(AbstractSingleArchiveResourceSet.java:97)\r\n\tat org.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:249)\r\n\tat org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:272)\r\n\tat org.apache.catalina.webresources.CachedResource.validateResource(CachedResource.java:105)\r\n\tat org.apache.catalina.webresources.Cache.getResource(Cache.java:96)\r\n\tat org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:211)\r\n\tat org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:202)\r\n\tat org.apache.catalina.core.ApplicationContext.getResourceAsStream(ApplicationContext.java:523)\r\n\tat org.apache.catalina.core.ApplicationContextFacade.getResourceAsStream(ApplicationContextFacade.java:205)\r\n\tat org.springframework.web.context.support.ServletContextResource.isReadable(ServletContextResource.java:120)\r\n\tat org.springframework.web.servlet.resource.PathResourceResolver.getResource(PathResourceResolver.java:190)\r\n\tat org.springframework.web.servlet.resource.PathResourceResolver.getResource(PathResourceResolver.java:159)\r\n\tat org.springframework.web.servlet.resource.PathResourceResolver.resolveResourceInternal(PathResourceResolver.java:140)\r\n\tat org.springframework.web.servlet.resource.AbstractResourceResolver.resolveResource(AbstractResourceResolver.java:45)\r\n\tat org.springframework.web.servlet.resource.DefaultResourceResolverChain.resolveResource(DefaultResourceResolverChain.java:75)\r\n\tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.getResource(ResourceHttpRequestHandler.java:654)\r\n\tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:582)\r\n\tat org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\r\n\tatc.r.s.s.filter.APIKeyAuthFilter.doFilter(APIKeyAuthFilter.java:37)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\r\n\tat c.r.s.s.filter.APIKeyAuthFilter.doFilter(APIKeyAuthFilter.java:37)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat java.base/java.lang.VirtualThread.run(VirtualThread.java:309)\r\n```\r\n\r\nWhat might be the problem here ?","title":"&quot;Zip file closed&quot; error on Spring Boot 3.2.0 Rest API call for disabled endpoint","body":"<p>When sending POST API call for the endpoint which is disabled using spring profiles I'm receiving strange error instead of regular 404.\nThis error exists only when running spring boot apllication on tests inside the docker container and calling the API from the test code.</p>\n<p>Spring Boot 3.2.0\nJava 21.\nController annotated with: @Profile(&quot;!production&quot;)</p>\n<pre><code>java.lang.IllegalStateException: Zip file closed\n    at org.springframework.boot.loader.jar.NestedJarFile.ensureOpen(NestedJarFile.java:406)\n    at org.springframework.boot.loader.jar.NestedJarFile.getContentEntry(NestedJarFile.java:287)\n    at org.springframework.boot.loader.jar.NestedJarFile.getNestedJarEntry(NestedJarFile.java:256)\n    at org.springframework.boot.loader.jar.NestedJarFile.getJarEntry(NestedJarFile.java:221)\n    at org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.getArchiveEntry(AbstractSingleArchiveResourceSet.java:97)\n    at org.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:249)\n    at org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:272)\n    at org.apache.catalina.webresources.CachedResource.validateResource(CachedResource.java:105)\n    at org.apache.catalina.webresources.Cache.getResource(Cache.java:96)\n    at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:211)\n    at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:202)\n    at org.apache.catalina.core.ApplicationContext.getResourceAsStream(ApplicationContext.java:523)\n    at org.apache.catalina.core.ApplicationContextFacade.getResourceAsStream(ApplicationContextFacade.java:205)\n    at org.springframework.web.context.support.ServletContextResource.isReadable(ServletContextResource.java:120)\n    at org.springframework.web.servlet.resource.PathResourceResolver.getResource(PathResourceResolver.java:190)\n    at org.springframework.web.servlet.resource.PathResourceResolver.getResource(PathResourceResolver.java:159)\n    at org.springframework.web.servlet.resource.PathResourceResolver.resolveResourceInternal(PathResourceResolver.java:140)\n    at org.springframework.web.servlet.resource.AbstractResourceResolver.resolveResource(AbstractResourceResolver.java:45)\n    at org.springframework.web.servlet.resource.DefaultResourceResolverChain.resolveResource(DefaultResourceResolverChain.java:75)\n    at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.getResource(ResourceHttpRequestHandler.java:654)\n    at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:582)\n    at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\n    atc.r.s.s.filter.APIKeyAuthFilter.doFilter(APIKeyAuthFilter.java:37)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n    at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\n    at c.r.s.s.filter.APIKeyAuthFilter.doFilter(APIKeyAuthFilter.java:37)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)\n</code></pre>\n<p>What might be the problem here ?</p>\n"},{"tags":["java","eclipse","rcp","e4"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1702325831,"post_id":77641927,"comment_id":136880175,"body_markdown":"No I don&#39;t think you can do that. Why do you need to copy from the MMenu items? Surely the menu and tool bar should just be referencing the same command id.","body":"No I don&#39;t think you can do that. Why do you need to copy from the MMenu items? Surely the menu and tool bar should just be referencing the same command id."}],"owner":{"account_id":14805506,"reputation":35,"user_id":10692612,"display_name":"Kildary Klein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702322728,"creation_date":1702322728,"question_id":77641927,"body_markdown":"I need to access the widgets from the MMenu instance, from my application&#39;s main menu, but I found that the menu items are only created when displayed for the first time, when clicking on the menu item.\r\n\r\nIs there a way to force the creation of all main menu widgets without having to click on all the items on the first level of the menu?\r\n\r\nNote: I need to access the items because my application copies some items from the main menu to my main toolbar.\r\n\r\nI tried creating the items by calling `MenuManagerRenderer.createWidget( mMenu, mainMenuParent )`. But the result was not what was desired. Items were duplicated, items that shouldn&#39;t be visible became visible, etc.\r\n\r\nIdeally, the creation of items should be done in the same way as when we first clicked on the menu item.","title":"How to ensure the creation of the main menu without clicking on its items?","body":"<p>I need to access the widgets from the MMenu instance, from my application's main menu, but I found that the menu items are only created when displayed for the first time, when clicking on the menu item.</p>\n<p>Is there a way to force the creation of all main menu widgets without having to click on all the items on the first level of the menu?</p>\n<p>Note: I need to access the items because my application copies some items from the main menu to my main toolbar.</p>\n<p>I tried creating the items by calling <code>MenuManagerRenderer.createWidget( mMenu, mainMenuParent )</code>. But the result was not what was desired. Items were duplicated, items that shouldn't be visible became visible, etc.</p>\n<p>Ideally, the creation of items should be done in the same way as when we first clicked on the menu item.</p>\n"},{"tags":["java","repository","centos7","java-11","yum"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1700112554,"post_id":77492443,"comment_id":136615337,"body_markdown":"&quot;I want to have latest version.&quot; Java 13 is not the latest version 21 is.","body":"&quot;I want to have latest version.&quot; Java 13 is not the latest version 21 is."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1700130332,"post_id":77492443,"comment_id":136617902,"body_markdown":"Java 13 went out of support in March 2020 with the release of Java 14. At the moment the supported Java versions are Java 8 (support until 2026 ~ 2030 depending on vendor and contract), Java 11 (until 2024 ~ 2032), Java 17 (until 2027 ~ 2029) and Java 21 (until 2029 ~ 2031).","body":"Java 13 went out of support in March 2020 with the release of Java 14. At the moment the supported Java versions are Java 8 (support until 2026 ~ 2030 depending on vendor and contract), Java 11 (until 2024 ~ 2032), Java 17 (until 2027 ~ 2029) and Java 21 (until 2029 ~ 2031)."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1700145787,"post_id":77492443,"comment_id":136620710,"body_markdown":"As already said, JDK 13 is obsolete, however you can download it from https://jdk.java.net/archive/","body":"As already said, JDK 13 is obsolete, however you can download it from <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">jdk.java.net/archive</a>"},{"owner":{"account_id":890083,"reputation":3745,"user_id":928532,"accept_rate":62,"display_name":"adrianTNT"},"score":0,"creation_date":1700188082,"post_id":77492443,"comment_id":136626796,"body_markdown":"Thanks the the tips, the java.net url mentions `Mercurial repo`, does anyone know if this would be it ? `mercurial.x86_64 : Mercurial -- a distributed SCM` I found it with Yum, I don&#39;t want to break a new server setup","body":"Thanks the the tips, the java.net url mentions <code>Mercurial repo</code>, does anyone know if this would be it ? <code>mercurial.x86_64 : Mercurial -- a distributed SCM</code> I found it with Yum, I don&#39;t want to break a new server setup"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700307687,"post_id":77492443,"comment_id":136640068,"body_markdown":"@adrianTNT You only need Mercurial if you want to checkout the sources, which you shouldn&#39;t need to.","body":"@adrianTNT You only need Mercurial if you want to checkout the sources, which you shouldn&#39;t need to."}],"answers":[{"tags":[],"owner":{"account_id":4679568,"reputation":3003,"user_id":3788685,"accept_rate":100,"display_name":"user3788685"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702322376,"creation_date":1702322376,"answer_id":77641906,"question_id":77492443,"body_markdown":"`java-latest-openjdk-18.0.2.0.9-1.rolling.el7.x86_64` is provided via the [epel-testing][1] repo.\r\n\r\n\r\n\r\n    Name        : java-latest-openjdk\r\n    Arch        : x86_64\r\n    Epoch       : 1\r\n    Version     : 18.0.2.0.9\r\n    Release     : 1.rolling.el7\r\n    Size        : 539 k\r\n    Repo        : installed\r\n    From repo   : epel-testing\r\n    Summary     : OpenJDK 18 Runtime Environment\r\n    URL         : http://openjdk.java.net/\r\n    Licence     : ASL 1.1 and ASL 2.0 and BSD and BSD with advertising and GPL+ and GPLv2 and GPLv2 with exceptions and IJG and LGPLv2+ and MIT and MPLv2.0 and Public Domain and W3C\r\n                : and zlib and ISC and FTL and RSA\r\n    Description : The OpenJDK 18 runtime environment.\r\n\r\n\r\n  [1]: http://elrepo.org/tiki/HomePage","title":"How can I install openjdk 13.x on Centos 7?","body":"<p><code>java-latest-openjdk-18.0.2.0.9-1.rolling.el7.x86_64</code> is provided via the <a href=\"http://elrepo.org/tiki/HomePage\" rel=\"nofollow noreferrer\">epel-testing</a> repo.</p>\n<pre><code>Name        : java-latest-openjdk\nArch        : x86_64\nEpoch       : 1\nVersion     : 18.0.2.0.9\nRelease     : 1.rolling.el7\nSize        : 539 k\nRepo        : installed\nFrom repo   : epel-testing\nSummary     : OpenJDK 18 Runtime Environment\nURL         : http://openjdk.java.net/\nLicence     : ASL 1.1 and ASL 2.0 and BSD and BSD with advertising and GPL+ and GPLv2 and GPLv2 with exceptions and IJG and LGPLv2+ and MIT and MPLv2.0 and Public Domain and W3C\n            : and zlib and ISC and FTL and RSA\nDescription : The OpenJDK 18 runtime environment.\n</code></pre>\n"}],"owner":{"account_id":890083,"reputation":3745,"user_id":928532,"accept_rate":62,"display_name":"adrianTNT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702322376,"creation_date":1700111636,"question_id":77492443,"body_markdown":"I have two machines with CentOS 7.x on them, on one I have this (13.x since 2020?):\r\n\r\n```none\r\njava --version\r\nopenjdk 13.0.2 2020-01-14\r\nOpenJDK Runtime Environment 19.9 (build 13.0.2+8)\r\nOpenJDK 64-Bit Server VM 19.9 (build 13.0.2+8, mixed mode, sharing)\r\n```\r\n\r\nAnd on another one I have this (11.x since 2023?):\r\n\r\n```none\r\njava --version\r\nopenjdk 11.0.20 2023-07-18 LTS\r\nOpenJDK Runtime Environment (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS)\r\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS, mixed mode, sharing)\r\n```\r\n\r\nHow can I install version 13 on the other machine too? I cannot see newer version with `yum search`.\r\n\r\nOn the server with version 13 it says it openjdk is from Epel repo:\r\n\r\n```none\r\nyum info java-latest-openjdk.x86_64\r\nLoaded plugins: fastestmirror\r\nLoading mirror speeds from cached hostfile\r\n[...]\r\nhttps://ookla.bintray.com/rhel/repodata/repomd.xml: [Errno 14] curl#51 - &quot;Unable to communicate securely with peer: requested domain name does not match the server&#39;s certificate                                                            .&quot;\r\nTrying other mirror.\r\nInstalled Packages\r\nName        : java-latest-openjdk\r\nArch        : x86_64\r\nEpoch       : 1\r\nVersion     : 13.0.2.8\r\nRelease     : 1.rolling.el7\r\nSize        : 573 k\r\nRepo        : installed\r\nFrom repo   : epel\r\nSummary     : OpenJDK Runtime Environment 13\r\nURL         : http://openjdk.java.net/\r\nLicense     : ASL 1.1 and ASL 2.0 and BSD and BSD with advertising and GPL+ and GPLv2 and GPLv2 with exceptions and IJG and LGPLv2+ and MIT and MPLv2.0 and Public Domain and W3C\r\n            : and zlib and ISC and FTL and RSA\r\nDescription : The OpenJDK runtime environment.\r\n```\r\n\r\nHow can I update the other server with this 13.x version?\r\n\r\nI want to have latest version because I use some tools that return errors with the 11.x version.","title":"How can I install openjdk 13.x on Centos 7?","body":"<p>I have two machines with CentOS 7.x on them, on one I have this (13.x since 2020?):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --version\nopenjdk 13.0.2 2020-01-14\nOpenJDK Runtime Environment 19.9 (build 13.0.2+8)\nOpenJDK 64-Bit Server VM 19.9 (build 13.0.2+8, mixed mode, sharing)\n</code></pre>\n<p>And on another one I have this (11.x since 2023?):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --version\nopenjdk 11.0.20 2023-07-18 LTS\nOpenJDK Runtime Environment (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS)\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS, mixed mode, sharing)\n</code></pre>\n<p>How can I install version 13 on the other machine too? I cannot see newer version with <code>yum search</code>.</p>\n<p>On the server with version 13 it says it openjdk is from Epel repo:</p>\n<pre class=\"lang-none prettyprint-override\"><code>yum info java-latest-openjdk.x86_64\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n[...]\nhttps://ookla.bintray.com/rhel/repodata/repomd.xml: [Errno 14] curl#51 - &quot;Unable to communicate securely with peer: requested domain name does not match the server's certificate                                                            .&quot;\nTrying other mirror.\nInstalled Packages\nName        : java-latest-openjdk\nArch        : x86_64\nEpoch       : 1\nVersion     : 13.0.2.8\nRelease     : 1.rolling.el7\nSize        : 573 k\nRepo        : installed\nFrom repo   : epel\nSummary     : OpenJDK Runtime Environment 13\nURL         : http://openjdk.java.net/\nLicense     : ASL 1.1 and ASL 2.0 and BSD and BSD with advertising and GPL+ and GPLv2 and GPLv2 with exceptions and IJG and LGPLv2+ and MIT and MPLv2.0 and Public Domain and W3C\n            : and zlib and ISC and FTL and RSA\nDescription : The OpenJDK runtime environment.\n</code></pre>\n<p>How can I update the other server with this 13.x version?</p>\n<p>I want to have latest version because I use some tools that return errors with the 11.x version.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702198916,"post_id":77634223,"comment_id":136865591,"body_markdown":"Github: https://github.com/gchapidze/maze-gen","body":"Github: <a href=\"https://github.com/gchapidze/maze-gen\" rel=\"nofollow noreferrer\">github.com/gchapidze/maze-gen</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702200170,"post_id":77634223,"comment_id":136865667,"body_markdown":"Does `C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll` exist? How are you executing the project? What happens if you upgrade to JavaFX 21.0.1?","body":"Does <code>C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll</code> exist? How are you executing the project? What happens if you upgrade to JavaFX 21.0.1?"},{"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702200323,"post_id":77634223,"comment_id":136865679,"body_markdown":"@Slaw Yes, &#180;C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll&#180; exists. I have an AMD CPU. I am executing project from Intellij IDEA 2023.3.","body":"@Slaw Yes, &#180;C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll&#180; exists. I have an AMD CPU. I am executing project from Intellij IDEA 2023.3."},{"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702201402,"post_id":77634223,"comment_id":136865742,"body_markdown":"@Slaw I tried it on JavaFX 21.0.1 and nothing changed.","body":"@Slaw I tried it on JavaFX 21.0.1 and nothing changed."},{"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702201420,"post_id":77634223,"comment_id":136865744,"body_markdown":"@Slaw Does it work on your platform?","body":"@Slaw Does it work on your platform?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702223275,"post_id":77634223,"comment_id":136867553,"body_markdown":"Yes. Executing `./mvnw compile javafx:run` worked just fine (at least after fixing the `&lt;mainClass&gt;` configuration in your POM).","body":"Yes. Executing <code>.&#47;mvnw compile javafx:run</code> worked just fine (at least after fixing the <code>&lt;mainClass&gt;</code> configuration in your POM)."},{"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":2,"creation_date":1702225213,"post_id":77634223,"comment_id":136867742,"body_markdown":"@Slaw Even after downloading Bellsoft&#39;s Liberica, which comes with JavaFX, I continued to receive the same issue. It must have something to do with having an AMD CPU. I&#39;m not sure...","body":"@Slaw Even after downloading Bellsoft&#39;s Liberica, which comes with JavaFX, I continued to receive the same issue. It must have something to do with having an AMD CPU. I&#39;m not sure..."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702225692,"post_id":77634223,"comment_id":136867799,"body_markdown":"Maybe. I have an Intel, but what runs on Intel _should_ run on AMD as well. And JavaFX, when you&#39;re using the Maven artifacts, seems to be extracting the `gstreamer-lite.dll` library correctly. It may be your computer is missing some library that GStreamer depends on, but I don&#39;t know what that could be.","body":"Maybe. I have an Intel, but what runs on Intel <i>should</i> run on AMD as well. And JavaFX, when you&#39;re using the Maven artifacts, seems to be extracting the <code>gstreamer-lite.dll</code> library correctly. It may be your computer is missing some library that GStreamer depends on, but I don&#39;t know what that could be."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1702280629,"post_id":77634223,"comment_id":136872400,"body_markdown":"What version of windows are you using?","body":"What version of windows are you using?"},{"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":1,"creation_date":1702296638,"post_id":77634223,"comment_id":136874874,"body_markdown":"@jewelsea Windows 11 Home N with AMD Ryzen 5 7535HS.","body":"@jewelsea Windows 11 Home N with AMD Ryzen 5 7535HS."}],"answers":[{"tags":[],"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1702322293,"creation_date":1702301877,"answer_id":77639996,"question_id":77634223,"body_markdown":"Thanks to @jewelsea and @Slaw for helping me to solve the problem.\r\n\r\nJavaFX&#39;s media module depends on the Windows Media Feature Pack *(if you are using an &quot;N&quot; edition of Windows)* and needs the C-written gstreamer-lite media package.  \r\n\r\nThe gstreamer-lite package is supplied in the JavaFX Maven modules, or jmods, or the JavaFX SDK distribution.  gstreamer-lite will be automatically extracted to a cache directory if required when JavaFX is initialized, requiring no user intervention to install.\r\n\r\n**The Windows Media Feature Pack needs to be manually installed.**\r\n\r\nMake sure the media feature pack is installed by going to Settings &gt; Applications &gt; Optional features. \r\n\r\n\r\n[![Optional features][1]][1]\r\n\r\nHappy Coding!\r\n\r\nMicrosoft information on the Windows Media Feature Pack:\r\n\r\n * [Media Feature Pack list for Windows N editions][2]\r\n * [Media Feature Pack for Windows 10/11 N (September 2022)][3]\r\n\r\n&gt; Windows 10/11 N includes the same functionality as other Windows 10/11 editions, except for Windows Media Player and related technologies. Customers can restore the functionality of these technologies by installing the Media Feature Pack for N versions of Windows 10/11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFlO9.png\r\n  [2]: https://support.microsoft.com/en-au/topic/media-feature-pack-list-for-windows-n-editions-c1c6fffa-d052-8338-7a79-a4bb980a700a\r\n  [3]: https://support.microsoft.com/en-us/windows/media-feature-pack-for-windows-10-11-n-september-2022-78cfeea5-c7d9-4aa8-b38f-ee4df1392009","title":"Unable to play audio: Loading library gstreamer-lite from resource failed","body":"<p>Thanks to @jewelsea and @Slaw for helping me to solve the problem.</p>\n<p>JavaFX's media module depends on the Windows Media Feature Pack <em>(if you are using an &quot;N&quot; edition of Windows)</em> and needs the C-written gstreamer-lite media package.</p>\n<p>The gstreamer-lite package is supplied in the JavaFX Maven modules, or jmods, or the JavaFX SDK distribution.  gstreamer-lite will be automatically extracted to a cache directory if required when JavaFX is initialized, requiring no user intervention to install.</p>\n<p><strong>The Windows Media Feature Pack needs to be manually installed.</strong></p>\n<p>Make sure the media feature pack is installed by going to Settings &gt; Applications &gt; Optional features.</p>\n<p><a href=\"https://i.stack.imgur.com/hFlO9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFlO9.png\" alt=\"Optional features\" /></a></p>\n<p>Happy Coding!</p>\n<p>Microsoft information on the Windows Media Feature Pack:</p>\n<ul>\n<li><a href=\"https://support.microsoft.com/en-au/topic/media-feature-pack-list-for-windows-n-editions-c1c6fffa-d052-8338-7a79-a4bb980a700a\" rel=\"nofollow noreferrer\">Media Feature Pack list for Windows N editions</a></li>\n<li><a href=\"https://support.microsoft.com/en-us/windows/media-feature-pack-for-windows-10-11-n-september-2022-78cfeea5-c7d9-4aa8-b38f-ee4df1392009\" rel=\"nofollow noreferrer\">Media Feature Pack for Windows 10/11 N (September 2022)</a></li>\n</ul>\n<blockquote>\n<p>Windows 10/11 N includes the same functionality as other Windows 10/11 editions, except for Windows Media Player and related technologies. Customers can restore the functionality of these technologies by installing the Media Feature Pack for N versions of Windows 10/11.</p>\n</blockquote>\n"}],"owner":{"account_id":29925220,"reputation":53,"user_id":22956899,"display_name":"Giorgi Chapidze"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1702322293,"creation_date":1702198830,"question_id":77634223,"body_markdown":"When the JavaFX program launches, I&#39;m attempting to play an audio file using the code structure:\r\n\r\n    private void playSound() {\r\n        try {\r\n            Media media = new Media(\r\n                    getClass()\r\n                            .getResource(&quot;/audio/maze-sound.wav&quot;)\r\n                            .toExternalForm()\r\n            );\r\n            this.mediaPlayer = new MediaPlayer(media);\r\n            this.mediaPlayer.play();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nUnexpectedly, I am receiving the following exception, which shouldn&#39;t be happening given that I added the media dependency and that it should have all other dependencies as well. \r\n\r\n    Loading library gstreamer-lite from resource failed: java.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can&#39;t find dependent libraries\r\n    java.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can&#39;t find dependent libraries\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:331)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:197)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:139)\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2418)\r\n    \tat java.base/java.lang.Runtime.load0(Runtime.java:852)\r\n    \tat java.base/java.lang.System.load(System.java:2021)\r\n    \tat javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.installLibraryFromResource(NativeLibLoader.java:218)\r\n    \tat javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibraryFromResource(NativeLibLoader.java:198)\r\n    \tat javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:140)\r\n    \tat javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:56)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:115)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:571)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\r\n    \tat javafx.media@21/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n    \tat javafx.media@21/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\r\n    \tat javafx.media@21/javafx.scene.media.Media.&lt;init&gt;(Media.java:392)\r\n    \tat com.algorithms.maze/com.algorithms.maze.App.playSound(App.java:34)\r\n    \tat com.algorithms.maze/com.algorithms.maze.App.start(App.java:26)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    \tat javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n    Caused by: java.lang.UnsatisfiedLinkError: no gstreamer-lite in java.library.path: C:\\Program Files\\Eclipse Adoptium\\jdk-21.0.1.12-hotspot\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\Eclipse Adoptium\\jdk-21.0.1.12-hotspot\\bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Users\\gc\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\cmd;C:\\Users\\gc\\AppData\\Local\\Microsoft\\WindowsApps;.\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2458)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:916)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:2059)\r\n    \tat javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:168)\r\n    \tat javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:56)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:115)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:571)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\r\n    \tat javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\r\n    \tat javafx.media@21/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n    \tat javafx.media@21/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\r\n    \tat javafx.media@21/javafx.scene.media.Media.&lt;init&gt;(Media.java:392)\r\n    \tat com.algorithms.maze/com.algorithms.maze.App.playSound(App.java:34)\r\n    \tat com.algorithms.maze/com.algorithms.maze.App.start(App.java:26)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    \tat javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    \t... 1 more\r\n    Exception running application com.algorithms.maze.App\r\n\r\npom.xml dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nProject structure:\r\n\r\n    C:.\r\n    |   .gitignore\r\n    |   mvnw\r\n    |   mvnw.cmd\r\n    |   pom.xml\r\n    |\r\n    +---.idea\r\n    |       .gitignore\r\n    |       compiler.xml\r\n    |       encodings.xml\r\n    |       jarRepositories.xml\r\n    |       misc.xml\r\n    |       uiDesigner.xml\r\n    |       vcs.xml\r\n    |       workspace.xml\r\n    |\r\n    +---.mvn\r\n    |   \\---wrapper\r\n    |           maven-wrapper.jar\r\n    |           maven-wrapper.properties\r\n    |\r\n    \\---src\r\n        \\---main\r\n            +---java\r\n            |   |   module-info.java\r\n            |   |\r\n            |   \\---com\r\n            |       \\---algorithms\r\n            |           \\---maze\r\n            |                   App.java\r\n            |                   Cell.java\r\n            |                   MazeController.java\r\n            |                   MazeModel.java\r\n            |                   MazeView.java\r\n            |\r\n            \\---resources\r\n                |   1322301.png\r\n                |\r\n                \\---audio\r\n                        maze-sound.wav\r\n\r\n\r\n","title":"Unable to play audio: Loading library gstreamer-lite from resource failed","body":"<p>When the JavaFX program launches, I'm attempting to play an audio file using the code structure:</p>\n<pre><code>private void playSound() {\n    try {\n        Media media = new Media(\n                getClass()\n                        .getResource(&quot;/audio/maze-sound.wav&quot;)\n                        .toExternalForm()\n        );\n        this.mediaPlayer = new MediaPlayer(media);\n        this.mediaPlayer.play();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Unexpectedly, I am receiving the following exception, which shouldn't be happening given that I added the media dependency and that it should have all other dependencies as well.</p>\n<pre><code>Loading library gstreamer-lite from resource failed: java.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can't find dependent libraries\njava.lang.UnsatisfiedLinkError: C:\\Users\\gc\\.openjfx\\cache\\21+31\\amd64\\gstreamer-lite.dll: Can't find dependent libraries\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:331)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:197)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:139)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2418)\n    at java.base/java.lang.Runtime.load0(Runtime.java:852)\n    at java.base/java.lang.System.load(System.java:2021)\n    at javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.installLibraryFromResource(NativeLibLoader.java:218)\n    at javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibraryFromResource(NativeLibLoader.java:198)\n    at javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:140)\n    at javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:56)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:115)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\n    at javafx.media@21/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n    at javafx.media@21/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\n    at javafx.media@21/javafx.scene.media.Media.&lt;init&gt;(Media.java:392)\n    at com.algorithms.maze/com.algorithms.maze.App.playSound(App.java:34)\n    at com.algorithms.maze/com.algorithms.maze.App.start(App.java:26)\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: java.lang.UnsatisfiedLinkError: no gstreamer-lite in java.library.path: C:\\Program Files\\Eclipse Adoptium\\jdk-21.0.1.12-hotspot\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\Eclipse Adoptium\\jdk-21.0.1.12-hotspot\\bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Users\\gc\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\cmd;C:\\Users\\gc\\AppData\\Local\\Microsoft\\WindowsApps;.\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2458)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:916)\n    at java.base/java.lang.System.loadLibrary(System.java:2059)\n    at javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:168)\n    at javafx.graphics@21/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:56)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:115)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\n    at javafx.media@21/com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\n    at javafx.media@21/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n    at javafx.media@21/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\n    at javafx.media@21/javafx.scene.media.Media.&lt;init&gt;(Media.java:392)\n    at com.algorithms.maze/com.algorithms.maze.App.playSound(App.java:34)\n    at com.algorithms.maze/com.algorithms.maze.App.start(App.java:26)\n    at javafx.graphics@21/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    ... 1 more\nException running application com.algorithms.maze.App\n</code></pre>\n<p>pom.xml dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n        &lt;version&gt;21&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Project structure:</p>\n<pre><code>C:.\n|   .gitignore\n|   mvnw\n|   mvnw.cmd\n|   pom.xml\n|\n+---.idea\n|       .gitignore\n|       compiler.xml\n|       encodings.xml\n|       jarRepositories.xml\n|       misc.xml\n|       uiDesigner.xml\n|       vcs.xml\n|       workspace.xml\n|\n+---.mvn\n|   \\---wrapper\n|           maven-wrapper.jar\n|           maven-wrapper.properties\n|\n\\---src\n    \\---main\n        +---java\n        |   |   module-info.java\n        |   |\n        |   \\---com\n        |       \\---algorithms\n        |           \\---maze\n        |                   App.java\n        |                   Cell.java\n        |                   MazeController.java\n        |                   MazeModel.java\n        |                   MazeView.java\n        |\n        \\---resources\n            |   1322301.png\n            |\n            \\---audio\n                    maze-sound.wav\n</code></pre>\n"},{"tags":["java","aws-lambda","postman"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1702306750,"post_id":77640350,"comment_id":136876899,"body_markdown":"I think its a problem related with NodeJs, which is under postman, but you shouldn&#39;t make the headers case sensitive, since if you try to send the same header with postman like &quot;keY&quot; and &quot;KeY&quot; only the last one will be sent (https://github.com/postmanlabs/postman-app-support/issues/6394#issuecomment-502786859)","body":"I think its a problem related with NodeJs, which is under postman, but you shouldn&#39;t make the headers case sensitive, since if you try to send the same header with postman like &quot;keY&quot; and &quot;KeY&quot; only the last one will be sent (<a href=\"https://github.com/postmanlabs/postman-app-support/issues/6394#issuecomment-502786859\" rel=\"nofollow noreferrer\">github.com/postmanlabs/postman-app-support/issues/&hellip;</a>)"},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1702307427,"post_id":77640350,"comment_id":136877043,"body_markdown":"If I try to send person-id; it is being sent as Person-Id via postman. @AdrianLagartera","body":"If I try to send person-id; it is being sent as Person-Id via postman. @AdrianLagartera"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1702308337,"post_id":77640350,"comment_id":136877217,"body_markdown":"Yes, as I said above, looks like postman does a PascalCase for whatever reason, what I trying to say its you shouldn&#39;t make your checks case sensitive with headers, try to send multiple headers with the same name but different character as I put previously and you will see how only one is sent and following the standard https://datatracker.ietf.org/doc/html/rfc7230#section-3.2","body":"Yes, as I said above, looks like postman does a PascalCase for whatever reason, what I trying to say its you shouldn&#39;t make your checks case sensitive with headers, try to send multiple headers with the same name but different character as I put previously and you will see how only one is sent and following the standard <a href=\"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2\" rel=\"nofollow noreferrer\">datatracker.ietf.org/doc/html/rfc7230#section-3.2</a>"},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1702308561,"post_id":77640350,"comment_id":136877263,"body_markdown":"@AdrianLagartera It happens when I send the curl command as well.","body":"@AdrianLagartera It happens when I send the curl command as well."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1702311177,"post_id":77640350,"comment_id":136877781,"body_markdown":"Why do you care if it&#39;s camel case? You should consider header names to be case insensitive.","body":"Why do you care if it&#39;s camel case? You should consider header names to be case insensitive."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1702311237,"post_id":77640350,"comment_id":136877792,"body_markdown":"I want it to be lower case.","body":"I want it to be lower case."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1702312376,"post_id":77640350,"comment_id":136878009,"body_markdown":"Make it lowercase by yourself, because looking, I dont know if its spring or tomcat that does something underneath, so the &quot;only&quot; solution I can provide its do a `String.toLowerCase` and override the header with the same content, or if you dont need the content, just lowercase the key of header","body":"Make it lowercase by yourself, because looking, I dont know if its spring or tomcat that does something underneath, so the &quot;only&quot; solution I can provide its do a <code>String.toLowerCase</code> and override the header with the same content, or if you dont need the content, just lowercase the key of header"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1702313219,"post_id":77640350,"comment_id":136878162,"body_markdown":"API gateway, depending on the integration version does this for you.  It&#39;s honestly very annoying depending on the libraries you&#39;re using.  I was reading the headers with JsonPath and, unfortunately, JSON keys are case sensitive.  So I read all the keys into a Map and lower cased them.  A minor extra step but still not ideal.","body":"API gateway, depending on the integration version does this for you.  It&#39;s honestly very annoying depending on the libraries you&#39;re using.  I was reading the headers with JsonPath and, unfortunately, JSON keys are case sensitive.  So I read all the keys into a Map and lower cased them.  A minor extra step but still not ideal."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1702320911,"post_id":77640350,"comment_id":136879372,"body_markdown":"@stdunbar I agree and it is an already deployed code, so I am not sure for happened in the last 1 year that this change started happening suddenly.","body":"@stdunbar I agree and it is an already deployed code, so I am not sure for happened in the last 1 year that this change started happening suddenly."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1702322613,"post_id":77640350,"comment_id":136879614,"body_markdown":"Have you changed the API gateway setup recently?","body":"Have you changed the API gateway setup recently?"}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702322789,"answer_count":0,"score":-3,"last_activity_date":1702322282,"creation_date":1702305670,"question_id":77640350,"body_markdown":"\r\n\r\nI am sending a header named personId as my API headers which is being mapped to &quot;PersonId&quot;.\r\n\r\n```\r\npublic APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent event, final Context context) {\r\nMap&lt;String, String&gt; header = event.getHeaders();\r\n}\r\n```","title":"API header is changed to upper case when using Postman","body":"<p>I am sending a header named personId as my API headers which is being mapped to &quot;PersonId&quot;.</p>\n<pre><code>public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent event, final Context context) {\nMap&lt;String, String&gt; header = event.getHeaders();\n}\n</code></pre>\n"},{"tags":["java","layout","swt"],"comments":[{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1702323593,"post_id":77641896,"comment_id":136879767,"body_markdown":"The uncommented downvote is not especially helpful. Could please anyone explain how to improve?","body":"The uncommented downvote is not especially helpful. Could please anyone explain how to improve?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1702332003,"post_id":77641896,"comment_id":136881080,"body_markdown":"I imagine the downvote (and close vote for more details) are because you haven&#39;t included a [mre]. If the snippet works but your usage doesn&#39;t we need to see what you are doing.","body":"I imagine the downvote (and close vote for more details) are because you haven&#39;t included a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If the snippet works but your usage doesn&#39;t we need to see what you are doing."}],"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702322258,"creation_date":1702322258,"question_id":77641896,"body_markdown":"I have an issue in my code that RowLayout is not wrapping.\r\n\r\nI have seen https://github.com/eclipse-platform/eclipse.platform.swt/blob/master/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet176.java and it works well.\r\n\r\nBut when I have more of those buttons, the application does not wrap them and they are hidden to the right.\r\n\r\nExperimentally, I have fixed that by using \r\n\r\n    Shell shell = new Shell(display, SWT.SHELL_TRIM);\r\n          Rectangle ca = Display.getCurrent().getClientArea();\r\n          if (ca.width &gt; 600)\r\n             ca.width = 600;\r\n          if (ca.height &gt; 400)\r\n             ca.height = 400;\r\n          shell.setSize(ca.width, ca.height);\r\n\r\nBut my actual RowLayout in my application is for a Group, nested (in a Group in a) TabItem. (Did not count the nesting levels.) Neither resizing the shell nor the immediate Group does the trick.\r\n\r\nWhat am I missing?\r\n\r\n\r\n\r\nNothing I have tried or found works, except for the oversimplified snippets.","title":"Java SWT RowLayout not wrapping as expected","body":"<p>I have an issue in my code that RowLayout is not wrapping.</p>\n<p>I have seen <a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/blob/master/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet176.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse-platform/eclipse.platform.swt/blob/master/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet176.java</a> and it works well.</p>\n<p>But when I have more of those buttons, the application does not wrap them and they are hidden to the right.</p>\n<p>Experimentally, I have fixed that by using</p>\n<pre><code>Shell shell = new Shell(display, SWT.SHELL_TRIM);\n      Rectangle ca = Display.getCurrent().getClientArea();\n      if (ca.width &gt; 600)\n         ca.width = 600;\n      if (ca.height &gt; 400)\n         ca.height = 400;\n      shell.setSize(ca.width, ca.height);\n</code></pre>\n<p>But my actual RowLayout in my application is for a Group, nested (in a Group in a) TabItem. (Did not count the nesting levels.) Neither resizing the shell nor the immediate Group does the trick.</p>\n<p>What am I missing?</p>\n<p>Nothing I have tried or found works, except for the oversimplified snippets.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":3857,"reputation":21157,"user_id":5640,"accept_rate":100,"display_name":"GEOCHET"},"score":4,"creation_date":1221510189,"post_id":66540,"comment_id":22109234,"body_markdown":"Too complex of a concept to full detail here, but this article should help you: http://chaoticjava.com/posts/how-does-garbage-collection-work/","body":"Too complex of a concept to full detail here, but this article should help you: <a href=\"http://chaoticjava.com/posts/how-does-garbage-collection-work/\" rel=\"nofollow noreferrer\">chaoticjava.com/posts/how-does-garbage-collection-work</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1343218575,"post_id":66540,"comment_id":15434473,"body_markdown":"The exact behaviour is up to the JVM, i.e. implementation dependent.","body":"The exact behaviour is up to the JVM, i.e. implementation dependent."}],"answers":[{"comments":[{"owner":{"account_id":3044,"reputation":12486,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"score":4,"creation_date":1221510547,"post_id":66573,"comment_id":5950,"body_markdown":"you can force a garbage collection in jconsole","body":"you can force a garbage collection in jconsole"},{"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"score":25,"creation_date":1221586724,"post_id":66573,"comment_id":8168,"body_markdown":"@bene Can you really &quot;force&quot; it?  Is jconsole just calling System.gc()?","body":"@bene Can you really &quot;force&quot; it?  Is jconsole just calling System.gc()?"},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":4,"creation_date":1546745262,"post_id":66573,"comment_id":94950584,"body_markdown":"I&#39;d use `System.gc()` while in a loading screen for a video game. At that point, I wouldn&#39;t really care if the call cleared everything it possibly could, or did nothing at all. I would, however, *prefer* that it &quot;expend effort toward recycling unused objects&quot; during the loading screen, rather than during the gameplay.","body":"I&#39;d use <code>System.gc()</code> while in a loading screen for a video game. At that point, I wouldn&#39;t really care if the call cleared everything it possibly could, or did nothing at all. I would, however, <i>prefer</i> that it &quot;expend effort toward recycling unused objects&quot; during the loading screen, rather than during the gameplay."}],"tags":[],"owner":{"account_id":2978,"reputation":49999,"user_id":4223,"accept_rate":93,"display_name":"jodonnell"},"comment_count":3,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1221510221,"creation_date":1221510221,"answer_id":66573,"question_id":66540,"body_markdown":"In practice, it *usually* decides to do a garbage collection.  The answer varies depending on lots of factors, like which JVM you&#39;re running on, which mode it&#39;s in, and which garbage collection algorithm it&#39;s using.  \r\n\r\nI wouldn&#39;t depend on it in your code.  If the JVM is about to throw an OutOfMemoryError, calling System.gc() won&#39;t stop it, because the garbage collector will attempt to free as much as it can before it goes to that extreme.  The only time I&#39;ve seen it used in practice is in IDEs where it&#39;s attached to a button that a user can click, but even there it&#39;s not terribly useful.","title":"When does System.gc() do something?","body":"<p>In practice, it <em>usually</em> decides to do a garbage collection.  The answer varies depending on lots of factors, like which JVM you're running on, which mode it's in, and which garbage collection algorithm it's using.  </p>\n\n<p>I wouldn't depend on it in your code.  If the JVM is about to throw an OutOfMemoryError, calling System.gc() won't stop it, because the garbage collector will attempt to free as much as it can before it goes to that extreme.  The only time I've seen it used in practice is in IDEs where it's attached to a button that a user can click, but even there it's not terribly useful.</p>\n"},{"tags":[],"owner":{"account_id":343,"reputation":90794,"user_id":429,"accept_rate":80,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1440593648,"creation_date":1221510310,"answer_id":66582,"question_id":66540,"body_markdown":"`System.gc()` is implemented by the VM, and what it does is implementation specific. The implementer could simply return and do nothing, for instance. \r\n\r\nAs for when to issue a manual collect, the only time when you may want to do this is when you abandon a large collection containing loads of smaller collections--a \r\n`Map&lt;String,&lt;LinkedList&gt;&gt;`   for instance--and you want to try and take the perf hit then and there, but for the most part, you shouldn&#39;t worry about it. The GC knows better than you--sadly--most of the time.","title":"When does System.gc() do something?","body":"<p><code>System.gc()</code> is implemented by the VM, and what it does is implementation specific. The implementer could simply return and do nothing, for instance. </p>\n\n<p>As for when to issue a manual collect, the only time when you may want to do this is when you abandon a large collection containing loads of smaller collections--a \n<code>Map&lt;String,&lt;LinkedList&gt;&gt;</code>   for instance--and you want to try and take the perf hit then and there, but for the most part, you shouldn't worry about it. The GC knows better than you--sadly--most of the time.</p>\n"},{"tags":[],"owner":{"account_id":5034,"reputation":11125,"user_id":7888,"accept_rate":83,"display_name":"DustinB"},"comment_count":0,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1440593079,"creation_date":1221510440,"answer_id":66601,"question_id":66540,"body_markdown":"You have no control over GC in java -- the VM decides.  I&#39;ve never run across a case where `System.gc()` is _needed_.  Since a `System.gc()` call simply SUGGESTS that the VM do a garbage collection and it also does a FULL garbage collection (old and new generations in a multi-generational heap), then it can actually cause **MORE** cpu cycles to be consumed than necessary.\r\n\r\nIn some cases, it may make sense to suggest to the VM that it do a full collection NOW as you may know the application will be sitting idle for the next few minutes before heavy lifting occurs.  For example, right after the initialization of a lot of temporary object during application startup (i.e., I just cached a TON of info, and I know I won&#39;t be getting much activity for a minute or so).  Think of an IDE such as eclipse starting up -- it does a lot to initialize, so perhaps immediately after initialization it makes sense to do a full gc at that point.\r\n\r\n","title":"When does System.gc() do something?","body":"<p>You have no control over GC in java -- the VM decides.  I've never run across a case where <code>System.gc()</code> is <em>needed</em>.  Since a <code>System.gc()</code> call simply SUGGESTS that the VM do a garbage collection and it also does a FULL garbage collection (old and new generations in a multi-generational heap), then it can actually cause <strong>MORE</strong> cpu cycles to be consumed than necessary.</p>\n\n<p>In some cases, it may make sense to suggest to the VM that it do a full collection NOW as you may know the application will be sitting idle for the next few minutes before heavy lifting occurs.  For example, right after the initialization of a lot of temporary object during application startup (i.e., I just cached a TON of info, and I know I won't be getting much activity for a minute or so).  Think of an IDE such as eclipse starting up -- it does a lot to initialize, so perhaps immediately after initialization it makes sense to do a full gc at that point.</p>\n"},{"comments":[{"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"score":2,"creation_date":1399679567,"post_id":66650,"comment_id":36180647,"body_markdown":"We call System.gc() to try to close our MappedByteBuffer objects which otherwise are not closed, and therefore not available for other processes or for file truncation, even though we call &#39;close()&#39; on the objects. Unfortunately it still doesn&#39;t always close them.","body":"We call System.gc() to try to close our MappedByteBuffer objects which otherwise are not closed, and therefore not available for other processes or for file truncation, even though we call &#39;close()&#39; on the objects. Unfortunately it still doesn&#39;t always close them."}],"tags":[],"owner":{"account_id":5859,"reputation":7471,"user_id":9628,"accept_rate":64,"display_name":"zxcv"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221510740,"creation_date":1221510740,"answer_id":66650,"question_id":66540,"body_markdown":"I can&#39;t think of a specific example when it is good to run explicit GC. \r\n\r\nIn general, running explicit GC can actually cause more harm than good, because an explicit gc will trigger a full collection, which takes significantly longer as it goes through every object.  If this explicit gc ends up being called repeatedly it could easily lead to a slow application as a lot of time is spent running full GCs.\r\n\r\nAlternatively if going over the heap with a heap analyzer and you suspect a library component to be calling explicit GC&#39;s you can turn it off adding: gc=-XX:+DisableExplicitGC  to the JVM parameters.","title":"When does System.gc() do something?","body":"<p>I can't think of a specific example when it is good to run explicit GC. </p>\n\n<p>In general, running explicit GC can actually cause more harm than good, because an explicit gc will trigger a full collection, which takes significantly longer as it goes through every object.  If this explicit gc ends up being called repeatedly it could easily lead to a slow application as a lot of time is spent running full GCs.</p>\n\n<p>Alternatively if going over the heap with a heap analyzer and you suspect a library component to be calling explicit GC's you can turn it off adding: gc=-XX:+DisableExplicitGC  to the JVM parameters.</p>\n"},{"comments":[{"owner":{"account_id":3505946,"reputation":2815,"user_id":2931487,"accept_rate":60,"display_name":"Sagar Devanga"},"score":0,"creation_date":1432906217,"post_id":66692,"comment_id":49135302,"body_markdown":"My android application always throws me an OutOfMemoryException. So I was thinking of using System.gc() in the onDestroy function of my class to clear all the unwanted references and objects . Is it a good approach","body":"My android application always throws me an OutOfMemoryException. So I was thinking of using System.gc() in the onDestroy function of my class to clear all the unwanted references and objects . Is it a good approach"},{"owner":{"account_id":22514,"reputation":1370,"user_id":55597,"accept_rate":88,"display_name":"Scrubbie"},"score":2,"creation_date":1444166523,"post_id":66692,"comment_id":53785442,"body_markdown":"@Sagar Devanga  Manually calling the gc as you describe is unlikely to help.  Before throwing an OOM, the JVM will already have attempted to garbage collect in order to free up memory","body":"@Sagar Devanga  Manually calling the gc as you describe is unlikely to help.  Before throwing an OOM, the JVM will already have attempted to garbage collect in order to free up memory"}],"tags":[],"owner":{"account_id":1315,"reputation":4293,"user_id":1750,"display_name":"David Schlosnagle"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1418134839,"creation_date":1221511009,"answer_id":66692,"question_id":66540,"body_markdown":"You need to be very careful if you call `System.gc()`. Calling it can add unnecessary performance issues to your application, and it is not guaranteed to actually perform a collection. It is actually possible to disable explicit `System.gc()` via the java argument `-XX:+DisableExplicitGC`.\r\n\r\nI&#39;d highly recommend reading through the documents available at [Java HotSpot Garbage Collection][1] for more in depth details about garbage collection.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/hotspot/index.jsp","title":"When does System.gc() do something?","body":"<p>You need to be very careful if you call <code>System.gc()</code>. Calling it can add unnecessary performance issues to your application, and it is not guaranteed to actually perform a collection. It is actually possible to disable explicit <code>System.gc()</code> via the java argument <code>-XX:+DisableExplicitGC</code>.</p>\n\n<p>I'd highly recommend reading through the documents available at <a href=\"http://java.sun.com/javase/technologies/hotspot/index.jsp\" rel=\"noreferrer\">Java HotSpot Garbage Collection</a> for more in depth details about garbage collection.</p>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":4,"creation_date":1242035010,"post_id":66694,"comment_id":655699,"body_markdown":"Yes, that&#39;s what I do as well. The values returned by Runtime.freeMemory() e.g. are only really meaningful after a System.gc(), because normally you want to know how much memory is blocked by uncollectable instances. Only to be used in debugging/memory profiling of course, never in production.","body":"Yes, that&#39;s what I do as well. The values returned by Runtime.freeMemory() e.g. are only really meaningful after a System.gc(), because normally you want to know how much memory is blocked by uncollectable instances. Only to be used in debugging/memory profiling of course, never in production."},{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":0,"creation_date":1564699862,"post_id":66694,"comment_id":101127125,"body_markdown":"Naw, its good for many other scenarios too. For example, lets say you have a single pattern that is lifecycle aware. In onStop() if you are null(ing) the instance, it&#39;s a good idea to call System.gc() to help it.","body":"Naw, its good for many other scenarios too. For example, lets say you have a single pattern that is lifecycle aware. In onStop() if you are null(ing) the instance, it&#39;s a good idea to call System.gc() to help it."}],"tags":[],"owner":{"account_id":3734,"reputation":1701,"user_id":5425,"accept_rate":60,"display_name":"Guillermo Vasconcelos"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1221511019,"creation_date":1221511019,"answer_id":66694,"question_id":66540,"body_markdown":"The only example I can think of where it makes sense to call System.gc() is when profiling an application to search for possible memory leaks. I believe the profilers call this method just before taking a memory snapshot.","title":"When does System.gc() do something?","body":"<p>The only example I can think of where it makes sense to call System.gc() is when profiling an application to search for possible memory leaks. I believe the profilers call this method just before taking a memory snapshot.</p>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413241524,"creation_date":1221590212,"answer_id":75536,"question_id":66540,"body_markdown":"Most JVMs will kick off a GC (depending on the -XX:DiableExplicitGC and -XX:+ExplicitGCInvokesConcurrent switch). But the specification is just less well defined in order to allow better implementations later on.\r\n\r\nThe spec needs clarification: [Bug #6668279: (spec) System.gc() should indicate that we don&#39;t recommend use and don&#39;t guarantee behaviour][1]\r\n\r\nInternally the gc method is used by RMI and NIO, and they require synchronous execution, which: this is currently in discussion:\r\n\r\n[Bug #5025281: Allow System.gc() to trigger concurrent (not stop-the-world) full collections][2]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6668279\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=5025281","title":"When does System.gc() do something?","body":"<p>Most JVMs will kick off a GC (depending on the -XX:DiableExplicitGC and -XX:+ExplicitGCInvokesConcurrent switch). But the specification is just less well defined in order to allow better implementations later on.</p>\n<p>The spec needs clarification: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6668279\" rel=\"nofollow noreferrer\">Bug #6668279: (spec) System.gc() should indicate that we don't recommend use and don't guarantee behaviour</a></p>\n<p>Internally the gc method is used by RMI and NIO, and they require synchronous execution, which: this is currently in discussion:</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=5025281\" rel=\"nofollow noreferrer\">Bug #5025281: Allow System.gc() to trigger concurrent (not stop-the-world) full collections</a></p>\n"},{"tags":[],"owner":{"display_name":"Vashek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234272010,"creation_date":1234272010,"answer_id":532295,"question_id":66540,"body_markdown":"Normally, the VM would do a garbage collection automatically before throwing an OutOfMemoryException, so adding an explicit call shouldn&#39;t help except in that it perhaps moves the performance hit to an earlier moment in time.\r\n\r\nHowever, I think I encountered a case where it might be relevant. I&#39;m not sure though, as I have yet to test whether it has any effect:\r\n\r\nWhen you memory-map a file, I believe the map() call throws an IOException when a large enough block of memory is not available. A garbage collection just before the map() file might help prevent that, I think. What do you think?","title":"When does System.gc() do something?","body":"<p>Normally, the VM would do a garbage collection automatically before throwing an OutOfMemoryException, so adding an explicit call shouldn't help except in that it perhaps moves the performance hit to an earlier moment in time.</p>\n\n<p>However, I think I encountered a case where it might be relevant. I'm not sure though, as I have yet to test whether it has any effect:</p>\n\n<p>When you memory-map a file, I believe the map() call throws an IOException when a large enough block of memory is not available. A garbage collection just before the map() file might help prevent that, I think. What do you think?</p>\n"},{"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1355363536,"post_id":534040,"comment_id":19070240,"body_markdown":"Are you saying that System.gc() collects direct allocations whereas the JVM normally does not (before throwing a OOM). Because I think that is wrong. The only reason an allocation might suceed after a explicite GC is the additional time and some more likellyhood of a in-heap object with a finalizer beeing freed (and freeing some directly allocated object).","body":"Are you saying that System.gc() collects direct allocations whereas the JVM normally does not (before throwing a OOM). Because I think that is wrong. The only reason an allocation might suceed after a explicite GC is the additional time and some more likellyhood of a in-heap object with a finalizer beeing freed (and freeing some directly allocated object)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355394924,"post_id":534040,"comment_id":19079636,"body_markdown":"In the latest version of Java 6, the code in allocateBuffer will always run a System.gc() before throwing an OutOfMemoryError.  In the finalization code it has a short cut for `Cleaners` of which direct memory uses. i.e. it is not freed by the finaliser thread as this can be too slow.  Even so, it is possible to get an OOME if you are creating direct memory regions particularly fast.  The solution is to not do that and re-use your direct memory regions where you can.","body":"In the latest version of Java 6, the code in allocateBuffer will always run a System.gc() before throwing an OutOfMemoryError.  In the finalization code it has a short cut for <code>Cleaners</code> of which direct memory uses. i.e. it is not freed by the finaliser thread as this can be too slow.  Even so, it is possible to get an OOME if you are creating direct memory regions particularly fast.  The solution is to not do that and re-use your direct memory regions where you can."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1355514917,"post_id":534040,"comment_id":19127116,"body_markdown":"thanks, this sounds more like my experience. So I guess the answer is only correct for older Java versions.","body":"thanks, this sounds more like my experience. So I guess the answer is only correct for older Java versions."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1355363633,"creation_date":1234297553,"answer_id":534040,"question_id":66540,"body_markdown":"If you use direct memory buffers, the JVM doesn&#39;t run the GC for you even if you are running low on direct memory.\r\n\r\nIf you call `ByteBuffer.allocateDirect()` and you get an OutOfMemoryError you can find this call is fine after triggering a GC manually.","title":"When does System.gc() do something?","body":"<p>If you use direct memory buffers, the JVM doesn't run the GC for you even if you are running low on direct memory.</p>\n\n<p>If you call <code>ByteBuffer.allocateDirect()</code> and you get an OutOfMemoryError you can find this call is fine after triggering a GC manually.</p>\n"},{"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288497233,"creation_date":1288497233,"answer_id":4061787,"question_id":66540,"body_markdown":"we can never force garbage collection. System.gc is only suggesting vm for garbage collection, however, really what time the mechanism runs, nobody knows, this is as stated by JSR specifications.","title":"When does System.gc() do something?","body":"<p>we can never force garbage collection. System.gc is only suggesting vm for garbage collection, however, really what time the mechanism runs, nobody knows, this is as stated by JSR specifications.</p>\n"},{"tags":[],"owner":{"account_id":718358,"reputation":21,"user_id":647847,"display_name":"Kyune"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299488413,"creation_date":1299488413,"answer_id":5217683,"question_id":66540,"body_markdown":"There is a LOT to be said in taking the time to test out the various garbage collection settings, but as was mentioned above it usually not useful to do so.\r\n\r\nI am currently working on a project involving a memory-limited environment and a relatively large amounts of data--there are a few large pieces of data that push my environment to its limit, and even though I was able to bring memory usage down so that in theory it should work just fine, I would still get heap space errors---the verbose GC options showed me that it was trying to garbage collect, but to no avail. In the debugger, I could perform System.gc() and sure enough there would be &quot;plenty&quot; of memory available...not a lot of extra, but enough.\r\n\r\nConsequently, The only time my application calls System.gc() is when it is about to enter the segment of code where large buffers necessary for processing the data will be allocated, and a test on the free memory available indicates that I&#39;m not guaranteed to have it.  In particular, I&#39;m looking at a 1gb environment where at least 300mb is occupied by static data, with the bulk of the non-static data being execution-related except when the data being processed happens to be at least 100-200 MB at the source.  It&#39;s all part of an automatic data conversion process, so the data all exists for relatively short periods of time in the long run.\r\n\r\nUnfortunately, while information about the various options for tuning the garbage collector is available, it seems largely an experimental process and the lower level specifics needed to understand how to handle these specific situations are not easily obtained.  \r\n\r\nAll of that being said, even though I am using System.gc(), I still continued to tune using command line parameters and managed to improve the overall processing time of my application by a relatively significant amount, despite being unable to get over the stumbling block posed by working with the larger blocks of data.   That being said, System.gc() is a tool....a very unreliable tool, and if you are not careful with how you use it, you will wish that it didn&#39;t work more often than not.","title":"When does System.gc() do something?","body":"<p>There is a LOT to be said in taking the time to test out the various garbage collection settings, but as was mentioned above it usually not useful to do so.</p>\n\n<p>I am currently working on a project involving a memory-limited environment and a relatively large amounts of data--there are a few large pieces of data that push my environment to its limit, and even though I was able to bring memory usage down so that in theory it should work just fine, I would still get heap space errors---the verbose GC options showed me that it was trying to garbage collect, but to no avail. In the debugger, I could perform System.gc() and sure enough there would be \"plenty\" of memory available...not a lot of extra, but enough.</p>\n\n<p>Consequently, The only time my application calls System.gc() is when it is about to enter the segment of code where large buffers necessary for processing the data will be allocated, and a test on the free memory available indicates that I'm not guaranteed to have it.  In particular, I'm looking at a 1gb environment where at least 300mb is occupied by static data, with the bulk of the non-static data being execution-related except when the data being processed happens to be at least 100-200 MB at the source.  It's all part of an automatic data conversion process, so the data all exists for relatively short periods of time in the long run.</p>\n\n<p>Unfortunately, while information about the various options for tuning the garbage collector is available, it seems largely an experimental process and the lower level specifics needed to understand how to handle these specific situations are not easily obtained.  </p>\n\n<p>All of that being said, even though I am using System.gc(), I still continued to tune using command line parameters and managed to improve the overall processing time of my application by a relatively significant amount, despite being unable to get over the stumbling block posed by working with the larger blocks of data.   That being said, System.gc() is a tool....a very unreliable tool, and if you are not careful with how you use it, you will wish that it didn't work more often than not.</p>\n"},{"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1355363657,"post_id":7494724,"comment_id":19070268,"body_markdown":"NB: there is an own method to force the finalisation run. (The problem is actually not in running finalizers but recognizing that a object can be finalized because it is unreferenced)","body":"NB: there is an own method to force the finalisation run. (The problem is actually not in running finalizers but recognizing that a object can be finalized because it is unreferenced)"}],"tags":[],"owner":{"account_id":59502,"reputation":3544,"user_id":178033,"accept_rate":88,"display_name":"Asterisk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316580297,"creation_date":1316580297,"answer_id":7494724,"question_id":66540,"body_markdown":"Accroding to Thinking in Java by Bruce Eckel, one use case for explicit **System.gc()** call is when you want to force finalization, i.e. the call to **finalize** method.","title":"When does System.gc() do something?","body":"<p>Accroding to Thinking in Java by Bruce Eckel, one use case for explicit <strong>System.gc()</strong> call is when you want to force finalization, i.e. the call to <strong>finalize</strong> method.</p>\n"},{"tags":[],"owner":{"account_id":1310513,"reputation":91,"user_id":1258591,"display_name":"fleture"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1341568658,"creation_date":1341568658,"answer_id":11359998,"question_id":66540,"body_markdown":"while system.gc works,it will stop the world:all respones are stopped so garbage collector can scan every object to check if it is needed deleted. if the application is a web project, all request are stopped until gc finishes,and this will cause your web project can not work in a monent.","title":"When does System.gc() do something?","body":"<p>while system.gc works,it will stop the world:all respones are stopped so garbage collector can scan every object to check if it is needed deleted. if the application is a web project, all request are stopped until gc finishes,and this will cause your web project can not work in a monent.</p>\n"},{"tags":[],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343218029,"creation_date":1343217682,"answer_id":11649198,"question_id":66540,"body_markdown":"If you want to know if your `System.gc()` is called, you can with the new Java 7 update 4 get notification when the JVM performs Garbage Collection.\r\n\r\nI am not 100% sure that the [GarbageCollectorMXBean][1] class was introduces in Java 7 update 4 though, because I couldn&#39;t find it in the release notes, but I found the information in the [javaperformancetuning][2].com site \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/management/GarbageCollectorMXBean.html\r\n  [2]: http://www.javaperformancetuning.com/news/newtips138.shtml","title":"When does System.gc() do something?","body":"<p>If you want to know if your <code>System.gc()</code> is called, you can with the new Java 7 update 4 get notification when the JVM performs Garbage Collection.</p>\n\n<p>I am not 100% sure that the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/management/GarbageCollectorMXBean.html\" rel=\"nofollow\">GarbageCollectorMXBean</a> class was introduces in Java 7 update 4 though, because I couldn't find it in the release notes, but I found the information in the <a href=\"http://www.javaperformancetuning.com/news/newtips138.shtml\" rel=\"nofollow\">javaperformancetuning</a>.com site </p>\n"},{"comments":[{"owner":{"account_id":13801143,"reputation":146,"user_id":9961098,"display_name":"abdelmouheimen"},"score":0,"creation_date":1577118559,"post_id":16251925,"comment_id":105098155,"body_markdown":"_JVM would run gc if it has time for that_ : not always true, Jvm can run gc when the Eden memory is full.","body":"<i>JVM would run gc if it has time for that</i> : not always true, Jvm can run gc when the Eden memory is full."}],"tags":[],"owner":{"account_id":2548955,"reputation":381,"user_id":2213155,"display_name":"Naveen"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1506930535,"creation_date":1367064348,"answer_id":16251925,"question_id":66540,"body_markdown":"`Garbage Collection` is good in `Java`, if we are executing Software coded in java in Desktop/laptop/server. You can call `System.gc()` or `Runtime.getRuntime().gc()` in `Java`.\r\n\r\nJust note that none of those calls are guaranteed to do anything. They are just a suggestion for the jvm to run the Garbage Collector. It&#39;s up the the JVM whether it runs the GC or not. So, short answer: we don&#39;t know when it runs. Longer answer: JVM would run gc if it has time for that.\r\n\r\nI believe, the same applies for Android. However, this might slow down your system.","title":"When does System.gc() do something?","body":"<p><code>Garbage Collection</code> is good in <code>Java</code>, if we are executing Software coded in java in Desktop/laptop/server. You can call <code>System.gc()</code> or <code>Runtime.getRuntime().gc()</code> in <code>Java</code>.</p>\n\n<p>Just note that none of those calls are guaranteed to do anything. They are just a suggestion for the jvm to run the Garbage Collector. It's up the the JVM whether it runs the GC or not. So, short answer: we don't know when it runs. Longer answer: JVM would run gc if it has time for that.</p>\n\n<p>I believe, the same applies for Android. However, this might slow down your system.</p>\n"},{"tags":[],"owner":{"account_id":1584269,"reputation":1205,"user_id":1469061,"display_name":"Pierre Laporte"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1368269734,"creation_date":1368268593,"answer_id":16496206,"question_id":66540,"body_markdown":"The Java Language Specification does not guarantee that the JVM will start a GC when you call `System.gc()`. This is the reason of this &quot;may or may not decide to do a GC at that point&quot;.\r\n\r\nNow, if you look at [OpenJDK source code][1], which is the backbone of Oracle JVM, you will see that a call to `System.gc()` does start a GC cycle. If you use another JVM, such as J9, you have to check their documentation to find out the answer. For instance, Azul&#39;s JVM has a garbage collector that runs continuously, so a call to `System.gc()` won&#39;t do anything\r\n\r\nSome other answer mention starting a GC in JConsole or VisualVM. Basically, these tools make a remote call to `System.gc()`.\r\n\r\nUsually, you don&#39;t want to start a garbage collection cycle from your code, as it messes up with the semantics of your application. Your application does some business stuff, the JVM takes care of memory management. You should keep those concerns separated (don&#39;t make your application do some memory management, focus on business).\r\n\r\nHowever, there are few cases where a call to `System.gc()` might be understandable. Consider, for example, microbenchmarks. No-one wants to have a GC cycle to happen in the middle of a microbenchmark. So you may trigger a GC cycle between each measurement to make sure every measurement starts with an empty heap.\r\n\r\n  [1]: http://openjdk.java.net/","title":"When does System.gc() do something?","body":"<p>The Java Language Specification does not guarantee that the JVM will start a GC when you call <code>System.gc()</code>. This is the reason of this \"may or may not decide to do a GC at that point\".</p>\n\n<p>Now, if you look at <a href=\"http://openjdk.java.net/\">OpenJDK source code</a>, which is the backbone of Oracle JVM, you will see that a call to <code>System.gc()</code> does start a GC cycle. If you use another JVM, such as J9, you have to check their documentation to find out the answer. For instance, Azul's JVM has a garbage collector that runs continuously, so a call to <code>System.gc()</code> won't do anything</p>\n\n<p>Some other answer mention starting a GC in JConsole or VisualVM. Basically, these tools make a remote call to <code>System.gc()</code>.</p>\n\n<p>Usually, you don't want to start a garbage collection cycle from your code, as it messes up with the semantics of your application. Your application does some business stuff, the JVM takes care of memory management. You should keep those concerns separated (don't make your application do some memory management, focus on business).</p>\n\n<p>However, there are few cases where a call to <code>System.gc()</code> might be understandable. Consider, for example, microbenchmarks. No-one wants to have a GC cycle to happen in the middle of a microbenchmark. So you may trigger a GC cycle between each measurement to make sure every measurement starts with an empty heap.</p>\n"},{"tags":[],"owner":{"account_id":29026985,"reputation":1,"user_id":22234909,"display_name":"Neelesh Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702322176,"creation_date":1702322176,"answer_id":77641890,"question_id":66540,"body_markdown":"I have recently started using System.gc() method while solving DSA problems in leetcode platform.\r\n\r\nWithout System.gc() my code was taking about 44mb(Lets say) and \r\nusing with System.gc() my code was taking about 41.5mb.\r\n\r\nThere was gap of 2.5 mb, just by including System.gc() statement in my code.\r\n\r\nBut it has a trade off too, \r\nEarlier my runtime was around 1ms, \r\nBut after using System.gc() is hikes up to 1.25ms.","title":"When does System.gc() do something?","body":"<p>I have recently started using System.gc() method while solving DSA problems in leetcode platform.</p>\n<p>Without System.gc() my code was taking about 44mb(Lets say) and\nusing with System.gc() my code was taking about 41.5mb.</p>\n<p>There was gap of 2.5 mb, just by including System.gc() statement in my code.</p>\n<p>But it has a trade off too,\nEarlier my runtime was around 1ms,\nBut after using System.gc() is hikes up to 1.25ms.</p>\n"}],"owner":{"display_name":"harry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160815,"favorite_count":0,"down_vote_count":0,"up_vote_count":132,"answer_count":17,"score":132,"last_activity_date":1702322176,"creation_date":1221510017,"question_id":66540,"body_markdown":"I know that garbage collection is automated in Java. But I understood that if you call `System.gc()` in your code that the JVM may or may not decide to perform garbage collection at that point. How does this work precisely? On what basis/parameters exactly does the JVM decide to do (or not do) a GC when it sees `System.gc()`?\r\n\r\nAre there any examples in which case it&#39;s a good idea to put this in your code?","title":"When does System.gc() do something?","body":"<p>I know that garbage collection is automated in Java. But I understood that if you call <code>System.gc()</code> in your code that the JVM may or may not decide to perform garbage collection at that point. How does this work precisely? On what basis/parameters exactly does the JVM decide to do (or not do) a GC when it sees <code>System.gc()</code>?</p>\n\n<p>Are there any examples in which case it's a good idea to put this in your code?</p>\n"},{"tags":["java","testing","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1702317661,"post_id":77641296,"comment_id":136878867,"body_markdown":"Try escaping the `?` in your regex.","body":"Try escaping the <code>?</code> in your regex."}],"owner":{"account_id":23184907,"reputation":25,"user_id":17282180,"display_name":"Iosiv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702322069,"creation_date":1702315193,"question_id":77641296,"body_markdown":"I&#39;m trying to create a Cucumber test in Java for an endpoint of this type (ignore bad variable names):\r\n\r\n    POST /myendpoint/&lt;objectOneId&gt;/documents/&lt;objectTwoid&gt;/state?extraData=ABC123\r\n    body &quot;{my: json}&quot;\r\n\r\nNotice how this endpoint requires two path parameters, one query parameter and a JSON body.\r\n\r\nI tried something like this:\r\n\r\n    When POST /myendpoint/&lt;objectOneId&gt;/documents/&lt;objectTwoid&gt;/state?extraData=ABC123 is requested with \r\n    &quot;\r\n      {\r\n        my: json\r\n      }\r\n    &quot;\r\n\r\nWith the Step definition\r\n\r\n    @When(&quot;^POST \\\\/myendpoint\\\\/([^\\\\/]*)\\\\/documents\\\\/([^\\\\/]*)/state?extraData=([^\\\\/]*) is requested with$&quot;)\r\n    public void post_state_for_document_with_extra_data(String objectOneId, String objectTwoId, String extraData, String body) {\r\n        //...\r\n    }\r\n\r\nIt doesn&#39;t seem to work. **Is this the way to create these kind of scenarios where the endpoint contains path params, query params and a body?**. When I remove the query parameter at the end it works as expected.","title":"How to create Cucumber feature in java to test a POST endpoint with query parameters","body":"<p>I'm trying to create a Cucumber test in Java for an endpoint of this type (ignore bad variable names):</p>\n<pre><code>POST /myendpoint/&lt;objectOneId&gt;/documents/&lt;objectTwoid&gt;/state?extraData=ABC123\nbody &quot;{my: json}&quot;\n</code></pre>\n<p>Notice how this endpoint requires two path parameters, one query parameter and a JSON body.</p>\n<p>I tried something like this:</p>\n<pre><code>When POST /myendpoint/&lt;objectOneId&gt;/documents/&lt;objectTwoid&gt;/state?extraData=ABC123 is requested with \n&quot;\n  {\n    my: json\n  }\n&quot;\n</code></pre>\n<p>With the Step definition</p>\n<pre><code>@When(&quot;^POST \\\\/myendpoint\\\\/([^\\\\/]*)\\\\/documents\\\\/([^\\\\/]*)/state?extraData=([^\\\\/]*) is requested with$&quot;)\npublic void post_state_for_document_with_extra_data(String objectOneId, String objectTwoId, String extraData, String body) {\n    //...\n}\n</code></pre>\n<p>It doesn't seem to work. <strong>Is this the way to create these kind of scenarios where the endpoint contains path params, query params and a body?</strong>. When I remove the query parameter at the end it works as expected.</p>\n"},{"tags":["java","jmeter","load-balancing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702321656,"creation_date":1702321656,"answer_id":77641852,"question_id":77641628,"body_markdown":"You can put a [JMeter Variable][1] into &quot;Server name or IP&quot; field and use [CSV Data Set Config][2] to read the [DNS hostname][3] or [IP address][4] from the CSV file.\r\n\r\nIf you put 4 hostnames or IP addresses into CSV file each virtual user will pick next line on each iteration and the load will be distributed evenly. You can choose any other ratio of entries, i.e. if one hostname will be present twice - that particular server will get 2x times more load than the others.  \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/functions.html\r\n  [2]: https://guide.blazemeter.com/hc/en-us/articles/206733689-Using-CSV-DATA-SET-CONFIG\r\n  [3]: https://en.wikipedia.org/wiki/Hostname\r\n  [4]: https://en.wikipedia.org/wiki/IP_address","title":"Jmeter Load Balancing","body":"<p>You can put a <a href=\"https://jmeter.apache.org/usermanual/functions.html\" rel=\"nofollow noreferrer\">JMeter Variable</a> into &quot;Server name or IP&quot; field and use <a href=\"https://guide.blazemeter.com/hc/en-us/articles/206733689-Using-CSV-DATA-SET-CONFIG\" rel=\"nofollow noreferrer\">CSV Data Set Config</a> to read the <a href=\"https://en.wikipedia.org/wiki/Hostname\" rel=\"nofollow noreferrer\">DNS hostname</a> or <a href=\"https://en.wikipedia.org/wiki/IP_address\" rel=\"nofollow noreferrer\">IP address</a> from the CSV file.</p>\n<p>If you put 4 hostnames or IP addresses into CSV file each virtual user will pick next line on each iteration and the load will be distributed evenly. You can choose any other ratio of entries, i.e. if one hostname will be present twice - that particular server will get 2x times more load than the others.</p>\n"}],"owner":{"account_id":21436109,"reputation":21,"user_id":15791569,"display_name":"mohammadreza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702321656,"creation_date":1702319143,"question_id":77641628,"body_markdown":"I have 4 different servers and they do not have a load balancer on top of them to distribute incoming loads.in my local host i want to configure a load test with Jmeter and publish messages via mqtt plugin to these nodes.Is there any way to put load on the servers and simulate load balancing to distribute my messages on all 4 nodes equally?Is there any in-built Jmeter plugin for this kind of issue?\r\n\r\nI read the documentaion and i do not think Jmeter Remote start all can solve my problem because at the end it is just trying to load test one node via some worker nodes.","title":"Jmeter Load Balancing","body":"<p>I have 4 different servers and they do not have a load balancer on top of them to distribute incoming loads.in my local host i want to configure a load test with Jmeter and publish messages via mqtt plugin to these nodes.Is there any way to put load on the servers and simulate load balancing to distribute my messages on all 4 nodes equally?Is there any in-built Jmeter plugin for this kind of issue?</p>\n<p>I read the documentaion and i do not think Jmeter Remote start all can solve my problem because at the end it is just trying to load test one node via some worker nodes.</p>\n"},{"tags":["java","types","getter","setter"],"comments":[{"owner":{"account_id":2725996,"reputation":1610,"user_id":2351039,"accept_rate":100,"display_name":"Felix Castor"},"score":2,"creation_date":1643229482,"post_id":70869870,"comment_id":125287383,"body_markdown":"I would think the properties, width and height, within the class should be a double.  The constructor can take integer values and convert those to doubles.  If you require `getIntHeight` etc. you could round the doubles appropriately.","body":"I would think the properties, width and height, within the class should be a double.  The constructor can take integer values and convert those to doubles.  If you require <code>getIntHeight</code> etc. you could round the doubles appropriately."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1643238159,"post_id":70869870,"comment_id":125289976,"body_markdown":"I agree with @FelixCastor. A rectangle has but one height, so the class probably shouldn&#39;t have two different height variables.  (I say &#39;probably&#39; since one can make up cases where that might be best, but this doesn&#39;t look like such a case).","body":"I agree with @FelixCastor. A rectangle has but one height, so the class probably shouldn&#39;t have two different height variables.  (I say &#39;probably&#39; since one can make up cases where that might be best, but this doesn&#39;t look like such a case)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702321582,"post_id":70869870,"comment_id":136879465,"body_markdown":"Not much [tag:oop] about it.","body":"Not much <a href=\"https://stackoverflow.com/questions/tagged/oop\">oop</a> about it."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1702322191,"post_id":70869870,"comment_id":136879553,"body_markdown":"@user207421 You&#39;re right.  Sometimes instructors provide useful and beautiful examples that subtly reinforce principles of object oriented design.  And sometimes they just want to check the box that you know how to overload a constructor.","body":"@user207421 You&#39;re right.  Sometimes instructors provide useful and beautiful examples that subtly reinforce principles of object oriented design.  And sometimes they just want to check the box that you know how to overload a constructor."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702305276,"creation_date":1702305276,"answer_id":77640309,"question_id":70869870,"body_markdown":"Yes, you need a different getters if you want both types to be accessible. Your setters can have the same names since the parameter types are different. You can make those getters/setters cast, if necessary, to the type used in the constructor. For example:\r\n\r\n    public class Rectangle {\r\n    \r\n    \tprivate int height;\r\n    \tprivate int width;\r\n    \tprivate double doubleHeight;\r\n    \tprivate double doubleWidth;\r\n    \r\n    \tpublic Rectangle() {\r\n    \t\tthis.height = 0;\r\n    \t\tthis.width = 0;\r\n    \t}\r\n    \r\n    \tpublic Rectangle(int h, int w) {\r\n    \t\tthis.height = h;\r\n    \t\tthis.width = w;\r\n    \t\tSystem.out.println(&quot;A Rectangle has been created using integer dimensions.&quot;);\r\n    \t}\r\n    \r\n    \tpublic Rectangle(double h, double w) {\r\n    \t\tthis.doubleHeight = h;\r\n    \t\tthis.doubleWidth = w;\r\n    \t\tSystem.out.println(&quot;A Rectangle has been created using double dimensions.&quot;);\r\n    \t}\r\n    \r\n    \tpublic int getIntHeight() {\r\n    \t\tif (this.height &gt; 0)\r\n    \t\t\treturn this.height;\r\n    \t\telse\r\n    \t\t\treturn (int) getDoubleHeight();\r\n    \t}\r\n    \r\n    \tpublic double getDoubleHeight() {\r\n    \t\tif (this.doubleHeight &gt; 0)\r\n    \t\t\treturn this.doubleHeight;\r\n    \t\telse\r\n    \t\t\treturn (double) getIntHeight();\r\n    \t}\r\n    \r\n    \tpublic void setHeight(int h) {\r\n    \t\tif (this.height &gt; 0)\r\n    \t\t\tthis.height = h;\r\n    \t\telse\r\n    \t\t\tsetHeight((double) h);\r\n    \t}\r\n    \r\n    \tpublic void setHeight(double h) {\r\n    \t\tif (this.doubleHeight &gt; 0)\r\n    \t\t\tthis.doubleHeight = h;\r\n    \t\telse\r\n    \t\t\tsetHeight((int) h);\r\n    \t}\r\n    \r\n    \tpublic int getIntArea() {\r\n    \t\tif (this.height &gt; 0)\r\n    \t\t\treturn this.width * this.height;\r\n    \t\telse\r\n    \t\t\treturn (int) getDoubleArea();\r\n    \t}\r\n    \r\n    \tpublic double getDoubleArea() {\r\n    \t\tif (this.doubleWidth &gt; 0)\r\n    \t\t\treturn this.doubleWidth * this.doubleHeight;\r\n    \t\telse\r\n    \t\t\treturn (double) getIntArea();\r\n    \t}\r\n    \r\n    \tpublic int getIntPerimeter() {\r\n    \t\tif (this.height &gt; 0)\r\n    \t\t\treturn this.width * 2 + this.height * 2;\r\n    \t\telse\r\n    \t\t\treturn (int) getDoublePerimeter();\r\n    \t}\r\n    \r\n    \tpublic double getDoublePerimeter() {\r\n    \t\tif (this.doubleHeight &gt; 0)\r\n    \t\t\treturn this.doubleWidth * 2 + this.doubleHeight * 2;\r\n    \t\telse\r\n    \t\t\treturn (double) getIntPerimeter();\r\n    \t}\r\n    \r\n    \tpublic String toString() {\r\n    \t\tif (this.height &gt;= 1) {\r\n    \t\t\treturn &quot;Height: &quot; + this.height + &quot;, Width: &quot; + this.width;\r\n    \t\t} else {\r\n    \t\t\treturn &quot;Height: &quot; + this.doubleHeight + &quot;, Width: &quot; + this.doubleWidth;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Beginner question about different data types in constructors","body":"<p>Yes, you need a different getters if you want both types to be accessible. Your setters can have the same names since the parameter types are different. You can make those getters/setters cast, if necessary, to the type used in the constructor. For example:</p>\n<pre><code>public class Rectangle {\n\n    private int height;\n    private int width;\n    private double doubleHeight;\n    private double doubleWidth;\n\n    public Rectangle() {\n        this.height = 0;\n        this.width = 0;\n    }\n\n    public Rectangle(int h, int w) {\n        this.height = h;\n        this.width = w;\n        System.out.println(&quot;A Rectangle has been created using integer dimensions.&quot;);\n    }\n\n    public Rectangle(double h, double w) {\n        this.doubleHeight = h;\n        this.doubleWidth = w;\n        System.out.println(&quot;A Rectangle has been created using double dimensions.&quot;);\n    }\n\n    public int getIntHeight() {\n        if (this.height &gt; 0)\n            return this.height;\n        else\n            return (int) getDoubleHeight();\n    }\n\n    public double getDoubleHeight() {\n        if (this.doubleHeight &gt; 0)\n            return this.doubleHeight;\n        else\n            return (double) getIntHeight();\n    }\n\n    public void setHeight(int h) {\n        if (this.height &gt; 0)\n            this.height = h;\n        else\n            setHeight((double) h);\n    }\n\n    public void setHeight(double h) {\n        if (this.doubleHeight &gt; 0)\n            this.doubleHeight = h;\n        else\n            setHeight((int) h);\n    }\n\n    public int getIntArea() {\n        if (this.height &gt; 0)\n            return this.width * this.height;\n        else\n            return (int) getDoubleArea();\n    }\n\n    public double getDoubleArea() {\n        if (this.doubleWidth &gt; 0)\n            return this.doubleWidth * this.doubleHeight;\n        else\n            return (double) getIntArea();\n    }\n\n    public int getIntPerimeter() {\n        if (this.height &gt; 0)\n            return this.width * 2 + this.height * 2;\n        else\n            return (int) getDoublePerimeter();\n    }\n\n    public double getDoublePerimeter() {\n        if (this.doubleHeight &gt; 0)\n            return this.doubleWidth * 2 + this.doubleHeight * 2;\n        else\n            return (double) getIntPerimeter();\n    }\n\n    public String toString() {\n        if (this.height &gt;= 1) {\n            return &quot;Height: &quot; + this.height + &quot;, Width: &quot; + this.width;\n        } else {\n            return &quot;Height: &quot; + this.doubleHeight + &quot;, Width: &quot; + this.doubleWidth;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30120120,"reputation":1,"user_id":23082387,"display_name":"Ramil Nassyrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702312635,"creation_date":1702312466,"answer_id":77641035,"question_id":70869870,"body_markdown":"You should store height and width as doubles (because double is wider than int aka int can fit into double but double can&#39;t fit into int) and then have constructors with double and int arguments simply set the value of double height and width.\r\n\r\nThere is no need to use generic datatypes.\r\n\r\nHere is how it should look like:\r\n\r\npublic class Rectangle {\r\n\r\n    private double height;\r\n    private double width;\r\n\r\n    public Rectangle() {\r\n        height = 0;\r\n        width = 0;\r\n    }\r\n\r\n    public Rectangle(int h, int w) {\r\n        height = h;\r\n        width = w;\r\n        System.out.println(&quot;A Rectangle has been created using integer dimensions.&quot;);\r\n    }\r\n\r\n    public Rectangle(double h, double w) {\r\n        height = h;\r\n        width = w;\r\n        System.out.println(&quot;A Rectangle has been created using double dimensions.&quot;);\r\n    }\r\n\r\n    public double getHeight() {\r\n        return this.height;\r\n    }\r\n\r\n    public void setHeight(double h) {\r\n        this.height = h;\r\n    }\r\n\r\n    public double getWidth() {\r\n        return this.width;\r\n    }\r\n\r\n    public void setWidth(double w) {\r\n        this.width = w;\r\n    }\r\n\r\n    public double getArea() {\r\n        return width * height;\r\n    }\r\n\r\n    public double getPerimeter() {\r\n        return width * 2 + height * 2;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Height: &quot; + height + &quot;, Width: &quot; + width;\r\n    }\r\n}","title":"Beginner question about different data types in constructors","body":"<p>You should store height and width as doubles (because double is wider than int aka int can fit into double but double can't fit into int) and then have constructors with double and int arguments simply set the value of double height and width.</p>\n<p>There is no need to use generic datatypes.</p>\n<p>Here is how it should look like:</p>\n<p>public class Rectangle {</p>\n<pre><code>private double height;\nprivate double width;\n\npublic Rectangle() {\n    height = 0;\n    width = 0;\n}\n\npublic Rectangle(int h, int w) {\n    height = h;\n    width = w;\n    System.out.println(&quot;A Rectangle has been created using integer dimensions.&quot;);\n}\n\npublic Rectangle(double h, double w) {\n    height = h;\n    width = w;\n    System.out.println(&quot;A Rectangle has been created using double dimensions.&quot;);\n}\n\npublic double getHeight() {\n    return this.height;\n}\n\npublic void setHeight(double h) {\n    this.height = h;\n}\n\npublic double getWidth() {\n    return this.width;\n}\n\npublic void setWidth(double w) {\n    this.width = w;\n}\n\npublic double getArea() {\n    return width * height;\n}\n\npublic double getPerimeter() {\n    return width * 2 + height * 2;\n}\n\npublic String toString() {\n    return &quot;Height: &quot; + height + &quot;, Width: &quot; + width;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23134646,"reputation":21,"user_id":17239036,"display_name":"Mastermind41"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1702321562,"creation_date":1643229001,"question_id":70869870,"body_markdown":"I&#39;m new to coding and I&#39;m currently working with OOP in Java. My instructor had us create a rectangle class instead of just importing the built-in. Anyway, we were to create constructors featuring ints and doubles as parameters. My questions is, with having two constructors if different data types, do I need separate getters / setters for each type? Would this be a time I could use generic datatypes? I have included what I created below. Thanks.\r\n\r\n```\r\npublic class Rectangle {\r\n\t\r\n\tprivate int height;\r\n\tprivate int width;\r\n\tprivate double doubleHeight;\r\n\tprivate double doubleWidth;\r\n\t\r\n\tpublic Rectangle() {\r\n\t\theight = 0;\r\n\t\twidth = 0;\r\n\t}\r\n\t\r\n\tpublic Rectangle(int h, int w) {\r\n\t\theight = h;\r\n\t\twidth = w;\r\n\t\tSystem.out.println(&quot;A Rectangle has been created using integer dimensions.&quot;);\r\n\t}\r\n\t\r\n\tpublic Rectangle(double h, double w) {\r\n\t\tdoubleHeight = h;\r\n\t\tdoubleWidth= w;\r\n\t\tSystem.out.println(&quot;A Rectangle has been created using double dimensions.&quot;);\r\n\t}\r\n\t\r\n\tpublic int getIntHeight() {\r\n\t\treturn height;\r\n\t}\r\n\t\r\n\tpublic double getDoubleHeight() {\r\n\t\treturn doubleHeight;\r\n\t}\r\n\t\r\n\tpublic int setIntHeight(int h) {\r\n\t\theight = h;\r\n\t}\r\n\t\r\n\tpublic double setDoubleHeight(double h) {\r\n\t\tdoubleHeight = h;\r\n\t}\r\n\t\r\n\tpublic int getIntArea() {\r\n\t\treturn width * height;\r\n\t}\r\n\t\r\n\tpublic double getDoubleArea() {\r\n\t\treturn doubleWidth * doubleHeight;\r\n\t}\r\n\t\r\n\tpublic int getIntPerimeter() {\r\n\t\treturn width*2 + height*2;\r\n\t}\r\n\t\r\n\tpublic double getDoublePerimeter() {\r\n\t\treturn doubleWidth*2 + doubleHeight*2;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\tif (this.getIntHeight() &gt;= 1) {\r\n\t\t\treturn &quot;Height: &quot; + height + &quot;, Width: &quot; + width;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn &quot;Height: &quot; + doubleHeight + &quot;, Width: &quot; + doubleWidth;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Beginner question about different data types in constructors","body":"<p>I'm new to coding and I'm currently working with OOP in Java. My instructor had us create a rectangle class instead of just importing the built-in. Anyway, we were to create constructors featuring ints and doubles as parameters. My questions is, with having two constructors if different data types, do I need separate getters / setters for each type? Would this be a time I could use generic datatypes? I have included what I created below. Thanks.</p>\n<pre><code>public class Rectangle {\n    \n    private int height;\n    private int width;\n    private double doubleHeight;\n    private double doubleWidth;\n    \n    public Rectangle() {\n        height = 0;\n        width = 0;\n    }\n    \n    public Rectangle(int h, int w) {\n        height = h;\n        width = w;\n        System.out.println(&quot;A Rectangle has been created using integer dimensions.&quot;);\n    }\n    \n    public Rectangle(double h, double w) {\n        doubleHeight = h;\n        doubleWidth= w;\n        System.out.println(&quot;A Rectangle has been created using double dimensions.&quot;);\n    }\n    \n    public int getIntHeight() {\n        return height;\n    }\n    \n    public double getDoubleHeight() {\n        return doubleHeight;\n    }\n    \n    public int setIntHeight(int h) {\n        height = h;\n    }\n    \n    public double setDoubleHeight(double h) {\n        doubleHeight = h;\n    }\n    \n    public int getIntArea() {\n        return width * height;\n    }\n    \n    public double getDoubleArea() {\n        return doubleWidth * doubleHeight;\n    }\n    \n    public int getIntPerimeter() {\n        return width*2 + height*2;\n    }\n    \n    public double getDoublePerimeter() {\n        return doubleWidth*2 + doubleHeight*2;\n    }\n    \n    public String toString() {\n        if (this.getIntHeight() &gt;= 1) {\n            return &quot;Height: &quot; + height + &quot;, Width: &quot; + width;\n        }\n        else {\n            return &quot;Height: &quot; + doubleHeight + &quot;, Width: &quot; + doubleWidth;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","database","oracle","selenium-webdriver"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1481587094,"post_id":41111224,"comment_id":69427720,"body_markdown":"Why are you using the database in tests of a browser based interface? Just mock the responses using whatever you are using to perform the tests and do not involve the database in tests of your front-end.","body":"Why are you using the database in tests of a browser based interface? Just mock the responses using whatever you are using to perform the tests and do not involve the database in tests of your front-end."}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481590727,"creation_date":1481590727,"answer_id":41112145,"question_id":41111224,"body_markdown":"What I would suggest you do is if you really want to verify the data in the database, do that at the end of the first test case.  Use clean data each time so you don&#39;t have to worry about bad data.\r\n\r\nWhat if your second test case fails because the data in the first test case is no good? Then you&#39;ve failed the second test case because of bad data not bad functionality.","title":"How to fetch data in Oracle database and use it in Selenium WebDriver","body":"<p>What I would suggest you do is if you really want to verify the data in the database, do that at the end of the first test case.  Use clean data each time so you don't have to worry about bad data.</p>\n\n<p>What if your second test case fails because the data in the first test case is no good? Then you've failed the second test case because of bad data not bad functionality.</p>\n"},{"tags":[],"owner":{"account_id":8811434,"reputation":77,"user_id":6584371,"display_name":"rajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481613282,"creation_date":1481613282,"answer_id":41115471,"question_id":41111224,"body_markdown":"According to my understanding you want to login into the application with the test data that you entered during creation of the user.\r\nFor that you need to make a program which connects you with your db.\r\n\r\nFlow of your suit:\r\n\r\nFirst Step: Create a user. Once the user is created, the info gets stored in the database\r\n\r\nSecond Step : create a connection class, get all the details into variables.\r\n\r\nThird Step : Pass those variables *test data* into your scrip.\r\n\r\nThat&#39;s all.\r\n\r\nConnection class : \r\n\r\n\r\n    public static void main(String args[]){  \r\n    try{  \r\n    //step1 load the driver class  \r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  \r\n      \r\n    //step2 create  the connection object  \r\n    Connection con=DriverManager.getConnection(  \r\n    &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;,&quot;system&quot;,&quot;password&quot;);  \r\n      \r\n    //step3 create the statement object  \r\n    Statement stmt=con.createStatement();  \r\n      \r\n    //step4 execute query  \r\n    ResultSet rs=stmt.executeQuery(&quot;select * from created_user&quot;);  \r\n    while(rs.next())  \r\n    System.out.println(rs.getInt(1)+&quot;  &quot;+rs.getString(2)+&quot;  &quot;+rs.getString(3));  \r\n      \r\n    //step5 close the connection object  \r\n    con.close();  \r\n      \r\n    }catch(Exception e){ System.out.println(e);}  \r\n      \r\n    }  \r\n    }  \r\n    \r\n     \r\nyou can pass rs.getInt(1) into a var. and use this variable as your test data.\r\n\r\n\r\nI hope this will solve your problem.\r\n\r\nThanks.\r\n\r\n","title":"How to fetch data in Oracle database and use it in Selenium WebDriver","body":"<p>According to my understanding you want to login into the application with the test data that you entered during creation of the user.\nFor that you need to make a program which connects you with your db.</p>\n\n<p>Flow of your suit:</p>\n\n<p>First Step: Create a user. Once the user is created, the info gets stored in the database</p>\n\n<p>Second Step : create a connection class, get all the details into variables.</p>\n\n<p>Third Step : Pass those variables <em>test data</em> into your scrip.</p>\n\n<p>That's all.</p>\n\n<p>Connection class : </p>\n\n<pre><code>public static void main(String args[]){  \ntry{  \n//step1 load the driver class  \nClass.forName(\"oracle.jdbc.driver.OracleDriver\");  \n\n//step2 create  the connection object  \nConnection con=DriverManager.getConnection(  \n\"jdbc:oracle:thin:@localhost:1521:xe\",\"system\",\"password\");  \n\n//step3 create the statement object  \nStatement stmt=con.createStatement();  \n\n//step4 execute query  \nResultSet rs=stmt.executeQuery(\"select * from created_user\");  \nwhile(rs.next())  \nSystem.out.println(rs.getInt(1)+\"  \"+rs.getString(2)+\"  \"+rs.getString(3));  \n\n//step5 close the connection object  \ncon.close();  \n\n}catch(Exception e){ System.out.println(e);}  \n\n}  \n}  \n</code></pre>\n\n<p>you can pass rs.getInt(1) into a var. and use this variable as your test data.</p>\n\n<p>I hope this will solve your problem.</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":18965449,"reputation":1,"user_id":13840045,"display_name":"Ben Miao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626247849,"creation_date":1626247849,"answer_id":68373845,"question_id":41111224,"body_markdown":"Create a Junit Test called LoginTest, and in this Test, it contains two testcase, the first one is create user test case , the second one is login test case\r\n\r\n```\r\n// make sure the createUserTest is test first\r\n@FixMethodOrder(value = MethodSorters.NAME_ASCENDING)\r\npublic class LoginTest {\r\n\r\n  // User that created in the createUserTest\r\n  private User user = null;\r\n\r\n  @AfterClass\r\n  public void clear() {\r\n    if (user != null) {\r\n       someDbLogic.delete(user)\r\n    }\r\n  }\r\n\r\n  @Test\r\n  public void createUserTest() {\r\n    // create user and save it to db\r\n    user = new User();\r\n    // save to db\r\n    someDbLogic.save(user)\r\n  }\r\n\r\n  @Test\r\n  public void loginTest() {\r\n    // get loginId and password from user and perform login action by selenium\r\n    String loginId = user.getLogin();\r\n    String password = user.getPassword();\r\n\r\n    // perform login\r\n  }\r\n}\r\n```\r\nIn junit, the @AfterClass will be invoke after all the test cases have been run, then we can delete the user data there.\r\n\r\nI hope this can help you a bit.\r\n\r\n\r\n","title":"How to fetch data in Oracle database and use it in Selenium WebDriver","body":"<p>Create a Junit Test called LoginTest, and in this Test, it contains two testcase, the first one is create user test case , the second one is login test case</p>\n<pre><code>// make sure the createUserTest is test first\n@FixMethodOrder(value = MethodSorters.NAME_ASCENDING)\npublic class LoginTest {\n\n  // User that created in the createUserTest\n  private User user = null;\n\n  @AfterClass\n  public void clear() {\n    if (user != null) {\n       someDbLogic.delete(user)\n    }\n  }\n\n  @Test\n  public void createUserTest() {\n    // create user and save it to db\n    user = new User();\n    // save to db\n    someDbLogic.save(user)\n  }\n\n  @Test\n  public void loginTest() {\n    // get loginId and password from user and perform login action by selenium\n    String loginId = user.getLogin();\n    String password = user.getPassword();\n\n    // perform login\n  }\n}\n</code></pre>\n<p>In junit, the @AfterClass will be invoke after all the test cases have been run, then we can delete the user data there.</p>\n<p>I hope this can help you a bit.</p>\n"}],"owner":{"account_id":9459587,"reputation":11,"user_id":7033765,"accept_rate":83,"display_name":"Muhammad Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1702321485,"creation_date":1481584247,"question_id":41111224,"body_markdown":"I have two test cases. \r\n\r\nFirst Test Case: Create a user. Once the user is created, the info gets stored in the database.(i.e account number, username, password, first name, last name etc) \r\n\r\nSecond Test Case: Login as a User.\r\n\r\nOnce the first test case has been passed, how can I fetch the data from the db (e.g. select * from created_user) and use it in my second test case. \r\n\r\nFor example: I would like to fetch the username and password from the database, and use it in my second test case when i&#39;m on the login page. \r\n\r\nAny help would be appreciated. Thanks!","title":"How to fetch data in Oracle database and use it in Selenium WebDriver","body":"<p>I have two test cases. </p>\n\n<p>First Test Case: Create a user. Once the user is created, the info gets stored in the database.(i.e account number, username, password, first name, last name etc) </p>\n\n<p>Second Test Case: Login as a User.</p>\n\n<p>Once the first test case has been passed, how can I fetch the data from the db (e.g. select * from created_user) and use it in my second test case. </p>\n\n<p>For example: I would like to fetch the username and password from the database, and use it in my second test case when i'm on the login page. </p>\n\n<p>Any help would be appreciated. Thanks!</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":4337266,"reputation":5191,"user_id":3541465,"accept_rate":40,"display_name":"Aakash"},"score":2,"creation_date":1438788689,"post_id":2591098,"comment_id":51595297,"body_markdown":"https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/ : try this","body":"<a href=\"https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/\" rel=\"nofollow noreferrer\">androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial</a> : try this"},{"owner":{"account_id":3000565,"reputation":2167,"user_id":2546146,"accept_rate":75,"display_name":"Iman Akbari"},"score":15,"creation_date":1457521872,"post_id":2591098,"comment_id":59440771,"body_markdown":"java&#39;s built in JSON libraries are the quickets way to do so, but in my experience GSON is the best library for parsing a JSON into a POJO painlessly.","body":"java&#39;s built in JSON libraries are the quickets way to do so, but in my experience GSON is the best library for parsing a JSON into a POJO painlessly."},{"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"score":4,"creation_date":1467059706,"post_id":2591098,"comment_id":63564544,"body_markdown":"There are many notorious java libraries in java: jackson, gson, org.json, genson, etc. Choosing one should take into account their relative performance and feature set. Here is a benchmark did using JMH that compares the performance of the most popular json libraries in java: https://github.com/fabienrenaud/java-json-benchmark. See my post below for some more info.","body":"There are many notorious java libraries in java: jackson, gson, org.json, genson, etc. Choosing one should take into account their relative performance and feature set. Here is a benchmark did using JMH that compares the performance of the most popular json libraries in java: <a href=\"https://github.com/fabienrenaud/java-json-benchmark\" rel=\"nofollow noreferrer\">github.com/fabienrenaud/java-json-benchmark</a>. See my post below for some more info."},{"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"score":2,"creation_date":1497635966,"post_id":2591098,"comment_id":76178609,"body_markdown":"use Gson https://github.com/google/gson","body":"use Gson <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">github.com/google/gson</a>"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":8,"creation_date":1517417993,"post_id":2591098,"comment_id":84090895,"body_markdown":"@JaysonMinard agreed. Asked for mod intervention. This should be closed really. I initially assumed (wrongly) I couldn&#39;t do so while the question was protected, so I unprotected it and did my thing. Re-protected it now to prevent low rep answers and such like, while waiting for a mod.","body":"@JaysonMinard agreed. Asked for mod intervention. This should be closed really. I initially assumed (wrongly) I couldn&#39;t do so while the question was protected, so I unprotected it and did my thing. Re-protected it now to prevent low rep answers and such like, while waiting for a mod."},{"owner":{"account_id":1891677,"reputation":145566,"user_id":1709587,"accept_rate":71,"display_name":"Mark Amery"},"score":7,"creation_date":1517834061,"post_id":2591098,"comment_id":84241765,"body_markdown":"This question is being [discussed on Meta](https://meta.stackoverflow.com/q/362807/1709587).","body":"This question is being <a href=\"https://meta.stackoverflow.com/q/362807/1709587\">discussed on Meta</a>."},{"owner":{"account_id":1100188,"reputation":5557,"user_id":1201863,"accept_rate":58,"display_name":"Luc"},"score":1,"creation_date":1553004892,"post_id":2591098,"comment_id":97219141,"body_markdown":"@ImanAkbari What JSON library is built-in? I found [Java Specification Request 353](https://jcp.org/en/jsr/detail?id=353) but that just specifies what objects should exist, it is not an implementation. Something generic-sounding like `org.json` is also third party (and unmaintained, it seems). Which libraries are you talking about?","body":"@ImanAkbari What JSON library is built-in? I found <a href=\"https://jcp.org/en/jsr/detail?id=353\" rel=\"nofollow noreferrer\">Java Specification Request 353</a> but that just specifies what objects should exist, it is not an implementation. Something generic-sounding like <code>org.json</code> is also third party (and unmaintained, it seems). Which libraries are you talking about?"},{"owner":{"account_id":3000565,"reputation":2167,"user_id":2546146,"accept_rate":75,"display_name":"Iman Akbari"},"score":1,"creation_date":1553106697,"post_id":2591098,"comment_id":97266838,"body_markdown":"@Luc you are right, my bad. I meant `org.json` they are all 3rd party.","body":"@Luc you are right, my bad. I meant <code>org.json</code> they are all 3rd party."},{"owner":{"account_id":3793595,"reputation":2392,"user_id":3149444,"accept_rate":56,"display_name":"Perimosh"},"score":0,"creation_date":1558911963,"post_id":2591098,"comment_id":99244880,"body_markdown":"Most people confuses between parsing and map. Mapping is really wasy, you can use Gjson, Jackson and others. But, parsing is a different thing. You can use reg exps and such complex techniques. For parsing I would go with something like JsonPath.","body":"Most people confuses between parsing and map. Mapping is really wasy, you can use Gjson, Jackson and others. But, parsing is a different thing. You can use reg exps and such complex techniques. For parsing I would go with something like JsonPath."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1690377923,"post_id":2591098,"comment_id":135345049,"body_markdown":"@Luc There are two JSON standard APIs in JakartaEE: Jakarta JSON Processing API and Jakarta JSON Binding API (based on the former).","body":"@Luc There are two JSON standard APIs in JakartaEE: Jakarta JSON Processing API and Jakarta JSON Binding API (based on the former)."}],"answers":[{"comments":[{"owner":{"account_id":2835128,"reputation":11494,"user_id":2435872,"accept_rate":83,"display_name":"jboi"},"score":3,"creation_date":1378813115,"post_id":15049250,"comment_id":27580560,"body_markdown":"Is there a javadoc available?","body":"Is there a javadoc available?"},{"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"score":26,"creation_date":1382715959,"post_id":15049250,"comment_id":29082311,"body_markdown":"This package cannot handle empty values when parsing.  For example: ... &quot;description&quot;:&quot;&quot; ... throws an Exception","body":"This package cannot handle empty values when parsing.  For example: ... &quot;description&quot;:&quot;&quot; ... throws an Exception"},{"owner":{"account_id":2343431,"reputation":796,"user_id":2054247,"accept_rate":86,"display_name":"noamik"},"score":7,"creation_date":1407500891,"post_id":15049250,"comment_id":39250415,"body_markdown":"I&#39;ve fixed this issue (and many others) in https://code.google.com/p/quick-json/issues/detail?id=11\n\nI hope the author will give take the time to fix it in the official release.","body":"I&#39;ve fixed this issue (and many others) in <a href=\"https://code.google.com/p/quick-json/issues/detail?id=11\" rel=\"nofollow noreferrer\">code.google.com/p/quick-json/issues/detail?id=11</a>  I hope the author will give take the time to fix it in the official release."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":9,"creation_date":1414127549,"post_id":15049250,"comment_id":41708001,"body_markdown":"Of listed features, nothing is unique compared to other options -- and claim of high-performance is not supported by anything; unlike for more mature libraries (Gson, Jackson, Genson, Boon) which are included in benchmarks like https://github.com/eishay/jvm-serializers, https://github.com/novoj/JavaJsonPerformanceTest or http://www.developer.com/lang/jscript/top-7-open-source-json-binding-providers-available-today.html -- I have not seen this library included in tests, or mentions of it being widely used.","body":"Of listed features, nothing is unique compared to other options -- and claim of high-performance is not supported by anything; unlike for more mature libraries (Gson, Jackson, Genson, Boon) which are included in benchmarks like <a href=\"https://github.com/eishay/jvm-serializers\" rel=\"nofollow noreferrer\">github.com/eishay/jvm-serializers</a>, <a href=\"https://github.com/novoj/JavaJsonPerformanceTest\" rel=\"nofollow noreferrer\">github.com/novoj/JavaJsonPerformanceTest</a> or <a href=\"http://www.developer.com/lang/jscript/top-7-open-source-json-binding-providers-available-today.html\" rel=\"nofollow noreferrer\">developer.com/lang/jscript/&hellip;</a> -- I have not seen this library included in tests, or mentions of it being widely used."},{"owner":{"account_id":73961,"reputation":3749,"user_id":212749,"accept_rate":82,"display_name":"Mene"},"score":2,"creation_date":1426009669,"post_id":15049250,"comment_id":46192745,"body_markdown":"I just tried version 1.0.4 and it seems to have quite a few bugs regarding parsing arrays (empty arrays as well as arrays of objects)","body":"I just tried version 1.0.4 and it seems to have quite a few bugs regarding parsing arrays (empty arrays as well as arrays of objects)"},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":37,"creation_date":1447020992,"post_id":15049250,"comment_id":54974660,"body_markdown":"**This project appears to be dead** and appears to be no longer hosted in the central Maven repository.","body":"<b>This project appears to be dead</b> and appears to be no longer hosted in the central Maven repository."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1449242223,"post_id":15049250,"comment_id":55935203,"body_markdown":"Also, it reports numbers as strings. That, along with the empty string issue, was a deal-breaker for me. Downvoted.","body":"Also, it reports numbers as strings. That, along with the empty string issue, was a deal-breaker for me. Downvoted."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1470492329,"post_id":15049250,"comment_id":64978966,"body_markdown":"So, instead of having deserialized object, we have a map. Sometimes it can be useful.","body":"So, instead of having deserialized object, we have a map. Sometimes it can be useful."}],"tags":[],"owner":{"account_id":2408034,"reputation":925,"user_id":2103911,"display_name":"rputta"},"comment_count":8,"down_vote_count":13,"up_vote_count":94,"is_accepted":false,"score":81,"last_activity_date":1488201505,"creation_date":1361687072,"answer_id":15049250,"question_id":2591098,"body_markdown":"[quick-json parser](https://code.google.com/p/quick-json/) is very straightforward, flexible, very fast and customizable. Try it\r\n\r\nFeatures:\r\n\r\n- Compliant with JSON specification (RFC4627) \r\n- High-Performance JSON parser \r\n- Supports Flexible/Configurable parsing approach \r\n- Configurable validation of key/value pairs of any JSON Hierarchy \r\n- Easy to use # Very small footprint\r\n- Raises developer friendly and easy to trace exceptions \r\n- Pluggable Custom Validation support - Keys/Values can be validated by configuring custom validators as and when encountered \r\n- Validating and Non-Validating parser support \r\n- Support for two types of configuration (JSON/XML) for using quick-JSON validating parser \r\n- Requires JDK 1.5\r\n- No dependency on external libraries \r\n- Support for JSON Generation through object serialisation \r\n- Support for collection type selection during parsing process \r\n\r\nIt can be used like this:\r\n\r\n    JsonParserFactory factory=JsonParserFactory.getInstance();\r\n    JSONParser parser=factory.newJsonParser();\r\n    Map jsonMap=parser.parseJson(jsonString);","title":"How to parse JSON in Java","body":"<p><a href=\"https://code.google.com/p/quick-json/\" rel=\"noreferrer\">quick-json parser</a> is very straightforward, flexible, very fast and customizable. Try it</p>\n\n<p>Features:</p>\n\n<ul>\n<li>Compliant with JSON specification (RFC4627) </li>\n<li>High-Performance JSON parser </li>\n<li>Supports Flexible/Configurable parsing approach </li>\n<li>Configurable validation of key/value pairs of any JSON Hierarchy </li>\n<li>Easy to use # Very small footprint</li>\n<li>Raises developer friendly and easy to trace exceptions </li>\n<li>Pluggable Custom Validation support - Keys/Values can be validated by configuring custom validators as and when encountered </li>\n<li>Validating and Non-Validating parser support </li>\n<li>Support for two types of configuration (JSON/XML) for using quick-JSON validating parser </li>\n<li>Requires JDK 1.5</li>\n<li>No dependency on external libraries </li>\n<li>Support for JSON Generation through object serialisation </li>\n<li>Support for collection type selection during parsing process </li>\n</ul>\n\n<p>It can be used like this:</p>\n\n<pre><code>JsonParserFactory factory=JsonParserFactory.getInstance();\nJSONParser parser=factory.newJsonParser();\nMap jsonMap=parser.parseJson(jsonString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":7,"creation_date":1410445575,"post_id":15885408,"comment_id":40336253,"body_markdown":"Since I replied, I started using [Jackson](https://github.com/FasterXML/jackson) and I think it&#39;s one of the best libraries out there for JSON de-serialization.","body":"Since I replied, I started using <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> and I think it&#39;s one of the best libraries out there for JSON de-serialization."},{"owner":{"account_id":162375,"reputation":6256,"user_id":383793,"accept_rate":88,"display_name":"Chris Wesseling"},"score":2,"creation_date":1431582818,"post_id":15885408,"comment_id":48563532,"body_markdown":"Why do they re-use JSONP to mean something different than [JSON with Padding](https://en.m.wikipedia.org/wiki/JSONP)?...","body":"Why do they re-use JSONP to mean something different than <a href=\"https://en.m.wikipedia.org/wiki/JSONP\" rel=\"nofollow noreferrer\">JSON with Padding</a>?..."},{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":0,"creation_date":1431628983,"post_id":15885408,"comment_id":48590779,"body_markdown":"@ChrisWesseling What do you mean?","body":"@ChrisWesseling What do you mean?"},{"owner":{"account_id":162375,"reputation":6256,"user_id":383793,"accept_rate":88,"display_name":"Chris Wesseling"},"score":0,"creation_date":1431629285,"post_id":15885408,"comment_id":48590943,"body_markdown":"&quot;Java API for JSON Processing (JSON-P)&quot; is the title of the document you link to. And it confused me, because I knew JSONP to mean something else.","body":"&quot;Java API for JSON Processing (JSON-P)&quot; is the title of the document you link to. And it confused me, because I knew JSONP to mean something else."},{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":1,"creation_date":1431629439,"post_id":15885408,"comment_id":48591025,"body_markdown":"@ChrisWesseling oh that is confusing. That&#39;s what they chose for the specification. However as I said, I would go straight to Jackson.","body":"@ChrisWesseling oh that is confusing. That&#39;s what they chose for the specification. However as I said, I would go straight to Jackson."}],"tags":[],"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"comment_count":5,"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1439510665,"creation_date":1365442626,"answer_id":15885408,"question_id":2591098,"body_markdown":"I believe the best practice should be to go through the official [Java JSON API](http://json-processing-spec.java.net/) which are still work in progress.","title":"How to parse JSON in Java","body":"<p>I believe the best practice should be to go through the official <a href=\"http://json-processing-spec.java.net/\" rel=\"noreferrer\">Java JSON API</a> which are still work in progress.</p>\n"},{"comments":[{"owner":{"account_id":56734,"reputation":23064,"user_id":169947,"accept_rate":62,"display_name":"Ken Williams"},"score":20,"creation_date":1415811342,"post_id":18998203,"comment_id":42338319,"body_markdown":"I agree with @StaxMan.  I just tried org.json and it&#39;s horribly cumbersome.  It really doesn&#39;t play with with standard Java Collection types, for example.","body":"I agree with @StaxMan.  I just tried org.json and it&#39;s horribly cumbersome.  It really doesn&#39;t play with with standard Java Collection types, for example."},{"owner":{"account_id":53928,"reputation":5048,"user_id":161278,"accept_rate":100,"display_name":"Omar Al-Ithawi"},"score":9,"creation_date":1447775357,"post_id":18998203,"comment_id":55289920,"body_markdown":"@StaxMan I would choose `org.json` over other libraries for simple JSON parsing without even looking. It is the reference library that Douglas Crockford (the JSON discoverer) created.","body":"@StaxMan I would choose <code>org.json</code> over other libraries for simple JSON parsing without even looking. It is the reference library that Douglas Crockford (the JSON discoverer) created."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":48,"creation_date":1447959246,"post_id":18998203,"comment_id":55389561,"body_markdown":"@OmarIthawi that is just silly. It&#39;s a proof-of-concept with awkward API, inefficient implementation. I think it is better to consider libraries on their own merits, instead of trying to deduce quality out of its authors visibility -- Doug has achieved many things, but that does not really change qualities of the particular lib. 10 years ago it was the only game in town, but since then there has been much positive progress. It&#39;s like Struts of json libs.","body":"@OmarIthawi that is just silly. It&#39;s a proof-of-concept with awkward API, inefficient implementation. I think it is better to consider libraries on their own merits, instead of trying to deduce quality out of its authors visibility -- Doug has achieved many things, but that does not really change qualities of the particular lib. 10 years ago it was the only game in town, but since then there has been much positive progress. It&#39;s like Struts of json libs."},{"owner":{"account_id":53928,"reputation":5048,"user_id":161278,"accept_rate":100,"display_name":"Omar Al-Ithawi"},"score":1,"creation_date":1448182713,"post_id":18998203,"comment_id":55470420,"body_markdown":"I agree with you @StaxMan, may be I&#39;m just a big fan of Crockford.","body":"I agree with you @StaxMan, may be I&#39;m just a big fan of Crockford."},{"owner":{"account_id":53928,"reputation":5048,"user_id":161278,"accept_rate":100,"display_name":"Omar Al-Ithawi"},"score":0,"creation_date":1457814284,"post_id":18998203,"comment_id":59580660,"body_markdown":"@user1156544 Well technically JSON was invented by many people including JavaScript and Python authors. But the term JSON was coined by Douglas Crockford, and he popularized JSON as a date exchange format instead of XML so, he actually discovered JSON as a data exchange format: https://www.youtube.com/watch?v=kc8BAR7SHJI","body":"@user1156544 Well technically JSON was invented by many people including JavaScript and Python authors. But the term JSON was coined by Douglas Crockford, and he popularized JSON as a date exchange format instead of XML so, he actually discovered JSON as a data exchange format: <a href=\"https://www.youtube.com/watch?v=kc8BAR7SHJI\" rel=\"nofollow noreferrer\">youtube.com/watch?v=kc8BAR7SHJI</a>"},{"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"score":19,"creation_date":1467060832,"post_id":18998203,"comment_id":63565066,"body_markdown":"org.json is amongst the worst json libraries. One should look at the feature set and performance of available json libraries before choosing. Here is a benchmark I did comparing jackson, gson, org.json, genson using JMH: https://github.com/fabienrenaud/java-json-benchmark. jackson is the clear winner here.","body":"org.json is amongst the worst json libraries. One should look at the feature set and performance of available json libraries before choosing. Here is a benchmark I did comparing jackson, gson, org.json, genson using JMH: <a href=\"https://github.com/fabienrenaud/java-json-benchmark\" rel=\"nofollow noreferrer\">github.com/fabienrenaud/java-json-benchmark</a>. jackson is the clear winner here."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":1,"creation_date":1470492242,"post_id":18998203,"comment_id":64978940,"body_markdown":"Extremely inconvenient, it even does not support de/serialization.","body":"Extremely inconvenient, it even does not support de/serialization."},{"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"score":4,"creation_date":1470926581,"post_id":18998203,"comment_id":65157808,"body_markdown":"The License doesn&#39;t include any commonly used Open Source licensing, and it also holds copyrights.","body":"The License doesn&#39;t include any commonly used Open Source licensing, and it also holds copyrights."},{"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"score":2,"creation_date":1486543157,"post_id":18998203,"comment_id":71385426,"body_markdown":"org.json is extremely slow compared to Jackson http://stackoverflow.com/a/42106801/1722236","body":"org.json is extremely slow compared to Jackson <a href=\"http://stackoverflow.com/a/42106801/1722236\">stackoverflow.com/a/42106801/1722236</a>"},{"owner":{"account_id":501601,"reputation":4179,"user_id":970175,"accept_rate":67,"display_name":"redolent"},"score":0,"creation_date":1666088167,"post_id":18998203,"comment_id":130847196,"body_markdown":"what&#39;s the command to install this?","body":"what&#39;s the command to install this?"}],"tags":[],"owner":{"account_id":2182740,"reputation":10566,"user_id":1931858,"display_name":"user1931858"},"comment_count":10,"down_vote_count":39,"up_vote_count":990,"is_accepted":false,"score":951,"last_activity_date":1609529406,"creation_date":1380092175,"answer_id":18998203,"question_id":2591098,"body_markdown":"The [org.json][1] library is easy to use. \r\n\r\nJust remember (while casting or using methods like `getJSONObject` and `getJSONArray`) that in JSON notation\r\n\r\n- `[ … ]` represents an array, so library will parse it to `JSONArray` \r\n- `{ … }` represents an object, so library will parse it to `JSONObject`\r\n\r\nExample code below:\r\n\r\n    import org.json.*;\r\n\r\n    String jsonString = ... ; //assign your JSON String here\r\n    JSONObject obj = new JSONObject(jsonString);\r\n    String pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\r\n\r\n    JSONArray arr = obj.getJSONArray(&quot;posts&quot;); // notice that `&quot;posts&quot;: [...]`\r\n    for (int i = 0; i &lt; arr.length(); i++)\r\n    {\r\n        String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\r\n        ......\r\n    }\r\nYou may find more examples from: [Parse JSON in Java][2]\r\n\r\nDownloadable jar:  http://mvnrepository.com/artifact/org.json/json\r\n\r\n  [1]: https://github.com/stleary/JSON-java\r\n  [2]: http://theoryapp.com/parse-json-in-java/","title":"How to parse JSON in Java","body":"<p>The <a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">org.json</a> library is easy to use.</p>\n<p>Just remember (while casting or using methods like <code>getJSONObject</code> and <code>getJSONArray</code>) that in JSON notation</p>\n<ul>\n<li><code>[ … ]</code> represents an array, so library will parse it to <code>JSONArray</code></li>\n<li><code>{ … }</code> represents an object, so library will parse it to <code>JSONObject</code></li>\n</ul>\n<p>Example code below:</p>\n<pre><code>import org.json.*;\n\nString jsonString = ... ; //assign your JSON String here\nJSONObject obj = new JSONObject(jsonString);\nString pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\n\nJSONArray arr = obj.getJSONArray(&quot;posts&quot;); // notice that `&quot;posts&quot;: [...]`\nfor (int i = 0; i &lt; arr.length(); i++)\n{\n    String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\n    ......\n}\n</code></pre>\n<p>You may find more examples from: <a href=\"http://theoryapp.com/parse-json-in-java/\" rel=\"noreferrer\">Parse JSON in Java</a></p>\n<p>Downloadable jar:  <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.json/json</a></p>\n"},{"comments":[{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":18,"creation_date":1429914154,"post_id":23668021,"comment_id":47842885,"body_markdown":"The `JSONArray` type is not part of the J2SE JDK API and you don&#39;t say which API or third-party library provides this type.","body":"The <code>JSONArray</code> type is not part of the J2SE JDK API and you don&#39;t say which API or third-party library provides this type."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":2,"creation_date":1433200304,"post_id":23668021,"comment_id":49239254,"body_markdown":"Not that I would recommend using it, but I think this refers to the &quot;org.json&quot; package from http://json.org/java/. It used to be used before good Java libraries became available, but this was years ago (2008 or before)","body":"Not that I would recommend using it, but I think this refers to the &quot;org.json&quot; package from <a href=\"http://json.org/java/\" rel=\"nofollow noreferrer\">json.org/java</a>. It used to be used before good Java libraries became available, but this was years ago (2008 or before)"},{"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"score":1,"creation_date":1519220679,"post_id":23668021,"comment_id":84820739,"body_markdown":"Or does brainmurphy1 mean [JSONArray](https://developer.android.com/reference/org/json/JSONArray.html) in Android?","body":"Or does brainmurphy1 mean <a href=\"https://developer.android.com/reference/org/json/JSONArray.html\" rel=\"nofollow noreferrer\">JSONArray</a> in Android?"}],"tags":[],"owner":{"account_id":1532888,"reputation":1092,"user_id":1429640,"accept_rate":71,"display_name":"brainmurphy1"},"comment_count":3,"down_vote_count":12,"up_vote_count":24,"is_accepted":false,"score":12,"last_activity_date":1452887129,"creation_date":1400118977,"answer_id":23668021,"question_id":2591098,"body_markdown":"This blew my mind with how easy it was. You can just pass a `String` holding your JSON to the constructor of a JSONObject in the default org.json package. \r\n\r\n    JSONArray rootOfPage =  new JSONArray(JSONString);\r\nDone. *Drops microphone*.\r\nThis works with `JSONObjects` as well. After that, you can just look through your hierarchy of `Objects` using the `get()` methods on your objects.","title":"How to parse JSON in Java","body":"<p>This blew my mind with how easy it was. You can just pass a <code>String</code> holding your JSON to the constructor of a JSONObject in the default org.json package. </p>\n\n<pre><code>JSONArray rootOfPage =  new JSONArray(JSONString);\n</code></pre>\n\n<p>Done. <em>Drops microphone</em>.\nThis works with <code>JSONObjects</code> as well. After that, you can just look through your hierarchy of <code>Objects</code> using the <code>get()</code> methods on your objects.</p>\n"},{"comments":[{"owner":{"account_id":1219554,"reputation":485,"user_id":1186464,"accept_rate":86,"display_name":"jewbix.cube"},"score":4,"creation_date":1430170816,"post_id":28596047,"comment_id":47935546,"body_markdown":"@nondescript If I had to guess I&#39;d say it was downvoted because it doesn&#39;t answer the original poster&#39;s question: &quot;What is the required code?&quot; The answers that were upvoted provided code snippets.","body":"@nondescript If I had to guess I&#39;d say it was downvoted because it doesn&#39;t answer the original poster&#39;s question: &quot;What is the required code?&quot; The answers that were upvoted provided code snippets."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":5,"creation_date":1433200215,"post_id":28596047,"comment_id":49239225,"body_markdown":"Note: Jackson and GSON both support tree-style and/or Maps/Lists binding, so there is no need to use Java EE (javax.json) package. javax.json has little to offer beyond either Jackson or GSON.","body":"Note: Jackson and GSON both support tree-style and/or Maps/Lists binding, so there is no need to use Java EE (javax.json) package. javax.json has little to offer beyond either Jackson or GSON."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1527315953,"post_id":28596047,"comment_id":88091448,"body_markdown":"I suggest adding a link to the JavaEE library.","body":"I suggest adding a link to the JavaEE library."}],"tags":[],"owner":{"account_id":2231509,"reputation":1486,"user_id":1968938,"display_name":"nondescript"},"comment_count":3,"down_vote_count":2,"up_vote_count":118,"is_accepted":false,"score":116,"last_activity_date":1535154344,"creation_date":1424302478,"answer_id":28596047,"question_id":2591098,"body_markdown":"1. If one wants to create Java object from JSON and vice versa, use GSON or JACKSON third party jars etc.\r\n\r\n        //from object to JSON \r\n        Gson gson = new Gson();\r\n        gson.toJson(yourObject);\r\n\r\n        // from JSON to object \r\n        yourObject o = gson.fromJson(JSONString,yourObject.class);\r\n\r\n2. But if one just want to parse a JSON string and get some values, (OR create a JSON string from scratch to send over wire) just use JaveEE jar which contains JsonReader, JsonArray, JsonObject etc. You may want to download the implementation of that spec like javax.json. With these two jars I am able to parse the json and use the values.  \r\n\r\n  These APIs actually follow the DOM/SAX parsing model of XML.       \r\n     \r\n        \r\n\r\n        Response response = request.get(); // REST call \r\n            JsonReader jsonReader = Json.createReader(new StringReader(response.readEntity(String.class)));\r\n    \t\tJsonArray jsonArray = jsonReader.readArray();\r\n            ListIterator l = jsonArray.listIterator();\r\n            while ( l.hasNext() ) {\r\n                  JsonObject j = (JsonObject)l.next();\r\n                  JsonObject ciAttr = j.getJsonObject(&quot;ciAttributes&quot;);","title":"How to parse JSON in Java","body":"<ol>\n<li><p>If one wants to create Java object from JSON and vice versa, use GSON or JACKSON third party jars etc.</p>\n\n<pre><code>//from object to JSON \nGson gson = new Gson();\ngson.toJson(yourObject);\n\n// from JSON to object \nyourObject o = gson.fromJson(JSONString,yourObject.class);\n</code></pre></li>\n<li><p>But if one just want to parse a JSON string and get some values, (OR create a JSON string from scratch to send over wire) just use JaveEE jar which contains JsonReader, JsonArray, JsonObject etc. You may want to download the implementation of that spec like javax.json. With these two jars I am able to parse the json and use the values.  </p>\n\n<p>These APIs actually follow the DOM/SAX parsing model of XML.       </p>\n\n<pre><code>Response response = request.get(); // REST call \n    JsonReader jsonReader = Json.createReader(new StringReader(response.readEntity(String.class)));\n    JsonArray jsonArray = jsonReader.readArray();\n    ListIterator l = jsonArray.listIterator();\n    while ( l.hasNext() ) {\n          JsonObject j = (JsonObject)l.next();\n          JsonObject ciAttr = j.getJsonObject(\"ciAttributes\");\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":15,"creation_date":1458428264,"post_id":31397524,"comment_id":59858332,"body_markdown":"Er, which library is this?","body":"Er, which library is this?"},{"owner":{"account_id":5520793,"reputation":4379,"user_id":4383820,"accept_rate":81,"display_name":"Lasitha Yapa"},"score":3,"creation_date":1471944077,"post_id":31397524,"comment_id":65541098,"body_markdown":"I think he is using org.json.simple","body":"I think he is using org.json.simple"},{"owner":{"account_id":9474506,"reputation":621,"user_id":7044308,"display_name":"Stanislav Vincent"},"score":1,"creation_date":1653465365,"post_id":31397524,"comment_id":127856277,"body_markdown":"in the last line supposed to ne String product = (String) obj.get(&quot;productId&quot;);","body":"in the last line supposed to ne String product = (String) obj.get(&quot;productId&quot;);"}],"tags":[],"owner":{"account_id":6622309,"reputation":101,"user_id":5113554,"display_name":"Sreekanth"},"comment_count":3,"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1436847796,"creation_date":1436847260,"answer_id":31397524,"question_id":2591098,"body_markdown":"Please do something like this:\r\n\r\n    JSONParser jsonParser = new JSONParser();\r\n    JSONObject obj = (JSONObject) jsonParser.parse(contentString);\r\n    String product = (String) jsonObject.get(&quot;productId&quot;);","title":"How to parse JSON in Java","body":"<p>Please do something like this:</p>\n\n<pre><code>JSONParser jsonParser = new JSONParser();\nJSONObject obj = (JSONObject) jsonParser.parse(contentString);\nString product = (String) jsonObject.get(\"productId\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":10,"creation_date":1438095857,"post_id":31679576,"comment_id":51302063,"body_markdown":"Please explain your answer as code-only answers help others far less than well documented code. See [&quot;give a man a fish and you feed him for a day; teach a man to fish and you feed him for a lifetime&quot;](https://en.wiktionary.org/wiki/give_a_man_a_fish_and_you_feed_him_for_a_day;_teach_a_man_to_fish_and_you_feed_him_for_a_lifetime).","body":"Please explain your answer as code-only answers help others far less than well documented code. See <a href=\"https://en.wiktionary.org/wiki/give_a_man_a_fish_and_you_feed_him_for_a_day;_teach_a_man_to_fish_and_you_feed_him_for_a_lifetime\" rel=\"nofollow noreferrer\">&quot;give a man a fish and you feed him for a day; teach a man to fish and you feed him for a lifetime&quot;</a>."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1444154837,"post_id":31679576,"comment_id":53778444,"body_markdown":"Would be good to mention this is for &#39;org.json&#39; lib. However, I do not think this is a good way to do it at all being very verbose, and &#39;org.json&#39; lib itself being obsolete (slow, cumbersome API). There are better choices: GSON, Jackson, Boon, Genson to use.","body":"Would be good to mention this is for &#39;org.json&#39; lib. However, I do not think this is a good way to do it at all being very verbose, and &#39;org.json&#39; lib itself being obsolete (slow, cumbersome API). There are better choices: GSON, Jackson, Boon, Genson to use."}],"tags":[],"owner":{"account_id":6698019,"reputation":127,"user_id":5165508,"display_name":"LReddy"},"comment_count":2,"down_vote_count":8,"up_vote_count":14,"is_accepted":false,"score":6,"last_activity_date":1438094436,"creation_date":1438094436,"answer_id":31679576,"question_id":2591098,"body_markdown":"    {\r\n       &quot;pageInfo&quot;: {\r\n             &quot;pageName&quot;: &quot;abc&quot;,\r\n             &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n        },\r\n        &quot;posts&quot;: [\r\n             {\r\n                  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n                  &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n                  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n                  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n                  &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n                  &quot;likesCount&quot;: &quot;2&quot;,\r\n                  &quot;comments&quot;: [],\r\n                  &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n             }\r\n        ]\r\n    }\r\n    \r\n    Java code :\r\n    \r\n    JSONObject obj = new JSONObject(responsejsonobj);\r\n    String pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\r\n    \r\n    JSONArray arr = obj.getJSONArray(&quot;posts&quot;);\r\n    for (int i = 0; i &lt; arr.length(); i++)\r\n    {\r\n        String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\r\n        ......etc\r\n    }","title":"How to parse JSON in Java","body":"<pre><code>{\n   \"pageInfo\": {\n         \"pageName\": \"abc\",\n         \"pagePic\": \"http://example.com/content.jpg\"\n    },\n    \"posts\": [\n         {\n              \"post_id\": \"123456789012_123456789012\",\n              \"actor_id\": \"1234567890\",\n              \"picOfPersonWhoPosted\": \"http://example.com/photo.jpg\",\n              \"nameOfPersonWhoPosted\": \"Jane Doe\",\n              \"message\": \"Sounds cool. Can't wait to see it!\",\n              \"likesCount\": \"2\",\n              \"comments\": [],\n              \"timeOfPost\": \"1234567890\"\n         }\n    ]\n}\n\nJava code :\n\nJSONObject obj = new JSONObject(responsejsonobj);\nString pageName = obj.getJSONObject(\"pageInfo\").getString(\"pageName\");\n\nJSONArray arr = obj.getJSONArray(\"posts\");\nfor (int i = 0; i &lt; arr.length(); i++)\n{\n    String post_id = arr.getJSONObject(i).getString(\"post_id\");\n    ......etc\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":23,"creation_date":1444154758,"post_id":31743324,"comment_id":53778399,"body_markdown":"Good answer. One suggestion for minor improvement: both GSON and Jackson also support use of JSON tree representation (for Jackson these are `JsonNode`s, GSON has something similar). Might be good to show snippets, since that is similar to the only way org.json offers.","body":"Good answer. One suggestion for minor improvement: both GSON and Jackson also support use of JSON tree representation (for Jackson these are <code>JsonNode</code>s, GSON has something similar). Might be good to show snippets, since that is similar to the only way org.json offers."},{"owner":{"account_id":1240194,"reputation":1729,"user_id":1274733,"display_name":"jake stayman"},"score":0,"creation_date":1459537492,"post_id":31743324,"comment_id":60347325,"body_markdown":"Two other libraries worth mentioning (in the interest of completeness): [json-simple](https://github.com/fangyidong/json-simple) and [Oracle&#39;s JSONP](https://jsonp.java.net/)","body":"Two other libraries worth mentioning (in the interest of completeness): <a href=\"https://github.com/fangyidong/json-simple\" rel=\"nofollow noreferrer\">json-simple</a> and <a href=\"https://jsonp.java.net/\" rel=\"nofollow noreferrer\">Oracle&#39;s JSONP</a>"},{"owner":{"account_id":505047,"reputation":2471,"user_id":1101509,"display_name":"Andrea Lazzarotto"},"score":7,"creation_date":1460234457,"post_id":31743324,"comment_id":60649699,"body_markdown":"@NeonWarge, why? It seems to me that this answer assumes one has already defined a Java class that contains exactly the same fields as the JSON string, nothing less and nothing more. This is quite a strong assumption.","body":"@NeonWarge, why? It seems to me that this answer assumes one has already defined a Java class that contains exactly the same fields as the JSON string, nothing less and nothing more. This is quite a strong assumption."},{"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"score":3,"creation_date":1470013470,"post_id":31743324,"comment_id":64758943,"body_markdown":"json-simple and oracle&#39;s jsonp perform terribly: https://github.com/fabienrenaud/java-json-benchmark For performance, choose jackson or dsljson.","body":"json-simple and oracle&#39;s jsonp perform terribly: <a href=\"https://github.com/fabienrenaud/java-json-benchmark\" rel=\"nofollow noreferrer\">github.com/fabienrenaud/java-json-benchmark</a> For performance, choose jackson or dsljson."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1470492179,"post_id":31743324,"comment_id":64978918,"body_markdown":"GSON does not support dynamic filtering of fields on levels other than root!","body":"GSON does not support dynamic filtering of fields on levels other than root!"},{"owner":{"account_id":6965528,"reputation":635,"user_id":5343692,"display_name":"JovanToroman"},"score":0,"creation_date":1578753885,"post_id":31743324,"comment_id":105545776,"body_markdown":"why does Google try to impose everything theirs as the best? And, more importantly, why does everyone buy into their cohones?","body":"why does Google try to impose everything theirs as the best? And, more importantly, why does everyone buy into their cohones?"},{"owner":{"account_id":12730279,"reputation":1162,"user_id":9247203,"display_name":"JoschJava"},"score":0,"creation_date":1604939838,"post_id":31743324,"comment_id":114494012,"body_markdown":"Note: It&#39;s essential that the &#39;name&#39; variable is public. Otherwise your result is null.","body":"Note: It&#39;s essential that the &#39;name&#39; variable is public. Otherwise your result is null."},{"owner":{"account_id":1318950,"reputation":1139,"user_id":1265200,"accept_rate":86,"display_name":"Dazed"},"score":1,"creation_date":1626955054,"post_id":31743324,"comment_id":121032607,"body_markdown":"For GSON I note (your example) that `new JsonParser().parse()` is deprecated (v2.8.6+) - see https://stackoverflow.com/a/60771740/1265200 for alternative usage of `JsonParser.parseString()`","body":"For GSON I note (your example) that <code>new JsonParser().parse()</code> is deprecated (v2.8.6+) - see <a href=\"https://stackoverflow.com/a/60771740/1265200\">stackoverflow.com/a/60771740/1265200</a> for alternative usage of <code>JsonParser.parseString()</code>"}],"tags":[],"owner":{"account_id":6484127,"reputation":9361,"user_id":5020253,"accept_rate":88,"display_name":"SDekov"},"comment_count":8,"down_vote_count":1,"up_vote_count":695,"is_accepted":false,"score":694,"last_activity_date":1688828127,"creation_date":1438336472,"answer_id":31743324,"question_id":2591098,"body_markdown":"For the sake of the example lets assume you have a class **`Person`** with just a `name`.\r\n\r\n    private class Person {\r\n        public String name;\r\n\r\n        public Person(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n[Jackson][5] ([Maven][6])\r\n=\r\nMy personal favourite and probably the most widely used.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    // De-serialize to an object\r\n    Person user = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\r\n    System.out.println(user.name); //John\r\n    \r\n    // Read a single attribute\r\n    JsonNode nameNode = mapper.readTree(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\r\n    System.out.println(nameNode.get(&quot;name&quot;).asText());\r\n\r\n[Google GSON][1] ([Maven][2])\r\n=\r\n\r\n\r\n    Gson g = new Gson();\r\n\r\n    // De-serialize to an object\r\n    Person person = g.fromJson(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\r\n    System.out.println(person.name); //John\r\n\r\n    // Read a single attribute\r\n    JsonObject jsonObject = new JsonParser().parse(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;).getAsJsonObject();\r\n    System.out.println(jsonObject.get(&quot;name&quot;).getAsString()); //John\r\n\r\n\r\n[Org.JSON][3] ([Maven][4])\r\n=\r\n**This suggestion is listed here simply because it appears to be quite popular due to stackoverflow reference to it. I would not recommend using it as it is more a proof-of-concept project than an actual library.**\r\n\r\n    JSONObject obj = new JSONObject(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\r\n\r\n    System.out.println(obj.getString(&quot;name&quot;)); //John\r\n\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: http://mvnrepository.com/artifact/com.google.code.gson/gson\r\n  [3]: https://github.com/stleary/JSON-java\r\n  [4]: http://mvnrepository.com/artifact/org.json/json\r\n  [5]: https://github.com/FasterXML/jackson-databind/\r\n  [6]: http://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind","title":"How to parse JSON in Java","body":"<p>For the sake of the example lets assume you have a class <strong><code>Person</code></strong> with just a <code>name</code>.</p>\n<pre><code>private class Person {\n    public String name;\n\n    public Person(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<h1><a href=\"https://github.com/FasterXML/jackson-databind/\" rel=\"noreferrer\">Jackson</a> (<a href=\"http://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\" rel=\"noreferrer\">Maven</a>)</h1>\n<p>My personal favourite and probably the most widely used.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n// De-serialize to an object\nPerson user = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\nSystem.out.println(user.name); //John\n\n// Read a single attribute\nJsonNode nameNode = mapper.readTree(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\nSystem.out.println(nameNode.get(&quot;name&quot;).asText());\n</code></pre>\n<h1><a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Google GSON</a> (<a href=\"http://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"noreferrer\">Maven</a>)</h1>\n<pre><code>Gson g = new Gson();\n\n// De-serialize to an object\nPerson person = g.fromJson(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\nSystem.out.println(person.name); //John\n\n// Read a single attribute\nJsonObject jsonObject = new JsonParser().parse(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;).getAsJsonObject();\nSystem.out.println(jsonObject.get(&quot;name&quot;).getAsString()); //John\n</code></pre>\n<h1><a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">Org.JSON</a> (<a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">Maven</a>)</h1>\n<p><strong>This suggestion is listed here simply because it appears to be quite popular due to stackoverflow reference to it. I would not recommend using it as it is more a proof-of-concept project than an actual library.</strong></p>\n<pre><code>JSONObject obj = new JSONObject(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\n\nSystem.out.println(obj.getString(&quot;name&quot;)); //John\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1444154910,"creation_date":1440851960,"answer_id":32286142,"question_id":2591098,"body_markdown":"If you have some Java class(say Message) representing the JSON string(jsonString), you can use [Jackson][1]  JSON library with:\r\n\r\n    Message message= new ObjectMapper().readValue(jsonString, Message.class);\r\n\r\nand from message object you can fetch any of its attribute.\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n","title":"How to parse JSON in Java","body":"<p>If you have some Java class(say Message) representing the JSON string(jsonString), you can use <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>  JSON library with:</p>\n\n<pre><code>Message message= new ObjectMapper().readValue(jsonString, Message.class);\n</code></pre>\n\n<p>and from message object you can fetch any of its attribute.</p>\n"},{"comments":[{"owner":{"account_id":5221763,"reputation":6678,"user_id":4174993,"display_name":"papigee"},"score":0,"creation_date":1559685584,"post_id":34313816,"comment_id":99496981,"body_markdown":"This a very good library especially for reading and updating JSON but beware of some known issue about this library. See\n  [1]: https://github.com/json-path/JsonPath/issues/272\n  [2]: https://github.com/json-path/JsonPath/issues/375","body":"This a very good library especially for reading and updating JSON but beware of some known issue about this library. See   [1]: <a href=\"https://github.com/json-path/JsonPath/issues/272\" rel=\"nofollow noreferrer\">github.com/json-path/JsonPath/issues/272</a>   [2]: <a href=\"https://github.com/json-path/JsonPath/issues/375\" rel=\"nofollow noreferrer\">github.com/json-path/JsonPath/issues/375</a>"}],"tags":[],"owner":{"account_id":154853,"reputation":3380,"user_id":371082,"accept_rate":52,"display_name":"dade"},"comment_count":1,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1620193517,"creation_date":1450273872,"answer_id":34313816,"question_id":2591098,"body_markdown":"Almost all the answers given requires a full deserialization of the JSON into a Java object before accessing the value in the property of interest. Another alternative, which does not go this route is to use [JsonPATH][1] which is like XPath for JSON and allows traversing of JSON objects.\r\n\r\nIt is a specification and the good folks at JayWay have created a Java implementation for the specification which you can find here: [https://github.com/jayway/JsonPath][2]\r\n\r\nSo basically to use it, add it to your project, eg:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t&lt;version&gt;${version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand to use:\r\n\r\n```lang-java\r\nString pageName = JsonPath.read(yourJsonString, &quot;$.pageInfo.pageName&quot;);\r\nString pagePic = JsonPath.read(yourJsonString, &quot;$.pageInfo.pagePic&quot;);\r\nString post_id = JsonPath.read(yourJsonString, &quot;$.pagePosts[0].post_id&quot;);\r\n```\r\n\r\netc...\r\n\r\nCheck the JsonPath specification page for more information on the other ways to transverse JSON.\r\n\r\n  [1]: http://goessner.net/articles/JsonPath/\r\n  [2]: https://github.com/jayway/JsonPath","title":"How to parse JSON in Java","body":"<p>Almost all the answers given requires a full deserialization of the JSON into a Java object before accessing the value in the property of interest. Another alternative, which does not go this route is to use <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"noreferrer\">JsonPATH</a> which is like XPath for JSON and allows traversing of JSON objects.</p>\n<p>It is a specification and the good folks at JayWay have created a Java implementation for the specification which you can find here: <a href=\"https://github.com/jayway/JsonPath\" rel=\"noreferrer\">https://github.com/jayway/JsonPath</a></p>\n<p>So basically to use it, add it to your project, eg:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;${version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pageName = JsonPath.read(yourJsonString, &quot;$.pageInfo.pageName&quot;);\nString pagePic = JsonPath.read(yourJsonString, &quot;$.pageInfo.pagePic&quot;);\nString post_id = JsonPath.read(yourJsonString, &quot;$.pagePosts[0].post_id&quot;);\n</code></pre>\n<p>etc...</p>\n<p>Check the JsonPath specification page for more information on the other ways to transverse JSON.</p>\n"},{"tags":[],"owner":{"account_id":5426896,"reputation":58756,"user_id":4318868,"display_name":"Slava Vedenin"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1620230120,"creation_date":1450301019,"answer_id":34322365,"question_id":2591098,"body_markdown":"In addition to other answers, I recomend this online opensource service [jsonschema2pojo.org][1] for quick generating Java classes from json or json schema for GSON, Jackson 1.x or Jackson 2.x. For example, if you have:\r\n\r\n```json\r\n{\r\n   &quot;pageInfo&quot;: {\r\n\t\t &quot;pageName&quot;: &quot;abc&quot;,\r\n\t\t &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n\t}\r\n\t&quot;posts&quot;: [\r\n\t\t {\r\n\t\t\t  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n\t\t\t  &quot;actor_id&quot;: 1234567890,\r\n\t\t\t  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n\t\t\t  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n\t\t\t  &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n\t\t\t  &quot;likesCount&quot;: 2,\r\n\t\t\t  &quot;comments&quot;: [],\r\n\t\t\t  &quot;timeOfPost&quot;: 1234567890\r\n\t\t }\r\n\t]\r\n}\r\n```\r\n\r\nThe [jsonschema2pojo.org][1] for GSON generated:\r\n\r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class Container {\r\n        @SerializedName(&quot;pageInfo&quot;)\r\n        @Expose\r\n        public PageInfo pageInfo;\r\n        @SerializedName(&quot;posts&quot;)\r\n        @Expose\r\n        public List&lt;Post&gt; posts = new ArrayList&lt;Post&gt;();\r\n    }\r\n    \r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class PageInfo {\r\n        @SerializedName(&quot;pageName&quot;)\r\n        @Expose\r\n        public String pageName;\r\n        @SerializedName(&quot;pagePic&quot;)\r\n        @Expose\r\n        public String pagePic;\r\n    }\r\n    \r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class Post {\r\n        @SerializedName(&quot;post_id&quot;)\r\n        @Expose\r\n        public String postId;\r\n        @SerializedName(&quot;actor_id&quot;)\r\n        @Expose\r\n        public long actorId;\r\n        @SerializedName(&quot;picOfPersonWhoPosted&quot;)\r\n        @Expose\r\n        public String picOfPersonWhoPosted;\r\n        @SerializedName(&quot;nameOfPersonWhoPosted&quot;)\r\n        @Expose\r\n        public String nameOfPersonWhoPosted;\r\n        @SerializedName(&quot;message&quot;)\r\n        @Expose\r\n        public String message;\r\n        @SerializedName(&quot;likesCount&quot;)\r\n        @Expose\r\n        public long likesCount;\r\n        @SerializedName(&quot;comments&quot;)\r\n        @Expose\r\n        public List&lt;Object&gt; comments = new ArrayList&lt;Object&gt;();\r\n        @SerializedName(&quot;timeOfPost&quot;)\r\n        @Expose\r\n        public long timeOfPost;\r\n    }\r\n\r\n  [1]: http://www.jsonschema2pojo.org/","title":"How to parse JSON in Java","body":"<p>In addition to other answers, I recomend this online opensource service <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> for quick generating Java classes from json or json schema for GSON, Jackson 1.x or Jackson 2.x. For example, if you have:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;pageInfo&quot;: {\n         &quot;pageName&quot;: &quot;abc&quot;,\n         &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    }\n    &quot;posts&quot;: [\n         {\n              &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n              &quot;actor_id&quot;: 1234567890,\n              &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n              &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n              &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n              &quot;likesCount&quot;: 2,\n              &quot;comments&quot;: [],\n              &quot;timeOfPost&quot;: 1234567890\n         }\n    ]\n}\n</code></pre>\n<p>The <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> for GSON generated:</p>\n<pre><code>@Generated(&quot;org.jsonschema2pojo&quot;)\npublic class Container {\n    @SerializedName(&quot;pageInfo&quot;)\n    @Expose\n    public PageInfo pageInfo;\n    @SerializedName(&quot;posts&quot;)\n    @Expose\n    public List&lt;Post&gt; posts = new ArrayList&lt;Post&gt;();\n}\n\n@Generated(&quot;org.jsonschema2pojo&quot;)\npublic class PageInfo {\n    @SerializedName(&quot;pageName&quot;)\n    @Expose\n    public String pageName;\n    @SerializedName(&quot;pagePic&quot;)\n    @Expose\n    public String pagePic;\n}\n\n@Generated(&quot;org.jsonschema2pojo&quot;)\npublic class Post {\n    @SerializedName(&quot;post_id&quot;)\n    @Expose\n    public String postId;\n    @SerializedName(&quot;actor_id&quot;)\n    @Expose\n    public long actorId;\n    @SerializedName(&quot;picOfPersonWhoPosted&quot;)\n    @Expose\n    public String picOfPersonWhoPosted;\n    @SerializedName(&quot;nameOfPersonWhoPosted&quot;)\n    @Expose\n    public String nameOfPersonWhoPosted;\n    @SerializedName(&quot;message&quot;)\n    @Expose\n    public String message;\n    @SerializedName(&quot;likesCount&quot;)\n    @Expose\n    public long likesCount;\n    @SerializedName(&quot;comments&quot;)\n    @Expose\n    public List&lt;Object&gt; comments = new ArrayList&lt;Object&gt;();\n    @SerializedName(&quot;timeOfPost&quot;)\n    @Expose\n    public long timeOfPost;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4126058,"reputation":449,"user_id":3385180,"display_name":"venkat"},"score":0,"creation_date":1454653470,"post_id":35217501,"comment_id":58149965,"body_markdown":"For complete knowledge on Gson refer below links.\n\nhttps://github.com/google/gson/blob/master/UserGuide.md","body":"For complete knowledge on Gson refer below links.  <a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"nofollow noreferrer\">github.com/google/gson/blob/master/UserGuide.md</a>"}],"tags":[],"owner":{"account_id":4126058,"reputation":449,"user_id":3385180,"display_name":"venkat"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454653164,"creation_date":1454653164,"answer_id":35217501,"question_id":2591098,"body_markdown":"**Gson** is easy to learn and implement, what we need to know are following two methods\r\n\r\n - ***toJson()*** – Convert Java object to JSON format\r\n   \r\n - ***fromJson()*** – Convert JSON into Java object\r\n\r\n`\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import com.google.gson.Gson;\r\n    \r\n    public class GsonExample {\r\n        public static void main(String[] args) {\r\n    \r\n        Gson gson = new Gson();\r\n    \r\n        try {\r\n    \r\n            BufferedReader br = new BufferedReader(\r\n                new FileReader(&quot;c:\\\\file.json&quot;));\r\n    \r\n            //convert the json string back to object\r\n            DataObject obj = gson.fromJson(br, DataObject.class);\r\n    \r\n            System.out.println(obj);\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        }\r\n    }\r\n\r\n`","title":"How to parse JSON in Java","body":"<p><strong>Gson</strong> is easy to learn and implement, what we need to know are following two methods</p>\n\n<ul>\n<li><p><strong><em>toJson()</em></strong> – Convert Java object to JSON format</p></li>\n<li><p><strong><em>fromJson()</em></strong> – Convert JSON into Java object</p></li>\n</ul>\n\n<p>`</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport com.google.gson.Gson;\n\npublic class GsonExample {\n    public static void main(String[] args) {\n\n    Gson gson = new Gson();\n\n    try {\n\n        BufferedReader br = new BufferedReader(\n            new FileReader(\"c:\\\\file.json\"));\n\n        //convert the json string back to object\n        DataObject obj = gson.fromJson(br, DataObject.class);\n\n        System.out.println(obj);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    }\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":2626176,"reputation":612,"user_id":2273117,"accept_rate":54,"display_name":"sumit kumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1598439278,"creation_date":1458653992,"answer_id":36155967,"question_id":2591098,"body_markdown":"Read the following blog post, [JSON in Java][1].\r\n\r\nThis post is a little bit old, but still I want to answer you question.\r\n\r\nStep 1: Create a POJO class of your data.\r\n\r\nStep 2: Now create a object using JSON.\r\n```java\r\nEmployee employee = null;\r\nObjectMapper mapper = new ObjectMapper();\r\ntry {\r\n    employee =  mapper.readValue(newFile(&quot;/home/sumit/employee.json&quot;), Employee.class);\r\n} \r\ncatch(JsonGenerationException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nFor further reference you can refer to the following [link][1].\r\n\r\n  [1]: http://javahai.blogspot.in/2016/03/create-java-object-from-json-string.html\r\n","title":"How to parse JSON in Java","body":"<p>Read the following blog post, <a href=\"http://javahai.blogspot.in/2016/03/create-java-object-from-json-string.html\" rel=\"nofollow noreferrer\">JSON in Java</a>.</p>\n<p>This post is a little bit old, but still I want to answer you question.</p>\n<p>Step 1: Create a POJO class of your data.</p>\n<p>Step 2: Now create a object using JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = null;\nObjectMapper mapper = new ObjectMapper();\ntry {\n    employee =  mapper.readValue(newFile(&quot;/home/sumit/employee.json&quot;), Employee.class);\n} \ncatch(JsonGenerationException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>For further reference you can refer to the following <a href=\"http://javahai.blogspot.in/2016/03/create-java-object-from-json-string.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":288786,"reputation":1246,"user_id":589407,"display_name":"justin.hughey"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1462226316,"creation_date":1462226316,"answer_id":36992320,"question_id":2591098,"body_markdown":"The below example shows how to read the text in the question, represented as the &quot;jsonText&quot; variable.  This solution uses the Java EE7 [javax.json][1] API (which is mentioned in some of the other answers).  The reason I&#39;ve added it as a separate answer is that the following code shows how to _actually_ access some of the values shown in the question.  An [implementation of the javax.json API][2] would be required to make this code run.  The full package for each of the classes required was included as I didn&#39;t want to declare &quot;import&quot; statements.\r\n\r\n    javax.json.JsonReader jr = \r\n        javax.json.Json.createReader(new StringReader(jsonText));\r\n    javax.json.JsonObject jo = jr.readObject();\r\n\r\n    //Read the page info.\r\n    javax.json.JsonObject pageInfo = jo.getJsonObject(&quot;pageInfo&quot;);\r\n    System.out.println(pageInfo.getString(&quot;pageName&quot;));\r\n\r\n    //Read the posts.\r\n    javax.json.JsonArray posts = jo.getJsonArray(&quot;posts&quot;);\r\n    //Read the first post.\r\n    javax.json.JsonObject post = posts.getJsonObject(0);\r\n    //Read the post_id field.\r\n    String postId = post.getString(&quot;post_id&quot;);\r\n\r\nNow, before anyone goes and downvotes this answer because it doesn&#39;t use GSON, org.json, Jackson, or any of the other 3rd party frameworks available, it&#39;s an example of &quot;required code&quot; per the question to parse the provided text.  I am well aware that [adherence to the current standard JSR 353 was not being considered for JDK 9][3] and as such the [JSR 353 spec][4] should be treated the same as any other 3rd party JSON handling implementation.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html\r\n  [2]: https://jsonp.java.net/download.html\r\n  [3]: http://openjdk.java.net/jeps/198\r\n  [4]: https://jcp.org/en/jsr/detail?id=353","title":"How to parse JSON in Java","body":"<p>The below example shows how to read the text in the question, represented as the \"jsonText\" variable.  This solution uses the Java EE7 <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html\" rel=\"noreferrer\">javax.json</a> API (which is mentioned in some of the other answers).  The reason I've added it as a separate answer is that the following code shows how to <em>actually</em> access some of the values shown in the question.  An <a href=\"https://jsonp.java.net/download.html\" rel=\"noreferrer\">implementation of the javax.json API</a> would be required to make this code run.  The full package for each of the classes required was included as I didn't want to declare \"import\" statements.</p>\n\n<pre><code>javax.json.JsonReader jr = \n    javax.json.Json.createReader(new StringReader(jsonText));\njavax.json.JsonObject jo = jr.readObject();\n\n//Read the page info.\njavax.json.JsonObject pageInfo = jo.getJsonObject(\"pageInfo\");\nSystem.out.println(pageInfo.getString(\"pageName\"));\n\n//Read the posts.\njavax.json.JsonArray posts = jo.getJsonArray(\"posts\");\n//Read the first post.\njavax.json.JsonObject post = posts.getJsonObject(0);\n//Read the post_id field.\nString postId = post.getString(\"post_id\");\n</code></pre>\n\n<p>Now, before anyone goes and downvotes this answer because it doesn't use GSON, org.json, Jackson, or any of the other 3rd party frameworks available, it's an example of \"required code\" per the question to parse the provided text.  I am well aware that <a href=\"http://openjdk.java.net/jeps/198\" rel=\"noreferrer\">adherence to the current standard JSR 353 was not being considered for JDK 9</a> and as such the <a href=\"https://jcp.org/en/jsr/detail?id=353\" rel=\"noreferrer\">JSR 353 spec</a> should be treated the same as any other 3rd party JSON handling implementation.</p>\n"},{"tags":[],"owner":{"account_id":3706082,"reputation":3972,"user_id":3084577,"accept_rate":97,"display_name":"lubilis"},"comment_count":0,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1620178789,"creation_date":1464794413,"answer_id":37572764,"question_id":2591098,"body_markdown":"You could use [Google Gson][1].\r\n\r\nUsing this library you only need to create a model with the same JSON structure. Then the model is automatically filled in. You have to call your variables as your JSON keys, or use [`@SerializedName`][2] if you want to use different names.\r\n\r\n# JSON #\r\n\r\nFrom your example:\r\n\r\n```json\r\n{\r\n\t&quot;pageInfo&quot;: {\r\n\t\t&quot;pageName&quot;: &quot;abc&quot;,\r\n\t\t&quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n\t}\r\n\t&quot;posts&quot;: [\r\n\t\t{\r\n\t\t\t&quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n\t\t\t&quot;actor_id&quot;: &quot;1234567890&quot;,\r\n\t\t\t&quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n\t\t\t&quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n\t\t\t&quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n\t\t\t&quot;likesCount&quot;: &quot;2&quot;,\r\n\t\t\t&quot;comments&quot;: [],\r\n\t\t\t&quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\n# Model #\r\n\r\n    class MyModel {\r\n\r\n        private PageInfo pageInfo;\r\n        private ArrayList&lt;Post&gt; posts = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    class PageInfo {\r\n\r\n        private String pageName;\r\n        private String pagePic;\r\n    }\r\n\r\n    class Post {\r\n\r\n        private String post_id;\r\n\r\n        @SerializedName(&quot;actor_id&quot;) // &lt;- example SerializedName\r\n        private String actorId;\r\n\r\n        private String picOfPersonWhoPosted;\r\n        private String nameOfPersonWhoPosted;\r\n        private String message;\r\n        private String likesCount;\r\n        private ArrayList&lt;String&gt; comments;\r\n        private String timeOfPost;\r\n    }\r\n\r\n# Parsing #\r\n\r\nNow you can parse using Gson library:\r\n\r\n    MyModel model = gson.fromJson(jsonString, MyModel.class);\r\n\r\n# Gradle import #\r\n\r\nRemember to import the library in the app Gradle file\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39; // or earlier versions\r\n\r\n# Automatic model generation #\r\n\r\nYou can generate model from JSON automatically using online tools like [this][3].\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html\r\n  [3]: http://www.jsonschema2pojo.org/","title":"How to parse JSON in Java","body":"<p>You could use <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Google Gson</a>.</p>\n<p>Using this library you only need to create a model with the same JSON structure. Then the model is automatically filled in. You have to call your variables as your JSON keys, or use <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html\" rel=\"noreferrer\"><code>@SerializedName</code></a> if you want to use different names.</p>\n<h1>JSON</h1>\n<p>From your example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;pageInfo&quot;: {\n        &quot;pageName&quot;: &quot;abc&quot;,\n        &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    }\n    &quot;posts&quot;: [\n        {\n            &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n            &quot;actor_id&quot;: &quot;1234567890&quot;,\n            &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n            &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n            &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n            &quot;likesCount&quot;: &quot;2&quot;,\n            &quot;comments&quot;: [],\n            &quot;timeOfPost&quot;: &quot;1234567890&quot;\n        }\n    ]\n}\n</code></pre>\n<h1>Model</h1>\n<pre><code>class MyModel {\n\n    private PageInfo pageInfo;\n    private ArrayList&lt;Post&gt; posts = new ArrayList&lt;&gt;();\n}\n\nclass PageInfo {\n\n    private String pageName;\n    private String pagePic;\n}\n\nclass Post {\n\n    private String post_id;\n\n    @SerializedName(&quot;actor_id&quot;) // &lt;- example SerializedName\n    private String actorId;\n\n    private String picOfPersonWhoPosted;\n    private String nameOfPersonWhoPosted;\n    private String message;\n    private String likesCount;\n    private ArrayList&lt;String&gt; comments;\n    private String timeOfPost;\n}\n</code></pre>\n<h1>Parsing</h1>\n<p>Now you can parse using Gson library:</p>\n<pre><code>MyModel model = gson.fromJson(jsonString, MyModel.class);\n</code></pre>\n<h1>Gradle import</h1>\n<p>Remember to import the library in the app Gradle file</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.6' // or earlier versions\n</code></pre>\n<h1>Automatic model generation</h1>\n<p>You can generate model from JSON automatically using online tools like <a href=\"http://www.jsonschema2pojo.org/\" rel=\"noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1467176996,"creation_date":1467059535,"answer_id":38062714,"question_id":2591098,"body_markdown":"There are many JSON libraries available in Java.\r\n\r\nThe most notorious ones are: Jackson, GSON, Genson, FastJson and org.json.\r\n\r\nThere are typically three things one should look at for choosing any library:\r\n\r\n 1. Performance\r\n 2. Ease of use (code is simple to write and legible) - that goes with features.\r\n 3. For mobile apps: dependency/jar size\r\n\r\nSpecifically for JSON libraries (and any serialization/deserialization libs), databinding is also usually of interest as it removes the need of writing boiler-plate code to pack/unpack the data.\r\n\r\nFor 1, see this benchmark: https://github.com/fabienrenaud/java-json-benchmark I did using [JMH][1] which compares (jackson, gson, genson, fastjson, org.json, jsonp) performance of serializers and deserializers using stream and databind APIs.\r\nFor 2, you can find numerous examples on the Internet. The benchmark above can also be used as a source of examples...\r\n\r\nQuick takeaway of the benchmark: **Jackson** performs 5 to 6 times better than org.json and more than twice better than GSON.\r\n\r\nFor your particular example, the following code decodes your json with jackson:\r\n\r\n    public class MyObj {\r\n        \r\n        private PageInfo pageInfo;\r\n        private List&lt;Post&gt; posts;\r\n\r\n        static final class PageInfo {\r\n            private String pageName;\r\n            private String pagePic;\r\n        }\r\n\r\n        static final class Post {\r\n            private String post_id;\r\n            @JsonProperty(&quot;actor_id&quot;);\r\n            private String actorId;\r\n            @JsonProperty(&quot;picOfPersonWhoPosted&quot;)\r\n            private String pictureOfPoster;\r\n            @JsonProperty(&quot;nameOfPersonWhoPosted&quot;)\r\n            private String nameOfPoster;\r\n            private String likesCount;\r\n            private List&lt;String&gt; comments;\r\n            private String timeOfPost;\r\n        }\r\n\r\n        private static final ObjectMapper JACKSON = new ObjectMapper();\r\n        public static void main(String[] args) throws IOException {\r\n            MyObj o = JACKSON.readValue(args[0], MyObj.class); // assumes args[0] contains your json payload provided in your question.\r\n        }\r\n    }\r\n\r\nLet me know if you have any questions.\r\n\r\n  [1]: http://openjdk.java.net/projects/code-tools/jmh/","title":"How to parse JSON in Java","body":"<p>There are many JSON libraries available in Java.</p>\n\n<p>The most notorious ones are: Jackson, GSON, Genson, FastJson and org.json.</p>\n\n<p>There are typically three things one should look at for choosing any library:</p>\n\n<ol>\n<li>Performance</li>\n<li>Ease of use (code is simple to write and legible) - that goes with features.</li>\n<li>For mobile apps: dependency/jar size</li>\n</ol>\n\n<p>Specifically for JSON libraries (and any serialization/deserialization libs), databinding is also usually of interest as it removes the need of writing boiler-plate code to pack/unpack the data.</p>\n\n<p>For 1, see this benchmark: <a href=\"https://github.com/fabienrenaud/java-json-benchmark\" rel=\"noreferrer\">https://github.com/fabienrenaud/java-json-benchmark</a> I did using <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> which compares (jackson, gson, genson, fastjson, org.json, jsonp) performance of serializers and deserializers using stream and databind APIs.\nFor 2, you can find numerous examples on the Internet. The benchmark above can also be used as a source of examples...</p>\n\n<p>Quick takeaway of the benchmark: <strong>Jackson</strong> performs 5 to 6 times better than org.json and more than twice better than GSON.</p>\n\n<p>For your particular example, the following code decodes your json with jackson:</p>\n\n<pre><code>public class MyObj {\n\n    private PageInfo pageInfo;\n    private List&lt;Post&gt; posts;\n\n    static final class PageInfo {\n        private String pageName;\n        private String pagePic;\n    }\n\n    static final class Post {\n        private String post_id;\n        @JsonProperty(\"actor_id\");\n        private String actorId;\n        @JsonProperty(\"picOfPersonWhoPosted\")\n        private String pictureOfPoster;\n        @JsonProperty(\"nameOfPersonWhoPosted\")\n        private String nameOfPoster;\n        private String likesCount;\n        private List&lt;String&gt; comments;\n        private String timeOfPost;\n    }\n\n    private static final ObjectMapper JACKSON = new ObjectMapper();\n    public static void main(String[] args) throws IOException {\n        MyObj o = JACKSON.readValue(args[0], MyObj.class); // assumes args[0] contains your json payload provided in your question.\n    }\n}\n</code></pre>\n\n<p>Let me know if you have any questions.</p>\n"},{"comments":[{"owner":{"account_id":472920,"reputation":1141,"user_id":881703,"accept_rate":54,"display_name":"user881703"},"score":0,"creation_date":1641892476,"post_id":38337023,"comment_id":124919822,"body_markdown":"any support JDK version?","body":"any support JDK version?"}],"tags":[],"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1620247693,"creation_date":1468350366,"answer_id":38337023,"question_id":2591098,"body_markdown":"&lt;h3&gt;A - Explanation&lt;/h3&gt;\r\n\r\nYou can use **Jackson** libraries, for binding JSON String into **POJO** (***Plain Old Java Object***) instances. POJO is simply a class with only private fields and public getter/setter methods. Jackson is going to traverse the methods (using **reflection**), and maps the JSON object into the POJO instance as the field names of the class fits to the field names of the JSON object.\r\n\r\nIn your JSON object, which is actually a **composite** object, the main object consists o two sub-objects. So, our POJO classes should have the same hierarchy. I&#39;ll call the whole JSON Object as **Page** object. **Page** object consist of a **PageInfo** object, and a **Post** object array.\r\n\r\nSo we have to create three different POJO classes;\r\n\r\n - **Page** Class, a composite of **PageInfo** Class and array of **Post** Instances\r\n - **PageInfo** Class\r\n - **Posts** Class\r\n\r\nThe only package I&#39;ve used is Jackson ObjectMapper, what we do is binding data;\r\n\r\n    com.fasterxml.jackson.databind.ObjectMapper\r\n\r\nThe required dependencies, the jar files is listed below;\r\n\r\n - **jackson-core-2.5.1.jar**\r\n - **jackson-databind-2.5.1.jar**\r\n - **jackson-annotations-2.5.0.jar**\r\n\r\nHere is the required code;\r\n\r\n&lt;h3&gt;B - Main POJO Class : Page&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex.model;\r\n    \r\n    public class Page {\r\n    \t\r\n    \tprivate PageInfo pageInfo;\r\n    \tprivate Post[] posts;\r\n    \r\n    \tpublic PageInfo getPageInfo() {\r\n    \t\treturn pageInfo;\r\n    \t}\r\n    \r\n    \tpublic void setPageInfo(PageInfo pageInfo) {\r\n    \t\tthis.pageInfo = pageInfo;\r\n    \t}\r\n    \r\n    \tpublic Post[] getPosts() {\r\n    \t\treturn posts;\r\n    \t}\r\n    \r\n    \tpublic void setPosts(Post[] posts) {\r\n    \t\tthis.posts = posts;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;C - Child POJO Class : PageInfo&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex.model;\r\n    \r\n    public class PageInfo {\r\n    \t\r\n    \tprivate String pageName;\r\n    \tprivate String pagePic;\r\n    \t\r\n    \tpublic String getPageName() {\r\n    \t\treturn pageName;\r\n    \t}\r\n    \t\r\n    \tpublic void setPageName(String pageName) {\r\n    \t\tthis.pageName = pageName;\r\n    \t}\r\n    \t\r\n    \tpublic String getPagePic() {\r\n    \t\treturn pagePic;\r\n    \t}\r\n    \t\r\n    \tpublic void setPagePic(String pagePic) {\r\n    \t\tthis.pagePic = pagePic;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;D - Child POJO Class : Post&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex.model;\r\n    \r\n    public class Post {\r\n    \t\r\n    \tprivate String post_id;\r\n    \tprivate String actor_id;\r\n    \tprivate String picOfPersonWhoPosted;\r\n    \tprivate String nameOfPersonWhoPosted;\r\n    \tprivate String message;\r\n    \tprivate int likesCount;\r\n    \tprivate String[] comments;\r\n    \tprivate int timeOfPost;\r\n    \r\n    \tpublic String getPost_id() {\r\n    \t\treturn post_id;\r\n    \t}\r\n    \r\n    \tpublic void setPost_id(String post_id) {\r\n    \t\tthis.post_id = post_id;\r\n    \t}\r\n    \r\n    \tpublic String getActor_id() {\r\n    \t\treturn actor_id;\r\n    \t}\r\n    \r\n    \tpublic void setActor_id(String actor_id) {\r\n    \t\tthis.actor_id = actor_id;\r\n    \t}\r\n    \r\n    \tpublic String getPicOfPersonWhoPosted() {\r\n    \t\treturn picOfPersonWhoPosted;\r\n    \t}\r\n    \t\r\n    \tpublic void setPicOfPersonWhoPosted(String picOfPersonWhoPosted) {\r\n    \t\tthis.picOfPersonWhoPosted = picOfPersonWhoPosted;\r\n    \t}\r\n    \r\n    \tpublic String getNameOfPersonWhoPosted() {\r\n    \t\treturn nameOfPersonWhoPosted;\r\n    \t}\r\n    \r\n    \tpublic void setNameOfPersonWhoPosted(String nameOfPersonWhoPosted) {\r\n    \t\tthis.nameOfPersonWhoPosted = nameOfPersonWhoPosted;\r\n    \t}\r\n    \r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \r\n    \tpublic int getLikesCount() {\r\n    \t\treturn likesCount;\r\n    \t}\r\n    \r\n    \tpublic void setLikesCount(int likesCount) {\r\n    \t\tthis.likesCount = likesCount;\r\n    \t}\r\n    \r\n    \tpublic String[] getComments() {\r\n    \t\treturn comments;\r\n    \t}\r\n    \r\n    \tpublic void setComments(String[] comments) {\r\n    \t\tthis.comments = comments;\r\n    \t}\r\n    \r\n    \tpublic int getTimeOfPost() {\r\n    \t\treturn timeOfPost;\r\n    \t}\r\n    \r\n    \tpublic void setTimeOfPost(int timeOfPost) {\r\n    \t\tthis.timeOfPost = timeOfPost;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;E - Sample JSON File : sampleJSONFile.json&lt;/h3&gt;\r\n\r\nI&#39;ve just copied your JSON sample into this file and put it under the project folder.\r\n\r\n```json\r\n{\r\n   &quot;pageInfo&quot;: {\r\n\t\t &quot;pageName&quot;: &quot;abc&quot;,\r\n\t\t &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n\t},\r\n\t&quot;posts&quot;: [\r\n\t\t {\r\n\t\t\t  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n\t\t\t  &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n\t\t\t  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n\t\t\t  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n\t\t\t  &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n\t\t\t  &quot;likesCount&quot;: &quot;2&quot;,\r\n\t\t\t  &quot;comments&quot;: [],\r\n\t\t\t  &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n\t\t }\r\n\t]\r\n}\r\n```\r\n\r\n&lt;h3&gt;F - Demo Code&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.levo.jsonex.model.Page;\r\n    import com.levo.jsonex.model.PageInfo;\r\n    import com.levo.jsonex.model.Post;\r\n    \r\n    public class JSONDemo {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tPage page = objectMapper.readValue(new File(&quot;sampleJSONFile.json&quot;), Page.class);\r\n    \t\t\t\r\n    \t\t\tprintParsedObject(page);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static void printParsedObject(Page page) {\r\n    \t\tprintPageInfo(page.getPageInfo());\r\n    \t\tSystem.out.println();\r\n    \t\tprintPosts(page.getPosts());\r\n    \t}\r\n    \r\n    \tprivate static void printPageInfo(PageInfo pageInfo) {\r\n    \t\tSystem.out.println(&quot;Page Info;&quot;);\r\n    \t\tSystem.out.println(&quot;**********&quot;);\r\n    \t\tSystem.out.println(&quot;\\tPage Name : &quot; + pageInfo.getPageName());\r\n    \t\tSystem.out.println(&quot;\\tPage Pic  : &quot; + pageInfo.getPagePic());\r\n    \t}\r\n    \t\r\n    \tprivate static void printPosts(Post[] posts) {\r\n    \t\tSystem.out.println(&quot;Page Posts;&quot;);\r\n    \t\tSystem.out.println(&quot;**********&quot;);\r\n    \t\tfor(Post post : posts) {\r\n    \t\t\tprintPost(post);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static void printPost(Post post) {\r\n    \t\tSystem.out.println(&quot;\\tPost Id                   : &quot; + post.getPost_id());\r\n    \t\tSystem.out.println(&quot;\\tActor Id                  : &quot; + post.getActor_id());\r\n    \t\tSystem.out.println(&quot;\\tPic Of Person Who Posted  : &quot; + post.getPicOfPersonWhoPosted());\r\n    \t\tSystem.out.println(&quot;\\tName Of Person Who Posted : &quot; + post.getNameOfPersonWhoPosted());\r\n    \t\tSystem.out.println(&quot;\\tMessage                   : &quot; + post.getMessage());\r\n    \t\tSystem.out.println(&quot;\\tLikes Count               : &quot; + post.getLikesCount());\r\n    \t\tSystem.out.println(&quot;\\tComments                  : &quot; + Arrays.toString(post.getComments()));\r\n    \t\tSystem.out.println(&quot;\\tTime Of Post              : &quot; + post.getTimeOfPost());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;G - Demo Output&lt;/h3&gt;\r\n\r\n    Page Info;\r\n    ****(*****\r\n    \tPage Name : abc\r\n    \tPage Pic  : http://example.com/content.jpg\r\n    Page Posts;\r\n    **********\r\n    \tPost Id                   : 123456789012_123456789012\r\n    \tActor Id                  : 1234567890\r\n    \tPic Of Person Who Posted  : http://example.com/photo.jpg\r\n    \tName Of Person Who Posted : Jane Doe\r\n    \tMessage                   : Sounds cool. Can&#39;t wait to see it!\r\n    \tLikes Count               : 2\r\n    \tComments                  : []\r\n    \tTime Of Post              : 1234567890\r\n\r\n","title":"How to parse JSON in Java","body":"<h3>A - Explanation</h3>\n<p>You can use <strong>Jackson</strong> libraries, for binding JSON String into <strong>POJO</strong> (<em><strong>Plain Old Java Object</strong></em>) instances. POJO is simply a class with only private fields and public getter/setter methods. Jackson is going to traverse the methods (using <strong>reflection</strong>), and maps the JSON object into the POJO instance as the field names of the class fits to the field names of the JSON object.</p>\n<p>In your JSON object, which is actually a <strong>composite</strong> object, the main object consists o two sub-objects. So, our POJO classes should have the same hierarchy. I'll call the whole JSON Object as <strong>Page</strong> object. <strong>Page</strong> object consist of a <strong>PageInfo</strong> object, and a <strong>Post</strong> object array.</p>\n<p>So we have to create three different POJO classes;</p>\n<ul>\n<li><strong>Page</strong> Class, a composite of <strong>PageInfo</strong> Class and array of <strong>Post</strong> Instances</li>\n<li><strong>PageInfo</strong> Class</li>\n<li><strong>Posts</strong> Class</li>\n</ul>\n<p>The only package I've used is Jackson ObjectMapper, what we do is binding data;</p>\n<pre><code>com.fasterxml.jackson.databind.ObjectMapper\n</code></pre>\n<p>The required dependencies, the jar files is listed below;</p>\n<ul>\n<li><strong>jackson-core-2.5.1.jar</strong></li>\n<li><strong>jackson-databind-2.5.1.jar</strong></li>\n<li><strong>jackson-annotations-2.5.0.jar</strong></li>\n</ul>\n<p>Here is the required code;</p>\n<h3>B - Main POJO Class : Page</h3>\n<pre><code>package com.levo.jsonex.model;\n\npublic class Page {\n    \n    private PageInfo pageInfo;\n    private Post[] posts;\n\n    public PageInfo getPageInfo() {\n        return pageInfo;\n    }\n\n    public void setPageInfo(PageInfo pageInfo) {\n        this.pageInfo = pageInfo;\n    }\n\n    public Post[] getPosts() {\n        return posts;\n    }\n\n    public void setPosts(Post[] posts) {\n        this.posts = posts;\n    }\n    \n}\n</code></pre>\n<h3>C - Child POJO Class : PageInfo</h3>\n<pre><code>package com.levo.jsonex.model;\n\npublic class PageInfo {\n    \n    private String pageName;\n    private String pagePic;\n    \n    public String getPageName() {\n        return pageName;\n    }\n    \n    public void setPageName(String pageName) {\n        this.pageName = pageName;\n    }\n    \n    public String getPagePic() {\n        return pagePic;\n    }\n    \n    public void setPagePic(String pagePic) {\n        this.pagePic = pagePic;\n    }\n    \n}\n</code></pre>\n<h3>D - Child POJO Class : Post</h3>\n<pre><code>package com.levo.jsonex.model;\n\npublic class Post {\n    \n    private String post_id;\n    private String actor_id;\n    private String picOfPersonWhoPosted;\n    private String nameOfPersonWhoPosted;\n    private String message;\n    private int likesCount;\n    private String[] comments;\n    private int timeOfPost;\n\n    public String getPost_id() {\n        return post_id;\n    }\n\n    public void setPost_id(String post_id) {\n        this.post_id = post_id;\n    }\n\n    public String getActor_id() {\n        return actor_id;\n    }\n\n    public void setActor_id(String actor_id) {\n        this.actor_id = actor_id;\n    }\n\n    public String getPicOfPersonWhoPosted() {\n        return picOfPersonWhoPosted;\n    }\n    \n    public void setPicOfPersonWhoPosted(String picOfPersonWhoPosted) {\n        this.picOfPersonWhoPosted = picOfPersonWhoPosted;\n    }\n\n    public String getNameOfPersonWhoPosted() {\n        return nameOfPersonWhoPosted;\n    }\n\n    public void setNameOfPersonWhoPosted(String nameOfPersonWhoPosted) {\n        this.nameOfPersonWhoPosted = nameOfPersonWhoPosted;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public int getLikesCount() {\n        return likesCount;\n    }\n\n    public void setLikesCount(int likesCount) {\n        this.likesCount = likesCount;\n    }\n\n    public String[] getComments() {\n        return comments;\n    }\n\n    public void setComments(String[] comments) {\n        this.comments = comments;\n    }\n\n    public int getTimeOfPost() {\n        return timeOfPost;\n    }\n\n    public void setTimeOfPost(int timeOfPost) {\n        this.timeOfPost = timeOfPost;\n    }\n    \n}\n</code></pre>\n<h3>E - Sample JSON File : sampleJSONFile.json</h3>\n<p>I've just copied your JSON sample into this file and put it under the project folder.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;pageInfo&quot;: {\n         &quot;pageName&quot;: &quot;abc&quot;,\n         &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    },\n    &quot;posts&quot;: [\n         {\n              &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n              &quot;actor_id&quot;: &quot;1234567890&quot;,\n              &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n              &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n              &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n              &quot;likesCount&quot;: &quot;2&quot;,\n              &quot;comments&quot;: [],\n              &quot;timeOfPost&quot;: &quot;1234567890&quot;\n         }\n    ]\n}\n</code></pre>\n<h3>F - Demo Code</h3>\n<pre><code>package com.levo.jsonex;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.levo.jsonex.model.Page;\nimport com.levo.jsonex.model.PageInfo;\nimport com.levo.jsonex.model.Post;\n\npublic class JSONDemo {\n    \n    public static void main(String[] args) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        try {\n            Page page = objectMapper.readValue(new File(&quot;sampleJSONFile.json&quot;), Page.class);\n            \n            printParsedObject(page);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static void printParsedObject(Page page) {\n        printPageInfo(page.getPageInfo());\n        System.out.println();\n        printPosts(page.getPosts());\n    }\n\n    private static void printPageInfo(PageInfo pageInfo) {\n        System.out.println(&quot;Page Info;&quot;);\n        System.out.println(&quot;**********&quot;);\n        System.out.println(&quot;\\tPage Name : &quot; + pageInfo.getPageName());\n        System.out.println(&quot;\\tPage Pic  : &quot; + pageInfo.getPagePic());\n    }\n    \n    private static void printPosts(Post[] posts) {\n        System.out.println(&quot;Page Posts;&quot;);\n        System.out.println(&quot;**********&quot;);\n        for(Post post : posts) {\n            printPost(post);\n        }\n    }\n    \n    private static void printPost(Post post) {\n        System.out.println(&quot;\\tPost Id                   : &quot; + post.getPost_id());\n        System.out.println(&quot;\\tActor Id                  : &quot; + post.getActor_id());\n        System.out.println(&quot;\\tPic Of Person Who Posted  : &quot; + post.getPicOfPersonWhoPosted());\n        System.out.println(&quot;\\tName Of Person Who Posted : &quot; + post.getNameOfPersonWhoPosted());\n        System.out.println(&quot;\\tMessage                   : &quot; + post.getMessage());\n        System.out.println(&quot;\\tLikes Count               : &quot; + post.getLikesCount());\n        System.out.println(&quot;\\tComments                  : &quot; + Arrays.toString(post.getComments()));\n        System.out.println(&quot;\\tTime Of Post              : &quot; + post.getTimeOfPost());\n    }\n    \n}\n</code></pre>\n<h3>G - Demo Output</h3>\n<pre><code>Page Info;\n****(*****\n    Page Name : abc\n    Page Pic  : http://example.com/content.jpg\nPage Posts;\n**********\n    Post Id                   : 123456789012_123456789012\n    Actor Id                  : 1234567890\n    Pic Of Person Who Posted  : http://example.com/photo.jpg\n    Name Of Person Who Posted : Jane Doe\n    Message                   : Sounds cool. Can't wait to see it!\n    Likes Count               : 2\n    Comments                  : []\n    Time Of Post              : 1234567890\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1620230102,"creation_date":1469285203,"answer_id":38543017,"question_id":2591098,"body_markdown":"Top answers on this page use too simple examples like object with one property (e.g. {name: value}). I think that still simple but real life example can help someone. \r\n\r\nSo this is the JSON returned by Google Translate API: \r\n\r\n```json\r\n{\r\n  &quot;data&quot;: \r\n\t {\r\n\t\t&quot;translations&quot;: \r\n\t\t  [\r\n\t\t\t{\r\n\t\t\t  &quot;translatedText&quot;: &quot;Arbeit&quot;\r\n\t\t\t }\r\n\t\t  ]\r\n\t }\r\n}\r\n```\r\n\r\nI want to retrieve the value of &quot;translatedText&quot; attribute e.g. &quot;Arbeit&quot; using Google&#39;s Gson.\r\n\r\nTwo possible approaches: \r\n\r\n1. Retrieve just one needed attribute\r\n\r\n        String json  = callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\r\n\t\tJsonObject jsonObject = new JsonParser().parse(json).getAsJsonObject();\r\n\t\treturn jsonObject.get(&quot;data&quot;).getAsJsonObject()\r\n                .get(&quot;translations&quot;).getAsJsonArray()\r\n                .get(0).getAsJsonObject()\r\n                .get(&quot;translatedText&quot;).getAsString();\r\n\r\n2. Create Java object from JSON\r\n\r\n        class ApiResponse {\r\n\t    \tData data;\t\t\r\n\t\t    class Data {\r\n\t\t\t    Translation[] translations;\t\t\t\r\n\t\t\t    class Translation {\r\n\t\t\t\t    String translatedText;\r\n\t\t\t    }\r\n\t\t     }\r\n\t     }\r\n     ...\r\n\r\n    \r\n\r\n         Gson g = new Gson();\r\n\t\t String json =callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\r\n\t\t ApiResponse response = g.fromJson(json, ApiResponse.class);\r\n         return response.data.translations[0].translatedText;","title":"How to parse JSON in Java","body":"<p>Top answers on this page use too simple examples like object with one property (e.g. {name: value}). I think that still simple but real life example can help someone.</p>\n<p>So this is the JSON returned by Google Translate API:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: \n     {\n        &quot;translations&quot;: \n          [\n            {\n              &quot;translatedText&quot;: &quot;Arbeit&quot;\n             }\n          ]\n     }\n}\n</code></pre>\n<p>I want to retrieve the value of &quot;translatedText&quot; attribute e.g. &quot;Arbeit&quot; using Google's Gson.</p>\n<p>Two possible approaches:</p>\n<ol>\n<li><p>Retrieve just one needed attribute</p>\n<pre><code> String json  = callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\n JsonObject jsonObject = new JsonParser().parse(json).getAsJsonObject();\n return jsonObject.get(&quot;data&quot;).getAsJsonObject()\n         .get(&quot;translations&quot;).getAsJsonArray()\n         .get(0).getAsJsonObject()\n         .get(&quot;translatedText&quot;).getAsString();\n</code></pre>\n</li>\n<li><p>Create Java object from JSON</p>\n<pre><code> class ApiResponse {\n     Data data;      \n     class Data {\n         Translation[] translations;         \n         class Translation {\n             String translatedText;\n         }\n      }\n  }\n</code></pre>\n<p>...</p>\n<pre><code>  Gson g = new Gson();\n  String json =callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\n  ApiResponse response = g.fromJson(json, ApiResponse.class);\n  return response.data.translations[0].translatedText;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4905259,"reputation":821,"user_id":3952164,"display_name":"Ravi Durairaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620287650,"creation_date":1469524473,"answer_id":38585739,"question_id":2591098,"body_markdown":"You can use **Jayway JsonPath**. Below is a GitHub link with source code, pom details and good documentation.\r\n\r\nhttps://github.com/jayway/JsonPath\r\n\r\nPlease follow the below steps.\r\n\r\n**Step 1**: Add the jayway JSON path dependency in your class path using Maven or download the JAR file and manually add it.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Step 2**: Please save your input JSON as a file for this example. In my case I saved your JSON as sampleJson.txt. Note you missed a comma between pageInfo and posts.\r\n\r\n**Step 3**: Read the JSON contents from the above file using bufferedReader and save it as String.\r\n\r\n```lang-java\r\nBufferedReader br = new BufferedReader(new FileReader(&quot;D:\\\\sampleJson.txt&quot;));\r\n\r\nStringBuilder sb = new StringBuilder();\r\nString line = br.readLine();\r\n\r\nwhile (line != null) {\r\n\tsb.append(line);\r\n\tsb.append(System.lineSeparator());\r\n\tline = br.readLine();\r\n}\r\nbr.close();\r\nString jsonInput = sb.toString();\r\n```\r\n \r\n**Step 4**: Parse your JSON string using jayway JSON parser.\r\n\r\n```lang-java\r\nObject document = Configuration.defaultConfiguration().jsonProvider().parse(jsonInput);\r\n```\r\n\r\n**Step 5**: Read the details like below.\r\n\r\n```lang-java\r\nString pageName = JsonPath.read(document, &quot;$.pageInfo.pageName&quot;);\r\nString pagePic = JsonPath.read(document, &quot;$.pageInfo.pagePic&quot;);\r\nString post_id = JsonPath.read(document, &quot;$.posts[0].post_id&quot;);\r\n\r\nSystem.out.println(&quot;$.pageInfo.pageName &quot; + pageName);\r\nSystem.out.println(&quot;$.pageInfo.pagePic &quot; + pagePic);\r\nSystem.out.println(&quot;$.posts[0].post_id &quot; + post_id);\r\n```\r\n\r\n**The output will be**:\r\n\r\n```\r\n$.pageInfo.pageName = abc\r\n$.pageInfo.pagePic = http://example.com/content.jpg\r\n$.posts[0].post_id  = 123456789012_123456789012\r\n```","title":"How to parse JSON in Java","body":"<p>You can use <strong>Jayway JsonPath</strong>. Below is a GitHub link with source code, pom details and good documentation.</p>\n<p><a href=\"https://github.com/jayway/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/jayway/JsonPath</a></p>\n<p>Please follow the below steps.</p>\n<p><strong>Step 1</strong>: Add the jayway JSON path dependency in your class path using Maven or download the JAR file and manually add it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Step 2</strong>: Please save your input JSON as a file for this example. In my case I saved your JSON as sampleJson.txt. Note you missed a comma between pageInfo and posts.</p>\n<p><strong>Step 3</strong>: Read the JSON contents from the above file using bufferedReader and save it as String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader br = new BufferedReader(new FileReader(&quot;D:\\\\sampleJson.txt&quot;));\n\nStringBuilder sb = new StringBuilder();\nString line = br.readLine();\n\nwhile (line != null) {\n    sb.append(line);\n    sb.append(System.lineSeparator());\n    line = br.readLine();\n}\nbr.close();\nString jsonInput = sb.toString();\n</code></pre>\n<p><strong>Step 4</strong>: Parse your JSON string using jayway JSON parser.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object document = Configuration.defaultConfiguration().jsonProvider().parse(jsonInput);\n</code></pre>\n<p><strong>Step 5</strong>: Read the details like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pageName = JsonPath.read(document, &quot;$.pageInfo.pageName&quot;);\nString pagePic = JsonPath.read(document, &quot;$.pageInfo.pagePic&quot;);\nString post_id = JsonPath.read(document, &quot;$.posts[0].post_id&quot;);\n\nSystem.out.println(&quot;$.pageInfo.pageName &quot; + pageName);\nSystem.out.println(&quot;$.pageInfo.pagePic &quot; + pagePic);\nSystem.out.println(&quot;$.posts[0].post_id &quot; + post_id);\n</code></pre>\n<p><strong>The output will be</strong>:</p>\n<pre><code>$.pageInfo.pageName = abc\n$.pageInfo.pagePic = http://example.com/content.jpg\n$.posts[0].post_id  = 123456789012_123456789012\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1490801090,"post_id":38962135,"comment_id":73276926,"body_markdown":"How does the pojo will look?","body":"How does the pojo will look?"},{"owner":{"account_id":3494520,"reputation":1114,"user_id":2923205,"display_name":"Md Samiul Alim Sakib"},"score":0,"creation_date":1490817678,"post_id":38962135,"comment_id":73287769,"body_markdown":"For Pojo use gson. This library doesn&#39;t support.","body":"For Pojo use gson. This library doesn&#39;t support."}],"tags":[],"owner":{"account_id":3494520,"reputation":1114,"user_id":2923205,"display_name":"Md Samiul Alim Sakib"},"comment_count":2,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1620247744,"creation_date":1471291067,"answer_id":38962135,"question_id":2591098,"body_markdown":"Use [minimal-json][1] which is very fast and easy to use.\r\nYou can parse from String obj and Stream.\r\n\r\nSample data:\r\n\r\n```json\r\n{\r\n  &quot;order&quot;: 4711,\r\n  &quot;items&quot;: [\r\n\t{\r\n\t  &quot;name&quot;: &quot;NE555 Timer IC&quot;,\r\n\t  &quot;cat-id&quot;: &quot;645723&quot;,\r\n\t  &quot;quantity&quot;: 10,\r\n\t},\r\n\t{\r\n\t  &quot;name&quot;: &quot;LM358N OpAmp IC&quot;,\r\n\t  &quot;cat-id&quot;: &quot;764525&quot;,\r\n\t  &quot;quantity&quot;: 2\r\n\t}\r\n  ]\r\n}\r\n```\r\n\r\nParsing:\r\n\r\n```lang-java\r\nJsonObject object = Json.parse(input).asObject();\r\nint orders = object.get(&quot;order&quot;).asInt();\r\nJsonArray items = object.get(&quot;items&quot;).asArray();\r\n```\r\n\r\nCreating JSON:\r\n\r\n```lang-java\r\nJsonObject user = Json.object().add(&quot;name&quot;, &quot;Sakib&quot;).add(&quot;age&quot;, 23);\r\n```\r\nMaven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.eclipsesource.minimal-json&lt;/groupId&gt;\r\n  &lt;artifactId&gt;minimal-json&lt;/artifactId&gt;\r\n  &lt;version&gt;0.9.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n[1]: https://github.com/ralfstx/minimal-json","title":"How to parse JSON in Java","body":"<p>Use <a href=\"https://github.com/ralfstx/minimal-json\" rel=\"noreferrer\">minimal-json</a> which is very fast and easy to use.\nYou can parse from String obj and Stream.</p>\n<p>Sample data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;order&quot;: 4711,\n  &quot;items&quot;: [\n    {\n      &quot;name&quot;: &quot;NE555 Timer IC&quot;,\n      &quot;cat-id&quot;: &quot;645723&quot;,\n      &quot;quantity&quot;: 10,\n    },\n    {\n      &quot;name&quot;: &quot;LM358N OpAmp IC&quot;,\n      &quot;cat-id&quot;: &quot;764525&quot;,\n      &quot;quantity&quot;: 2\n    }\n  ]\n}\n</code></pre>\n<p>Parsing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject object = Json.parse(input).asObject();\nint orders = object.get(&quot;order&quot;).asInt();\nJsonArray items = object.get(&quot;items&quot;).asArray();\n</code></pre>\n<p>Creating JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject user = Json.object().add(&quot;name&quot;, &quot;Sakib&quot;).add(&quot;age&quot;, 23);\n</code></pre>\n<p>Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.eclipsesource.minimal-json&lt;/groupId&gt;\n  &lt;artifactId&gt;minimal-json&lt;/artifactId&gt;\n  &lt;version&gt;0.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3782951,"reputation":3308,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621960719,"creation_date":1474018013,"answer_id":39528000,"question_id":2591098,"body_markdown":"**I have JSON like this:**\r\n\r\n    {\r\n       &quot;pageInfo&quot;: {\r\n             &quot;pageName&quot;: &quot;abc&quot;,\r\n             &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n        }\r\n    }\r\n\r\n**Java class**\r\n\r\n    class PageInfo {\r\n\r\n        private String pageName;\r\n        private String pagePic;\r\n\r\n        // Getters and setters\r\n    }\r\n\r\n**Code for converting this JSON to a Java class.**\r\n\r\n        PageInfo pageInfo = JsonPath.parse(jsonString).read(&quot;$.pageInfo&quot;, PageInfo.class);\r\n\r\n**Maven**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"How to parse JSON in Java","body":"<p><strong>I have JSON like this:</strong></p>\n<pre><code>{\n   &quot;pageInfo&quot;: {\n         &quot;pageName&quot;: &quot;abc&quot;,\n         &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    }\n}\n</code></pre>\n<p><strong>Java class</strong></p>\n<pre><code>class PageInfo {\n\n    private String pageName;\n    private String pagePic;\n\n    // Getters and setters\n}\n</code></pre>\n<p><strong>Code for converting this JSON to a Java class.</strong></p>\n<pre><code>    PageInfo pageInfo = JsonPath.parse(jsonString).read(&quot;$.pageInfo&quot;, PageInfo.class);\n</code></pre>\n<p><strong>Maven</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2148452,"reputation":578,"user_id":1905511,"accept_rate":100,"display_name":"Herbert Yu"},"score":0,"creation_date":1503363527,"post_id":40719777,"comment_id":78572671,"body_markdown":"You are pointing to version 1 of Jackson library. Strongly suggest to use current version of Jackson library.","body":"You are pointing to version 1 of Jackson library. Strongly suggest to use current version of Jackson library."}],"tags":[],"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479729909,"creation_date":1479729909,"answer_id":40719777,"question_id":2591098,"body_markdown":"First you need to select an **implementation library** to do that.\r\n\r\nThe **Java API for JSON Processing (JSR 353)** provides portable APIs to parse, generate, transform, and query JSON using object model and streaming APIs. \r\n\r\nThe **reference implementation** is here: https://jsonp.java.net/ \r\n\r\nHere you can find a **list of implementations** of JSR 353:\r\n\r\n\r\nhttps://stackoverflow.com/questions/27984619/what-are-the-api-that-does-implement-jsr-353-json\r\n\r\nAnd **to help you decide**... I found this article as well:\r\n\r\nhttp://blog.takipi.com/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/\r\n\r\n\r\nIf you go for Jackson, here is a good article about conversion between JSON to/from Java using Jackson: https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\r\n\r\nHope it helps!\r\n","title":"How to parse JSON in Java","body":"<p>First you need to select an <strong>implementation library</strong> to do that.</p>\n\n<p>The <strong>Java API for JSON Processing (JSR 353)</strong> provides portable APIs to parse, generate, transform, and query JSON using object model and streaming APIs. </p>\n\n<p>The <strong>reference implementation</strong> is here: <a href=\"https://jsonp.java.net/\" rel=\"noreferrer\">https://jsonp.java.net/</a> </p>\n\n<p>Here you can find a <strong>list of implementations</strong> of JSR 353:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27984619/what-are-the-api-that-does-implement-jsr-353-json\">What are the API that does implement JSR-353 (JSON)</a></p>\n\n<p>And <strong>to help you decide</strong>... I found this article as well:</p>\n\n<p><a href=\"http://blog.takipi.com/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/\" rel=\"noreferrer\">http://blog.takipi.com/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/</a></p>\n\n<p>If you go for Jackson, here is a good article about conversion between JSON to/from Java using Jackson: <a href=\"https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\" rel=\"noreferrer\">https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/</a></p>\n\n<p>Hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":2,"creation_date":1517770523,"post_id":42106801,"comment_id":84220045,"body_markdown":"What is the unit &quot;`&quot;`&quot;? Not inches? Is it seconds? Minutes?","body":"What is the unit &quot;<code>&quot;</code>&quot;? Not inches? Is it seconds? Minutes?"},{"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"score":2,"creation_date":1517822292,"post_id":42106801,"comment_id":84234761,"body_markdown":"@PeterMortensen it means seconds. Since it seems unclear I&#39;ll change it. Thanks for the review.","body":"@PeterMortensen it means seconds. Since it seems unclear I&#39;ll change it. Thanks for the review."},{"owner":{"account_id":11690,"reputation":10478,"user_id":22676,"accept_rate":67,"display_name":"Per Mildner"},"score":2,"creation_date":1540473291,"post_id":42106801,"comment_id":92885579,"body_markdown":"Unfortunately, Nashorn is deprecated in Java 11. [JEP 335](https://openjdk.java.net/jeps/335).","body":"Unfortunately, Nashorn is deprecated in Java 11. <a href=\"https://openjdk.java.net/jeps/335\" rel=\"nofollow noreferrer\">JEP 335</a>."},{"owner":{"account_id":1355094,"reputation":912,"user_id":1293660,"accept_rate":88,"display_name":"kgibm"},"score":2,"creation_date":1584910701,"post_id":42106801,"comment_id":107579370,"body_markdown":"I know Nashorn is deprecated, but I liked this answer because I didn&#39;t want any dependencies; however, I had to re-work the example a bit: `ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;);\n\t\tengine.eval(&quot;var fun = function(raw) { return JSON.parse(raw); };&quot;);\n\t\tMap&lt;String, Object&gt; json = (Map&lt;String, Object&gt;) ((Invocable) engine).invokeFunction(&quot;fun&quot;, jsonString);`","body":"I know Nashorn is deprecated, but I liked this answer because I didn&#39;t want any dependencies; however, I had to re-work the example a bit: <code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;); \t\tengine.eval(&quot;var fun = function(raw) { return JSON.parse(raw); };&quot;); \t\tMap&lt;String, Object&gt; json = (Map&lt;String, Object&gt;) ((Invocable) engine).invokeFunction(&quot;fun&quot;, jsonString);</code>"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1593787667,"post_id":42106801,"comment_id":110910051,"body_markdown":"@kgibm Awesome! Do you know how to access array elements from the `Object`s returned? The class is `ScriptObjectMirror` but it&#39;s not accessible...","body":"@kgibm Awesome! Do you know how to access array elements from the <code>Object</code>s returned? The class is <code>ScriptObjectMirror</code> but it&#39;s not accessible..."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1593789049,"post_id":42106801,"comment_id":110910744,"body_markdown":"@kgibm Found it: cast to `javax.script.Bindings` that is a `Map&lt;String,Object&gt;`.","body":"@kgibm Found it: cast to <code>javax.script.Bindings</code> that is a <code>Map&lt;String,Object&gt;</code>."}],"tags":[],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"comment_count":6,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1540548925,"creation_date":1486537767,"answer_id":42106801,"question_id":2591098,"body_markdown":"Since nobody mentioned it yet, here is a beginning of a solution using [Nashorn][1] (JavaScript runtime part of Java 8, but deprecated in Java 11).\r\n\r\n**Solution**\r\n\r\n    private static final String EXTRACTOR_SCRIPT =\r\n        &quot;var fun = function(raw) { &quot; +\r\n        &quot;var json = JSON.parse(raw); &quot; +\r\n        &quot;return [json.pageInfo.pageName, json.pageInfo.pagePic, json.posts[0].post_id];};&quot;;\r\n\r\n    public void run() throws ScriptException, NoSuchMethodException {\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n        engine.eval(EXTRACTOR_SCRIPT);\r\n        Invocable invocable = (Invocable) engine;\r\n        JSObject result = (JSObject) invocable.invokeFunction(&quot;fun&quot;, JSON);\r\n        result.values().forEach(e -&gt; System.out.println(e));\r\n    }\r\n\r\n**Performance comparison**\r\n\r\nI wrote JSON content containing three arrays of respectively 20, 20 and 100 elements. I only want to get the 100 elements from the third array. I use the following JavaScript function to parse and get my entries.\r\n\r\n    var fun = function(raw) {JSON.parse(raw).entries};\r\n\r\nRunning the call a million times using **Nashorn** takes 7.5~7.8 seconds\r\n\r\n    (JSObject) invocable.invokeFunction(&quot;fun&quot;, json);\r\n\r\n**org.json** takes 20~21 seconds\r\n\r\n    new JSONObject(JSON).getJSONArray(&quot;entries&quot;);\r\n\r\n**Jackson** takes 6.5~7 seconds\r\n\r\n    mapper.readValue(JSON, Entries.class).getEntries();\r\n\r\nIn this case Jackson performs better than Nashorn, which performs much better than org.json.\r\nNashorn API is harder to use than org.json&#39;s or Jackson&#39;s. Depending on your requirements Jackson and Nashorn both can be viable solutions.\r\n\r\n  [1]: http://openjdk.java.net/projects/nashorn/\r\n","title":"How to parse JSON in Java","body":"<p>Since nobody mentioned it yet, here is a beginning of a solution using <a href=\"http://openjdk.java.net/projects/nashorn/\" rel=\"noreferrer\">Nashorn</a> (JavaScript runtime part of Java 8, but deprecated in Java 11).</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>private static final String EXTRACTOR_SCRIPT =\n    \"var fun = function(raw) { \" +\n    \"var json = JSON.parse(raw); \" +\n    \"return [json.pageInfo.pageName, json.pageInfo.pagePic, json.posts[0].post_id];};\";\n\npublic void run() throws ScriptException, NoSuchMethodException {\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"nashorn\");\n    engine.eval(EXTRACTOR_SCRIPT);\n    Invocable invocable = (Invocable) engine;\n    JSObject result = (JSObject) invocable.invokeFunction(\"fun\", JSON);\n    result.values().forEach(e -&gt; System.out.println(e));\n}\n</code></pre>\n\n<p><strong>Performance comparison</strong></p>\n\n<p>I wrote JSON content containing three arrays of respectively 20, 20 and 100 elements. I only want to get the 100 elements from the third array. I use the following JavaScript function to parse and get my entries.</p>\n\n<pre><code>var fun = function(raw) {JSON.parse(raw).entries};\n</code></pre>\n\n<p>Running the call a million times using <strong>Nashorn</strong> takes 7.5~7.8 seconds</p>\n\n<pre><code>(JSObject) invocable.invokeFunction(\"fun\", json);\n</code></pre>\n\n<p><strong>org.json</strong> takes 20~21 seconds</p>\n\n<pre><code>new JSONObject(JSON).getJSONArray(\"entries\");\n</code></pre>\n\n<p><strong>Jackson</strong> takes 6.5~7 seconds</p>\n\n<pre><code>mapper.readValue(JSON, Entries.class).getEntries();\n</code></pre>\n\n<p>In this case Jackson performs better than Nashorn, which performs much better than org.json.\nNashorn API is harder to use than org.json's or Jackson's. Depending on your requirements Jackson and Nashorn both can be viable solutions.</p>\n"},{"tags":[],"owner":{"account_id":1569791,"reputation":287,"user_id":7562509,"accept_rate":25,"display_name":"slashron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517770605,"creation_date":1487915770,"answer_id":42431778,"question_id":2591098,"body_markdown":"You can use `JsonNode` for a structured tree representation of your JSON string. It&#39;s part of the rock solid [*jackson* library][1] which is omnipresent.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode yourObj = mapper.readTree(&quot;{\\&quot;k\\&quot;:\\&quot;v\\&quot;}&quot;);\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n","title":"How to parse JSON in Java","body":"<p>You can use <code>JsonNode</code> for a structured tree representation of your JSON string. It's part of the rock solid <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\"><em>jackson</em> library</a> which is omnipresent.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode yourObj = mapper.readTree(\"{\\\"k\\\":\\\"v\\\"}\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"score":0,"creation_date":1488544981,"post_id":42578711,"comment_id":72290866,"body_markdown":"It seems like all your answers contain a link to that site. If it&#39;s spam, please stop. If it&#39;s not, sorry for the confusion, but I don&#39;t think that it&#39;s necessary to post a link in all your answers.","body":"It seems like all your answers contain a link to that site. If it&#39;s spam, please stop. If it&#39;s not, sorry for the confusion, but I don&#39;t think that it&#39;s necessary to post a link in all your answers."},{"owner":{"account_id":4159728,"reputation":469,"user_id":3410093,"display_name":"lalitbhagtani"},"score":1,"creation_date":1488545508,"post_id":42578711,"comment_id":72291233,"body_markdown":"Its tough to give an answer, where you can explain all scenarios. Like in this case, how to read json array or multiple json objects. Even If I do so, answer would be very long and person may get confuse. So I give a link where proper explanation is given, with proper example. He can chose to visit or can use only my explanation only.","body":"Its tough to give an answer, where you can explain all scenarios. Like in this case, how to read json array or multiple json objects. Even If I do so, answer would be very long and person may get confuse. So I give a link where proper explanation is given, with proper example. He can chose to visit or can use only my explanation only."},{"owner":{"account_id":7822433,"reputation":323,"user_id":5915165,"accept_rate":94,"display_name":"Lampros Tzanetos"},"score":1,"creation_date":1509108832,"post_id":42578711,"comment_id":80898452,"body_markdown":"It appears to me that the link you have provided only demonstrates how to read JSON. Where can I find info on how to JSON as well?","body":"It appears to me that the link you have provided only demonstrates how to read JSON. Where can I find info on how to JSON as well?"},{"owner":{"account_id":4159728,"reputation":469,"user_id":3410093,"display_name":"lalitbhagtani"},"score":0,"creation_date":1509436617,"post_id":42578711,"comment_id":81007217,"body_markdown":"Sorry, but I didn&#39;t understand your question :- &quot;on how to JSON as well&quot;","body":"Sorry, but I didn&#39;t understand your question :- &quot;on how to JSON as well&quot;"}],"tags":[],"owner":{"account_id":4159728,"reputation":469,"user_id":3410093,"display_name":"lalitbhagtani"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1517770841,"creation_date":1488543477,"answer_id":42578711,"question_id":2591098,"body_markdown":"There are many open source libraries present to parse JSON content to an object or just to read JSON values. Your requirement is just to read values and parsing it to custom object. So org.json library is enough in your case.\r\n\r\nUse org.json library to parse it and create JsonObject:\r\n\r\n    JSONObject jsonObj = new JSONObject(&lt;jsonStr&gt;);\r\n\r\nNow, use this object to get your values:\r\n\r\n    String id = jsonObj.getString(&quot;pageInfo&quot;);\r\n\r\nYou can see a complete example here:\r\n\r\n[How to parse JSON in Java][1]\r\n\r\n  [1]: http://codedestine.com/how-read-write-json-in-java\r\n","title":"How to parse JSON in Java","body":"<p>There are many open source libraries present to parse JSON content to an object or just to read JSON values. Your requirement is just to read values and parsing it to custom object. So org.json library is enough in your case.</p>\n\n<p>Use org.json library to parse it and create JsonObject:</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(&lt;jsonStr&gt;);\n</code></pre>\n\n<p>Now, use this object to get your values:</p>\n\n<pre><code>String id = jsonObj.getString(\"pageInfo\");\n</code></pre>\n\n<p>You can see a complete example here:</p>\n\n<p><a href=\"http://codedestine.com/how-read-write-json-in-java\" rel=\"noreferrer\">How to parse JSON in Java</a></p>\n"},{"comments":[{"owner":{"account_id":1489653,"reputation":1085,"user_id":1397065,"accept_rate":69,"display_name":"Ľubom&#237;r"},"score":2,"creation_date":1494000071,"post_id":43345851,"comment_id":74657678,"body_markdown":"This is android only","body":"This is android only"},{"owner":{"account_id":2047435,"reputation":177,"user_id":1827224,"display_name":"Dermot Canniffe"},"score":0,"creation_date":1504777625,"post_id":43345851,"comment_id":79147835,"body_markdown":"It&#39;s not just android: \nhttp://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html","body":"It&#39;s not just android:  <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/json/JsonObject.html</a>"},{"owner":{"account_id":5001736,"reputation":1,"user_id":4020527,"display_name":"user4020527"},"score":1,"creation_date":1509168593,"post_id":43345851,"comment_id":80920055,"body_markdown":"@DermotCanniffe it is just Android.","body":"@DermotCanniffe it is just Android."}],"tags":[],"owner":{"account_id":5883650,"reputation":570,"user_id":4632306,"accept_rate":60,"display_name":"Srinath Murugula"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517770907,"creation_date":1491913472,"answer_id":43345851,"question_id":2591098,"body_markdown":"We can use the JSONObject class to convert a JSON string to a JSON object,\r\nand to iterate over the JSON object. Use the following code.\r\n\r\n    JSONObject jObj = new JSONObject(contents.trim());\r\n    Iterator&lt;?&gt; keys = jObj.keys();\r\n\r\n    while( keys.hasNext() ) {\r\n      String key = (String)keys.next();\r\n      if ( jObj.get(key) instanceof JSONObject ) {           \r\n        System.out.println(jObj.getString(String key));\r\n      }\r\n    }\r\n","title":"How to parse JSON in Java","body":"<p>We can use the JSONObject class to convert a JSON string to a JSON object,\nand to iterate over the JSON object. Use the following code.</p>\n\n<pre><code>JSONObject jObj = new JSONObject(contents.trim());\nIterator&lt;?&gt; keys = jObj.keys();\n\nwhile( keys.hasNext() ) {\n  String key = (String)keys.next();\n  if ( jObj.get(key) instanceof JSONObject ) {           \n    System.out.println(jObj.getString(String key));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12024630,"reputation":323,"user_id":8796988,"display_name":"LittleBigUllah"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1508433603,"creation_date":1508433603,"answer_id":46835494,"question_id":2591098,"body_markdown":"You can use the Gson Library to parse the JSON string.\r\n\r\n    Gson gson = new Gson();\r\n    JsonObject jsonObject = gson.fromJson(jsonAsString, JsonObject.class);\r\n    \r\n    String pageName = jsonObject.getAsJsonObject(&quot;pageInfo&quot;).get(&quot;pageName&quot;).getAsString();\r\n    String pagePic = jsonObject.getAsJsonObject(&quot;pageInfo&quot;).get(&quot;pagePic&quot;).getAsString();\r\n    String postId = jsonObject.getAsJsonArray(&quot;posts&quot;).get(0).getAsJsonObject().get(&quot;post_id&quot;).getAsString();\r\n\r\nYou can also loop through the &quot;posts&quot; array as so:\r\n\r\n    JsonArray posts = jsonObject.getAsJsonArray(&quot;posts&quot;);\r\n    for (JsonElement post : posts) {\r\n      String postId = post.getAsJsonObject().get(&quot;post_id&quot;).getAsString();\r\n      //do something\r\n    }","title":"How to parse JSON in Java","body":"<p>You can use the Gson Library to parse the JSON string.</p>\n\n<pre><code>Gson gson = new Gson();\nJsonObject jsonObject = gson.fromJson(jsonAsString, JsonObject.class);\n\nString pageName = jsonObject.getAsJsonObject(\"pageInfo\").get(\"pageName\").getAsString();\nString pagePic = jsonObject.getAsJsonObject(\"pageInfo\").get(\"pagePic\").getAsString();\nString postId = jsonObject.getAsJsonArray(\"posts\").get(0).getAsJsonObject().get(\"post_id\").getAsString();\n</code></pre>\n\n<p>You can also loop through the \"posts\" array as so:</p>\n\n<pre><code>JsonArray posts = jsonObject.getAsJsonArray(\"posts\");\nfor (JsonElement post : posts) {\n  String postId = post.getAsJsonObject().get(\"post_id\").getAsString();\n  //do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3544715,"reputation":518,"user_id":2960975,"display_name":"Jaroslav Tulach"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511250235,"creation_date":1511250235,"answer_id":47407749,"question_id":2591098,"body_markdown":"One can use [Apache @Model annotation][1] to create **Java** model classes representing structure of **JSON** files and use them to access various elements in the **JSON** tree. Unlike other solutions this one *works completely without reflection* and is thus suitable for environments where reflection is impossible or comes with significant overhead.\r\n\r\nThere is a [sample Maven project][2] showing the usage. First of all it defines the structure:\r\n\r\n    @Model(className=&quot;RepositoryInfo&quot;, properties = {\r\n        @Property(name = &quot;id&quot;, type = int.class),\r\n        @Property(name = &quot;name&quot;, type = String.class),\r\n        @Property(name = &quot;owner&quot;, type = Owner.class),\r\n        @Property(name = &quot;private&quot;, type = boolean.class),\r\n    })\r\n    final class RepositoryCntrl {\r\n        @Model(className = &quot;Owner&quot;, properties = {\r\n            @Property(name = &quot;login&quot;, type = String.class)\r\n        })\r\n        static final class OwnerCntrl {\r\n        }\r\n    }\r\n\r\nand then it uses the generated RepositoryInfo and Owner classes to parse the provided input stream and pick certain information up while doing that:\r\n\r\n    List&lt;RepositoryInfo&gt; repositories = new ArrayList&lt;&gt;();\r\n    try (InputStream is = initializeStream(args)) {\r\n        Models.parse(CONTEXT, RepositoryInfo.class, is, repositories);\r\n    }\r\n    \r\n    System.err.println(&quot;there is &quot; + repositories.size() + &quot; repositories&quot;);\r\n    repositories.stream().filter((repo) -&gt; repo != null).forEach((repo) -&gt; {\r\n        System.err.println(&quot;repository &quot; + repo.getName() + \r\n            &quot; is owned by &quot; + repo.getOwner().getLogin()\r\n        );\r\n    })\r\n\r\nThat is it! In addition to that here is a [live gist][3] showing similar example together with asynchronous network communication.\r\n\r\n  [1]: https://github.com/apache/incubator-netbeans-html4j\r\n  [2]: https://github.com/JaroslavTulach/incubator-netbeans-html4j/blob/examples/examples/jsonparse/README.md\r\n  [3]: http://dew.apidesign.org/dew/#7138581","title":"How to parse JSON in Java","body":"<p>One can use <a href=\"https://github.com/apache/incubator-netbeans-html4j\" rel=\"nofollow noreferrer\">Apache @Model annotation</a> to create <strong>Java</strong> model classes representing structure of <strong>JSON</strong> files and use them to access various elements in the <strong>JSON</strong> tree. Unlike other solutions this one <em>works completely without reflection</em> and is thus suitable for environments where reflection is impossible or comes with significant overhead.</p>\n\n<p>There is a <a href=\"https://github.com/JaroslavTulach/incubator-netbeans-html4j/blob/examples/examples/jsonparse/README.md\" rel=\"nofollow noreferrer\">sample Maven project</a> showing the usage. First of all it defines the structure:</p>\n\n<pre><code>@Model(className=\"RepositoryInfo\", properties = {\n    @Property(name = \"id\", type = int.class),\n    @Property(name = \"name\", type = String.class),\n    @Property(name = \"owner\", type = Owner.class),\n    @Property(name = \"private\", type = boolean.class),\n})\nfinal class RepositoryCntrl {\n    @Model(className = \"Owner\", properties = {\n        @Property(name = \"login\", type = String.class)\n    })\n    static final class OwnerCntrl {\n    }\n}\n</code></pre>\n\n<p>and then it uses the generated RepositoryInfo and Owner classes to parse the provided input stream and pick certain information up while doing that:</p>\n\n<pre><code>List&lt;RepositoryInfo&gt; repositories = new ArrayList&lt;&gt;();\ntry (InputStream is = initializeStream(args)) {\n    Models.parse(CONTEXT, RepositoryInfo.class, is, repositories);\n}\n\nSystem.err.println(\"there is \" + repositories.size() + \" repositories\");\nrepositories.stream().filter((repo) -&gt; repo != null).forEach((repo) -&gt; {\n    System.err.println(\"repository \" + repo.getName() + \n        \" is owned by \" + repo.getOwner().getLogin()\n    );\n})\n</code></pre>\n\n<p>That is it! In addition to that here is a <a href=\"http://dew.apidesign.org/dew/#7138581\" rel=\"nofollow noreferrer\">live gist</a> showing similar example together with asynchronous network communication.</p>\n"},{"comments":[{"owner":{"account_id":6973640,"reputation":237,"user_id":5349064,"accept_rate":44,"display_name":"bademba"},"score":1,"creation_date":1529143446,"post_id":50388077,"comment_id":88775247,"body_markdown":"How can you parse the json objects without reading from a file?","body":"How can you parse the json objects without reading from a file?"},{"owner":{"account_id":11892553,"reputation":418,"user_id":8702924,"display_name":"Akash Roy"},"score":1,"creation_date":1529384761,"post_id":50388077,"comment_id":88841370,"body_markdown":"@bademba  : \nIf you  have a raw json to parse, then you can you can define a corresponding Pojo  for the json.","body":"@bademba  :  If you  have a raw json to parse, then you can you can define a corresponding Pojo  for the json."},{"owner":{"account_id":6973640,"reputation":237,"user_id":5349064,"accept_rate":44,"display_name":"bademba"},"score":1,"creation_date":1529385149,"post_id":50388077,"comment_id":88841472,"body_markdown":"Hi @Akash , I have corresponding getters and setters classes but I get null values. Would you mind sharing a piece of code for that?","body":"Hi @Akash , I have corresponding getters and setters classes but I get null values. Would you mind sharing a piece of code for that?"},{"owner":{"account_id":11892553,"reputation":418,"user_id":8702924,"display_name":"Akash Roy"},"score":1,"creation_date":1529388358,"post_id":50388077,"comment_id":88842492,"body_markdown":"sure! @bademba\n\n         String mobileJson =  &quot;{ \\&quot;brand\\&quot; : \\&quot;Apple\\&quot;, \\&quot;Price\\&quot; : 1000 }&quot;;\n\t//use the Reader Object\n\tReader reader = new StringReader(mobileJson);\n\tObjectMapper  mapper =  new ObjectMapper();\n\tMobile mobile =mapper.readValue(reader, Mobile.class);","body":"sure! @bademba           String mobileJson =  &quot;{ \\&quot;brand\\&quot; : \\&quot;Apple\\&quot;, \\&quot;Price\\&quot; : 1000 }&quot;; \t//use the Reader Object \tReader reader = new StringReader(mobileJson); \tObjectMapper  mapper =  new ObjectMapper(); \tMobile mobile =mapper.readValue(reader, Mobile.class);"}],"tags":[],"owner":{"account_id":11892553,"reputation":418,"user_id":8702924,"display_name":"Akash Roy"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1620319936,"creation_date":1526549654,"answer_id":50388077,"question_id":2591098,"body_markdown":"You need to use JsonNode and ObjectMapper class from the  jackson library to fetch the nodes of your Json tree.Add the below dependency in your pom.xml to get an access to the Jackson classes.\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.9.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nYou shall give a try on the below code, this would work :\r\n\r\n```lang-java\r\nimport com.fasterxml.jackson.core.JsonGenerationException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nclass JsonNodeExtractor{\r\n\r\n\tpublic void convertToJson(){\r\n\r\n\t\tString filepath = &quot;c:\\\\data.json&quot;;\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tJsonNode node =  mapper.readTree(filepath);\r\n\r\n\t\t// create a JsonNode for every root or subroot element in the Json String\r\n\t\tJsonNode pageInfoRoot = node.path(&quot;pageInfo&quot;);\r\n\r\n\t\t// Fetching elements under &#39;pageInfo&#39;\r\n\t\tString pageName =  pageInfoRoot.path(&quot;pageName&quot;).asText();\r\n\t\tString pagePic = pageInfoRoot.path(&quot;pagePic&quot;).asText();\r\n\r\n\t\t// Now fetching elements under posts\r\n\t\tJsonNode  postsNode = node.path(&quot;posts&quot;);\r\n\t\tString post_id = postsNode .path(&quot;post_id&quot;).asText();\r\n\t\tString nameOfPersonWhoPosted = postsNode \r\n\t\t.path(&quot;nameOfPersonWhoPosted&quot;).asText();\r\n\t}\r\n}\r\n```\r\n","title":"How to parse JSON in Java","body":"<p>You need to use JsonNode and ObjectMapper class from the  jackson library to fetch the nodes of your Json tree.Add the below dependency in your pom.xml to get an access to the Jackson classes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You shall give a try on the below code, this would work :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nclass JsonNodeExtractor{\n\n    public void convertToJson(){\n\n        String filepath = &quot;c:\\\\data.json&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode node =  mapper.readTree(filepath);\n\n        // create a JsonNode for every root or subroot element in the Json String\n        JsonNode pageInfoRoot = node.path(&quot;pageInfo&quot;);\n\n        // Fetching elements under 'pageInfo'\n        String pageName =  pageInfoRoot.path(&quot;pageName&quot;).asText();\n        String pagePic = pageInfoRoot.path(&quot;pagePic&quot;).asText();\n\n        // Now fetching elements under posts\n        JsonNode  postsNode = node.path(&quot;posts&quot;);\n        String post_id = postsNode .path(&quot;post_id&quot;).asText();\n        String nameOfPersonWhoPosted = postsNode \n        .path(&quot;nameOfPersonWhoPosted&quot;).asText();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14381595,"reputation":3662,"user_id":10388629,"display_name":"Pika Supports Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539910133,"creation_date":1539910133,"answer_id":52884452,"question_id":2591098,"body_markdown":"`jsoniter` (jsoniterator) is a relatively new and simple json library, designed to be simple and fast. All you need to do to deserialize json data is\r\n\r\n    JsonIterator.deserialize(jsonData, int[].class);\r\nwhere `jsonData` is a string of json data.\r\n\r\nCheck out the [official website][1]\r\n  [1]: http://jsoniter.com/\r\nfor more information.","title":"How to parse JSON in Java","body":"<p><code>jsoniter</code> (jsoniterator) is a relatively new and simple json library, designed to be simple and fast. All you need to do to deserialize json data is</p>\n\n<pre><code>JsonIterator.deserialize(jsonData, int[].class);\n</code></pre>\n\n<p>where <code>jsonData</code> is a string of json data.</p>\n\n<p>Check out the <a href=\"http://jsoniter.com/\" rel=\"nofollow noreferrer\">official website</a>\nfor more information.</p>\n"},{"tags":[],"owner":{"account_id":3274316,"reputation":1168,"user_id":2756833,"display_name":"mfe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553960569,"creation_date":1553960569,"answer_id":55433076,"question_id":2591098,"body_markdown":"You can use [DSM][1] stream parsing library for parsing complex json and XML document. DSM parse data only once and not load all data into memory. \r\n\r\nLet&#39;s say we have **Page** class to deserialize given json data.\r\n\r\nPage class\r\n\r\n    public class Page {\r\n        private String pageName;\r\n        private String pageImage;\r\n        private List&lt;Sting&gt; postIds;\r\n        \r\n        // getter/setter\r\n                \r\n    }\r\n\r\n\r\nCreate a yaml Mapping file.\r\n\r\n    result:\r\n      type: object     # result is array\r\n      path: /posts\r\n      fields:\r\n        pageName:\r\n            path: /pageInfo/pageName\r\n        pageImage:\r\n            path: /pageInfo/pagePic\r\n        postIds:\r\n          path: post_id\r\n          type: array\r\n\r\n\r\nUse DSM to extract fields.\r\n\r\n    DSM dsm=new DSMBuilder(new File(&quot;path-to-yaml-config.yaml&quot;)).create(Page.class);\r\n    Page page= (Page)dsm.toObject(new path-to-json-data.json&quot;);\r\n\r\n**page** variable serialized to json:\r\n\r\n    {\r\n      &quot;pageName&quot; : &quot;abc&quot;,\r\n      &quot;pageImage&quot; : &quot;http://example.com/content.jpg&quot;,\r\n      &quot;postIds&quot; : [ &quot;123456789012_123456789012&quot; ]\r\n    }\r\n\r\n\r\n**DSM is very good for complex json and xml.**\r\n\r\n  [1]: https://mfatihercik.github.io/dsm","title":"How to parse JSON in Java","body":"<p>You can use <a href=\"https://mfatihercik.github.io/dsm\" rel=\"nofollow noreferrer\">DSM</a> stream parsing library for parsing complex json and XML document. DSM parse data only once and not load all data into memory. </p>\n\n<p>Let's say we have <strong>Page</strong> class to deserialize given json data.</p>\n\n<p>Page class</p>\n\n<pre><code>public class Page {\n    private String pageName;\n    private String pageImage;\n    private List&lt;Sting&gt; postIds;\n\n    // getter/setter\n\n}\n</code></pre>\n\n<p>Create a yaml Mapping file.</p>\n\n<pre><code>result:\n  type: object     # result is array\n  path: /posts\n  fields:\n    pageName:\n        path: /pageInfo/pageName\n    pageImage:\n        path: /pageInfo/pagePic\n    postIds:\n      path: post_id\n      type: array\n</code></pre>\n\n<p>Use DSM to extract fields.</p>\n\n<pre><code>DSM dsm=new DSMBuilder(new File(\"path-to-yaml-config.yaml\")).create(Page.class);\nPage page= (Page)dsm.toObject(new path-to-json-data.json\");\n</code></pre>\n\n<p><strong>page</strong> variable serialized to json:</p>\n\n<pre><code>{\n  \"pageName\" : \"abc\",\n  \"pageImage\" : \"http://example.com/content.jpg\",\n  \"postIds\" : [ \"123456789012_123456789012\" ]\n}\n</code></pre>\n\n<p><strong>DSM is very good for complex json and xml.</strong></p>\n"},{"tags":[],"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575467224,"creation_date":1575467224,"answer_id":59177514,"question_id":2591098,"body_markdown":"There are 2 main options...\r\n\r\n 1. Object mapping. When you deserialize JSON data to a number of instances of:\r\n\r\n 1.1. Some predefined classes, like Maps. In this case, you don&#39;t have to design your own POJO classes. Some libraries: org.json.simple [https://www.mkyong.com/java/json-simple-example-read-and-write-json/][1]\r\n\r\n 1.2. Your own POJO classes. You have to design your own POJO classes to present JSON data, but this may be helpful if you are going to use them into your business logic as well. Some libraries: Gson, Jackson (see [http://tutorials.jenkov.com/java-json/index.html][2])\r\n\r\nThe main backwards of the mapping is that it leads to intensive memory allocation (and GC pressure) and CPU utilization.\r\n\r\n  2. Stream oriented parsing. For example, both Gson and Jackson support such lightweight parsing. Also, you can take a look at an example of custom, fast and GC-free parser [https://github.com/anatolygudkov/green-jelly][3]. Prefer this way in case you need to parse a lot of data and in latency sensitivity applications.  \r\n\r\n\r\n  [1]: https://www.mkyong.com/java/json-simple-example-read-and-write-json/\r\n  [2]: http://tutorials.jenkov.com/java-json/index.html\r\n  [3]: https://github.com/anatolygudkov/green-jelly","title":"How to parse JSON in Java","body":"<p>There are 2 main options...</p>\n\n<ol>\n<li><p>Object mapping. When you deserialize JSON data to a number of instances of:</p>\n\n<p>1.1. Some predefined classes, like Maps. In this case, you don't have to design your own POJO classes. Some libraries: org.json.simple <a href=\"https://www.mkyong.com/java/json-simple-example-read-and-write-json/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/java/json-simple-example-read-and-write-json/</a></p>\n\n<p>1.2. Your own POJO classes. You have to design your own POJO classes to present JSON data, but this may be helpful if you are going to use them into your business logic as well. Some libraries: Gson, Jackson (see <a href=\"http://tutorials.jenkov.com/java-json/index.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-json/index.html</a>)</p></li>\n</ol>\n\n<p>The main backwards of the mapping is that it leads to intensive memory allocation (and GC pressure) and CPU utilization.</p>\n\n<ol start=\"2\">\n<li>Stream oriented parsing. For example, both Gson and Jackson support such lightweight parsing. Also, you can take a look at an example of custom, fast and GC-free parser <a href=\"https://github.com/anatolygudkov/green-jelly\" rel=\"nofollow noreferrer\">https://github.com/anatolygudkov/green-jelly</a>. Prefer this way in case you need to parse a lot of data and in latency sensitivity applications.  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588437478,"creation_date":1588437478,"answer_id":61562860,"question_id":2591098,"body_markdown":"Jakarta (Java) Enterprise Edition 8 includes the [JSON-B](http://json-b.net/) (Java API for JSON Binding). So, if you are using a Jakarta EE 8 server, like [Payara](https://www.payara.fish/) 5, JSON-B will be available out of the box.\r\n\r\nA simple example, without custom configuration:\r\n\r\n```\r\npublic static class Dog {\r\n    public String name;\r\n    public int age;\r\n    public boolean bites;\r\n}\r\n\r\n// Create a dog instance\r\nDog dog = new Dog();\r\ndog.name = &quot;Falco&quot;;\r\ndog.age = 4;\r\ndog.bites = false;\r\n\r\n// Create Jsonb and serialize\r\nJsonb jsonb = JsonbBuilder.create();\r\nString result = jsonb.toJson(dog);\r\n\r\n// Deserialize back\r\ndog = jsonb.fromJson(&quot;{\\&quot;name\\&quot;:\\&quot;Falco\\&quot;,\\&quot;age\\&quot;:4,\\&quot;bites\\&quot;:false}&quot;, Dog.class);\r\n```\r\n\r\nYou can [customize the mapping](http://json-b.net/docs/user-guide.html#customized-mapping) by using configuration, annotations, adapters and (de)serializers.\r\n\r\nIf you are not using a Jakarta EE 8 use can always [install JSON-B](http://json-b.net/docs/user-guide.html#installation).\r\n ","title":"How to parse JSON in Java","body":"<p>Jakarta (Java) Enterprise Edition 8 includes the <a href=\"http://json-b.net/\" rel=\"nofollow noreferrer\">JSON-B</a> (Java API for JSON Binding). So, if you are using a Jakarta EE 8 server, like <a href=\"https://www.payara.fish/\" rel=\"nofollow noreferrer\">Payara</a> 5, JSON-B will be available out of the box.</p>\n\n<p>A simple example, without custom configuration:</p>\n\n<pre><code>public static class Dog {\n    public String name;\n    public int age;\n    public boolean bites;\n}\n\n// Create a dog instance\nDog dog = new Dog();\ndog.name = \"Falco\";\ndog.age = 4;\ndog.bites = false;\n\n// Create Jsonb and serialize\nJsonb jsonb = JsonbBuilder.create();\nString result = jsonb.toJson(dog);\n\n// Deserialize back\ndog = jsonb.fromJson(\"{\\\"name\\\":\\\"Falco\\\",\\\"age\\\":4,\\\"bites\\\":false}\", Dog.class);\n</code></pre>\n\n<p>You can <a href=\"http://json-b.net/docs/user-guide.html#customized-mapping\" rel=\"nofollow noreferrer\">customize the mapping</a> by using configuration, annotations, adapters and (de)serializers.</p>\n\n<p>If you are not using a Jakarta EE 8 use can always <a href=\"http://json-b.net/docs/user-guide.html#installation\" rel=\"nofollow noreferrer\">install JSON-B</a>.</p>\n"},{"tags":[],"owner":{"account_id":16311168,"reputation":85,"user_id":11779756,"display_name":"Bhargav Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598439052,"creation_date":1594184892,"answer_id":62787929,"question_id":2591098,"body_markdown":"If you have maven project then add below dependency  or normal project add json-simple jar.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20180813&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWrite below java code for convert JSON string to JSON array.\r\n```\r\nJSONArray ja = new JSONArray(String jsonString);\r\n```","title":"How to parse JSON in Java","body":"<p>If you have maven project then add below dependency  or normal project add json-simple jar.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180813&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Write below java code for convert JSON string to JSON array.</p>\n<pre><code>JSONArray ja = new JSONArray(String jsonString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644251418,"creation_date":1644244140,"answer_id":71020214,"question_id":2591098,"body_markdown":"If your data is simple and you don&#39;t want external dependencies, use some lines of code:\r\n\r\n\t/**\r\n\t * A very simple JSON parser for one level, everything quoted.\r\n\t * @param json the json content.\r\n\t * @return a key =&gt; value map.\r\n\t */\r\n\tpublic static Map&lt;String, String&gt; simpleParseJson(String json) {\r\n\t\tMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();\r\n\t\tString qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\r\n\t\tfor (int i = 1; i + 3 &lt; qs.length; i += 4) {\r\n\t\t\tmap.put(qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;), qs[i + 2].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\nSo this data\r\n\r\n    {&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:&quot;30&quot;, &quot;car&quot;:&quot;a \\&quot;quoted\\&quot; back\\\\slash car&quot;}\r\n\r\nyields a map containing\r\n\r\n    {age=30, car=a &quot;quoted&quot; back\\slash car, name=John}\r\n  \r\n\r\nThis can be upgraded to work with unquoted values too...\r\n\r\n\t/**\r\n\t * A very simple JSON parser for one level, names are quoted.\r\n\t * @param json the json content.\r\n\t * @return a key =&gt; value map.\r\n\t */\r\n\tpublic static Map&lt;String, String&gt; simpleParseJson(String json) {\r\n\t\tMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();\r\n\t\tString qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;,  &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\r\n\t\tfor (int i = 1; i + 1 &lt; qs.length; i += 4) {\r\n\t\t\tif (qs[i + 1].trim().length() &gt; 1) {\r\n\t\t\t\tString x = qs[i + 1].trim();\r\n\t\t\t\tmap.put(qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;), x.substring(1, x.length() - 1).trim().replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t\t\ti -= 2;\r\n\t\t\t} else {\r\n\t\t\t\tmap.put(qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;), qs[i + 2].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\nAnd to solve complex structure, it gets ugly...\r\n... **SORRY!!!** ... but I could not resist to code it^^\r\nThis parses the given JSON in question and way more. It yields nested maps and lists.\r\n\r\n\t/**\r\n\t * A very simple JSON parser, names are quoted.\r\n\t * \r\n\t * @param json the json content.\r\n\t * @return a key =&gt; value map.\r\n\t */\r\n\tpublic static Map&lt;String, Object&gt; simpleParseJson(String json) {\r\n\t\tMap&lt;String, Object&gt; map = new TreeMap&lt;&gt;();\r\n\t\tString qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\r\n\t\tint index[] = { 1 };\r\n\t\trecurse(index, map, qs);\r\n\t\treturn map;\r\n\t}\r\n\r\n\t/**\r\n\t * Eierlegende Wollmilchsau.\r\n\t * \r\n\t * @param index index into array.\r\n\t * @param map   the current map to fill.\r\n\t * @param qs    the data.\r\n\t */\r\n\tprivate static void recurse(int[] index, Map&lt;String, Object&gt; map, String[] qs) {\r\n\t\tint i = index[0];\r\n\t\tfor (;; i += 4) {\r\n\t\t\tString end = qs[i - 1].trim(); // check for termination of an object\r\n\t\t\tif (end.startsWith(&quot;}&quot;)) {\r\n\t\t\t\tqs[i - 1] = end.substring(1).trim();\r\n\t\t\t\ti -= 4;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tString key = qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;);\r\n\t\t\tString x = qs[i + 1].trim();\r\n\t\t\tif (x.endsWith(&quot;{&quot;)) {\r\n\t\t\t\tx = x.substring(0, x.length() - 1).trim();\r\n\t\t\t\tif (x.endsWith(&quot;[&quot;)) {\r\n\t\t\t\t\tList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tindex[0] = i + 2;\r\n\t\t\t\t\tfor (;;) {\r\n\t\t\t\t\t\tMap&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\r\n\t\t\t\t\t\tlist.add(inner);\r\n\t\t\t\t\t\trecurse(index, inner, qs);\r\n\t\t\t\t\t\tmap.put(key, list);\r\n\t\t\t\t\t\ti = index[0];\r\n\r\n\t\t\t\t\t\tString y = qs[i + 3]; // check for termination of array\r\n\t\t\t\t\t\tif (y.startsWith(&quot;]&quot;)) {\r\n\t\t\t\t\t\t\tqs[i + 3] = y.substring(1).trim();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tMap&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\r\n\t\t\t\tindex[0] = i + 2;\r\n\t\t\t\trecurse(index, inner, qs);\r\n\t\t\t\tmap.put(key, inner);\r\n\t\t\t\ti = index[0];\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (x.length() &gt; 1) { // unquoted\r\n\t\t\t\tString value = x.substring(1, x.length() - 1).trim().replace(&#39;\\u0001&#39;, &#39;&quot;&#39;);\r\n\t\t\t\tif (&quot;[]&quot;.equals(value)) // handle empty array\r\n\t\t\t\t\tmap.put(key, new ArrayList&lt;&gt;());\r\n\t\t\t\telse\r\n\t\t\t\t\tmap.put(key, value);\r\n\t\t\t\ti -= 2;\r\n\t\t\t} else {\r\n\t\t\t\tmap.put(key, qs[i + 2].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t\t}\r\n\t\t}\r\n\t\tindex[0] = i;\r\n\t}\r\n\r\nyields - if you print the map:\r\n\r\n    {pageInfo={pageName=abc, pagePic=http://example.com/content.jpg}, posts=[{actor_id=1234567890, comments=[], likesCount=2, message=Sounds cool. Can&#39;t wait to see it!, nameOfPersonWhoPosted=Jane Doe, picOfPersonWhoPosted=http://example.com/photo.jpg, post_id=123456789012_123456789012, timeOfPost=1234567890}]}\r\n\r\n","title":"How to parse JSON in Java","body":"<p>If your data is simple and you don't want external dependencies, use some lines of code:</p>\n<pre><code>/**\n * A very simple JSON parser for one level, everything quoted.\n * @param json the json content.\n * @return a key =&gt; value map.\n */\npublic static Map&lt;String, String&gt; simpleParseJson(String json) {\n    Map&lt;String, String&gt; map = new TreeMap&lt;&gt;();\n    String qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\n    for (int i = 1; i + 3 &lt; qs.length; i += 4) {\n        map.put(qs[i].replace('\\u0001', '&quot;'), qs[i + 2].replace('\\u0001', '&quot;'));\n    }\n    return map;\n}\n</code></pre>\n<p>So this data</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:&quot;30&quot;, &quot;car&quot;:&quot;a \\&quot;quoted\\&quot; back\\\\slash car&quot;}\n</code></pre>\n<p>yields a map containing</p>\n<pre><code>{age=30, car=a &quot;quoted&quot; back\\slash car, name=John}\n</code></pre>\n<p>This can be upgraded to work with unquoted values too...</p>\n<pre><code>/**\n * A very simple JSON parser for one level, names are quoted.\n * @param json the json content.\n * @return a key =&gt; value map.\n */\npublic static Map&lt;String, String&gt; simpleParseJson(String json) {\n    Map&lt;String, String&gt; map = new TreeMap&lt;&gt;();\n    String qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;,  &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\n    for (int i = 1; i + 1 &lt; qs.length; i += 4) {\n        if (qs[i + 1].trim().length() &gt; 1) {\n            String x = qs[i + 1].trim();\n            map.put(qs[i].replace('\\u0001', '&quot;'), x.substring(1, x.length() - 1).trim().replace('\\u0001', '&quot;'));\n            i -= 2;\n        } else {\n            map.put(qs[i].replace('\\u0001', '&quot;'), qs[i + 2].replace('\\u0001', '&quot;'));\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>And to solve complex structure, it gets ugly...\n... <strong>SORRY!!!</strong> ... but I could not resist to code it^^\nThis parses the given JSON in question and way more. It yields nested maps and lists.</p>\n<pre><code>/**\n * A very simple JSON parser, names are quoted.\n * \n * @param json the json content.\n * @return a key =&gt; value map.\n */\npublic static Map&lt;String, Object&gt; simpleParseJson(String json) {\n    Map&lt;String, Object&gt; map = new TreeMap&lt;&gt;();\n    String qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\n    int index[] = { 1 };\n    recurse(index, map, qs);\n    return map;\n}\n\n/**\n * Eierlegende Wollmilchsau.\n * \n * @param index index into array.\n * @param map   the current map to fill.\n * @param qs    the data.\n */\nprivate static void recurse(int[] index, Map&lt;String, Object&gt; map, String[] qs) {\n    int i = index[0];\n    for (;; i += 4) {\n        String end = qs[i - 1].trim(); // check for termination of an object\n        if (end.startsWith(&quot;}&quot;)) {\n            qs[i - 1] = end.substring(1).trim();\n            i -= 4;\n            break;\n        }\n\n        String key = qs[i].replace('\\u0001', '&quot;');\n        String x = qs[i + 1].trim();\n        if (x.endsWith(&quot;{&quot;)) {\n            x = x.substring(0, x.length() - 1).trim();\n            if (x.endsWith(&quot;[&quot;)) {\n                List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n                index[0] = i + 2;\n                for (;;) {\n                    Map&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\n                    list.add(inner);\n                    recurse(index, inner, qs);\n                    map.put(key, list);\n                    i = index[0];\n\n                    String y = qs[i + 3]; // check for termination of array\n                    if (y.startsWith(&quot;]&quot;)) {\n                        qs[i + 3] = y.substring(1).trim();\n                        break;\n                    }\n                }\n                continue;\n            }\n\n            Map&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\n            index[0] = i + 2;\n            recurse(index, inner, qs);\n            map.put(key, inner);\n            i = index[0];\n            continue;\n        }\n        if (x.length() &gt; 1) { // unquoted\n            String value = x.substring(1, x.length() - 1).trim().replace('\\u0001', '&quot;');\n            if (&quot;[]&quot;.equals(value)) // handle empty array\n                map.put(key, new ArrayList&lt;&gt;());\n            else\n                map.put(key, value);\n            i -= 2;\n        } else {\n            map.put(key, qs[i + 2].replace('\\u0001', '&quot;'));\n        }\n    }\n    index[0] = i;\n}\n</code></pre>\n<p>yields - if you print the map:</p>\n<pre><code>{pageInfo={pageName=abc, pagePic=http://example.com/content.jpg}, posts=[{actor_id=1234567890, comments=[], likesCount=2, message=Sounds cool. Can't wait to see it!, nameOfPersonWhoPosted=Jane Doe, picOfPersonWhoPosted=http://example.com/photo.jpg, post_id=123456789012_123456789012, timeOfPost=1234567890}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649519130,"creation_date":1644659367,"answer_id":71090749,"question_id":2591098,"body_markdown":"Any kind of json array\r\nsteps to solve the issue.\r\n\r\n 1. Convert your JSON object to a java object.\r\n 2.  You can use this [link](https://json2csharp.com/json-to-pojo) or any online tool.\r\n 3. Save out as a java class like `Myclass.java`.\r\n 4. `Myclass obj = new Gson().fromJson(JsonStr, Myclass.class);`\r\n 5. Using `obj`, you can get your values.\r\n","title":"How to parse JSON in Java","body":"<p>Any kind of json array\nsteps to solve the issue.</p>\n<ol>\n<li>Convert your JSON object to a java object.</li>\n<li>You can use this <a href=\"https://json2csharp.com/json-to-pojo\" rel=\"nofollow noreferrer\">link</a> or any online tool.</li>\n<li>Save out as a java class like <code>Myclass.java</code>.</li>\n<li><code>Myclass obj = new Gson().fromJson(JsonStr, Myclass.class);</code></li>\n<li>Using <code>obj</code>, you can get your values.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702321471,"creation_date":1702318007,"answer_id":77641524,"question_id":2591098,"body_markdown":"First, convert JSON to Java pojo using &#39;[https://json2csharp.com/code-converters/json-to-pojo][1]&#39;tool or similar online tools.\r\n\r\n**&quot;Remember - The POJOs in java are useful in defining objects to increase their readability and reusability.&quot;**\r\n\r\n**After converting JSON to Java POJO:**\r\n\r\n    public class Root{\r\n        public PageInfo pageInfo;\r\n        public List&lt;Post&gt; posts;\r\n        //Getter Setter Methods\r\n    }\r\n    public class Post{\r\n        public String post_id;\r\n        public String actor_id;\r\n        public String picOfPersonWhoPosted;\r\n        public String nameOfPersonWhoPosted;\r\n        public String message;\r\n        public String likesCount;\r\n        public List&lt;Object&gt; comments;\r\n        public String timeOfPost;\r\n        //Getter Setter Methods\r\n    }\r\n    public class PageInfo{\r\n        public String pageName;\r\n        public String pagePic;\r\n        //Getter Setter Methods\r\n    }\r\n\r\n**Six different Java libraries for JSON serialization and deserialization are listed below:**\r\n1. Jackson - [Jackson dependency][2]\r\n2. Gson - [Gson dependency][3]\r\n3. Moshi - [Moshi dependency][4]\r\n4. Genson - [Genson dependency][5]\r\n5. FastJson - [FastJson dependency][6]\r\n6. JSON-Java - [JSON-Java dependency][7]\r\n\r\n**Program**\r\n\r\n            // Using Jackson\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Root root1 = objectMapper.readValue(jsonText, Root.class);\r\n            System.out.println(root1.posts.get(0).getActor_id());\r\n    \r\n            // Using Gson\r\n            Gson gson = new Gson();\r\n            Root root2 = gson.fromJson(jsonText, Root.class);\r\n            System.out.println(root2.posts.get(0).getActor_id());\r\n    \r\n            // Using Moshi\r\n            Moshi moshi = new Moshi.Builder().build();\r\n            JsonAdapter&lt;Root&gt; jsonAdapter = moshi.adapter(Root.class);\r\n            Root root3 = jsonAdapter.fromJson(jsonText);\r\n            System.out.println(root3.posts.get(0).getActor_id());\r\n    \r\n            // Using Genson\r\n            Root root4 = new Genson().deserialize(jsonText, Root.class);\r\n            System.out.println(root4.posts.get(0).getActor_id());\r\n    \r\n            // Using FastJson\r\n            Root root5 = JSON.parseObject(jsonText, Root.class);\r\n            System.out.println(root5.posts.get(0).getActor_id());\r\n    \r\n            //Using JSON-Java\r\n            JSONObject jsonObject = new JSONObject(jsonText);\r\n            System.out.println(jsonObject.getJSONArray(&quot;posts&quot;).getJSONObject(0).get(&quot;actor_id&quot;));\r\n\r\n       \r\n    \r\n\r\n\r\n  [1]: https://json2csharp.com/code-converters/json-to-pojo\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\r\n  [3]: https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n  [4]: https://mvnrepository.com/artifact/com.squareup.moshi/moshi\r\n  [5]: https://mvnrepository.com/artifact/com.owlike/genson\r\n  [6]: https://mvnrepository.com/artifact/com.alibaba/fastjson\r\n  [7]: https://mvnrepository.com/artifact/org.json/json","title":"How to parse JSON in Java","body":"<p>First, convert JSON to Java pojo using '<a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a>'tool or similar online tools.</p>\n<p><strong>&quot;Remember - The POJOs in java are useful in defining objects to increase their readability and reusability.&quot;</strong></p>\n<p><strong>After converting JSON to Java POJO:</strong></p>\n<pre><code>public class Root{\n    public PageInfo pageInfo;\n    public List&lt;Post&gt; posts;\n    //Getter Setter Methods\n}\npublic class Post{\n    public String post_id;\n    public String actor_id;\n    public String picOfPersonWhoPosted;\n    public String nameOfPersonWhoPosted;\n    public String message;\n    public String likesCount;\n    public List&lt;Object&gt; comments;\n    public String timeOfPost;\n    //Getter Setter Methods\n}\npublic class PageInfo{\n    public String pageName;\n    public String pagePic;\n    //Getter Setter Methods\n}\n</code></pre>\n<p><strong>Six different Java libraries for JSON serialization and deserialization are listed below:</strong></p>\n<ol>\n<li>Jackson - <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\" rel=\"nofollow noreferrer\">Jackson dependency</a></li>\n<li>Gson - <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">Gson dependency</a></li>\n<li>Moshi - <a href=\"https://mvnrepository.com/artifact/com.squareup.moshi/moshi\" rel=\"nofollow noreferrer\">Moshi dependency</a></li>\n<li>Genson - <a href=\"https://mvnrepository.com/artifact/com.owlike/genson\" rel=\"nofollow noreferrer\">Genson dependency</a></li>\n<li>FastJson - <a href=\"https://mvnrepository.com/artifact/com.alibaba/fastjson\" rel=\"nofollow noreferrer\">FastJson dependency</a></li>\n<li>JSON-Java - <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">JSON-Java dependency</a></li>\n</ol>\n<p><strong>Program</strong></p>\n<pre><code>        // Using Jackson\n        ObjectMapper objectMapper = new ObjectMapper();\n        Root root1 = objectMapper.readValue(jsonText, Root.class);\n        System.out.println(root1.posts.get(0).getActor_id());\n\n        // Using Gson\n        Gson gson = new Gson();\n        Root root2 = gson.fromJson(jsonText, Root.class);\n        System.out.println(root2.posts.get(0).getActor_id());\n\n        // Using Moshi\n        Moshi moshi = new Moshi.Builder().build();\n        JsonAdapter&lt;Root&gt; jsonAdapter = moshi.adapter(Root.class);\n        Root root3 = jsonAdapter.fromJson(jsonText);\n        System.out.println(root3.posts.get(0).getActor_id());\n\n        // Using Genson\n        Root root4 = new Genson().deserialize(jsonText, Root.class);\n        System.out.println(root4.posts.get(0).getActor_id());\n\n        // Using FastJson\n        Root root5 = JSON.parseObject(jsonText, Root.class);\n        System.out.println(root5.posts.get(0).getActor_id());\n\n        //Using JSON-Java\n        JSONObject jsonObject = new JSONObject(jsonText);\n        System.out.println(jsonObject.getJSONArray(&quot;posts&quot;).getJSONObject(0).get(&quot;actor_id&quot;));\n\n   \n</code></pre>\n"}],"owner":{"account_id":67441,"reputation":33841,"user_id":2355649,"accept_rate":51,"display_name":"Muhammad Maqsoodur Rehman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2427172,"favorite_count":0,"down_vote_count":38,"up_vote_count":1360,"answer_count":37,"score":1322,"last_activity_date":1702321471,"creation_date":1270630821,"question_id":2591098,"body_markdown":"I have the following JSON text. How can I parse it to get the values of `pageName`, `pagePic`, `post_id`, etc.?\r\n\r\n``` lang-json\r\n{\r\n  &quot;pageInfo&quot;: {\r\n    &quot;pageName&quot;: &quot;abc&quot;,\r\n    &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n  },\r\n  &quot;posts&quot;: [\r\n    {\r\n      &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n      &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n      &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n      &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n      &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n      &quot;likesCount&quot;: &quot;2&quot;,\r\n      &quot;comments&quot;: [],\r\n      &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"How to parse JSON in Java","body":"<p>I have the following JSON text. How can I parse it to get the values of <code>pageName</code>, <code>pagePic</code>, <code>post_id</code>, etc.?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;pageInfo&quot;: {\n    &quot;pageName&quot;: &quot;abc&quot;,\n    &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n  },\n  &quot;posts&quot;: [\n    {\n      &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n      &quot;actor_id&quot;: &quot;1234567890&quot;,\n      &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n      &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n      &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n      &quot;likesCount&quot;: &quot;2&quot;,\n      &quot;comments&quot;: [],\n      &quot;timeOfPost&quot;: &quot;1234567890&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","data-structures","hashmap"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512127376,"post_id":47592260,"comment_id":82141596,"body_markdown":"You are using a `Map&lt;String,Object&gt;` so simply with `put(&quot;Access&quot;, true)`, now, this should be done from the `ResultSet` to get the value `true/false` I believe. You could simply do a `select *, true as Access from docs` depending on the logic of your method.","body":"You are using a <code>Map&lt;String,Object&gt;</code> so simply with <code>put(&quot;Access&quot;, true)</code>, now, this should be done from the <code>ResultSet</code> to get the value <code>true&#47;false</code> I believe. You could simply do a <code>select *, true as Access from docs</code> depending on the logic of your method."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1512127381,"post_id":47592260,"comment_id":82141600,"body_markdown":"This seems like a rather strange request.  Typically you would not be manually adding data to a SQL result set.  Maybe you can explain why you think you need to be doing this.","body":"This seems like a rather strange request.  Typically you would not be manually adding data to a SQL result set.  Maybe you can explain why you think you need to be doing this."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1512127381,"post_id":47592260,"comment_id":82141602,"body_markdown":"I would make that variable lowercase per Java specs e.g. &quot;`document`&quot;.","body":"I would make that variable lowercase per Java specs e.g. &quot;<code>document</code>&quot;."},{"owner":{"account_id":2154090,"reputation":39,"user_id":1909711,"display_name":"user1909711"},"score":0,"creation_date":1512127754,"post_id":47592260,"comment_id":82141843,"body_markdown":"i want to show documents having field access= true in UI using angularjs so i need to add this new key,value pairs at server side","body":"i want to show documents having field access= true in UI using angularjs so i need to add this new key,value pairs at server side"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512127787,"post_id":47592260,"comment_id":82141863,"body_markdown":"@user1909711 but where is that value stored ?","body":"@user1909711 but where is that value stored ?"}],"answers":[{"comments":[{"owner":{"account_id":2154090,"reputation":39,"user_id":1909711,"display_name":"user1909711"},"score":0,"creation_date":1512128031,"post_id":47592326,"comment_id":82141985,"body_markdown":"I iterated already but throwing the exception as java.util.ConcurrentModificationException","body":"I iterated already but throwing the exception as java.util.ConcurrentModificationException"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1512128533,"post_id":47592326,"comment_id":82142240,"body_markdown":"Java 8 version: `documents.forEach(doc -&gt; doc.put(&quot;Access&quot;, true));`","body":"Java 8 version: <code>documents.forEach(doc -&gt; doc.put(&quot;Access&quot;, true));</code>"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1512129159,"post_id":47592326,"comment_id":82142598,"body_markdown":"@user1909711 It seems that the list or maps are being modified by some other thread. Try to use an iterator or a normal `for` loop.","body":"@user1909711 It seems that the list or maps are being modified by some other thread. Try to use an iterator or a normal <code>for</code> loop."}],"tags":[],"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512127355,"creation_date":1512127355,"answer_id":47592326,"question_id":47592260,"body_markdown":"You can just iterate through the list and add a new key value pair to each map:\r\n\r\n\r\n    for(Map&lt;String, Object&gt; map : Documents){\r\n         map.put(&quot;Access&quot;, true);\r\n    }","title":"How to add new key value to existing List Map object in java","body":"<p>You can just iterate through the list and add a new key value pair to each map:</p>\n\n<pre><code>for(Map&lt;String, Object&gt; map : Documents){\n     map.put(\"Access\", true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512127591,"creation_date":1512127591,"answer_id":47592379,"question_id":47592260,"body_markdown":"Another solution, depending on what `jdbcTemplateObject.queryForList(sql);` do is to add the value in your query.\r\n\r\n    select *, 1 as Access from docs\r\n\r\nthis seems to iterate on each column to insert it in the `Map`.\r\n\r\nNOTE: the query is not necessarily DBMS independent ! Boolean is not really a SQL type","title":"How to add new key value to existing List Map object in java","body":"<p>Another solution, depending on what <code>jdbcTemplateObject.queryForList(sql);</code> do is to add the value in your query.</p>\n\n<pre><code>select *, 1 as Access from docs\n</code></pre>\n\n<p>this seems to iterate on each column to insert it in the <code>Map</code>.</p>\n\n<p>NOTE: the query is not necessarily DBMS independent ! Boolean is not really a SQL type</p>\n"},{"tags":[],"owner":{"account_id":1830500,"reputation":430,"user_id":1662041,"accept_rate":67,"display_name":"Rahul Rabhadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512128021,"creation_date":1512128021,"answer_id":47592483,"question_id":47592260,"body_markdown":"Iterate over the List&lt;Map&lt;String, Object&gt;&gt; Documents &amp; get Map Object and put key value pair in that Map object\r\ne,g\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; Documents = jdbcTemplateObject.queryForList(sql);\r\n\t\tfor (Map&lt;String, Object&gt; map : Documents) {\r\n\t\t\tmap.put(key, value);\r\n\t\t}","title":"How to add new key value to existing List Map object in java","body":"<p>Iterate over the List> Documents &amp; get Map Object and put key value pair in that Map object\ne,g</p>\n\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; Documents = jdbcTemplateObject.queryForList(sql);\n    for (Map&lt;String, Object&gt; map : Documents) {\n        map.put(key, value);\n    }\n</code></pre>\n"}],"owner":{"account_id":2154090,"reputation":39,"user_id":1909711,"display_name":"user1909711"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7332,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1702320976,"creation_date":1512127116,"question_id":47592260,"body_markdown":"In below code am getting map of documents i want to add new key &amp; value to documents object.\r\n\r\n    public List&lt;Map&lt;String, Object&gt;&gt; getDocuments() {\r\n        String sql = &quot;Select * from docs&quot;;\r\n        List&lt;Map&lt;String, Object&gt;&gt; Documents = jdbcTemplateObject.queryForList(sql);\r\n        return Documents;\r\n    }\r\nOutput:\r\n\r\n    [{Id=DOC10,Name=Test Document,Date=10-12-17}],\r\n    [{Id=DOC11,Name=Sample Document,Date=15-12-17}]\r\n\r\nHow can I add a new k,v to this `List&lt;Map&gt;` object so that output looks like this?\r\n\r\n    [{Id=DOC10,Name=Test Document,Date=10-12-17,Access=true}],\r\n    [{Id=DOC11,Name=Sample Document,Date=15-12-17,Access=true}]","title":"How to add new key value to existing List Map object in java","body":"<p>In below code am getting map of documents i want to add new key &amp; value to documents object.</p>\n\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getDocuments() {\n    String sql = \"Select * from docs\";\n    List&lt;Map&lt;String, Object&gt;&gt; Documents = jdbcTemplateObject.queryForList(sql);\n    return Documents;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{Id=DOC10,Name=Test Document,Date=10-12-17}],\n[{Id=DOC11,Name=Sample Document,Date=15-12-17}]\n</code></pre>\n\n<p>How can I add a new k,v to this <code>List&lt;Map&gt;</code> object so that output looks like this?</p>\n\n<pre><code>[{Id=DOC10,Name=Test Document,Date=10-12-17,Access=true}],\n[{Id=DOC11,Name=Sample Document,Date=15-12-17,Access=true}]\n</code></pre>\n"},{"tags":["java","xml","dom","sax","stax"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1702321132,"post_id":77641790,"comment_id":136879396,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example). Hard to say without any code AND xml sample to work with.","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. Hard to say without any code AND xml sample to work with."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1702326787,"post_id":77641790,"comment_id":136880352,"body_markdown":"Maybe a XML database like [BaseX](https://basex.org) suits your needs. It can handle big XML files by importing and indexing them. Then you can use XPath/XQueryx expressions to extract data. You can even embed it in your own Java code.","body":"Maybe a XML database like <a href=\"https://basex.org\" rel=\"nofollow noreferrer\">BaseX</a> suits your needs. It can handle big XML files by importing and indexing them. Then you can use XPath/XQueryx expressions to extract data. You can even embed it in your own Java code."}],"owner":{"account_id":21758296,"reputation":1,"user_id":16063273,"display_name":"Jochen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702327639,"answer_count":0,"score":-1,"last_activity_date":1702320907,"creation_date":1702320907,"question_id":77641790,"body_markdown":"My questions might be trivial, but I&#39;m usually on project management side...\r\n\r\nWe got a big  and complex  XML file from a client:\r\n- 110MBytes\r\n- 10+ levels; identical tag names are used on different levels\r\nWe need to extract data from this file based on a list of XPath.\r\n\r\nI wrote a little Java tool that extracts the data using DOM and XPath. As it turns out, this tool runs horribly slow. As it seems, the time it takes to process one record increases the longer the tool runs.\r\n\r\nSince many recommend to use a different parser for larger XML files, I was thinking about switching to StAX (or SAX). However, given the complexity and the large number of XPath, I consider this as a rather big task.\r\n\r\n- Does someone know a reasonable alternative to DOM without sacrificing the XPath query? It would make my life much easier.\r\n- If not... Is there a way to keep track where I am in the XML file when using SAX or StAX?\r\n\r\nThanks in advance for your help!\r\n\r\n\r\nMy prototype reads XML and I can see the current XML tag, but the full path.","title":"Extracting Data from a Big and Complex XML File with Java 8","body":"<p>My questions might be trivial, but I'm usually on project management side...</p>\n<p>We got a big  and complex  XML file from a client:</p>\n<ul>\n<li>110MBytes</li>\n<li>10+ levels; identical tag names are used on different levels\nWe need to extract data from this file based on a list of XPath.</li>\n</ul>\n<p>I wrote a little Java tool that extracts the data using DOM and XPath. As it turns out, this tool runs horribly slow. As it seems, the time it takes to process one record increases the longer the tool runs.</p>\n<p>Since many recommend to use a different parser for larger XML files, I was thinking about switching to StAX (or SAX). However, given the complexity and the large number of XPath, I consider this as a rather big task.</p>\n<ul>\n<li>Does someone know a reasonable alternative to DOM without sacrificing the XPath query? It would make my life much easier.</li>\n<li>If not... Is there a way to keep track where I am in the XML file when using SAX or StAX?</li>\n</ul>\n<p>Thanks in advance for your help!</p>\n<p>My prototype reads XML and I can see the current XML tag, but the full path.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2921854,"reputation":1946,"user_id":2503916,"accept_rate":50,"display_name":"Siva"},"score":6,"creation_date":1374576849,"post_id":17808112,"comment_id":25983534,"body_markdown":"You can use Ctrl+1 it will give hints under this you can choose assign statement to new local Variable","body":"You can use Ctrl+1 it will give hints under this you can choose assign statement to new local Variable"},{"owner":{"account_id":1389145,"reputation":5809,"user_id":1327384,"accept_rate":45,"display_name":"Mohammed Subhi Sheikh Quroush"},"score":0,"creation_date":1374576924,"post_id":17808112,"comment_id":25983598,"body_markdown":"I see add finally block","body":"I see add finally block"},{"owner":{"account_id":2921854,"reputation":1946,"user_id":2503916,"accept_rate":50,"display_name":"Siva"},"score":1,"creation_date":1374577052,"post_id":17808112,"comment_id":25983665,"body_markdown":"try This shortcut it will automatically assign (ctrl+2,l)","body":"try This shortcut it will automatically assign (ctrl+2,l)"},{"owner":{"account_id":1389145,"reputation":5809,"user_id":1327384,"accept_rate":45,"display_name":"Mohammed Subhi Sheikh Quroush"},"score":0,"creation_date":1374577612,"post_id":17808112,"comment_id":25983995,"body_markdown":"this shortcut didn&#39;t do anything!","body":"this shortcut didn&#39;t do anything!"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1374578340,"post_id":17808112,"comment_id":25984453,"body_markdown":"shortcuts like  &quot;ctrl+2, l&quot; are a bit tricky since it depends a bit on timing here. One approach that works pretty good for me: ctrl down, 2 down (ctrl+2 at that point), release ctrl, L down (2+L at this point), release 2 and L. The cursor will also need to be inside `categoryCT.getInsertedItems()` since that&#39;s what you want to assign.","body":"shortcuts like  &quot;ctrl+2, l&quot; are a bit tricky since it depends a bit on timing here. One approach that works pretty good for me: ctrl down, 2 down (ctrl+2 at that point), release ctrl, L down (2+L at this point), release 2 and L. The cursor will also need to be inside <code>categoryCT.getInsertedItems()</code> since that&#39;s what you want to assign."},{"owner":{"account_id":1389145,"reputation":5809,"user_id":1327384,"accept_rate":45,"display_name":"Mohammed Subhi Sheikh Quroush"},"score":0,"creation_date":1374578823,"post_id":17808112,"comment_id":25984784,"body_markdown":"I saw quick assest menu and it also didn&#39;t work","body":"I saw quick assest menu and it also didn&#39;t work"},{"owner":{"account_id":8578289,"reputation":608,"user_id":6426900,"display_name":"Igor"},"score":0,"creation_date":1525163128,"post_id":17808112,"comment_id":87243875,"body_markdown":"Ctrl+1 works even in Netbeans if shortcuts are selected in Eclipse style.","body":"Ctrl+1 works even in Netbeans if shortcuts are selected in Eclipse style."}],"answers":[{"comments":[{"owner":{"account_id":1389145,"reputation":5809,"user_id":1327384,"accept_rate":45,"display_name":"Mohammed Subhi Sheikh Quroush"},"score":0,"creation_date":1374585889,"post_id":17809354,"comment_id":25989335,"body_markdown":"Shift+Alt+Left to select the whole method invocation\nCtrl+1 + select &quot;Create new local variable&quot; these two steps do the job","body":"Shift+Alt+Left to select the whole method invocation Ctrl+1 + select &quot;Create new local variable&quot; these two steps do the job"}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1374580485,"creation_date":1374580096,"answer_id":17809354,"question_id":17808112,"body_markdown":"Eclipse can&#39;t help you with the variable name but you can write:\r\n\r\n    insertedItems = categoryCT.getInsertedItems();\r\n\r\nThis will give you a compile error.\r\n\r\nIf you press &lt;kbd&gt;Ctrl+1&lt;/kbd&gt; anywhere in this line, Eclipse will offer &quot;Create local variable &#39;insertedItems&#39;&quot;\r\n\r\nFewest keystrokes to get the desired result:\r\n\r\n* `catCT`&lt;kbd&gt;Ctrl+Space&lt;/kbd&gt; -&gt; `categoryCT`\r\n* `.getII`&lt;kbd&gt;Ctrl+Space&lt;/kbd&gt; -&gt; `categoryCT.getInsertedItems()` \r\n* `;`\r\n* &lt;kbd&gt;Shift+Alt+Left&lt;/kbd&gt; to select the whole method invocation\r\n* &lt;kbd&gt;Ctrl+1&lt;/kbd&gt; + select &quot;Create new local variable&quot;\r\n","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>Eclipse can't help you with the variable name but you can write:</p>\n\n<pre><code>insertedItems = categoryCT.getInsertedItems();\n</code></pre>\n\n<p>This will give you a compile error.</p>\n\n<p>If you press <kbd>Ctrl+1</kbd> anywhere in this line, Eclipse will offer \"Create local variable 'insertedItems'\"</p>\n\n<p>Fewest keystrokes to get the desired result:</p>\n\n<ul>\n<li><code>catCT</code><kbd>Ctrl+Space</kbd> -> <code>categoryCT</code></li>\n<li><code>.getII</code><kbd>Ctrl+Space</kbd> -> <code>categoryCT.getInsertedItems()</code> </li>\n<li><code>;</code></li>\n<li><kbd>Shift+Alt+Left</kbd> to select the whole method invocation</li>\n<li><kbd>Ctrl+1</kbd> + select \"Create new local variable\"</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2058631,"reputation":13975,"user_id":1835769,"accept_rate":94,"display_name":"displayName"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459556415,"creation_date":1459556415,"answer_id":36367780,"question_id":17808112,"body_markdown":"The shortcut that works on my Mac is &lt;kbd&gt;⌘&lt;/kbd&gt;&lt;kbd&gt;2&lt;/kbd&gt; + &lt;kbd&gt;l&lt;/kbd&gt; (lowercase L key)\r\n\r\nSteps:\r\n\r\n* Write the variable, Ex: `categoryCT.getInsertedItems();`;\r\n* Select the entire variable definition;\r\n* Press &lt;kbd&gt;⌘&lt;/kbd&gt;&lt;kbd&gt;2&lt;/kbd&gt;, leave the press and then press &lt;kbd&gt;l&lt;/kbd&gt;(lowercase L key);\r\n\r\nThis will create the line `List&lt;Category&gt; insertedItems=   categoryCT.getInsertedItems();`.","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>The shortcut that works on my Mac is <kbd>⌘</kbd><kbd>2</kbd> + <kbd>l</kbd> (lowercase L key)</p>\n\n<p>Steps:</p>\n\n<ul>\n<li>Write the variable, Ex: <code>categoryCT.getInsertedItems();</code>;</li>\n<li>Select the entire variable definition;</li>\n<li>Press <kbd>⌘</kbd><kbd>2</kbd>, leave the press and then press <kbd>l</kbd>(lowercase L key);</li>\n</ul>\n\n<p>This will create the line <code>List&lt;Category&gt; insertedItems=   categoryCT.getInsertedItems();</code>.</p>\n"},{"tags":[],"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525233205,"creation_date":1525233205,"answer_id":50126909,"question_id":17808112,"body_markdown":"I&#39;d add for **windows** users:\r\n\r\nPress `ctrl+2` for the available options.\r\n\r\nFor ex. `ctrl+2+L` will assign your statement to a local variable.","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>I'd add for <strong>windows</strong> users:</p>\n\n<p>Press <code>ctrl+2</code> for the available options.</p>\n\n<p>For ex. <code>ctrl+2+L</code> will assign your statement to a local variable.</p>\n"},{"tags":[],"owner":{"account_id":392219,"reputation":1197,"user_id":753352,"accept_rate":40,"display_name":"jeffery.yuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531526676,"creation_date":1531526676,"answer_id":51334121,"question_id":17808112,"body_markdown":"Just uses eclipse&#39;s quick fix: Cmd+1. after type categoryCT.getInsertedItems(), then click Cmd+1 when the cursor is at the end.","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>Just uses eclipse's quick fix: Cmd+1. after type categoryCT.getInsertedItems(), then click Cmd+1 when the cursor is at the end.</p>\n"},{"tags":[],"owner":{"account_id":7783966,"reputation":123,"user_id":5889493,"display_name":"Ashish Agrawal Yodlee"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574405105,"creation_date":1574405105,"answer_id":58988876,"question_id":17808112,"body_markdown":"Ctrl+2, L   will do what you are looking for.","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>Ctrl+2, L   will do what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":4770958,"reputation":380,"user_id":3855723,"display_name":"Rakesh Singh Balhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576057252,"creation_date":1576057252,"answer_id":59282775,"question_id":17808112,"body_markdown":"**Alt + Shift + V:** in **NetBeans**\r\nExtracts an existing expression or statement into a new variable. For example, the statement appears multiple times so it should be introduced to a variable:\r\n\r\n&gt;  textEmail.getText() &lt;br&gt;&lt;br&gt;\r\nString text = textEmail.getText()\r\n\r\n\r\nSelect statement then the Introduce Variable dialog appears.\r\nIntroduce Variable dialog\r\nEnter the variable name and click OK. \r\n\r\n*Note that the scope of the newly introduced variable is local.*","title":"Generate local variable to receive the return value of a method eclipse","body":"<p><strong>Alt + Shift + V:</strong> in <strong>NetBeans</strong>\nExtracts an existing expression or statement into a new variable. For example, the statement appears multiple times so it should be introduced to a variable:</p>\n\n<blockquote>\n  <p>textEmail.getText() <br><br>\n  String text = textEmail.getText()</p>\n</blockquote>\n\n<p>Select statement then the Introduce Variable dialog appears.\nIntroduce Variable dialog\nEnter the variable name and click OK. </p>\n\n<p><em>Note that the scope of the newly introduced variable is local.</em></p>\n"},{"tags":[],"owner":{"account_id":8393238,"reputation":31,"user_id":6301307,"display_name":"Dilettante44"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621519750,"creation_date":1621519750,"answer_id":67622053,"question_id":17808112,"body_markdown":"I don&#39;t think I saw `Alt+Shift+L`, but that works and if your right-hand assignment is the only thing on the line, you don&#39;t even have to highlight it","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>I don't think I saw <code>Alt+Shift+L</code>, but that works and if your right-hand assignment is the only thing on the line, you don't even have to highlight it</p>\n"},{"tags":[],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663481103,"creation_date":1663481103,"answer_id":73760469,"question_id":17808112,"body_markdown":"In IntelliJ IDEA you can use ctrl + alt + l.","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>In IntelliJ IDEA you can use ctrl + alt + l.</p>\n"},{"tags":[],"owner":{"account_id":19473736,"reputation":27,"user_id":14245513,"display_name":"Ishwor Upreti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702320489,"creation_date":1702320489,"answer_id":77641747,"question_id":17808112,"body_markdown":"**for me `option+command+L` worked on mac with apple chip.**\r\n\r\nAlternatively, you can select your statement that you want to extract a local variable and right click then from menu options go to refactors \r\nand you should be able to find the  **`Extract Local Variable`** as option.\r\n \r\nyou can refer the following image.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M5h0g.png","title":"Generate local variable to receive the return value of a method eclipse","body":"<p><strong>for me <code>option+command+L</code> worked on mac with apple chip.</strong></p>\n<p>Alternatively, you can select your statement that you want to extract a local variable and right click then from menu options go to refactors\nand you should be able to find the  <strong><code>Extract Local Variable</code></strong> as option.</p>\n<p>you can refer the following image.\n<a href=\"https://i.stack.imgur.com/M5h0g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M5h0g.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1389145,"reputation":5809,"user_id":1327384,"accept_rate":45,"display_name":"Mohammed Subhi Sheikh Quroush"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25384,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":17809354,"answer_count":9,"score":14,"last_activity_date":1702320489,"creation_date":1374576709,"question_id":17808112,"body_markdown":"for example I have this code \r\n\r\n    categoryCT.getInsertedItems();\r\nand I want shortcut to generate code like this \r\n\r\n    List&lt;Category&gt; insertedItems=   categoryCT.getInsertedItems();","title":"Generate local variable to receive the return value of a method eclipse","body":"<p>for example I have this code </p>\n\n<pre><code>categoryCT.getInsertedItems();\n</code></pre>\n\n<p>and I want shortcut to generate code like this </p>\n\n<pre><code>List&lt;Category&gt; insertedItems=   categoryCT.getInsertedItems();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1702320487,"post_id":77641723,"comment_id":136879307,"body_markdown":"Stop using `java.util.Date`. Move over to the newer `java.time` API","body":"Stop using <code>java.util.Date</code>. Move over to the newer <code>java.time</code> API"},{"owner":{"account_id":2509409,"reputation":1675,"user_id":2187053,"accept_rate":47,"display_name":"HockChai Lim"},"score":0,"creation_date":1702322856,"post_id":77641723,"comment_id":136879642,"body_markdown":"understand.  It&#39;s an existing application.   This application, along with several other applications, run in the TOMEE server. I am upgrading the TOMEE server along with JSE.  I can go search for the code and change them.  But I am afraid I might miss some.  So, want to see if there is a solution that will make those existing code still work in JSE17.","body":"understand.  It&#39;s an existing application.   This application, along with several other applications, run in the TOMEE server. I am upgrading the TOMEE server along with JSE.  I can go search for the code and change them.  But I am afraid I might miss some.  So, want to see if there is a solution that will make those existing code still work in JSE17."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1702323278,"post_id":77641723,"comment_id":136879717,"body_markdown":"Strange, the docs are saying the same for both JDKs. https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#getDateTimeInstance(int,int). Do you have the same Locale in both environments.","body":"Strange, the docs are saying the same for both JDKs. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#getDateTimeInstance(int,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/te&zwnj;&#8203;xt/&hellip;</a>. Do you have the same Locale in both environments."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1702323498,"post_id":77641723,"comment_id":136879752,"body_markdown":"Ahh, probably is this https://stackoverflow.com/questions/70572837/jdk-11-introducing-comma-in-date-format","body":"Ahh, probably is this <a href=\"https://stackoverflow.com/questions/70572837/jdk-11-introducing-comma-in-date-format\" title=\"jdk 11 introducing comma in date format\">stackoverflow.com/questions/70572837/&hellip;</a>"},{"owner":{"account_id":2509409,"reputation":1675,"user_id":2187053,"accept_rate":47,"display_name":"HockChai Lim"},"score":0,"creation_date":1702324106,"post_id":77641723,"comment_id":136879853,"body_markdown":"Thank you PeterMmmm.  adding -Djava.locale.providers=COMPAT did the trick","body":"Thank you PeterMmmm.  adding -Djava.locale.providers=COMPAT did the trick"}],"owner":{"account_id":2509409,"reputation":1675,"user_id":2187053,"accept_rate":47,"display_name":"HockChai Lim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702320232,"creation_date":1702320232,"question_id":77641723,"body_markdown":"SHORT date below parsed ok in JSE 1.8 but failed in JSE 17 \r\n\r\n    &quot;12/11/2023 12:00 am&quot;\r\n\r\nSHORT date below parsed ok in JSE 17 but failed in JSE 1.8 (Notice the comma between date and time)\r\n\r\n    &quot;12/11/2023, 12:00 am&quot;\r\n\r\nIs there a way to get &quot;12/11/2023 12:00 am&quot; to work in JSE 17 without making code change?\r\n\r\nBelow is a code example:\r\n```\r\nDateFormat df = DateFormat.getDateTimeInstance(java.text.DateFormat.SHORT, java.text.DateFormat.SHORT);\r\nDate myDate = df.parse(&quot;12/11/2023 12:00 am&quot;);        \r\nSystem.out.println(df.format(myDate));\r\n```\r\n","title":"DateFormat.parse - parsing SHORT date works in JSE1.8 but failed in JSE 17, and vice versa","body":"<p>SHORT date below parsed ok in JSE 1.8 but failed in JSE 17</p>\n<pre><code>&quot;12/11/2023 12:00 am&quot;\n</code></pre>\n<p>SHORT date below parsed ok in JSE 17 but failed in JSE 1.8 (Notice the comma between date and time)</p>\n<pre><code>&quot;12/11/2023, 12:00 am&quot;\n</code></pre>\n<p>Is there a way to get &quot;12/11/2023 12:00 am&quot; to work in JSE 17 without making code change?</p>\n<p>Below is a code example:</p>\n<pre><code>DateFormat df = DateFormat.getDateTimeInstance(java.text.DateFormat.SHORT, java.text.DateFormat.SHORT);\nDate myDate = df.parse(&quot;12/11/2023 12:00 am&quot;);        \nSystem.out.println(df.format(myDate));\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gateway","spring-cloud-gateway"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1628108523,"post_id":68657540,"comment_id":121336362,"body_markdown":"I had a similar problem a few days ago playing around with Gateway, but without Eureka. I did two things and fixed this, but I don&#39;t actually know which solved the issue: 1) Clear cache from the browser and 2) Change `http://localhost:xxxx` to just `localhost:xxxx`. Give that a try.","body":"I had a similar problem a few days ago playing around with Gateway, but without Eureka. I did two things and fixed this, but I don&#39;t actually know which solved the issue: 1) Clear cache from the browser and 2) Change <code>http:&#47;&#47;localhost:xxxx</code> to just <code>localhost:xxxx</code>. Give that a try."},{"owner":{"account_id":21870094,"reputation":51,"user_id":16159720,"display_name":"Karla Calero"},"score":0,"creation_date":1628113023,"post_id":68657540,"comment_id":121337610,"body_markdown":"I tried it but it didn&#39;t work. Still thank you very much.","body":"I tried it but it didn&#39;t work. Still thank you very much."}],"answers":[{"comments":[{"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"score":0,"creation_date":1672751473,"post_id":71535339,"comment_id":132341476,"body_markdown":"It worked for me but with the service id as a host name instead of predicate path.","body":"It worked for me but with the service id as a host name instead of predicate path."}],"tags":[],"owner":{"account_id":11465333,"reputation":4830,"user_id":8403689,"display_name":"Imranmadbar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647680679,"creation_date":1647663590,"answer_id":71535339,"question_id":68657540,"body_markdown":"Sometimes it&#39;s happened case of the **service name issue** add this property on the **edge-service** :\r\n\r\nFor **application.properties** file:\r\n\r\n\t\tspring.cloud.gateway.discovery.locator.enabled=true\r\n\t\tspring.cloud.gateway.discovery.locator.lower-case-service-id=true\r\n\r\nFor **application.yml** file:\r\n\r\n\t spring:\r\n\t  cloud:\r\n\t\tgateway:\r\n\t\t  discovery:\r\n\t\t\tlocator:\r\n\t\t\t  enabled: true\r\n\t\t\t  lowerCaseServiceId: true\r\n\r\n\r\n\r\n","title":"Spring Cloud Gateway doesn&#39;t find the microservices (Not found 404 error)","body":"<p>Sometimes it's happened case of the <strong>service name issue</strong> add this property on the <strong>edge-service</strong> :</p>\n<p>For <strong>application.properties</strong> file:</p>\n<pre><code>    spring.cloud.gateway.discovery.locator.enabled=true\n    spring.cloud.gateway.discovery.locator.lower-case-service-id=true\n</code></pre>\n<p>For <strong>application.yml</strong> file:</p>\n<pre><code> spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lowerCaseServiceId: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17607784,"reputation":141,"user_id":12776496,"display_name":"Mukendi Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649150331,"creation_date":1649150331,"answer_id":71749153,"question_id":68657540,"body_markdown":"i&#39;ve principaly do 2 things and it works for me.\r\n\r\n - all services name have to be in UPERCASE like \r\n\r\n    uri: lb://UPERCASE-NAME\r\n\r\n - when you specify URI your it will have to end by slash &quot;/&quot;\r\n\r\n    uri: lb://UPERCASE-NAME/\r\n\r\n - specify only one path predicates by route id i don&#39;t know why but it&#39;s work like that\r\n\r\n    - id: ACCOUNTING-SERVICE\r\n          uri: lb://ACCOUNTING/\r\n          predicates:\r\n            - Path=/api/v1/act/**","title":"Spring Cloud Gateway doesn&#39;t find the microservices (Not found 404 error)","body":"<p>i've principaly do 2 things and it works for me.</p>\n<ul>\n<li><p>all services name have to be in UPERCASE like</p>\n<p>uri: lb://UPERCASE-NAME</p>\n</li>\n<li><p>when you specify URI your it will have to end by slash &quot;/&quot;</p>\n<p>uri: lb://UPERCASE-NAME/</p>\n</li>\n<li><p>specify only one path predicates by route id i don't know why but it's work like that</p>\n<ul>\n<li>id: ACCOUNTING-SERVICE\nuri: lb://ACCOUNTING/\npredicates:\n- Path=/api/v1/act/**</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15763432,"reputation":163,"user_id":11374561,"display_name":"Vikcen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685637423,"creation_date":1685636754,"answer_id":76383938,"question_id":68657540,"body_markdown":"In case it can help to someone try this configuration. In application.properties:\r\n\r\n    spring.application.name=service-gateway-server\r\n    server.port=8090\r\n\r\n    eureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n\r\nAnd i show the rest of my configuration in application.yml:\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n          - id: service-one\r\n            uri: lb://service-one\r\n            predicates:\r\n              - Path=/api/service1/**\r\n            filters:\r\n              - StripPrefix=2\r\n          - id: service-two\r\n            uri: lb://service-two\r\n            predicates:\r\n              - Path=/api/service2/**\r\n            filters:\r\n              - StripPrefix=2","title":"Spring Cloud Gateway doesn&#39;t find the microservices (Not found 404 error)","body":"<p>In case it can help to someone try this configuration. In application.properties:</p>\n<pre><code>spring.application.name=service-gateway-server\nserver.port=8090\n\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\n</code></pre>\n<p>And i show the rest of my configuration in application.yml:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: service-one\n        uri: lb://service-one\n        predicates:\n          - Path=/api/service1/**\n        filters:\n          - StripPrefix=2\n      - id: service-two\n        uri: lb://service-two\n        predicates:\n          - Path=/api/service2/**\n        filters:\n          - StripPrefix=2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28789541,"reputation":1,"user_id":22049240,"display_name":"Stupido"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702320222,"creation_date":1702049029,"answer_id":77627593,"question_id":68657540,"body_markdown":"In my case I initially used dependency:\r\n\r\n    spring-cloud-starter-gateway-mvc\r\n\r\nbut the Gateway didn&#39;t work.\r\n\r\nWhen I changed it to:\r\n\r\n     spring-cloud-starter-gateway\r\n\r\nit worked.","title":"Spring Cloud Gateway doesn&#39;t find the microservices (Not found 404 error)","body":"<p>In my case I initially used dependency:</p>\n<pre><code>spring-cloud-starter-gateway-mvc\n</code></pre>\n<p>but the Gateway didn't work.</p>\n<p>When I changed it to:</p>\n<pre><code> spring-cloud-starter-gateway\n</code></pre>\n<p>it worked.</p>\n"}],"owner":{"account_id":21870094,"reputation":51,"user_id":16159720,"display_name":"Karla Calero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8949,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1702320222,"creation_date":1628108043,"question_id":68657540,"body_markdown":"I have this simple microservices application with Spring Boot and I try to add the Spring Cloud Gateway service, but it doesn&#39;t work. All microservices, including the Eureka server, work well, but when I try to access to some microservice using the Gateway route, it doesn&#39;t find the microservice.\r\n\r\nApiGateway pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.futurex.microservices&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;APIGateway&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;APIGateway&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nAPI Gateway application.yml\r\n```\r\nspring:\r\n  application:\r\n    name: API-GATEWAY\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: FX-SERVICE1\r\n          uri: http://localhost:8005\r\n          predicates:\r\n            - Path=/fx-service1/**\r\n        - id: FX-SERVICE2\r\n          uri: http://localhost:8006\r\n          predicates:\r\n            - Path=/fx-service2/**\r\n    discovery:\r\n      enabled: true\r\n    config:\r\n      uri: http://localhost:8081\r\nserver:\r\n  port: 8081\r\neureka:\r\n  client:\r\n    service-url:\r\n      defaultZone: http://localhost:8761/eureka/\r\n    register-with-eureka: true\r\n    fetch-registry: true\r\n  instance:\r\n    hostname: localhost\r\n```\r\nAPI Gateway main\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\r\n\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class ApiGatewayApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ApiGatewayApplication.class, args);\r\n\t}\r\n\r\n\r\n}\r\n```\r\n[Api Gateway Not found 404 error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1OAjG.png","title":"Spring Cloud Gateway doesn&#39;t find the microservices (Not found 404 error)","body":"<p>I have this simple microservices application with Spring Boot and I try to add the Spring Cloud Gateway service, but it doesn't work. All microservices, including the Eureka server, work well, but when I try to access to some microservice using the Gateway route, it doesn't find the microservice.</p>\n<p>ApiGateway pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.futurex.microservices&lt;/groupId&gt;\n    &lt;artifactId&gt;APIGateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;APIGateway&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>API Gateway application.yml</p>\n<pre><code>spring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      routes:\n        - id: FX-SERVICE1\n          uri: http://localhost:8005\n          predicates:\n            - Path=/fx-service1/**\n        - id: FX-SERVICE2\n          uri: http://localhost:8006\n          predicates:\n            - Path=/fx-service2/**\n    discovery:\n      enabled: true\n    config:\n      uri: http://localhost:8081\nserver:\n  port: 8081\neureka:\n  client:\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n    register-with-eureka: true\n    fetch-registry: true\n  instance:\n    hostname: localhost\n</code></pre>\n<p>API Gateway main</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n\n@SpringBootApplication\n@EnableEurekaClient\npublic class ApiGatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApiGatewayApplication.class, args);\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1OAjG.png\" rel=\"noreferrer\">Api Gateway Not found 404 error</a></p>\n"},{"tags":["java","java-8","hashmap"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1702320391,"post_id":77641695,"comment_id":136879294,"body_markdown":"You always modify the innerMap, what is the value for each entry","body":"You always modify the innerMap, what is the value for each entry"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1702320430,"post_id":77641695,"comment_id":136879300,"body_markdown":"BTW: You should format your code proberly","body":"BTW: You should format your code proberly"}],"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702357923,"answer_count":0,"score":-2,"last_activity_date":1702319939,"creation_date":1702319939,"question_id":77641695,"body_markdown":"When I&#39;m trying to update a one of the key-pair in HashMap, all other keys are getting same value (latest value)\r\nI&#39;ve only pasted relevant code, you may find some vars which are taken directly.\r\n\r\n\r\nI suspect problem is in &quot;if else&quot; block or in innerMap declaration\r\nOutput I&#39;m getting:\r\nMAP : {2023-W49={S1=126000}, 2023-W50={S1=126000}}\r\n\r\nOutput expected: \r\nMAP : {2023-W49={S1=133200}, 2023-W50={S1=126000}}\r\n\r\n```\r\nclass WeekTest {\r\n    public void getWeeksForOutage(long startDate, long endDate, String service, HashMap&lt; String,HashMap&lt;String, Long &gt;&gt; map) {\r\n    long temp = startDate;\r\n    long outageSec = 0;\r\n    HashMap &lt; String, Long &gt; innerMap = new HashMap &lt; &gt; ();\r\n    while (temp &lt; endDate) {\r\n    System.out.println(&quot;Inside while&quot;);\r\n    LocalDateTime localDateTime = LocalDateTime.now(ZoneId.of(&quot;Europe/Paris&quot;));\r\n    Instant instant = Instant.ofEpochSecond(temp);\r\n    ZoneId zone = ZoneId.of(&quot;Europe/Paris&quot;);\r\n    ZoneOffset zoneOffset = zone.getRules().getOffset(localDateTime);\r\n    ZonedDateTime zonedDateTime = instant.atZone(zone);\r\n    int startYear = zonedDateTime.getYear();\r\n    int startMonth = zonedDateTime.getMonthValue();\r\n    int startDayOfMonth = zonedDateTime.getDayOfMonth();\r\n    long endOfDayEpoch = LocalDateTime.of(startYear, startMonth, startDayOfMonth, 23, 59, 59).toEpochSecond(zoneOffset);\r\n    endOfDayEpoch += 1;\r\n    TimeZone timeZone = TimeZone.getTimeZone(zone);\r\n    GregorianCalendar cal = new GregorianCalendar();\r\n    cal.setTimeZone(timeZone);\r\n    cal.setTimeInMillis(temp * 1000);\r\n            cal.setFirstDayOfWeek(Calendar.SUNDAY);\r\n            cal.setMinimalDaysInFirstWeek(4);\r\n            String week = startYear + &quot;-W&quot; + cal.get(Calendar.WEEK_OF_YEAR);\r\n\r\n            if (endOfDayEpoch &lt; endDate) {\r\n                if (map.containsKey(week)) {\r\n                    if (innerMap.containsKey(service)) {\r\n                        outageSec += endOfDayEpoch - temp;\r\n                        map.get(week).put(service, outageSec);\r\n                    } else {\r\n                        outageSec = endOfDayEpoch - temp;\r\n                        map.get(week).put(service, outageSec);\r\n                    }\r\n                } else {\r\n\r\n                    outageSec = endOfDayEpoch - temp;\r\n                    innerMap.put(service, outageSec);\r\n                    map.put(week, innerMap);\r\n                }\r\n                temp = endOfDayEpoch;\r\n            } else {\r\n                if (map.containsKey(week)) {\r\n                    if (innerMap.containsKey(service)) {\r\n                        outageSec += endDate - temp;\r\n                        map.get(week).put(service, outageSec);\r\n                    } else {\r\n                        outageSec = endDate - temp;\r\n                        map.get(week).put(service, outageSec);\r\n                    }\r\n                } else {\r\n                    outageSec = endDate - temp;\r\n                    innerMap.put(service, outageSec);\r\n                    map.put(week, innerMap);\r\n                }\r\n                temp = endDate;\r\n            }\r\n\r\n        }\r\n        System.out.println(&quot;MAP : &quot; + map);\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n    HashMap &lt; String, HashMap &lt; String, Long &gt;&gt; map = new HashMap &lt; &gt; ();\r\n    WeekTest weekTest = new WeekTest();\r\n    int startDate = 1702029600; // Friday, December 8, 2023 11:00:00 AM\r\n    int endDate = 1702288800; // Monday, December 11, 2023 11:00:00 AM\r\n    weekTest.getWeeksForOutage(startDate, endDate, &quot;S1&quot;, map);\r\n}\r\n```\r\n","title":"All keys are getting update with same value when trying to modify one using hashmap","body":"<p>When I'm trying to update a one of the key-pair in HashMap, all other keys are getting same value (latest value)\nI've only pasted relevant code, you may find some vars which are taken directly.</p>\n<p>I suspect problem is in &quot;if else&quot; block or in innerMap declaration\nOutput I'm getting:\nMAP : {2023-W49={S1=126000}, 2023-W50={S1=126000}}</p>\n<p>Output expected:\nMAP : {2023-W49={S1=133200}, 2023-W50={S1=126000}}</p>\n<pre><code>class WeekTest {\n    public void getWeeksForOutage(long startDate, long endDate, String service, HashMap&lt; String,HashMap&lt;String, Long &gt;&gt; map) {\n    long temp = startDate;\n    long outageSec = 0;\n    HashMap &lt; String, Long &gt; innerMap = new HashMap &lt; &gt; ();\n    while (temp &lt; endDate) {\n    System.out.println(&quot;Inside while&quot;);\n    LocalDateTime localDateTime = LocalDateTime.now(ZoneId.of(&quot;Europe/Paris&quot;));\n    Instant instant = Instant.ofEpochSecond(temp);\n    ZoneId zone = ZoneId.of(&quot;Europe/Paris&quot;);\n    ZoneOffset zoneOffset = zone.getRules().getOffset(localDateTime);\n    ZonedDateTime zonedDateTime = instant.atZone(zone);\n    int startYear = zonedDateTime.getYear();\n    int startMonth = zonedDateTime.getMonthValue();\n    int startDayOfMonth = zonedDateTime.getDayOfMonth();\n    long endOfDayEpoch = LocalDateTime.of(startYear, startMonth, startDayOfMonth, 23, 59, 59).toEpochSecond(zoneOffset);\n    endOfDayEpoch += 1;\n    TimeZone timeZone = TimeZone.getTimeZone(zone);\n    GregorianCalendar cal = new GregorianCalendar();\n    cal.setTimeZone(timeZone);\n    cal.setTimeInMillis(temp * 1000);\n            cal.setFirstDayOfWeek(Calendar.SUNDAY);\n            cal.setMinimalDaysInFirstWeek(4);\n            String week = startYear + &quot;-W&quot; + cal.get(Calendar.WEEK_OF_YEAR);\n\n            if (endOfDayEpoch &lt; endDate) {\n                if (map.containsKey(week)) {\n                    if (innerMap.containsKey(service)) {\n                        outageSec += endOfDayEpoch - temp;\n                        map.get(week).put(service, outageSec);\n                    } else {\n                        outageSec = endOfDayEpoch - temp;\n                        map.get(week).put(service, outageSec);\n                    }\n                } else {\n\n                    outageSec = endOfDayEpoch - temp;\n                    innerMap.put(service, outageSec);\n                    map.put(week, innerMap);\n                }\n                temp = endOfDayEpoch;\n            } else {\n                if (map.containsKey(week)) {\n                    if (innerMap.containsKey(service)) {\n                        outageSec += endDate - temp;\n                        map.get(week).put(service, outageSec);\n                    } else {\n                        outageSec = endDate - temp;\n                        map.get(week).put(service, outageSec);\n                    }\n                } else {\n                    outageSec = endDate - temp;\n                    innerMap.put(service, outageSec);\n                    map.put(week, innerMap);\n                }\n                temp = endDate;\n            }\n\n        }\n        System.out.println(&quot;MAP : &quot; + map);\n    }\n}\n\npublic static void main(String[] args) throws IOException, InterruptedException {\n    HashMap &lt; String, HashMap &lt; String, Long &gt;&gt; map = new HashMap &lt; &gt; ();\n    WeekTest weekTest = new WeekTest();\n    int startDate = 1702029600; // Friday, December 8, 2023 11:00:00 AM\n    int endDate = 1702288800; // Monday, December 11, 2023 11:00:00 AM\n    weekTest.getWeeksForOutage(startDate, endDate, &quot;S1&quot;, map);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","liquibase"],"answers":[{"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1702322100,"post_id":77641693,"comment_id":136879541,"body_markdown":"https://stackoverflow.com/help/ai-policy","body":"<a href=\"https://stackoverflow.com/help/ai-policy\">stackoverflow.com/help/ai-policy</a>"}],"tags":[],"owner":{"account_id":13840520,"reputation":1,"user_id":11650163,"display_name":"Fl&#225;vio L."},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702319884,"creation_date":1702319884,"answer_id":77641693,"question_id":77640688,"body_markdown":"Troubleshooting Liquibase generating empty change log files\r\n-----------------------------------------------------------\r\n\r\nBased on your configuration and provided information, here are some potential reasons why Liquibase might be generating empty change log files:\r\n\r\n**1. Database connection:**\r\n\r\n- Make sure your database connection settings in application.properties are correct, including the URL, username, and password.\r\n- Ensure the database is running and accessible by the application.\r\n\r\n**2. Liquibase configuration:**\r\n\r\n- Verify the spring.liquibase.change-log property points to the correct location of your Liquibase change log file. In your case, it should be classpath:db/changelog/db.changelog.yml.\r\n- Double-check the configuration in your Liquibase property file (src/main/resources/db/changelog/liquibase.properties). Ensure it contains correct database connection details and mapping information.\r\n\r\n**3. Hibernate configuration:**\r\n\r\n- Ensure you have the necessary Hibernate and Liquibase dependencies included in your pom.xml file. You&#39;ve already mentioned these dependencies, but ensure the versions are compatible with your Liquibase version.\r\n- Verify the spring.jpa.hibernate.ddl-auto property is set to none. This allows Liquibase to manage the schema updates instead of Hibernate.\r\n\r\n**4. Liquibase goals:**\r\n\r\n- When running the mvn liquibase:generateChangeLog or mvn liquibase:diff goals, ensure you are pointing to the correct Liquibase configuration. You can use the -Dliquibase.propertiesFile option to specify the location of your Liquibase property file.\r\n\r\n**5. Database schema:**\r\n\r\n- If your database schema already exists and is not empty, Liquibase might not generate any change log entries if your entities don&#39;t introduce any new changes.\r\n\r\n**Additional troubleshooting tips:**\r\n\r\n- Try setting the verbose property to true in your Liquibase Maven plugin configuration. This will provide more detailed logging information that might help identify the cause of the issue.\r\n- Check the Liquibase documentation for specific troubleshooting steps related to your configuration and version.\r\n- If the problem persists after checking all of these points, consider sharing your Liquibase property file and any relevant log files for further investigation.\r\n\r\nBy following these steps and examining your configuration carefully, you should be able to identify the root cause and generate the desired Liquibase change log files.\r\n\r\n\r\n","title":"how to configure liquibase in spring boot app to get generate file with differences between @Entity and database?","body":"<h2>Troubleshooting Liquibase generating empty change log files</h2>\n<p>Based on your configuration and provided information, here are some potential reasons why Liquibase might be generating empty change log files:</p>\n<p><strong>1. Database connection:</strong></p>\n<ul>\n<li>Make sure your database connection settings in application.properties are correct, including the URL, username, and password.</li>\n<li>Ensure the database is running and accessible by the application.</li>\n</ul>\n<p><strong>2. Liquibase configuration:</strong></p>\n<ul>\n<li>Verify the spring.liquibase.change-log property points to the correct location of your Liquibase change log file. In your case, it should be classpath:db/changelog/db.changelog.yml.</li>\n<li>Double-check the configuration in your Liquibase property file (src/main/resources/db/changelog/liquibase.properties). Ensure it contains correct database connection details and mapping information.</li>\n</ul>\n<p><strong>3. Hibernate configuration:</strong></p>\n<ul>\n<li>Ensure you have the necessary Hibernate and Liquibase dependencies included in your pom.xml file. You've already mentioned these dependencies, but ensure the versions are compatible with your Liquibase version.</li>\n<li>Verify the spring.jpa.hibernate.ddl-auto property is set to none. This allows Liquibase to manage the schema updates instead of Hibernate.</li>\n</ul>\n<p><strong>4. Liquibase goals:</strong></p>\n<ul>\n<li>When running the mvn liquibase:generateChangeLog or mvn liquibase:diff goals, ensure you are pointing to the correct Liquibase configuration. You can use the -Dliquibase.propertiesFile option to specify the location of your Liquibase property file.</li>\n</ul>\n<p><strong>5. Database schema:</strong></p>\n<ul>\n<li>If your database schema already exists and is not empty, Liquibase might not generate any change log entries if your entities don't introduce any new changes.</li>\n</ul>\n<p><strong>Additional troubleshooting tips:</strong></p>\n<ul>\n<li>Try setting the verbose property to true in your Liquibase Maven plugin configuration. This will provide more detailed logging information that might help identify the cause of the issue.</li>\n<li>Check the Liquibase documentation for specific troubleshooting steps related to your configuration and version.</li>\n<li>If the problem persists after checking all of these points, consider sharing your Liquibase property file and any relevant log files for further investigation.</li>\n</ul>\n<p>By following these steps and examining your configuration carefully, you should be able to identify the root cause and generate the desired Liquibase change log files.</p>\n"}],"owner":{"account_id":4717320,"reputation":321,"user_id":3816170,"accept_rate":67,"display_name":"user3816170"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702319884,"creation_date":1702309016,"question_id":77640688,"body_markdown":"I want to generate with command mvn liquibase:generateChangeLog or mvn liquibase:dif the changes in my entities but i get empty file.&lt;br /&gt;\r\ni want to generate file that allows me to get changes between my database and my entities. any ideas please?&lt;br /&gt;\r\nIn my application.properties :&lt;br /&gt;\r\nspring.datasource.url= jdbc:postgresql://localhost:5432/db&lt;br /&gt;\r\nspring.datasource.username= username&lt;br /&gt;\r\nspring.datasource.password= pswd&lt;br /&gt;\r\n\r\nspring.messages.basename=messages&lt;br /&gt;\r\nspring.messages.cache-duration=3600&lt;br /&gt;\r\n\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true&lt;br /&gt;\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect&lt;br /&gt;\r\nspring.jpa.hibernate.ddl-auto=validate&lt;br /&gt;\r\n\r\n# Liquibase Configuration&lt;br /&gt;\r\nspring.liquibase.enabled=true&lt;br /&gt;\r\nspring.liquibase.change-log=classpath:db/changelog/db.changelog.yml&lt;br /&gt;\r\nin my pom.xml :&lt;br /&gt;\r\n``` \t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.25.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;liquibase-hibernate6&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.25.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;4.25.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;propertyFile&gt;src/main/resources/db/changelog/liquibase.properties&lt;/propertyFile&gt;\r\n    &lt;!--\t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;--&gt;\r\n    \t\t\t\t\t&lt;outputChangeLogFile&gt;src/main/resources/db/changelog/db-changelog-master.yml&lt;/outputChangeLogFile&gt;\r\n    &lt;!--\t\t\t\t\t&lt;changeLogFile&gt;src/main/resources/db/changelog/db-changelog-master.yml&lt;/changeLogFile&gt;--&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generateChangeLog&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;update&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;diff&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;```\r\nmy entity : \r\n\r\n    ``` @Entity\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;test_user&quot;)\r\n    public class TestUser {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String userName;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    }```\r\n\r\n\r\n","title":"how to configure liquibase in spring boot app to get generate file with differences between @Entity and database?","body":"<p>I want to generate with command mvn liquibase:generateChangeLog or mvn liquibase:dif the changes in my entities but i get empty file.<br />\ni want to generate file that allows me to get changes between my database and my entities. any ideas please?<br />\nIn my application.properties :<br />\nspring.datasource.url= jdbc:postgresql://localhost:5432/db<br />\nspring.datasource.username= username<br />\nspring.datasource.password= pswd<br /></p>\n<p>spring.messages.basename=messages<br />\nspring.messages.cache-duration=3600<br /></p>\n<p>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true<br />\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect<br />\nspring.jpa.hibernate.ddl-auto=validate<br /></p>\n<h1>Liquibase Configuration<br /></h1>\n<p>spring.liquibase.enabled=true<br />\nspring.liquibase.change-log=classpath:db/changelog/db.changelog.yml<br />\nin my pom.xml :<br /></p>\n<pre><code>\n    &lt;dependency&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                &lt;version&gt;4.25.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-hibernate6&lt;/artifactId&gt;\n                &lt;version&gt;4.25.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.25.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;propertyFile&gt;src/main/resources/db/changelog/liquibase.properties&lt;/propertyFile&gt;\n    &lt;!--                    &lt;verbose&gt;true&lt;/verbose&gt;--&gt;\n                        &lt;outputChangeLogFile&gt;src/main/resources/db/changelog/db-changelog-master.yml&lt;/outputChangeLogFile&gt;\n    &lt;!--                    &lt;changeLogFile&gt;src/main/resources/db/changelog/db-changelog-master.yml&lt;/changeLogFile&gt;--&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generateChangeLog&lt;/goal&gt;\n                                &lt;goal&gt;update&lt;/goal&gt;\n                                &lt;goal&gt;diff&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;```\nmy entity : \n\n    ``` @Entity\n    @Getter\n    @Setter\n    @Table(name = &quot;test_user&quot;)\n    public class TestUser {\n    \n        @Id\n        @Column(name = &quot;id&quot;)\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n    \n        @Column(name = &quot;username&quot;)\n        private String userName;\n    \n        @Column(name = &quot;first_name&quot;)\n        private String firstName;\n    \n        @Column(name = &quot;last_name&quot;)\n        private String lastName;\n    \n        @Column(name = &quot;email&quot;)\n        private String email;\n    }```\n\n\n</code></pre>\n"},{"tags":["java","instanceof","reflection"],"comments":[{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":17,"creation_date":1343592922,"post_id":496928,"comment_id":15537254,"body_markdown":"For the records, isInstance() is the most convenient method to check whether an object can be casted into a class type (for more details, see: http://tshikatshikaaa.blogspot.nl/2012/07/java-instanceof-isassignablefrom-or.html)","body":"For the records, isInstance() is the most convenient method to check whether an object can be casted into a class type (for more details, see: <a href=\"http://tshikatshikaaa.blogspot.nl/2012/07/java-instanceof-isassignablefrom-or.html\" rel=\"nofollow noreferrer\">tshikatshikaaa.blogspot.nl/2012/07/&hellip;</a>)"},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":1,"creation_date":1637675177,"post_id":496928,"comment_id":123885505,"body_markdown":"To counter what @J&#233;r&#244;meVerstrynge suggested: *The instanceof construction is a preferred way to check whether a variable can be cast to some type statically* because a compile-time error will occur in case of incompatible types. The method isInstance() from java.lang.Class works differently and does type check at runtime only, incompatible types will therefore not be detected early in the development, potentially resulting in dead code. The isInstance() method should only be used in dynamic cases when the instanceof operator can’t be used.","body":"To counter what @J&#233;r&#244;meVerstrynge suggested: <i>The instanceof construction is a preferred way to check whether a variable can be cast to some type statically</i> because a compile-time error will occur in case of incompatible types. The method isInstance() from java.lang.Class works differently and does type check at runtime only, incompatible types will therefore not be detected early in the development, potentially resulting in dead code. The isInstance() method should only be used in dynamic cases when the instanceof operator can’t be used."}],"answers":[{"comments":[{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":16,"creation_date":1458939229,"post_id":496968,"comment_id":60086864,"body_markdown":"I don&#39;t see the point of using instanceof/isAssignableFrom with primitive types.","body":"I don&#39;t see the point of using instanceof/isAssignableFrom with primitive types."}],"tags":[],"owner":{"account_id":5807,"reputation":392471,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"comment_count":1,"down_vote_count":4,"up_vote_count":225,"is_accepted":false,"score":221,"last_activity_date":1233345196,"creation_date":1233345196,"answer_id":496968,"question_id":496928,"body_markdown":"`instanceof` can only be used with reference types, not primitive types.  `isAssignableFrom()` can be used with any class objects:\r\n\r\n    a instanceof int  // syntax error\r\n    3 instanceof Foo  // syntax error\r\n    int.class.isAssignableFrom(int.class)  // true\r\n\r\nSee &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)&quot;&gt;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)&lt;/a&gt;.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p><code>instanceof</code> can only be used with reference types, not primitive types.  <code>isAssignableFrom()</code> can be used with any class objects:</p>\n\n<pre><code>a instanceof int  // syntax error\n3 instanceof Foo  // syntax error\nint.class.isAssignableFrom(int.class)  // true\n</code></pre>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"noreferrer\"><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)</a></a>.</p>\n"},{"comments":[{"owner":{"account_id":262268,"reputation":15911,"user_id":547020,"accept_rate":93,"display_name":"Eliran Malka"},"score":19,"creation_date":1364475539,"post_id":497001,"comment_id":22263778,"body_markdown":"i don&#39;t get it - please elaborate on **why** we can&#39;t write `a instanceof Bref.getClass()`. how can this be the accepted answer with so little explanation (or its lack thereof)?","body":"i don&#39;t get it - please elaborate on <b>why</b> we can&#39;t write <code>a instanceof Bref.getClass()</code>. how can this be the accepted answer with so little explanation (or its lack thereof)?"},{"owner":{"account_id":25987,"reputation":1301,"user_id":67280,"accept_rate":38,"display_name":"Brandon Bloom"},"score":79,"creation_date":1366122529,"post_id":497001,"comment_id":22884160,"body_markdown":"The syntax is `a instanceof Bref` not `a instanceof Bref.class`. The second argument to the instanceof operator is a class name, not an expression resolving to a class object instance.","body":"The syntax is <code>a instanceof Bref</code> not <code>a instanceof Bref.class</code>. The second argument to the instanceof operator is a class name, not an expression resolving to a class object instance."},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":2,"creation_date":1371830204,"post_id":497001,"comment_id":24980063,"body_markdown":"yes &quot;dynamic&quot; goes without saying :)  Other than performance, this is a true difference.","body":"yes &quot;dynamic&quot; goes without saying :)  Other than performance, this is a true difference."},{"owner":{"account_id":5741809,"reputation":138,"user_id":4534291,"display_name":"Wagner Tsuchiya"},"score":2,"creation_date":1462939444,"post_id":497001,"comment_id":61843017,"body_markdown":"@EliranMalka maybe you can have a class that was generated in runtime. Like proxies objects.","body":"@EliranMalka maybe you can have a class that was generated in runtime. Like proxies objects."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":1,"creation_date":1575532687,"post_id":497001,"comment_id":104600328,"body_markdown":"So, in `B.class.isAssignableFrom(a.getClass())`, B is known, and `a instanceof B` is better.  Right?","body":"So, in <code>B.class.isAssignableFrom(a.getClass())</code>, B is known, and <code>a instanceof B</code> is better.  Right?"},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":9,"creation_date":1585870061,"post_id":497001,"comment_id":107924366,"body_markdown":"If you have an object `a` and you know the type `B` at compile type, use `a instanceof B`. If you have `a` and you don&#39;t know the type `B` but you have an object `b`, use `b.getClass().isInstance(a)`. If you have `a` and you don&#39;t have an object but rather a `Class&lt;?&gt; someBClass`, use `someBClass.isInstance(a)`. If you have two `Class&lt;?&gt;` but no actual instantiated objects of the types, **that one condition** is when you use `someBClass.isAssignableFrom(someAClass)`.","body":"If you have an object <code>a</code> and you know the type <code>B</code> at compile type, use <code>a instanceof B</code>. If you have <code>a</code> and you don&#39;t know the type <code>B</code> but you have an object <code>b</code>, use <code>b.getClass().isInstance(a)</code>. If you have <code>a</code> and you don&#39;t have an object but rather a <code>Class&lt;?&gt; someBClass</code>, use <code>someBClass.isInstance(a)</code>. If you have two <code>Class&lt;?&gt;</code> but no actual instantiated objects of the types, <b>that one condition</b> is when you use <code>someBClass.isAssignableFrom(someAClass)</code>."},{"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1661332557,"post_id":497001,"comment_id":129744607,"body_markdown":"@AndrewF: your comments are a very helpful answer to this question, thanks! Have you considered posting an answer ?","body":"@AndrewF: your comments are a very helpful answer to this question, thanks! Have you considered posting an answer ?"}],"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"comment_count":7,"down_vote_count":4,"up_vote_count":557,"is_accepted":true,"score":553,"last_activity_date":1475438673,"creation_date":1233345498,"answer_id":497001,"question_id":496928,"body_markdown":"When using `instanceof`, you need to know the class of `B` at compile time.  When using `isAssignableFrom()` it can be dynamic and change during runtime.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>When using <code>instanceof</code>, you need to know the class of <code>B</code> at compile time.  When using <code>isAssignableFrom()</code> it can be dynamic and change during runtime.</p>\n"},{"comments":[{"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"score":2,"creation_date":1284062739,"post_id":2472999,"comment_id":3875825,"body_markdown":"That is not true. Please see &quot;Adam Rosenfield&quot; comment http://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom/496968#496968","body":"That is not true. Please see &quot;Adam Rosenfield&quot; comment <a href=\"http://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom/496968#496968\" title=\"what is the difference between instanceof and class isassignablefrom\">stackoverflow.com/questions/496928/&hellip;</a>"},{"owner":{"account_id":601435,"reputation":57,"user_id":296886,"display_name":"algebra"},"score":1,"creation_date":1284135481,"post_id":2472999,"comment_id":3883361,"body_markdown":"Could you elaborate &quot;That is not true&quot;? The comment you refer to has nothing to do with the scenario in my post. I do have some test code that backs up my explanation.","body":"Could you elaborate &quot;That is not true&quot;? The comment you refer to has nothing to do with the scenario in my post. I do have some test code that backs up my explanation."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1452026712,"post_id":2472999,"comment_id":56987396,"body_markdown":"If you have a non-null reference to an object instance (`obj` in this example) of _any type_ then you can call the public `getClass()` method on it to obtain the reflection metadata for the implementing class.  This is true even if that implementing class type would not be legally visible at that location at compile time. It&#39;s OK at runtime because, for you to hold the `obj` reference, some code path that ultimately _did_ have legal access to the class created one and gave (leaked?) it to you.","body":"If you have a non-null reference to an object instance (<code>obj</code> in this example) of <i>any type</i> then you can call the public <code>getClass()</code> method on it to obtain the reflection metadata for the implementing class.  This is true even if that implementing class type would not be legally visible at that location at compile time. It&#39;s OK at runtime because, for you to hold the <code>obj</code> reference, some code path that ultimately <i>did</i> have legal access to the class created one and gave (leaked?) it to you."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":1,"creation_date":1609893798,"post_id":2472999,"comment_id":115963162,"body_markdown":"This answer wants to list an analog for `obj instanceof A`. That would be `A.class.isInstance(obj)`. You should only be using `isAssignableFrom` if you have two classes and zero objects.","body":"This answer wants to list an analog for <code>obj instanceof A</code>. That would be <code>A.class.isInstance(obj)</code>. You should only be using <code>isAssignableFrom</code> if you have two classes and zero objects."}],"tags":[],"owner":{"account_id":601435,"reputation":57,"user_id":296886,"display_name":"algebra"},"comment_count":4,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1268943266,"creation_date":1268942638,"answer_id":2472999,"question_id":496928,"body_markdown":"Consider following situation. Suppose you want to check whether type A is a super class of the type of obj, you can go either\r\n\r\n...\r\nA.class.isAssignableFrom(obj.getClass())\r\n...\r\n\r\nOR\r\n\r\n...\r\nobj instanceof A\r\n...\r\n\r\nBut the isAssignableFrom solution requires that the type of obj be visible here. If this is not the case (e.g., the type of obj might be of a private inner class), this option is out. However, the instanceof solution would always work.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Consider following situation. Suppose you want to check whether type A is a super class of the type of obj, you can go either</p>\n\n<p>...\nA.class.isAssignableFrom(obj.getClass())\n...</p>\n\n<p>OR</p>\n\n<p>...\nobj instanceof A\n...</p>\n\n<p>But the isAssignableFrom solution requires that the type of obj be visible here. If this is not the case (e.g., the type of obj might be of a private inner class), this option is out. However, the instanceof solution would always work.</p>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":13,"creation_date":1306505768,"post_id":3561415,"comment_id":7147250,"body_markdown":"Hm, if you have a bottleneck in `instanceof`, I believe you have serious design problems...","body":"Hm, if you have a bottleneck in <code>instanceof</code>, I believe you have serious design problems..."},{"owner":{"account_id":1811162,"reputation":1891,"user_id":1647211,"accept_rate":55,"display_name":"FirstName LastName"},"score":1,"creation_date":1400171859,"post_id":3561415,"comment_id":36388327,"body_markdown":"The answer by JBE presents a hypothesis which differs from your hypothesis.","body":"The answer by JBE presents a hypothesis which differs from your hypothesis."}],"tags":[],"owner":{"account_id":644354,"reputation":5,"user_id":430081,"display_name":"Milan"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1431686653,"creation_date":1282687549,"answer_id":3561415,"question_id":496928,"body_markdown":"some tests we did in our team show that `A.class.isAssignableFrom(B.getClass())` works faster than `B instanceof A`. this can be very useful if you need to check this on large number of elements.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>some tests we did in our team show that <code>A.class.isAssignableFrom(B.getClass())</code> works faster than <code>B instanceof A</code>. this can be very useful if you need to check this on large number of elements.</p>\n"},{"comments":[{"owner":{"account_id":475146,"reputation":4521,"user_id":885306,"accept_rate":85,"display_name":"Karu"},"score":9,"creation_date":1334200313,"post_id":3657960,"comment_id":12964397,"body_markdown":"`b instanceof A` is equivalent to `A.class.isAssignableFrom(b.getClass())` (as the OP noticed). Your example is correct but irrelevant.","body":"<code>b instanceof A</code> is equivalent to <code>A.class.isAssignableFrom(b.getClass())</code> (as the OP noticed). Your example is correct but irrelevant."},{"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"score":0,"creation_date":1374797863,"post_id":3657960,"comment_id":26094311,"body_markdown":"Since `new Y()` may not be legal if `Y` is abstract or without public default constructor, you can say `X x = (Y)null` is legal if and only if `x.getClass().isAssignableFrom(Y.class)` is true.","body":"Since <code>new Y()</code> may not be legal if <code>Y</code> is abstract or without public default constructor, you can say <code>X x = (Y)null</code> is legal if and only if <code>x.getClass().isAssignableFrom(Y.class)</code> is true."},{"owner":{"account_id":4881286,"reputation":429,"user_id":3935008,"accept_rate":0,"display_name":"loshad vtapkah"},"score":2,"creation_date":1417776302,"post_id":3657960,"comment_id":43088310,"body_markdown":"Why &#39;b.getClass().isAssignableFrom(A.class)&#39; in this example?  I guess example should be reverse A.class.isAssignableFrom(b.getClass()).","body":"Why &#39;b.getClass().isAssignableFrom(A.class)&#39; in this example?  I guess example should be reverse A.class.isAssignableFrom(b.getClass())."},{"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"score":0,"creation_date":1698873228,"post_id":3657960,"comment_id":136461474,"body_markdown":"sorry but this answer is incorrect for this question and can mislead readers:\n\n\nthe question is explicitly making the examples `a instanceof B`\nand `B.class.isAssignableFrom(a.getClass())`\n\n\n\nIn your answer you have swapped them in the second expression.","body":"sorry but this answer is incorrect for this question and can mislead readers:   the question is explicitly making the examples <code>a instanceof B</code> and <code>B.class.isAssignableFrom(a.getClass())</code>    In your answer you have swapped them in the second expression."}],"tags":[],"owner":{"account_id":650957,"reputation":359,"user_id":441359,"display_name":"Ashish Arya"},"comment_count":4,"down_vote_count":7,"up_vote_count":37,"is_accepted":false,"score":30,"last_activity_date":1299513876,"creation_date":1283856690,"answer_id":3657960,"question_id":496928,"body_markdown":"Apart from basic differences mentioned above, there is a core subtle difference between instanceof operator and isAssignableFrom method in Class.\r\n\r\nRead `instanceof` as “is this (the left part) the instance of this or any subclass of this (the right part)” and read `x.getClass().isAssignableFrom(Y.class)` as “Can I write `X x = new Y()`”. In other words, instanceof operator checks if the left object is same or subclass of right class, while `isAssignableFrom` checks if we can assign object of the parameter class (from) to the reference of the class on which the method is called.  \r\nNote that both of these consider the actual instance not the reference type.\r\n \r\nConsider an example of 3 classes A, B and C where C extends B and B extends A.\r\n\r\n    B b = new C();\r\n    \r\n    System.out.println(b instanceof A); //is b (which is actually class C object) instance of A, yes. This will return true.  \r\n    System.out.println(b instanceof B); // is b (which is actually class C object) instance of B, yes. This will return true.  \r\n    System.out.println(b instanceof C); // is b (which is actually class C object) instance of C, yes. This will return true. If the first statement would be B b = new B(), this would have been false.\r\n    System.out.println(b.getClass().isAssignableFrom(A.class));//Can I write C c = new A(), no. So this is false.\r\n    System.out.println(b.getClass().isAssignableFrom(B.class)); //Can I write C c = new B(), no. So this is false.\r\n    System.out.println(b.getClass().isAssignableFrom(C.class)); //Can I write C c = new C(), Yes. So this is true.\r\n\r\n","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Apart from basic differences mentioned above, there is a core subtle difference between instanceof operator and isAssignableFrom method in Class.</p>\n\n<p>Read <code>instanceof</code> as “is this (the left part) the instance of this or any subclass of this (the right part)” and read <code>x.getClass().isAssignableFrom(Y.class)</code> as “Can I write <code>X x = new Y()</code>”. In other words, instanceof operator checks if the left object is same or subclass of right class, while <code>isAssignableFrom</code> checks if we can assign object of the parameter class (from) to the reference of the class on which the method is called.<br>\nNote that both of these consider the actual instance not the reference type.</p>\n\n<p>Consider an example of 3 classes A, B and C where C extends B and B extends A.</p>\n\n<pre><code>B b = new C();\n\nSystem.out.println(b instanceof A); //is b (which is actually class C object) instance of A, yes. This will return true.  \nSystem.out.println(b instanceof B); // is b (which is actually class C object) instance of B, yes. This will return true.  \nSystem.out.println(b instanceof C); // is b (which is actually class C object) instance of C, yes. This will return true. If the first statement would be B b = new B(), this would have been false.\nSystem.out.println(b.getClass().isAssignableFrom(A.class));//Can I write C c = new A(), no. So this is false.\nSystem.out.println(b.getClass().isAssignableFrom(B.class)); //Can I write C c = new B(), no. So this is false.\nSystem.out.println(b.getClass().isAssignableFrom(C.class)); //Can I write C c = new C(), Yes. So this is true.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":212602,"reputation":7249,"user_id":775982,"accept_rate":100,"display_name":"Caspar"},"score":4,"creation_date":1309753145,"post_id":4409848,"comment_id":7742173,"body_markdown":"-1, incorrect: `null instanceof X` (where X is some class known at compile time) will always return `false`.","body":"-1, incorrect: <code>null instanceof X</code> (where X is some class known at compile time) will always return <code>false</code>."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":4,"creation_date":1320166854,"post_id":4409848,"comment_id":9745168,"body_markdown":"@Caspar while you are correct, the basic idea was a good point. I edited the post so that it is correct.","body":"@Caspar while you are correct, the basic idea was a good point. I edited the post so that it is correct."},{"owner":{"account_id":932889,"reputation":3669,"user_id":962382,"accept_rate":78,"display_name":"trillions"},"score":1,"creation_date":1344898563,"post_id":4409848,"comment_id":15911149,"body_markdown":"this is helpful, the edge case is always important :).","body":"this is helpful, the edge case is always important :)."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1452026277,"post_id":4409848,"comment_id":56987177,"body_markdown":"To be equivalent to the first line, the second line should be `X.class.isAssignableFrom(null.getClass())` should it not?  But yes, calling `getClass()` on a null reference will result in NPE.","body":"To be equivalent to the first line, the second line should be <code>X.class.isAssignableFrom(null.getClass())</code> should it not?  But yes, calling <code>getClass()</code> on a null reference will result in NPE."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1585870619,"post_id":4409848,"comment_id":107924517,"body_markdown":"This answer misses the point -- a null dereference is not relevant because the failure happens outside of the operation (you always need to check for null before you use a reference like that). In general `getClass()` should not be used with `isAssignableFrom` in the first place -- the operation is meant for the situation of having no objects. If you have the object reference `a`, use `a instanceof SomeClass` (if you **do** know the type `SomeClass`) or `someObject.getClass().isInstance(a)` (if you **don&#39;t** know the type of `someObject`).","body":"This answer misses the point -- a null dereference is not relevant because the failure happens outside of the operation (you always need to check for null before you use a reference like that). In general <code>getClass()</code> should not be used with <code>isAssignableFrom</code> in the first place -- the operation is meant for the situation of having no objects. If you have the object reference <code>a</code>, use <code>a instanceof SomeClass</code> (if you <b>do</b> know the type <code>SomeClass</code>) or <code>someObject.getClass().isInstance(a)</code> (if you <b>don&#39;t</b> know the type of <code>someObject</code>)."}],"tags":[],"owner":{"account_id":587073,"reputation":167,"user_id":265270,"display_name":"S. Ali Tokmen"},"comment_count":5,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1320166801,"creation_date":1291991836,"answer_id":4409848,"question_id":496928,"body_markdown":"There is also another difference:\r\n\r\nnull instanceof X is `false` no matter what X is\r\n\r\nnull.getClass().isAssignableFrom(X) will throw a NullPointerException","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>There is also another difference:</p>\n\n<p>null instanceof X is <code>false</code> no matter what X is</p>\n\n<p>null.getClass().isAssignableFrom(X) will throw a NullPointerException</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":3,"creation_date":1295972613,"post_id":4795955,"comment_id":5313770,"body_markdown":"actually no answer is really correct isAssignableFrom work w/ classes, Class.isInstance is the analog of *&#39;instanceof&#39;*","body":"actually no answer is really correct isAssignableFrom work w/ classes, Class.isInstance is the analog of <i>&#39;instanceof&#39;</i>"},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1585869625,"post_id":4795955,"comment_id":107924267,"body_markdown":"To put @bestsss&#39;s correct comment into concrete code: Because you have an object (`this`), `clazz.isInstance(this)` would be better in your example.","body":"To put @bestsss&#39;s correct comment into concrete code: Because you have an object (<code>this</code>), <code>clazz.isInstance(this)</code> would be better in your example."}],"tags":[],"owner":{"account_id":700196,"reputation":131,"user_id":589287,"display_name":"tkalmijn"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1295972170,"creation_date":1295972170,"answer_id":4795955,"question_id":496928,"body_markdown":"There is yet another difference. If the type (Class) to test against is dynamic, e.g. passed as a method parameter, then instanceof won&#39;t cut it for you.\r\n\r\n    boolean test(Class clazz) {\r\n       return (this instanceof clazz); // clazz cannot be resolved to a type.\r\n    }\r\n\r\nbut you can do:\r\n\r\n    boolean test(Class clazz) {\r\n       return (clazz.isAssignableFrom(this.getClass())); // okidoki\r\n    }\r\n\r\nOops, I see this answer is already covered. Maybe this example is helpful to someone.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>There is yet another difference. If the type (Class) to test against is dynamic, e.g. passed as a method parameter, then instanceof won't cut it for you.</p>\n\n<pre><code>boolean test(Class clazz) {\n   return (this instanceof clazz); // clazz cannot be resolved to a type.\n}\n</code></pre>\n\n<p>but you can do:</p>\n\n<pre><code>boolean test(Class clazz) {\n   return (clazz.isAssignableFrom(this.getClass())); // okidoki\n}\n</code></pre>\n\n<p>Oops, I see this answer is already covered. Maybe this example is helpful to someone.</p>\n"},{"comments":[{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":2,"creation_date":1568833107,"post_id":7070786,"comment_id":102404312,"body_markdown":"Cool, but this doesn&#39;t answer the question and should have been a comment.","body":"Cool, but this doesn&#39;t answer the question and should have been a comment."}],"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"comment_count":1,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1313441933,"creation_date":1313441933,"answer_id":7070786,"question_id":496928,"body_markdown":"A more direct equivalent to `a instanceof B` is\r\n\r\n    B.class.isInstance(a)\r\n\r\nThis works (returns false) when `a` is `null` too.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>A more direct equivalent to <code>a instanceof B</code> is</p>\n\n<pre><code>B.class.isInstance(a)\n</code></pre>\n\n<p>This works (returns false) when <code>a</code> is <code>null</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1094134,"reputation":71,"user_id":1088111,"display_name":"Owen"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1323370046,"creation_date":1323360259,"answer_id":8433889,"question_id":496928,"body_markdown":"This thread provided me some insight into how `instanceof` differed from `isAssignableFrom`, so I thought I&#39;d share something of my own.\r\n\r\nI have found that using `isAssignableFrom` to be the only (probably not the only, but possibly the easiest) way to ask one&#39;s self if a reference of one class can take instances of another, when one has instances of neither class to do the comparison.\r\n\r\nHence, I didn&#39;t find using the `instanceof` operator to compare assignability to be a good idea when all I had were classes, unless I contemplated creating an instance from one of the classes; I thought this would be sloppy.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>This thread provided me some insight into how <code>instanceof</code> differed from <code>isAssignableFrom</code>, so I thought I'd share something of my own.</p>\n\n<p>I have found that using <code>isAssignableFrom</code> to be the only (probably not the only, but possibly the easiest) way to ask one's self if a reference of one class can take instances of another, when one has instances of neither class to do the comparison.</p>\n\n<p>Hence, I didn't find using the <code>instanceof</code> operator to compare assignability to be a good idea when all I had were classes, unless I contemplated creating an instance from one of the classes; I thought this would be sloppy.</p>\n"},{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":8,"creation_date":1372983075,"post_id":12106524,"comment_id":25402630,"body_markdown":"Yep, `instanceof` is a bytecode that uses essentially the same logic as `checkcast` (the bytecode behind casting).  It will inherently be faster than the other options, regardless of degree of JITC optimization.","body":"Yep, <code>instanceof</code> is a bytecode that uses essentially the same logic as <code>checkcast</code> (the bytecode behind casting).  It will inherently be faster than the other options, regardless of degree of JITC optimization."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":3,"creation_date":1461676225,"post_id":12106524,"comment_id":61298982,"body_markdown":"Which makes sense, as `isAssignableFrom()` is dynamic.","body":"Which makes sense, as <code>isAssignableFrom()</code> is dynamic."},{"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"score":0,"creation_date":1503248609,"post_id":12106524,"comment_id":78526918,"body_markdown":"yep, with JMH results are completely different (same speed for all).","body":"yep, with JMH results are completely different (same speed for all)."},{"owner":{"account_id":2552047,"reputation":3028,"user_id":2215617,"accept_rate":71,"display_name":"Martin"},"score":0,"creation_date":1551867520,"post_id":12106524,"comment_id":96794717,"body_markdown":"Hi, nice benchmark, just ran into a situation where isAssignableFrom was called thousands of times, changing to instanceof really made a difference. This reply would be worth a blog post somewhere... ;)","body":"Hi, nice benchmark, just ran into a situation where isAssignableFrom was called thousands of times, changing to instanceof really made a difference. This reply would be worth a blog post somewhere... ;)"}],"tags":[],"owner":{"account_id":1606038,"reputation":12017,"user_id":1486125,"accept_rate":54,"display_name":"JBE"},"comment_count":4,"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1532706129,"creation_date":1345800109,"answer_id":12106524,"question_id":496928,"body_markdown":"Talking in terms of performance :\r\n\r\n**TL;DR**\r\n\r\nUse **isInstance** or **instanceof** which have similar performance. **isAssignableFrom** is slightly slower.\r\n\r\nSorted by performance:\r\n\r\n 1. **isInstance**\r\n 2. **instanceof** (+ 0.5%)\r\n 3. **isAssignableFrom** (+ 2.7%)\r\n\r\n*Based on a benchmark of 2000 iterations on JAVA 8 Windows x64, with 20 warmup iterations.*\r\n\r\n**In theory**\r\n\r\nUsing a soft like [bytecode viewer](http://bytecodeviewer.com/) we can translate each operator into bytecode.\r\n\r\nIn the context of:\r\n\r\n    package foo;\r\n\r\n    public class Benchmark\r\n    {\r\n      public static final Object a = new A();\r\n      public static final Object b = new B();\r\n    \r\n      ...\r\n\r\n    }\r\n\r\nJAVA:\r\n\r\n    b instanceof A;\r\n\r\nBytecode:\r\n\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    instanceof foo/A\r\n\r\nJAVA:\r\n\r\n    A.class.isInstance(b);\r\n\r\nBytecode:\r\n\r\n    ldc Lfoo/A; (org.objectweb.asm.Type)\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    invokevirtual java/lang/Class isInstance((Ljava/lang/Object;)Z);\r\n\r\nJAVA:\r\n\r\n    A.class.isAssignableFrom(b.getClass());\r\n\r\nBytecode:\r\n\r\n    ldc Lfoo/A; (org.objectweb.asm.Type)\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    invokevirtual java/lang/Object getClass(()Ljava/lang/Class;);\r\n    invokevirtual java/lang/Class isAssignableFrom((Ljava/lang/Class;)Z);\r\n\r\nMeasuring how many bytecode instructions are used by each operator, we could expect **instanceof** and **isInstance** to be faster than **isAssignableFrom**. However, the actual performance is NOT determined by the bytecode but by the machine code (which is platform dependent). Let&#39;s do a micro benchmark for each of the operators.\r\n\r\n**The benchmark**\r\n\r\nCredit: As advised by @aleksandr-dubinsky, and thanks to @yura for providing the base code, here is a [JMH](http://openjdk.java.net/projects/code-tools/jmh/) benchmark (see this [tuning guide](http://java-performance.info/jmh/)):\r\n\r\n    class A {}\r\n    class B extends A {}\r\n    \r\n    public class Benchmark {\r\n    \r\n    \tpublic static final Object a = new A();\r\n    \tpublic static final Object b = new B();\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testInstanceOf()\r\n    \t{\r\n    \t\treturn b instanceof A;\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testIsInstance()\r\n    \t{\r\n    \t\treturn A.class.isInstance(b);\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testIsAssignableFrom()\r\n    \t{\r\n    \t\treturn A.class.isAssignableFrom(b.getClass());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws RunnerException {\r\n    \t\tOptions opt = new OptionsBuilder()\r\n    \t\t\t\t.include(TestPerf2.class.getSimpleName())\r\n    \t\t\t\t.warmupIterations(20)\r\n    \t\t\t\t.measurementIterations(2000)\r\n    \t\t\t\t.forks(1)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tnew Runner(opt).run();\r\n    \t}\r\n    }\r\n\r\nGave the following results (score is *a number of operations in a time unit*, so the higher the score the better):\r\n\r\n    Benchmark                       Mode   Cnt    Score   Error   Units\r\n    Benchmark.testIsInstance        thrpt  2000  373,061 &#177; 0,115  ops/us\r\n    Benchmark.testInstanceOf        thrpt  2000  371,047 &#177; 0,131  ops/us\r\n    Benchmark.testIsAssignableFrom  thrpt  2000  363,648 &#177; 0,289  ops/us\r\n\r\n**Warning**\r\n\r\n- the benchmark is JVM and platform dependent. Since there are no significant differences between each operation, it might be possible to get a different result (and maybe different order!) on a different JAVA version and/or platforms like Solaris, Mac or Linux.\r\n- the benchmark compares the performance of &quot;is B an instance of A&quot; when &quot;B extends A&quot; directly. If the class hierarchy is deeper and more complex (like B extends X which extends Y which extends Z which extends A), results might be different.\r\n- it is usually advised to write the code first picking one of the operators (the most convenient) and then profile your code to check if there are a performance bottleneck. Maybe this operator is negligible in the context of your code, or maybe...\r\n- in relation to the previous point, `instanceof` in the context of your code might get optimized more easily than an `isInstance` for example... \r\n\r\nTo give you an example, take the following loop:\r\n\r\n    class A{}\r\n    class B extends A{}\r\n    \r\n    A b = new B();\r\n    \r\n    boolean execute(){\r\n      return A.class.isAssignableFrom(b.getClass());\r\n      // return A.class.isInstance(b);\r\n      // return b instanceof A;\r\n    }\r\n    \r\n    // Warmup the code\r\n    for (int i = 0; i &lt; 100; ++i)\r\n      execute();\r\n    \r\n    // Time it\r\n    int count = 100000;\r\n    final long start = System.nanoTime();\r\n    for(int i=0; i&lt;count; i++){\r\n       execute();\r\n    }\r\n    final long elapsed = System.nanoTime() - start;\r\n\r\nThanks to the JIT, the code is optimized at some point and we get:\r\n\r\n- instanceof: 6ms \r\n- isInstance: 12ms\r\n- isAssignableFrom : 15ms\r\n\r\n**Note**\r\n\r\nOriginally this post was doing its own benchmark using a *for* loop in raw JAVA, which gave unreliable results as some optimization like Just In Time can eliminate the loop. So it was mostly measuring how long did the JIT compiler take to optimize the loop: see https://stackoverflow.com/questions/12106799/performance-test-independent-of-the-number-of-iterations for more details\r\n\r\n**Related questions**\r\n\r\n- https://stackoverflow.com/questions/4973359/does-instanceof-operator-generate-a-lot-of-overhead-why\r\n- https://stackoverflow.com/questions/14190189/how-instanceof-is-implemented-inside-java\r\n- https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Talking in terms of performance :</p>\n\n<p><strong>TL;DR</strong></p>\n\n<p>Use <strong>isInstance</strong> or <strong>instanceof</strong> which have similar performance. <strong>isAssignableFrom</strong> is slightly slower.</p>\n\n<p>Sorted by performance:</p>\n\n<ol>\n<li><strong>isInstance</strong></li>\n<li><strong>instanceof</strong> (+ 0.5%)</li>\n<li><strong>isAssignableFrom</strong> (+ 2.7%)</li>\n</ol>\n\n<p><em>Based on a benchmark of 2000 iterations on JAVA 8 Windows x64, with 20 warmup iterations.</em></p>\n\n<p><strong>In theory</strong></p>\n\n<p>Using a soft like <a href=\"http://bytecodeviewer.com/\" rel=\"noreferrer\">bytecode viewer</a> we can translate each operator into bytecode.</p>\n\n<p>In the context of:</p>\n\n<pre><code>package foo;\n\npublic class Benchmark\n{\n  public static final Object a = new A();\n  public static final Object b = new B();\n\n  ...\n\n}\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>b instanceof A;\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>getstatic foo/Benchmark.b:java.lang.Object\ninstanceof foo/A\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>A.class.isInstance(b);\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>ldc Lfoo/A; (org.objectweb.asm.Type)\ngetstatic foo/Benchmark.b:java.lang.Object\ninvokevirtual java/lang/Class isInstance((Ljava/lang/Object;)Z);\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>A.class.isAssignableFrom(b.getClass());\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>ldc Lfoo/A; (org.objectweb.asm.Type)\ngetstatic foo/Benchmark.b:java.lang.Object\ninvokevirtual java/lang/Object getClass(()Ljava/lang/Class;);\ninvokevirtual java/lang/Class isAssignableFrom((Ljava/lang/Class;)Z);\n</code></pre>\n\n<p>Measuring how many bytecode instructions are used by each operator, we could expect <strong>instanceof</strong> and <strong>isInstance</strong> to be faster than <strong>isAssignableFrom</strong>. However, the actual performance is NOT determined by the bytecode but by the machine code (which is platform dependent). Let's do a micro benchmark for each of the operators.</p>\n\n<p><strong>The benchmark</strong></p>\n\n<p>Credit: As advised by @aleksandr-dubinsky, and thanks to @yura for providing the base code, here is a <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> benchmark (see this <a href=\"http://java-performance.info/jmh/\" rel=\"noreferrer\">tuning guide</a>):</p>\n\n<pre><code>class A {}\nclass B extends A {}\n\npublic class Benchmark {\n\n    public static final Object a = new A();\n    public static final Object b = new B();\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testInstanceOf()\n    {\n        return b instanceof A;\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testIsInstance()\n    {\n        return A.class.isInstance(b);\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testIsAssignableFrom()\n    {\n        return A.class.isAssignableFrom(b.getClass());\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(TestPerf2.class.getSimpleName())\n                .warmupIterations(20)\n                .measurementIterations(2000)\n                .forks(1)\n                .build();\n\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n\n<p>Gave the following results (score is <em>a number of operations in a time unit</em>, so the higher the score the better):</p>\n\n<pre><code>Benchmark                       Mode   Cnt    Score   Error   Units\nBenchmark.testIsInstance        thrpt  2000  373,061 ± 0,115  ops/us\nBenchmark.testInstanceOf        thrpt  2000  371,047 ± 0,131  ops/us\nBenchmark.testIsAssignableFrom  thrpt  2000  363,648 ± 0,289  ops/us\n</code></pre>\n\n<p><strong>Warning</strong></p>\n\n<ul>\n<li>the benchmark is JVM and platform dependent. Since there are no significant differences between each operation, it might be possible to get a different result (and maybe different order!) on a different JAVA version and/or platforms like Solaris, Mac or Linux.</li>\n<li>the benchmark compares the performance of \"is B an instance of A\" when \"B extends A\" directly. If the class hierarchy is deeper and more complex (like B extends X which extends Y which extends Z which extends A), results might be different.</li>\n<li>it is usually advised to write the code first picking one of the operators (the most convenient) and then profile your code to check if there are a performance bottleneck. Maybe this operator is negligible in the context of your code, or maybe...</li>\n<li>in relation to the previous point, <code>instanceof</code> in the context of your code might get optimized more easily than an <code>isInstance</code> for example... </li>\n</ul>\n\n<p>To give you an example, take the following loop:</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\nA b = new B();\n\nboolean execute(){\n  return A.class.isAssignableFrom(b.getClass());\n  // return A.class.isInstance(b);\n  // return b instanceof A;\n}\n\n// Warmup the code\nfor (int i = 0; i &lt; 100; ++i)\n  execute();\n\n// Time it\nint count = 100000;\nfinal long start = System.nanoTime();\nfor(int i=0; i&lt;count; i++){\n   execute();\n}\nfinal long elapsed = System.nanoTime() - start;\n</code></pre>\n\n<p>Thanks to the JIT, the code is optimized at some point and we get:</p>\n\n<ul>\n<li>instanceof: 6ms </li>\n<li>isInstance: 12ms</li>\n<li>isAssignableFrom : 15ms</li>\n</ul>\n\n<p><strong>Note</strong></p>\n\n<p>Originally this post was doing its own benchmark using a <em>for</em> loop in raw JAVA, which gave unreliable results as some optimization like Just In Time can eliminate the loop. So it was mostly measuring how long did the JIT compiler take to optimize the loop: see <a href=\"https://stackoverflow.com/questions/12106799/performance-test-independent-of-the-number-of-iterations\">Performance test independent of the number of iterations</a> for more details</p>\n\n<p><strong>Related questions</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4973359/does-instanceof-operator-generate-a-lot-of-overhead-why\">Does instanceof operator generate a lot of overhead ? Why?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14190189/how-instanceof-is-implemented-inside-java\">How instanceof is implemented inside JAVA?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java\">The performance impact of using instanceof in Java</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"score":1,"creation_date":1663167139,"post_id":18705541,"comment_id":130176134,"body_markdown":"simple is the best. thanks.","body":"simple is the best. thanks."}],"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452026985,"creation_date":1378755032,"answer_id":18705541,"question_id":496928,"body_markdown":"instanceof cannot be used with primitive types or generic types either.  As in the following code:\r\n\r\n    //Define Class&lt; T &gt; type ... \r\n\r\n    Object e = new Object();\r\n    \r\n    if(e instanceof T) {\r\n      // Do something.\r\n    }\r\n\r\nThe error is: Cannot perform instanceof check against type parameter T.  Use it&#39;s erasure Object instead since further generic type information will be erased at runtime.\r\n\r\nDoes not compile due to type erasure removing the runtime reference.  However, the code below will compile:\r\n\r\n    if( type.isAssignableFrom(e.getClass())){\r\n      // Do something.\r\n    }\r\n\r\n","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>instanceof cannot be used with primitive types or generic types either.  As in the following code:</p>\n\n<pre><code>//Define Class&lt; T &gt; type ... \n\nObject e = new Object();\n\nif(e instanceof T) {\n  // Do something.\n}\n</code></pre>\n\n<p>The error is: Cannot perform instanceof check against type parameter T.  Use it's erasure Object instead since further generic type information will be erased at runtime.</p>\n\n<p>Does not compile due to type erasure removing the runtime reference.  However, the code below will compile:</p>\n\n<pre><code>if( type.isAssignableFrom(e.getClass())){\n  // Do something.\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"anon"},"score":2,"creation_date":1458334961,"post_id":36086355,"comment_id":59832637,"body_markdown":"Please explain what this code does and how it answers the question.","body":"Please explain what this code does and how it answers the question."}],"tags":[],"owner":{"account_id":2788691,"reputation":21,"user_id":2798292,"display_name":"Stephan Korsholm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460491225,"creation_date":1458309570,"answer_id":36086355,"question_id":496928,"body_markdown":"    isAssignableFrom(A, B) =\r\n    \r\n    if (A == B) return true\r\n    else if (B == java.lang.Object) return false\r\n    else return isAssignableFrom(A, getSuperClass(B))\r\n\r\nThe pseudo code above is a definition of, if references of type/class A is assignable from references of type/class B. It is a recursive definition. To some it may be helpful, for others it may be confusing. I add it in case somebody should find it useful. This is just an attempt to capture my understanding, it is not the official definition. It is used in a certain Java VM implementation and works for many example programs, so while I cannot guarentee that it captures all aspects of isAssignableFrom, it is not completely off.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<pre><code>isAssignableFrom(A, B) =\n\nif (A == B) return true\nelse if (B == java.lang.Object) return false\nelse return isAssignableFrom(A, getSuperClass(B))\n</code></pre>\n\n<p>The pseudo code above is a definition of, if references of type/class A is assignable from references of type/class B. It is a recursive definition. To some it may be helpful, for others it may be confusing. I add it in case somebody should find it useful. This is just an attempt to capture my understanding, it is not the official definition. It is used in a certain Java VM implementation and works for many example programs, so while I cannot guarentee that it captures all aspects of isAssignableFrom, it is not completely off.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503248704,"creation_date":1503248704,"answer_id":45784735,"question_id":496928,"body_markdown":"Talking in terms of performance &quot;2&quot; (with JMH):\r\n\r\n    class A{}\r\n    class B extends A{}\r\n\t\r\n    public class InstanceOfTest {\r\n\r\n\tpublic static final Object a = new A();\r\n\tpublic static final Object b = new B();\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testInstanceOf()\r\n\t{\r\n\t\treturn b instanceof A;\r\n\t}\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testIsInstance()\r\n\t{\r\n\t\treturn A.class.isInstance(b);\r\n\t}\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testIsAssignableFrom()\r\n\t{\r\n\t\treturn A.class.isAssignableFrom(b.getClass());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws RunnerException {\r\n\t\tOptions opt = new OptionsBuilder()\r\n\t\t\t\t.include(InstanceOfTest.class.getSimpleName())\r\n\t\t\t\t.warmupIterations(5)\r\n\t\t\t\t.measurementIterations(5)\r\n\t\t\t\t.forks(1)\r\n\t\t\t\t.build();\r\n\r\n\t\tnew Runner(opt).run();\r\n\t}\r\n    }\r\n\r\nIt gives:\r\n\r\n    Benchmark                            Mode  Cnt  Score   Error  Units\r\n    InstanceOfTest.testInstanceOf        avgt    5  1,972 ? 0,002  ns/op\r\n    InstanceOfTest.testIsAssignableFrom  avgt    5  1,991 ? 0,004  ns/op\r\n    InstanceOfTest.testIsInstance        avgt    5  1,972 ? 0,003  ns/op\r\n \r\nSo that we can conclude: **instanceof** as fast as **isInstance()** and **isAssignableFrom()** not far away (+0.9% executon time). So no real difference whatever you choose","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Talking in terms of performance \"2\" (with JMH):</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\npublic class InstanceOfTest {\n\npublic static final Object a = new A();\npublic static final Object b = new B();\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testInstanceOf()\n{\n    return b instanceof A;\n}\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testIsInstance()\n{\n    return A.class.isInstance(b);\n}\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testIsAssignableFrom()\n{\n    return A.class.isAssignableFrom(b.getClass());\n}\n\npublic static void main(String[] args) throws RunnerException {\n    Options opt = new OptionsBuilder()\n            .include(InstanceOfTest.class.getSimpleName())\n            .warmupIterations(5)\n            .measurementIterations(5)\n            .forks(1)\n            .build();\n\n    new Runner(opt).run();\n}\n}\n</code></pre>\n\n<p>It gives:</p>\n\n<pre><code>Benchmark                            Mode  Cnt  Score   Error  Units\nInstanceOfTest.testInstanceOf        avgt    5  1,972 ? 0,002  ns/op\nInstanceOfTest.testIsAssignableFrom  avgt    5  1,991 ? 0,004  ns/op\nInstanceOfTest.testIsInstance        avgt    5  1,972 ? 0,003  ns/op\n</code></pre>\n\n<p>So that we can conclude: <strong>instanceof</strong> as fast as <strong>isInstance()</strong> and <strong>isAssignableFrom()</strong> not far away (+0.9% executon time). So no real difference whatever you choose</p>\n"},{"tags":[],"owner":{"account_id":5300832,"reputation":2123,"user_id":4230520,"display_name":"Sagan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586798988,"creation_date":1586798988,"answer_id":61193297,"question_id":496928,"body_markdown":"How about some examples to show it in action...\r\n\r\n    @Test\r\n    public void isInstanceOf() {\r\n        Exception anEx1 = new Exception(&quot;ex&quot;);\r\n        Exception anEx2 = new RuntimeException(&quot;ex&quot;);\r\n        RuntimeException anEx3 = new RuntimeException(&quot;ex&quot;);\r\n\r\n        //Base case, handles inheritance\r\n        Assert.assertTrue(anEx1 instanceof Exception);\r\n        Assert.assertTrue(anEx2 instanceof Exception);\r\n        Assert.assertTrue(anEx3 instanceof Exception);\r\n\r\n        //Other cases\r\n        Assert.assertFalse(anEx1 instanceof RuntimeException);\r\n        Assert.assertTrue(anEx2 instanceof RuntimeException);\r\n        Assert.assertTrue(anEx3 instanceof RuntimeException);\r\n    }\r\n\r\n    @Test\r\n    public void isAssignableFrom() {\r\n        Exception anEx1 = new Exception(&quot;ex&quot;);\r\n        Exception anEx2 = new RuntimeException(&quot;ex&quot;);\r\n        RuntimeException anEx3 = new RuntimeException(&quot;ex&quot;);\r\n\r\n        //Correct usage = The base class goes first\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx1.getClass()));\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx2.getClass()));\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx3.getClass()));\r\n\r\n        //Incorrect usage = Method parameter is used in the wrong order\r\n        Assert.assertTrue(anEx1.getClass().isAssignableFrom(Exception.class));\r\n        Assert.assertFalse(anEx2.getClass().isAssignableFrom(Exception.class));\r\n        Assert.assertFalse(anEx3.getClass().isAssignableFrom(Exception.class));\r\n    }","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>How about some examples to show it in action...</p>\n\n<pre><code>@Test\npublic void isInstanceOf() {\n    Exception anEx1 = new Exception(\"ex\");\n    Exception anEx2 = new RuntimeException(\"ex\");\n    RuntimeException anEx3 = new RuntimeException(\"ex\");\n\n    //Base case, handles inheritance\n    Assert.assertTrue(anEx1 instanceof Exception);\n    Assert.assertTrue(anEx2 instanceof Exception);\n    Assert.assertTrue(anEx3 instanceof Exception);\n\n    //Other cases\n    Assert.assertFalse(anEx1 instanceof RuntimeException);\n    Assert.assertTrue(anEx2 instanceof RuntimeException);\n    Assert.assertTrue(anEx3 instanceof RuntimeException);\n}\n\n@Test\npublic void isAssignableFrom() {\n    Exception anEx1 = new Exception(\"ex\");\n    Exception anEx2 = new RuntimeException(\"ex\");\n    RuntimeException anEx3 = new RuntimeException(\"ex\");\n\n    //Correct usage = The base class goes first\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx1.getClass()));\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx2.getClass()));\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx3.getClass()));\n\n    //Incorrect usage = Method parameter is used in the wrong order\n    Assert.assertTrue(anEx1.getClass().isAssignableFrom(Exception.class));\n    Assert.assertFalse(anEx2.getClass().isAssignableFrom(Exception.class));\n    Assert.assertFalse(anEx3.getClass().isAssignableFrom(Exception.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661879775,"creation_date":1661879775,"answer_id":73546274,"question_id":496928,"body_markdown":"It all depends on what you have available at that point in the code. I would not recommend to use `isAssignableFrom` if you are working with an actual object — there is a better option. Here is a ranked list of recommendations, based on what you have available:\r\n\r\n - If you have an object `a` and you know the type `B` at compile time:\r\n\r\n   `a instanceof B`\r\n - If you have an object `a` and you don&#39;t know the type `B`, but you have an object `b`:\r\n\r\n   `b.getClass().isInstance(a)`\r\n - If you have an object `a` and you don&#39;t have a type at compile time OR an instantiated object, but you do have a class object `Class&lt;?&gt; someBClass`:\r\n\r\n   `someBClass.isInstance(a)`\r\n - If you have no instantiated objects, but you have two `Class&lt;?&gt;` objects:\r\n\r\n   `someBClass.isAssignableFrom(someAClass)`.\r\n\r\nAssuming you start at the top of the list and work down, each one of these is the simplest way to accomplish your goal, and based on my own research _I believe_ that you will also get the best possible performance.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>It all depends on what you have available at that point in the code. I would not recommend to use <code>isAssignableFrom</code> if you are working with an actual object — there is a better option. Here is a ranked list of recommendations, based on what you have available:</p>\n<ul>\n<li><p>If you have an object <code>a</code> and you know the type <code>B</code> at compile time:</p>\n<p><code>a instanceof B</code></p>\n</li>\n<li><p>If you have an object <code>a</code> and you don't know the type <code>B</code>, but you have an object <code>b</code>:</p>\n<p><code>b.getClass().isInstance(a)</code></p>\n</li>\n<li><p>If you have an object <code>a</code> and you don't have a type at compile time OR an instantiated object, but you do have a class object <code>Class&lt;?&gt; someBClass</code>:</p>\n<p><code>someBClass.isInstance(a)</code></p>\n</li>\n<li><p>If you have no instantiated objects, but you have two <code>Class&lt;?&gt;</code> objects:</p>\n<p><code>someBClass.isAssignableFrom(someAClass)</code>.</p>\n</li>\n</ul>\n<p>Assuming you start at the top of the list and work down, each one of these is the simplest way to accomplish your goal, and based on my own research <em>I believe</em> that you will also get the best possible performance.</p>\n"},{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702319803,"creation_date":1702319803,"answer_id":77641689,"question_id":496928,"body_markdown":"Just an adition to the comments above.\r\n\r\nWhen you have the instances, of A and B classes the equivalence is true: \r\n`b instanceOf A` &lt;=&gt; `a.getClass().isAssignableFrom(B.class)`, and instanceOf is more convennient.\r\n\r\nBut as `instance of` needs some instance of the left side, `isAssignableFrom()` comes handy when you do not have it, e.g. when you use reflection and need to check whether you can assign a field&#39;s value to a variable:\r\n```\r\nField field = ...;\r\nif (A.class.isAssignableFrom(field.getType())) { \r\n   A someA = (A)field.get(instanceWithTheField);\r\n   ...\r\n}\r\n```","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Just an adition to the comments above.</p>\n<p>When you have the instances, of A and B classes the equivalence is true:\n<code>b instanceOf A</code> &lt;=&gt; <code>a.getClass().isAssignableFrom(B.class)</code>, and instanceOf is more convennient.</p>\n<p>But as <code>instance of</code> needs some instance of the left side, <code>isAssignableFrom()</code> comes handy when you do not have it, e.g. when you use reflection and need to check whether you can assign a field's value to a variable:</p>\n<pre><code>Field field = ...;\nif (A.class.isAssignableFrom(field.getType())) { \n   A someA = (A)field.get(instanceWithTheField);\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":22128,"reputation":6277,"user_id":54318,"accept_rate":100,"display_name":"Megamug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282194,"favorite_count":0,"down_vote_count":0,"up_vote_count":506,"accepted_answer_id":497001,"answer_count":16,"score":506,"last_activity_date":1702319803,"creation_date":1233344664,"question_id":496928,"body_markdown":"Which of the following is better?\r\n\r\n    a instanceof B\r\n\r\nor\r\n\r\n    B.class.isAssignableFrom(a.getClass())\r\n\r\nThe only difference that I know of is, when &#39;a&#39; is null, the first returns false, while the second throws an exception. Other than that, do they always give the same result?","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Which of the following is better?</p>\n\n<pre><code>a instanceof B\n</code></pre>\n\n<p>or</p>\n\n<pre><code>B.class.isAssignableFrom(a.getClass())\n</code></pre>\n\n<p>The only difference that I know of is, when 'a' is null, the first returns false, while the second throws an exception. Other than that, do they always give the same result?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1486074190,"post_id":42013087,"comment_id":71202422,"body_markdown":"Don&#39;t know if it&#39;s causing your problem, but the screenshot shows that you didn&#39;t name the *part*. According to your `handleFileUpload()` method, you need to give the *part* a name/key value of `file`. Without a *part* name, it probably didn&#39;t send anything to the server, and &quot;nothing&quot; = &quot;not multipart&quot;.","body":"Don&#39;t know if it&#39;s causing your problem, but the screenshot shows that you didn&#39;t name the <i>part</i>. According to your <code>handleFileUpload()</code> method, you need to give the <i>part</i> a name/key value of <code>file</code>. Without a <i>part</i> name, it probably didn&#39;t send anything to the server, and &quot;nothing&quot; = &quot;not multipart&quot;."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1486074471,"post_id":42013087,"comment_id":71202526,"body_markdown":"No, you shouldn&#39;t need to make a directory.","body":"No, you shouldn&#39;t need to make a directory."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1486074555,"post_id":42013087,"comment_id":71202560,"body_markdown":"*Unrelated:* Since you annotated class with `@RestController`, you don&#39;t need to annotate method with `@ResponseBody`. See javadoc: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html","body":"<i>Unrelated:</i> Since you annotated class with <code>@RestController</code>, you don&#39;t need to annotate method with <code>@ResponseBody</code>. See javadoc: <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"score":2,"creation_date":1486073494,"post_id":42013182,"comment_id":71202110,"body_markdown":"it&#39;s a rest application, currently, there is no html for client side. i use postman","body":"it&#39;s a rest application, currently, there is no html for client side. i use postman"},{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1576401046,"post_id":42013182,"comment_id":104882354,"body_markdown":"@SalmanLashkarara, you can still add it in the headers from your rest client.","body":"@SalmanLashkarara, you can still add it in the headers from your rest client."}],"tags":[],"owner":{"account_id":2445369,"reputation":794,"user_id":2132895,"display_name":"Javier Z."},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1486073106,"creation_date":1486073106,"answer_id":42013182,"question_id":42013087,"body_markdown":"It looks like the problem is request to server is not a multi-part request. Basically you need to modify your client-side form. For  example:\r\n\r\n\r\n    &lt;form action=&quot;...&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n      &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\nHope this helps.","title":"MultipartException: Current request is not a multipart request","body":"<p>It looks like the problem is request to server is not a multi-part request. Basically you need to modify your client-side form. For  example:</p>\n\n<pre><code>&lt;form action=\"...\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n  &lt;input type=\"file\" name=\"file\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"score":0,"creation_date":1486123781,"post_id":42016651,"comment_id":71221843,"body_markdown":"I didn&#39;t get you. can you send an image of right request in postman.","body":"I didn&#39;t get you. can you send an image of right request in postman."},{"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"score":2,"creation_date":1486123975,"post_id":42016651,"comment_id":71221961,"body_markdown":"Check the Headers tab just before Body tab in Postman. Your request is correct but there is some entry in Headers as image shared by you shows Headers(1). Remove entry from there.","body":"Check the Headers tab just before Body tab in Postman. Your request is correct but there is some entry in Headers as image shared by you shows Headers(1). Remove entry from there."}],"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"comment_count":2,"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1486095192,"creation_date":1486095192,"answer_id":42016651,"question_id":42013087,"body_markdown":"When you are using Postman for multipart request then don&#39;t specify a custom Content-Type in Header. So your Header tab in Postman should be empty. Postman will determine form-data boundary. In Body tab of Postman you should select form-data and select file type. You can find related discussion at https://github.com/postmanlabs/postman-app-support/issues/576","title":"MultipartException: Current request is not a multipart request","body":"<p>When you are using Postman for multipart request then don't specify a custom Content-Type in Header. So your Header tab in Postman should be empty. Postman will determine form-data boundary. In Body tab of Postman you should select form-data and select file type. You can find related discussion at <a href=\"https://github.com/postmanlabs/postman-app-support/issues/576\" rel=\"noreferrer\">https://github.com/postmanlabs/postman-app-support/issues/576</a></p>\n"},{"comments":[{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1645525361,"post_id":50037545,"comment_id":125888489,"body_markdown":"&#39;spring.http.multipart.enabled&#39; is deprecated. Please use &#39;spring.servlet.multipart.enabled&#39;.","body":"&#39;spring.http.multipart.enabled&#39; is deprecated. Please use &#39;spring.servlet.multipart.enabled&#39;."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":2,"creation_date":1645525391,"post_id":50037545,"comment_id":125888501,"body_markdown":"Are you sure you want to set &#39;enabled&#39; flag to &#39;false&#39;?","body":"Are you sure you want to set &#39;enabled&#39; flag to &#39;false&#39;?"}],"tags":[],"owner":{"account_id":12475278,"reputation":49,"user_id":9081877,"display_name":"N.Luan Pham"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524728935,"creation_date":1524728935,"answer_id":50037545,"question_id":42013087,"body_markdown":"In application.properties, please add this:\r\n\r\n    spring.servlet.multipart.max-file-size=128KB\r\n    spring.servlet.multipart.max-request-size=128KB\r\n    spring.http.multipart.enabled=false\r\n\r\n\r\n\r\nand in your html form, you need an : `enctype=&quot;multipart/form-data&quot;`.\r\nFor example:\r\n\r\n    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; action=&quot;/&quot;&gt;\r\nHope this help!","title":"MultipartException: Current request is not a multipart request","body":"<p>In application.properties, please add this:</p>\n\n<pre><code>spring.servlet.multipart.max-file-size=128KB\nspring.servlet.multipart.max-request-size=128KB\nspring.http.multipart.enabled=false\n</code></pre>\n\n<p>and in your html form, you need an : <code>enctype=\"multipart/form-data\"</code>.\nFor example:</p>\n\n<pre><code>&lt;form method=\"POST\" enctype=\"multipart/form-data\" action=\"/\"&gt;\n</code></pre>\n\n<p>Hope this help!</p>\n"},{"tags":[],"owner":{"account_id":13600134,"reputation":151,"user_id":9811044,"display_name":"Nilesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1526641680,"creation_date":1526638014,"answer_id":50408868,"question_id":42013087,"body_markdown":"I was also facing the same issue with `Postman` for `multipart`. I fixed it by doing the following steps:\r\n\r\n- Do not select `Content-Type` in the `Headers` section. \r\n- In `Body` tab of `Postman` you should select `form-data` and select `file type`.\r\n\r\nIt worked for me.","title":"MultipartException: Current request is not a multipart request","body":"<p>I was also facing the same issue with <code>Postman</code> for <code>multipart</code>. I fixed it by doing the following steps:</p>\n\n<ul>\n<li>Do not select <code>Content-Type</code> in the <code>Headers</code> section. </li>\n<li>In <code>Body</code> tab of <code>Postman</code> you should select <code>form-data</code> and select <code>file type</code>.</li>\n</ul>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541184744,"creation_date":1541184744,"answer_id":53124329,"question_id":42013087,"body_markdown":"in ARC (advanced rest client) - specify as below to make it work\r\n`Content-Type multipart/form-data`  (this is header name and header value)\r\nthis allows you to add form data as key and values \r\nyou can specify you field name now as per your REST specification and select your file to upload from file selector.","title":"MultipartException: Current request is not a multipart request","body":"<p>in ARC (advanced rest client) - specify as below to make it work\n<code>Content-Type multipart/form-data</code>  (this is header name and header value)\nthis allows you to add form data as key and values \nyou can specify you field name now as per your REST specification and select your file to upload from file selector.</p>\n"},{"comments":[{"owner":{"account_id":2889895,"reputation":4122,"user_id":2478930,"display_name":"cheneym"},"score":1,"creation_date":1597236487,"post_id":62373174,"comment_id":112066488,"body_markdown":"I had the exact problem! Every setting was correct - but one thing: The file did not exist (anymore).\nInstead of getting a &#39;file not found&#39; (or something similar) I would always get `Current request is not a multipart request`.","body":"I had the exact problem! Every setting was correct - but one thing: The file did not exist (anymore). Instead of getting a &#39;file not found&#39; (or something similar) I would always get <code>Current request is not a multipart request</code>."}],"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592141403,"creation_date":1592141403,"answer_id":62373174,"question_id":42013087,"body_markdown":"Check the file which you have selected in the request.\r\n\r\nFor me i was getting the error because the file was not present in the system, as i have imported the request from some other machine.","title":"MultipartException: Current request is not a multipart request","body":"<p>Check the file which you have selected in the request.</p>\n\n<p>For me i was getting the error because the file was not present in the system, as i have imported the request from some other machine.</p>\n"},{"tags":[],"owner":{"account_id":18338069,"reputation":1,"user_id":13355025,"display_name":"Samarpan Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600945028,"creation_date":1600945028,"answer_id":64045007,"question_id":42013087,"body_markdown":"i was facing the same issue with misspelled  enctype=&quot;multipart/form-data&quot;, i was fix this exception by doing correct  spelling .\r\nCurrent request is not a multipart request client side error so please check your form.","title":"MultipartException: Current request is not a multipart request","body":"<p>i was facing the same issue with misspelled  enctype=&quot;multipart/form-data&quot;, i was fix this exception by doing correct  spelling .\nCurrent request is not a multipart request client side error so please check your form.</p>\n"},{"comments":[{"owner":{"account_id":2679545,"reputation":306,"user_id":12492815,"display_name":"Viktor Born"},"score":3,"creation_date":1651068316,"post_id":66384450,"comment_id":127274621,"body_markdown":"Thanks a lot! Just switched to text then back to selecting a file and viola it&#39;s working again.","body":"Thanks a lot! Just switched to text then back to selecting a file and viola it&#39;s working again."},{"owner":{"account_id":1340131,"reputation":276,"user_id":1281970,"accept_rate":32,"display_name":"irshad.ahmad"},"score":1,"creation_date":1651395747,"post_id":66384450,"comment_id":127351093,"body_markdown":"this worked for me, that has to be the accepted","body":"this worked for me, that has to be the accepted"},{"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"score":1,"creation_date":1656337790,"post_id":66384450,"comment_id":128540497,"body_markdown":"I hat the same issue .. thx :)","body":"I hat the same issue .. thx :)"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":2,"creation_date":1664715098,"post_id":66384450,"comment_id":130530665,"body_markdown":"thank you very much for answer. this bug made me crazy, but solution is quite simple","body":"thank you very much for answer. this bug made me crazy, but solution is quite simple"},{"owner":{"account_id":10324417,"reputation":350,"user_id":7616297,"display_name":"Maik"},"score":1,"creation_date":1689169872,"post_id":66384450,"comment_id":135175606,"body_markdown":"WTF: True. this worked, now. Thanks.","body":"WTF: True. this worked, now. Thanks."}],"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1614336709,"creation_date":1614336709,"answer_id":66384450,"question_id":42013087,"body_markdown":"That happened once to me: I had a perfectly working Postman configuration, but then, without changing anything, even though I didn&#39;t inform the `Content-Type` manually on Postman, it stopped working; following the answers to this question, I tried both disabling the header and letting Postman add it automatically, but neither options worked. \r\n\r\nI ended up solving it by going to the `Body` tab, change the param type from `File` to `Text`, then back to `File` and then re-selecting the file to send; somehow, this made it work again. Smells like a Postman bug, in that specific case, maybe?","title":"MultipartException: Current request is not a multipart request","body":"<p>That happened once to me: I had a perfectly working Postman configuration, but then, without changing anything, even though I didn't inform the <code>Content-Type</code> manually on Postman, it stopped working; following the answers to this question, I tried both disabling the header and letting Postman add it automatically, but neither options worked.</p>\n<p>I ended up solving it by going to the <code>Body</code> tab, change the param type from <code>File</code> to <code>Text</code>, then back to <code>File</code> and then re-selecting the file to send; somehow, this made it work again. Smells like a Postman bug, in that specific case, maybe?</p>\n"},{"tags":[],"owner":{"account_id":15070950,"reputation":78,"user_id":10876451,"display_name":"mzhehalo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616842156,"creation_date":1616842156,"answer_id":66830459,"question_id":42013087,"body_markdown":"In my case, I **removed:** \r\n\r\n&gt; &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n\r\n from my **Interceptor**, and everything works.\r\n\r\n         intercept(httpRequest: HttpRequest&lt;any&gt;, httpHandler: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n    if (this.authService.isUserLoggedIn() &amp;&amp; httpRequest.url.indexOf(&#39;login&#39;) === -1) {\r\n      const authReq = httpRequest.clone({\r\n        headers: new HttpHeaders({\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n          Authorization: this.authService.getBasicAuth()\r\n        })\r\n      });\r\n      return httpHandler.handle(authReq);\r\n    } else {\r\n      return httpHandler.handle(httpRequest);\r\n    }}","title":"MultipartException: Current request is not a multipart request","body":"<p>In my case, I <strong>removed:</strong></p>\n<blockquote>\n<p>'Content-Type': 'application/json',</p>\n</blockquote>\n<p>from my <strong>Interceptor</strong>, and everything works.</p>\n<pre><code>     intercept(httpRequest: HttpRequest&lt;any&gt;, httpHandler: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\nif (this.authService.isUserLoggedIn() &amp;&amp; httpRequest.url.indexOf('login') === -1) {\n  const authReq = httpRequest.clone({\n    headers: new HttpHeaders({\n    'Content-Type': 'application/json',\n      Authorization: this.authService.getBasicAuth()\n    })\n  });\n  return httpHandler.handle(authReq);\n} else {\n  return httpHandler.handle(httpRequest);\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620282077,"creation_date":1620282077,"answer_id":67412837,"question_id":42013087,"body_markdown":"You need to add **consumes = {MULTIPART_FORM_DATA_VALUE}** to your mapping. Full example : \r\n\r\n\r\n    @PostMapping(path = &quot;/{idDocument}/attachments&quot;, consumes = {MULTIPART_FORM_DATA_VALUE})\r\n    ResponseEntity&lt;String&gt; addAttachmentsToDocumentForm(@PathVariable Long idDocument, @RequestParam(&quot;file&quot;) MultipartFile[] files){\r\n        documentService.addAttachments(idDocument, files);\r\n        return ok(&quot;your response&quot;);\r\n    }","title":"MultipartException: Current request is not a multipart request","body":"<p>You need to add <strong>consumes = {MULTIPART_FORM_DATA_VALUE}</strong> to your mapping. Full example :</p>\n<pre><code>@PostMapping(path = &quot;/{idDocument}/attachments&quot;, consumes = {MULTIPART_FORM_DATA_VALUE})\nResponseEntity&lt;String&gt; addAttachmentsToDocumentForm(@PathVariable Long idDocument, @RequestParam(&quot;file&quot;) MultipartFile[] files){\n    documentService.addAttachments(idDocument, files);\n    return ok(&quot;your response&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21189743,"reputation":21,"user_id":15582432,"display_name":"Youngkhaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623236889,"creation_date":1623236889,"answer_id":67902971,"question_id":42013087,"body_markdown":"i was facing this issue but it was due to the file i was uploading in postman wasn&#39;t in the **postman working directory**\r\nGo to Settings -&gt; General and scroll down to location to find it&#39;s location folder and put your files to upload there.\r\n\r\nSee : [Setup Potman working directory][1]\r\n\r\n\r\n  [1]: https://go.pstmn.io/docs-working-directory","title":"MultipartException: Current request is not a multipart request","body":"<p>i was facing this issue but it was due to the file i was uploading in postman wasn't in the <strong>postman working directory</strong>\nGo to Settings -&gt; General and scroll down to location to find it's location folder and put your files to upload there.</p>\n<p>See : <a href=\"https://go.pstmn.io/docs-working-directory\" rel=\"nofollow noreferrer\">Setup Potman working directory</a></p>\n"},{"tags":[],"owner":{"account_id":14301436,"reputation":338,"user_id":10330658,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643782827,"creation_date":1643782827,"answer_id":70951255,"question_id":42013087,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1BOsM.png\r\n\r\n\r\n     @PostMapping(&quot;/upload&quot;)\r\n\t  public ResponseEntity&lt;ResponseMessage&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile uploadFile) {\r\n\t    String message = &quot;&quot;;\r\n\t    try {\r\n\t    \tservice.save(uploadFile);\r\n\r\n\t      message = &quot;Uploaded the file successfully: &quot; + uploadFile.getOriginalFilename();\r\n\t      return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n\t    } catch (Exception e) {\r\n\t      message = &quot;Could not upload the file: &quot; + uploadFile.getOriginalFilename() + &quot;!&quot;;\r\n\t      return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n\t    }\r\n\t  }","title":"MultipartException: Current request is not a multipart request","body":"<p><a href=\"https://i.stack.imgur.com/1BOsM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BOsM.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> @PostMapping(&quot;/upload&quot;)\n  public ResponseEntity&lt;ResponseMessage&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile uploadFile) {\n    String message = &quot;&quot;;\n    try {\n        service.save(uploadFile);\n\n      message = &quot;Uploaded the file successfully: &quot; + uploadFile.getOriginalFilename();\n      return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n    } catch (Exception e) {\n      message = &quot;Could not upload the file: &quot; + uploadFile.getOriginalFilename() + &quot;!&quot;;\n      return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n    }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":1,"creation_date":1659620542,"post_id":73203990,"comment_id":129341822,"body_markdown":"Welcome to SO! Please add a little textual explanation about how and why your approach works and what makes it different from the other answers given. You can find out more at our [&quot;How to write a good answer&quot;](https://stackoverflow.com/help/how-to-answer) page. Additionally, in my opionen, what you wrote does not answer the question as there is a different problem.","body":"Welcome to SO! Please add a little textual explanation about how and why your approach works and what makes it different from the other answers given. You can find out more at our <a href=\"https://stackoverflow.com/help/how-to-answer\">&quot;How to write a good answer&quot;</a> page. Additionally, in my opionen, what you wrote does not answer the question as there is a different problem."}],"tags":[],"owner":{"account_id":25955243,"reputation":1,"user_id":19672679,"display_name":"Ira Sheikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659427566,"creation_date":1659427566,"answer_id":73203990,"question_id":42013087,"body_markdown":"add required=false with the parameter\r\n@RequestParam(required = false,value = &quot;file&quot;) MultipartFile file","title":"MultipartException: Current request is not a multipart request","body":"<p>add required=false with the parameter\n@RequestParam(required = false,value = &quot;file&quot;) MultipartFile file</p>\n"},{"tags":[],"owner":{"account_id":29185042,"reputation":1,"user_id":22358421,"display_name":"Pansare Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694759519,"creation_date":1694759519,"answer_id":77110109,"question_id":42013087,"body_markdown":"Sometimes it may be a postman bug. \r\nsame thing happend with me when I am trying to upload the file using postman and getting exception `[org.springframework.web.multipart.MultipartException: Current request is not a multipart request]`. \r\nTry using form-data whille sending request and while selecting key type fisrt choose text and then choose file, do this for 1-2 times and then try.\r\nMy problem got solved after this.","title":"MultipartException: Current request is not a multipart request","body":"<p>Sometimes it may be a postman bug.\nsame thing happend with me when I am trying to upload the file using postman and getting exception <code>[org.springframework.web.multipart.MultipartException: Current request is not a multipart request]</code>.\nTry using form-data whille sending request and while selecting key type fisrt choose text and then choose file, do this for 1-2 times and then try.\nMy problem got solved after this.</p>\n"},{"tags":[],"owner":{"account_id":25410642,"reputation":11,"user_id":19412411,"display_name":"Mohsen S. Beigi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702319203,"creation_date":1702319203,"answer_id":77641633,"question_id":42013087,"body_markdown":"In some cases, reimporting the file in Postman will resolve the problem.","title":"MultipartException: Current request is not a multipart request","body":"<p>In some cases, reimporting the file in Postman will resolve the problem.</p>\n"}],"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215817,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":42016651,"answer_count":15,"score":65,"last_activity_date":1702319203,"creation_date":1486072681,"question_id":42013087,"body_markdown":"I am trying to make a restful controller to upload files. I have seen [this][1] \r\nand made this controller:\r\n\r\n    @RestController\r\n    public class MaterialController {\r\n    \r\n        @RequestMapping(value=&quot;/upload&quot;, method= RequestMethod.POST)\r\n        public String handleFileUpload(\r\n                @RequestParam(&quot;file&quot;) MultipartFile file){\r\n            String name = &quot;test11&quot;;\r\n            if (!file.isEmpty()) {\r\n                try {\r\n                    byte[] bytes = file.getBytes();\r\n                    BufferedOutputStream stream =\r\n                            new BufferedOutputStream(new FileOutputStream(new File(name + &quot;-uploaded&quot;)));\r\n                    stream.write(bytes);\r\n                    stream.close();\r\n                    return &quot;You successfully uploaded &quot; + name + &quot; into &quot; + name + &quot;-uploaded !&quot;;\r\n                } catch (Exception e) {\r\n                    return &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n                }\r\n            } else {\r\n                return &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nand then i used postman to send a pdf:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut the server crashes with the error:\r\n\r\n    .MultipartException: Current request is not a multipart request\r\n\r\nAgain i have found [this][3], and added a `bean.xml` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n        &lt;bean id=&quot;multipartResolver&quot;\r\n              class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nUnfortunately, **it still complains with the same error.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25884711/spring-file-upload-restful-web-service\r\n  [2]: https://i.stack.imgur.com/QaSgB.png\r\n  [3]: https://stackoverflow.com/questions/11983296/the-current-request-is-not-a-multipart-request-spring-mvc","title":"MultipartException: Current request is not a multipart request","body":"<p>I am trying to make a restful controller to upload files. I have seen <a href=\"https://stackoverflow.com/questions/25884711/spring-file-upload-restful-web-service\">this</a> \nand made this controller:</p>\n\n<pre><code>@RestController\npublic class MaterialController {\n\n    @RequestMapping(value=\"/upload\", method= RequestMethod.POST)\n    public String handleFileUpload(\n            @RequestParam(\"file\") MultipartFile file){\n        String name = \"test11\";\n        if (!file.isEmpty()) {\n            try {\n                byte[] bytes = file.getBytes();\n                BufferedOutputStream stream =\n                        new BufferedOutputStream(new FileOutputStream(new File(name + \"-uploaded\")));\n                stream.write(bytes);\n                stream.close();\n                return \"You successfully uploaded \" + name + \" into \" + name + \"-uploaded !\";\n            } catch (Exception e) {\n                return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\n            }\n        } else {\n            return \"You failed to upload \" + name + \" because the file was empty.\";\n        }\n    }\n}\n</code></pre>\n\n<p>and then i used postman to send a pdf:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QaSgB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QaSgB.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the server crashes with the error:</p>\n\n<pre><code>.MultipartException: Current request is not a multipart request\n</code></pre>\n\n<p>Again i have found <a href=\"https://stackoverflow.com/questions/11983296/the-current-request-is-not-a-multipart-request-spring-mvc\">this</a>, and added a <code>bean.xml</code> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"multipartResolver\"\n          class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Unfortunately, <strong>it still complains with the same error.</strong></p>\n"},{"tags":["java","android","arrays","android-recyclerview"],"owner":{"account_id":24501004,"reputation":3,"user_id":18416618,"display_name":"Tommly Jumah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702319039,"creation_date":1702308665,"question_id":77640655,"body_markdown":"So basically, my RC displays the ads very well, but I have issues with my items, i.e., when I  have only 1 item, it doesn&#39;t get displayed, same as three items; the second Item gets skipped, and only two Items get displayed.\r\n\r\n\r\nHere is the link to my gist: https://gist.github.com/Ttoml33/586fa25ba5c06c4d517cd1f1cb074ba1","title":"how do I display ads inside my recyclerview","body":"<p>So basically, my RC displays the ads very well, but I have issues with my items, i.e., when I  have only 1 item, it doesn't get displayed, same as three items; the second Item gets skipped, and only two Items get displayed.</p>\n<p>Here is the link to my gist: <a href=\"https://gist.github.com/Ttoml33/586fa25ba5c06c4d517cd1f1cb074ba1\" rel=\"nofollow noreferrer\">https://gist.github.com/Ttoml33/586fa25ba5c06c4d517cd1f1cb074ba1</a></p>\n"},{"tags":["java","android","gradle","package"],"owner":{"account_id":15131685,"reputation":1073,"user_id":10919370,"display_name":"Marcel Preda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702318876,"creation_date":1702309542,"question_id":77640737,"body_markdown":"I&#39;ve updated the Android Studio to 2023.1.1 and the Gradle plugin to 8.2.0.\r\nThis Android app has not been touched for ~ 1.5 years, and I&#39;ve decided to compile it and change the target SDK (now 33, previously 29).\r\n\r\nBefore the code was compiling without any warning message.\r\nNow, when I try to compile, I get a lot of `package not exist` errors, like below:\r\n\r\n```\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:4: error: package android.support.test does not exist\r\nimport android.support.test.InstrumentationRegistry;\r\n                           ^\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:5: error: package android.support.test.runner does not exist\r\nimport android.support.test.runner.AndroidJUnit4;\r\n                                  ^\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:7: error: package org.junit does not exist\r\nimport org.junit.Test;\r\n                ^\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:8: error: package org.junit.runner does not exist\r\nimport org.junit.runner.RunWith;\r\n                       ^\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:10: error: package org.junit does not exist\r\nimport static org.junit.Assert.*;\r\n                       ^\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:17: error: cannot find symbol\r\n@RunWith(AndroidJUnit4.class)\r\n ^\r\n  symbol: class RunWith\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:17: error: cannot find symbol\r\n@RunWith(AndroidJUnit4.class)\r\n         ^\r\n  symbol: class AndroidJUnit4\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:19: error: cannot find symbol\r\n    @Test\r\n     ^\r\n  symbol:   class Test\r\n  location: class ExampleInstrumentedTest\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:22: error: cannot find symbol\r\n        Context appContext = InstrumentationRegistry.getTargetContext();\r\n                             ^\r\n  symbol:   variable InstrumentationRegistry\r\n  location: class ExampleInstrumentedTest\r\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:24: error: cannot find symbol\r\n        assertEquals(&quot;ro.notnull.bubblesinline&quot;, appContext.getPackageName());\r\n        ^\r\n  symbol:   method assertEquals(String,String)\r\n  location: class ExampleInstrumentedTest\r\n```\r\n\r\n\r\nMy build.gradle file looks like below\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    signingConfigs {\r\n        config {\r\n            keyAlias &#39;********&#39;\r\n            keyPassword &#39;********&#39;\r\n            storeFile file(&#39;D:/work_area/android/apps/keys_store/free_apps/android_free_apps.jks&#39;)\r\n            storePassword &#39;********&#39;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    defaultConfig {\r\n        applicationId &quot;ro.notnull.bubblesinline&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 33\r\n        compileSdk 33\r\n        versionCode 11\r\n        versionName &quot;1.7.2&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            debuggable false\r\n            signingConfig signingConfigs.config\r\n            shrinkResources true\r\n        }\r\n        debug {\r\n            //buildConfigField(&quot;String&quot;, &quot;BUILD_TIME&quot;, &quot;\\&quot;0\\&quot;&quot;)\r\n            debuggable true\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    namespace &#39;ro.notnull.bubblesinline&#39;\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &quot;androidx.gridlayout:gridlayout:1.0.0&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-ads:22.5.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.2&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n\r\n}\r\n\r\n```\r\n\r\nAs specified [here](https://stackoverflow.com/questions/46073763/errorpackage-android-support-test-does-not-exist), I&#39;ve added `testImplementation &#39;junit:junit:4.12&#39;`, but it didn&#39;t help. \r\nBefore I had in the build.gradle file `//testCompile &#39;junit:junit:4.12&#39;`, the line was actually commented.","title":"After Android Studio and Gradle plugin update error: package android.support.test does not exist","body":"<p>I've updated the Android Studio to 2023.1.1 and the Gradle plugin to 8.2.0.\nThis Android app has not been touched for ~ 1.5 years, and I've decided to compile it and change the target SDK (now 33, previously 29).</p>\n<p>Before the code was compiling without any warning message.\nNow, when I try to compile, I get a lot of <code>package not exist</code> errors, like below:</p>\n<pre><code>D:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:4: error: package android.support.test does not exist\nimport android.support.test.InstrumentationRegistry;\n                           ^\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:5: error: package android.support.test.runner does not exist\nimport android.support.test.runner.AndroidJUnit4;\n                                  ^\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:7: error: package org.junit does not exist\nimport org.junit.Test;\n                ^\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:8: error: package org.junit.runner does not exist\nimport org.junit.runner.RunWith;\n                       ^\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:10: error: package org.junit does not exist\nimport static org.junit.Assert.*;\n                       ^\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:17: error: cannot find symbol\n@RunWith(AndroidJUnit4.class)\n ^\n  symbol: class RunWith\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:17: error: cannot find symbol\n@RunWith(AndroidJUnit4.class)\n         ^\n  symbol: class AndroidJUnit4\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:19: error: cannot find symbol\n    @Test\n     ^\n  symbol:   class Test\n  location: class ExampleInstrumentedTest\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:22: error: cannot find symbol\n        Context appContext = InstrumentationRegistry.getTargetContext();\n                             ^\n  symbol:   variable InstrumentationRegistry\n  location: class ExampleInstrumentedTest\nD:\\work_area\\android_projects\\BubblesInLine\\app\\src\\androidTest\\java\\ro\\notnull\\bubblesinline\\ExampleInstrumentedTest.java:24: error: cannot find symbol\n        assertEquals(&quot;ro.notnull.bubblesinline&quot;, appContext.getPackageName());\n        ^\n  symbol:   method assertEquals(String,String)\n  location: class ExampleInstrumentedTest\n</code></pre>\n<p>My build.gradle file looks like below</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    signingConfigs {\n        config {\n            keyAlias '********'\n            keyPassword '********'\n            storeFile file('D:/work_area/android/apps/keys_store/free_apps/android_free_apps.jks')\n            storePassword '********'\n        }\n    }\n\n\n\n    defaultConfig {\n        applicationId &quot;ro.notnull.bubblesinline&quot;\n        minSdkVersion 21\n        targetSdkVersion 33\n        compileSdk 33\n        versionCode 11\n        versionName &quot;1.7.2&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            debuggable false\n            signingConfig signingConfigs.config\n            shrinkResources true\n        }\n        debug {\n            //buildConfigField(&quot;String&quot;, &quot;BUILD_TIME&quot;, &quot;\\&quot;0\\&quot;&quot;)\n            debuggable true\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    namespace 'ro.notnull.bubblesinline'\n\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation &quot;androidx.gridlayout:gridlayout:1.0.0&quot;\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n\n    implementation 'com.google.android.gms:play-services-ads:22.5.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.3.2'\n    testImplementation 'junit:junit:4.12'\n\n}\n\n</code></pre>\n<p>As specified <a href=\"https://stackoverflow.com/questions/46073763/errorpackage-android-support-test-does-not-exist\">here</a>, I've added <code>testImplementation 'junit:junit:4.12'</code>, but it didn't help.\nBefore I had in the build.gradle file <code>//testCompile 'junit:junit:4.12'</code>, the line was actually commented.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1667314925,"post_id":74277788,"comment_id":131135881,"body_markdown":"You should use the `object instanceof Map`, and you can then cast as `(Map&lt;String, Object&gt;)`. Just understand that there are no compile-time checks for the proper types in that map, so if it contains non-string keys then you may have some truly odd behavior.","body":"You should use the <code>object instanceof Map</code>, and you can then cast as <code>(Map&lt;String, Object&gt;)</code>. Just understand that there are no compile-time checks for the proper types in that map, so if it contains non-string keys then you may have some truly odd behavior."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667314985,"post_id":74277788,"comment_id":131135909,"body_markdown":"What are you imagining &quot;casting&quot; means here?  I suspect you&#39;re assuming that you should be able to class `class Foo { int x; String y; }`, take an object `new Foo(1, &quot;bar&quot;) and get a map with the entries `&quot;x&quot;` mapped to `1` and `&quot;y&quot;` mapped to `&quot;bar&quot;`.  That&#39;s going to be _much_ more complicated than a cast.  If what you _actually_ have is a `Map&lt;String, Object&gt;`, then you should do the unsafe cast and accept that that&#39;s the best that you&#39;re going to get.","body":"What are you imagining &quot;casting&quot; means here?  I suspect you&#39;re assuming that you should be able to class <code>class Foo { int x; String y; }</code>, take an object <code>new Foo(1, &quot;bar&quot;) and get a map with the entries </code>&quot;x&quot;` mapped to <code>1</code> and <code>&quot;y&quot;</code> mapped to <code>&quot;bar&quot;</code>.  That&#39;s going to be <i>much</i> more complicated than a cast.  If what you <i>actually</i> have is a <code>Map&lt;String, Object&gt;</code>, then you should do the unsafe cast and accept that that&#39;s the best that you&#39;re going to get."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1667315237,"post_id":74277788,"comment_id":131135991,"body_markdown":"IF the data comes from a persistent file (XML or .properties) you maybe could revert to the **`Properties`** class.","body":"IF the data comes from a persistent file (XML or .properties) you maybe could revert to the <b><code>Properties</code></b> class."}],"answers":[{"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1667315106,"post_id":74277857,"comment_id":131135947,"body_markdown":"That doesn&#39;t solve the problem, it just asks the compiler (certain ones, anyway) not to report on it.","body":"That doesn&#39;t solve the problem, it just asks the compiler (certain ones, anyway) not to report on it."}],"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314765,"creation_date":1667314765,"answer_id":74277857,"question_id":74277788,"body_markdown":"Just add `@SuppressWarnings(&quot;unchecked&quot;)` to your method\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public void myMethod(){\r\n        ...\r\n    }\r\n\r\nand you should be able to use\r\n\r\n    HashMap&lt;String, Object&gt; map = (HashMap&lt;String, Object&gt;) object;","title":"Java: cast Object to HashMap&lt;String, Object&gt;","body":"<p>Just add <code>@SuppressWarnings(&quot;unchecked&quot;)</code> to your method</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic void myMethod(){\n    ...\n}\n</code></pre>\n<p>and you should be able to use</p>\n<pre><code>HashMap&lt;String, Object&gt; map = (HashMap&lt;String, Object&gt;) object;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667315487,"creation_date":1667314986,"answer_id":74277898,"question_id":74277788,"body_markdown":"&gt; I am trying to cast an Object to HashMap&lt;String, Object&gt; in a neat, robust way. So far, every way I tried produces compiler warnings or errors. What is the proper way to do it?\r\n\r\nThere is no proper way to do it, supposing that &quot;proper&quot; implies both useful and type safe.  Casting is the antithesis of type safety.  Other than casts for arithmetic purposes, a safe cast is an unnecessary one.\r\n\r\nThere is not enough information to determine how to achieve what ultimately you are after, but generally speaking, that sort of thing revolves around writing true generic code instead of using type `Object` to funnel objects of unrelated type into the same methods, using `instanceof` to determine what you actually have, or casting.\r\n","title":"Java: cast Object to HashMap&lt;String, Object&gt;","body":"<blockquote>\n<p>I am trying to cast an Object to HashMap&lt;String, Object&gt; in a neat, robust way. So far, every way I tried produces compiler warnings or errors. What is the proper way to do it?</p>\n</blockquote>\n<p>There is no proper way to do it, supposing that &quot;proper&quot; implies both useful and type safe.  Casting is the antithesis of type safety.  Other than casts for arithmetic purposes, a safe cast is an unnecessary one.</p>\n<p>There is not enough information to determine how to achieve what ultimately you are after, but generally speaking, that sort of thing revolves around writing true generic code instead of using type <code>Object</code> to funnel objects of unrelated type into the same methods, using <code>instanceof</code> to determine what you actually have, or casting.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1702228712,"post_id":77628373,"comment_id":136868154,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77628373/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":30100178,"reputation":1,"user_id":23067512,"display_name":"Matt"},"score":0,"creation_date":1702319107,"post_id":77628373,"comment_id":136879085,"body_markdown":"Edited to state that my response demonstrated the use of &quot;Unbounded Wildcards&quot; to get the desired result.  (No need for @SuppressWarnings and it compiles without warning)","body":"Edited to state that my response demonstrated the use of &quot;Unbounded Wildcards&quot; to get the desired result.  (No need for @SuppressWarnings and it compiles without warning)"}],"tags":[],"owner":{"account_id":30100178,"reputation":1,"user_id":23067512,"display_name":"Matt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702318836,"creation_date":1702057871,"answer_id":77628373,"question_id":74277788,"body_markdown":"Below is the above code written such that you don&#39;t need @SuppressWarnings to compile cleanly.  You can read up on &quot;Unbounded Wildcards&quot; to understand their proper use better. Java docs state they can be used when:\r\n\r\n* If you are writing a method that can be implemented using functionality provided in the Object class.\r\n* When the code is using methods in the generic class that don&#39;t depend on the type parameter. For example, List.size or List.clear. In fact, Class&lt;?&gt; is so often used because most of the methods in Class&lt;T&gt; do not depend on T.\r\n\r\nI think both of these apply to your situation.\r\n\r\nCode written with unbounded wildcards &quot;?&quot;:\r\n\r\n    HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    if (object instanceof Map){\r\n        Map&lt;?, ?&gt; genericMap = (Map&lt;?,?&gt;) object;\r\n        for (Object key : genericMap.keySet()){\r\n            if (key instanceof String){\r\n                map.put((String) key, genericMap.get(key));\r\n            }\r\n            else{\r\n                throw new KeyException();\r\n            }\r\n        }\r\n    }\r\n\r\nEdited for clarity","title":"Java: cast Object to HashMap&lt;String, Object&gt;","body":"<p>Below is the above code written such that you don't need @SuppressWarnings to compile cleanly.  You can read up on &quot;Unbounded Wildcards&quot; to understand their proper use better. Java docs state they can be used when:</p>\n<ul>\n<li>If you are writing a method that can be implemented using functionality provided in the Object class.</li>\n<li>When the code is using methods in the generic class that don't depend on the type parameter. For example, List.size or List.clear. In fact, Class&lt;?&gt; is so often used because most of the methods in Class do not depend on T.</li>\n</ul>\n<p>I think both of these apply to your situation.</p>\n<p>Code written with unbounded wildcards &quot;?&quot;:</p>\n<pre><code>HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nif (object instanceof Map){\n    Map&lt;?, ?&gt; genericMap = (Map&lt;?,?&gt;) object;\n    for (Object key : genericMap.keySet()){\n        if (key instanceof String){\n            map.put((String) key, genericMap.get(key));\n        }\n        else{\n            throw new KeyException();\n        }\n    }\n}\n</code></pre>\n<p>Edited for clarity</p>\n"}],"owner":{"account_id":2982627,"reputation":193,"user_id":2532280,"accept_rate":75,"display_name":"ian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277898,"answer_count":3,"score":0,"last_activity_date":1702318836,"creation_date":1667314418,"question_id":74277788,"body_markdown":"I am trying to cast an Object to HashMap&lt;String, Object&gt; in a neat, robust way. So far, every way I tried produces compiler warnings or errors. What is the proper way to do it? I have checked the internet and tried the following:\r\n\r\n```\r\nHashMap&lt;String, Object&gt; map = (HashMap&lt;String, Object&gt;) object;\r\n```\r\nThe code above gives an unchecked conversion warning.\r\n\r\n```\r\nHashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\nif (object instanceof Map&lt;String, Object&gt;){\r\n    map = (Map&lt;String, Object&gt;) object;\r\n}\r\n```\r\n\r\nThe code above gives an error, which says that objects cannot be compared to parameterized collections.\r\n\r\n```\r\nHashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\nif (object instanceof Map){\r\n    Map genericMap = (Map) object;\r\n    for (Object key : genericMap.keySet()){\r\n        if (key instanceof String){\r\n            map.put((String) key, genericMap.get(key));\r\n        }\r\n        else{\r\n            throw new KeyException();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe code above yields a warning that &quot;Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized.&quot;\r\n\r\nSo what would be the proper way to do this? Thank you in advance!","title":"Java: cast Object to HashMap&lt;String, Object&gt;","body":"<p>I am trying to cast an Object to HashMap&lt;String, Object&gt; in a neat, robust way. So far, every way I tried produces compiler warnings or errors. What is the proper way to do it? I have checked the internet and tried the following:</p>\n<pre><code>HashMap&lt;String, Object&gt; map = (HashMap&lt;String, Object&gt;) object;\n</code></pre>\n<p>The code above gives an unchecked conversion warning.</p>\n<pre><code>HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nif (object instanceof Map&lt;String, Object&gt;){\n    map = (Map&lt;String, Object&gt;) object;\n}\n</code></pre>\n<p>The code above gives an error, which says that objects cannot be compared to parameterized collections.</p>\n<pre><code>HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nif (object instanceof Map){\n    Map genericMap = (Map) object;\n    for (Object key : genericMap.keySet()){\n        if (key instanceof String){\n            map.put((String) key, genericMap.get(key));\n        }\n        else{\n            throw new KeyException();\n        }\n    }\n}\n</code></pre>\n<p>The code above yields a warning that &quot;Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized.&quot;</p>\n<p>So what would be the proper way to do this? Thank you in advance!</p>\n"},{"tags":["java","sqlite","hibernate","jpa"],"comments":[{"owner":{"account_id":9226,"reputation":30034,"user_id":16959,"accept_rate":89,"display_name":"Jason Sperske"},"score":3,"creation_date":1373529366,"post_id":17587753,"comment_id":25594005,"body_markdown":"Have you looked at the H2 database? It&#39;s got a small footprint, is embeded and works well with Hiberna","body":"Have you looked at the H2 database? It&#39;s got a small footprint, is embeded and works well with Hiberna"},{"owner":{"account_id":631589,"reputation":1724,"user_id":912644,"accept_rate":39,"display_name":"Atul"},"score":0,"creation_date":1373530564,"post_id":17587753,"comment_id":25594605,"body_markdown":"Thanks Jason. I just did a quick comparison and H2 looks interesting. I will discuss it with my team.","body":"Thanks Jason. I just did a quick comparison and H2 looks interesting. I will discuss it with my team."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":1,"creation_date":1515112821,"post_id":17587753,"comment_id":83186954,"body_markdown":"A very mature and stable, 100% Java RDBMS is available in HSQLDB which has been developed going on 20 years.  The database and JDBC 4+ driver can be downloaded at http://www.hsqldb.org.","body":"A very mature and stable, 100% Java RDBMS is available in HSQLDB which has been developed going on 20 years.  The database and JDBC 4+ driver can be downloaded at <a href=\"http://www.hsqldb.org\" rel=\"nofollow noreferrer\">hsqldb.org</a>."}],"answers":[{"comments":[{"owner":{"account_id":631589,"reputation":1724,"user_id":912644,"accept_rate":39,"display_name":"Atul"},"score":9,"creation_date":1373530168,"post_id":17587937,"comment_id":25594413,"body_markdown":"I got your point for hibernate but for platform dependency sqlite documentation says - A database in SQLite is a single disk file. Furthermore, the file format is cross-platform. A database that is created on one machine can be copied and used on a different machine with a different architecture. SQLite databases are portable across 32-bit and 64-bit machines and between big-endian and little-endian architectures.","body":"I got your point for hibernate but for platform dependency sqlite documentation says - A database in SQLite is a single disk file. Furthermore, the file format is cross-platform. A database that is created on one machine can be copied and used on a different machine with a different architecture. SQLite databases are portable across 32-bit and 64-bit machines and between big-endian and little-endian architectures."},{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":4,"creation_date":1373530280,"post_id":17587937,"comment_id":25594476,"body_markdown":"The database _file_ is portable over platforms - but the code to access such files is native code and thus needs to be compiled for every platform you want to run it on.","body":"The database <i>file</i> is portable over platforms - but the code to access such files is native code and thus needs to be compiled for every platform you want to run it on."},{"owner":{"account_id":631589,"reputation":1724,"user_id":912644,"accept_rate":39,"display_name":"Atul"},"score":0,"creation_date":1373530861,"post_id":17587937,"comment_id":25594775,"body_markdown":"Then this means that even on different windows os - Vista, XP or 7, it will require separate compilation for supporting native code?","body":"Then this means that even on different windows os - Vista, XP or 7, it will require separate compilation for supporting native code?"},{"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"score":1,"creation_date":1373531808,"post_id":17587937,"comment_id":25595272,"body_markdown":"Yeah, but he may need also the performance and features provided by SQLite.","body":"Yeah, but he may need also the performance and features provided by SQLite."},{"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"score":0,"creation_date":1382638196,"post_id":17587937,"comment_id":29048009,"body_markdown":"Consider [sqljet](http://sqljet.com/),SQLJet is an independent pure Java implementation of a popular SQLite database management system.","body":"Consider <a href=\"http://sqljet.com/\" rel=\"nofollow noreferrer\">sqljet</a>,SQLJet is an independent pure Java implementation of a popular SQLite database management system."},{"owner":{"account_id":1151676,"reputation":924,"user_id":1133237,"accept_rate":29,"display_name":"excalibur"},"score":0,"creation_date":1400597837,"post_id":17587937,"comment_id":36539013,"body_markdown":"Going back to old question, why would hibernate care where or what the db is? As long as you provide the jdbc driver, it should work regardless of its sqlite or not, correct?","body":"Going back to old question, why would hibernate care where or what the db is? As long as you provide the jdbc driver, it should work regardless of its sqlite or not, correct?"},{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1400758978,"post_id":17587937,"comment_id":36618676,"body_markdown":"@excalibur that is correct. Supply your Hibernate-based application with a working SQLite driver and see for yourself :).","body":"@excalibur that is correct. Supply your Hibernate-based application with a working SQLite driver and see for yourself :)."},{"owner":{"account_id":338627,"reputation":3988,"user_id":667599,"accept_rate":89,"display_name":"Throoze"},"score":0,"creation_date":1401944030,"post_id":17587937,"comment_id":37083654,"body_markdown":"I also wanted to embed SQLite in my app, but I&#39;m considering your suggestion... Does Hibernate fully support H2DB?","body":"I also wanted to embed SQLite in my app, but I&#39;m considering your suggestion... Does Hibernate fully support H2DB?"},{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1402035414,"post_id":17587937,"comment_id":37126930,"body_markdown":"@Throoze, as far as I know, it should, but you can check the link in the OP.","body":"@Throoze, as far as I know, it should, but you can check the link in the OP."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":0,"creation_date":1459351111,"post_id":17587937,"comment_id":60249325,"body_markdown":"If Android supports sqlite (probably through SNI), maybe compiling the C code into java bytecode would maybe solve the problem.","body":"If Android supports sqlite (probably through SNI), maybe compiling the C code into java bytecode would maybe solve the problem."},{"owner":{"account_id":2632633,"reputation":547,"user_id":2278186,"display_name":"SatA"},"score":0,"creation_date":1464518089,"post_id":17587937,"comment_id":62511549,"body_markdown":"I appreciate the knowledge shown on cross-platform stuff, but this doesn&#39;t answer the question","body":"I appreciate the knowledge shown on cross-platform stuff, but this doesn&#39;t answer the question"},{"owner":{"account_id":289517,"reputation":17358,"user_id":590531,"accept_rate":91,"display_name":"peceps"},"score":2,"creation_date":1503051360,"post_id":17587937,"comment_id":78465330,"body_markdown":"SQLite is not limited to &quot;C-like environments&quot;, code written in C can be compiled for many platforms. SQLite is available on windows, mac, linux and many processor architectures. SQLite can be use with Hibernate by using appropriate dialect and properly configured DataSource and good SQLite JDBC driver (https://github.com/xerial/sqlite-jdbc).","body":"SQLite is not limited to &quot;C-like environments&quot;, code written in C can be compiled for many platforms. SQLite is available on windows, mac, linux and many processor architectures. SQLite can be use with Hibernate by using appropriate dialect and properly configured DataSource and good SQLite JDBC driver (<a href=\"https://github.com/xerial/sqlite-jdbc\" rel=\"nofollow noreferrer\">github.com/xerial/sqlite-jdbc</a>)."},{"owner":{"account_id":965537,"reputation":632,"user_id":989029,"display_name":"Osman-pasha"},"score":2,"creation_date":1554187672,"post_id":17587937,"comment_id":97648104,"body_markdown":"The platform independency argument is not very good since Hibernate does support some non platform-independent DBs like MS SQL (which is even mentioned 3rd on the list of supported databases)","body":"The platform independency argument is not very good since Hibernate does support some non platform-independent DBs like MS SQL (which is even mentioned 3rd on the list of supported databases)"},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1627743706,"post_id":17587937,"comment_id":121240514,"body_markdown":"The Xerial driver for SQLite (linked above) is cross-platform to any major platform you might reasonably deploy Java apps to. Yes, internally it uses native code, but it includes builds of that for all the supported platforms and knows how to pick the right version.","body":"The Xerial driver for SQLite (linked above) is cross-platform to any major platform you might reasonably deploy Java apps to. Yes, internally it uses native code, but it includes builds of that for all the supported platforms and knows how to pick the right version."},{"owner":{"account_id":448600,"reputation":645,"user_id":842886,"display_name":"Sharique Abdullah"},"score":0,"creation_date":1663145743,"post_id":17587937,"comment_id":130167983,"body_markdown":"You may want to use the class org.hibernate.community.dialect.SQLiteDialect from the org.hibernate.orm:hibernate-community-dialects artifact on gradle / maven as discussed here https://github.com/hibernate/hibernate-orm/discussions/3783","body":"You may want to use the class org.hibernate.community.dialect.SQLiteDialect from the org.hibernate.orm:hibernate-community-dialects artifact on gradle / maven as discussed here <a href=\"https://github.com/hibernate/hibernate-orm/discussions/3783\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/discussions/3783</a>"}],"tags":[],"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"comment_count":15,"down_vote_count":6,"up_vote_count":24,"is_accepted":true,"score":18,"last_activity_date":1515111961,"creation_date":1373529275,"answer_id":17587937,"question_id":17587753,"body_markdown":"Since SQLite is an embedded database for C-like environments, written in C and thus compiled to native code, changes that Hibernate (or any ORM) will support aren&#39;t really high. Java is cross-platform and it would be a bit weird to have a platform-dependent dependency. On Android, SQLite is used, but there the platform supplies a JDBC driver for it.\r\n\r\nUsually, Windows binaries are compatible over different Windows versions - as long as the architecture stays the same. If you look at the [SQLite download page](http://www.sqlite.org/download.html) you&#39;ll notice there&#39;s a 32-bit pre-built Windows binary. This one can be used on almost any Windows version (except Windows RT, maybe), but you cannot use it on Linux or OS X. In order to use SQLite from Java, you would need to include the correct binary for the specific OS / architecture, effectively making a Java application platform-dependent. That is something you usually don&#39;t want.\r\n\r\nIf you&#39;re building a desktop application in Swing and you want to use an embedded database, my suggestion would be to use a Java embedded database, like [H2](http://www.h2database.com), [HSQL](http://www.hsqldb.org) or [Derby](http://db.apache.org/derby). The latter is also shipped with Oracle Java as [JavaDB](http://www.oracle.com/technetwork/java/javadb/overview/index.html). All are supported as hibernate dialects (For a full list of dialects, see the dialect classes: https://github.com/hibernate/hibernate-orm/tree/master/hibernate-core/src/main/java/org/hibernate/dialect)\r\n\r\nAs noted below by @akostadinov, there may be other factors you want to consider, for example the fact that SQLite is written in native code and hence _may_ have better performance. In the end, the only one who can decide which database is best is the one who is building the system.","title":"Does Hibernate Fully Support SQLite?","body":"<p>Since SQLite is an embedded database for C-like environments, written in C and thus compiled to native code, changes that Hibernate (or any ORM) will support aren't really high. Java is cross-platform and it would be a bit weird to have a platform-dependent dependency. On Android, SQLite is used, but there the platform supplies a JDBC driver for it.</p>\n\n<p>Usually, Windows binaries are compatible over different Windows versions - as long as the architecture stays the same. If you look at the <a href=\"http://www.sqlite.org/download.html\" rel=\"noreferrer\">SQLite download page</a> you'll notice there's a 32-bit pre-built Windows binary. This one can be used on almost any Windows version (except Windows RT, maybe), but you cannot use it on Linux or OS X. In order to use SQLite from Java, you would need to include the correct binary for the specific OS / architecture, effectively making a Java application platform-dependent. That is something you usually don't want.</p>\n\n<p>If you're building a desktop application in Swing and you want to use an embedded database, my suggestion would be to use a Java embedded database, like <a href=\"http://www.h2database.com\" rel=\"noreferrer\">H2</a>, <a href=\"http://www.hsqldb.org\" rel=\"noreferrer\">HSQL</a> or <a href=\"http://db.apache.org/derby\" rel=\"noreferrer\">Derby</a>. The latter is also shipped with Oracle Java as <a href=\"http://www.oracle.com/technetwork/java/javadb/overview/index.html\" rel=\"noreferrer\">JavaDB</a>. All are supported as hibernate dialects (For a full list of dialects, see the dialect classes: <a href=\"https://github.com/hibernate/hibernate-orm/tree/master/hibernate-core/src/main/java/org/hibernate/dialect\" rel=\"noreferrer\">https://github.com/hibernate/hibernate-orm/tree/master/hibernate-core/src/main/java/org/hibernate/dialect</a>)</p>\n\n<p>As noted below by @akostadinov, there may be other factors you want to consider, for example the fact that SQLite is written in native code and hence <em>may</em> have better performance. In the end, the only one who can decide which database is best is the one who is building the system.</p>\n"},{"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1373529431,"creation_date":1373529431,"answer_id":17587993,"question_id":17587753,"body_markdown":"SQLite is very forgiving about SQL syntax as far as I have experience with so it may work. I have not used SQLite extensively with hibernate but tried to use it with infinispan with some success. The stock SQLite jdbc driver that I found as the best recommended, lacks some of JDBC standard&#39;s methods so I had to patch it to have it working.\r\n\r\nI think that you can try it with hibernate and see if it works. It may help you to see what I did to have it working with infinispan:\r\nhttps://issues.jboss.org/browse/ISPN-2980\r\n\r\nI know this is not the exact answer you would like to see but I decided to answer because I think there is little chance anybody else to answer in a more helpful way. At least when I was searching for more information at the time I couldn&#39;t find.","title":"Does Hibernate Fully Support SQLite?","body":"<p>SQLite is very forgiving about SQL syntax as far as I have experience with so it may work. I have not used SQLite extensively with hibernate but tried to use it with infinispan with some success. The stock SQLite jdbc driver that I found as the best recommended, lacks some of JDBC standard's methods so I had to patch it to have it working.</p>\n\n<p>I think that you can try it with hibernate and see if it works. It may help you to see what I did to have it working with infinispan:\n<a href=\"https://issues.jboss.org/browse/ISPN-2980\" rel=\"nofollow\">https://issues.jboss.org/browse/ISPN-2980</a></p>\n\n<p>I know this is not the exact answer you would like to see but I decided to answer because I think there is little chance anybody else to answer in a more helpful way. At least when I was searching for more information at the time I couldn't find.</p>\n"},{"tags":[],"owner":{"account_id":295837,"reputation":1013,"user_id":600441,"display_name":"jgibson"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1395011251,"creation_date":1395011251,"answer_id":22444334,"question_id":17587753,"body_markdown":"If you need to use SQLite with Hibernate for whatever reason then you need a custom dialect. It looks like there are a couple of implementations kicking around on the web.\r\n\r\nI tried this one: https://github.com/gwenn/sqlite-dialect which worked for me with Hibernate 3 (I believe that it needs some updates for Hibernate 4). Note that you&#39;ll have to compile the code yourself and then set the &lt;code&gt;hibernate.dialect&lt;/code&gt; configuration property to be &lt;code&gt;org.hibernate.dialect.SQLiteDialect&lt;/code&gt;.\r\n\r\nOther implementations that I found: http://code.google.com/p/hibernate-sqlite/ and https://gist.github.com/virasak/54436.","title":"Does Hibernate Fully Support SQLite?","body":"<p>If you need to use SQLite with Hibernate for whatever reason then you need a custom dialect. It looks like there are a couple of implementations kicking around on the web.</p>\n\n<p>I tried this one: <a href=\"https://github.com/gwenn/sqlite-dialect\">https://github.com/gwenn/sqlite-dialect</a> which worked for me with Hibernate 3 (I believe that it needs some updates for Hibernate 4). Note that you'll have to compile the code yourself and then set the <code>hibernate.dialect</code> configuration property to be <code>org.hibernate.dialect.SQLiteDialect</code>.</p>\n\n<p>Other implementations that I found: <a href=\"http://code.google.com/p/hibernate-sqlite/\">http://code.google.com/p/hibernate-sqlite/</a> and <a href=\"https://gist.github.com/virasak/54436\">https://gist.github.com/virasak/54436</a>.</p>\n"},{"comments":[{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":2,"creation_date":1517604860,"post_id":38755286,"comment_id":84178652,"body_markdown":"Using the jitpack.io solution for Hibernate 5, I found the property needed to be this: `hibernate.dialect=org.hibernate.dialect.identity.SQLiteDialect` but it still didn&#39;t work. I got an exception with this message:\n\norg.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.identity.SQLiteDialect] as strategy [org.hibernate.dialect.Dialect]\n\nThis was with Hibernate 5.0.12.","body":"Using the jitpack.io solution for Hibernate 5, I found the property needed to be this: <code>hibernate.dialect=org.hibernate.dialect.identity.SQLiteDiale&zwnj;&#8203;ct</code> but it still didn&#39;t work. I got an exception with this message:  org.hibernate.boot.registry.selector.spi.StrategySelectionEx&zwnj;&#8203;ception: Unable to resolve name [org.hibernate.dialect.identity.SQLiteDialect] as strategy [org.hibernate.dialect.Dialect]  This was with Hibernate 5.0.12."},{"owner":{"account_id":1843044,"reputation":465,"user_id":2891209,"accept_rate":75,"display_name":"JWCompDev"},"score":2,"creation_date":1540356636,"post_id":38755286,"comment_id":92829232,"body_markdown":"The Hibernate 5 version has been released to maven and the following can be found here: https://search.maven.org/artifact/com.github.gwenn/sqlite-dialect/0.1.0/jar","body":"The Hibernate 5 version has been released to maven and the following can be found here: <a href=\"https://search.maven.org/artifact/com.github.gwenn/sqlite-dialect/0.1.0/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/com.github.gwenn/sqlite-dialect/0.&zwnj;&#8203;1.0/&hellip;</a>"},{"owner":{"account_id":89710,"reputation":1528,"user_id":247328,"accept_rate":75,"display_name":"Camilo Sanchez"},"score":3,"creation_date":1613273733,"post_id":38755286,"comment_id":117023769,"body_markdown":"[The latest code for Hibernate 5](https://github.com/gwenn/sqlite-dialect/blob/master/src/main/java/org/sqlite/hibernate/dialect/SQLiteDialect.java) has a different classname than the answer.\n\nThe dialect should be: `org.sqlite.hibernate.dialect.SQLiteDialect`","body":"<a href=\"https://github.com/gwenn/sqlite-dialect/blob/master/src/main/java/org/sqlite/hibernate/dialect/SQLiteDialect.java\" rel=\"nofollow noreferrer\">The latest code for Hibernate 5</a> has a different classname than the answer.  The dialect should be: <code>org.sqlite.hibernate.dialect.SQLiteDialect</code>"},{"owner":{"account_id":5711299,"reputation":128,"user_id":4617857,"accept_rate":80,"display_name":"Gradyn Wursten"},"score":0,"creation_date":1678324031,"post_id":38755286,"comment_id":133512224,"body_markdown":"Update for hibernate 6?","body":"Update for hibernate 6?"}],"tags":[],"owner":{"account_id":1464885,"reputation":1836,"user_id":1378053,"display_name":"ph4r05"},"comment_count":4,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1630401352,"creation_date":1470267450,"answer_id":38755286,"question_id":17587753,"body_markdown":"There are several SQLite dialects out there.\r\n\r\n### Hibernate 3:\r\nhttps://github.com/kemitix/sqlite-dialect\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.kemitix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n\r\nHibernate configuration:\r\n\r\n    hibernate.dialect = org.hibernate.dialect.SQLiteDialect\r\n\r\n### Hibernate 4:\r\nhttps://github.com/EnigmaBridge/hibernate4-sqlite-dialect\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.enigmabridge&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate4-sqlite-dialect&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHibernate configuration:\r\n\r\n    hibernate.dialect = com.enigmabridge.hibernate.dialect.SQLiteDialect\r\n\r\nNote: I am author of this repository. Based on the `gwenn` repo. \r\n \r\n\r\n### Hibernate 5:\r\nhttps://github.com/gwenn/sqlite-dialect/\r\n\r\nAuthor worked with Hibernate team to integrate it to the Hibernate directly. It is tracked in this [issue].\r\n\r\n\r\n Add this dependency: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.gwenn&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHibernate configuration:\r\n\r\n    hibernate.dialect = org.sqlite.hibernate.dialect.SQLiteDialect\r\n\r\n[issue]: https://github.com/gwenn/sqlite-dialect/issues/7\r\n","title":"Does Hibernate Fully Support SQLite?","body":"<p>There are several SQLite dialects out there.</p>\n<h3>Hibernate 3:</h3>\n<p><a href=\"https://github.com/kemitix/sqlite-dialect\" rel=\"noreferrer\">https://github.com/kemitix/sqlite-dialect</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.kemitix&lt;/groupId&gt;\n    &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n<p>Hibernate configuration:</p>\n<pre><code>hibernate.dialect = org.hibernate.dialect.SQLiteDialect\n</code></pre>\n<h3>Hibernate 4:</h3>\n<p><a href=\"https://github.com/EnigmaBridge/hibernate4-sqlite-dialect\" rel=\"noreferrer\">https://github.com/EnigmaBridge/hibernate4-sqlite-dialect</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.enigmabridge&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate4-sqlite-dialect&lt;/artifactId&gt;\n    &lt;version&gt;0.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Hibernate configuration:</p>\n<pre><code>hibernate.dialect = com.enigmabridge.hibernate.dialect.SQLiteDialect\n</code></pre>\n<p>Note: I am author of this repository. Based on the <code>gwenn</code> repo.</p>\n<h3>Hibernate 5:</h3>\n<p><a href=\"https://github.com/gwenn/sqlite-dialect/\" rel=\"noreferrer\">https://github.com/gwenn/sqlite-dialect/</a></p>\n<p>Author worked with Hibernate team to integrate it to the Hibernate directly. It is tracked in this <a href=\"https://github.com/gwenn/sqlite-dialect/issues/7\" rel=\"noreferrer\">issue</a>.</p>\n<p>Add this dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.gwenn&lt;/groupId&gt;\n        &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n        &lt;version&gt;0.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Hibernate configuration:</p>\n<pre><code>hibernate.dialect = org.sqlite.hibernate.dialect.SQLiteDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1702318677,"creation_date":1673879515,"answer_id":75135703,"question_id":17587753,"body_markdown":"From **Hibernate 6**, SQLite is part of the [community dialects in the Hibernate repository][1].\r\n\r\nAdd the following dependency:\r\n\r\nGradle:\r\n\r\n```kotlin\r\nimplementation(&quot;org.hibernate.orm:hibernate-community-dialects:6.1.6.Final&quot;)\r\n```\r\n\r\nMaven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd set this as the Hibernate dialect:\r\n\r\n```\r\nhibernate.dialect=org.hibernate.community.dialect.SQLiteDialect\r\n```\r\n\r\nRead more about Hibernate community-maintained dialects in this [Hibernate GitHub discussion][2].\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-community-dialects/src/main/java/org/hibernate/community/dialect/SQLiteDialect.java\r\n  [2]: https://github.com/hibernate/hibernate-orm/discussions/3783","title":"Does Hibernate Fully Support SQLite?","body":"<p>From <strong>Hibernate 6</strong>, SQLite is part of the <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-community-dialects/src/main/java/org/hibernate/community/dialect/SQLiteDialect.java\" rel=\"nofollow noreferrer\">community dialects in the Hibernate repository</a>.</p>\n<p>Add the following dependency:</p>\n<p>Gradle:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(&quot;org.hibernate.orm:hibernate-community-dialects:6.1.6.Final&quot;)\n</code></pre>\n<p>Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n    &lt;version&gt;6.1.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And set this as the Hibernate dialect:</p>\n<pre><code>hibernate.dialect=org.hibernate.community.dialect.SQLiteDialect\n</code></pre>\n<p>Read more about Hibernate community-maintained dialects in this <a href=\"https://github.com/hibernate/hibernate-orm/discussions/3783\" rel=\"nofollow noreferrer\">Hibernate GitHub discussion</a>.</p>\n"}],"owner":{"account_id":631589,"reputation":1724,"user_id":912644,"accept_rate":39,"display_name":"Atul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82684,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":17587937,"answer_count":5,"score":58,"last_activity_date":1702318677,"creation_date":1373528709,"question_id":17587753,"body_markdown":"Jboss Hibernate doesn&#39;t say anything about the support for SQLite in [its wiki][1].\r\n\r\nAnd the same is mentioned in this Stack Overflow post: https://stackoverflow.com/questions/3119849/hibernatesqlitenetbeans/3119866#3119866\r\n\r\nCan you please highlight about this? I want to use embedded SQLite with Hibernate for a Swing desktop application.\r\n\r\nI am also evaluating Derby (JavaDB) as it also can be embedded and is part of the JDK.\r\n\r\n\r\n  [1]: https://community.jboss.org/wiki/SupportedDatabases2","title":"Does Hibernate Fully Support SQLite?","body":"<p>Jboss Hibernate doesn't say anything about the support for SQLite in <a href=\"https://community.jboss.org/wiki/SupportedDatabases2\" rel=\"nofollow noreferrer\">its wiki</a>.</p>\n<p>And the same is mentioned in this Stack Overflow post: <a href=\"https://stackoverflow.com/questions/3119849/hibernatesqlitenetbeans/3119866#3119866\">Hibernate+SQLite+Netbeans</a></p>\n<p>Can you please highlight about this? I want to use embedded SQLite with Hibernate for a Swing desktop application.</p>\n<p>I am also evaluating Derby (JavaDB) as it also can be embedded and is part of the JDK.</p>\n"},{"tags":["java","swing","animation"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1702302233,"post_id":77639997,"comment_id":136875943,"body_markdown":"Detect when the key is down and put it into a map. When you release the key, remove it from the map. Each time the update/render is called, check to see if the key is active. If the key state did not change, continue to cycle through the active keyframes for the current direction. There should only ever be one active sprite sequence for a given direction. There is typically an idle, walking, or running animation (in each direction) in most top-down games.","body":"Detect when the key is down and put it into a map. When you release the key, remove it from the map. Each time the update/render is called, check to see if the key is active. If the key state did not change, continue to cycle through the active keyframes for the current direction. There should only ever be one active sprite sequence for a given direction. There is typically an idle, walking, or running animation (in each direction) in most top-down games."},{"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"score":0,"creation_date":1702306696,"post_id":77639997,"comment_id":136876885,"body_markdown":"@Mr.Polywhirl I thought to this solution but if it continue to cycle, the program will display continuously only the movement frame, and the animation is not fluid. Considering that the animation is composed of 2 frames, a stationary one and a moving one, I would like to display all of them in sequence when the user keeps the button pressed.","body":"@Mr.Polywhirl I thought to this solution but if it continue to cycle, the program will display continuously only the movement frame, and the animation is not fluid. Considering that the animation is composed of 2 frames, a stationary one and a moving one, I would like to display all of them in sequence when the user keeps the button pressed."},{"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"score":0,"creation_date":1702306726,"post_id":77639997,"comment_id":136876895,"body_markdown":"@ScottHunter I would like to move the frog on a single press of the buttons, and to move it fluidly when the user keeps pressed the button. With this code, on a single press, the frame of the frog&#39;s movement appears late; instead when I keep pressed the button, only the static frame is shown.","body":"@ScottHunter I would like to move the frog on a single press of the buttons, and to move it fluidly when the user keeps pressed the button. With this code, on a single press, the frame of the frog&#39;s movement appears late; instead when I keep pressed the button, only the static frame is shown."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1702307084,"post_id":77639997,"comment_id":136876972,"body_markdown":"Remove `movingIndex++;` from your draw method.  State should be changed in your tick() method only.  **Programmers don’t control when paintComponent is invoked.**  Painting is done by the system, whenever it has a reason to keep a window up to date.  Many many system conditions can cause it to happen.  Calling `repaint()` is a request to the system to paint as soon as possible, nothing more.","body":"Remove <code>movingIndex++;</code> from your draw method.  State should be changed in your tick() method only.  <b>Programmers don’t control when paintComponent is invoked.</b>  Painting is done by the system, whenever it has a reason to keep a window up to date.  Many many system conditions can cause it to happen.  Calling <code>repaint()</code> is a request to the system to paint as soon as possible, nothing more."},{"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"score":0,"creation_date":1702309369,"post_id":77639997,"comment_id":136877435,"body_markdown":"@VGR but removing movingIndex and the following commands, if I release the button, the variable moving will be false, so the method tick() will not be invoked. In this way, the animation can&#39;t be completed and the program will show continuously only the movement frame","body":"@VGR but removing movingIndex and the following commands, if I release the button, the variable moving will be false, so the method tick() will not be invoked. In this way, the animation can&#39;t be completed and the program will show continuously only the movement frame"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1702313018,"post_id":77639997,"comment_id":136878123,"body_markdown":"*but removing movingIndex...* - then you need to restructure your code. The key point is that any painting method should only paint the current state of the component. It should NOT change the state of the component. The Timer is used for the animation. Therefore when the Timer fires you need to modify the state and repaint the component. *if I release the button* - then maybe you need to add more logic to the release button to make sure the state is what you expect.","body":"<i>but removing movingIndex...</i> - then you need to restructure your code. The key point is that any painting method should only paint the current state of the component. It should NOT change the state of the component. The Timer is used for the animation. Therefore when the Timer fires you need to modify the state and repaint the component. <i>if I release the button</i> - then maybe you need to add more logic to the release button to make sure the state is what you expect."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1702329768,"post_id":77639997,"comment_id":136880798,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1702325195,"post_id":77641566,"comment_id":136880040,"body_markdown":"this does not represent an answer to the question - please don&#39;t use the answer box to make question updates.\nEdit the question or post a new one if needed. Please read [TOUR], [ASK] and [ANSWER]","body":"this does not represent an answer to the question - please don&#39;t use the answer box to make question updates. Edit the question or post a new one if needed. Please read <a href=\"https://stackoverflow.com/tour\">TOUR</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>"}],"tags":[],"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702318436,"creation_date":1702318436,"answer_id":77641566,"question_id":77639997,"body_markdown":"I&#39;m trying to fix it with your advice. \r\nNow it seems to work, but I&#39;ve noticed a strange behaviour. If I press quickly one of the buttons, the program shows only the standing frame; I&#39;ve added to my code some lines to debug it, and the movingIndex that should be equal to 1 after the user presses the button, turns to 0 creating this strange phenomenon.\r\nThis is the new code\r\n```\r\npackage gng;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.EnumMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\nclass MySprite {\r\n\t\r\n\tprivate final int ZOOM_FACTOR = 50;\r\n\t\r\n\tprivate final static int[] FROG_MOVE_UP_STAND = {1, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_UP_FIRST = {19, 1, 16, 16};\r\n\t\r\n\tprivate final static int[] FROG_MOVE_DOWN_STAND = {73, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_DOWN_FIRST = {91, 1, 16, 16};\r\n\t\r\n\tprivate final static int[] FROG_MOVE_LEFT_STAND = {37, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_LEFT_FIRST = {55, 1, 16, 16};\r\n\t\r\n\tprivate final static int[] FROG_MOVE_RIGHT_STAND = {109, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_RIGHT_FIRST = {127, 1, 16, 16};\r\n\t\r\n    private static final String SPRITE_SHEET_PATH = &quot;http://orig12.deviantart.net/7db3/f/2010/338/3/3/animated_sprite_sheet_32x32_by_digibody-d3479l2.gif&quot;;\r\n    private static final int MAX_MOVING_INDEX = 2;\r\n    private static final int DELTA = 50;\r\n    private SpriteDirection direction;\r\n    private Map&lt;SpriteDirection, Image&gt; standingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\r\n    private Map&lt;SpriteDirection, List&lt;Image&gt;&gt; movingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\r\n    private int x;\r\n    private int y;\r\n    private boolean moving = false;\r\n    private int movingIndex = 0;\r\n    \r\n    private final static String PATH = &quot;images/FroggerSpritesSenzaSfondo2.gif&quot;;\r\n\t\r\n\tprivate BufferedImage img;\r\n\t\r\n\tprotected boolean animationTerminated = true;\r\n\r\n    public MySprite(SpriteDirection direction, int x, int y) throws IOException {\r\n        this.direction = direction;\r\n        this.x = x;\r\n        this.y = y;\r\n        createSprites();\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        Image img = null;\r\n        String image;\r\n        \r\n        System.out.println(&quot;Moving: &quot;+ moving + &quot;, animationTerminated: &quot;+ animationTerminated);\r\n        \r\n       /* if (!moving &amp;&amp; animationTerminated) {\r\n            img = standingImgMap.get(direction);\r\n            image=&quot;pulsante non premuto, animazione terminata, standing image&quot;;\r\n        }\r\n        else if(!moving &amp;&amp; !animationTerminated) {\r\n        \t//System.out.println(&quot;Pulsante rilasciato ma animazione non terminata&quot;);\r\n            img = movingImgMap.get(direction).get(movingIndex);\r\n            image=&quot;pulsante non premuto, animazione non terminata, moving image&quot;;\r\n            movingIndex++;\r\n            movingIndex %= MAX_MOVING_INDEX;\r\n            \r\n           \r\n            if(movingIndex == 0) {\r\n            \tthis.animationTerminated = true;\r\n            \tSystem.out.println(&quot;Animazione terminata e pulsante premuto!!!!!!!!!!!!!!!!!!!&quot;);\r\n            }\r\n            else {\r\n            \tSystem.out.println(movingIndex);\r\n            \tthis.animationTerminated = false;\r\n            }\r\n            \r\n        }\r\n        else if (moving &amp;&amp; !animationTerminated){\r\n        \t//System.out.println(&quot;Pulsante ancora premuto ma animazione non terminata&quot;);\r\n        \tSystem.out.println(&quot;Indice animazione &quot;+ movingIndex);\r\n        \timg = movingImgMap.get(direction).get(movingIndex);\r\n        \timage=&quot;pulsante premuto, animazione non terminata, moving image&quot;;\r\n        }\r\n        else {\r\n        \t//System.out.println(&quot;Pulsante ancora premuto ma animazione non terminata&quot;);\r\n        \timg = standingImgMap.get(direction);\r\n        \timage=&quot;pulsante premuto, animazione terminata, standing image&quot;;\r\n        }*/\r\n     \r\n        if((moving &amp;&amp; !animationTerminated) || (!moving &amp;&amp; !animationTerminated)) {\r\n        \timg = movingImgMap.get(direction).get(movingIndex);\r\n        \tSystem.out.println(&quot;Moving image&quot;);\r\n        }\r\n        else {\r\n        \timg = standingImgMap.get(direction);\r\n        \tSystem.out.println(&quot;Standing image&quot;);\r\n        }\r\n        \r\n        \r\n        g.drawImage(img,\r\n    \t\t\tx,\r\n    \t\t\ty,\r\n    \t\t\tx + ZOOM_FACTOR + img.getWidth(null),\r\n    \t\t\ty + ZOOM_FACTOR + img.getHeight(null),\r\n    \t\t\t0, 0, img.getWidth(null), img.getHeight(null),\r\n    \t\t\tnull);\r\n    }\r\n    \r\n    public void tick() {\r\n        if (moving) {\r\n            switch (direction) {\r\n            case RIGHT:\r\n                x += DELTA;\r\n                break;\r\n            case LEFT:\r\n                x -= DELTA;\r\n                break;\r\n            case FORWARD:\r\n                y += DELTA;\r\n                break;\r\n            case AWAY:\r\n                y -= DELTA;\r\n            }\r\n            /*System.out.println(&quot;Moving index pre-incremento: &quot;+ movingIndex);\r\n            movingIndex++;\r\n            movingIndex %= MAX_MOVING_INDEX;\r\n            \r\n           \r\n            if(movingIndex == 0) {\r\n            \tthis.animationTerminated = true;\r\n            \tSystem.out.println(&quot;Animazione terminata!!!!!!!!!!!!!!!!!!!&quot;);\r\n            }\r\n            else {\r\n            \tSystem.out.println(movingIndex);\r\n            \tthis.animationTerminated = false;\r\n            }*/\r\n            \r\n        }\r\n    }\r\n    \r\n    public void tick2() {\r\n    \tSystem.out.println(&quot;MovingIndex pre elaborazione &quot;+ movingIndex);\r\n    \tif(moving) {\r\n    \t\tSystem.out.println(&quot;Ramo MOVING&quot;);\r\n    \t\tSystem.out.println(&quot;Moving index on tick2(): &quot;+ movingIndex);\r\n    \t\tif(movingIndex == 0 &amp;&amp; animationTerminated ) { //l&#39;animazione deve iniziare\r\n    \t\t\ttick();\r\n    \t\t\tmovingIndex++;\r\n    \t\t\tmovingIndex %= MAX_MOVING_INDEX;\r\n    \t\t\tanimationTerminated = false;\r\n    \t\t}\r\n    \t\telse { //l&#39;animazione &#232; gi&#224; in corso\r\n    \t\t\ttick();\r\n    \t\t\tmovingIndex++;\r\n    \t\t\tmovingIndex %= MAX_MOVING_INDEX;\r\n    \t\t\tanimationTerminated = false;\r\n    \t\t}\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;Ramo NOT MOVING&quot;);\r\n    \t\tif(!animationTerminated) { //pulsante rilasciato, animazione da completare\r\n    \t\t\ttick();\r\n    \t\t\t/*movingIndex++;\r\n    \t\t\tmovingIndex %= MAX_MOVING_INDEX;\r\n    \t\t\tif(movingIndex == 0) { //se il prossimo movingIndex == 0, l&#39;animazione &#232; conclusa\r\n    \t\t\t\tanimationTerminated = true;\r\n    \t\t\t}*/\r\n    \t\t}\r\n    \t\tmovingIndex++;\r\n\t\t\tmovingIndex %= MAX_MOVING_INDEX;\r\n\t    \tSystem.out.println(movingIndex);\r\n\r\n\t\t\tif(movingIndex == 0) { //se il prossimo movingIndex == 0, l&#39;animazione &#232; conclusa\r\n\t\t\t\tanimationTerminated = true;\r\n\t\t\t}\r\n    \t}\r\n    \tSystem.out.println(&quot;Moving index post elaborazione &quot;+ movingIndex);\r\n    }\r\n\r\n    private void createSprites() throws IOException {\r\n    \t\r\n        loadImage(PATH);\r\n        \r\n        SpriteDirection dir = SpriteDirection.LEFT;\r\n        List&lt;Image&gt; imgList = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir, imgList);\r\n        Image[] leftSprites = this.getFrogMoveLeftSprites();\r\n        standingImgMap.put(dir, leftSprites[0]);\r\n        imgList.add(leftSprites[1]);\r\n        imgList.add(leftSprites[0]);\r\n        \r\n        SpriteDirection dir1 = SpriteDirection.RIGHT;\r\n        List&lt;Image&gt; imgList1 = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir1, imgList1);\r\n        Image[] rightSprites = this.getFrogMoveRightSprites();\r\n        standingImgMap.put(dir1, rightSprites[0]);\r\n        imgList1.add(rightSprites[1]);\r\n        imgList1.add(rightSprites[0]);\r\n        \r\n        SpriteDirection dir2 = SpriteDirection.FORWARD;\r\n        List&lt;Image&gt; imgList2 = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir2, imgList2);\r\n        Image[] downSprites = this.getFrogMoveDownSprites();\r\n        standingImgMap.put(dir2, downSprites[0]);\r\n        imgList2.add(downSprites[1]);\r\n        imgList2.add(downSprites[0]);\r\n        \r\n        SpriteDirection dir3 = SpriteDirection.AWAY;\r\n        List&lt;Image&gt; imgList3 = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir3, imgList3);\r\n        Image[] upSprites = this.getFrogMoveUpSprites();\r\n        standingImgMap.put(dir3, upSprites[0]);\r\n        imgList3.add(upSprites[1]);\r\n        imgList3.add(upSprites[0]);\r\n  \r\n    }\r\n\r\n    public SpriteDirection getDirection() {\r\n        return direction;\r\n    }\r\n\r\n    public void setDirection(SpriteDirection direction) {\r\n        if (this.direction != direction) {\r\n            setMoving(false);\r\n        }\r\n        this.direction = direction;\r\n\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public void setX(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public void setY(int y) {\r\n        this.y = y;\r\n    }\r\n\r\n    public boolean isMoving() {\r\n        return moving;\r\n    }\r\n\r\n    public void setMoving(boolean moving) {\r\n        this.moving = moving;\r\n        if (!moving) {\r\n            movingIndex = 0;\r\n        }\r\n    }\r\n    \r\n    public void isAnimationTerminated() {\r\n    \tmovingIndex++;\r\n        movingIndex %= MAX_MOVING_INDEX;\r\n    \tSystem.out.println(&quot;Moving index post incremento, dopo chiamata isAnimationTerminated :&quot;+movingIndex);\r\n\r\n        if(movingIndex == 0) {\r\n        \tthis.animationTerminated = true;\r\n        }\r\n\r\n    }\r\n\r\n    public int getMovingIndex() {\r\n        return movingIndex;\r\n    }\r\n\r\n    public void setMovingIndex(int movingIndex) {\r\n        this.movingIndex = movingIndex;\r\n    }\r\n\r\n    private void loadImage(String fileName) {\r\n    \tthis.img = null;\r\n    \ttry {\r\n    \t\tthis.img = ImageIO.read(new File(fileName));\r\n    \t}\r\n    \tcatch(IOException ioe) {\r\n    \t\tioe.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    public Image[] getFrogMoveUpSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveUpFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveUpFrames[0] = img.getSubimage(FROG_MOVE_UP_STAND[0], FROG_MOVE_UP_STAND[1], FROG_MOVE_UP_STAND[2], FROG_MOVE_UP_STAND[3]);\r\n\t\tfrogMoveUpFrames[1] = img.getSubimage(FROG_MOVE_UP_FIRST[0], FROG_MOVE_UP_FIRST[1], FROG_MOVE_UP_FIRST[2], FROG_MOVE_UP_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveUpFrames;\r\n\t}\r\n\t\r\n\tpublic Image[] getFrogMoveDownSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveDownFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveDownFrames[0] = img.getSubimage(FROG_MOVE_DOWN_STAND[0], FROG_MOVE_DOWN_STAND[1], FROG_MOVE_DOWN_STAND[2], FROG_MOVE_DOWN_STAND[3]);\r\n\t\tfrogMoveDownFrames[1] = img.getSubimage(FROG_MOVE_DOWN_FIRST[0], FROG_MOVE_DOWN_FIRST[1], FROG_MOVE_DOWN_FIRST[2], FROG_MOVE_DOWN_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveDownFrames;\r\n\t}\r\n\t\r\n\tpublic Image[] getFrogMoveLeftSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveLeftFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveLeftFrames[0] = img.getSubimage(FROG_MOVE_LEFT_STAND[0], FROG_MOVE_LEFT_STAND[1], FROG_MOVE_LEFT_STAND[2], FROG_MOVE_LEFT_STAND[3]);\r\n\t\tfrogMoveLeftFrames[1] = img.getSubimage(FROG_MOVE_LEFT_FIRST[0], FROG_MOVE_LEFT_FIRST[1], FROG_MOVE_LEFT_FIRST[2], FROG_MOVE_LEFT_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveLeftFrames;\r\n\t}\r\n\t\r\n\tpublic Image[] getFrogMoveRightSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveRightFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveRightFrames[0] = img.getSubimage(FROG_MOVE_RIGHT_STAND[0], FROG_MOVE_RIGHT_STAND[1], FROG_MOVE_RIGHT_STAND[2], FROG_MOVE_RIGHT_STAND[3]);\r\n\t\tfrogMoveRightFrames[1] = img.getSubimage(FROG_MOVE_RIGHT_FIRST[0], FROG_MOVE_RIGHT_FIRST[1], FROG_MOVE_RIGHT_FIRST[2], FROG_MOVE_RIGHT_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveRightFrames;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npackage gng;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.EnumMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Mcve3 extends JPanel {\r\n    private static final int PREF_W = 800;\r\n    private static final int PREF_H = 640;\r\n    private static final int TIMER_DELAY = 150; //50;\r\n\r\n    private int spriteX = 400;\r\n    private int spriteY = 320;\r\n    private SpriteDirection spriteDirection = SpriteDirection.RIGHT;\r\n    private MySprite sprite = null;\r\n    private Timer timer = null;\r\n\r\n    public Mcve3() {\r\n        try {\r\n            sprite = new MySprite(spriteDirection, spriteX, spriteY);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n        setBackground(Color.WHITE);\r\n\r\n        setKeyBindings(SpriteDirection.LEFT, KeyEvent.VK_LEFT);\r\n        setKeyBindings(SpriteDirection.RIGHT, KeyEvent.VK_RIGHT);\r\n        setKeyBindings(SpriteDirection.FORWARD, KeyEvent.VK_DOWN);\r\n        setKeyBindings(SpriteDirection.AWAY, KeyEvent.VK_UP);\r\n\r\n        timer = new Timer(TIMER_DELAY, new TimerListener());\r\n        timer.start();\r\n    }\r\n\r\n    private void setKeyBindings(SpriteDirection dir, int keyCode) {\r\n        int condition = WHEN_IN_FOCUSED_WINDOW;\r\n        InputMap inputMap = getInputMap(condition);\r\n        ActionMap actionMap = getActionMap();\r\n\r\n        KeyStroke keyPressed = KeyStroke.getKeyStroke(keyCode, 0, false);\r\n        KeyStroke keyReleased = KeyStroke.getKeyStroke(keyCode, 0, true);\r\n\r\n        inputMap.put(keyPressed, keyPressed.toString());\r\n        inputMap.put(keyReleased, keyReleased.toString());\r\n\r\n        actionMap.put(keyPressed.toString(), new MoveAction(dir, false));\r\n        actionMap.put(keyReleased.toString(), new MoveAction(dir, true));\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        if (isPreferredSizeSet()) {\r\n            return super.getPreferredSize();\r\n        }\r\n        return new Dimension(PREF_W, PREF_H);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        sprite.draw(g);\r\n    }\r\n\r\n    private class MoveAction extends AbstractAction {\r\n        private SpriteDirection dir;\r\n        private boolean released;\r\n\r\n        public MoveAction(SpriteDirection dir, boolean released) {\r\n            this.dir = dir;\r\n            this.released = released;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (released) {\r\n                sprite.setMoving(false);\r\n            } else {\r\n                sprite.setMoving(true);\r\n                sprite.setDirection(dir);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private int i = 0;\r\n    \r\n    private class TimerListener implements ActionListener {\r\n        @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n        \t\tSystem.out.println(&quot;Iterazione: &quot;+i);\r\n        \t\ti++;\r\n        \t\t\r\n                /*if (sprite.isMoving()) {\r\n                    sprite.tick();\r\n                }\r\n                else {\r\n                \tSystem.out.println(&quot;La rana non si sta muovendo, setto l&#39;eventuale termine dell&#39;animazione&quot;);\r\n                \tsprite.isAnimationTerminated();\r\n                }*/\r\n        \t\tsprite.tick2();\r\n                repaint();\r\n            }\r\n    }\r\n\r\n    private static void createAndShowGui() {\r\n        Mcve3 mainPanel = new Mcve3();\r\n\r\n        JFrame frame = new JFrame(&quot;MCVE&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(mainPanel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\r\n    }\r\n}\r\n```\r\nAnd this is a screenshot of the strange behaviour showed in the console.\r\n[![enter image description here][1]][1]\r\nSorry for the comments not in English \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RAOa9.png","title":"How to move the frog on Java Frogger game","body":"<p>I'm trying to fix it with your advice.\nNow it seems to work, but I've noticed a strange behaviour. If I press quickly one of the buttons, the program shows only the standing frame; I've added to my code some lines to debug it, and the movingIndex that should be equal to 1 after the user presses the button, turns to 0 creating this strange phenomenon.\nThis is the new code</p>\n<pre><code>package gng;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.EnumMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\nclass MySprite {\n    \n    private final int ZOOM_FACTOR = 50;\n    \n    private final static int[] FROG_MOVE_UP_STAND = {1, 1, 16, 16};\n    private final static int[] FROG_MOVE_UP_FIRST = {19, 1, 16, 16};\n    \n    private final static int[] FROG_MOVE_DOWN_STAND = {73, 1, 16, 16};\n    private final static int[] FROG_MOVE_DOWN_FIRST = {91, 1, 16, 16};\n    \n    private final static int[] FROG_MOVE_LEFT_STAND = {37, 1, 16, 16};\n    private final static int[] FROG_MOVE_LEFT_FIRST = {55, 1, 16, 16};\n    \n    private final static int[] FROG_MOVE_RIGHT_STAND = {109, 1, 16, 16};\n    private final static int[] FROG_MOVE_RIGHT_FIRST = {127, 1, 16, 16};\n    \n    private static final String SPRITE_SHEET_PATH = &quot;http://orig12.deviantart.net/7db3/f/2010/338/3/3/animated_sprite_sheet_32x32_by_digibody-d3479l2.gif&quot;;\n    private static final int MAX_MOVING_INDEX = 2;\n    private static final int DELTA = 50;\n    private SpriteDirection direction;\n    private Map&lt;SpriteDirection, Image&gt; standingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\n    private Map&lt;SpriteDirection, List&lt;Image&gt;&gt; movingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\n    private int x;\n    private int y;\n    private boolean moving = false;\n    private int movingIndex = 0;\n    \n    private final static String PATH = &quot;images/FroggerSpritesSenzaSfondo2.gif&quot;;\n    \n    private BufferedImage img;\n    \n    protected boolean animationTerminated = true;\n\n    public MySprite(SpriteDirection direction, int x, int y) throws IOException {\n        this.direction = direction;\n        this.x = x;\n        this.y = y;\n        createSprites();\n    }\n\n    public void draw(Graphics g) {\n        Image img = null;\n        String image;\n        \n        System.out.println(&quot;Moving: &quot;+ moving + &quot;, animationTerminated: &quot;+ animationTerminated);\n        \n       /* if (!moving &amp;&amp; animationTerminated) {\n            img = standingImgMap.get(direction);\n            image=&quot;pulsante non premuto, animazione terminata, standing image&quot;;\n        }\n        else if(!moving &amp;&amp; !animationTerminated) {\n            //System.out.println(&quot;Pulsante rilasciato ma animazione non terminata&quot;);\n            img = movingImgMap.get(direction).get(movingIndex);\n            image=&quot;pulsante non premuto, animazione non terminata, moving image&quot;;\n            movingIndex++;\n            movingIndex %= MAX_MOVING_INDEX;\n            \n           \n            if(movingIndex == 0) {\n                this.animationTerminated = true;\n                System.out.println(&quot;Animazione terminata e pulsante premuto!!!!!!!!!!!!!!!!!!!&quot;);\n            }\n            else {\n                System.out.println(movingIndex);\n                this.animationTerminated = false;\n            }\n            \n        }\n        else if (moving &amp;&amp; !animationTerminated){\n            //System.out.println(&quot;Pulsante ancora premuto ma animazione non terminata&quot;);\n            System.out.println(&quot;Indice animazione &quot;+ movingIndex);\n            img = movingImgMap.get(direction).get(movingIndex);\n            image=&quot;pulsante premuto, animazione non terminata, moving image&quot;;\n        }\n        else {\n            //System.out.println(&quot;Pulsante ancora premuto ma animazione non terminata&quot;);\n            img = standingImgMap.get(direction);\n            image=&quot;pulsante premuto, animazione terminata, standing image&quot;;\n        }*/\n     \n        if((moving &amp;&amp; !animationTerminated) || (!moving &amp;&amp; !animationTerminated)) {\n            img = movingImgMap.get(direction).get(movingIndex);\n            System.out.println(&quot;Moving image&quot;);\n        }\n        else {\n            img = standingImgMap.get(direction);\n            System.out.println(&quot;Standing image&quot;);\n        }\n        \n        \n        g.drawImage(img,\n                x,\n                y,\n                x + ZOOM_FACTOR + img.getWidth(null),\n                y + ZOOM_FACTOR + img.getHeight(null),\n                0, 0, img.getWidth(null), img.getHeight(null),\n                null);\n    }\n    \n    public void tick() {\n        if (moving) {\n            switch (direction) {\n            case RIGHT:\n                x += DELTA;\n                break;\n            case LEFT:\n                x -= DELTA;\n                break;\n            case FORWARD:\n                y += DELTA;\n                break;\n            case AWAY:\n                y -= DELTA;\n            }\n            /*System.out.println(&quot;Moving index pre-incremento: &quot;+ movingIndex);\n            movingIndex++;\n            movingIndex %= MAX_MOVING_INDEX;\n            \n           \n            if(movingIndex == 0) {\n                this.animationTerminated = true;\n                System.out.println(&quot;Animazione terminata!!!!!!!!!!!!!!!!!!!&quot;);\n            }\n            else {\n                System.out.println(movingIndex);\n                this.animationTerminated = false;\n            }*/\n            \n        }\n    }\n    \n    public void tick2() {\n        System.out.println(&quot;MovingIndex pre elaborazione &quot;+ movingIndex);\n        if(moving) {\n            System.out.println(&quot;Ramo MOVING&quot;);\n            System.out.println(&quot;Moving index on tick2(): &quot;+ movingIndex);\n            if(movingIndex == 0 &amp;&amp; animationTerminated ) { //l'animazione deve iniziare\n                tick();\n                movingIndex++;\n                movingIndex %= MAX_MOVING_INDEX;\n                animationTerminated = false;\n            }\n            else { //l'animazione è già in corso\n                tick();\n                movingIndex++;\n                movingIndex %= MAX_MOVING_INDEX;\n                animationTerminated = false;\n            }\n        }\n        else {\n            System.out.println(&quot;Ramo NOT MOVING&quot;);\n            if(!animationTerminated) { //pulsante rilasciato, animazione da completare\n                tick();\n                /*movingIndex++;\n                movingIndex %= MAX_MOVING_INDEX;\n                if(movingIndex == 0) { //se il prossimo movingIndex == 0, l'animazione è conclusa\n                    animationTerminated = true;\n                }*/\n            }\n            movingIndex++;\n            movingIndex %= MAX_MOVING_INDEX;\n            System.out.println(movingIndex);\n\n            if(movingIndex == 0) { //se il prossimo movingIndex == 0, l'animazione è conclusa\n                animationTerminated = true;\n            }\n        }\n        System.out.println(&quot;Moving index post elaborazione &quot;+ movingIndex);\n    }\n\n    private void createSprites() throws IOException {\n        \n        loadImage(PATH);\n        \n        SpriteDirection dir = SpriteDirection.LEFT;\n        List&lt;Image&gt; imgList = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir, imgList);\n        Image[] leftSprites = this.getFrogMoveLeftSprites();\n        standingImgMap.put(dir, leftSprites[0]);\n        imgList.add(leftSprites[1]);\n        imgList.add(leftSprites[0]);\n        \n        SpriteDirection dir1 = SpriteDirection.RIGHT;\n        List&lt;Image&gt; imgList1 = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir1, imgList1);\n        Image[] rightSprites = this.getFrogMoveRightSprites();\n        standingImgMap.put(dir1, rightSprites[0]);\n        imgList1.add(rightSprites[1]);\n        imgList1.add(rightSprites[0]);\n        \n        SpriteDirection dir2 = SpriteDirection.FORWARD;\n        List&lt;Image&gt; imgList2 = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir2, imgList2);\n        Image[] downSprites = this.getFrogMoveDownSprites();\n        standingImgMap.put(dir2, downSprites[0]);\n        imgList2.add(downSprites[1]);\n        imgList2.add(downSprites[0]);\n        \n        SpriteDirection dir3 = SpriteDirection.AWAY;\n        List&lt;Image&gt; imgList3 = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir3, imgList3);\n        Image[] upSprites = this.getFrogMoveUpSprites();\n        standingImgMap.put(dir3, upSprites[0]);\n        imgList3.add(upSprites[1]);\n        imgList3.add(upSprites[0]);\n  \n    }\n\n    public SpriteDirection getDirection() {\n        return direction;\n    }\n\n    public void setDirection(SpriteDirection direction) {\n        if (this.direction != direction) {\n            setMoving(false);\n        }\n        this.direction = direction;\n\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public boolean isMoving() {\n        return moving;\n    }\n\n    public void setMoving(boolean moving) {\n        this.moving = moving;\n        if (!moving) {\n            movingIndex = 0;\n        }\n    }\n    \n    public void isAnimationTerminated() {\n        movingIndex++;\n        movingIndex %= MAX_MOVING_INDEX;\n        System.out.println(&quot;Moving index post incremento, dopo chiamata isAnimationTerminated :&quot;+movingIndex);\n\n        if(movingIndex == 0) {\n            this.animationTerminated = true;\n        }\n\n    }\n\n    public int getMovingIndex() {\n        return movingIndex;\n    }\n\n    public void setMovingIndex(int movingIndex) {\n        this.movingIndex = movingIndex;\n    }\n\n    private void loadImage(String fileName) {\n        this.img = null;\n        try {\n            this.img = ImageIO.read(new File(fileName));\n        }\n        catch(IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n    \n    public Image[] getFrogMoveUpSprites() {\n        loadImage(PATH); \n        Image[] frogMoveUpFrames = new Image[2];\n        \n        frogMoveUpFrames[0] = img.getSubimage(FROG_MOVE_UP_STAND[0], FROG_MOVE_UP_STAND[1], FROG_MOVE_UP_STAND[2], FROG_MOVE_UP_STAND[3]);\n        frogMoveUpFrames[1] = img.getSubimage(FROG_MOVE_UP_FIRST[0], FROG_MOVE_UP_FIRST[1], FROG_MOVE_UP_FIRST[2], FROG_MOVE_UP_FIRST[3]);\n    \n        return frogMoveUpFrames;\n    }\n    \n    public Image[] getFrogMoveDownSprites() {\n        loadImage(PATH); \n        Image[] frogMoveDownFrames = new Image[2];\n        \n        frogMoveDownFrames[0] = img.getSubimage(FROG_MOVE_DOWN_STAND[0], FROG_MOVE_DOWN_STAND[1], FROG_MOVE_DOWN_STAND[2], FROG_MOVE_DOWN_STAND[3]);\n        frogMoveDownFrames[1] = img.getSubimage(FROG_MOVE_DOWN_FIRST[0], FROG_MOVE_DOWN_FIRST[1], FROG_MOVE_DOWN_FIRST[2], FROG_MOVE_DOWN_FIRST[3]);\n    \n        return frogMoveDownFrames;\n    }\n    \n    public Image[] getFrogMoveLeftSprites() {\n        loadImage(PATH); \n        Image[] frogMoveLeftFrames = new Image[2];\n        \n        frogMoveLeftFrames[0] = img.getSubimage(FROG_MOVE_LEFT_STAND[0], FROG_MOVE_LEFT_STAND[1], FROG_MOVE_LEFT_STAND[2], FROG_MOVE_LEFT_STAND[3]);\n        frogMoveLeftFrames[1] = img.getSubimage(FROG_MOVE_LEFT_FIRST[0], FROG_MOVE_LEFT_FIRST[1], FROG_MOVE_LEFT_FIRST[2], FROG_MOVE_LEFT_FIRST[3]);\n    \n        return frogMoveLeftFrames;\n    }\n    \n    public Image[] getFrogMoveRightSprites() {\n        loadImage(PATH); \n        Image[] frogMoveRightFrames = new Image[2];\n        \n        frogMoveRightFrames[0] = img.getSubimage(FROG_MOVE_RIGHT_STAND[0], FROG_MOVE_RIGHT_STAND[1], FROG_MOVE_RIGHT_STAND[2], FROG_MOVE_RIGHT_STAND[3]);\n        frogMoveRightFrames[1] = img.getSubimage(FROG_MOVE_RIGHT_FIRST[0], FROG_MOVE_RIGHT_FIRST[1], FROG_MOVE_RIGHT_FIRST[2], FROG_MOVE_RIGHT_FIRST[3]);\n    \n        return frogMoveRightFrames;\n    }\n}\n</code></pre>\n<pre><code>package gng;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.EnumMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Mcve3 extends JPanel {\n    private static final int PREF_W = 800;\n    private static final int PREF_H = 640;\n    private static final int TIMER_DELAY = 150; //50;\n\n    private int spriteX = 400;\n    private int spriteY = 320;\n    private SpriteDirection spriteDirection = SpriteDirection.RIGHT;\n    private MySprite sprite = null;\n    private Timer timer = null;\n\n    public Mcve3() {\n        try {\n            sprite = new MySprite(spriteDirection, spriteX, spriteY);\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n        setBackground(Color.WHITE);\n\n        setKeyBindings(SpriteDirection.LEFT, KeyEvent.VK_LEFT);\n        setKeyBindings(SpriteDirection.RIGHT, KeyEvent.VK_RIGHT);\n        setKeyBindings(SpriteDirection.FORWARD, KeyEvent.VK_DOWN);\n        setKeyBindings(SpriteDirection.AWAY, KeyEvent.VK_UP);\n\n        timer = new Timer(TIMER_DELAY, new TimerListener());\n        timer.start();\n    }\n\n    private void setKeyBindings(SpriteDirection dir, int keyCode) {\n        int condition = WHEN_IN_FOCUSED_WINDOW;\n        InputMap inputMap = getInputMap(condition);\n        ActionMap actionMap = getActionMap();\n\n        KeyStroke keyPressed = KeyStroke.getKeyStroke(keyCode, 0, false);\n        KeyStroke keyReleased = KeyStroke.getKeyStroke(keyCode, 0, true);\n\n        inputMap.put(keyPressed, keyPressed.toString());\n        inputMap.put(keyReleased, keyReleased.toString());\n\n        actionMap.put(keyPressed.toString(), new MoveAction(dir, false));\n        actionMap.put(keyReleased.toString(), new MoveAction(dir, true));\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (isPreferredSizeSet()) {\n            return super.getPreferredSize();\n        }\n        return new Dimension(PREF_W, PREF_H);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        sprite.draw(g);\n    }\n\n    private class MoveAction extends AbstractAction {\n        private SpriteDirection dir;\n        private boolean released;\n\n        public MoveAction(SpriteDirection dir, boolean released) {\n            this.dir = dir;\n            this.released = released;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (released) {\n                sprite.setMoving(false);\n            } else {\n                sprite.setMoving(true);\n                sprite.setDirection(dir);\n            }\n        }\n    }\n    \n    private int i = 0;\n    \n    private class TimerListener implements ActionListener {\n        @Override\n            public void actionPerformed(ActionEvent e) {\n                System.out.println(&quot;Iterazione: &quot;+i);\n                i++;\n                \n                /*if (sprite.isMoving()) {\n                    sprite.tick();\n                }\n                else {\n                    System.out.println(&quot;La rana non si sta muovendo, setto l'eventuale termine dell'animazione&quot;);\n                    sprite.isAnimationTerminated();\n                }*/\n                sprite.tick2();\n                repaint();\n            }\n    }\n\n    private static void createAndShowGui() {\n        Mcve3 mainPanel = new Mcve3();\n\n        JFrame frame = new JFrame(&quot;MCVE&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\n    }\n}\n</code></pre>\n<p>And this is a screenshot of the strange behaviour showed in the console.\n<a href=\"https://i.stack.imgur.com/RAOa9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RAOa9.png\" alt=\"enter image description here\" /></a>\nSorry for the comments not in English</p>\n"}],"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1702318436,"creation_date":1702301890,"question_id":77639997,"body_markdown":"I&#39;m developing a java Frogger game for a school project and now I&#39;m adding the animations.\r\nTo do it, I&#39;ve searched ideas on stack overflow, and I&#39;ve found this post https://stackoverflow.com/questions/6887296/how-to-make-an-image-move-while-listening-to-a-keypress-in-java/6887628#6887628\r\nFollowing this example, I&#39;ve created this code.\r\n\r\nThis is the class of the Sprites\r\n\r\n```\r\npackage gng;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.EnumMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\nclass MySprite {\r\n\t\r\n\tprivate final int ZOOM_FACTOR = 50;\r\n\t\r\n\tprivate final static int[] FROG_MOVE_UP_STAND = {1, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_UP_FIRST = {19, 1, 16, 16};\r\n\t\r\n\tprivate final static int[] FROG_MOVE_DOWN_STAND = {73, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_DOWN_FIRST = {91, 1, 16, 16};\r\n\t\r\n\tprivate final static int[] FROG_MOVE_LEFT_STAND = {37, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_LEFT_FIRST = {55, 1, 16, 16};\r\n\t\r\n\tprivate final static int[] FROG_MOVE_RIGHT_STAND = {109, 1, 16, 16};\r\n\tprivate final static int[] FROG_MOVE_RIGHT_FIRST = {127, 1, 16, 16};\r\n\t\r\n    private static final int MAX_MOVING_INDEX = 2;\r\n    private static final int DELTA = 50;\r\n    private SpriteDirection direction;\r\n    private Map&lt;SpriteDirection, Image&gt; standingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\r\n    private Map&lt;SpriteDirection, List&lt;Image&gt;&gt; movingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\r\n    private int x;\r\n    private int y;\r\n    private boolean moving = false;\r\n    private int movingIndex = 0;\r\n    \r\n    private final static String PATH = &quot;images/FroggerSprites.gif&quot;;\r\n\t\r\n\tprivate BufferedImage img;\r\n\t\r\n\tprotected boolean animationTerminated = true;\r\n\r\n    public MySprite(SpriteDirection direction, int x, int y) throws IOException {\r\n        this.direction = direction;\r\n        this.x = x;\r\n        this.y = y;\r\n        createSprites();\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        Image img = null;\r\n        String image;\r\n        \r\n        System.out.println(&quot;Moving: &quot;+ moving + &quot;, animationTerminated: &quot;+ animationTerminated);\r\n         \r\n        if(!moving &amp;&amp; !animationTerminated) {\r\n        \timg = movingImgMap.get(direction).get(movingIndex);\r\n        \tmovingIndex++;\r\n            movingIndex %= MAX_MOVING_INDEX;\r\n            \r\n           \r\n            if(movingIndex == 0) {\r\n            \tthis.animationTerminated = true;\r\n            }\r\n            else {\r\n            \tthis.animationTerminated = false;\r\n            }\r\n        }\r\n        else if((!moving &amp;&amp; animationTerminated) || (moving &amp;&amp; animationTerminated)) {\r\n        \timg = standingImgMap.get(direction);\r\n        }\r\n        else {\r\n        \timg = movingImgMap.get(direction).get(movingIndex);\r\n        }\r\n       \r\n        g.drawImage(img,\r\n    \t\t\tx,\r\n    \t\t\ty,\r\n    \t\t\tx + ZOOM_FACTOR + img.getWidth(null),\r\n    \t\t\ty + ZOOM_FACTOR + img.getHeight(null),\r\n    \t\t\t0, 0, img.getWidth(null), img.getHeight(null),\r\n    \t\t\tnull);\r\n    }\r\n\r\n    private void createSprites() throws IOException {\r\n    \t\r\n        loadImage(PATH);\r\n        \r\n        SpriteDirection dir = SpriteDirection.LEFT;\r\n        List&lt;Image&gt; imgList = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir, imgList);\r\n        Image[] leftSprites = this.getFrogMoveLeftSprites();\r\n        standingImgMap.put(dir, leftSprites[0]);\r\n        imgList.add(leftSprites[1]);\r\n        imgList.add(leftSprites[0]);\r\n        \r\n        SpriteDirection dir1 = SpriteDirection.RIGHT;\r\n        List&lt;Image&gt; imgList1 = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir1, imgList1);\r\n        Image[] rightSprites = this.getFrogMoveRightSprites();\r\n        standingImgMap.put(dir1, rightSprites[0]);\r\n        imgList1.add(rightSprites[1]);\r\n        imgList1.add(rightSprites[0]);\r\n        \r\n        SpriteDirection dir2 = SpriteDirection.FORWARD;\r\n        List&lt;Image&gt; imgList2 = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir2, imgList2);\r\n        Image[] downSprites = this.getFrogMoveDownSprites();\r\n        standingImgMap.put(dir2, downSprites[0]);\r\n        imgList2.add(downSprites[1]);\r\n        imgList2.add(downSprites[0]);\r\n        \r\n        SpriteDirection dir3 = SpriteDirection.AWAY;\r\n        List&lt;Image&gt; imgList3 = new ArrayList&lt;&gt;();\r\n        movingImgMap.put(dir3, imgList3);\r\n        Image[] upSprites = this.getFrogMoveUpSprites();\r\n        standingImgMap.put(dir3, upSprites[0]);\r\n        imgList3.add(upSprites[1]);\r\n        imgList3.add(upSprites[0]);\r\n  \r\n    }\r\n\r\n    public SpriteDirection getDirection() {\r\n        return direction;\r\n    }\r\n\r\n    public void setDirection(SpriteDirection direction) {\r\n        if (this.direction != direction) {\r\n            setMoving(false);\r\n        }\r\n        this.direction = direction;\r\n\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public void setX(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public void setY(int y) {\r\n        this.y = y;\r\n    }\r\n\r\n    public boolean isMoving() {\r\n        return moving;\r\n    }\r\n\r\n    public void setMoving(boolean moving) {\r\n        this.moving = moving;\r\n        if (!moving) {\r\n            movingIndex = 0;\r\n        }\r\n    }\r\n\r\n    public void tick() {\r\n        if (moving) {\r\n            switch (direction) {\r\n            case RIGHT:\r\n                x += DELTA;\r\n                break;\r\n            case LEFT:\r\n                x -= DELTA;\r\n                break;\r\n            case FORWARD:\r\n                y += DELTA;\r\n                break;\r\n            case AWAY:\r\n                y -= DELTA;\r\n            }\r\n            \r\n            movingIndex++;\r\n            movingIndex %= MAX_MOVING_INDEX;\r\n            \r\n           \r\n            if(movingIndex == 0) {\r\n            \tthis.animationTerminated = true;\r\n            }\r\n            else {\r\n            \tthis.animationTerminated = false;\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    public int getMovingIndex() {\r\n        return movingIndex;\r\n    }\r\n\r\n    public void setMovingIndex(int movingIndex) {\r\n        this.movingIndex = movingIndex;\r\n    }\r\n\r\n    private void loadImage(String fileName) {\r\n    \tthis.img = null;\r\n    \ttry {\r\n    \t\tthis.img = ImageIO.read(new File(fileName));\r\n    \t}\r\n    \tcatch(IOException ioe) {\r\n    \t\tioe.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    public Image[] getFrogMoveUpSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveUpFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveUpFrames[0] = img.getSubimage(FROG_MOVE_UP_STAND[0], FROG_MOVE_UP_STAND[1], FROG_MOVE_UP_STAND[2], FROG_MOVE_UP_STAND[3]);\r\n\t\tfrogMoveUpFrames[1] = img.getSubimage(FROG_MOVE_UP_FIRST[0], FROG_MOVE_UP_FIRST[1], FROG_MOVE_UP_FIRST[2], FROG_MOVE_UP_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveUpFrames;\r\n\t}\r\n\t\r\n\tpublic Image[] getFrogMoveDownSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveDownFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveDownFrames[0] = img.getSubimage(FROG_MOVE_DOWN_STAND[0], FROG_MOVE_DOWN_STAND[1], FROG_MOVE_DOWN_STAND[2], FROG_MOVE_DOWN_STAND[3]);\r\n\t\tfrogMoveDownFrames[1] = img.getSubimage(FROG_MOVE_DOWN_FIRST[0], FROG_MOVE_DOWN_FIRST[1], FROG_MOVE_DOWN_FIRST[2], FROG_MOVE_DOWN_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveDownFrames;\r\n\t}\r\n\t\r\n\tpublic Image[] getFrogMoveLeftSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveLeftFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveLeftFrames[0] = img.getSubimage(FROG_MOVE_LEFT_STAND[0], FROG_MOVE_LEFT_STAND[1], FROG_MOVE_LEFT_STAND[2], FROG_MOVE_LEFT_STAND[3]);\r\n\t\tfrogMoveLeftFrames[1] = img.getSubimage(FROG_MOVE_LEFT_FIRST[0], FROG_MOVE_LEFT_FIRST[1], FROG_MOVE_LEFT_FIRST[2], FROG_MOVE_LEFT_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveLeftFrames;\r\n\t}\r\n\t\r\n\tpublic Image[] getFrogMoveRightSprites() {\r\n\t\tloadImage(PATH); \r\n\t\tImage[] frogMoveRightFrames = new Image[2];\r\n\t\t\r\n\t\tfrogMoveRightFrames[0] = img.getSubimage(FROG_MOVE_RIGHT_STAND[0], FROG_MOVE_RIGHT_STAND[1], FROG_MOVE_RIGHT_STAND[2], FROG_MOVE_RIGHT_STAND[3]);\r\n\t\tfrogMoveRightFrames[1] = img.getSubimage(FROG_MOVE_RIGHT_FIRST[0], FROG_MOVE_RIGHT_FIRST[1], FROG_MOVE_RIGHT_FIRST[2], FROG_MOVE_RIGHT_FIRST[3]);\r\n\t\r\n\t\treturn frogMoveRightFrames;\r\n\t}\r\n}\r\n```\r\nAnd this is the class of the GUI:\r\n\r\n```\r\npackage gng;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.EnumMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Mcve3 extends JPanel {\r\n    private static final int PREF_W = 800;\r\n    private static final int PREF_H = 640;\r\n    private static final int TIMER_DELAY = 300; //50;\r\n\r\n    private int spriteX = 400;\r\n    private int spriteY = 320;\r\n    private SpriteDirection spriteDirection = SpriteDirection.RIGHT;\r\n    private MySprite sprite = null;\r\n    private Timer timer = null;\r\n\r\n    public Mcve3() {\r\n        try {\r\n            sprite = new MySprite(spriteDirection, spriteX, spriteY);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n        setBackground(Color.WHITE);\r\n\r\n        setKeyBindings(SpriteDirection.LEFT, KeyEvent.VK_LEFT);\r\n        setKeyBindings(SpriteDirection.RIGHT, KeyEvent.VK_RIGHT);\r\n        setKeyBindings(SpriteDirection.FORWARD, KeyEvent.VK_DOWN);\r\n        setKeyBindings(SpriteDirection.AWAY, KeyEvent.VK_UP);\r\n\r\n        timer = new Timer(TIMER_DELAY, new TimerListener());\r\n        timer.start();\r\n    }\r\n\r\n    private void setKeyBindings(SpriteDirection dir, int keyCode) {\r\n        int condition = WHEN_IN_FOCUSED_WINDOW;\r\n        InputMap inputMap = getInputMap(condition);\r\n        ActionMap actionMap = getActionMap();\r\n\r\n        KeyStroke keyPressed = KeyStroke.getKeyStroke(keyCode, 0, false);\r\n        KeyStroke keyReleased = KeyStroke.getKeyStroke(keyCode, 0, true);\r\n\r\n        inputMap.put(keyPressed, keyPressed.toString());\r\n        inputMap.put(keyReleased, keyReleased.toString());\r\n\r\n        actionMap.put(keyPressed.toString(), new MoveAction(dir, false));\r\n        actionMap.put(keyReleased.toString(), new MoveAction(dir, true));\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        if (isPreferredSizeSet()) {\r\n            return super.getPreferredSize();\r\n        }\r\n        return new Dimension(PREF_W, PREF_H);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        sprite.draw(g);\r\n    }\r\n\r\n    private class MoveAction extends AbstractAction {\r\n        private SpriteDirection dir;\r\n        private boolean released;\r\n\r\n        public MoveAction(SpriteDirection dir, boolean released) {\r\n            this.dir = dir;\r\n            this.released = released;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (released) {\r\n                sprite.setMoving(false);\r\n            } else {\r\n                sprite.setMoving(true);\r\n                sprite.setDirection(dir);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private int i = 0;\r\n    \r\n    private class TimerListener implements ActionListener {\r\n        @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n        \t\tSystem.out.println(&quot;Iterazione: &quot;+i);\r\n        \t\ti++;\r\n        \t\t\r\n                if (sprite.isMoving()) {\r\n                    sprite.tick();\r\n                }\r\n                repaint();\r\n            }\r\n    }\r\n\r\n    private static void createAndShowGui() {\r\n        Mcve3 mainPanel = new Mcve3();\r\n\r\n        JFrame frame = new JFrame(&quot;MCVE&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(mainPanel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\r\n    }\r\n}\r\n```\r\nI would like to move the frog on a single press of the buttons, and to move it fluidly when the user keeps pressed the button.\r\nWith this code, on a single press, the frame of the frog&#39;s movement appears late; instead when I keep pressed the button, only the static frame is shown.\r\n\r\nThis is the Sprites that I&#39;ve used.\r\n[enter image description here](https://i.stack.imgur.com/yKUIS.gif)\r\n\r\n\r\n\r\n\r\nI try to fix it, but don&#39;t understand where is the problem. I&#39;ve already searched other posts to find a solution, but I didn&#39;t find it.","title":"How to move the frog on Java Frogger game","body":"<p>I'm developing a java Frogger game for a school project and now I'm adding the animations.\nTo do it, I've searched ideas on stack overflow, and I've found this post <a href=\"https://stackoverflow.com/questions/6887296/how-to-make-an-image-move-while-listening-to-a-keypress-in-java/6887628#6887628\">How to make an image move while listening to a keypress in Java.</a>\nFollowing this example, I've created this code.</p>\n<p>This is the class of the Sprites</p>\n<pre><code>package gng;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.EnumMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\nclass MySprite {\n    \n    private final int ZOOM_FACTOR = 50;\n    \n    private final static int[] FROG_MOVE_UP_STAND = {1, 1, 16, 16};\n    private final static int[] FROG_MOVE_UP_FIRST = {19, 1, 16, 16};\n    \n    private final static int[] FROG_MOVE_DOWN_STAND = {73, 1, 16, 16};\n    private final static int[] FROG_MOVE_DOWN_FIRST = {91, 1, 16, 16};\n    \n    private final static int[] FROG_MOVE_LEFT_STAND = {37, 1, 16, 16};\n    private final static int[] FROG_MOVE_LEFT_FIRST = {55, 1, 16, 16};\n    \n    private final static int[] FROG_MOVE_RIGHT_STAND = {109, 1, 16, 16};\n    private final static int[] FROG_MOVE_RIGHT_FIRST = {127, 1, 16, 16};\n    \n    private static final int MAX_MOVING_INDEX = 2;\n    private static final int DELTA = 50;\n    private SpriteDirection direction;\n    private Map&lt;SpriteDirection, Image&gt; standingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\n    private Map&lt;SpriteDirection, List&lt;Image&gt;&gt; movingImgMap = new EnumMap&lt;&gt;(SpriteDirection.class);\n    private int x;\n    private int y;\n    private boolean moving = false;\n    private int movingIndex = 0;\n    \n    private final static String PATH = &quot;images/FroggerSprites.gif&quot;;\n    \n    private BufferedImage img;\n    \n    protected boolean animationTerminated = true;\n\n    public MySprite(SpriteDirection direction, int x, int y) throws IOException {\n        this.direction = direction;\n        this.x = x;\n        this.y = y;\n        createSprites();\n    }\n\n    public void draw(Graphics g) {\n        Image img = null;\n        String image;\n        \n        System.out.println(&quot;Moving: &quot;+ moving + &quot;, animationTerminated: &quot;+ animationTerminated);\n         \n        if(!moving &amp;&amp; !animationTerminated) {\n            img = movingImgMap.get(direction).get(movingIndex);\n            movingIndex++;\n            movingIndex %= MAX_MOVING_INDEX;\n            \n           \n            if(movingIndex == 0) {\n                this.animationTerminated = true;\n            }\n            else {\n                this.animationTerminated = false;\n            }\n        }\n        else if((!moving &amp;&amp; animationTerminated) || (moving &amp;&amp; animationTerminated)) {\n            img = standingImgMap.get(direction);\n        }\n        else {\n            img = movingImgMap.get(direction).get(movingIndex);\n        }\n       \n        g.drawImage(img,\n                x,\n                y,\n                x + ZOOM_FACTOR + img.getWidth(null),\n                y + ZOOM_FACTOR + img.getHeight(null),\n                0, 0, img.getWidth(null), img.getHeight(null),\n                null);\n    }\n\n    private void createSprites() throws IOException {\n        \n        loadImage(PATH);\n        \n        SpriteDirection dir = SpriteDirection.LEFT;\n        List&lt;Image&gt; imgList = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir, imgList);\n        Image[] leftSprites = this.getFrogMoveLeftSprites();\n        standingImgMap.put(dir, leftSprites[0]);\n        imgList.add(leftSprites[1]);\n        imgList.add(leftSprites[0]);\n        \n        SpriteDirection dir1 = SpriteDirection.RIGHT;\n        List&lt;Image&gt; imgList1 = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir1, imgList1);\n        Image[] rightSprites = this.getFrogMoveRightSprites();\n        standingImgMap.put(dir1, rightSprites[0]);\n        imgList1.add(rightSprites[1]);\n        imgList1.add(rightSprites[0]);\n        \n        SpriteDirection dir2 = SpriteDirection.FORWARD;\n        List&lt;Image&gt; imgList2 = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir2, imgList2);\n        Image[] downSprites = this.getFrogMoveDownSprites();\n        standingImgMap.put(dir2, downSprites[0]);\n        imgList2.add(downSprites[1]);\n        imgList2.add(downSprites[0]);\n        \n        SpriteDirection dir3 = SpriteDirection.AWAY;\n        List&lt;Image&gt; imgList3 = new ArrayList&lt;&gt;();\n        movingImgMap.put(dir3, imgList3);\n        Image[] upSprites = this.getFrogMoveUpSprites();\n        standingImgMap.put(dir3, upSprites[0]);\n        imgList3.add(upSprites[1]);\n        imgList3.add(upSprites[0]);\n  \n    }\n\n    public SpriteDirection getDirection() {\n        return direction;\n    }\n\n    public void setDirection(SpriteDirection direction) {\n        if (this.direction != direction) {\n            setMoving(false);\n        }\n        this.direction = direction;\n\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public boolean isMoving() {\n        return moving;\n    }\n\n    public void setMoving(boolean moving) {\n        this.moving = moving;\n        if (!moving) {\n            movingIndex = 0;\n        }\n    }\n\n    public void tick() {\n        if (moving) {\n            switch (direction) {\n            case RIGHT:\n                x += DELTA;\n                break;\n            case LEFT:\n                x -= DELTA;\n                break;\n            case FORWARD:\n                y += DELTA;\n                break;\n            case AWAY:\n                y -= DELTA;\n            }\n            \n            movingIndex++;\n            movingIndex %= MAX_MOVING_INDEX;\n            \n           \n            if(movingIndex == 0) {\n                this.animationTerminated = true;\n            }\n            else {\n                this.animationTerminated = false;\n            }\n            \n        }\n    }\n\n    public int getMovingIndex() {\n        return movingIndex;\n    }\n\n    public void setMovingIndex(int movingIndex) {\n        this.movingIndex = movingIndex;\n    }\n\n    private void loadImage(String fileName) {\n        this.img = null;\n        try {\n            this.img = ImageIO.read(new File(fileName));\n        }\n        catch(IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n    \n    public Image[] getFrogMoveUpSprites() {\n        loadImage(PATH); \n        Image[] frogMoveUpFrames = new Image[2];\n        \n        frogMoveUpFrames[0] = img.getSubimage(FROG_MOVE_UP_STAND[0], FROG_MOVE_UP_STAND[1], FROG_MOVE_UP_STAND[2], FROG_MOVE_UP_STAND[3]);\n        frogMoveUpFrames[1] = img.getSubimage(FROG_MOVE_UP_FIRST[0], FROG_MOVE_UP_FIRST[1], FROG_MOVE_UP_FIRST[2], FROG_MOVE_UP_FIRST[3]);\n    \n        return frogMoveUpFrames;\n    }\n    \n    public Image[] getFrogMoveDownSprites() {\n        loadImage(PATH); \n        Image[] frogMoveDownFrames = new Image[2];\n        \n        frogMoveDownFrames[0] = img.getSubimage(FROG_MOVE_DOWN_STAND[0], FROG_MOVE_DOWN_STAND[1], FROG_MOVE_DOWN_STAND[2], FROG_MOVE_DOWN_STAND[3]);\n        frogMoveDownFrames[1] = img.getSubimage(FROG_MOVE_DOWN_FIRST[0], FROG_MOVE_DOWN_FIRST[1], FROG_MOVE_DOWN_FIRST[2], FROG_MOVE_DOWN_FIRST[3]);\n    \n        return frogMoveDownFrames;\n    }\n    \n    public Image[] getFrogMoveLeftSprites() {\n        loadImage(PATH); \n        Image[] frogMoveLeftFrames = new Image[2];\n        \n        frogMoveLeftFrames[0] = img.getSubimage(FROG_MOVE_LEFT_STAND[0], FROG_MOVE_LEFT_STAND[1], FROG_MOVE_LEFT_STAND[2], FROG_MOVE_LEFT_STAND[3]);\n        frogMoveLeftFrames[1] = img.getSubimage(FROG_MOVE_LEFT_FIRST[0], FROG_MOVE_LEFT_FIRST[1], FROG_MOVE_LEFT_FIRST[2], FROG_MOVE_LEFT_FIRST[3]);\n    \n        return frogMoveLeftFrames;\n    }\n    \n    public Image[] getFrogMoveRightSprites() {\n        loadImage(PATH); \n        Image[] frogMoveRightFrames = new Image[2];\n        \n        frogMoveRightFrames[0] = img.getSubimage(FROG_MOVE_RIGHT_STAND[0], FROG_MOVE_RIGHT_STAND[1], FROG_MOVE_RIGHT_STAND[2], FROG_MOVE_RIGHT_STAND[3]);\n        frogMoveRightFrames[1] = img.getSubimage(FROG_MOVE_RIGHT_FIRST[0], FROG_MOVE_RIGHT_FIRST[1], FROG_MOVE_RIGHT_FIRST[2], FROG_MOVE_RIGHT_FIRST[3]);\n    \n        return frogMoveRightFrames;\n    }\n}\n</code></pre>\n<p>And this is the class of the GUI:</p>\n<pre><code>package gng;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.EnumMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Mcve3 extends JPanel {\n    private static final int PREF_W = 800;\n    private static final int PREF_H = 640;\n    private static final int TIMER_DELAY = 300; //50;\n\n    private int spriteX = 400;\n    private int spriteY = 320;\n    private SpriteDirection spriteDirection = SpriteDirection.RIGHT;\n    private MySprite sprite = null;\n    private Timer timer = null;\n\n    public Mcve3() {\n        try {\n            sprite = new MySprite(spriteDirection, spriteX, spriteY);\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n        setBackground(Color.WHITE);\n\n        setKeyBindings(SpriteDirection.LEFT, KeyEvent.VK_LEFT);\n        setKeyBindings(SpriteDirection.RIGHT, KeyEvent.VK_RIGHT);\n        setKeyBindings(SpriteDirection.FORWARD, KeyEvent.VK_DOWN);\n        setKeyBindings(SpriteDirection.AWAY, KeyEvent.VK_UP);\n\n        timer = new Timer(TIMER_DELAY, new TimerListener());\n        timer.start();\n    }\n\n    private void setKeyBindings(SpriteDirection dir, int keyCode) {\n        int condition = WHEN_IN_FOCUSED_WINDOW;\n        InputMap inputMap = getInputMap(condition);\n        ActionMap actionMap = getActionMap();\n\n        KeyStroke keyPressed = KeyStroke.getKeyStroke(keyCode, 0, false);\n        KeyStroke keyReleased = KeyStroke.getKeyStroke(keyCode, 0, true);\n\n        inputMap.put(keyPressed, keyPressed.toString());\n        inputMap.put(keyReleased, keyReleased.toString());\n\n        actionMap.put(keyPressed.toString(), new MoveAction(dir, false));\n        actionMap.put(keyReleased.toString(), new MoveAction(dir, true));\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (isPreferredSizeSet()) {\n            return super.getPreferredSize();\n        }\n        return new Dimension(PREF_W, PREF_H);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        sprite.draw(g);\n    }\n\n    private class MoveAction extends AbstractAction {\n        private SpriteDirection dir;\n        private boolean released;\n\n        public MoveAction(SpriteDirection dir, boolean released) {\n            this.dir = dir;\n            this.released = released;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (released) {\n                sprite.setMoving(false);\n            } else {\n                sprite.setMoving(true);\n                sprite.setDirection(dir);\n            }\n        }\n    }\n    \n    private int i = 0;\n    \n    private class TimerListener implements ActionListener {\n        @Override\n            public void actionPerformed(ActionEvent e) {\n                System.out.println(&quot;Iterazione: &quot;+i);\n                i++;\n                \n                if (sprite.isMoving()) {\n                    sprite.tick();\n                }\n                repaint();\n            }\n    }\n\n    private static void createAndShowGui() {\n        Mcve3 mainPanel = new Mcve3();\n\n        JFrame frame = new JFrame(&quot;MCVE&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\n    }\n}\n</code></pre>\n<p>I would like to move the frog on a single press of the buttons, and to move it fluidly when the user keeps pressed the button.\nWith this code, on a single press, the frame of the frog's movement appears late; instead when I keep pressed the button, only the static frame is shown.</p>\n<p>This is the Sprites that I've used.\n<a href=\"https://i.stack.imgur.com/yKUIS.gif\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I try to fix it, but don't understand where is the problem. I've already searched other posts to find a solution, but I didn't find it.</p>\n"},{"tags":["java","sql","eclipse","jar","bbj"],"comments":[{"owner":{"account_id":11013551,"reputation":31,"user_id":8090042,"display_name":"Alex"},"score":0,"creation_date":1702327950,"post_id":77641411,"comment_id":136880530,"body_markdown":"I don&#39;t understand why this was closed. The other question was very vague and didn&#39;t provide any context. The marked answer also didn&#39;t address my issue at all, as I already have the class-path setup correctly.","body":"I don&#39;t understand why this was closed. The other question was very vague and didn&#39;t provide any context. The marked answer also didn&#39;t address my issue at all, as I already have the class-path setup correctly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702340504,"post_id":77641411,"comment_id":136881887,"body_markdown":"*Class.forName(&quot;com.basis.jdbc&quot;);* That doesn&#39;t look like the name of a class *at all*. It looks like the name of a package. [&quot;The BBj JDBC Driver implementation of the Java.SQL.Driver interface is as follows: com.basis.jdbc.BasisDriver&quot;](https://documentation.basis.cloud/BASISHelp/WebHelp/b3odbc/connecting_to_the_jdbc_driver.htm)","body":"<i>Class.forName(&quot;com.basis.jdbc&quot;);</i> That doesn&#39;t look like the name of a class <i>at all</i>. It looks like the name of a package. <a href=\"https://documentation.basis.cloud/BASISHelp/WebHelp/b3odbc/connecting_to_the_jdbc_driver.htm\" rel=\"nofollow noreferrer\">&quot;The BBj JDBC Driver implementation of the Java.SQL.Driver interface is as follows: com.basis.jdbc.BasisDriver&quot;</a>"}],"owner":{"account_id":11013551,"reputation":31,"user_id":8090042,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702323999,"answer_count":0,"score":-1,"last_activity_date":1702317889,"creation_date":1702316564,"question_id":77641411,"body_markdown":"I am trying to build a project that can make SQL queries to a third party application running on my company&#39;s server. The server program is running in Java and provides an SQL interface to non SQL files used for data storage. The only way to access these database files is either through a simulated SQL environment on the server, via the apps console that uses basis as the language interface, and via the SQL jdbc `BBjJDBC.jar` driver I am attempting to use.\r\n\r\nI built a basic &quot;Hello world!&quot; application to act as a baseline. I then added the following code to the `main` class.\r\n\r\n```java\r\npackage myfirstpackage;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\npublic class MyFirstClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t\tvar t = new ConnectionInfo();\r\n\t\ttry {\r\n\t\t\t/*I know this shouldn&#39;t be needed if the system is setup\r\n\t\t\tcorrectly, but it gives me some kind of stack trace to look at.*/\r\n\t\t\tClass.forName(&quot;com.basis.jdbc&quot;);\r\n\t\t} catch (ClassNotFoundException e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tConnection connection = DriverManager.getConnection(t.url, t.username, t.password);\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\n\r\nAnd the following in my `module-info.java` file.\r\n\r\n```java\r\nmodule MyFirstProject {\r\n\trequires java.sql;\r\n}\r\n```\r\n\r\nHere is the included jar library, added to the class path.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WWm0f.png)](https://i.stack.imgur.com/WWm0f.png)\r\n\r\nI have tried adding a `requires` line for the `com.basis.jdbc` to `module-info.java`, but that doesn&#39;t resolve, even though it shows in the autocomplete. The same issue appears if I attempt an `import com.basis.*` in the main class object.\r\n\r\nThis is the error I get when I attempt to run the app, coming from the first try/catch block.\r\n\r\n```\r\njava.lang.ClassNotFoundException: com.basis.jdbc\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:375)\r\n\tat MyFirstProject/myfirstpackage.MyFirstClass.main(MyFirstClass.java:13)\r\n```\r\n\r\nOf course the next try/catch fails, as the driver does not load.","title":"Trouble loading a SQL driver from an external .jar file. ClassNotFoundException","body":"<p>I am trying to build a project that can make SQL queries to a third party application running on my company's server. The server program is running in Java and provides an SQL interface to non SQL files used for data storage. The only way to access these database files is either through a simulated SQL environment on the server, via the apps console that uses basis as the language interface, and via the SQL jdbc <code>BBjJDBC.jar</code> driver I am attempting to use.</p>\n<p>I built a basic &quot;Hello world!&quot; application to act as a baseline. I then added the following code to the <code>main</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myfirstpackage;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\npublic class MyFirstClass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Hello world!&quot;);\n        var t = new ConnectionInfo();\n        try {\n            /*I know this shouldn't be needed if the system is setup\n            correctly, but it gives me some kind of stack trace to look at.*/\n            Class.forName(&quot;com.basis.jdbc&quot;);\n        } catch (ClassNotFoundException e) \n        {\n            e.printStackTrace();\n        }\n        try {\n            Connection connection = DriverManager.getConnection(t.url, t.username, t.password);\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }   \n}\n</code></pre>\n<p>And the following in my <code>module-info.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>module MyFirstProject {\n    requires java.sql;\n}\n</code></pre>\n<p>Here is the included jar library, added to the class path.</p>\n<p><a href=\"https://i.stack.imgur.com/WWm0f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWm0f.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried adding a <code>requires</code> line for the <code>com.basis.jdbc</code> to <code>module-info.java</code>, but that doesn't resolve, even though it shows in the autocomplete. The same issue appears if I attempt an <code>import com.basis.*</code> in the main class object.</p>\n<p>This is the error I get when I attempt to run the app, coming from the first try/catch block.</p>\n<pre><code>java.lang.ClassNotFoundException: com.basis.jdbc\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at MyFirstProject/myfirstpackage.MyFirstClass.main(MyFirstClass.java:13)\n</code></pre>\n<p>Of course the next try/catch fails, as the driver does not load.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":25587678,"reputation":1,"user_id":19365141,"display_name":"rlqja"},"score":0,"creation_date":1702138202,"post_id":77631719,"comment_id":136861421,"body_markdown":"I have learned to set the join configuration for entity relationships to &#39;LAZY&#39; by default. I use &#39;fetch join&#39; or &#39;spring batch size&#39; to retrieve data as needed. Therefore, I&#39;m not sure if using &#39;EAGER&#39; fetching is the right approach.","body":"I have learned to set the join configuration for entity relationships to &#39;LAZY&#39; by default. I use &#39;fetch join&#39; or &#39;spring batch size&#39; to retrieve data as needed. Therefore, I&#39;m not sure if using &#39;EAGER&#39; fetching is the right approach."},{"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"score":0,"creation_date":1702140556,"post_id":77631719,"comment_id":136861643,"body_markdown":"Thats right, you should set it to &#39;LAZY&#39; by default.","body":"Thats right, you should set it to &#39;LAZY&#39; by default."},{"owner":{"account_id":25587678,"reputation":1,"user_id":19365141,"display_name":"rlqja"},"score":0,"creation_date":1702197058,"post_id":77631719,"comment_id":136865493,"body_markdown":"so.. what should i do..?","body":"so.. what should i do..?"},{"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"score":0,"creation_date":1702317398,"post_id":77631719,"comment_id":136878827,"body_markdown":"Try @EntityGraph(attributePaths = {&quot;board.user&quot;})","body":"Try @EntityGraph(attributePaths = {&quot;board.user&quot;})"}],"tags":[],"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702317327,"creation_date":1702133911,"answer_id":77631719,"question_id":77631326,"body_markdown":"I dont think that the problem is with the hibernate version, its related to the fetchtype, that you are using the the join\r\n\r\nIf you use, fetch type as eager \r\n\r\n    @JoinColumn(name = &quot;writer_id&quot;)\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private User user\r\n\r\nThe user object will be fetched along with the Board Object.\r\n\r\nI am not sure on why it is fetching with the user object with the 6.3.1 version.\r\n\r\nIf may want to try \r\n\r\n    @EntityGraph(attributePaths = {&quot;board.user&quot;})\r\n\r\n","title":"spring data jpa `@EntityGraph` not work as expected","body":"<p>I dont think that the problem is with the hibernate version, its related to the fetchtype, that you are using the the join</p>\n<p>If you use, fetch type as eager</p>\n<pre><code>@JoinColumn(name = &quot;writer_id&quot;)\n@ManyToOne(fetch = FetchType.EAGER)\nprivate User user\n</code></pre>\n<p>The user object will be fetched along with the Board Object.</p>\n<p>I am not sure on why it is fetching with the user object with the 6.3.1 version.</p>\n<p>If may want to try</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;board.user&quot;})\n</code></pre>\n"}],"owner":{"account_id":25587678,"reputation":1,"user_id":19365141,"display_name":"rlqja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702317327,"creation_date":1702126111,"question_id":77631326,"body_markdown":"I&#39;ve been encountering a issue with `@EntityGraph` in Spring Data Jpa not functioning as i expected. see my project structure:\r\n\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Board extends BaseTimeEntity {\r\n    @Id @GeneratedValue\r\n    private Long id;\r\n\r\n    @JoinColumn(name = &quot;writer_id&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private User user;\r\n\r\n    // others\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class User extends BaseTimeEntity {\r\n    @Id @GeneratedValue\r\n    private Long id;\r\n\r\n    // others \r\n}\r\n```\r\n\r\nThese are the simplified entities and their relationship. The issue is with the following repository method:\r\n\r\n\r\n```\r\n@Repository\r\npublic interface BoardJpaRepository extends JpaRepository&lt;Board, Long&gt; {\r\n    @EntityGraph(attributePaths = {&quot;user&quot;})\r\n    Optional&lt;Board&gt; findById(Long id);\r\n}\r\n```\r\n\r\nI intended to fetch both Board and User using @EntityGraph in the findById method, but the executed query only fetches the Board:\r\n\r\n\r\n```\r\nselect\r\n    b1_0.id,\r\n    b1_0.content,\r\n    b1_0.create_date,\r\n    b1_0.modified_date,\r\n    b1_0.title,\r\n    b1_0.writer_id,\r\n    b1_0.views \r\nfrom\r\n    board b1_0 \r\nwhere\r\n    b1_0.id in (?,?,?)\r\n```\r\n\r\n\r\nMoreover, when I use @EntityGraph in additional query methods in the BoardRepository, it works as expected:\r\n\r\n\r\n```\r\n@EntityGraph(attributePaths = {&quot;user&quot;})\r\nPage&lt;Board&gt; findAll(Pageable pageable);\r\n\r\n@EntityGraph(attributePaths = {&quot;user&quot;})\r\n@Query(&quot;select b from Board b where b.user.username like %:username%&quot;)\r\nPage&lt;Board&gt; findAllByUsernameLike(@Param(value = &quot;username&quot;) String username, Pageable pageable);\r\n\r\n@EntityGraph(attributePaths = {&quot;user&quot;})\r\n@Query(&quot;select b from Board b where b.title like %:title%&quot;)\r\nPage&lt;Board&gt; findAllByTitleLike(@Param(value = &quot;title&quot;) String title, Pageable pageable);\r\n\r\n@EntityGraph(attributePaths = {&quot;user&quot;})\r\n@Query(&quot;select b from Board b where b.content like %:content%&quot;)\r\nPage&lt;Board&gt; findAllByContentLike(@Param(value = &quot;content&quot;)\r\n```\r\n\r\n\r\n```\r\n    select\r\n        b1_0.id,\r\n        b1_0.content,\r\n        b1_0.create_date,\r\n        b1_0.modified_date,\r\n        b1_0.title,\r\n        u1_0.id,\r\n        u1_0.create_date,\r\n        u1_0.email,\r\n        u1_0.is_account_non_expired,\r\n        u1_0.is_account_non_locked,\r\n        u1_0.is_credentials_non_expired,\r\n        u1_0.is_enabled,\r\n        u1_0.modified_date,\r\n        u1_0.name,\r\n        u1_0.password,\r\n        u1_0.username,\r\n        b1_0.views \r\n    from\r\n        board b1_0 \r\n    join\r\n        user u1_0 \r\n            on u1_0.id=b1_0.writer_id \r\n    where\r\n        u1_0.username like concat(&#39;%&#39;,?,&#39;%&#39;) escape &#39;&#39; limit ?,?\r\n```\r\n\r\nMy current versions are:\r\n- java 17\r\n- spring boot 3.1.1\r\n- hibernate core 6.2.5.Final\r\n\r\n\r\n\r\n\r\n\r\n\r\nHowever, when I update Spring Boot to 3.2.0 and Hibernate Core to 6.3.1.Final, the issue seems to be resolved:\r\n\r\n\r\n```\r\n    select\r\n        b1_0.id,\r\n        b1_0.content,\r\n        b1_0.create_date,\r\n        b1_0.modified_date,\r\n        b1_0.title,\r\n        u1_0.id,\r\n        u1_0.create_date,\r\n        u1_0.email,\r\n        u1_0.is_account_non_expired,\r\n        u1_0.is_account_non_locked,\r\n        u1_0.is_credentials_non_expired,\r\n        u1_0.is_enabled,\r\n        u1_0.modified_date,\r\n        u1_0.name,\r\n        u1_0.password,\r\n        u1_0.username,\r\n        b1_0.views \r\n    from\r\n        board b1_0 \r\n    left join\r\n        user u1_0 \r\n            on u1_0.id=b1_0.writer_id \r\n    where\r\n        b1_0.id=?\r\n```\r\n\r\nThe query is generated correctly, and the in clause that was declared due to Spring Batch also seems to change.\r\n\r\nI&#39;m hesitant to simply attribute this to a version issue, as it doesn&#39;t feel like a resolved problem. I&#39;m curious if this is indeed a version-related issue, and if so, are there any related links or documentation? Additionally, I&#39;m interested in knowing if there&#39;s a solution for the original version.","title":"spring data jpa `@EntityGraph` not work as expected","body":"<p>I've been encountering a issue with <code>@EntityGraph</code> in Spring Data Jpa not functioning as i expected. see my project structure:</p>\n<pre><code>@Entity\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@EntityListeners(AuditingEntityListener.class)\npublic class Board extends BaseTimeEntity {\n    @Id @GeneratedValue\n    private Long id;\n\n    @JoinColumn(name = &quot;writer_id&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private User user;\n\n    // others\n}\n\n@Entity\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@EntityListeners(AuditingEntityListener.class)\npublic class User extends BaseTimeEntity {\n    @Id @GeneratedValue\n    private Long id;\n\n    // others \n}\n</code></pre>\n<p>These are the simplified entities and their relationship. The issue is with the following repository method:</p>\n<pre><code>@Repository\npublic interface BoardJpaRepository extends JpaRepository&lt;Board, Long&gt; {\n    @EntityGraph(attributePaths = {&quot;user&quot;})\n    Optional&lt;Board&gt; findById(Long id);\n}\n</code></pre>\n<p>I intended to fetch both Board and User using @EntityGraph in the findById method, but the executed query only fetches the Board:</p>\n<pre><code>select\n    b1_0.id,\n    b1_0.content,\n    b1_0.create_date,\n    b1_0.modified_date,\n    b1_0.title,\n    b1_0.writer_id,\n    b1_0.views \nfrom\n    board b1_0 \nwhere\n    b1_0.id in (?,?,?)\n</code></pre>\n<p>Moreover, when I use @EntityGraph in additional query methods in the BoardRepository, it works as expected:</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;user&quot;})\nPage&lt;Board&gt; findAll(Pageable pageable);\n\n@EntityGraph(attributePaths = {&quot;user&quot;})\n@Query(&quot;select b from Board b where b.user.username like %:username%&quot;)\nPage&lt;Board&gt; findAllByUsernameLike(@Param(value = &quot;username&quot;) String username, Pageable pageable);\n\n@EntityGraph(attributePaths = {&quot;user&quot;})\n@Query(&quot;select b from Board b where b.title like %:title%&quot;)\nPage&lt;Board&gt; findAllByTitleLike(@Param(value = &quot;title&quot;) String title, Pageable pageable);\n\n@EntityGraph(attributePaths = {&quot;user&quot;})\n@Query(&quot;select b from Board b where b.content like %:content%&quot;)\nPage&lt;Board&gt; findAllByContentLike(@Param(value = &quot;content&quot;)\n</code></pre>\n<pre><code>    select\n        b1_0.id,\n        b1_0.content,\n        b1_0.create_date,\n        b1_0.modified_date,\n        b1_0.title,\n        u1_0.id,\n        u1_0.create_date,\n        u1_0.email,\n        u1_0.is_account_non_expired,\n        u1_0.is_account_non_locked,\n        u1_0.is_credentials_non_expired,\n        u1_0.is_enabled,\n        u1_0.modified_date,\n        u1_0.name,\n        u1_0.password,\n        u1_0.username,\n        b1_0.views \n    from\n        board b1_0 \n    join\n        user u1_0 \n            on u1_0.id=b1_0.writer_id \n    where\n        u1_0.username like concat('%',?,'%') escape '' limit ?,?\n</code></pre>\n<p>My current versions are:</p>\n<ul>\n<li>java 17</li>\n<li>spring boot 3.1.1</li>\n<li>hibernate core 6.2.5.Final</li>\n</ul>\n<p>However, when I update Spring Boot to 3.2.0 and Hibernate Core to 6.3.1.Final, the issue seems to be resolved:</p>\n<pre><code>    select\n        b1_0.id,\n        b1_0.content,\n        b1_0.create_date,\n        b1_0.modified_date,\n        b1_0.title,\n        u1_0.id,\n        u1_0.create_date,\n        u1_0.email,\n        u1_0.is_account_non_expired,\n        u1_0.is_account_non_locked,\n        u1_0.is_credentials_non_expired,\n        u1_0.is_enabled,\n        u1_0.modified_date,\n        u1_0.name,\n        u1_0.password,\n        u1_0.username,\n        b1_0.views \n    from\n        board b1_0 \n    left join\n        user u1_0 \n            on u1_0.id=b1_0.writer_id \n    where\n        b1_0.id=?\n</code></pre>\n<p>The query is generated correctly, and the in clause that was declared due to Spring Batch also seems to change.</p>\n<p>I'm hesitant to simply attribute this to a version issue, as it doesn't feel like a resolved problem. I'm curious if this is indeed a version-related issue, and if so, are there any related links or documentation? Additionally, I'm interested in knowing if there's a solution for the original version.</p>\n"},{"tags":["java","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1702326482,"post_id":77641456,"comment_id":136880304,"body_markdown":"No, it is impossible. As a side solution - you can pass forward generic record to the Feedback, while at the Reporter side you can read data to the own entity using ObjectMapper or any other json functionlity","body":"No, it is impossible. As a side solution - you can pass forward generic record to the Feedback, while at the Reporter side you can read data to the own entity using ObjectMapper or any other json functionlity"},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1702326663,"post_id":77641456,"comment_id":136880330,"body_markdown":"This will allow you to pass any messages `as-is` to the needed destination but validation of received entity will be on your own","body":"This will allow you to pass any messages <code>as-is</code> to the needed destination but validation of received entity will be on your own"}],"owner":{"account_id":6771817,"reputation":1,"user_id":5214981,"display_name":"T C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702317163,"creation_date":1702317163,"question_id":77641456,"body_markdown":"If I have an avro record that I want to pass between different micro services over kafka, and let&#39;s say I have 3 micro services Enricher, Reporter, Feedback and I pass a record Trade between them. Enricher sends the record to Reporter which sends to Feedback.\r\n\r\nThe language context is all Java.\r\n\r\nIf I introduce a new field &quot;tradeDate&quot; and I compile and deploy new version of the Enricher and Feedback but not the Reporter which sits in the middle.\r\n\r\nIs there a way to retain &quot;tradeDate&quot; between all 3 micro services using the specific data type? Right now what is happening is I lose the &quot;tradeDate&quot; between the Enricher and the Reporter because the model compiled into &quot;Reporter&quot; doesn&#39;t have it in the POJO so I can&#39;t propogate it downstream.\r\n\r\nI saw a way to do it by putting it all in a generic record but then I lose working with an actual object which is why I am looking for a way to keep the object somehow intact.\r\n\r\nI tried using confluent&#39;s KafkaAvroSerializer and Deserializer but then I lose the object.","title":"Field retention when passing avro record between microservices","body":"<p>If I have an avro record that I want to pass between different micro services over kafka, and let's say I have 3 micro services Enricher, Reporter, Feedback and I pass a record Trade between them. Enricher sends the record to Reporter which sends to Feedback.</p>\n<p>The language context is all Java.</p>\n<p>If I introduce a new field &quot;tradeDate&quot; and I compile and deploy new version of the Enricher and Feedback but not the Reporter which sits in the middle.</p>\n<p>Is there a way to retain &quot;tradeDate&quot; between all 3 micro services using the specific data type? Right now what is happening is I lose the &quot;tradeDate&quot; between the Enricher and the Reporter because the model compiled into &quot;Reporter&quot; doesn't have it in the POJO so I can't propogate it downstream.</p>\n<p>I saw a way to do it by putting it all in a generic record but then I lose working with an actual object which is why I am looking for a way to keep the object somehow intact.</p>\n<p>I tried using confluent's KafkaAvroSerializer and Deserializer but then I lose the object.</p>\n"},{"tags":["java","java-io"],"answers":[{"tags":[],"owner":{"account_id":21782252,"reputation":1,"user_id":16083809,"display_name":"Code Your Future"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622453063,"creation_date":1622453063,"answer_id":67771117,"question_id":67177249,"body_markdown":"Node is more like nodeJS while filter is just String function filtering out texts.","title":"What is the difference between a &quot;node stream&quot; and a &quot;filter stream&quot;?","body":"<p>Node is more like nodeJS while filter is just String function filtering out texts.</p>\n"},{"tags":[],"owner":{"account_id":30120876,"reputation":1,"user_id":23082955,"display_name":"Khuld-e-Zahra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702316668,"creation_date":1702316668,"answer_id":77641418,"question_id":67177249,"body_markdown":"**Node Stream:**\r\n\r\nIn Java, a &quot;node stream&quot; is often referred to as a &quot;low-level&quot; or &quot;basic&quot; stream. These are the fundamental streams that directly interact with a data source or destination, such as a file or network connection.\r\nExamples of node streams include **FileInputStream** and **FileOutputStream** for reading from and writing to files, respectively.\r\n**Filter Stream:**\r\n\r\nA &quot;filter stream&quot; (or &quot;decorator stream&quot;) is a stream that adds some functionality to an existing node stream. It allows you to perform additional processing on the data being read or written.\r\n\r\n\r\n----------\r\n\r\n\r\nExamples of filter streams include **BufferedInputStream** and **BufferedOutputStream**, which add buffering capabilities to an existing input or output stream.","title":"What is the difference between a &quot;node stream&quot; and a &quot;filter stream&quot;?","body":"<p><strong>Node Stream:</strong></p>\n<p>In Java, a &quot;node stream&quot; is often referred to as a &quot;low-level&quot; or &quot;basic&quot; stream. These are the fundamental streams that directly interact with a data source or destination, such as a file or network connection.\nExamples of node streams include <strong>FileInputStream</strong> and <strong>FileOutputStream</strong> for reading from and writing to files, respectively.\n<strong>Filter Stream:</strong></p>\n<p>A &quot;filter stream&quot; (or &quot;decorator stream&quot;) is a stream that adds some functionality to an existing node stream. It allows you to perform additional processing on the data being read or written.</p>\n<hr />\n<p>Examples of filter streams include <strong>BufferedInputStream</strong> and <strong>BufferedOutputStream</strong>, which add buffering capabilities to an existing input or output stream.</p>\n"}],"owner":{"account_id":18127892,"reputation":37,"user_id":13183269,"display_name":"Anser Waseem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1702316668,"creation_date":1618915049,"question_id":67177249,"body_markdown":"I am having difficulty understanding the differences between &quot;node streams&quot; and &quot;filter streams&quot;.\r\n\r\nI already saw [this][1] question.\r\n\r\n&gt; **Node streams {Data sink stream}**\r\n&gt; * Contain the basic functionality of reading or writing from a specific location.\r\n&gt; * Types of node streams include files, memory and pipes.\r\n&gt; \r\n&gt; **Filter streams {Processing stream}**\r\n&gt; * Layered onto node streams between threads or processes.\r\n&gt; * For additional functionality – altering or managing data in the stream.\r\n\r\nCan anyone provide some examples to explain the differences more clearly?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34042717/what-does-node-stream-mean","title":"What is the difference between a &quot;node stream&quot; and a &quot;filter stream&quot;?","body":"<p>I am having difficulty understanding the differences between &quot;node streams&quot; and &quot;filter streams&quot;.</p>\n<p>I already saw <a href=\"https://stackoverflow.com/questions/34042717/what-does-node-stream-mean\">this</a> question.</p>\n<blockquote>\n<p><strong>Node streams {Data sink stream}</strong></p>\n<ul>\n<li>Contain the basic functionality of reading or writing from a specific location.</li>\n<li>Types of node streams include files, memory and pipes.</li>\n</ul>\n<p><strong>Filter streams {Processing stream}</strong></p>\n<ul>\n<li>Layered onto node streams between threads or processes.</li>\n<li>For additional functionality – altering or managing data in the stream.</li>\n</ul>\n</blockquote>\n<p>Can anyone provide some examples to explain the differences more clearly?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1702314232,"post_id":77641168,"comment_id":136878339,"body_markdown":"Check system property user.dir but it should just be `FileReader(&quot;com/example/myapplication/files/[filename]&quot;)`","body":"Check system property user.dir but it should just be <code>FileReader(&quot;com&#47;example&#47;myapplication&#47;files&#47;[filename]&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":25393624,"reputation":144,"user_id":19204200,"display_name":"routerking2802"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702315881,"creation_date":1702315881,"answer_id":77641351,"question_id":77641168,"body_markdown":"Here is an example to read a file:\r\n\r\n    FileInputStream in = openFileInput(&quot;filename.txt&quot;);\r\n    InputStreamReader inputStreamReader = new InputStreamReader(in);\r\n    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n    StringBuilder sb = new StringBuilder();\r\n    String line;\r\n    while ((line = bufferedReader.readLine()) != null) {\r\n          sb.append(line).append(&quot;\\n&quot;);\r\n    }\r\n    inputStreamReader.close();\r\n\r\nThis to write to a file instead:\r\n\r\n    String text;\r\n    FileOutputStream out = openFileOutput(&quot;filename.txt&quot;, MODE_PRIVATE);\r\n    out.write(text.getBytes());\r\n    out.close();","title":"i have a folder inside com.example.myapplication called files inside it there is a file text file called users how to read and write in java","body":"<p>Here is an example to read a file:</p>\n<pre><code>FileInputStream in = openFileInput(&quot;filename.txt&quot;);\nInputStreamReader inputStreamReader = new InputStreamReader(in);\nBufferedReader bufferedReader = new BufferedReader(inputStreamReader);\nStringBuilder sb = new StringBuilder();\nString line;\nwhile ((line = bufferedReader.readLine()) != null) {\n      sb.append(line).append(&quot;\\n&quot;);\n}\ninputStreamReader.close();\n</code></pre>\n<p>This to write to a file instead:</p>\n<pre><code>String text;\nFileOutputStream out = openFileOutput(&quot;filename.txt&quot;, MODE_PRIVATE);\nout.write(text.getBytes());\nout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13840520,"reputation":1,"user_id":11650163,"display_name":"Fl&#225;vio L."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702316430,"creation_date":1702316430,"answer_id":77641396,"question_id":77641168,"body_markdown":"How to read and write to a text file in Android Studio\r\n------------------------------------------------------\r\n\r\nHere&#39;s how you can read and write to a text file called &quot;users&quot; inside the &quot;files&quot; folder of your &quot;com.example.myapplication&quot; project in Android Studio:\r\n\r\n**Reading:**\r\n\r\n1. Get the file path:\r\n```java\r\nString filename = &quot;users&quot;;\r\nFile file = new File(getFilesDir(), filename);\r\n```\r\n\r\n2. Create a BufferedReader:\r\n```java\r\nBufferedReader reader = null;\r\ntry {\r\n    reader = new BufferedReader(new FileReader(file));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        // Process each line of text\r\n    }\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n} finally {\r\n    if (reader != null) {\r\n        try {\r\n            reader.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Writing:**\r\n\r\n1. Get the file path:\r\n```java\r\nString filename = &quot;users&quot;;\r\nFile file = new File(getFilesDir(), filename);\r\n```\r\n\r\n2. Create a BufferedWriter:\r\n```java\r\nBufferedWriter writer = null;\r\ntry {\r\n    writer = new BufferedWriter(new FileWriter(file));\r\n    writer.write(&quot;This is a line of text&quot;);\r\n    writer.newLine();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n} finally {\r\n    if (writer != null) {\r\n        try {\r\n            writer.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Note:**\r\n\r\nThe getFilesDir() method gets the directory where your app can store private files.\r\nUse try-with-resources block to automatically close the reader and writer.\r\nYou can read and write multiple lines of text using a loop.\r\nMake sure to handle exceptions properly.\r\nAdditional resources:\r\n\r\nAndroid developer documentation on file storage: https://developer.android.com/reference/java/io/File\r\nStack Overflow question on reading and writing to a file: https://stackoverflow.com/questions/14376807/read-write-string-from-to-a-file-in-android\r\n\r\n**Regarding your previous attempt:**\r\n\r\nThe code you provided, bufferread read = new bufferread(new fileread(filename))), is incorrect. It should be:\r\n\r\n```\r\nBufferedReader reader = new BufferedReader(new FileReader(filename));\r\n```\r\n\r\nYou misspelled BufferedReader and used fileread instead of FileReader. Remember, class names are case-sensitive in Java.\r\n\r\n","title":"i have a folder inside com.example.myapplication called files inside it there is a file text file called users how to read and write in java","body":"<h2>How to read and write to a text file in Android Studio</h2>\n<p>Here's how you can read and write to a text file called &quot;users&quot; inside the &quot;files&quot; folder of your &quot;com.example.myapplication&quot; project in Android Studio:</p>\n<p><strong>Reading:</strong></p>\n<ol>\n<li>Get the file path:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String filename = &quot;users&quot;;\nFile file = new File(getFilesDir(), filename);\n</code></pre>\n<ol start=\"2\">\n<li>Create a BufferedReader:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader reader = null;\ntry {\n    reader = new BufferedReader(new FileReader(file));\n    String line;\n    while ((line = reader.readLine()) != null) {\n        // Process each line of text\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    if (reader != null) {\n        try {\n            reader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Writing:</strong></p>\n<ol>\n<li>Get the file path:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String filename = &quot;users&quot;;\nFile file = new File(getFilesDir(), filename);\n</code></pre>\n<ol start=\"2\">\n<li>Create a BufferedWriter:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedWriter writer = null;\ntry {\n    writer = new BufferedWriter(new FileWriter(file));\n    writer.write(&quot;This is a line of text&quot;);\n    writer.newLine();\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    if (writer != null) {\n        try {\n            writer.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>The getFilesDir() method gets the directory where your app can store private files.\nUse try-with-resources block to automatically close the reader and writer.\nYou can read and write multiple lines of text using a loop.\nMake sure to handle exceptions properly.\nAdditional resources:</p>\n<p>Android developer documentation on file storage: <a href=\"https://developer.android.com/reference/java/io/File\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/io/File</a>\nStack Overflow question on reading and writing to a file: <a href=\"https://stackoverflow.com/questions/14376807/read-write-string-from-to-a-file-in-android\">Read/Write String from/to a File in Android</a></p>\n<p><strong>Regarding your previous attempt:</strong></p>\n<p>The code you provided, bufferread read = new bufferread(new fileread(filename))), is incorrect. It should be:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new FileReader(filename));\n</code></pre>\n<p>You misspelled BufferedReader and used fileread instead of FileReader. Remember, class names are case-sensitive in Java.</p>\n"}],"owner":{"account_id":30120502,"reputation":1,"user_id":23082673,"display_name":"Michael Mounir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702316430,"creation_date":1702313662,"question_id":77641168,"body_markdown":"i have a folder inside com.example.myapplication called files inside it there is a file text file called users how to read and write in java android studio\r\n\r\ni tried bufferread read = new bufferread(new fileread(filename)))","title":"i have a folder inside com.example.myapplication called files inside it there is a file text file called users how to read and write in java","body":"<p>i have a folder inside com.example.myapplication called files inside it there is a file text file called users how to read and write in java android studio</p>\n<p>i tried bufferread read = new bufferread(new fileread(filename)))</p>\n"},{"tags":["java","spring-boot","openfeign"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1702318583,"post_id":77641350,"comment_id":136878997,"body_markdown":"All what you provide is not sufficient to give an answer. Show the stack trace. Anyway, char at index 9 is a colon (:), probably it is wrong configured.","body":"All what you provide is not sufficient to give an answer. Show the stack trace. Anyway, char at index 9 is a colon (:), probably it is wrong configured."},{"owner":{"account_id":6042499,"reputation":7,"user_id":5108601,"display_name":"ruslanab"},"score":0,"creation_date":1702318799,"post_id":77641350,"comment_id":136879019,"body_markdown":"I&#39;m getting an error java.net.URISyntaxException: Illegal character in hostname at index 9: http://My_lenovo:8081/api/v1/fraud-check/1","body":"I&#39;m getting an error java.net.URISyntaxException: Illegal character in hostname at index 9: <a href=\"http://My_lenovo:8081/api/v1/fraud-check/1\" rel=\"nofollow noreferrer\">My_lenovo:8081/api/v1/fraud-check/1</a>"},{"owner":{"account_id":6042499,"reputation":7,"user_id":5108601,"display_name":"ruslanab"},"score":0,"creation_date":1702318809,"post_id":77641350,"comment_id":136879025,"body_markdown":"My_lenovo is my computer name","body":"My_lenovo is my computer name"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1702318907,"post_id":77641350,"comment_id":136879047,"body_markdown":"And there are no more messages or the stack trace ?","body":"And there are no more messages or the stack trace ?"}],"owner":{"account_id":6042499,"reputation":7,"user_id":5108601,"display_name":"ruslanab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702324815,"answer_count":0,"score":-2,"last_activity_date":1702316017,"creation_date":1702315835,"question_id":77641350,"body_markdown":"why the service name is replaced by the computer name when using openfeign?\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\n@EnableFeignClients(\r\nbasePackages = &quot;org.clients&quot;\r\n)\r\npublic class CustomerApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CustomerApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n&gt; java.net.URISyntaxException: Illegal character in hostname at index 9: http://My_lenovo:8081/api/v1/fraud-check/1\r\n\r\n","title":"why the service name is replaced by the computer name when using openfeign?","body":"<p>why the service name is replaced by the computer name when using openfeign?</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@EnableFeignClients(\nbasePackages = &quot;org.clients&quot;\n)\npublic class CustomerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CustomerApplication.class, args);\n    }\n}\n</code></pre>\n<blockquote>\n<p>java.net.URISyntaxException: Illegal character in hostname at index 9: http://My_lenovo:8081/api/v1/fraud-check/1</p>\n</blockquote>\n"},{"tags":["java","spring-boot","url","decoding","x-www-form-urlencoded"],"owner":{"account_id":26326267,"reputation":1,"user_id":20924819,"display_name":"Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702315913,"creation_date":1702315913,"question_id":77641354,"body_markdown":"I have a fairly simple Spring Boot 3.1 application (with Spring Security) that has needs to have a public endpoint exposed. \r\n\r\nAt times, I see errors like this one in the logs which are not caused by myself but an unknown third party:\r\n \r\n```\r\no.a.c.c.C.[.[.[.[dispatcherServlet]: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: URLDecoder: Incomplete trailing escape (%) pattern\r\n\tat java.base/java.net.URLDecoder.decode(URLDecoder.java:230)\r\n```\r\n\r\nI understand this error is caused by invalid `PUT`, `POST`, and `PATCH` requests to the application (see `curl` to reproduce below). My application does _not_ expose endpoints allowing such methods.\r\n\r\n**Question: How can/should I handle/surpress this and other `URLDecoder` related error that don&#39;t apply to my application?**\r\n\r\nGoal: I don&#39;t want these error logs and if there is a security vulnerability, I would like to close it.\r\n\r\nI have tried:\r\n\r\n*1 - Denying requests altogether*\r\n\r\nAs my application only handles `GET`/`POST` request, I thought I could simply add something along the lines of `auth.requestMatchers(PUT, &quot;/**&quot;).denyAll();` to my `SecurityFilterChain`.\r\n\r\nWhile valid requests are being denied as expected, it appears that the `URLDecoder` gets to work before the request even hits the `SecurityFilterChain`. This means that invalid requests such as the below still reach the `URLDecoder` and cause the above error:\r\n\r\n```\r\ncurl -X DELETE -H &quot;Content-Type: application/x-www-form-urlencoded&quot; &#39;http://localhost:8080/a-non-existing-endpoint&#39; -d &quot;%@&quot;\r\n```\r\n\r\n*2 - @ControllerAdvice*\r\n\r\nWhile not very good for other areas of the application, I have even attempted another radical approach: using `@ControllerAdvice` for every `IllegalArgumentException`:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ControllerAdvisor {\r\n\r\n  @ExceptionHandler(IllegalArgumentException.class)\r\n  public ResponseEntity&lt;String&gt; handleIllegalArgumentException(IllegalArgumentException e) throws IOException {\r\n    log.warn(&quot;This is not being called&quot;);\r\n    return ResponseEntity.badRequest().body(&quot;Some error&quot;));\r\n  }\r\n}\r\n```\r\n\r\nHowever, this method is not executed when the request is invalid (see `curl` above).\r\n\r\nI would appreciate your thoughts!","title":"How to handle/suppress Spring Boot DispatcherServlet exceptions related to URLDecoder","body":"<p>I have a fairly simple Spring Boot 3.1 application (with Spring Security) that has needs to have a public endpoint exposed.</p>\n<p>At times, I see errors like this one in the logs which are not caused by myself but an unknown third party:</p>\n<pre><code>o.a.c.c.C.[.[.[.[dispatcherServlet]: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: URLDecoder: Incomplete trailing escape (%) pattern\n    at java.base/java.net.URLDecoder.decode(URLDecoder.java:230)\n</code></pre>\n<p>I understand this error is caused by invalid <code>PUT</code>, <code>POST</code>, and <code>PATCH</code> requests to the application (see <code>curl</code> to reproduce below). My application does <em>not</em> expose endpoints allowing such methods.</p>\n<p><strong>Question: How can/should I handle/surpress this and other <code>URLDecoder</code> related error that don't apply to my application?</strong></p>\n<p>Goal: I don't want these error logs and if there is a security vulnerability, I would like to close it.</p>\n<p>I have tried:</p>\n<p><em>1 - Denying requests altogether</em></p>\n<p>As my application only handles <code>GET</code>/<code>POST</code> request, I thought I could simply add something along the lines of <code>auth.requestMatchers(PUT, &quot;/**&quot;).denyAll();</code> to my <code>SecurityFilterChain</code>.</p>\n<p>While valid requests are being denied as expected, it appears that the <code>URLDecoder</code> gets to work before the request even hits the <code>SecurityFilterChain</code>. This means that invalid requests such as the below still reach the <code>URLDecoder</code> and cause the above error:</p>\n<pre><code>curl -X DELETE -H &quot;Content-Type: application/x-www-form-urlencoded&quot; 'http://localhost:8080/a-non-existing-endpoint' -d &quot;%@&quot;\n</code></pre>\n<p><em>2 - @ControllerAdvice</em></p>\n<p>While not very good for other areas of the application, I have even attempted another radical approach: using <code>@ControllerAdvice</code> for every <code>IllegalArgumentException</code>:</p>\n<pre><code>@ControllerAdvice\npublic class ControllerAdvisor {\n\n  @ExceptionHandler(IllegalArgumentException.class)\n  public ResponseEntity&lt;String&gt; handleIllegalArgumentException(IllegalArgumentException e) throws IOException {\n    log.warn(&quot;This is not being called&quot;);\n    return ResponseEntity.badRequest().body(&quot;Some error&quot;));\n  }\n}\n</code></pre>\n<p>However, this method is not executed when the request is invalid (see <code>curl</code> above).</p>\n<p>I would appreciate your thoughts!</p>\n"},{"tags":["java","sql","jdbc","resultset"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1702314030,"post_id":77641066,"comment_id":136878294,"body_markdown":"That code doesn&#39;t make sense as you loop through the `ResultSet` without assigning *or even retrieving* the year","body":"That code doesn&#39;t make sense as you loop through the <code>ResultSet</code> without assigning <i>or even retrieving</i> the year"},{"owner":{"account_id":30120198,"reputation":1,"user_id":23082444,"display_name":"Hannah P"},"score":0,"creation_date":1702314473,"post_id":77641066,"comment_id":136878385,"body_markdown":"Adams is given Year 01 because he has a course of 1110. How should I manipulate using SQL query? Sorry I&#39;m quite a beginner with SQL","body":"Adams is given Year 01 because he has a course of 1110. How should I manipulate using SQL query? Sorry I&#39;m quite a beginner with SQL"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1702314858,"post_id":77641066,"comment_id":136878442,"body_markdown":"Well firstly, you need to pay *close attention* to the comments. You&#39;ve posted code and I&#39;ve commented on it. If that&#39;s not your *actual* code, then there&#39;s no point in posting it","body":"Well firstly, you need to pay <i>close attention</i> to the comments. You&#39;ve posted code and I&#39;ve commented on it. If that&#39;s not your <i>actual</i> code, then there&#39;s no point in posting it"}],"owner":{"account_id":30120198,"reputation":1,"user_id":23082444,"display_name":"Hannah P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702315416,"creation_date":1702312734,"question_id":77641066,"body_markdown":"I&#39;m quite new in SQL and Java and have a question regarding a sample exercise I am doing. I am trying to convert this table:\r\n\r\n```\r\nSELECT id, lname, fname, credit, year, course \r\nFROM records\r\nWHERE id is NOT NULL\r\nORDER BY last_name, first_name;\r\n```\r\n\r\n\r\n| ID       | lName    | fName    |credit  | year    | course|\r\n| -------- | -------- |----------|--------|---------|-------|\r\n|01001\t   |Adams     | John\t | PHD\t  | N\t    | 1110  | \r\n|01001\t   |Adams     | John\t | PHD\t  | N\t    | 2001  |\r\n|01001\t   |Adams     |\tJohn\t | PHD\t  | N\t    | 2115  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 1002  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 1016  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 1019  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 1008  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 2110  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 2010  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 2030  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 2200  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 2201  |\r\n|02003\t   |Alexander |\tAmy\t | MD\t  | N\t    | 2310  |\r\n|01400\t   |Anderson  |\tLouise\t | PHD\t  | N\t    | 2311  |\r\n|01400\t   |Anderson  |\tLouise\t | PHD\t  | N\t    | 2361  |\r\n|01400\t   |Anderson  |\tLouise\t | PHD\t  | N\t    | 2062  |\r\n|01400\t   |Anderson  |\tLouise\t | PHD\t  | N\t    | 2008  |\r\n|01400\t   |Anderson  |\tLouise\t | PHD\t  | N\t    | 2002  |\r\n\r\n\r\n\r\n\r\ninto Converting the column Year N to:\r\n\r\nYear 01: Has 1110\r\n\r\nYear 02: Has 2110\r\n\r\nYear 03: Does not have (1110; 2110; 3110)\r\n\r\nSo that the program will print out something like this:\r\n\r\n| ID       | lName     | fName    |credit  | year  |\r\n| -------- | ----------|----------|--------|-------|\r\n| 0100     | Adams     | John     | PHD    | 01    |\r\n| 02003\t   | Alexander | Amy\t  | MD\t   | 02    |\r\n| 01400\t   | Anderson  | Louise\t  | PHD\t   | 03    |\r\n\r\n\r\n\r\nI have a resultset coded something like this:\r\n\r\n```\r\n\r\nString SQL = &quot; SELECT id, lname, fname, credit, year, course &quot;\r\n           + &quot; FROM records &quot;\r\n           + &quot; WHERE id is NOT NULL &quot;\r\n           + &quot; ORDER BY last_name, first_name; &quot;\r\nPreparedStatement printSQL = connection.prepareStatement(SQL);\r\nResultSet rs = printSQL.executeQuery();\r\n\r\nwhile(rs.next()) {\r\n     if(year.equals(&quot;N&quot;) &amp;&amp; course.equals(&quot;1110&quot;)) {\r\n          year = &quot;01&quot;;\r\n     }\r\n     else if(year.equals(&quot;N&quot;) &amp;&amp; course.equals(&quot;2110&quot;)) {\r\n          year = &quot;02&quot;;\r\n     }\r\n     else if(year.equals(&quot;N&quot;) &amp;&amp; (!course.equals(&quot;1110&quot;) \r\n            &amp;&amp; !course.equals(&quot;2110&quot;)&amp;&amp; !course.equals(&quot;3110&quot;))){\r\n          year = &quot;03&quot;;\r\n     }\r\n}\r\n```\r\n\r\nBut it only either checks the first or the last person and not all the row that either has 1110, 2110 or doesn&#39;t have 1110, 2110 and 3110. Any help is appreciated!","title":"Converting and printing resultset from SQL","body":"<p>I'm quite new in SQL and Java and have a question regarding a sample exercise I am doing. I am trying to convert this table:</p>\n<pre><code>SELECT id, lname, fname, credit, year, course \nFROM records\nWHERE id is NOT NULL\nORDER BY last_name, first_name;\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>lName</th>\n<th>fName</th>\n<th>credit</th>\n<th>year</th>\n<th>course</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01001</td>\n<td>Adams</td>\n<td>John</td>\n<td>PHD</td>\n<td>N</td>\n<td>1110</td>\n</tr>\n<tr>\n<td>01001</td>\n<td>Adams</td>\n<td>John</td>\n<td>PHD</td>\n<td>N</td>\n<td>2001</td>\n</tr>\n<tr>\n<td>01001</td>\n<td>Adams</td>\n<td>John</td>\n<td>PHD</td>\n<td>N</td>\n<td>2115</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>1002</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>1016</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>1019</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>1008</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>2110</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>2010</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>2030</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>2200</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>2201</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>N</td>\n<td>2310</td>\n</tr>\n<tr>\n<td>01400</td>\n<td>Anderson</td>\n<td>Louise</td>\n<td>PHD</td>\n<td>N</td>\n<td>2311</td>\n</tr>\n<tr>\n<td>01400</td>\n<td>Anderson</td>\n<td>Louise</td>\n<td>PHD</td>\n<td>N</td>\n<td>2361</td>\n</tr>\n<tr>\n<td>01400</td>\n<td>Anderson</td>\n<td>Louise</td>\n<td>PHD</td>\n<td>N</td>\n<td>2062</td>\n</tr>\n<tr>\n<td>01400</td>\n<td>Anderson</td>\n<td>Louise</td>\n<td>PHD</td>\n<td>N</td>\n<td>2008</td>\n</tr>\n<tr>\n<td>01400</td>\n<td>Anderson</td>\n<td>Louise</td>\n<td>PHD</td>\n<td>N</td>\n<td>2002</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>into Converting the column Year N to:</p>\n<p>Year 01: Has 1110</p>\n<p>Year 02: Has 2110</p>\n<p>Year 03: Does not have (1110; 2110; 3110)</p>\n<p>So that the program will print out something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>lName</th>\n<th>fName</th>\n<th>credit</th>\n<th>year</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0100</td>\n<td>Adams</td>\n<td>John</td>\n<td>PHD</td>\n<td>01</td>\n</tr>\n<tr>\n<td>02003</td>\n<td>Alexander</td>\n<td>Amy</td>\n<td>MD</td>\n<td>02</td>\n</tr>\n<tr>\n<td>01400</td>\n<td>Anderson</td>\n<td>Louise</td>\n<td>PHD</td>\n<td>03</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have a resultset coded something like this:</p>\n<pre><code>\nString SQL = &quot; SELECT id, lname, fname, credit, year, course &quot;\n           + &quot; FROM records &quot;\n           + &quot; WHERE id is NOT NULL &quot;\n           + &quot; ORDER BY last_name, first_name; &quot;\nPreparedStatement printSQL = connection.prepareStatement(SQL);\nResultSet rs = printSQL.executeQuery();\n\nwhile(rs.next()) {\n     if(year.equals(&quot;N&quot;) &amp;&amp; course.equals(&quot;1110&quot;)) {\n          year = &quot;01&quot;;\n     }\n     else if(year.equals(&quot;N&quot;) &amp;&amp; course.equals(&quot;2110&quot;)) {\n          year = &quot;02&quot;;\n     }\n     else if(year.equals(&quot;N&quot;) &amp;&amp; (!course.equals(&quot;1110&quot;) \n            &amp;&amp; !course.equals(&quot;2110&quot;)&amp;&amp; !course.equals(&quot;3110&quot;))){\n          year = &quot;03&quot;;\n     }\n}\n</code></pre>\n<p>But it only either checks the first or the last person and not all the row that either has 1110, 2110 or doesn't have 1110, 2110 and 3110. Any help is appreciated!</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1702285026,"post_id":77634359,"comment_id":136873043,"body_markdown":"Related: [Simulate a realistic Bounce in JavaFX animation](https://stackoverflow.com/questions/42058282/simulate-a-realistic-bounce-in-javafx-animation/)","body":"Related: <a href=\"https://stackoverflow.com/questions/42058282/simulate-a-realistic-bounce-in-javafx-animation/\">Simulate a realistic Bounce in JavaFX animation</a>"}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702314490,"creation_date":1702314490,"answer_id":77641244,"question_id":77634359,"body_markdown":"This code is 100% @James_D&#39;s code. The code shows a nice way to handle bouncing off other nodes or bounds when a collision is detected. See the method `checkCollision`.\r\n\r\n```\r\nimport static java.lang.Math.PI;\r\nimport static java.lang.Math.cos;\r\nimport static java.lang.Math.sin;\r\nimport static java.lang.Math.sqrt;\r\nimport static javafx.scene.paint.Color.BLACK;\r\nimport static javafx.scene.paint.Color.BLUE;\r\nimport static javafx.scene.paint.Color.BROWN;\r\nimport static javafx.scene.paint.Color.GREEN;\r\nimport static javafx.scene.paint.Color.PINK;\r\nimport static javafx.scene.paint.Color.RED;\r\nimport static javafx.scene.paint.Color.YELLOW;\r\n\r\nimport java.util.ListIterator;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Callable;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.LongProperty;\r\nimport javafx.beans.property.ReadOnlyDoubleProperty;\r\nimport javafx.beans.property.ReadOnlyDoubleWrapper;\r\nimport javafx.beans.property.ReadOnlyStringProperty;\r\nimport javafx.beans.property.ReadOnlyStringWrapper;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\nimport javafx.beans.property.SimpleLongProperty;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Shape;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    private ObservableList&lt;Ball&gt; balls = FXCollections.observableArrayList();\r\n    private static final int NUM_BALLS = 400;\r\n    private static final double MIN_RADIUS = 5 ;\r\n    private static final double MAX_RADIUS = 15 ;\r\n    private static final double MIN_SPEED = 50 ;\r\n    private static final double MAX_SPEED = 250 ;\r\n    private static final Color[] COLORS = new Color[] { RED, YELLOW, GREEN,\r\n            BROWN, BLUE, PINK, BLACK };\r\n    \r\n    private final FrameStats frameStats = new FrameStats() ;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        final Pane ballContainer = new Pane();\r\n\r\n        constrainBallsOnResize(ballContainer);\r\n\r\n        ballContainer.addEventHandler(MouseEvent.MOUSE_CLICKED,\r\n                new EventHandler&lt;MouseEvent&gt;() {\r\n                    @Override\r\n                    public void handle(MouseEvent event) {\r\n                        if (event.getClickCount() == 2) {\r\n                            balls.clear();\r\n                            createBalls(NUM_BALLS, MIN_RADIUS, MAX_RADIUS, MIN_SPEED, MAX_SPEED, ballContainer.getWidth()/2, ballContainer.getHeight()/2);\r\n                        }\r\n                    }\r\n                });\r\n\r\n        balls.addListener(new ListChangeListener&lt;Ball&gt;() {\r\n            @Override\r\n            public void onChanged(Change&lt;? extends Ball&gt; change) {\r\n                while (change.next()) {\r\n                    for (Ball b : change.getAddedSubList()) {\r\n                        ballContainer.getChildren().add(b.getView());\r\n                    }\r\n                    for (Ball b : change.getRemoved()) {\r\n                        ballContainer.getChildren().remove(b.getView());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        createBalls(NUM_BALLS, MIN_RADIUS, MAX_RADIUS, MIN_SPEED, MAX_SPEED, 400, 300);\r\n        \r\n        final BorderPane root = new BorderPane();\r\n        final Label stats = new Label() ;\r\n        stats.textProperty().bind(frameStats.textProperty());\r\n        \r\n        root.setCenter(ballContainer);\r\n        root.setBottom(stats);\r\n\r\n        final Scene scene = new Scene(root, 800, 600);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n\r\n        startAnimation(ballContainer);\r\n    }\r\n\r\n    private void startAnimation(final Pane ballContainer) {\r\n        final LongProperty lastUpdateTime = new SimpleLongProperty(0);\r\n        final AnimationTimer timer = new AnimationTimer() {\r\n            @Override\r\n            public void handle(long timestamp) {\r\n                if (lastUpdateTime.get() &gt; 0) {\r\n                    long elapsedTime = timestamp - lastUpdateTime.get();\r\n                    checkCollisions(ballContainer.getWidth(), ballContainer.getHeight());\r\n                    updateWorld(elapsedTime);\r\n                    frameStats.addFrame(elapsedTime);\r\n                }\r\n                lastUpdateTime.set(timestamp);\r\n            }\r\n\r\n        };\r\n        timer.start();\r\n    }\r\n\r\n    private void updateWorld(long elapsedTime) {\r\n        double elapsedSeconds = elapsedTime / 1_000_000_000.0;\r\n        for (Ball b : balls) {\r\n            b.setCenterX(b.getCenterX() + elapsedSeconds * b.getXVelocity());\r\n            b.setCenterY(b.getCenterY() + elapsedSeconds * b.getYVelocity());\r\n        }\r\n    }\r\n\r\n    private void checkCollisions(double maxX, double maxY) {\r\n        for (ListIterator&lt;Ball&gt; slowIt = balls.listIterator(); slowIt.hasNext();) {\r\n            Ball b1 = slowIt.next();\r\n            // check wall collisions:\r\n            double xVel = b1.getXVelocity();\r\n            double yVel = b1.getYVelocity();\r\n            if ((b1.getCenterX() - b1.getRadius() &lt;= 0 &amp;&amp; xVel &lt; 0)\r\n                    || (b1.getCenterX() + b1.getRadius() &gt;= maxX &amp;&amp; xVel &gt; 0)) {\r\n                b1.setXVelocity(-xVel);\r\n            }\r\n            if ((b1.getCenterY() - b1.getRadius() &lt;= 0 &amp;&amp; yVel &lt; 0)\r\n                    || (b1.getCenterY() + b1.getRadius() &gt;= maxY &amp;&amp; yVel &gt; 0)) {\r\n                b1.setYVelocity(-yVel);\r\n            }\r\n            for (ListIterator&lt;Ball&gt; fastIt = balls.listIterator(slowIt.nextIndex()); fastIt.hasNext();) {\r\n                Ball b2 = fastIt.next();\r\n                // performance hack: both colliding(...) and bounce(...) need deltaX and deltaY, so compute them once here:\r\n                final double deltaX = b2.getCenterX() - b1.getCenterX() ;\r\n                final double deltaY = b2.getCenterY() - b1.getCenterY() ;\r\n                if (colliding(b1, b2, deltaX, deltaY)) {\r\n                    bounce(b1, b2, deltaX, deltaY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public boolean colliding(final Ball b1, final Ball b2, final double deltaX, final double deltaY) {\r\n        // square of distance between balls is s^2 = (x2-x1)^2 + (y2-y1)^2\r\n        // balls are &quot;overlapping&quot; if s^2 &lt; (r1 + r2)^2\r\n        // We also check that distance is decreasing, i.e.\r\n        // d/dt(s^2) &lt; 0:\r\n        // 2(x2-x1)(x2&#39;-x1&#39;) + 2(y2-y1)(y2&#39;-y1&#39;) &lt; 0\r\n\r\n        final double radiusSum = b1.getRadius() + b2.getRadius();\r\n        if (deltaX * deltaX + deltaY * deltaY &lt;= radiusSum * radiusSum) {\r\n            if ( deltaX * (b2.getXVelocity() - b1.getXVelocity()) \r\n                    + deltaY * (b2.getYVelocity() - b1.getYVelocity()) &lt; 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    private void bounce(final Ball b1, final Ball b2, final double deltaX, final double deltaY) {\r\n        final double distance = sqrt(deltaX * deltaX + deltaY * deltaY) ;\r\n        final double unitContactX = deltaX / distance ;\r\n        final double unitContactY = deltaY / distance ;\r\n        \r\n        final double xVelocity1 = b1.getXVelocity();\r\n        final double yVelocity1 = b1.getYVelocity();\r\n        final double xVelocity2 = b2.getXVelocity();\r\n        final double yVelocity2 = b2.getYVelocity();\r\n\r\n        final double u1 = xVelocity1 * unitContactX + yVelocity1 * unitContactY ; // velocity of ball 1 parallel to contact vector\r\n        final double u2 = xVelocity2 * unitContactX + yVelocity2 * unitContactY ; // same for ball 2\r\n        \r\n        final double massSum = b1.getMass() + b2.getMass() ;\r\n        final double massDiff = b1.getMass() - b2.getMass() ;\r\n        \r\n        final double v1 = ( 2*b2.getMass()*u2 + u1 * massDiff ) / massSum ; // These equations are derived for one-dimensional collision by\r\n        final double v2 = ( 2*b1.getMass()*u1 - u2 * massDiff ) / massSum ; // solving equations for conservation of momentum and conservation of energy\r\n        \r\n        final double u1PerpX = xVelocity1 - u1 * unitContactX ; // Components of ball 1 velocity in direction perpendicular\r\n        final double u1PerpY = yVelocity1 - u1 * unitContactY ; // to contact vector. This doesn&#39;t change with collision\r\n        final double u2PerpX = xVelocity2 - u2 * unitContactX ; // Same for ball 2....\r\n        final double u2PerpY = yVelocity2 - u2 * unitContactY ; \r\n        \r\n        b1.setXVelocity(v1 * unitContactX + u1PerpX);\r\n        b1.setYVelocity(v1 * unitContactY + u1PerpY);\r\n        b2.setXVelocity(v2 * unitContactX + u2PerpX);\r\n        b2.setYVelocity(v2 * unitContactY + u2PerpY);\r\n        \r\n    }\r\n\r\n    private void createBalls(int numBalls, double minRadius, double maxRadius, double minSpeed, double maxSpeed, double initialX, double initialY) {\r\n        final Random rng = new Random();\r\n        for (int i = 0; i &lt; numBalls; i++) {\r\n            double radius = minRadius + (maxRadius-minRadius) * rng.nextDouble();\r\n            double mass = Math.pow((radius / 40), 3);\r\n            \r\n            final double speed = minSpeed + (maxSpeed - minSpeed) * rng.nextDouble();\r\n            final double angle = 2 * PI * rng.nextDouble();\r\n            Ball ball = new Ball(initialX, initialY, radius, speed*cos(angle),\r\n                    speed*sin(angle), mass);\r\n            ball.getView().setFill(COLORS[i % COLORS.length]);\r\n//            ball.getView().setFill(i==0 ? RED : TRANSPARENT);\r\n            balls.add(ball);\r\n        }\r\n    }\r\n    \r\n    private void constrainBallsOnResize(final Pane ballContainer) {\r\n        ballContainer.widthProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Number&gt; observable,\r\n                    Number oldValue, Number newValue) {\r\n                if (newValue.doubleValue() &lt; oldValue.doubleValue()) {\r\n                    for (Ball b : balls) {\r\n                        double max = newValue.doubleValue() - b.getRadius();\r\n                        if (b.getCenterX() &gt; max) {\r\n                            b.setCenterX(max);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        ballContainer.heightProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Number&gt; observable,\r\n                    Number oldValue, Number newValue) {\r\n                if (newValue.doubleValue() &lt; oldValue.doubleValue()) {\r\n                    for (Ball b : balls) {\r\n                        double max = newValue.doubleValue() - b.getRadius();\r\n                        if (b.getCenterY() &gt; max) {\r\n                            b.setCenterY(max);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n    \r\n    private static class Ball {\r\n        private final DoubleProperty xVelocity ; // pixels per second\r\n        private final DoubleProperty yVelocity ; \r\n        private final ReadOnlyDoubleWrapper speed ;\r\n        private final double mass; // arbitrary units\r\n        private final double radius; // pixels\r\n\r\n        private final Circle view;\r\n\r\n        public Ball(double centerX, double centerY, double radius,\r\n                double xVelocity, double yVelocity, double mass) {\r\n\r\n            this.view = new Circle(centerX, centerY, radius);\r\n            this.xVelocity = new SimpleDoubleProperty(this, &quot;xVelocity&quot;, xVelocity);\r\n            this.yVelocity = new SimpleDoubleProperty(this, &quot;yVelocity&quot;, yVelocity);\r\n            this.speed = new ReadOnlyDoubleWrapper(this, &quot;speed&quot;);\r\n            speed.bind(Bindings.createDoubleBinding(new Callable&lt;Double&gt;() {\r\n                \r\n                @Override\r\n                public Double call() throws Exception {\r\n                    final double xVel = getXVelocity();\r\n                    final double yVel = getYVelocity();\r\n                    return sqrt(xVel * xVel + yVel * yVel);\r\n                }\r\n            }, this.xVelocity, this.yVelocity));\r\n            this.mass = mass;\r\n            this.radius = radius;\r\n            view.setRadius(radius);\r\n        }\r\n\r\n        public double getMass() {\r\n            return mass;\r\n        }\r\n\r\n        public double getRadius() {\r\n            return radius;\r\n        }\r\n\r\n        public final double getXVelocity() {\r\n            return xVelocity.get();\r\n        }\r\n\r\n        public final void setXVelocity(double xVelocity) {\r\n            this.xVelocity.set(xVelocity);\r\n        }\r\n\r\n        public final DoubleProperty xVelocityProperty() {\r\n            return xVelocity;\r\n        }\r\n\r\n        public final double getYVelocity() {\r\n            return yVelocity.get();\r\n        }\r\n\r\n        public final void setYVelocity(double yVelocity) {\r\n            this.yVelocity.set(yVelocity);\r\n        }\r\n\r\n        public final DoubleProperty yVelocityProperty() {\r\n            return yVelocity;\r\n        }\r\n        \r\n        public final double getSpeed() {\r\n            return speed.get();\r\n        }\r\n        \r\n        public final ReadOnlyDoubleProperty speedProperty() {\r\n            return speed.getReadOnlyProperty() ;\r\n        }\r\n\r\n        public final double getCenterX() {\r\n            return view.getCenterX();\r\n        }\r\n\r\n        public final void setCenterX(double centerX) {\r\n            view.setCenterX(centerX);\r\n        }\r\n\r\n        public final DoubleProperty centerXProperty() {\r\n            return view.centerXProperty();\r\n        }\r\n\r\n        public final double getCenterY() {\r\n            return view.getCenterY();\r\n        }\r\n\r\n        public final void setCenterY(double centerY) {\r\n            view.setCenterY(centerY);\r\n        }\r\n\r\n        public final DoubleProperty centerYProperty() {\r\n            return view.centerYProperty();\r\n        }\r\n\r\n        public Shape getView() {\r\n            return view;\r\n        }\r\n    }\r\n    \r\n    private static class FrameStats {\r\n        private long frameCount ;\r\n        private double meanFrameInterval ; // millis\r\n        private final ReadOnlyStringWrapper text = new ReadOnlyStringWrapper(this, &quot;text&quot;, &quot;Frame count: 0 Average frame interval: N/A&quot;);\r\n        \r\n        public long getFrameCount() {\r\n            return frameCount;\r\n        }\r\n        public double getMeanFrameInterval() {\r\n            return meanFrameInterval;\r\n        }\r\n        \r\n        public void addFrame(long frameDurationNanos) {\r\n            meanFrameInterval = (meanFrameInterval * frameCount + frameDurationNanos / 1_000_000.0) / (frameCount + 1) ;\r\n            frameCount++ ;\r\n            text.set(toString());\r\n        }\r\n        \r\n        public String getText() {\r\n            return text.get();\r\n        }\r\n        \r\n        public ReadOnlyStringProperty textProperty() {\r\n            return text.getReadOnlyProperty() ;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Frame count: %,d Average frame interval: %.3f milliseconds&quot;, getFrameCount(), getMeanFrameInterval());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nThe original code can be found at James D&#39;s Gist.\r\n\r\nhttps://gist.github.com/james-d/8327842\r\n\r\n","title":"Change enemy movement upon collision","body":"<p>This code is 100% @James_D's code. The code shows a nice way to handle bouncing off other nodes or bounds when a collision is detected. See the method <code>checkCollision</code>.</p>\n<pre><code>import static java.lang.Math.PI;\nimport static java.lang.Math.cos;\nimport static java.lang.Math.sin;\nimport static java.lang.Math.sqrt;\nimport static javafx.scene.paint.Color.BLACK;\nimport static javafx.scene.paint.Color.BLUE;\nimport static javafx.scene.paint.Color.BROWN;\nimport static javafx.scene.paint.Color.GREEN;\nimport static javafx.scene.paint.Color.PINK;\nimport static javafx.scene.paint.Color.RED;\nimport static javafx.scene.paint.Color.YELLOW;\n\nimport java.util.ListIterator;\nimport java.util.Random;\nimport java.util.concurrent.Callable;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.LongProperty;\nimport javafx.beans.property.ReadOnlyDoubleProperty;\nimport javafx.beans.property.ReadOnlyDoubleWrapper;\nimport javafx.beans.property.ReadOnlyStringProperty;\nimport javafx.beans.property.ReadOnlyStringWrapper;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.beans.property.SimpleLongProperty;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    private ObservableList&lt;Ball&gt; balls = FXCollections.observableArrayList();\n    private static final int NUM_BALLS = 400;\n    private static final double MIN_RADIUS = 5 ;\n    private static final double MAX_RADIUS = 15 ;\n    private static final double MIN_SPEED = 50 ;\n    private static final double MAX_SPEED = 250 ;\n    private static final Color[] COLORS = new Color[] { RED, YELLOW, GREEN,\n            BROWN, BLUE, PINK, BLACK };\n    \n    private final FrameStats frameStats = new FrameStats() ;\n\n    @Override\n    public void start(Stage primaryStage) {\n        final Pane ballContainer = new Pane();\n\n        constrainBallsOnResize(ballContainer);\n\n        ballContainer.addEventHandler(MouseEvent.MOUSE_CLICKED,\n                new EventHandler&lt;MouseEvent&gt;() {\n                    @Override\n                    public void handle(MouseEvent event) {\n                        if (event.getClickCount() == 2) {\n                            balls.clear();\n                            createBalls(NUM_BALLS, MIN_RADIUS, MAX_RADIUS, MIN_SPEED, MAX_SPEED, ballContainer.getWidth()/2, ballContainer.getHeight()/2);\n                        }\n                    }\n                });\n\n        balls.addListener(new ListChangeListener&lt;Ball&gt;() {\n            @Override\n            public void onChanged(Change&lt;? extends Ball&gt; change) {\n                while (change.next()) {\n                    for (Ball b : change.getAddedSubList()) {\n                        ballContainer.getChildren().add(b.getView());\n                    }\n                    for (Ball b : change.getRemoved()) {\n                        ballContainer.getChildren().remove(b.getView());\n                    }\n                }\n            }\n        });\n\n        createBalls(NUM_BALLS, MIN_RADIUS, MAX_RADIUS, MIN_SPEED, MAX_SPEED, 400, 300);\n        \n        final BorderPane root = new BorderPane();\n        final Label stats = new Label() ;\n        stats.textProperty().bind(frameStats.textProperty());\n        \n        root.setCenter(ballContainer);\n        root.setBottom(stats);\n\n        final Scene scene = new Scene(root, 800, 600);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n        startAnimation(ballContainer);\n    }\n\n    private void startAnimation(final Pane ballContainer) {\n        final LongProperty lastUpdateTime = new SimpleLongProperty(0);\n        final AnimationTimer timer = new AnimationTimer() {\n            @Override\n            public void handle(long timestamp) {\n                if (lastUpdateTime.get() &gt; 0) {\n                    long elapsedTime = timestamp - lastUpdateTime.get();\n                    checkCollisions(ballContainer.getWidth(), ballContainer.getHeight());\n                    updateWorld(elapsedTime);\n                    frameStats.addFrame(elapsedTime);\n                }\n                lastUpdateTime.set(timestamp);\n            }\n\n        };\n        timer.start();\n    }\n\n    private void updateWorld(long elapsedTime) {\n        double elapsedSeconds = elapsedTime / 1_000_000_000.0;\n        for (Ball b : balls) {\n            b.setCenterX(b.getCenterX() + elapsedSeconds * b.getXVelocity());\n            b.setCenterY(b.getCenterY() + elapsedSeconds * b.getYVelocity());\n        }\n    }\n\n    private void checkCollisions(double maxX, double maxY) {\n        for (ListIterator&lt;Ball&gt; slowIt = balls.listIterator(); slowIt.hasNext();) {\n            Ball b1 = slowIt.next();\n            // check wall collisions:\n            double xVel = b1.getXVelocity();\n            double yVel = b1.getYVelocity();\n            if ((b1.getCenterX() - b1.getRadius() &lt;= 0 &amp;&amp; xVel &lt; 0)\n                    || (b1.getCenterX() + b1.getRadius() &gt;= maxX &amp;&amp; xVel &gt; 0)) {\n                b1.setXVelocity(-xVel);\n            }\n            if ((b1.getCenterY() - b1.getRadius() &lt;= 0 &amp;&amp; yVel &lt; 0)\n                    || (b1.getCenterY() + b1.getRadius() &gt;= maxY &amp;&amp; yVel &gt; 0)) {\n                b1.setYVelocity(-yVel);\n            }\n            for (ListIterator&lt;Ball&gt; fastIt = balls.listIterator(slowIt.nextIndex()); fastIt.hasNext();) {\n                Ball b2 = fastIt.next();\n                // performance hack: both colliding(...) and bounce(...) need deltaX and deltaY, so compute them once here:\n                final double deltaX = b2.getCenterX() - b1.getCenterX() ;\n                final double deltaY = b2.getCenterY() - b1.getCenterY() ;\n                if (colliding(b1, b2, deltaX, deltaY)) {\n                    bounce(b1, b2, deltaX, deltaY);\n                }\n            }\n        }\n    }\n\n\n    public boolean colliding(final Ball b1, final Ball b2, final double deltaX, final double deltaY) {\n        // square of distance between balls is s^2 = (x2-x1)^2 + (y2-y1)^2\n        // balls are &quot;overlapping&quot; if s^2 &lt; (r1 + r2)^2\n        // We also check that distance is decreasing, i.e.\n        // d/dt(s^2) &lt; 0:\n        // 2(x2-x1)(x2'-x1') + 2(y2-y1)(y2'-y1') &lt; 0\n\n        final double radiusSum = b1.getRadius() + b2.getRadius();\n        if (deltaX * deltaX + deltaY * deltaY &lt;= radiusSum * radiusSum) {\n            if ( deltaX * (b2.getXVelocity() - b1.getXVelocity()) \n                    + deltaY * (b2.getYVelocity() - b1.getYVelocity()) &lt; 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    private void bounce(final Ball b1, final Ball b2, final double deltaX, final double deltaY) {\n        final double distance = sqrt(deltaX * deltaX + deltaY * deltaY) ;\n        final double unitContactX = deltaX / distance ;\n        final double unitContactY = deltaY / distance ;\n        \n        final double xVelocity1 = b1.getXVelocity();\n        final double yVelocity1 = b1.getYVelocity();\n        final double xVelocity2 = b2.getXVelocity();\n        final double yVelocity2 = b2.getYVelocity();\n\n        final double u1 = xVelocity1 * unitContactX + yVelocity1 * unitContactY ; // velocity of ball 1 parallel to contact vector\n        final double u2 = xVelocity2 * unitContactX + yVelocity2 * unitContactY ; // same for ball 2\n        \n        final double massSum = b1.getMass() + b2.getMass() ;\n        final double massDiff = b1.getMass() - b2.getMass() ;\n        \n        final double v1 = ( 2*b2.getMass()*u2 + u1 * massDiff ) / massSum ; // These equations are derived for one-dimensional collision by\n        final double v2 = ( 2*b1.getMass()*u1 - u2 * massDiff ) / massSum ; // solving equations for conservation of momentum and conservation of energy\n        \n        final double u1PerpX = xVelocity1 - u1 * unitContactX ; // Components of ball 1 velocity in direction perpendicular\n        final double u1PerpY = yVelocity1 - u1 * unitContactY ; // to contact vector. This doesn't change with collision\n        final double u2PerpX = xVelocity2 - u2 * unitContactX ; // Same for ball 2....\n        final double u2PerpY = yVelocity2 - u2 * unitContactY ; \n        \n        b1.setXVelocity(v1 * unitContactX + u1PerpX);\n        b1.setYVelocity(v1 * unitContactY + u1PerpY);\n        b2.setXVelocity(v2 * unitContactX + u2PerpX);\n        b2.setYVelocity(v2 * unitContactY + u2PerpY);\n        \n    }\n\n    private void createBalls(int numBalls, double minRadius, double maxRadius, double minSpeed, double maxSpeed, double initialX, double initialY) {\n        final Random rng = new Random();\n        for (int i = 0; i &lt; numBalls; i++) {\n            double radius = minRadius + (maxRadius-minRadius) * rng.nextDouble();\n            double mass = Math.pow((radius / 40), 3);\n            \n            final double speed = minSpeed + (maxSpeed - minSpeed) * rng.nextDouble();\n            final double angle = 2 * PI * rng.nextDouble();\n            Ball ball = new Ball(initialX, initialY, radius, speed*cos(angle),\n                    speed*sin(angle), mass);\n            ball.getView().setFill(COLORS[i % COLORS.length]);\n//            ball.getView().setFill(i==0 ? RED : TRANSPARENT);\n            balls.add(ball);\n        }\n    }\n    \n    private void constrainBallsOnResize(final Pane ballContainer) {\n        ballContainer.widthProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Number&gt; observable,\n                    Number oldValue, Number newValue) {\n                if (newValue.doubleValue() &lt; oldValue.doubleValue()) {\n                    for (Ball b : balls) {\n                        double max = newValue.doubleValue() - b.getRadius();\n                        if (b.getCenterX() &gt; max) {\n                            b.setCenterX(max);\n                        }\n                    }\n                }\n            }\n        });\n\n        ballContainer.heightProperty().addListener(new ChangeListener&lt;Number&gt;() {\n\n            @Override\n            public void changed(ObservableValue&lt;? extends Number&gt; observable,\n                    Number oldValue, Number newValue) {\n                if (newValue.doubleValue() &lt; oldValue.doubleValue()) {\n                    for (Ball b : balls) {\n                        double max = newValue.doubleValue() - b.getRadius();\n                        if (b.getCenterY() &gt; max) {\n                            b.setCenterY(max);\n                        }\n                    }\n                }\n            }\n\n        });\n    }\n    \n    private static class Ball {\n        private final DoubleProperty xVelocity ; // pixels per second\n        private final DoubleProperty yVelocity ; \n        private final ReadOnlyDoubleWrapper speed ;\n        private final double mass; // arbitrary units\n        private final double radius; // pixels\n\n        private final Circle view;\n\n        public Ball(double centerX, double centerY, double radius,\n                double xVelocity, double yVelocity, double mass) {\n\n            this.view = new Circle(centerX, centerY, radius);\n            this.xVelocity = new SimpleDoubleProperty(this, &quot;xVelocity&quot;, xVelocity);\n            this.yVelocity = new SimpleDoubleProperty(this, &quot;yVelocity&quot;, yVelocity);\n            this.speed = new ReadOnlyDoubleWrapper(this, &quot;speed&quot;);\n            speed.bind(Bindings.createDoubleBinding(new Callable&lt;Double&gt;() {\n                \n                @Override\n                public Double call() throws Exception {\n                    final double xVel = getXVelocity();\n                    final double yVel = getYVelocity();\n                    return sqrt(xVel * xVel + yVel * yVel);\n                }\n            }, this.xVelocity, this.yVelocity));\n            this.mass = mass;\n            this.radius = radius;\n            view.setRadius(radius);\n        }\n\n        public double getMass() {\n            return mass;\n        }\n\n        public double getRadius() {\n            return radius;\n        }\n\n        public final double getXVelocity() {\n            return xVelocity.get();\n        }\n\n        public final void setXVelocity(double xVelocity) {\n            this.xVelocity.set(xVelocity);\n        }\n\n        public final DoubleProperty xVelocityProperty() {\n            return xVelocity;\n        }\n\n        public final double getYVelocity() {\n            return yVelocity.get();\n        }\n\n        public final void setYVelocity(double yVelocity) {\n            this.yVelocity.set(yVelocity);\n        }\n\n        public final DoubleProperty yVelocityProperty() {\n            return yVelocity;\n        }\n        \n        public final double getSpeed() {\n            return speed.get();\n        }\n        \n        public final ReadOnlyDoubleProperty speedProperty() {\n            return speed.getReadOnlyProperty() ;\n        }\n\n        public final double getCenterX() {\n            return view.getCenterX();\n        }\n\n        public final void setCenterX(double centerX) {\n            view.setCenterX(centerX);\n        }\n\n        public final DoubleProperty centerXProperty() {\n            return view.centerXProperty();\n        }\n\n        public final double getCenterY() {\n            return view.getCenterY();\n        }\n\n        public final void setCenterY(double centerY) {\n            view.setCenterY(centerY);\n        }\n\n        public final DoubleProperty centerYProperty() {\n            return view.centerYProperty();\n        }\n\n        public Shape getView() {\n            return view;\n        }\n    }\n    \n    private static class FrameStats {\n        private long frameCount ;\n        private double meanFrameInterval ; // millis\n        private final ReadOnlyStringWrapper text = new ReadOnlyStringWrapper(this, &quot;text&quot;, &quot;Frame count: 0 Average frame interval: N/A&quot;);\n        \n        public long getFrameCount() {\n            return frameCount;\n        }\n        public double getMeanFrameInterval() {\n            return meanFrameInterval;\n        }\n        \n        public void addFrame(long frameDurationNanos) {\n            meanFrameInterval = (meanFrameInterval * frameCount + frameDurationNanos / 1_000_000.0) / (frameCount + 1) ;\n            frameCount++ ;\n            text.set(toString());\n        }\n        \n        public String getText() {\n            return text.get();\n        }\n        \n        public ReadOnlyStringProperty textProperty() {\n            return text.getReadOnlyProperty() ;\n        }\n        \n        @Override\n        public String toString() {\n            return String.format(&quot;Frame count: %,d Average frame interval: %.3f milliseconds&quot;, getFrameCount(), getMeanFrameInterval());\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The original code can be found at James D's Gist.</p>\n<p><a href=\"https://gist.github.com/james-d/8327842\" rel=\"nofollow noreferrer\">https://gist.github.com/james-d/8327842</a></p>\n"}],"owner":{"account_id":30104967,"reputation":1,"user_id":23071075,"display_name":"oneHundredd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702314490,"creation_date":1702202240,"question_id":77634359,"body_markdown":"I want my enemy to keep moving in a direction for say, up, and when it detects a collision, it changes direction to the right, and then another collision, and so on. My enemy is already stopping at the objects, but I&#39;m having trouble figuring out the logic on how to change its direction.\r\n\r\nMy enemy class\r\n\r\n```\r\npackage application;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.shape.Rectangle;\r\n\r\npublic class Enemy extends Sprite{\r\n\t\r\n\t@FXML private ImageView enemy;\r\n\tdouble x;\r\n\tdouble y;\r\n\r\n\tpublic boolean canUp = true;\r\n\tpublic boolean canDown = true;\r\n\tpublic boolean canLeft = true; \r\n\tpublic boolean canRight = true;\r\n\t\r\n\tprivate int movementVariable = 1;\r\n\tPlayerController playerController;\r\n\t\r\n\tpublic Enemy(ImageView enemy, double x, double y, PlayerController playerController) {\r\n\t\tsuper(x,y,enemy);\r\n\t\tthis.enemy = enemy;\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.playerController = playerController;\r\n\t}\r\n\r\n\tpublic void moveEnemy(ImageView player, AnchorPane scene, ArrayList&lt;Rectangle&gt; unbreakableObjects) {\r\n\t\ttimer.start();\r\n\t}\r\n\r\n\tAnimationTimer timer = new AnimationTimer() {\r\n\t    @Override\r\n\t    public void handle(long timestamp) {\r\n\t        double currentX = enemy.getLayoutX();\r\n\t        double currentY = enemy.getLayoutY();\r\n\r\n\t        // Update the enemy&#39;s position based on movement direction\r\n\t        if (canUp) {\r\n\t            enemy.setLayoutY(enemy.getLayoutY() - movementVariable);\r\n\t            canUp = true;\r\n\t            canDown = false;\r\n\t            canLeft = false;\r\n\t            canRight = false;\r\n\t        } else if (canDown) {\r\n\t            enemy.setLayoutY(enemy.getLayoutY() + movementVariable);\r\n\t            canUp = false;\r\n\t            canDown = true;\r\n\t            canLeft = false;\r\n\t            canRight = false;\r\n\t        } else if (canLeft) {\r\n\t            enemy.setLayoutX(enemy.getLayoutX() - movementVariable);\r\n\t            canUp = false;\r\n\t            canDown = false;\r\n\t            canLeft = true;\r\n\t            canRight = false;\r\n\t        } else if (canRight) {\r\n\t            enemy.setLayoutX(enemy.getLayoutX() + movementVariable);\r\n\t            canUp = false;\r\n\t            canDown = false;\r\n\t            canLeft = false;\r\n\t            canRight = true;\r\n\t        }\r\n\r\n\t        playerController.checkEnemyCollision(currentX, currentY);\r\n\t    }\r\n\t}; \r\n\r\n    void moveUp() {\r\n\t\tenemy.setLayoutY(enemy.getLayoutY() - movementVariable);\r\n\t}\r\n\t\r\n\tpublic void moveDown() {\r\n\t\tenemy.setLayoutY(enemy.getLayoutY() + movementVariable);\r\n\t}\r\n\t\r\n\tpublic void moveLeft() {\r\n\t\tenemy.setLayoutX(enemy.getLayoutX() + movementVariable);\r\n\t}\r\n\t\r\n\tpublic void moveRight() {\r\n\t\tenemy.setLayoutX(enemy.getLayoutX() - movementVariable);\r\n\t}\r\n}\r\n```\r\n\r\nMy controller\r\n\r\n```\r\npackage application;\r\n\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Text;\r\n\r\npublic class PlayerController implements Initializable{\r\n\t\r\n\t@FXML\r\n\tprivate ImageView player;\r\n\tprivate Player playerComponent;\r\n\t\r\n\t@FXML private AnchorPane scene;\r\n\t\r\n\tprivate double x = 0;\r\n\tprivate double y = 0;\r\n\tprivate int scoreCounter = 0;\r\n\t\r\n\t@FXML private int lives;\r\n\t@FXML private Text score;\r\n\t\r\n\t@FXML private Rectangle Bed;\r\n\t@FXML private Rectangle Plant;\r\n\t@FXML private Rectangle Shelf1;\r\n\t@FXML private Rectangle Shelf2;\r\n\t@FXML private Rectangle Box1;\r\n\t@FXML private Rectangle Box2;\r\n\t@FXML private Rectangle Box3;\r\n\t@FXML private Rectangle Box4;\r\n\t@FXML private Rectangle Cabinet1;\r\n\t@FXML private Rectangle TVset;\r\n\t@FXML private Rectangle chair1;\r\n\t@FXML private Rectangle chair2;\r\n\t@FXML private Rectangle Table1;\r\n\t@FXML private Rectangle Desk1;\r\n\t@FXML private Rectangle Desk2;\r\n\t@FXML private Rectangle Box5;\r\n\t@FXML private Rectangle Box6;\r\n\t@FXML private Rectangle Cabinet2;\r\n\t@FXML private Rectangle RightWall;\r\n\t@FXML private Rectangle TopWall;\r\n\t@FXML private Rectangle LeftWall;\r\n\t@FXML private Rectangle BottomWall;\r\n\t\r\n\t@FXML private ImageView breakable1;\r\n\t@FXML private ImageView breakable2;\r\n\t@FXML private ImageView breakable3;\r\n\t@FXML private ImageView breakable4;\r\n\t@FXML private ImageView breakable5;\r\n\t@FXML private ImageView breakable6;\r\n\t@FXML private ImageView breakable7;\r\n\t@FXML private ImageView breakable8;\r\n\t@FXML private ImageView breakable9;\r\n\t@FXML private ImageView breakable10;\r\n\t@FXML private ImageView breakable11;\r\n\t@FXML private ImageView breakable12;\r\n\t@FXML private ImageView breakable13;\r\n\t@FXML private ImageView breakable14;\r\n\t@FXML private ImageView breakable15;\r\n\t@FXML private ImageView breakable16;\r\n\t@FXML private ImageView breakable17;\r\n\t@FXML private ImageView breakable18;\r\n\t@FXML private ImageView breakable19;\r\n\t@FXML private ImageView breakable20;\r\n\t@FXML private ImageView breakable21;\r\n\t@FXML private ImageView breakable22;\r\n\t@FXML private ImageView breakable23;\r\n\t@FXML private ImageView breakable24;\r\n\t\r\n\t@FXML private ImageView Enemy1;\r\n\tprivate Enemy enemy1Component;\r\n\r\n\tprivate ArrayList&lt;Rectangle&gt; unbreakableObjects = new ArrayList&lt;&gt;();\r\n\tprivate ArrayList&lt;ImageView&gt; breakableObjects = new ArrayList&lt;&gt;();\r\n\t\r\n\tCollisionHandler collisionHandler = new CollisionHandler();\r\n\t\r\n\tAnimationTimer gameLoop;\r\n\t\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tplayerComponent = new Player(player, x, y, lives, scoreCounter, this);\r\n\t\tenemy1Component = new Enemy(Enemy1, x, y, this);\r\n\t\t\r\n\t\tgameLoop = new AnimationTimer() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(long arg0) {\r\n\t\t\t\tplayerComponent.makeMovable(player, scene, unbreakableObjects);\r\n\t\t\t\tenemy1Component.moveEnemy(Enemy1, scene, unbreakableObjects);\r\n\t\t\t}\t\r\n\t\t};\r\n\t\t\r\n\t\tgameLoop.start();\r\n\t\t\r\n\t\t// add the unbreakable objects\r\n\t\tunbreakableObjects.add(Bed);\r\n\t\tunbreakableObjects.add(Cabinet1);\r\n\t\tunbreakableObjects.add(Shelf1);\r\n\t\tunbreakableObjects.add(Shelf2);\r\n\t\tunbreakableObjects.add(Box1);\r\n\t\tunbreakableObjects.add(Box2);\r\n\t\tunbreakableObjects.add(Box3);\r\n\t\tunbreakableObjects.add(Box4);\r\n\t\tunbreakableObjects.add(Plant);\r\n\t\tunbreakableObjects.add(TVset);\r\n\t\tunbreakableObjects.add(chair1);\r\n\t\tunbreakableObjects.add(chair2);\r\n\t\tunbreakableObjects.add(Table1);\r\n\t\tunbreakableObjects.add(Desk1);\r\n\t\tunbreakableObjects.add(Desk2);\r\n\t\tunbreakableObjects.add(Box5);\r\n\t\tunbreakableObjects.add(Box6);\r\n\t\tunbreakableObjects.add(Cabinet2);\r\n\t\tunbreakableObjects.add(RightWall);\r\n\t\tunbreakableObjects.add(TopWall);\r\n\t\tunbreakableObjects.add(LeftWall);\r\n\t\tunbreakableObjects.add(BottomWall);\r\n\t\t\r\n\t\t// add the breakable objects\r\n\t\tbreakableObjects.add(breakable1);\r\n\t\tbreakableObjects.add(breakable2);\r\n\t\tbreakableObjects.add(breakable3);\r\n\t\tbreakableObjects.add(breakable4);\r\n\t\tbreakableObjects.add(breakable5);\r\n\t\tbreakableObjects.add(breakable6);\r\n\t\tbreakableObjects.add(breakable7);\r\n\t\tbreakableObjects.add(breakable8);\r\n\t\tbreakableObjects.add(breakable9);\r\n\t\tbreakableObjects.add(breakable10);\r\n\t\tbreakableObjects.add(breakable11);\r\n\t\tbreakableObjects.add(breakable12);\r\n\t\tbreakableObjects.add(breakable13);\r\n\t\tbreakableObjects.add(breakable14);\r\n\t\tbreakableObjects.add(breakable15);\r\n\t\tbreakableObjects.add(breakable16);\r\n\t\tbreakableObjects.add(breakable17);\r\n\t\tbreakableObjects.add(breakable18);\r\n\t\tbreakableObjects.add(breakable19);\r\n\t\tbreakableObjects.add(breakable20);\r\n\t\tbreakableObjects.add(breakable21);\r\n\t\tbreakableObjects.add(breakable22);\r\n\t\tbreakableObjects.add(breakable23);\r\n\t\tbreakableObjects.add(breakable24);\r\n\t}\r\n\t\r\n\tpublic void checkCollision(double currentX, double currentY) {\r\n\t\tif (collisionHandler.checkCollisionUnbreakables(player, unbreakableObjects)) {\r\n\t\t\tplayer.setLayoutX(currentX);\r\n\t\t\tplayer.setLayoutY(currentY);\r\n\t\t}\r\n\t\t\r\n\t\tif (collisionHandler.checkCollisionBreakables(player, breakableObjects) ) {\r\n\t\t\tplayer.setLayoutX(currentX);\r\n\t\t\tplayer.setLayoutY(currentY);\r\n\t\t\tpointChecker();\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tpublic void checkEnemyCollision(double currentX, double currentY) {\r\n\t\tif (collisionHandler.checkCollisionUnbreakables(Enemy1, unbreakableObjects)) {\r\n\t\t\tEnemy1.setLayoutX(currentX);\r\n\t\t\tEnemy1.setLayoutY(currentY);\r\n\t\t}\r\n\t\t\r\n\t\tif (collisionHandler.checkCollisionBreakables(Enemy1, breakableObjects)) {\r\n\t\t\tEnemy1.setLayoutX(currentX);\r\n\t\t\tEnemy1.setLayoutY(currentY);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void pointChecker() {\r\n\t\tplayerComponent.incrementScore();\t\tscore.setText(String.valueOf(playerComponent.getScore()));\r\n\t\tSystem.out.println(&quot;PLAYER SCORE: &quot; + playerComponent.getScore());\r\n\t}\t\r\n}\r\n```\r\n\r\nI tried using Boolean flags to change direction upon collision, but it just doesn&#39;t move when it detects a collision.","title":"Change enemy movement upon collision","body":"<p>I want my enemy to keep moving in a direction for say, up, and when it detects a collision, it changes direction to the right, and then another collision, and so on. My enemy is already stopping at the objects, but I'm having trouble figuring out the logic on how to change its direction.</p>\n<p>My enemy class</p>\n<pre><code>package application;\n\nimport java.util.ArrayList;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.fxml.FXML;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.shape.Rectangle;\n\npublic class Enemy extends Sprite{\n    \n    @FXML private ImageView enemy;\n    double x;\n    double y;\n\n    public boolean canUp = true;\n    public boolean canDown = true;\n    public boolean canLeft = true; \n    public boolean canRight = true;\n    \n    private int movementVariable = 1;\n    PlayerController playerController;\n    \n    public Enemy(ImageView enemy, double x, double y, PlayerController playerController) {\n        super(x,y,enemy);\n        this.enemy = enemy;\n        this.x = x;\n        this.y = y;\n        this.playerController = playerController;\n    }\n\n    public void moveEnemy(ImageView player, AnchorPane scene, ArrayList&lt;Rectangle&gt; unbreakableObjects) {\n        timer.start();\n    }\n\n    AnimationTimer timer = new AnimationTimer() {\n        @Override\n        public void handle(long timestamp) {\n            double currentX = enemy.getLayoutX();\n            double currentY = enemy.getLayoutY();\n\n            // Update the enemy's position based on movement direction\n            if (canUp) {\n                enemy.setLayoutY(enemy.getLayoutY() - movementVariable);\n                canUp = true;\n                canDown = false;\n                canLeft = false;\n                canRight = false;\n            } else if (canDown) {\n                enemy.setLayoutY(enemy.getLayoutY() + movementVariable);\n                canUp = false;\n                canDown = true;\n                canLeft = false;\n                canRight = false;\n            } else if (canLeft) {\n                enemy.setLayoutX(enemy.getLayoutX() - movementVariable);\n                canUp = false;\n                canDown = false;\n                canLeft = true;\n                canRight = false;\n            } else if (canRight) {\n                enemy.setLayoutX(enemy.getLayoutX() + movementVariable);\n                canUp = false;\n                canDown = false;\n                canLeft = false;\n                canRight = true;\n            }\n\n            playerController.checkEnemyCollision(currentX, currentY);\n        }\n    }; \n\n    void moveUp() {\n        enemy.setLayoutY(enemy.getLayoutY() - movementVariable);\n    }\n    \n    public void moveDown() {\n        enemy.setLayoutY(enemy.getLayoutY() + movementVariable);\n    }\n    \n    public void moveLeft() {\n        enemy.setLayoutX(enemy.getLayoutX() + movementVariable);\n    }\n    \n    public void moveRight() {\n        enemy.setLayoutX(enemy.getLayoutX() - movementVariable);\n    }\n}\n</code></pre>\n<p>My controller</p>\n<pre><code>package application;\n\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.ResourceBundle;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Text;\n\npublic class PlayerController implements Initializable{\n    \n    @FXML\n    private ImageView player;\n    private Player playerComponent;\n    \n    @FXML private AnchorPane scene;\n    \n    private double x = 0;\n    private double y = 0;\n    private int scoreCounter = 0;\n    \n    @FXML private int lives;\n    @FXML private Text score;\n    \n    @FXML private Rectangle Bed;\n    @FXML private Rectangle Plant;\n    @FXML private Rectangle Shelf1;\n    @FXML private Rectangle Shelf2;\n    @FXML private Rectangle Box1;\n    @FXML private Rectangle Box2;\n    @FXML private Rectangle Box3;\n    @FXML private Rectangle Box4;\n    @FXML private Rectangle Cabinet1;\n    @FXML private Rectangle TVset;\n    @FXML private Rectangle chair1;\n    @FXML private Rectangle chair2;\n    @FXML private Rectangle Table1;\n    @FXML private Rectangle Desk1;\n    @FXML private Rectangle Desk2;\n    @FXML private Rectangle Box5;\n    @FXML private Rectangle Box6;\n    @FXML private Rectangle Cabinet2;\n    @FXML private Rectangle RightWall;\n    @FXML private Rectangle TopWall;\n    @FXML private Rectangle LeftWall;\n    @FXML private Rectangle BottomWall;\n    \n    @FXML private ImageView breakable1;\n    @FXML private ImageView breakable2;\n    @FXML private ImageView breakable3;\n    @FXML private ImageView breakable4;\n    @FXML private ImageView breakable5;\n    @FXML private ImageView breakable6;\n    @FXML private ImageView breakable7;\n    @FXML private ImageView breakable8;\n    @FXML private ImageView breakable9;\n    @FXML private ImageView breakable10;\n    @FXML private ImageView breakable11;\n    @FXML private ImageView breakable12;\n    @FXML private ImageView breakable13;\n    @FXML private ImageView breakable14;\n    @FXML private ImageView breakable15;\n    @FXML private ImageView breakable16;\n    @FXML private ImageView breakable17;\n    @FXML private ImageView breakable18;\n    @FXML private ImageView breakable19;\n    @FXML private ImageView breakable20;\n    @FXML private ImageView breakable21;\n    @FXML private ImageView breakable22;\n    @FXML private ImageView breakable23;\n    @FXML private ImageView breakable24;\n    \n    @FXML private ImageView Enemy1;\n    private Enemy enemy1Component;\n\n    private ArrayList&lt;Rectangle&gt; unbreakableObjects = new ArrayList&lt;&gt;();\n    private ArrayList&lt;ImageView&gt; breakableObjects = new ArrayList&lt;&gt;();\n    \n    CollisionHandler collisionHandler = new CollisionHandler();\n    \n    AnimationTimer gameLoop;\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        playerComponent = new Player(player, x, y, lives, scoreCounter, this);\n        enemy1Component = new Enemy(Enemy1, x, y, this);\n        \n        gameLoop = new AnimationTimer() {\n\n            @Override\n            public void handle(long arg0) {\n                playerComponent.makeMovable(player, scene, unbreakableObjects);\n                enemy1Component.moveEnemy(Enemy1, scene, unbreakableObjects);\n            }   \n        };\n        \n        gameLoop.start();\n        \n        // add the unbreakable objects\n        unbreakableObjects.add(Bed);\n        unbreakableObjects.add(Cabinet1);\n        unbreakableObjects.add(Shelf1);\n        unbreakableObjects.add(Shelf2);\n        unbreakableObjects.add(Box1);\n        unbreakableObjects.add(Box2);\n        unbreakableObjects.add(Box3);\n        unbreakableObjects.add(Box4);\n        unbreakableObjects.add(Plant);\n        unbreakableObjects.add(TVset);\n        unbreakableObjects.add(chair1);\n        unbreakableObjects.add(chair2);\n        unbreakableObjects.add(Table1);\n        unbreakableObjects.add(Desk1);\n        unbreakableObjects.add(Desk2);\n        unbreakableObjects.add(Box5);\n        unbreakableObjects.add(Box6);\n        unbreakableObjects.add(Cabinet2);\n        unbreakableObjects.add(RightWall);\n        unbreakableObjects.add(TopWall);\n        unbreakableObjects.add(LeftWall);\n        unbreakableObjects.add(BottomWall);\n        \n        // add the breakable objects\n        breakableObjects.add(breakable1);\n        breakableObjects.add(breakable2);\n        breakableObjects.add(breakable3);\n        breakableObjects.add(breakable4);\n        breakableObjects.add(breakable5);\n        breakableObjects.add(breakable6);\n        breakableObjects.add(breakable7);\n        breakableObjects.add(breakable8);\n        breakableObjects.add(breakable9);\n        breakableObjects.add(breakable10);\n        breakableObjects.add(breakable11);\n        breakableObjects.add(breakable12);\n        breakableObjects.add(breakable13);\n        breakableObjects.add(breakable14);\n        breakableObjects.add(breakable15);\n        breakableObjects.add(breakable16);\n        breakableObjects.add(breakable17);\n        breakableObjects.add(breakable18);\n        breakableObjects.add(breakable19);\n        breakableObjects.add(breakable20);\n        breakableObjects.add(breakable21);\n        breakableObjects.add(breakable22);\n        breakableObjects.add(breakable23);\n        breakableObjects.add(breakable24);\n    }\n    \n    public void checkCollision(double currentX, double currentY) {\n        if (collisionHandler.checkCollisionUnbreakables(player, unbreakableObjects)) {\n            player.setLayoutX(currentX);\n            player.setLayoutY(currentY);\n        }\n        \n        if (collisionHandler.checkCollisionBreakables(player, breakableObjects) ) {\n            player.setLayoutX(currentX);\n            player.setLayoutY(currentY);\n            pointChecker();\n        }   \n    }\n    \n    public void checkEnemyCollision(double currentX, double currentY) {\n        if (collisionHandler.checkCollisionUnbreakables(Enemy1, unbreakableObjects)) {\n            Enemy1.setLayoutX(currentX);\n            Enemy1.setLayoutY(currentY);\n        }\n        \n        if (collisionHandler.checkCollisionBreakables(Enemy1, breakableObjects)) {\n            Enemy1.setLayoutX(currentX);\n            Enemy1.setLayoutY(currentY);\n        }\n    }\n    \n    private void pointChecker() {\n        playerComponent.incrementScore();       score.setText(String.valueOf(playerComponent.getScore()));\n        System.out.println(&quot;PLAYER SCORE: &quot; + playerComponent.getScore());\n    }   \n}\n</code></pre>\n<p>I tried using Boolean flags to change direction upon collision, but it just doesn't move when it detects a collision.</p>\n"},{"tags":["java","spring","spring-boot","rest","backend"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702140972,"post_id":77632087,"comment_id":136861687,"body_markdown":"What about package structure, could you share it ?","body":"What about package structure, could you share it ?"},{"owner":{"account_id":27989213,"reputation":1,"user_id":21375429,"display_name":"ng17"},"score":0,"creation_date":1702141786,"post_id":77632087,"comment_id":136861799,"body_markdown":"@AndreiLisa sure, just edited the post!","body":"@AndreiLisa sure, just edited the post!"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702142000,"post_id":77632087,"comment_id":136861817,"body_markdown":"Yes the problem is that your main class couldn’t scan this repository. Can you declare new one in the same packages as working one ?","body":"Yes the problem is that your main class couldn’t scan this repository. Can you declare new one in the same packages as working one ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702142029,"post_id":77632087,"comment_id":136861821,"body_markdown":"Also what about version of spring boot that you are using ?","body":"Also what about version of spring boot that you are using ?"},{"owner":{"account_id":27989213,"reputation":1,"user_id":21375429,"display_name":"ng17"},"score":0,"creation_date":1702143914,"post_id":77632087,"comment_id":136862020,"body_markdown":"@AndreiLisa hmm, but there are other packages at the same level that also have services and repositories and they work? I added a collapsed package structure picture to demonstrate. It looks like we are using spring boot version 3.1.6.","body":"@AndreiLisa hmm, but there are other packages at the same level that also have services and repositories and they work? I added a collapsed package structure picture to demonstrate. It looks like we are using spring boot version 3.1.6."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702144155,"post_id":77632087,"comment_id":136862044,"body_markdown":"What about annotations from entities is imported from `javax` or `jakarta`? Be sure that it is from Jakarta, I mean annotations like `@Id` from persistence api","body":"What about annotations from entities is imported from <code>javax</code> or <code>jakarta</code>? Be sure that it is from Jakarta, I mean annotations like <code>@Id</code> from persistence api"},{"owner":{"account_id":27989213,"reputation":1,"user_id":21375429,"display_name":"ng17"},"score":0,"creation_date":1702145010,"post_id":77632087,"comment_id":136862161,"body_markdown":"@AndreiLisa `@Entity` and `@Id` annotation for both working and non-working entities is coming from jakarta.persistence","body":"@AndreiLisa <code>@Entity</code> and <code>@Id</code> annotation for both working and non-working entities is coming from jakarta.persistence"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702147079,"post_id":77632087,"comment_id":136862363,"body_markdown":"Just do exactly as working one it should fix the problem","body":"Just do exactly as working one it should fix the problem"},{"owner":{"account_id":27989213,"reputation":1,"user_id":21375429,"display_name":"ng17"},"score":0,"creation_date":1702153956,"post_id":77632087,"comment_id":136862998,"body_markdown":"@AndreiLisa but they are the same. What should I do differently in the non-working one?","body":"@AndreiLisa but they are the same. What should I do differently in the non-working one?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1702154142,"post_id":77632087,"comment_id":136863018,"body_markdown":"Post this code on github and I will be able to check and also to answer about it.","body":"Post this code on github and I will be able to check and also to answer about it."},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1702174043,"post_id":77632087,"comment_id":136864408,"body_markdown":"@ng17 in your application do you have any configuration file with `@EnableJpaRepositories` annotation?","body":"@ng17 in your application do you have any configuration file with <code>@EnableJpaRepositories</code> annotation?"},{"owner":{"account_id":27989213,"reputation":1,"user_id":21375429,"display_name":"ng17"},"score":0,"creation_date":1702272792,"post_id":77632087,"comment_id":136871726,"body_markdown":"@kcsurapaneni yes I do! Do you think this might have something to do with it?","body":"@kcsurapaneni yes I do! Do you think this might have something to do with it?"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1702314491,"post_id":77632087,"comment_id":136878389,"body_markdown":"@ng17 yes, please check my answer","body":"@ng17 yes, please check my answer"}],"answers":[{"tags":[],"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702314461,"creation_date":1702314461,"answer_id":77641242,"question_id":77632087,"body_markdown":"If a repository interface is located outside the specified `basePackages` or its sub-packages in the `@EnableJpaRepositories` annotation, Spring Data JPA won&#39;t be able to discover and manage that repository. The `basePackages` attribute determines the root package(s) for scanning repository interfaces.\r\n\r\nFor instance, consider the following configuration:\r\n\r\n```java\r\n@Configuration\r\n@EnableJpaRepositories(basePackages = &quot;com.example.repository&quot;)\r\npublic class JpaConfig {\r\n    // Additional configuration can be added here\r\n}\r\n```\r\n\r\nIn this setup, Spring Data JPA scans the &quot;com.example.repository&quot; package and its sub-packages for repository interfaces. If a repository interface is in a different package, say `com.example.other`, it won&#39;t be discovered:\r\n\r\n```java\r\n// This repository won&#39;t be discovered if outside &quot;com.example.repository&quot; and its sub-packages\r\npackage com.example.other;\r\n\r\npublic interface OtherRepository extends JpaRepository&lt;OtherEntity, Long&gt; {\r\n    // ...\r\n}\r\n```\r\n\r\nTo ensure that all relevant repository interfaces are discovered, move the interface to a package within or under the specified `basePackages`. \r\n\r\nAlternatively, you can use the `basePackageClasses` attribute of `@EnableJpaRepositories`:\r\n\r\n```java\r\n@Configuration\r\n@EnableJpaRepositories(basePackageClasses = {RepositoryMarkerClass.class})\r\npublic class JpaConfig {\r\n    // Additional configuration can be added here\r\n}\r\n```\r\n\r\nHere, `RepositoryMarkerClass` is a marker class in the `com.example.repository` package, and Spring Data JPA uses its package for repository scanning:\r\n\r\n```java\r\npackage com.example.repository;\r\n\r\npublic final class RepositoryMarkerClass {\r\n    private RepositoryMarkerClass() {\r\n        // Private constructor to prevent instantiation\r\n    }\r\n}\r\n```\r\n\r\nThis ensures that all repository interfaces, even those outside the `basePackages`, are discovered and managed by Spring Data JPA.","title":"Application fails to start - Parameter 0 of constructor in &#39;service&#39; required a bean of type &#39;repository&#39; that could not be found","body":"<p>If a repository interface is located outside the specified <code>basePackages</code> or its sub-packages in the <code>@EnableJpaRepositories</code> annotation, Spring Data JPA won't be able to discover and manage that repository. The <code>basePackages</code> attribute determines the root package(s) for scanning repository interfaces.</p>\n<p>For instance, consider the following configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.example.repository&quot;)\npublic class JpaConfig {\n    // Additional configuration can be added here\n}\n</code></pre>\n<p>In this setup, Spring Data JPA scans the &quot;com.example.repository&quot; package and its sub-packages for repository interfaces. If a repository interface is in a different package, say <code>com.example.other</code>, it won't be discovered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This repository won't be discovered if outside &quot;com.example.repository&quot; and its sub-packages\npackage com.example.other;\n\npublic interface OtherRepository extends JpaRepository&lt;OtherEntity, Long&gt; {\n    // ...\n}\n</code></pre>\n<p>To ensure that all relevant repository interfaces are discovered, move the interface to a package within or under the specified <code>basePackages</code>.</p>\n<p>Alternatively, you can use the <code>basePackageClasses</code> attribute of <code>@EnableJpaRepositories</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJpaRepositories(basePackageClasses = {RepositoryMarkerClass.class})\npublic class JpaConfig {\n    // Additional configuration can be added here\n}\n</code></pre>\n<p>Here, <code>RepositoryMarkerClass</code> is a marker class in the <code>com.example.repository</code> package, and Spring Data JPA uses its package for repository scanning:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.repository;\n\npublic final class RepositoryMarkerClass {\n    private RepositoryMarkerClass() {\n        // Private constructor to prevent instantiation\n    }\n}\n</code></pre>\n<p>This ensures that all repository interfaces, even those outside the <code>basePackages</code>, are discovered and managed by Spring Data JPA.</p>\n"}],"owner":{"account_id":27989213,"reputation":1,"user_id":21375429,"display_name":"ng17"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702314461,"creation_date":1702140886,"question_id":77632087,"body_markdown":"Working on an application that uses Java / Spring Boot. We have two repos, an app and a &quot;microservice.&quot; Running both works fine in a local environment. In staging, I get an\r\n\r\n`org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://&lt;microservice&gt;:8080/api/v1/&lt;placeholder&gt;&quot;: Connection refused`\r\n\r\nwhen the app is trying to make a call to the microservice.\r\n\r\nLooking at microservice logs, I see the following:\r\n\r\n```\r\nError creating bean with name &#39;service&#39; defined in URL [jar:file:/workspace/&lt;repository&gt;/lib/&lt;repository&gt;-plain.jar!&lt;service&gt;.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;repository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\nAnd\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in &lt;service&gt; required a bean of type &lt;repository&gt; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &lt;repository&gt; in your configuration.\r\n```\r\n\r\nThe problem is, I cannot figure out 1) why the app starts up fine in a local environment but not staging, 2) what is causing the &quot;required a bean of type&quot; issue. I have other service/repo connections defined the same exact way that work fine. Code examples below:\r\n\r\nService that does not work:\r\n\r\n```\r\n@Service\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class NotWorkingService {\r\n    private NotWorkingRepository repository;\r\n```\r\n\r\nRepository that does not work:\r\n\r\n```\r\npublic interface NotWorkingRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n\r\n    public List&lt;Entity&gt; findAllByName(String name);\r\n}\r\n```\r\n\r\nHere&#39;s a service that does work:\r\n\r\n```\r\n@Service\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class WorkingService {\r\n\r\n    private WorkingRepository repository;\r\n```\r\n\r\nAnd its repository:\r\n\r\n```\r\npublic interface WorkingRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n\r\n    Optional&lt;Entity&gt; findBySerialNumber(String serialNumber);\r\n```\r\n\r\nThey look exactly the same so I am baffled as to what is the problem.\r\n\r\nI have looked at multiple existing questions but none of the answers seem to apply. I shouldn&#39;t need @Repository because I already have `extends JpaRepository`, I don&#39;t have anything @Autowired in either the working one or the not-working one, I have the @Service annotation, the directory structure is correct, I only see one application .jar file.\r\n\r\nI&#39;d appreciate any ideas here.\r\n\r\nHere is the package structure (I can&#39;t share names of files, but the upper open directory is the working one and the lower one is the non-working one. The bottom file is the @SpringBootApplication:\r\n\r\n[package structure][1]\r\n\r\nThe only difference I can see is the BaseInterface file? This is the contents:\r\n\r\n```\r\npublic interface BaseInterface {\r\n    // This class functions as a basePackageClass reference for AppJpaConfiguration\r\n}\r\n```\r\nMaybe this is related to the problem? But, other working service/repository connections in the app don&#39;t have a BaseInterface.\r\n\r\nHere is a collapsed version of the file structure:\r\n\r\n[collapsed package structure][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lbvLR.png\r\n  [2]: https://i.stack.imgur.com/ZlfRU.png","title":"Application fails to start - Parameter 0 of constructor in &#39;service&#39; required a bean of type &#39;repository&#39; that could not be found","body":"<p>Working on an application that uses Java / Spring Boot. We have two repos, an app and a &quot;microservice.&quot; Running both works fine in a local environment. In staging, I get an</p>\n<p><code>org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://&lt;microservice&gt;:8080/api/v1/&lt;placeholder&gt;&quot;: Connection refused</code></p>\n<p>when the app is trying to make a call to the microservice.</p>\n<p>Looking at microservice logs, I see the following:</p>\n<pre><code>Error creating bean with name 'service' defined in URL [jar:file:/workspace/&lt;repository&gt;/lib/&lt;repository&gt;-plain.jar!&lt;service&gt;.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'repository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>And</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in &lt;service&gt; required a bean of type &lt;repository&gt; that could not be found.\n\n\nAction:\n\nConsider defining a bean of type &lt;repository&gt; in your configuration.\n</code></pre>\n<p>The problem is, I cannot figure out 1) why the app starts up fine in a local environment but not staging, 2) what is causing the &quot;required a bean of type&quot; issue. I have other service/repo connections defined the same exact way that work fine. Code examples below:</p>\n<p>Service that does not work:</p>\n<pre><code>@Service\n@Slf4j\n@AllArgsConstructor\npublic class NotWorkingService {\n    private NotWorkingRepository repository;\n</code></pre>\n<p>Repository that does not work:</p>\n<pre><code>public interface NotWorkingRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n    public List&lt;Entity&gt; findAllByName(String name);\n}\n</code></pre>\n<p>Here's a service that does work:</p>\n<pre><code>@Service\n@Slf4j\n@AllArgsConstructor\npublic class WorkingService {\n\n    private WorkingRepository repository;\n</code></pre>\n<p>And its repository:</p>\n<pre><code>public interface WorkingRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n    Optional&lt;Entity&gt; findBySerialNumber(String serialNumber);\n</code></pre>\n<p>They look exactly the same so I am baffled as to what is the problem.</p>\n<p>I have looked at multiple existing questions but none of the answers seem to apply. I shouldn't need @Repository because I already have <code>extends JpaRepository</code>, I don't have anything @Autowired in either the working one or the not-working one, I have the @Service annotation, the directory structure is correct, I only see one application .jar file.</p>\n<p>I'd appreciate any ideas here.</p>\n<p>Here is the package structure (I can't share names of files, but the upper open directory is the working one and the lower one is the non-working one. The bottom file is the @SpringBootApplication:</p>\n<p><a href=\"https://i.stack.imgur.com/lbvLR.png\" rel=\"nofollow noreferrer\">package structure</a></p>\n<p>The only difference I can see is the BaseInterface file? This is the contents:</p>\n<pre><code>public interface BaseInterface {\n    // This class functions as a basePackageClass reference for AppJpaConfiguration\n}\n</code></pre>\n<p>Maybe this is related to the problem? But, other working service/repository connections in the app don't have a BaseInterface.</p>\n<p>Here is a collapsed version of the file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/ZlfRU.png\" rel=\"nofollow noreferrer\">collapsed package structure</a></p>\n"},{"tags":["java","spring","spring-boot","spring-rest"],"answers":[{"comments":[{"owner":{"account_id":5195840,"reputation":53,"user_id":4750686,"accept_rate":80,"display_name":"Dhaval P"},"score":0,"creation_date":1585647055,"post_id":60947253,"comment_id":107827542,"body_markdown":"Any link for sample on how to use Future? i saw Something like FutureComplete .","body":"Any link for sample on how to use Future? i saw Something like FutureComplete ."},{"owner":{"account_id":5195840,"reputation":53,"user_id":4750686,"accept_rate":80,"display_name":"Dhaval P"},"score":0,"creation_date":1585648352,"post_id":60947253,"comment_id":107828179,"body_markdown":"For this to work i will have to change JAVA client method  `public void onSuccess`  to return Future instance instead of void right?","body":"For this to work i will have to change JAVA client method  <code>public void onSuccess</code>  to return Future instance instead of void right?"},{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":0,"creation_date":1585648860,"post_id":60947253,"comment_id":107828408,"body_markdown":"@DhavalP If you are returning void , it means you are not returning any results to the controller. If you want the controller to wait for a result then you should change it.","body":"@DhavalP If you are returning void , it means you are not returning any results to the controller. If you want the controller to wait for a result then you should change it."}],"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585647811,"creation_date":1585646613,"answer_id":60947253,"question_id":60946866,"body_markdown":"In your code , the method that you are calling asynchronously is a void method, meaning it won&#39;t return anything.In Spring, annotating a method of a bean with `@Async` will make it execute in a separate thread i.e. the caller will not wait for the completion of the called method. \r\n\r\nSo , if you want the controller to wait till the execution is completed, If you want to wait for the result I suggest you use `Future`. You could take the approach where you wrap the actual return in the `Future` instance.I haven&#39;t tried compiling this code , but something like below :\r\n\r\n    @Async\r\n    public Future&lt;T&gt; initializeUser(InitRequest initRequest) {\r\n    \r\n        String BASE_URL = &quot;http://sample_url&quot;;\r\n    \r\n        client.initUser(BASE_URL, initRequest, new ResponseCallback&lt;InitRequest&gt;() {\r\n    \r\n            @Override\r\n            public void onSuccess(@NonNull InitRequest arg0) {\r\n                return new AsyncResult&lt;InitRequest&gt;(arg0);\r\n                System.out.println(&quot;User Initialized: &quot; + arg0.getId());\r\n            }\r\n    \r\n            @Override\r\n            public void onError(@NonNull ResponseBody error) { \r\n                return new AsyncResult&lt;ResponseBody&gt;(error);\r\n                System.out.println(&quot;User Initialize failed&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void validationError(@NonNull String arg0) {\r\n                 return new AsyncResult&lt;String&gt;(arg0);\r\n                // TODO Auto-generated method stub\r\n    \r\n            }\r\n        });\r\n    }\r\n\r\nand in the rest controller to receive this :\r\n\r\n    @RequestMapping(method=RequestMethod.POST, value = &quot;/init&quot; )\r\n    public InitRequest initUser( @RequestBody InitRequest initRequest) {\r\n      Future&lt;T&gt; futureResult = experimentServices.initializeUser(initRequest);\r\n      // wait for request to finish and send response to user\r\n      if (futureResult.isDone()) {\r\n          return futureResult.get();\r\n      }\r\n    }","title":"Spring boot return a response from callback in services","body":"<p>In your code , the method that you are calling asynchronously is a void method, meaning it won't return anything.In Spring, annotating a method of a bean with <code>@Async</code> will make it execute in a separate thread i.e. the caller will not wait for the completion of the called method. </p>\n\n<p>So , if you want the controller to wait till the execution is completed, If you want to wait for the result I suggest you use <code>Future</code>. You could take the approach where you wrap the actual return in the <code>Future</code> instance.I haven't tried compiling this code , but something like below :</p>\n\n<pre><code>@Async\npublic Future&lt;T&gt; initializeUser(InitRequest initRequest) {\n\n    String BASE_URL = \"http://sample_url\";\n\n    client.initUser(BASE_URL, initRequest, new ResponseCallback&lt;InitRequest&gt;() {\n\n        @Override\n        public void onSuccess(@NonNull InitRequest arg0) {\n            return new AsyncResult&lt;InitRequest&gt;(arg0);\n            System.out.println(\"User Initialized: \" + arg0.getId());\n        }\n\n        @Override\n        public void onError(@NonNull ResponseBody error) { \n            return new AsyncResult&lt;ResponseBody&gt;(error);\n            System.out.println(\"User Initialize failed\");\n        }\n\n        @Override\n        public void validationError(@NonNull String arg0) {\n             return new AsyncResult&lt;String&gt;(arg0);\n            // TODO Auto-generated method stub\n\n        }\n    });\n}\n</code></pre>\n\n<p>and in the rest controller to receive this :</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.POST, value = \"/init\" )\npublic InitRequest initUser( @RequestBody InitRequest initRequest) {\n  Future&lt;T&gt; futureResult = experimentServices.initializeUser(initRequest);\n  // wait for request to finish and send response to user\n  if (futureResult.isDone()) {\n      return futureResult.get();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636556906,"creation_date":1636551146,"answer_id":69914196,"question_id":60946866,"body_markdown":"Best way to do is to avoid busy waiting on server, so use DeferredResult:\r\n\r\n    private ExecutorService executor = ....\r\n\r\n    @RequestMapping(method=RequestMethod.POST, value = &quot;/init&quot; )\r\n    public DeferredResult&lt;ResponseEntity&lt;InitResponse&gt;&gt; initUser(@RequestBody InitRequest initRequest) {\r\n        final DeferredResult&lt;ResponseEntity&lt;InitResponse&gt;&gt; output = new DeferredResult&lt;&gt;(5000L, 5000L);\r\n        executor.submit(() -&gt; {\r\n            InitResponse response = processAndcreateRespnse(...);\r\n            output.setResult(new ResponseEntity&lt;&gt;(response, HttpStatus.OK));\r\n        });\r\n\r\n        return output;\r\n    }\r\n","title":"Spring boot return a response from callback in services","body":"<p>Best way to do is to avoid busy waiting on server, so use DeferredResult:</p>\n<pre><code>private ExecutorService executor = ....\n\n@RequestMapping(method=RequestMethod.POST, value = &quot;/init&quot; )\npublic DeferredResult&lt;ResponseEntity&lt;InitResponse&gt;&gt; initUser(@RequestBody InitRequest initRequest) {\n    final DeferredResult&lt;ResponseEntity&lt;InitResponse&gt;&gt; output = new DeferredResult&lt;&gt;(5000L, 5000L);\n    executor.submit(() -&gt; {\n        InitResponse response = processAndcreateRespnse(...);\n        output.setResult(new ResponseEntity&lt;&gt;(response, HttpStatus.OK));\n    });\n\n    return output;\n}\n</code></pre>\n"}],"owner":{"account_id":5195840,"reputation":53,"user_id":4750686,"accept_rate":80,"display_name":"Dhaval P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702314120,"creation_date":1585645285,"question_id":60946866,"body_markdown":"I am trying to develop sample Rest API application using Spring boot to test my java client library (Which is a conversion of a JS Client). Java client does some async tasks and returns response as callback.\r\n\r\nHere is example of how i am calling it from my sample application&#39;s service.\r\n\r\n    @Async\r\n    public void initializeUser(InitRequest initRequest) {\r\n\t\r\n\t\tString BASE_URL = &quot;http://sample_url&quot;;\r\n\r\n\t\tclient.initUser(BASE_URL, initRequest, new ResponseCallback&lt;InitRequest&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess(@NonNull InitRequest arg0) {\r\n                // Return arg0 to controller\r\n\t\t\t\tSystem.out.println(&quot;User Initialized: &quot; + arg0.getId());\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(@NonNull ResponseBody error) { \r\n                // Return error to controller\r\n\t\t\t\tSystem.out.println(&quot;User Initialize failed&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void validationError(@NonNull String arg0) {\r\n                 // return validationError to controller\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n\r\nHere initUser is method implemented in my client. When i call this method from my controller. controller returns before actual request is finished and i am not able to see any response in postman.\r\n\r\nHere is a controller method.\r\n\r\n\t\r\n\r\n    @RequestMapping(method=RequestMethod.POST, value = &quot;/init&quot; )\r\n    public void initUser( @RequestBody InitRequest initRequest) {\r\n    \texperimentServices.initializeUser(initRequest);\r\n        // wait for request to finish and send response to user\r\n    }\r\n\r\n\r\nLike in javascript i can use promises or async/await to wait till the services gives response before returning to user.\r\n\r\nI wanted to know.....\r\n\r\n1) How to achieve something similar in Java? (Services returns some data to controller which then goes as a response to end user).\r\n\r\n2) Java methods needs specific return response while services might gives Error, ValidationError or Successfull response object. Is there a way to properly handle all this in a single function?\r\n\r\n\r\nAny links or documentation will help. \r\nThanks \r\n","title":"Spring boot return a response from callback in services","body":"<p>I am trying to develop sample Rest API application using Spring boot to test my java client library (Which is a conversion of a JS Client). Java client does some async tasks and returns response as callback.</p>\n\n<p>Here is example of how i am calling it from my sample application's service.</p>\n\n<pre><code>@Async\npublic void initializeUser(InitRequest initRequest) {\n\n    String BASE_URL = \"http://sample_url\";\n\n    client.initUser(BASE_URL, initRequest, new ResponseCallback&lt;InitRequest&gt;() {\n\n        @Override\n        public void onSuccess(@NonNull InitRequest arg0) {\n            // Return arg0 to controller\n            System.out.println(\"User Initialized: \" + arg0.getId());\n        }\n\n        @Override\n        public void onError(@NonNull ResponseBody error) { \n            // Return error to controller\n            System.out.println(\"User Initialize failed\");\n        }\n\n        @Override\n        public void validationError(@NonNull String arg0) {\n             // return validationError to controller\n            // TODO Auto-generated method stub\n\n        }\n    });\n}\n</code></pre>\n\n<p>Here initUser is method implemented in my client. When i call this method from my controller. controller returns before actual request is finished and i am not able to see any response in postman.</p>\n\n<p>Here is a controller method.</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.POST, value = \"/init\" )\npublic void initUser( @RequestBody InitRequest initRequest) {\n    experimentServices.initializeUser(initRequest);\n    // wait for request to finish and send response to user\n}\n</code></pre>\n\n<p>Like in javascript i can use promises or async/await to wait till the services gives response before returning to user.</p>\n\n<p>I wanted to know.....</p>\n\n<p>1) How to achieve something similar in Java? (Services returns some data to controller which then goes as a response to end user).</p>\n\n<p>2) Java methods needs specific return response while services might gives Error, ValidationError or Successfull response object. Is there a way to properly handle all this in a single function?</p>\n\n<p>Any links or documentation will help. \nThanks </p>\n"},{"tags":["java","assembly","binary","numbers"],"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1702248808,"post_id":77636723,"comment_id":136870038,"body_markdown":"If there aren&#39;t that many different formats (numbers of operands and allowed positions of immediates), you could just support 3 different ones and dispatch according to the instruction mnemonic.  You already have a `switch` on the mnemonics, so you could set a variable to one of three values. (Does Java have `enum`?  That would be appropriate.)","body":"If there aren&#39;t that many different formats (numbers of operands and allowed positions of immediates), you could just support 3 different ones and dispatch according to the instruction mnemonic.  You already have a <code>switch</code> on the mnemonics, so you could set a variable to one of three values. (Does Java have <code>enum</code>?  That would be appropriate.)"},{"owner":{"account_id":216101,"reputation":24334,"user_id":471129,"display_name":"Erik Eidt"},"score":1,"creation_date":1702252308,"post_id":77636723,"comment_id":136870330,"body_markdown":"That code is specifically only looking for constants in the 4th or greater argument position, so if you want something different then change the code.  One way is to set a flag or marker based on the opcode, while another is to finish parsing the line customized for each opcode, both of these use information about the opcode to allow/disallow further argument counts and kinds.","body":"That code is specifically only looking for constants in the 4th or greater argument position, so if you want something different then change the code.  One way is to set a flag or marker based on the opcode, while another is to finish parsing the line customized for each opcode, both of these use information about the opcode to allow/disallow further argument counts and kinds."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1702307671,"post_id":77636723,"comment_id":136877101,"body_markdown":"Don&#39;t vandalize your question; the original question has an answer that might be useful to future readers, which Erik spent some effort writing.  (And it has your code which might also be useful to some future readers, and which is necessary context for the answer.)  If you have a different question, post a new question.  (But the final form after your edit, https://stackoverflow.com/revisions/77636723/3 , is not a useful question. Don&#39;t post that.  Nobody knows what you mean because you didn&#39;t show an example of the input and output you wanted to handle.","body":"Don&#39;t vandalize your question; the original question has an answer that might be useful to future readers, which Erik spent some effort writing.  (And it has your code which might also be useful to some future readers, and which is necessary context for the answer.)  If you have a different question, post a new question.  (But the final form after your edit, <a href=\"https://stackoverflow.com/revisions/77636723/3\">stackoverflow.com/revisions/77636723/3</a> , is not a useful question. Don&#39;t post that.  Nobody knows what you mean because you didn&#39;t show an example of the input and output you wanted to handle."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1702314857,"post_id":77636723,"comment_id":136878441,"body_markdown":"This still looks like a different question than the one Erik&#39;s answer was answering.  Post a new question (you can include a link to this one to let people know it&#39;s a follow-up).  Also, it&#39;s still not exactly clear what you want the output to look like.  The whole instruction has to be 8 bits long, so you need to limit the range of immediate operands?  And the output is actually still a string of ASCII base-2 digits, not binary bytes?","body":"This still looks like a different question than the one Erik&#39;s answer was answering.  Post a new question (you can include a link to this one to let people know it&#39;s a follow-up).  Also, it&#39;s still not exactly clear what you want the output to look like.  The whole instruction has to be 8 bits long, so you need to limit the range of immediate operands?  And the output is actually still a string of ASCII base-2 digits, not binary bytes?"}],"answers":[{"tags":[],"owner":{"account_id":216101,"reputation":24334,"user_id":471129,"display_name":"Erik Eidt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702259732,"creation_date":1702259732,"answer_id":77637124,"question_id":77636723,"body_markdown":"Fundamentally, that code is throwing away valuable information.&amp;nbsp; After going to the work to determine the opcode, that determination is used solely to emit the opcode itself, but is not being used to inform how to handle the operands.\r\n\r\nTypically, an instruction set architecture has ***formats*** and each format has certain number and kind of operands that are allowed &amp;#8212; each instruction will take the shape of one of the formats.\r\n\r\nSo, what you can do is:\r\n\r\n* set a variable that indicates the format for that opcode, then handle the formats:\r\n\r\n```\r\n    if ( opcode == &quot;ADD&quot; ) { emit ( &quot;0000&quot; ); format = Three_operand; } break;\r\n    ...\r\n    switch ( format ) {\r\n    case Three_operand: ... break;\r\n    }\r\n```\r\n\r\n* handle each opcode to completion within your larger opcode detection statement:\r\n\r\n```\r\n    if ( opcode == &quot;ADD&quot; ) { emit ( &quot;0000&quot; ); handle3operands (); } break;\r\n\r\n    // nothing left to do here as common code is invoked by function call.\r\n```\r\n","title":"How to translate numbers to binary for assembly","body":"<p>Fundamentally, that code is throwing away valuable information.  After going to the work to determine the opcode, that determination is used solely to emit the opcode itself, but is not being used to inform how to handle the operands.</p>\n<p>Typically, an instruction set architecture has <em><strong>formats</strong></em> and each format has certain number and kind of operands that are allowed — each instruction will take the shape of one of the formats.</p>\n<p>So, what you can do is:</p>\n<ul>\n<li>set a variable that indicates the format for that opcode, then handle the formats:</li>\n</ul>\n<pre><code>    if ( opcode == &quot;ADD&quot; ) { emit ( &quot;0000&quot; ); format = Three_operand; } break;\n    ...\n    switch ( format ) {\n    case Three_operand: ... break;\n    }\n</code></pre>\n<ul>\n<li>handle each opcode to completion within your larger opcode detection statement:</li>\n</ul>\n<pre><code>    if ( opcode == &quot;ADD&quot; ) { emit ( &quot;0000&quot; ); handle3operands (); } break;\n\n    // nothing left to do here as common code is invoked by function call.\n</code></pre>\n"}],"owner":{"account_id":30114125,"reputation":1,"user_id":23077844,"display_name":"Brian Lawrence"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702314105,"creation_date":1702248449,"question_id":77636723,"body_markdown":"Could someone give me guidance on how to translate numbers into their binary equivalent from an instruction for an assembler? The numbers can range from 0 to 255 and need to be 8 bits long.\r\n\r\nHere is my method that performs the translation from instructions to their binary equivalent \r\n\r\n    ```\r\n    public void translateInstruction(String instruction) {\r\n            String[] parts = instruction.split(&quot;[\\\\s,]+&quot;);\r\n            System.err.println(Arrays.toString(parts));\r\n\r\n            if (parts.length &gt; 0) {\r\n                switch (parts[0]) {\r\n                    case &quot;LOADN&quot;:\r\n                        output.print(&quot;1111&quot;);\r\n                       break;\r\n                    case &quot;LOADA&quot;:\r\n                    output.print(&quot;1110&quot;);\r\n                    break;\r\n                    case &quot;ADD&quot;:\r\n                    output.print(&quot;1101&quot;);\r\n                    break;\r\n                    case &quot;SUB&quot;:\r\n                    output.print(&quot;1100&quot;);\r\n                    break;\r\n                    case &quot;JMP&quot;:\r\n                    output.print(&quot;1011&quot;);\r\n                    break;\r\n                    case &quot;COPY&quot;:\r\n                    output.print(&quot;1000&quot;);\r\n                    break;\r\n                    case &quot;STORE&quot;:\r\n                    output.print(&quot;1001&quot;);\r\n                    break;\r\n                 \r\n               }\r\n            }\r\n\r\n            if (parts.length &gt; 1) {\r\n                switch (parts[1]) {\r\n                    case &quot;A&quot;:\r\n                       output.print(&quot;01&quot;);\r\n                        break;\r\n                    case &quot;D&quot;:\r\n                        output.print(&quot;10&quot;);\r\n                        break;\r\n                    \r\n                }\r\n            } else {\r\n                 output.print(&quot;00&quot;);\r\n            }\r\n \r\n              if (parts.length &gt; 2) {\r\n                 switch (parts[2]) {\r\n                    case &quot;A&quot;:\r\n                         output.print(&quot;01&quot;);\r\n                        break;\r\n                   case &quot;D&quot;:\r\n                       output.print(&quot;10&quot;);\r\n                       break;\r\n                 \r\n               }\r\n           } else {\r\n                 output.print(&quot;00&quot;);\r\n            }\r\n\r\n            output.println();\r\n            if (parts.length &gt; 3) {\r\n                int number = Integer.parseInt(parts[3]);\r\n                String binary = String.format(&quot;%8s&quot;, Integer.toBinaryString(number)).replace(&#39; &#39;, &#39;0&#39;);\r\n                output.println(binary);\r\n            }\r\n       }\r\n    ```\r\n","title":"How to translate numbers to binary for assembly","body":"<p>Could someone give me guidance on how to translate numbers into their binary equivalent from an instruction for an assembler? The numbers can range from 0 to 255 and need to be 8 bits long.</p>\n<p>Here is my method that performs the translation from instructions to their binary equivalent</p>\n<pre><code>```\npublic void translateInstruction(String instruction) {\n        String[] parts = instruction.split(&quot;[\\\\s,]+&quot;);\n        System.err.println(Arrays.toString(parts));\n\n        if (parts.length &gt; 0) {\n            switch (parts[0]) {\n                case &quot;LOADN&quot;:\n                    output.print(&quot;1111&quot;);\n                   break;\n                case &quot;LOADA&quot;:\n                output.print(&quot;1110&quot;);\n                break;\n                case &quot;ADD&quot;:\n                output.print(&quot;1101&quot;);\n                break;\n                case &quot;SUB&quot;:\n                output.print(&quot;1100&quot;);\n                break;\n                case &quot;JMP&quot;:\n                output.print(&quot;1011&quot;);\n                break;\n                case &quot;COPY&quot;:\n                output.print(&quot;1000&quot;);\n                break;\n                case &quot;STORE&quot;:\n                output.print(&quot;1001&quot;);\n                break;\n             \n           }\n        }\n\n        if (parts.length &gt; 1) {\n            switch (parts[1]) {\n                case &quot;A&quot;:\n                   output.print(&quot;01&quot;);\n                    break;\n                case &quot;D&quot;:\n                    output.print(&quot;10&quot;);\n                    break;\n                \n            }\n        } else {\n             output.print(&quot;00&quot;);\n        }\n\n          if (parts.length &gt; 2) {\n             switch (parts[2]) {\n                case &quot;A&quot;:\n                     output.print(&quot;01&quot;);\n                    break;\n               case &quot;D&quot;:\n                   output.print(&quot;10&quot;);\n                   break;\n             \n           }\n       } else {\n             output.print(&quot;00&quot;);\n        }\n\n        output.println();\n        if (parts.length &gt; 3) {\n            int number = Integer.parseInt(parts[3]);\n            String binary = String.format(&quot;%8s&quot;, Integer.toBinaryString(number)).replace(' ', '0');\n            output.println(binary);\n        }\n   }\n```\n</code></pre>\n"},{"tags":["java","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1702311463,"post_id":77640904,"comment_id":136877833,"body_markdown":"Which is the version of plugin?","body":"Which is the version of plugin?"},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":2,"creation_date":1702311470,"post_id":77640904,"comment_id":136877834,"body_markdown":"It&#39;s asking you to have something like `@param someField a fancy field for some purpose` in your JavaDoc. Also, it&#39;s just a warning: it should still produce the output just fine.","body":"It&#39;s asking you to have something like <code>@param someField a fancy field for some purpose</code> in your JavaDoc. Also, it&#39;s just a warning: it should still produce the output just fine."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1702333811,"post_id":77640904,"comment_id":136881310,"body_markdown":"Why are you bothering with this?  The whole point of javadoc is to help other people understand what the class does.  Your automatically generated text will help no one.","body":"Why are you bothering with this?  The whole point of javadoc is to help other people understand what the class does.  Your automatically generated text will help no one."}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1702337430,"post_id":77641022,"comment_id":136881667,"body_markdown":"Thanks a lot @Giorgi Tsiklauri. Upvoted, accepted","body":"Thanks a lot @Giorgi Tsiklauri. Upvoted, accepted"}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1702313762,"creation_date":1702312331,"answer_id":77641022,"question_id":77640904,"body_markdown":"`@param`, in the Javadoc context, is called a Javadoc tag (sometimes referred to as JavaDoc block tags), and it is used for documenting what the particular parameter will be used of (i.e. what does it constitute in the domain). This has *nothing to do* with Spring&#39;s `@Param`.\r\n\r\nOracle [says, that](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html#principles):\r\n&gt;A doc comment is written in HTML and must precede a class, field, constructor or method declaration. It is made up of two parts -- a description followed by block tags.\r\n\r\nWith respect to `warning: no @param for someField`, it just says, that you don&#39;t have a description (which should be created by `@param`, in the JavaDoc) for the `someField` parameter.\r\n\r\nJust add:\r\n```java\r\n/**\r\n *\r\n * The type Some record.\r\n * @param someField here goes your description of someField\r\n */\r\npublic record SomeRecord(String someField) {\r\n}\r\n```\r\n---\r\nFinally, be aware, that `javadoc` tool will warn you about all the places where it expects some block tags but doesn&#39;t find them.","title":"warning: no @param for field in java 21 with javadoc","body":"<p><code>@param</code>, in the Javadoc context, is called a Javadoc tag (sometimes referred to as JavaDoc block tags), and it is used for documenting what the particular parameter will be used of (i.e. what does it constitute in the domain). This has <em>nothing to do</em> with Spring's <code>@Param</code>.</p>\n<p>Oracle <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html#principles\" rel=\"nofollow noreferrer\">says, that</a>:</p>\n<blockquote>\n<p>A doc comment is written in HTML and must precede a class, field, constructor or method declaration. It is made up of two parts -- a description followed by block tags.</p>\n</blockquote>\n<p>With respect to <code>warning: no @param for someField</code>, it just says, that you don't have a description (which should be created by <code>@param</code>, in the JavaDoc) for the <code>someField</code> parameter.</p>\n<p>Just add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n *\n * The type Some record.\n * @param someField here goes your description of someField\n */\npublic record SomeRecord(String someField) {\n}\n</code></pre>\n<hr />\n<p>Finally, be aware, that <code>javadoc</code> tool will warn you about all the places where it expects some block tags but doesn't find them.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77641022,"answer_count":1,"score":1,"last_activity_date":1702313762,"creation_date":1702311149,"question_id":77640904,"body_markdown":"- What I am trying to achieve:\r\n\r\nGenerate javadoc for very simple java 21 records.\r\n\r\n- What did I try:\r\n\r\nI have this straightforward record:\r\n\r\n```\r\n/**\r\n * The type Some record.\r\n */\r\npublic record SomeRecord(String someField) {\r\n}\r\n```\r\n\r\nand this pom:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;outputDirectory&gt;target/javadoc&lt;/outputDirectory&gt;\r\n        &lt;reportOutputDirectory&gt;target/javadoc&lt;/reportOutputDirectory&gt;\r\n        &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd I am running this maven command:\r\n\r\n```\r\nmvn clean install site -U javadoc:javadoc\r\n```\r\n\r\n- Issue:\r\n\r\nReproducible 100%, I get this:\r\n\r\n```\r\nSomeRecord.java:6: warning: no @param for someField\r\n[WARNING] public record SomeRecord(String someField) {\r\n[WARNING] ^\r\n```\r\n\r\n- Question:\r\n\r\nWhat is wrong with this code?\r\nWhat is this @param? I recall a @Param for Spring, but @param (lower case?)\r\nHow can I generate without the javadoc properly? ","title":"warning: no @param for field in java 21 with javadoc","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>Generate javadoc for very simple java 21 records.</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<p>I have this straightforward record:</p>\n<pre><code>/**\n * The type Some record.\n */\npublic record SomeRecord(String someField) {\n}\n</code></pre>\n<p>and this pom:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;target/javadoc&lt;/outputDirectory&gt;\n        &lt;reportOutputDirectory&gt;target/javadoc&lt;/reportOutputDirectory&gt;\n        &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And I am running this maven command:</p>\n<pre><code>mvn clean install site -U javadoc:javadoc\n</code></pre>\n<ul>\n<li>Issue:</li>\n</ul>\n<p>Reproducible 100%, I get this:</p>\n<pre><code>SomeRecord.java:6: warning: no @param for someField\n[WARNING] public record SomeRecord(String someField) {\n[WARNING] ^\n</code></pre>\n<ul>\n<li>Question:</li>\n</ul>\n<p>What is wrong with this code?\nWhat is this @param? I recall a @Param for Spring, but @param (lower case?)\nHow can I generate without the javadoc properly?</p>\n"},{"tags":["java","spring-security","vaadin","spring-3","spring-ldap"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1702317228,"post_id":77641140,"comment_id":136878798,"body_markdown":"Really, 3.5? Why not use recent, supported, secure, ... versions that have a tutorial https://vaadin.com/docs/latest/security/enabling-security ?","body":"Really, 3.5? Why not use recent, supported, secure, ... versions that have a tutorial <a href=\"https://vaadin.com/docs/latest/security/enabling-security\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/security/enabling-security</a> ?"}],"owner":{"account_id":19549700,"reputation":1,"user_id":14305638,"display_name":"Maryam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702313362,"creation_date":1702313362,"question_id":77641140,"body_markdown":"WebSecurityConfig for LDAP login. I have used Spring 3.5.x and vaadin 24. I want use vaadin not controller but how to replace. In vaadin clcik on button then login form open using LDAP. How to do that?\r\n```\r\npackage com.example.ldap_demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .anyRequest().fullyAuthenticated()\r\n                .and()\r\n                .formLogin();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n                .ldapAuthentication()\r\n                .userDnPatterns(&quot;uid={0},ou=people&quot;)\r\n                .groupSearchBase(&quot;ou=groups&quot;)\r\n                .contextSource()\r\n                .url(&quot;ldap://localhost:8389/dc=springframework,dc=org&quot;)\r\n                .and()\r\n                .passwordCompare()\r\n                .passwordEncoder(new BCryptPasswordEncoder())\r\n                .passwordAttribute(&quot;userPassword&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand controller here\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/ldap&quot;)\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/security&quot;)\r\n    public String index() {\r\n        return &quot;Welcome to the home page!&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nplease replce controller to vaadin. \r\n","title":"How to add LDAP login using Spring 3.5.x + Vaadin 24?","body":"<p>WebSecurityConfig for LDAP login. I have used Spring 3.5.x and vaadin 24. I want use vaadin not controller but how to replace. In vaadin clcik on button then login form open using LDAP. How to do that?</p>\n<pre><code>package com.example.ldap_demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .anyRequest().fullyAuthenticated()\n                .and()\n                .formLogin();\n\n        return http.build();\n    }\n\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .ldapAuthentication()\n                .userDnPatterns(&quot;uid={0},ou=people&quot;)\n                .groupSearchBase(&quot;ou=groups&quot;)\n                .contextSource()\n                .url(&quot;ldap://localhost:8389/dc=springframework,dc=org&quot;)\n                .and()\n                .passwordCompare()\n                .passwordEncoder(new BCryptPasswordEncoder())\n                .passwordAttribute(&quot;userPassword&quot;);\n    }\n\n}\n</code></pre>\n<p>and controller here</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/ldap&quot;)\npublic class HomeController {\n\n    @GetMapping(&quot;/security&quot;)\n    public String index() {\n        return &quot;Welcome to the home page!&quot;;\n    }\n\n}\n</code></pre>\n<p>please replce controller to vaadin.</p>\n"},{"tags":["java","database","sockets","tcp","io"],"owner":{"account_id":30120283,"reputation":1,"user_id":23082511,"display_name":"King Joko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702312771,"creation_date":1702312771,"question_id":77641073,"body_markdown":"So, I&#39;ve been working on this TCP Bank Application. The trouble starts right after successfully logging in. Once I&#39;m in, the app gives me these options (1-5), but when I try to update the password (option 5), everything just freezes up. It&#39;s like the app gets stuck and becomes totally unresponsive.\r\n\r\nI&#39;ve checked the code, and it seems that the freezing occurs when I&#39;m trying lodge money. There&#39;s this weird &quot;EOFException&quot; that shows up at line 140 in the Client class, mentioning a problem with the ObjectInputStream.\r\n\r\nI&#39;m pretty sure the freezing is linked to how the client and server communicate during the lodgement  process. I&#39;ve looked into both sides of the code, but I can&#39;t quite figure out what&#39;s causing this freeze. Adding to that, I&#39;ve tried some error handling and logging, but I&#39;m still stuck.\r\n\r\nAny help or ideas on how to get past this freezing issue after login would be a huge help. Thanks a bunch!\r\n\r\n&gt; So, after logging into my TCP Bank Application, I wanted to update my password (that&#39;s option 1). But instead of smoothly changing the password, the whole thing just freezes up. I expected the lodgement to work seamlessly, but instead, the app becomes unresponsive.\r\n&gt;\r\n&gt; I&#39;ve dug into the code, checked the communication between the client and server during the password update, and even added some error handling and logging to track what&#39;s going on. However, despite all that, the freezing still happens every time I click 1\r\n\r\n&gt; It&#39;s quite puzzling, and I&#39;m a bit stuck here. Any insights or guidance to resolve this freezing problem post-login would be really appreciated! Thanks a bunch for any help you can provide.\r\n\r\n&gt; Here&#39;s what I tried \r\n\r\n&gt; Client\r\n\r\n```\r\npackage TCP;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n    private static final String SERVER_IP = &quot;127.0.0.1&quot;;\r\n    private static final int SERVER_PORT = 8888;\r\n\r\n    public static void main(String[] args) {\r\n        try (Socket socket = new Socket(SERVER_IP, SERVER_PORT);\r\n             ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\r\n             ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\r\n             Scanner scanner = new Scanner(System.in)) {\r\n\r\n            boolean loggedIn = false;\r\n            String userId = &quot;&quot;; // Store logged-in user ID\r\n\r\n            while (true) {\r\n                if (!loggedIn) {\r\n                    System.out.println(&quot;Welcome! Choose an option:&quot;);\r\n                    System.out.println(&quot;1. Register an account&quot;);\r\n                    System.out.println(&quot;2. Login&quot;);\r\n\r\n                    int choice = scanner.nextInt();\r\n                    scanner.nextLine(); // Consume newline\r\n\r\n                    if (choice == 1) {\r\n                        // Registration\r\n                        System.out.print(&quot;Enter PPSN: &quot;);\r\n                        String id = scanner.nextLine();\r\n                        System.out.print(&quot;Enter Name: &quot;);\r\n                        String name = scanner.nextLine();\r\n                        System.out.print(&quot;Enter Email: &quot;);\r\n                        String email = scanner.nextLine();\r\n                        System.out.print(&quot;Enter Password: &quot;);\r\n                        String password = scanner.nextLine();\r\n                        System.out.print(&quot;Enter Address: &quot;);\r\n                        String address = scanner.nextLine();\r\n                        System.out.print(&quot;Enter Balance: &quot;);\r\n                        String balance = scanner.nextLine();\r\n\r\n                        // Send registration data to server\r\n                        out.writeObject(&quot;REGISTER&quot;);\r\n                        out.writeObject(id);\r\n                        out.writeObject(name);\r\n                        out.writeObject(email);\r\n                        out.writeObject(password);\r\n                        out.writeObject(address);\r\n                        out.writeObject(balance);\r\n\r\n                        String response = (String) in.readObject();\r\n                        System.out.println(&quot;Server: &quot; + response);\r\n                    } else if (choice == 2) {\r\n                        // Login\r\n                        System.out.print(&quot;Enter PPSN: &quot;);\r\n                        String id = scanner.nextLine();\r\n                        System.out.print(&quot;Enter Password: &quot;);\r\n                        String password = scanner.nextLine();\r\n\r\n                        // Send login data to server\r\n                        out.writeObject(&quot;LOGIN&quot;);\r\n                        out.writeObject(id);\r\n                        out.writeObject(password);\r\n\r\n                        String response = (String) in.readObject();\r\n                        if (response.equals(&quot;LOGIN_SUCCESS&quot;)) {\r\n                            loggedIn = true;\r\n                            System.out.println(&quot;Login successful!&quot;);\r\n                            userId = id;\r\n                        } else {\r\n                            System.out.println(&quot;Login failed. Try again.&quot;);\r\n                        }\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Logged in! Options:&quot;);\r\n                    System.out.println(&quot;1. Lodge money to the user account.&quot;);\r\n                    System.out.println(&quot;2. Retrieve all registered users listing.&quot;);\r\n                    System.out.println(&quot;3. Transfer money to another account.&quot;);\r\n                    System.out.println(&quot;4. View all transactions on your bank account.&quot;);\r\n                    System.out.println(&quot;5. Update your password.&quot;);\r\n                    System.out.println(&quot;0. Log out.&quot;);\r\n\r\n                    int choice = scanner.nextInt();\r\n                    scanner.nextLine(); // Consume newline\r\n\r\n                    switch (choice) {\r\n                        // Inside the client while loop, under case 1 (Lodge money)\r\n                        case 1:\r\n                            // Lodge money\r\n                            out.writeObject(&quot;GET_BALANCE&quot;);\r\n                            out.writeObject(userId); // Send the user&#39;s ID to the server\r\n\r\n                            double currentBalance = in.readDouble();\r\n                            System.out.println(&quot;Your current balance is: &quot; + currentBalance);\r\n\r\n                            System.out.print(&quot;Enter the amount to lodge: &quot;);\r\n                            double amountToLodge = scanner.nextDouble();\r\n                            scanner.nextLine(); // Consume newline\r\n\r\n                            // Send the request to lodge money to the server\r\n                            out.writeObject(&quot;LODGE_MONEY&quot;);\r\n                            out.writeDouble(amountToLodge);\r\n\r\n                            // Read the updated balance from the server\r\n                            double updatedBalance = in.readDouble();\r\n                            System.out.println(&quot;Updated balance: &quot; + updatedBalance);\r\n                            break;\r\n\r\n                        case 2:\r\n                            // Retrieve all registered users listing\r\n                            // Implement functionality to retrieve and display all registered users\r\n                            // Example:\r\n                            out.writeObject(&quot;RETRIEVE_USERS&quot;);\r\n                            // Receive and display the user listing from the server\r\n                            break;\r\n                        case 3:\r\n                            // Transfer money to another account\r\n                            // Implement functionality to transfer money to another account\r\n                            // Example:\r\n                            // Collect recipient details (email, PPS number, etc.)\r\n                            // Send details to the server for the transfer process\r\n                            break;\r\n                        case 4:\r\n                            // View all transactions\r\n                            // Implement functionality to view all transactions on the bank account\r\n                            // Example:\r\n                            out.writeObject(&quot;VIEW_TRANSACTIONS&quot;);\r\n                            // Receive and display the transactions from the server\r\n                            break;\r\n                        case 5:\r\n                            // Update password\r\n                            // Implement functionality to update the user&#39;s password\r\n                            // Example:\r\n                            System.out.print(&quot;Enter new password: &quot;);\r\n                            String newPassword = scanner.nextLine();\r\n                            out.writeObject(&quot;UPDATE_PASSWORD&quot;);\r\n                            out.writeObject(newPassword);\r\n                            String updateResponse = (String) in.readObject();\r\n                            System.out.println(&quot;Server: &quot; + updateResponse);\r\n                            break;\r\n                        case 0: // Option to exit or log out\r\n                            System.out.println(&quot;Logged out...&quot;);\r\n                            out.writeObject(&quot;LOGOUT&quot;); // Inform server about logout\r\n                            loggedIn = false; // Reset logged-in state\r\n                            break;\r\n                        default:\r\n                            System.out.println(&quot;Invalid choice. Please choose a valid option.&quot;);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage TCP;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\n\r\npublic class Server {\r\n    private static final int SERVER_PORT = 8888;\r\n    private static HashMap&lt;String, String[]&gt; accounts = new HashMap&lt;&gt;();\r\n    private static HashSet&lt;String&gt; emailSet = new HashSet&lt;&gt;();\r\n    private static HashSet&lt;String&gt; idSet = new HashSet&lt;&gt;();\r\n    private static HashMap&lt;Socket, String&gt; loggedInUsers = new HashMap&lt;&gt;();\r\n    private static final String DATABASE_FILE = &quot;TCP/database.txt&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        loadAccounts();\r\n        try (ServerSocket serverSocket = new ServerSocket(SERVER_PORT)) {\r\n            System.out.println(&quot;Server started. Listening on port &quot; + SERVER_PORT);\r\n\r\n            while (true) {\r\n                Socket clientSocket = serverSocket.accept();\r\n                System.out.println(&quot;Client connected: &quot; + clientSocket);\r\n\r\n                new Thread(() -&gt; handleClient(clientSocket)).start();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void handleClient(Socket clientSocket) {\r\n        ObjectOutputStream out = null;\r\n        ObjectInputStream in = null;\r\n\r\n        try {\r\n            out = new ObjectOutputStream(clientSocket.getOutputStream());\r\n            in = new ObjectInputStream(clientSocket.getInputStream());\r\n\r\n            while (true) {\r\n                String option = (String) in.readObject();\r\n                if (option.equals(&quot;REGISTER&quot;)) {\r\n                    String id = (String) in.readObject();\r\n                    String name = (String) in.readObject();\r\n                    String email = (String) in.readObject();\r\n                    String password = (String) in.readObject();\r\n                    String address = (String) in.readObject();\r\n                    String balance = (String) in.readObject();\r\n\r\n                    if (accounts.containsKey(id)) {\r\n                        out.writeObject(&quot;DUPLICATE_ID&quot;);\r\n                    } else if (checkDuplicateEmail(email)) {\r\n                        out.writeObject(&quot;DUPLICATE_EMAIL&quot;);\r\n                    } else {\r\n                        String[] userDetails = {name, email, password, address, balance};\r\n                        accounts.put(id, userDetails);\r\n                        out.writeObject(&quot;Registration successful!&quot;);\r\n                        saveAccounts();\r\n                    }\r\n                } else if (option.equals(&quot;LOGIN&quot;)) {\r\n                    String id = (String) in.readObject();\r\n                    String password = (String) in.readObject();\r\n                \r\n                    if (accounts.containsKey(id) &amp;&amp; accounts.get(id)[2].equals(password)) {\r\n                        loggedInUsers.put(clientSocket, id);\r\n                        out.writeObject(&quot;LOGIN_SUCCESS&quot;);\r\n                    } else {\r\n                        out.writeObject(&quot;LOGIN_FAILURE&quot;);\r\n                    }\r\n                } else if (option.equals(&quot;GET_BALANCE&quot;)) {\r\n                    String userId = (String) in.readObject();\r\n                    double balance = 0.0;\r\n                    \r\n                    if (accounts.containsKey(userId)) {\r\n                        String[] userDetails = accounts.get(userId);\r\n                        balance = Double.parseDouble(userDetails[userDetails.length - 1]);\r\n                    }\r\n                    \r\n                    out.writeDouble(balance);\r\n                } else if (option.equals(&quot;LODGE_MONEY&quot;)) {\r\n                    try {\r\n                        String userId = loggedInUsers.get(clientSocket);\r\n                        double amountToLodge = in.readDouble();\r\n                \r\n                        if (userId != null &amp;&amp; accounts.containsKey(userId)) {\r\n                            String[] userDetails = accounts.get(userId);\r\n                            double currentBalance = Double.parseDouble(userDetails[userDetails.length - 1]);\r\n                            double updatedBalance = currentBalance + amountToLodge;\r\n                            userDetails[userDetails.length - 1] = String.valueOf(updatedBalance);\r\n                            accounts.put(userId, userDetails);\r\n                            out.writeDouble(updatedBalance);\r\n                        } else {\r\n                            out.writeDouble(-1.0);\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            try {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            try {\r\n                clientSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static boolean checkDuplicateEmail(String email) {\r\n        for (String[] userDetails : accounts.values()) {\r\n            if (userDetails[1].equals(email)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private static void loadAccounts() {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(DATABASE_FILE))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] userInfo = line.split(&quot;,&quot;);\r\n                String userId = userInfo[0];\r\n                String[] userDetails = new String[userInfo.length - 1];\r\n                System.arraycopy(userInfo, 1, userDetails, 0, userDetails.length);\r\n                accounts.put(userId, userDetails);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void saveAccounts() {\r\n        try (BufferedWriter bw = new BufferedWriter(new FileWriter(DATABASE_FILE))) {\r\n            for (String userId : accounts.keySet()) {\r\n                String[] userDetails = accounts.get(userId);\r\n                StringBuilder line = new StringBuilder(userId);\r\n                for (String detail : userDetails) {\r\n                    line.append(&quot;,&quot;).append(detail);\r\n                }\r\n                bw.write(line.toString());\r\n                bw.newLine();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"TCP Bank Application Freezes After Login: Seeking Solutions for Unresponsive Options (1-5)","body":"<p>So, I've been working on this TCP Bank Application. The trouble starts right after successfully logging in. Once I'm in, the app gives me these options (1-5), but when I try to update the password (option 5), everything just freezes up. It's like the app gets stuck and becomes totally unresponsive.</p>\n<p>I've checked the code, and it seems that the freezing occurs when I'm trying lodge money. There's this weird &quot;EOFException&quot; that shows up at line 140 in the Client class, mentioning a problem with the ObjectInputStream.</p>\n<p>I'm pretty sure the freezing is linked to how the client and server communicate during the lodgement  process. I've looked into both sides of the code, but I can't quite figure out what's causing this freeze. Adding to that, I've tried some error handling and logging, but I'm still stuck.</p>\n<p>Any help or ideas on how to get past this freezing issue after login would be a huge help. Thanks a bunch!</p>\n<blockquote>\n<p>So, after logging into my TCP Bank Application, I wanted to update my password (that's option 1). But instead of smoothly changing the password, the whole thing just freezes up. I expected the lodgement to work seamlessly, but instead, the app becomes unresponsive.</p>\n<p>I've dug into the code, checked the communication between the client and server during the password update, and even added some error handling and logging to track what's going on. However, despite all that, the freezing still happens every time I click 1</p>\n</blockquote>\n<blockquote>\n<p>It's quite puzzling, and I'm a bit stuck here. Any insights or guidance to resolve this freezing problem post-login would be really appreciated! Thanks a bunch for any help you can provide.</p>\n</blockquote>\n<blockquote>\n<p>Here's what I tried</p>\n</blockquote>\n<blockquote>\n<p>Client</p>\n</blockquote>\n<pre><code>package TCP;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class Client {\n    private static final String SERVER_IP = &quot;127.0.0.1&quot;;\n    private static final int SERVER_PORT = 8888;\n\n    public static void main(String[] args) {\n        try (Socket socket = new Socket(SERVER_IP, SERVER_PORT);\n             ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\n             ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\n             Scanner scanner = new Scanner(System.in)) {\n\n            boolean loggedIn = false;\n            String userId = &quot;&quot;; // Store logged-in user ID\n\n            while (true) {\n                if (!loggedIn) {\n                    System.out.println(&quot;Welcome! Choose an option:&quot;);\n                    System.out.println(&quot;1. Register an account&quot;);\n                    System.out.println(&quot;2. Login&quot;);\n\n                    int choice = scanner.nextInt();\n                    scanner.nextLine(); // Consume newline\n\n                    if (choice == 1) {\n                        // Registration\n                        System.out.print(&quot;Enter PPSN: &quot;);\n                        String id = scanner.nextLine();\n                        System.out.print(&quot;Enter Name: &quot;);\n                        String name = scanner.nextLine();\n                        System.out.print(&quot;Enter Email: &quot;);\n                        String email = scanner.nextLine();\n                        System.out.print(&quot;Enter Password: &quot;);\n                        String password = scanner.nextLine();\n                        System.out.print(&quot;Enter Address: &quot;);\n                        String address = scanner.nextLine();\n                        System.out.print(&quot;Enter Balance: &quot;);\n                        String balance = scanner.nextLine();\n\n                        // Send registration data to server\n                        out.writeObject(&quot;REGISTER&quot;);\n                        out.writeObject(id);\n                        out.writeObject(name);\n                        out.writeObject(email);\n                        out.writeObject(password);\n                        out.writeObject(address);\n                        out.writeObject(balance);\n\n                        String response = (String) in.readObject();\n                        System.out.println(&quot;Server: &quot; + response);\n                    } else if (choice == 2) {\n                        // Login\n                        System.out.print(&quot;Enter PPSN: &quot;);\n                        String id = scanner.nextLine();\n                        System.out.print(&quot;Enter Password: &quot;);\n                        String password = scanner.nextLine();\n\n                        // Send login data to server\n                        out.writeObject(&quot;LOGIN&quot;);\n                        out.writeObject(id);\n                        out.writeObject(password);\n\n                        String response = (String) in.readObject();\n                        if (response.equals(&quot;LOGIN_SUCCESS&quot;)) {\n                            loggedIn = true;\n                            System.out.println(&quot;Login successful!&quot;);\n                            userId = id;\n                        } else {\n                            System.out.println(&quot;Login failed. Try again.&quot;);\n                        }\n                    }\n                } else {\n                    System.out.println(&quot;Logged in! Options:&quot;);\n                    System.out.println(&quot;1. Lodge money to the user account.&quot;);\n                    System.out.println(&quot;2. Retrieve all registered users listing.&quot;);\n                    System.out.println(&quot;3. Transfer money to another account.&quot;);\n                    System.out.println(&quot;4. View all transactions on your bank account.&quot;);\n                    System.out.println(&quot;5. Update your password.&quot;);\n                    System.out.println(&quot;0. Log out.&quot;);\n\n                    int choice = scanner.nextInt();\n                    scanner.nextLine(); // Consume newline\n\n                    switch (choice) {\n                        // Inside the client while loop, under case 1 (Lodge money)\n                        case 1:\n                            // Lodge money\n                            out.writeObject(&quot;GET_BALANCE&quot;);\n                            out.writeObject(userId); // Send the user's ID to the server\n\n                            double currentBalance = in.readDouble();\n                            System.out.println(&quot;Your current balance is: &quot; + currentBalance);\n\n                            System.out.print(&quot;Enter the amount to lodge: &quot;);\n                            double amountToLodge = scanner.nextDouble();\n                            scanner.nextLine(); // Consume newline\n\n                            // Send the request to lodge money to the server\n                            out.writeObject(&quot;LODGE_MONEY&quot;);\n                            out.writeDouble(amountToLodge);\n\n                            // Read the updated balance from the server\n                            double updatedBalance = in.readDouble();\n                            System.out.println(&quot;Updated balance: &quot; + updatedBalance);\n                            break;\n\n                        case 2:\n                            // Retrieve all registered users listing\n                            // Implement functionality to retrieve and display all registered users\n                            // Example:\n                            out.writeObject(&quot;RETRIEVE_USERS&quot;);\n                            // Receive and display the user listing from the server\n                            break;\n                        case 3:\n                            // Transfer money to another account\n                            // Implement functionality to transfer money to another account\n                            // Example:\n                            // Collect recipient details (email, PPS number, etc.)\n                            // Send details to the server for the transfer process\n                            break;\n                        case 4:\n                            // View all transactions\n                            // Implement functionality to view all transactions on the bank account\n                            // Example:\n                            out.writeObject(&quot;VIEW_TRANSACTIONS&quot;);\n                            // Receive and display the transactions from the server\n                            break;\n                        case 5:\n                            // Update password\n                            // Implement functionality to update the user's password\n                            // Example:\n                            System.out.print(&quot;Enter new password: &quot;);\n                            String newPassword = scanner.nextLine();\n                            out.writeObject(&quot;UPDATE_PASSWORD&quot;);\n                            out.writeObject(newPassword);\n                            String updateResponse = (String) in.readObject();\n                            System.out.println(&quot;Server: &quot; + updateResponse);\n                            break;\n                        case 0: // Option to exit or log out\n                            System.out.println(&quot;Logged out...&quot;);\n                            out.writeObject(&quot;LOGOUT&quot;); // Inform server about logout\n                            loggedIn = false; // Reset logged-in state\n                            break;\n                        default:\n                            System.out.println(&quot;Invalid choice. Please choose a valid option.&quot;);\n                            break;\n                    }\n                }\n            }\n\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>package TCP;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.HashMap;\nimport java.util.HashSet;\n\npublic class Server {\n    private static final int SERVER_PORT = 8888;\n    private static HashMap&lt;String, String[]&gt; accounts = new HashMap&lt;&gt;();\n    private static HashSet&lt;String&gt; emailSet = new HashSet&lt;&gt;();\n    private static HashSet&lt;String&gt; idSet = new HashSet&lt;&gt;();\n    private static HashMap&lt;Socket, String&gt; loggedInUsers = new HashMap&lt;&gt;();\n    private static final String DATABASE_FILE = &quot;TCP/database.txt&quot;;\n\n    public static void main(String[] args) {\n        loadAccounts();\n        try (ServerSocket serverSocket = new ServerSocket(SERVER_PORT)) {\n            System.out.println(&quot;Server started. Listening on port &quot; + SERVER_PORT);\n\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n                System.out.println(&quot;Client connected: &quot; + clientSocket);\n\n                new Thread(() -&gt; handleClient(clientSocket)).start();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void handleClient(Socket clientSocket) {\n        ObjectOutputStream out = null;\n        ObjectInputStream in = null;\n\n        try {\n            out = new ObjectOutputStream(clientSocket.getOutputStream());\n            in = new ObjectInputStream(clientSocket.getInputStream());\n\n            while (true) {\n                String option = (String) in.readObject();\n                if (option.equals(&quot;REGISTER&quot;)) {\n                    String id = (String) in.readObject();\n                    String name = (String) in.readObject();\n                    String email = (String) in.readObject();\n                    String password = (String) in.readObject();\n                    String address = (String) in.readObject();\n                    String balance = (String) in.readObject();\n\n                    if (accounts.containsKey(id)) {\n                        out.writeObject(&quot;DUPLICATE_ID&quot;);\n                    } else if (checkDuplicateEmail(email)) {\n                        out.writeObject(&quot;DUPLICATE_EMAIL&quot;);\n                    } else {\n                        String[] userDetails = {name, email, password, address, balance};\n                        accounts.put(id, userDetails);\n                        out.writeObject(&quot;Registration successful!&quot;);\n                        saveAccounts();\n                    }\n                } else if (option.equals(&quot;LOGIN&quot;)) {\n                    String id = (String) in.readObject();\n                    String password = (String) in.readObject();\n                \n                    if (accounts.containsKey(id) &amp;&amp; accounts.get(id)[2].equals(password)) {\n                        loggedInUsers.put(clientSocket, id);\n                        out.writeObject(&quot;LOGIN_SUCCESS&quot;);\n                    } else {\n                        out.writeObject(&quot;LOGIN_FAILURE&quot;);\n                    }\n                } else if (option.equals(&quot;GET_BALANCE&quot;)) {\n                    String userId = (String) in.readObject();\n                    double balance = 0.0;\n                    \n                    if (accounts.containsKey(userId)) {\n                        String[] userDetails = accounts.get(userId);\n                        balance = Double.parseDouble(userDetails[userDetails.length - 1]);\n                    }\n                    \n                    out.writeDouble(balance);\n                } else if (option.equals(&quot;LODGE_MONEY&quot;)) {\n                    try {\n                        String userId = loggedInUsers.get(clientSocket);\n                        double amountToLodge = in.readDouble();\n                \n                        if (userId != null &amp;&amp; accounts.containsKey(userId)) {\n                            String[] userDetails = accounts.get(userId);\n                            double currentBalance = Double.parseDouble(userDetails[userDetails.length - 1]);\n                            double updatedBalance = currentBalance + amountToLodge;\n                            userDetails[userDetails.length - 1] = String.valueOf(updatedBalance);\n                            accounts.put(userId, userDetails);\n                            out.writeDouble(updatedBalance);\n                        } else {\n                            out.writeDouble(-1.0);\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (out != null) {\n                    out.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            try {\n                if (in != null) {\n                    in.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            try {\n                clientSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static boolean checkDuplicateEmail(String email) {\n        for (String[] userDetails : accounts.values()) {\n            if (userDetails[1].equals(email)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private static void loadAccounts() {\n        try (BufferedReader br = new BufferedReader(new FileReader(DATABASE_FILE))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] userInfo = line.split(&quot;,&quot;);\n                String userId = userInfo[0];\n                String[] userDetails = new String[userInfo.length - 1];\n                System.arraycopy(userInfo, 1, userDetails, 0, userDetails.length);\n                accounts.put(userId, userDetails);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void saveAccounts() {\n        try (BufferedWriter bw = new BufferedWriter(new FileWriter(DATABASE_FILE))) {\n            for (String userId : accounts.keySet()) {\n                String[] userDetails = accounts.get(userId);\n                StringBuilder line = new StringBuilder(userId);\n                for (String detail : userDetails) {\n                    line.append(&quot;,&quot;).append(detail);\n                }\n                bw.write(line.toString());\n                bw.newLine();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","collision"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1702186898,"post_id":77633766,"comment_id":136864886,"body_markdown":"Create an  [MCVE](https://meta.stackoverflow.com/a/367019/2423906).","body":"Create an  <a href=\"https://meta.stackoverflow.com/a/367019/2423906\">MCVE</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1702219102,"post_id":77633766,"comment_id":136867147,"body_markdown":"What node is the parent of each enemy?  What node is the parent of `playArea`?","body":"What node is the parent of each enemy?  What node is the parent of <code>playArea</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702312747,"creation_date":1702312747,"answer_id":77641068,"question_id":77633766,"body_markdown":"Here is an example that shows a ball(circle) stopping when coming in contact with a wall(rectangle). The key is understanding that once a collision is detected, the ball may have entered the wall. You should determine if the ball has entered the wall and move it back to the point right before it hits the wall.\r\n\r\n```\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.shape.Shape;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class App extends Application {\r\n\r\n    Circle ball = new Circle(100, 375, 10, Color.GREEN);\r\n    Rectangle wall = new Rectangle(365, 325, 20, 100);\r\n    Timeline gameLoop;        \r\n            \r\n    @Override\r\n    public void start(Stage stage) {\r\n        wall.setFill(Color.BLUE);       \r\n\r\n        gameLoop = new Timeline(\r\n                 new KeyFrame(Duration.millis(25), (ActionEvent event) -&gt; {\r\n                     moveBall();\r\n                     checkCollision();\r\n        }));\r\n        gameLoop.setCycleCount(Timeline.INDEFINITE);\r\n       \r\n        Pane middleRoot = new Pane(ball, wall);\r\n        middleRoot.setStyle(&quot;-fx-background-color: yellow;&quot;);\r\n        middleRoot.setPrefSize(750, 750);\r\n        Button btnStart = new Button(&quot;Start&quot;);\r\n        btnStart.setOnAction((event) -&gt; {\r\n            if(gameLoop.getStatus() == Timeline.Status.STOPPED)\r\n            {\r\n                gameLoop.play();\r\n            }\r\n        });        \r\n    \r\n        Button btnReset = new Button(&quot;Reset&quot;);\r\n        btnReset.setOnAction((event) -&gt; {\r\n            if(gameLoop.getStatus() == Timeline.Status.RUNNING)\r\n            {\r\n                gameLoop.stop();\r\n                ball.setCenterX(100);               \r\n            }\r\n        });\r\n        \r\n        HBox bottomRoot = new HBox(btnStart, btnReset);\r\n        VBox root = new VBox(middleRoot, bottomRoot);\r\n        \r\n        var scene = new Scene(root, 800, 800);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n    \r\n    public void moveBall()\r\n    {\r\n        ball.setCenterX(ball.getCenterX() + 3);\r\n    }\r\n    \r\n    public void checkCollision()\r\n    {\r\n        //If you find a collision, find out how far past the wall boundary did the ball go. Once you have that distance, move the ball back to that distance amount.         \r\n        if(Shape.intersect(ball, wall).getBoundsInLocal().getWidth() != -1)\r\n        {\r\n            double xDelta = wall.getLayoutBounds().getMinX() - (ball.getCenterX() + ball.getRadius());\r\n            ball.setCenterX(ball.getCenterX() + xDelta);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z0Tp6.gif","title":"Randomly moving object on JavaFx does not stop for bounds","body":"<p>Here is an example that shows a ball(circle) stopping when coming in contact with a wall(rectangle). The key is understanding that once a collision is detected, the ball may have entered the wall. You should determine if the ball has entered the wall and move it back to the point right before it hits the wall.</p>\n<pre><code>import javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class App extends Application {\n\n    Circle ball = new Circle(100, 375, 10, Color.GREEN);\n    Rectangle wall = new Rectangle(365, 325, 20, 100);\n    Timeline gameLoop;        \n            \n    @Override\n    public void start(Stage stage) {\n        wall.setFill(Color.BLUE);       \n\n        gameLoop = new Timeline(\n                 new KeyFrame(Duration.millis(25), (ActionEvent event) -&gt; {\n                     moveBall();\n                     checkCollision();\n        }));\n        gameLoop.setCycleCount(Timeline.INDEFINITE);\n       \n        Pane middleRoot = new Pane(ball, wall);\n        middleRoot.setStyle(&quot;-fx-background-color: yellow;&quot;);\n        middleRoot.setPrefSize(750, 750);\n        Button btnStart = new Button(&quot;Start&quot;);\n        btnStart.setOnAction((event) -&gt; {\n            if(gameLoop.getStatus() == Timeline.Status.STOPPED)\n            {\n                gameLoop.play();\n            }\n        });        \n    \n        Button btnReset = new Button(&quot;Reset&quot;);\n        btnReset.setOnAction((event) -&gt; {\n            if(gameLoop.getStatus() == Timeline.Status.RUNNING)\n            {\n                gameLoop.stop();\n                ball.setCenterX(100);               \n            }\n        });\n        \n        HBox bottomRoot = new HBox(btnStart, btnReset);\n        VBox root = new VBox(middleRoot, bottomRoot);\n        \n        var scene = new Scene(root, 800, 800);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n    \n    public void moveBall()\n    {\n        ball.setCenterX(ball.getCenterX() + 3);\n    }\n    \n    public void checkCollision()\n    {\n        //If you find a collision, find out how far past the wall boundary did the ball go. Once you have that distance, move the ball back to that distance amount.         \n        if(Shape.intersect(ball, wall).getBoundsInLocal().getWidth() != -1)\n        {\n            double xDelta = wall.getLayoutBounds().getMinX() - (ball.getCenterX() + ball.getRadius());\n            ball.setCenterX(ball.getCenterX() + xDelta);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/z0Tp6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z0Tp6.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28690496,"reputation":1,"user_id":21969835,"display_name":"Erjoy Constantine Robles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702312747,"creation_date":1702185767,"question_id":77633766,"body_markdown":"There are two primary issues, one would be that the code always detects that enemy characters are colliding almost all of the time on the x-axis. Another issue would be that on the code that I tried that doesn&#39;t collide all the time on the x-axis, the enemy movement doesn&#39;t follow the rules of being bounded within the play area.\r\n\r\n\r\n```\r\nprivate void randomMovement(Rectangle enemy) {\r\n\t\r\n\tdouble currX = enemy.getX();\r\n\tdouble currY = enemy.getY();\r\n\r\n\tdouble randX = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) *(this.playerComponent.returnX()&gt;enemy.getX() ? 2.5 : -2.5);\r\n\tdouble randY = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) * (this.playerComponent.returnY()&gt;enemy.getY() ? 2.5 : -2.5);\r\n\r\n\tdouble newX = enemy.getX() + randX;\r\n\tdouble newY = enemy.getY() + randY;\r\n\r\n\tenemy.setX(newX);\r\n\tenemy.setY(newY);\r\n\r\n\tdouble enemyMaxX = newX + enemy.getWidth();\r\n\tdouble enemyMaxY = newY + enemy.getHeight();\r\n\tdouble xmin = this.playArea.getX();\r\n\tdouble xmax = this.playArea.getX() + this.playArea.getWidth();\r\n\tdouble ymin = this.playArea.getY();\r\n\tdouble ymax = this.playArea.getY() + this.playArea.getHeight();\r\n\t\t\r\n    if(newX &lt; xmin) {\r\n\t\tenemy.setX(xmin);\r\n\t}\r\n\r\n\tif(enemyMaxX &gt; xmax) {\r\n\t\tenemy.setX(xmax-enemy.getWidth());\r\n\t}\r\n\r\n\tif(newY &lt; ymin) {\r\n\t\tenemy.setY(ymin);\r\n\t}\r\n\r\n\tif(enemyMaxY &gt; ymax) {\r\n\t\tenemy.setY(ymax-enemy.getHeight());\r\n\t}\r\n}\r\n```\r\n\r\nI have tried to see if there really is a collision all the time by decreasing the x positions of the enemy shapes on collision detection, and they all move to the left. Fixing this issue by separating the code as much as I can, I run into the original issue of the shapes not stopping for the right and bottom bounds.","title":"Randomly moving object on JavaFx does not stop for bounds","body":"<p>There are two primary issues, one would be that the code always detects that enemy characters are colliding almost all of the time on the x-axis. Another issue would be that on the code that I tried that doesn't collide all the time on the x-axis, the enemy movement doesn't follow the rules of being bounded within the play area.</p>\n<pre><code>private void randomMovement(Rectangle enemy) {\n    \n    double currX = enemy.getX();\n    double currY = enemy.getY();\n\n    double randX = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) *(this.playerComponent.returnX()&gt;enemy.getX() ? 2.5 : -2.5);\n    double randY = random.nextInt(5) * (random.nextBoolean() ? 1 : -1) * (this.playerComponent.returnY()&gt;enemy.getY() ? 2.5 : -2.5);\n\n    double newX = enemy.getX() + randX;\n    double newY = enemy.getY() + randY;\n\n    enemy.setX(newX);\n    enemy.setY(newY);\n\n    double enemyMaxX = newX + enemy.getWidth();\n    double enemyMaxY = newY + enemy.getHeight();\n    double xmin = this.playArea.getX();\n    double xmax = this.playArea.getX() + this.playArea.getWidth();\n    double ymin = this.playArea.getY();\n    double ymax = this.playArea.getY() + this.playArea.getHeight();\n        \n    if(newX &lt; xmin) {\n        enemy.setX(xmin);\n    }\n\n    if(enemyMaxX &gt; xmax) {\n        enemy.setX(xmax-enemy.getWidth());\n    }\n\n    if(newY &lt; ymin) {\n        enemy.setY(ymin);\n    }\n\n    if(enemyMaxY &gt; ymax) {\n        enemy.setY(ymax-enemy.getHeight());\n    }\n}\n</code></pre>\n<p>I have tried to see if there really is a collision all the time by decreasing the x positions of the enemy shapes on collision detection, and they all move to the left. Fixing this issue by separating the code as much as I can, I run into the original issue of the shapes not stopping for the right and bottom bounds.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1702309913,"post_id":77640665,"comment_id":136877556,"body_markdown":"Hard to say what is wrong, but probably you are still in old out of support Spring Boot. Please, consider to upgrade to the latest one: https://spring.io/projects/spring-boot#support. Then we can ask you to share a simple project to reproduce.","body":"Hard to say what is wrong, but probably you are still in old out of support Spring Boot. Please, consider to upgrade to the latest one: <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>. Then we can ask you to share a simple project to reproduce."}],"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702312734,"creation_date":1702308764,"question_id":77640665,"body_markdown":"Running unit Tests with my application after upgrading from Spring-Boot 2.4 -&gt; 2.7 and upgrading Kafka 2.8.2 -&gt; 3.6.1\r\n\r\nI have unit test setup like so:\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@WebAppConfiguration\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)\r\n@ActiveProfiles(&quot;inmemory&quot;)\r\n@EmbeddedKafka(topics={&quot;KafkaDataHelperNonSpyUnitTest.topic&quot;}, //partitions = 3,\r\n               adminTimeout = 30)\r\n@TestPropertySource(value = &quot;classpath:hsql-test.properties&quot;,\r\n                    properties = &quot;spring.cache.type=NONE&quot;)\r\npublic class KafkaDataHelperNonSpyUnitTest\r\n{\r\n  /*\r\n   * Setup Beans Here\r\n   */  \r\n\r\n   @Test\r\n   public void testGetConsumer()\r\n   {\r\n      Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n      props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedBrokers);\r\n      props.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\r\n      props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n      props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n      props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n      props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 5);\r\n\r\n      kafkaDataHelper.getConsumer(&quot;KafkaDataHelperNonSpyUnitTest.topic&quot;, props);\r\n   }\r\n}\r\n\r\n```\r\n\r\nThe test fails with\r\n\r\n```\r\nFailed to load ApplicationContext\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedKafka&#39;: Invocation of init method failed; nested exception is org.apache.kafka.common.KafkaException: java.util.concurrent.TimeoutException\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:431)\r\n\tat org.springframework.kafka.test.context.EmbeddedKafkaContextCustomizer.customizeContext(EmbeddedKafkaContextCustomizer.java:116)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextCustomizerAdapter.initialize(SpringBootContextLoader.java:333)\r\n\tat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:605)\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:374)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 43 more\r\nCaused by: org.apache.kafka.common.KafkaException: java.util.concurrent.TimeoutException\r\n\tat org.springframework.kafka.test.EmbeddedKafkaBroker.createTopics(EmbeddedKafkaBroker.java:490)\r\n\tat org.springframework.kafka.test.EmbeddedKafkaBroker.lambda$createKafkaTopics$8(EmbeddedKafkaBroker.java:477)\r\n\tat org.springframework.kafka.test.EmbeddedKafkaBroker.doWithAdmin(EmbeddedKafkaBroker.java:573)\r\n\tat org.springframework.kafka.test.EmbeddedKafkaBroker.createKafkaTopics(EmbeddedKafkaBroker.java:476)\r\n\tat org.springframework.kafka.test.EmbeddedKafkaBroker.afterPropertiesSet(EmbeddedKafkaBroker.java:373)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t... 52 more\r\nCaused by: java.util.concurrent.TimeoutException\r\n\tat java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180)\r\n\tat org.springframework.kafka.test.EmbeddedKafkaBroker.createTopics(EmbeddedKafkaBroker.java:487)\r\n\t... 58 more\r\n```\r\n\r\nSo, Why is the Test hitting a timeout when creating the Embedded Kafka Broker?  \r\nAnd more importantly, how do I fix it?\r\n\r\n\r\n**UPDATE:**\r\n\r\nRelevant `build.gradle` dependencies snippets\r\n\r\n```gradle\r\nbuildscript\r\n{\r\n   ext { springBootVersion = &#39;2.7.18&#39; }\r\n\r\n   dependencies\r\n   {\r\n      classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n   }\r\n}\r\n\r\napply plugin: &quot;org.springframework.boot&quot;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ndependencies\r\n{\r\n    // Spring Framework (Core)\r\n    def springFrameworkVersion = 5.3.27\r\n    implementation (&#39;org.springframework:spring-core&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-aop&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-context&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation(&#39;org.springframework:spring-context-support&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-beans&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-messaging&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-expression&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n\r\n    // Spring Framework (Data)\r\n    implementation(&#39;org.springframework:spring-jdbc&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation(&#39;org.springframework:spring-tx&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n\r\n    // Spring Framework (Web)\r\n    implementation (&#39;org.springframework:spring-web&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-websocket&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-webmvc&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n    implementation (&#39;org.springframework:spring-webflux&#39;)\r\n    { version { strictly springFrameworkVersion } }\r\n\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\r\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${springBootVersion}&quot;\r\n\r\n    // Spring Framework (Security)\r\n    def springSecurityVersion = &#39;5.7.11&#39;\r\n    implementation(&quot;org.springframework.security:spring-security-core&quot;)\r\n    { version { strictly springSecurityVersion } }\r\n    implementation(&quot;org.springframework.security:spring-security-web&quot;)\r\n    { version { strictly springSecurityVersion } }\r\n    implementation(&quot;org.springframework.security:spring-security-ldap&quot;)\r\n    { version { strictly springSecurityVersion } }\r\n    implementation(&quot;org.springframework.security:spring-security-crypto&quot;)\r\n    { version { strictly springSecurityVersion } }\r\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n    { version { strictly springSecurityVersion } }\r\n\r\n    implementation &quot;org.springframework.security.oauth:spring-security-oauth2:2.5.2.RELEASE&quot;\r\n\r\n    implementation&quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n    implementation(&#39;org.springframework.retry:spring-retry:1.3.3&#39;)\r\n\r\n    runtimeOnly(&quot;org.springframework.boot:spring-boot-properties-migrator:${springBootVersion}&quot;)\r\n\r\n    // Kafka\r\n    def KafkaClientVersion = &#39;3.6.1&#39;\r\n    implementation(&#39;org.springframework.kafka:spring-kafka:&#39;)\r\n    { version { strictly(&#39;2.9.13&#39;) } }\r\n    testImplementation(&#39;org.springframework.kafka:spring-kafka-test&#39;)\r\n    { version { strictly(&#39;2.9.13&#39;) } }\r\n    implementation(&#39;org.apache.kafka:kafka-clients&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    testImplementation(&#39;org.apache.kafka:kafka-streams&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    implementation(&#39;org.apache.kafka:kafka-server-common&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    testImplementation(&#39;org.apache.kafka:kafka-server-common&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    implementation(&#39;org.apache.kafka:kafka-storage&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    testImplementation(&#39;org.apache.kafka:kafka-tools&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    testImplementation(&#39;org.apache.kafka:connect-json&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n    testImplementation(&#39;org.apache.kafka:connect-api&#39;)\r\n    { version { strictly(KafkaClientVersion) } }\r\n\r\n    testImplementation(&quot;org.apache.kafka:kafka_2.13:${KafkaClientVersion}:test&quot;)\r\n}\r\n```","title":"Test with @EmbeddedKafka fails with a TimeoutException while creating the EmbeddedKafka broker","body":"<p>Running unit Tests with my application after upgrading from Spring-Boot 2.4 -&gt; 2.7 and upgrading Kafka 2.8.2 -&gt; 3.6.1</p>\n<p>I have unit test setup like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@WebAppConfiguration\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)\n@ActiveProfiles(&quot;inmemory&quot;)\n@EmbeddedKafka(topics={&quot;KafkaDataHelperNonSpyUnitTest.topic&quot;}, //partitions = 3,\n               adminTimeout = 30)\n@TestPropertySource(value = &quot;classpath:hsql-test.properties&quot;,\n                    properties = &quot;spring.cache.type=NONE&quot;)\npublic class KafkaDataHelperNonSpyUnitTest\n{\n  /*\n   * Setup Beans Here\n   */  \n\n   @Test\n   public void testGetConsumer()\n   {\n      Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n      props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedBrokers);\n      props.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\n      props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n      props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n      props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n      props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 5);\n\n      kafkaDataHelper.getConsumer(&quot;KafkaDataHelperNonSpyUnitTest.topic&quot;, props);\n   }\n}\n\n</code></pre>\n<p>The test fails with</p>\n<pre><code>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedKafka': Invocation of init method failed; nested exception is org.apache.kafka.common.KafkaException: java.util.concurrent.TimeoutException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:431)\n    at org.springframework.kafka.test.context.EmbeddedKafkaContextCustomizer.customizeContext(EmbeddedKafkaContextCustomizer.java:116)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextCustomizerAdapter.initialize(SpringBootContextLoader.java:333)\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:605)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:374)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 43 more\nCaused by: org.apache.kafka.common.KafkaException: java.util.concurrent.TimeoutException\n    at org.springframework.kafka.test.EmbeddedKafkaBroker.createTopics(EmbeddedKafkaBroker.java:490)\n    at org.springframework.kafka.test.EmbeddedKafkaBroker.lambda$createKafkaTopics$8(EmbeddedKafkaBroker.java:477)\n    at org.springframework.kafka.test.EmbeddedKafkaBroker.doWithAdmin(EmbeddedKafkaBroker.java:573)\n    at org.springframework.kafka.test.EmbeddedKafkaBroker.createKafkaTopics(EmbeddedKafkaBroker.java:476)\n    at org.springframework.kafka.test.EmbeddedKafkaBroker.afterPropertiesSet(EmbeddedKafkaBroker.java:373)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 52 more\nCaused by: java.util.concurrent.TimeoutException\n    at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1784)\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180)\n    at org.springframework.kafka.test.EmbeddedKafkaBroker.createTopics(EmbeddedKafkaBroker.java:487)\n    ... 58 more\n</code></pre>\n<p>So, Why is the Test hitting a timeout when creating the Embedded Kafka Broker?<br />\nAnd more importantly, how do I fix it?</p>\n<p><strong>UPDATE:</strong></p>\n<p>Relevant <code>build.gradle</code> dependencies snippets</p>\n<pre><code>buildscript\n{\n   ext { springBootVersion = '2.7.18' }\n\n   dependencies\n   {\n      classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n   }\n}\n\napply plugin: &quot;org.springframework.boot&quot;\napply plugin: 'io.spring.dependency-management'\n\ndependencies\n{\n    // Spring Framework (Core)\n    def springFrameworkVersion = 5.3.27\n    implementation ('org.springframework:spring-core')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-aop')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-context')\n    { version { strictly springFrameworkVersion } }\n    implementation('org.springframework:spring-context-support')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-beans')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-messaging')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-expression')\n    { version { strictly springFrameworkVersion } }\n\n    // Spring Framework (Data)\n    implementation('org.springframework:spring-jdbc')\n    { version { strictly springFrameworkVersion } }\n    implementation('org.springframework:spring-tx')\n    { version { strictly springFrameworkVersion } }\n\n    // Spring Framework (Web)\n    implementation ('org.springframework:spring-web')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-websocket')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-webmvc')\n    { version { strictly springFrameworkVersion } }\n    implementation ('org.springframework:spring-webflux')\n    { version { strictly springFrameworkVersion } }\n\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${springBootVersion}&quot;\n\n    // Spring Framework (Security)\n    def springSecurityVersion = '5.7.11'\n    implementation(&quot;org.springframework.security:spring-security-core&quot;)\n    { version { strictly springSecurityVersion } }\n    implementation(&quot;org.springframework.security:spring-security-web&quot;)\n    { version { strictly springSecurityVersion } }\n    implementation(&quot;org.springframework.security:spring-security-ldap&quot;)\n    { version { strictly springSecurityVersion } }\n    implementation(&quot;org.springframework.security:spring-security-crypto&quot;)\n    { version { strictly springSecurityVersion } }\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n    { version { strictly springSecurityVersion } }\n\n    implementation &quot;org.springframework.security.oauth:spring-security-oauth2:2.5.2.RELEASE&quot;\n\n    implementation&quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    implementation('org.springframework.retry:spring-retry:1.3.3')\n\n    runtimeOnly(&quot;org.springframework.boot:spring-boot-properties-migrator:${springBootVersion}&quot;)\n\n    // Kafka\n    def KafkaClientVersion = '3.6.1'\n    implementation('org.springframework.kafka:spring-kafka:')\n    { version { strictly('2.9.13') } }\n    testImplementation('org.springframework.kafka:spring-kafka-test')\n    { version { strictly('2.9.13') } }\n    implementation('org.apache.kafka:kafka-clients')\n    { version { strictly(KafkaClientVersion) } }\n    testImplementation('org.apache.kafka:kafka-streams')\n    { version { strictly(KafkaClientVersion) } }\n    implementation('org.apache.kafka:kafka-server-common')\n    { version { strictly(KafkaClientVersion) } }\n    testImplementation('org.apache.kafka:kafka-server-common')\n    { version { strictly(KafkaClientVersion) } }\n    implementation('org.apache.kafka:kafka-storage')\n    { version { strictly(KafkaClientVersion) } }\n    testImplementation('org.apache.kafka:kafka-tools')\n    { version { strictly(KafkaClientVersion) } }\n    testImplementation('org.apache.kafka:connect-json')\n    { version { strictly(KafkaClientVersion) } }\n    testImplementation('org.apache.kafka:connect-api')\n    { version { strictly(KafkaClientVersion) } }\n\n    testImplementation(&quot;org.apache.kafka:kafka_2.13:${KafkaClientVersion}:test&quot;)\n}\n</code></pre>\n"},{"tags":["java","kotlin","openstreetmap"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1702329729,"post_id":77641041,"comment_id":136880791,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":30120297,"reputation":1,"user_id":23082521,"display_name":"QShip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702312536,"creation_date":1702312536,"question_id":77641041,"body_markdown":"How can I fix an error in my Activity_Summarize.java? I am trying to build a system that will find a given point using radius in Open Street Map and take out the nearest node. \r\nThen the object should be picked out from the point (church, school, etc.). \r\nIn Logcat, only No nearest point found is returned. \r\nI program in German. \r\n\r\n[Code](https://pastebin.com/JLPzqtvx)\r\n\r\nFixing small parts of the project would be great.\r\n\r\n```\r\npackage org.flaggshipp.kusa_android;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport org.osmdroid.api.IMapController;\r\nimport org.osmdroid.views.MapView;\r\nimport org.xmlpull.v1.XmlPullParser;\r\nimport org.xmlpull.v1.XmlPullParserException;\r\nimport org.xmlpull.v1.XmlPullParserFactory;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.StringReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Collections;\r\n\r\npublic class Activity_Summarize extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    DatabaseReference database;\r\n\r\n    FirebaseDatabase database1 = FirebaseDatabase.getInstance();\r\n    MyAdapter myAdapter;\r\n    ArrayList&lt;Text&gt; list;\r\n    LinearLayoutManager mLayoutManager;\r\n    long timestamp = System.currentTimeMillis();\r\n    DatabaseReference myRef = database1.getReference(&quot;Users&quot;);\r\n    private FloatingActionButton flbtn;\r\n    private IMapController mapController;\r\n\r\n    private MapView mapView;\r\n    private final String overpassApiUrl = &quot;https://overpass-api.de/api/interpreter&quot;;\r\n    private final String osmQueryTemplate = &quot;[out:json];node[amenity=place_of_worship](around:100,%s,%s);out;&quot;;\r\n\r\n    double latitude = 50.7865342;\r\n    double longitude = 12.7212223;\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_summarize);\r\n\r\n        // Beispiel-Koordinaten (ersetze sie durch deine tats&#228;chlichen Koordinaten)\r\n\r\n\r\n        double radiusInMeters = 20.0;\r\n\r\n        // Umrechnung von Metern in Grad\r\n        double radiusInDegrees = metersToDegrees(latitude, radiusInMeters);\r\n\r\n\r\n        new OverpassQueryTask().execute(latitude, longitude);\r\n\r\n        SharedUtil.Companion.initialize((Context)this);\r\n        if (SharedUtil.Companion.isRegistrated()) {\r\n            Bundle bundle = new Bundle();\r\n            //bundle.putString(&quot;username&quot;, SharedUtil.Companion.getValue(&quot;username&quot;));\r\n            //bundle.putString(&quot;password&quot;, SharedUtil.Companion.getValue(&quot;password&quot;));\r\n        }\r\n\r\n        flbtn = findViewById(R.id.fbtn);\r\n        flbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                addDatatoFirebase();\r\n            }\r\n        });\r\n\r\n        String username = SharedUtil.Companion.getValue(&quot;username&quot;);\r\n\r\n        mLayoutManager = new LinearLayoutManager(Activity_Summarize.this);\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        database = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(username).child(&quot;signs&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(mLayoutManager);\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        myAdapter = new MyAdapter(list, Activity_Summarize.this);\r\n        recyclerView.setAdapter(myAdapter);\r\n\r\n        loadKeysFromFirebase();\r\n    }\r\n\r\n    private class OverpassQueryTask extends AsyncTask&lt;Double, Void, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(Double... params) {\r\n            double latitude = params[0];\r\n            double longitude = params[1];\r\n\r\n            String overpassUrl = &quot;https://overpass-api.de/api/interpreter?data=node(around:10,&quot; +\r\n                    latitude + &quot;,&quot; + longitude + &quot;);out count;&quot;;\r\n\r\n            try {\r\n                URL url = new URL(overpassUrl);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                StringBuilder result = new StringBuilder();\r\n                String line;\r\n\r\n                while ((line = reader.readLine()) != null) {\r\n                    result.append(line);\r\n                }\r\n\r\n                reader.close();\r\n                return result.toString();\r\n\r\n            } catch (IOException e) {\r\n                Log.e(&quot;OverpassQueryTask&quot;, &quot;Error querying Overpass API&quot;, e);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            if (result != null &amp;&amp; !result.isEmpty()) {\r\n                // Extrahiere den n&#228;chstgelegenen Punkt\r\n                String nearestNodeId = extractNearestNodeId(result);\r\n\r\n                if (nearestNodeId != null &amp;&amp; !nearestNodeId.isEmpty()) {\r\n                    // F&#252;hre eine weitere Abfrage durch, um Informationen &#252;ber den n&#228;chsten Punkt zu erhalten\r\n                    new OverpassQueryTask().execute(Double.valueOf(nearestNodeId));\r\n                } else {\r\n                    Log.e(&quot;OverpassQueryTask&quot;, &quot;Kein n&#228;chstgelegener Punkt gefunden&quot;);\r\n                }\r\n            } else {\r\n                Log.e(&quot;OverpassQueryTask&quot;, &quot;Overpass API query returned no results or null&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void showToast(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private double metersToDegrees(double latitude, double meters) {\r\n        return meters / (111.32 * 1000 * Math.cos(Math.toRadians(latitude)));\r\n    }\r\n\r\n    private void addDatatoFirebase() {\r\n        //Calendar / Date and Time Values\r\n        String username = SharedUtil.Companion.getValue(&quot;username&quot;);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(timestamp);\r\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n        String dateTime = simpleDateFormat.format(calendar.getTime());\r\n\r\n        //IP-Adresse abfrage\r\n        //WifiManager wifiManager = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);\r\n        //int ipAddress = wifiManager.getConnectionInfo().getIpAddress();\r\n        //String ipString = String.format(&quot;%d.%d.%d.%d&quot;, (ipAddress &amp; 0xff), (ipAddress &gt;&gt; 8 &amp; 0xff), (ipAddress &gt;&gt; 16 &amp; 0xff), (ipAddress &gt;&gt; 24 &amp; 0xff));\r\n\r\n        // below 3 lines of code is used to set\r\n        // data in our object class.\r\n        //Entries.setText(wText);\r\n        Entries.setDate(dateTime);\r\n\r\n        myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).child(&quot;text&quot;).setValue(&quot;Unterschrift: Oberlungwitz&quot;);\r\n        myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).child(&quot;date&quot;).setValue(dateTime);\r\n        //myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).setValue(&quot;Unterschrift: Oberlungwitz&quot;);\r\n        //myRef.child(username).child(&quot;date&quot;).setValue(dateTime);\r\n        myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).child(&quot;unixtime&quot;).setValue(timestamp);\r\n        //myRef.child(username).child(&quot;ip-adresse&quot;).setValue(ipString);\r\n        // we are use add value event listener method\r\n        // which is called with database reference.\r\n        myRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                // inside the method of on Data change we are setting\r\n                // our object class to our database reference.\r\n                // data base reference will sends data to firebase.\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n\r\n                    //Messages userName = dataSnapshot.getValue(Messages.class);\r\n                    //list.add(userName);\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // if the data is not added or it is cancelled then\r\n                // we are displaying a failure toast message.\r\n                Toast.makeText(Activity_Summarize.this, &quot;Fail to add data&quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loadKeysFromFirebase() {\r\n        Query query = database.orderByChild(&quot;unixtime&quot;).limitToLast(3);\r\n\r\n        query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                list.clear();\r\n\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n\r\n                    Text text = snapshot.getValue(Text.class);\r\n                    list.add(text);\r\n\r\n                }\r\n\r\n                Collections.reverse(list);\r\n\r\n                myAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.e(&quot;Firebase&quot;, &quot;Error loading keys from Firebase&quot;, databaseError.toException());\r\n            }\r\n        });\r\n    }\r\n\r\n    private String extractNearestNodeId(String xml) {\r\n        try {\r\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\r\n            XmlPullParser parser = factory.newPullParser();\r\n            parser.setInput(new StringReader(xml));\r\n\r\n            int eventType = parser.getEventType();\r\n            double minDistance = Double.MAX_VALUE;\r\n            String nearestNodeId = null;\r\n\r\n            while (eventType != XmlPullParser.END_DOCUMENT) {\r\n                if (eventType == XmlPullParser.START_TAG &amp;&amp; parser.getName().equals(&quot;node&quot;)) {\r\n                    double nodeLat = Double.parseDouble(parser.getAttributeValue(null, &quot;lat&quot;));\r\n                    double nodeLon = Double.parseDouble(parser.getAttributeValue(null, &quot;lon&quot;));\r\n\r\n                    double distance = calculateDistance(latitude, longitude, nodeLat, nodeLon);\r\n\r\n                    if (distance &lt; minDistance) {\r\n                        minDistance = distance;\r\n                        nearestNodeId = parser.getAttributeValue(null, &quot;id&quot;);\r\n                    }\r\n                }\r\n                eventType = parser.next();\r\n            }\r\n\r\n            return nearestNodeId;\r\n        } catch (XmlPullParserException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private double calculateDistance(double lat1, double lon1, double lat2, double lon2) {\r\n        // Einfache Berechnung der Entfernung als euklidische Distanz\r\n        return Math.sqrt(Math.pow(lat2 - lat1, 2) + Math.pow(lon2 - lon1, 2));\r\n    }\r\n\r\n}\r\n```\r\n","title":"Android Studio OSM Object Verifier","body":"<p>How can I fix an error in my Activity_Summarize.java? I am trying to build a system that will find a given point using radius in Open Street Map and take out the nearest node.\nThen the object should be picked out from the point (church, school, etc.).\nIn Logcat, only No nearest point found is returned.\nI program in German.</p>\n<p><a href=\"https://pastebin.com/JLPzqtvx\" rel=\"nofollow noreferrer\">Code</a></p>\n<p>Fixing small parts of the project would be great.</p>\n<pre><code>package org.flaggshipp.kusa_android;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport org.osmdroid.api.IMapController;\nimport org.osmdroid.views.MapView;\nimport org.xmlpull.v1.XmlPullParser;\nimport org.xmlpull.v1.XmlPullParserException;\nimport org.xmlpull.v1.XmlPullParserFactory;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.StringReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Collections;\n\npublic class Activity_Summarize extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    DatabaseReference database;\n\n    FirebaseDatabase database1 = FirebaseDatabase.getInstance();\n    MyAdapter myAdapter;\n    ArrayList&lt;Text&gt; list;\n    LinearLayoutManager mLayoutManager;\n    long timestamp = System.currentTimeMillis();\n    DatabaseReference myRef = database1.getReference(&quot;Users&quot;);\n    private FloatingActionButton flbtn;\n    private IMapController mapController;\n\n    private MapView mapView;\n    private final String overpassApiUrl = &quot;https://overpass-api.de/api/interpreter&quot;;\n    private final String osmQueryTemplate = &quot;[out:json];node[amenity=place_of_worship](around:100,%s,%s);out;&quot;;\n\n    double latitude = 50.7865342;\n    double longitude = 12.7212223;\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_summarize);\n\n        // Beispiel-Koordinaten (ersetze sie durch deine tatsächlichen Koordinaten)\n\n\n        double radiusInMeters = 20.0;\n\n        // Umrechnung von Metern in Grad\n        double radiusInDegrees = metersToDegrees(latitude, radiusInMeters);\n\n\n        new OverpassQueryTask().execute(latitude, longitude);\n\n        SharedUtil.Companion.initialize((Context)this);\n        if (SharedUtil.Companion.isRegistrated()) {\n            Bundle bundle = new Bundle();\n            //bundle.putString(&quot;username&quot;, SharedUtil.Companion.getValue(&quot;username&quot;));\n            //bundle.putString(&quot;password&quot;, SharedUtil.Companion.getValue(&quot;password&quot;));\n        }\n\n        flbtn = findViewById(R.id.fbtn);\n        flbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                addDatatoFirebase();\n            }\n        });\n\n        String username = SharedUtil.Companion.getValue(&quot;username&quot;);\n\n        mLayoutManager = new LinearLayoutManager(Activity_Summarize.this);\n        recyclerView = findViewById(R.id.recyclerview);\n        database = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(username).child(&quot;signs&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(mLayoutManager);\n\n        list = new ArrayList&lt;&gt;();\n        myAdapter = new MyAdapter(list, Activity_Summarize.this);\n        recyclerView.setAdapter(myAdapter);\n\n        loadKeysFromFirebase();\n    }\n\n    private class OverpassQueryTask extends AsyncTask&lt;Double, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(Double... params) {\n            double latitude = params[0];\n            double longitude = params[1];\n\n            String overpassUrl = &quot;https://overpass-api.de/api/interpreter?data=node(around:10,&quot; +\n                    latitude + &quot;,&quot; + longitude + &quot;);out count;&quot;;\n\n            try {\n                URL url = new URL(overpassUrl);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n                StringBuilder result = new StringBuilder();\n                String line;\n\n                while ((line = reader.readLine()) != null) {\n                    result.append(line);\n                }\n\n                reader.close();\n                return result.toString();\n\n            } catch (IOException e) {\n                Log.e(&quot;OverpassQueryTask&quot;, &quot;Error querying Overpass API&quot;, e);\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            if (result != null &amp;&amp; !result.isEmpty()) {\n                // Extrahiere den nächstgelegenen Punkt\n                String nearestNodeId = extractNearestNodeId(result);\n\n                if (nearestNodeId != null &amp;&amp; !nearestNodeId.isEmpty()) {\n                    // Führe eine weitere Abfrage durch, um Informationen über den nächsten Punkt zu erhalten\n                    new OverpassQueryTask().execute(Double.valueOf(nearestNodeId));\n                } else {\n                    Log.e(&quot;OverpassQueryTask&quot;, &quot;Kein nächstgelegener Punkt gefunden&quot;);\n                }\n            } else {\n                Log.e(&quot;OverpassQueryTask&quot;, &quot;Overpass API query returned no results or null&quot;);\n            }\n        }\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n\n    private double metersToDegrees(double latitude, double meters) {\n        return meters / (111.32 * 1000 * Math.cos(Math.toRadians(latitude)));\n    }\n\n    private void addDatatoFirebase() {\n        //Calendar / Date and Time Values\n        String username = SharedUtil.Companion.getValue(&quot;username&quot;);\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(timestamp);\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n        String dateTime = simpleDateFormat.format(calendar.getTime());\n\n        //IP-Adresse abfrage\n        //WifiManager wifiManager = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);\n        //int ipAddress = wifiManager.getConnectionInfo().getIpAddress();\n        //String ipString = String.format(&quot;%d.%d.%d.%d&quot;, (ipAddress &amp; 0xff), (ipAddress &gt;&gt; 8 &amp; 0xff), (ipAddress &gt;&gt; 16 &amp; 0xff), (ipAddress &gt;&gt; 24 &amp; 0xff));\n\n        // below 3 lines of code is used to set\n        // data in our object class.\n        //Entries.setText(wText);\n        Entries.setDate(dateTime);\n\n        myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).child(&quot;text&quot;).setValue(&quot;Unterschrift: Oberlungwitz&quot;);\n        myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).child(&quot;date&quot;).setValue(dateTime);\n        //myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).setValue(&quot;Unterschrift: Oberlungwitz&quot;);\n        //myRef.child(username).child(&quot;date&quot;).setValue(dateTime);\n        myRef.child(username).child(&quot;signs&quot;).child(String.valueOf(timestamp)).child(&quot;unixtime&quot;).setValue(timestamp);\n        //myRef.child(username).child(&quot;ip-adresse&quot;).setValue(ipString);\n        // we are use add value event listener method\n        // which is called with database reference.\n        myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                // inside the method of on Data change we are setting\n                // our object class to our database reference.\n                // data base reference will sends data to firebase.\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n\n                    //Messages userName = dataSnapshot.getValue(Messages.class);\n                    //list.add(userName);\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // if the data is not added or it is cancelled then\n                // we are displaying a failure toast message.\n                Toast.makeText(Activity_Summarize.this, &quot;Fail to add data&quot; + error, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void loadKeysFromFirebase() {\n        Query query = database.orderByChild(&quot;unixtime&quot;).limitToLast(3);\n\n        query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                list.clear();\n\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n\n                    Text text = snapshot.getValue(Text.class);\n                    list.add(text);\n\n                }\n\n                Collections.reverse(list);\n\n                myAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.e(&quot;Firebase&quot;, &quot;Error loading keys from Firebase&quot;, databaseError.toException());\n            }\n        });\n    }\n\n    private String extractNearestNodeId(String xml) {\n        try {\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\n            XmlPullParser parser = factory.newPullParser();\n            parser.setInput(new StringReader(xml));\n\n            int eventType = parser.getEventType();\n            double minDistance = Double.MAX_VALUE;\n            String nearestNodeId = null;\n\n            while (eventType != XmlPullParser.END_DOCUMENT) {\n                if (eventType == XmlPullParser.START_TAG &amp;&amp; parser.getName().equals(&quot;node&quot;)) {\n                    double nodeLat = Double.parseDouble(parser.getAttributeValue(null, &quot;lat&quot;));\n                    double nodeLon = Double.parseDouble(parser.getAttributeValue(null, &quot;lon&quot;));\n\n                    double distance = calculateDistance(latitude, longitude, nodeLat, nodeLon);\n\n                    if (distance &lt; minDistance) {\n                        minDistance = distance;\n                        nearestNodeId = parser.getAttributeValue(null, &quot;id&quot;);\n                    }\n                }\n                eventType = parser.next();\n            }\n\n            return nearestNodeId;\n        } catch (XmlPullParserException | IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    private double calculateDistance(double lat1, double lon1, double lat2, double lon2) {\n        // Einfache Berechnung der Entfernung als euklidische Distanz\n        return Math.sqrt(Math.pow(lat2 - lat1, 2) + Math.pow(lon2 - lon1, 2));\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","jmeter","nashorn","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1571239918,"creation_date":1571239174,"answer_id":58416705,"question_id":58416070,"body_markdown":"Groovy is [encouraged][2] in JMeter&#39;s best practices\n\n&gt;We advise using Apache Groovy \n\n In new version [changes][1] there&#39;s a workaround for this warning:\n\n&gt;To silence these warnings, add -Dnashorn.args=--no-deprecation-warning to your Java arguments. That can be achieved by setting the enviroment variable JVM_ARGS\n&gt;\n&gt;     export JVM_ARGS=&quot;-Dnashorn.args=--no-deprecation-warning&quot;\n\n[1]:https://apache.github.io/jmeter-site-preview/site/changes.html\n\n[2]:https://jmeter.apache.org/usermanual/best-practices.html","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>Groovy is <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"noreferrer\">encouraged</a> in JMeter's best practices</p>\n<blockquote>\n<p>We advise using Apache Groovy</p>\n</blockquote>\n<p>In new version <a href=\"https://apache.github.io/jmeter-site-preview/site/changes.html\" rel=\"noreferrer\">changes</a> there's a workaround for this warning:</p>\n<blockquote>\n<p>To silence these warnings, add -Dnashorn.args=--no-deprecation-warning to your Java arguments. That can be achieved by setting the enviroment variable JVM_ARGS</p>\n<pre><code>export JVM_ARGS=&quot;-Dnashorn.args=--no-deprecation-warning&quot;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2305795,"reputation":21,"user_id":2025104,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646045301,"creation_date":1646045301,"answer_id":71293828,"question_id":58416070,"body_markdown":"You may also install Rhino, see note on https://jmeter.apache.org/changes.html#Known%20problems%20and%20workarounds","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>You may also install Rhino, see note on <a href=\"https://jmeter.apache.org/changes.html#Known%20problems%20and%20workarounds\" rel=\"nofollow noreferrer\">https://jmeter.apache.org/changes.html#Known%20problems%20and%20workarounds</a></p>\n"},{"tags":[],"owner":{"account_id":30108799,"reputation":1,"user_id":23073870,"display_name":"regice202"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702312327,"creation_date":1702182474,"answer_id":77633674,"question_id":58416070,"body_markdown":"Even better, you can use:\r\n```\r\nstatic {\r\n  System.setProperty(&quot;nashorn.args&quot;,&quot;--no-deprecation-warning&quot;);\r\n}\r\n```\r\nDo this **before** you instantiate the `ScriptEngineManager` Object and you&#39;ll be set! No warnings and it&#39;s in your code instead of just your launch environment!","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>Even better, you can use:</p>\n<pre><code>static {\n  System.setProperty(&quot;nashorn.args&quot;,&quot;--no-deprecation-warning&quot;);\n}\n</code></pre>\n<p>Do this <strong>before</strong> you instantiate the <code>ScriptEngineManager</code> Object and you'll be set! No warnings and it's in your code instead of just your launch environment!</p>\n"}],"owner":{"account_id":7202279,"reputation":3472,"user_id":5499118,"accept_rate":8,"display_name":"Alex Martian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39246,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":58416705,"answer_count":3,"score":19,"last_activity_date":1702312327,"creation_date":1571237166,"question_id":58416070,"body_markdown":"When I run JMeter 5.1.1 recently downloaded, I see many times in `terminal window`:\r\n\r\n&gt; Warning: Nashorn engine is planned to be removed from a future JDK\r\n&gt; release\r\n\r\nI&#39;ve used web search and found [JEP 335: Deprecate the Nashorn JavaScript Engine](https://openjdk.java.net/jeps/335).\r\n\r\n&gt; Motivation \r\n\r\n&gt; The Nashorn JavaScript engine was first incorporated into\r\n&gt; JDK 8 via JEP 174 as a replacement for the Rhino scripting engine.\r\n&gt; When it was released, it was a complete implementation of the\r\n&gt; ECMAScript-262 5.1 standard.\r\n&gt; \r\n&gt; With the rapid pace at which ECMAScript language constructs, along\r\n&gt; with APIs, are adapted and modified, we have found Nashorn challenging\r\n&gt; to maintain.\r\n\r\nI expected to read that new engine is now in more use, but no, I could not find what will run `JavaScript` in replacement. What would happen with `JavaScript` in `JMeter`? It will not run and we use *encouraged* to use `Groovy`?\r\n\r\nBTW, how to remove that warning from terminal?\r\n\r\n","title":"JMeter Warning: Nashorn engine is planned to be removed from a future JDK release","body":"<p>When I run JMeter 5.1.1 recently downloaded, I see many times in <code>terminal window</code>:</p>\n\n<blockquote>\n  <p>Warning: Nashorn engine is planned to be removed from a future JDK\n  release</p>\n</blockquote>\n\n<p>I've used web search and found <a href=\"https://openjdk.java.net/jeps/335\" rel=\"noreferrer\">JEP 335: Deprecate the Nashorn JavaScript Engine</a>.</p>\n\n<blockquote>\n  <p>Motivation </p>\n  \n  <p>The Nashorn JavaScript engine was first incorporated into\n  JDK 8 via JEP 174 as a replacement for the Rhino scripting engine.\n  When it was released, it was a complete implementation of the\n  ECMAScript-262 5.1 standard.</p>\n  \n  <p>With the rapid pace at which ECMAScript language constructs, along\n  with APIs, are adapted and modified, we have found Nashorn challenging\n  to maintain.</p>\n</blockquote>\n\n<p>I expected to read that new engine is now in more use, but no, I could not find what will run <code>JavaScript</code> in replacement. What would happen with <code>JavaScript</code> in <code>JMeter</code>? It will not run and we use <em>encouraged</em> to use <code>Groovy</code>?</p>\n\n<p>BTW, how to remove that warning from terminal?</p>\n"},{"tags":["java","azureservicebus","azure-servicebus-queues","dead-letter"],"owner":{"account_id":27915260,"reputation":1,"user_id":21316547,"display_name":"Nithu Brijita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702312305,"creation_date":1702312305,"question_id":77641016,"body_markdown":"I need to deadletter a message when the API respose is not 200.\r\nThe message is not initially send to the main queue , I need to directly send the message to the deadletter.\r\n\r\n\r\nCame accross deadLetter() method , but the argument should be of type &#39;ServiceBusReceiverClient&#39; and manually converting to ServiceBusReceiverClient type is not possible since the constructors are private.\r\nIs there any efficient way to directly deadletter a message through a Java application?\r\nThe queue is used to send other valid messages as well so making some configuration changes that applies to all messages cannot be implemented .","title":"How can I manually deadletter a message.(The message is not send to the queue)","body":"<p>I need to deadletter a message when the API respose is not 200.\nThe message is not initially send to the main queue , I need to directly send the message to the deadletter.</p>\n<p>Came accross deadLetter() method , but the argument should be of type 'ServiceBusReceiverClient' and manually converting to ServiceBusReceiverClient type is not possible since the constructors are private.\nIs there any efficient way to directly deadletter a message through a Java application?\nThe queue is used to send other valid messages as well so making some configuration changes that applies to all messages cannot be implemented .</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702315248,"post_id":77641007,"comment_id":136878506,"body_markdown":"If you rename `id` to `partyId` in `PartyDto` it will work I think also you have to create a constructor in this dto","body":"If you rename <code>id</code> to <code>partyId</code> in <code>PartyDto</code> it will work I think also you have to create a constructor in this dto"}],"owner":{"account_id":29846893,"reputation":1,"user_id":22873778,"display_name":"Zaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702312188,"creation_date":1702312188,"question_id":77641007,"body_markdown":"I&#39;m experiencing a &quot;java.lang.IllegalArgumentException: No variable named partyId found!&quot; error when I try to create a new party using a POST request in my Spring MVC application.\r\n\r\nThe request body only includes the &quot;partyName&quot; field, but I suspect the &quot;partyId&quot; might also be required. I&#39;ve checked my controller and service code, but I can&#39;t find where the &quot;partyId&quot; is expected or used.\r\n\r\nPOST request body\r\n\r\n```\r\n{\r\n  &quot;partyName&quot;: &quot;Zaso&quot;\r\n}\r\n\r\n```\r\n\r\nMy Class\r\n\r\n```\r\npackage app.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport org.springframework.data.annotation.ReadOnlyProperty;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;parties&quot;)\r\npublic class Party {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;party_name&quot;)\r\n    private String partyName;\r\n\r\n    @CreationTimestamp\r\n    @ReadOnlyProperty\r\n    @Column(name = &quot;created_at&quot;)\r\n    private LocalDateTime createdAt;\r\n\r\n    @UpdateTimestamp\r\n    @ReadOnlyProperty\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private LocalDateTime updatedAt;\r\n\r\n    public Party() {\r\n    }\r\n\r\n    public Party(Long id, String partyName, LocalDateTime createdAt, LocalDateTime updatedAt) {\r\n        this.id = id;\r\n        this.partyName = partyName;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getPartyName() {\r\n        return partyName;\r\n    }\r\n\r\n    public void setPartyName(String partyName) {\r\n        this.partyName = partyName;\r\n    }\r\n\r\n    public LocalDateTime getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDateTime createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public LocalDateTime getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(LocalDateTime updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Party party)) return false;\r\n        return Objects.equals(getId(), party.getId())\r\n                &amp;&amp; Objects.equals(getPartyName(), party.getPartyName())\r\n                &amp;&amp; Objects.equals(getCreatedAt(), party.getCreatedAt())\r\n                &amp;&amp; Objects.equals(getUpdatedAt(), party.getUpdatedAt());\r\n    }\r\n\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId(),\r\n                getPartyName(),\r\n                getCreatedAt(),\r\n                getUpdatedAt());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Party{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, partyName=&quot; + partyName +\r\n                &quot;, createdAt=&quot; + createdAt +\r\n                &quot;, updatedAt=&quot; + updatedAt +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nmy DTO\r\n\r\n```\r\npackage app.dto;\r\n\r\nimport app.model.Party;\r\n/**\r\n * DTO for {@link Party}\r\n */\r\npublic class PartyDto{\r\n    private Long id;\r\n    private String partyName;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getPartyName() {\r\n        return partyName;\r\n    }\r\n\r\n    public void setPartyName(String partyName) {\r\n        this.partyName = partyName;\r\n    }\r\n}\r\n```\r\n\r\nController method:\r\n\r\n```\r\n@PostMapping(&quot;/parties&quot;)\r\n    public ResponseEntity&lt;EntityModel&lt;PartyDto&gt;&gt; newParty (@RequestBody PartyDto partyDto){\r\n        Party partyRequest = modelMapper.map(partyDto, Party.class);\r\n        Party newParty = partyService.createParty(partyRequest);\r\n\r\n        EntityModel&lt;PartyDto&gt; partyEntityModel = toModel(modelMapper.map(newParty, PartyDto.class));\r\n\r\n        return ResponseEntity.created(partyEntityModel.getRequiredLink(IanaLinkRelations.SELF).toUri())\r\n                .body(partyEntityModel);\r\n    }\r\n```\r\n\r\nMy Service method:\r\n```\r\n public Party createParty(final Party partyRequest){\r\n        return partyRepository.save(partyRequest);\r\n    }\r\n```\r\n\r\nLogs:\r\n\r\n```\r\nINFO com.example.PartyService - Creating new party with name: Zaso\r\nERROR com.example.PartyController - java.lang.IllegalArgumentException: No variable named partyId found!\r\n```\r\n\r\nWhat I&#39;m asking:\r\n\r\nWhat could be causing the &quot;No variable named partyId found!&quot; error?\r\nWhere should I look for the missing &quot;partyId&quot; assignment?\r\nAre there any suggestions for troubleshooting this issue?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve checked the controller code, but I can&#39;t see where the &quot;partyId&quot; is explicitly set. I suspect there might be an issue with the ModelMapper configuration or the mapping between the DTO and the entity class.","title":"Spring MVC &quot;java.lang.IllegalArgumentException: No variable named partyId found!&quot; when creating party","body":"<p>I'm experiencing a &quot;java.lang.IllegalArgumentException: No variable named partyId found!&quot; error when I try to create a new party using a POST request in my Spring MVC application.</p>\n<p>The request body only includes the &quot;partyName&quot; field, but I suspect the &quot;partyId&quot; might also be required. I've checked my controller and service code, but I can't find where the &quot;partyId&quot; is expected or used.</p>\n<p>POST request body</p>\n<pre><code>{\n  &quot;partyName&quot;: &quot;Zaso&quot;\n}\n\n</code></pre>\n<p>My Class</p>\n<pre><code>package app.model;\n\nimport jakarta.persistence.*;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport org.springframework.data.annotation.ReadOnlyProperty;\n\nimport java.time.LocalDateTime;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;parties&quot;)\npublic class Party {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @Column(name = &quot;party_name&quot;)\n    private String partyName;\n\n    @CreationTimestamp\n    @ReadOnlyProperty\n    @Column(name = &quot;created_at&quot;)\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    @ReadOnlyProperty\n    @Column(name = &quot;updated_at&quot;)\n    private LocalDateTime updatedAt;\n\n    public Party() {\n    }\n\n    public Party(Long id, String partyName, LocalDateTime createdAt, LocalDateTime updatedAt) {\n        this.id = id;\n        this.partyName = partyName;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPartyName() {\n        return partyName;\n    }\n\n    public void setPartyName(String partyName) {\n        this.partyName = partyName;\n    }\n\n    public LocalDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDateTime createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public LocalDateTime getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(LocalDateTime updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Party party)) return false;\n        return Objects.equals(getId(), party.getId())\n                &amp;&amp; Objects.equals(getPartyName(), party.getPartyName())\n                &amp;&amp; Objects.equals(getCreatedAt(), party.getCreatedAt())\n                &amp;&amp; Objects.equals(getUpdatedAt(), party.getUpdatedAt());\n    }\n\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId(),\n                getPartyName(),\n                getCreatedAt(),\n                getUpdatedAt());\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Party{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, partyName=&quot; + partyName +\n                &quot;, createdAt=&quot; + createdAt +\n                &quot;, updatedAt=&quot; + updatedAt +\n                '}';\n    }\n}\n\n\n</code></pre>\n<p>my DTO</p>\n<pre><code>package app.dto;\n\nimport app.model.Party;\n/**\n * DTO for {@link Party}\n */\npublic class PartyDto{\n    private Long id;\n    private String partyName;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPartyName() {\n        return partyName;\n    }\n\n    public void setPartyName(String partyName) {\n        this.partyName = partyName;\n    }\n}\n</code></pre>\n<p>Controller method:</p>\n<pre><code>@PostMapping(&quot;/parties&quot;)\n    public ResponseEntity&lt;EntityModel&lt;PartyDto&gt;&gt; newParty (@RequestBody PartyDto partyDto){\n        Party partyRequest = modelMapper.map(partyDto, Party.class);\n        Party newParty = partyService.createParty(partyRequest);\n\n        EntityModel&lt;PartyDto&gt; partyEntityModel = toModel(modelMapper.map(newParty, PartyDto.class));\n\n        return ResponseEntity.created(partyEntityModel.getRequiredLink(IanaLinkRelations.SELF).toUri())\n                .body(partyEntityModel);\n    }\n</code></pre>\n<p>My Service method:</p>\n<pre><code> public Party createParty(final Party partyRequest){\n        return partyRepository.save(partyRequest);\n    }\n</code></pre>\n<p>Logs:</p>\n<pre><code>INFO com.example.PartyService - Creating new party with name: Zaso\nERROR com.example.PartyController - java.lang.IllegalArgumentException: No variable named partyId found!\n</code></pre>\n<p>What I'm asking:</p>\n<p>What could be causing the &quot;No variable named partyId found!&quot; error?\nWhere should I look for the missing &quot;partyId&quot; assignment?\nAre there any suggestions for troubleshooting this issue?</p>\n<p>I've checked the controller code, but I can't see where the &quot;partyId&quot; is explicitly set. I suspect there might be an issue with the ModelMapper configuration or the mapping between the DTO and the entity class.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1702218289,"post_id":77634880,"comment_id":136867059,"body_markdown":"I don&#39;t know how this interacts with ClassPathResource and spring. In vanilla java, the _right_ way to do this stuff is `SomeClass.class.getResource`. __not__ `getClass()` (because that breaks when you subclass), __not__ `SomeClass.class.getClassLoader()` (it&#39;s pointless code, and dangerous: In exotic situations, that&#39;s `null` and causes an NPE). This ensures the loader used is the one that has loaded `SomeClass.class`. Which you know and control, so you can be certain the resource WILL be found then.","body":"I don&#39;t know how this interacts with ClassPathResource and spring. In vanilla java, the <i>right</i> way to do this stuff is <code>SomeClass.class.getResource</code>. <b>not</b> <code>getClass()</code> (because that breaks when you subclass), <b>not</b> <code>SomeClass.class.getClassLoader()</code> (it&#39;s pointless code, and dangerous: In exotic situations, that&#39;s <code>null</code> and causes an NPE). This ensures the loader used is the one that has loaded <code>SomeClass.class</code>. Which you know and control, so you can be certain the resource WILL be found then."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1702218356,"post_id":77634880,"comment_id":136867071,"body_markdown":"If I were to design a framework, the API would be `void loadResource(Class&lt;?&gt; context, String resourceName)` - and somewhere in that code, `context.getResource(mappedResourceName)` would be in there. Possibly the designers of this part of spring aren&#39;t as bad as this question makes it seem and you can find some API call that works in that (correct) fashion.","body":"If I were to design a framework, the API would be <code>void loadResource(Class&lt;?&gt; context, String resourceName)</code> - and somewhere in that code, <code>context.getResource(mappedResourceName)</code> would be in there. Possibly the designers of this part of spring aren&#39;t as bad as this question makes it seem and you can find some API call that works in that (correct) fashion."},{"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"score":0,"creation_date":1702242136,"post_id":77634880,"comment_id":136869502,"body_markdown":"I&#39;m not in control of resource loading here as it&#39;s done by Thymeleaf, which uses SpringResourceTemplateResource, which uses applicationContext.getResource(location).","body":"I&#39;m not in control of resource loading here as it&#39;s done by Thymeleaf, which uses SpringResourceTemplateResource, which uses applicationContext.getResource(location)."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702259495,"post_id":77634880,"comment_id":136870883,"body_markdown":"may be a bug in any of the libraries involved. Not sure if anyone will be able to help here.","body":"may be a bug in any of the libraries involved. Not sure if anyone will be able to help here."},{"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"score":0,"creation_date":1702286653,"post_id":77634880,"comment_id":136873290,"body_markdown":"thread creation with contextclassloader selection being ultimately JRE&#39;s responsibility, I wonder why one day a thread gets created with another contextClassLoader. It would mean that its parent thread is not the same as the one launching other threads... after digging, I still don&#39;t understand how Spring can be involved in this issue.","body":"thread creation with contextclassloader selection being ultimately JRE&#39;s responsibility, I wonder why one day a thread gets created with another contextClassLoader. It would mean that its parent thread is not the same as the one launching other threads... after digging, I still don&#39;t understand how Spring can be involved in this issue."},{"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"score":0,"creation_date":1702297537,"post_id":77634880,"comment_id":136875042,"body_markdown":"possible workaround to ret rid of LaunchedURLClassLoader: https://stackoverflow.com/questions/58746223/are-there-caveats-to-not-using-the-spring-boot-classloader-in-production/77639527","body":"possible workaround to ret rid of LaunchedURLClassLoader: <a href=\"https://stackoverflow.com/questions/58746223/are-there-caveats-to-not-using-the-spring-boot-classloader-in-production/77639527\" title=\"are there caveats to not using the spring boot classloader in production\">stackoverflow.com/questions/58746223/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702310348,"creation_date":1702310348,"answer_id":77640814,"question_id":77634880,"body_markdown":"The problem rose after the addition of a new scheduled job which uses a parallel stream, ultimately launching async tasks in its terminal forEach.\r\n\r\nThreads created by ForkJoinPool (with AppClassLoader as the context class loader according to JDK-8184335) eventually add new threads for async task execution using the ThreadPoolExecutor.\r\n\r\nAs these threads might be reused, subsequent async tasks triggered by the application run on these threads, causing some tasks to fail because of the wrong contextClassLoader on the thread.\r\n\r\nAlternative solutions:\r\n - Isolate the parallel stream so it does not create reusable threads (by not launching `@Async` methods using the shared ThreadPoolTaskExecutor) - thus ensuring that all threads created for async method execution have LaunchedURLClassLoader as a contextClassLoader\r\n - Explode the JAR and launch the application using its &quot;natural&quot; main method instead of executing the JAR, to get rid of LaunchedURLClassLoader (see https://stackoverflow.com/a/77639527/1458562)","title":"contextClassLoader unexpectedly changed on async methods","body":"<p>The problem rose after the addition of a new scheduled job which uses a parallel stream, ultimately launching async tasks in its terminal forEach.</p>\n<p>Threads created by ForkJoinPool (with AppClassLoader as the context class loader according to JDK-8184335) eventually add new threads for async task execution using the ThreadPoolExecutor.</p>\n<p>As these threads might be reused, subsequent async tasks triggered by the application run on these threads, causing some tasks to fail because of the wrong contextClassLoader on the thread.</p>\n<p>Alternative solutions:</p>\n<ul>\n<li>Isolate the parallel stream so it does not create reusable threads (by not launching <code>@Async</code> methods using the shared ThreadPoolTaskExecutor) - thus ensuring that all threads created for async method execution have LaunchedURLClassLoader as a contextClassLoader</li>\n<li>Explode the JAR and launch the application using its &quot;natural&quot; main method instead of executing the JAR, to get rid of LaunchedURLClassLoader (see <a href=\"https://stackoverflow.com/a/77639527/1458562\">https://stackoverflow.com/a/77639527/1458562</a>)</li>\n</ul>\n"}],"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702311809,"creation_date":1702213129,"question_id":77634880,"body_markdown":"During scheduled job executions, some ClassPathResources are not found during some async task executions (while other tasks running at the same time find the same template).\r\n\r\nAfter adding some traces, I found that when the problem occurs, the current thread&#39;s ClassLoader is not the same as usual:\r\n\r\n - `org.springframework.boot.loader.LaunchedURLClassLoader`: resource\r\n   found, OK\r\n - `jdk.internal.loader.ClassLoaders$AppClassLoader`: resource **not** found, problem occurs\r\n\r\nHere is the output of getting the ClassLoader on the Spring singleton bean providing the async mail sending method, in the catch block where the problem occurs:\r\n\r\n    getClass().getClassLoader(): org.springframework.boot.loader.LaunchedURLClassLoader@17a7cec2\r\n    currentThread().getContextClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n    ClassUtils.getDefaultClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n    ClassPathResource.getClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n\r\nThe question was: why someday the classloader is not Spring&#39;s LaunchedURLClassLoader anymore, but switches to JDK internal&#39;s AppClassLoader?\r\n\r\n**Then how can we ensure that the same ClassLoader (here LaunchedURLClassLoader) will always be used, on all new threads?**\r\n\r\nIn my case, it occurs on `@Retryable @Async` methods launched by `@Scheduled` tasks.\r\n\r\nIf anyone got the same kind of issue, I&#39;d be glad to hear how you dealth with it.\r\n\r\nProblem occurs with OpenJDK 17, Spring Boot 2.7.17 (Spring Framework 5.3.30).\r\n\r\nUsing Spring Boot defaults, `@EnableScheduling` and `@EnableAsync` and `@EnableRetry`\r\n\r\n---\r\n\r\nEDIT: issue relating to ForkJoin pool:\r\n - [JDK-8184335: Release Note: Fork/Join common pool threads return the system class loader as their thread context class loader][1]\r\n - [SO: CompletableFuture / ForkJoinPool Set Class Loader][2]\r\n - [Spring Boot: Java 11 and ForkJoinPool.commonPool() class loading issue #15737][3]\r\n - [Spring Boot: Asynchronous deserialization performed by Hazelcast may fail due to the wrong ClassLoader being used #24836][4]\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8184335\r\n  [2]: https://stackoverflow.com/questions/49113207/completablefuture-forkjoinpool-set-class-loader\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/15737\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/24836","title":"contextClassLoader unexpectedly changed on async methods","body":"<p>During scheduled job executions, some ClassPathResources are not found during some async task executions (while other tasks running at the same time find the same template).</p>\n<p>After adding some traces, I found that when the problem occurs, the current thread's ClassLoader is not the same as usual:</p>\n<ul>\n<li><code>org.springframework.boot.loader.LaunchedURLClassLoader</code>: resource\nfound, OK</li>\n<li><code>jdk.internal.loader.ClassLoaders$AppClassLoader</code>: resource <strong>not</strong> found, problem occurs</li>\n</ul>\n<p>Here is the output of getting the ClassLoader on the Spring singleton bean providing the async mail sending method, in the catch block where the problem occurs:</p>\n<pre><code>getClass().getClassLoader(): org.springframework.boot.loader.LaunchedURLClassLoader@17a7cec2\ncurrentThread().getContextClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nClassUtils.getDefaultClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nClassPathResource.getClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\n</code></pre>\n<p>The question was: why someday the classloader is not Spring's LaunchedURLClassLoader anymore, but switches to JDK internal's AppClassLoader?</p>\n<p><strong>Then how can we ensure that the same ClassLoader (here LaunchedURLClassLoader) will always be used, on all new threads?</strong></p>\n<p>In my case, it occurs on <code>@Retryable @Async</code> methods launched by <code>@Scheduled</code> tasks.</p>\n<p>If anyone got the same kind of issue, I'd be glad to hear how you dealth with it.</p>\n<p>Problem occurs with OpenJDK 17, Spring Boot 2.7.17 (Spring Framework 5.3.30).</p>\n<p>Using Spring Boot defaults, <code>@EnableScheduling</code> and <code>@EnableAsync</code> and <code>@EnableRetry</code></p>\n<hr />\n<p>EDIT: issue relating to ForkJoin pool:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8184335\" rel=\"nofollow noreferrer\">JDK-8184335: Release Note: Fork/Join common pool threads return the system class loader as their thread context class loader</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49113207/completablefuture-forkjoinpool-set-class-loader\">SO: CompletableFuture / ForkJoinPool Set Class Loader</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/15737\" rel=\"nofollow noreferrer\">Spring Boot: Java 11 and ForkJoinPool.commonPool() class loading issue #15737</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/24836\" rel=\"nofollow noreferrer\">Spring Boot: Asynchronous deserialization performed by Hazelcast may fail due to the wrong ClassLoader being used #24836</a></li>\n</ul>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702298077,"post_id":77639391,"comment_id":136875159,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). You should provide the [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough). Have you read the release notes of the Java releases from the previous one to the new one installed to see if any changes could be impacting your installation? Is the keystore file actually there? Permissions?","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. You should provide the <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a>. Have you read the release notes of the Java releases from the previous one to the new one installed to see if any changes could be impacting your installation? Is the keystore file actually there? Permissions?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702311627,"creation_date":1702306860,"answer_id":77640479,"question_id":77639391,"body_markdown":"Maybe related to this change in [JDK 1.7.0u181][1] if you are using 3DES algorithms:\r\n\r\n&gt; security-libs/javax.net.ssl\r\n&gt; ➜3DES Cipher Suites Disabled\r\n&gt; \r\n&gt; To improve the strength of SSL/TLS connections, 3DES cipher suites\r\n&gt; have been disabled in SSL/TLS connections in the JDK via the\r\n&gt; jdk.tls.disabledAlgorithms Security Property.\r\n&gt; \r\n&gt; JDK-8175075 (not public)\r\n\r\nYou can try the instructions from Oracle to re-enable a 3DES cipher:\r\n\r\n&gt; - On JDK 8 and earlier, edit the &lt;java-home&gt;/lib/security/java.security file and remove 3DES_EDE_CBC\r\n&gt; from the jdk.tls.legacyAlgorithms security property.\r\n&gt; - On JDK 9, edit the &lt;java-home&gt;/conf/security/java.security file and remove 3DES_EDE_CBC from the jdk.tls.legacyAlgorithms security\r\n&gt; property.\r\n&gt; \r\n&gt; For example, if the current value is:\r\n&gt; \r\n&gt;     jdk.tls.legacyAlgorithms= \\\r\n&gt;         K_NULL, C_NULL, M_NULL, \\\r\n&gt;         DHE_DSS_EXPORT, DHE_RSA_EXPORT, DH_anon_EXPORT, DH_DSS_EXPORT, \\\r\n&gt;         DH_RSA_EXPORT, RSA_EXPORT, \\\r\n&gt;         DH_anon, ECDH_anon, \\\r\n&gt;         RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n&gt;         3DES_EDE_CBC\r\n&gt; \r\n&gt; The new value after removing 3DES_EDE_CBC would be:\r\n&gt; \r\n&gt;     jdk.tls.legacyAlgorithms= \\\r\n&gt;         K_NULL, C_NULL, M_NULL, \\\r\n&gt;         DHE_DSS_EXPORT, DHE_RSA_EXPORT, DH_anon_EXPORT, DH_DSS_EXPORT, \\\r\n&gt;         DH_RSA_EXPORT, RSA_EXPORT, \\\r\n&gt;         DH_anon, ECDH_anon, \\\r\n&gt;         RC4_128, RC4_40, DES_CBC, DES40_CBC\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/7-support-relnotes.html#R170_181","title":"Jboss SecurityVaultException - Jdk7u191","body":"<p>Maybe related to this change in <a href=\"https://www.oracle.com/java/technologies/javase/7-support-relnotes.html#R170_181\" rel=\"nofollow noreferrer\">JDK 1.7.0u181</a> if you are using 3DES algorithms:</p>\n<blockquote>\n<p>security-libs/javax.net.ssl\n➜3DES Cipher Suites Disabled</p>\n<p>To improve the strength of SSL/TLS connections, 3DES cipher suites\nhave been disabled in SSL/TLS connections in the JDK via the\njdk.tls.disabledAlgorithms Security Property.</p>\n<p>JDK-8175075 (not public)</p>\n</blockquote>\n<p>You can try the instructions from Oracle to re-enable a 3DES cipher:</p>\n<blockquote>\n<ul>\n<li>On JDK 8 and earlier, edit the /lib/security/java.security file and remove 3DES_EDE_CBC\nfrom the jdk.tls.legacyAlgorithms security property.</li>\n<li>On JDK 9, edit the /conf/security/java.security file and remove 3DES_EDE_CBC from the jdk.tls.legacyAlgorithms security\nproperty.</li>\n</ul>\n<p>For example, if the current value is:</p>\n<pre><code>jdk.tls.legacyAlgorithms= \\\n    K_NULL, C_NULL, M_NULL, \\\n    DHE_DSS_EXPORT, DHE_RSA_EXPORT, DH_anon_EXPORT, DH_DSS_EXPORT, \\\n    DH_RSA_EXPORT, RSA_EXPORT, \\\n    DH_anon, ECDH_anon, \\\n    RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n    3DES_EDE_CBC\n</code></pre>\n<p>The new value after removing 3DES_EDE_CBC would be:</p>\n<pre><code>jdk.tls.legacyAlgorithms= \\\n    K_NULL, C_NULL, M_NULL, \\\n    DHE_DSS_EXPORT, DHE_RSA_EXPORT, DH_anon_EXPORT, DH_DSS_EXPORT, \\\n    DH_RSA_EXPORT, RSA_EXPORT, \\\n    DH_anon, ECDH_anon, \\\n    RC4_128, RC4_40, DES_CBC, DES40_CBC\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":12572593,"reputation":1129,"user_id":9146205,"accept_rate":57,"display_name":"Krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702311627,"creation_date":1702295807,"question_id":77639391,"body_markdown":"Switched to JDK7u191 from JDK7u171. Seeing below error while brining up the Jboss.\r\n\r\n    05:05:51,804 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([(&quot;core-service&quot; =&gt; &quot;vault&quot;)]): java.lang.RuntimeException: JBAS015804: Error initializing vault --  org.jboss.as.server.services.security.VaultReaderException: JBAS013313: Vault Reader Exception:\r\n        at org.jboss.as.server.services.security.VaultAddHandler.performRuntime(VaultAddHandler.java:89) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\r\n        at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:75) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:611) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:489) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:290) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:285) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1132) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:322) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:292) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.server.ServerService.boot(ServerService.java:346) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\r\n        at org.jboss.as.server.ServerService.boot(ServerService.java:321) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\r\n        at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:254) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_191]\r\n    Caused by: org.jboss.as.server.services.security.VaultReaderException: JBAS013313: Vault Reader Exception:\r\n        at org.jboss.as.security.vault.RuntimeVaultReader.createVault(RuntimeVaultReader.java:95) [jboss-as-security-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        at org.jboss.as.server.services.security.VaultAddHandler.performRuntime(VaultAddHandler.java:87) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\r\n        ... 12 more\r\n    Caused by: org.jboss.security.vault.SecurityVaultException: java.lang.RuntimeException: PBOX000140: Unable to get keystore (/instances/abc-test1/configuration/vault/vault.keystore)\r\n        at org.picketbox.plugins.vault.PicketBoxSecurityVault.init(PicketBoxSecurityVault.java:210) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\r\n        at org.jboss.as.security.vault.RuntimeVaultReader.createVault(RuntimeVaultReader.java:93) [jboss-as-security-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\r\n        ... 13 more\r\n    Caused by: java.lang.RuntimeException: PBOX000140: Unable to get keystore (/instances/abc-test1/configuration/vault/vault.keystore)\r\n        at org.picketbox.plugins.vault.PicketBoxSecurityVault.getKeyStore(PicketBoxSecurityVault.java:678) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\r\n        at org.picketbox.plugins.vault.PicketBoxSecurityVault.init(PicketBoxSecurityVault.java:205) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\r\n        ... 14 more\r\n    Caused by: java.io.IOException: Invalid secret key format\r\n        at com.sun.crypto.provider.JceKeyStore.engineLoad(JceKeyStore.java:861) [sunjce_provider.jar:1.7.0_191]\r\n        at java.security.KeyStore.load(KeyStore.java:1357) [rt.jar:1.7.0_191]\r\n        at org.picketbox.util.KeyStoreUtil.getKeyStore(KeyStoreUtil.java:201) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\r\n        at org.picketbox.util.KeyStoreUtil.getKeyStore(KeyStoreUtil.java:151) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\r\n        at org.picketbox.plugins.vault.PicketBoxSecurityVault.getKeyStore(PicketBoxSecurityVault.java:675) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\r\n        ... 15 more\r\n\r\n    05:05:51,825 FATAL [org.jboss.as.server] (Controller Boot Thread) JBAS015957: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\r\n05:05:51,867 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015950: JBoss EAP 6.3.3.GA (AS 7.4.3.Final-redhat-2) stopped in 11ms\r\n\r\n\r\nJBoss EAP 6.3.3.GA (AS 7.4.3.Final-redhat-2)\r\n\r\njava version &quot;1.7.0_191&quot;\r\nJava(TM) SE Runtime Environment (build 1.7.0_191-b08)\r\nJava HotSpot(TM) 64-Bit Server VM (build 24.191-b08, mixed mode)","title":"Jboss SecurityVaultException - Jdk7u191","body":"<p>Switched to JDK7u191 from JDK7u171. Seeing below error while brining up the Jboss.</p>\n<pre><code>05:05:51,804 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([(&quot;core-service&quot; =&gt; &quot;vault&quot;)]): java.lang.RuntimeException: JBAS015804: Error initializing vault --  org.jboss.as.server.services.security.VaultReaderException: JBAS013313: Vault Reader Exception:\n    at org.jboss.as.server.services.security.VaultAddHandler.performRuntime(VaultAddHandler.java:89) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\n    at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:75) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:611) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:489) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:290) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:285) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1132) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:322) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:292) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.server.ServerService.boot(ServerService.java:346) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\n    at org.jboss.as.server.ServerService.boot(ServerService.java:321) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\n    at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:254) [jboss-as-controller-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_191]\nCaused by: org.jboss.as.server.services.security.VaultReaderException: JBAS013313: Vault Reader Exception:\n    at org.jboss.as.security.vault.RuntimeVaultReader.createVault(RuntimeVaultReader.java:95) [jboss-as-security-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    at org.jboss.as.server.services.security.VaultAddHandler.performRuntime(VaultAddHandler.java:87) [jboss-as-server-7.4.3.Final-redhat-2-bz-1195283.jar:7.4.3.Final-redhat-3]\n    ... 12 more\nCaused by: org.jboss.security.vault.SecurityVaultException: java.lang.RuntimeException: PBOX000140: Unable to get keystore (/instances/abc-test1/configuration/vault/vault.keystore)\n    at org.picketbox.plugins.vault.PicketBoxSecurityVault.init(PicketBoxSecurityVault.java:210) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\n    at org.jboss.as.security.vault.RuntimeVaultReader.createVault(RuntimeVaultReader.java:93) [jboss-as-security-7.4.3.Final-redhat-2.jar:7.4.3.Final-redhat-2]\n    ... 13 more\nCaused by: java.lang.RuntimeException: PBOX000140: Unable to get keystore (/instances/abc-test1/configuration/vault/vault.keystore)\n    at org.picketbox.plugins.vault.PicketBoxSecurityVault.getKeyStore(PicketBoxSecurityVault.java:678) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\n    at org.picketbox.plugins.vault.PicketBoxSecurityVault.init(PicketBoxSecurityVault.java:205) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\n    ... 14 more\nCaused by: java.io.IOException: Invalid secret key format\n    at com.sun.crypto.provider.JceKeyStore.engineLoad(JceKeyStore.java:861) [sunjce_provider.jar:1.7.0_191]\n    at java.security.KeyStore.load(KeyStore.java:1357) [rt.jar:1.7.0_191]\n    at org.picketbox.util.KeyStoreUtil.getKeyStore(KeyStoreUtil.java:201) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\n    at org.picketbox.util.KeyStoreUtil.getKeyStore(KeyStoreUtil.java:151) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\n    at org.picketbox.plugins.vault.PicketBoxSecurityVault.getKeyStore(PicketBoxSecurityVault.java:675) [picketbox-4.0.19.SP10-redhat-1.jar:4.0.19.SP10-redhat-1]\n    ... 15 more\n\n05:05:51,825 FATAL [org.jboss.as.server] (Controller Boot Thread) JBAS015957: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\n</code></pre>\n<p>05:05:51,867 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015950: JBoss EAP 6.3.3.GA (AS 7.4.3.Final-redhat-2) stopped in 11ms</p>\n<p>JBoss EAP 6.3.3.GA (AS 7.4.3.Final-redhat-2)</p>\n<p>java version &quot;1.7.0_191&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_191-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 24.191-b08, mixed mode)</p>\n"},{"tags":["java","oracle","mybatis"],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590160353,"creation_date":1590160353,"answer_id":61958151,"question_id":61946250,"body_markdown":"You cannot use `#{}` in a literal. Use `${fileId}` in the second foreach loop.  \r\nPlease see this [FAQ entry](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-).\r\n\r\n```xml\r\norder by instr(&#39;\r\n&lt;foreach item=&quot;fileid&quot; collection=&quot;ids&quot; separator=&quot;,&quot;&gt;\r\n  ${fileid}\r\n&lt;/foreach&gt;\r\n&#39;,id)\r\n```\r\n\r\nThere may be some preconditions, but the sort logic seems unreliable.  \r\nWhen `ids` is `[222, 22, 2]`, for example, the `INSTR` will return the same value for all three rows.","title":"mybatis oracle - ordering by the order of values in the IN clause using instr func","body":"<p>You cannot use <code>#{}</code> in a literal. Use <code>${fileId}</code> in the second foreach loop.<br>\nPlease see this <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ entry</a>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>order by instr('\n&lt;foreach item=\"fileid\" collection=\"ids\" separator=\",\"&gt;\n  ${fileid}\n&lt;/foreach&gt;\n',id)\n</code></pre>\n\n<p>There may be some preconditions, but the sort logic seems unreliable.<br>\nWhen <code>ids</code> is <code>[222, 22, 2]</code>, for example, the <code>INSTR</code> will return the same value for all three rows.</p>\n"},{"tags":[],"owner":{"account_id":3294644,"reputation":51,"user_id":2772180,"display_name":"Nickolay Davidenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702311480,"creation_date":1702311480,"answer_id":77640933,"question_id":61946250,"body_markdown":"God bless you, Man! I wasted a couple of hours, trying to understand what is wrong in the code:\r\n\r\n    ORDER BY\r\n    &lt;foreach item=&#39;item&#39; index=&#39;index&#39; collection=&#39;filter.sorting.sortingItem&#39; open =&#39;&#39; separator=&#39;,&#39; close=&#39;&#39;&gt;\r\n          #{item.fieldName} #{item.sortingDirection}\r\n    &lt;/foreach&gt;\r\n\r\nAnd what I needed to do is just replace &#39;#&#39; with &#39;$&#39; !!!!!\r\nWorking result:\r\n\r\n    ORDER BY\r\n    &lt;foreach item=&#39;item&#39; index=&#39;index&#39; collection=&#39;filter.sorting.sortingItem&#39; open =&#39;&#39; separator=&#39;,&#39; close=&#39;&#39;&gt;\r\n         #{item.fieldName} #{item.sortingDirection}\r\n    &lt;/foreach&gt;\r\n    enter code here\r\n\r\nGood luck to all!","title":"mybatis oracle - ordering by the order of values in the IN clause using instr func","body":"<p>God bless you, Man! I wasted a couple of hours, trying to understand what is wrong in the code:</p>\n<pre><code>ORDER BY\n&lt;foreach item='item' index='index' collection='filter.sorting.sortingItem' open ='' separator=',' close=''&gt;\n      #{item.fieldName} #{item.sortingDirection}\n&lt;/foreach&gt;\n</code></pre>\n<p>And what I needed to do is just replace '#' with '$' !!!!!\nWorking result:</p>\n<pre><code>ORDER BY\n&lt;foreach item='item' index='index' collection='filter.sorting.sortingItem' open ='' separator=',' close=''&gt;\n     #{item.fieldName} #{item.sortingDirection}\n&lt;/foreach&gt;\nenter code here\n</code></pre>\n<p>Good luck to all!</p>\n"}],"owner":{"account_id":3533145,"reputation":191,"user_id":2952113,"display_name":"Allan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61958151,"answer_count":2,"score":0,"last_activity_date":1702311480,"creation_date":1590109562,"question_id":61946250,"body_markdown":"I wanna use the instr function to order the query results by the order of values in the IN clause.\r\n\r\nmapper\r\n\r\n    public List&lt;String&gt; getFilePaths(@Param(&quot;ids&quot;) Integer[] ids)\r\n\r\nxml\r\n\r\n    &lt;select id=&quot;getFilePaths&quot; resultType=&quot;java.lang.String&quot;&gt;\r\n      select filepath from t_file where id in\r\n      &lt;foreach item=&quot;fileid&quot; collection=&quot;ids&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n        #{fileid}\r\n      &lt;/foreach&gt;\r\n      order by instr(&#39;\r\n      &lt;foreach item=&quot;fileid&quot; collection=&quot;ids&quot; separator=&quot;,&quot;&gt;\r\n        #{fileid}\r\n      &lt;/foreach&gt;\r\n      &#39;,id)\r\n    &lt;/select&gt;\r\n\r\nWhen the ids collection is [1, 2, 3], the sql generated by mybatis is:\r\n\r\n    select filepath from t_file where id in (?, ?, ?) order by instr(&#39;?, ?, ?&#39;, id)\r\n\r\nBut An exception occurs.\r\n\r\norg.apache.ibatis.type.TypeException: Error setting non null for parameter #4 with JdbcType null.\r\n\r\nAfter changing the xml for testing like below, no exception occurs.\r\n\r\n    &lt;select id=&quot;getFilePaths&quot; resultType=&quot;java.lang.String&quot;&gt;\r\n      select filepath from t_file where id in\r\n      &lt;foreach item=&quot;fileid&quot; collection=&quot;ids&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n        #{fileid}\r\n      &lt;/foreach&gt;\r\n      and id in\r\n      &lt;foreach item=&quot;fileid&quot; collection=&quot;ids&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n        #{fileid}\r\n      &lt;/foreach&gt;\r\n    &lt;/select&gt;\r\n\r\n    Preparing: select filepath from t_file where id in (?, ?, ?) and id in (?, ?, ?)\r\n    Parameters: 1, 2, 3, 1, 2, 3\r\n","title":"mybatis oracle - ordering by the order of values in the IN clause using instr func","body":"<p>I wanna use the instr function to order the query results by the order of values in the IN clause.</p>\n\n<p>mapper</p>\n\n<pre><code>public List&lt;String&gt; getFilePaths(@Param(\"ids\") Integer[] ids)\n</code></pre>\n\n<p>xml</p>\n\n<pre><code>&lt;select id=\"getFilePaths\" resultType=\"java.lang.String\"&gt;\n  select filepath from t_file where id in\n  &lt;foreach item=\"fileid\" collection=\"ids\" separator=\",\" open=\"(\" close=\")\"&gt;\n    #{fileid}\n  &lt;/foreach&gt;\n  order by instr('\n  &lt;foreach item=\"fileid\" collection=\"ids\" separator=\",\"&gt;\n    #{fileid}\n  &lt;/foreach&gt;\n  ',id)\n&lt;/select&gt;\n</code></pre>\n\n<p>When the ids collection is [1, 2, 3], the sql generated by mybatis is:</p>\n\n<pre><code>select filepath from t_file where id in (?, ?, ?) order by instr('?, ?, ?', id)\n</code></pre>\n\n<p>But An exception occurs.</p>\n\n<p>org.apache.ibatis.type.TypeException: Error setting non null for parameter #4 with JdbcType null.</p>\n\n<p>After changing the xml for testing like below, no exception occurs.</p>\n\n<pre><code>&lt;select id=\"getFilePaths\" resultType=\"java.lang.String\"&gt;\n  select filepath from t_file where id in\n  &lt;foreach item=\"fileid\" collection=\"ids\" separator=\",\" open=\"(\" close=\")\"&gt;\n    #{fileid}\n  &lt;/foreach&gt;\n  and id in\n  &lt;foreach item=\"fileid\" collection=\"ids\" separator=\",\" open=\"(\" close=\")\"&gt;\n    #{fileid}\n  &lt;/foreach&gt;\n&lt;/select&gt;\n\nPreparing: select filepath from t_file where id in (?, ?, ?) and id in (?, ?, ?)\nParameters: 1, 2, 3, 1, 2, 3\n</code></pre>\n"},{"tags":["java","sql","arrays","jdbc"],"comments":[{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":1,"creation_date":1288985958,"post_id":4108679,"comment_id":4424457,"body_markdown":"Looks like he refers to java.sql.Array. I have retagged.","body":"Looks like he refers to java.sql.Array. I have retagged."},{"owner":{"account_id":222328,"reputation":1451,"user_id":480848,"accept_rate":80,"display_name":"Valchris"},"score":1,"creation_date":1288986756,"post_id":4108679,"comment_id":4424566,"body_markdown":"Edit your question to increase it&#39;s clarity. Not much info for people to go on in answering.","body":"Edit your question to increase it&#39;s clarity. Not much info for people to go on in answering."},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":0,"creation_date":1288995948,"post_id":4108679,"comment_id":4426081,"body_markdown":"This has nothing to do with SQL.  Retagged.","body":"This has nothing to do with SQL.  Retagged."},{"owner":{"account_id":7991243,"reputation":406,"user_id":6029041,"accept_rate":100,"display_name":"Chexxor"},"score":1,"creation_date":1464007607,"post_id":4108679,"comment_id":62292047,"body_markdown":"@BobJarvis This has everything to do with SQL, retagged...","body":"@BobJarvis This has everything to do with SQL, retagged..."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":0,"creation_date":1516360912,"post_id":4108679,"comment_id":83665010,"body_markdown":"@BobJarvis Please keep the SQL and JDBC tags. Even though the OP didn&#39;t state it explicitly in the question, some of his comments clearly shows that the question _is_ actually related to SQL: https://stackoverflow.com/questions/4108679/how-do-i-cast-from-string-to-array/4109407#comment4423786_4108729","body":"@BobJarvis Please keep the SQL and JDBC tags. Even though the OP didn&#39;t state it explicitly in the question, some of his comments clearly shows that the question <i>is</i> actually related to SQL: <a href=\"https://stackoverflow.com/questions/4108679/how-do-i-cast-from-string-to-array/4109407#comment4423786_4108729\" title=\"how do i cast from string to array\">stackoverflow.com/questions/4108679/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":666326,"reputation":239,"user_id":498627,"display_name":"Edu"},"score":0,"creation_date":1288981617,"post_id":4108704,"comment_id":4423778,"body_markdown":"The problem is that i want to use a method in the jdbc driver framework that inserts arrays into sql databases this method is something like setArray(int arg0, Array arg1) and it only acepts the Array array type what should i do i tried another array types including arralist and nothing is working","body":"The problem is that i want to use a method in the jdbc driver framework that inserts arrays into sql databases this method is something like setArray(int arg0, Array arg1) and it only acepts the Array array type what should i do i tried another array types including arralist and nothing is working"},{"owner":{"account_id":208980,"reputation":8156,"user_id":459780,"accept_rate":84,"display_name":"Daniel Standage"},"score":0,"creation_date":1288985240,"post_id":4108704,"comment_id":4424354,"body_markdown":"What error do you get when you give it a string array? What error you get when you give it an ArrayList?","body":"What error do you get when you give it a string array? What error you get when you give it an ArrayList?"}],"tags":[],"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"comment_count":2,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1288980146,"creation_date":1288980146,"answer_id":4108704,"question_id":4108679,"body_markdown":"`Array` is an interface, not a class. Are you referring to `ArrayList`?!\r\n\r\nHere is your answer: https://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t-in-java\r\n\r\n`new ArrayList&lt;Element&gt;(Arrays.asList(array))`","title":"How can I create a java.sql.Array of Strings?","body":"<p><code>Array</code> is an interface, not a class. Are you referring to <code>ArrayList</code>?!</p>\n\n<p>Here is your answer: <a href=\"https://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t-in-java\">Create ArrayList from array</a></p>\n\n<p><code>new ArrayList&lt;Element&gt;(Arrays.asList(array))</code></p>\n"},{"comments":[{"owner":{"account_id":666326,"reputation":239,"user_id":498627,"display_name":"Edu"},"score":0,"creation_date":1288981659,"post_id":4108729,"comment_id":4423786,"body_markdown":"The problem is that i want to use a method in the jdbc driver framework that inserts arrays into sql databases this method is something like setArray(int arg0, Array arg1) and it only acepts the Array array type what should i do i tried another array types including arralist and nothing is working","body":"The problem is that i want to use a method in the jdbc driver framework that inserts arrays into sql databases this method is something like setArray(int arg0, Array arg1) and it only acepts the Array array type what should i do i tried another array types including arralist and nothing is working"},{"owner":{"account_id":666326,"reputation":239,"user_id":498627,"display_name":"Edu"},"score":0,"creation_date":1288983564,"post_id":4108729,"comment_id":4424086,"body_markdown":"anyone that can help me?","body":"anyone that can help me?"},{"owner":{"account_id":21485,"reputation":24909,"user_id":52233,"display_name":"Alan Geleynse"},"score":0,"creation_date":1288984133,"post_id":4108729,"comment_id":4424174,"body_markdown":"What method are you trying to use?","body":"What method are you trying to use?"},{"owner":{"account_id":21485,"reputation":24909,"user_id":52233,"display_name":"Alan Geleynse"},"score":0,"creation_date":1288986458,"post_id":4108729,"comment_id":4424519,"body_markdown":"Yes, Array has a set of static methods, so I was suggesting using Arrays.asList instead.  But it now looks like he was trying to use java.sql.Arrays, so my answer does not apply.  @Grodriguez seems to have the correct answer.","body":"Yes, Array has a set of static methods, so I was suggesting using Arrays.asList instead.  But it now looks like he was trying to use java.sql.Arrays, so my answer does not apply.  @Grodriguez seems to have the correct answer."}],"tags":[],"owner":{"account_id":21485,"reputation":24909,"user_id":52233,"display_name":"Alan Geleynse"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1288980355,"creation_date":1288980355,"answer_id":4108729,"question_id":4108679,"body_markdown":"The `Array` class is not an actual array.  Instead it is a helper class that has static methods to help with arrays.\r\n\r\nYou may be looking to use `ArrayList` or something like it.  You could use it using `List&lt;String&gt; asd = Arrays.asList(time)`","title":"How can I create a java.sql.Array of Strings?","body":"<p>The <code>Array</code> class is not an actual array.  Instead it is a helper class that has static methods to help with arrays.</p>\n\n<p>You may be looking to use <code>ArrayList</code> or something like it.  You could use it using <code>List&lt;String&gt; asd = Arrays.asList(time)</code></p>\n"},{"comments":[{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1637080027,"post_id":4109407,"comment_id":123727731,"body_markdown":"In the example of PostgreSQL, there is no method where we can pass the List or Arrays to get the java.sql.Array.","body":"In the example of PostgreSQL, there is no method where we can pass the List or Arrays to get the java.sql.Array."}],"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1288986338,"creation_date":1288985904,"answer_id":4109407,"question_id":4108679,"body_markdown":"I assume that what you actually need is a [`java.sql.Array`][1], since you mention jdbc and [`setArray`][2] in some of your comments.\r\n\r\nThree options:\r\n\r\n 1. Try [`Connection.createArrayOf()`][3]. This might or might not be available, depending on the JDBC driver you are using.\r\n 2. Write your own class that implements `java.sql.Array`. Here is [an example][4] for PostgreSQL. \r\n 3. Some implementations, such as [Oracle&#39;s][5], provide utility methods to work with arrays. Check the documentation of your JDBC driver.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/sql/Array.html\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#setArray%28int,%20java.sql.Array%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object[]%29\r\n  [4]: http://tech.valgog.com/2009/02/passing-arrays-to-postgresql-database.html\r\n  [5]: http://download.oracle.com/docs/cd/B10501_01/java.920/a96654/oraarr.htm","title":"How can I create a java.sql.Array of Strings?","body":"<p>I assume that what you actually need is a <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/Array.html\" rel=\"noreferrer\"><code>java.sql.Array</code></a>, since you mention jdbc and <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#setArray%28int,%20java.sql.Array%29\" rel=\"noreferrer\"><code>setArray</code></a> in some of your comments.</p>\n\n<p>Three options:</p>\n\n<ol>\n<li>Try <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5b%5d%29\" rel=\"noreferrer\"><code>Connection.createArrayOf()</code></a>. This might or might not be available, depending on the JDBC driver you are using.</li>\n<li>Write your own class that implements <code>java.sql.Array</code>. Here is <a href=\"http://tech.valgog.com/2009/02/passing-arrays-to-postgresql-database.html\" rel=\"noreferrer\">an example</a> for PostgreSQL. </li>\n<li>Some implementations, such as <a href=\"http://download.oracle.com/docs/cd/B10501_01/java.920/a96654/oraarr.htm\" rel=\"noreferrer\">Oracle's</a>, provide utility methods to work with arrays. Check the documentation of your JDBC driver.</li>\n</ol>\n"}],"owner":{"account_id":666326,"reputation":239,"user_id":498627,"display_name":"Edu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26189,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":3,"score":23,"last_activity_date":1702310931,"creation_date":1288979965,"question_id":4108679,"body_markdown":"I have:\r\n\r\n```lang-java\r\nString[] time = {&quot;22:22:22&quot;,&quot;22:22:23&quot;};\r\nArray asd = null; // This should have the same strings as time\r\n```\r\n\r\nHow can I create an [`java.sql.Array`](https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Array.html) containing the given `time` values, i.e. something like `asd = time`?","title":"How can I create a java.sql.Array of Strings?","body":"<p>I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] time = {&quot;22:22:22&quot;,&quot;22:22:23&quot;};\nArray asd = null; // This should have the same strings as time\n</code></pre>\n<p>How can I create an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Array.html\" rel=\"nofollow noreferrer\"><code>java.sql.Array</code></a> containing the given <code>time</code> values, i.e. something like <code>asd = time</code>?</p>\n"},{"tags":["java","spring","rest","spring-security-oauth2","spring-oauth2"],"comments":[{"owner":{"account_id":4086251,"reputation":924,"user_id":3355465,"display_name":"RZet"},"score":1,"creation_date":1498666298,"post_id":38165131,"comment_id":76595454,"body_markdown":"Why are you trying to use JSON HTTP Content Type in your request? The OAuth specification (https://tools.ietf.org/html/rfc6749) is very clear what content type should be used in the requests. If you follow your JSON path, your client will be bound to a bespoke implementation only compatible with your bespoke server-side code. You also won&#39;t be able to integrate with multiple OAuth providers and give the end user a choice of the login method if you would like to do so, for example: Google, Facebook, Amazon etc.","body":"Why are you trying to use JSON HTTP Content Type in your request? The OAuth specification (<a href=\"https://tools.ietf.org/html/rfc6749\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc6749</a>) is very clear what content type should be used in the requests. If you follow your JSON path, your client will be bound to a bespoke implementation only compatible with your bespoke server-side code. You also won&#39;t be able to integrate with multiple OAuth providers and give the end user a choice of the login method if you would like to do so, for example: Google, Facebook, Amazon etc."}],"answers":[{"tags":[],"owner":{"account_id":8702736,"reputation":11399,"user_id":6511967,"display_name":"Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467535934,"creation_date":1467535934,"answer_id":38168297,"question_id":38165131,"body_markdown":"From the [OAuth 2 specification][1], \r\n\r\n&gt; The client makes a request to the token endpoint by sending the   \r\n&gt; following parameters using the &quot;application/x-www-form-urlencoded&quot;\r\n\r\nAccess token request should use `application/x-www-form-urlencoded`.\r\n\r\nIn Spring security, the Resource Owner Password Credentials Grant Flow is handled by `ResourceOwnerPasswordTokenGranter#getOAuth2Authentication` in Spring Security:\r\n\r\n    protected OAuth2Authentication getOAuth2Authentication(AuthorizationRequest clientToken) {\r\n        Map parameters = clientToken.getAuthorizationParameters();\r\n        String username = (String)parameters.get(&quot;username&quot;);\r\n        String password = (String)parameters.get(&quot;password&quot;);\r\n        UsernamePasswordAuthenticationToken userAuth = new UsernamePasswordAuthenticationToken(username, password);\r\n\r\nYou can send `username` and `password` to request parameter.\r\n\r\nIf you really need to use JSON, there is a workaround. As you can see, `username` and `password` is retrieved from request parameter. Therefore, it will work if you pass them from JSON body into the request parameter.\r\n\r\nThe idea is like follows:\r\n\r\n 1. Create a custom spring security filter.\r\n 2. In your custom filter, create a class to subclass `HttpRequestWrapper`. The class allow you to wrap the original request and get parameters from JSON.\r\n 3. In your subclass of `HttpRequestWrapper`, parse your JSON in request body to get `username`, `password` and `grant_type`, and put them with the original request parameter into a new `HashMap`. Then, override method of `getParameterValues`, `getParameter`, `getParameterNames` and `getParameterMap` to return values from that new `HashMap`\r\n 4. Pass your wrapped request into the filter chain.\r\n 5. Configure your custom filter in your Spring Security Config.\r\n\r\nHope this can help\r\n\r\n \r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6749#section-4.13","title":"Spring security OAuth2 accept JSON","body":"<p>From the <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.13\" rel=\"nofollow noreferrer\">OAuth 2 specification</a>,</p>\n<blockquote>\n<p>The client makes a request to the token endpoint by sending the<br />\nfollowing parameters using the &quot;application/x-www-form-urlencoded&quot;</p>\n</blockquote>\n<p>Access token request should use <code>application/x-www-form-urlencoded</code>.</p>\n<p>In Spring security, the Resource Owner Password Credentials Grant Flow is handled by <code>ResourceOwnerPasswordTokenGranter#getOAuth2Authentication</code> in Spring Security:</p>\n<pre><code>protected OAuth2Authentication getOAuth2Authentication(AuthorizationRequest clientToken) {\n    Map parameters = clientToken.getAuthorizationParameters();\n    String username = (String)parameters.get(&quot;username&quot;);\n    String password = (String)parameters.get(&quot;password&quot;);\n    UsernamePasswordAuthenticationToken userAuth = new UsernamePasswordAuthenticationToken(username, password);\n</code></pre>\n<p>You can send <code>username</code> and <code>password</code> to request parameter.</p>\n<p>If you really need to use JSON, there is a workaround. As you can see, <code>username</code> and <code>password</code> is retrieved from request parameter. Therefore, it will work if you pass them from JSON body into the request parameter.</p>\n<p>The idea is like follows:</p>\n<ol>\n<li>Create a custom spring security filter.</li>\n<li>In your custom filter, create a class to subclass <code>HttpRequestWrapper</code>. The class allow you to wrap the original request and get parameters from JSON.</li>\n<li>In your subclass of <code>HttpRequestWrapper</code>, parse your JSON in request body to get <code>username</code>, <code>password</code> and <code>grant_type</code>, and put them with the original request parameter into a new <code>HashMap</code>. Then, override method of <code>getParameterValues</code>, <code>getParameter</code>, <code>getParameterNames</code> and <code>getParameterMap</code> to return values from that new <code>HashMap</code></li>\n<li>Pass your wrapped request into the filter chain.</li>\n<li>Configure your custom filter in your Spring Security Config.</li>\n</ol>\n<p>Hope this can help</p>\n"},{"comments":[{"owner":{"account_id":3888145,"reputation":566,"user_id":3219016,"accept_rate":41,"display_name":"Prashanth Kumar B"},"score":1,"creation_date":1515309351,"post_id":38284206,"comment_id":83247435,"body_markdown":"Where do I get the RequestFacade from","body":"Where do I get the RequestFacade from"},{"owner":{"account_id":38115,"reputation":75,"user_id":109208,"accept_rate":75,"display_name":"pawelsto"},"score":0,"creation_date":1571641472,"post_id":38284206,"comment_id":103294295,"body_markdown":"Filter registration is unnecessary in `ResourceServerConfigurerAdapter` - actually it do nothing. What is happening is Spring boot is picking up all `Filter` implementations and register them as standard **servlet** filter not spring security filter, that&#39;s why this work.  I struggle with that in non spring boot application.","body":"Filter registration is unnecessary in <code>ResourceServerConfigurerAdapter</code> - actually it do nothing. What is happening is Spring boot is picking up all <code>Filter</code> implementations and register them as standard <b>servlet</b> filter not spring security filter, that&#39;s why this work.  I struggle with that in non spring boot application."}],"tags":[],"owner":{"account_id":5771706,"reputation":491,"user_id":4554973,"display_name":"Jakub Kopřiva"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1468083861,"creation_date":1468083861,"answer_id":38284206,"question_id":38165131,"body_markdown":"Solution (not sure if correct, but it seam that it is working):\r\n\r\nResource Server Configuration:    \r\n\r\n    @Configuration\r\n    public class ServerEndpointsConfiguration extends ResourceServerConfigurerAdapter {\r\n\r\n        @Autowired\r\n        JsonToUrlEncodedAuthenticationFilter jsonFilter;\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .addFilterBefore(jsonFilter, ChannelProcessingFilter.class)\r\n                .csrf().and().httpBasic().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/test&quot;).permitAll()\r\n                .antMatchers(&quot;/secured&quot;).authenticated();\r\n        }\r\n    }\r\n\r\nFilter:\r\n\r\n    @Component\r\n    @Order(value = Integer.MIN_VALUE)\r\n    public class JsonToUrlEncodedAuthenticationFilter implements Filter {\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\r\n                ServletException {\r\n            if (Objects.equals(request.getContentType(), &quot;application/json&quot;) &amp;&amp; Objects.equals(((RequestFacade) request).getServletPath(), &quot;/oauth/token&quot;)) {\r\n                InputStream is = request.getInputStream();\r\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    \r\n                int nRead;\r\n                byte[] data = new byte[16384];\r\n    \r\n                while ((nRead = is.read(data, 0, data.length)) != -1) {\r\n                    buffer.write(data, 0, nRead);\r\n                }\r\n                buffer.flush();\r\n                byte[] json = buffer.toByteArray();\r\n    \r\n                HashMap&lt;String, String&gt; result = new ObjectMapper().readValue(json, HashMap.class);\r\n                HashMap&lt;String, String[]&gt; r = new HashMap&lt;&gt;();\r\n                for (String key : result.keySet()) {\r\n                    String[] val = new String[1];\r\n                    val[0] = result.get(key);\r\n                    r.put(key, val);\r\n                }\r\n    \r\n                String[] val = new String[1];\r\n                val[0] = ((RequestFacade) request).getMethod();\r\n                r.put(&quot;_method&quot;, val);\r\n    \r\n                HttpServletRequest s = new MyServletRequestWrapper(((HttpServletRequest) request), r);\r\n                chain.doFilter(s, response);\r\n            } else {\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    }\r\n\r\nRequest Wrapper:\r\n\r\n    public class MyServletRequestWrapper extends HttpServletRequestWrapper {\r\n        private final HashMap&lt;String, String[]&gt; params;\r\n    \r\n        public MyServletRequestWrapper(HttpServletRequest request, HashMap&lt;String, String[]&gt; params) {\r\n            super(request);\r\n            this.params = params;\r\n        }\r\n    \r\n        @Override\r\n        public String getParameter(String name) {\r\n            if (this.params.containsKey(name)) {\r\n                return this.params.get(name)[0];\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String[]&gt; getParameterMap() {\r\n            return this.params;\r\n        }\r\n    \r\n        @Override\r\n        public Enumeration&lt;String&gt; getParameterNames() {\r\n            return new Enumerator&lt;&gt;(params.keySet());\r\n        }\r\n    \r\n        @Override\r\n        public String[] getParameterValues(String name) {\r\n            return params.get(name);\r\n        }\r\n    }\r\n\r\nAuthorization Server Configuration (disable Basic Auth for /oauth/token endpoint:\r\n\r\n        @Configuration\r\n    public class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        ...\r\n\r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\r\n            oauthServer.allowFormAuthenticationForClients(); // Disable /oauth/token Http Basic Auth\r\n        }\r\n        \r\n        ...\r\n\r\n    }\r\n\r\n","title":"Spring security OAuth2 accept JSON","body":"<p>Solution (not sure if correct, but it seam that it is working):</p>\n\n<p>Resource Server Configuration:    </p>\n\n<pre><code>@Configuration\npublic class ServerEndpointsConfiguration extends ResourceServerConfigurerAdapter {\n\n    @Autowired\n    JsonToUrlEncodedAuthenticationFilter jsonFilter;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .addFilterBefore(jsonFilter, ChannelProcessingFilter.class)\n            .csrf().and().httpBasic().disable()\n            .authorizeRequests()\n            .antMatchers(\"/test\").permitAll()\n            .antMatchers(\"/secured\").authenticated();\n    }\n}\n</code></pre>\n\n<p>Filter:</p>\n\n<pre><code>@Component\n@Order(value = Integer.MIN_VALUE)\npublic class JsonToUrlEncodedAuthenticationFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\n            ServletException {\n        if (Objects.equals(request.getContentType(), \"application/json\") &amp;&amp; Objects.equals(((RequestFacade) request).getServletPath(), \"/oauth/token\")) {\n            InputStream is = request.getInputStream();\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n\n            int nRead;\n            byte[] data = new byte[16384];\n\n            while ((nRead = is.read(data, 0, data.length)) != -1) {\n                buffer.write(data, 0, nRead);\n            }\n            buffer.flush();\n            byte[] json = buffer.toByteArray();\n\n            HashMap&lt;String, String&gt; result = new ObjectMapper().readValue(json, HashMap.class);\n            HashMap&lt;String, String[]&gt; r = new HashMap&lt;&gt;();\n            for (String key : result.keySet()) {\n                String[] val = new String[1];\n                val[0] = result.get(key);\n                r.put(key, val);\n            }\n\n            String[] val = new String[1];\n            val[0] = ((RequestFacade) request).getMethod();\n            r.put(\"_method\", val);\n\n            HttpServletRequest s = new MyServletRequestWrapper(((HttpServletRequest) request), r);\n            chain.doFilter(s, response);\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n\n<p>Request Wrapper:</p>\n\n<pre><code>public class MyServletRequestWrapper extends HttpServletRequestWrapper {\n    private final HashMap&lt;String, String[]&gt; params;\n\n    public MyServletRequestWrapper(HttpServletRequest request, HashMap&lt;String, String[]&gt; params) {\n        super(request);\n        this.params = params;\n    }\n\n    @Override\n    public String getParameter(String name) {\n        if (this.params.containsKey(name)) {\n            return this.params.get(name)[0];\n        }\n        return \"\";\n    }\n\n    @Override\n    public Map&lt;String, String[]&gt; getParameterMap() {\n        return this.params;\n    }\n\n    @Override\n    public Enumeration&lt;String&gt; getParameterNames() {\n        return new Enumerator&lt;&gt;(params.keySet());\n    }\n\n    @Override\n    public String[] getParameterValues(String name) {\n        return params.get(name);\n    }\n}\n</code></pre>\n\n<p>Authorization Server Configuration (disable Basic Auth for /oauth/token endpoint:</p>\n\n<pre><code>    @Configuration\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    ...\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\n        oauthServer.allowFormAuthenticationForClients(); // Disable /oauth/token Http Basic Auth\n    }\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3441057,"reputation":1,"user_id":2883022,"display_name":"redbuo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494415580,"creation_date":1494415580,"answer_id":43891108,"question_id":38165131,"body_markdown":"Also you can modify @jakub-kopřiva solution to support http basic auth for oauth.\r\n\r\nResource Server Configuration:\r\n\r\n    @Configuration\r\n    public class ServerEndpointsConfiguration extends ResourceServerConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        JsonToUrlEncodedAuthenticationFilter jsonFilter;\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .addFilterAfter(jsonFilter, BasicAuthenticationFilter.class)\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/test&quot;).permitAll()\r\n                .antMatchers(&quot;/secured&quot;).authenticated();\r\n        }\r\n    }\r\n\r\nFilter with internal RequestWrapper\r\n\r\n    @Component\r\n    public class JsonToUrlEncodedAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if (Objects.equals(request.getServletPath(), &quot;/oauth/token&quot;) &amp;&amp; Objects.equals(request.getContentType(), &quot;application/json&quot;)) {\r\n    \r\n                byte[] json = ByteStreams.toByteArray(request.getInputStream());\r\n    \r\n                Map&lt;String, String&gt; jsonMap = new ObjectMapper().readValue(json, Map.class);;\r\n                Map&lt;String, String[]&gt; parameters =\r\n                        jsonMap.entrySet().stream()\r\n                                .collect(Collectors.toMap(\r\n                                        Map.Entry::getKey,\r\n                                        e -&gt;  new String[]{e.getValue()})\r\n                                );\r\n                HttpServletRequest requestWrapper = new RequestWrapper(request, parameters);\r\n                filterChain.doFilter(requestWrapper, response);\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        }\r\n    \r\n    \r\n        private class RequestWrapper extends HttpServletRequestWrapper {\r\n    \r\n            private final Map&lt;String, String[]&gt; params;\r\n    \r\n            RequestWrapper(HttpServletRequest request, Map&lt;String, String[]&gt; params) {\r\n                super(request);\r\n                this.params = params;\r\n            }\r\n    \r\n            @Override\r\n            public String getParameter(String name) {\r\n                if (this.params.containsKey(name)) {\r\n                    return this.params.get(name)[0];\r\n                }\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public Map&lt;String, String[]&gt; getParameterMap() {\r\n                return this.params;\r\n            }\r\n    \r\n            @Override\r\n            public Enumeration&lt;String&gt; getParameterNames() {\r\n                return new Enumerator&lt;&gt;(params.keySet());\r\n            }\r\n    \r\n            @Override\r\n            public String[] getParameterValues(String name) {\r\n                return params.get(name);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd also you need to allow x-www-form-urlencoded authentication\r\n\r\n        @Configuration\r\n    public class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\r\n            oauthServer.allowFormAuthenticationForClients();\r\n        }\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\nWith this approach you can still use basic auth for oauth token and request token with json like this:\r\n\r\nHeader:\r\n\r\n    Authorization: Basic bG9yaXpvbfgzaWNwYQ==\r\n\r\nBody:\r\n\r\n    {\r\n        &quot;grant_type&quot;: &quot;password&quot;, \r\n        &quot;username&quot;: &quot;admin&quot;, \r\n        &quot;password&quot;: &quot;1234&quot;\r\n    }","title":"Spring security OAuth2 accept JSON","body":"<p>Also you can modify @jakub-kopřiva solution to support http basic auth for oauth.</p>\n\n<p>Resource Server Configuration:</p>\n\n<pre><code>@Configuration\npublic class ServerEndpointsConfiguration extends ResourceServerConfigurerAdapter {\n\n    @Autowired\n    JsonToUrlEncodedAuthenticationFilter jsonFilter;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .addFilterAfter(jsonFilter, BasicAuthenticationFilter.class)\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(\"/test\").permitAll()\n            .antMatchers(\"/secured\").authenticated();\n    }\n}\n</code></pre>\n\n<p>Filter with internal RequestWrapper</p>\n\n<pre><code>@Component\npublic class JsonToUrlEncodedAuthenticationFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        if (Objects.equals(request.getServletPath(), \"/oauth/token\") &amp;&amp; Objects.equals(request.getContentType(), \"application/json\")) {\n\n            byte[] json = ByteStreams.toByteArray(request.getInputStream());\n\n            Map&lt;String, String&gt; jsonMap = new ObjectMapper().readValue(json, Map.class);;\n            Map&lt;String, String[]&gt; parameters =\n                    jsonMap.entrySet().stream()\n                            .collect(Collectors.toMap(\n                                    Map.Entry::getKey,\n                                    e -&gt;  new String[]{e.getValue()})\n                            );\n            HttpServletRequest requestWrapper = new RequestWrapper(request, parameters);\n            filterChain.doFilter(requestWrapper, response);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n    }\n\n\n    private class RequestWrapper extends HttpServletRequestWrapper {\n\n        private final Map&lt;String, String[]&gt; params;\n\n        RequestWrapper(HttpServletRequest request, Map&lt;String, String[]&gt; params) {\n            super(request);\n            this.params = params;\n        }\n\n        @Override\n        public String getParameter(String name) {\n            if (this.params.containsKey(name)) {\n                return this.params.get(name)[0];\n            }\n            return \"\";\n        }\n\n        @Override\n        public Map&lt;String, String[]&gt; getParameterMap() {\n            return this.params;\n        }\n\n        @Override\n        public Enumeration&lt;String&gt; getParameterNames() {\n            return new Enumerator&lt;&gt;(params.keySet());\n        }\n\n        @Override\n        public String[] getParameterValues(String name) {\n            return params.get(name);\n        }\n    }\n}\n</code></pre>\n\n<p>And also you need to allow x-www-form-urlencoded authentication</p>\n\n<pre><code>    @Configuration\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    ...\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\n        oauthServer.allowFormAuthenticationForClients();\n    }\n\n    ...\n\n}\n</code></pre>\n\n<p>With this approach you can still use basic auth for oauth token and request token with json like this:</p>\n\n<p>Header:</p>\n\n<pre><code>Authorization: Basic bG9yaXpvbfgzaWNwYQ==\n</code></pre>\n\n<p>Body:</p>\n\n<pre><code>{\n    \"grant_type\": \"password\", \n    \"username\": \"admin\", \n    \"password\": \"1234\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3569915,"reputation":21,"user_id":2980494,"display_name":"mmphantom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544574515,"creation_date":1544574107,"answer_id":53734341,"question_id":38165131,"body_markdown":"With Spring Security 5 I only had to add .allowFormAuthenticationForClients() + the JsontoUrlEncodedAuthenticationFilter noted in the other answer to get it to accept json in addition to x-form post data. There was no need to register the resource server or anything.\r\n","title":"Spring security OAuth2 accept JSON","body":"<p>With Spring Security 5 I only had to add .allowFormAuthenticationForClients() + the JsontoUrlEncodedAuthenticationFilter noted in the other answer to get it to accept json in addition to x-form post data. There was no need to register the resource server or anything.</p>\n"},{"tags":[],"owner":{"account_id":6353617,"reputation":723,"user_id":4931757,"display_name":"Neeraj Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547125224,"creation_date":1547125224,"answer_id":54129274,"question_id":38165131,"body_markdown":"You can modify @jakub-kopřiva solution to implement only authorization server with below code.\r\n\r\n     @Configuration\r\n     @Order(Integer.MIN_VALUE)\r\n     public class AuthorizationServerSecurityConfiguration\r\n        extends org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration {\r\n\r\n          @Autowired\r\n          JsonToUrlEncodedAuthenticationFilter jsonFilter;\r\n\r\n          @Override\r\n          protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n                 httpSecurity\r\n                       .addFilterBefore(jsonFilter, ChannelProcessingFilter.class);\r\n                 super.configure(httpSecurity);\r\n          }\r\n\r\n    }","title":"Spring security OAuth2 accept JSON","body":"<p>You can modify @jakub-kopřiva solution to implement only authorization server with below code.</p>\n\n<pre><code> @Configuration\n @Order(Integer.MIN_VALUE)\n public class AuthorizationServerSecurityConfiguration\n    extends org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration {\n\n      @Autowired\n      JsonToUrlEncodedAuthenticationFilter jsonFilter;\n\n      @Override\n      protected void configure(HttpSecurity httpSecurity) throws Exception {\n             httpSecurity\n                   .addFilterBefore(jsonFilter, ChannelProcessingFilter.class);\n             super.configure(httpSecurity);\n      }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2998959,"reputation":366,"user_id":2544825,"accept_rate":33,"display_name":"Davide Pugliese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557214028,"creation_date":1557173445,"answer_id":56011767,"question_id":38165131,"body_markdown":"Hello based on @Jakub Kopřiva answer I have made improvements in order to create working integration tests.\r\nJust so you know, Catalina RequestFacade throws an error in Junit and MockHttpServletRequest, used by mockmvc, does not contain a field &quot;request&quot; as I expect in the filter (therefore throwning NoSuchFieldException when using getDeclaredField()):\r\n`Field f = request.getClass().getDeclaredField(&quot;request&quot;);`&lt;br&gt;\r\nThis is why I used &quot;Rest Assured&quot;. However at this point I ran into another issue which is that for whatever reason the content-type from &#39;application/json&#39; is overwritten into &#39;application/json; charset=utf8&#39; even though I use `MediaType.APPLICATION_JSON_VALUE`. However, the condition looks for something like &#39;application/json;charset=UTF-8&#39; which lies behind `MediaType.APPLICATION_JSON_UTF8_VALUE`, and in conclusion this will always be false.  \r\nTherefore I behaved as I used to do when I coded in PHP and I have normalized the strings (all characters are lowercase, no spaces).\r\nAfter this the integration test finally passes.\r\n\r\n---- JsonToUrlEncodedAuthenticationFilter.java\r\n```\r\npackage com.example.springdemo.configs;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.SneakyThrows;\r\nimport org.apache.catalina.connector.Request;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.security.web.savedrequest.Enumerator;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletRequestWrapper;\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.lang.reflect.Field;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\n@Component\r\n@Order(value = Integer.MIN_VALUE)\r\n\r\npublic class JsonToUrlEncodedAuthenticationFilter implements Filter {\r\n\r\n    private final ObjectMapper mapper;\r\n\r\n    public JsonToUrlEncodedAuthenticationFilter(ObjectMapper mapper) {\r\n        this.mapper = mapper;\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\r\n        Field f = request.getClass().getDeclaredField(&quot;request&quot;);\r\n        f.setAccessible(true);\r\n        Request realRequest = (Request) f.get(request);\r\n\r\n       //Request content type without spaces (inner spaces matter)\r\n       //trim deletes spaces only at the beginning and at the end of the string\r\n        String contentType = realRequest.getContentType().toLowerCase().chars()\r\n                .mapToObj(c -&gt; String.valueOf((char) c))\r\n                .filter(x-&gt;!x.equals(&quot; &quot;))\r\n                .collect(Collectors.joining());\r\n\r\n        if ((contentType.equals(MediaType.APPLICATION_JSON_UTF8_VALUE.toLowerCase())||\r\n                contentType.equals(MediaType.APPLICATION_JSON_VALUE.toLowerCase()))\r\n                        &amp;&amp; Objects.equals((realRequest).getServletPath(), &quot;/oauth/token&quot;)) {\r\n\r\n            InputStream is = realRequest.getInputStream();\r\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(is), 16384)) {\r\n                String json = br.lines()\r\n                        .collect(Collectors.joining(System.lineSeparator()));\r\n                HashMap&lt;String, String&gt; result = mapper.readValue(json, HashMap.class);\r\n                HashMap&lt;String, String[]&gt; r = new HashMap&lt;&gt;();\r\n\r\n                for (String key : result.keySet()) {\r\n                    String[] val = new String[1];\r\n                    val[0] = result.get(key);\r\n                    r.put(key, val);\r\n                }\r\n                String[] val = new String[1];\r\n                val[0] = (realRequest).getMethod();\r\n                r.put(&quot;_method&quot;, val);\r\n\r\n                HttpServletRequest s = new MyServletRequestWrapper(((HttpServletRequest) request), r);\r\n                chain.doFilter(s, response);\r\n            }\r\n\r\n        } else {\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n\r\n    class MyServletRequestWrapper extends HttpServletRequestWrapper {\r\n        private final HashMap&lt;String, String[]&gt; params;\r\n\r\n        MyServletRequestWrapper(HttpServletRequest request, HashMap&lt;String, String[]&gt; params) {\r\n            super(request);\r\n            this.params = params;\r\n        }\r\n\r\n        @Override\r\n        public String getParameter(String name) {\r\n            if (this.params.containsKey(name)) {\r\n                return this.params.get(name)[0];\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        @Override\r\n        public Map&lt;String, String[]&gt; getParameterMap() {\r\n            return this.params;\r\n        }\r\n\r\n        @Override\r\n        public Enumeration&lt;String&gt; getParameterNames() {\r\n            return new Enumerator&lt;&gt;(params.keySet());\r\n        }\r\n\r\n        @Override\r\n        public String[] getParameterValues(String name) {\r\n            return params.get(name);\r\n        }\r\n    }\r\n```\r\n[Here is the repo with the integration test][1]\r\n\r\n\r\n  [1]: https://github.com/Deviad/springdemo/blob/feature/simple_working_jwt_and_oauth2_example/src/test/java/com/example/springdemo/SpringdemoApplicationTests.java","title":"Spring security OAuth2 accept JSON","body":"<p>Hello based on @Jakub Kopřiva answer I have made improvements in order to create working integration tests.\nJust so you know, Catalina RequestFacade throws an error in Junit and MockHttpServletRequest, used by mockmvc, does not contain a field \"request\" as I expect in the filter (therefore throwning NoSuchFieldException when using getDeclaredField()):\n<code>Field f = request.getClass().getDeclaredField(\"request\");</code><br>\nThis is why I used \"Rest Assured\". However at this point I ran into another issue which is that for whatever reason the content-type from 'application/json' is overwritten into 'application/json; charset=utf8' even though I use <code>MediaType.APPLICATION_JSON_VALUE</code>. However, the condition looks for something like 'application/json;charset=UTF-8' which lies behind <code>MediaType.APPLICATION_JSON_UTF8_VALUE</code>, and in conclusion this will always be false.<br>\nTherefore I behaved as I used to do when I coded in PHP and I have normalized the strings (all characters are lowercase, no spaces).\nAfter this the integration test finally passes.</p>\n\n<p>---- JsonToUrlEncodedAuthenticationFilter.java</p>\n\n<pre><code>package com.example.springdemo.configs;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.SneakyThrows;\nimport org.apache.catalina.connector.Request;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.web.savedrequest.Enumerator;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.lang.reflect.Field;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\n@Component\n@Order(value = Integer.MIN_VALUE)\n\npublic class JsonToUrlEncodedAuthenticationFilter implements Filter {\n\n    private final ObjectMapper mapper;\n\n    public JsonToUrlEncodedAuthenticationFilter(ObjectMapper mapper) {\n        this.mapper = mapper;\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    @SneakyThrows\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\n        Field f = request.getClass().getDeclaredField(\"request\");\n        f.setAccessible(true);\n        Request realRequest = (Request) f.get(request);\n\n       //Request content type without spaces (inner spaces matter)\n       //trim deletes spaces only at the beginning and at the end of the string\n        String contentType = realRequest.getContentType().toLowerCase().chars()\n                .mapToObj(c -&gt; String.valueOf((char) c))\n                .filter(x-&gt;!x.equals(\" \"))\n                .collect(Collectors.joining());\n\n        if ((contentType.equals(MediaType.APPLICATION_JSON_UTF8_VALUE.toLowerCase())||\n                contentType.equals(MediaType.APPLICATION_JSON_VALUE.toLowerCase()))\n                        &amp;&amp; Objects.equals((realRequest).getServletPath(), \"/oauth/token\")) {\n\n            InputStream is = realRequest.getInputStream();\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(is), 16384)) {\n                String json = br.lines()\n                        .collect(Collectors.joining(System.lineSeparator()));\n                HashMap&lt;String, String&gt; result = mapper.readValue(json, HashMap.class);\n                HashMap&lt;String, String[]&gt; r = new HashMap&lt;&gt;();\n\n                for (String key : result.keySet()) {\n                    String[] val = new String[1];\n                    val[0] = result.get(key);\n                    r.put(key, val);\n                }\n                String[] val = new String[1];\n                val[0] = (realRequest).getMethod();\n                r.put(\"_method\", val);\n\n                HttpServletRequest s = new MyServletRequestWrapper(((HttpServletRequest) request), r);\n                chain.doFilter(s, response);\n            }\n\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n    class MyServletRequestWrapper extends HttpServletRequestWrapper {\n        private final HashMap&lt;String, String[]&gt; params;\n\n        MyServletRequestWrapper(HttpServletRequest request, HashMap&lt;String, String[]&gt; params) {\n            super(request);\n            this.params = params;\n        }\n\n        @Override\n        public String getParameter(String name) {\n            if (this.params.containsKey(name)) {\n                return this.params.get(name)[0];\n            }\n            return \"\";\n        }\n\n        @Override\n        public Map&lt;String, String[]&gt; getParameterMap() {\n            return this.params;\n        }\n\n        @Override\n        public Enumeration&lt;String&gt; getParameterNames() {\n            return new Enumerator&lt;&gt;(params.keySet());\n        }\n\n        @Override\n        public String[] getParameterValues(String name) {\n            return params.get(name);\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://github.com/Deviad/springdemo/blob/feature/simple_working_jwt_and_oauth2_example/src/test/java/com/example/springdemo/SpringdemoApplicationTests.java\" rel=\"nofollow noreferrer\">Here is the repo with the integration test</a></p>\n"}],"owner":{"account_id":5771706,"reputation":491,"user_id":4554973,"display_name":"Jakub Kopřiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20915,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38284206,"answer_count":6,"score":5,"last_activity_date":1702310842,"creation_date":1467500133,"question_id":38165131,"body_markdown":"I am starting with Spring OAuth2. I would like to send the username and password to /oauth/token endpoint in POST body in application/json format.\r\n\r\n    curl -X POST -H &quot;Authorization: Basic YWNtZTphY21lc2VjcmV0&quot; -H &quot;Content-Type: application/json&quot; -d &#39;{\r\n    &quot;username&quot;: &quot;user&quot;,\r\n    &quot;password&quot;: &quot;password&quot;,\r\n    &quot;grant_type&quot;: &quot;password&quot;\r\n    }&#39; &quot;http://localhost:9999/api/oauth/token&quot;\r\n\r\n\r\n\r\nIs that possible?\r\n\r\nCould you please give me an advice?","title":"Spring security OAuth2 accept JSON","body":"<p>I am starting with Spring OAuth2. I would like to send the username and password to /oauth/token endpoint in POST body in application/json format.</p>\n\n<pre><code>curl -X POST -H \"Authorization: Basic YWNtZTphY21lc2VjcmV0\" -H \"Content-Type: application/json\" -d '{\n\"username\": \"user\",\n\"password\": \"password\",\n\"grant_type\": \"password\"\n}' \"http://localhost:9999/api/oauth/token\"\n</code></pre>\n\n<p>Is that possible?</p>\n\n<p>Could you please give me an advice?</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702310820,"creation_date":1702310820,"answer_id":77640861,"question_id":77639602,"body_markdown":"The ability to send messages to multiple tokens with a single call was removed in the versioned API of Firebase Cloud Messaging. You will need to make a separate call for each message.\r\n\r\nFrom the Firebase documentation on [sending messages to multiple devices](https://firebase.google.com/docs/cloud-messaging/send-message#send-messages-to-multiple-devices):\r\n\r\n&gt; **Important**: The send methods described in this section were deprecated on June 21, 2023, and will be removed in June 2024. For protocol, instead use the standard [HTTP v1 API send method](https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages/send), implementing your own batch send by iterating through the list of recipients and sending to each recipient&#39;s token. For Admin SDK methods, make sure to update to the next major version. See the Firebase [FAQ](https://firebase.google.com/support/faq/#fcm-depr-features) for more information.\r\n\r\nKey from that FAQ is this bit:\r\n\r\n&gt; Action required: Migrate to the standard HTTP v1 API send method, which supports HTTP/2 for multiplexing.\r\n\r\nSo if you need to send many messages this way, you can use HTTP/2 multiplexing to reduce resource usage. That&#39;s what the Firebase Admin SDKs do for example.","title":"firebase cloud messaging: Json payload for java code to multicast messages","body":"<p>The ability to send messages to multiple tokens with a single call was removed in the versioned API of Firebase Cloud Messaging. You will need to make a separate call for each message.</p>\n<p>From the Firebase documentation on <a href=\"https://firebase.google.com/docs/cloud-messaging/send-message#send-messages-to-multiple-devices\" rel=\"nofollow noreferrer\">sending messages to multiple devices</a>:</p>\n<blockquote>\n<p><strong>Important</strong>: The send methods described in this section were deprecated on June 21, 2023, and will be removed in June 2024. For protocol, instead use the standard <a href=\"https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages/send\" rel=\"nofollow noreferrer\">HTTP v1 API send method</a>, implementing your own batch send by iterating through the list of recipients and sending to each recipient's token. For Admin SDK methods, make sure to update to the next major version. See the Firebase <a href=\"https://firebase.google.com/support/faq/#fcm-depr-features\" rel=\"nofollow noreferrer\">FAQ</a> for more information.</p>\n</blockquote>\n<p>Key from that FAQ is this bit:</p>\n<blockquote>\n<p>Action required: Migrate to the standard HTTP v1 API send method, which supports HTTP/2 for multiplexing.</p>\n</blockquote>\n<p>So if you need to send many messages this way, you can use HTTP/2 multiplexing to reduce resource usage. That's what the Firebase Admin SDKs do for example.</p>\n"}],"owner":{"account_id":19398979,"reputation":1,"user_id":14185980,"display_name":"Sabarinathan.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702310820,"creation_date":1702297898,"question_id":77639602,"body_markdown":"Need to send the multicast messages with api call via json payload\r\nwe need to use the Firebase http v1\r\nCurrently i have implemented the single push notification, but i am unable to send the multicast messages using json payload.\r\nwe know json payload key values pairs got changed.\r\n\r\nFor single push messages\r\n\r\njson payload is \r\n```\r\n{\r\n   &quot;message&quot;:{\r\n      &quot;token&quot;:&quot;APA91bGHXQBB...9QgnYOEURwm0I3lmyqzk2TXQ&quot;,\r\n      &quot;data&quot;:{\r\n        &quot;hello&quot;: &quot;This is a Firebase Cloud Messaging device group message!&quot;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nwhat is the json payload for multicast messages\r\ni need know what is the key value for to send device token in the payload","title":"firebase cloud messaging: Json payload for java code to multicast messages","body":"<p>Need to send the multicast messages with api call via json payload\nwe need to use the Firebase http v1\nCurrently i have implemented the single push notification, but i am unable to send the multicast messages using json payload.\nwe know json payload key values pairs got changed.</p>\n<p>For single push messages</p>\n<p>json payload is</p>\n<pre><code>{\n   &quot;message&quot;:{\n      &quot;token&quot;:&quot;APA91bGHXQBB...9QgnYOEURwm0I3lmyqzk2TXQ&quot;,\n      &quot;data&quot;:{\n        &quot;hello&quot;: &quot;This is a Firebase Cloud Messaging device group message!&quot;\n      }\n   }\n}\n</code></pre>\n<p>what is the json payload for multicast messages\ni need know what is the key value for to send device token in the payload</p>\n"},{"tags":["java","regex","url"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":4,"creation_date":1701961440,"post_id":77621050,"comment_id":136841725,"body_markdown":"does it have to use regex or we could leverage [URL class](https://docs.oracle.com/javase/8/docs/api/java/net/URL.html)?","body":"does it have to use regex or we could leverage <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">URL class</a>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1701961567,"post_id":77621050,"comment_id":136841751,"body_markdown":"You&#39;ll find it a lot easier to simply try to connect to it than validate it lexically","body":"You&#39;ll find it a lot easier to simply try to connect to it than validate it lexically"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701961705,"post_id":77621050,"comment_id":136841778,"body_markdown":"A `URL` will validate `http://bla` but won&#39;t accept `0.1.1.9:1234`","body":"A <code>URL</code> will validate <code>http:&#47;&#47;bla</code> but won&#39;t accept <code>0.1.1.9:1234</code>"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701961818,"post_id":77621050,"comment_id":136841801,"body_markdown":"@BagusTesa I want to check the URL without having to establish an internet connection. It doesn&#39;t have to be perfect and I don&#39;t need checks for wrong things like IPs &gt; 255. I&#39;ll try to connect to the actual URL later (have to do a lot of other stuff first) but I don&#39;t want to let the user get that far in the first place if they enter something that&#39;s completely wrong syntax-wise (like &quot;10.9&quot; or &quot;http://bla&quot;), so I can minimize the amount of timeouts.","body":"@BagusTesa I want to check the URL without having to establish an internet connection. It doesn&#39;t have to be perfect and I don&#39;t need checks for wrong things like IPs &gt; 255. I&#39;ll try to connect to the actual URL later (have to do a lot of other stuff first) but I don&#39;t want to let the user get that far in the first place if they enter something that&#39;s completely wrong syntax-wise (like &quot;10.9&quot; or &quot;<a href=\"http://bla&quot;\" rel=\"nofollow noreferrer\">bla&quot;</a>), so I can minimize the amount of timeouts."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701962015,"post_id":77621050,"comment_id":136841835,"body_markdown":"You probably don&#39;t need to worry about timeouts. Set the timeout to a value the user won&#39;t notice","body":"You probably don&#39;t need to worry about timeouts. Set the timeout to a value the user won&#39;t notice"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":1,"creation_date":1701962073,"post_id":77621050,"comment_id":136841847,"body_markdown":"@anubhava A while ago (Java 7 or Java 8) I tested both `URL` and `URI` but the former always asked for a prefix (so e.g. &quot;stackoverflow.com&quot; wouldn&#39;t work) and URI was fine with even &quot;---&quot;. No idea if that&#39;s still the same.","body":"@anubhava A while ago (Java 7 or Java 8) I tested both <code>URL</code> and <code>URI</code> but the former always asked for a prefix (so e.g. &quot;stackoverflow.com&quot; wouldn&#39;t work) and URI was fine with even &quot;---&quot;. No idea if that&#39;s still the same."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701962269,"post_id":77621050,"comment_id":136841885,"body_markdown":"yes it is same behavior","body":"yes it is same behavior"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701962276,"post_id":77621050,"comment_id":136841887,"body_markdown":"@g00se The server my app&#39;s going to connect to and use later can be slow sometimes, so I have to give it enough time to actually respond. The timeout&#39;s currently set to 10s and I&#39;d rather not have the user wait 10s every time if I can do a regex check instead that&#39;s a lot quicker.","body":"@g00se The server my app&#39;s going to connect to and use later can be slow sometimes, so I have to give it enough time to actually respond. The timeout&#39;s currently set to 10s and I&#39;d rather not have the user wait 10s every time if I can do a regex check instead that&#39;s a lot quicker."},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1701963353,"post_id":77621050,"comment_id":136842110,"body_markdown":"@Neph does [this](https://regex101.com/r/aRi65l/1) works for you? tbh, validating URLs and covers every single url conceivable is an [act of madness](https://xkcd.com/1726/). some argue `http://bla` is a valid url - try adding `bla` on your `hosts` list and point it to local server, the (c)TLD is totally optional.","body":"@Neph does <a href=\"https://regex101.com/r/aRi65l/1\" rel=\"nofollow noreferrer\">this</a> works for you? tbh, validating URLs and covers every single url conceivable is an <a href=\"https://xkcd.com/1726/\" rel=\"nofollow noreferrer\">act of madness</a>. some argue <code>http:&#47;&#47;bla</code> is a valid url - try adding <code>bla</code> on your <code>hosts</code> list and point it to local server, the (c)TLD is totally optional."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701963651,"post_id":77621050,"comment_id":136842171,"body_markdown":"@BagusTesa Interesting. That won&#39;t be necessary in my case, neither will e.g. &quot;localhost:1234&quot;. I&#39;m aware you can&#39;t cover every basis with regex, that&#39;s why I&#39;m only testing it with the very basics that I know are going to come up at one point. Thanks, testing it now.","body":"@BagusTesa Interesting. That won&#39;t be necessary in my case, neither will e.g. &quot;localhost:1234&quot;. I&#39;m aware you can&#39;t cover every basis with regex, that&#39;s why I&#39;m only testing it with the very basics that I know are going to come up at one point. Thanks, testing it now."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701963682,"post_id":77621050,"comment_id":136842177,"body_markdown":"`http://amazon.co.uk/?name=value` should also be valid?","body":"<code>http:&#47;&#47;amazon.co.uk&#47;?name=value</code> should also be valid?"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701963850,"post_id":77621050,"comment_id":136842217,"body_markdown":"while at it `http://amazon.co.uk/some-path?name=value`, and a wholeset of url (and) escaped entities..","body":"while at it <code>http:&#47;&#47;amazon.co.uk&#47;some-path?name=value</code>, and a wholeset of url (and) escaped entities.."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701964121,"post_id":77621050,"comment_id":136842273,"body_markdown":"@anubhava Ahm, tbh, I don&#39;t care. For now there aren&#39;t going to be any &quot;?&quot; or &quot;=&quot; in the URL the user has to enter.","body":"@anubhava Ahm, tbh, I don&#39;t care. For now there aren&#39;t going to be any &quot;?&quot; or &quot;=&quot; in the URL the user has to enter."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701964456,"post_id":77621050,"comment_id":136842351,"body_markdown":"[Check if this regex](https://regex101.com/r/DGFT26/1) works for you","body":"<a href=\"https://regex101.com/r/DGFT26/1\" rel=\"nofollow noreferrer\">Check if this regex</a> works for you"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701964539,"post_id":77621050,"comment_id":136842366,"body_markdown":"@BagusTesa Just finished testing it and it&#39;s perfect, it even works with e.g. &quot;http://10.1.1.9:1234/bla/cats/more/alsodogs/&quot;. Thanks! Edit: Going to test your update on Monday.","body":"@BagusTesa Just finished testing it and it&#39;s perfect, it even works with e.g. &quot;<a href=\"http://10.1.1.9:1234/bla/cats/more/alsodogs/\" rel=\"nofollow noreferrer\">10.1.1.9:1234/bla/cats/more/alsodogs</a>&quot;. Thanks! Edit: Going to test your update on Monday."},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701964540,"post_id":77621050,"comment_id":136842367,"body_markdown":"@Neph [updated](https://regex101.com/r/aRi65l/4), now it verifies that no ip address looking like `300.300.300.300`, still stupidly allows `299` though. it also validates querystring somewhat. i&#39;ll be cursed for making this.","body":"@Neph <a href=\"https://regex101.com/r/aRi65l/4\" rel=\"nofollow noreferrer\">updated</a>, now it verifies that no ip address looking like <code>300.300.300.300</code>, still stupidly allows <code>299</code> though. it also validates querystring somewhat. i&#39;ll be cursed for making this."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701965128,"post_id":77621050,"comment_id":136842483,"body_markdown":"No rush, whenever you do also look for regex efficiency i.e. # of steps taken.","body":"No rush, whenever you do also look for regex efficiency i.e. # of steps taken."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1702309429,"post_id":77621050,"comment_id":136877447,"body_markdown":"@anubhava Just finished testing your solution and it works perfectly with the examples above and a couple of extras in my code, thanks! I think I&#39;ll go with Bagus&#39; solution because it also checks the IP and port for the correct length, which I didn&#39;t ask for in my question but could still be useful. Want to post your code as an answer too?","body":"@anubhava Just finished testing your solution and it works perfectly with the examples above and a couple of extras in my code, thanks! I think I&#39;ll go with Bagus&#39; solution because it also checks the IP and port for the correct length, which I didn&#39;t ask for in my question but could still be useful. Want to post your code as an answer too?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1702309925,"post_id":77621050,"comment_id":136877558,"body_markdown":"@Neph: Accepted answer doesn&#39;t validate `https://x.com` which is a valid domain","body":"@Neph: Accepted answer doesn&#39;t validate <code>https:&#47;&#47;x.com</code> which is a valid domain"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1702311192,"post_id":77621050,"comment_id":136877788,"body_markdown":"@anubhava Ah, that special case, you&#39;re correct, I didn&#39;t think of `t.co` either. There are far [more](https://en.wikipedia.org/wiki/Single-letter_second-level_domain) of those in use than expected, even non-ascii ones but that would be completely overkill (and the URLs I have to validate are not going to be single-letter). Going to test your updated version tomorrow, thanks. What makes your solution &quot;far more efficient&quot;? Is it just about the length of the regex code?","body":"@anubhava Ah, that special case, you&#39;re correct, I didn&#39;t think of <code>t.co</code> either. There are far <a href=\"https://en.wikipedia.org/wiki/Single-letter_second-level_domain\" rel=\"nofollow noreferrer\">more</a> of those in use than expected, even non-ascii ones but that would be completely overkill (and the URLs I have to validate are not going to be single-letter). Going to test your updated version tomorrow, thanks. What makes your solution &quot;far more efficient&quot;? Is it just about the length of the regex code?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1702312977,"post_id":77621050,"comment_id":136878111,"body_markdown":"No regex length is never a criteria. On regex101 site click on a flavor (such as Python that shows number of steps taken to execute) and you will see a big difference in steps count between my answer and his. Septs count is shown at top right of the regex text area.","body":"No regex length is never a criteria. On regex101 site click on a flavor (such as Python that shows number of steps taken to execute) and you will see a big difference in steps count between my answer and his. Septs count is shown at top right of the regex text area."}],"answers":[{"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1701965551,"post_id":77621447,"comment_id":136842569,"body_markdown":"What about IPv6 :D?","body":"What about IPv6 :D?"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701965649,"post_id":77621447,"comment_id":136842591,"body_markdown":"@khachik oh right :(","body":"@khachik oh right :("}],"tags":[],"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701965672,"creation_date":1701964931,"answer_id":77621447,"question_id":77621050,"body_markdown":"I don&#39;t want to lose this regex in case I need it in the future so I will put it here.\r\n\r\nThe regex below separated into schema, subdomain(s), domain, (c)TLD, separate handling for IPv4 Address*, URL paths, query string, and finally anchor.\r\n\r\n    ^(((ht|f)tps?)://)?(((\\w+\\-*\\w+\\.)*(\\w+\\-*\\w+)(\\.[\\w]{2,})+)|(((1|2){0,1}[0-9]{1,2}\\.){3}(1|2){0,1}[0-9]{1,2}))(:[0-9]{2,5})?(/(#/)?[\\w0-9+\\/\\-]*(\\?([\\w0-9 ]+=([\\w0-9]|%[0-7][0-9a-f])+&amp;?)*)?(#[\\w0-9]*)?)*$\r\n\r\nIt will see the following as valid URL:\r\n\r\n    stackoverflow.com\r\n    http://stackoverflow.com\r\n    http://stack-overflow.com\r\n    http://test-1.stack-overflow.com/salsa1/#11223a\r\n    http://salsa.com/#/about-us\r\n    http://test.com/#/about--cats\r\n    http://amazon.co.uk\r\n    https://www.amazon.co.uk\r\n    ftp://10.1.1.9\r\n    10.1.1.9:1234/bla/bla/bla\r\n    255.1.1.9/bla/bla/bla\r\n    http://10.1.1.9:1234/bla/bla\r\n    http://amazon.co.uk/?name=value\r\n    http://amazon.co.uk/test?name=value&amp;sasa=1\r\n    http://amazon10.com\r\n\r\nThere might be many things it does not cover, but perhaps someone else can write better regex.\r\n\r\n\\* The IP Address still allows 299, but it disallow 300 and above.\r\n\r\nFiddle: https://regex101.com/r/aRi65l/4","title":"Check URL/IP with port with regex","body":"<p>I don't want to lose this regex in case I need it in the future so I will put it here.</p>\n<p>The regex below separated into schema, subdomain(s), domain, (c)TLD, separate handling for IPv4 Address*, URL paths, query string, and finally anchor.</p>\n<pre><code>^(((ht|f)tps?)://)?(((\\w+\\-*\\w+\\.)*(\\w+\\-*\\w+)(\\.[\\w]{2,})+)|(((1|2){0,1}[0-9]{1,2}\\.){3}(1|2){0,1}[0-9]{1,2}))(:[0-9]{2,5})?(/(#/)?[\\w0-9+\\/\\-]*(\\?([\\w0-9 ]+=([\\w0-9]|%[0-7][0-9a-f])+&amp;?)*)?(#[\\w0-9]*)?)*$\n</code></pre>\n<p>It will see the following as valid URL:</p>\n<pre><code>stackoverflow.com\nhttp://stackoverflow.com\nhttp://stack-overflow.com\nhttp://test-1.stack-overflow.com/salsa1/#11223a\nhttp://salsa.com/#/about-us\nhttp://test.com/#/about--cats\nhttp://amazon.co.uk\nhttps://www.amazon.co.uk\nftp://10.1.1.9\n10.1.1.9:1234/bla/bla/bla\n255.1.1.9/bla/bla/bla\nhttp://10.1.1.9:1234/bla/bla\nhttp://amazon.co.uk/?name=value\nhttp://amazon.co.uk/test?name=value&amp;sasa=1\nhttp://amazon10.com\n</code></pre>\n<p>There might be many things it does not cover, but perhaps someone else can write better regex.</p>\n<p>* The IP Address still allows 299, but it disallow 300 and above.</p>\n<p>Fiddle: <a href=\"https://regex101.com/r/aRi65l/4\" rel=\"nofollow noreferrer\">https://regex101.com/r/aRi65l/4</a></p>\n"},{"comments":[{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":3,"creation_date":1702302803,"post_id":77621613,"comment_id":136876048,"body_markdown":"How does this help answer my question?","body":"How does this help answer my question?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701966512,"creation_date":1701966512,"answer_id":77621613,"question_id":77621050,"body_markdown":"For reference, here is the relevant _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_ from, _[RFC 1738 &amp;ndash; Uniform Resource Locators (URL)](https://datatracker.ietf.org/doc/html/rfc1738)_.\r\n\r\n```none\r\ngenericurl     = scheme &quot;:&quot; schemepart\r\nscheme         = 1*[ lowalpha | digit | &quot;+&quot; | &quot;-&quot; | &quot;.&quot; ]\r\nschemepart     = *xchar | ip-schemepart\r\nip-schemepart  = &quot;//&quot; login [ &quot;/&quot; urlpath ]\r\nlogin          = [ user [ &quot;:&quot; password ] &quot;@&quot; ] hostport\r\nuser           = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\r\npassword       = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\r\nhostport       = host [ &quot;:&quot; port ]\r\nhost           = hostname | hostnumber\r\nhostname       = *[ domainlabel &quot;.&quot; ] toplabel\r\nhostnumber     = digits &quot;.&quot; digits &quot;.&quot; digits &quot;.&quot; digits\r\ndomainlabel    = alphadigit | alphadigit *[ alphadigit | &quot;-&quot; ] \r\ntoplabel       = alpha | alpha *[ alphadigit | &quot;-&quot; ] alphadigit\r\nport           = digits\r\nurlpath        = *xchar    ; depends on protocol see section 3.1\r\nuchar          = unreserved | escape\r\nxchar          = unreserved | reserved | escape\r\nunreserved     = alpha | digit | safe | extra\r\nsafe           = &quot;$&quot; | &quot;-&quot; | &quot;_&quot; | &quot;.&quot; | &quot;+&quot;\r\nextra          = &quot;!&quot; | &quot;*&quot; | &quot;&#39;&quot; | &quot;(&quot; | &quot;)&quot; | &quot;,&quot;\r\nreserved       = &quot;;&quot; | &quot;/&quot; | &quot;?&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot;\r\nescape         = &quot;%&quot; hex hex\r\n","title":"Check URL/IP with port with regex","body":"<p>For reference, here is the relevant <em><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></em> from, <em><a href=\"https://datatracker.ietf.org/doc/html/rfc1738\" rel=\"nofollow noreferrer\">RFC 1738 – Uniform Resource Locators (URL)</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>genericurl     = scheme &quot;:&quot; schemepart\nscheme         = 1*[ lowalpha | digit | &quot;+&quot; | &quot;-&quot; | &quot;.&quot; ]\nschemepart     = *xchar | ip-schemepart\nip-schemepart  = &quot;//&quot; login [ &quot;/&quot; urlpath ]\nlogin          = [ user [ &quot;:&quot; password ] &quot;@&quot; ] hostport\nuser           = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\npassword       = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\nhostport       = host [ &quot;:&quot; port ]\nhost           = hostname | hostnumber\nhostname       = *[ domainlabel &quot;.&quot; ] toplabel\nhostnumber     = digits &quot;.&quot; digits &quot;.&quot; digits &quot;.&quot; digits\ndomainlabel    = alphadigit | alphadigit *[ alphadigit | &quot;-&quot; ] \ntoplabel       = alpha | alpha *[ alphadigit | &quot;-&quot; ] alphadigit\nport           = digits\nurlpath        = *xchar    ; depends on protocol see section 3.1\nuchar          = unreserved | escape\nxchar          = unreserved | reserved | escape\nunreserved     = alpha | digit | safe | extra\nsafe           = &quot;$&quot; | &quot;-&quot; | &quot;_&quot; | &quot;.&quot; | &quot;+&quot;\nextra          = &quot;!&quot; | &quot;*&quot; | &quot;'&quot; | &quot;(&quot; | &quot;)&quot; | &quot;,&quot;\nreserved       = &quot;;&quot; | &quot;/&quot; | &quot;?&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot;\nescape         = &quot;%&quot; hex hex\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15725245,"reputation":2732,"user_id":11355926,"display_name":"Cow"},"score":1,"creation_date":1702019145,"post_id":77624865,"comment_id":136848686,"body_markdown":"Please do not use your own website as an example or hidden promotion.","body":"Please do not use your own website as an example or hidden promotion."}],"tags":[],"owner":{"account_id":26848336,"reputation":11,"user_id":20433730,"display_name":"17Hieng"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702019293,"creation_date":1702018925,"answer_id":77624865,"question_id":77621050,"body_markdown":"**This maybe the most complete regex for checking whether an URL valid**\r\n\r\n    ^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-])?((&amp;)([\\w]+)(=[\\w\\.~%-])?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$\r\n\r\n**1st part: Scheme**\r\n\r\n&gt; - http ://\r\n&gt; - https://\r\n&gt; -  ftp ://\r\n&gt; -  ftps://\r\n\r\n    ((ht|f)(tp)(s)?(:\\/\\/))?\r\n\r\n**2nd part: domain or IPv4 address**\r\n\r\n&gt; - 192.168.0.1\r\n&gt; - stackoverflow.com\r\n\r\n    (([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))\r\n\r\n**3rd part: port**\r\n\r\n&gt; - :65535\r\n&gt; - :1\r\n\r\n    (:\\d{1,5})?\r\n\r\n**4th part: path**\r\n\r\n&gt; - /edu/\r\n&gt; - /about\r\n&gt; - /acc/user/management\r\n\r\n    ((\\/)([\\w\\.~%-]+))*(\\/)?\r\n\r\n**5th part: query**\r\n&gt; - ?query=a&amp;b=c\r\n\r\n    ((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?\r\n\r\n**6th part: Fragments**\r\n\r\n&gt; - #about\r\n&gt; - #line=10,20\r\n&gt; - #row=5-7\r\n&gt; - #row=5-*\r\n&gt; - #cell=4,1-6,2\r\n&gt; - #t=40,80&amp;xywh=160,120,320,240\r\n&gt; - #:~:text=prefix-,textStart,textEnd,-suffix\r\n\r\n    ^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$","title":"Check URL/IP with port with regex","body":"<p><strong>This maybe the most complete regex for checking whether an URL valid</strong></p>\n<pre><code>^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-])?((&amp;)([\\w]+)(=[\\w\\.~%-])?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$\n</code></pre>\n<p><strong>1st part: Scheme</strong></p>\n<blockquote>\n<ul>\n<li>http ://</li>\n<li>https://</li>\n<li>ftp ://</li>\n<li>ftps://</li>\n</ul>\n</blockquote>\n<pre><code>((ht|f)(tp)(s)?(:\\/\\/))?\n</code></pre>\n<p><strong>2nd part: domain or IPv4 address</strong></p>\n<blockquote>\n<ul>\n<li>192.168.0.1</li>\n<li>stackoverflow.com</li>\n</ul>\n</blockquote>\n<pre><code>(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))\n</code></pre>\n<p><strong>3rd part: port</strong></p>\n<blockquote>\n<ul>\n<li>:65535</li>\n<li>:1</li>\n</ul>\n</blockquote>\n<pre><code>(:\\d{1,5})?\n</code></pre>\n<p><strong>4th part: path</strong></p>\n<blockquote>\n<ul>\n<li>/edu/</li>\n<li>/about</li>\n<li>/acc/user/management</li>\n</ul>\n</blockquote>\n<pre><code>((\\/)([\\w\\.~%-]+))*(\\/)?\n</code></pre>\n<p><strong>5th part: query</strong></p>\n<blockquote>\n<ul>\n<li>?query=a&amp;b=c</li>\n</ul>\n</blockquote>\n<pre><code>((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?\n</code></pre>\n<p><strong>6th part: Fragments</strong></p>\n<blockquote>\n<ul>\n<li>#about</li>\n<li>#line=10,20</li>\n<li>#row=5-7</li>\n<li>#row=5-*</li>\n<li>#cell=4,1-6,2</li>\n<li>#t=40,80&amp;xywh=160,120,320,240</li>\n<li>#:~:text=prefix-,textStart,textEnd,-suffix</li>\n</ul>\n</blockquote>\n<pre><code>^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702310302,"creation_date":1702310302,"answer_id":77640809,"question_id":77621050,"body_markdown":"Converting my comment to answer with one enhancement. You may use this *optimized* regex:\r\n\r\n```sh\r\n^(?:(?:ht|f)tps?://)?(?=(?:\\d{1,4}(?:\\.\\d{1,4}){3}|[^:/\\n]*[^:/.\\d\\n])(?:[:/]|$))[\\da-z](?!\\w*-)[\\w-]*(?:\\.[-\\w]*[\\da-z])+(?::\\d+)?(?:/[-\\w.?\\,&#39;/\\\\\\+&amp;;%$#?&amp;=]*)?$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n\r\n  [1]: https://regex101.com/r/DGFT26/2","title":"Check URL/IP with port with regex","body":"<p>Converting my comment to answer with one enhancement. You may use this <em>optimized</em> regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^(?:(?:ht|f)tps?://)?(?=(?:\\d{1,4}(?:\\.\\d{1,4}){3}|[^:/\\n]*[^:/.\\d\\n])(?:[:/]|$))[\\da-z](?!\\w*-)[\\w-]*(?:\\.[-\\w]*[\\da-z])+(?::\\d+)?(?:/[-\\w.?\\,'/\\\\\\+&amp;;%$#?&amp;=]*)?$\n</code></pre>\n<p><a href=\"https://regex101.com/r/DGFT26/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n"}],"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77621447,"answer_count":4,"score":0,"last_activity_date":1702310302,"creation_date":1701961320,"question_id":77621050,"body_markdown":"My Java 11/Android app has to check if the URL/IP the user entered could theoretically be valid (using `myURL.trim().matches(regex)`).\r\n\r\nWhat should be valid (including variations):\r\n\r\n - stackoverflow.com\r\n - http://stackoverflow.com\r\n - http://amazon.co.uk\r\n - https://www.amazon.co.uk\r\n - ftp://10.1.1.9\r\n - 10.1.1.9:1234\r\n - http://10.1.1.9:1234/bla\r\n\r\nWhat shouldn&#39;t be valid:\r\n\r\n - http://bla\r\n - bla\r\n - &quot;---&quot; (without the &quot;&quot;, had to add them because of formatting)\r\n - 10.9\r\n - 10.1.1.\r\n - 10.1..1.9\r\n\r\nI don&#39;t care if the user enters e.g. &quot;999.999.999.999&quot;, I only want to know if the syntax is theoretically correct, which it would be in this case.\r\n\r\nSo far I&#39;ve been using this regex:\r\n\r\n    String regex1 = &quot;((http|https|ftp)://)?((\\\\w)*|([0-9]*)|([-|_])*)+([\\\\.|/]((\\\\w)*|([0-9]*)|([-|_])*))+&quot;;\r\n\r\n... but now I want to check for the port too and ^ doesn&#39;t support that. This other version supports ports:\r\n\r\n    String regex2 = &quot;((http|https|ftp)://)?(([^/:.[:space:]]+(.[^/:.[:space:]]+)*)|([0-9](.[0-9]{3})))(:[0-9]+)?((/[^?#[:space:]]+)([^#[:space:]]+)?(#.+)?)?&quot;;\r\n\r\n... but it returns `true` for strings like &quot;http://bla&quot; or &quot;---&quot;.\r\n\r\nI also tested [this version][1] by Microsoft:\r\n\r\n    String regex3 = &quot;^(ht|f)tp(s?)\\\\:\\\\/\\\\/[0-9a-zA-Z]([-.\\\\w]*[0-9a-zA-Z])*(:(0-9)*)*(\\\\/?)([a-zA-Z0-9\\\\-\\\\.\\\\?\\\\,\\\\&#39;\\\\/\\\\\\\\\\\\+&amp;amp;%\\\\$#_]*)?$&quot;;\r\n\r\n... but it doesn&#39;t work for some of the above examples (&quot;http://bla&quot; and &quot;http://10.1.1.9:1234/bla&quot; are valid, &quot;10.1.1.9&quot; and &quot;stackoverflow.com&quot; aren&#39;t) and I&#39;m not sure how to get [this][2] long PHP version to work with java, as it complains about the &quot;#&quot; and &quot;)&quot;.\r\n\r\nI&#39;m aware there&#39;s already a lot of regex code for validating URLs floating around on stackoverflow and I already tested a bunch of other versions from the [mega-thread][3] (and other questions) but the ones that I could get Android Studio to accept didn&#39;t work and my regex &quot;knowledge&quot; isn&#39;t even remotely big enough to modify someone else&#39;s code, let alone write my own.\r\n\r\nHow do I accomplish this?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/previous-versions/msp-n-p/ff650303(v=pandp.10)?redirectedfrom=MSDN\r\n  [2]: https://stackoverflow.com/a/2015516/2016165\r\n  [3]: https://stackoverflow.com/q/161738/2016165","title":"Check URL/IP with port with regex","body":"<p>My Java 11/Android app has to check if the URL/IP the user entered could theoretically be valid (using <code>myURL.trim().matches(regex)</code>).</p>\n<p>What should be valid (including variations):</p>\n<ul>\n<li>stackoverflow.com</li>\n<li><a href=\"http://stackoverflow.com\">http://stackoverflow.com</a></li>\n<li><a href=\"http://amazon.co.uk\" rel=\"nofollow noreferrer\">http://amazon.co.uk</a></li>\n<li><a href=\"https://www.amazon.co.uk\" rel=\"nofollow noreferrer\">https://www.amazon.co.uk</a></li>\n<li><a href=\"ftp://10.1.1.9\" rel=\"nofollow noreferrer\">ftp://10.1.1.9</a></li>\n<li>10.1.1.9:1234</li>\n<li><a href=\"http://10.1.1.9:1234/bla\" rel=\"nofollow noreferrer\">http://10.1.1.9:1234/bla</a></li>\n</ul>\n<p>What shouldn't be valid:</p>\n<ul>\n<li>http://bla</li>\n<li>bla</li>\n<li>&quot;---&quot; (without the &quot;&quot;, had to add them because of formatting)</li>\n<li>10.9</li>\n<li>10.1.1.</li>\n<li>10.1..1.9</li>\n</ul>\n<p>I don't care if the user enters e.g. &quot;999.999.999.999&quot;, I only want to know if the syntax is theoretically correct, which it would be in this case.</p>\n<p>So far I've been using this regex:</p>\n<pre><code>String regex1 = &quot;((http|https|ftp)://)?((\\\\w)*|([0-9]*)|([-|_])*)+([\\\\.|/]((\\\\w)*|([0-9]*)|([-|_])*))+&quot;;\n</code></pre>\n<p>... but now I want to check for the port too and ^ doesn't support that. This other version supports ports:</p>\n<pre><code>String regex2 = &quot;((http|https|ftp)://)?(([^/:.[:space:]]+(.[^/:.[:space:]]+)*)|([0-9](.[0-9]{3})))(:[0-9]+)?((/[^?#[:space:]]+)([^#[:space:]]+)?(#.+)?)?&quot;;\n</code></pre>\n<p>... but it returns <code>true</code> for strings like &quot;http://bla&quot; or &quot;---&quot;.</p>\n<p>I also tested <a href=\"https://learn.microsoft.com/en-us/previous-versions/msp-n-p/ff650303(v=pandp.10)?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">this version</a> by Microsoft:</p>\n<pre><code>String regex3 = &quot;^(ht|f)tp(s?)\\\\:\\\\/\\\\/[0-9a-zA-Z]([-.\\\\w]*[0-9a-zA-Z])*(:(0-9)*)*(\\\\/?)([a-zA-Z0-9\\\\-\\\\.\\\\?\\\\,\\\\'\\\\/\\\\\\\\\\\\+&amp;amp;%\\\\$#_]*)?$&quot;;\n</code></pre>\n<p>... but it doesn't work for some of the above examples (&quot;http://bla&quot; and &quot;http://10.1.1.9:1234/bla&quot; are valid, &quot;10.1.1.9&quot; and &quot;stackoverflow.com&quot; aren't) and I'm not sure how to get <a href=\"https://stackoverflow.com/a/2015516/2016165\">this</a> long PHP version to work with java, as it complains about the &quot;#&quot; and &quot;)&quot;.</p>\n<p>I'm aware there's already a lot of regex code for validating URLs floating around on stackoverflow and I already tested a bunch of other versions from the <a href=\"https://stackoverflow.com/q/161738/2016165\">mega-thread</a> (and other questions) but the ones that I could get Android Studio to accept didn't work and my regex &quot;knowledge&quot; isn't even remotely big enough to modify someone else's code, let alone write my own.</p>\n<p>How do I accomplish this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1702310265,"post_id":77640793,"comment_id":136877625,"body_markdown":"No matter what it really means, it&#39;s definitely a false positive, because no real IO happens in that code. You&#39;re just decoding and interpreting a string. If anything the IO would have to have happened wherever you got the string from. Anyway: your static analyzer tool should have some more context/description of what this rule is trying to do/prevent.","body":"No matter what it really means, it&#39;s definitely a false positive, because no real IO happens in that code. You&#39;re just decoding and interpreting a string. If anything the IO would have to have happened wherever you got the string from. Anyway: your static analyzer tool should have some more context/description of what this rule is trying to do/prevent."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1702310319,"post_id":77640793,"comment_id":136877637,"body_markdown":"I strongly advise you not to use Object streams. They are VERY brittle (when class changes, a serialized object can no longer be unserialized)","body":"I strongly advise you not to use Object streams. They are VERY brittle (when class changes, a serialized object can no longer be unserialized)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702321106,"post_id":77640793,"comment_id":136879391,"body_markdown":"@ControlAltDel There is a whole chapter in the Object Serialization Specification that refutes your claim.","body":"@ControlAltDel There is a whole chapter in the Object Serialization Specification that refutes your claim."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1702321227,"post_id":77640793,"comment_id":136879405,"body_markdown":"@user207421 care to post a link to the content you are referencing?","body":"@user207421 care to post a link to the content you are referencing?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702331322,"post_id":77640793,"comment_id":136881002,"body_markdown":"@ControlAltDel You mean the Java Object Serialization Specification? It&#39;s part of the JDK documentation. Surely you read it before you started posting content about it?","body":"@ControlAltDel You mean the Java Object Serialization Specification? It&#39;s part of the JDK documentation. Surely you read it before you started posting content about it?"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702310063,"creation_date":1702310063,"question_id":77640793,"body_markdown":"- What I am trying to achieve:\r\n\r\nUse ObjectInputStream readObject with authorization check.\r\n\r\n- What did I try:\r\n\r\nI have this piece of code:\r\n\r\n```\r\n    public Map&lt;?, ?&gt; question(String encoded) {\r\n        try (var objectInputStream = new ObjectInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(encoded)))) {\r\n            return (Map&lt;?, ?&gt;) objectInputStream.readObject();\r\n        } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nAnd several static analyzer would flag the following:\r\n\r\n```\r\nobjectInputStream.readObject()  An I\\O action occurs at File.java in line without authorization checks.\r\n```\r\n\r\n- Questions:\r\n\r\nWhat is the meaning if this issue? Is this requiring some kind of user credentials passwords? \r\nHow to solve it, i.e how to properly solve this authorization check?","title":"java.io.ObjectInputStream.readObject() An I\\O action occurs at File.java in line without authorization checks","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>Use ObjectInputStream readObject with authorization check.</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<p>I have this piece of code:</p>\n<pre><code>    public Map&lt;?, ?&gt; question(String encoded) {\n        try (var objectInputStream = new ObjectInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(encoded)))) {\n            return (Map&lt;?, ?&gt;) objectInputStream.readObject();\n        } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>And several static analyzer would flag the following:</p>\n<pre><code>objectInputStream.readObject()  An I\\O action occurs at File.java in line without authorization checks.\n</code></pre>\n<ul>\n<li>Questions:</li>\n</ul>\n<p>What is the meaning if this issue? Is this requiring some kind of user credentials passwords?\nHow to solve it, i.e how to properly solve this authorization check?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":1,"creation_date":1702309437,"post_id":77640637,"comment_id":136877449,"body_markdown":"Can you please show us how your application is set up, particularly any JPA-related annotations like `@EntityScan` or `@EnableJpaRepositories`, if they are used? `AvailabilityRepository` implementation, configuration files, etc. The more details you share the easier to identify what exactly causes this problem.","body":"Can you please show us how your application is set up, particularly any JPA-related annotations like <code>@EntityScan</code> or <code>@EnableJpaRepositories</code>, if they are used? <code>AvailabilityRepository</code> implementation, configuration files, etc. The more details you share the easier to identify what exactly causes this problem."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1702309458,"post_id":77640637,"comment_id":136877455,"body_markdown":"Does this answer your question? [Unable to load the Entity classes using spring boot 3.1.2?](https://stackoverflow.com/questions/76819918/unable-to-load-the-entity-classes-using-spring-boot-3-1-2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76819918/unable-to-load-the-entity-classes-using-spring-boot-3-1-2\">Unable to load the Entity classes using spring boot 3.1.2?</a>"},{"owner":{"account_id":28685687,"reputation":1,"user_id":23082139,"display_name":"Lucas Palmann"},"score":0,"creation_date":1702310045,"post_id":77640637,"comment_id":136877583,"body_markdown":"@RuslanZinovyev i updated the thread with more code - i also tried changing the imports from javax.persistence to jakarta.persistence.","body":"@RuslanZinovyev i updated the thread with more code - i also tried changing the imports from javax.persistence to jakarta.persistence."},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1702312829,"post_id":77640637,"comment_id":136878089,"body_markdown":"I see some inconsistency, in your first `Availability` class example you imported:\n`import javax.persistence.*;`\nIn the second example of `Availability` class you used\n`import jakarta.persistence.*;`","body":"I see some inconsistency, in your first <code>Availability</code> class example you imported: <code>import javax.persistence.*;</code> In the second example of <code>Availability</code> class you used <code>import jakarta.persistence.*;</code>"},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1702316383,"post_id":77640637,"comment_id":136878660,"body_markdown":"Can you please confirm what import you are using in your `Availability` class, I think your problem is related to this.","body":"Can you please confirm what import you are using in your <code>Availability</code> class, I think your problem is related to this."}],"owner":{"account_id":28685687,"reputation":1,"user_id":23082139,"display_name":"Lucas Palmann"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702314221,"answer_count":0,"score":0,"last_activity_date":1702310022,"creation_date":1702308414,"question_id":77640637,"body_markdown":"I&#39;m trying to run my Spring Boot Java project, but i get these errors when i try to run it:\r\n\r\n\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;availabilityRepository&#39; defined in com.island.lendingportal.repository.AvailabilityRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.island.lendingportal.model.Availability\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;availabilityService&#39; defined in file [C:\\Users\\Lucas\\IdeaProjects\\javap3\\lending-portal\\target\\classes\\com\\island\\lendingportal\\service\\AvailabilityService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;availabilityRepository&#39; defined in com.island.lendingportal.repository.AvailabilityRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.island.lendingportal.model.Availability\r\n\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.island.lendingportal.model.Availability\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:193) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:463) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\r\n\r\n\r\n\r\n\r\n\r\nI have added those as dependencies in my pom.xml file, and my AvailabilityRepository consists of this:\r\npackage com.island.lendingportal.model;\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.sql.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;availability&quot;)\r\npublic class Availability {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;availability_ID&quot;)\r\n    private Long availabilityId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;item_ID&quot;, nullable = false)\r\n    private Item item;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_ID&quot;)\r\n    private User user;\r\n\r\n    @Column(name = &quot;availStartDate&quot;)\r\n    private Date availStartDate;\r\n\r\n    @Column(name = &quot;availEndDate&quot;)\r\n    private Date availEndDate;\r\n\r\n    @Column(name = &quot;isBooked&quot;)\r\n    private boolean isBooked;\r\n\r\n//and then constructors, getters and setters\r\n```\r\n\r\nThis is my application file\r\n```\r\npackage com.island;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@EntityScan(basePackages = &quot;com.island.lendingportal.model&quot;)\r\n@ComponentScan(basePackages = &quot;com.island.lendingportal.service&quot;)\r\npublic class LendingPortalApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LendingPortalApplication.class, args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThis is my availabilityRepository\r\n\r\n```\r\npackage com.island.lendingportal.repository;\r\n\r\nimport com.island.lendingportal.model.Availability;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface AvailabilityRepository extends JpaRepository&lt;Availability, Long&gt; {\r\n    // You can add custom query methods here if needed\r\n}\r\n\r\n```\r\n\r\nThis is my availability model\r\n\r\n```\r\npackage com.island.lendingportal.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport java.sql.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;availability&quot;)\r\npublic class Availability {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;availability_ID&quot;)\r\n    private Long availabilityId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;item_ID&quot;, nullable = false)\r\n    private Item item;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_ID&quot;)\r\n    private User user;\r\n\r\n    @Column(name = &quot;availStartDate&quot;)\r\n    private Date availStartDate;\r\n\r\n    @Column(name = &quot;availEndDate&quot;)\r\n    private Date availEndDate;\r\n\r\n    @Column(name = &quot;isBooked&quot;)\r\n    private boolean isBooked;\r\n\r\n    // Constructors, getters, and setters\r\n\r\n    public void setItem(Item item) {\r\n        this.item = item;\r\n    }\r\n\r\n    public Long getAvailabilityId() {\r\n        return availabilityId;\r\n    }\r\n\r\n    public void setAvailabilityId(Long availabilityId) {\r\n        this.availabilityId = availabilityId;\r\n    }\r\n\r\n    public Item getItem() {\r\n        return item;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setAvailStartDate(Date availStartDate) {\r\n        this.availStartDate = availStartDate;\r\n    }\r\n\r\n    public Date getAvailStartDate() {\r\n        return availStartDate;\r\n    }\r\n\r\n    public void setAvailEndDate(Date availEndDate) {\r\n        this.availEndDate = availEndDate;\r\n    }\r\n\r\n    public Date getAvailEndDate() {\r\n        return availEndDate;\r\n    }\r\n\r\n    public void setBooked(boolean booked) {\r\n        isBooked = booked;\r\n    }\r\n\r\n    public boolean isBooked() {\r\n        return isBooked;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Spring Boot JPA issue","body":"<p>I'm trying to run my Spring Boot Java project, but i get these errors when i try to run it:</p>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'availabilityRepository' defined in com.island.lendingportal.repository.AvailabilityRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.island.lendingportal.model.Availability</p>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'availabilityService' defined in file [C:\\Users\\Lucas\\IdeaProjects\\javap3\\lending-portal\\target\\classes\\com\\island\\lendingportal\\service\\AvailabilityService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'availabilityRepository' defined in com.island.lendingportal.repository.AvailabilityRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.island.lendingportal.model.Availability</p>\n<p>Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.island.lendingportal.model.Availability\nat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:193) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\nat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:463) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\nat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]</p>\n<p>I have added those as dependencies in my pom.xml file, and my AvailabilityRepository consists of this:\npackage com.island.lendingportal.model;</p>\n<pre><code>import javax.persistence.*;\nimport java.sql.Date;\n\n@Entity\n@Table(name = &quot;availability&quot;)\npublic class Availability {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;availability_ID&quot;)\n    private Long availabilityId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;item_ID&quot;, nullable = false)\n    private Item item;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_ID&quot;)\n    private User user;\n\n    @Column(name = &quot;availStartDate&quot;)\n    private Date availStartDate;\n\n    @Column(name = &quot;availEndDate&quot;)\n    private Date availEndDate;\n\n    @Column(name = &quot;isBooked&quot;)\n    private boolean isBooked;\n\n//and then constructors, getters and setters\n</code></pre>\n<p>This is my application file</p>\n<pre><code>package com.island;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@EntityScan(basePackages = &quot;com.island.lendingportal.model&quot;)\n@ComponentScan(basePackages = &quot;com.island.lendingportal.service&quot;)\npublic class LendingPortalApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(LendingPortalApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>This is my availabilityRepository</p>\n<pre><code>package com.island.lendingportal.repository;\n\nimport com.island.lendingportal.model.Availability;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AvailabilityRepository extends JpaRepository&lt;Availability, Long&gt; {\n    // You can add custom query methods here if needed\n}\n\n</code></pre>\n<p>This is my availability model</p>\n<pre><code>package com.island.lendingportal.model;\n\nimport jakarta.persistence.*;\nimport java.sql.Date;\n\n@Entity\n@Table(name = &quot;availability&quot;)\npublic class Availability {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;availability_ID&quot;)\n    private Long availabilityId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;item_ID&quot;, nullable = false)\n    private Item item;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_ID&quot;)\n    private User user;\n\n    @Column(name = &quot;availStartDate&quot;)\n    private Date availStartDate;\n\n    @Column(name = &quot;availEndDate&quot;)\n    private Date availEndDate;\n\n    @Column(name = &quot;isBooked&quot;)\n    private boolean isBooked;\n\n    // Constructors, getters, and setters\n\n    public void setItem(Item item) {\n        this.item = item;\n    }\n\n    public Long getAvailabilityId() {\n        return availabilityId;\n    }\n\n    public void setAvailabilityId(Long availabilityId) {\n        this.availabilityId = availabilityId;\n    }\n\n    public Item getItem() {\n        return item;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setAvailStartDate(Date availStartDate) {\n        this.availStartDate = availStartDate;\n    }\n\n    public Date getAvailStartDate() {\n        return availStartDate;\n    }\n\n    public void setAvailEndDate(Date availEndDate) {\n        this.availEndDate = availEndDate;\n    }\n\n    public Date getAvailEndDate() {\n        return availEndDate;\n    }\n\n    public void setBooked(boolean booked) {\n        isBooked = booked;\n    }\n\n    public boolean isBooked() {\n        return isBooked;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","google-java-format"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1702299582,"post_id":77639640,"comment_id":136875426,"body_markdown":"In Eclipse, make sure _Organize imports_ is not enabled as a so-called _Save Action_: _Project &gt; Properties: Java Editor &gt; Save Actions_.","body":"In Eclipse, make sure <i>Organize imports</i> is not enabled as a so-called <i>Save Action</i>: <i>Project &gt; Properties: Java Editor &gt; Save Actions</i>."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1702299698,"post_id":77639640,"comment_id":136875446,"body_markdown":"The order Eclipse uses if Organize Imports is used is defined in the Preferences in Java &gt; Code Style &gt; Organize Imports.","body":"The order Eclipse uses if Organize Imports is used is defined in the Preferences in Java &gt; Code Style &gt; Organize Imports."},{"owner":{"account_id":23461070,"reputation":11,"user_id":17515930,"display_name":"vasiv"},"score":0,"creation_date":1702301272,"post_id":77639640,"comment_id":136875755,"body_markdown":"*Organize Import* option is disabled. To clarify: I&#39;m talking that import goes with wrong order when I&#39;m doing Shift + Ctrl + O","body":"<i>Organize Import</i> option is disabled. To clarify: I&#39;m talking that import goes with wrong order when I&#39;m doing Shift + Ctrl + O"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1702305463,"post_id":77639640,"comment_id":136876591,"body_markdown":"_Organize Import_ is something different than formatting. When you format the file, does the Google Java formatter change the order of the imports? If yes and if it is the order you want, then does enabling formatting as _Save Action_ solve your problem?","body":"<i>Organize Import</i> is something different than formatting. When you format the file, does the Google Java formatter change the order of the imports? If yes and if it is the order you want, then does enabling formatting as <i>Save Action</i> solve your problem?"},{"owner":{"account_id":23461070,"reputation":11,"user_id":17515930,"display_name":"vasiv"},"score":0,"creation_date":1702306267,"post_id":77639640,"comment_id":136876758,"body_markdown":"Ctrl + Alt + O for IntelliJ changes order of imports according to the Google Java Style -&gt; OK.\nShift + Ctrl + O for Eclipse changes order of imports, but it&#39;s different than in IntelliJ. Looks like chosen formatter in Eclipse has no effect in terms of imports order. Order stays the same. no matter which formatter is set in Eclipse.","body":"Ctrl + Alt + O for IntelliJ changes order of imports according to the Google Java Style -&gt; OK. Shift + Ctrl + O for Eclipse changes order of imports, but it&#39;s different than in IntelliJ. Looks like chosen formatter in Eclipse has no effect in terms of imports order. Order stays the same. no matter which formatter is set in Eclipse."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1702321375,"post_id":77639640,"comment_id":136879431,"body_markdown":"This is not what I asked. I asked whether _Format_ (Ctrl+Shift+F) has an effect on the order in Eclipse.","body":"This is not what I asked. I asked whether <i>Format</i> (Ctrl+Shift+F) has an effect on the order in Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702309864,"creation_date":1702309864,"answer_id":77640775,"question_id":77639640,"body_markdown":"Try using a [`.editorconfig`](https://editorconfig.org/) file on the project. IntelliJ has native support and Eclipse requires a [plugin][1].\r\n\r\nIt will allow to set a lot of import related configurations like\r\n\r\n    ij_java_imports_layout = *,|,javax.**,java.**,|,$*\r\n\r\n\r\n  [1]: https://github.com/ncjones/editorconfig-eclipse#readme","title":"Common import&#39;s order for IntelliJ and Eclipse using google-java-format","body":"<p>Try using a <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\"><code>.editorconfig</code></a> file on the project. IntelliJ has native support and Eclipse requires a <a href=\"https://github.com/ncjones/editorconfig-eclipse#readme\" rel=\"nofollow noreferrer\">plugin</a>.</p>\n<p>It will allow to set a lot of import related configurations like</p>\n<pre><code>ij_java_imports_layout = *,|,javax.**,java.**,|,$*\n</code></pre>\n"}],"owner":{"account_id":23461070,"reputation":11,"user_id":17515930,"display_name":"vasiv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702309864,"creation_date":1702298230,"question_id":77639640,"body_markdown":"In our team we&#39;re using IntelliJ and Eclipse. As formatter we&#39;re plugins for Eclipse and IntelliJ from v1.18.1 of https://github.com/google/google-java-format\r\n\r\n\r\nWe set the same imports layouts for both IDEs:\r\n\r\n[Eclipse import layout][1]\r\n\r\n[IntelliJ import layout][2]\r\n\r\nThere are differences in imports order: \r\n\r\nImports in IntelliJ:\r\n```\r\nimport com.domain.sap.IF.helper.DocumentHelper;\r\nimport com.domain.sap.SapUtility;\r\nimport com.domain.sap.SyncDocument;\r\n```\r\n\r\nImports in Eclipse:\r\n```\r\nimport com.domain.sap.SapUtility;\r\nimport com.domain.sap.SyncDocument;\r\nimport com.domain.sap.IF.helper.DocumentHelper;\r\n```\r\n\r\nFor me it looks like IntelliJ uses a Code Formatter also for Imports formatting and Eclipse uses it&#39;s own mechanism.\r\nHow to make it common?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vwzzr.png\r\n  [2]: https://i.stack.imgur.com/h2kmL.png","title":"Common import&#39;s order for IntelliJ and Eclipse using google-java-format","body":"<p>In our team we're using IntelliJ and Eclipse. As formatter we're plugins for Eclipse and IntelliJ from v1.18.1 of <a href=\"https://github.com/google/google-java-format\" rel=\"nofollow noreferrer\">https://github.com/google/google-java-format</a></p>\n<p>We set the same imports layouts for both IDEs:</p>\n<p><a href=\"https://i.stack.imgur.com/vwzzr.png\" rel=\"nofollow noreferrer\">Eclipse import layout</a></p>\n<p><a href=\"https://i.stack.imgur.com/h2kmL.png\" rel=\"nofollow noreferrer\">IntelliJ import layout</a></p>\n<p>There are differences in imports order:</p>\n<p>Imports in IntelliJ:</p>\n<pre><code>import com.domain.sap.IF.helper.DocumentHelper;\nimport com.domain.sap.SapUtility;\nimport com.domain.sap.SyncDocument;\n</code></pre>\n<p>Imports in Eclipse:</p>\n<pre><code>import com.domain.sap.SapUtility;\nimport com.domain.sap.SyncDocument;\nimport com.domain.sap.IF.helper.DocumentHelper;\n</code></pre>\n<p>For me it looks like IntelliJ uses a Code Formatter also for Imports formatting and Eclipse uses it's own mechanism.\nHow to make it common?</p>\n"},{"tags":["java","web-services"],"owner":{"account_id":30117181,"reputation":1,"user_id":23080123,"display_name":"xMichelangelox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702309774,"creation_date":1702286051,"question_id":77638509,"body_markdown":"The problem I&#39;m facing is the following error: IWAB0506E Error when copying Axis jar files to web project.\r\n\r\nI&#39;ve tried copying the jar file in the /lib folder of the project folder, but the issue persists. Could someone please provide insights into what might be causing this error and how I can resolve it?","title":"IWAB0506E Error in Copying Axis Jar Files to Web Project","body":"<p>The problem I'm facing is the following error: IWAB0506E Error when copying Axis jar files to web project.</p>\n<p>I've tried copying the jar file in the /lib folder of the project folder, but the issue persists. Could someone please provide insights into what might be causing this error and how I can resolve it?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":0,"creation_date":1623410964,"post_id":67935961,"comment_id":120077865,"body_markdown":"You would need to rename file as per active profile type dev, local. On the other hand you could manage application.yaml only for common config and create 2 different file for manage dev and local profile config","body":"You would need to rename file as per active profile type dev, local. On the other hand you could manage application.yaml only for common config and create 2 different file for manage dev and local profile config"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1623410439,"post_id":67936091,"comment_id":120077674,"body_markdown":"hm.... looks like into latest Spring boot version validation for this attribute is added.","body":"hm.... looks like into latest Spring boot version validation for this attribute is added."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1623425777,"post_id":67936091,"comment_id":120084346,"body_markdown":"I tried the second option but I get still the same issue.","body":"I tried the second option but I get still the same issue."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":1,"creation_date":1623426111,"post_id":67936091,"comment_id":120084490,"body_markdown":"I removed `profiles:\n        active: dev` from application-dev.yml and now it&#39;s working","body":"I removed <code>profiles:         active: dev</code> from application-dev.yml and now it&#39;s working"},{"owner":{"account_id":3711610,"reputation":165,"user_id":3088799,"display_name":"user3088799"},"score":0,"creation_date":1623690280,"post_id":67936091,"comment_id":120144968,"body_markdown":"Nice to know you&#39;re unlocked","body":"Nice to know you&#39;re unlocked"}],"tags":[],"owner":{"account_id":3711610,"reputation":165,"user_id":3088799,"display_name":"user3088799"},"comment_count":4,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1623410336,"creation_date":1623410336,"answer_id":67936091,"question_id":67935961,"body_markdown":"In your application-dev.yml, you declare :\r\n```\r\nspring:\r\n    application:\r\n        name: mail-service\r\n    profiles:\r\n        active: local \r\n```\r\n2 solutions :\r\n1) rename application-dev.yml to application-local.yml and use local profile\r\n2) change spring.profiles.active to dev in application-dev.yml","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>In your application-dev.yml, you declare :</p>\n<pre><code>spring:\n    application:\n        name: mail-service\n    profiles:\n        active: local \n</code></pre>\n<p>2 solutions :</p>\n<ol>\n<li>rename application-dev.yml to application-local.yml and use local profile</li>\n<li>change spring.profiles.active to dev in application-dev.yml</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1626696427,"creation_date":1626696427,"answer_id":68440231,"question_id":67935961,"body_markdown":"Spring Boot 2.4 has improved the way that application.properties and application.yml files are processed. \r\n\r\nSee here for details: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide\r\n\r\nLong story short: If you have for example an application-local.yml and inside you defined\r\n\r\n    spring:\r\n    profiles:\r\n        active: local \r\n\r\nthen just remove this entry in the yaml file.","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Spring Boot 2.4 has improved the way that application.properties and application.yml files are processed.</p>\n<p>See here for details: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide</a></p>\n<p>Long story short: If you have for example an application-local.yml and inside you defined</p>\n<pre><code>spring:\nprofiles:\n    active: local \n</code></pre>\n<p>then just remove this entry in the yaml file.</p>\n"},{"tags":[],"owner":{"account_id":20451822,"reputation":241,"user_id":15006427,"display_name":"Debashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1629628357,"creation_date":1629628357,"answer_id":68880477,"question_id":67935961,"body_markdown":"**No need to mention spring.profiles.active** property if file name is **application-dev.yml** ( spring boot new version )","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p><strong>No need to mention spring.profiles.active</strong> property if file name is <strong>application-dev.yml</strong> ( spring boot new version )</p>\n"},{"tags":[],"owner":{"account_id":14600060,"reputation":1104,"user_id":10544569,"display_name":"IndustryUser1942"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641302995,"creation_date":1641302689,"answer_id":70579512,"question_id":67935961,"body_markdown":"Since version 2.4 (Spring Boot 2.4):\r\n\r\n&gt; Profiles can no longer be activated from profile specific documents.\r\n\r\nhttps://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\r\n\r\n\r\nOne way forward could be to use `spring.profiles.group.*`\r\n\r\n1. From `application-dev.yml` remove: `profiles: active: local`\r\n\r\n2. rename `application-dev.yml` -&gt; `application-dev123.yml`\r\n\r\n3. In `application.properties` define group &quot;dev&quot;:     `spring.profiles.group.dev=local,dev123`\r\n\r\nGroup named &quot;dev&quot; now is replacement for previous profile named &quot;dev&quot;.\r\n\r\n","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Since version 2.4 (Spring Boot 2.4):</p>\n<blockquote>\n<p>Profiles can no longer be activated from profile specific documents.</p>\n</blockquote>\n<p><a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"noreferrer\">https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4</a></p>\n<p>One way forward could be to use <code>spring.profiles.group.*</code></p>\n<ol>\n<li><p>From <code>application-dev.yml</code> remove: <code>profiles: active: local</code></p>\n</li>\n<li><p>rename <code>application-dev.yml</code> -&gt; <code>application-dev123.yml</code></p>\n</li>\n<li><p>In <code>application.properties</code> define group &quot;dev&quot;:     <code>spring.profiles.group.dev=local,dev123</code></p>\n</li>\n</ol>\n<p>Group named &quot;dev&quot; now is replacement for previous profile named &quot;dev&quot;.</p>\n"},{"comments":[{"owner":{"account_id":2100640,"reputation":588,"user_id":1868371,"accept_rate":100,"display_name":"Gerardo Cauich"},"score":1,"creation_date":1650388989,"post_id":70594863,"comment_id":127101688,"body_markdown":"For the record, you can also supply it within the `application.yaml` configuration file.","body":"For the record, you can also supply it within the <code>application.yaml</code> configuration file."}],"tags":[],"owner":{"account_id":16343894,"reputation":119,"user_id":11804179,"display_name":"Abu Ehteshamuddin"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1642056405,"creation_date":1641394068,"answer_id":70594863,"question_id":67935961,"body_markdown":"The newer Spring Boot Version is very strict with naming convention based on environments. You cannot inject application properties during runtime. You will need to create application-{env}.properties for each environments, which will be picked based on active profile.\r\n\r\nBut if you don’t feel comfortable doing all these changes, you can still use older processor. Just add below as JVM arugments while running Spring Boot. Make sure to add it in Dockerfile Entrypoint as well, if you are using Docker.\r\n\r\n    -Dspring.config.use-legacy-processing=true\r\n\r\n[Check documentation here][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>The newer Spring Boot Version is very strict with naming convention based on environments. You cannot inject application properties during runtime. You will need to create application-{env}.properties for each environments, which will be picked based on active profile.</p>\n<p>But if you don’t feel comfortable doing all these changes, you can still use older processor. Just add below as JVM arugments while running Spring Boot. Make sure to add it in Dockerfile Entrypoint as well, if you are using Docker.</p>\n<pre><code>-Dspring.config.use-legacy-processing=true\n</code></pre>\n<p><a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"noreferrer\">Check documentation here</a></p>\n"},{"tags":[],"owner":{"account_id":15816654,"reputation":24,"user_id":11412191,"display_name":"Juan B. Rodriguez"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677786625,"creation_date":1677786625,"answer_id":75620194,"question_id":67935961,"body_markdown":"Editing your application.properties and defining this:\r\n\r\n    spring.config.use-legacy-processing=true\r\n    \r\n\r\nSee here for details: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Editing your application.properties and defining this:</p>\n<pre><code>spring.config.use-legacy-processing=true\n</code></pre>\n<p>See here for details: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide</a></p>\n"},{"tags":[],"owner":{"account_id":27882256,"reputation":73,"user_id":21290471,"display_name":"geno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692637292,"creation_date":1692637292,"answer_id":76947353,"question_id":67935961,"body_markdown":"Use this separator between &#39;spring&#39; property parameters : \r\n\r\n    ---","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Use this separator between 'spring' property parameters :</p>\n<pre><code>---\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702309340,"creation_date":1702309340,"answer_id":77640719,"question_id":67935961,"body_markdown":"I had to remove entire chunk of profiles:group:default in application.yml to make it work. You can have application-default, application-test.yml. I ran into this issue with springbootTest in junits.","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>I had to remove entire chunk of profiles:group:default in application.yml to make it work. You can have application-default, application-test.yml. I ran into this issue with springbootTest in junits.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89294,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":67936091,"answer_count":8,"score":49,"last_activity_date":1702309340,"creation_date":1623409764,"question_id":67935961,"body_markdown":"I updated Spring cloud application to the latest Spring boot version 2.5.0.\r\n\r\nBut during startup I get this exception:\r\n\r\n    11:05:05.038 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid in a profile specific resource [origin: class path resource [application-dev.yml] from skyshop-mail-1.0.jar - 42:17]\r\n            at org.springframework.boot.context.config.InvalidConfigDataPropertyException.lambda$throwOrWarn$1(InvalidConfigDataPropertyException.java:125)\r\n\r\n***application.yml***\r\n\r\n    spring:\r\n        application:\r\n            name: mail-service\r\n        profiles:\r\n            active: dev\r\n\r\n***application-dev.yml file:***\r\n\r\n    logging:\r\n        file:\r\n            name: ${java.io.tmpdir}/application.log\r\n        level:\r\n            com:\r\n                backend: DEBUG\r\n            org:\r\n                springframework: DEBUG\r\n                springframework.web: DEBUG\r\n    jwt:\r\n        expiration: 86400\r\n        secret: test112322\r\n    server:\r\n        port: 8020\r\n        servlet:\r\n            context-path: /mail\r\n    spring:\r\n        application:\r\n            name: mail-service\r\n        profiles:\r\n            active: local \r\n        data:\r\n            web:\r\n                pageable:\r\n                    one-indexed-parameters: true # Fix pagination starting number to start from 1\r\n            rest:\r\n                basePath: /mail\r\n        jackson:\r\n            default-property-inclusion: non_null\r\n        jmx:\r\n            enabled: false   \r\n        datasource:\r\n            url: jdbc:mariadb://localhost:3306/database\r\n            driverClassName: org.mariadb.jdbc.Driver\r\n            jpa:\r\n                hibernate:\r\n                    ddl-auto: update\r\n                properties:\r\n                    hibernate:\r\n                        dialect: org.hibernate.dialect.MariaDBDialect\r\n                show-sql: true\r\n            username: root\r\n            password: qwerty\r\n        oauth2:\r\n            resource:\r\n                jwt:\r\n                    key-pair:\r\n                        alias: mytestkey\r\n                        store-password: mystorepass\r\n    info:\r\n        build:\r\n            version: 1.0\r\n    eureka:\r\n        client:\r\n            serviceUrl:\r\n                defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}\r\n        instance:\r\n            preferIpAddress: true\r\n\r\nDo you know how I can fix this issue?\r\n","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>I updated Spring cloud application to the latest Spring boot version 2.5.0.</p>\n<p>But during startup I get this exception:</p>\n<pre><code>11:05:05.038 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.boot.context.config.InvalidConfigDataPropertyException: Property 'spring.profiles.active' imported from location 'class path resource [application-dev.yml]' is invalid in a profile specific resource [origin: class path resource [application-dev.yml] from skyshop-mail-1.0.jar - 42:17]\n        at org.springframework.boot.context.config.InvalidConfigDataPropertyException.lambda$throwOrWarn$1(InvalidConfigDataPropertyException.java:125)\n</code></pre>\n<p><em><strong>application.yml</strong></em></p>\n<pre><code>spring:\n    application:\n        name: mail-service\n    profiles:\n        active: dev\n</code></pre>\n<p><em><strong>application-dev.yml file:</strong></em></p>\n<pre><code>logging:\n    file:\n        name: ${java.io.tmpdir}/application.log\n    level:\n        com:\n            backend: DEBUG\n        org:\n            springframework: DEBUG\n            springframework.web: DEBUG\njwt:\n    expiration: 86400\n    secret: test112322\nserver:\n    port: 8020\n    servlet:\n        context-path: /mail\nspring:\n    application:\n        name: mail-service\n    profiles:\n        active: local \n    data:\n        web:\n            pageable:\n                one-indexed-parameters: true # Fix pagination starting number to start from 1\n        rest:\n            basePath: /mail\n    jackson:\n        default-property-inclusion: non_null\n    jmx:\n        enabled: false   \n    datasource:\n        url: jdbc:mariadb://localhost:3306/database\n        driverClassName: org.mariadb.jdbc.Driver\n        jpa:\n            hibernate:\n                ddl-auto: update\n            properties:\n                hibernate:\n                    dialect: org.hibernate.dialect.MariaDBDialect\n            show-sql: true\n        username: root\n        password: qwerty\n    oauth2:\n        resource:\n            jwt:\n                key-pair:\n                    alias: mytestkey\n                    store-password: mystorepass\ninfo:\n    build:\n        version: 1.0\neureka:\n    client:\n        serviceUrl:\n            defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}\n    instance:\n        preferIpAddress: true\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","spring-boot","spring-security","azure-active-directory","azure-ad-b2c"],"owner":{"account_id":181043,"reputation":8252,"user_id":414773,"accept_rate":46,"display_name":"nr.iras.sk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702308837,"creation_date":1702308837,"question_id":77640671,"body_markdown":"I have a spring boot service which should authenticate the apis in controller1 using AD and apis in controller2 with AD B2C.\r\n\r\nHow can I achieve this. For AD it was working. Now I have to support B2C also for some apis. I will add the code which I am currently using for AD.\r\n\r\nI need token validation only. Authorization not needed in both cases. Only authentication needed.\r\n\r\n    @Configuration\r\n    public static class ADSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \r\n    \t\thttp\r\n    \t\t\t\t.antMatcher(&quot;/ad/**&quot;)\r\n    \t\t\t\t.cors()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.csrf()\r\n    \t\t\t\t.disable()\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/ad/**&quot;).authenticated()\r\n    \t\t\t\t.antMatchers(&quot;/public/**&quot;).permitAll()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.headers().frameOptions().disable()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.oauth2ResourceServer().jwt();\r\n    \t}\r\n    }\r\n\r\n\r\nin properties file\r\n\r\n      security.oauth2.resourceserver.jwt.issuer-uri: https://login.microsoftonline.com/&lt;tenant-id&gt;/v2.0\r\n\r\n\r\nin pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;","title":"How to write Spring security for Azure AD and Azure ADB2C in same service for different apis","body":"<p>I have a spring boot service which should authenticate the apis in controller1 using AD and apis in controller2 with AD B2C.</p>\n<p>How can I achieve this. For AD it was working. Now I have to support B2C also for some apis. I will add the code which I am currently using for AD.</p>\n<p>I need token validation only. Authorization not needed in both cases. Only authentication needed.</p>\n<pre><code>@Configuration\npublic static class ADSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .antMatcher(&quot;/ad/**&quot;)\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/ad/**&quot;).authenticated()\n                .antMatchers(&quot;/public/**&quot;).permitAll()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .headers().frameOptions().disable()\n                .and()\n                .oauth2ResourceServer().jwt();\n    }\n}\n</code></pre>\n<p>in properties file</p>\n<pre><code>  security.oauth2.resourceserver.jwt.issuer-uri: https://login.microsoftonline.com/&lt;tenant-id&gt;/v2.0\n</code></pre>\n<p>in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","image","url","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1702293385,"post_id":77638496,"comment_id":136874369,"body_markdown":"Your path is correct, but your resource is in the wrong location. In a Maven based project, resources belong under `src/main/resources` (just like with `src/main/java`, subdirectories therein are &quot;packages&quot;). See [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/q/61531317/6395627) for more information.","body":"Your path is correct, but your resource is in the wrong location. In a Maven based project, resources belong under <code>src&#47;main&#47;resources</code> (just like with <code>src&#47;main&#47;java</code>, subdirectories therein are &quot;packages&quot;). See <a href=\"https://stackoverflow.com/q/61531317/6395627\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a> for more information."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1702293494,"post_id":77638496,"comment_id":136874384,"body_markdown":"Given your project appears to be modular, you may also want to read the &quot;Image Resource&quot; section of one of [my other answers](https://stackoverflow.com/a/77275656/6395627).","body":"Given your project appears to be modular, you may also want to read the &quot;Image Resource&quot; section of one of <a href=\"https://stackoverflow.com/a/77275656/6395627\">my other answers</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1702294000,"post_id":77638496,"comment_id":136874499,"body_markdown":"As an aside, that stack trace indicates you&#39;re using version 19-ea of JavaFX. That `ea` bit stands for &quot;early access&quot;. Such releases should typically only be used if you need to ensure ahead of time that your application will continue to work in the future. Besides, JavaFX 19 itself is end-of-life anyway. Use JavaFX 17.0.9 (latest LTS release as of this comment) or JavaFX 21.0.1 (latest release as of this comment; also an LTS release). Note JavaFX 20+ requires Java 17+.","body":"As an aside, that stack trace indicates you&#39;re using version 19-ea of JavaFX. That <code>ea</code> bit stands for &quot;early access&quot;. Such releases should typically only be used if you need to ensure ahead of time that your application will continue to work in the future. Besides, JavaFX 19 itself is end-of-life anyway. Use JavaFX 17.0.9 (latest LTS release as of this comment) or JavaFX 21.0.1 (latest release as of this comment; also an LTS release). Note JavaFX 20+ requires Java 17+."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1702333924,"post_id":77638648,"comment_id":136881319,"body_markdown":"Except the question is tagged JavaFX and `ImageIO` does not return JavaFX images.","body":"Except the question is tagged JavaFX and <code>ImageIO</code> does not return JavaFX images."}],"tags":[],"owner":{"account_id":18081224,"reputation":1563,"user_id":13143331,"display_name":"Dorian349"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702287619,"creation_date":1702287619,"answer_id":77638648,"question_id":77638496,"body_markdown":"You should put this kind of files inside your `resources` folder. Then, you can simply access it using:\r\n\r\n```java\r\nInputStream is = Main.class.getResourceAsStream(&quot;/Icons/print.png&quot;);\r\nImage image = ImageIO.read(is);\r\n```\r\n\r\nSee [How do I load a file from resource folder?](https://stackoverflow.com/questions/15749192/how-do-i-load-a-file-from-resource-folder)","title":"Resource not found or path invalid JavaFX Image","body":"<p>You should put this kind of files inside your <code>resources</code> folder. Then, you can simply access it using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream is = Main.class.getResourceAsStream(&quot;/Icons/print.png&quot;);\nImage image = ImageIO.read(is);\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/15749192/how-do-i-load-a-file-from-resource-folder\">How do I load a file from resource folder?</a></p>\n"},{"tags":[],"owner":{"account_id":27117663,"reputation":36,"user_id":20661766,"display_name":"Dave Shin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702308160,"creation_date":1702308160,"answer_id":77640610,"question_id":77638496,"body_markdown":"**Maven operates on convention-based principles. Consequently, within the `/java` folder, only `.java` files are recognized, and all other files are ignored.** Thus, creating files like `README.md` within the `/java` folder will not be included in the build process.\r\n\r\n**But All files within the `/resource` folder are included in the build(copied).** If you want to manage resource files within the `/java` folder, modify the `pom.xml` settings as follows:\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*.fxml&lt;/include&gt;\r\n                &lt;include&gt;**/*.css&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*.*&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\n    ...\r\n\r\n&lt;/build&gt;\r\n```\r\n\r\nThe configuration above includes all `.fxml` and `.css` extension files within the `/java` folder in the build output. Additionally, it includes all files within the `/resources` folder.\r\n\r\n---\r\n\r\n**The final build results can be found in the `/target` folder.** To verify if `print.png` included in the build(to check if it was copied correctly), navigate through the `/target` folder.\r\n\r\nIf it exists but errors still occur, then it might be a path configuration issue. Similarly, you can specify paths based on the output within the `/target ` folder.","title":"Resource not found or path invalid JavaFX Image","body":"<p><strong>Maven operates on convention-based principles. Consequently, within the <code>/java</code> folder, only <code>.java</code> files are recognized, and all other files are ignored.</strong> Thus, creating files like <code>README.md</code> within the <code>/java</code> folder will not be included in the build process.</p>\n<p><strong>But All files within the <code>/resource</code> folder are included in the build(copied).</strong> If you want to manage resource files within the <code>/java</code> folder, modify the <code>pom.xml</code> settings as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.fxml&lt;/include&gt;\n                &lt;include&gt;**/*.css&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    ...\n\n&lt;/build&gt;\n</code></pre>\n<p>The configuration above includes all <code>.fxml</code> and <code>.css</code> extension files within the <code>/java</code> folder in the build output. Additionally, it includes all files within the <code>/resources</code> folder.</p>\n<hr />\n<p><strong>The final build results can be found in the <code>/target</code> folder.</strong> To verify if <code>print.png</code> included in the build(to check if it was copied correctly), navigate through the <code>/target</code> folder.</p>\n<p>If it exists but errors still occur, then it might be a path configuration issue. Similarly, you can specify paths based on the output within the <code>/target </code> folder.</p>\n"}],"owner":{"account_id":23620630,"reputation":9,"user_id":17653984,"display_name":"AgonLat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702308160,"creation_date":1702285901,"question_id":77638496,"body_markdown":"I am working with JavaFX and trying to create an Image object in the main class but it keeps saying invalid URL or resource not found. My image is located in a Icons package which is a subpackage of the main package\r\n\r\n```java\r\nImage image = new Image(&quot;com/example/fluganzeigetafel/Icons/print.png&quot;);\r\n```\r\n\r\n```none\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found \r\n        at javafx.graphics@19-ea/javafx.scene.image.Image.validateUrl(Image.java:1123)\r\n```\r\n\r\nSee the directory on the image:\r\n\r\n![][1]\r\n\r\n  [1]: https://i.stack.imgur.com/x7gFu.png","title":"Resource not found or path invalid JavaFX Image","body":"<p>I am working with JavaFX and trying to create an Image object in the main class but it keeps saying invalid URL or resource not found. My image is located in a Icons package which is a subpackage of the main package</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image image = new Image(&quot;com/example/fluganzeigetafel/Icons/print.png&quot;);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found \n        at javafx.graphics@19-ea/javafx.scene.image.Image.validateUrl(Image.java:1123)\n</code></pre>\n<p>See the directory on the image:</p>\n<p><img src=\"https://i.stack.imgur.com/x7gFu.png\" alt=\"\" /></p>\n"},{"tags":["java","ubuntu","intellij-idea","groovy"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1618333595,"post_id":67079327,"comment_id":118568648,"body_markdown":"How are you running it in Intellij? Doesn&#39;t intellij print the exact command at the top of the terminal panel? It usually does. Take that and compare it to what you were running manually","body":"How are you running it in Intellij? Doesn&#39;t intellij print the exact command at the top of the terminal panel? It usually does. Take that and compare it to what you were running manually"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1618333920,"post_id":67079327,"comment_id":118568785,"body_markdown":"Does https://stackoverflow.com/a/66879514/104891 help?","body":"Does <a href=\"https://stackoverflow.com/a/66879514/104891\">stackoverflow.com/a/66879514/104891</a> help?"},{"owner":{"account_id":15535,"reputation":82940,"user_id":32914,"accept_rate":65,"display_name":"Mason Wheeler"},"score":3,"creation_date":1618334526,"post_id":67079327,"comment_id":118569023,"body_markdown":"@CrazyCoder I was today years old when I learned that Gradle has its own JDK setting rather than respecting the one you set for the project.  &#128545;  Thanks, I&#39;d have never thought to look that up!","body":"@CrazyCoder I was today years old when I learned that Gradle has its own JDK setting rather than respecting the one you set for the project.  😡  Thanks, I&#39;d have never thought to look that up!"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":2,"creation_date":1618334731,"post_id":67079327,"comment_id":118569101,"body_markdown":"And you will be tomorrow years old, when you learn, that IntelliJ will sometimes just forget about this setting and switches from PROJECT_JDK to something, that is around.","body":"And you will be tomorrow years old, when you learn, that IntelliJ will sometimes just forget about this setting and switches from PROJECT_JDK to something, that is around."},{"owner":{"account_id":1113704,"reputation":4294,"user_id":1103617,"display_name":"raddrick"},"score":0,"creation_date":1625637997,"post_id":67079327,"comment_id":120676041,"body_markdown":"check your system java, despite my settings in AS my JAVA_HOME wasnt being set and i had to explicitly set it to the version used in the environment-setup\nhttps://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos","body":"check your system java, despite my settings in AS my JAVA_HOME wasnt being set and i had to explicitly set it to the version used in the environment-setup <a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos\" title=\"how to set or change the default java jdk version on macos\">stackoverflow.com/questions/21964709/&hellip;</a>"},{"owner":{"account_id":2483016,"reputation":408,"user_id":2162092,"accept_rate":75,"display_name":"MinhajulAnwar"},"score":0,"creation_date":1627897886,"post_id":67079327,"comment_id":121269741,"body_markdown":"Try jdk-15 for gradle config","body":"Try jdk-15 for gradle config"},{"owner":{"account_id":20418100,"reputation":93,"user_id":14979760,"display_name":"import huh"},"score":0,"creation_date":1638131236,"post_id":67079327,"comment_id":124000130,"body_markdown":"For anyone in the future thinking &quot;This couldn&#39;t be my issue, I just created the project and gradle supports my version of java!&quot; just like I thought, think again. [Check your gradle version](https://stackoverflow.com/questions/30054911/how-to-determine-the-version-of-gradle). As of November 2021, the libjdx project creator uses gradle 6.0, and I&#39;m guessing it&#39;s not the only framework which does this.","body":"For anyone in the future thinking &quot;This couldn&#39;t be my issue, I just created the project and gradle supports my version of java!&quot; just like I thought, think again. <a href=\"https://stackoverflow.com/questions/30054911/how-to-determine-the-version-of-gradle\">Check your gradle version</a>. As of November 2021, the libjdx project creator uses gradle 6.0, and I&#39;m guessing it&#39;s not the only framework which does this."}],"answers":[{"comments":[{"owner":{"account_id":161962,"reputation":16675,"user_id":383124,"accept_rate":56,"display_name":"phant0m"},"score":23,"creation_date":1619811584,"post_id":67101848,"comment_id":119026691,"body_markdown":"Mentioning what setting worked for you and hat you had previously would help.","body":"Mentioning what setting worked for you and hat you had previously would help."},{"owner":{"account_id":16145,"reputation":6448,"user_id":34871,"display_name":"vincent"},"score":5,"creation_date":1622141482,"post_id":67101848,"comment_id":119713438,"body_markdown":"just got the issue on a kotlin tutorial https://github.com/kotlin-hands-on/intro-coroutines . Changing the Gradle JVM to 1.8 solved the issue","body":"just got the issue on a kotlin tutorial <a href=\"https://github.com/kotlin-hands-on/intro-coroutines\" rel=\"nofollow noreferrer\">github.com/kotlin-hands-on/intro-coroutines</a> . Changing the Gradle JVM to 1.8 solved the issue"},{"owner":{"account_id":8465416,"reputation":23499,"user_id":7365866,"display_name":"Ben Butterworth"},"score":2,"creation_date":1626077970,"post_id":67101848,"comment_id":120787005,"body_markdown":"I downgraded from JDK 16 to JDK 15 to successfully build my app.","body":"I downgraded from JDK 16 to JDK 15 to successfully build my app."},{"owner":{"account_id":6088122,"reputation":511,"user_id":5883347,"display_name":"Tullochgorum"},"score":2,"creation_date":1626548116,"post_id":67101848,"comment_id":120924604,"body_markdown":"Didn&#39;t work for me - a couple of builds went OK, then it barfed with the same message. Annoying thing is that the project wizard offered to install 16 for me, but it can&#39;t use it...","body":"Didn&#39;t work for me - a couple of builds went OK, then it barfed with the same message. Annoying thing is that the project wizard offered to install 16 for me, but it can&#39;t use it..."},{"owner":{"account_id":2426922,"reputation":126,"user_id":2118647,"display_name":"Tiny Sonhh"},"score":0,"creation_date":1634203864,"post_id":67101848,"comment_id":122964422,"body_markdown":"This approach really saved my day! Yesterday, I switched to OJDK17 and worked very well. Don&#39;t know why today it says all errors and I have to set back to JDK15 and all good things back.","body":"This approach really saved my day! Yesterday, I switched to OJDK17 and worked very well. Don&#39;t know why today it says all errors and I have to set back to JDK15 and all good things back."},{"owner":{"account_id":4506881,"reputation":1834,"user_id":3663980,"display_name":"Johnny"},"score":0,"creation_date":1642473499,"post_id":67101848,"comment_id":125074207,"body_markdown":"I thinks Java has lots of changes after 1.8.x (Java 8).","body":"I thinks Java has lots of changes after 1.8.x (Java 8)."},{"owner":{"account_id":183525,"reputation":1766,"user_id":418950,"display_name":"ScottWelker"},"score":0,"creation_date":1655835488,"post_id":67101848,"comment_id":128424269,"body_markdown":"This answer enabled me to fix a command-line build failure. I wasn&#39;t actively using IntelliJ. I was seeing this error from the command-line. Since I had IntelliJ, I was able to use it to fix this Gradle issue. Nice! In my scenario I installed a side-by-side, earlier, proprietary JDK-17 but Gradle was configured to use the OpenJDK-18 found on my MacBook.","body":"This answer enabled me to fix a command-line build failure. I wasn&#39;t actively using IntelliJ. I was seeing this error from the command-line. Since I had IntelliJ, I was able to use it to fix this Gradle issue. Nice! In my scenario I installed a side-by-side, earlier, proprietary JDK-17 but Gradle was configured to use the OpenJDK-18 found on my MacBook."},{"owner":{"account_id":11657675,"reputation":996,"user_id":8536903,"display_name":"Lukk17s"},"score":0,"creation_date":1666878292,"post_id":67101848,"comment_id":131043185,"body_markdown":"Additional observation:\nsome modules won&#39;t sync with JDK 19, but are syncing with JDK 11 \nBUT\nwhen I sync them with 11 and change back to 19 then its still working.","body":"Additional observation: some modules won&#39;t sync with JDK 19, but are syncing with JDK 11  BUT when I sync them with 11 and change back to 19 then its still working."},{"owner":{"account_id":4843120,"reputation":731,"user_id":3907616,"display_name":"Yuna Braska"},"score":0,"creation_date":1673595385,"post_id":67101848,"comment_id":132538677,"body_markdown":"For Unix Command line, you could also use the alias https://github.com/YunaBraska/gradle-java-fix This alias just sets the right java version for your gradle project","body":"For Unix Command line, you could also use the alias <a href=\"https://github.com/YunaBraska/gradle-java-fix\" rel=\"nofollow noreferrer\">github.com/YunaBraska/gradle-java-fix</a> This alias just sets the right java version for your gradle project"}],"tags":[],"owner":{"account_id":8875491,"reputation":2181,"user_id":6627776,"display_name":"Yu Jinyan"},"comment_count":9,"down_vote_count":2,"up_vote_count":195,"is_accepted":false,"score":193,"last_activity_date":1674736441,"creation_date":1618457105,"answer_id":67101848,"question_id":67079327,"body_markdown":"**TL;DR;** You need to have the Java version which is compatible with your Gradle version, and configure Gradle to use exactly that version (not older Java, and not even newer version).\r\n\r\n---\r\n\r\nI fixed this problem by changing the Gradle JVM settings in IntelliJ settings:\r\n\r\n- In the **Settings/Preferences** dialog, go to *Build, Execution, Deployment* &amp;rarr; *Build Tools* &amp;rarr; *Gradle*.\r\n\r\n- Under the **Gradle** section, change the **Gradle JVM** option. Select a **Gradle JVM** which works for you.\r\n\r\n    [![Enter image description here][1]][1]\r\n\r\nSee *[Resolve the Gradle JVM version for the existing project][2]* \r\n\r\n  [1]: https://i.stack.imgur.com/T9k02.png\r\n  [2]: https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jvm_settings\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p><strong>TL;DR;</strong> You need to have the Java version which is compatible with your Gradle version, and configure Gradle to use exactly that version (not older Java, and not even newer version).</p>\n<hr />\n<p>I fixed this problem by changing the Gradle JVM settings in IntelliJ settings:</p>\n<ul>\n<li><p>In the <strong>Settings/Preferences</strong> dialog, go to <em>Build, Execution, Deployment</em> → <em>Build Tools</em> → <em>Gradle</em>.</p>\n</li>\n<li><p>Under the <strong>Gradle</strong> section, change the <strong>Gradle JVM</strong> option. Select a <strong>Gradle JVM</strong> which works for you.</p>\n<p><a href=\"https://i.stack.imgur.com/T9k02.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/T9k02.png\" alt=\"Enter image description here\" /></a></p>\n</li>\n</ul>\n<p>See <em><a href=\"https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jvm_settings\" rel=\"noreferrer\">Resolve the Gradle JVM version for the existing project</a></em></p>\n"},{"comments":[{"owner":{"account_id":2831033,"reputation":658,"user_id":2432623,"display_name":"wondertalik"},"score":0,"creation_date":1629798706,"post_id":67466098,"comment_id":121776211,"body_markdown":"Thanks. It works after updating Gradle Version to 7.0.2 and Android Gradle Plugin version from 4.1.0 to 7.0.1. In file android/build.grandle classpath changed to &#39;com.android.tools.build:gradle:7.0.1&#39;. On my machine java 16.0.1, Flutter 2.2.3, Dart 2.13.4","body":"Thanks. It works after updating Gradle Version to 7.0.2 and Android Gradle Plugin version from 4.1.0 to 7.0.1. In file android/build.grandle classpath changed to &#39;com.android.tools.build:gradle:7.0.1&#39;. On my machine java 16.0.1, Flutter 2.2.3, Dart 2.13.4"},{"owner":{"account_id":16547921,"reputation":1090,"user_id":13321079,"display_name":"MohamedHarmoush"},"score":1,"creation_date":1639911549,"post_id":67466098,"comment_id":124464460,"body_markdown":"Gradle (version&gt; 7.3.2) now supports running on and building with Java 17.","body":"Gradle (version&gt; 7.3.2) now supports running on and building with Java 17."}],"tags":[],"owner":{"account_id":17571955,"reputation":720,"user_id":12747536,"display_name":"Emirhan Soylu"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1641252109,"creation_date":1620630087,"answer_id":67466098,"question_id":67079327,"body_markdown":"Upgrading Gradle version 6.8.3 to 7.0 solved my problem. You can upgrade it:\r\n\r\n - Menu *File* &amp;rarr; *Project Structure* &amp;rarr; *Project* (on the left panel)\r\n - Change to Gradle version 7.0\r\n\r\nIt works with the Android Gradle plugin version 4.2.0.\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>Upgrading Gradle version 6.8.3 to 7.0 solved my problem. You can upgrade it:</p>\n<ul>\n<li>Menu <em>File</em> → <em>Project Structure</em> → <em>Project</em> (on the left panel)</li>\n<li>Change to Gradle version 7.0</li>\n</ul>\n<p>It works with the Android Gradle plugin version 4.2.0.</p>\n"},{"comments":[{"owner":{"account_id":14623233,"reputation":354,"user_id":10561246,"display_name":"Amit Goswami"},"score":0,"creation_date":1629454071,"post_id":67583836,"comment_id":121696677,"body_markdown":"This worked for me but i skipped GRADLE step","body":"This worked for me but i skipped GRADLE step"}],"tags":[],"owner":{"account_id":1864402,"reputation":180,"user_id":1688295,"display_name":"Erik_van_der_Arend"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641252541,"creation_date":1621331338,"answer_id":67583836,"question_id":67079327,"body_markdown":"I fixed it too, the hard way:\r\n\r\n### Java\r\n\r\n 1. Installed the latest Java JDK\r\n 2. Fixed the Java path in the system environment variables by adding the *JAVA_HOME* variable (main Java folder without *bin*) and added *%JAVA_HOME%\\bin* to the PATH environment variable\r\n 3. `java -version` shows the correct version now\r\n\r\n### Gradle\r\n\r\n 1. Installed Gradle from scratch using https://gradle.org/install/\r\n 2. Fixed the Gradle path in the system environment variables by adding the *GRADLE_HOME* variable (main Gradle folder without *bin*) and added *%GRADLE_HOME%\\bin* to the PATH environment variable\r\n 3. `gradle -version` shows the correct version now incl. the correct JVM\r\n\r\n### IntelliJ IDEA settings\r\n\r\n 1. Go to *Settings* &amp;rarr; *Build, Execution, Deployment* &amp;rarr; *Build Tools* &amp;rarr; *Gradle*\r\n 2. Edit Gradle user home (*C:/Gradle/gradle-7.0.2*)\r\n 3. Use Gradle from: &lt;specific location&gt;  C:/Gradle/gradle-7.0.2\r\n 4. Gradle JVM: JAVA_HOME version 16.0.1\r\n\r\nNow it builds without error: Unsupported class file major version 60\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>I fixed it too, the hard way:</p>\n<h3>Java</h3>\n<ol>\n<li>Installed the latest Java JDK</li>\n<li>Fixed the Java path in the system environment variables by adding the <em>JAVA_HOME</em> variable (main Java folder without <em>bin</em>) and added <em>%JAVA_HOME%\\bin</em> to the PATH environment variable</li>\n<li><code>java -version</code> shows the correct version now</li>\n</ol>\n<h3>Gradle</h3>\n<ol>\n<li>Installed Gradle from scratch using <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">https://gradle.org/install/</a></li>\n<li>Fixed the Gradle path in the system environment variables by adding the <em>GRADLE_HOME</em> variable (main Gradle folder without <em>bin</em>) and added <em>%GRADLE_HOME%\\bin</em> to the PATH environment variable</li>\n<li><code>gradle -version</code> shows the correct version now incl. the correct JVM</li>\n</ol>\n<h3>IntelliJ IDEA settings</h3>\n<ol>\n<li>Go to <em>Settings</em> → <em>Build, Execution, Deployment</em> → <em>Build Tools</em> → <em>Gradle</em></li>\n<li>Edit Gradle user home (<em>C:/Gradle/gradle-7.0.2</em>)</li>\n<li>Use Gradle from:   C:/Gradle/gradle-7.0.2</li>\n<li>Gradle JVM: JAVA_HOME version 16.0.1</li>\n</ol>\n<p>Now it builds without error: Unsupported class file major version 60</p>\n"},{"tags":[],"owner":{"account_id":7562605,"reputation":1356,"user_id":5739507,"display_name":"Andrew Kirna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641252798,"creation_date":1622957478,"answer_id":67856041,"question_id":67079327,"body_markdown":"My project is using Java 16 and [Maven][1] to build a Spring Boot application. I got the same error and was able to resolve it with these steps:\r\n\r\n1. Navigate to IntelliJ IDEA &amp;rarr; *Preferences...* &amp;rarr; *Build, Execution, Deployment* &amp;rarr; *Compiler* &amp;rarr; *Java Compiler\r\n2. Select your module under &quot;Per-module bytecode version:&quot;\r\n3. Click the red &quot;-&quot; button to delete the custom setting\r\n4. Click &lt;kbd&gt;Apply&lt;/kbd&gt;\r\n\r\nI think this bytecode setting (16) was conflicting with the one configured in my project (11). Removing the override cleared it up.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>My project is using Java 16 and <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> to build a Spring Boot application. I got the same error and was able to resolve it with these steps:</p>\n<ol>\n<li>Navigate to IntelliJ IDEA → <em>Preferences...</em> → <em>Build, Execution, Deployment</em> → <em>Compiler</em> → *Java Compiler</li>\n<li>Select your module under &quot;Per-module bytecode version:&quot;</li>\n<li>Click the red &quot;-&quot; button to delete the custom setting</li>\n<li>Click <kbd>Apply</kbd></li>\n</ol>\n<p>I think this bytecode setting (16) was conflicting with the one configured in my project (11). Removing the override cleared it up.</p>\n"},{"comments":[{"owner":{"account_id":16547921,"reputation":1090,"user_id":13321079,"display_name":"MohamedHarmoush"},"score":7,"creation_date":1639911538,"post_id":67955806,"comment_id":124464456,"body_markdown":"Gradle (version&gt; 7.3.2) now supports running on and building with Java 17.","body":"Gradle (version&gt; 7.3.2) now supports running on and building with Java 17."},{"owner":{"account_id":6300393,"reputation":5160,"user_id":5362826,"display_name":"tamj0rd2"},"score":1,"creation_date":1683310657,"post_id":67955806,"comment_id":134352874,"body_markdown":"This compatibility chart helped me to pick the correct version https://docs.gradle.org/current/userguide/compatibility.html#java","body":"This compatibility chart helped me to pick the correct version <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html#java</a>"},{"owner":{"account_id":13860888,"reputation":689,"user_id":10006567,"display_name":"Kristian Heitkamp"},"score":1,"creation_date":1684594070,"post_id":67955806,"comment_id":134541442,"body_markdown":"This worked for me, since I was not able to change the Gradle JVM settings through IntelliJ&#39;s Settings/Preferences -&gt; Build,Execution, Deployment -&gt; Build Tools -&gt; Gradle (The Gradle section just did not exist in my case).\nYou can find the matching JDK depending on your Gradle version and vice versa on this page:\nhttps://docs.gradle.org/current/userguide/compatibility.html","body":"This worked for me, since I was not able to change the Gradle JVM settings through IntelliJ&#39;s Settings/Preferences -&gt; Build,Execution, Deployment -&gt; Build Tools -&gt; Gradle (The Gradle section just did not exist in my case). You can find the matching JDK depending on your Gradle version and vice versa on this page: <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>"},{"owner":{"account_id":188312,"reputation":586,"user_id":427009,"accept_rate":73,"display_name":"MiB"},"score":0,"creation_date":1686584306,"post_id":67955806,"comment_id":134815333,"body_markdown":"So simple, so effective! I had 7.2 set and Java 19. Changed according to that compatibility chart to 7.6 and started right up.","body":"So simple, so effective! I had 7.2 set and Java 19. Changed according to that compatibility chart to 7.6 and started right up."}],"tags":[],"owner":{"account_id":3219030,"reputation":936,"user_id":2716887,"display_name":"John Lehmann"},"comment_count":4,"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1641253610,"creation_date":1623568680,"answer_id":67955806,"question_id":67079327,"body_markdown":"For me, it was fixed by upgrading the Gradle version.\r\n\r\nIn the file under the directory `gradle/wrapper/gradle-wrapper.properties`, just change the version number of Gradle. For example, if your Gradle version is `6.3`, change this:\r\n\r\n```lang-none\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n```\r\n\r\nto:\r\n\r\n```lang-none\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.0-bin.zip\r\n```\r\n\r\nIt is not available in *File* &amp;rarr; *Project Structure* &amp;rarr; *Project* for the project I was working with.\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>For me, it was fixed by upgrading the Gradle version.</p>\n<p>In the file under the directory <code>gradle/wrapper/gradle-wrapper.properties</code>, just change the version number of Gradle. For example, if your Gradle version is <code>6.3</code>, change this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0-bin.zip\n</code></pre>\n<p>It is not available in <em>File</em> → <em>Project Structure</em> → <em>Project</em> for the project I was working with.</p>\n"},{"tags":[],"owner":{"account_id":17068261,"reputation":15405,"user_id":12349734,"display_name":"MendelG"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1624906952,"creation_date":1624767979,"answer_id":68147973,"question_id":67079327,"body_markdown":"For me, (in [Flutter][1]) the problem was that I was using Java JDK version *16*, but version 16 is [not supported][2] for some packages.\r\n\r\nSo, I downgraded to JDK version *15*.\r\n\r\nOn Windows, I did the following:\r\n\r\n1. Close your current IDE / Terminal (do not skip this step).\r\n2. Uninstall the current Java JDK and restart your computer.\r\n\r\n3. Download and install Java JDK version 15 from [here][3] (you are required to create an account in order to download).\r\n\r\n3. Update the [`JAVA_HOME` Environment Variable][4].\r\n\r\n\r\n  [1]: https://flutter.dev/\r\n  [2]: https://github.com/gradle/gradle/issues/13629\r\n  [3]: https://www.oracle.com/java/technologies/javase/jdk15-archive-downloads.html\r\n  [4]: https://stackoverflow.com/a/67526703/12349734","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>For me, (in <a href=\"https://flutter.dev/\" rel=\"noreferrer\">Flutter</a>) the problem was that I was using Java JDK version <em>16</em>, but version 16 is <a href=\"https://github.com/gradle/gradle/issues/13629\" rel=\"noreferrer\">not supported</a> for some packages.</p>\n<p>So, I downgraded to JDK version <em>15</em>.</p>\n<p>On Windows, I did the following:</p>\n<ol>\n<li><p>Close your current IDE / Terminal (do not skip this step).</p>\n</li>\n<li><p>Uninstall the current Java JDK and restart your computer.</p>\n</li>\n<li><p>Download and install Java JDK version 15 from <a href=\"https://www.oracle.com/java/technologies/javase/jdk15-archive-downloads.html\" rel=\"noreferrer\">here</a> (you are required to create an account in order to download).</p>\n</li>\n<li><p>Update the <a href=\"https://stackoverflow.com/a/67526703/12349734\"><code>JAVA_HOME</code> Environment Variable</a>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1308155,"reputation":12858,"user_id":1256697,"accept_rate":53,"display_name":"suther"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1701904283,"creation_date":1627577434,"answer_id":68579979,"question_id":67079327,"body_markdown":"In my case ([Manjaro][1] Linux), the issue was that there is a known bug with [OpenJDK][2]&amp;nbsp;16 and Gradle. (See: * &quot;[Unsupported class file major version 60&quot; Using toolchain with Java 16 #16766][3]*)\r\n\r\nThe solution was to point Java to openJdk-11 with the following command:\r\n\r\n```none\r\nsudo archlinux-java set java-11-openjdk\r\n```\r\n\r\nMake sure that this JDK is installed. On [Arch Linux][4] and Manjaro you can check it with:\r\n\r\n```archlinux-java status```\r\n\r\nAfter switching to OpenJDK&amp;nbsp;11 everything works again like expected.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Manjaro\r\n  [2]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [3]: https://github.com/gradle/gradle/issues/16766\r\n  [4]: https://en.wikipedia.org/wiki/Arch_Linux\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>In my case (<a href=\"https://en.wikipedia.org/wiki/Manjaro\" rel=\"nofollow noreferrer\">Manjaro</a> Linux), the issue was that there is a known bug with <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> 16 and Gradle. (See: * &quot;<a href=\"https://github.com/gradle/gradle/issues/16766\" rel=\"nofollow noreferrer\">Unsupported class file major version 60&quot; Using toolchain with Java 16 #16766</a>*)</p>\n<p>The solution was to point Java to openJdk-11 with the following command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sudo archlinux-java set java-11-openjdk\n</code></pre>\n<p>Make sure that this JDK is installed. On <a href=\"https://en.wikipedia.org/wiki/Arch_Linux\" rel=\"nofollow noreferrer\">Arch Linux</a> and Manjaro you can check it with:</p>\n<p><code>archlinux-java status</code></p>\n<p>After switching to OpenJDK 11 everything works again like expected.</p>\n"},{"tags":[],"owner":{"account_id":1266949,"reputation":872,"user_id":1224072,"accept_rate":58,"display_name":"qpaycm"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641253739,"creation_date":1632585044,"answer_id":69327765,"question_id":67079327,"body_markdown":"I ran into the same issue. It seems like JDK 17 is not compatible with Gradle 7.0.2.\r\n\r\n[Download JDK 16][1], drop it `_somewhere_` (close to other JDK&#39;s folders or whatever)\r\n\r\nNext, update: *Project Structure* &amp;rarr; *SDK Location* &amp;rarr; *Gradle Settings* &amp;rarr; *Gradle JDK* to match that `_somewhere_`\r\n\r\nAt the end, don&#39;t forget to *Sync Project with Gradle files*.\r\n\r\n  [1]: https://jdk.java.net/16/\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>I ran into the same issue. It seems like JDK 17 is not compatible with Gradle 7.0.2.</p>\n<p><a href=\"https://jdk.java.net/16/\" rel=\"nofollow noreferrer\">Download JDK 16</a>, drop it <code>_somewhere_</code> (close to other JDK's folders or whatever)</p>\n<p>Next, update: <em>Project Structure</em> → <em>SDK Location</em> → <em>Gradle Settings</em> → <em>Gradle JDK</em> to match that <code>_somewhere_</code></p>\n<p>At the end, don't forget to <em>Sync Project with Gradle files</em>.</p>\n"},{"tags":[],"owner":{"account_id":21635190,"reputation":197,"user_id":15958188,"display_name":"zakiblacki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641253868,"creation_date":1633350214,"answer_id":69435936,"question_id":67079327,"body_markdown":"At the moment, it won&#39;t work with JDK 17, so it is suggested to use embedded Java provided from IDE in *Settings*/Gradle.\r\n\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>At the moment, it won't work with JDK 17, so it is suggested to use embedded Java provided from IDE in <em>Settings</em>/Gradle.</p>\n"},{"tags":[],"owner":{"account_id":16547921,"reputation":1090,"user_id":13321079,"display_name":"MohamedHarmoush"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1641254081,"creation_date":1633353269,"answer_id":69436599,"question_id":67079327,"body_markdown":"I faced the same issue, but with Android Studio. It seems like JDK 17 is not compatible with Gradle 7.0.2 as the others mentioned that.\r\n\r\nI fixed this problem by changing the Gradle JDK settings in Android Studio settings:\r\n\r\nIn menu *File* &amp;rarr; *Settings* &amp;rarr; *Build, Execution, Deployment* &amp;rarr; *Build Tools* &amp;rarr; *Gradle*.\r\n\r\nIn the Gradle section, change the Gradle JVM option to another JDK (example: *JDK11*).\r\n\r\nLater Gradle versions (version higher than [7.3.2][1]) support running on and building with Java 17.\r\n\r\n  [1]: https://docs.gradle.org/7.3.2/release-notes.html\r\n\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>I faced the same issue, but with Android Studio. It seems like JDK 17 is not compatible with Gradle 7.0.2 as the others mentioned that.</p>\n<p>I fixed this problem by changing the Gradle JDK settings in Android Studio settings:</p>\n<p>In menu <em>File</em> → <em>Settings</em> → <em>Build, Execution, Deployment</em> → <em>Build Tools</em> → <em>Gradle</em>.</p>\n<p>In the Gradle section, change the Gradle JVM option to another JDK (example: <em>JDK11</em>).</p>\n<p>Later Gradle versions (version higher than <a href=\"https://docs.gradle.org/7.3.2/release-notes.html\" rel=\"noreferrer\">7.3.2</a>) support running on and building with Java 17.</p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641254474,"creation_date":1635045647,"answer_id":69693618,"question_id":67079327,"body_markdown":"In [Spring Tool Suite][1] (STS)/Eclipse even after changing the build path, compiler, default [JRE][2] from 16 to 11.0 it did not fix. Finally in the STS.ini file, I had to change the *-vm* argument from\r\n\r\n`-vm\r\nplugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149/jre/bin`\r\n\r\nto\r\n\r\n`-vm\r\nC:\\Program Files\\Java\\jdk-11.0.12\\bin`\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/STS#Computing_and_communications\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>In <a href=\"https://en.wikipedia.org/wiki/STS#Computing_and_communications\" rel=\"nofollow noreferrer\">Spring Tool Suite</a> (STS)/Eclipse even after changing the build path, compiler, default <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\" rel=\"nofollow noreferrer\">JRE</a> from 16 to 11.0 it did not fix. Finally in the STS.ini file, I had to change the <em>-vm</em> argument from</p>\n<p><code>-vm plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149/jre/bin</code></p>\n<p>to</p>\n<p><code>-vm C:\\Program Files\\Java\\jdk-11.0.12\\bin</code></p>\n"},{"tags":[],"owner":{"account_id":23803028,"reputation":411,"user_id":17812955,"display_name":"Joel V98"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660871989,"creation_date":1642199516,"answer_id":70717232,"question_id":67079327,"body_markdown":"I fixed it by [installing][1] the Chocolatey package manager and running\r\n\r\n    choco install -y nodejs.install openjdk8\r\n\r\nin PowerShell admin.\r\n\r\n  [1]: https://chocolatey.org/install\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>I fixed it by <a href=\"https://chocolatey.org/install\" rel=\"nofollow noreferrer\">installing</a> the Chocolatey package manager and running</p>\n<pre><code>choco install -y nodejs.install openjdk8\n</code></pre>\n<p>in PowerShell admin.</p>\n"},{"tags":[],"owner":{"account_id":9101359,"reputation":136,"user_id":6773385,"display_name":"Lucia Clifford"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1663150769,"creation_date":1643393996,"answer_id":70898462,"question_id":67079327,"body_markdown":"Changing, as people mentioned above, the page with the correct compatibility: *[Compatibility Matrix][1]*\r\n\r\nIn my case it was 7.3, because I was using JDK 17 and Java 8 worked for me!\r\n\r\n```lang-none\r\n// gradle/wrapper/gradle-wrapper.properties\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-bin.zip\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>Changing, as people mentioned above, the page with the correct compatibility: <em><a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Compatibility Matrix</a></em></p>\n<p>In my case it was 7.3, because I was using JDK 17 and Java 8 worked for me!</p>\n<pre class=\"lang-none prettyprint-override\"><code>// gradle/wrapper/gradle-wrapper.properties\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-bin.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21383071,"reputation":692,"user_id":15748652,"display_name":"Rokas Rudzianskas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672497113,"creation_date":1672497113,"answer_id":74970171,"question_id":67079327,"body_markdown":"12.31.2022 **UPDATE**\r\n\r\nTo everyone who has this problem, and have not found solution yet. \r\nFirst of all, you have to check for the compatibility of your **Java** version, and first Gradle version to support it, in: [Compatibility Matrix][1].\r\n\r\nThen you have to change the `distributionUrl` in:\r\n`android/gradle/wrapper/gradle-wrapper.properties`\r\n\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-bin.zip\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>12.31.2022 <strong>UPDATE</strong></p>\n<p>To everyone who has this problem, and have not found solution yet.\nFirst of all, you have to check for the compatibility of your <strong>Java</strong> version, and first Gradle version to support it, in: <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">Compatibility Matrix</a>.</p>\n<p>Then you have to change the <code>distributionUrl</code> in:\n<code>android/gradle/wrapper/gradle-wrapper.properties</code></p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-bin.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15424156,"reputation":8990,"user_id":11127383,"display_name":"Daniel Danielecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1673371642,"creation_date":1673371642,"answer_id":75073713,"question_id":67079327,"body_markdown":"The correct version of `Java` is needed, here&#39;s a list:\r\n\r\n```\r\nJava SE 19 = 63,\r\nJava SE 18 = 62,\r\nJava SE 17 = 61,\r\nJava SE 16 = 60, \r\nJava SE 15 = 59,\r\nJava SE 14 = 58,\r\nJava SE 13 = 57,\r\nJava SE 12 = 56,\r\nJava SE 11 = 55,\r\nJava SE 10 = 54,\r\nJava SE 9 = 53,\r\nJava SE 8 = 52,\r\nJava SE 7 = 51,\r\nJava SE 6.0 = 50,\r\nJava SE 5.0 = 49,\r\nJDK 1.4 = 48,\r\nJDK 1.3 = 47,\r\nJDK 1.2 = 46,\r\nJDK 1.1 = 45\r\n```","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>The correct version of <code>Java</code> is needed, here's a list:</p>\n<pre><code>Java SE 19 = 63,\nJava SE 18 = 62,\nJava SE 17 = 61,\nJava SE 16 = 60, \nJava SE 15 = 59,\nJava SE 14 = 58,\nJava SE 13 = 57,\nJava SE 12 = 56,\nJava SE 11 = 55,\nJava SE 10 = 54,\nJava SE 9 = 53,\nJava SE 8 = 52,\nJava SE 7 = 51,\nJava SE 6.0 = 50,\nJava SE 5.0 = 49,\nJDK 1.4 = 48,\nJDK 1.3 = 47,\nJDK 1.2 = 46,\nJDK 1.1 = 45\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16238383,"reputation":1186,"user_id":11725354,"display_name":"Yauheni Prakapenka"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1698818723,"creation_date":1674199245,"answer_id":75180866,"question_id":67079327,"body_markdown":"To fix &quot;Unsupported class file major version **63**&quot; we need to update gradle to v7.6:\r\n\r\n    // gradle-wrapper.properties\r\n    \r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>To fix &quot;Unsupported class file major version <strong>63</strong>&quot; we need to update gradle to v7.6:</p>\n<pre><code>// gradle-wrapper.properties\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23297249,"reputation":94,"user_id":17394517,"display_name":"shanaka prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679543157,"creation_date":1679543157,"answer_id":75819090,"question_id":67079327,"body_markdown":"I got the same error. This happens due to the different versions of java. You can find the error msgs according to the versions that it related. \r\n19 - 63\r\n18-\t62\r\n17-\t61\r\n16-\t60\r\n15-\t59\r\n14-\t58\r\n13-\t57\r\n12-\t56\r\n11-\t55\r\n10-\t54\r\n9\t-53\r\n8\t-52\r\n\r\nso you have to do is go to the project structure and through that change the SDK and version of your project according to the above table and then compile.Also, refer to this attached image. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5djTK.png","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>I got the same error. This happens due to the different versions of java. You can find the error msgs according to the versions that it related.\n19 - 63\n18- 62\n17- 61\n16- 60\n15- 59\n14- 58\n13- 57\n12- 56\n11- 55\n10- 54\n9   -53\n8   -52</p>\n<p>so you have to do is go to the project structure and through that change the SDK and version of your project according to the above table and then compile.Also, refer to this attached image. <a href=\"https://i.stack.imgur.com/5djTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5djTK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702308088,"creation_date":1702308088,"answer_id":77640602,"question_id":67079327,"body_markdown":"Also experienced it with **Maven** right after I upgraded to **Java 17**, happened during **unit tests** execution.\r\n\r\nIn the end the issue was in dependencies versions mismatch, check your `junit`, `surefire`, `jacoco`, `mockito` plugins versions configured in `pom.xml` and make sure they are compatible with JDK version you are using and with each other.","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>Also experienced it with <strong>Maven</strong> right after I upgraded to <strong>Java 17</strong>, happened during <strong>unit tests</strong> execution.</p>\n<p>In the end the issue was in dependencies versions mismatch, check your <code>junit</code>, <code>surefire</code>, <code>jacoco</code>, <code>mockito</code> plugins versions configured in <code>pom.xml</code> and make sure they are compatible with JDK version you are using and with each other.</p>\n"}],"owner":{"account_id":15535,"reputation":82940,"user_id":32914,"accept_rate":65,"display_name":"Mason Wheeler"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451152,"favorite_count":0,"down_vote_count":2,"up_vote_count":205,"answer_count":18,"score":203,"last_activity_date":1702308088,"creation_date":1618333374,"question_id":67079327,"body_markdown":"I have a [Gradle][1] project in Ubuntu.  It&#39;s written in Java 14.  I have the Java 14 JDK installed.  When I build it from the command line, everything works, but no one wants to use a command line!  When I open it in IntelliJ IDEA, it throws an error:\r\n\r\n```lang-none\r\n* Where:\r\nInitialization script &#39;/tmp/ijmapper.gradle`\r\n\r\n* What went wrong:\r\nCould not compile initialization script &#39;/tmp/ijmapper.gradle`.\r\n&gt; Startup failed:\r\nGeneral error during semantic analysis: Unsupported class file major version 60.\r\n```\r\n\r\nfollowed by a long, unhelpful stack trace that says a lot about Groovy.  (The project is not a Groovy project; it&#39;s a Java project.)\r\n\r\n[Major version 60 refers to Java 16,][2] which this project is not using.  I&#39;ve already gone into *Project Structure* and made sure that it&#39;s set to use JDK version 14.  But the name &quot;ijmapper&quot; suggests that this has something to do with IntelliJ specifically, and this is likely an IDE problem rather than a project problem.\r\n\r\nThe mapper file simply says:\r\n\r\n`if(!ext.has(&#39;mapPath&#39;)) ext.mapPath = { path -&gt; path}`\r\n\r\nA simple polyfill, in other words.\r\n\r\nWhat&#39;s going on here and how can I fix it?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n  [2]: https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\r\n\r\n\r\n","title":"How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?","body":"<p>I have a <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> project in Ubuntu.  It's written in Java 14.  I have the Java 14 JDK installed.  When I build it from the command line, everything works, but no one wants to use a command line!  When I open it in IntelliJ IDEA, it throws an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>* Where:\nInitialization script '/tmp/ijmapper.gradle`\n\n* What went wrong:\nCould not compile initialization script '/tmp/ijmapper.gradle`.\n&gt; Startup failed:\nGeneral error during semantic analysis: Unsupported class file major version 60.\n</code></pre>\n<p>followed by a long, unhelpful stack trace that says a lot about Groovy.  (The project is not a Groovy project; it's a Java project.)</p>\n<p><a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">Major version 60 refers to Java 16,</a> which this project is not using.  I've already gone into <em>Project Structure</em> and made sure that it's set to use JDK version 14.  But the name &quot;ijmapper&quot; suggests that this has something to do with IntelliJ specifically, and this is likely an IDE problem rather than a project problem.</p>\n<p>The mapper file simply says:</p>\n<p><code>if(!ext.has('mapPath')) ext.mapPath = { path -&gt; path}</code></p>\n<p>A simple polyfill, in other words.</p>\n<p>What's going on here and how can I fix it?</p>\n"},{"tags":["java","azure-functions","azure-blob-storage","azure-blob-trigger"],"comments":[{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1702301877,"post_id":77639468,"comment_id":136875879,"body_markdown":"Can you share the code you have tried?","body":"Can you share the code you have tried?"},{"owner":{"account_id":17571954,"reputation":161,"user_id":12747535,"display_name":"Alexzander Zharkov"},"score":0,"creation_date":1702308077,"post_id":77639468,"comment_id":136877169,"body_markdown":"Added code to the question","body":"Added code to the question"}],"owner":{"account_id":17571954,"reputation":161,"user_id":12747535,"display_name":"Alexzander Zharkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702308061,"creation_date":1702296615,"question_id":77639468,"body_markdown":"How can I keep the blobs_extension app key persistent so that I don&#39;t have to update the Webhook event subscription endpoint every time I restart or re-deploy a function or change any function or blob storage account settings? The app key keeps changing in an Azure Function that I am working on based on the workflow described in this [link](https://learn.microsoft.com/en-us/azure/azure-functions/functions-event-grid-blob-trigger?tabs=isolated-process%2Cnodejs-v4&amp;pivots=programming-language-java#get-the-blob-extension-key), causing the function to stop processing data. Thank you!\r\n\r\nThat mostly happens when function is stopped and restarted. For the re-deployments it mostly remains the same, so I see function running\r\n\r\n```java\r\n    @FunctionName(&quot;BlobFunction&quot;)\r\n    public void run(@BlobTrigger(name = &quot;content&quot;, path = &quot;%MY_PATH%&quot;, dataType = &quot;string&quot;, connection = &quot;StorageString&quot;, source = &quot;EventGrid&quot;) String content,\r\n                    @BindingName(&quot;name&quot;) String name,\r\n                    @KafkaOutput(name = &quot;kafkaOutput&quot;, topic = &quot;%TOPIC%&quot;, brokerList = &quot;%BROKER_LIST%&quot;,\r\n                            username = &quot;$ConnectionString&quot;,\r\n                            password = &quot;EventHubConnection&quot;,\r\n                            authenticationMode = BrokerAuthenticationMode.PLAIN,\r\n                            protocol = BrokerProtocol.SASLSSL) OutputBinding&lt;KafkaEntity&gt; output,\r\n                    final ExecutionContext context) {\r\n\r\n        final KafkaEntity kafkaMessage = new KafkaEntity(0, 0, System.getenv(&quot;TOPIC&quot;),\r\n                Instant.now().toString(), content, customer, new KafkaHeaders[]{new KafkaHeaders(&quot;name&quot;, name)});\r\n\r\n        output.setValue(kafkaMessage);\r\n    }\r\n```\r\n","title":"Azure Function: blobs_extension app key keeps changing","body":"<p>How can I keep the blobs_extension app key persistent so that I don't have to update the Webhook event subscription endpoint every time I restart or re-deploy a function or change any function or blob storage account settings? The app key keeps changing in an Azure Function that I am working on based on the workflow described in this <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-event-grid-blob-trigger?tabs=isolated-process%2Cnodejs-v4&amp;pivots=programming-language-java#get-the-blob-extension-key\" rel=\"nofollow noreferrer\">link</a>, causing the function to stop processing data. Thank you!</p>\n<p>That mostly happens when function is stopped and restarted. For the re-deployments it mostly remains the same, so I see function running</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @FunctionName(&quot;BlobFunction&quot;)\n    public void run(@BlobTrigger(name = &quot;content&quot;, path = &quot;%MY_PATH%&quot;, dataType = &quot;string&quot;, connection = &quot;StorageString&quot;, source = &quot;EventGrid&quot;) String content,\n                    @BindingName(&quot;name&quot;) String name,\n                    @KafkaOutput(name = &quot;kafkaOutput&quot;, topic = &quot;%TOPIC%&quot;, brokerList = &quot;%BROKER_LIST%&quot;,\n                            username = &quot;$ConnectionString&quot;,\n                            password = &quot;EventHubConnection&quot;,\n                            authenticationMode = BrokerAuthenticationMode.PLAIN,\n                            protocol = BrokerProtocol.SASLSSL) OutputBinding&lt;KafkaEntity&gt; output,\n                    final ExecutionContext context) {\n\n        final KafkaEntity kafkaMessage = new KafkaEntity(0, 0, System.getenv(&quot;TOPIC&quot;),\n                Instant.now().toString(), content, customer, new KafkaHeaders[]{new KafkaHeaders(&quot;name&quot;, name)});\n\n        output.setValue(kafkaMessage);\n    }\n</code></pre>\n"},{"tags":["java","maven","cas","apereo"],"answers":[{"tags":[],"owner":{"account_id":6631872,"reputation":2547,"user_id":5132456,"accept_rate":40,"display_name":"wotanii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702307635,"creation_date":1702307635,"answer_id":77640557,"question_id":77627247,"body_markdown":"the package `cas-server-webapp-config` was renamed to `cas-server-support-webconfig` and the class `ProtocolEndpointWebSecurityConfigurer` was renamed to `CasWebSecurityConfigurer`\r\n\r\nThe docs and the changelogs did not say anything about it. But the git-diff did not lie[1], specifically https://github.com/apereo/cas/compare/v7.0.0-RC5...v7.0.0-RC6.patch and https://github.com/apereo/cas/compare/v7.0.0-RC7...v7.0.0-RC8.patch respectively\r\n\r\nfor anyone facing similiar issues when updating CAS: these diffs are big, but you can ctrl-f &quot;yourClass&quot; to find out where it was moved. \r\n\r\n\r\n\r\n[1] https://salcla.medium.com/how-lying-by-omission-harms-us-and-our-relationships-db7585bf714e","title":"What happened &quot;org.apereo.cas.web.security&quot; in 7.0.0-RC9 of org.apereo.cas?","body":"<p>the package <code>cas-server-webapp-config</code> was renamed to <code>cas-server-support-webconfig</code> and the class <code>ProtocolEndpointWebSecurityConfigurer</code> was renamed to <code>CasWebSecurityConfigurer</code></p>\n<p>The docs and the changelogs did not say anything about it. But the git-diff did not lie[1], specifically <a href=\"https://github.com/apereo/cas/compare/v7.0.0-RC5...v7.0.0-RC6.patch\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas/compare/v7.0.0-RC5...v7.0.0-RC6.patch</a> and <a href=\"https://github.com/apereo/cas/compare/v7.0.0-RC7...v7.0.0-RC8.patch\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas/compare/v7.0.0-RC7...v7.0.0-RC8.patch</a> respectively</p>\n<p>for anyone facing similiar issues when updating CAS: these diffs are big, but you can ctrl-f &quot;yourClass&quot; to find out where it was moved.</p>\n<p>[1] <a href=\"https://salcla.medium.com/how-lying-by-omission-harms-us-and-our-relationships-db7585bf714e\" rel=\"nofollow noreferrer\">https://salcla.medium.com/how-lying-by-omission-harms-us-and-our-relationships-db7585bf714e</a></p>\n"}],"owner":{"account_id":6631872,"reputation":2547,"user_id":5132456,"accept_rate":40,"display_name":"wotanii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77640557,"answer_count":1,"score":-1,"last_activity_date":1702307635,"creation_date":1702045670,"question_id":77627247,"body_markdown":"I am working on migrating from `org.apereo.cas:6.6.14` to `7.0.0-RC9` (and the actual release when it happens). \r\n\r\nUntil `v7.0.0-RC5` the package `org.apereo.cas.web.security` was in `org.apereo.cas:cas-server-webapp-config`, but that package was not updated to any newer version [2]. \r\n\r\nWhen I try to use `cas-server-webapp-config:7.0.0-RC5` together with `RC9` of everything else, then I get an compile time error, as expceted. It seems to require classes, that are not present anymore in the other packages. \r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project eessi-cas-server: Compilation failure: Compilation failure: \r\n[ERROR] /path/to/my/project/src/main/java/org/apereo/cas/custom/config/MyCasOverlayConfiguration.java:[4,25] error: cannot find symbol\r\n[ERROR]   symbol:   class ProtocolEndpointWebSecurityConfigurer\r\n[ERROR]   location: package org.apereo.cas.web\r\n```\r\n\r\nThe Changelog doesn&#39;t seem to mention any of this [3]. \r\n\r\nSpecifically I am using `org.apereo.cas.web.security.CasWebSecurityConfigurerAdapter` for my SecurityFilterChain. That constructor wants to have a `org.apereo.cas.web.ProtocolEndpointWebSecurityConfigurer`, which doesn&#39;t exist anymore in 7.0.0-RC9. \r\n\r\nMy filterchain looks like this in 6.6.14:\r\n\r\n```java\r\n@Primary\r\n@Bean\r\npublic SecurityFilterChain casWebSecurityConfigurerAdapter(\r\n        final HttpSecurity http,\r\n        final ObjectProvider&lt;PathMappedEndpoints&gt; pathMappedEndpoints,\r\n        final List&lt;ProtocolEndpointWebSecurityConfigurer&gt; configurersList,\r\n        final SecurityProperties securityProperties,\r\n        final CasConfigurationProperties casProperties,\r\n        final org.springframework.security.web.context.SecurityContextRepository securityContextRepository,\r\n        final WebEndpointProperties webEndpointProperties)throws Exception {\r\n    CasWebSecurityConfigurerAdapter adapter = new CasWebSecurityConfigurerAdapter( \r\n        casProperties, securityProperties, \r\n    webEndpointProperties, pathMappedEndpoints, ProtocolEndpointWebSecurityConfigurer, configurersList);\r\n    return adapter.configureHttpSecurity(http).build();\r\n}\r\n```\r\n\r\nAnd when I compile it, it gives me the errors mentioned above. I am not sure if it makes a difference, but I am using Maven 3.9.5 and openJDK 21.0\r\n\r\nMy guess:\r\n\r\n* either the package was accidentally not published in the RC6\r\n* or the mechanism to set up the filterchain was changed, and I now have to do something else entirely. \r\n* or maybe the package just moved\r\n\r\nlinks: \r\n\r\n\r\n* [2] https://mvnrepository.com/artifact/org.apereo.cas/cas-server-webapp-config\r\n* [3] https://apereo.github.io/cas/development/release_notes/RC6.html","title":"What happened &quot;org.apereo.cas.web.security&quot; in 7.0.0-RC9 of org.apereo.cas?","body":"<p>I am working on migrating from <code>org.apereo.cas:6.6.14</code> to <code>7.0.0-RC9</code> (and the actual release when it happens).</p>\n<p>Until <code>v7.0.0-RC5</code> the package <code>org.apereo.cas.web.security</code> was in <code>org.apereo.cas:cas-server-webapp-config</code>, but that package was not updated to any newer version [2].</p>\n<p>When I try to use <code>cas-server-webapp-config:7.0.0-RC5</code> together with <code>RC9</code> of everything else, then I get an compile time error, as expceted. It seems to require classes, that are not present anymore in the other packages.</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project eessi-cas-server: Compilation failure: Compilation failure: \n[ERROR] /path/to/my/project/src/main/java/org/apereo/cas/custom/config/MyCasOverlayConfiguration.java:[4,25] error: cannot find symbol\n[ERROR]   symbol:   class ProtocolEndpointWebSecurityConfigurer\n[ERROR]   location: package org.apereo.cas.web\n</code></pre>\n<p>The Changelog doesn't seem to mention any of this [3].</p>\n<p>Specifically I am using <code>org.apereo.cas.web.security.CasWebSecurityConfigurerAdapter</code> for my SecurityFilterChain. That constructor wants to have a <code>org.apereo.cas.web.ProtocolEndpointWebSecurityConfigurer</code>, which doesn't exist anymore in 7.0.0-RC9.</p>\n<p>My filterchain looks like this in 6.6.14:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Primary\n@Bean\npublic SecurityFilterChain casWebSecurityConfigurerAdapter(\n        final HttpSecurity http,\n        final ObjectProvider&lt;PathMappedEndpoints&gt; pathMappedEndpoints,\n        final List&lt;ProtocolEndpointWebSecurityConfigurer&gt; configurersList,\n        final SecurityProperties securityProperties,\n        final CasConfigurationProperties casProperties,\n        final org.springframework.security.web.context.SecurityContextRepository securityContextRepository,\n        final WebEndpointProperties webEndpointProperties)throws Exception {\n    CasWebSecurityConfigurerAdapter adapter = new CasWebSecurityConfigurerAdapter( \n        casProperties, securityProperties, \n    webEndpointProperties, pathMappedEndpoints, ProtocolEndpointWebSecurityConfigurer, configurersList);\n    return adapter.configureHttpSecurity(http).build();\n}\n</code></pre>\n<p>And when I compile it, it gives me the errors mentioned above. I am not sure if it makes a difference, but I am using Maven 3.9.5 and openJDK 21.0</p>\n<p>My guess:</p>\n<ul>\n<li>either the package was accidentally not published in the RC6</li>\n<li>or the mechanism to set up the filterchain was changed, and I now have to do something else entirely.</li>\n<li>or maybe the package just moved</li>\n</ul>\n<p>links:</p>\n<ul>\n<li>[2] <a href=\"https://mvnrepository.com/artifact/org.apereo.cas/cas-server-webapp-config\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apereo.cas/cas-server-webapp-config</a></li>\n<li>[3] <a href=\"https://apereo.github.io/cas/development/release_notes/RC6.html\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/development/release_notes/RC6.html</a></li>\n</ul>\n"},{"tags":["java","oracle","spring-boot","spring-transactions"],"owner":{"account_id":20107695,"reputation":11,"user_id":14744788,"display_name":"bence5104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702307202,"creation_date":1702307202,"question_id":77640513,"body_markdown":"So currently, I have an Oracle database and an AMQ connection. We use ChainedTransactionManager in our code, and we encountered an interesting behavior. Despite the Oracle throwing an error during the process, sessions and connections are being created in ActiveMQ. However, we want these to not be created if Oracle throws an error.\r\n\r\nCurrently, we initialize the ChainedTransactionManager in the following order:\r\n\r\n```\r\nnew ChainedTransactionManager(jpaTransactionManager, jmsTransactionManager)\r\n```\r\n\r\nAdditionally, the method has the following @Transactional annotation:\r\n\r\n```\r\n@Transactional(\r\n    propagation = Propagation.REQUIRED,\r\n    transactionManager = ChainedTransactionalManagerBeanName,\r\n    rollbackFor = Exception.class\r\n)\r\npublic void method(some params) {}\r\n```\r\n\r\nIn the method, I perform some JPA operations, and if there is no error, the JMS sessions should start afterward. However, currently, by the time I reach the first line of the method, two sessions have already been created towards AMQ. How can I solve this? \r\n\r\nI appreciate your responses in advance, and I apologize for the slightly informal wording.\r\n\r\nI&#39;ve tried setting the value of lazyResourceRetrieval for JmsTransactionManager to true, but unfortunately, it didn&#39;t help.\r\n\r\nI would like to ensure that if the JPA transaction fails due to an Oracle exception, then the JMS sessions are not created.","title":"ChainedTransactionManager with JpaTransactionManager and JmsTransactionManager","body":"<p>So currently, I have an Oracle database and an AMQ connection. We use ChainedTransactionManager in our code, and we encountered an interesting behavior. Despite the Oracle throwing an error during the process, sessions and connections are being created in ActiveMQ. However, we want these to not be created if Oracle throws an error.</p>\n<p>Currently, we initialize the ChainedTransactionManager in the following order:</p>\n<pre><code>new ChainedTransactionManager(jpaTransactionManager, jmsTransactionManager)\n</code></pre>\n<p>Additionally, the method has the following @Transactional annotation:</p>\n<pre><code>@Transactional(\n    propagation = Propagation.REQUIRED,\n    transactionManager = ChainedTransactionalManagerBeanName,\n    rollbackFor = Exception.class\n)\npublic void method(some params) {}\n</code></pre>\n<p>In the method, I perform some JPA operations, and if there is no error, the JMS sessions should start afterward. However, currently, by the time I reach the first line of the method, two sessions have already been created towards AMQ. How can I solve this?</p>\n<p>I appreciate your responses in advance, and I apologize for the slightly informal wording.</p>\n<p>I've tried setting the value of lazyResourceRetrieval for JmsTransactionManager to true, but unfortunately, it didn't help.</p>\n<p>I would like to ensure that if the JPA transaction fails due to an Oracle exception, then the JMS sessions are not created.</p>\n"},{"tags":["java","tree","binary-tree"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":2,"creation_date":1702304144,"post_id":77640203,"comment_id":136876294,"body_markdown":"Firstly, can you format your question so the tree actually looks like a tree? Secondly, what have you already tried?","body":"Firstly, can you format your question so the tree actually looks like a tree? Secondly, what have you already tried?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1702304367,"post_id":77640203,"comment_id":136876348,"body_markdown":"How do you define a &quot;step&quot;?","body":"How do you define a &quot;step&quot;?"},{"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"score":0,"creation_date":1702304679,"post_id":77640203,"comment_id":136876435,"body_markdown":"I need to somehow, when having a tree, go through the minimum steps, to go through the entire tree, each step must be added up.","body":"I need to somehow, when having a tree, go through the minimum steps, to go through the entire tree, each step must be added up."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1702304906,"post_id":77640203,"comment_id":136876483,"body_markdown":"What is this tree you&#39;re asking about?","body":"What is this tree you&#39;re asking about?"},{"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"score":0,"creation_date":1702305028,"post_id":77640203,"comment_id":136876500,"body_markdown":"It would be a binary tree.","body":"It would be a binary tree."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1702305193,"post_id":77640203,"comment_id":136876536,"body_markdown":"But, what do you mean by &quot;step&quot;? Is a step the same as an edge? Can you draw the trees that are represented in your examples, and show them as trees? Can you explain how the first example has 25 steps and the second has 34 steps?","body":"But, what do you mean by &quot;step&quot;? Is a step the same as an edge? Can you draw the trees that are represented in your examples, and show them as trees? Can you explain how the first example has 25 steps and the second has 34 steps?"},{"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"score":0,"creation_date":1702305373,"post_id":77640203,"comment_id":136876570,"body_markdown":"Exactly, a step I meant as an edge. I will exemplify in a comment above.","body":"Exactly, a step I meant as an edge. I will exemplify in a comment above."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1702306099,"post_id":77640203,"comment_id":136876726,"body_markdown":"Please explain why the expected answers would be 25 and 34 for the example trees. Those figured just seem random to me. Surely a &quot;step&quot; must have a different definition than &quot;edge&quot;, as the number of edges (14 and 20 for the examples) seems unrelated to what you want as output. What is a &quot;step&quot; exactly?","body":"Please explain why the expected answers would be 25 and 34 for the example trees. Those figured just seem random to me. Surely a &quot;step&quot; must have a different definition than &quot;edge&quot;, as the number of edges (14 and 20 for the examples) seems unrelated to what you want as output. What is a &quot;step&quot; exactly?"},{"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"score":0,"creation_date":1702306420,"post_id":77640203,"comment_id":136876803,"body_markdown":"I believe I managed to explain it better in the answer below.","body":"I believe I managed to explain it better in the answer below."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1702307398,"post_id":77640203,"comment_id":136877036,"body_markdown":"If I apply the logic you have added at the end of your question, then the output for your second example would be 37. Please clarify why it would be 34.","body":"If I apply the logic you have added at the end of your question, then the output for your second example would be 37. Please clarify why it would be 34."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702309085,"post_id":77640203,"comment_id":136877381,"body_markdown":"So, you want to count some edges twice, but other edges only once. In your example, you have *2nd Step: (2) goes to 1; 3rd Step: 1 turn to (2)* where the edge between *(2)* and *1* is traversed twice. But, on the other side, the edge between *(3)* and *4* is traversed once. One consequence is that if a right subtree has a greater depth than the left subtree from the same node, the result will depend on which subtree is processed first. The name of your method suggests you want the minimum number of steps.","body":"So, you want to count some edges twice, but other edges only once. In your example, you have <i>2nd Step: (2) goes to 1; 3rd Step: 1 turn to (2)</i> where the edge between <i>(2)</i> and <i>1</i> is traversed twice. But, on the other side, the edge between <i>(3)</i> and <i>4</i> is traversed once. One consequence is that if a right subtree has a greater depth than the left subtree from the same node, the result will depend on which subtree is processed first. The name of your method suggests you want the minimum number of steps."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702310317,"post_id":77640203,"comment_id":136877636,"body_markdown":"@trincot -- My professors used  *depth* .  The depth of a tree is the number of edges between the root and farthest node.  The depth of an empty tree is `-1`. The depth of a tree with only the root is `0`.","body":"@trincot -- My professors used  <i>depth</i> .  The depth of a tree is the number of edges between the root and farthest node.  The depth of an empty tree is <code>-1</code>. The depth of a tree with only the root is <code>0</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702310693,"post_id":77640203,"comment_id":136877708,"body_markdown":"@trincot Looks like you are right. My memory is faulty.","body":"@trincot Looks like you are right. My memory is faulty."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702310815,"post_id":77640203,"comment_id":136877730,"body_markdown":"Here is a hypothesis to test:  If `n` is the number of nodes in the tree, then `minimumSteps = n * 2 - 2 - height(root)`. The method `height` calculates the number of edges between the given node and the farthest leaf node below it.","body":"Here is a hypothesis to test:  If <code>n</code> is the number of nodes in the tree, then <code>minimumSteps = n * 2 - 2 - height(root)</code>. The method <code>height</code> calculates the number of edges between the given node and the farthest leaf node below it."},{"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"score":0,"creation_date":1702311256,"post_id":77640203,"comment_id":136877798,"body_markdown":"Thanks Old Dog Programmer, I think this is the way to go. I&#39;m trying here, if I succeed, I&#39;ll send the solution answer.","body":"Thanks Old Dog Programmer, I think this is the way to go. I&#39;m trying here, if I succeed, I&#39;ll send the solution answer."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1702311402,"post_id":77640203,"comment_id":136877826,"body_markdown":"An answer is not of much use if the question is not specific enough on this topic. The requests for clarifications in the comments are left without answer.","body":"An answer is not of much use if the question is not specific enough on this topic. The requests for clarifications in the comments are left without answer."},{"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"score":0,"creation_date":1702311548,"post_id":77640203,"comment_id":136877846,"body_markdown":"Ok, but if I find the solution to my problem for this topic, I will post the answer in detail.","body":"Ok, but if I find the solution to my problem for this topic, I will post the answer in detail."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1702311706,"post_id":77640203,"comment_id":136877878,"body_markdown":"I think you miss the point. It should not be the answer that explains the question. The question should be clear, and currently it is not: it doesn&#39;t explain where the expected numbers come from, at least not for the second example. Your question is only one vote away from being closed, so I would make it a priority to update the question first, before thinking of posting an answer.","body":"I think you miss the point. It should not be the answer that explains the question. The question should be clear, and currently it is not: it doesn&#39;t explain where the expected numbers come from, at least not for the second example. Your question is only one vote away from being closed, so I would make it a priority to update the question first, before thinking of posting an answer."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702313486,"post_id":77640203,"comment_id":136878206,"body_markdown":"You risk having the question closed for lack of details or clarity before you post your answer. Comments point out shortcomings of the question. If some of the comments that follow resolve the shortcomings, the question should be edited to reflect the resolutions.","body":"You risk having the question closed for lack of details or clarity before you post your answer. Comments point out shortcomings of the question. If some of the comments that follow resolve the shortcomings, the question should be edited to reflect the resolutions."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702325142,"post_id":77640203,"comment_id":136880031,"body_markdown":"*&quot;On the tree: (some number) - means they are null nodes or have no values.&quot;* I don&#39;t understand that part. A *null node* conventionally indicates a non-existent node. Typically, a null node is a node for which the reference is `null`. So an attempt to access the value or a child would fail because n a `NullPointerException` would be thrown.","body":"<i>&quot;On the tree: (some number) - means they are null nodes or have no values.&quot;</i> I don&#39;t understand that part. A <i>null node</i> conventionally indicates a non-existent node. Typically, a null node is a node for which the reference is <code>null</code>. So an attempt to access the value or a child would fail because n a <code>NullPointerException</code> would be thrown."}],"owner":{"account_id":25468539,"reputation":1,"user_id":20115987,"display_name":"Kaio Soares"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702314400,"answer_count":0,"score":-2,"last_activity_date":1702307167,"creation_date":1702304076,"question_id":77640203,"body_markdown":"For example: `(((1 2) (3 4)) ((6 7) (8 9)))`\r\n\r\nThe top tree has 25 steps to walk. Now how can I code this?\r\n\r\nAnother example: `((1 2) (((10 10) (3 4)) ((((1 1) 1) 1) 1)))`\r\n\r\nThis tree has 34 steps to go through.\r\n\r\n    public int minimumSteps(Node node) {\r\n        if (node == null) {\r\n            return 0;\r\n        }\r\n\r\n        int leftEdges = minimumSteps(node.left);\r\n        int rightEdges = minimumSteps(node.right);\r\n\r\n        int totalEdges = leftEdges + rightEdges + (node.left != null ? 1 : 0) + (node.right != null ? 1 : 0);\r\n\r\n        if (node.left != null || node.right != null) {\r\n            totalEdges++;\r\n        }\r\n\r\n        return totalEdges;\r\n    }\r\n\r\nI&#39;m trying the method above, but I didn&#39;t get the correct result. It gives me 21 steps instead of 25 from the first tree I gave as an example.\r\n\r\nI have a method that builds the tree, based on these codes that I showed. Example of tree ((1 2) (3 4)), drawn below\r\n\r\n         (1)\r\n       /     \\\r\n     (2)     (3)\r\n     / \\     / \\\r\n    1  2    3   4\r\n    \r\n    1st Step: (1) go to (2);\r\n    2nd Step: (2) goes to 1;\r\n    3rd Step: 1 turn to (2);\r\n    4th Step: (2) go to 2;\r\n    5th Step: 2 return to (2);\r\n    6th Step: (2) return to (1);\r\n    7th Step: (1) go to (3);\r\n    8th Step: (3) go to 3;\r\n    9th Step: 3 return to (3);\r\n    10th Step: (3) go to 4;\r\n    Totaling 10 steps.\r\n\r\nOn the tree: (some number) - means they are null nodes or have no values.","title":"How could I calculate the number of steps to traverse a tree?","body":"<p>For example: <code>(((1 2) (3 4)) ((6 7) (8 9)))</code></p>\n<p>The top tree has 25 steps to walk. Now how can I code this?</p>\n<p>Another example: <code>((1 2) (((10 10) (3 4)) ((((1 1) 1) 1) 1)))</code></p>\n<p>This tree has 34 steps to go through.</p>\n<pre><code>public int minimumSteps(Node node) {\n    if (node == null) {\n        return 0;\n    }\n\n    int leftEdges = minimumSteps(node.left);\n    int rightEdges = minimumSteps(node.right);\n\n    int totalEdges = leftEdges + rightEdges + (node.left != null ? 1 : 0) + (node.right != null ? 1 : 0);\n\n    if (node.left != null || node.right != null) {\n        totalEdges++;\n    }\n\n    return totalEdges;\n}\n</code></pre>\n<p>I'm trying the method above, but I didn't get the correct result. It gives me 21 steps instead of 25 from the first tree I gave as an example.</p>\n<p>I have a method that builds the tree, based on these codes that I showed. Example of tree ((1 2) (3 4)), drawn below</p>\n<pre><code>     (1)\n   /     \\\n (2)     (3)\n / \\     / \\\n1  2    3   4\n\n1st Step: (1) go to (2);\n2nd Step: (2) goes to 1;\n3rd Step: 1 turn to (2);\n4th Step: (2) go to 2;\n5th Step: 2 return to (2);\n6th Step: (2) return to (1);\n7th Step: (1) go to (3);\n8th Step: (3) go to 3;\n9th Step: 3 return to (3);\n10th Step: (3) go to 4;\nTotaling 10 steps.\n</code></pre>\n<p>On the tree: (some number) - means they are null nodes or have no values.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":8,"creation_date":1702306060,"post_id":77640358,"comment_id":136876720,"body_markdown":"That rather depends on what the `equals` method of `Icms` does. You haven&#39;t shared that. Should we know what&#39;s in it?","body":"That rather depends on what the <code>equals</code> method of <code>Icms</code> does. You haven&#39;t shared that. Should we know what&#39;s in it?"},{"owner":{"account_id":26698962,"reputation":1,"user_id":20306330,"display_name":"Sandeep S"},"score":0,"creation_date":1702306799,"post_id":77640358,"comment_id":136878204,"body_markdown":"We need to check the **Icms** class to answer this question.","body":"We need to check the <b>Icms</b> class to answer this question."}],"owner":{"account_id":26228145,"reputation":8,"user_id":19904538,"display_name":"Dev_Edimar FUll stack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1702306921,"answer_count":0,"score":-4,"last_activity_date":1702306799,"creation_date":1702305755,"question_id":77640358,"body_markdown":"  \r\n**if (icmsOriginal.equals(icms)) {\r\n\treturn;\r\n}**  is always  returning true, even when it wasn&#39;t supposed to. Bellow is the whole method:\r\n\r\n\r\n      public void inserirDataAlteracao(Icms icms) {\r\n        \r\n        \t\tif (icms.getId().getId() == null) {\r\n        \r\n        \t\t\ticms.setDataAlteracao(new Date());\r\n        \r\n        \t\t\treturn;\r\n        \t\t}\r\n        \r\n        \t\tIcms icmsOriginal = this.repository.findById(IcmsID.builder()\r\n        \t\t\t\t.idEmpresa(icms.getId().getIdEmpresa())\r\n        \t\t\t\t.id(icms.getId().getId())\r\n        \t\t\t\t.build()).get();\r\n        \r\n        \t\tif (icmsOriginal.equals(icms)) {\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \r\n        \t\ticms.setDataAlteracao(new Date());\r\n        \r\n        }","title":"equals always returning true","body":"<p><strong>if (icmsOriginal.equals(icms)) {\nreturn;\n}</strong>  is always  returning true, even when it wasn't supposed to. Bellow is the whole method:</p>\n<pre><code>  public void inserirDataAlteracao(Icms icms) {\n    \n            if (icms.getId().getId() == null) {\n    \n                icms.setDataAlteracao(new Date());\n    \n                return;\n            }\n    \n            Icms icmsOriginal = this.repository.findById(IcmsID.builder()\n                    .idEmpresa(icms.getId().getIdEmpresa())\n                    .id(icms.getId().getId())\n                    .build()).get();\n    \n            if (icmsOriginal.equals(icms)) {\n                return;\n            }\n    \n            icms.setDataAlteracao(new Date());\n    \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","validation","spring-mvc"],"comments":[{"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"score":0,"creation_date":1576492692,"post_id":59353379,"comment_id":104904521,"body_markdown":"The reason must caused by `MappingJackson2HttpMessageConverter`, how to fix it... It can converter Integer to Boolean...","body":"The reason must caused by <code>MappingJackson2HttpMessageConverter</code>, how to fix it... It can converter Integer to Boolean..."}],"answers":[{"comments":[{"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"score":0,"creation_date":1576487521,"post_id":59353420,"comment_id":104901909,"body_markdown":"#### It&#39;s false. And like -12345 or 423 and other integers are true","body":"#### It&#39;s false. And like -12345 or 423 and other integers are true"},{"owner":{"account_id":5237444,"reputation":367,"user_id":4185600,"display_name":"Cayman"},"score":0,"creation_date":1576487918,"post_id":59353420,"comment_id":104902114,"body_markdown":"so that is an answer) As I said Java treats each non-zero integer value as true.","body":"so that is an answer) As I said Java treats each non-zero integer value as true."},{"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"score":0,"creation_date":1576488281,"post_id":59353420,"comment_id":104902313,"body_markdown":"Yes, I know that but I have no ideas to reject the Integer value. It seems that others didn&#39;t meet the same problem because I can&#39;t search out the answer by google...","body":"Yes, I know that but I have no ideas to reject the Integer value. It seems that others didn&#39;t meet the same problem because I can&#39;t search out the answer by google..."}],"tags":[],"owner":{"account_id":5237444,"reputation":367,"user_id":4185600,"display_name":"Cayman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576487314,"creation_date":1576487314,"answer_id":59353420,"question_id":59353379,"body_markdown":"Maybe because each non-zero integer value is true? What happens if you sent `{&quot;able&quot;:0}` ?","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>Maybe because each non-zero integer value is true? What happens if you sent <code>{\"able\":0}</code> ?</p>\n"},{"comments":[{"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"score":0,"creation_date":1576489685,"post_id":59353790,"comment_id":104903031,"body_markdown":"It is. But how to reject the integer value. I&#39;m doing a validation, it couldn&#39;t accept the request send an incorrect value, must be a boolean value.","body":"It is. But how to reject the integer value. I&#39;m doing a validation, it couldn&#39;t accept the request send an incorrect value, must be a boolean value."},{"owner":{"account_id":15291643,"reputation":27,"user_id":11032983,"display_name":"Taran"},"score":0,"creation_date":1576493356,"post_id":59353790,"comment_id":104904891,"body_markdown":"If you only want to consider true or false as valid values. You can write custom validation check. Just accept value with String and compare value as true or false. If yes then do your work, otherwise thrown an error.","body":"If you only want to consider true or false as valid values. You can write custom validation check. Just accept value with String and compare value as true or false. If yes then do your work, otherwise thrown an error."}],"tags":[],"owner":{"account_id":15291643,"reputation":27,"user_id":11032983,"display_name":"Taran"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576488645,"creation_date":1576488645,"answer_id":59353790,"question_id":59353379,"body_markdown":"Each non zero value will be treated as true in boolean case. If you send zero then it will set value to false.","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>Each non zero value will be treated as true in boolean case. If you send zero then it will set value to false.</p>\n"},{"comments":[{"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"score":1,"creation_date":1576497447,"post_id":59355180,"comment_id":104906891,"body_markdown":"It works! Awesome! But I didn&#39;t use this one. Thank you first~ Good answer! My answer is refactoring the setter method of class `SomeRequest ` and give it a method `setAble` like this: `public void setAble(Object value) {\n        if (value instanceof Boolean) {\n            submitted = (Boolean) value;\n        }\n        if (&quot;true&quot;.equals(value)) {\n            submitted = true;\n        }\n    }`. Because I don&#39;t want to affect other methods which are using  Boolean.","body":"It works! Awesome! But I didn&#39;t use this one. Thank you first~ Good answer! My answer is refactoring the setter method of class <code>SomeRequest </code> and give it a method <code>setAble</code> like this: <code>public void setAble(Object value) {         if (value instanceof Boolean) {             submitted = (Boolean) value;         }         if (&quot;true&quot;.equals(value)) {             submitted = true;         }     }</code>. Because I don&#39;t want to affect other methods which are using  Boolean."}],"tags":[],"owner":{"account_id":17318394,"reputation":56,"user_id":12544350,"display_name":"sunsunsun"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1576495408,"creation_date":1576493714,"answer_id":59355180,"question_id":59353379,"body_markdown":"Because jackson.databind will parse int to bool when field type is bool.\r\nFind code in `NumberDeserializers.BooleanDeserializer`\r\n\r\n                JsonToken t = p.getCurrentToken();\r\n                if (t == JsonToken.VALUE_TRUE) {\r\n                    return Boolean.TRUE;\r\n                }\r\n                if (t == JsonToken.VALUE_FALSE) {\r\n                    return Boolean.FALSE;\r\n                }\r\n                return _parseBoolean(p, ctxt);\r\n\r\n`_parseBoolean(p, ctxt)` will parse int to bool.\r\n\r\nWe can do it by ourselves not use default.\r\n\r\n1. Create our bool deser class.\r\n\r\n```java\r\npublic class MyDeser extends JsonDeserializer {\r\n    @Override\r\n    public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        JsonToken t = p.getCurrentToken();\r\n        if (t == JsonToken.VALUE_TRUE) {\r\n            return Boolean.TRUE;\r\n        }\r\n        if (t == JsonToken.VALUE_FALSE) {\r\n            return Boolean.FALSE;\r\n        }\r\n        return null; \r\n        // not parse int to bool but null and it may work ok.\r\n        // if throw new IOException(), it will work fail. Maybe return null means use other deser to deal it. throw Exception means fail. I don&#39;t know it clearly.\r\n    }\r\n}\r\n```\r\n\r\n2. Create a configuration and inject a SimpleModule bean. I write in application\r\n\r\n   ```java\r\n    @SpringBootApplication\r\n    @Configuration\r\n    public class DemoApplication {\r\n        @Bean\r\n        public SimpleModule addDeser() {\r\n            return new SimpleModule().addDeserializer(Boolean.class, new MyDeser());\r\n        }\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>Because jackson.databind will parse int to bool when field type is bool.\nFind code in <code>NumberDeserializers.BooleanDeserializer</code></p>\n\n<pre><code>            JsonToken t = p.getCurrentToken();\n            if (t == JsonToken.VALUE_TRUE) {\n                return Boolean.TRUE;\n            }\n            if (t == JsonToken.VALUE_FALSE) {\n                return Boolean.FALSE;\n            }\n            return _parseBoolean(p, ctxt);\n</code></pre>\n\n<p><code>_parseBoolean(p, ctxt)</code> will parse int to bool.</p>\n\n<p>We can do it by ourselves not use default.</p>\n\n<ol>\n<li>Create our bool deser class.</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDeser extends JsonDeserializer {\n    @Override\n    public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonToken t = p.getCurrentToken();\n        if (t == JsonToken.VALUE_TRUE) {\n            return Boolean.TRUE;\n        }\n        if (t == JsonToken.VALUE_FALSE) {\n            return Boolean.FALSE;\n        }\n        return null; \n        // not parse int to bool but null and it may work ok.\n        // if throw new IOException(), it will work fail. Maybe return null means use other deser to deal it. throw Exception means fail. I don't know it clearly.\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a configuration and inject a SimpleModule bean. I write in application</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code> @SpringBootApplication\n @Configuration\n public class DemoApplication {\n     @Bean\n     public SimpleModule addDeser() {\n         return new SimpleModule().addDeserializer(Boolean.class, new MyDeser());\n     }\n     public static void main(String[] args) {\n         SpringApplication.run(DemoApplication.class, args);\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576545922,"creation_date":1576498036,"answer_id":59356339,"question_id":59353379,"body_markdown":"Actually the answer posted by [sunsunsun][1]\r\nis exactly. It works well. But my answer is re-code the setter method of `SomeRequest ` like this:\r\n```java\r\n    public void setAble(Object value) {\r\n        if (value instanceof Boolean) {\r\n            submitted = (Boolean) value;\r\n        }\r\n        if (&quot;true&quot;.equals(value)) {\r\n            submitted = true;\r\n        }\r\n    }\r\n```\r\nBecause Jackson is using the setter method to inject value.\r\n## And then I can just accept the value which is true or &quot;true&quot;. And I don&#39;t want to affect others.\r\n\r\n  [1]: https://stackoverflow.com/users/12544350/sunsunsun","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>Actually the answer posted by <a href=\"https://stackoverflow.com/users/12544350/sunsunsun\">sunsunsun</a>\nis exactly. It works well. But my answer is re-code the setter method of <code>SomeRequest</code> like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public void setAble(Object value) {\n        if (value instanceof Boolean) {\n            submitted = (Boolean) value;\n        }\n        if (\"true\".equals(value)) {\n            submitted = true;\n        }\n    }\n</code></pre>\n\n<p>Because Jackson is using the setter method to inject value.</p>\n\n<h2>And then I can just accept the value which is true or \"true\". And I don't want to affect others.</h2>\n"},{"tags":[],"owner":{"account_id":18850788,"reputation":21,"user_id":13749976,"display_name":"Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657630672,"creation_date":1657630271,"answer_id":72952641,"question_id":59353379,"body_markdown":"create a Custom BooleanDeserializer by extending the JsonDeserializer from jackson library,\r\n\r\n    public class BooleanValueDeserializer extends JsonDeserializer&lt;Boolean&gt; {\r\n\r\n\t@Override\r\n\tpublic Boolean deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException, JacksonException {\r\n\t\ttry {\r\n\t\t\treturn jsonParser.getBooleanValue();\r\n\t\t}catch(JsonParseException exception) {\r\n\t\t\tthrow new RuntimeException(String.format(&quot;%s is not a valid Boolean value for %s&quot;, jsonParser.getText(), jsonParser.getCurrentName()));\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\nand add the following annotation on the Request Object for Deserialization\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class SomeRequest {\r\n\t    @NotNull\r\n\t    @JsonDeserialize(using = BooleanValueDeserializer.class)\r\n\t    private Boolean able;\r\n    }","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>create a Custom BooleanDeserializer by extending the JsonDeserializer from jackson library,</p>\n<pre><code>public class BooleanValueDeserializer extends JsonDeserializer&lt;Boolean&gt; {\n\n@Override\npublic Boolean deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException, JacksonException {\n    try {\n        return jsonParser.getBooleanValue();\n    }catch(JsonParseException exception) {\n        throw new RuntimeException(String.format(&quot;%s is not a valid Boolean value for %s&quot;, jsonParser.getText(), jsonParser.getCurrentName()));\n    }\n}\n}\n</code></pre>\n<p>and add the following annotation on the Request Object for Deserialization</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SomeRequest {\n    @NotNull\n    @JsonDeserialize(using = BooleanValueDeserializer.class)\n    private Boolean able;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702306541,"creation_date":1702306541,"answer_id":77640443,"question_id":59353379,"body_markdown":"Another solution is to use Jackson&#39;s Coercion Configuration\r\n\r\nhttps://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2\r\n\r\n","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>Another solution is to use Jackson's Coercion Configuration</p>\n<p><a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2\" rel=\"nofollow noreferrer\">https://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2</a></p>\n"}],"owner":{"account_id":9826291,"reputation":115,"user_id":7279343,"display_name":"Reckless"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5706,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59355180,"answer_count":6,"score":3,"last_activity_date":1702306541,"creation_date":1576487110,"question_id":59353379,"body_markdown":"My request was an `application/json` type like this: `{&quot;able&quot;: true}`, but when I send the request like this `{&quot;able&quot;:12345}`, the field `able` still can get a correct value `true`. Why?\r\n```java\r\n@PatchMapping(&quot;/{id}/path/{name}&quot;)\r\npublic ResponseEntity someMethod(\r\n\t@Valid @RequestBody SomeRequest request) {\r\n    // do something\r\n}\r\n\t\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class SomeRequest {\r\n    @AssertTrue\r\n    @NotNull\r\n    private Boolean able;\r\n}\r\n```","title":"SpringBoot automatically converts integer to boolean with @RequestBody annotation? How can I reject the integer?","body":"<p>My request was an <code>application/json</code> type like this: <code>{\"able\": true}</code>, but when I send the request like this <code>{\"able\":12345}</code>, the field <code>able</code> still can get a correct value <code>true</code>. Why?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PatchMapping(\"/{id}/path/{name}\")\npublic ResponseEntity someMethod(\n    @Valid @RequestBody SomeRequest request) {\n    // do something\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SomeRequest {\n    @AssertTrue\n    @NotNull\n    private Boolean able;\n}\n</code></pre>\n"},{"tags":["java","android","gstreamer"],"owner":{"account_id":18791433,"reputation":1,"user_id":13703772,"display_name":"HansMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702306524,"creation_date":1702306524,"question_id":77640440,"body_markdown":"I&#39;m working on this code someone made back in 2020 to try and get it to work now, but it&#39;s been one issue after another. I managed to use the correct version of Android Studio since newer ones don&#39;t support Java 8 and the correct Gradle version, but there&#39;s one import that isn&#39;t working no matter what I do.\r\n\r\n`error: package org.freedesktop.gstreamer does not exist\r\nimport org.freedesktop.gstreamer.GStreamer;\r\n                                ^`\r\n\r\nIt doesn&#39;t seem to detect this specific import, but when I check app/src/org/freedesktop/gstreamer the .java file is right there and the package is named org.freedesktop.gstreamer. I&#39;m not super familiar with Android Studio development, and I suspect the person who made this wasn&#39;t either, so is there something really obvious that I&#39;m missing?\r\n\r\nI tried swtiching the gradle version, but so far only 7.3.2 has worked. I also tried using the Clean tool and the Rebuild tool. The SDK version is set to 29 as per what was written on the instructions left behind.","title":"GStreamer import not showing up for Android Studio","body":"<p>I'm working on this code someone made back in 2020 to try and get it to work now, but it's been one issue after another. I managed to use the correct version of Android Studio since newer ones don't support Java 8 and the correct Gradle version, but there's one import that isn't working no matter what I do.</p>\n<p><code>error: package org.freedesktop.gstreamer does not exist import org.freedesktop.gstreamer.GStreamer; ^</code></p>\n<p>It doesn't seem to detect this specific import, but when I check app/src/org/freedesktop/gstreamer the .java file is right there and the package is named org.freedesktop.gstreamer. I'm not super familiar with Android Studio development, and I suspect the person who made this wasn't either, so is there something really obvious that I'm missing?</p>\n<p>I tried swtiching the gradle version, but so far only 7.3.2 has worked. I also tried using the Clean tool and the Rebuild tool. The SDK version is set to 29 as per what was written on the instructions left behind.</p>\n"},{"tags":["java","spring-boot","base64","unboundid-ldap-sdk"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1702308231,"post_id":77640393,"comment_id":136877198,"body_markdown":"Will it work with ordinary spring boot app(not spring cloud) ?","body":"Will it work with ordinary spring boot app(not spring cloud) ?"},{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1702309579,"post_id":77640393,"comment_id":136877476,"body_markdown":"Yes, it will work in a Spring Boot app.","body":"Yes, it will work in a Spring Boot app."}],"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702306114,"creation_date":1702306114,"answer_id":77640393,"question_id":77639031,"body_markdown":"You can use Spring Cloud Config to do this.\r\n1. Include the `spring-cloud-starter-config` dependency.\r\n2. Install the Spring Boot CLI and add the Cloud CLI to it. See [this][1] and [this][2].\r\n3. Encrypt your password by issuing the `spring encrypt &lt;string to encrypt&gt; --key &lt;encrypt key&gt;`.\r\n4. Replace the password in your properties file with the encrypted password and preface the password with &#39;{cipher}&#39;. See [this][3].\r\n5. Start your application with `-DENCRYPT_KEY=&lt;encrypt key&gt;` or `-Dencrypt.key=&lt;encrypt key&gt;`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/cli.html\r\n  [2]: https://cloud.spring.io/spring-cloud-cli/reference/html/\r\n  [3]: https://docs.spring.io/spring-cloud-config/reference/server/encryption-and-decryption.html","title":"Is there way to encrypt ldap password in spring boot application ? (at least base64)","body":"<p>You can use Spring Cloud Config to do this.</p>\n<ol>\n<li>Include the <code>spring-cloud-starter-config</code> dependency.</li>\n<li>Install the Spring Boot CLI and add the Cloud CLI to it. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/cli.html\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://cloud.spring.io/spring-cloud-cli/reference/html/\" rel=\"nofollow noreferrer\">this</a>.</li>\n<li>Encrypt your password by issuing the <code>spring encrypt &lt;string to encrypt&gt; --key &lt;encrypt key&gt;</code>.</li>\n<li>Replace the password in your properties file with the encrypted password and preface the password with '{cipher}'. See <a href=\"https://docs.spring.io/spring-cloud-config/reference/server/encryption-and-decryption.html\" rel=\"nofollow noreferrer\">this</a>.</li>\n<li>Start your application with <code>-DENCRYPT_KEY=&lt;encrypt key&gt;</code> or <code>-Dencrypt.key=&lt;encrypt key&gt;</code>.</li>\n</ol>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702306114,"creation_date":1702291935,"question_id":77639031,"body_markdown":"In my spring boot application I have following configuration for LDAP\r\n```\r\nldap:\r\n  connection:\r\n    host: 123.45.67.89\r\n    port: 389\r\n    user: CN=Administrator,CN=Users,DC=MYCOMPANY,DC=COM\r\n    password: SuPeRsEcrEt123#\r\n```\r\n\r\nIs there way to encrypt LDAP password ? at least Base64","title":"Is there way to encrypt ldap password in spring boot application ? (at least base64)","body":"<p>In my spring boot application I have following configuration for LDAP</p>\n<pre><code>ldap:\n  connection:\n    host: 123.45.67.89\n    port: 389\n    user: CN=Administrator,CN=Users,DC=MYCOMPANY,DC=COM\n    password: SuPeRsEcrEt123#\n</code></pre>\n<p>Is there way to encrypt LDAP password ? at least Base64</p>\n"},{"tags":["java","spring","spring-webflux","r2dbc","hibernate-reactive"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701913949,"post_id":77614433,"comment_id":136835184,"body_markdown":"can you do a `mvn dependency:tree` and update your question with the result so we can see what dependencies are actually resolved. And also show us your pom.","body":"can you do a <code>mvn dependency:tree</code> and update your question with the result so we can see what dependencies are actually resolved. And also show us your pom."}],"answers":[{"comments":[{"owner":{"account_id":30081047,"reputation":1,"user_id":23052670,"display_name":"Titus"},"score":0,"creation_date":1702306283,"post_id":77620095,"comment_id":136876766,"body_markdown":"Unfortunately adapting the Versions did not help me out. At the moment I am working on a separate piece of Code, but I got the same problems as if I would have the R2DBC dependencies. So I assume the problems not to correlate with combining R2DBC with Hibernate-reactive","body":"Unfortunately adapting the Versions did not help me out. At the moment I am working on a separate piece of Code, but I got the same problems as if I would have the R2DBC dependencies. So I assume the problems not to correlate with combining R2DBC with Hibernate-reactive"}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701955664,"creation_date":1701952971,"answer_id":77620095,"question_id":77614433,"body_markdown":"The reason you are having these issues is because the libraries in your project require different Hibernate ORM versions.\r\n\r\nI&#39;m not familiar with R2DBC, you should check which dependency it requires and then include the correct Hibernate Reactive version. It&#39;s probably going to be Hibernate Reactive 2.1.0.Final (Compatible with Hibernate ORM 6.3.2.Final). But you can check the versions compatibility on the [Hibernate website][1].\r\n\r\n  [1]: https://hibernate.org/reactive/releases/","title":"Using Hibernate-Reactive and together R2DBC in one project","body":"<p>The reason you are having these issues is because the libraries in your project require different Hibernate ORM versions.</p>\n<p>I'm not familiar with R2DBC, you should check which dependency it requires and then include the correct Hibernate Reactive version. It's probably going to be Hibernate Reactive 2.1.0.Final (Compatible with Hibernate ORM 6.3.2.Final). But you can check the versions compatibility on the <a href=\"https://hibernate.org/reactive/releases/\" rel=\"nofollow noreferrer\">Hibernate website</a>.</p>\n"}],"owner":{"account_id":30081047,"reputation":1,"user_id":23052670,"display_name":"Titus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702306068,"creation_date":1701876981,"question_id":77614433,"body_markdown":"I am currently working on a project using Spring-Webflux and R2DBC. I am using an OracleDB 19c and corresponding drivers for R2DBC. Since Hibernate went reactive I want to try it in the existing project - so it needs to run next to R2DBC (for hibernate I used vertx-oracle). But when starting the application I get ClassNotFoundExceptions:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hibernate/engine/jdbc/mutation/spi/MutationExecutorService\r\n\tat org.hibernate.reactive.provider.impl.ReactiveServiceInitiators.buildInitialServiceInitiatorList(ReactiveServiceInitiators.java:122)\r\n\tat org.hibernate.reactive.provider.impl.ReactiveServiceInitiators.&lt;clinit&gt;(ReactiveServiceInitiators.java:60)\r\n\tat org.hibernate.reactive.provider.ReactiveServiceRegistryBuilder.defaultReactiveInitiatorList(ReactiveServiceRegistryBuilder.java:135)\r\n\tat org.hibernate.reactive.provider.ReactiveServiceRegistryBuilder.forJpa(ReactiveServiceRegistryBuilder.java:46)\r\n\tat org.hibernate.reactive.provider.impl.ReactiveEntityManagerFactoryBuilder.getStandardServiceRegistryBuilder(ReactiveEntityManagerFactoryBuilder.java:39)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:249)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:189)\r\n\tat org.hibernate.reactive.provider.impl.ReactiveEntityManagerFactoryBuilder.&lt;init&gt;(ReactiveEntityManagerFactoryBuilder.java:33)\r\n\tat org.hibernate.reactive.provider.ReactivePersistenceProvider.getEntityManagerFactoryBuilder(ReactivePersistenceProvider.java:151)\r\n\tat org.hibernate.reactive.provider.ReactivePersistenceProvider.getEntityManagerFactoryBuilderOrNull(ReactivePersistenceProvider.java:102)\r\n\tat org.hibernate.reactive.provider.ReactivePersistenceProvider.createEntityManagerFactory(ReactivePersistenceProvider.java:50)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat org.hibernate.reactive.example.nativesql.Main.main(Main.java:38)\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.engine.jdbc.mutation.spi.MutationExecutorService\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 14 more\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nIt seems like not all Classes needed are delivered with the hibernate-reactive-core (2.2.0.Final) depenedency. Am I missing something in the documentation or is this some sort of unexpected behaviour?\r\n\r\nI tried to import the missing MutationExecutorService interface by adding the dependency\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.4.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nto the pom.xml which kind of worked - the class was imported but then I faced problems running both: hibernate and R2DBC. This resulted in a connection timeout for every hibernate-session I tried to open.\r\n\r\nI also tried to use the given minimum project from [hibernate-reactive examples](https://github.com/hibernate/hibernate-reactive/tree/main/examples) with less dependencies and even then I faced `java.lang.ClassNotFoundException: org.hibernate.engine.jdbc.mutation.spi.MutationExecutorService` so that should not be caused by R2DBC.\r\n\r\nDo you have some experience and advise for working with hibernate-reactive and R2DBC in one project? And is the missing class normal behaviour or is this an error that should not happen?\r\n\r\n**Edit** \r\nI tried the dependencies recommended by [https://stackoverflow.com/a/77620095/23052670)[Davide D&#39;Alto] (hibernate-core 6.3.2.Final + hibernate-reactive-core 2.1.0.Final).\r\n\r\nI am still getting a Spring startup freezing for a few seconds and then responding with the Error-Log containing a Timeout.","title":"Using Hibernate-Reactive and together R2DBC in one project","body":"<p>I am currently working on a project using Spring-Webflux and R2DBC. I am using an OracleDB 19c and corresponding drivers for R2DBC. Since Hibernate went reactive I want to try it in the existing project - so it needs to run next to R2DBC (for hibernate I used vertx-oracle). But when starting the application I get ClassNotFoundExceptions:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hibernate/engine/jdbc/mutation/spi/MutationExecutorService\n    at org.hibernate.reactive.provider.impl.ReactiveServiceInitiators.buildInitialServiceInitiatorList(ReactiveServiceInitiators.java:122)\n    at org.hibernate.reactive.provider.impl.ReactiveServiceInitiators.&lt;clinit&gt;(ReactiveServiceInitiators.java:60)\n    at org.hibernate.reactive.provider.ReactiveServiceRegistryBuilder.defaultReactiveInitiatorList(ReactiveServiceRegistryBuilder.java:135)\n    at org.hibernate.reactive.provider.ReactiveServiceRegistryBuilder.forJpa(ReactiveServiceRegistryBuilder.java:46)\n    at org.hibernate.reactive.provider.impl.ReactiveEntityManagerFactoryBuilder.getStandardServiceRegistryBuilder(ReactiveEntityManagerFactoryBuilder.java:39)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:249)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:189)\n    at org.hibernate.reactive.provider.impl.ReactiveEntityManagerFactoryBuilder.&lt;init&gt;(ReactiveEntityManagerFactoryBuilder.java:33)\n    at org.hibernate.reactive.provider.ReactivePersistenceProvider.getEntityManagerFactoryBuilder(ReactivePersistenceProvider.java:151)\n    at org.hibernate.reactive.provider.ReactivePersistenceProvider.getEntityManagerFactoryBuilderOrNull(ReactivePersistenceProvider.java:102)\n    at org.hibernate.reactive.provider.ReactivePersistenceProvider.createEntityManagerFactory(ReactivePersistenceProvider.java:50)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at org.hibernate.reactive.example.nativesql.Main.main(Main.java:38)\nCaused by: java.lang.ClassNotFoundException: org.hibernate.engine.jdbc.mutation.spi.MutationExecutorService\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 14 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>It seems like not all Classes needed are delivered with the hibernate-reactive-core (2.2.0.Final) depenedency. Am I missing something in the documentation or is this some sort of unexpected behaviour?</p>\n<p>I tried to import the missing MutationExecutorService interface by adding the dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>to the pom.xml which kind of worked - the class was imported but then I faced problems running both: hibernate and R2DBC. This resulted in a connection timeout for every hibernate-session I tried to open.</p>\n<p>I also tried to use the given minimum project from <a href=\"https://github.com/hibernate/hibernate-reactive/tree/main/examples\" rel=\"nofollow noreferrer\">hibernate-reactive examples</a> with less dependencies and even then I faced <code>java.lang.ClassNotFoundException: org.hibernate.engine.jdbc.mutation.spi.MutationExecutorService</code> so that should not be caused by R2DBC.</p>\n<p>Do you have some experience and advise for working with hibernate-reactive and R2DBC in one project? And is the missing class normal behaviour or is this an error that should not happen?</p>\n<p><strong>Edit</strong>\nI tried the dependencies recommended by [https://stackoverflow.com/a/77620095/23052670)[Davide D'Alto] (hibernate-core 6.3.2.Final + hibernate-reactive-core 2.1.0.Final).</p>\n<p>I am still getting a Spring startup freezing for a few seconds and then responding with the Error-Log containing a Timeout.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","projection"],"answers":[{"tags":[],"owner":{"account_id":17551166,"reputation":61,"user_id":12731546,"display_name":"meh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702306058,"creation_date":1702306058,"answer_id":77640388,"question_id":77352281,"body_markdown":"You can create an interface with the common methods (`getFoo()`, `getBar()`) and make both `EntityDTO` and `MyEntity` extend/implement it. Then you can use it as a type wherever entity itself (not interested in `id`) or its projection is provided.","title":"Can a Spring JPA Entity implement a Projection interface?","body":"<p>You can create an interface with the common methods (<code>getFoo()</code>, <code>getBar()</code>) and make both <code>EntityDTO</code> and <code>MyEntity</code> extend/implement it. Then you can use it as a type wherever entity itself (not interested in <code>id</code>) or its projection is provided.</p>\n"}],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77640388,"answer_count":1,"score":1,"last_activity_date":1702306058,"creation_date":1698152460,"question_id":77352281,"body_markdown":"[Interface-based Projections](https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html#projections.interfaces) are a handy feature in Spring JPA, allowing a Repository to return different interfaces. For a simple example, this entity...\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class MyEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        private String foo;\r\n        private String bar;\r\n    }\r\n\r\n...can omit a field and result from a native query.\r\n\r\n    public interface EntityDTO {\r\n        String getFoo();\r\n        String getBar();\r\n    }\r\n\r\n    @Repository\r\n    public interface EntityRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\r\n        @Query(nativeQuery = true, value = &quot;select * from entity where id = :id&quot;)\r\n        EntityDTO findDtoById(int id);\r\n    }\r\n\r\nThe above works... unless I want the entity itself to implement the projection interface.\r\n\r\n    public class MyEntity implements EntityDTO\r\n\r\nThis relationship seems natural, since the entity does in fact implement the interface, and service methods shouldn&#39;t care whether they&#39;re reading from an entity or some other projection; but implementing the projection results in an exception from the query.\r\n\r\n    org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [EntityDTO]\r\n\r\nIs there a way to make JPA proxy the `EntityDTO` as an unrelated interface, even when it is implemented by `MyEntity`?","title":"Can a Spring JPA Entity implement a Projection interface?","body":"<p><a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html#projections.interfaces\" rel=\"nofollow noreferrer\">Interface-based Projections</a> are a handy feature in Spring JPA, allowing a Repository to return different interfaces. For a simple example, this entity...</p>\n<pre><code>@Entity\n@Table(name = &quot;entity&quot;)\n@Getter\n@Setter\n@ToString\npublic class MyEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String foo;\n    private String bar;\n}\n</code></pre>\n<p>...can omit a field and result from a native query.</p>\n<pre><code>public interface EntityDTO {\n    String getFoo();\n    String getBar();\n}\n\n@Repository\npublic interface EntityRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\n    @Query(nativeQuery = true, value = &quot;select * from entity where id = :id&quot;)\n    EntityDTO findDtoById(int id);\n}\n</code></pre>\n<p>The above works... unless I want the entity itself to implement the projection interface.</p>\n<pre><code>public class MyEntity implements EntityDTO\n</code></pre>\n<p>This relationship seems natural, since the entity does in fact implement the interface, and service methods shouldn't care whether they're reading from an entity or some other projection; but implementing the projection results in an exception from the query.</p>\n<pre><code>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [EntityDTO]\n</code></pre>\n<p>Is there a way to make JPA proxy the <code>EntityDTO</code> as an unrelated interface, even when it is implemented by <code>MyEntity</code>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9915,"page":2,"page_size":100}
