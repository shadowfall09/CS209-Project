{"items":[{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668212183,"post_id":74406539,"comment_id":131358481,"body_markdown":"Have you tried to url encode it?","body":"Have you tried to url encode it?"},{"owner":{"account_id":6386225,"reputation":207,"user_id":4954056,"accept_rate":14,"display_name":"gurdingering"},"score":0,"creation_date":1668452524,"post_id":74406539,"comment_id":131403613,"body_markdown":"@PaulSamsotha yea I&#39;ve tried url encoding it before passing it to the UriBuilder. But the UriBuilder will try encoding it again won&#39;t it?","body":"@PaulSamsotha yea I&#39;ve tried url encoding it before passing it to the UriBuilder. But the UriBuilder will try encoding it again won&#39;t it?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668453268,"post_id":74406539,"comment_id":131403861,"body_markdown":"_&quot;URI template names and delimiters are never encoded but their values are encoded when a URI is built&quot;_ - I don&#39;t know if by delimiter, they mean curly brackets.","body":"<i>&quot;URI template names and delimiters are never encoded but their values are encoded when a URI is built&quot;</i> - I don&#39;t know if by delimiter, they mean curly brackets."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668453394,"post_id":74406539,"comment_id":131403907,"body_markdown":"Yea I&#39;m not sure how that works at all.","body":"Yea I&#39;m not sure how that works at all."}],"owner":{"account_id":6386225,"reputation":207,"user_id":4954056,"accept_rate":14,"display_name":"gurdingering"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668254386,"creation_date":1668190099,"question_id":74406539,"body_markdown":"Trying to use this UriBuilder class to create an endpoint for my Http client to hit https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder\r\n\r\n```\r\n        String key = &quot;b4o3h4{g}fghg3&quot;;\r\n        String uri = UriBuilder.fromUri(getUriForName(name))\r\n            .queryParam(&quot;name&quot;, name)\r\n            .queryParam(&quot;key&quot;, key)\r\n            .build();\r\n```\r\n\r\nBut I&#39;m getting the following stacktrace:\r\n\r\n```\r\nThe template variable &#39;g&#39; has no value\r\njava.lang.IllegalArgumentException: The template variable &#39;g&#39; has no value\r\n\tat org.glassfish.jersey.uri.UriTemplate$1ValuesFromArrayStrategy.valueFor(UriTemplate.java:996)\r\n\tat org.glassfish.jersey.uri.UriTemplate.resolveTemplate(UriTemplate.java:682)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createUriComponent(UriTemplate.java:1006)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:946)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:882)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURI(UriTemplate.java:847)\r\n\tat org.glassfish.jersey.uri.internal.JerseyUriBuilder._build(JerseyUriBuilder.java:890)\r\n\tat org.glassfish.jersey.uri.internal.JerseyUriBuilder.build(JerseyUriBuilder.java:807)\r\n```\r\n\r\nThis is due to my query parameter&#39;s value just happening to look like a template. Is there a way for me to pass this value in if that&#39;s my actual value and not a template?","title":"UriBuilder doesn&#39;t work if parameter&#39;s value happens to look like a template?","body":"<p>Trying to use this UriBuilder class to create an endpoint for my Http client to hit <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder</a></p>\n<pre><code>        String key = &quot;b4o3h4{g}fghg3&quot;;\n        String uri = UriBuilder.fromUri(getUriForName(name))\n            .queryParam(&quot;name&quot;, name)\n            .queryParam(&quot;key&quot;, key)\n            .build();\n</code></pre>\n<p>But I'm getting the following stacktrace:</p>\n<pre><code>The template variable 'g' has no value\njava.lang.IllegalArgumentException: The template variable 'g' has no value\n    at org.glassfish.jersey.uri.UriTemplate$1ValuesFromArrayStrategy.valueFor(UriTemplate.java:996)\n    at org.glassfish.jersey.uri.UriTemplate.resolveTemplate(UriTemplate.java:682)\n    at org.glassfish.jersey.uri.UriTemplate.createUriComponent(UriTemplate.java:1006)\n    at org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:946)\n    at org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:882)\n    at org.glassfish.jersey.uri.UriTemplate.createURI(UriTemplate.java:847)\n    at org.glassfish.jersey.uri.internal.JerseyUriBuilder._build(JerseyUriBuilder.java:890)\n    at org.glassfish.jersey.uri.internal.JerseyUriBuilder.build(JerseyUriBuilder.java:807)\n</code></pre>\n<p>This is due to my query parameter's value just happening to look like a template. Is there a way for me to pass this value in if that's my actual value and not a template?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1668263399,"post_id":74412724,"comment_id":131365363,"body_markdown":"Have you considered looking at the error instead of ignoring it?","body":"Have you considered looking at the error instead of ignoring it?"},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1668306436,"post_id":74412724,"comment_id":131372732,"body_markdown":"I just left try-catch there if someone tries to link unexisting id. I will, thanks","body":"I just left try-catch there if someone tries to link unexisting id. I will, thanks"},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1668338037,"post_id":74412724,"comment_id":131376293,"body_markdown":"The error is:\n`Exception in thread &quot;Timer-0&quot; net.dv8tion.jda.api.exceptions.ErrorResponseException: 10013: Unknown User`\nWhat should I do with it?","body":"The error is: <code>Exception in thread &quot;Timer-0&quot; net.dv8tion.jda.api.exceptions.ErrorResponseException: 10013: Unknown User</code> What should I do with it?"}],"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668254217,"creation_date":1668254217,"question_id":74412724,"body_markdown":"This is just sheet which links ingame characters with their discord accounts. I use thhis method to return IDs.\r\n\r\n[![List of ID-username sheet][1]][1]\r\n\r\n```\r\npublic static List&lt;String&gt; idsToUsernames(List&lt;String&gt; ids){\r\n\r\n        ArrayList&lt;String&gt; usernames = new ArrayList&lt;&gt;();\r\n        for(String id : ids) {\r\n            try {\r\n                usernames.add(bot.retrieveUserById(id).complete().getAsTag());\r\n            }catch (ErrorResponseException e){\r\n                usernames.add(&quot;User is unknown&quot;);\r\n            }\r\n        }\r\n\r\n        return usernames;\r\n    }\r\n```\r\n\r\nI am just very curious about it. Was there any update which affected this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i8VKQ.png","title":"Bot cannot return Username from IDs which are below certain number","body":"<p>This is just sheet which links ingame characters with their discord accounts. I use thhis method to return IDs.</p>\n<p><a href=\"https://i.stack.imgur.com/i8VKQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i8VKQ.png\" alt=\"List of ID-username sheet\" /></a></p>\n<pre><code>public static List&lt;String&gt; idsToUsernames(List&lt;String&gt; ids){\n\n        ArrayList&lt;String&gt; usernames = new ArrayList&lt;&gt;();\n        for(String id : ids) {\n            try {\n                usernames.add(bot.retrieveUserById(id).complete().getAsTag());\n            }catch (ErrorResponseException e){\n                usernames.add(&quot;User is unknown&quot;);\n            }\n        }\n\n        return usernames;\n    }\n</code></pre>\n<p>I am just very curious about it. Was there any update which affected this?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668167866,"post_id":74401764,"comment_id":131345800,"body_markdown":"Yet another variation of [How to force max to return ALL maximum values in a Java Stream?](https://stackoverflow.com/q/29334404/2711488) Using e.g. `int max = Collections.max(map.values()); List&lt;String&gt; keys = map.entrySet() .filter(e -&gt; e.getValue() == max) .map(Map.Entry::getKey) .toList();` isn’t that bad. It doesn’t have to be crammed into a single Stream operation.","body":"Yet another variation of <a href=\"https://stackoverflow.com/q/29334404/2711488\">How to force max to return ALL maximum values in a Java Stream?</a> Using e.g. <code>int max = Collections.max(map.values()); List&lt;String&gt; keys = map.entrySet() .filter(e -&gt; e.getValue() == max) .map(Map.Entry::getKey) .toList();</code> isn’t that bad. It doesn’t have to be crammed into a single Stream operation."}],"answers":[{"comments":[{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1668166668,"post_id":74401856,"comment_id":131345323,"body_markdown":"is any option is there to collect in step 1 itself? instead of iterating map again","body":"is any option is there to collect in step 1 itself? instead of iterating map again"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668168377,"post_id":74401856,"comment_id":131345974,"body_markdown":"Don’t use mutable data, like an `ArrayList` you are adding to, with `reduce`. That’s what `collect` is for.","body":"Don’t use mutable data, like an <code>ArrayList</code> you are adding to, with <code>reduce</code>. That’s what <code>collect</code> is for."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668170764,"post_id":74401856,"comment_id":131346770,"body_markdown":"@Holger I am not entirely sure this case was not respecting the specifications of reduce, but I edited it to use `collect` instead. I wonder if there is a way to create only one class that implements `Collector`. The only way I see it is one class implementing `Collector` and one other to implement the accumulation type.","body":"@Holger I am not entirely sure this case was not respecting the specifications of reduce, but I edited it to use <code>collect</code> instead. I wonder if there is a way to create only one class that implements <code>Collector</code>. The only way I see it is one class implementing <code>Collector</code> and one other to implement the accumulation type."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668171953,"post_id":74401856,"comment_id":131347161,"body_markdown":"I don’t know what you mean. You don’t implement the `Collector` interface but pass three method references. These methods don’t have to be in another class. Of course, you need a container type to hold the current maximum and the list. But what is the other type?","body":"I don’t know what you mean. You don’t implement the <code>Collector</code> interface but pass three method references. These methods don’t have to be in another class. Of course, you need a container type to hold the current maximum and the list. But what is the other type?"},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668172322,"post_id":74401856,"comment_id":131347296,"body_markdown":"I am not doing it here, but I _could_ pass `.collect(new MyCustomCollector())` and implement these three functions (+ `finisher()`) in `MyCustomCollector` class. But the interface is `interface Collector&lt;T, A, R&gt;` with `A` being the container class, so I still need an extra class. My question was if there could be a way to implement only one class doing the accumulation and pass it to `.collect`. If it&#39;s not clear enough, I&#39;ll create a separate question with more details.","body":"I am not doing it here, but I <i>could</i> pass <code>.collect(new MyCustomCollector())</code> and implement these three functions (+ <code>finisher()</code>) in <code>MyCustomCollector</code> class. But the interface is <code>interface Collector&lt;T, A, R&gt;</code> with <code>A</code> being the container class, so I still need an extra class. My question was if there could be a way to implement only one class doing the accumulation and pass it to <code>.collect</code>. If it&#39;s not clear enough, I&#39;ll create a separate question with more details."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668172839,"post_id":74401856,"comment_id":131347455,"body_markdown":"There is no requirement for `A` to be a different class. But implementing the `Collector` interface is unusual. There is no point in doing so, as you can always use [`Collector.of(…)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)) to create a collector out of the three or four functions and there is no semantic beyond these functions and the characteristics that a custom implementation class could introduce","body":"There is no requirement for <code>A</code> to be a different class. But implementing the <code>Collector</code> interface is unusual. There is no point in doing so, as you can always use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of(…)</code></a> to create a collector out of the three or four functions and there is no semantic beyond these functions and the characteristics that a custom implementation class could introduce"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668174258,"post_id":74401856,"comment_id":131348067,"body_markdown":"See https://ideone.com/W5ESkU for how you can implement it with a minimum of declarations. Though technically, it still creates another class for the temporary container. If you have an existing class capable of holding a mutable integer and a list, you’d not need it.","body":"See <a href=\"https://ideone.com/W5ESkU\" rel=\"nofollow noreferrer\">ideone.com/W5ESkU</a> for how you can implement it with a minimum of declarations. Though technically, it still creates another class for the temporary container. If you have an existing class capable of holding a mutable integer and a list, you’d not need it."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668176166,"post_id":74401856,"comment_id":131348768,"body_markdown":"I asked https://stackoverflow.com/q/74403784/7424948","body":"I asked <a href=\"https://stackoverflow.com/q/74403784/7424948\">stackoverflow.com/q/74403784/7424948</a>"}],"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668253647,"creation_date":1668166432,"answer_id":74401856,"question_id":74401764,"body_markdown":"# Easy solution with streams\r\n\r\nStep 1 : get the maxValue       \r\n\r\n```\r\nfinal Integer maxValue = map.values()\r\n    .stream()\r\n    .max(Comparator.naturalOrder())\r\n    .orElse(null);\r\n```\r\nor more simply:\r\n\r\n```\r\n// But be aware of NoSuchElementException if the the map is empty.\r\nfinal Integer maxValue = Collections.max(map.values());\r\n```\r\nStep 2 : get keys associated with this max value: \r\n\r\n```\r\nList&lt;String&gt; result = map.entrySet()\r\n    .stream()\r\n    .filter(e -&gt; e.getValue().equals(maxValue))\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n# Only one pass\r\n\r\nOP asked if we can do it one pass. I really don&#39;t think it&#39;s necessary as you can&#39;t do better than O(n) and it&#39;s likely that a one pass solution could be slower (as you need to keep a list of the keys that you might not need).\r\n\r\n### With a for loop\r\n\r\nQuite easy and clear\r\n\r\n```\r\nArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\nint max = Integer.MIN_VALUE;\r\n\r\nfor (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n    Integer value = entry.getValue();\r\n    if(value &lt; max) continue;\r\n    if(value &gt; max){\r\n        max = value;\r\n        result = new ArrayList&lt;&gt;();\r\n    } \r\n    // this applies in both &gt; max and == max cases\r\n    result.add(entry.getKey());\r\n}\r\n```\r\n\r\n### With streams\r\n If we absolutely want to use `streams`, we can actually convert the code above to streams and we can use `collect`. But **I really wouldn&#39;t suggest this approach** as it makes everything more complicated. Also since the accumulator needs to keep both the keys and the max value, you need to create a private class to hold the data.\r\nSo **this is just for the sake of the exercise/brain teaser.**\r\n```\r\nList&lt;String&gt; result = map.entrySet()\r\n        .stream()\r\n        .collect(MaxData::supply, MaxData::accumulate, MaxData::combine)\r\n        .keys;\r\n```\r\nAnd the accumulator class:\r\n\r\n```\r\n public static class MaxData {\r\n        int max;\r\n        List&lt;String&gt; keys;\r\n\r\n        private MaxData(int max, List&lt;String&gt; keys) {\r\n            this.max = max;\r\n            this.keys = keys;\r\n        }\r\n\r\n        public static MaxData supply() {\r\n            return new MaxData(Integer.MIN_VALUE, null);\r\n        }\r\n\r\n        public void accumulate(Map.Entry&lt;String, Integer&gt; entry) {\r\n            Integer entryValue = entry.getValue();\r\n            if (entryValue &gt; max) {\r\n                max = entryValue;\r\n                keys = new ArrayList&lt;&gt;();\r\n                keys.add(entry.getKey());\r\n            } else if (entryValue == max) {\r\n                keys.add(entry.getKey());\r\n            }\r\n            // last case is entryValue &lt; max, we keep the current max\r\n        }\r\n\r\n        public void combine(MaxData other) {\r\n            if (other.max &gt; max){\r\n               max = other.max;\r\n               keys = other.keys;\r\n            } else if(other.max == max) {\r\n                keys.addAll(other.keys);\r\n            }\r\n            // last case is entryValue &lt; max, we keep the current max\r\n        }\r\n    }\r\n```","title":"How to collect same maximum numbers keys as List in Java 8","body":"<h1>Easy solution with streams</h1>\n<p>Step 1 : get the maxValue</p>\n<pre><code>final Integer maxValue = map.values()\n    .stream()\n    .max(Comparator.naturalOrder())\n    .orElse(null);\n</code></pre>\n<p>or more simply:</p>\n<pre><code>// But be aware of NoSuchElementException if the the map is empty.\nfinal Integer maxValue = Collections.max(map.values());\n</code></pre>\n<p>Step 2 : get keys associated with this max value:</p>\n<pre><code>List&lt;String&gt; result = map.entrySet()\n    .stream()\n    .filter(e -&gt; e.getValue().equals(maxValue))\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n<h1>Only one pass</h1>\n<p>OP asked if we can do it one pass. I really don't think it's necessary as you can't do better than O(n) and it's likely that a one pass solution could be slower (as you need to keep a list of the keys that you might not need).</p>\n<h3>With a for loop</h3>\n<p>Quite easy and clear</p>\n<pre><code>ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\nint max = Integer.MIN_VALUE;\n\nfor (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n    Integer value = entry.getValue();\n    if(value &lt; max) continue;\n    if(value &gt; max){\n        max = value;\n        result = new ArrayList&lt;&gt;();\n    } \n    // this applies in both &gt; max and == max cases\n    result.add(entry.getKey());\n}\n</code></pre>\n<h3>With streams</h3>\n<p>If we absolutely want to use <code>streams</code>, we can actually convert the code above to streams and we can use <code>collect</code>. But <strong>I really wouldn't suggest this approach</strong> as it makes everything more complicated. Also since the accumulator needs to keep both the keys and the max value, you need to create a private class to hold the data.\nSo <strong>this is just for the sake of the exercise/brain teaser.</strong></p>\n<pre><code>List&lt;String&gt; result = map.entrySet()\n        .stream()\n        .collect(MaxData::supply, MaxData::accumulate, MaxData::combine)\n        .keys;\n</code></pre>\n<p>And the accumulator class:</p>\n<pre><code> public static class MaxData {\n        int max;\n        List&lt;String&gt; keys;\n\n        private MaxData(int max, List&lt;String&gt; keys) {\n            this.max = max;\n            this.keys = keys;\n        }\n\n        public static MaxData supply() {\n            return new MaxData(Integer.MIN_VALUE, null);\n        }\n\n        public void accumulate(Map.Entry&lt;String, Integer&gt; entry) {\n            Integer entryValue = entry.getValue();\n            if (entryValue &gt; max) {\n                max = entryValue;\n                keys = new ArrayList&lt;&gt;();\n                keys.add(entry.getKey());\n            } else if (entryValue == max) {\n                keys.add(entry.getKey());\n            }\n            // last case is entryValue &lt; max, we keep the current max\n        }\n\n        public void combine(MaxData other) {\n            if (other.max &gt; max){\n               max = other.max;\n               keys = other.keys;\n            } else if(other.max == max) {\n                keys.addAll(other.keys);\n            }\n            // last case is entryValue &lt; max, we keep the current max\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668167023,"creation_date":1668166672,"answer_id":74401916,"question_id":74401764,"body_markdown":"Group by the values, giving a `Map&lt;Integer, List&lt;String&gt;&gt;`, then take the value of the biggest key\r\n\r\n    List&lt;String&gt; maxKeys = map.entrySet()\r\n            .stream()\r\n            .collect(groupingBy(Map.Entry::getValue, mapping(Map.Entry::getKey, toList())))\r\n            .entrySet()\r\n            .stream()\r\n            .max(Map.Entry.&lt;Integer, List&lt;String&gt;&gt;comparingByKey())\r\n            .orElseThrow().getValue();\r\n\r\nThat iterates twice, but the second time the map is smallest\r\n\r\n----\r\n\r\nBest performant solution still is one-iteration for-loop\r\n\r\n    List&lt;String&gt; maxKeys = new ArrayList&lt;&gt;();\r\n    int maxValue = Integer.MIN_VALUE;\r\n    \r\n    for (Map.Entry&lt;String, Integer&gt; e : map.entrySet()) {\r\n        if (e.getValue() &lt; maxValue) continue;\r\n        if (e.getValue() &gt; maxValue) maxKeys.clear();\r\n        maxValue = e.getValue();\r\n        maxKeys.add(e.getKey());\r\n    }\r\n\r\n","title":"How to collect same maximum numbers keys as List in Java 8","body":"<p>Group by the values, giving a <code>Map&lt;Integer, List&lt;String&gt;&gt;</code>, then take the value of the biggest key</p>\n<pre><code>List&lt;String&gt; maxKeys = map.entrySet()\n        .stream()\n        .collect(groupingBy(Map.Entry::getValue, mapping(Map.Entry::getKey, toList())))\n        .entrySet()\n        .stream()\n        .max(Map.Entry.&lt;Integer, List&lt;String&gt;&gt;comparingByKey())\n        .orElseThrow().getValue();\n</code></pre>\n<p>That iterates twice, but the second time the map is smallest</p>\n<hr />\n<p>Best performant solution still is one-iteration for-loop</p>\n<pre><code>List&lt;String&gt; maxKeys = new ArrayList&lt;&gt;();\nint maxValue = Integer.MIN_VALUE;\n\nfor (Map.Entry&lt;String, Integer&gt; e : map.entrySet()) {\n    if (e.getValue() &lt; maxValue) continue;\n    if (e.getValue() &gt; maxValue) maxKeys.clear();\n    maxValue = e.getValue();\n    maxKeys.add(e.getKey());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668170580,"post_id":74401922,"comment_id":131346710,"body_markdown":"Why the sorting of the strings?","body":"Why the sorting of the strings?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668170897,"post_id":74401922,"comment_id":131346817,"body_markdown":"@Ricola you are right, the original question sorted reversed probably intended for the values during an earlier attempt. Out-commented it, should one want the keys sorted, which for a HashMap would be nice.","body":"@Ricola you are right, the original question sorted reversed probably intended for the values during an earlier attempt. Out-commented it, should one want the keys sorted, which for a HashMap would be nice."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668170929,"creation_date":1668166694,"answer_id":74401922,"question_id":74401764,"body_markdown":"Slight unclearness; take max value first.\r\n\r\n        final Integer maxValue = map.values()\r\n            .stream()\r\n            .max(Function.identity())\r\n            .map(Map.Entry::getKey)\r\n            .orElse(Integer.MIN_VALUE);\r\n\r\n        final List&lt;String&gt; keysInDescending = map.entrySet()\r\n            .stream()\r\n            .filter(e -&gt; maxValue.equals(e.getValue()))\r\n            .map(e -&gt; e.getKey())\r\n            //.sorted(Comparator.reverseOrder())\r\n            .collect(Collectors.toList());\r\n\r\nSorting probably is not needed.","title":"How to collect same maximum numbers keys as List in Java 8","body":"<p>Slight unclearness; take max value first.</p>\n<pre><code>    final Integer maxValue = map.values()\n        .stream()\n        .max(Function.identity())\n        .map(Map.Entry::getKey)\n        .orElse(Integer.MIN_VALUE);\n\n    final List&lt;String&gt; keysInDescending = map.entrySet()\n        .stream()\n        .filter(e -&gt; maxValue.equals(e.getValue()))\n        .map(e -&gt; e.getKey())\n        //.sorted(Comparator.reverseOrder())\n        .collect(Collectors.toList());\n</code></pre>\n<p>Sorting probably is not needed.</p>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668253647,"creation_date":1668165882,"question_id":74401764,"body_markdown":"I want to collect the associated keys of List of maximum numbers from Map&lt;String,Integer&gt; in Java 8+\r\n\r\nFor example:\r\n\r\n```java\r\nfinal Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;first&quot;, 50);\r\nmap.put(&quot;second&quot;, 10);\r\nmap.put(&quot;third&quot;, 50);\r\n```\r\n\r\nhere I want to return the List of keys associated with maximum values.\r\n\r\nFor the above example, expected output is [first,third]. Because these 2 keys having the same max value.\r\n\r\nI tried with below approach, but able to get single max key only.\r\n\r\n```java\r\nfinal String maxKey = map.entrySet()\r\n    .stream()\r\n    .max(Map.Entry.comparingByValue())\r\n    .map(Map.Entry::getKey)\r\n    .orElse(null);\r\n\r\nfinal List&lt;String&gt; keysInDescending = map.entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n\r\nSystem.out.println(maxKey); // third\r\nSystem.out.println(keysInDescending); //[third, first, second]\r\n```\r\n\r\nBut my expected output is [first, third]. How can we achieve it in Java 8+ versions?","title":"How to collect same maximum numbers keys as List in Java 8","body":"<p>I want to collect the associated keys of List of maximum numbers from Map&lt;String,Integer&gt; in Java 8+</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;first&quot;, 50);\nmap.put(&quot;second&quot;, 10);\nmap.put(&quot;third&quot;, 50);\n</code></pre>\n<p>here I want to return the List of keys associated with maximum values.</p>\n<p>For the above example, expected output is [first,third]. Because these 2 keys having the same max value.</p>\n<p>I tried with below approach, but able to get single max key only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String maxKey = map.entrySet()\n    .stream()\n    .max(Map.Entry.comparingByValue())\n    .map(Map.Entry::getKey)\n    .orElse(null);\n\nfinal List&lt;String&gt; keysInDescending = map.entrySet()\n    .stream()\n    .sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n\nSystem.out.println(maxKey); // third\nSystem.out.println(keysInDescending); //[third, first, second]\n</code></pre>\n<p>But my expected output is [first, third]. How can we achieve it in Java 8+ versions?</p>\n"},{"tags":["java","mysql","jdbc","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668190600,"post_id":74406455,"comment_id":131353807,"body_markdown":"The `setConnectionTimeout` and `setIdleTimeout` are configuration of the HikariCP connection pool and do not affect (or effect) the MySQL side of things.","body":"The <code>setConnectionTimeout</code> and <code>setIdleTimeout</code> are configuration of the HikariCP connection pool and do not affect (or effect) the MySQL side of things."},{"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"score":0,"creation_date":1668191066,"post_id":74406455,"comment_id":131353931,"body_markdown":"@MarkRotteveel agreed. I want to know way for setting mysql connection properties like wait_timeout/interactive_timeout that hikaricp would be maintaining.","body":"@MarkRotteveel agreed. I want to know way for setting mysql connection properties like wait_timeout/interactive_timeout that hikaricp would be maintaining."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668239015,"post_id":74406455,"comment_id":131361289,"body_markdown":"I don&#39;t normally use MySQL, check the documentation of MySQL Connector/J if it has [connection property](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html) for it. At first glance, the only likely candidate is `connectionAttributes`, but that is only a guess on my part.","body":"I don&#39;t normally use MySQL, check the documentation of MySQL Connector/J if it has <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\">connection property</a> for it. At first glance, the only likely candidate is <code>connectionAttributes</code>, but that is only a guess on my part."}],"answers":[{"tags":[],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668252484,"creation_date":1668252484,"answer_id":74412494,"question_id":74406455,"body_markdown":"got it, we can set datasource properties via \r\n```\r\nhikariConfig.addDataSourceProperty()\r\n```\r\nref: https://www.baeldung.com/hikaricp","title":"Unable to set timeout variables in JDBC","body":"<p>got it, we can set datasource properties via</p>\n<pre><code>hikariConfig.addDataSourceProperty()\n</code></pre>\n<p>ref: <a href=\"https://www.baeldung.com/hikaricp\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hikaricp</a></p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74412494,"answer_count":1,"score":0,"last_activity_date":1668252484,"creation_date":1668189526,"question_id":74406455,"body_markdown":"I want to set common timeout variables in JDBC/Hikari pool.  \r\nTo do this, I tried variables in JDBC URL and in Hikari config, but none seems to work.\r\n\r\n```java\r\nHikariConfig hikariConfig = new HikariConfig();\r\nhikariConfig.setJdbcUrl(&quot;jdbc:mysql://*/*?wait_timeout=77&amp;interactive_timeout=78&quot;);\r\nhikariConfig.setUsername(&quot;*&quot;);\r\nhikariConfig.setPassword(&quot;*&quot;);\r\nhikariConfig.setConnectionTimeout(65 * 1000);\r\nhikariConfig.setIdleTimeout(66 * 1000);\r\n\r\nHikariDataSource hikariDataSource = new HikariDataSource(hikariConfig);\r\nConnection connection1 = hikariDataSource.getConnection();\r\nStatement statement1 = connection1.createStatement();\r\nResultSet resultSet1 = null;\r\n\r\nresultSet1 = statement1.executeQuery(&quot;show variables like &#39;%timeout%&#39;&quot;);\r\n```\r\n\r\n **Still getting default values here**\r\n\r\n```java\r\nwhile (resultSet1.next()) {\r\n    System.out.println(resultSet1.getString(1) + &quot; &quot; + resultSet1.getString(2));\r\n}\r\n```","title":"Unable to set timeout variables in JDBC","body":"<p>I want to set common timeout variables in JDBC/Hikari pool.<br />\nTo do this, I tried variables in JDBC URL and in Hikari config, but none seems to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig hikariConfig = new HikariConfig();\nhikariConfig.setJdbcUrl(&quot;jdbc:mysql://*/*?wait_timeout=77&amp;interactive_timeout=78&quot;);\nhikariConfig.setUsername(&quot;*&quot;);\nhikariConfig.setPassword(&quot;*&quot;);\nhikariConfig.setConnectionTimeout(65 * 1000);\nhikariConfig.setIdleTimeout(66 * 1000);\n\nHikariDataSource hikariDataSource = new HikariDataSource(hikariConfig);\nConnection connection1 = hikariDataSource.getConnection();\nStatement statement1 = connection1.createStatement();\nResultSet resultSet1 = null;\n\nresultSet1 = statement1.executeQuery(&quot;show variables like '%timeout%'&quot;);\n</code></pre>\n<p><strong>Still getting default values here</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>while (resultSet1.next()) {\n    System.out.println(resultSet1.getString(1) + &quot; &quot; + resultSet1.getString(2));\n}\n</code></pre>\n"},{"tags":["java","algorithm","loops","conditional-statements","logical-operators"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1668347486,"post_id":74396876,"comment_id":131378086,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/249554/discussion-on-question-by-brandon-nolan-algorithm-which-checks-for-ascending-des).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/249554/discussion-on-question-by-brandon-nolan-algorithm-which-checks-for-ascending-des\">moved to chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1668153877,"post_id":74398014,"comment_id":131341176,"body_markdown":"I also feel that is the situation is mixed, then this will not change and the program can simply print and exit and that point (but maybe I am misreading the requirements).","body":"I also feel that is the situation is mixed, then this will not change and the program can simply print and exit and that point (but maybe I am misreading the requirements)."},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668217090,"post_id":74398014,"comment_id":131359111,"body_markdown":"I tried a follow code with suggestions u gave me but its still not working porperly.","body":"I tried a follow code with suggestions u gave me but its still not working porperly."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668217219,"post_id":74398014,"comment_id":131359126,"body_markdown":"@BrandonNolan Create  new question with a copy of your most recent code. In the question body, reference this question.  Add a comment to this question referencing the new question.","body":"@BrandonNolan Create  new question with a copy of your most recent code. In the question body, reference this question.  Add a comment to this question referencing the new question."},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668217339,"post_id":74398014,"comment_id":131359138,"body_markdown":"check it out now","body":"check it out now"},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668217448,"post_id":74398014,"comment_id":131359149,"body_markdown":"i cannot create a new question since you guys banned me from doing this. so i just updated the body of this question","body":"i cannot create a new question since you guys banned me from doing this. so i just updated the body of this question"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668217858,"post_id":74398014,"comment_id":131359199,"body_markdown":"I didn&#39;t ban you. I don&#39;t know how to do that.","body":"I didn&#39;t ban you. I don&#39;t know how to do that."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668218393,"post_id":74398014,"comment_id":131359263,"body_markdown":"Two of the three problems I mentioned in the code still exist.  When you find a condition for which `up` should be set to `false`, the *only* thing that should follow is setting `up` to `false`. Don&#39;t set the values of the other `boolean` values. The same with `down`.","body":"Two of the three problems I mentioned in the code still exist.  When you find a condition for which <code>up</code> should be set to <code>false</code>, the <i>only</i> thing that should follow is setting <code>up</code> to <code>false</code>. Don&#39;t set the values of the other <code>boolean</code> values. The same with <code>down</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668219641,"post_id":74398014,"comment_id":131359396,"body_markdown":"There is no initial literal value for `previousNum` that will cause your program to work. What you need to do is set it to the first number the user enters, and then promptly move to the 2nd number. The easiest way to do that is to input `previousNum` before the loop.","body":"There is no initial literal value for <code>previousNum</code> that will cause your program to work. What you need to do is set it to the first number the user enters, and then promptly move to the 2nd number. The easiest way to do that is to input <code>previousNum</code> before the loop."},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668219815,"post_id":74398014,"comment_id":131359417,"body_markdown":"@OldDogProgrammer or we don&#39;t understand each other or your suggestions are not sounds clearly for me. I&#39;ve just updated the code you can take a look again\nNow its printing all the outputs no matter what, its not behavior i need.","body":"@OldDogProgrammer or we don&#39;t understand each other or your suggestions are not sounds clearly for me. I&#39;ve just updated the code you can take a look again Now its printing all the outputs no matter what, its not behavior i need."},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668220086,"post_id":74398014,"comment_id":131359450,"body_markdown":"@OldDogProgrammer more than it i still dont see here a kinda switcher which will make a logic follow and check twice: if first and second input are reversing order then keep down true till user will not input 0 or if user will not input number bigger than previous. Same with increasing number. I dont want to spend around the week with this stupid task just because im not allowed use other instruments like arrays and methods. im just simply asking for the answer and dont think that it should take so much time to answer it.","body":"@OldDogProgrammer more than it i still dont see here a kinda switcher which will make a logic follow and check twice: if first and second input are reversing order then keep down true till user will not input 0 or if user will not input number bigger than previous. Same with increasing number. I dont want to spend around the week with this stupid task just because im not allowed use other instruments like arrays and methods. im just simply asking for the answer and dont think that it should take so much time to answer it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668220137,"post_id":74398014,"comment_id":131359456,"body_markdown":"In the loop, don&#39;t set `up` to `true`. Don&#39;t set `down` to `true`. Set them only to `false`.  For example `if (numToAdd &lt;= previousNum) up = false;`","body":"In the loop, don&#39;t set <code>up</code> to <code>true</code>. Don&#39;t set <code>down</code> to <code>true</code>. Set them only to <code>false</code>.  For example <code>if (numToAdd &lt;= previousNum) up = false;</code>"},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668221070,"post_id":74398014,"comment_id":131359562,"body_markdown":"@OldDogProgrammer bruh you&#39;re fixed this! Thanks a lot fo help, ill update my code now","body":"@OldDogProgrammer bruh you&#39;re fixed this! Thanks a lot fo help, ill update my code now"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668221177,"post_id":74398014,"comment_id":131359575,"body_markdown":"You&#39;re welcome.  You might want to test your program to see what happens if the first number the user enters is `0`.","body":"You&#39;re welcome.  You might want to test your program to see what happens if the first number the user enters is <code>0</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668221283,"post_id":74398014,"comment_id":131359588,"body_markdown":"By the way, `if (up = true )` should be `if (up == true)`.  Even better is `if (up)`.","body":"By the way, <code>if (up = true )</code> should be <code>if (up == true)</code>.  Even better is <code>if (up)</code>."},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668221446,"post_id":74398014,"comment_id":131359609,"body_markdown":"it was problem in the end though because after loops its ran in debug and somehow changed all saved booleans to true. Ive realized thats is because in the end its been set to the up = true and down = true  instead of up == true and down == true\nalso mixed part didnt worked properly because when its been placed as mixed = true it&#39;s simply been placed as new value, but doing the same with mixed like with the previous and pass mixed == true didnt worked and somehow there was error  &quot;local variable mixed may not have been initialized. So i passed the same as in  the loop: mixed = !up &amp;&amp; !down","body":"it was problem in the end though because after loops its ran in debug and somehow changed all saved booleans to true. Ive realized thats is because in the end its been set to the up = true and down = true  instead of up == true and down == true also mixed part didnt worked properly because when its been placed as mixed = true it&#39;s simply been placed as new value, but doing the same with mixed like with the previous and pass mixed == true didnt worked and somehow there was error  &quot;local variable mixed may not have been initialized. So i passed the same as in  the loop: mixed = !up &amp;&amp; !down"},{"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"score":0,"creation_date":1668221562,"post_id":74398014,"comment_id":131359622,"body_markdown":"So really thanks for the help. By the way its my first time here on stackoverflow asking the questions so i could tell that community  greeted me quite cool.","body":"So really thanks for the help. By the way its my first time here on stackoverflow asking the questions so i could tell that community  greeted me quite cool."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668222166,"post_id":74398014,"comment_id":131359679,"body_markdown":"You don&#39;t need the variable `mixed`.  Instead of `if (mixed = !up &amp;&amp; !down)`, use `if ( ! up &amp;&amp; ! down)`.","body":"You don&#39;t need the variable <code>mixed</code>.  Instead of <code>if (mixed = !up &amp;&amp; !down)</code>, use <code>if ( ! up &amp;&amp; ! down)</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668283269,"post_id":74398014,"comment_id":131369405,"body_markdown":"&quot;There is no initial literal value for `previousNum` that will cause your program to work.  ...&quot; -- Not quite true. An alternative is to initialize it to zero, and then make comparisons to `numToAdd` dependent on `previousNum` not being zero. One way, for example, would be to add `if (previousNum == 0) continue;`.","body":"&quot;There is no initial literal value for <code>previousNum</code> that will cause your program to work.  ...&quot; -- Not quite true. An alternative is to initialize it to zero, and then make comparisons to <code>numToAdd</code> dependent on <code>previousNum</code> not being zero. One way, for example, would be to add <code>if (previousNum == 0) continue;</code>."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":18,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668140834,"creation_date":1668140834,"answer_id":74398014,"question_id":74396876,"body_markdown":"We don&#39;t want to give the O/P a complete answer. If we did that, the O/P could hand in code he / she  didn&#39;t write and doesn&#39;t understand. Instead, we want to guide the O/P toward a solution. We feel the O/P will learn more that way.\r\n\r\nI&#39;m looking at the 2nd version of the O/P code. \r\n\r\nThere are at least 3 problems with the 2nd attempt.\r\n\r\n(1) It appears the code intends zero to be a sentinel value. When the user enters zero, the program is supposed to exit the loop and print the results. The problem is, the code processes the sentinel value before the terminating condition in the `do { } while ()` loop is reached. This could make a strictly ascending sequence appear to be a mixed sequence. \r\n\r\nThere are several ways this can be fixed, but one has already been suggested in the comments:  \r\n\r\n    do {\r\n         System.out.println(&quot;Enter a Number:&quot;);\r\n         numToAdd = input.nextInt();\r\n         if (numToAdd == 0) break;\r\n\r\n(2) The variable `loopFor` is written as if it is a sum of the numbers entered. The sum of the numbers entered is irrelevant to what the program is supposed to be doing. From the rest of the code, it seems `loopFor` is intended to be the previous value entered. \r\n\r\nTo fix this, the `loopFor +=  numToAdd;` statement should be deleted. The statement `loopFor = numToAdd` should be added to the code, but *in a different place*. The proper place is *after* all comparison of `loopFor` with `numToAdd` has been completed. \r\n\r\nRefactor suggestion: Rename `loopFor` to `previousNum`. \r\n\r\nHowever, that change still leaves a problem. The variable `loopFor` needs an initial value. Because the programmer doesn&#39;t know if the user will enter an increasing sequence or a decreasing sequence, the initial value can be neither an artificially high value nor an artificially low value.\r\n\r\nI&#39;ll leave it to the O/P to figure out how to solve that.\r\n\r\n(3) The way the `boolean` values `up`, `down`, `mixed` are managed is not reliable. If, for example, `up` is set to `true`, it can later be set to `false`. Still later, it can be set to `true` again. \r\n\r\nThese should each be set to an initial value. Upon detection of an appropriate condition, the value is flipped, and is never set to the initial value again.\r\n\r\nMy suggestion is set `up` and `down` to `true` **only** at the beginning of the program. When a sequence of numbers is detected that shows one of them to be `false`, set that one to `false`. \r\n\r\nNote that &quot;mixed&quot; can be detected at the end by something like this:\r\n\r\n      boolean mixed =  !up &amp;&amp; !down; \r\n\r\nSo, that variable isn&#39;t really needed. \r\n\r\nAgain, I&#39;ll leave it to the O/P how to make the change. \r\n\r\n       \r\n            \r\n\r\n","title":"Algorithm which checks for ascending descending order","body":"<p>We don't want to give the O/P a complete answer. If we did that, the O/P could hand in code he / she  didn't write and doesn't understand. Instead, we want to guide the O/P toward a solution. We feel the O/P will learn more that way.</p>\n<p>I'm looking at the 2nd version of the O/P code.</p>\n<p>There are at least 3 problems with the 2nd attempt.</p>\n<p>(1) It appears the code intends zero to be a sentinel value. When the user enters zero, the program is supposed to exit the loop and print the results. The problem is, the code processes the sentinel value before the terminating condition in the <code>do { } while ()</code> loop is reached. This could make a strictly ascending sequence appear to be a mixed sequence.</p>\n<p>There are several ways this can be fixed, but one has already been suggested in the comments:</p>\n<pre><code>do {\n     System.out.println(&quot;Enter a Number:&quot;);\n     numToAdd = input.nextInt();\n     if (numToAdd == 0) break;\n</code></pre>\n<p>(2) The variable <code>loopFor</code> is written as if it is a sum of the numbers entered. The sum of the numbers entered is irrelevant to what the program is supposed to be doing. From the rest of the code, it seems <code>loopFor</code> is intended to be the previous value entered.</p>\n<p>To fix this, the <code>loopFor +=  numToAdd;</code> statement should be deleted. The statement <code>loopFor = numToAdd</code> should be added to the code, but <em>in a different place</em>. The proper place is <em>after</em> all comparison of <code>loopFor</code> with <code>numToAdd</code> has been completed.</p>\n<p>Refactor suggestion: Rename <code>loopFor</code> to <code>previousNum</code>.</p>\n<p>However, that change still leaves a problem. The variable <code>loopFor</code> needs an initial value. Because the programmer doesn't know if the user will enter an increasing sequence or a decreasing sequence, the initial value can be neither an artificially high value nor an artificially low value.</p>\n<p>I'll leave it to the O/P to figure out how to solve that.</p>\n<p>(3) The way the <code>boolean</code> values <code>up</code>, <code>down</code>, <code>mixed</code> are managed is not reliable. If, for example, <code>up</code> is set to <code>true</code>, it can later be set to <code>false</code>. Still later, it can be set to <code>true</code> again.</p>\n<p>These should each be set to an initial value. Upon detection of an appropriate condition, the value is flipped, and is never set to the initial value again.</p>\n<p>My suggestion is set <code>up</code> and <code>down</code> to <code>true</code> <strong>only</strong> at the beginning of the program. When a sequence of numbers is detected that shows one of them to be <code>false</code>, set that one to <code>false</code>.</p>\n<p>Note that &quot;mixed&quot; can be detected at the end by something like this:</p>\n<pre><code>  boolean mixed =  !up &amp;&amp; !down; \n</code></pre>\n<p>So, that variable isn't really needed.</p>\n<p>Again, I'll leave it to the O/P how to make the change.</p>\n"}],"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668186641,"accepted_answer_id":74398014,"answer_count":1,"score":-2,"last_activity_date":1668252370,"creation_date":1668127372,"question_id":74396876,"body_markdown":"I&#39;m beginner in Java, so hope you&#39;ll understand it. I tried a few different ways, but it always has a problem with the logic: it cannot save a variable and check it in while loop or cannot go right through the if else statements. There is supposed to be some trick and I cannot find it. \r\n\r\nFor example:\r\n\r\nIf input is 1, 47, 89, 98, 165,256,300 **0**, it stops and prints _&quot;End of the program, numbers been entered in regular order&quot;_.\r\n\r\nIf input is 86,75,32,11,**0**, it stops and prints _&quot;End of the program, numbers been entered in reversed order&quot;_.\r\n\r\nIf input is 43, 54,11,6,7,45,44,44,44,56,33**0**, it stops and prints _&quot;End of the program, numbers been entered in mixed or same order&quot;_\r\n\r\n\r\nHere is the updated version of the code(2):\r\n```\r\n\t\tboolean  mixed;\r\n\t\tboolean up  =true;\r\n\t\tboolean down =true; \r\n\t\tint numToAdd;\r\n\t\tSystem.out.println(&quot;Enter a Number:&quot;);\r\n\t\t int previousNum = input.nextInt();\r\n\r\n\t\tdo {\r\n\t\t     System.out.println(&quot;Enter a Number:&quot;);\r\n\t\t    numToAdd = input.nextInt();\r\n\t\t     if (numToAdd == 0) break;\r\n\t\t     \r\n\t\t     \r\n\r\n\t\t    if (numToAdd &gt; previousNum ) {\r\n\t\t     up = true;\r\n\r\n\r\n\t\t    }\r\n\t\t    if (numToAdd &lt; previousNum) {\r\n\t\t         down = true;\r\n\t\t    }\r\n\r\n\t\t    mixed =  !up &amp;&amp; !down; \r\n\t\t    previousNum = numToAdd;\r\n\t\t} while (numToAdd != 0);\r\n\r\n\t\tif (up = true ) {\r\n\t\t    System.out.println(&quot;End of the program, numbers been entered in regular order&quot;);\r\n\t\t}\r\n\r\n\t\tif (down = true) {\r\n\t\t    System.out.println(&quot;End of the program, numbers been entered in reversed order&quot;);\r\n\t\t}\r\n\t\tif (mixed = true) {\r\n\t\t    System.out.println(&quot;End of the program, numbers been entered in mixed or same order&quot;);\r\n\t\t}   \r\n\t\t\r\n```\r\n","title":"Algorithm which checks for ascending descending order","body":"<p>I'm beginner in Java, so hope you'll understand it. I tried a few different ways, but it always has a problem with the logic: it cannot save a variable and check it in while loop or cannot go right through the if else statements. There is supposed to be some trick and I cannot find it.</p>\n<p>For example:</p>\n<p>If input is 1, 47, 89, 98, 165,256,300 <strong>0</strong>, it stops and prints <em>&quot;End of the program, numbers been entered in regular order&quot;</em>.</p>\n<p>If input is 86,75,32,11,<strong>0</strong>, it stops and prints <em>&quot;End of the program, numbers been entered in reversed order&quot;</em>.</p>\n<p>If input is 43, 54,11,6,7,45,44,44,44,56,33<strong>0</strong>, it stops and prints <em>&quot;End of the program, numbers been entered in mixed or same order&quot;</em></p>\n<p>Here is the updated version of the code(2):</p>\n<pre><code>        boolean  mixed;\n        boolean up  =true;\n        boolean down =true; \n        int numToAdd;\n        System.out.println(&quot;Enter a Number:&quot;);\n         int previousNum = input.nextInt();\n\n        do {\n             System.out.println(&quot;Enter a Number:&quot;);\n            numToAdd = input.nextInt();\n             if (numToAdd == 0) break;\n             \n             \n\n            if (numToAdd &gt; previousNum ) {\n             up = true;\n\n\n            }\n            if (numToAdd &lt; previousNum) {\n                 down = true;\n            }\n\n            mixed =  !up &amp;&amp; !down; \n            previousNum = numToAdd;\n        } while (numToAdd != 0);\n\n        if (up = true ) {\n            System.out.println(&quot;End of the program, numbers been entered in regular order&quot;);\n        }\n\n        if (down = true) {\n            System.out.println(&quot;End of the program, numbers been entered in reversed order&quot;);\n        }\n        if (mixed = true) {\n            System.out.println(&quot;End of the program, numbers been entered in mixed or same order&quot;);\n        }   \n        \n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1297392,"reputation":371,"user_id":1248092,"accept_rate":31,"display_name":"user1248092"},"score":0,"creation_date":1337353948,"post_id":10655085,"comment_id":13818180,"body_markdown":"my mistake. isDirectory. Probably, I put some letter in this name by mistake","body":"my mistake. isDirectory. Probably, I put some letter in this name by mistake"}],"answers":[{"tags":[],"owner":{"account_id":25137,"reputation":25266,"user_id":64376,"display_name":"Antti Huima"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337353799,"creation_date":1337353799,"answer_id":10655169,"question_id":10655085,"body_markdown":"You need to print out &quot;|&quot; whenever on the corresponding level you are *not* processing the last entry, but one of the entries before the last. You need to know this for every level separately, so you could add a bit mask or a string (say) as an extra argument to &#39;getInto&#39;.","title":"print directory tree","body":"<p>You need to print out \"|\" whenever on the corresponding level you are <em>not</em> processing the last entry, but one of the entries before the last. You need to know this for every level separately, so you could add a bit mask or a string (say) as an extra argument to 'getInto'.</p>\n"},{"tags":[],"owner":{"account_id":156080,"reputation":34089,"user_id":373151,"accept_rate":74,"display_name":"Hari Menon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337354380,"creation_date":1337354380,"answer_id":10655336,"question_id":10655085,"body_markdown":"Think of it like this - \r\n\r\n    procedure printOutput(file, depth):\r\n        print &quot;|   &quot; depth times;\r\n        print &quot;+---&quot; + file name;\r\n        print new line\r\n        if(file is a directory):\r\n            for(each file inside file, say innerFile):\r\n                call printOutput(innerFile, depth + 1);\r\n\r\nHope that helps.\r\n            ","title":"print directory tree","body":"<p>Think of it like this - </p>\n\n<pre><code>procedure printOutput(file, depth):\n    print \"|   \" depth times;\n    print \"+---\" + file name;\n    print new line\n    if(file is a directory):\n        for(each file inside file, say innerFile):\n            call printOutput(innerFile, depth + 1);\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":1193081,"reputation":575,"user_id":1250357,"display_name":"Priyanshu Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337354638,"creation_date":1337354638,"answer_id":10655409,"question_id":10655085,"body_markdown":"    import java.io.File;\r\n \r\n    public class MainEntry {\r\n    public static void main(String[] args) {\r\n        walkin(new File(&quot;/home/user&quot;)); //Replace this with a suitable directory\r\n    }\r\n \r\n    /**\r\n     * Recursive function to descend into the directory tree and find all the files \r\n      @param dir A file object defining the top directory\r\n     **/\r\n    public static void walkin(File dir) {\r\n       \r\n        File listFile[] = dir.listFiles();\r\n        if (listFile != null) {\r\n            for (int i=0; i&lt;listFile.length; i++) {\r\n                if (listFile[i].isDirectory()) {\r\n                  System.out.println(&quot;|\\t\\t&quot;);  \r\n                  walkin(listFile[i]);\r\n                } else {\r\n                    \r\n                    System.out.println(&quot;+---&quot;+listFile[i].getName().toString());\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nWill work fine..The Logic is correct","title":"print directory tree","body":"<pre><code>import java.io.File;\n\npublic class MainEntry {\npublic static void main(String[] args) {\n    walkin(new File(\"/home/user\")); //Replace this with a suitable directory\n}\n\n/**\n * Recursive function to descend into the directory tree and find all the files \n  @param dir A file object defining the top directory\n **/\npublic static void walkin(File dir) {\n\n    File listFile[] = dir.listFiles();\n    if (listFile != null) {\n        for (int i=0; i&lt;listFile.length; i++) {\n            if (listFile[i].isDirectory()) {\n              System.out.println(\"|\\t\\t\");  \n              walkin(listFile[i]);\n            } else {\n\n                System.out.println(\"+---\"+listFile[i].getName().toString());\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Will work fine..The Logic is correct</p>\n"},{"tags":[],"owner":{"account_id":129720,"reputation":603,"user_id":328473,"display_name":"TAN70"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1352268264,"creation_date":1351552125,"answer_id":13130974,"question_id":10655085,"body_markdown":"This is how I did it.\r\n\r\nThe Code\r\n\r\n    import java.io.File;\r\n    public class FileAssert {\r\n\r\n\t/**\r\n\t * Pretty print the directory tree and its file names.\r\n\t * \r\n\t * @param folder\r\n\t *            must be a folder.\r\n\t * @return\r\n\t */\r\n\tpublic static String printDirectoryTree(File folder) {\r\n\t\tif (!folder.isDirectory()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n\t\t}\r\n\t\tint indent = 0;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tprintDirectoryTree(folder, indent, sb);\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tprivate static void printDirectoryTree(File folder, int indent,\r\n\t\t\tStringBuilder sb) {\r\n\t\tif (!folder.isDirectory()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n\t\t}\r\n\t\tsb.append(getIndentString(indent));\r\n\t\tsb.append(&quot;+--&quot;);\r\n\t\tsb.append(folder.getName());\r\n\t\tsb.append(&quot;/&quot;);\r\n\t\tsb.append(&quot;\\n&quot;);\r\n\t\tfor (File file : folder.listFiles()) {\r\n\t\t\tif (file.isDirectory()) {\r\n\t\t\t\tprintDirectoryTree(file, indent + 1, sb);\r\n\t\t\t} else {\r\n\t\t\t\tprintFile(file, indent + 1, sb);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static void printFile(File file, int indent, StringBuilder sb) {\r\n\t\tsb.append(getIndentString(indent));\r\n\t\tsb.append(&quot;+--&quot;);\r\n\t\tsb.append(file.getName());\r\n\t\tsb.append(&quot;\\n&quot;);\r\n\t}\r\n\r\n\tprivate static String getIndentString(int indent) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; indent; i++) {\r\n\t\t\tsb.append(&quot;|  &quot;);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n    }\r\n\r\nThe Result\r\n\r\n    +--folder1/\r\n    |  +--a.txt\r\n    |  +--folder2/\r\n    |  |  +--b1.txt\r\n    |  |  +--b2.txt\r\n    |  |  +--b3.txt\r\n    |  |  +--folder3/\r\n    |  +--folder4/\r\n\r\nThe UnitTest\r\n\r\n    import static org.junit.Assert.*;\r\n\r\n    import java.io.File;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.TemporaryFolder;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.JUnit4;\r\n\r\n    @RunWith(JUnit4.class)\r\n    public class FileAssertTest {\r\n\r\n\t@Rule\r\n\tpublic TemporaryFolder temporaryFolder = new TemporaryFolder();\r\n\tprivate File folder1;\r\n\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tfolder1 = temporaryFolder.newFolder(&quot;folder1&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testPrintDirectoryTreeWhenFolderIsEmpty() {\r\n\t\t// Invoke\r\n\t\tString actual = FileAssert.printDirectoryTree(folder1);\r\n\t\t// Verify\r\n\t\tassertEquals(&quot;+--folder1/\\n&quot;, actual);\r\n\t}\r\n\r\n\tprivate static final String EXPECTED_FCOF = &quot;&quot; + &quot;+--folder1/\\n&quot;\r\n\t\t\t+ &quot;|  +--a.txt\\n&quot;;\r\n\r\n\t@Test\r\n\tpublic void testPrintDirectoryTreeWhenFolderContainsOneFile()\r\n\t\t\tthrows Exception {\r\n\t\t// Setup\r\n\t\tFile aFile = new File(folder1, &quot;a.txt&quot;);\r\n\t\tassertTrue(aFile.createNewFile());\r\n\t\t// Invoke\r\n\t\tString actual = FileAssert.printDirectoryTree(folder1);\r\n\t\t// Verify\r\n\t\tassertEquals(EXPECTED_FCOF, actual);\r\n\t}\r\n\r\n\tprivate static final String EXPECTED_COMPLEX = &quot;+--folder1/\\n&quot;\r\n\t\t\t+ &quot;|  +--a.txt\\n&quot; + &quot;|  +--folder2/\\n&quot; + &quot;|  |  +--b1.txt\\n&quot;\r\n\t\t\t+ &quot;|  |  +--b2.txt\\n&quot; + &quot;|  |  +--b3.txt\\n&quot; + &quot;|  |  +--folder3/\\n&quot;\r\n\t\t\t+ &quot;|  +--folder4/\\n&quot;;\r\n\r\n\t@Test\r\n\tpublic void testPrintDirectoryTreeComplex() throws Exception {\r\n\t\t// Setup\r\n\t\tFile aFile = new File(folder1, &quot;a.txt&quot;);\r\n\t\tassertTrue(aFile.createNewFile());\r\n\t\tFile folder2 = new File(folder1, &quot;folder2&quot;);\r\n\t\tassertTrue(folder2.mkdir());\r\n\t\tFile b1File = new File(folder2, &quot;b1.txt&quot;);\r\n\t\tassertTrue(b1File.createNewFile());\r\n\t\tFile b2File = new File(folder2, &quot;b2.txt&quot;);\r\n\t\tassertTrue(b2File.createNewFile());\r\n\t\tFile folder3 = new File(folder2, &quot;folder3&quot;);\r\n\t\tassertTrue(folder3.mkdir());\r\n\t\tFile b3File = new File(folder2, &quot;b3.txt&quot;);\r\n\t\tassertTrue(b3File.createNewFile());\r\n\t\tFile folder4 = new File(folder1, &quot;folder4&quot;);\r\n\t\tassertTrue(folder4.mkdir());\r\n\r\n\t\t// Invoke\r\n\t\tString actual = FileAssert.printDirectoryTree(folder1);\r\n\t\t// Verify\r\n\t\tassertEquals(EXPECTED_COMPLEX, actual);\r\n\t}\r\n\r\n    }\r\n [tag:file] [tag:directory] [tag:printing] [tag:pretty-printing]","title":"print directory tree","body":"<p>This is how I did it.</p>\n\n<p>The Code</p>\n\n<pre><code>import java.io.File;\npublic class FileAssert {\n\n/**\n * Pretty print the directory tree and its file names.\n * \n * @param folder\n *            must be a folder.\n * @return\n */\npublic static String printDirectoryTree(File folder) {\n    if (!folder.isDirectory()) {\n        throw new IllegalArgumentException(\"folder is not a Directory\");\n    }\n    int indent = 0;\n    StringBuilder sb = new StringBuilder();\n    printDirectoryTree(folder, indent, sb);\n    return sb.toString();\n}\n\nprivate static void printDirectoryTree(File folder, int indent,\n        StringBuilder sb) {\n    if (!folder.isDirectory()) {\n        throw new IllegalArgumentException(\"folder is not a Directory\");\n    }\n    sb.append(getIndentString(indent));\n    sb.append(\"+--\");\n    sb.append(folder.getName());\n    sb.append(\"/\");\n    sb.append(\"\\n\");\n    for (File file : folder.listFiles()) {\n        if (file.isDirectory()) {\n            printDirectoryTree(file, indent + 1, sb);\n        } else {\n            printFile(file, indent + 1, sb);\n        }\n    }\n\n}\n\nprivate static void printFile(File file, int indent, StringBuilder sb) {\n    sb.append(getIndentString(indent));\n    sb.append(\"+--\");\n    sb.append(file.getName());\n    sb.append(\"\\n\");\n}\n\nprivate static String getIndentString(int indent) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; indent; i++) {\n        sb.append(\"|  \");\n    }\n    return sb.toString();\n}\n}\n</code></pre>\n\n<p>The Result</p>\n\n<pre><code>+--folder1/\n|  +--a.txt\n|  +--folder2/\n|  |  +--b1.txt\n|  |  +--b2.txt\n|  |  +--b3.txt\n|  |  +--folder3/\n|  +--folder4/\n</code></pre>\n\n<p>The UnitTest</p>\n\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.File;\n\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TemporaryFolder;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.JUnit4;\n\n@RunWith(JUnit4.class)\npublic class FileAssertTest {\n\n@Rule\npublic TemporaryFolder temporaryFolder = new TemporaryFolder();\nprivate File folder1;\n\n@Before\npublic void setUp() {\n    folder1 = temporaryFolder.newFolder(\"folder1\");\n}\n\n@Test\npublic void testPrintDirectoryTreeWhenFolderIsEmpty() {\n    // Invoke\n    String actual = FileAssert.printDirectoryTree(folder1);\n    // Verify\n    assertEquals(\"+--folder1/\\n\", actual);\n}\n\nprivate static final String EXPECTED_FCOF = \"\" + \"+--folder1/\\n\"\n        + \"|  +--a.txt\\n\";\n\n@Test\npublic void testPrintDirectoryTreeWhenFolderContainsOneFile()\n        throws Exception {\n    // Setup\n    File aFile = new File(folder1, \"a.txt\");\n    assertTrue(aFile.createNewFile());\n    // Invoke\n    String actual = FileAssert.printDirectoryTree(folder1);\n    // Verify\n    assertEquals(EXPECTED_FCOF, actual);\n}\n\nprivate static final String EXPECTED_COMPLEX = \"+--folder1/\\n\"\n        + \"|  +--a.txt\\n\" + \"|  +--folder2/\\n\" + \"|  |  +--b1.txt\\n\"\n        + \"|  |  +--b2.txt\\n\" + \"|  |  +--b3.txt\\n\" + \"|  |  +--folder3/\\n\"\n        + \"|  +--folder4/\\n\";\n\n@Test\npublic void testPrintDirectoryTreeComplex() throws Exception {\n    // Setup\n    File aFile = new File(folder1, \"a.txt\");\n    assertTrue(aFile.createNewFile());\n    File folder2 = new File(folder1, \"folder2\");\n    assertTrue(folder2.mkdir());\n    File b1File = new File(folder2, \"b1.txt\");\n    assertTrue(b1File.createNewFile());\n    File b2File = new File(folder2, \"b2.txt\");\n    assertTrue(b2File.createNewFile());\n    File folder3 = new File(folder2, \"folder3\");\n    assertTrue(folder3.mkdir());\n    File b3File = new File(folder2, \"b3.txt\");\n    assertTrue(b3File.createNewFile());\n    File folder4 = new File(folder1, \"folder4\");\n    assertTrue(folder4.mkdir());\n\n    // Invoke\n    String actual = FileAssert.printDirectoryTree(folder1);\n    // Verify\n    assertEquals(EXPECTED_COMPLEX, actual);\n}\n\n}\n</code></pre>\n\n<p><a href=\"/questions/tagged/file\" class=\"post-tag\" title=\"show questions tagged 'file'\" rel=\"tag\">file</a> <a href=\"/questions/tagged/directory\" class=\"post-tag\" title=\"show questions tagged 'directory'\" rel=\"tag\">directory</a> <a href=\"/questions/tagged/printing\" class=\"post-tag\" title=\"show questions tagged 'printing'\" rel=\"tag\">printing</a> <a href=\"/questions/tagged/pretty-printing\" class=\"post-tag\" title=\"show questions tagged 'pretty-printing'\" rel=\"tag\">pretty-printing</a></p>\n"},{"tags":[],"owner":{"account_id":2774396,"reputation":61,"user_id":2388256,"display_name":"TodayGuessWhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392966065,"creation_date":1392966065,"answer_id":21927515,"question_id":10655085,"body_markdown":"      import java.io.File;\r\n      \r\n      public class Tree\r\n      {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n          File folder = new File((args.length &gt;= 1 &amp;&amp; args[0].length() &gt; 0)\r\n            ? args[0]\r\n            : &quot;.&quot;);\r\n      \r\n          if (!folder.isDirectory())\r\n          {\r\n            throw new IllegalArgumentException(&quot;Invalid directory: &quot; + folder.getName());\r\n          }\r\n      \r\n          int level = 0;\r\n          System.out.println(renderFolder(folder, level, new StringBuilder(), false));\r\n        }\r\n      \r\n        private static StringBuilder renderFolder(File folder, int level, StringBuilder sb, boolean isLast)\r\n        {\r\n          indent(sb, level, isLast).append(&quot;[D] &quot;).append(folder.getName()).append(&quot;\\n&quot;);\r\n      \r\n          File[] objects = folder.listFiles();\r\n      \r\n          for (int i = 0; i &lt; objects.length; i++)\r\n          {\r\n            boolean last = ((i + 1) == objects.length);\r\n      \r\n            if (objects[i].isDirectory())\r\n            {\r\n              renderFolder(objects[i], level + 1, sb, last);\r\n            }\r\n            else\r\n            {\r\n              renderFile(objects[i], level + 1, sb, last);\r\n            }\r\n          }\r\n      \r\n          return sb;\r\n        }\r\n      \r\n        private static StringBuilder renderFile(File file, int level, StringBuilder sb, boolean isLast)\r\n        {\r\n          return indent(sb, level, isLast).append(&quot;--- &quot;).append(file.getName()).append(&quot;\\n&quot;);\r\n        }\r\n      \r\n        private static StringBuilder indent(StringBuilder sb, int level, boolean isLast)\r\n        {\r\n          for (int i = 1; i &lt; level; i++)\r\n          {\r\n            sb.append(&quot;|  &quot;);\r\n          }\r\n      \r\n          if (level &gt; 0)\r\n          {\r\n            sb.append(isLast\r\n              ? &quot;`-&quot;\r\n              : &quot;|-&quot;);\r\n          }\r\n      \r\n          return sb;\r\n        }\r\n      \r\n      }\r\n      \r\n      \r\n      \r\n      \r\n      [D] .\r\n      |-[D] classes\r\n      |  |-[D] .data\r\n      |  |  `---- Play.cdi_javac\r\n      |  |---- ArrayListTest$Pair.class\r\n      |  |---- ArrayListTest.class\r\n      |  |---- ArrayTest.class\r\n      |  |-[D] fruit\r\n      |  |  |---- Apple.class\r\n      |  |  `---- GrannySmith.class\r\n      |  |---- IfTest.class\r\n      |  |-[D] interview\r\n      |  |  |---- Q1.class\r\n      |  |  |---- Q2.class\r\n      |  |  |---- Q3.class\r\n      |  |  |---- Q3Sub.class\r\n      |  |  |---- Q9Sub.class\r\n      |  |  `---- Q9Super.class\r\n      |  |---- IntOverflowTest.class\r\n      |  |---- LinkedMapTest.class\r\n      |  |-[D] log\r\n      |  |  `---- Logger.class\r\n      |  |---- log.properties\r\n      |  |---- StringCaseTest.class\r\n      |  |-[D] test\r\n      |  |  |-[D] cache\r\n      |  |  |  |-[D] test1\r\n      |  |  |  |  |---- Cache.class\r\n      |  |  |  |  |---- CacheEntry.class\r\n      |  |  |  |  `---- RevisedCacheTest.class\r\n      |  |  |  |-[D] test2\r\n      |  |  |  |  |---- Cache.class\r\n      |  |  |  |  |---- Log.class\r\n      |  |  |  |  `---- RevisedCacheTest.class\r\n      |  |  |  `-[D] test3\r\n      |  |  |  |  |---- ConcurrentCache.class\r\n      |  |  |  |  `---- ConcurrentCacheTest.class\r\n      |  |  |---- Test.class\r\n      |  |  `---- Test2.class\r\n      |  |---- Test.class\r\n      |  |---- Test2.class\r\n      |  `---- ZipTest.class\r\n      `---- Play.jpr","title":"print directory tree","body":"<pre><code>  import java.io.File;\n\n  public class Tree\n  {\n    public static void main(String[] args) throws Exception\n    {\n      File folder = new File((args.length &gt;= 1 &amp;&amp; args[0].length() &gt; 0)\n        ? args[0]\n        : \".\");\n\n      if (!folder.isDirectory())\n      {\n        throw new IllegalArgumentException(\"Invalid directory: \" + folder.getName());\n      }\n\n      int level = 0;\n      System.out.println(renderFolder(folder, level, new StringBuilder(), false));\n    }\n\n    private static StringBuilder renderFolder(File folder, int level, StringBuilder sb, boolean isLast)\n    {\n      indent(sb, level, isLast).append(\"[D] \").append(folder.getName()).append(\"\\n\");\n\n      File[] objects = folder.listFiles();\n\n      for (int i = 0; i &lt; objects.length; i++)\n      {\n        boolean last = ((i + 1) == objects.length);\n\n        if (objects[i].isDirectory())\n        {\n          renderFolder(objects[i], level + 1, sb, last);\n        }\n        else\n        {\n          renderFile(objects[i], level + 1, sb, last);\n        }\n      }\n\n      return sb;\n    }\n\n    private static StringBuilder renderFile(File file, int level, StringBuilder sb, boolean isLast)\n    {\n      return indent(sb, level, isLast).append(\"--- \").append(file.getName()).append(\"\\n\");\n    }\n\n    private static StringBuilder indent(StringBuilder sb, int level, boolean isLast)\n    {\n      for (int i = 1; i &lt; level; i++)\n      {\n        sb.append(\"|  \");\n      }\n\n      if (level &gt; 0)\n      {\n        sb.append(isLast\n          ? \"`-\"\n          : \"|-\");\n      }\n\n      return sb;\n    }\n\n  }\n\n\n\n\n  [D] .\n  |-[D] classes\n  |  |-[D] .data\n  |  |  `---- Play.cdi_javac\n  |  |---- ArrayListTest$Pair.class\n  |  |---- ArrayListTest.class\n  |  |---- ArrayTest.class\n  |  |-[D] fruit\n  |  |  |---- Apple.class\n  |  |  `---- GrannySmith.class\n  |  |---- IfTest.class\n  |  |-[D] interview\n  |  |  |---- Q1.class\n  |  |  |---- Q2.class\n  |  |  |---- Q3.class\n  |  |  |---- Q3Sub.class\n  |  |  |---- Q9Sub.class\n  |  |  `---- Q9Super.class\n  |  |---- IntOverflowTest.class\n  |  |---- LinkedMapTest.class\n  |  |-[D] log\n  |  |  `---- Logger.class\n  |  |---- log.properties\n  |  |---- StringCaseTest.class\n  |  |-[D] test\n  |  |  |-[D] cache\n  |  |  |  |-[D] test1\n  |  |  |  |  |---- Cache.class\n  |  |  |  |  |---- CacheEntry.class\n  |  |  |  |  `---- RevisedCacheTest.class\n  |  |  |  |-[D] test2\n  |  |  |  |  |---- Cache.class\n  |  |  |  |  |---- Log.class\n  |  |  |  |  `---- RevisedCacheTest.class\n  |  |  |  `-[D] test3\n  |  |  |  |  |---- ConcurrentCache.class\n  |  |  |  |  `---- ConcurrentCacheTest.class\n  |  |  |---- Test.class\n  |  |  `---- Test2.class\n  |  |---- Test.class\n  |  |---- Test2.class\n  |  `---- ZipTest.class\n  `---- Play.jpr\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19943963,"reputation":109,"user_id":14615106,"display_name":"givexa"},"score":1,"creation_date":1628410266,"post_id":27889424,"comment_id":121408484,"body_markdown":"I don&#39;t really understand, where is the FileInformation class in TreeNode&lt;FileInformation&gt; tree?? could you show the whole code?","body":"I don&#39;t really understand, where is the FileInformation class in TreeNode&lt;FileInformation&gt; tree?? could you show the whole code?"}],"tags":[],"owner":{"account_id":1904988,"reputation":96,"user_id":1720042,"display_name":"BaiJie"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1420993989,"creation_date":1420993989,"answer_id":27889424,"question_id":10655085,"body_markdown":"This is my solution:\r\n\r\n(The `TreeNode` Class is copied from [there](https://stackoverflow.com/questions/3522454/java-tree-data-structure#17490124).)\r\n\r\n    public static String renderDirectoryTree(TreeNode&lt;FileInformation&gt; tree) {\r\n        List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\r\n        String newline = System.getProperty(&quot;line.separator&quot;);\r\n        StringBuilder sb = new StringBuilder(lines.size() * 20);\r\n        for (StringBuilder line : lines) {\r\n            sb.append(line);\r\n            sb.append(newline);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    public static List&lt;StringBuilder&gt; renderDirectoryTreeLines(TreeNode&lt;FileInformation&gt; tree) {\r\n        List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\r\n        result.add(new StringBuilder().append(tree.getData().getPath().getFileName()));\r\n        Iterator&lt;TreeNode&lt;FileInformation&gt;&gt; iterator = tree.getChildren().iterator();\r\n        while (iterator.hasNext()) {\r\n            List&lt;StringBuilder&gt; subtree = renderDirectoryTreeLines(iterator.next());\r\n            if (iterator.hasNext()) {\r\n                addSubtree(result, subtree);\r\n            } else {\r\n                addLastSubtree(result, subtree);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static void addSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\r\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n        //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\r\n        result.add(iterator.next().insert(0, &quot;├── &quot;));\r\n        while (iterator.hasNext()) {\r\n            result.add(iterator.next().insert(0, &quot;│   &quot;));\r\n        }\r\n    }\r\n\r\n    private static void addLastSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\r\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n        //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\r\n        result.add(iterator.next().insert(0, &quot;└── &quot;));\r\n        while (iterator.hasNext()) {\r\n            result.add(iterator.next().insert(0, &quot;    &quot;));\r\n        }\r\n    }\r\n\r\nwith this output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    DirectoryCatalog\r\n    ├── .git\r\n    │   ├── COMMIT_EDITMSG\r\n    │   ├── config\r\n    │   ├── description\r\n    │   ├── HEAD\r\n    │   ├── hooks\r\n    │   │   ├── applypatch-msg.sample\r\n    │   │   ├── commit-msg.sample\r\n    │   │   ├── post-commit.sample\r\n    │   │   ├── post-receive.sample\r\n    │   │   ├── post-update.sample\r\n    │   │   ├── pre-applypatch.sample\r\n    │   │   ├── pre-commit.sample\r\n    │   │   ├── pre-push.sample\r\n    │   │   ├── pre-rebase.sample\r\n    │   │   ├── prepare-commit-msg.sample\r\n    │   │   └── update.sample\r\n    │   ├── index\r\n    │   ├── info\r\n    │   │   └── exclude\r\n    │   ├── logs\r\n    │   │   ├── HEAD\r\n    │   │   └── refs\r\n    │   │       ├── heads\r\n    │   │       │   └── master\r\n    │   │       └── remotes\r\n    │   │           └── origin\r\n    │   │               └── master\r\n    │   ├── objects\r\n    │   │   ├── 0b\r\n    │   │   │   └── b3fb0a15268c9770220938b1048305429527c7\r\n    │   │   ├── 0d\r\n    │   │   │   └── e508f20f1cb44ff543cec54ea93a71e5e40d1d\r\n    │   │   ├── 10\r\n    │   │   │   └── 9c753f3aab08f167f8409e6c9abec27cad6548\r\n    │   │   ├── 15\r\n    │   │   │   └── 7602556ebd120e656ae8dcd00cb361bfb3ef79\r\n    │   │   ├── 16\r\n    │   │   │   └── 952a5d1f5f3d15199f3e85b3d895a81990024e\r\n    │   │   ├── 1c\r\n    │   │   │   └── 5b36cd4d41b9b7d0df46d4184512098186c904\r\n    │   │   ├── 20\r\n    │   │   │   └── ae5cc82ebbb85f9161d8fd9783905e4cbee72c\r\n    │   │   ├── 21\r\n    │   │   │   └── e42add0fb2205a75ff621dbeb6d76455816b79\r\n    │   │   ├── 23\r\n    │   │   │   └── af4eaa4007ca941e562406b7b329c6ba4b395e\r\n    │   │   ├── 28\r\n    │   │   │   └── 6caf4b7be3ac85a476f3782220fe167a040971\r\n    │   │   ├── 2b\r\n    │   │   │   └── f6743fb97162e999fb6429510bb8a52114bc31\r\n    │   │   ├── 35\r\n    │   │   │   └── acd4ab6acb599d4e3244be2a8dc3a0161bcb3c\r\n    │   │   ├── 46\r\n    │   │   │   └── 1ef7c4db86e0466bb8f1f81dc25f12e3598db6\r\n    │   │   ├── 47\r\n    │   │   │   └── 4ce7f18330e5295ab1ef2eea66505235819e22\r\n    │   │   ├── 4b\r\n    │   │   │   └── 825dc642cb6eb9a060e54bf8d69288fbee4904\r\n    │   │   ├── 4e\r\n    │   │   │   └── 4e047c077c7825a845deebda7f97832cee847b\r\n    │   │   ├── 4f\r\n    │   │   │   └── 20b118269d71535e469966fdb5fe8a78ae6c9a\r\n    │   │   ├── 51\r\n    │   │   │   └── 677b295b4cd9931354dd52fb6050015d524fea\r\n    │   │   ├── 52\r\n    │   │   │   └── 9c34997d8262bd207037f0373703d68d4e1a4e\r\n    │   │   ├── 5b\r\n    │   │   │   └── 928f45816cc51609861f0930251accbe7de7f9\r\n    │   │   ├── 5d\r\n    │   │   │   └── 7cdbe029c6eff99c72d09b0a81347b605e77d7\r\n    │   │   ├── 61\r\n    │   │   │   └── 2b9d86f6ac365ede894e13a6273fd13833f44f\r\n    │   │   ├── 67\r\n    │   │   │   └── 2209cb240eac0303d6e3b6c7eb04242d661fad\r\n    │   │   ├── 6b\r\n    │   │   │   ├── c84e19913908f16141677b9d66abdb620350a0\r\n    │   │   │   └── d278b63be854ccd3c02b9038ee43366021b1a1\r\n    │   │   ├── 6c\r\n    │   │   │   └── 9d10e91679988caaee6759d48daf336f28a9a3\r\n    │   │   ├── 70\r\n    │   │   │   └── 4284c78f1c664c1348af5a784cca55c51fd66a\r\n    │   │   ├── 72\r\n    │   │   │   └── 1ab5fe4e4226930668048d97331103a92751be\r\n    │   │   ├── 78\r\n    │   │   │   └── 64a41eaf50f32ae8d2cab1acd200c405215c1a\r\n    │   │   ├── 82\r\n    │   │   │   └── 36f772feca12b3e301eea50774458a7e77c7fb\r\n    │   │   ├── 83\r\n    │   │   │   └── bc1e2a1f3187f28d63d7fa334744810d80c20d\r\n    │   │   ├── 87\r\n    │   │   │   └── 3ce97f624e9a1ae4a1bbf41218d50dc3503d6f\r\n    │   │   ├── 8a\r\n    │   │   │   └── 0b282aa6885fb573c106b3551f7275c5f17e8e\r\n    │   │   ├── 91\r\n    │   │   │   └── a7e269e19dfc62e27137a0b57ef3e430cee4fd\r\n    │   │   ├── 94\r\n    │   │   │   ├── 065a39b0dd7ce05604b96aff84d984493553e2\r\n    │   │   │   └── 5cbc994fb2d251437e71edf3a6eb289c5836ec\r\n    │   │   ├── 95\r\n    │   │   │   └── f481326b62c9adff2a0dad47480e279adb518f\r\n    │   │   ├── 9e\r\n    │   │   │   └── 1f7de67de38e67479cb8e38ad92d6354838393\r\n    │   │   ├── a1\r\n    │   │   │   └── e385dff1fb08b7a45ea52af43b22d240f0adab\r\n    │   │   ├── a7\r\n    │   │   │   └── 8934a5a81d95a85b9c97a3e1c1429186feb83d\r\n    │   │   ├── ab\r\n    │   │   │   └── 855c3379bdb3e4a22605de58f3438148d6ffe7\r\n    │   │   ├── b7\r\n    │   │   │   └── 64eafa2ba4e7f8f52a4e96da61b3d77f262d16\r\n    │   │   ├── bd\r\n    │   │   │   └── 9374662b409bb364779212874e7cf611541c38\r\n    │   │   ├── c1\r\n    │   │   │   └── f858c163f9c8cb89a145a60e87c9e35c97fb93\r\n    │   │   ├── c3\r\n    │   │   │   └── 35d07a1078656646ca6e980b468b938106d357\r\n    │   │   ├── c5\r\n    │   │   │   └── ac562c59d6a0430fa0ccd1fa6318fa5d48604f\r\n    │   │   ├── c8\r\n    │   │   │   └── f3d9284a65afbff6640da7970664ee2134c85b\r\n    │   │   ├── c9\r\n    │   │   │   └── 7a8bdb9088d370da7e88784a7a093b971aa23a\r\n    │   │   ├── cc\r\n    │   │   │   └── a6a5141b614b5e351c7e5b6b677ef09a931786\r\n    │   │   ├── d1\r\n    │   │   │   └── 76229a9e1d0172f84d060904d171be51f9d0f6\r\n    │   │   ├── d3\r\n    │   │   │   ├── 2f0a1ba59a0c52d3acc62de1d624fb68423ee3\r\n    │   │   │   └── b9dfcb3216a2feab03b1ae96280e3c1c963953\r\n    │   │   ├── e0\r\n    │   │   │   └── 6d2081865a766a8668acc12878f98b27fc9ea0\r\n    │   │   ├── e5\r\n    │   │   │   └── 3106578cd8adcd085c5c63c05fc49d5a5a3dbb\r\n    │   │   ├── info\r\n    │   │   └── pack\r\n    │   └── refs\r\n    │       ├── heads\r\n    │       │   └── master\r\n    │       ├── remotes\r\n    │       │   └── origin\r\n    │       │       └── master\r\n    │       └── tags\r\n    ├── .gitattributes\r\n    ├── .gitignore\r\n    ├── .gradle\r\n    │   └── 2.2.1\r\n    │       └── taskArtifacts\r\n    │           ├── cache.properties\r\n    │           ├── cache.properties.lock\r\n    │           ├── fileHashes.bin\r\n    │           ├── fileSnapshots.bin\r\n    │           ├── outputFileStates.bin\r\n    │           └── taskArtifacts.bin\r\n    ├── .idea\r\n    │   ├── .name\r\n    │   ├── compiler.xml\r\n    │   ├── copyright\r\n    │   │   └── profiles_settings.xml\r\n    │   ├── encodings.xml\r\n    │   ├── gradle.xml\r\n    │   ├── libraries\r\n    │   │   ├── Gradle__commons_io_commons_io_2_4.xml\r\n    │   │   ├── Gradle__junit_junit_4_11.xml\r\n    │   │   └── Gradle__org_hamcrest_hamcrest_core_1_3.xml\r\n    │   ├── misc.xml\r\n    │   ├── modules.xml\r\n    │   ├── scopes\r\n    │   │   └── scope_settings.xml\r\n    │   ├── uiDesigner.xml\r\n    │   ├── vcs.xml\r\n    │   └── workspace.xml\r\n    ├── app\r\n    │   ├── app.iml\r\n    │   ├── build\r\n    │   │   ├── classes\r\n    │   │   │   └── main\r\n    │   │   │       └── gq\r\n    │   │   │           └── baijie\r\n    │   │   │               └── catalog\r\n    │   │   │                   ├── controllor\r\n    │   │   │                   │   ├── FilesScanner$MyFileVisitor.class\r\n    │   │   │                   │   └── FilesScanner.class\r\n    │   │   │                   ├── entity\r\n    │   │   │                   │   └── FileInformation.class\r\n    │   │   │                   ├── Main.class\r\n    │   │   │                   └── util\r\n    │   │   │                       ├── FileAssert.class\r\n    │   │   │                       ├── Hash.class\r\n    │   │   │                       ├── HEX.class\r\n    │   │   │                       ├── Printer$1.class\r\n    │   │   │                       ├── Printer$DirectoryTreeRender.class\r\n    │   │   │                       ├── Printer.class\r\n    │   │   │                       └── TreeNode.class\r\n    │   │   ├── dependency-cache\r\n    │   │   ├── resources\r\n    │   │   │   └── main\r\n    │   │   └── tmp\r\n    │   │       └── compileJava\r\n    │   ├── build.gradle\r\n    │   └── src\r\n    │       ├── main\r\n    │       │   └── java\r\n    │       │       └── gq\r\n    │       │           └── baijie\r\n    │       │               └── catalog\r\n    │       │                   ├── controllor\r\n    │       │                   │   └── FilesScanner.java\r\n    │       │                   ├── entity\r\n    │       │                   │   └── FileInformation.java\r\n    │       │                   ├── Main.java\r\n    │       │                   └── util\r\n    │       │                       ├── FileAssert.java\r\n    │       │                       ├── Hash.java\r\n    │       │                       ├── HEX.java\r\n    │       │                       ├── Printer.java\r\n    │       │                       └── TreeNode.java\r\n    │       └── test\r\n    │           └── java\r\n    ├── DirectoryCatalog.iml\r\n    ├── gradle\r\n    │   └── wrapper\r\n    │       ├── gradle-wrapper.jar\r\n    │       └── gradle-wrapper.properties\r\n    ├── gradlew\r\n    ├── gradlew.bat\r\n    ├── LICENSE\r\n    ├── README.md\r\n    ├── settings.gradle\r\n    └── temp\r\n        ├── 150110161006.txt\r\n        ├── 150110173453.txt\r\n        ├── 150110175353.txt\r\n        ├── 150111111311.txt\r\n        ├── 150111112500.txt\r\n        ├── 150111113411.txt\r\n        ├── 150111155619.txt\r\n        ├── 150111161958.txt\r\n        ├── 150111162230.txt\r\n        ├── 150111162632.txt\r\n        ├── 150111163225.txt\r\n        ├── 150111163330.txt\r\n        ├── 150111164526.txt\r\n        ├── 150111205412.txt\r\n        ├── 150111210322.txt\r\n        ├── 150111210506.txt\r\n        ├── 150111210927.txt\r\n        ├── 150111211249.txt\r\n        ├── 150111211321.txt\r\n        ├── 150111220750.txt\r\n        ├── 150111220822.txt\r\n        ├── 150111221437.txt\r\n        ├── 150111221842.txt\r\n        ├── 150111222437.txt\r\n        ├── 150111234344.txt\r\n        ├── 150111234433.txt\r\n        └── 150112000034.txt\r\n","title":"print directory tree","body":"<p>This is my solution:</p>\n\n<p>(The <code>TreeNode</code> Class is copied from <a href=\"https://stackoverflow.com/questions/3522454/java-tree-data-structure#17490124\">there</a>.)</p>\n\n<pre><code>public static String renderDirectoryTree(TreeNode&lt;FileInformation&gt; tree) {\n    List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\n    String newline = System.getProperty(\"line.separator\");\n    StringBuilder sb = new StringBuilder(lines.size() * 20);\n    for (StringBuilder line : lines) {\n        sb.append(line);\n        sb.append(newline);\n    }\n    return sb.toString();\n}\n\npublic static List&lt;StringBuilder&gt; renderDirectoryTreeLines(TreeNode&lt;FileInformation&gt; tree) {\n    List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\n    result.add(new StringBuilder().append(tree.getData().getPath().getFileName()));\n    Iterator&lt;TreeNode&lt;FileInformation&gt;&gt; iterator = tree.getChildren().iterator();\n    while (iterator.hasNext()) {\n        List&lt;StringBuilder&gt; subtree = renderDirectoryTreeLines(iterator.next());\n        if (iterator.hasNext()) {\n            addSubtree(result, subtree);\n        } else {\n            addLastSubtree(result, subtree);\n        }\n    }\n    return result;\n}\n\nprivate static void addSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\n    Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n    //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\n    result.add(iterator.next().insert(0, \"├── \"));\n    while (iterator.hasNext()) {\n        result.add(iterator.next().insert(0, \"│   \"));\n    }\n}\n\nprivate static void addLastSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\n    Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n    //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\n    result.add(iterator.next().insert(0, \"└── \"));\n    while (iterator.hasNext()) {\n        result.add(iterator.next().insert(0, \"    \"));\n    }\n}\n</code></pre>\n\n<p>with this output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DirectoryCatalog\n├── .git\n│   ├── COMMIT_EDITMSG\n│   ├── config\n│   ├── description\n│   ├── HEAD\n│   ├── hooks\n│   │   ├── applypatch-msg.sample\n│   │   ├── commit-msg.sample\n│   │   ├── post-commit.sample\n│   │   ├── post-receive.sample\n│   │   ├── post-update.sample\n│   │   ├── pre-applypatch.sample\n│   │   ├── pre-commit.sample\n│   │   ├── pre-push.sample\n│   │   ├── pre-rebase.sample\n│   │   ├── prepare-commit-msg.sample\n│   │   └── update.sample\n│   ├── index\n│   ├── info\n│   │   └── exclude\n│   ├── logs\n│   │   ├── HEAD\n│   │   └── refs\n│   │       ├── heads\n│   │       │   └── master\n│   │       └── remotes\n│   │           └── origin\n│   │               └── master\n│   ├── objects\n│   │   ├── 0b\n│   │   │   └── b3fb0a15268c9770220938b1048305429527c7\n│   │   ├── 0d\n│   │   │   └── e508f20f1cb44ff543cec54ea93a71e5e40d1d\n│   │   ├── 10\n│   │   │   └── 9c753f3aab08f167f8409e6c9abec27cad6548\n│   │   ├── 15\n│   │   │   └── 7602556ebd120e656ae8dcd00cb361bfb3ef79\n│   │   ├── 16\n│   │   │   └── 952a5d1f5f3d15199f3e85b3d895a81990024e\n│   │   ├── 1c\n│   │   │   └── 5b36cd4d41b9b7d0df46d4184512098186c904\n│   │   ├── 20\n│   │   │   └── ae5cc82ebbb85f9161d8fd9783905e4cbee72c\n│   │   ├── 21\n│   │   │   └── e42add0fb2205a75ff621dbeb6d76455816b79\n│   │   ├── 23\n│   │   │   └── af4eaa4007ca941e562406b7b329c6ba4b395e\n│   │   ├── 28\n│   │   │   └── 6caf4b7be3ac85a476f3782220fe167a040971\n│   │   ├── 2b\n│   │   │   └── f6743fb97162e999fb6429510bb8a52114bc31\n│   │   ├── 35\n│   │   │   └── acd4ab6acb599d4e3244be2a8dc3a0161bcb3c\n│   │   ├── 46\n│   │   │   └── 1ef7c4db86e0466bb8f1f81dc25f12e3598db6\n│   │   ├── 47\n│   │   │   └── 4ce7f18330e5295ab1ef2eea66505235819e22\n│   │   ├── 4b\n│   │   │   └── 825dc642cb6eb9a060e54bf8d69288fbee4904\n│   │   ├── 4e\n│   │   │   └── 4e047c077c7825a845deebda7f97832cee847b\n│   │   ├── 4f\n│   │   │   └── 20b118269d71535e469966fdb5fe8a78ae6c9a\n│   │   ├── 51\n│   │   │   └── 677b295b4cd9931354dd52fb6050015d524fea\n│   │   ├── 52\n│   │   │   └── 9c34997d8262bd207037f0373703d68d4e1a4e\n│   │   ├── 5b\n│   │   │   └── 928f45816cc51609861f0930251accbe7de7f9\n│   │   ├── 5d\n│   │   │   └── 7cdbe029c6eff99c72d09b0a81347b605e77d7\n│   │   ├── 61\n│   │   │   └── 2b9d86f6ac365ede894e13a6273fd13833f44f\n│   │   ├── 67\n│   │   │   └── 2209cb240eac0303d6e3b6c7eb04242d661fad\n│   │   ├── 6b\n│   │   │   ├── c84e19913908f16141677b9d66abdb620350a0\n│   │   │   └── d278b63be854ccd3c02b9038ee43366021b1a1\n│   │   ├── 6c\n│   │   │   └── 9d10e91679988caaee6759d48daf336f28a9a3\n│   │   ├── 70\n│   │   │   └── 4284c78f1c664c1348af5a784cca55c51fd66a\n│   │   ├── 72\n│   │   │   └── 1ab5fe4e4226930668048d97331103a92751be\n│   │   ├── 78\n│   │   │   └── 64a41eaf50f32ae8d2cab1acd200c405215c1a\n│   │   ├── 82\n│   │   │   └── 36f772feca12b3e301eea50774458a7e77c7fb\n│   │   ├── 83\n│   │   │   └── bc1e2a1f3187f28d63d7fa334744810d80c20d\n│   │   ├── 87\n│   │   │   └── 3ce97f624e9a1ae4a1bbf41218d50dc3503d6f\n│   │   ├── 8a\n│   │   │   └── 0b282aa6885fb573c106b3551f7275c5f17e8e\n│   │   ├── 91\n│   │   │   └── a7e269e19dfc62e27137a0b57ef3e430cee4fd\n│   │   ├── 94\n│   │   │   ├── 065a39b0dd7ce05604b96aff84d984493553e2\n│   │   │   └── 5cbc994fb2d251437e71edf3a6eb289c5836ec\n│   │   ├── 95\n│   │   │   └── f481326b62c9adff2a0dad47480e279adb518f\n│   │   ├── 9e\n│   │   │   └── 1f7de67de38e67479cb8e38ad92d6354838393\n│   │   ├── a1\n│   │   │   └── e385dff1fb08b7a45ea52af43b22d240f0adab\n│   │   ├── a7\n│   │   │   └── 8934a5a81d95a85b9c97a3e1c1429186feb83d\n│   │   ├── ab\n│   │   │   └── 855c3379bdb3e4a22605de58f3438148d6ffe7\n│   │   ├── b7\n│   │   │   └── 64eafa2ba4e7f8f52a4e96da61b3d77f262d16\n│   │   ├── bd\n│   │   │   └── 9374662b409bb364779212874e7cf611541c38\n│   │   ├── c1\n│   │   │   └── f858c163f9c8cb89a145a60e87c9e35c97fb93\n│   │   ├── c3\n│   │   │   └── 35d07a1078656646ca6e980b468b938106d357\n│   │   ├── c5\n│   │   │   └── ac562c59d6a0430fa0ccd1fa6318fa5d48604f\n│   │   ├── c8\n│   │   │   └── f3d9284a65afbff6640da7970664ee2134c85b\n│   │   ├── c9\n│   │   │   └── 7a8bdb9088d370da7e88784a7a093b971aa23a\n│   │   ├── cc\n│   │   │   └── a6a5141b614b5e351c7e5b6b677ef09a931786\n│   │   ├── d1\n│   │   │   └── 76229a9e1d0172f84d060904d171be51f9d0f6\n│   │   ├── d3\n│   │   │   ├── 2f0a1ba59a0c52d3acc62de1d624fb68423ee3\n│   │   │   └── b9dfcb3216a2feab03b1ae96280e3c1c963953\n│   │   ├── e0\n│   │   │   └── 6d2081865a766a8668acc12878f98b27fc9ea0\n│   │   ├── e5\n│   │   │   └── 3106578cd8adcd085c5c63c05fc49d5a5a3dbb\n│   │   ├── info\n│   │   └── pack\n│   └── refs\n│       ├── heads\n│       │   └── master\n│       ├── remotes\n│       │   └── origin\n│       │       └── master\n│       └── tags\n├── .gitattributes\n├── .gitignore\n├── .gradle\n│   └── 2.2.1\n│       └── taskArtifacts\n│           ├── cache.properties\n│           ├── cache.properties.lock\n│           ├── fileHashes.bin\n│           ├── fileSnapshots.bin\n│           ├── outputFileStates.bin\n│           └── taskArtifacts.bin\n├── .idea\n│   ├── .name\n│   ├── compiler.xml\n│   ├── copyright\n│   │   └── profiles_settings.xml\n│   ├── encodings.xml\n│   ├── gradle.xml\n│   ├── libraries\n│   │   ├── Gradle__commons_io_commons_io_2_4.xml\n│   │   ├── Gradle__junit_junit_4_11.xml\n│   │   └── Gradle__org_hamcrest_hamcrest_core_1_3.xml\n│   ├── misc.xml\n│   ├── modules.xml\n│   ├── scopes\n│   │   └── scope_settings.xml\n│   ├── uiDesigner.xml\n│   ├── vcs.xml\n│   └── workspace.xml\n├── app\n│   ├── app.iml\n│   ├── build\n│   │   ├── classes\n│   │   │   └── main\n│   │   │       └── gq\n│   │   │           └── baijie\n│   │   │               └── catalog\n│   │   │                   ├── controllor\n│   │   │                   │   ├── FilesScanner$MyFileVisitor.class\n│   │   │                   │   └── FilesScanner.class\n│   │   │                   ├── entity\n│   │   │                   │   └── FileInformation.class\n│   │   │                   ├── Main.class\n│   │   │                   └── util\n│   │   │                       ├── FileAssert.class\n│   │   │                       ├── Hash.class\n│   │   │                       ├── HEX.class\n│   │   │                       ├── Printer$1.class\n│   │   │                       ├── Printer$DirectoryTreeRender.class\n│   │   │                       ├── Printer.class\n│   │   │                       └── TreeNode.class\n│   │   ├── dependency-cache\n│   │   ├── resources\n│   │   │   └── main\n│   │   └── tmp\n│   │       └── compileJava\n│   ├── build.gradle\n│   └── src\n│       ├── main\n│       │   └── java\n│       │       └── gq\n│       │           └── baijie\n│       │               └── catalog\n│       │                   ├── controllor\n│       │                   │   └── FilesScanner.java\n│       │                   ├── entity\n│       │                   │   └── FileInformation.java\n│       │                   ├── Main.java\n│       │                   └── util\n│       │                       ├── FileAssert.java\n│       │                       ├── Hash.java\n│       │                       ├── HEX.java\n│       │                       ├── Printer.java\n│       │                       └── TreeNode.java\n│       └── test\n│           └── java\n├── DirectoryCatalog.iml\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── gradlew.bat\n├── LICENSE\n├── README.md\n├── settings.gradle\n└── temp\n    ├── 150110161006.txt\n    ├── 150110173453.txt\n    ├── 150110175353.txt\n    ├── 150111111311.txt\n    ├── 150111112500.txt\n    ├── 150111113411.txt\n    ├── 150111155619.txt\n    ├── 150111161958.txt\n    ├── 150111162230.txt\n    ├── 150111162632.txt\n    ├── 150111163225.txt\n    ├── 150111163330.txt\n    ├── 150111164526.txt\n    ├── 150111205412.txt\n    ├── 150111210322.txt\n    ├── 150111210506.txt\n    ├── 150111210927.txt\n    ├── 150111211249.txt\n    ├── 150111211321.txt\n    ├── 150111220750.txt\n    ├── 150111220822.txt\n    ├── 150111221437.txt\n    ├── 150111221842.txt\n    ├── 150111222437.txt\n    ├── 150111234344.txt\n    ├── 150111234433.txt\n    └── 150112000034.txt\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8826183,"reputation":1078,"user_id":6594367,"accept_rate":93,"display_name":"John Doe"},"score":1,"creation_date":1526725913,"post_id":42262392,"comment_id":87863429,"body_markdown":"Nice one, would have been more helpfull if you would have named the variables and methods in english :)","body":"Nice one, would have been more helpfull if you would have named the variables and methods in english :)"}],"tags":[],"owner":{"account_id":10260369,"reputation":1,"user_id":7571895,"display_name":"pepino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487203231,"creation_date":1487203231,"answer_id":42262392,"question_id":10655085,"body_markdown":"This is my solution:\r\n\r\n    import java.io.File;\r\n\r\n    public class MostrarArbol {\r\n\r\n        public static void main(String args[]) {\r\n    \t\tFile carpeta = new File(args[0]);\r\n    \t\t// File carpeta = new File(&quot;.&quot;);\r\n    \t\tif (!carpeta.exists()) {\r\n    \t\t\tSystem.out.println(args[0] + &quot; NO existe.&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\timprimeArbol(carpeta, &quot;&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void imprimeArbol(File carpeta, String tabulador) {\r\n    \t\tFile contenido[] = carpeta.listFiles();\r\n    \t\tif (contenido != null) {\r\n    \t\t\tfor (int i = 0; i &lt; contenido.length; i++) \r\n    \t\t\t\tif (contenido[i].isDirectory()) {\r\n    \t\t\t\t\tSystem.out.println(tabulador + &quot;|-&quot; + contenido[i].getName());\r\n    \t\t\t\t\timprimeArbol(contenido[i], tabulador + &quot;|  &quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(tabulador + &quot;+-&quot; + contenido[i].getName().toString());\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"print directory tree","body":"<p>This is my solution:</p>\n\n<pre><code>import java.io.File;\n\npublic class MostrarArbol {\n\n    public static void main(String args[]) {\n        File carpeta = new File(args[0]);\n        // File carpeta = new File(\".\");\n        if (!carpeta.exists()) {\n            System.out.println(args[0] + \" NO existe.\");\n            return;\n        }\n        imprimeArbol(carpeta, \"\");\n    }\n\n    public static void imprimeArbol(File carpeta, String tabulador) {\n        File contenido[] = carpeta.listFiles();\n        if (contenido != null) {\n            for (int i = 0; i &lt; contenido.length; i++) \n                if (contenido[i].isDirectory()) {\n                    System.out.println(tabulador + \"|-\" + contenido[i].getName());\n                    imprimeArbol(contenido[i], tabulador + \"|  \");\n                } else {\n                    System.out.println(tabulador + \"+-\" + contenido[i].getName().toString());\n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10959307,"reputation":170,"user_id":8558398,"display_name":"13hola"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529672841,"creation_date":1529672841,"answer_id":50988639,"question_id":10655085,"body_markdown":"This is My Code. its Work\r\n\r\n    package DIRS;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class LISTDIR\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString path = System.getProperty(&quot;user.dir&quot;)+File.separator;\r\n    \t\t\r\n    \t\tFile file[] = new File(path).listFiles();\r\n    \t\t\r\n    \t\tfor(int i = 0 ; i &lt; file.length ; i++)\r\n    \t\t{\r\n    \t\t\tif(file[i].isDirectory())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;-&gt;&quot;+file[i].getName());\r\n    \t\t\t\tnew LISTDIR().listfiles(file[i],&quot;--&quot;);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;-&gt; &quot;+file[i].getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void listfiles(File f,String sprtr)\r\n    \t{\r\n    \t\tFile file[] = f.listFiles();\r\n    \t\tfor(int i = 0 ; i &lt; file.length ; i++)\r\n    \t\t{\r\n    \t\t\tif(file[i].isDirectory())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(sprtr+file[i].getName());\r\n    \t\t\t\t\r\n    \t\t\t\tnew LISTDIR().listfiles(file[i],&quot;--&quot;+sprtr);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(sprtr+file[i].getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"print directory tree","body":"<p>This is My Code. its Work</p>\n\n<pre><code>package DIRS;\n\nimport java.io.File;\n\npublic class LISTDIR\n{\n    public static void main(String[] args)\n    {\n        String path = System.getProperty(\"user.dir\")+File.separator;\n\n        File file[] = new File(path).listFiles();\n\n        for(int i = 0 ; i &lt; file.length ; i++)\n        {\n            if(file[i].isDirectory())\n            {\n                System.out.println(\"-&gt;\"+file[i].getName());\n                new LISTDIR().listfiles(file[i],\"--\");\n            }\n            else\n            {\n                System.out.println(\"-&gt; \"+file[i].getName());\n            }\n        }\n    }\n\n    public void listfiles(File f,String sprtr)\n    {\n        File file[] = f.listFiles();\n        for(int i = 0 ; i &lt; file.length ; i++)\n        {\n            if(file[i].isDirectory())\n            {\n                System.out.println(sprtr+file[i].getName());\n\n                new LISTDIR().listfiles(file[i],\"--\"+sprtr);\n            }\n            else\n            {\n                System.out.println(sprtr+file[i].getName());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542974293,"creation_date":1542974293,"answer_id":53446301,"question_id":10655085,"body_markdown":"I was testing the solution with the most upticks written by @tan70 however it caused a null pointer exception on printing my home directory. I did some investigation and found that listFiles() can return null.\r\n\r\npublic File[] listFiles()\r\n\r\nReturns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname.\r\n\r\nIf this abstract pathname does not denote a directory, then this method returns **null**. Otherwise an array of File objects is returned, one for each file or directory in the directory\r\n\r\n\r\n    /**\r\n     * Pretty print the directory tree and its file names.\r\n     *\r\n     * @param path\r\n     * @return\r\n     */\r\n    public static String printDirectoryTree(String path) {\r\n        File folder = new File(path);\r\n        if (!folder.isDirectory()) {\r\n            throw new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n        }\r\n        int indent = 0;\r\n        StringBuilder sb = new StringBuilder();\r\n        printDirectoryTree(folder, indent, sb);\r\n        return sb.toString();\r\n    }\r\n    \r\n    private static void printDirectoryTree(File folder, int indent, StringBuilder sb) {\r\n    \r\n        if (folder != null &amp;&amp; folder.isDirectory() &amp;&amp; folder.listFiles() != null) {\r\n            sb.append(getIndentString(indent));\r\n            sb.append(&quot;+--&quot;);\r\n            sb.append(folder.getName());\r\n            sb.append(&quot;/&quot;);\r\n            sb.append(&quot;\\n&quot;);\r\n    \r\n            for (File file : folder.listFiles()) {\r\n                if (file.isDirectory()) {\r\n                    printDirectoryTree(file, indent + 1, sb);\r\n                } else {\r\n                    printFile(file, indent + 1, sb);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static void printFile(File file, int indent, StringBuilder sb) {\r\n        sb.append(getIndentString(indent));\r\n        sb.append(&quot;+--&quot;);\r\n        if (file != null) {\r\n            sb.append(file.getName());\r\n        } else {\r\n            sb.append(&quot;null file name&quot;);\r\n        }\r\n        sb.append(&quot;\\n&quot;);\r\n    }\r\n    \r\n    private static String getIndentString(int indent) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; indent; i++) {\r\n            sb.append(&quot;|  &quot;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n","title":"print directory tree","body":"<p>I was testing the solution with the most upticks written by @tan70 however it caused a null pointer exception on printing my home directory. I did some investigation and found that listFiles() can return null.</p>\n\n<p>public File[] listFiles()</p>\n\n<p>Returns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname.</p>\n\n<p>If this abstract pathname does not denote a directory, then this method returns <strong>null</strong>. Otherwise an array of File objects is returned, one for each file or directory in the directory</p>\n\n<pre><code>/**\n * Pretty print the directory tree and its file names.\n *\n * @param path\n * @return\n */\npublic static String printDirectoryTree(String path) {\n    File folder = new File(path);\n    if (!folder.isDirectory()) {\n        throw new IllegalArgumentException(\"folder is not a Directory\");\n    }\n    int indent = 0;\n    StringBuilder sb = new StringBuilder();\n    printDirectoryTree(folder, indent, sb);\n    return sb.toString();\n}\n\nprivate static void printDirectoryTree(File folder, int indent, StringBuilder sb) {\n\n    if (folder != null &amp;&amp; folder.isDirectory() &amp;&amp; folder.listFiles() != null) {\n        sb.append(getIndentString(indent));\n        sb.append(\"+--\");\n        sb.append(folder.getName());\n        sb.append(\"/\");\n        sb.append(\"\\n\");\n\n        for (File file : folder.listFiles()) {\n            if (file.isDirectory()) {\n                printDirectoryTree(file, indent + 1, sb);\n            } else {\n                printFile(file, indent + 1, sb);\n            }\n        }\n    }\n}\n\nprivate static void printFile(File file, int indent, StringBuilder sb) {\n    sb.append(getIndentString(indent));\n    sb.append(\"+--\");\n    if (file != null) {\n        sb.append(file.getName());\n    } else {\n        sb.append(\"null file name\");\n    }\n    sb.append(\"\\n\");\n}\n\nprivate static String getIndentString(int indent) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; indent; i++) {\n        sb.append(\"|  \");\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1591284240,"post_id":54338414,"comment_id":110003601,"body_markdown":"For printing the tree, my free [text-tree](https://gitlab.com/barfuin/text-tree) library might help.","body":"For printing the tree, my free <a href=\"https://gitlab.com/barfuin/text-tree\" rel=\"nofollow noreferrer\">text-tree</a> library might help."}],"tags":[],"owner":{"account_id":15184724,"reputation":51,"user_id":10957072,"display_name":"Medium core"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548296189,"creation_date":1548295692,"answer_id":54338414,"question_id":10655085,"body_markdown":"Reference and modify fucntions of tree structures from [this](https://github.com/gt4dev/yet-another-tree-structure/tree/master/java/src/com/tree):\r\n      \r\n    import org.apache.commons.io.FileUtils;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n\r\n    public class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\r\n\r\n        public T data;\r\n        public TreeNode&lt;T&gt; parent;\r\n        public List&lt;TreeNode&lt;T&gt;&gt; children;\r\n\r\n        public boolean isRoot() {\r\n            return parent == null;\r\n        }\r\n\r\n        public boolean isLeaf() {\r\n            return children.size() == 0;\r\n        }\r\n\r\n        private List&lt;TreeNode&lt;T&gt;&gt; elementsIndex;\r\n\r\n        public TreeNode(T data) {\r\n            this.data = data;\r\n            this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n            this.elementsIndex = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n            this.elementsIndex.add(this);\r\n        }\r\n\r\n        public TreeNode&lt;T&gt; addChild(T child) {\r\n            TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\r\n            childNode.parent = this;\r\n            this.children.add(childNode);\r\n            this.registerChildForSearch(childNode);\r\n            return childNode;\r\n        }\r\n\r\n        public int getLevel() {\r\n            if (this.isRoot())\r\n                return 0;\r\n            else\r\n                return parent.getLevel() + 1;\r\n        }\r\n\r\n        private void registerChildForSearch(TreeNode&lt;T&gt; node) {\r\n            elementsIndex.add(node);\r\n            if (parent != null)\r\n                parent.registerChildForSearch(node);\r\n        }\r\n\r\n        public TreeNode&lt;T&gt; findTreeNode(Comparable&lt;T&gt; cmp) {\r\n            for (TreeNode&lt;T&gt; element : this.elementsIndex) {\r\n                T elData = element.data;\r\n                if (cmp.compareTo(elData) == 0)\r\n                    return element;\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return data != null ? data.toString() : &quot;[data null]&quot;;\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;TreeNode&lt;T&gt;&gt; iterator() {\r\n            TreeNodeIter&lt;T&gt; iter = new TreeNodeIter&lt;T&gt;(this);\r\n            return iter;\r\n        }\r\n\r\n        public static TreeNode&lt;File&gt; createDirTree(File folder) {\r\n            if (!folder.isDirectory()) {\r\n                throw new IllegalArgumentException(&quot;folder is not a\r\n                        Directory&quot;);\r\n            }\r\n            TreeNode&lt;File&gt; DirRoot = new TreeNode&lt;File&gt;(folder);\r\n            for (File file : folder.listFiles()) {\r\n                if (file.isDirectory()) {\r\n                    appendDirTree(file, DirRoot);\r\n                } else {\r\n                    appendFile(file, DirRoot);\r\n                }\r\n            }\r\n            return DirRoot;\r\n        }\r\n\r\n        public static void appendDirTree(File folder, TreeNode&lt;File&gt; DirRoot)\r\n        {\r\n            DirRoot.addChild(folder);\r\n            for (File file : folder.listFiles()) {\r\n                if (file.isDirectory()) {\r\n                    appendDirTree(file,\r\n                            DirRoot.children.get(DirRoot.children.size() - 1));\r\n                } else {\r\n                    appendFile(file,\r\n                            DirRoot.children.get(DirRoot.children.size() - 1));\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void appendFile(File file, TreeNode&lt;File&gt; filenode) {\r\n            filenode.addChild(file);\r\n        }\r\n\r\n\r\n        public static String renderDirectoryTree(TreeNode&lt;File&gt; tree) {\r\n            List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\r\n            String newline = System.getProperty(&quot;line.separator&quot;);\r\n            StringBuilder sb = new StringBuilder(lines.size() * 20);\r\n            for (StringBuilder line : lines) {\r\n                sb.append(line);\r\n                sb.append(newline);\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n        public static List&lt;StringBuilder&gt;\r\n            renderDirectoryTreeLines(TreeNode&lt;File&gt;\r\n                    tree) {\r\n                List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\r\n                result.add(new StringBuilder().append(tree.data.getName()));\r\n                Iterator&lt;TreeNode&lt;File&gt;&gt; iterator = tree.children.iterator();\r\n                while (iterator.hasNext()) {\r\n                    List&lt;StringBuilder&gt; subtree =\r\n                        renderDirectoryTreeLines(iterator.next());\r\n                    if (iterator.hasNext()) {\r\n                        addSubtree(result, subtree);\r\n                    } else {\r\n                        addLastSubtree(result, subtree);\r\n                    }\r\n                }\r\n                return result;\r\n                    }\r\n\r\n        private static void addSubtree(List&lt;StringBuilder&gt; result,\r\n                List&lt;StringBuilder&gt; subtree) {\r\n            Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n            //subtree generated by renderDirectoryTreeLines has at least one\r\n            line which is tree.getData()\r\n                result.add(iterator.next().insert(0, &quot;├── &quot;));\r\n            while (iterator.hasNext()) {\r\n                result.add(iterator.next().insert(0, &quot;│   &quot;));\r\n            }\r\n        }\r\n\r\n        private static void addLastSubtree(List&lt;StringBuilder&gt; result,\r\n                List&lt;StringBuilder&gt; subtree) {\r\n            Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n            //subtree generated by renderDirectoryTreeLines has at least\r\n            one\r\n                line which is tree.getData()\r\n                result.add(iterator.next().insert(0, &quot;└── &quot;));\r\n            while (iterator.hasNext()) {\r\n                result.add(iterator.next().insert(0, &quot;    &quot;));\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            File file = new File(&quot;./&quot;);\r\n            TreeNode&lt;File&gt; DirTree = createDirTree(file);\r\n            String result = renderDirectoryTree(DirTree);\r\n            System.out.println(result);\r\n            try {\r\n                File newTextFile = new File(&quot;./DirectoryTree.txt&quot;);\r\n\r\n                FileWriter fw = new FileWriter(newTextFile);\r\n                fw.write(result);\r\n                fw.close();\r\n\r\n            } catch (IOException iox) {\r\n                iox.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nwith this output:\r\n\r\n\r\n    .\r\n    ├── .DS_Store\r\n    ├── .idea\r\n    │   ├── compiler.xml\r\n    │   ├── dictionaries\r\n    │   │   └── yankai01.xml\r\n    │   ├── encodings.xml\r\n    │   ├── misc.xml\r\n    │   └── workspace.xml\r\n    ├── data_exploring.iml\r\n    ├── pom.xml\r\n    ├── src\r\n    │   ├── .DS_Store\r\n    │   ├── main\r\n    │   │   ├── .DS_Store\r\n    │   │   ├── java\r\n    │   │   │   ├── FileAssert.java\r\n    │   │   │   ├── HttpUtils.java\r\n    │   │   │   ├── QuerySaveToCsv.java\r\n    │   │   │   ├── SampleData.java\r\n    │   │   │   ├── SampleIterating.java\r\n    │   │   │   ├── SampleSearching.java\r\n    │   │   │   ├── TreeNode.java\r\n    │   │   │   └── TreeNodeIter.java\r\n    │   │   └── resources\r\n    │   └── test\r\n    │       └── java\r\n    └── target\r\n        ├── classes\r\n        │   ├── FileAssert.class\r\n        │   ├── HttpUtils.class\r\n        │   ├── QuerySaveToCsv.class\r\n        │   ├── SampleData.class\r\n        │   ├── SampleIterating.class\r\n        │   ├── SampleSearching$1.class\r\n        │   ├── SampleSearching.class\r\n        │   ├── TreeNode.class\r\n        │   ├── TreeNodeIter$ProcessStages.class\r\n        │   └── TreeNodeIter.class\r\n        └── generated-sources\r\n            └── annotations","title":"print directory tree","body":"<p>Reference and modify fucntions of tree structures from <a href=\"https://github.com/gt4dev/yet-another-tree-structure/tree/master/java/src/com/tree\" rel=\"noreferrer\">this</a>:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\n\n    public T data;\n    public TreeNode&lt;T&gt; parent;\n    public List&lt;TreeNode&lt;T&gt;&gt; children;\n\n    public boolean isRoot() {\n        return parent == null;\n    }\n\n    public boolean isLeaf() {\n        return children.size() == 0;\n    }\n\n    private List&lt;TreeNode&lt;T&gt;&gt; elementsIndex;\n\n    public TreeNode(T data) {\n        this.data = data;\n        this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n        this.elementsIndex = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n        this.elementsIndex.add(this);\n    }\n\n    public TreeNode&lt;T&gt; addChild(T child) {\n        TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\n        childNode.parent = this;\n        this.children.add(childNode);\n        this.registerChildForSearch(childNode);\n        return childNode;\n    }\n\n    public int getLevel() {\n        if (this.isRoot())\n            return 0;\n        else\n            return parent.getLevel() + 1;\n    }\n\n    private void registerChildForSearch(TreeNode&lt;T&gt; node) {\n        elementsIndex.add(node);\n        if (parent != null)\n            parent.registerChildForSearch(node);\n    }\n\n    public TreeNode&lt;T&gt; findTreeNode(Comparable&lt;T&gt; cmp) {\n        for (TreeNode&lt;T&gt; element : this.elementsIndex) {\n            T elData = element.data;\n            if (cmp.compareTo(elData) == 0)\n                return element;\n        }\n\n        return null;\n    }\n\n    @Override\n    public String toString() {\n        return data != null ? data.toString() : \"[data null]\";\n    }\n\n    @Override\n    public Iterator&lt;TreeNode&lt;T&gt;&gt; iterator() {\n        TreeNodeIter&lt;T&gt; iter = new TreeNodeIter&lt;T&gt;(this);\n        return iter;\n    }\n\n    public static TreeNode&lt;File&gt; createDirTree(File folder) {\n        if (!folder.isDirectory()) {\n            throw new IllegalArgumentException(\"folder is not a\n                    Directory\");\n        }\n        TreeNode&lt;File&gt; DirRoot = new TreeNode&lt;File&gt;(folder);\n        for (File file : folder.listFiles()) {\n            if (file.isDirectory()) {\n                appendDirTree(file, DirRoot);\n            } else {\n                appendFile(file, DirRoot);\n            }\n        }\n        return DirRoot;\n    }\n\n    public static void appendDirTree(File folder, TreeNode&lt;File&gt; DirRoot)\n    {\n        DirRoot.addChild(folder);\n        for (File file : folder.listFiles()) {\n            if (file.isDirectory()) {\n                appendDirTree(file,\n                        DirRoot.children.get(DirRoot.children.size() - 1));\n            } else {\n                appendFile(file,\n                        DirRoot.children.get(DirRoot.children.size() - 1));\n            }\n        }\n    }\n\n    public static void appendFile(File file, TreeNode&lt;File&gt; filenode) {\n        filenode.addChild(file);\n    }\n\n\n    public static String renderDirectoryTree(TreeNode&lt;File&gt; tree) {\n        List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\n        String newline = System.getProperty(\"line.separator\");\n        StringBuilder sb = new StringBuilder(lines.size() * 20);\n        for (StringBuilder line : lines) {\n            sb.append(line);\n            sb.append(newline);\n        }\n        return sb.toString();\n    }\n\n    public static List&lt;StringBuilder&gt;\n        renderDirectoryTreeLines(TreeNode&lt;File&gt;\n                tree) {\n            List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\n            result.add(new StringBuilder().append(tree.data.getName()));\n            Iterator&lt;TreeNode&lt;File&gt;&gt; iterator = tree.children.iterator();\n            while (iterator.hasNext()) {\n                List&lt;StringBuilder&gt; subtree =\n                    renderDirectoryTreeLines(iterator.next());\n                if (iterator.hasNext()) {\n                    addSubtree(result, subtree);\n                } else {\n                    addLastSubtree(result, subtree);\n                }\n            }\n            return result;\n                }\n\n    private static void addSubtree(List&lt;StringBuilder&gt; result,\n            List&lt;StringBuilder&gt; subtree) {\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n        //subtree generated by renderDirectoryTreeLines has at least one\n        line which is tree.getData()\n            result.add(iterator.next().insert(0, \"├── \"));\n        while (iterator.hasNext()) {\n            result.add(iterator.next().insert(0, \"│   \"));\n        }\n    }\n\n    private static void addLastSubtree(List&lt;StringBuilder&gt; result,\n            List&lt;StringBuilder&gt; subtree) {\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n        //subtree generated by renderDirectoryTreeLines has at least\n        one\n            line which is tree.getData()\n            result.add(iterator.next().insert(0, \"└── \"));\n        while (iterator.hasNext()) {\n            result.add(iterator.next().insert(0, \"    \"));\n        }\n    }\n\n    public static void main(String[] args) {\n        File file = new File(\"./\");\n        TreeNode&lt;File&gt; DirTree = createDirTree(file);\n        String result = renderDirectoryTree(DirTree);\n        System.out.println(result);\n        try {\n            File newTextFile = new File(\"./DirectoryTree.txt\");\n\n            FileWriter fw = new FileWriter(newTextFile);\n            fw.write(result);\n            fw.close();\n\n        } catch (IOException iox) {\n            iox.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>with this output:</p>\n\n<pre><code>.\n├── .DS_Store\n├── .idea\n│   ├── compiler.xml\n│   ├── dictionaries\n│   │   └── yankai01.xml\n│   ├── encodings.xml\n│   ├── misc.xml\n│   └── workspace.xml\n├── data_exploring.iml\n├── pom.xml\n├── src\n│   ├── .DS_Store\n│   ├── main\n│   │   ├── .DS_Store\n│   │   ├── java\n│   │   │   ├── FileAssert.java\n│   │   │   ├── HttpUtils.java\n│   │   │   ├── QuerySaveToCsv.java\n│   │   │   ├── SampleData.java\n│   │   │   ├── SampleIterating.java\n│   │   │   ├── SampleSearching.java\n│   │   │   ├── TreeNode.java\n│   │   │   └── TreeNodeIter.java\n│   │   └── resources\n│   └── test\n│       └── java\n└── target\n    ├── classes\n    │   ├── FileAssert.class\n    │   ├── HttpUtils.class\n    │   ├── QuerySaveToCsv.class\n    │   ├── SampleData.class\n    │   ├── SampleIterating.class\n    │   ├── SampleSearching$1.class\n    │   ├── SampleSearching.class\n    │   ├── TreeNode.class\n    │   ├── TreeNodeIter$ProcessStages.class\n    │   └── TreeNodeIter.class\n    └── generated-sources\n        └── annotations\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013906,"reputation":144,"user_id":2556651,"accept_rate":75,"display_name":"Harry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668251562,"creation_date":1668251562,"answer_id":74412380,"question_id":10655085,"body_markdown":"Here&#39;s my solution based on @BaiJie answer but 3x faster. It also supports corner case when null is provided (there is no tree). It creates rows node by node using stack to keep information if all parent&#39;s children were already processed instead of updating list of `StringBuilder`s multiple times.\r\n\r\nSample usage can be found in [my project][1].\r\n\r\n    public class TreePrinter {\r\n    public static final String PARENT_PIPE = &quot;│   &quot;;\r\n    public static final String PARENT_EMPTY = &quot;    &quot;;\r\n\r\n    public static final String CHILD_POINTER = &quot;├── &quot;;\r\n    public static final String LAST_CHILD_POINTER = &quot;└── &quot;;\r\n\r\n    public static &lt;T&gt; String print(TreeNode&lt;T&gt; tree) {\r\n        if(null == tree) {\r\n            return &quot;&quot;;\r\n        }\r\n        return print(tree, new StringBuilder(), new ArrayList&lt;&gt;(), System.lineSeparator()).toString();\r\n    }\r\n\r\n    private static &lt;T&gt; StringBuilder print(TreeNode&lt;T&gt; tree, StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren, String lineSeparator) {\r\n        List&lt;TreeNode&lt;T&gt;&gt; children = tree.getChildren();\r\n\r\n        sb.append(tree.getValue()).append(lineSeparator);\r\n\r\n        for(int i = 0; i &lt; children.size(); i++) {\r\n            if(i == children.size() - 1) {\r\n                addLastNode(sb, hasUnprocessedChildren);\r\n                hasUnprocessedChildren.add(false);\r\n            } else {\r\n                addNode(sb, hasUnprocessedChildren);\r\n                hasUnprocessedChildren.add(true);\r\n            }\r\n\r\n            sb = print(children.get(i), sb, hasUnprocessedChildren, lineSeparator);\r\n\r\n            hasUnprocessedChildren.remove(hasUnprocessedChildren.size() - 1);\r\n        }\r\n\r\n        return sb;\r\n    }\r\n\r\n    private static void addNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\r\n        for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\r\n            sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\r\n        }\r\n        sb.append(CHILD_POINTER);\r\n    }\r\n\r\n    private static void addLastNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\r\n        for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\r\n            sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\r\n        }\r\n        sb.append(LAST_CHILD_POINTER);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/RHarryH/precedence-parsers","title":"print directory tree","body":"<p>Here's my solution based on @BaiJie answer but 3x faster. It also supports corner case when null is provided (there is no tree). It creates rows node by node using stack to keep information if all parent's children were already processed instead of updating list of <code>StringBuilder</code>s multiple times.</p>\n<p>Sample usage can be found in <a href=\"https://github.com/RHarryH/precedence-parsers\" rel=\"nofollow noreferrer\">my project</a>.</p>\n<pre><code>public class TreePrinter {\npublic static final String PARENT_PIPE = &quot;│   &quot;;\npublic static final String PARENT_EMPTY = &quot;    &quot;;\n\npublic static final String CHILD_POINTER = &quot;├── &quot;;\npublic static final String LAST_CHILD_POINTER = &quot;└── &quot;;\n\npublic static &lt;T&gt; String print(TreeNode&lt;T&gt; tree) {\n    if(null == tree) {\n        return &quot;&quot;;\n    }\n    return print(tree, new StringBuilder(), new ArrayList&lt;&gt;(), System.lineSeparator()).toString();\n}\n\nprivate static &lt;T&gt; StringBuilder print(TreeNode&lt;T&gt; tree, StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren, String lineSeparator) {\n    List&lt;TreeNode&lt;T&gt;&gt; children = tree.getChildren();\n\n    sb.append(tree.getValue()).append(lineSeparator);\n\n    for(int i = 0; i &lt; children.size(); i++) {\n        if(i == children.size() - 1) {\n            addLastNode(sb, hasUnprocessedChildren);\n            hasUnprocessedChildren.add(false);\n        } else {\n            addNode(sb, hasUnprocessedChildren);\n            hasUnprocessedChildren.add(true);\n        }\n\n        sb = print(children.get(i), sb, hasUnprocessedChildren, lineSeparator);\n\n        hasUnprocessedChildren.remove(hasUnprocessedChildren.size() - 1);\n    }\n\n    return sb;\n}\n\nprivate static void addNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\n    for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\n        sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\n    }\n    sb.append(CHILD_POINTER);\n}\n\nprivate static void addLastNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\n    for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\n        sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\n    }\n    sb.append(LAST_CHILD_POINTER);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1297392,"reputation":371,"user_id":1248092,"accept_rate":31,"display_name":"user1248092"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34235,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":11,"score":17,"last_activity_date":1668251562,"creation_date":1337353465,"question_id":10655085,"body_markdown":"I have to print a directory tree (like tree command), example:\r\n\r\n     .\r\n     +---A\r\n     |   +---IMAGES\r\n     |       +---BACKUP\r\n     +---ADOKS\r\n     |   +---ROZDZIAL_2\r\n     |   +---ROZDZIAL_3\r\n     |   +---ROZDZIAL_4\r\n     +---AMSC2005\r\n     |   +---AMSC2004\r\n     +---FCCS2005\r\n     |   +---source\r\n     |   +---TMP\r\n     +---LODZ2004\r\n     +---ZAKOPANE2004\r\n     +---DYDAKTYKA\r\n     |   +---DYDAKTYKA_ISI\r\n     |   |   +---COLLS\r\n     |   |   |   +---Q1\r\n     |   |   |   +---Q2\r\n     |   |   |   +---RAZEM\r\n     |   |   |       +---RYSUNKI_COLL1\r\n     |   |   |       +---RYSUNKI_COLL2\r\n     |   |   +---IMAGES\r\n     |   |   +---src\r\n     |   |   +---WYKLAD5\r\n     |   +---DYDAKTYKA_PRG\r\n     |       +---images\r\n     |       +---POMOC\r\n     +---DYDAKTYKA_KST\r\n     |   +---images\r\n     |   +---src\r\n     +---DYDAKTYKA_WPR\r\n         +---images\r\n         +---src\r\n\r\n\r\nI tried with the following Code:\r\n\r\n\tprivate static void getInto(String p, int n) {\r\n\t\tFile path = new File(p);\r\n\t\tFile[] list = path.listFiles();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; list.length; i++) {\r\n\t\t\tif (list[i].isDirectorhowny()) {\r\n\t\t\t\tfor (int j = 0; j &lt; n; j++)\r\n\t\t\t\t\tif (WHAT HERE?)\r\n\t\t\t\t\t\tSystem.out.print(&quot;|  &quot;);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tSystem.out.print(&quot;   &quot;);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;+--&quot; + list[i].getName().toString());\r\n\t\t\t\t\r\n\t\t\t\tgetInto(list[i].getPath(), n + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nI tried few version, but it&#39;s still not work. How to do this? What condition should be put in If? I know is pretty simple, but I can&#39;t do  this.","title":"print directory tree","body":"<p>I have to print a directory tree (like tree command), example:</p>\n\n<pre><code> .\n +---A\n |   +---IMAGES\n |       +---BACKUP\n +---ADOKS\n |   +---ROZDZIAL_2\n |   +---ROZDZIAL_3\n |   +---ROZDZIAL_4\n +---AMSC2005\n |   +---AMSC2004\n +---FCCS2005\n |   +---source\n |   +---TMP\n +---LODZ2004\n +---ZAKOPANE2004\n +---DYDAKTYKA\n |   +---DYDAKTYKA_ISI\n |   |   +---COLLS\n |   |   |   +---Q1\n |   |   |   +---Q2\n |   |   |   +---RAZEM\n |   |   |       +---RYSUNKI_COLL1\n |   |   |       +---RYSUNKI_COLL2\n |   |   +---IMAGES\n |   |   +---src\n |   |   +---WYKLAD5\n |   +---DYDAKTYKA_PRG\n |       +---images\n |       +---POMOC\n +---DYDAKTYKA_KST\n |   +---images\n |   +---src\n +---DYDAKTYKA_WPR\n     +---images\n     +---src\n</code></pre>\n\n<p>I tried with the following Code:</p>\n\n<pre><code>private static void getInto(String p, int n) {\n    File path = new File(p);\n    File[] list = path.listFiles();\n\n    for (int i = 0; i &lt; list.length; i++) {\n        if (list[i].isDirectorhowny()) {\n            for (int j = 0; j &lt; n; j++)\n                if (WHAT HERE?)\n                    System.out.print(\"|  \");\n                else\n                    System.out.print(\"   \");\n\n            System.out.println(\"+--\" + list[i].getName().toString());\n\n            getInto(list[i].getPath(), n + 1);\n        }\n    }\n}\n</code></pre>\n\n<p>I tried few version, but it's still not work. How to do this? What condition should be put in If? I know is pretty simple, but I can't do  this.</p>\n"},{"tags":["java","spring-boot","annotations","inversion-of-control","spring-annotations"],"answers":[{"comments":[{"owner":{"account_id":26135806,"reputation":21,"user_id":19825816,"display_name":"terius"},"score":0,"creation_date":1668147121,"post_id":74398601,"comment_id":131339670,"body_markdown":"ANISH KUMAR\n\nThank you for your answer.\n\nHowever, my question is not about how to create Bean, but how to add logic to the method without any additional processing if annotations are added.","body":"ANISH KUMAR  Thank you for your answer.  However, my question is not about how to create Bean, but how to add logic to the method without any additional processing if annotations are added."}],"tags":[],"owner":{"account_id":17015155,"reputation":138,"user_id":12309235,"display_name":"ANISH SAJI  KUMAR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668250236,"creation_date":1668146769,"answer_id":74398601,"question_id":74398582,"body_markdown":"You can add specific logic to the method by custom annotation in Spring boot by using the @Component annotation.\r\nYou can use &lt;code&gt;@Configuration&lt;/code&gt; annotation to add your custom logic.\r\n```\r\n&lt;code&gt;@Configuration\r\npublic class MyCustomAnnotationConfig {\r\n\r\n    @Bean\r\n    public MyCustomAnnotationBean myCustomAnnotationBean() {\r\n        return new MyCustomAnnotationBean();\r\n    }\r\n}\r\n```\r\n&lt;/code&gt;\r\nAnd then you can use &lt;code&gt;@Autowired&lt;/code&gt; to inject your bean into your controller.\r\n```\r\n&lt;code&gt;@MyCustomAnnotation\r\n@Controller\r\npublic class ExController {\r\n\r\n    @Autowired\r\n    private MyCustomAnnotationBean myCustomAnnotationBean;\r\n\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public String index(Model model){\r\n        myCustomAnnotationBean.doSomething();\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n&lt;/code&gt;\r\n```","title":"how to add specific logic to the method by custom annotation in Spring boot?","body":"<p>You can add specific logic to the method by custom annotation in Spring boot by using the @Component annotation.\nYou can use <code>@Configuration</code> annotation to add your custom logic.</p>\n<pre><code>&lt;code&gt;@Configuration\npublic class MyCustomAnnotationConfig {\n\n    @Bean\n    public MyCustomAnnotationBean myCustomAnnotationBean() {\n        return new MyCustomAnnotationBean();\n    }\n}\n</code></pre>\n\nAnd then you can use <code>@Autowired</code> to inject your bean into your controller.\n```\n<code>@MyCustomAnnotation\n@Controller\npublic class ExController {\n<pre><code>@Autowired\nprivate MyCustomAnnotationBean myCustomAnnotationBean;\n\n@RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\npublic String index(Model model){\n    myCustomAnnotationBean.doSomething();\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>}\n</code></p>\n<pre><code></code></pre>\n"},{"tags":[],"owner":{"account_id":17015155,"reputation":138,"user_id":12309235,"display_name":"ANISH SAJI  KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668148091,"creation_date":1668148091,"answer_id":74398767,"question_id":74398582,"body_markdown":"\r\n@RequestParam is a Spring annotation that is used to bind a parameter to the value of a method parameter.\r\nIf you want to add logic to your method, you can do so without any annotations.\r\n&lt;code&gt;public ResponseEntity&amp;lt;String&amp;gt; myMethod(@RequestParam(required = false) String param) {\r\n    //additional logic\r\n    return new ResponseEntity&amp;lt;&amp;gt;(HttpStatus.OK);\r\n}\r\n&lt;/code&gt;\r\nThe above code will add additional logic to the method.\r\n\r\ni hope this can be helpful i am new to this .","title":"how to add specific logic to the method by custom annotation in Spring boot?","body":"<p>@RequestParam is a Spring annotation that is used to bind a parameter to the value of a method parameter.\nIf you want to add logic to your method, you can do so without any annotations.\n<code>public ResponseEntity&lt;String&gt; myMethod(@RequestParam(required = false) String param) {\n//additional logic\nreturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code>\nThe above code will add additional logic to the method.</p>\n<p>i hope this can be helpful i am new to this .</p>\n"}],"owner":{"account_id":26135806,"reputation":21,"user_id":19825816,"display_name":"terius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668250236,"creation_date":1668146602,"question_id":74398582,"body_markdown":"My question is this.\r\n\r\nI would like to add custom annotation to spring boot and designate it as declared without declaring a specific logic.\r\n\r\n\r\n\r\nSuppose you have the following code:\r\n```\r\n@MyCustomAnnotation\r\n@Controller\r\npublic class ExController {\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public String index(Model model){\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\nI want the above code to perform the following logic.\r\n\r\n\r\n```\r\n@MyCustomAnnotation\r\n@Controller\r\npublic class ExController {\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public String index(Model model){\r\n        \r\n        //Code added because it has an annotation\r\n        \r\n           model.addAttribute(&quot;key&quot;,&quot;value&quot;);  \r\n\r\n        //Code added because it has an annotation\r\n        \r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been thinking about Reflection and other methods, but I can&#39;t think of the right way \r\n\r\nCan someone grateful give a solution or keyword for this problem?\r\n","title":"how to add specific logic to the method by custom annotation in Spring boot?","body":"<p>My question is this.</p>\n<p>I would like to add custom annotation to spring boot and designate it as declared without declaring a specific logic.</p>\n<p>Suppose you have the following code:</p>\n<pre><code>@MyCustomAnnotation\n@Controller\npublic class ExController {\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\n    public String index(Model model){\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>I want the above code to perform the following logic.</p>\n<pre><code>@MyCustomAnnotation\n@Controller\npublic class ExController {\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\n    public String index(Model model){\n        \n        //Code added because it has an annotation\n        \n           model.addAttribute(&quot;key&quot;,&quot;value&quot;);  \n\n        //Code added because it has an annotation\n        \n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>I've been thinking about Reflection and other methods, but I can't think of the right way</p>\n<p>Can someone grateful give a solution or keyword for this problem?</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1667989135,"post_id":74373131,"comment_id":131297308,"body_markdown":"The header of your csv file looks incorrect - maybe it is causing the issue","body":"The header of your csv file looks incorrect - maybe it is causing the issue"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667991044,"post_id":74373131,"comment_id":131297996,"body_markdown":"The output does not match the code you have quoted. Also - the CSV file is invalid, as it is using the separator char (&quot; &quot;) in the field values.\n\nWhat does &quot;for delimiter I have empty space(Tab)&quot; actually mean? Tab and Space are two different things.","body":"The output does not match the code you have quoted. Also - the CSV file is invalid, as it is using the separator char (&quot; &quot;) in the field values.  What does &quot;for delimiter I have empty space(Tab)&quot; actually mean? Tab and Space are two different things."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1668239560,"post_id":74373131,"comment_id":131361351,"body_markdown":"You should provide your CSV file.","body":"You should provide your CSV file."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668249774,"post_id":74373131,"comment_id":131362840,"body_markdown":"I added test file link.","body":"I added test file link."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1668250899,"post_id":74373131,"comment_id":131363025,"body_markdown":"The file is encoded in UTF-16, which explains the issue.","body":"The file is encoded in UTF-16, which explains the issue."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668255754,"post_id":74373131,"comment_id":131363935,"body_markdown":"How I can read it properly?","body":"How I can read it properly?"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668042288,"post_id":74373741,"comment_id":131314103,"body_markdown":"The code works but I get a text with empty spaces like this for example: ` O p e l   I n s i g n i a ` Any idea what might cause this?","body":"The code works but I get a text with empty spaces like this for example: ` O p e l   I n s i g n i a ` Any idea what might cause this?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1668239652,"post_id":74373741,"comment_id":131361365,"body_markdown":"@PeterPenzov Why should we guess? Why don&#39;t you provide your file instead?","body":"@PeterPenzov Why should we guess? Why don&#39;t you provide your file instead?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668249638,"post_id":74373741,"comment_id":131362819,"body_markdown":"@Olivier here it is: https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0  Please try it.","body":"@Olivier here it is: <a href=\"https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0</a>  Please try it."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1668250759,"post_id":74373741,"comment_id":131362996,"body_markdown":"@PeterPenzov The file is encoded in UTF-16.","body":"@PeterPenzov The file is encoded in UTF-16."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667991396,"creation_date":1667991396,"answer_id":74373741,"question_id":74373131,"body_markdown":"If your CSV file really uses the Tab character as field delimitier, it should be sufficient to change to:\r\n\r\n```java\r\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\r\n                    .withType(CsvLine.class)\r\n                    .withSeparator(&#39;\\t&#39;)\r\n                    .withSkipLines(2)\r\n                    .build()\r\n                    .parse();\r\n```\r\n\r\nI changed `withSeparator` argument and increased the number of lines to skip to 2","title":"Read csv file with Java OpenCSV","body":"<p>If your CSV file really uses the Tab character as field delimitier, it should be sufficient to change to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\n                    .withType(CsvLine.class)\n                    .withSeparator('\\t')\n                    .withSkipLines(2)\n                    .build()\n                    .parse();\n</code></pre>\n<p>I changed <code>withSeparator</code> argument and increased the number of lines to skip to 2</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74373741,"answer_count":1,"score":1,"last_activity_date":1668249754,"creation_date":1667988867,"question_id":74373131,"body_markdown":"\r\n\r\nI have the following .csv file:\r\n\r\n    Company ABC\t\t\t\t\t\t\t\t\r\n    &quot;Jan 1, 2020 - Sep 30, 2020&quot;\t\t\t\t\t\t\t\t\r\n    Product\tCountry\tAvg. monthly clients\tAvg. month charge\tParts change\tImpact\tIn stock\tClients in list\tCity\r\n    Nissan Maxima\tUSA\t6600\t0%\t-18%\tLow\t18\t\t\r\n    BMW X7 M50i\tUSA\t18100\t22%\t0%\tLow\t28\t\t\r\n    Volvo XC90 \tUSA\t880\t0%\t-12%\tLow\t10\t\t\r\n    Opel Insignia\tUSA\t320\t-34%\t-34%\tLow\t23\t\t\r\n    Renult Triber \tUSA\t140\t-18%\t-36%\tLow\t8\t\t\r\n    Toyota Yaris\tUSA\t880\t0%\t-28%\tLow\t30\t\t\r\n    Ford Mondeo\tUSA\t70\t-20%\t-71%\tLow\t1\t\t\r\n\r\nfor delimiter I have empty space(Tab). I tried to use this code in order to read the file using Opencsv:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CsvLine {\r\n    \r\n        @CsvBindByPosition(position = 1)\r\n        private String model;\r\n    \r\n        @CsvBindByPosition(position = 2)\r\n        private String country;\r\n    }\r\n    \r\n                String fileName = &quot;C:\\\\in_progress\\\\zzz.csv&quot;;\r\n    \r\n                List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\r\n                        .withType(CsvLine.class)\r\n                        .withSeparator(&#39; &#39;)\r\n                        .withSkipLines(1)\r\n                        .build()\r\n                        .parse();\r\n    \r\n                for(CsvLine item: beans){\r\n                    System.out.println(item.getModel());\r\n                }\r\n\r\nBut I get this output:\r\n\r\n     X C 9 0 \r\n    null\r\n     I n s i g n i a \t U S A \t 3 2 0 \t - 3 4 % \t - 3 4 % \t L o w \t 2 3 \t \t \r\n    null\r\n     T r i b e r \r\n    null\r\n     Y a r i s \t U S A \t 8 8 0 \t 0 % \t - 2 8 % \t L o w \t 3 0 \t \t \r\n    null\r\n     M o n d e o \t U S A \t 7 0 \t - 2 0 % \t - 7 1 % \t L o w \t 1 \t \t \r\n    null\r\n    null\r\n\r\nDo you know how I can the file properly with Java preferably with OpenCSV?\r\n\r\nTest file https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0","title":"Read csv file with Java OpenCSV","body":"<p>I have the following .csv file:</p>\n<pre><code>Company ABC                             \n&quot;Jan 1, 2020 - Sep 30, 2020&quot;                                \nProduct Country Avg. monthly clients    Avg. month charge   Parts change    Impact  In stock    Clients in list City\nNissan Maxima   USA 6600    0%  -18%    Low 18      \nBMW X7 M50i USA 18100   22% 0%  Low 28      \nVolvo XC90  USA 880 0%  -12%    Low 10      \nOpel Insignia   USA 320 -34%    -34%    Low 23      \nRenult Triber   USA 140 -18%    -36%    Low 8       \nToyota Yaris    USA 880 0%  -28%    Low 30      \nFord Mondeo USA 70  -20%    -71%    Low 1       \n</code></pre>\n<p>for delimiter I have empty space(Tab). I tried to use this code in order to read the file using Opencsv:</p>\n<pre><code>@Getter\n@Setter\npublic class CsvLine {\n\n    @CsvBindByPosition(position = 1)\n    private String model;\n\n    @CsvBindByPosition(position = 2)\n    private String country;\n}\n\n            String fileName = &quot;C:\\\\in_progress\\\\zzz.csv&quot;;\n\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\n                    .withType(CsvLine.class)\n                    .withSeparator(' ')\n                    .withSkipLines(1)\n                    .build()\n                    .parse();\n\n            for(CsvLine item: beans){\n                System.out.println(item.getModel());\n            }\n</code></pre>\n<p>But I get this output:</p>\n<pre><code> X C 9 0 \nnull\n I n s i g n i a     U S A   3 2 0   - 3 4 %     - 3 4 %     L o w   2 3         \nnull\n T r i b e r \nnull\n Y a r i s   U S A   8 8 0   0 %     - 2 8 %     L o w   3 0         \nnull\n M o n d e o     U S A   7 0     - 2 0 %     - 7 1 %     L o w   1       \nnull\nnull\n</code></pre>\n<p>Do you know how I can the file properly with Java preferably with OpenCSV?</p>\n<p>Test file <a href=\"https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0</a></p>\n"},{"tags":["java","join","stream","zip","streamex"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668246338,"post_id":74411834,"comment_id":131362301,"body_markdown":"It&#39;s much more convenient to post the actual code than a picture of it. For starters, users can copy it and start tweaking it to answer your question.","body":"It&#39;s much more convenient to post the actual code than a picture of it. For starters, users can copy it and start tweaking it to answer your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668248140,"post_id":74411834,"comment_id":131362575,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249693,"creation_date":1668249693,"answer_id":74412185,"question_id":74411834,"body_markdown":"Please post your code it&#39;s hard to read the screenshot.\r\nFrom your output it seems you are printing the StreamEx object from convert method. That will not output what you need.\r\n\r\nWhen you print a java object it invokes toString() method which all Objects inherit. By default the toString() method will return a string that lists the name of the class followed by an @ sign and then a hexadecimal representation of the memory location the instantiated object has been assigned to.\r\n\r\nThis is why you get an output like this,\r\n\r\n&gt; one.util.streamex.StreamEx@2e817b38\r\n\r\nFirst you need to iterate the StreamEx stream and then print the object.\r\nNotice that in Racer class toString method is overridden. So when we call print on racer object it will invoke toString() method that we have written.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import one.util.streamex.StreamEx;\r\n    \r\n    class PopupMenuExample {\r\n        \r\n        public static void main(String args[]) {\r\n    \r\n            StreamEx&lt;Racer&gt; racerStream = convert();\r\n            System.out.println(&quot;this is wrong: &quot; + racerStream);\r\n    \r\n            System.out.println(&quot;this is correct: &quot;);\r\n            racerStream.forEach(\r\n                    racer -&gt; {\r\n                        System.out.println(racer);\r\n                    }\r\n            );\r\n        }\r\n    \r\n        private static StreamEx&lt;Racer&gt; convert() {\r\n            Racer r1 = new Racer(&quot;one&quot;, 40);\r\n            Racer r2 = new Racer(&quot;two&quot;, 100);\r\n            List&lt;Racer&gt; racers = new ArrayList&lt;&gt;();\r\n            racers.add(r1);\r\n            racers.add(r2);\r\n            return StreamEx.of(racers);\r\n        }\r\n    }\r\n    \r\n    class Racer {\r\n        String name;\r\n        Integer speed;\r\n    \r\n        public Racer(String name, Integer speed) {\r\n            this.name = name;\r\n            this.speed =speed;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ name:%s, speed: %d }&quot;, name, speed);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; this is wrong: one.util.streamex.StreamEx@7229724f\r\n&gt; \r\n&gt; this is correct:  { name:one, speed: 40 } { name:two, speed: 100 }","title":"How to print streamex on the console","body":"<p>Please post your code it's hard to read the screenshot.\nFrom your output it seems you are printing the StreamEx object from convert method. That will not output what you need.</p>\n<p>When you print a java object it invokes toString() method which all Objects inherit. By default the toString() method will return a string that lists the name of the class followed by an @ sign and then a hexadecimal representation of the memory location the instantiated object has been assigned to.</p>\n<p>This is why you get an output like this,</p>\n<blockquote>\n<p>one.util.streamex.StreamEx@2e817b38</p>\n</blockquote>\n<p>First you need to iterate the StreamEx stream and then print the object.\nNotice that in Racer class toString method is overridden. So when we call print on racer object it will invoke toString() method that we have written.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport one.util.streamex.StreamEx;\n\nclass PopupMenuExample {\n    \n    public static void main(String args[]) {\n\n        StreamEx&lt;Racer&gt; racerStream = convert();\n        System.out.println(&quot;this is wrong: &quot; + racerStream);\n\n        System.out.println(&quot;this is correct: &quot;);\n        racerStream.forEach(\n                racer -&gt; {\n                    System.out.println(racer);\n                }\n        );\n    }\n\n    private static StreamEx&lt;Racer&gt; convert() {\n        Racer r1 = new Racer(&quot;one&quot;, 40);\n        Racer r2 = new Racer(&quot;two&quot;, 100);\n        List&lt;Racer&gt; racers = new ArrayList&lt;&gt;();\n        racers.add(r1);\n        racers.add(r2);\n        return StreamEx.of(racers);\n    }\n}\n\nclass Racer {\n    String name;\n    Integer speed;\n\n    public Racer(String name, Integer speed) {\n        this.name = name;\n        this.speed =speed;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;{ name:%s, speed: %d }&quot;, name, speed);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>this is wrong: one.util.streamex.StreamEx@7229724f</p>\n<p>this is correct:  { name:one, speed: 40 } { name:two, speed: 100 }</p>\n</blockquote>\n"}],"owner":{"account_id":25954119,"reputation":1,"user_id":19671704,"display_name":"Berder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668249693,"creation_date":1668245899,"question_id":74411834,"body_markdown":"i try to print all elements of the streamex on the console, but I get always this issue \r\n\r\none.util.streamex.StreamEx@2e817b38\r\n\r\nSo I call &quot;convert&quot; method from the main, but i doesn&#39;t work.. Do you have any idea, how can I make it right?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uYS7J.png)](https://i.stack.imgur.com/uYS7J.png)\r\n\r\nI hope to get helpful answer for my question.","title":"How to print streamex on the console","body":"<p>i try to print all elements of the streamex on the console, but I get always this issue</p>\n<p>one.util.streamex.StreamEx@2e817b38</p>\n<p>So I call &quot;convert&quot; method from the main, but i doesn't work.. Do you have any idea, how can I make it right?</p>\n<p><a href=\"https://i.stack.imgur.com/uYS7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uYS7J.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope to get helpful answer for my question.</p>\n"},{"tags":["java","spring","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1668170377,"post_id":74402457,"comment_id":131346648,"body_markdown":"The most likely case is a leak or excessive loading of data.  Monitor the container. Increase the heap and see what is happening. If it happens after some time regardless the traffic, it&#39;s most likely a leak.  If it is happening due to some user action it&#39;s most likely loading to much.","body":"The most likely case is a leak or excessive loading of data.  Monitor the container. Increase the heap and see what is happening. If it happens after some time regardless the traffic, it&#39;s most likely a leak.  If it is happening due to some user action it&#39;s most likely loading to much."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1668170469,"post_id":74402457,"comment_id":131346677,"body_markdown":"And the error there is `OutOfMemoryError` - maybe you see a GC death spiral first. But in general it&#39;s _very_ unlikely that there is a generic problem an outsider can solve. If you really think, that Vaadin 19 is the sole culprit, then I&#39;d suggest updating away from the no longer supported version. 23 is the new LTS version.","body":"And the error there is <code>OutOfMemoryError</code> - maybe you see a GC death spiral first. But in general it&#39;s <i>very</i> unlikely that there is a generic problem an outsider can solve. If you really think, that Vaadin 19 is the sole culprit, then I&#39;d suggest updating away from the no longer supported version. 23 is the new LTS version."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1668174156,"post_id":74402457,"comment_id":131348005,"body_markdown":"How much Xmx and Xms did you specifiy for your Tomcat","body":"How much Xmx and Xms did you specifiy for your Tomcat"},{"owner":{"account_id":3050848,"reputation":1,"user_id":2585440,"display_name":"user2585440"},"score":0,"creation_date":1668176503,"post_id":74402457,"comment_id":131348913,"body_markdown":"It&#39;s a bitnami server and I see on the folder /opt/bitnami/tomcat/conf/bitnami some scripts for the heap space: Currently -Xms2G -Xmx4G but testing it with -Xms4G -Xmx8G I saw issues too","body":"It&#39;s a bitnami server and I see on the folder /opt/bitnami/tomcat/conf/bitnami some scripts for the heap space: Currently -Xms2G -Xmx4G but testing it with -Xms4G -Xmx8G I saw issues too"}],"answers":[{"tags":[],"owner":{"account_id":1359686,"reputation":12160,"user_id":1297272,"accept_rate":86,"display_name":"Javier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249501,"creation_date":1668249501,"answer_id":74412169,"question_id":74402457,"body_markdown":"If it fails with Xmx4G and also with Xmx8G, then it looks like there is a memory leak (and more memory will only postpone the problem).\r\n\r\nThe memory leak may be caused by the framework, or by your own code. For instance, just keeping a reference to one component will cause the whole `HttpSession` to be reachable. You may run into this scenario if you keep references to components that outlive the session (e.g. components subscribe to some global event and forgot to unsuscribe when detached).\r\nIt may help to run a [memory dump][1] and analyze what is the cause of the OutOfMemoryError.\r\n\r\nAs @cfrick noted, Vaadin 19 is [no longer maintained][2] (last release June 2021). Some memory leaks have been fixed after Vaadin 19 end-of-life:\r\n- [Memory leak on adding and removing components][3] (fixed on 22+)\r\n- [Memory leak: button&#39;s ShortcutRegistration is not removed after detach][4]  (fixed on 22+)\r\n\r\nUpgrading to Vaadin 22 shouldn&#39;t be too difficult (although you may run into some changes that affect custom styling of components, see [Upgrade Guide][5]). \r\nVaadin 23 requires Java 11, and there are some changes in the frontend building (23.1 defaults to npm instead of pnpm, and 23.2 defaults to vite instead of webpack)\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-heap-dump-capture\r\n  [2]: https://vaadin.com/roadmap\r\n  [3]: https://github.com/vaadin/flow/issues/13851\r\n  [4]: https://github.com/vaadin/flow/issues/11939\r\n  [5]: https://vaadin.com/docs/latest/upgrading/upgrade-tool","title":"Vaadin 19 stopping tomcatserver","body":"<p>If it fails with Xmx4G and also with Xmx8G, then it looks like there is a memory leak (and more memory will only postpone the problem).</p>\n<p>The memory leak may be caused by the framework, or by your own code. For instance, just keeping a reference to one component will cause the whole <code>HttpSession</code> to be reachable. You may run into this scenario if you keep references to components that outlive the session (e.g. components subscribe to some global event and forgot to unsuscribe when detached).\nIt may help to run a <a href=\"https://www.baeldung.com/java-heap-dump-capture\" rel=\"nofollow noreferrer\">memory dump</a> and analyze what is the cause of the OutOfMemoryError.</p>\n<p>As @cfrick noted, Vaadin 19 is <a href=\"https://vaadin.com/roadmap\" rel=\"nofollow noreferrer\">no longer maintained</a> (last release June 2021). Some memory leaks have been fixed after Vaadin 19 end-of-life:</p>\n<ul>\n<li><a href=\"https://github.com/vaadin/flow/issues/13851\" rel=\"nofollow noreferrer\">Memory leak on adding and removing components</a> (fixed on 22+)</li>\n<li><a href=\"https://github.com/vaadin/flow/issues/11939\" rel=\"nofollow noreferrer\">Memory leak: button's ShortcutRegistration is not removed after detach</a>  (fixed on 22+)</li>\n</ul>\n<p>Upgrading to Vaadin 22 shouldn't be too difficult (although you may run into some changes that affect custom styling of components, see <a href=\"https://vaadin.com/docs/latest/upgrading/upgrade-tool\" rel=\"nofollow noreferrer\">Upgrade Guide</a>).\nVaadin 23 requires Java 11, and there are some changes in the frontend building (23.1 defaults to npm instead of pnpm, and 23.2 defaults to vite instead of webpack)</p>\n"}],"owner":{"account_id":3050848,"reputation":1,"user_id":2585440,"display_name":"user2585440"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668249501,"creation_date":1668169410,"question_id":74402457,"body_markdown":"I&#39;m mantaining a vaadin application with a backend neo4j. Two tomcats (9.0.55) on the same server (using ports 80 and 5005 for the backend)\r\n\r\nWhen I use it intensively, loading lots of data, vaadin crashes and tomcat stop responding.\r\n\r\nIf I check catalina.out log I can see some errors before te crash:\r\n\r\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\r\nInvalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x03R/S0x0e0xa3-s0xc0{0xf00x88l0xe3\\0xb30xcf0xf90x1b0x870xb90x11=0xab0xaf)0xf10xdd0x890x13+0x930x11 ]. HTTP method names must be tokens\r\n\r\n2022-11-10 08:55:31.015 ERROR 5115 --- [0.1-8009-exec-7] c.v.flow.server.DefaultErrorHandler      : \r\njava.lang.RuntimeException: java.lang.NullPointerException\r\nCaused by: java.lang.NullPointerException: null\r\n\r\njava.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\r\nException in thread &quot;ajp-nio-127.0.0.1-8009-Poller&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\r\n10-Nov-2022 09:45:19.259 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] is still processing a request that has yet to finish. This is very likely to create a memory leak. You can control the time allowed for requests to finish by using the unloadDelay attribute of the standard Context implementation. Stack trace of request processing thread:[\r\n\r\nI don&#39;t know which of the errors causes the web server to crash but it seems that only tomcat of the frontend is stopping the service. Backend is still running.\r\n\r\nCould incrementing max threads resolve this issue?\r\n\r\nMany thanks\r\nJV\r\n\r\n\r\n\r\n\r\n\r\nAll webpage is shutting down. I have to restart tomcat frontend to restore the service.","title":"Vaadin 19 stopping tomcatserver","body":"<p>I'm mantaining a vaadin application with a backend neo4j. Two tomcats (9.0.55) on the same server (using ports 80 and 5005 for the backend)</p>\n<p>When I use it intensively, loading lots of data, vaadin crashes and tomcat stop responding.</p>\n<p>If I check catalina.out log I can see some errors before te crash:</p>\n<p>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe</p>\n<p>Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x03R/S0x0e0xa3-s0xc0{0xf00x88l0xe3\\0xb30xcf0xf90x1b0x870xb90x11=0xab0xaf)0xf10xdd0x890x13+0x930x11 ]. HTTP method names must be tokens</p>\n<p>2022-11-10 08:55:31.015 ERROR 5115 --- [0.1-8009-exec-7] c.v.flow.server.DefaultErrorHandler      :\njava.lang.RuntimeException: java.lang.NullPointerException\nCaused by: java.lang.NullPointerException: null</p>\n<p>java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</p>\n<p>Exception in thread &quot;ajp-nio-127.0.0.1-8009-Poller&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</p>\n<p>10-Nov-2022 09:45:19.259 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] is still processing a request that has yet to finish. This is very likely to create a memory leak. You can control the time allowed for requests to finish by using the unloadDelay attribute of the standard Context implementation. Stack trace of request processing thread:[</p>\n<p>I don't know which of the errors causes the web server to crash but it seems that only tomcat of the frontend is stopping the service. Backend is still running.</p>\n<p>Could incrementing max threads resolve this issue?</p>\n<p>Many thanks\nJV</p>\n<p>All webpage is shutting down. I have to restart tomcat frontend to restore the service.</p>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1393523039,"post_id":22076083,"comment_id":33479172,"body_markdown":"Uh, you deal into... Unsafe... Territory. However, my guess here is that a cmpxchg is involved at the CPU level (CoMPare and eXCHanGe). Not sure, though.","body":"Uh, you deal into... Unsafe... Territory. However, my guess here is that a cmpxchg is involved at the CPU level (CoMPare and eXCHanGe). Not sure, though."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1393951624,"post_id":22076083,"comment_id":33661636,"body_markdown":"`cas` means “compare and set” and it does what the name suggests, it will compare the old value with the specified first argument (here `null`) and set to the specified second argument (here `newNode`) if the comparison was successful. The special thing is that it is performed *atomically*. There is a [public API providing the same functionality to applications](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html#compareAndSet(T,%20V,%20V))","body":"<code>cas</code> means “compare and set” and it does what the name suggests, it will compare the old value with the specified first argument (here <code>null</code>) and set to the specified second argument (here <code>newNode</code>) if the comparison was successful. The special thing is that it is performed <i>atomically</i>. There is a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html#compareAndSet(T,%20V,%20V)\" rel=\"nofollow noreferrer\">public API providing the same functionality to applications</a>"},{"owner":{"account_id":1351503,"reputation":747,"user_id":1290983,"accept_rate":82,"display_name":"chain ro"},"score":0,"creation_date":1437019859,"post_id":22076083,"comment_id":50859204,"body_markdown":"In many cases, compareAndSet invokes the `native` api. @fge, your guess is right.","body":"In many cases, compareAndSet invokes the <code>native</code> api. @fge, your guess is right."}],"answers":[{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249408,"creation_date":1668241171,"answer_id":74411395,"question_id":22076083,"body_markdown":"It may operate similar to below pseudo-code, but written in so called native-code (C/C++), which is normally far faster than Java:\r\n```\r\nboolean compareAndSwapObject(Object obj, long fieldId, Object expectedValue, Object newValue) {\r\n    synchronized (globalExchangeLock) {\r\n        if (obj.fieldArray.get(fieldId) == expectedValue) {\r\n            obj.fieldArray.set(fieldId, newValue);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nprivate static final Object globalExchangeLock = new Object();\r\n```\r\n\r\nHowever, passing `fieldId` is little complicated, and maybe should be cached, like below Java code (not pseudo-code this time):\r\n```java\r\npublic class MyClass {\r\n    int myField;\r\n\r\n    // ...\r\n\r\n    private static final sun.misc.Unsafe U = UnsafeAcc.unsafe;\r\n    private static final long MY_FIELD_ID;\r\n\r\n    static {\r\n        try {\r\n            MY_FIELD_ID = U.objectFieldOffset(\r\n                MyClass.class.getDeclaredField(&quot;myField&quot;)\r\n            );\r\n        } catch (Exception e) {\r\n            throw new ExceptionInInitializerError(e);\r\n        }\r\n    }\r\n}\r\n```\r\nWhich for my Android project uses:\r\n```\r\n/*\r\n * Written by Stefan Zobel and released to the\r\n * public domain, as explained at\r\n * http://creativecommons.org/publicdomain/zero/1.0/\r\n */\r\npackage java8.util.concurrent;\r\n\r\nimport java.lang.reflect.Field;\r\n\r\nimport sun.misc.Unsafe;\r\n\r\nfinal class UnsafeAcc {\r\n\r\n    static final Unsafe unsafe;\r\n\r\n    static {\r\n        try {\r\n            Field field = null;\r\n            try {\r\n                field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            } catch (NoSuchFieldException ignored) {\r\n                // For older Androids.\r\n                field = Unsafe.class.getDeclaredField(&quot;THE_ONE&quot;);\r\n            }\r\n            field.setAccessible(true);\r\n            unsafe = (Unsafe) field.get(null);\r\n        } catch (Exception e) {\r\n            throw new Error(e);\r\n        }\r\n    }\r\n\r\n    private UnsafeAcc() {\r\n    }\r\n}\r\n```","title":"What exactly UNSAFE.compareAndSwapObject does","body":"<p>It may operate similar to below pseudo-code, but written in so called native-code (C/C++), which is normally far faster than Java:</p>\n<pre><code>boolean compareAndSwapObject(Object obj, long fieldId, Object expectedValue, Object newValue) {\n    synchronized (globalExchangeLock) {\n        if (obj.fieldArray.get(fieldId) == expectedValue) {\n            obj.fieldArray.set(fieldId, newValue);\n            return true;\n        }\n    }\n    return false;\n}\n\nprivate static final Object globalExchangeLock = new Object();\n</code></pre>\n<p>However, passing <code>fieldId</code> is little complicated, and maybe should be cached, like below Java code (not pseudo-code this time):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    int myField;\n\n    // ...\n\n    private static final sun.misc.Unsafe U = UnsafeAcc.unsafe;\n    private static final long MY_FIELD_ID;\n\n    static {\n        try {\n            MY_FIELD_ID = U.objectFieldOffset(\n                MyClass.class.getDeclaredField(&quot;myField&quot;)\n            );\n        } catch (Exception e) {\n            throw new ExceptionInInitializerError(e);\n        }\n    }\n}\n</code></pre>\n<p>Which for my Android project uses:</p>\n<pre><code>/*\n * Written by Stefan Zobel and released to the\n * public domain, as explained at\n * http://creativecommons.org/publicdomain/zero/1.0/\n */\npackage java8.util.concurrent;\n\nimport java.lang.reflect.Field;\n\nimport sun.misc.Unsafe;\n\nfinal class UnsafeAcc {\n\n    static final Unsafe unsafe;\n\n    static {\n        try {\n            Field field = null;\n            try {\n                field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n            } catch (NoSuchFieldException ignored) {\n                // For older Androids.\n                field = Unsafe.class.getDeclaredField(&quot;THE_ONE&quot;);\n            }\n            field.setAccessible(true);\n            unsafe = (Unsafe) field.get(null);\n        } catch (Exception e) {\n            throw new Error(e);\n        }\n    }\n\n    private UnsafeAcc() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3476529,"reputation":151,"user_id":2909563,"display_name":"chaopeng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3639,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1668249408,"creation_date":1393522615,"question_id":22076083,"body_markdown":"I found UNSAFE.compareAndSwapObject very strange when reading the JDK ConcurrentLinkedQueue. (class CLQ is copy from ConcurrentLinkedQueue for easy debug...)\r\n\r\nWhen I offer the first item to ConcurrentLinkedQueue. \r\n\r\n* before\r\n    ```\r\n    p.casNext(null, newNode)\r\n    ```\r\n    head==tail==p==t ref the same object, like this.\r\n\r\n    https://i.stack.imgur.com/8dCO0.png\r\n\r\n* step into casNext after\r\n    ```\r\n    UNSAFE.compareAndSwapObject(this, nextOffset, cmp, val);\r\n    ```\r\n\r\n    p.next is ref to the newNode as expected, like this. \r\n\r\n    https://i.stack.imgur.com/mNtUN.png\r\n\r\n* step out to offer\r\n\r\n    Everything become strange... I can understand why p.next ref wound change to p, how head ref newNode automatically...\r\n\r\n    https://i.stack.imgur.com/Pvvcy.png\r\n\r\n\r\n\r\ncode: ConcurrentLinkedQueue.class offer()\r\n\r\n\r\n    public boolean offer(E e) {\r\n        checkNotNull(e);\r\n        final Node&lt;E&gt; newNode = new Node&lt;E&gt;(e);\r\n\r\n        for (Node&lt;E&gt; t = tail, p = t;;) {\r\n            Node&lt;E&gt; q = p.next;\r\n            if (q == null) {\r\n                // p is last node\r\n                if (p.casNext(null, newNode)) {\r\n                    // Successful CAS is the linearization point\r\n                    // for e to become an element of this queue,\r\n                    // and for newNode to become &quot;live&quot;.\r\n                    if (p != t) // hop two nodes at a time\r\n                        casTail(t, newNode);  // Failure is OK.\r\n                    return true;\r\n                }\r\n                // Lost CAS race to another thread; re-read next\r\n            }\r\n            else if (p == q)\r\n                // We have fallen off list.  If tail is unchanged, it\r\n                // will also be off-list, in which case we need to\r\n                // jump to head, from which all live nodes are always\r\n                // reachable.  Else the new tail is a better bet.\r\n                p = (t != (t = tail)) ? t : head;\r\n            else\r\n                // Check for tail updates after two hops.\r\n                p = (p != t &amp;&amp; t != (t = tail)) ? t : q;\r\n        }\r\n    }\r\n","title":"What exactly UNSAFE.compareAndSwapObject does","body":"<p>I found UNSAFE.compareAndSwapObject very strange when reading the JDK ConcurrentLinkedQueue. (class CLQ is copy from ConcurrentLinkedQueue for easy debug...)</p>\n\n<p>When I offer the first item to ConcurrentLinkedQueue. </p>\n\n<ul>\n<li><p>before\n<code>\np.casNext(null, newNode)\n</code>\nhead==tail==p==t ref the same object, like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8dCO0.png\" rel=\"noreferrer\">https://i.stack.imgur.com/8dCO0.png</a></p></li>\n<li><p>step into casNext after\n<code>\nUNSAFE.compareAndSwapObject(this, nextOffset, cmp, val);\n</code></p>\n\n<p>p.next is ref to the newNode as expected, like this. </p>\n\n<p><a href=\"https://i.stack.imgur.com/mNtUN.png\" rel=\"noreferrer\">https://i.stack.imgur.com/mNtUN.png</a></p></li>\n<li><p>step out to offer</p>\n\n<p>Everything become strange... I can understand why p.next ref wound change to p, how head ref newNode automatically...</p>\n\n<p><a href=\"https://i.stack.imgur.com/Pvvcy.png\" rel=\"noreferrer\">https://i.stack.imgur.com/Pvvcy.png</a></p></li>\n</ul>\n\n<p>code: ConcurrentLinkedQueue.class offer()</p>\n\n<pre><code>public boolean offer(E e) {\n    checkNotNull(e);\n    final Node&lt;E&gt; newNode = new Node&lt;E&gt;(e);\n\n    for (Node&lt;E&gt; t = tail, p = t;;) {\n        Node&lt;E&gt; q = p.next;\n        if (q == null) {\n            // p is last node\n            if (p.casNext(null, newNode)) {\n                // Successful CAS is the linearization point\n                // for e to become an element of this queue,\n                // and for newNode to become \"live\".\n                if (p != t) // hop two nodes at a time\n                    casTail(t, newNode);  // Failure is OK.\n                return true;\n            }\n            // Lost CAS race to another thread; re-read next\n        }\n        else if (p == q)\n            // We have fallen off list.  If tail is unchanged, it\n            // will also be off-list, in which case we need to\n            // jump to head, from which all live nodes are always\n            // reachable.  Else the new tail is a better bet.\n            p = (t != (t = tail)) ? t : head;\n        else\n            // Check for tail updates after two hops.\n            p = (p != t &amp;&amp; t != (t = tail)) ? t : q;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","h2","r2dbc","badsqlgrammarexception"],"comments":[{"owner":{"account_id":9572646,"reputation":1,"user_id":8195095,"display_name":"WarDen"},"score":0,"creation_date":1667380526,"post_id":74278128,"comment_id":131151267,"body_markdown":"The issue was in the different syntax of url patterns and I was not able to configure it for in-memory there the file database in the same root folder instead of in the homedir.\n\nsrc/test/resources/application-test.yaml\n```\nspring:\n  r2dbc:\n    url: r2dbc:h2:mem:///~/db/testdb\n    username: sa\n    password: password\n\n  liquibase:\n    url: jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1\n    user: sa\n    password: password\n    enabled: true\n    contexts: &quot;test&quot;\n```\n\nhttps://stackoverflow.com/questions/64355106/setup-h2-in-spring-boot-application-with-r2dbc-and-flyway","body":"The issue was in the different syntax of url patterns and I was not able to configure it for in-memory there the file database in the same root folder instead of in the homedir.  src/test/resources/application-test.yaml ``` spring:   r2dbc:     url: r2dbc:h2:mem:///~/db/testdb     username: sa     password: password    liquibase:     url: jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1     user: sa     password: password     enabled: true     contexts: &quot;test&quot; ```  <a href=\"https://stackoverflow.com/questions/64355106/setup-h2-in-spring-boot-application-with-r2dbc-and-flyway\" title=\"setup h2 in spring boot application with r2dbc and flyway\">stackoverflow.com/questions/64355106/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249269,"creation_date":1668244612,"answer_id":74411708,"question_id":74278128,"body_markdown":"1. Currently(Spring Boot 2.7.x) it seems we can not activate flyway/liquibase in a Spring Boot WebFlux application,the Jdbc datasource auto configuration can not be activated. (both flyway/liquibase are based on blocking Jdbc APIs, these projects have no plan to support R2dbc till now). \r\n   \r\n   And in a traditional blocking-APIs based WebMvc application, WebFlux/Reactive compatible R2dbc can not be activated by default unless you excludes auto configs, and configure them yourself.\r\n   \r\n   In your case, I think you have mixed both(WebMvc and WebFlux) in one project, but from the message, the webflux should not be activated. But I am not sure how you configured your project, I noticed the liquibase and r2dbc logs.\r\n\r\n2. When activating a R2dbc connection in a WebFlux application, the auto configuration properties prefix is `spring.r2dbc`, for example, `spring.r2dbc.url`,etc, [here is an example](https://github.com/hantsy/spring-r2dbc-sample/blob/master/r2dbc-migrate/src/main/resources/application.properties#L1-L3).\r\n3. As an alternative solution of Flyway/Liquibase, consider [R2dbc Migrate](https://github.com/nkonev/r2dbc-migrate) in a WebFlux application, which follows the same file patterns of Flyway. Check [my WebFlux/R2dbc example project using r2dbc-migrate](https://github.com/hantsy/spring-r2dbc-sample/tree/master/r2dbc-migrate).","title":"r2dbc.BadSqlGrammarException: Table not found","body":"<ol>\n<li><p>Currently(Spring Boot 2.7.x) it seems we can not activate flyway/liquibase in a Spring Boot WebFlux application,the Jdbc datasource auto configuration can not be activated. (both flyway/liquibase are based on blocking Jdbc APIs, these projects have no plan to support R2dbc till now).</p>\n<p>And in a traditional blocking-APIs based WebMvc application, WebFlux/Reactive compatible R2dbc can not be activated by default unless you excludes auto configs, and configure them yourself.</p>\n<p>In your case, I think you have mixed both(WebMvc and WebFlux) in one project, but from the message, the webflux should not be activated. But I am not sure how you configured your project, I noticed the liquibase and r2dbc logs.</p>\n</li>\n<li><p>When activating a R2dbc connection in a WebFlux application, the auto configuration properties prefix is <code>spring.r2dbc</code>, for example, <code>spring.r2dbc.url</code>,etc, <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/r2dbc-migrate/src/main/resources/application.properties#L1-L3\" rel=\"nofollow noreferrer\">here is an example</a>.</p>\n</li>\n<li><p>As an alternative solution of Flyway/Liquibase, consider <a href=\"https://github.com/nkonev/r2dbc-migrate\" rel=\"nofollow noreferrer\">R2dbc Migrate</a> in a WebFlux application, which follows the same file patterns of Flyway. Check <a href=\"https://github.com/hantsy/spring-r2dbc-sample/tree/master/r2dbc-migrate\" rel=\"nofollow noreferrer\">my WebFlux/R2dbc example project using r2dbc-migrate</a>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9572646,"reputation":1,"user_id":8195095,"display_name":"WarDen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668249269,"creation_date":1667316236,"question_id":74278128,"body_markdown":"I write an integraton test betwen **EventRepository and a H2 database.**  \r\nI use for these liquibase.\r\nI&#39;m trying to get data from a test H2 database, but I&#39;m getting an error that it&#39;s empty.\r\n**If you do not use liquidbase, but simply put the scripts in src/test/resources, then everything works fine!!!! Why?**\r\n\r\napplication-test.yaml\r\n\\`\r\n\r\n```\r\nspring:\r\n  h2:\r\n    console:\r\n      enabled: true\r\n  datasource:\r\n    url: r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;\r\n    username: sa\r\n    password: password\r\n    driver-class-name: org.h2.Driver\r\n  liquibase:\r\n    url: jdbc:h2:mem:///testdb\r\n    user: sa\r\n    password: password\r\n    change-log: classpath:db.changelog/db.changelog-master.yaml\r\n    enabled: true\r\n```\r\n\r\n**EventRepository.java**\r\n\r\n```\r\npublic interface EventRepository extends R2dbcRepository&lt;Event, Long&gt; {}\r\n```\r\n\r\n**EventRepositoryTest**\r\n\r\n```\r\n@DataR2dbcTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass EventRepositoryTest {\r\n\r\n  @Autowired\r\n  private EventRepository eventRepository;\r\n\r\n  @Test\r\n  @DisplayName(&quot;when find all when receive expected event&quot;)\r\n  void findAll(){\r\n    Flux&lt;Event&gt; events = eventRepository.findAll();\r\n    events.doOnNext(e -&gt; System.out.println(&quot;events received &quot; + e)).blockLast();\r\n  }\r\n}\r\n```\r\n\r\n**db.changelog-master.yaml**\r\n**\\`**\r\n\r\n```\r\ndatabaseChangeLog:\r\n  - include:\r\n      file: db.changelog/db.changelog-1.0.sql\r\n```\r\n\r\n**db.changelog-1.0.sql** \r\n\r\n```\r\n--liquibase formatted sql\r\n\r\n--changeset deniskaydunov:1\r\nCREATE TABLE IF NOT EXISTS public.event\r\n(\r\n    seq SERIAL PRIMARY KEY,\r\n    type VARCHAR (32) NOT NULL,\r\n    id VARCHAR (32) NOT NULL,\r\n    received TIMESTAMP NOT NULL\r\n);\r\n\r\n--changeset deniskaydunov:2 contextFilter:test\r\nINSERT INTO public.event (type, id, received, data) VALUES\r\n(&#39;IRS&#39;, &#39;123&#39;, &#39;2018-02-05 11:59:19&#39;);\r\n```\r\n\r\n**LOG:**\r\n\r\n```\r\n2022-11-01 17:53:29.004  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Starting EventRepositoryTest using Java 19 on LXIBY1300 with PID 13320 (started by denis.kaydunov in C:\\\\Users\\\\denis.kaydunov\\\\IdeaProjects\\\\axetrade\\\\event-api)\r\n\r\n2022-11-01 17:53:29.005  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : The following 1 profile is active: &quot;test&quot;\r\n\r\n2022-11-01 17:53:29.259  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n\r\n2022-11-01 17:53:29.260  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n\r\n2022-11-01 17:53:29.427  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 1 R2DBC repository interfaces.\r\n\r\n2022-11-01 17:53:30.353  INFO 13320 --- \\[           main\\] liquibase.database                       : Set default schema name to PUBLIC\r\n\r\n2022-11-01 17:53:30.566  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully acquired change log lock\r\n\r\n2022-11-01 17:53:30.625  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG\r\n\r\n2022-11-01 17:53:30.629  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG\r\n\r\nRunning Changeset: db.changelog/db.changelog-1.0.sql::1::deniskaydunov\r\n\r\n2022-11-01 17:53:30.676  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\r\n\r\n2022-11-01 17:53:30.677  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::1::deniskaydunov ran successfully in 13ms\r\n\r\nRunning Changeset: db.changelog/db.changelog-1.0.sql::2::deniskaydunov\r\n\r\n2022-11-01 17:53:30.713  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\r\n\r\n2022-11-01 17:53:30.714  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::2::deniskaydunov ran successfully in 9ms\r\n\r\n2022-11-01 17:53:30.719  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully released change log lock\r\n\r\n2022-11-01 17:53:30.799  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Started EventRepositoryTest in 2.202 seconds (JVM running for 3.193)\r\n\r\n2022-11-01 17:53:31.305 DEBUG 13320 --- \\[           main\\] o.s.r2dbc.core.DefaultDatabaseClient     : Executing SQL statement \\[SELECT event.\\* FROM event\\]\r\n\r\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar \\[SELECT event.\\* FROM event\\]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: \\[42104\\] \\[42S04\\] Table &quot;EVENT&quot; not found (this database is empty); SQL statement:\r\n\r\nSELECT event.\\* FROM event \\[42104-214\\]\r\n```\r\n[enter image description here][1]\r\nI expect to receive an event, but table not found, what am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9HpU.png","title":"r2dbc.BadSqlGrammarException: Table not found","body":"<p>I write an integraton test betwen <strong>EventRepository and a H2 database.</strong><br />\nI use for these liquibase.\nI'm trying to get data from a test H2 database, but I'm getting an error that it's empty.\n<strong>If you do not use liquidbase, but simply put the scripts in src/test/resources, then everything works fine!!!! Why?</strong></p>\n<p>application-test.yaml\n`</p>\n<pre><code>spring:\n  h2:\n    console:\n      enabled: true\n  datasource:\n    url: r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;\n    username: sa\n    password: password\n    driver-class-name: org.h2.Driver\n  liquibase:\n    url: jdbc:h2:mem:///testdb\n    user: sa\n    password: password\n    change-log: classpath:db.changelog/db.changelog-master.yaml\n    enabled: true\n</code></pre>\n<p><strong>EventRepository.java</strong></p>\n<pre><code>public interface EventRepository extends R2dbcRepository&lt;Event, Long&gt; {}\n</code></pre>\n<p><strong>EventRepositoryTest</strong></p>\n<pre><code>@DataR2dbcTest\n@ActiveProfiles(&quot;test&quot;)\nclass EventRepositoryTest {\n\n  @Autowired\n  private EventRepository eventRepository;\n\n  @Test\n  @DisplayName(&quot;when find all when receive expected event&quot;)\n  void findAll(){\n    Flux&lt;Event&gt; events = eventRepository.findAll();\n    events.doOnNext(e -&gt; System.out.println(&quot;events received &quot; + e)).blockLast();\n  }\n}\n</code></pre>\n<p><strong>db.changelog-master.yaml</strong>\n<strong>`</strong></p>\n<pre><code>databaseChangeLog:\n  - include:\n      file: db.changelog/db.changelog-1.0.sql\n</code></pre>\n<p><strong>db.changelog-1.0.sql</strong></p>\n<pre><code>--liquibase formatted sql\n\n--changeset deniskaydunov:1\nCREATE TABLE IF NOT EXISTS public.event\n(\n    seq SERIAL PRIMARY KEY,\n    type VARCHAR (32) NOT NULL,\n    id VARCHAR (32) NOT NULL,\n    received TIMESTAMP NOT NULL\n);\n\n--changeset deniskaydunov:2 contextFilter:test\nINSERT INTO public.event (type, id, received, data) VALUES\n('IRS', '123', '2018-02-05 11:59:19');\n</code></pre>\n<p><strong>LOG:</strong></p>\n<pre><code>2022-11-01 17:53:29.004  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Starting EventRepositoryTest using Java 19 on LXIBY1300 with PID 13320 (started by denis.kaydunov in C:\\\\Users\\\\denis.kaydunov\\\\IdeaProjects\\\\axetrade\\\\event-api)\n\n2022-11-01 17:53:29.005  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : The following 1 profile is active: &quot;test&quot;\n\n2022-11-01 17:53:29.259  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n\n2022-11-01 17:53:29.260  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n\n2022-11-01 17:53:29.427  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 1 R2DBC repository interfaces.\n\n2022-11-01 17:53:30.353  INFO 13320 --- \\[           main\\] liquibase.database                       : Set default schema name to PUBLIC\n\n2022-11-01 17:53:30.566  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully acquired change log lock\n\n2022-11-01 17:53:30.625  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG\n\n2022-11-01 17:53:30.629  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG\n\nRunning Changeset: db.changelog/db.changelog-1.0.sql::1::deniskaydunov\n\n2022-11-01 17:53:30.676  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\n\n2022-11-01 17:53:30.677  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::1::deniskaydunov ran successfully in 13ms\n\nRunning Changeset: db.changelog/db.changelog-1.0.sql::2::deniskaydunov\n\n2022-11-01 17:53:30.713  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\n\n2022-11-01 17:53:30.714  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::2::deniskaydunov ran successfully in 9ms\n\n2022-11-01 17:53:30.719  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully released change log lock\n\n2022-11-01 17:53:30.799  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Started EventRepositoryTest in 2.202 seconds (JVM running for 3.193)\n\n2022-11-01 17:53:31.305 DEBUG 13320 --- \\[           main\\] o.s.r2dbc.core.DefaultDatabaseClient     : Executing SQL statement \\[SELECT event.\\* FROM event\\]\n\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar \\[SELECT event.\\* FROM event\\]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: \\[42104\\] \\[42S04\\] Table &quot;EVENT&quot; not found (this database is empty); SQL statement:\n\nSELECT event.\\* FROM event \\[42104-214\\]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/l9HpU.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI expect to receive an event, but table not found, what am I doing wrong?</p>\n"},{"tags":["java","while-loop","floating-point","integer","processing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1668179868,"post_id":74404562,"comment_id":131350178,"body_markdown":"Code is text. Please post it as text, not as pictures.","body":"Code is text. Please post it as text, not as pictures."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1668179875,"post_id":74404562,"comment_id":131350183,"body_markdown":"Does this answer your question? [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":2,"creation_date":1668179875,"post_id":74404562,"comment_id":131350182,"body_markdown":"See [Discourage screenshots of code and/or errors](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code in the question.","body":"See <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">Discourage screenshots of code and/or errors</a>. Paste the code in the question."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1668179962,"post_id":74404562,"comment_id":131350219,"body_markdown":"By the way `2 &lt; 2` is false. You&#39;ll never get to 2.","body":"By the way <code>2 &lt; 2</code> is false. You&#39;ll never get to 2."},{"owner":{"account_id":1249654,"reputation":159470,"user_id":1210329,"display_name":"geocodezip"},"score":1,"creation_date":1668181165,"post_id":74404562,"comment_id":131350623,"body_markdown":"`println( String.format(&quot;%.2f&quot;, height01) + &quot; , &quot; + BMI );`","body":"<code>println( String.format(&quot;%.2f&quot;, height01) + &quot; , &quot; + BMI );</code>"}],"answers":[{"comments":[{"owner":{"account_id":18953445,"reputation":23,"user_id":13830594,"display_name":"fireandwater17"},"score":0,"creation_date":1668180294,"post_id":74404631,"comment_id":131350323,"body_markdown":"Thanks for your reply, unfortunately this just does the same thing.","body":"Thanks for your reply, unfortunately this just does the same thing."}],"tags":[],"owner":{"account_id":23960824,"reputation":1,"user_id":17950927,"display_name":"jtryon"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668180052,"creation_date":1668180052,"answer_id":74404631,"question_id":74404562,"body_markdown":"Try using the &lt;= operator in your while loop.\r\n\r\n```\r\nwhile(height01 &lt;= height02) {\r\n...\r\n}\r\n```\r\n\r\nAs you have it, your loop stops *before* it reaches 2.0, you want it to actually reach that value first, before it stops.","title":"While loop not stopping at float 2.00","body":"<p>Try using the &lt;= operator in your while loop.</p>\n<pre><code>while(height01 &lt;= height02) {\n...\n}\n</code></pre>\n<p>As you have it, your loop stops <em>before</em> it reaches 2.0, you want it to actually reach that value first, before it stops.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668181533,"creation_date":1668181533,"answer_id":74404941,"question_id":74404562,"body_markdown":"There are many ways to deal with the lack of precision introduced by floating-point operations. One that may serve you well here is upscaling your float into the domain of integers, such that you can perform most calculations with said integer. For displaying the result, you can _then_ divide and round, to provide a more consistently accurate variable:\r\n\r\n    float weight = 60 ;\r\n    int height01 = 120 ; //scaled by 100\r\n    int height02 = 200 ; //scaled by 100 (think centimeters!)\r\n\r\n    while( height01 &lt; height02 ) {\r\n        //100*100 in denominator, multiply numerator by 10000\r\n        float BMI = ( (weight * 10000) / (height01 * height01) ) ;\r\n        //scale our integer into a float (100F == (float) 100.0)\r\n        println( (height01 / 100F) + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + 2 ;\r\n    }\r\n\r\nThere are also many alternative solutions like using `BigDecimal#scale`, upscaling your float after calculations into an int and back, or perhaps even using `double` instead of `float` here (since it has _double_ precision). However, the main takeaway is that floating-point arithmetic is accurate, but not perfectly precise. You will end up having to deal with thresholds or small tricks at times to make the output what you desire.\r\n\r\n@geocodezip posted an even further solution that merits pointing out specifically:\r\n\r\n    String.format(&quot;%.2f&quot;, height01)\r\n\r\nThis will not truncate the decimal place, but will in fact round it. This may be suitable for your needs as a drop-in replacement as well.","title":"While loop not stopping at float 2.00","body":"<p>There are many ways to deal with the lack of precision introduced by floating-point operations. One that may serve you well here is upscaling your float into the domain of integers, such that you can perform most calculations with said integer. For displaying the result, you can <em>then</em> divide and round, to provide a more consistently accurate variable:</p>\n<pre><code>float weight = 60 ;\nint height01 = 120 ; //scaled by 100\nint height02 = 200 ; //scaled by 100 (think centimeters!)\n\nwhile( height01 &lt; height02 ) {\n    //100*100 in denominator, multiply numerator by 10000\n    float BMI = ( (weight * 10000) / (height01 * height01) ) ;\n    //scale our integer into a float (100F == (float) 100.0)\n    println( (height01 / 100F) + &quot; , &quot; + BMI ) ;\n    height01 = height01 + 2 ;\n}\n</code></pre>\n<p>There are also many alternative solutions like using <code>BigDecimal#scale</code>, upscaling your float after calculations into an int and back, or perhaps even using <code>double</code> instead of <code>float</code> here (since it has <em>double</em> precision). However, the main takeaway is that floating-point arithmetic is accurate, but not perfectly precise. You will end up having to deal with thresholds or small tricks at times to make the output what you desire.</p>\n<p>@geocodezip posted an even further solution that merits pointing out specifically:</p>\n<pre><code>String.format(&quot;%.2f&quot;, height01)\n</code></pre>\n<p>This will not truncate the decimal place, but will in fact round it. This may be suitable for your needs as a drop-in replacement as well.</p>\n"},{"tags":[],"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668185943,"creation_date":1668185251,"answer_id":74405713,"question_id":74404562,"body_markdown":"Answer from a C point-of-view which applies to this Java post.\r\n\r\nA 32-bit `float` can exactly encode about 2&lt;sup&gt;32&lt;/sup&gt; different values.  1.20 is **not** one of them.  Finite `float` values are always a [dyadic rational](https://en.wikipedia.org/wiki/Dyadic_rational), some integer times a power of 2.  \r\nWith `float height01 = 1.20 ;`, `height01` has a nearby value of 1.2000000476837158203125\r\n\r\nAdding 1.2000000476837158203125 often incurs a rounded sum.  That sum is never 2.0.\r\n\r\n    1.2000000476837158203125000\r\n    1.2200000286102294921875000\r\n    1.2400000095367431640625000\r\n    ...\r\n    1.9799993038177490234375000\r\n    1.9999992847442626953125000\r\n    2.0199992656707763671875000\r\n\r\n---\r\n\r\nTo fix, \r\n\r\nUse an integer loop count:\r\n\r\n    float weight = 60.0f;\r\n    float height01 = 1.20f;\r\n    float height02 = 2.00f;\r\n    float delta = 0.02f;\r\n    long n = lround((height02 - height01)/delta);\r\n    \r\n    // iterate 0,1,2, ... n\r\n    for (long i = 0; i &lt;= n; i++) {\r\n        float BMI = ( weight / (height01 * height01) ) ;\r\n        println( height01 + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + delta;\r\n    }\r\n\r\nOr add tolerance to the limit detection of 1/2 the step\r\n\r\n    float weight = 60.0f ;\r\n    float height01 = 1.20f;\r\n    float height02 = 2.00f;\r\n    float delta = 0.02f;\r\n    float height02plus = height02 + delta/2;\r\n    \r\n    while( height01 &lt;= height02plus) {\r\n        float BMI = ( weight / (height01 * height01) ) ;\r\n        println( height01 + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + delta;\r\n    }\r\n\r\n----\r\n\r\nUse `f` suffix for `float` constants.  It makes a [difference](https://stackoverflow.com/q/66631288/2410359).\r\n\r\n\r\n---\r\n\r\nNote: [BMI is higher for taller individuals than shorter ones with the same body fat ratio.](https://blogs.umb.edu/mccormack-speaks/2018/01/01/i-am-not-a-cardboard-cutout-the-bias-of-body-mass-index-bmi/).","title":"While loop not stopping at float 2.00","body":"<p>Answer from a C point-of-view which applies to this Java post.</p>\n<p>A 32-bit <code>float</code> can exactly encode about 2<sup>32</sup> different values.  1.20 is <strong>not</strong> one of them.  Finite <code>float</code> values are always a <a href=\"https://en.wikipedia.org/wiki/Dyadic_rational\" rel=\"nofollow noreferrer\">dyadic rational</a>, some integer times a power of 2.<br />\nWith <code>float height01 = 1.20 ;</code>, <code>height01</code> has a nearby value of 1.2000000476837158203125</p>\n<p>Adding 1.2000000476837158203125 often incurs a rounded sum.  That sum is never 2.0.</p>\n<pre><code>1.2000000476837158203125000\n1.2200000286102294921875000\n1.2400000095367431640625000\n...\n1.9799993038177490234375000\n1.9999992847442626953125000\n2.0199992656707763671875000\n</code></pre>\n<hr />\n<p>To fix,</p>\n<p>Use an integer loop count:</p>\n<pre><code>float weight = 60.0f;\nfloat height01 = 1.20f;\nfloat height02 = 2.00f;\nfloat delta = 0.02f;\nlong n = lround((height02 - height01)/delta);\n\n// iterate 0,1,2, ... n\nfor (long i = 0; i &lt;= n; i++) {\n    float BMI = ( weight / (height01 * height01) ) ;\n    println( height01 + &quot; , &quot; + BMI ) ;\n    height01 = height01 + delta;\n}\n</code></pre>\n<p>Or add tolerance to the limit detection of 1/2 the step</p>\n<pre><code>float weight = 60.0f ;\nfloat height01 = 1.20f;\nfloat height02 = 2.00f;\nfloat delta = 0.02f;\nfloat height02plus = height02 + delta/2;\n\nwhile( height01 &lt;= height02plus) {\n    float BMI = ( weight / (height01 * height01) ) ;\n    println( height01 + &quot; , &quot; + BMI ) ;\n    height01 = height01 + delta;\n}\n</code></pre>\n<hr />\n<p>Use <code>f</code> suffix for <code>float</code> constants.  It makes a <a href=\"https://stackoverflow.com/q/66631288/2410359\">difference</a>.</p>\n<hr />\n<p>Note: <a href=\"https://blogs.umb.edu/mccormack-speaks/2018/01/01/i-am-not-a-cardboard-cutout-the-bias-of-body-mass-index-bmi/\" rel=\"nofollow noreferrer\">BMI is higher for taller individuals than shorter ones with the same body fat ratio.</a>.</p>\n"},{"comments":[{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1671296669,"post_id":74412124,"comment_id":132071019,"body_markdown":"In general, `while(height01 &lt;= height02){` is not a sufficient test.  Try `float height01 = 1.3; ... height01 = height01 + 0.07;`.  Loop stops earlier than desired.  What would work more often  is `float delta = 0.07; while(height01 &lt;= height02 + delta/2){ ... height01 = height01 + delta;`","body":"In general, <code>while(height01 &lt;= height02){</code> is not a sufficient test.  Try <code>float height01 = 1.3; ... height01 = height01 + 0.07;</code>.  Loop stops earlier than desired.  What would work more often  is <code>float delta = 0.07; while(height01 &lt;= height02 + delta&#47;2){ ... height01 = height01 + delta;</code>"}],"tags":[],"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249212,"creation_date":1668249212,"answer_id":74412124,"question_id":74404562,"body_markdown":"To clarify, I am presuming by &quot;println table reads 2.00 15.000010&quot; the OP actually meant &quot;***last println* reads 2.00 15.000010**&quot;.\r\n\r\nTo accomplish this, **change &quot;&lt;&quot; to &quot;&lt;=&quot; and change the precision**.  Here it is in c (sorry, I hate java):\r\n\r\n    Mac_3.2.57$cat floatPlayground1.c\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int main(void){\r\n        float weight = 60;\r\n        float height01 = 1.20;\r\n        float height02 = 2.00;\r\n    \r\n        while(height01 &lt;= height02){\r\n            float BMI = (weight/(height01 * height01));\r\n            printf(&quot;%10.2f, %10.6fi\\n&quot;, height01, BMI);\r\n            height01 = height01 + 0.02;\r\n        }\r\n    \r\n        return(0);\r\n    }\r\n    Mac_3.2.57$cc floatPlayground1.c\r\n    Mac_3.2.57$./a.out \r\n          1.20,  41.666664\r\n          1.22,  40.311741\r\n          1.24,  39.021851\r\n    ...\r\n          1.96,  15.618504\r\n          1.98,  15.304571\r\n          2.00,  15.000010\r\n    Mac_3.2.57$\r\n\r\n   ","title":"While loop not stopping at float 2.00","body":"<p>To clarify, I am presuming by &quot;println table reads 2.00 15.000010&quot; the OP actually meant &quot;<strong><em>last println</em> reads 2.00 15.000010</strong>&quot;.</p>\n<p>To accomplish this, <strong>change &quot;&lt;&quot; to &quot;&lt;=&quot; and change the precision</strong>.  Here it is in c (sorry, I hate java):</p>\n<pre><code>Mac_3.2.57$cat floatPlayground1.c\n#include &lt;stdio.h&gt;\n\nint main(void){\n    float weight = 60;\n    float height01 = 1.20;\n    float height02 = 2.00;\n\n    while(height01 &lt;= height02){\n        float BMI = (weight/(height01 * height01));\n        printf(&quot;%10.2f, %10.6fi\\n&quot;, height01, BMI);\n        height01 = height01 + 0.02;\n    }\n\n    return(0);\n}\nMac_3.2.57$cc floatPlayground1.c\nMac_3.2.57$./a.out \n      1.20,  41.666664\n      1.22,  40.311741\n      1.24,  39.021851\n...\n      1.96,  15.618504\n      1.98,  15.304571\n      2.00,  15.000010\nMac_3.2.57$\n</code></pre>\n"}],"owner":{"account_id":18953445,"reputation":23,"user_id":13830594,"display_name":"fireandwater17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74405713,"answer_count":4,"score":0,"last_activity_date":1668249212,"creation_date":1668179738,"question_id":74404562,"body_markdown":"I&#39;m a beginner trying to get this while loop so that the println table reads 2.00 15.000010, however it consistently stops on 1.9999993.\r\n\r\n    float weight = 60 ;\r\n    float height01 = 1.20 ;\r\n    float height02 = 2.00 ;\r\n\r\n    while( height01 &lt; height02 ) {\r\n        float BMI = ( weight / (height01 * height01) ) ;\r\n        println( height01 + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + 0.02 ;\r\n    }\r\n\r\nThe output reads:\r\n\r\n    1.9999993 , 15.0000105\r\n\r\nI&#39;ve tried using Math.round(height01) in order to convert the float to an int but this seems to do absolutely nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9JUiP.png\r\n  [2]: https://i.stack.imgur.com/9i9Ub.png","title":"While loop not stopping at float 2.00","body":"<p>I'm a beginner trying to get this while loop so that the println table reads 2.00 15.000010, however it consistently stops on 1.9999993.</p>\n<pre><code>float weight = 60 ;\nfloat height01 = 1.20 ;\nfloat height02 = 2.00 ;\n\nwhile( height01 &lt; height02 ) {\n    float BMI = ( weight / (height01 * height01) ) ;\n    println( height01 + &quot; , &quot; + BMI ) ;\n    height01 = height01 + 0.02 ;\n}\n</code></pre>\n<p>The output reads:</p>\n<pre><code>1.9999993 , 15.0000105\n</code></pre>\n<p>I've tried using Math.round(height01) in order to convert the float to an int but this seems to do absolutely nothing.</p>\n"},{"tags":["java","spring-boot","javafx","spring-data-jpa","autowired"],"comments":[{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1668248247,"post_id":74411947,"comment_id":131362593,"body_markdown":"I already have rest applications working only with spring boot and they work fine, but in this case I want JavaFX as well","body":"I already have rest applications working only with spring boot and they work fine, but in this case I want JavaFX as well"},{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1668248428,"post_id":74411947,"comment_id":131362632,"body_markdown":"Your opinion, as any other opinion has my respect. I&#39;m just trying to give as much information about my problema as possible.","body":"Your opinion, as any other opinion has my respect. I&#39;m just trying to give as much information about my problema as possible."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668248996,"post_id":74411947,"comment_id":131362727,"body_markdown":"Related question on [JavaFX and Spring](https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service/57896435#57896435).","body":"Related question on <a href=\"https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service/57896435#57896435\">JavaFX and Spring</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1668249506,"post_id":74411947,"comment_id":131362798,"body_markdown":"I don’t see a reason to use Servlets and Spring Web or Rest here, you don’t need that to use a repository.  I’d also remove the Lombok dependency.  Lombok doesn’t interoperate well with JavaFX properties, among other reasons not to use it.  You aren’t hooking the spring context into your JavaFX app at all, so the two things won’t be aware of each other.  Create a [mcve] hello world  JavaFX + spring, then spring + repository, then spring + JavaFX + repository.  Build slowly from scratch and test each addition.","body":"I don’t see a reason to use Servlets and Spring Web or Rest here, you don’t need that to use a repository.  I’d also remove the Lombok dependency.  Lombok doesn’t interoperate well with JavaFX properties, among other reasons not to use it.  You aren’t hooking the spring context into your JavaFX app at all, so the two things won’t be aware of each other.  Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> hello world  JavaFX + spring, then spring + repository, then spring + JavaFX + repository.  Build slowly from scratch and test each addition."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668249850,"post_id":74411947,"comment_id":131362853,"body_markdown":"Don’t call new on Spring components like the Service class.  These need to be created and injected by Spring.","body":"Don’t call new on Spring components like the Service class.  These need to be created and injected by Spring."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668249929,"post_id":74411947,"comment_id":131362867,"body_markdown":"Don’t make a JavaFX application a controller, maintain separation of concerns.","body":"Don’t make a JavaFX application a controller, maintain separation of concerns."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668250266,"post_id":74411947,"comment_id":131362914,"body_markdown":"See this [spring data tutorial](https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa). it shows you some of the config and dependencies you need and how to declare a repository interface, there is no need for a repository impl.","body":"See this <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">spring data tutorial</a>. it shows you some of the config and dependencies you need and how to declare a repository interface, there is no need for a repository impl."},{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1668255531,"post_id":74411947,"comment_id":131363896,"body_markdown":"@jewelsea The reason I called the Service by usint ght eocnstructor is because I was having the same problema I have now, but with the Service instead of the repo. However, I could use the constructor on the service because it&#39;s a class but not on the Repo because it&#39;s an interface.","body":"@jewelsea The reason I called the Service by usint ght eocnstructor is because I was having the same problema I have now, but with the Service instead of the repo. However, I could use the constructor on the service because it&#39;s a class but not on the Repo because it&#39;s an interface."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668277807,"post_id":74411947,"comment_id":131368293,"body_markdown":"But it is an auto wired service.  If you call new on it rather than using a spring created object and injected reference, Spring cannot auto wire it and any auto wired values it has will be null, which is exactly what is happening.","body":"But it is an auto wired service.  If you call new on it rather than using a spring created object and injected reference, Spring cannot auto wire it and any auto wired values it has will be null, which is exactly what is happening."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668285322,"post_id":74411947,"comment_id":131369792,"body_markdown":"Dependency injection (DI) only works when the object which has dependencies injected is managed by the DI framework. Your service must be managed by Spring, because it has &quot;autowired&quot; fields, which means you can&#39;t manually create an instance yourself. In other words, your service also needs to be autowired. This is a problem, because you have the service as part of the `Application` implementation, but JavaFX manages its own instance of that class (`launch` creates an instance of your application class for you, separate from whatever Spring does).","body":"Dependency injection (DI) only works when the object which has dependencies injected is managed by the DI framework. Your service must be managed by Spring, because it has &quot;autowired&quot; fields, which means you can&#39;t manually create an instance yourself. In other words, your service also needs to be autowired. This is a problem, because you have the service as part of the <code>Application</code> implementation, but JavaFX manages its own instance of that class (<code>launch</code> creates an instance of your application class for you, separate from whatever Spring does)."}],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668249017,"creation_date":1668247042,"question_id":74411947,"body_markdown":"I&#39;m building a project where I&#39;m using Spring Boot and JavaFX. In the main scene I push a button that calls a method in a service and this one calls a method in the repository, but I&#39;m getting an error saying the repository is null.\r\n\r\nI have read a lot of answer because there are a lot of posts describing the same problem and tried everything I found but can&#39;t get it to work. \r\n\r\nPlease can you help me?\r\n\r\nHere is the error:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.lista.project.repository.AlimentoRepository.findAll()&quot; because &quot;this.alimentoRepository&quot; is null\r\n\tat com.lista.project.service.AlimentoService.getAll(AlimentoService.java:19)\r\n\tat com.lista.project.controller.MainController.getAllAlimentos(MainController.java:48)\r\n\t... 57 more\r\n\r\n\r\nHere is the structure of the project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the Application class:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    @EnableJpaRepositories(basePackages = {&quot;com.lista.project.repository&quot;, &quot;com.lista.project.repository.custom&quot;})\r\n    //@EnableTransactionManagement\r\n    @EntityScan(basePackages = {&quot;com.lista.project.*&quot;})\r\n    @ComponentScan(basePackages = {&quot;com.lista.project.*&quot;})\r\n    public class MiListaCompraApplication extends SpringBootServletInitializer{\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MiListaCompraApplication.class, args);\r\n    \t\tMainController.main(args);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(MiListaCompraApplication.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the main scene controller:\r\n\r\n    @RestController // Don&#39;t think I really need this annotation\r\n    public class MainController extends Application {\r\n    \r\n    \tAlimentoService alimentoService = new AlimentoService();\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/com/lista/project/scene/Main.fxml&quot;));\r\n    \t\t\t\r\n    \t\t\t//First I was defining the controller in the Main.fxml file, but tried to change into this as I read somewhere\r\n    \t\t\tloader.setController(this);\t\r\n    \t\t\tParent parent = loader.load();\r\n    \t\t\t\r\n    \t\t\tScene scene = new Scene(parent,400,400);\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.setTitle(&quot;Mi lista de la compra&quot;);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t\t\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Alimento&gt; getAllAlimentos() {\r\n    \t\t\r\n    \t\tList&lt;Alimento&gt; response = alimentoService.getAll();\r\n    \t\tSystem.out.println(&quot;Bien!&quot;);\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nHere is the service:\r\n\r\n    @Service\r\n    public class AlimentoService {\r\n    \r\n    \t@Autowired\r\n    \tprivate AlimentoRepository alimentoRepository;\r\n    \t\r\n    \t\r\n    \tpublic List&lt;Alimento&gt; getAll() {\r\n    \t\treturn alimentoRepository.findAll(); \r\n    \t}\r\n    }\r\n\r\nHere is the Repository:\r\n\r\n    @Component //Don&#39;t think I need this annotation, but also tried @Repository just in case\r\n    public interface AlimentoRepository extends AlimentoRepositoryI, JpaRepository&lt;Alimento, Integer&gt; {\r\n    \r\n    }\r\n\r\nMore parts of the same repository:\r\n\r\n    @Component //Don&#39;t think I need this annotation, but also tried @Repository just in case\r\n    public interface AlimentoRepositoryI {\r\n    \r\n    }\r\n\r\n    @Component //Here is where I actually have to put the annotation, right? (Tried @Repository too)\r\n    public class AlimentoRepositoryImpl implements AlimentoRepositoryI {\r\n    \r\n    }\r\n\r\nMy entity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;alimento&quot;)\r\n    public class Alimento {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate int id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;name&quot;, length = 100, nullable = false)\r\n    \tprivate String name;\r\n    }\r\n\r\nThe FXML file:\r\n\r\n    &lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n       \t\t&lt;!-- Initially, the controller was defined here --&gt;\r\n          &lt;Button fx:id=&quot;btnAlimentos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;26.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getAllAlimentos&quot; text=&quot;Alimentos&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnPlatos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;75.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;70.0&quot; text=&quot;Platos&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nProperties file:\r\n\r\n    server.port=8090\r\n    server.servlet.context-path=\r\n    \r\n    spring.jmx.enabled= false\r\n    spring.jpa.open-in-view=false\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n    spring.jpa.properties.hibernate.format_sql=false\r\n    spring.jpa.show-sql=false\r\n    \r\n    spring.datasource.url = jdbc:mysql://localhost:3306/mimenu?useSSL=false&amp;useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    #spring.main.web-application-type=none\r\n    \r\n    logging.level.org.hibernate.sql= error\r\n            \r\n    debug=true\r\n\r\nMy POM.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.lista&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MiListaCompra&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;MiListaCompra&lt;/name&gt;\r\n    \t&lt;description&gt;Generador de lista de la compra con JavaFX y SpringBoot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;!-- \t\t&lt;dependency&gt; --&gt;\r\n    &lt;!-- \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\r\n    &lt;!-- \t\t    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; --&gt;\r\n    &lt;!-- \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nBuild path:\r\n[![enter image description here][13]][13]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/yVilP.png\r\n  [13]: https://i.stack.imgur.com/YCkuU.png\r\n","title":"Sprinb Boot + JavaFX injected repository is null","body":"<p>I'm building a project where I'm using Spring Boot and JavaFX. In the main scene I push a button that calls a method in a service and this one calls a method in the repository, but I'm getting an error saying the repository is null.</p>\n<p>I have read a lot of answer because there are a lot of posts describing the same problem and tried everything I found but can't get it to work.</p>\n<p>Please can you help me?</p>\n<p>Here is the error:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\nat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\nat javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\nat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\nat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\nat javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\nat javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\nat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\nat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\nat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\nat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\nat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\nat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\nat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\nat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\nat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\nat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\nat jdk.internal.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\nat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\nat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n... 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.lista.project.repository.AlimentoRepository.findAll()&quot; because &quot;this.alimentoRepository&quot; is null\nat com.lista.project.service.AlimentoService.getAll(AlimentoService.java:19)\nat com.lista.project.controller.MainController.getAllAlimentos(MainController.java:48)\n... 57 more\n</code></pre>\n<p>Here is the structure of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/yVilP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yVilP.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Application class:</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@EnableJpaRepositories(basePackages = {&quot;com.lista.project.repository&quot;, &quot;com.lista.project.repository.custom&quot;})\n//@EnableTransactionManagement\n@EntityScan(basePackages = {&quot;com.lista.project.*&quot;})\n@ComponentScan(basePackages = {&quot;com.lista.project.*&quot;})\npublic class MiListaCompraApplication extends SpringBootServletInitializer{\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(MiListaCompraApplication.class, args);\n        MainController.main(args);\n    }\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(MiListaCompraApplication.class);\n    }\n\n}\n</code></pre>\n<p>Here is the main scene controller:</p>\n<pre><code>@RestController // Don't think I really need this annotation\npublic class MainController extends Application {\n\n    AlimentoService alimentoService = new AlimentoService();\n    \n    \n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            \n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/com/lista/project/scene/Main.fxml&quot;));\n            \n            //First I was defining the controller in the Main.fxml file, but tried to change into this as I read somewhere\n            loader.setController(this); \n            Parent parent = loader.load();\n            \n            Scene scene = new Scene(parent,400,400);\n            primaryStage.setScene(scene);\n            primaryStage.setTitle(&quot;Mi lista de la compra&quot;);\n            primaryStage.show();\n            \n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n    public List&lt;Alimento&gt; getAllAlimentos() {\n        \n        List&lt;Alimento&gt; response = alimentoService.getAll();\n        System.out.println(&quot;Bien!&quot;);\n        return response;\n    }\n}\n</code></pre>\n<p>Here is the service:</p>\n<pre><code>@Service\npublic class AlimentoService {\n\n    @Autowired\n    private AlimentoRepository alimentoRepository;\n    \n    \n    public List&lt;Alimento&gt; getAll() {\n        return alimentoRepository.findAll(); \n    }\n}\n</code></pre>\n<p>Here is the Repository:</p>\n<pre><code>@Component //Don't think I need this annotation, but also tried @Repository just in case\npublic interface AlimentoRepository extends AlimentoRepositoryI, JpaRepository&lt;Alimento, Integer&gt; {\n\n}\n</code></pre>\n<p>More parts of the same repository:</p>\n<pre><code>@Component //Don't think I need this annotation, but also tried @Repository just in case\npublic interface AlimentoRepositoryI {\n\n}\n\n@Component //Here is where I actually have to put the annotation, right? (Tried @Repository too)\npublic class AlimentoRepositoryImpl implements AlimentoRepositoryI {\n\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;alimento&quot;)\npublic class Alimento {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @NotNull\n    @Column(name = &quot;name&quot;, length = 100, nullable = false)\n    private String name;\n}\n</code></pre>\n<p>The FXML file:</p>\n<pre><code>&lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n        &lt;!-- Initially, the controller was defined here --&gt;\n      &lt;Button fx:id=&quot;btnAlimentos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;26.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getAllAlimentos&quot; text=&quot;Alimentos&quot; /&gt;\n      &lt;Button fx:id=&quot;btnPlatos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;75.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;70.0&quot; text=&quot;Platos&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Properties file:</p>\n<pre><code>server.port=8090\nserver.servlet.context-path=\n\nspring.jmx.enabled= false\nspring.jpa.open-in-view=false\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\nspring.jpa.properties.hibernate.format_sql=false\nspring.jpa.show-sql=false\n\nspring.datasource.url = jdbc:mysql://localhost:3306/mimenu?useSSL=false&amp;useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n#spring.main.web-application-type=none\n\nlogging.level.org.hibernate.sql= error\n        \ndebug=true\n</code></pre>\n<p>My POM.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lista&lt;/groupId&gt;\n    &lt;artifactId&gt;MiListaCompra&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;MiListaCompra&lt;/name&gt;\n    &lt;description&gt;Generador de lista de la compra con JavaFX y SpringBoot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt; --&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; --&gt;\n&lt;!--        &lt;/dependency&gt; --&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Build path:\n<a href=\"https://i.stack.imgur.com/YCkuU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCkuU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jakarta-ee","jca"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1299155221,"post_id":5180535,"comment_id":5820500,"body_markdown":"what kind of mainframe?  as400?  s390?","body":"what kind of mainframe?  as400?  s390?"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1325543551,"post_id":5180535,"comment_id":10833794,"body_markdown":"If you found any of the answers useful or informative, you should accept one of them and vote it up.","body":"If you found any of the answers useful or informative, you should accept one of them and vote it up."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299158226,"creation_date":1299158226,"answer_id":5181199,"question_id":5180535,"body_markdown":"IBM&#39;s approach should be pretty good.\r\n\r\nHere&#39;s an IBM tutorial to get you started: [Introduction to the J2EE Connector Architecture][1]\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/tutorials/j-jca/","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>IBM's approach should be pretty good.</p>\n\n<p>Here's an IBM tutorial to get you started: <a href=\"http://www.ibm.com/developerworks/java/tutorials/j-jca/\" rel=\"nofollow\">Introduction to the J2EE Connector Architecture</a></p>\n"},{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324488447,"creation_date":1324488447,"answer_id":8593839,"question_id":5180535,"body_markdown":"You have many options... I&#39;ve tried them all.\r\n\r\nTheir CTG product can be a bottleneck and the licensing is ridiculously expensive. I recommend staying away from the Cics Transaction gateway.\r\n\r\nYou can homebrew a solution using just plain data sockets. We&#39;re currently doing this. We developed a standard Java annotation library and a standard COBOL copybook.\r\n\r\nConsider mainframe webservices. The XML parsing/marshaling can be ZIIP/ZAAP eligible, so you don&#39;t incur those MIPS charges.\r\n\r\nYou may also consider an ESB like Sonic from progressive software. They offer a product called Shadow that takes the guesswork out of mainframe webservices. ","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>You have many options... I've tried them all.</p>\n\n<p>Their CTG product can be a bottleneck and the licensing is ridiculously expensive. I recommend staying away from the Cics Transaction gateway.</p>\n\n<p>You can homebrew a solution using just plain data sockets. We're currently doing this. We developed a standard Java annotation library and a standard COBOL copybook.</p>\n\n<p>Consider mainframe webservices. The XML parsing/marshaling can be ZIIP/ZAAP eligible, so you don't incur those MIPS charges.</p>\n\n<p>You may also consider an ESB like Sonic from progressive software. They offer a product called Shadow that takes the guesswork out of mainframe webservices. </p>\n"},{"tags":[],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566491780,"creation_date":1566491780,"answer_id":57613728,"question_id":5180535,"body_markdown":"This is not a JCA solution, but you can also use telnet and screen scraping. This is pretty simple, but not the most efficient way as to have to wait for the screen to appear, etc","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>This is not a JCA solution, but you can also use telnet and screen scraping. This is pretty simple, but not the most efficient way as to have to wait for the screen to appear, etc</p>\n"},{"tags":[],"owner":{"account_id":6638472,"reputation":1,"user_id":5124958,"display_name":"Resident Ivo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668248658,"creation_date":1668248658,"answer_id":74412077,"question_id":5180535,"body_markdown":"DAO Design Pattern approach\r\n\r\nCould connect using the DB2 connector db2jcc-db2jcc4.jar\r\n\r\nMy Connection Factory (excerpt from the Class):\r\n\r\n    `Class.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);\r\n     uniqueConn = \r\n     DriverManager.getConnection(&quot;jdbc:db2://204.90.115.200:5040/DALLASC&quot;, &quot;Zxxxxx&quot;, &quot;********&quot;);`\r\n\r\nUsed the IBM zxplore learning platform mainframe - https://www.ibm.com/it-infrastructure/z/education/zxplore. Replace Zxxxxx with your zxplore user id and ******** with your password.\r\n\r\nUsed 3 packages: dao (Data Access Object), model, ctrl (control)\r\n\r\nClasses:\r\n- under model package: Employee class with 4 attibutes: First Name, Last Name, Work Dept and Job (a subset of all colunms from DB2 table IBMUSER.EMP)\r\n- under dao package: ConnFactoryDB2 - a class using the Singleton Design Pattern to connect to the database (main point shared above)\r\n- under dao package: EmployeeDAO class, with only a getList method, containing the code including the &quot;select FIRSTNME, LASTNAME, WORKDEPT, JOB from IBMUSER.EMP&quot;\r\n- under ctrl package: a &quot;test drive&quot; class, putting together the DAO Design Pattern approach used:\r\n  - database connection using the ConnFactoryDB2 class;\r\n  - database browsing using the combination of the dao.EmployeeDAO and model.Employee\r\n\r\nFinal result:\r\n\r\nrun:\r\nStarting Employee Display - S&#225;b 2022.11.12 at 08:22:52 AM BRST\r\nConnecting DB DALLASC - IBM Zxplore!\r\n1st Name |  Last Name  |   Dept  |  Job  &lt;List Header&gt;\r\n\r\nCHRISTINE  |  HAAS  |  A00  |  PRES    \r\n\r\nMICHAEL  |  THOMPSON  |  B01  |  MANAGER \r\n\r\nSALLY  |  KWAN  |  C01  |  MANAGER \r\n\r\nJOHN  |  GEYER  |  E01  |  MANAGER \r\n\r\nIRVING  |  STERN  |  D11  |  MANAGER \r\n\r\nEVA  |  PULASKI  |  D21  |  MANAGER \r\n\r\nEILEEN  |  HENDERSON  |  E11  |  MANAGER \r\n\r\nTHEODORE  |  SPENSER  |  E21  |  MANAGER \r\n\r\nVINCENZO  |  LUCCHESI  |  A00  |  SALESREP\r\n\r\nSEAN  |  O&#39;CONNELL  |  A00  |  CLERK   \r\n\r\nDOLORES  |  QUINTANA  |  C01  |  ANALYST \r\n\r\nHEATHER  |  NICHOLLS  |  C01  |  ANALYST \r\n\r\nBRUCE  |  ADAMSON  |  D11  |  DESIGNER\r\n\r\nELIZABETH  |  PIANKA  |  D11  |  DESIGNER\r\n\r\nMASATOSHI  |  YOSHIMURA  |  D11  |  DESIGNER\r\n\r\nMARILYN  |  SCOUTTEN  |  D11  |  DESIGNER\r\n\r\nJAMES  |  WALKER  |  D11  |  DESIGNER\r\n\r\nDAVID  |  BROWN  |  D11  |  DESIGNER\r\n\r\nWILLIAM  |  JONES  |  D11  |  DESIGNER\r\n\r\nJENNIFER  |  LUTZ  |  D11  |  DESIGNER\r\n\r\nJAMES  |  JEFFERSON  |  D21  |  CLERK   \r\n\r\nSALVATORE  |  MARINO  |  D21  |  CLERK   \r\n\r\nDANIEL  |  SMITH  |  D21  |  CLERK   \r\n\r\nSYBIL  |  JOHNSON  |  D21  |  CLERK   \r\n\r\nMARIA  |  PEREZ  |  D21  |  CLERK   \r\n\r\nETHEL  |  SCHNEIDER  |  E11  |  OPERATOR\r\n\r\nJOHN  |  PARKER  |  E11  |  OPERATOR\r\n\r\nPHILIP  |  SMITH  |  E11  |  OPERATOR\r\n\r\nMAUDE  |  SETRIGHT  |  E11  |  OPERATOR\r\n\r\nRAMLAL  |  MEHTA  |  E21  |  FIELDREP\r\n\r\nWING  |  LEE  |  E21  |  FIELDREP\r\n\r\nJASON  |  GOUNOT  |  E21  |  FIELDREP\r\n\r\nDIAN  |  HEMMINGER  |  A00  |  SALESREP\r\n\r\nGREG  |  ORLANDO  |  A00  |  CLERK   \r\n\r\nKIM  |  NATZ  |  C01  |  ANALYST \r\n\r\nKIYOSHI  |  YAMAMOTO  |  D11  |  DESIGNER\r\n\r\nREBA  |  JOHN  |  D11  |  DESIGNER\r\n\r\nROBERT  |  MONTEVERDE  |  D21  |  CLERK   \r\n\r\nEILEEN  |  SCHWARTZ  |  E11  |  OPERATOR\r\n\r\nMICHELLE  |  SPRINGER  |  E11  |  OPERATOR\r\n\r\nHELENA  |  WONG  |  E21  |  FIELDREP\r\n\r\nROY  |  ALONZO  |  E21  |  FIELDREP\r\n\r\nEmployees List Completed - Total Employees Listed = 42\r\nFim do Processamento - S&#225;b 2022.11.12 at 08:22:54 AM BRST\r\nCONSTRU&#205;DO COM SUCESSO (tempo total: 1 segundo)\r\n","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>DAO Design Pattern approach</p>\n<p>Could connect using the DB2 connector db2jcc-db2jcc4.jar</p>\n<p>My Connection Factory (excerpt from the Class):</p>\n<pre><code>`Class.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);\n uniqueConn = \n DriverManager.getConnection(&quot;jdbc:db2://204.90.115.200:5040/DALLASC&quot;, &quot;Zxxxxx&quot;, &quot;********&quot;);`\n</code></pre>\n<p>Used the IBM zxplore learning platform mainframe - <a href=\"https://www.ibm.com/it-infrastructure/z/education/zxplore\" rel=\"nofollow noreferrer\">https://www.ibm.com/it-infrastructure/z/education/zxplore</a>. Replace Zxxxxx with your zxplore user id and ******** with your password.</p>\n<p>Used 3 packages: dao (Data Access Object), model, ctrl (control)</p>\n<p>Classes:</p>\n<ul>\n<li>under model package: Employee class with 4 attibutes: First Name, Last Name, Work Dept and Job (a subset of all colunms from DB2 table IBMUSER.EMP)</li>\n<li>under dao package: ConnFactoryDB2 - a class using the Singleton Design Pattern to connect to the database (main point shared above)</li>\n<li>under dao package: EmployeeDAO class, with only a getList method, containing the code including the &quot;select FIRSTNME, LASTNAME, WORKDEPT, JOB from IBMUSER.EMP&quot;</li>\n<li>under ctrl package: a &quot;test drive&quot; class, putting together the DAO Design Pattern approach used:\n<ul>\n<li>database connection using the ConnFactoryDB2 class;</li>\n<li>database browsing using the combination of the dao.EmployeeDAO and model.Employee</li>\n</ul>\n</li>\n</ul>\n<p>Final result:</p>\n<p>run:\nStarting Employee Display - Sáb 2022.11.12 at 08:22:52 AM BRST\nConnecting DB DALLASC - IBM Zxplore!\n1st Name |  Last Name  |   Dept  |  Job  </p>\n<p>CHRISTINE  |  HAAS  |  A00  |  PRES</p>\n<p>MICHAEL  |  THOMPSON  |  B01  |  MANAGER</p>\n<p>SALLY  |  KWAN  |  C01  |  MANAGER</p>\n<p>JOHN  |  GEYER  |  E01  |  MANAGER</p>\n<p>IRVING  |  STERN  |  D11  |  MANAGER</p>\n<p>EVA  |  PULASKI  |  D21  |  MANAGER</p>\n<p>EILEEN  |  HENDERSON  |  E11  |  MANAGER</p>\n<p>THEODORE  |  SPENSER  |  E21  |  MANAGER</p>\n<p>VINCENZO  |  LUCCHESI  |  A00  |  SALESREP</p>\n<p>SEAN  |  O'CONNELL  |  A00  |  CLERK</p>\n<p>DOLORES  |  QUINTANA  |  C01  |  ANALYST</p>\n<p>HEATHER  |  NICHOLLS  |  C01  |  ANALYST</p>\n<p>BRUCE  |  ADAMSON  |  D11  |  DESIGNER</p>\n<p>ELIZABETH  |  PIANKA  |  D11  |  DESIGNER</p>\n<p>MASATOSHI  |  YOSHIMURA  |  D11  |  DESIGNER</p>\n<p>MARILYN  |  SCOUTTEN  |  D11  |  DESIGNER</p>\n<p>JAMES  |  WALKER  |  D11  |  DESIGNER</p>\n<p>DAVID  |  BROWN  |  D11  |  DESIGNER</p>\n<p>WILLIAM  |  JONES  |  D11  |  DESIGNER</p>\n<p>JENNIFER  |  LUTZ  |  D11  |  DESIGNER</p>\n<p>JAMES  |  JEFFERSON  |  D21  |  CLERK</p>\n<p>SALVATORE  |  MARINO  |  D21  |  CLERK</p>\n<p>DANIEL  |  SMITH  |  D21  |  CLERK</p>\n<p>SYBIL  |  JOHNSON  |  D21  |  CLERK</p>\n<p>MARIA  |  PEREZ  |  D21  |  CLERK</p>\n<p>ETHEL  |  SCHNEIDER  |  E11  |  OPERATOR</p>\n<p>JOHN  |  PARKER  |  E11  |  OPERATOR</p>\n<p>PHILIP  |  SMITH  |  E11  |  OPERATOR</p>\n<p>MAUDE  |  SETRIGHT  |  E11  |  OPERATOR</p>\n<p>RAMLAL  |  MEHTA  |  E21  |  FIELDREP</p>\n<p>WING  |  LEE  |  E21  |  FIELDREP</p>\n<p>JASON  |  GOUNOT  |  E21  |  FIELDREP</p>\n<p>DIAN  |  HEMMINGER  |  A00  |  SALESREP</p>\n<p>GREG  |  ORLANDO  |  A00  |  CLERK</p>\n<p>KIM  |  NATZ  |  C01  |  ANALYST</p>\n<p>KIYOSHI  |  YAMAMOTO  |  D11  |  DESIGNER</p>\n<p>REBA  |  JOHN  |  D11  |  DESIGNER</p>\n<p>ROBERT  |  MONTEVERDE  |  D21  |  CLERK</p>\n<p>EILEEN  |  SCHWARTZ  |  E11  |  OPERATOR</p>\n<p>MICHELLE  |  SPRINGER  |  E11  |  OPERATOR</p>\n<p>HELENA  |  WONG  |  E21  |  FIELDREP</p>\n<p>ROY  |  ALONZO  |  E21  |  FIELDREP</p>\n<p>Employees List Completed - Total Employees Listed = 42\nFim do Processamento - Sáb 2022.11.12 at 08:22:54 AM BRST\nCONSTRUÍDO COM SUCESSO (tempo total: 1 segundo)</p>\n"}],"owner":{"display_name":"user486631"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668248658,"creation_date":1299154242,"question_id":5180535,"body_markdown":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1668206340,"post_id":74408327,"comment_id":131357523,"body_markdown":"1. Replace `if (col==1 || row == 1 || col == height || row == length)`  with `if (col==1 || row == 1 || col == length || row == height)`  2. Remove the Blank in `&quot;* &quot;` or add a Blank in `&quot; &quot;`","body":"1. Replace <code>if (col==1 || row == 1 || col == height || row == length)</code>  with <code>if (col==1 || row == 1 || col == length || row == height)</code>  2. Remove the Blank in <code>&quot;* &quot;</code> or add a Blank in <code>&quot; &quot;</code>"}],"owner":{"account_id":26556560,"reputation":11,"user_id":20185082,"display_name":"Zee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668248149,"creation_date":1668202244,"question_id":74408327,"body_markdown":"I have an exercise within my course that asks us to build a program that makes a rectangle made of &quot;*&quot; with the middle being empty. I know I am close as my code almost prints it but it does not produce a full rectangle \r\n\r\nany ideas?\r\n\r\n \r\n\r\n```\r\n/**\r\n * Week 4, Exercise 7.\r\n * @author INSERT YOUR NAME HERE\r\n */\r\n\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Exercise7 {\r\n\t\r\n\tstatic Scanner Scan = new Scanner(System.in);\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tint height ;\r\n\t\tint length;\r\n\t\t\r\n\t\tSystem.out.println(&quot;what is the height of the rectangle&quot;);\r\n\t\theight = Scan.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;what is the legnth of the rectangle&quot;);\r\n\t\tlength = Scan.nextInt();\r\n\t\t\r\n\t\t\r\n\t\tfor (int row = 1; row &lt;= height; row ++) {\r\n\t\t\t\r\n\t\t\tfor (int col=1; col&lt;= length; col ++) {\r\n\t\t\t\t\r\n\t\t\t\tif (col==1 || row == 1 || col == height || row == length) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(&quot;* &quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"Cant figure out how get the last line of the rectangle to work","body":"<p>I have an exercise within my course that asks us to build a program that makes a rectangle made of &quot;*&quot; with the middle being empty. I know I am close as my code almost prints it but it does not produce a full rectangle</p>\n<p>any ideas?</p>\n<pre><code>/**\n * Week 4, Exercise 7.\n * @author INSERT YOUR NAME HERE\n */\n\nimport java.util.Scanner;\n\n\npublic class Exercise7 {\n    \n    static Scanner Scan = new Scanner(System.in);   \n\n    public static void main(String[] args) {\n        \n        \n        \n        int height ;\n        int length;\n        \n        System.out.println(&quot;what is the height of the rectangle&quot;);\n        height = Scan.nextInt();\n        \n        System.out.println(&quot;what is the legnth of the rectangle&quot;);\n        length = Scan.nextInt();\n        \n        \n        for (int row = 1; row &lt;= height; row ++) {\n            \n            for (int col=1; col&lt;= length; col ++) {\n                \n                if (col==1 || row == 1 || col == height || row == length) {\n                \n                System.out.print(&quot;* &quot;);\n                }\n                else {\n                    System.out.print(&quot; &quot;);\n                };\n                \n                \n            };\n            \n            System.out.println();\n            \n        };\n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668188260,"post_id":74406222,"comment_id":131353107,"body_markdown":"&quot;Any advice is appreciated.&quot; - use Apache Maven or Gradle. Honestly. Btw.: package names are expected to be lowercase.","body":"&quot;Any advice is appreciated.&quot; - use Apache Maven or Gradle. Honestly. Btw.: package names are expected to be lowercase."},{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668189602,"post_id":74406222,"comment_id":131353507,"body_markdown":"@ChristophDahlen  Use a tool that obfuscates and doesn&#39;t let you understand:  Not good advice from my experience. I&#39;ve had enough difficulty with Android Studio, CCS, Eclipse, and others hiding what&#39;s going on.  I intend to understand this.  Also, the &quot;package&quot; is lowercase, I made sure of that. The classes in the package aren&#39;t.  The test shell (test.java) isn&#39;t going to in package so I blew that off as irrelevant.  And the same error occurs even without the package declaration in the test shell.","body":"@ChristophDahlen  Use a tool that obfuscates and doesn&#39;t let you understand:  Not good advice from my experience. I&#39;ve had enough difficulty with Android Studio, CCS, Eclipse, and others hiding what&#39;s going on.  I intend to understand this.  Also, the &quot;package&quot; is lowercase, I made sure of that. The classes in the package aren&#39;t.  The test shell (test.java) isn&#39;t going to in package so I blew that off as irrelevant.  And the same error occurs even without the package declaration in the test shell."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668190278,"post_id":74406222,"comment_id":131353722,"body_markdown":"Full marks for posting text and not images. I can therefore copy and paste and correct `C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar -C classes com\\company\\functions`\nYou could put the main class in there and make an executable jar with `cvfe`. e.g. `C:\\JavaPackages\\JavaPackage&gt;jar cvfe mypackage.jar com.company.functions.Main -C classes com\\company\\functions`","body":"Full marks for posting text and not images. I can therefore copy and paste and correct <code>C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar -C classes com\\company\\functions</code> You could put the main class in there and make an executable jar with <code>cvfe</code>. e.g. <code>C:\\JavaPackages\\JavaPackage&gt;jar cvfe mypackage.jar com.company.functions.Main -C classes com\\company\\functions</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668190620,"post_id":74406222,"comment_id":131353814,"body_markdown":"You probably don&#39;t have a main class, but imagine you did have one ;)","body":"You probably don&#39;t have a main class, but imagine you did have one ;)"},{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668190684,"post_id":74406222,"comment_id":131353830,"body_markdown":"@g00se Thx.  However, the final goal is we have to provide this package to an outside customer.  It&#39;s hundreds of lines of code.  So it&#39;s their executable that has to &quot;link&quot; to it (to use the C vernacular)","body":"@g00se Thx.  However, the final goal is we have to provide this package to an outside customer.  It&#39;s hundreds of lines of code.  So it&#39;s their executable that has to &quot;link&quot; to it (to use the C vernacular)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668191287,"post_id":74406222,"comment_id":131353998,"body_markdown":"That&#39;s fine. Just ignore the bit about the main class","body":"That&#39;s fine. Just ignore the bit about the main class"},{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668192113,"post_id":74406222,"comment_id":131354196,"body_markdown":"@g00se If the additional command line arg `-C` was supposed to be significant, it didn&#39;t help.  I used it to regenerate hte package, moved it, and I am still getting a **package does not exist error**","body":"@g00se If the additional command line arg <code>-C</code> was supposed to be significant, it didn&#39;t help.  I used it to regenerate hte package, moved it, and I am still getting a <b>package does not exist error</b>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668192232,"post_id":74406222,"comment_id":131354235,"body_markdown":"Got to leave now but you could usefully post jar tf ...","body":"Got to leave now but you could usefully post jar tf ..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668248058,"post_id":74406222,"comment_id":131362556,"body_markdown":"The JAR is not on the classpath. The JAR file itself must be on the classpath, Having it within a directory that is on the classpath is not sufficient.","body":"The JAR is not on the classpath. The JAR file itself must be on the classpath, Having it within a directory that is on the classpath is not sufficient."}],"answers":[{"comments":[{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668312691,"post_id":74407751,"comment_id":131373235,"body_markdown":"Yes! Thanks.  First time it worked for me on the big project, I created the package using the same classes folder.  It appears I got away without specifying the package name because all the classes were in there too (doh!)  In this next case, using a different classpath and it couldn&#39;t find it.   Also, creating the JAR, I found I can use the -C option to change into the classes folder.  Live and learn... A LOT!","body":"Yes! Thanks.  First time it worked for me on the big project, I created the package using the same classes folder.  It appears I got away without specifying the package name because all the classes were in there too (doh!)  In this next case, using a different classpath and it couldn&#39;t find it.   Also, creating the JAR, I found I can use the -C option to change into the classes folder.  Live and learn... A LOT!"}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668198266,"creation_date":1668198266,"answer_id":74407751,"question_id":74406222,"body_markdown":"&gt; I create the JAR file fine\r\n&gt; \r\n&gt;     C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\r\n&gt;     added manifest\r\n&gt;     adding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\r\n&gt;     adding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\r\n\r\nIt looks like it will place the files inside the JAR file in a sub directory `classes/`. The package path should begin at the root directory of the JAR file, not inside other directories like `classes/`. The ClassLoader will not be able to find the classes if you do. Create the JAR file in a way, that the `.class` files are in directories like `com/company/functions/MyFunctions.class`. Then the ClassLoader will be able to find the class `com.company.functions.MyFunctions` by checking the JAR file directory `com/company/functions/`.\r\n\r\n&gt; I attempt to compile with\r\n&gt; \r\n&gt;     C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\r\n\r\nYou have not specified the JAR file in your classpath. Java will not look randomly inside any JAR file. See https://stackoverflow.com/questions/10386869/how-do-i-add-jar-files-to-the-classpath on how to add a JAR file to the classpath. You might want to use something like\r\n\r\n    C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes\\mypackage.jar  TestProgram\\*.java\r\n\r\n*(with the fixed issue about the content of the JAR file above)*\r\n\r\nBut you might need to add the current directory `.` to your classpath as well to find your other java files or classes, which are not in the JAR file.","title":"&quot;Error: Package does not exist&quot; ... Where does the JAR file belong?","body":"<blockquote>\n<p>I create the JAR file fine</p>\n<pre><code>C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\nadded manifest\nadding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\nadding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\n</code></pre>\n</blockquote>\n<p>It looks like it will place the files inside the JAR file in a sub directory <code>classes/</code>. The package path should begin at the root directory of the JAR file, not inside other directories like <code>classes/</code>. The ClassLoader will not be able to find the classes if you do. Create the JAR file in a way, that the <code>.class</code> files are in directories like <code>com/company/functions/MyFunctions.class</code>. Then the ClassLoader will be able to find the class <code>com.company.functions.MyFunctions</code> by checking the JAR file directory <code>com/company/functions/</code>.</p>\n<blockquote>\n<p>I attempt to compile with</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\n</code></pre>\n</blockquote>\n<p>You have not specified the JAR file in your classpath. Java will not look randomly inside any JAR file. See <a href=\"https://stackoverflow.com/questions/10386869/how-do-i-add-jar-files-to-the-classpath\">How do I add jar files to the Classpath?</a> on how to add a JAR file to the classpath. You might want to use something like</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes\\mypackage.jar  TestProgram\\*.java\n</code></pre>\n<p><em>(with the fixed issue about the content of the JAR file above)</em></p>\n<p>But you might need to add the current directory <code>.</code> to your classpath as well to find your other java files or classes, which are not in the JAR file.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668242100,"creation_date":1668210169,"answer_id":74409247,"question_id":74406222,"body_markdown":"    goose@t410:/tmp/src$ find\r\n    .\r\n    ./start.java\r\n    ./MyFunctions.java\r\n    ./classes\r\n    ./Test.java\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ cat start.java \r\n    package testprogram;\r\n    \r\n    public class start {\r\n        public static void main(String args[]) {\r\n            m_test = new Test();\r\n            //m_test.RunScanner();\r\n            m_test.Run();\r\n        }\r\n    \r\n        static private Test m_test;\r\n    }\r\n    \r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ head -n 1 *.java\r\n    ==&gt; MyFunctions.java &lt;==\r\n    package com.company.functions;\r\n    \r\n    ==&gt; start.java &lt;==\r\n    package testprogram;\r\n    \r\n    ==&gt; Test.java &lt;==\r\n    package testprogram;\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ javac -d classes *.java\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ find\r\n    .\r\n    ./start.java\r\n    ./MyFunctions.java\r\n    ./classes\r\n    ./classes/testprogram\r\n    ./classes/testprogram/Test.class\r\n    ./classes/testprogram/start.class\r\n    ./classes/com\r\n    ./classes/com/company\r\n    ./classes/com/company/functions\r\n    ./classes/com/company/functions/MyFunctions.class\r\n    ./Test.java\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ jar cvf functions.jar -C classes com/company/functions\r\n    added manifest\r\n    adding: com/company/functions/(in = 0) (out= 0)(stored 0%)\r\n    adding: com/company/functions/MyFunctions.class(in = 285) (out= 219)(deflated 23%)\r\n    goose@t410:/tmp/src$ \r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ jar cvfe mypackage.jar testprogram.start -C classes testprogram\r\n    added manifest\r\n    adding: testprogram/(in = 0) (out= 0)(stored 0%)\r\n    adding: testprogram/Test.class(in = 567) (out= 380)(deflated 32%)\r\n    adding: testprogram/start.class(in = 382) (out= 273)(deflated 28%)\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ java -cp mypackage.jar:functions.jar testprogram.start\r\n    Exiting\r\n\r\n\r\n\r\n\r\nYou can ignore any commands that are not `java`,`javac` or `jar` when you run them yourself. Other commands are informational. NB, you need to get your [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) right.\r\nTwo points: a) you&#39;ll notice I had to correct an error preventing the main class from running, and b) you&#39;ll need to use a semicolon instead of a colon for the `java` command on Windows.\r\nYou&#39;ll notice that the whole classpath was needed for the `java` command. If you want to be able to use the `-jar` parameter, you&#39;ll need to use your own manifest. e.g.:\r\n\r\n    jar cvf functions.jar -C classes com/company/functions\r\n    ================================================================================\r\n    (Creation of manifest - Unixes:)\r\n    ================================================================================\r\n    echo -e &quot;Main-Class: testprogram.start\\nClass-Path: functions.jar&quot; &gt;manifest.txt\r\n    cat manifest.txt\r\n    ================================================================================\r\n    (Creation of manifest - Windows: [untested])\r\n    ================================================================================\r\n    echo  &quot;Main-Class: testprogram.start&quot; &amp; echo &quot;Class-Path: functions.jar&quot; &gt;manifest.txt\r\n    type manifest.txt\r\n    ================================================================================\r\n    jar cvfm mypackage.jar manifest.txt -C classes testprogram\r\n    ================================================================================\r\n    java -jar mypackage.jar","title":"&quot;Error: Package does not exist&quot; ... Where does the JAR file belong?","body":"<pre><code>goose@t410:/tmp/src$ find\n.\n./start.java\n./MyFunctions.java\n./classes\n./Test.java\n===========================================================================================\ngoose@t410:/tmp/src$ cat start.java \npackage testprogram;\n\npublic class start {\n    public static void main(String args[]) {\n        m_test = new Test();\n        //m_test.RunScanner();\n        m_test.Run();\n    }\n\n    static private Test m_test;\n}\n\n===========================================================================================\ngoose@t410:/tmp/src$ head -n 1 *.java\n==&gt; MyFunctions.java &lt;==\npackage com.company.functions;\n\n==&gt; start.java &lt;==\npackage testprogram;\n\n==&gt; Test.java &lt;==\npackage testprogram;\n===========================================================================================\ngoose@t410:/tmp/src$ javac -d classes *.java\n===========================================================================================\ngoose@t410:/tmp/src$ find\n.\n./start.java\n./MyFunctions.java\n./classes\n./classes/testprogram\n./classes/testprogram/Test.class\n./classes/testprogram/start.class\n./classes/com\n./classes/com/company\n./classes/com/company/functions\n./classes/com/company/functions/MyFunctions.class\n./Test.java\n===========================================================================================\ngoose@t410:/tmp/src$ jar cvf functions.jar -C classes com/company/functions\nadded manifest\nadding: com/company/functions/(in = 0) (out= 0)(stored 0%)\nadding: com/company/functions/MyFunctions.class(in = 285) (out= 219)(deflated 23%)\ngoose@t410:/tmp/src$ \n===========================================================================================\ngoose@t410:/tmp/src$ jar cvfe mypackage.jar testprogram.start -C classes testprogram\nadded manifest\nadding: testprogram/(in = 0) (out= 0)(stored 0%)\nadding: testprogram/Test.class(in = 567) (out= 380)(deflated 32%)\nadding: testprogram/start.class(in = 382) (out= 273)(deflated 28%)\n===========================================================================================\ngoose@t410:/tmp/src$ java -cp mypackage.jar:functions.jar testprogram.start\nExiting\n</code></pre>\n<p>You can ignore any commands that are not <code>java</code>,<code>javac</code> or <code>jar</code> when you run them yourself. Other commands are informational. NB, you need to get your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a> right.\nTwo points: a) you'll notice I had to correct an error preventing the main class from running, and b) you'll need to use a semicolon instead of a colon for the <code>java</code> command on Windows.\nYou'll notice that the whole classpath was needed for the <code>java</code> command. If you want to be able to use the <code>-jar</code> parameter, you'll need to use your own manifest. e.g.:</p>\n<pre><code>jar cvf functions.jar -C classes com/company/functions\n================================================================================\n(Creation of manifest - Unixes:)\n================================================================================\necho -e &quot;Main-Class: testprogram.start\\nClass-Path: functions.jar&quot; &gt;manifest.txt\ncat manifest.txt\n================================================================================\n(Creation of manifest - Windows: [untested])\n================================================================================\necho  &quot;Main-Class: testprogram.start&quot; &amp; echo &quot;Class-Path: functions.jar&quot; &gt;manifest.txt\ntype manifest.txt\n================================================================================\njar cvfm mypackage.jar manifest.txt -C classes testprogram\n================================================================================\njava -jar mypackage.jar\n</code></pre>\n"}],"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1668247985,"answer_count":2,"score":1,"last_activity_date":1668247955,"creation_date":1668188113,"question_id":74406222,"body_markdown":"I&#39;m trying to import a self made package into a Java project.  I got it to work once with some test class.  So, when I tried to change it to an official, approved class name, the compiling stopped working.  I can&#39;t explain why it worked, nor why the changes made it stop working.\r\n\r\nThis is super annoying.  So, I&#39;ve been digging for a few days.\r\n\r\nI&#39;ve search over a dozen posts here, plus many other sites, and cannot find an explanation of how this is supposed to be structured.\r\n\r\nFinally I gutted everything and put together this example that should work according to everything I&#39;ve searched, but it doesn&#39;t. It is a stripped down version of something that should import my own package and call a function. Minuscule code showing what I am trying to do, and what is failing.\r\n\r\nIn this minuscule example, I am building a package, as &quot;com.company.functions&quot; with a MyFunctions.java.  All of one function inside to demonstrate it.\r\n\r\nI do not have a classpath set up in my  environment.  Only a path to the JDK binaries.  I do that so I can keep control and understanding at the command line level.\r\n\r\nThe &quot;package&quot; is located in folder JavaPackage. The folders are:\r\n\r\n    JavaPackage\\\r\n        com\\\r\n            company\\\r\n                functions\\  (the MyFunctions.java is here)\r\n        classes\\\r\n\r\n\t\r\nI compile it fine.\r\n\r\n    C:\\JavaPackages\\JavaPackage&gt;javac -d classes -classpath classes com\\company\\functions\\*.java\r\n\r\nI create the JAR file fine\r\n\r\n    C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\r\n    added manifest\r\n    adding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\r\n    adding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\r\n\t\r\nI look in the JAR with 7-Zip,and everything looks fine. (I compared this 7-Zip autopsy to the package that was working, as mentioned at the beginning of this post, and the class names all line up correctly, from what I can understand.  Everything looks correct)\r\n\r\nNow, I am creating a test program.  Called, for lack of a better name, Java_Test.\r\n\r\n    Java_Test\\\r\n        TestProgram\\  (source files here)\r\n        classes\\\r\n\r\nI move my jar file to Java_Test\\classes\r\n\r\n    C:\\JavaPackages\\Java_Test&gt;dir classes\r\n    11/11/2022  10:16 AM             1,325 mypackage.jar\r\n\r\nI have two files in Java_Test\\TestProgram: start.java and Test.java.  Start is just the location of the static main, and it invokes the Test class.  That&#39;s not any issue.  It&#39;s the following compile failure.\r\n\r\nI attempt to compile with \r\n\r\n    C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\r\n\r\nWhich should specify that the output *.class files go into the folder &quot;classes&quot;, and that the class path to import things is in the (same) folder &quot;classes&quot;\r\n\r\nI get the following error\r\n\r\n    TestProgram\\Test.java:3: error: package com.company.functions does not exist\r\n    import com.company.functions.*;\r\n    ^\r\n\r\nWell, it does exist. I can see it right there in the classes folder.\r\n\r\nMaybe it&#39;s got something to do with the JAR name.  Who knows? I can&#39;t find a good explanation of how this is supposed to work, so I even rebuilt the JAR file using the main name of the class:  &quot;functions&quot;\r\n\r\nSo, now I have two JAR files of different names, but their contents are exactly the same.  I figure the compiler should find one of them.  The one it needs.\r\n\r\n    C:\\JavaPackages\\Java_Test&gt;dir classes\r\n    11/11/2022  10:28 AM             1,325 functions.jar\r\n    11/11/2022  10:16 AM             1,325 mypackage.jar\r\n\r\nHowever, the Java compiler still refuses to see it.\r\n \r\nCan some *please* explain what is going on?  This is frustrating, and making no sense.  Since I come from the C/C++ world, linking to a lib is easy. Yet this package concept in Java is a confusing nightmare.\r\n\r\nThe full source files are below, not that it makes any difference, because it&#39;s the package that can&#39;t be found.\r\n\r\nThis is what is in MyFunctions.java for the package file\r\n\r\n    package com.company.functions;\r\n    public class MyFunctions {\r\n    \tpublic int SomthingToDo() {\r\n        int x = 1;\r\n        return 0;\r\n        }\r\n    }\r\n\r\nTest program that should call the function from the package.  Except fails at line 2\r\n\r\n    package TestProgram;\r\n    import com.company.functions.*; \r\n    import java.io.*;\r\n\r\n    public class Test  {\t\t\r\n        public void Run() {\r\n            m_functions = new MyFunctions();\r\n            m_functions.SomthingToDo();\r\n            System.out.println(&quot;Exiting&quot;);\r\n        }\r\n        private MyFunctions m_functions;\r\n    }\r\n\r\nFor your reading enjoyment, this is start.java, which is not significant to my issue:\r\n\r\n    package TestProgram;\r\n    public class start {\r\n        public static void main(String args[]) {\r\n            m_test = new Test();\r\n            m_test.RunScanner();\r\n        }\r\n    static private Test m_test;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"&quot;Error: Package does not exist&quot; ... Where does the JAR file belong?","body":"<p>I'm trying to import a self made package into a Java project.  I got it to work once with some test class.  So, when I tried to change it to an official, approved class name, the compiling stopped working.  I can't explain why it worked, nor why the changes made it stop working.</p>\n<p>This is super annoying.  So, I've been digging for a few days.</p>\n<p>I've search over a dozen posts here, plus many other sites, and cannot find an explanation of how this is supposed to be structured.</p>\n<p>Finally I gutted everything and put together this example that should work according to everything I've searched, but it doesn't. It is a stripped down version of something that should import my own package and call a function. Minuscule code showing what I am trying to do, and what is failing.</p>\n<p>In this minuscule example, I am building a package, as &quot;com.company.functions&quot; with a MyFunctions.java.  All of one function inside to demonstrate it.</p>\n<p>I do not have a classpath set up in my  environment.  Only a path to the JDK binaries.  I do that so I can keep control and understanding at the command line level.</p>\n<p>The &quot;package&quot; is located in folder JavaPackage. The folders are:</p>\n<pre><code>JavaPackage\\\n    com\\\n        company\\\n            functions\\  (the MyFunctions.java is here)\n    classes\\\n</code></pre>\n<p>I compile it fine.</p>\n<pre><code>C:\\JavaPackages\\JavaPackage&gt;javac -d classes -classpath classes com\\company\\functions\\*.java\n</code></pre>\n<p>I create the JAR file fine</p>\n<pre><code>C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\nadded manifest\nadding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\nadding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\n</code></pre>\n<p>I look in the JAR with 7-Zip,and everything looks fine. (I compared this 7-Zip autopsy to the package that was working, as mentioned at the beginning of this post, and the class names all line up correctly, from what I can understand.  Everything looks correct)</p>\n<p>Now, I am creating a test program.  Called, for lack of a better name, Java_Test.</p>\n<pre><code>Java_Test\\\n    TestProgram\\  (source files here)\n    classes\\\n</code></pre>\n<p>I move my jar file to Java_Test\\classes</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;dir classes\n11/11/2022  10:16 AM             1,325 mypackage.jar\n</code></pre>\n<p>I have two files in Java_Test\\TestProgram: start.java and Test.java.  Start is just the location of the static main, and it invokes the Test class.  That's not any issue.  It's the following compile failure.</p>\n<p>I attempt to compile with</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\n</code></pre>\n<p>Which should specify that the output *.class files go into the folder &quot;classes&quot;, and that the class path to import things is in the (same) folder &quot;classes&quot;</p>\n<p>I get the following error</p>\n<pre><code>TestProgram\\Test.java:3: error: package com.company.functions does not exist\nimport com.company.functions.*;\n^\n</code></pre>\n<p>Well, it does exist. I can see it right there in the classes folder.</p>\n<p>Maybe it's got something to do with the JAR name.  Who knows? I can't find a good explanation of how this is supposed to work, so I even rebuilt the JAR file using the main name of the class:  &quot;functions&quot;</p>\n<p>So, now I have two JAR files of different names, but their contents are exactly the same.  I figure the compiler should find one of them.  The one it needs.</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;dir classes\n11/11/2022  10:28 AM             1,325 functions.jar\n11/11/2022  10:16 AM             1,325 mypackage.jar\n</code></pre>\n<p>However, the Java compiler still refuses to see it.</p>\n<p>Can some <em>please</em> explain what is going on?  This is frustrating, and making no sense.  Since I come from the C/C++ world, linking to a lib is easy. Yet this package concept in Java is a confusing nightmare.</p>\n<p>The full source files are below, not that it makes any difference, because it's the package that can't be found.</p>\n<p>This is what is in MyFunctions.java for the package file</p>\n<pre><code>package com.company.functions;\npublic class MyFunctions {\n    public int SomthingToDo() {\n    int x = 1;\n    return 0;\n    }\n}\n</code></pre>\n<p>Test program that should call the function from the package.  Except fails at line 2</p>\n<pre><code>package TestProgram;\nimport com.company.functions.*; \nimport java.io.*;\n\npublic class Test  {        \n    public void Run() {\n        m_functions = new MyFunctions();\n        m_functions.SomthingToDo();\n        System.out.println(&quot;Exiting&quot;);\n    }\n    private MyFunctions m_functions;\n}\n</code></pre>\n<p>For your reading enjoyment, this is start.java, which is not significant to my issue:</p>\n<pre><code>package TestProgram;\npublic class start {\n    public static void main(String args[]) {\n        m_test = new Test();\n        m_test.RunScanner();\n    }\nstatic private Test m_test;\n}\n</code></pre>\n"},{"tags":["java","arrays","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491762047,"creation_date":1491762047,"answer_id":43310291,"question_id":43310262,"body_markdown":"All of the array you are initializing are of size 0. initialize the arrays like following.\r\n\r\n\r\n    Double[] sortedArray = new Double[array.length];","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>All of the array you are initializing are of size 0. initialize the arrays like following.</p>\n\n<pre><code>Double[] sortedArray = new Double[array.length];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491762360,"creation_date":1491762059,"answer_id":43310292,"question_id":43310262,"body_markdown":"Shorthand array initializers (example like `{1, 2, 3, 4}`) automatically calculate the size of the array depending upon the elements that you have placed, but you did not place any elements in `arrayOdd`, `arrayEven` arrays, so it will be of zero size.\r\n\r\nIn short, you have created **`arrayOdd`, `arrayEven` arrays with zero size** and you are trying place/access the array elements(of that 0 sized array) which is causing the `ArrayIndexOutOfBoundsException`, so you need to create the array with size as shown below:\r\n\r\n    Double[] arrayOdd = new Double[array.length];\r\n    Double[] arrayEven = new Double[array.length];\r\n    Double[] sortedArray = new Double[array.length];","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>Shorthand array initializers (example like <code>{1, 2, 3, 4}</code>) automatically calculate the size of the array depending upon the elements that you have placed, but you did not place any elements in <code>arrayOdd</code>, <code>arrayEven</code> arrays, so it will be of zero size.</p>\n\n<p>In short, you have created <strong><code>arrayOdd</code>, <code>arrayEven</code> arrays with zero size</strong> and you are trying place/access the array elements(of that 0 sized array) which is causing the <code>ArrayIndexOutOfBoundsException</code>, so you need to create the array with size as shown below:</p>\n\n<pre><code>Double[] arrayOdd = new Double[array.length];\nDouble[] arrayEven = new Double[array.length];\nDouble[] sortedArray = new Double[array.length];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668245090,"creation_date":1668245090,"answer_id":74411757,"question_id":43310262,"body_markdown":"I think you should try this.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Double[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\r\n\r\n        List sortingArray = SortingArray.sortItOut(array);\r\n\r\n        for (Object item : sortingArray) {\r\n            System.out.print(item);\r\n        }\r\n     }\r\n\r\n   }\r\n\r\n    class SortingArray {\r\n\r\n    public static List sortItOut(Double[] array) {\r\n\r\n        ArrayList&lt;Double&gt; arrayOdd = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Double&gt; arrayEven = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Double&gt; sortedArray = new ArrayList&lt;&gt;();\r\n\r\n\r\n        for(Double item : array){\r\n            if(item % 2 == 0){\r\n                arrayOdd.add(item);\r\n            }else{\r\n                arrayEven.add(item);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        Arrays.sort(new ArrayList[]{arrayOdd}, Collections.reverseOrder());\r\n        Arrays.sort(new ArrayList[]{arrayEven});\r\n\r\n        ArrayList list = new ArrayList(Arrays.asList(arrayOdd));\r\n        list.addAll(Arrays.asList(arrayEven));\r\n        sortedArray = list;\r\n\r\n        return sortedArray;\r\n    }\r\n\r\n}","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>I think you should try this.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    Double[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\n\n    List sortingArray = SortingArray.sortItOut(array);\n\n    for (Object item : sortingArray) {\n        System.out.print(item);\n    }\n }\n</code></pre>\n<p>}</p>\n<pre><code>class SortingArray {\n\npublic static List sortItOut(Double[] array) {\n\n    ArrayList&lt;Double&gt; arrayOdd = new ArrayList&lt;&gt;();\n    ArrayList&lt;Double&gt; arrayEven = new ArrayList&lt;&gt;();\n    ArrayList&lt;Double&gt; sortedArray = new ArrayList&lt;&gt;();\n\n\n    for(Double item : array){\n        if(item % 2 == 0){\n            arrayOdd.add(item);\n        }else{\n            arrayEven.add(item);\n        }\n    }\n\n\n\n    Arrays.sort(new ArrayList[]{arrayOdd}, Collections.reverseOrder());\n    Arrays.sort(new ArrayList[]{arrayEven});\n\n    ArrayList list = new ArrayList(Arrays.asList(arrayOdd));\n    list.addAll(Arrays.asList(arrayEven));\n    sortedArray = list;\n\n    return sortedArray;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5500865,"reputation":41,"user_id":5764356,"accept_rate":43,"display_name":"Fatih Svk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668247644,"answer_count":3,"score":0,"last_activity_date":1668247729,"creation_date":1491761894,"question_id":43310262,"body_markdown":"I try to sorting a double array.An odd element should ascending order.An even element should descending.My classes is as follow.\r\nWhen I runned project I show \r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0\r\n\r\n    package com.fatih.sortarray;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class SortingArray {\r\n\r\n\tpublic static Double[] sortItOut(Double[] array) {\r\n\r\n\t\tDouble[] arrayOdd = {};\r\n\t\tDouble[] arrayEven = {};\r\n\t\tDouble[] sortedArray = {};\r\n\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\r\n\t\t\tint k = 0;\r\n\t\t\tint j = 0;\r\n\r\n\t\t\tif (array[i] % 2 == 0) {\r\n\t\t\t\tarrayOdd[k] = array[i];\r\n\t\t\t\tk++;\r\n\t\t\t} else {\r\n\t\t\t\tarrayEven[j] = array[i];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tArrays.sort(arrayOdd, Collections.reverseOrder());\r\n\t\tArrays.sort(arrayEven);\r\n\r\n\t\tList list = new ArrayList(Arrays.asList(arrayOdd));\r\n\t\tlist.addAll(Arrays.asList(arrayEven));\r\n\t\tsortedArray = (Double[]) list.toArray();\r\n\r\n\t\treturn sortedArray;\r\n\t}\r\n\r\n    }\r\n\r\n....\r\n    \r\n    public class SortingArrayTestt {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tDouble[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\r\n\r\n\t\tDouble[] sortingArray = SortingArray.sortItOut(array);\r\n\r\n\t\tfor (int i = 0; i &lt; sortingArray.length; i++) {\r\n\t\t\tSystem.out.print(sortingArray[i]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }\r\n...\r\n    \r\nThe console output is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat com.fatih.sortarray.SortingArray.sortItOut(SortingArray.java:25)\r\n\tat com.fatih.sortarray.SortingArrayTestt.main(SortingArrayTestt.java:9)\r\n\r\nHow can I fix this error?\r\nThanks for everything.\r\n\r\n","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>I try to sorting a double array.An odd element should ascending order.An even element should descending.My classes is as follow.\nWhen I runned project I show </p>\n\n<p>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0</p>\n\n<pre><code>package com.fatih.sortarray;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class SortingArray {\n\npublic static Double[] sortItOut(Double[] array) {\n\n    Double[] arrayOdd = {};\n    Double[] arrayEven = {};\n    Double[] sortedArray = {};\n\n    for (int i = 0; i &lt; array.length; i++) {\n\n        int k = 0;\n        int j = 0;\n\n        if (array[i] % 2 == 0) {\n            arrayOdd[k] = array[i];\n            k++;\n        } else {\n            arrayEven[j] = array[i];\n            j++;\n        }\n\n    }\n\n    Arrays.sort(arrayOdd, Collections.reverseOrder());\n    Arrays.sort(arrayEven);\n\n    List list = new ArrayList(Arrays.asList(arrayOdd));\n    list.addAll(Arrays.asList(arrayEven));\n    sortedArray = (Double[]) list.toArray();\n\n    return sortedArray;\n}\n\n}\n</code></pre>\n\n<p>....</p>\n\n<pre><code>public class SortingArrayTestt {\n\npublic static void main(String[] args) {\n\n    Double[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\n\n    Double[] sortingArray = SortingArray.sortItOut(array);\n\n    for (int i = 0; i &lt; sortingArray.length; i++) {\n        System.out.print(sortingArray[i]);\n    }\n\n}\n\n}\n</code></pre>\n\n<p>...</p>\n\n<p>The console output is:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0\nat com.fatih.sortarray.SortingArray.sortItOut(SortingArray.java:25)\nat com.fatih.sortarray.SortingArrayTestt.main(SortingArrayTestt.java:9)\n</code></pre>\n\n<p>How can I fix this error?\nThanks for everything.</p>\n"},{"tags":["java","string","sorting","char","substring"],"owner":{"account_id":25039866,"reputation":1,"user_id":18896854,"display_name":"Eman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668369745,"answer_count":0,"score":-2,"last_activity_date":1668246556,"creation_date":1668205088,"question_id":74408694,"body_markdown":"So I have the string “AcademiC” and I want to display the letters from the middle out. The output being “deamciAC” I can’t use any arrays or any other data collectors for this assignment because I want to understand the process. I figured out a way to do this but I need help on logic because it prints everything else but the “C” in the end  and “d”  in the beginning. Also throws up the error “string out of index -1”  How do I fix this?\r\n\r\nI expected to print everything but the “d” because I excluded it in my code. I tried what I could think of which was changing value of int i and changing indexOf value by adding one or subtracting 1 \r\n\r\n```\r\npublic class Arrange { \r\n  public  static void main(String [] args) {\r\n    String str = “AcademiC”;\r\n\r\n    int i = 1;\r\n\r\n  \r\n    while(condition == false) {\r\n      char  m = str.charAt(str.length() / 2 - 1);\r\n      String base = &quot;&quot;  + str.charAt(str.indexOf(m) + i) + str.charAt(str.indexOf(m) - i);\r\n      \r\n      System.out.print(base);\r\n      i++;\r\n      \r\n      if(str.length() == base.length() &amp;&amp; base.charAt(base.length()) == str.charAt(1)) {\r\n        condition = true;\r\n      }\r\n    \r\n    }\r\n  }\r\n}\r\n```","title":"Arranging a string","body":"<p>So I have the string “AcademiC” and I want to display the letters from the middle out. The output being “deamciAC” I can’t use any arrays or any other data collectors for this assignment because I want to understand the process. I figured out a way to do this but I need help on logic because it prints everything else but the “C” in the end  and “d”  in the beginning. Also throws up the error “string out of index -1”  How do I fix this?</p>\n<p>I expected to print everything but the “d” because I excluded it in my code. I tried what I could think of which was changing value of int i and changing indexOf value by adding one or subtracting 1</p>\n<pre><code>public class Arrange { \n  public  static void main(String [] args) {\n    String str = “AcademiC”;\n\n    int i = 1;\n\n  \n    while(condition == false) {\n      char  m = str.charAt(str.length() / 2 - 1);\n      String base = &quot;&quot;  + str.charAt(str.indexOf(m) + i) + str.charAt(str.indexOf(m) - i);\n      \n      System.out.print(base);\n      i++;\n      \n      if(str.length() == base.length() &amp;&amp; base.charAt(base.length()) == str.charAt(1)) {\n        condition = true;\n      }\n    \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668185735,"creation_date":1668185735,"answer_id":74405793,"question_id":74405476,"body_markdown":"For a JSP *scriptlet* (using `&lt;% %&gt;`) you must print your output. With Java this is through `out.println()` since `out` is provided in the scriptlet context.\r\n\r\nTry the following JSP:\r\n\r\n    &lt;%\r\n    int [][] arr = {{1,2,3}, {4,5,6}, {7,8,9}};\r\n    out.println(&quot;&lt;table&gt;&quot;);\r\n    for (int[] row : arr) {\r\n        out.println(&quot;&lt;tr&gt;&quot;);\r\n        for (int val : row) {\r\n            out.println(&quot;&lt;td&gt;&quot; + val + &quot;&lt;/td&gt;&quot;);\r\n        }\r\n        out.println(&quot;&lt;/tr&gt;&quot;);\r\n    }\r\n    out.println(&quot;&lt;/table&gt;&quot;);\r\n    %&gt;\r\n\r\nIf this works for you then please accept this as the answer.","title":"Display the array on the page as an HTML table. Use output scriptlet","body":"<p>For a JSP <em>scriptlet</em> (using <code>&lt;% %&gt;</code>) you must print your output. With Java this is through <code>out.println()</code> since <code>out</code> is provided in the scriptlet context.</p>\n<p>Try the following JSP:</p>\n<pre><code>&lt;%\nint [][] arr = {{1,2,3}, {4,5,6}, {7,8,9}};\nout.println(&quot;&lt;table&gt;&quot;);\nfor (int[] row : arr) {\n    out.println(&quot;&lt;tr&gt;&quot;);\n    for (int val : row) {\n        out.println(&quot;&lt;td&gt;&quot; + val + &quot;&lt;/td&gt;&quot;);\n    }\n    out.println(&quot;&lt;/tr&gt;&quot;);\n}\nout.println(&quot;&lt;/table&gt;&quot;);\n%&gt;\n</code></pre>\n<p>If this works for you then please accept this as the answer.</p>\n"}],"owner":{"account_id":26902408,"reputation":13,"user_id":20479563,"display_name":"without name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74405793,"answer_count":1,"score":1,"last_activity_date":1668246467,"creation_date":1668184138,"question_id":74405476,"body_markdown":"java Create an array with the following content: 1 2 3 4 5 6 7 8 9 Display the array on the page as an HTML table.\r\n\r\nI did this like this:\r\n\r\n```\r\n&lt;%\r\n  int [][] Array = {{1,2,3}, {4,5,6}, {7,8,9}};\r\n  for (int i = 0; i &lt; a.length; i++) {\r\n    for (int j = 0; j &lt; a[i].length; j++)\r\n      Array &lt;%=Array[i][j]%&gt;\r\n  }\r\n%&gt;\r\n```\r\n\r\nbut it doesn&#39;t work\r\n\r\n","title":"Display the array on the page as an HTML table. Use output scriptlet","body":"<p>java Create an array with the following content: 1 2 3 4 5 6 7 8 9 Display the array on the page as an HTML table.</p>\n<p>I did this like this:</p>\n<pre><code>&lt;%\n  int [][] Array = {{1,2,3}, {4,5,6}, {7,8,9}};\n  for (int i = 0; i &lt; a.length; i++) {\n    for (int j = 0; j &lt; a[i].length; j++)\n      Array &lt;%=Array[i][j]%&gt;\n  }\n%&gt;\n</code></pre>\n<p>but it doesn't work</p>\n"},{"tags":["java","sockets","client","sslsocketfactory"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668248733,"post_id":74411742,"comment_id":131362680,"body_markdown":"You would [bind](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/Socket.html#bind(java.net.SocketAddress)) it to the [address](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/InetSocketAddress.html)","body":"You would <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/Socket.html#bind(java.net.SocketAddress)\" rel=\"nofollow noreferrer\">bind</a> it to the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/InetSocketAddress.html\" rel=\"nofollow noreferrer\">address</a>"},{"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"score":0,"creation_date":1668256684,"post_id":74411742,"comment_id":131364079,"body_markdown":"Thank you for the answer but as far as I understood, binding is for servers. I need a SSLSocket acting as a client.","body":"Thank you for the answer but as far as I understood, binding is for servers. I need a SSLSocket acting as a client."},{"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"score":0,"creation_date":1668257052,"post_id":74411742,"comment_id":131364136,"body_markdown":"Could I use the connect() method and then startHandshake()?","body":"Could I use the connect() method and then startHandshake()?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1668257170,"post_id":74411742,"comment_id":131364156,"body_markdown":"*&#39;binding is for servers&#39;* - not so.  It is perhaps less usual to bind a client TCP socket to a particular network address and even less usual to bind it to a particular TCP port, but there&#39;s nothing to stop you.","body":"<i>&#39;binding is for servers&#39;</i> - not so.  It is perhaps less usual to bind a client TCP socket to a particular network address and even less usual to bind it to a particular TCP port, but there&#39;s nothing to stop you."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1668267703,"post_id":74411742,"comment_id":131366267,"body_markdown":"There is a perfectly useful no-args call to createSocket that creates an unconnected SSLSocket, e.g. `SSLSocket sock = (SSLSocket) SSLSocketFactory.getDefault().createSocket();`.","body":"There is a perfectly useful no-args call to createSocket that creates an unconnected SSLSocket, e.g. <code>SSLSocket sock = (SSLSocket) SSLSocketFactory.getDefault().createSocket();</code>."},{"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"score":0,"creation_date":1668364287,"post_id":74411742,"comment_id":131381819,"body_markdown":"But how can I connect to a remote address and port the socket?","body":"But how can I connect to a remote address and port the socket?"}],"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668244932,"creation_date":1668244932,"question_id":74411742,"body_markdown":"I’d like to create an unconnected SSLSocket (and I can using the SSLSocketFactory createSocket() method) but then I need to specify address and port to connect the socket. But, apparently there’s not a way to do so. Why? So why this method exists?\r\n\r\nIt looks like it works with a Socket, you can create a Socket and then connect it toward a server, but not with a SSLSocket. The only way seems to be to use the SSLSocketFactory createSocket method passing there address and port to connect to, but if I want my socket to be unconnected at the beginning, is there a way?","title":"Address and port of unconnected SSLSocket","body":"<p>I’d like to create an unconnected SSLSocket (and I can using the SSLSocketFactory createSocket() method) but then I need to specify address and port to connect the socket. But, apparently there’s not a way to do so. Why? So why this method exists?</p>\n<p>It looks like it works with a Socket, you can create a Socket and then connect it toward a server, but not with a SSLSocket. The only way seems to be to use the SSLSocketFactory createSocket method passing there address and port to connect to, but if I want my socket to be unconnected at the beginning, is there a way?</p>\n"},{"tags":["java","lambda","java-stream","bigdecimal"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668165059,"post_id":74401353,"comment_id":131344860,"body_markdown":"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html Of interest are `signum()` and `new BigDecimal(&quot;76.2372&quot;)`.","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html</a> Of interest are <code>signum()</code> and <code>new BigDecimal(&quot;76.2372&quot;)</code>."}],"answers":[{"comments":[{"owner":{"account_id":15546910,"reputation":391,"user_id":11215814,"display_name":"OutOfMemoryError"},"score":0,"creation_date":1668303405,"post_id":74409440,"comment_id":131372437,"body_markdown":"the only drawback is that the results should be absolute, but it&#39;s just to apply the function abs by BigDecimal, isn&#39;t it?","body":"the only drawback is that the results should be absolute, but it&#39;s just to apply the function abs by BigDecimal, isn&#39;t it?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668306876,"post_id":74409440,"comment_id":131372772,"body_markdown":"@OutOfMemoryError Right, just apply [`BigDecimal.abs()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#abs()). Method `getDiff()` (declared in the `Node` class) should return `value.subtract(next.value).abs()`.","body":"@OutOfMemoryError Right, just apply <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#abs()\" rel=\"nofollow noreferrer\"><code>BigDecimal.abs()</code></a>. Method <code>getDiff()</code> (declared in the <code>Node</code> class) should return <code>value.subtract(next.value).abs()</code>."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668244773,"creation_date":1668212576,"answer_id":74409440,"question_id":74401353,"body_markdown":"# TL;DR\r\n\r\nThis problem can be solved by implementing a custom Linked List and representing sequences of elements from the initial list terminated by zero as separate Linked Lists.\r\n\r\n# The Core idea\r\n\r\nTo generate differences between elements with are not followed by an element having a value of zero (i.e. `new BigDecimal(&quot;0E-4&quot;)`, `new BigDecimal(&quot;0.00&quot;)` which can be translated to `double` as `0.0`) we can represent each part of the list terminated by a zero-valued element as a [*Linked List*][1]. And then we can fairly easy calculated difference between the values of Nodes in each Linked List.\r\n\r\nBut there&#39;s **caveat**: everything that you&#39;re doing with streams even if you&#39;re planing to run it sequentially should also work correctly in parallel, because one day one of your colleagues (or even you) can switch it to parallel, and the code appear to be broken.\r\n\r\nWhile executing the stream in parallel, each thread would get its portion of data to process, and then results produced by each thread should be merged. At this point, we should be able to distinguish between a Linked List terminated by a zero-valued element and a non-terminated Linked List (*its thread simply run out of elements*).\r\n\r\nTo visualize this concept, I&#39;ve named the implementation of the Linked List, a `Chain`. An attempt to add a zero-valued element into a Chain causes the Chain to be qualified as broken. If the Chain is not broken, we can append another Chain to it, even if another Chain is broken (in this case the resulting chain also becomes broken). But note that we can&#39;t append another chain to a broken chain.\r\n\r\n# Implementing a Custom Comparator\r\n\r\nSince we need to perform a lot of stateful mutating operations, the proper way to implement it with Stream API is to create a custom Collector. For that, we can make use of the static method [`Collector.of()`][2], expecting:\r\n\r\n* a `Supplier` of accumulation type, providing a mutable container;\r\n* a *consumer* which defines a logic for populating the container;\r\n* a *combiner* which tells how to merge containers while executing in parallel;\r\n* and a *finisher* function performing the final transformation.\r\n\r\nNote that it could be also implemented as generic and initialized with a `Predicate` for discarding elements and a `Function` for performing the final transformation, but to avoid complicating the code I would focus only on dialing with `BigDecimal`.\r\n\r\n    public static Collector&lt;BigDecimal, ?, List&lt;BigDecimal&gt;&gt; getDiffCollector() {\r\n        \r\n        return Collector.of(\r\n            ArrayDeque::new,\r\n            (Deque&lt;Chain&gt; chains, BigDecimal next) -&gt; {\r\n                if (chains.isEmpty() || chains.getLast().isBroken()) chains.add(new Chain());\r\n                chains.getLast().accept(next);\r\n            },\r\n            (left, right) -&gt; {\r\n                Chain merged = left.pollLast().merge(right.pollFirst()); // merging the last Chain of the left Deque and the first Chain of the right Deque\r\n                left.add(merged);\r\n                left.addAll(right);\r\n                return left;\r\n            },\r\n            deque -&gt; deque.stream()\r\n                .flatMap(chain -&gt; chain.toDifferences().stream())\r\n                .toList()\r\n        );\r\n    }\r\n\r\n# Implementing the Chain\r\n\r\nIn a nutshell, `Chain` is a Singly linked list that has inner class `Node`. For convenience, I&#39;ve implemented `Consumer` interface, and its method `accept()` appends a new Node to the tail if the offered value is not zero.\r\n\r\n    public class Chain implements Consumer&lt;BigDecimal&gt; {\r\n        private Node head;\r\n        private Node tail;\r\n        private boolean isBroken;\r\n        private boolean isInitialized;\r\n        \r\n        @Override\r\n        public void accept(BigDecimal value) {\r\n            if (value.doubleValue() == 0) {         // ignore the value, doubleValue() is used because new BigDecimal(&quot;0E-4&quot;) and new BigDecimal(&quot;0.00&quot;) are not equal to BigDecimal.ZERO\r\n                if (isInitialized) isBroken = true; // break the Chain\r\n                return;\r\n            }\r\n            Node newNode = new Node(value);\r\n            \r\n            if (!isInitialized) {      // edge-case - adding the first Node, we need initialize the head\r\n                isInitialized = true;\r\n                head = newNode;\r\n            } else {\r\n                tail.setNext(newNode); // general case - add a new Node to the tail\r\n            }\r\n            tail = newNode;            // new Node always becomes a new tail\r\n        }\r\n        \r\n        public Chain merge(Chain other) {\r\n            if (isBroken) throw new IllegalStateException(); // we can&#39;t append another Chain to a Chain that is broken\r\n            if (!isInitialized) return other;\r\n            if (!other.isInitialized) return this;\r\n            \r\n            tail.setNext(other.head);  // joining the Linked Lists\r\n            tail = other.tail;         // reassigning the tail Node\r\n            isBroken = other.isBroken; // is the next Chain was broken a merged Chain also becomes broken\r\n            return this;\r\n        }\r\n        \r\n        public List&lt;BigDecimal&gt; toDifferences() {\r\n            if (head == null) return Collections.emptyList();\r\n            \r\n            List&lt;BigDecimal&gt; result = new ArrayList&lt;&gt;();\r\n            \r\n            Node current = head;\r\n            while (current.next != null) {     // iterate over the List until we hit the tail Node\r\n                result.add(current.getDiff());\r\n                current = current.next;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public boolean isBroken() {\r\n            return isBroken;\r\n        }\r\n    \r\n        public boolean isInitialized() {\r\n            return isInitialized;\r\n        }\r\n    \r\n        private class Node {\r\n            private BigDecimal value;\r\n            private Node next;\r\n            \r\n            public Node(BigDecimal value) {\r\n                this.value = value;\r\n            }\r\n            \r\n            public BigDecimal getDiff() {\r\n                return value.subtract(next.value);\r\n            }\r\n            \r\n            public void setNext(Node next) {\r\n                this.next = next;\r\n            }\r\n        }\r\n    }\r\n\r\n# Usage example\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;BigDecimal&gt; values = List.of(\r\n            new BigDecimal(&quot;76.2372&quot;),\r\n            new BigDecimal(&quot;0E-4&quot;),\r\n            new BigDecimal(&quot;80.2318&quot;),\r\n            new BigDecimal(&quot;82.1111&quot;),\r\n            new BigDecimal(&quot;88.0937&quot;)\r\n        );\r\n\r\n        List&lt;BigDecimal&gt; differences = values.stream()\r\n            .collect(getDiffCollector());\r\n    \r\n        System.out.println(differences);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[-1.8793, -5.9826] // 80.2318 - 82.1111, 82.1111 - 88.0937\r\n```\r\n\r\n\r\n\r\n   [1]: https://en.wikipedia.org/wiki/Linked_list\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)","title":"List of BigDecimal: how to calculate absolute difference between elements not adjacent to Zero value using Java 8 Stream?","body":"<h1>TL;DR</h1>\n<p>This problem can be solved by implementing a custom Linked List and representing sequences of elements from the initial list terminated by zero as separate Linked Lists.</p>\n<h1>The Core idea</h1>\n<p>To generate differences between elements with are not followed by an element having a value of zero (i.e. <code>new BigDecimal(&quot;0E-4&quot;)</code>, <code>new BigDecimal(&quot;0.00&quot;)</code> which can be translated to <code>double</code> as <code>0.0</code>) we can represent each part of the list terminated by a zero-valued element as a <a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\"><em>Linked List</em></a>. And then we can fairly easy calculated difference between the values of Nodes in each Linked List.</p>\n<p>But there's <strong>caveat</strong>: everything that you're doing with streams even if you're planing to run it sequentially should also work correctly in parallel, because one day one of your colleagues (or even you) can switch it to parallel, and the code appear to be broken.</p>\n<p>While executing the stream in parallel, each thread would get its portion of data to process, and then results produced by each thread should be merged. At this point, we should be able to distinguish between a Linked List terminated by a zero-valued element and a non-terminated Linked List (<em>its thread simply run out of elements</em>).</p>\n<p>To visualize this concept, I've named the implementation of the Linked List, a <code>Chain</code>. An attempt to add a zero-valued element into a Chain causes the Chain to be qualified as broken. If the Chain is not broken, we can append another Chain to it, even if another Chain is broken (in this case the resulting chain also becomes broken). But note that we can't append another chain to a broken chain.</p>\n<h1>Implementing a Custom Comparator</h1>\n<p>Since we need to perform a lot of stateful mutating operations, the proper way to implement it with Stream API is to create a custom Collector. For that, we can make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>, expecting:</p>\n<ul>\n<li>a <code>Supplier</code> of accumulation type, providing a mutable container;</li>\n<li>a <em>consumer</em> which defines a logic for populating the container;</li>\n<li>a <em>combiner</em> which tells how to merge containers while executing in parallel;</li>\n<li>and a <em>finisher</em> function performing the final transformation.</li>\n</ul>\n<p>Note that it could be also implemented as generic and initialized with a <code>Predicate</code> for discarding elements and a <code>Function</code> for performing the final transformation, but to avoid complicating the code I would focus only on dialing with <code>BigDecimal</code>.</p>\n<pre><code>public static Collector&lt;BigDecimal, ?, List&lt;BigDecimal&gt;&gt; getDiffCollector() {\n    \n    return Collector.of(\n        ArrayDeque::new,\n        (Deque&lt;Chain&gt; chains, BigDecimal next) -&gt; {\n            if (chains.isEmpty() || chains.getLast().isBroken()) chains.add(new Chain());\n            chains.getLast().accept(next);\n        },\n        (left, right) -&gt; {\n            Chain merged = left.pollLast().merge(right.pollFirst()); // merging the last Chain of the left Deque and the first Chain of the right Deque\n            left.add(merged);\n            left.addAll(right);\n            return left;\n        },\n        deque -&gt; deque.stream()\n            .flatMap(chain -&gt; chain.toDifferences().stream())\n            .toList()\n    );\n}\n</code></pre>\n<h1>Implementing the Chain</h1>\n<p>In a nutshell, <code>Chain</code> is a Singly linked list that has inner class <code>Node</code>. For convenience, I've implemented <code>Consumer</code> interface, and its method <code>accept()</code> appends a new Node to the tail if the offered value is not zero.</p>\n<pre><code>public class Chain implements Consumer&lt;BigDecimal&gt; {\n    private Node head;\n    private Node tail;\n    private boolean isBroken;\n    private boolean isInitialized;\n    \n    @Override\n    public void accept(BigDecimal value) {\n        if (value.doubleValue() == 0) {         // ignore the value, doubleValue() is used because new BigDecimal(&quot;0E-4&quot;) and new BigDecimal(&quot;0.00&quot;) are not equal to BigDecimal.ZERO\n            if (isInitialized) isBroken = true; // break the Chain\n            return;\n        }\n        Node newNode = new Node(value);\n        \n        if (!isInitialized) {      // edge-case - adding the first Node, we need initialize the head\n            isInitialized = true;\n            head = newNode;\n        } else {\n            tail.setNext(newNode); // general case - add a new Node to the tail\n        }\n        tail = newNode;            // new Node always becomes a new tail\n    }\n    \n    public Chain merge(Chain other) {\n        if (isBroken) throw new IllegalStateException(); // we can't append another Chain to a Chain that is broken\n        if (!isInitialized) return other;\n        if (!other.isInitialized) return this;\n        \n        tail.setNext(other.head);  // joining the Linked Lists\n        tail = other.tail;         // reassigning the tail Node\n        isBroken = other.isBroken; // is the next Chain was broken a merged Chain also becomes broken\n        return this;\n    }\n    \n    public List&lt;BigDecimal&gt; toDifferences() {\n        if (head == null) return Collections.emptyList();\n        \n        List&lt;BigDecimal&gt; result = new ArrayList&lt;&gt;();\n        \n        Node current = head;\n        while (current.next != null) {     // iterate over the List until we hit the tail Node\n            result.add(current.getDiff());\n            current = current.next;\n        }\n        return result;\n    }\n\n    public boolean isBroken() {\n        return isBroken;\n    }\n\n    public boolean isInitialized() {\n        return isInitialized;\n    }\n\n    private class Node {\n        private BigDecimal value;\n        private Node next;\n        \n        public Node(BigDecimal value) {\n            this.value = value;\n        }\n        \n        public BigDecimal getDiff() {\n            return value.subtract(next.value);\n        }\n        \n        public void setNext(Node next) {\n            this.next = next;\n        }\n    }\n}\n</code></pre>\n<h1>Usage example</h1>\n<pre><code>public static void main(String[] args) {\n    List&lt;BigDecimal&gt; values = List.of(\n        new BigDecimal(&quot;76.2372&quot;),\n        new BigDecimal(&quot;0E-4&quot;),\n        new BigDecimal(&quot;80.2318&quot;),\n        new BigDecimal(&quot;82.1111&quot;),\n        new BigDecimal(&quot;88.0937&quot;)\n    );\n\n    List&lt;BigDecimal&gt; differences = values.stream()\n        .collect(getDiffCollector());\n\n    System.out.println(differences);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[-1.8793, -5.9826] // 80.2318 - 82.1111, 82.1111 - 88.0937\n</code></pre>\n"}],"owner":{"account_id":15546910,"reputation":391,"user_id":11215814,"display_name":"OutOfMemoryError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74409440,"answer_count":1,"score":0,"last_activity_date":1668244773,"creation_date":1668163564,"question_id":74401353,"body_markdown":"I have a list of `BigDecimal` that could be as elements:\r\n\r\n    1 = &quot;76.2372&quot;\r\n    2 = &quot;0E-4&quot;\r\n    3 = &quot;80.2318&quot;\r\n    4 = &quot;82.1111&quot;\r\n    5 = &quot;88.0937&quot;\r\n\r\nI would like to calculate the absolute difference between elements not next to Zero value, in this example difference between `3 and 4`, `4 and 5`.\r\n\r\nExpected result should be also of type `List&lt;BigDecimal&gt;`.\r\n\r\nOf course, the value of Zero could be in any position and I should keep calculating couples of values not adjacent to Zero.\r\n","title":"List of BigDecimal: how to calculate absolute difference between elements not adjacent to Zero value using Java 8 Stream?","body":"<p>I have a list of <code>BigDecimal</code> that could be as elements:</p>\n<pre><code>1 = &quot;76.2372&quot;\n2 = &quot;0E-4&quot;\n3 = &quot;80.2318&quot;\n4 = &quot;82.1111&quot;\n5 = &quot;88.0937&quot;\n</code></pre>\n<p>I would like to calculate the absolute difference between elements not next to Zero value, in this example difference between <code>3 and 4</code>, <code>4 and 5</code>.</p>\n<p>Expected result should be also of type <code>List&lt;BigDecimal&gt;</code>.</p>\n<p>Of course, the value of Zero could be in any position and I should keep calculating couples of values not adjacent to Zero.</p>\n"},{"tags":["java","generics","overloading","type-erasure"],"answers":[{"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":2,"creation_date":1314803108,"post_id":7201299,"comment_id":8734212,"body_markdown":"You give this solution as if it was some kind of compromise, but I think it is imperative that those methods be renamed.  Actually the overloaded methods with the single argument must be renamed too.  The code is very unclear now with those overloaded methods.","body":"You give this solution as if it was some kind of compromise, but I think it is imperative that those methods be renamed.  Actually the overloaded methods with the single argument must be renamed too.  The code is very unclear now with those overloaded methods."},{"owner":{"account_id":1494552,"reputation":4008,"user_id":1400817,"accept_rate":81,"display_name":"Werner Erasmus"},"score":1,"creation_date":1416301516,"post_id":7201299,"comment_id":42512119,"body_markdown":"This answer is not entirely satisfactory IMHO, especially the reference to Java Tutorials stating that Overloading makes code less readable is very subjective. The problem is that often implementation to interface is shareable. Take for example a simple interface like this: MyType provide(class&lt;MyType&gt; type) where type acts as discriminator. When not having the possibility to discriminate &quot;generically&quot; by type, we are forced to rename, but independent interfaces may use different names for the same purpose, which burdens the implementation unnecessarily.","body":"This answer is not entirely satisfactory IMHO, especially the reference to Java Tutorials stating that Overloading makes code less readable is very subjective. The problem is that often implementation to interface is shareable. Take for example a simple interface like this: MyType provide(class&lt;MyType&gt; type) where type acts as discriminator. When not having the possibility to discriminate &quot;generically&quot; by type, we are forced to rename, but independent interfaces may use different names for the same purpose, which burdens the implementation unnecessarily."},{"owner":{"account_id":1494552,"reputation":4008,"user_id":1400817,"accept_rate":81,"display_name":"Werner Erasmus"},"score":0,"creation_date":1416301630,"post_id":7201299,"comment_id":42512177,"body_markdown":"An example of this is using boost::mpl::identity&lt;T&gt; in c++ to discriminate based on type, simplifying choice of function names and allowing common implementation.","body":"An example of this is using boost::mpl::identity&lt;T&gt; in c++ to discriminate based on type, simplifying choice of function names and allowing common implementation."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":3,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1314343232,"creation_date":1314343232,"answer_id":7201299,"question_id":7201231,"body_markdown":"I think your best option is to simply name the method differently.\r\n\r\n    public void clawBackFinReqs(Collection&lt;FinanceRequest&gt; financeRequestList) {\r\n\r\n    }\r\n\r\n    public void clawBackComTrans(Collection&lt;CommissionTrns&gt; commissionTrnsList) {\r\n\r\n    }\r\n\r\n\r\nIn fact, it&#39;s not too bad, since you don&#39;t get anything extra out of having the same name on them.\r\n\r\nKeep in mind, that the JVM will **not** decide which method to call at runtime. As opposed to virtual methods / method **overriding** resolution of overloaded methods are done at compile time. The Java Tutorials on [method overloading](http://download.oracle.com/javase/tutorial/java/javaOO/methods.html) even points out that *&quot;Overloaded methods should be used sparingly...&quot;*.","title":"Java erasure with generic overloading (not overriding)","body":"<p>I think your best option is to simply name the method differently.</p>\n\n<pre><code>public void clawBackFinReqs(Collection&lt;FinanceRequest&gt; financeRequestList) {\n\n}\n\npublic void clawBackComTrans(Collection&lt;CommissionTrns&gt; commissionTrnsList) {\n\n}\n</code></pre>\n\n<p>In fact, it's not too bad, since you don't get anything extra out of having the same name on them.</p>\n\n<p>Keep in mind, that the JVM will <strong>not</strong> decide which method to call at runtime. As opposed to virtual methods / method <strong>overriding</strong> resolution of overloaded methods are done at compile time. The Java Tutorials on <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"noreferrer\">method overloading</a> even points out that <em>\"Overloaded methods should be used sparingly...\"</em>.</p>\n"},{"comments":[{"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"score":1,"creation_date":1314353585,"post_id":7201347,"comment_id":8652768,"body_markdown":"I like this approace too and agree that the logic should be in the domain. My example just feels to much like a helper or utils class that I would preferable avoid.","body":"I like this approace too and agree that the logic should be in the domain. My example just feels to much like a helper or utils class that I would preferable avoid."},{"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"score":0,"creation_date":1314864342,"post_id":7201347,"comment_id":8747215,"body_markdown":"Thanks Joeri, this is an elegant solution.","body":"Thanks Joeri, this is an elegant solution."}],"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1314343566,"creation_date":1314343566,"answer_id":7201347,"question_id":7201231,"body_markdown":"Either rename the methods, or use polymorphism: use an interface, and then either put the clawback code in the objects themselves, or use double-dispatch (depending on your design paradigm and taste).\r\n\r\nWith code in objects that would be:\r\n\r\n    public interface Clawbackable{\r\n        void clawBack()\r\n    }\r\n    \r\n    \r\n    public class CommissionFacade\r\n    {\r\n    \r\n        public &lt;T extends Clawbackable&gt; void clawBack(Collection&lt;T&gt; objects)\r\n        {\r\n            for(T object: objects) \r\n            {\r\n                object.clawBack();\r\n            }           \r\n        }\r\n    }\r\n    \r\n    public class CommissionTrns implements Clawbackable {\r\n    \r\n        public void clawback(){\r\n           // do clawback for commissions\r\n        }\r\n    }\r\n    \r\n    public class FinanceRequest implements Clawbackable {\r\n    \r\n        public void clawBack(){\r\n          // do clwaback for FinanceRequest\r\n        }\r\n    \r\n    }\r\n\r\nI prefer this approach, since I&#39;m of the belief your domain should contain your logic; but I&#39;m not fully aware of your exact wishes, so I&#39;ll leave it up to you.\r\n\r\nWith a double dispatch, you would pass the &quot;ClawbackHandler&quot; to the clawback method, and on the handler call the appropriate method depending on the type.\r\n\r\n","title":"Java erasure with generic overloading (not overriding)","body":"<p>Either rename the methods, or use polymorphism: use an interface, and then either put the clawback code in the objects themselves, or use double-dispatch (depending on your design paradigm and taste).</p>\n\n<p>With code in objects that would be:</p>\n\n<pre><code>public interface Clawbackable{\n    void clawBack()\n}\n\n\npublic class CommissionFacade\n{\n\n    public &lt;T extends Clawbackable&gt; void clawBack(Collection&lt;T&gt; objects)\n    {\n        for(T object: objects) \n        {\n            object.clawBack();\n        }           \n    }\n}\n\npublic class CommissionTrns implements Clawbackable {\n\n    public void clawback(){\n       // do clawback for commissions\n    }\n}\n\npublic class FinanceRequest implements Clawbackable {\n\n    public void clawBack(){\n      // do clwaback for FinanceRequest\n    }\n\n}\n</code></pre>\n\n<p>I prefer this approach, since I'm of the belief your domain should contain your logic; but I'm not fully aware of your exact wishes, so I'll leave it up to you.</p>\n\n<p>With a double dispatch, you would pass the \"ClawbackHandler\" to the clawback method, and on the handler call the appropriate method depending on the type.</p>\n"},{"tags":[],"owner":{"account_id":19413575,"reputation":381,"user_id":14197561,"display_name":"Aleksandr Baklanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668243730,"creation_date":1668243730,"answer_id":74411632,"question_id":7201231,"body_markdown":"Here is a trick with overloading by the second [varargs][1] parameter for the `CommissionFacade` class from the question:\r\n\r\n    public class CommissionFacade {\r\n        public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList, FinanceRequestType ...ignore) {\r\n            // code          \r\n        }\r\n    \r\n        public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList, CommissionTrnsType ...ignore) {\r\n            // code\r\n        }\r\n    \r\n        /*******TYPES TO TRICK TYPE ERASURE*******/\r\n        private static class FinanceRequestType {}\r\n        private static class CommissionTrnsType {}\r\n    }\r\n\r\nThe code snippet to fast-check this trick works:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    class HelloType {\r\n        public static void main(String[] args) {\r\n            method(new ArrayList&lt;Integer&gt;());\r\n            method(new ArrayList&lt;Double&gt;());\r\n        }\r\n        \r\n        static void method(ArrayList&lt;Integer&gt; ints, IntegerType ...ignore) {\r\n            System.out.println(&quot;Hello, Integer!&quot;);\r\n        }\r\n        \r\n        static void method(ArrayList&lt;Double&gt; dbs, DoubleType ...ignore) {\r\n            System.out.println(&quot;Hello, Double!&quot;);\r\n        }\r\n        \r\n        static class IntegerType {}\r\n        static class DoubleType {}\r\n    }\r\n\r\n \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html","title":"Java erasure with generic overloading (not overriding)","body":"<p>Here is a trick with overloading by the second <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a> parameter for the <code>CommissionFacade</code> class from the question:</p>\n<pre><code>public class CommissionFacade {\n    public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList, FinanceRequestType ...ignore) {\n        // code          \n    }\n\n    public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList, CommissionTrnsType ...ignore) {\n        // code\n    }\n\n    /*******TYPES TO TRICK TYPE ERASURE*******/\n    private static class FinanceRequestType {}\n    private static class CommissionTrnsType {}\n}\n</code></pre>\n<p>The code snippet to fast-check this trick works:</p>\n<pre><code>import java.util.ArrayList;\n\nclass HelloType {\n    public static void main(String[] args) {\n        method(new ArrayList&lt;Integer&gt;());\n        method(new ArrayList&lt;Double&gt;());\n    }\n    \n    static void method(ArrayList&lt;Integer&gt; ints, IntegerType ...ignore) {\n        System.out.println(&quot;Hello, Integer!&quot;);\n    }\n    \n    static void method(ArrayList&lt;Double&gt; dbs, DoubleType ...ignore) {\n        System.out.println(&quot;Hello, Double!&quot;);\n    }\n    \n    static class IntegerType {}\n    static class DoubleType {}\n}\n</code></pre>\n"}],"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15677,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":7201347,"answer_count":3,"score":21,"last_activity_date":1668243730,"creation_date":1314342785,"question_id":7201231,"body_markdown":"I have FinanceRequests and CommisionTransactions in my domain.\r\nIf I have a list of FinanceRequests each FinanceRequest could contain multiple CommisionTransactions that need to be clawed back. Dont worry how exactly that is done.\r\n\r\nThe class below (very bottom) makes me feel all fuzzy and warm since its succint and reuses existing code nicely. One problem Type erasure.\r\n\r\n    public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)  \r\n    public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\r\n\r\nThey both have the same signature after erasure, ie:  \r\n\r\n    Collection&lt;FinanceRequest&gt; --&gt; Collection&lt;Object&gt;  \r\n    Collection&lt;CommissionTrns&gt; --&gt; Collection&lt;Object&gt;  \r\n\r\nSo eclipse complainst that:  \r\nMethod clawBack(Collection&lt;CommissionTrns&gt;) has the same erasure clawBack(Collection&lt;E&gt;) as another method in type CommissionFacade\r\n\r\nAny suggestions to restructure this so that it still an elegant solution that makes good code reuse?\r\n\r\n--------------\r\n\r\n    public class CommissionFacade\r\n    {\r\n    \t/********FINANCE REQUESTS****************/\r\n        public void clawBack(FinanceRequest financeRequest)\r\n        {\r\n    \t\tCollection&lt;CommissionTrns&gt; commTrnsList = financeRequest.getCommissionTrnsList();\t\t\t\r\n    \t\tthis.clawBack(commTrnsList);\r\n        }\r\n    \t\r\n    \tpublic void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)\r\n    \t{\r\n    \t\tfor(FinanceRequest finReq : financeRequestList) \r\n    \t\t{\r\n    \t\t\tthis.clawBack(finReq);\r\n    \t\t}\t\t\t\r\n    \t}\r\n    \t\r\n        /********COMMISSION TRANSACTIOS****************/\r\n        public void clawBack(CommissionTrns commissionTrns)\r\n    \t{\r\n    \t\t//Do clawback for single CommissionTrns    \t\t\r\n    \t}\r\n        \r\n        public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\r\n    \t{\r\n    \t\tfor(CommissionTrns commTrn : commissionTrnsList) \r\n    \t\t{\r\n    \t\t\tthis.clawBack(commTrn);\r\n    \t\t}\r\n    \t}\r\n        \r\n    }\r\n\r\n\r\n\r\n","title":"Java erasure with generic overloading (not overriding)","body":"<p>I have FinanceRequests and CommisionTransactions in my domain.\nIf I have a list of FinanceRequests each FinanceRequest could contain multiple CommisionTransactions that need to be clawed back. Dont worry how exactly that is done.</p>\n\n<p>The class below (very bottom) makes me feel all fuzzy and warm since its succint and reuses existing code nicely. One problem Type erasure.</p>\n\n<pre><code>public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)  \npublic void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\n</code></pre>\n\n<p>They both have the same signature after erasure, ie:  </p>\n\n<pre><code>Collection&lt;FinanceRequest&gt; --&gt; Collection&lt;Object&gt;  \nCollection&lt;CommissionTrns&gt; --&gt; Collection&lt;Object&gt;  \n</code></pre>\n\n<p>So eclipse complainst that:<br>\nMethod clawBack(Collection) has the same erasure clawBack(Collection) as another method in type CommissionFacade</p>\n\n<p>Any suggestions to restructure this so that it still an elegant solution that makes good code reuse?</p>\n\n<hr>\n\n<pre><code>public class CommissionFacade\n{\n    /********FINANCE REQUESTS****************/\n    public void clawBack(FinanceRequest financeRequest)\n    {\n        Collection&lt;CommissionTrns&gt; commTrnsList = financeRequest.getCommissionTrnsList();           \n        this.clawBack(commTrnsList);\n    }\n\n    public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)\n    {\n        for(FinanceRequest finReq : financeRequestList) \n        {\n            this.clawBack(finReq);\n        }           \n    }\n\n    /********COMMISSION TRANSACTIOS****************/\n    public void clawBack(CommissionTrns commissionTrns)\n    {\n        //Do clawback for single CommissionTrns         \n    }\n\n    public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\n    {\n        for(CommissionTrns commTrn : commissionTrnsList) \n        {\n            this.clawBack(commTrn);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","glassfish","paypal-sandbox"],"answers":[{"comments":[{"owner":{"account_id":26239832,"reputation":13,"user_id":19914311,"display_name":"user19914311"},"score":0,"creation_date":1668407988,"post_id":74411424,"comment_id":131388819,"body_markdown":"Hi, I&#39;ve solved the logging problem and now there&#39;s another problem : \n`Severe:   [http-listener-1(5)] ERROR com.paypal.base.HttpConnection - Caught exception while handling error response\nSevere:   javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:131)\n\tat sun.security.ssl.TransportContext.fatal`\nDo you have any idea how to solve this? @Stephen C","body":"Hi, I&#39;ve solved the logging problem and now there&#39;s another problem :  <code>Severe:   [http-listener-1(5)] ERROR com.paypal.base.HttpConnection - Caught exception while handling error response Severe:   javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target \tat sun.security.ssl.Alert.createSSLException(Alert.java:131) \tat sun.security.ssl.TransportContext.fatal</code> Do you have any idea how to solve this? @Stephen C"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1668408158,"post_id":74411424,"comment_id":131388840,"body_markdown":"It is not unusual for fixing one problem to reveal another one.   And when you get a new problem, the first thing you should do is look for a solution **yourself**.   Have you done that?","body":"It is not unusual for fixing one problem to reveal another one.   And when you get a new problem, the first thing you should do is look for a solution <b>yourself</b>.   Have you done that?"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668243578,"creation_date":1668241494,"answer_id":74411424,"question_id":74410934,"body_markdown":"First of all, this is due to a webapp misconfiguration.  You need to read that link and take the action recommended to get properly functioning logging.\r\n\r\n    Severe: SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    Severe: SLF4J: Defaulting to no-operation (NOP) logger implementation \r\n    Severe: SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nThen these come from different editions of Java 8 \r\n\r\n    java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\r\n    java.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\r\n\r\nThe `HelloExtension` and `SSLExtension` classes are internal classes with the former replaced by the latter.\r\n\r\nBut note that the `NoClassDefFoundError` exceptions probably don&#39;t mean that the class is missing.  They probably mean that the classes static initialization failed ... or that a class that the class depends on failed static initialization.\r\n\r\nI would have expected there to be **other stacktraces** that correspond to the initialization failure.   Maybe they are missing because of the logging config problem.\r\n\r\n-------------------------\r\n\r\nIt is not clear what the actual problem is, but it looks like something is failing during initialization of the SSL code.  One possibility is that there is a problem with your SSL settings.  \r\n\r\nMy advice:\r\n\r\n1.  First fix the logging problem.\r\n2.  Next use the latest version of Java 8.  The chance that using an out-of-date Java 8 release will help is almost precisely zero.\r\n3.  Check any SSL settings that you are using in your web container.\r\n4.  Look for *other* stacktraces that explain *why* the following is happened:\r\n\r\n         Could not initialize class sun.security.ssl.SSLExtension","title":"java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension","body":"<p>First of all, this is due to a webapp misconfiguration.  You need to read that link and take the action recommended to get properly functioning logging.</p>\n<pre><code>Severe: SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSevere: SLF4J: Defaulting to no-operation (NOP) logger implementation \nSevere: SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>Then these come from different editions of Java 8</p>\n<pre><code>java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\n</code></pre>\n<p>The <code>HelloExtension</code> and <code>SSLExtension</code> classes are internal classes with the former replaced by the latter.</p>\n<p>But note that the <code>NoClassDefFoundError</code> exceptions probably don't mean that the class is missing.  They probably mean that the classes static initialization failed ... or that a class that the class depends on failed static initialization.</p>\n<p>I would have expected there to be <strong>other stacktraces</strong> that correspond to the initialization failure.   Maybe they are missing because of the logging config problem.</p>\n<hr />\n<p>It is not clear what the actual problem is, but it looks like something is failing during initialization of the SSL code.  One possibility is that there is a problem with your SSL settings.</p>\n<p>My advice:</p>\n<ol>\n<li><p>First fix the logging problem.</p>\n</li>\n<li><p>Next use the latest version of Java 8.  The chance that using an out-of-date Java 8 release will help is almost precisely zero.</p>\n</li>\n<li><p>Check any SSL settings that you are using in your web container.</p>\n</li>\n<li><p>Look for <em>other</em> stacktraces that explain <em>why</em> the following is happened:</p>\n<pre><code> Could not initialize class sun.security.ssl.SSLExtension\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26239832,"reputation":13,"user_id":19914311,"display_name":"user19914311"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668243578,"creation_date":1668235790,"question_id":74410934,"body_markdown":"I&#39;m currently working on a project which integrates PayPal payment into Java Maven web application using **NetBeans 8.2, jdk 1.8.0_311, and glassfish 5.0**.\r\n\r\nThere are **two **files, \r\n\r\n**checkout.jsp :**\r\n\r\n```\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Check Out&lt;/title&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;\r\n            table { border: 0; }\r\n            table td { padding: 10px; }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div align=&quot;center&quot;&gt;\r\n            &lt;h1&gt;Check Out&lt;/h1&gt;\r\n            &lt;br/&gt;\r\n            &lt;form action=&quot;./authorize_payment&quot; method=&quot;post&quot;&gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Product/Service:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;product&quot; value=&quot;Next iPhone&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Sub Total:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subtotal&quot; value=&quot;100&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Shipping:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;shipping&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;    \r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Tax:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;tax&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;    \r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Total Amount:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;total&quot; value=&quot;120&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;\r\n                        &lt;input type=&quot;submit&quot; value=&quot;Checkout&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n   &lt;/html&gt;\r\n\r\n```\r\n\r\nand \r\n**authorize_payment.java (servlet):**\r\n\r\n\r\n```\r\n\r\n```\r\n    package net.codejava.mavenproject1;\r\n \r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.*;\r\n \r\n    import com.paypal.base.rest.PayPalRESTException;\r\n \r\n    @WebServlet(&quot;/authorize_payment&quot;)\r\n    public class authorize_payment extends HttpServlet {\r\n    private static final long serialVersionUID = 1L;\r\n \r\n    public authorize_payment() {\r\n    }\r\n \r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        String product = request.getParameter(&quot;product&quot;);\r\n        String subtotal = request.getParameter(&quot;subtotal&quot;);\r\n        String shipping = request.getParameter(&quot;shipping&quot;);\r\n        String tax = request.getParameter(&quot;tax&quot;);\r\n        String total = request.getParameter(&quot;total&quot;);\r\n         \r\n        OrderDetail orderDetail = new OrderDetail(product, subtotal, shipping, tax, total);\r\n \r\n        try {\r\n            PaymentServices paymentServices = new PaymentServices();\r\n            String approvalLink = paymentServices.authorizePayment(orderDetail);\r\n \r\n            response.sendRedirect(approvalLink);\r\n             \r\n        } catch (PayPalRESTException ex) {\r\n            request.setAttribute(&quot;errorMessage&quot;, ex.getMessage());\r\n            ex.printStackTrace();\r\n            request.getRequestDispatcher(&quot;error.jsp&quot;).forward(request, response);\r\n        }\r\n    }\r\n \r\n    }\r\n```\r\n\r\n```\r\n\r\nWhen I clicked the &quot;checkout&quot; button on checkout.jsp, it showed : \r\n\r\n**exception**\r\n\r\njavax.servlet.ServletException: The HTTP Monitor server side component intercepted and rethrew an error while processing a JSP or servlet. Please see the stack trace under the root cause message below to identify the problem.\r\n\r\n**root cause**\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\r\n\r\n**Full Stack Traces**\r\n\r\n\r\nSevere:   SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSevere:   SLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSevere:   SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nWarning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\r\njava.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\r\n\tat sun.security.ssl.SSLExtension.&lt;clinit&gt;(SSLExtension.java:225)\r\n\tat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\r\n\tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\r\n\tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\r\n\tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\r\n\tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\r\n\tat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\r\n\tat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\r\n\tat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\r\n\tat com.paypal.api.payments.Payment.create(Payment.java:149)\r\n\tat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\r\n\tat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nWarning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\r\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\r\n\tat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\r\n\tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\r\n\tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\r\n\tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\r\n\tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\r\n\tat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\r\n\tat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\r\n\tat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\r\n\tat com.paypal.api.payments.Payment.create(Payment.java:149)\r\n\tat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\r\n\tat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\nI&#39;ve tried to downgrade the jdk version to **jdk1.8.0_151, jdk1.8.0_181, jdk1.8.0_221, and jdk1.8.0_291**, but I still got the same error.\r\nI&#39;ve also tried to run the program using **glassfish server 5.1** but still no luck.\r\nI&#39;ve also tried the to **remove sun file in the grizzly-npn-bootstrap.jar** as suggested in [this post](https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found), but unfortunately it didn&#39;t work.\r\n\r\nI&#39;m hoping someone can help me in identifying what the problem is, as I&#39;ve been trying to solve it for nearly a week and it&#39;s driving me insane.","title":"java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension","body":"<p>I'm currently working on a project which integrates PayPal payment into Java Maven web application using <strong>NetBeans 8.2, jdk 1.8.0_311, and glassfish 5.0</strong>.</p>\n<p>There are **two **files,</p>\n<p><strong>checkout.jsp :</strong></p>\n<pre><code>    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Check Out&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            table { border: 0; }\n            table td { padding: 10px; }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div align=&quot;center&quot;&gt;\n            &lt;h1&gt;Check Out&lt;/h1&gt;\n            &lt;br/&gt;\n            &lt;form action=&quot;./authorize_payment&quot; method=&quot;post&quot;&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Product/Service:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;product&quot; value=&quot;Next iPhone&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Sub Total:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subtotal&quot; value=&quot;100&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Shipping:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;shipping&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;    \n                &lt;tr&gt;\n                    &lt;td&gt;Tax:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;tax&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;    \n                &lt;tr&gt;\n                    &lt;td&gt;Total Amount:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;total&quot; value=&quot;120&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;\n                        &lt;input type=&quot;submit&quot; value=&quot;Checkout&quot; /&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n   &lt;/html&gt;\n\n</code></pre>\n<p>and\n<strong>authorize_payment.java (servlet):</strong></p>\n<pre><code>\n</code></pre>\n<pre><code>package net.codejava.mavenproject1;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.*;\n\nimport com.paypal.base.rest.PayPalRESTException;\n\n@WebServlet(&quot;/authorize_payment&quot;)\npublic class authorize_payment extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n\npublic authorize_payment() {\n}\n\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    String product = request.getParameter(&quot;product&quot;);\n    String subtotal = request.getParameter(&quot;subtotal&quot;);\n    String shipping = request.getParameter(&quot;shipping&quot;);\n    String tax = request.getParameter(&quot;tax&quot;);\n    String total = request.getParameter(&quot;total&quot;);\n     \n    OrderDetail orderDetail = new OrderDetail(product, subtotal, shipping, tax, total);\n\n    try {\n        PaymentServices paymentServices = new PaymentServices();\n        String approvalLink = paymentServices.authorizePayment(orderDetail);\n\n        response.sendRedirect(approvalLink);\n         \n    } catch (PayPalRESTException ex) {\n        request.setAttribute(&quot;errorMessage&quot;, ex.getMessage());\n        ex.printStackTrace();\n        request.getRequestDispatcher(&quot;error.jsp&quot;).forward(request, response);\n    }\n}\n\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>When I clicked the &quot;checkout&quot; button on checkout.jsp, it showed :</p>\n<p><strong>exception</strong></p>\n<p>javax.servlet.ServletException: The HTTP Monitor server side component intercepted and rethrew an error while processing a JSP or servlet. Please see the stack trace under the root cause message below to identify the problem.</p>\n<p><strong>root cause</strong></p>\n<p>java.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension</p>\n<p><strong>Full Stack Traces</strong></p>\n<p>Severe:   SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSevere:   SLF4J: Defaulting to no-operation (NOP) logger implementation\nSevere:   SLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.\nWarning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\njava.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\nat sun.security.ssl.SSLExtension.(SSLExtension.java:225)\nat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\nat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\nat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\nat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\nat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\nat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\nat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\nat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\nat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\nat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\nat com.paypal.api.payments.Payment.create(Payment.java:149)\nat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\nat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\nat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\nat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\nat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\nat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>Warning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\nat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\nat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\nat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\nat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\nat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\nat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\nat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\nat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\nat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\nat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\nat com.paypal.api.payments.Payment.create(Payment.java:149)\nat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\nat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\nat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\nat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\nat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\nat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>I've tried to downgrade the jdk version to <strong>jdk1.8.0_151, jdk1.8.0_181, jdk1.8.0_221, and jdk1.8.0_291</strong>, but I still got the same error.\nI've also tried to run the program using <strong>glassfish server 5.1</strong> but still no luck.\nI've also tried the to <strong>remove sun file in the grizzly-npn-bootstrap.jar</strong> as suggested in <a href=\"https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found\">this post</a>, but unfortunately it didn't work.</p>\n<p>I'm hoping someone can help me in identifying what the problem is, as I've been trying to solve it for nearly a week and it's driving me insane.</p>\n"},{"tags":["java","cryptography"],"answers":[{"tags":[],"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354467984,"creation_date":1354467984,"answer_id":13671583,"question_id":13671487,"body_markdown":"The below code may help you\r\n\r\n    CertPathBuilder cpb = CertPathBuilder.getInstance(&quot;PKIX&quot;);\r\n    X509CertSelector certSelector = new X509CertSelector();\r\n    certSelector.setCertificate((X509Certificate) myKeyStore.getCertificate(&quot;mykey&quot;));\r\n    PKIXBuilderParameters cpp = new PKIXBuilderParameters(trustAnchors, certSelector);\r\n    cpp.addCertStore(cs);\r\n    cpp.setRevocationEnabled(true);\r\n    cpp.setMaxPathLength(6);\r\n    cpp.setDate(new Date());\r\n    \r\n    CertPathBuilderResult a = cpb.build(cpp);\r\n    CertPath certPath = a.getCertPath();","title":"Generate x509certificate certpath in JAVA","body":"<p>The below code may help you</p>\n\n<pre><code>CertPathBuilder cpb = CertPathBuilder.getInstance(\"PKIX\");\nX509CertSelector certSelector = new X509CertSelector();\ncertSelector.setCertificate((X509Certificate) myKeyStore.getCertificate(\"mykey\"));\nPKIXBuilderParameters cpp = new PKIXBuilderParameters(trustAnchors, certSelector);\ncpp.addCertStore(cs);\ncpp.setRevocationEnabled(true);\ncpp.setMaxPathLength(6);\ncpp.setDate(new Date());\n\nCertPathBuilderResult a = cpb.build(cpp);\nCertPath certPath = a.getCertPath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7143977,"reputation":61,"user_id":5460448,"display_name":"zhezha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668242634,"creation_date":1668242634,"answer_id":74411524,"question_id":13671487,"body_markdown":"CSR reply is normally signed by intermediate CA, hence the cert chain is incomplete missing root CA. Suppose you have all the root CA certs in the collection `trustCerts`, and the cert array `certChain` from CSR reply.\r\n\r\nTo build complete cert chain, firstly, add all the root CA certs to `trustAnchors`.\r\n\r\n```Java\r\nSet&lt;TrustAnchor&gt; trustAnchors = new HashSet&lt;&gt;();\r\ntrustAnchors.addAll(trustCerts.stream.map(cert -&gt; new TrustAnchors(cert, null)).toList());\r\n```\r\n\r\nThen configure `CertSelector` with the targeting end certificate.\r\n```Java\r\nX509CertSelector selector = new X509CertSelector();\r\nselector.setCertificate(certChain[0]);\r\n```\r\n\r\nCreate build parameters. Disable revocation check if not using it.\r\n```Java\r\nPKIXBuilderParameters parameters = new PKIXBuilderParameters(trustAnchors, selector);\r\nparameters.setRevocationEnabled(false);\r\n```\r\n\r\nAdd intermediate CA certs into build parameters. Since `certChain` contains both intermediate CA and end certificate, just add it to parameter.\r\n```Java\r\nCertStore intermediate = CertStore.getInstance(&quot;Collection&quot;, new CollectionCertStoreParameters(Arrays.asList(certChain)));\r\nparameters.addCertStore(intermediate);\r\n```\r\n\r\nInstantiate builder instance and build path\r\n```Java\r\nCertPathBuilder cpb = CertPathBuilder.getInstance(&quot;PKIX&quot;);\r\nPKIXCertPathBuilderResult cpbResult = (PKIXCertPathBuilderResult) cpb.build(parameters);\r\nCertPath cp = cpbResult.getCertPath();\r\nList&lt;X509Certificate&gt; completeCertChain = (List&lt;X509Certificate&gt;) cp.getCertificates();\r\n```","title":"Generate x509certificate certpath in JAVA","body":"<p>CSR reply is normally signed by intermediate CA, hence the cert chain is incomplete missing root CA. Suppose you have all the root CA certs in the collection <code>trustCerts</code>, and the cert array <code>certChain</code> from CSR reply.</p>\n<p>To build complete cert chain, firstly, add all the root CA certs to <code>trustAnchors</code>.</p>\n<pre><code>Set&lt;TrustAnchor&gt; trustAnchors = new HashSet&lt;&gt;();\ntrustAnchors.addAll(trustCerts.stream.map(cert -&gt; new TrustAnchors(cert, null)).toList());\n</code></pre>\n<p>Then configure <code>CertSelector</code> with the targeting end certificate.</p>\n<pre><code>X509CertSelector selector = new X509CertSelector();\nselector.setCertificate(certChain[0]);\n</code></pre>\n<p>Create build parameters. Disable revocation check if not using it.</p>\n<pre><code>PKIXBuilderParameters parameters = new PKIXBuilderParameters(trustAnchors, selector);\nparameters.setRevocationEnabled(false);\n</code></pre>\n<p>Add intermediate CA certs into build parameters. Since <code>certChain</code> contains both intermediate CA and end certificate, just add it to parameter.</p>\n<pre><code>CertStore intermediate = CertStore.getInstance(&quot;Collection&quot;, new CollectionCertStoreParameters(Arrays.asList(certChain)));\nparameters.addCertStore(intermediate);\n</code></pre>\n<p>Instantiate builder instance and build path</p>\n<pre><code>CertPathBuilder cpb = CertPathBuilder.getInstance(&quot;PKIX&quot;);\nPKIXCertPathBuilderResult cpbResult = (PKIXCertPathBuilderResult) cpb.build(parameters);\nCertPath cp = cpbResult.getCertPath();\nList&lt;X509Certificate&gt; completeCertChain = (List&lt;X509Certificate&gt;) cp.getCertificates();\n</code></pre>\n"}],"owner":{"account_id":1425867,"reputation":622,"user_id":1349407,"accept_rate":76,"display_name":"user1349407"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2181,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":13671583,"answer_count":2,"score":2,"last_activity_date":1668242634,"creation_date":1354467463,"question_id":13671487,"body_markdown":"I successfully make X.509 certificate from certificate request.\r\n\r\nHowever, I need to insert CERT Path informatin in the X.509 certificate.\r\n\r\nI know that I have to use CertPathBuilder method but I don&#39;t know how to use it.\r\n\r\ncould you give me an code example that suitable for the following code?\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.math.BigInteger;\r\n    import java.security.KeyPair;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Date;\r\n    import java.util.Enumeration;\r\n    import org.bouncycastle.asn1.ASN1Set;\r\n    import org.bouncycastle.asn1.DERObjectIdentifier;\r\n    import org.bouncycastle.asn1.pkcs.Attribute;\r\n    import org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers;\r\n    import org.bouncycastle.asn1.x509.BasicConstraints;\r\n    import org.bouncycastle.asn1.x509.ExtendedKeyUsage;\r\n    import org.bouncycastle.asn1.x509.KeyPurposeId;\r\n    import org.bouncycastle.asn1.x509.KeyUsage;\r\n    import org.bouncycastle.asn1.x509.X509Extension;\r\n    import org.bouncycastle.asn1.x509.X509Extensions;\r\n    import org.bouncycastle.jce.PKCS10CertificationRequest;\r\n    import org.bouncycastle.openssl.PEMReader;\r\n    import org.bouncycastle.openssl.PEMWriter;\r\n    import org.bouncycastle.x509.X509V3CertificateGenerator;\r\n    import org.bouncycastle.x509.extension.AuthorityKeyIdentifierStructure;\r\n    import org.bouncycastle.x509.extension.SubjectKeyIdentifierStructure;\r\n    import chapter6.X509V1CreateExample;\r\n\r\n\r\n    //example of a basic CA\r\n    public class PKCS10CertCreateExample\r\n    {\r\n    \tpublic static X509Certificate[] buildChain() throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\tPEMReader pRd = new PEMReader(\r\n    \t\t\t\t     new InputStreamReader(\r\n    \t\t\t\t         new FileInputStream(&quot;pkcs10.req&quot;)));\r\n    \t\t\r\n    \t\tPKCS10CertificationRequest request = (PKCS10CertificationRequest)pRd.readObject();\r\n    \t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n    \t\t//create a root certificate\r\n    \t\tKeyPair rootPair=chapter6.Utils.generateRSAKeyPair();\r\n\t\tX509Certificate rootCert = X509V1CreateExample.generateV1Certificate(rootPair);\r\n\t\t\t\t\r\n\t\t//validate the certification request\r\n\t\tif(!request.verify(&quot;BC&quot;))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;request failed to verify!&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\t\r\n\t\t//create the certificate using the information in the request\r\n\t\tX509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\r\n\t\t\r\n\t\tcertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n\t\tcertGen.setIssuerDN(rootCert.getSubjectX500Principal());\r\n\t\tcertGen.setNotBefore(new Date(System.currentTimeMillis()));\r\n\t\tcertGen.setNotAfter(new Date(System.currentTimeMillis()+50000));\r\n\t\tcertGen.setSubjectDN(request.getCertificationRequestInfo().getSubject());\r\n\t\tcertGen.setPublicKey(request.getPublicKey(&quot;BC&quot;));\r\n\t\tcertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\r\n\t\t\r\n\t\tcertGen.addExtension(X509Extensions.AuthorityKeyIdentifier, false, new AuthorityKeyIdentifierStructure(rootCert));\r\n\t\tcertGen.addExtension(X509Extensions.SubjectKeyIdentifier, false, new SubjectKeyIdentifierStructure(request.getPublicKey(&quot;BC&quot;)));\r\n\t\tcertGen.addExtension(X509Extensions.BasicConstraints, true, new BasicConstraints(false));\r\n\t\t//certGen.addExtension(X509Extensions.KeyUsage, true, new BasicConstraints(false));\r\n\t\tcertGen.addExtension(X509Extensions.KeyUsage, true, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment));\r\n\t\tcertGen.addExtension(X509Extensions.ExtendedKeyUsage, true, new ExtendedKeyUsage(KeyPurposeId.id_kp_serverAuth));\r\n\t\t\r\n\t\t//extract the extension request attribute\r\n\t\tASN1Set attributes = request.getCertificationRequestInfo().getAttributes();\r\n\t\t\r\n\t\tfor(int i=0;i!=attributes.size();i++)\r\n\t\t{\r\n\t\t   Attribute attr = Attribute.getInstance(attributes.getObjectAt(i));\r\n\t\t   \r\n\t\t   //process extension request\r\n\t\t   if(attr.getAttrType().equals(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest))\r\n\t\t   {\r\n\t\t\t\t   X509Extensions extensions = X509Extensions.getInstance(attr.getAttrValues().getObjectAt(0));\r\n\t\t\t\t   \r\n\t\t\t\t   Enumeration&lt;?&gt; e = extensions.oids();\r\n\t\t\t\t   while(e.hasMoreElements())\r\n\t\t\t\t   {\r\n\t\t\t\t\t   DERObjectIdentifier oid = (DERObjectIdentifier)e.nextElement();\r\n\t\t\t\t\t   X509Extension ext = extensions.getExtension(oid);\r\n\t\t\t\t\t   \r\n\t\t\t\t\t   certGen.addExtension(oid, ext.isCritical(), ext.getValue().getOctets());\r\n\t\t\t\t   }   \r\n\t\t\t   }\t   \r\n\t\t   }\r\n\t\tX509Certificate issuedCert = certGen.generateX509Certificate(rootPair.getPrivate());\r\n\t    return new X509Certificate[]{issuedCert, rootCert};\r\n\t\t}\r\n\t\t\r\n\t    public static void pemEncodeToFile(String filename, Object obj, char[] password) throws Exception{\r\n\t\tPEMWriter pw = new PEMWriter(new FileWriter(filename));\r\n\t\t   if (password != null &amp;&amp; password.length &gt; 0) {\r\n\t\t\t   pw.writeObject(obj, &quot;DESEDE&quot;, password, new SecureRandom());\r\n\t\t   } else {\r\n\t\t\t   pw.writeObject(obj);\r\n\t\t   }\r\n\t\t   pw.flush();\r\n\t\t   pw.close();\r\n    \t}\r\n\t    \r\n  \t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tX509Certificate[] chain = buildChain();\r\n\t\t\tPEMWriter pemWrt = new PEMWriter(new OutputStreamWriter(System.out));\r\n\t\t\tpemWrt.writeObject(chain[0]);\r\n\t\t\tpemEncodeToFile(&quot;pkcs10.pem&quot;, chain[0], null);\r\n\t\t\tpemWrt.close();\r\n\r\n\t\t}\r\n\t\t   \r\n\t}\r\n","title":"Generate x509certificate certpath in JAVA","body":"<p>I successfully make X.509 certificate from certificate request.</p>\n\n<p>However, I need to insert CERT Path informatin in the X.509 certificate.</p>\n\n<p>I know that I have to use CertPathBuilder method but I don't know how to use it.</p>\n\n<p>could you give me an code example that suitable for the following code?</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.math.BigInteger;\nimport java.security.KeyPair;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\nimport java.util.Date;\nimport java.util.Enumeration;\nimport org.bouncycastle.asn1.ASN1Set;\nimport org.bouncycastle.asn1.DERObjectIdentifier;\nimport org.bouncycastle.asn1.pkcs.Attribute;\nimport org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers;\nimport org.bouncycastle.asn1.x509.BasicConstraints;\nimport org.bouncycastle.asn1.x509.ExtendedKeyUsage;\nimport org.bouncycastle.asn1.x509.KeyPurposeId;\nimport org.bouncycastle.asn1.x509.KeyUsage;\nimport org.bouncycastle.asn1.x509.X509Extension;\nimport org.bouncycastle.asn1.x509.X509Extensions;\nimport org.bouncycastle.jce.PKCS10CertificationRequest;\nimport org.bouncycastle.openssl.PEMReader;\nimport org.bouncycastle.openssl.PEMWriter;\nimport org.bouncycastle.x509.X509V3CertificateGenerator;\nimport org.bouncycastle.x509.extension.AuthorityKeyIdentifierStructure;\nimport org.bouncycastle.x509.extension.SubjectKeyIdentifierStructure;\nimport chapter6.X509V1CreateExample;\n\n\n//example of a basic CA\npublic class PKCS10CertCreateExample\n{\n    public static X509Certificate[] buildChain() throws Exception\n    {\n\n        PEMReader pRd = new PEMReader(\n                     new InputStreamReader(\n                         new FileInputStream(\"pkcs10.req\")));\n\n        PKCS10CertificationRequest request = (PKCS10CertificationRequest)pRd.readObject();\n\n\n\n\n\n        //create a root certificate\n        KeyPair rootPair=chapter6.Utils.generateRSAKeyPair();\n    X509Certificate rootCert = X509V1CreateExample.generateV1Certificate(rootPair);\n\n    //validate the certification request\n    if(!request.verify(\"BC\"))\n    {\n        System.out.println(\"request failed to verify!\");\n        System.exit(1);\n    }\n\n    //create the certificate using the information in the request\n    X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\n\n    certGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n    certGen.setIssuerDN(rootCert.getSubjectX500Principal());\n    certGen.setNotBefore(new Date(System.currentTimeMillis()));\n    certGen.setNotAfter(new Date(System.currentTimeMillis()+50000));\n    certGen.setSubjectDN(request.getCertificationRequestInfo().getSubject());\n    certGen.setPublicKey(request.getPublicKey(\"BC\"));\n    certGen.setSignatureAlgorithm(\"SHA256WithRSAEncryption\");\n\n    certGen.addExtension(X509Extensions.AuthorityKeyIdentifier, false, new AuthorityKeyIdentifierStructure(rootCert));\n    certGen.addExtension(X509Extensions.SubjectKeyIdentifier, false, new SubjectKeyIdentifierStructure(request.getPublicKey(\"BC\")));\n    certGen.addExtension(X509Extensions.BasicConstraints, true, new BasicConstraints(false));\n    //certGen.addExtension(X509Extensions.KeyUsage, true, new BasicConstraints(false));\n    certGen.addExtension(X509Extensions.KeyUsage, true, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment));\n    certGen.addExtension(X509Extensions.ExtendedKeyUsage, true, new ExtendedKeyUsage(KeyPurposeId.id_kp_serverAuth));\n\n    //extract the extension request attribute\n    ASN1Set attributes = request.getCertificationRequestInfo().getAttributes();\n\n    for(int i=0;i!=attributes.size();i++)\n    {\n       Attribute attr = Attribute.getInstance(attributes.getObjectAt(i));\n\n       //process extension request\n       if(attr.getAttrType().equals(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest))\n       {\n               X509Extensions extensions = X509Extensions.getInstance(attr.getAttrValues().getObjectAt(0));\n\n               Enumeration&lt;?&gt; e = extensions.oids();\n               while(e.hasMoreElements())\n               {\n                   DERObjectIdentifier oid = (DERObjectIdentifier)e.nextElement();\n                   X509Extension ext = extensions.getExtension(oid);\n\n                   certGen.addExtension(oid, ext.isCritical(), ext.getValue().getOctets());\n               }   \n           }       \n       }\n    X509Certificate issuedCert = certGen.generateX509Certificate(rootPair.getPrivate());\n    return new X509Certificate[]{issuedCert, rootCert};\n    }\n\n    public static void pemEncodeToFile(String filename, Object obj, char[] password) throws Exception{\n    PEMWriter pw = new PEMWriter(new FileWriter(filename));\n       if (password != null &amp;&amp; password.length &gt; 0) {\n           pw.writeObject(obj, \"DESEDE\", password, new SecureRandom());\n       } else {\n           pw.writeObject(obj);\n       }\n       pw.flush();\n       pw.close();\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        X509Certificate[] chain = buildChain();\n        PEMWriter pemWrt = new PEMWriter(new OutputStreamWriter(System.out));\n        pemWrt.writeObject(chain[0]);\n        pemEncodeToFile(\"pkcs10.pem\", chain[0], null);\n        pemWrt.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668244079,"post_id":74411505,"comment_id":131361960,"body_markdown":"check the &quot;Project &quot;Structure&quot; in IDEA, it should have some setting for the &quot;Compiler Output&quot; (or similar, usually not an IDEA user myself)","body":"check the &quot;Project &quot;Structure&quot; in IDEA, it should have some setting for the &quot;Compiler Output&quot; (or similar, usually not an IDEA user myself)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668248905,"post_id":74411505,"comment_id":131362707,"body_markdown":"I don&#39;t use it either but am going to take a wild guess that the &#39;bin files&#39; are created when you compile the source and none has been compiled yet","body":"I don&#39;t use it either but am going to take a wild guess that the &#39;bin files&#39; are created when you compile the source and none has been compiled yet"},{"owner":{"account_id":139677,"reputation":1799,"user_id":345427,"accept_rate":88,"display_name":"phreed"},"score":1,"creation_date":1668441120,"post_id":74411505,"comment_id":131399657,"body_markdown":"Are you referring to generated files, dependencies, something else?\nIt is not clear which window is being displayed.","body":"Are you referring to generated files, dependencies, something else? It is not clear which window is being displayed."},{"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"score":0,"creation_date":1668573209,"post_id":74411505,"comment_id":131435931,"body_markdown":"Hi @phreed,  It has not compiled yet. and I have to refer this bin files to add as a path.","body":"Hi @phreed,  It has not compiled yet. and I have to refer this bin files to add as a path."}],"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668242410,"creation_date":1668242410,"question_id":74411505,"body_markdown":"I could not able to find bin files in my Intellij project, How can I add them ? Can anyone help me ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZEQqn.png","title":"Not able to find &#39;bin&#39; files in IntelliJ IDE Project","body":"<p>I could not able to find bin files in my Intellij project, How can I add them ? Can anyone help me ?</p>\n<p><a href=\"https://i.stack.imgur.com/ZEQqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZEQqn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase","android-layout"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1668241981,"post_id":74411383,"comment_id":131361667,"body_markdown":"I did some Googling for this.  It seems that this message is a &quot;analyzer warning&quot; that doesn&#39;t prevent your code from trying to run, and your code may run fine even if you&#39;re getting this warning.  Does this track with your experience?  Is your code able to run?  Is it giving the right result?  If so, then you might want/need to just figure out a way to suppress the warning.","body":"I did some Googling for this.  It seems that this message is a &quot;analyzer warning&quot; that doesn&#39;t prevent your code from trying to run, and your code may run fine even if you&#39;re getting this warning.  Does this track with your experience?  Is your code able to run?  Is it giving the right result?  If so, then you might want/need to just figure out a way to suppress the warning."}],"answers":[{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1668242840,"post_id":74411501,"comment_id":131361781,"body_markdown":"Nice answer!  Nice that you give multiple options for how to suppress the warning. - #2 seems like the most robust solution.  Having all of your query code in a single try/catch that catches the Exception that is thrown by that method would let you nicely deal with missing columns in a single place.","body":"Nice answer!  Nice that you give multiple options for how to suppress the warning. - #2 seems like the most robust solution.  Having all of your query code in a single try/catch that catches the Exception that is thrown by that method would let you nicely deal with missing columns in a single place."}],"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668242355,"creation_date":1668242355,"answer_id":74411501,"question_id":74411383,"body_markdown":"It is an Android lint warning, not an error. Some options:\r\n\r\n 1. Suppress the warning with e.g. `@SuppressLint(&quot;Range&quot;)`\r\n\r\n 2. Use `getColumnIndexOrThrow()` instead of `getColumnIndex()`. The first throws an exception on missing columns, the latter returns -1.\r\n\r\n 3. Move the `getColumnIndex()` outside of the `get...()` call and store the index to a variable. That prevents lint from seeing the issue; you can also check for `&gt;= 0` yourself and act accordingly.","title":"How to solve this error Value must be ≥ 0 but `getColumnIndex` can be -1","body":"<p>It is an Android lint warning, not an error. Some options:</p>\n<ol>\n<li><p>Suppress the warning with e.g. <code>@SuppressLint(&quot;Range&quot;)</code></p>\n</li>\n<li><p>Use <code>getColumnIndexOrThrow()</code> instead of <code>getColumnIndex()</code>. The first throws an exception on missing columns, the latter returns -1.</p>\n</li>\n<li><p>Move the <code>getColumnIndex()</code> outside of the <code>get...()</code> call and store the index to a variable. That prevents lint from seeing the issue; you can also check for <code>&gt;= 0</code> yourself and act accordingly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19447379,"reputation":11,"user_id":14224557,"display_name":"Black_Devil007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668242355,"creation_date":1668241093,"question_id":74411383,"body_markdown":"error comes in this code\r\n\r\n    String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n    \r\n    String phoneNo=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))\r\n\r\n\r\n```\r\nprivate ArrayList getAllPhoneContacts(){\r\n    ArrayList&lt;String&gt; phoneList = new ArrayList&lt;&gt;();\r\n    ContentResolver contentResolver = getContentResolver();\r\n    Cursor cursor = contentResolver.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);\r\n    if ((cursor !=null ? cursor.getCount() : 0) &gt; 0){\r\n        while(cursor.moveToNext()){\r\n            String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n  \r\n            if (cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0){\r\n                Cursor phoneCursor = contentResolver.query(\r\n                        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                        null,\r\n                        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n                        new String[]{id},null);\r\n                while(phoneCursor.moveToNext()){\r\n                    String phoneNo = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                    phoneList.add(phoneNo);\r\n                }\r\n                phoneCursor.close();\r\n            }\r\n        }\r\n    }\r\n    if (cursor !=null){\r\n        cursor.close();\r\n    }\r\n    return phoneList;\r\n}\r\n```\r\n\r\n","title":"How to solve this error Value must be ≥ 0 but `getColumnIndex` can be -1","body":"<p>error comes in this code</p>\n<pre><code>String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n\nString phoneNo=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))\n</code></pre>\n<pre><code>private ArrayList getAllPhoneContacts(){\n    ArrayList&lt;String&gt; phoneList = new ArrayList&lt;&gt;();\n    ContentResolver contentResolver = getContentResolver();\n    Cursor cursor = contentResolver.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);\n    if ((cursor !=null ? cursor.getCount() : 0) &gt; 0){\n        while(cursor.moveToNext()){\n            String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n  \n            if (cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0){\n                Cursor phoneCursor = contentResolver.query(\n                        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                        null,\n                        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n                        new String[]{id},null);\n                while(phoneCursor.moveToNext()){\n                    String phoneNo = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                    phoneList.add(phoneNo);\n                }\n                phoneCursor.close();\n            }\n        }\n    }\n    if (cursor !=null){\n        cursor.close();\n    }\n    return phoneList;\n}\n</code></pre>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1668153299,"post_id":74399481,"comment_id":131341005,"body_markdown":"`HashMap.containsKey()` is O(1)","body":"<code>HashMap.containsKey()</code> is O(1)"}],"answers":[{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668153840,"creation_date":1668153378,"answer_id":74399518,"question_id":74399481,"body_markdown":"It actually depends on which implementation of the map is being used on your code.Suppose, for HashMap implementaion, it is **O(1)**, but for TreeMap implementaion it **O(log(N))**. For details, you can see these:\r\n\r\n[https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations][1]\r\n\r\n[https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-][2]\r\n\r\nSo, if you use HashMap, then time complexity is **O(N^2)**, and if you use TreeMap, it will be **O(N^2)(log(N))** in your case.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-","title":"What is the time complexity of this bit of pseudocode","body":"<p>It actually depends on which implementation of the map is being used on your code.Suppose, for HashMap implementaion, it is <strong>O(1)</strong>, but for TreeMap implementaion it <strong>O(log(N))</strong>. For details, you can see these:</p>\n<p><a href=\"https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\">Big-O summary for Java Collections Framework implementations?</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-</a></p>\n<p>So, if you use HashMap, then time complexity is <strong>O(N^2)</strong>, and if you use TreeMap, it will be <strong>O(N^2)(log(N))</strong> in your case.</p>\n"}],"owner":{"account_id":26898163,"reputation":1,"user_id":20475752,"display_name":"Rattla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668241881,"creation_date":1668153162,"question_id":74399481,"body_markdown":"    for loop {\r\n        initialize new hashmap \r\n        for loop {\r\n            if (hashmap.containsKey(i)\r\n                 map.put(something)\r\n        }\r\n    }\r\n\r\nbasically 2 nested for loops with a containsKey function inside it.\r\n\r\nim thinking its O(n^2) because of the nested loops but it could also be O(n^3) because of the containsKey function. could someone help me out here?","title":"What is the time complexity of this bit of pseudocode","body":"<pre><code>for loop {\n    initialize new hashmap \n    for loop {\n        if (hashmap.containsKey(i)\n             map.put(something)\n    }\n}\n</code></pre>\n<p>basically 2 nested for loops with a containsKey function inside it.</p>\n<p>im thinking its O(n^2) because of the nested loops but it could also be O(n^3) because of the containsKey function. could someone help me out here?</p>\n"},{"tags":["java","amazon-web-services","aws-java-sdk-2.x","aws-java-sdk-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"score":0,"creation_date":1613418294,"post_id":66201920,"comment_id":117064270,"body_markdown":"Thank you for the response!  The clarification between `query` and `BatchGetItem` is very helpful.  However, the documentation for query states that the response is at most 1 MB.  Could you please update your example to including pagination?","body":"Thank you for the response!  The clarification between <code>query</code> and <code>BatchGetItem</code> is very helpful.  However, the documentation for query states that the response is at most 1 MB.  Could you please update your example to including pagination?"},{"owner":{"account_id":14101577,"reputation":9545,"user_id":10186808,"display_name":"Balu Vyamajala"},"score":0,"creation_date":1613421568,"post_id":66201920,"comment_id":117065338,"body_markdown":"@Ram&#243;nJRomeroyVigil Updated Answer with paginated query example","body":"@Ram&#243;nJRomeroyVigil Updated Answer with paginated query example"}],"tags":[],"owner":{"account_id":14101577,"reputation":9545,"user_id":10186808,"display_name":"Balu Vyamajala"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613434500,"creation_date":1613354476,"answer_id":66201920,"question_id":66200980,"body_markdown":"Primary key &gt;&gt; Partition + HashKey \r\n\r\n[GetItem][1] is used to get one item by primary key.\r\n\r\n[BatchGetItem][2] is used to get multiple items from multiple tables using multiple primary keys. so, we need to pass list of Partition &amp; HashKey\r\n\r\nWe can never do a getItem or batchGetItem with partial key i.e just Partition Key.\r\n\r\nTo fetch items just by partition key, we must use [query][3] api, which returns maximum of 1 MB of data. To fetch all the records with a particular partition key, we can paginate by calling query api multiple times with exclusiveStartKey\r\n\r\n`.exclusiveStartKey(exclusiveStartKey)` helps us to start after a particular record.\r\n\r\n`.limit(10)` usually set to a reasonable number that doesn&#39;t exceed total size beyond 1 MB. if no of items is not a concern, we can exclude this.\r\n\r\n`response.lastEvaluatedKey()` capture this from the response to be used for next query.\r\n\r\n\tpublic static Map&lt;String, AttributeValue&gt; queryTable(DynamoDbClient ddb, String tableName, String partitionKeyName,\r\n\t\t\tString partitionKeyVal, Map&lt;String, AttributeValue&gt; exclusiveStartKey) {\r\n\r\n\t\tMap&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\r\n\r\n\t\tHashMap&lt;String, AttributeValue&gt; attrValues = new HashMap&lt;String, AttributeValue&gt;();\r\n\t\tattrValues.put(&quot;:&quot; + partitionKeyName, AttributeValue.builder().s(partitionKeyVal).build());\r\n\t\tQueryRequest queryReq = QueryRequest.builder().tableName(tableName).exclusiveStartKey(exclusiveStartKey)\r\n\t\t\t\t.keyConditionExpression(partitionKeyName + &quot; = :&quot; + partitionKeyName)\r\n\t\t\t\t.expressionAttributeValues(attrValues).limit(10).build();\r\n\r\n\t\ttry {\r\n\t\t\tQueryResponse response = ddb.query(queryReq);\r\n\t\t\tlastEvaluatedKey = response.lastEvaluatedKey();\r\n\t\t} catch (DynamoDbException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\treturn lastEvaluatedKey;\r\n\t}\r\n\r\nsample test on table `test` with `pk` as partition key for value `1` \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tRegion region = Region.US_EAST_1;\r\n\t\tDynamoDbClient ddb = DynamoDbClient.builder().region(region).build();\r\n\r\n\t\tMap&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\r\n\t\t// Loop until we don&#39;t get lastEvaluatedKey \r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;---------DynamoDb Query with Exclusive Start Key------------&quot; + lastEvaluatedKey);\r\n\t\t\tlastEvaluatedKey = queryTable(ddb, &quot;test&quot;, &quot;pk&quot;, &quot;1&quot;, lastEvaluatedKey);\r\n\t\t} while (lastEvaluatedKey != null &amp;&amp; !lastEvaluatedKey.isEmpty());\r\n\r\n\t\tddb.close();\r\n\t}\r\n\r\n\r\n  [1]: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/get-item.html\r\n  [2]: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/batch-get-item.html\r\n  [3]: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html","title":"Query More Than 100 DynamoDB Items that match a Partition Key using Java SDK 2?","body":"<p>Primary key &gt;&gt; Partition + HashKey</p>\n<p><a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/get-item.html\" rel=\"nofollow noreferrer\">GetItem</a> is used to get one item by primary key.</p>\n<p><a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/batch-get-item.html\" rel=\"nofollow noreferrer\">BatchGetItem</a> is used to get multiple items from multiple tables using multiple primary keys. so, we need to pass list of Partition &amp; HashKey</p>\n<p>We can never do a getItem or batchGetItem with partial key i.e just Partition Key.</p>\n<p>To fetch items just by partition key, we must use <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html\" rel=\"nofollow noreferrer\">query</a> api, which returns maximum of 1 MB of data. To fetch all the records with a particular partition key, we can paginate by calling query api multiple times with exclusiveStartKey</p>\n<p><code>.exclusiveStartKey(exclusiveStartKey)</code> helps us to start after a particular record.</p>\n<p><code>.limit(10)</code> usually set to a reasonable number that doesn't exceed total size beyond 1 MB. if no of items is not a concern, we can exclude this.</p>\n<p><code>response.lastEvaluatedKey()</code> capture this from the response to be used for next query.</p>\n<pre><code>public static Map&lt;String, AttributeValue&gt; queryTable(DynamoDbClient ddb, String tableName, String partitionKeyName,\n        String partitionKeyVal, Map&lt;String, AttributeValue&gt; exclusiveStartKey) {\n\n    Map&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\n\n    HashMap&lt;String, AttributeValue&gt; attrValues = new HashMap&lt;String, AttributeValue&gt;();\n    attrValues.put(&quot;:&quot; + partitionKeyName, AttributeValue.builder().s(partitionKeyVal).build());\n    QueryRequest queryReq = QueryRequest.builder().tableName(tableName).exclusiveStartKey(exclusiveStartKey)\n            .keyConditionExpression(partitionKeyName + &quot; = :&quot; + partitionKeyName)\n            .expressionAttributeValues(attrValues).limit(10).build();\n\n    try {\n        QueryResponse response = ddb.query(queryReq);\n        lastEvaluatedKey = response.lastEvaluatedKey();\n    } catch (DynamoDbException e) {\n        System.err.println(e.getMessage());\n        System.exit(1);\n    }\n    return lastEvaluatedKey;\n}\n</code></pre>\n<p>sample test on table <code>test</code> with <code>pk</code> as partition key for value <code>1</code></p>\n<pre><code>public static void main(String[] args) {\n\n    Region region = Region.US_EAST_1;\n    DynamoDbClient ddb = DynamoDbClient.builder().region(region).build();\n\n    Map&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\n    // Loop until we don't get lastEvaluatedKey \n    do {\n        System.out.println(&quot;---------DynamoDb Query with Exclusive Start Key------------&quot; + lastEvaluatedKey);\n        lastEvaluatedKey = queryTable(ddb, &quot;test&quot;, &quot;pk&quot;, &quot;1&quot;, lastEvaluatedKey);\n    } while (lastEvaluatedKey != null &amp;&amp; !lastEvaluatedKey.isEmpty());\n\n    ddb.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400796,"reputation":1,"user_id":1329619,"display_name":"Bill Davis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668241132,"creation_date":1667946545,"answer_id":74367854,"question_id":66200980,"body_markdown":"The accepted answer above is partially wrong (at least as of v2 of the Java SDK), you can do a batch get item with only a primary key. \r\n\r\nUnfortunately, the code I have is proprietary therefore I can&#39;t share it but just look at the Javadocs around batch get item. \r\n\r\nFor example: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemResponse.html\r\n","title":"Query More Than 100 DynamoDB Items that match a Partition Key using Java SDK 2?","body":"<p>The accepted answer above is partially wrong (at least as of v2 of the Java SDK), you can do a batch get item with only a primary key.</p>\n<p>Unfortunately, the code I have is proprietary therefore I can't share it but just look at the Javadocs around batch get item.</p>\n<p>For example: <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemResponse.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemResponse.html</a></p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66201920,"answer_count":2,"score":1,"last_activity_date":1668241132,"creation_date":1613343982,"question_id":66200980,"body_markdown":"**How can more than 100 items from a dynamodb table, matching a particular partition key, be queried using aws java sdk 2?**\r\n\r\nIf the number of rows that match a hash key [exceeds 100 then the batchGetItemPaginator method][1] needs to be used.  This method accepts a [`BatchGetItemRequest`][2] which requires a [`KeysAndAttributes`][3].\r\n\r\nWhen I construct a KeysAndAttributes with just a hash key, but not a sort key, I get the following exception\r\n\r\n&gt; DynamoDbException: The provided key element does not match the schema\r\n\r\nHowever, if I provide a sort key in the KeysAndAttributes then the batchGetItemPaginator method works fine.\r\n\r\nSo how can a BatchGetItemRequest be constructed with **just** a primary key (no sort key)?\r\n\r\nNote: my question is not a duplicate of [this question][4].  That other question does not involve the required pagination if the number of rows exceeds 100.\r\n\r\nThank you in advance for your consideration and response.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClient.html#batchGetItemPaginator-software.amazon.awssdk.services.dynamodb.model.BatchGetItemRequest-\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemRequest.html\r\n  [3]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/KeysAndAttributes.Builder.html#keys-java.util.Collection-\r\n  [4]: https://stackoverflow.com/questions/30969594/query-all-items-in-dynamodb-from-a-given-hash-key-with-a-hash-range-schema-using","title":"Query More Than 100 DynamoDB Items that match a Partition Key using Java SDK 2?","body":"<p><strong>How can more than 100 items from a dynamodb table, matching a particular partition key, be queried using aws java sdk 2?</strong></p>\n<p>If the number of rows that match a hash key <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClient.html#batchGetItemPaginator-software.amazon.awssdk.services.dynamodb.model.BatchGetItemRequest-\" rel=\"nofollow noreferrer\">exceeds 100 then the batchGetItemPaginator method</a> needs to be used.  This method accepts a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemRequest.html\" rel=\"nofollow noreferrer\"><code>BatchGetItemRequest</code></a> which requires a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/KeysAndAttributes.Builder.html#keys-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>KeysAndAttributes</code></a>.</p>\n<p>When I construct a KeysAndAttributes with just a hash key, but not a sort key, I get the following exception</p>\n<blockquote>\n<p>DynamoDbException: The provided key element does not match the schema</p>\n</blockquote>\n<p>However, if I provide a sort key in the KeysAndAttributes then the batchGetItemPaginator method works fine.</p>\n<p>So how can a BatchGetItemRequest be constructed with <strong>just</strong> a primary key (no sort key)?</p>\n<p>Note: my question is not a duplicate of <a href=\"https://stackoverflow.com/questions/30969594/query-all-items-in-dynamodb-from-a-given-hash-key-with-a-hash-range-schema-using\">this question</a>.  That other question does not involve the required pagination if the number of rows exceeds 100.</p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","loops","input","while-loop"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668217301,"creation_date":1668217301,"answer_id":74409772,"question_id":74409162,"body_markdown":"Try this.\r\n\r\n        System.out.print(&quot;tell me first number: &quot;);\r\n        while (!scan.hasNextInt()) scan.next();\r\n        num1 = scan.nextInt();\r\n        System.out.print(&quot;tell me second number: &quot;);\r\n        while (!scan.hasNextInt()) scan.next();\r\n        num2 = scan.nextInt();\r\n","title":"How to make this calculator to only accept numbers in first two input&#39;s and loop till they are correct","body":"<p>Try this.</p>\n<pre><code>    System.out.print(&quot;tell me first number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num1 = scan.nextInt();\n    System.out.print(&quot;tell me second number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num2 = scan.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26905083,"reputation":3,"user_id":20481566,"display_name":"spinandspin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668240725,"creation_date":1668240725,"answer_id":74411340,"question_id":74409162,"body_markdown":"\r\n``` java\r\n    System.out.print(&quot;tell me first number: &quot;);\r\n    while (!scan.hasNextInt()) scan.next();\r\n    num1 = scan.nextInt();\r\n    System.out.print(&quot;tell me second number: &quot;);\r\n    while (!scan.hasNextInt()) scan.next();\r\n    num2 = scan.nextInt();\r\n```\r\nWith this, wrong answer was looping till i got correct input, but I could not get it to print me &quot;**Wrong Input! Try again!:** &quot; with wrong input without starting to loop infinitely, so i tried to edit and came up with this.\r\n\r\n  ``` java\r\n //////////////////first number////////////////////\t\r\n    \tSystem.out.print(&quot;tell me first number: &quot;);\r\n    \t\twhile(!scan.hasNextInt()) { \r\n    \t\t\tSystem.out.print(&quot;Wrong Input! Try again!: &quot;); scan.next();\t\t\t\r\n    \t\t\t\tif(scan.hasNextInt() == true) {\r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t\t\tnum1 = scan.nextInt();\r\n    //////////////////second number///////////////////\t\r\n    \tSystem.out.print(&quot;tell me second number: &quot;);\r\n    \t\twhile(!scan.hasNextInt()) {\r\n    \t\t\tSystem.out.print(&quot;Wrong input! Try again!: &quot;); scan.next();\r\n    \t\t\t\tif(scan.hasNextInt() == true) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\tnum2 = scan.nextInt();\r\n```\r\nSomehow it helped lol.\r\nThanks @英語は苦手 for help. ","title":"How to make this calculator to only accept numbers in first two input&#39;s and loop till they are correct","body":"<pre class=\"lang-java prettyprint-override\"><code>    System.out.print(&quot;tell me first number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num1 = scan.nextInt();\n    System.out.print(&quot;tell me second number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num2 = scan.nextInt();\n</code></pre>\n<p>With this, wrong answer was looping till i got correct input, but I could not get it to print me &quot;<strong>Wrong Input! Try again!:</strong> &quot; with wrong input without starting to loop infinitely, so i tried to edit and came up with this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//////////////////first number//////////////////// \n      System.out.print(&quot;tell me first number: &quot;);\n          while(!scan.hasNextInt()) { \n              System.out.print(&quot;Wrong Input! Try again!: &quot;); scan.next();         \n                  if(scan.hasNextInt() == true) {\n              }\n          }   \n              num1 = scan.nextInt();\n  //////////////////second number///////////////////  \n      System.out.print(&quot;tell me second number: &quot;);\n          while(!scan.hasNextInt()) {\n              System.out.print(&quot;Wrong input! Try again!: &quot;); scan.next();\n                  if(scan.hasNextInt() == true) {\n              }\n          }\n              num2 = scan.nextInt();\n</code></pre>\n<p>Somehow it helped lol.\nThanks @英語は苦手 for help.</p>\n"}],"owner":{"account_id":26905083,"reputation":3,"user_id":20481566,"display_name":"spinandspin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409772,"answer_count":2,"score":0,"last_activity_date":1668240725,"creation_date":1668209179,"question_id":74409162,"body_markdown":"Somehow I got operator looping till I get correct input. When i try to put num1 or num2 in &quot;if&quot; statement, It says that I cannot convert &quot;int&quot; to &quot;boolean&quot;. Please help\r\n\r\n```java\r\npublic class main {\r\n\r\npublic static void main(String[] args) {\r\n\tint num1;\r\n\tint num2;\r\n\tString operator;\r\n\t\r\n\tScanner scan = new Scanner(System.in);\t\r\n\tSystem.out.print(&quot;tell me first number: &quot;);\r\n\t\tnum1 = scan.nextInt();               //&lt;--input only numbers, loop if not\t\r\n\tSystem.out.print(&quot;tell me second number: &quot;);\r\n\t\tnum2 = scan.nextInt();               //&lt;--input only numbers, loop if not\r\n//////////////////operator////////////////////////\r\n\tSystem.out.print(&quot;tell me operator: &quot;);\r\n\t\toperator = scan.next();\r\n\t\t\twhile(true) {\t\r\n\t\t\t\tif(operator.equals(&quot;+&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 + num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if(operator.equals(&quot;-&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 - num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\t\r\n\t\t\t\telse if(operator.equals(&quot;*&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 * num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if(operator.equals(&quot;/&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 / num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.print(&quot;wrong input! try again!: &quot;);\r\n\t\t\t\t\toperator = scan.next();\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t}\r\n}\r\n```","title":"How to make this calculator to only accept numbers in first two input&#39;s and loop till they are correct","body":"<p>Somehow I got operator looping till I get correct input. When i try to put num1 or num2 in &quot;if&quot; statement, It says that I cannot convert &quot;int&quot; to &quot;boolean&quot;. Please help</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class main {\n\npublic static void main(String[] args) {\n    int num1;\n    int num2;\n    String operator;\n    \n    Scanner scan = new Scanner(System.in);  \n    System.out.print(&quot;tell me first number: &quot;);\n        num1 = scan.nextInt();               //&lt;--input only numbers, loop if not   \n    System.out.print(&quot;tell me second number: &quot;);\n        num2 = scan.nextInt();               //&lt;--input only numbers, loop if not\n//////////////////operator////////////////////////\n    System.out.print(&quot;tell me operator: &quot;);\n        operator = scan.next();\n            while(true) {   \n                if(operator.equals(&quot;+&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 + num2));\n                    break;\n                }\n                else if(operator.equals(&quot;-&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 - num2));\n                    break;\n                }   \n                else if(operator.equals(&quot;*&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 * num2));\n                    break;\n                }\n                else if(operator.equals(&quot;/&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 / num2));\n                    break;\n                }\n                else {\n                    System.out.print(&quot;wrong input! try again!: &quot;);\n                    operator = scan.next();\n                }   \n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":5060613,"reputation":74056,"user_id":4062354,"accept_rate":100,"display_name":"MikeCAT"},"score":0,"creation_date":1456971069,"post_id":35761864,"comment_id":59196763,"body_markdown":"By implementing sort by yourself?","body":"By implementing sort by yourself?"},{"owner":{"display_name":"user4780686"},"score":0,"creation_date":1456971105,"post_id":35761864,"comment_id":59196773,"body_markdown":"No, could be a Java function.","body":"No, could be a Java function."},{"owner":{"account_id":6325135,"reputation":24446,"user_id":4911842,"accept_rate":76,"display_name":"developer033"},"score":0,"creation_date":1456971438,"post_id":35761864,"comment_id":59196851,"body_markdown":"http://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically","body":"<a href=\"http://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically\" title=\"how do i sort an arraylist lexicographically\">stackoverflow.com/questions/2999129/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1456972422,"post_id":35761935,"comment_id":59197089,"body_markdown":"Even better: Because Java uses type erasure, you can make a singleton instance of ListComparator and do unsafe casts (it&#39;s stateless anyway).","body":"Even better: Because Java uses type erasure, you can make a singleton instance of ListComparator and do unsafe casts (it&#39;s stateless anyway)."},{"owner":{"account_id":7737658,"reputation":2769,"user_id":5858704,"display_name":"MartinS"},"score":0,"creation_date":1456973399,"post_id":35761935,"comment_id":59197370,"body_markdown":"@Nayuki, I&#39;d rather not do that because I do not want to carry around the instance forever, just because I used it once. The memory footprint might be tiny but so is the cost of creating an object. But everyone can do whatever they want ^^","body":"@Nayuki, I&#39;d rather not do that because I do not want to carry around the instance forever, just because I used it once. The memory footprint might be tiny but so is the cost of creating an object. But everyone can do whatever they want ^^"},{"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"score":1,"creation_date":1495759249,"post_id":35761935,"comment_id":75397628,"body_markdown":"I&#39;d use `int c = ObjectUtils.compare(o1.get(i), o2.get(i))`. Otherwise you get a NPE if `o1.get(i)==null`. (`ObjectUtils` is from the apache commons library)","body":"I&#39;d use <code>int c = ObjectUtils.compare(o1.get(i), o2.get(i))</code>. Otherwise you get a NPE if <code>o1.get(i)==null</code>. (<code>ObjectUtils</code> is from the apache commons library)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1581255489,"post_id":35761935,"comment_id":106362176,"body_markdown":"Special case: If the lists are long linked lists, accessing by index is inefficient. In this case one should prefer to use two iterators.","body":"Special case: If the lists are long linked lists, accessing by index is inefficient. In this case one should prefer to use two iterators."}],"tags":[],"owner":{"account_id":7737658,"reputation":2769,"user_id":5858704,"display_name":"MartinS"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1456971466,"creation_date":1456971466,"answer_id":35761935,"question_id":35761864,"body_markdown":"You will have to implement your own `Comparator` class and pass in an instance to `Collections.sort()`\r\n\r\n    class ListComparator&lt;T extends Comparable&lt;T&gt;&gt; implements Comparator&lt;List&lt;T&gt;&gt; {\r\n    \r\n      @Override\r\n      public int compare(List&lt;T&gt; o1, List&lt;T&gt; o2) {\r\n        for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\r\n    \t  int c = o1.get(i).compareTo(o2.get(i));\r\n    \t  if (c != 0) {\r\n    \t    return c;\r\n    \t  }\r\n    \t}\r\n    \treturn Integer.compare(o1.size(), o2.size());\r\n      }\r\n    \r\n    }\r\n\r\nThen sorting is easy\r\n\r\n\tList&lt;List&lt;Integer&gt;&gt; listOfLists = ...;\r\n\t\t\r\n\tCollections.sort(listOfLists, new ListComparator&lt;&gt;());","title":"Java Sort List of Lists","body":"<p>You will have to implement your own <code>Comparator</code> class and pass in an instance to <code>Collections.sort()</code></p>\n\n<pre><code>class ListComparator&lt;T extends Comparable&lt;T&gt;&gt; implements Comparator&lt;List&lt;T&gt;&gt; {\n\n  @Override\n  public int compare(List&lt;T&gt; o1, List&lt;T&gt; o2) {\n    for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\n      int c = o1.get(i).compareTo(o2.get(i));\n      if (c != 0) {\n        return c;\n      }\n    }\n    return Integer.compare(o1.size(), o2.size());\n  }\n\n}\n</code></pre>\n\n<p>Then sorting is easy</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; listOfLists = ...;\n\nCollections.sort(listOfLists, new ListComparator&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538114539,"creation_date":1538114539,"answer_id":52549240,"question_id":35761864,"body_markdown":"Improved MartinS answer using Java 8 stream API\r\n\r\n    possiblePoles = possiblePoles.stream().sorted((o1,o2) -&gt; {\r\n    \t\t\t for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\r\n    \t\t\t      int c = o1.get(i).compareTo(o2.get(i));\r\n    \t\t\t      if (c != 0) {\r\n    \t\t\t        return c;\r\n    \t\t\t      }\r\n    \t\t\t    }\r\n    \t\t\t    return Integer.compare(o1.size(), o2.size());\r\n    \t\t }).collect(Collectors.toList());\r\n\r\n","title":"Java Sort List of Lists","body":"<p>Improved MartinS answer using Java 8 stream API</p>\n\n<pre><code>possiblePoles = possiblePoles.stream().sorted((o1,o2) -&gt; {\n             for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\n                  int c = o1.get(i).compareTo(o2.get(i));\n                  if (c != 0) {\n                    return c;\n                  }\n                }\n                return Integer.compare(o1.size(), o2.size());\n         }).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15633628,"reputation":31,"user_id":11279246,"display_name":"Camilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619573968,"creation_date":1619573968,"answer_id":67292670,"question_id":35761864,"body_markdown":"For this example [[1, 3], [1, 2]], if you want to sort the list by both elements you can use sorted from Java 8 manually implemented the comparator method, validating all cases like the following example:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; result = contests.stream().sorted((o1, o2) -&gt; {\r\n            if (o1.get(1) &gt; o2.get(1) ||\r\n                (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\r\n                return -1;\r\n            } else if (o1.get(1) &lt; o2.get(1) ||\r\n                (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        }).collect(Collectors.toList());\r\n\r\n**OR**\r\n\r\n   \r\n\r\n    contests.sort((o1, o2) -&gt; {\r\n                    if (o1.get(1) &gt; o2.get(1) ||\r\n                        (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\r\n                        return -1;\r\n                    } else if (o1.get(1) &lt; o2.get(1) ||\r\n                        (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n\r\n   \r\n","title":"Java Sort List of Lists","body":"<p>For this example [[1, 3], [1, 2]], if you want to sort the list by both elements you can use sorted from Java 8 manually implemented the comparator method, validating all cases like the following example:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; result = contests.stream().sorted((o1, o2) -&gt; {\n        if (o1.get(1) &gt; o2.get(1) ||\n            (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\n            return -1;\n        } else if (o1.get(1) &lt; o2.get(1) ||\n            (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\n            return 1;\n        }\n        return 0;\n    }).collect(Collectors.toList());\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>contests.sort((o1, o2) -&gt; {\n                if (o1.get(1) &gt; o2.get(1) ||\n                    (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\n                    return -1;\n                } else if (o1.get(1) &lt; o2.get(1) ||\n                    (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\n                    return 1;\n                }\n                return 0;\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8396193,"reputation":81,"user_id":13547476,"display_name":"Chaman Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661422656,"creation_date":1661422656,"answer_id":73485805,"question_id":35761864,"body_markdown":" \r\n\r\n      possiblePoles.sort((l1, l2) -&gt; {\r\n            int minLength = Math.min(l1.size(), l2.size());\r\n            for (int i = 0; i &lt; minLength; i++) {\r\n                int lexicographicalPosition = l1.get(i).compareTo(l2.get(i));\r\n                if (lexicographicalPosition != 0) {\r\n                    return lexicographicalPosition;\r\n                }\r\n            }\r\n            return Integer.compare(l1.size(), l2.size());\r\n        });\r\nSame logic with java 8 ","title":"Java Sort List of Lists","body":"<pre><code>  possiblePoles.sort((l1, l2) -&gt; {\n        int minLength = Math.min(l1.size(), l2.size());\n        for (int i = 0; i &lt; minLength; i++) {\n            int lexicographicalPosition = l1.get(i).compareTo(l2.get(i));\n            if (lexicographicalPosition != 0) {\n                return lexicographicalPosition;\n            }\n        }\n        return Integer.compare(l1.size(), l2.size());\n    });\n</code></pre>\n<p>Same logic with java 8</p>\n"},{"comments":[{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1690476640,"post_id":74411259,"comment_id":135362683,"body_markdown":"I believe this sorts only on the first element.","body":"I believe this sorts only on the first element."}],"tags":[],"owner":{"account_id":23563494,"reputation":1,"user_id":17604557,"display_name":"R..V"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668239863,"creation_date":1668239863,"answer_id":74411259,"question_id":35761864,"body_markdown":"Try Using this code.\r\n\r\n`Collections.sort(list, (a,b) -&gt; a.get(0) - b.get(0));`","title":"Java Sort List of Lists","body":"<p>Try Using this code.</p>\n<p><code>Collections.sort(list, (a,b) -&gt; a.get(0) - b.get(0));</code></p>\n"}],"owner":{"display_name":"user4780686"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40010,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":35761935,"answer_count":5,"score":26,"last_activity_date":1668239863,"creation_date":1456970965,"question_id":35761864,"body_markdown":"How would I sort a list of lists in Java in lexicographical order using Collections.sort() or another sorting method?\r\n\r\n    private List&lt;List&lt;Integer&gt;&gt; possiblePoles = setPoles();    \r\n    System.out.println(possiblePoles)\r\n    [[1, 3, 5], [1, 2, 3]]","title":"Java Sort List of Lists","body":"<p>How would I sort a list of lists in Java in lexicographical order using Collections.sort() or another sorting method?</p>\n\n<pre><code>private List&lt;List&lt;Integer&gt;&gt; possiblePoles = setPoles();    \nSystem.out.println(possiblePoles)\n[[1, 3, 5], [1, 2, 3]]\n</code></pre>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667085481,"post_id":74249489,"comment_id":131088010,"body_markdown":"Please include the full exception message and stack trace in the question text","body":"Please include the full exception message and stack trace in the question text"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667086482,"post_id":74249489,"comment_id":131088127,"body_markdown":"Obviously, JSON you&#39;re trying to parse is invalid. Try to print it on the console.","body":"Obviously, JSON you&#39;re trying to parse is invalid. Try to print it on the console."},{"owner":{"account_id":12287488,"reputation":93,"user_id":8966229,"display_name":"Steve"},"score":0,"creation_date":1667086583,"post_id":74249489,"comment_id":131088141,"body_markdown":"it is the exact same thing on the console. I just did `curl &#39;https://webservice.fanart.tv/v3/movies/629542?api_key=xxxxxxxxxxxxxxx`","body":"it is the exact same thing on the console. I just did <code>curl &#39;https:&#47;&#47;webservice.fanart.tv&#47;v3&#47;movies&#47;629542?api_key=xxxxx&zwnj;&#8203;xxxxxxxxxx</code>"},{"owner":{"account_id":12287488,"reputation":93,"user_id":8966229,"display_name":"Steve"},"score":0,"creation_date":1667087005,"post_id":74249489,"comment_id":131088195,"body_markdown":"yes just like that , so what should it look like normally?","body":"yes just like that , so what should it look like normally?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667087573,"post_id":74249489,"comment_id":131088263,"body_markdown":"Sorry, my bad, the sample-JSON is valid, it should be parsed fine (I&#39;ve tried it). But exception should have a reason, either something is missing or something gets added to it.","body":"Sorry, my bad, the sample-JSON is valid, it should be parsed fine (I&#39;ve tried it). But exception should have a reason, either something is missing or something gets added to it."},{"owner":{"account_id":12287488,"reputation":93,"user_id":8966229,"display_name":"Steve"},"score":0,"creation_date":1667087790,"post_id":74249489,"comment_id":131088288,"body_markdown":"you are right , I appreciate it , I did a little digging , I think it has sth to do with some sort of protection https://stackoverflow.com/questions/31912000/byethost-server-passing-html-values-checking-your-browser-with-json-string","body":"you are right , I appreciate it , I did a little digging , I think it has sth to do with some sort of protection <a href=\"https://stackoverflow.com/questions/31912000/byethost-server-passing-html-values-checking-your-browser-with-json-string\" title=\"byethost server passing html values checking your browser with json string\">stackoverflow.com/questions/31912000/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12287488,"reputation":93,"user_id":8966229,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667148220,"creation_date":1667148220,"answer_id":74254911,"question_id":74249489,"body_markdown":"The `http://` causes url redirection and throws this message in the header response (301 Moved Permanently) so I had to use `https://` instead now everything works nicely.\r\n\r\nmore info here https://stackoverflow.com/questions/48167467/response-301-moved-permanently","title":"trying to read JSON data from url causes url redirection","body":"<p>The <code>http://</code> causes url redirection and throws this message in the header response (301 Moved Permanently) so I had to use <code>https://</code> instead now everything works nicely.</p>\n<p>more info here <a href=\"https://stackoverflow.com/questions/48167467/response-301-moved-permanently\">Response 301 Moved Permanently</a></p>\n"}],"owner":{"account_id":12287488,"reputation":93,"user_id":8966229,"display_name":"Steve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74254911,"answer_count":1,"score":-2,"last_activity_date":1668238228,"creation_date":1667085029,"question_id":74249489,"body_markdown":"I&#39;m trying to read date from JSON using a URL , but it throws an exception. and the response from header is `301 Moved Permanently`\r\n\r\nthis basically means the there is something wrong with link, but I cannot figure out what it is exactly since the API provider did not mention anything in regard to changes to their API\r\n\r\nAny help is appreciated.\r\n\r\nhere is my code\r\n\r\n```\r\nprivate static String readUrl(String urlString) throws Exception {\r\n        BufferedReader reader = null;\r\n        try {\r\n            URL url = new URL(urlString);\r\n            reader = new BufferedReader(new InputStreamReader(url.openStream()));\r\n            StringBuffer buffer = new StringBuffer();\r\n            int read;\r\n            char[] chars = new char[1024];\r\n            while ((read = reader.read(chars)) != -1)\r\n                buffer.append(chars, 0, read);\r\n\r\n            return buffer.toString();\r\n        } finally {\r\n            if (reader != null)\r\n                reader.close();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nString url = &quot;http://webservice.fanart.tv/v3/movies/&quot; + movie.id + &quot;?api_key=&quot; + apikey;\r\n        List&lt;String&gt; enClearLogos = new ArrayList&lt;&gt;();\r\n        try {\r\n            JSONObject json = new JSONObject(readUrl(url));\r\n            JSONArray jsonArray = json.getJSONArray(&quot;hdmovielogo&quot;);\r\n            for(int i = 0; i &lt; jsonArray.length(); i++){\r\n                JSONObject movieObject = jsonArray.getJSONObject(i);\r\n                if (movieObject.getString(&quot;lang&quot;).equalsIgnoreCase(&quot;en&quot;))\r\n                    enClearLogos.add(movieObject.getString(&quot;url&quot;));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nhere example\r\n\r\n```\r\n{\r\n    &quot;name&quot;: &quot;The Bad Guys&quot;,\r\n    &quot;tmdb_id&quot;: &quot;629542&quot;,\r\n    &quot;imdb_id&quot;: &quot;tt8115900&quot;,\r\n    &quot;hdmovieclearart&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;362695&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovieclearart/the-bad-guys-6231fd4379a87.png&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;6&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;362696&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovieclearart/the-bad-guys-6231fd53d3a96.png&quot;,\r\n            &quot;lang&quot;: &quot;ru&quot;,\r\n            &quot;likes&quot;: &quot;3&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367992&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovieclearart/the-bad-guys-6280fb431126b.png&quot;,\r\n            &quot;lang&quot;: &quot;cz&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        }\r\n    ],\r\n    &quot;hdmovielogo&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;369396&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-629dc8e4da93a.png&quot;,\r\n            &quot;lang&quot;: &quot;fr&quot;,\r\n            &quot;likes&quot;: &quot;3&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;368375&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-62899cfba2c00.png&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;3&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;371110&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-62bdec1d38353.png&quot;,\r\n            &quot;lang&quot;: &quot;es&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;355025&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-61ba168a41d9b.png&quot;,\r\n            &quot;lang&quot;: &quot;ru&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;355031&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-61ba1f851cd32.png&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;355032&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-61ba1f96a497e.png&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;1&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;366828&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-626984d807f4d.png&quot;,\r\n            &quot;lang&quot;: &quot;cz&quot;,\r\n            &quot;likes&quot;: &quot;1&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;360922&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-6217a7c5ba60d.png&quot;,\r\n            &quot;lang&quot;: &quot;it&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        }\r\n    ],\r\n    &quot;movieposter&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;367357&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6274ea20dcc86.jpg&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;371114&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-62bdecfbd6715.jpg&quot;,\r\n            &quot;lang&quot;: &quot;es&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;368000&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-628108a944560.jpg&quot;,\r\n            &quot;lang&quot;: &quot;pt&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367358&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6274ea33e2ed5.jpg&quot;,\r\n            &quot;lang&quot;: &quot;00&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;355026&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-61ba169a2b57e.jpg&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;358210&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-61ee6f9a14706.jpg&quot;,\r\n            &quot;lang&quot;: &quot;00&quot;,\r\n            &quot;likes&quot;: &quot;1&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367991&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6280fb200c5bf.jpg&quot;,\r\n            &quot;lang&quot;: &quot;cz&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367990&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6280fb1ba6d39.jpg&quot;,\r\n            &quot;lang&quot;: &quot;cz&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        }\r\n    ],\r\n    &quot;moviethumb&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;371117&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-62bdee5332ad2.jpg&quot;,\r\n            &quot;lang&quot;: &quot;es&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367994&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-6280fb7b224fd.jpg&quot;,\r\n            &quot;lang&quot;: &quot;cz&quot;,\r\n            &quot;likes&quot;: &quot;1&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;370972&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-62bbbc9385121.jpg&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367260&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-6272bfb851ca5.jpg&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        }\r\n    ],\r\n    &quot;moviebackground&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;355027&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebackground/the-bad-guys-61ba16ab7df92.jpg&quot;,\r\n            &quot;lang&quot;: &quot;&quot;,\r\n            &quot;likes&quot;: &quot;2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;367177&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebackground/the-bad-guys-6271f6e99b835.jpg&quot;,\r\n            &quot;lang&quot;: &quot;&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        }\r\n    ],\r\n    &quot;moviedisc&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;367993&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviedisc/the-bad-guys-6280fb602b271.png&quot;,\r\n            &quot;lang&quot;: &quot;cz&quot;,\r\n            &quot;likes&quot;: &quot;1&quot;,\r\n            &quot;disc&quot;: &quot;1&quot;,\r\n            &quot;disc_type&quot;: &quot;bluray&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;358213&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviedisc/the-bad-guys-61ee85436574f.png&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;,\r\n            &quot;disc&quot;: &quot;1&quot;,\r\n            &quot;disc_type&quot;: &quot;bluray&quot;\r\n        }\r\n    ],\r\n    &quot;moviebanner&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;358216&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebanner/the-bad-guys-61ee93348cb62.jpg&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;1&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;370973&quot;,\r\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebanner/the-bad-guys-62bbbd7215d83.jpg&quot;,\r\n            &quot;lang&quot;: &quot;en&quot;,\r\n            &quot;likes&quot;: &quot;0&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nexception message\r\n```\r\nW/System.err: org.json.JSONException: Value &lt;html&gt; of type java.lang.String cannot be converted to JSONObject\r\nW/System.err:     at org.json.JSON.typeMismatch(JSON.java:112)\r\nW/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:168)\r\nW/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:181)\r\n```\r\n","title":"trying to read JSON data from url causes url redirection","body":"<p>I'm trying to read date from JSON using a URL , but it throws an exception. and the response from header is <code>301 Moved Permanently</code></p>\n<p>this basically means the there is something wrong with link, but I cannot figure out what it is exactly since the API provider did not mention anything in regard to changes to their API</p>\n<p>Any help is appreciated.</p>\n<p>here is my code</p>\n<pre><code>private static String readUrl(String urlString) throws Exception {\n        BufferedReader reader = null;\n        try {\n            URL url = new URL(urlString);\n            reader = new BufferedReader(new InputStreamReader(url.openStream()));\n            StringBuffer buffer = new StringBuffer();\n            int read;\n            char[] chars = new char[1024];\n            while ((read = reader.read(chars)) != -1)\n                buffer.append(chars, 0, read);\n\n            return buffer.toString();\n        } finally {\n            if (reader != null)\n                reader.close();\n        }\n    }\n</code></pre>\n<pre><code>String url = &quot;http://webservice.fanart.tv/v3/movies/&quot; + movie.id + &quot;?api_key=&quot; + apikey;\n        List&lt;String&gt; enClearLogos = new ArrayList&lt;&gt;();\n        try {\n            JSONObject json = new JSONObject(readUrl(url));\n            JSONArray jsonArray = json.getJSONArray(&quot;hdmovielogo&quot;);\n            for(int i = 0; i &lt; jsonArray.length(); i++){\n                JSONObject movieObject = jsonArray.getJSONObject(i);\n                if (movieObject.getString(&quot;lang&quot;).equalsIgnoreCase(&quot;en&quot;))\n                    enClearLogos.add(movieObject.getString(&quot;url&quot;));\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>here example</p>\n<pre><code>{\n    &quot;name&quot;: &quot;The Bad Guys&quot;,\n    &quot;tmdb_id&quot;: &quot;629542&quot;,\n    &quot;imdb_id&quot;: &quot;tt8115900&quot;,\n    &quot;hdmovieclearart&quot;: [\n        {\n            &quot;id&quot;: &quot;362695&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovieclearart/the-bad-guys-6231fd4379a87.png&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;6&quot;\n        },\n        {\n            &quot;id&quot;: &quot;362696&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovieclearart/the-bad-guys-6231fd53d3a96.png&quot;,\n            &quot;lang&quot;: &quot;ru&quot;,\n            &quot;likes&quot;: &quot;3&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367992&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovieclearart/the-bad-guys-6280fb431126b.png&quot;,\n            &quot;lang&quot;: &quot;cz&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        }\n    ],\n    &quot;hdmovielogo&quot;: [\n        {\n            &quot;id&quot;: &quot;369396&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-629dc8e4da93a.png&quot;,\n            &quot;lang&quot;: &quot;fr&quot;,\n            &quot;likes&quot;: &quot;3&quot;\n        },\n        {\n            &quot;id&quot;: &quot;368375&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-62899cfba2c00.png&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;3&quot;\n        },\n        {\n            &quot;id&quot;: &quot;371110&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-62bdec1d38353.png&quot;,\n            &quot;lang&quot;: &quot;es&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;355025&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-61ba168a41d9b.png&quot;,\n            &quot;lang&quot;: &quot;ru&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;355031&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-61ba1f851cd32.png&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;355032&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-61ba1f96a497e.png&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;1&quot;\n        },\n        {\n            &quot;id&quot;: &quot;366828&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-626984d807f4d.png&quot;,\n            &quot;lang&quot;: &quot;cz&quot;,\n            &quot;likes&quot;: &quot;1&quot;\n        },\n        {\n            &quot;id&quot;: &quot;360922&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/hdmovielogo/the-bad-guys-6217a7c5ba60d.png&quot;,\n            &quot;lang&quot;: &quot;it&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        }\n    ],\n    &quot;movieposter&quot;: [\n        {\n            &quot;id&quot;: &quot;367357&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6274ea20dcc86.jpg&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;371114&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-62bdecfbd6715.jpg&quot;,\n            &quot;lang&quot;: &quot;es&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;368000&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-628108a944560.jpg&quot;,\n            &quot;lang&quot;: &quot;pt&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367358&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6274ea33e2ed5.jpg&quot;,\n            &quot;lang&quot;: &quot;00&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;355026&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-61ba169a2b57e.jpg&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;358210&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-61ee6f9a14706.jpg&quot;,\n            &quot;lang&quot;: &quot;00&quot;,\n            &quot;likes&quot;: &quot;1&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367991&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6280fb200c5bf.jpg&quot;,\n            &quot;lang&quot;: &quot;cz&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367990&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/movieposter/the-bad-guys-6280fb1ba6d39.jpg&quot;,\n            &quot;lang&quot;: &quot;cz&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        }\n    ],\n    &quot;moviethumb&quot;: [\n        {\n            &quot;id&quot;: &quot;371117&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-62bdee5332ad2.jpg&quot;,\n            &quot;lang&quot;: &quot;es&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367994&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-6280fb7b224fd.jpg&quot;,\n            &quot;lang&quot;: &quot;cz&quot;,\n            &quot;likes&quot;: &quot;1&quot;\n        },\n        {\n            &quot;id&quot;: &quot;370972&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-62bbbc9385121.jpg&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367260&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviethumb/the-bad-guys-6272bfb851ca5.jpg&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        }\n    ],\n    &quot;moviebackground&quot;: [\n        {\n            &quot;id&quot;: &quot;355027&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebackground/the-bad-guys-61ba16ab7df92.jpg&quot;,\n            &quot;lang&quot;: &quot;&quot;,\n            &quot;likes&quot;: &quot;2&quot;\n        },\n        {\n            &quot;id&quot;: &quot;367177&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebackground/the-bad-guys-6271f6e99b835.jpg&quot;,\n            &quot;lang&quot;: &quot;&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        }\n    ],\n    &quot;moviedisc&quot;: [\n        {\n            &quot;id&quot;: &quot;367993&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviedisc/the-bad-guys-6280fb602b271.png&quot;,\n            &quot;lang&quot;: &quot;cz&quot;,\n            &quot;likes&quot;: &quot;1&quot;,\n            &quot;disc&quot;: &quot;1&quot;,\n            &quot;disc_type&quot;: &quot;bluray&quot;\n        },\n        {\n            &quot;id&quot;: &quot;358213&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviedisc/the-bad-guys-61ee85436574f.png&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;0&quot;,\n            &quot;disc&quot;: &quot;1&quot;,\n            &quot;disc_type&quot;: &quot;bluray&quot;\n        }\n    ],\n    &quot;moviebanner&quot;: [\n        {\n            &quot;id&quot;: &quot;358216&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebanner/the-bad-guys-61ee93348cb62.jpg&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;1&quot;\n        },\n        {\n            &quot;id&quot;: &quot;370973&quot;,\n            &quot;url&quot;: &quot;https://assets.fanart.tv/fanart/movies/629542/moviebanner/the-bad-guys-62bbbd7215d83.jpg&quot;,\n            &quot;lang&quot;: &quot;en&quot;,\n            &quot;likes&quot;: &quot;0&quot;\n        }\n    ]\n}\n</code></pre>\n<p>exception message</p>\n<pre><code>W/System.err: org.json.JSONException: Value &lt;html&gt; of type java.lang.String cannot be converted to JSONObject\nW/System.err:     at org.json.JSON.typeMismatch(JSON.java:112)\nW/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:168)\nW/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:181)\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668212527,"post_id":74409424,"comment_id":131358522,"body_markdown":"Look at the error message you get when you compile. What is that telling you? Also look at the bodies of the two `if` statements in `getYNConfirm`. Are they different? Should they be?","body":"Look at the error message you get when you compile. What is that telling you? Also look at the bodies of the two <code>if</code> statements in <code>getYNConfirm</code>. Are they different? Should they be?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668212628,"post_id":74409424,"comment_id":131358530,"body_markdown":"What does the single `=` in `if(response=false){` do?","body":"What does the single <code>=</code> in <code>if(response=false){</code> do?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668212649,"post_id":74409424,"comment_id":131358537,"body_markdown":"Finally, once you get your code to compile, step through it with the debugger.","body":"Finally, once you get your code to compile, step through it with the debugger."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668237604,"post_id":74409424,"comment_id":131361118,"body_markdown":"Put an additional `else ` before `if(YNResp.equalsIgnoreCase(&quot;N&quot;))` and remove `trash = pipe.nextLine();`","body":"Put an additional <code>else </code> before <code>if(YNResp.equalsIgnoreCase(&quot;N&quot;))</code> and remove <code>trash = pipe.nextLine();</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668237890,"post_id":74409424,"comment_id":131361158,"body_markdown":"Reason: You check the input for being Y/y. Next, you check the input for being N/n or something else, which includes the previously checked Yes answer. In the `else` part wait for another input `trash`)  but do nothing with it.","body":"Reason: You check the input for being Y/y. Next, you check the input for being N/n or something else, which includes the previously checked Yes answer. In the <code>else</code> part wait for another input <code>trash</code>)  but do nothing with it."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668238218,"creation_date":1668238218,"answer_id":74411133,"question_id":74409424,"body_markdown":"&gt; My goal is by having the YNConfirm give response = true/false \r\n\r\n```java\r\nprivate static boolean isYesAnswer() {\r\n  return &quot;y&quot;.equalsIgnoreCase(\r\n    new Scanner(System.in).nextLine()\r\n  );\r\n}\r\n```","title":"Method loops - java- Error within &quot;Do you want to continue&quot; Method","body":"<blockquote>\n<p>My goal is by having the YNConfirm give response = true/false</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isYesAnswer() {\n  return &quot;y&quot;.equalsIgnoreCase(\n    new Scanner(System.in).nextLine()\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":26626246,"reputation":19,"user_id":20244229,"display_name":"user20244229"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668238218,"creation_date":1668212268,"question_id":74409424,"body_markdown":"I am trying to write a program using methods. This is my given problem\r\n\r\n&quot;At the 10$ store nothing is more than $10.00.  Prompt the user for the price of their item (.50 cents to $9.99 dollars) using the getRangedDouble method and continue to input items as long as they indicate that they have more using your getYNConfirm method.  Display the total cost of the item(s) to 2 decimal places with printf.\r\n\r\nI have gotten the getRangedDouble to work and display correct values within the range, however I am struggling with getting the Y/NConfirm method. It is described as &quot;This is an input method that gets a Yes or No \\[Y/N\\] returning true for yes and false for no.  It should accept yYnN as valid responses and loop until it gets one of them.&quot;\r\n\r\nThis is the code that I have for YNConfirm\r\n\r\n    public static String getYNConfirm(Scanner pipe, String prompt)\r\n    {\r\n       boolean done = false;\r\n       boolean response = false;\r\n      String YNResp = &quot;&quot;;\r\n      String trash = &quot;&quot;;\r\n       do\r\n       {\r\n           System.out.println(prompt);\r\n        YNResp = pipe.nextLine();\r\n        if(YNResp.equalsIgnoreCase(&quot;Y&quot;))\r\n        {\r\n            done = true;\r\n            response = false;\r\n            \r\n        }\r\n        if(YNResp.equalsIgnoreCase(&quot;N&quot;))\r\n        {\r\n            done = true;\r\n            response = true;\r\n        }\r\n        else\r\n        {\r\n            trash = pipe.nextLine();    \r\n            System.out.println(&quot;Please input Y/N. You input: &quot; + trash); \r\n        }\r\n       }while(!done);\r\n    return YNResp;}\r\n\r\nMy goal is by having the YNConfirm give response = true/false I can take that variable and plug it into my main program. if it is true it will loop back and ask for more items to be entered, and if it is false it will display the total cost, here is what my main code looks like.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n      Scanner in = new Scanner(System.in);\r\n      double item = 0;\r\n      String YNResp = &quot;&quot;;\r\n      double price = 0;\r\n      boolean response = false;\r\n      do{\r\n          item = SafeInput.getRangedDouble(in, &quot;Please insert the item price&quot;, .50, 9.99);\r\n         double totalPrice = price + item;\r\n          in.NextLine();\r\n    \r\n        YNResp = SafeInput.getYNConfirm(in, &quot;Do you have more items?&quot;);\r\n        if(response==false) \r\n        {\r\n          System.out.printf(&quot;Your total price is&quot; + totalPrice);\r\n        }\r\n        else\r\n        {\r\n            response = true;\r\n            System.out.printf(&quot;Your total price is&quot; + totalPrice);\r\n          }\r\n      }while(!response);\r\n        \r\n    }\r\n\r\nif Y/N confirms that it is false then it should continue to ask for more items until the value is true, then if it is true it should just output the total price. The file runs, but it doesn&#39;t loop back to asking the user to input their next item, I get something like this.\r\n\r\n    Please insert the item price[0.5 - 9.99]: 1.2\r\n    Do you have more items?\r\n    y\r\n    y\r\n    Please input Y/N. You input: y\r\n    Your total price is1.0\r\n    Please insert the item price[0.5 - 9.99]: ","title":"Method loops - java- Error within &quot;Do you want to continue&quot; Method","body":"<p>I am trying to write a program using methods. This is my given problem</p>\n<p>&quot;At the 10$ store nothing is more than $10.00.  Prompt the user for the price of their item (.50 cents to $9.99 dollars) using the getRangedDouble method and continue to input items as long as they indicate that they have more using your getYNConfirm method.  Display the total cost of the item(s) to 2 decimal places with printf.</p>\n<p>I have gotten the getRangedDouble to work and display correct values within the range, however I am struggling with getting the Y/NConfirm method. It is described as &quot;This is an input method that gets a Yes or No [Y/N] returning true for yes and false for no.  It should accept yYnN as valid responses and loop until it gets one of them.&quot;</p>\n<p>This is the code that I have for YNConfirm</p>\n<pre><code>public static String getYNConfirm(Scanner pipe, String prompt)\n{\n   boolean done = false;\n   boolean response = false;\n  String YNResp = &quot;&quot;;\n  String trash = &quot;&quot;;\n   do\n   {\n       System.out.println(prompt);\n    YNResp = pipe.nextLine();\n    if(YNResp.equalsIgnoreCase(&quot;Y&quot;))\n    {\n        done = true;\n        response = false;\n        \n    }\n    if(YNResp.equalsIgnoreCase(&quot;N&quot;))\n    {\n        done = true;\n        response = true;\n    }\n    else\n    {\n        trash = pipe.nextLine();    \n        System.out.println(&quot;Please input Y/N. You input: &quot; + trash); \n    }\n   }while(!done);\nreturn YNResp;}\n</code></pre>\n<p>My goal is by having the YNConfirm give response = true/false I can take that variable and plug it into my main program. if it is true it will loop back and ask for more items to be entered, and if it is false it will display the total cost, here is what my main code looks like.</p>\n<pre><code>public static void main(String[] args)\n{\n  Scanner in = new Scanner(System.in);\n  double item = 0;\n  String YNResp = &quot;&quot;;\n  double price = 0;\n  boolean response = false;\n  do{\n      item = SafeInput.getRangedDouble(in, &quot;Please insert the item price&quot;, .50, 9.99);\n     double totalPrice = price + item;\n      in.NextLine();\n\n    YNResp = SafeInput.getYNConfirm(in, &quot;Do you have more items?&quot;);\n    if(response==false) \n    {\n      System.out.printf(&quot;Your total price is&quot; + totalPrice);\n    }\n    else\n    {\n        response = true;\n        System.out.printf(&quot;Your total price is&quot; + totalPrice);\n      }\n  }while(!response);\n    \n}\n</code></pre>\n<p>if Y/N confirms that it is false then it should continue to ask for more items until the value is true, then if it is true it should just output the total price. The file runs, but it doesn't loop back to asking the user to input their next item, I get something like this.</p>\n<pre><code>Please insert the item price[0.5 - 9.99]: 1.2\nDo you have more items?\ny\ny\nPlease input Y/N. You input: y\nYour total price is1.0\nPlease insert the item price[0.5 - 9.99]: \n</code></pre>\n"},{"tags":["java","swing","splash-screen"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1668227086,"post_id":74410358,"comment_id":131360145,"body_markdown":"while(!lS.getUserAuth()) seems like a bad idea","body":"while(!lS.getUserAuth()) seems like a bad idea"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1668227559,"post_id":74410358,"comment_id":131360174,"body_markdown":"[mcve] .. and don&#39;t sleep the EDT, ever!","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> .. and don&#39;t sleep the EDT, ever!"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668227715,"post_id":74410358,"comment_id":131360181,"body_markdown":"`&quot;the splash screen shows but then nothing else happens&quot;` Well, something is happening but your not informing us of what that is. Does the application simply end? Does it display nothing after the Splash closes an go into an endless loop which forces you to shut it down? Use your IDE debugger and step through the code to see what the issue is.","body":"<code>&quot;the splash screen shows but then nothing else happens&quot;</code> Well, something is happening but your not informing us of what that is. Does the application simply end? Does it display nothing after the Splash closes an go into an endless loop which forces you to shut it down? Use your IDE debugger and step through the code to see what the issue is."},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668227800,"post_id":74410358,"comment_id":131360189,"body_markdown":"@MadProgrammer Yeah that does seem pretty bad. Do you have any suggestions because I cant continue till I get a button press but anything inside the button becomes error prone. Also it still works and I doubt it has anything to do with the Splashscreen.","body":"@MadProgrammer Yeah that does seem pretty bad. Do you have any suggestions because I cant continue till I get a button press but anything inside the button becomes error prone. Also it still works and I doubt it has anything to do with the Splashscreen."},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668227879,"post_id":74410358,"comment_id":131360197,"body_markdown":"@DevilsHnd Yes that is correct the application simply ends. If I dont use the bat file and do it directly in cmd, after the splash screen a new line shows on the cmd prompt to indicate termination of the program. Also everything else works if I comment out the LoadingScreen call.","body":"@DevilsHnd Yes that is correct the application simply ends. If I dont use the bat file and do it directly in cmd, after the splash screen a new line shows on the cmd prompt to indicate termination of the program. Also everything else works if I comment out the LoadingScreen call."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668227916,"post_id":74410358,"comment_id":131360202,"body_markdown":"@user18646436 You need to approach the problem from a event driven principle, instead of a procedural one.  This would suggest that once the login has been processed, you have some kind of controller or delegate to decide what should be done next","body":"@user18646436 You need to approach the problem from a event driven principle, instead of a procedural one.  This would suggest that once the login has been processed, you have some kind of controller or delegate to decide what should be done next"},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668232820,"post_id":74410358,"comment_id":131360598,"body_markdown":"Oh well I better get researching then. Unfortunately, I am a beginner trying to speedrun programming so pardon my lack of vocabulary.","body":"Oh well I better get researching then. Unfortunately, I am a beginner trying to speedrun programming so pardon my lack of vocabulary."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668316763,"post_id":74410358,"comment_id":131373586,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"}],"answers":[{"comments":[{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668232622,"post_id":74410588,"comment_id":131360586,"body_markdown":"Thank you very much, I really appreciate the work you did to show me such a cool concept, however, I am not sure if this solves my problem. I really just want to show the new JFrames after the splashscreen which seems to terminate the program on completion.","body":"Thank you very much, I really appreciate the work you did to show me such a cool concept, however, I am not sure if this solves my problem. I really just want to show the new JFrames after the splashscreen which seems to terminate the program on completion."},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668234821,"post_id":74410588,"comment_id":131360764,"body_markdown":"Also I did not need all of the classes for user stuff those were from my other classes I already made. Love the creative elements thought :)","body":"Also I did not need all of the classes for user stuff those were from my other classes I already made. Love the creative elements thought :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668235569,"post_id":74410588,"comment_id":131360865,"body_markdown":"Right - so this, rather simple example will do exactly as you asked - but - you’ll need to modify how you’re approaching the problem","body":"Right - so this, rather simple example will do exactly as you asked - but - you’ll need to modify how you’re approaching the problem"},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668236004,"post_id":74410588,"comment_id":131360921,"body_markdown":"AH perfect you are still here! I was experimenting with your code and the invoke later seemed to help a lot. Now the problem is some ExceptionInitializationError and some java.lang.securityException.\nI will add a picture of the cmd output to my original problem","body":"AH perfect you are still here! I was experimenting with your code and the invoke later seemed to help a lot. Now the problem is some ExceptionInitializationError and some java.lang.securityException. I will add a picture of the cmd output to my original problem"},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668236229,"post_id":74410588,"comment_id":131360943,"body_markdown":"Its pretty late where I am at so I will be afk for some time. I really appreciate your time and would love to fix this issue.","body":"Its pretty late where I am at so I will be afk for some time. I really appreciate your time and would love to fix this issue."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668242450,"post_id":74410588,"comment_id":131361721,"body_markdown":"`Google.emptyTrash`? That&#39;s another issue all together","body":"<code>Google.emptyTrash</code>? That&#39;s another issue all together"},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668262162,"post_id":74410588,"comment_id":131365119,"body_markdown":"Its a method that empty my drive trash.","body":"Its a method that empty my drive trash."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668289846,"post_id":74410588,"comment_id":131370585,"body_markdown":"Well - that&#39;s the cause of your issues - this isn&#39;t a standard Java API and you&#39;ll need to make the time to figure out how to fix it","body":"Well - that&#39;s the cause of your issues - this isn&#39;t a standard Java API and you&#39;ll need to make the time to figure out how to fix it"},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668321084,"post_id":74410588,"comment_id":131374070,"body_markdown":"Yeah you were right. It is the drive method which is super weird because it works when I run it in vscode but not from the jar file. Do you know what could cause that?","body":"Yeah you were right. It is the drive method which is super weird because it works when I run it in vscode but not from the jar file. Do you know what could cause that?"},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668323379,"post_id":74410588,"comment_id":131374313,"body_markdown":"Oo, I did a bunch of searching and it has to do with my java security parameters. I tried doing what (https://stackoverflow.com/questions/58182231/openjdk-11-error-can-not-initialize-cryptographic-mechanism) said but i couldn&#39;t get it to work. I wasn&#39;t even sure what file they were even talking about to be honest.","body":"Oo, I did a bunch of searching and it has to do with my java security parameters. I tried doing what (<a href=\"https://stackoverflow.com/questions/58182231/openjdk-11-error-can-not-initialize-cryptographic-mechanism\" title=\"openjdk 11 error can not initialize cryptographic mechanism\">stackoverflow.com/questions/58182231/&hellip;</a>) said but i couldn&#39;t get it to work. I wasn&#39;t even sure what file they were even talking about to be honest."},{"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"score":0,"creation_date":1668367402,"post_id":74410588,"comment_id":131382519,"body_markdown":"OMG I found out that I didn&#39;t even have the config folder because the tutorials I was watching didn&#39;t need to use it because they never ran network code. Im sorry for wasting your time lololol I just needed to copy the config file into my jre folder","body":"OMG I found out that I didn&#39;t even have the config folder because the tutorials I was watching didn&#39;t need to use it because they never ran network code. Im sorry for wasting your time lololol I just needed to copy the config file into my jre folder"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668230797,"creation_date":1668230797,"answer_id":74410588,"question_id":74410358,"body_markdown":"Swing is an event driven environment, this means that, instead of using a loop to wait for state to change, the system will notify of &quot;events&quot; which you can the register interest for and respond to based on your needs.\r\n\r\nThis is a core concept to most GUI frameworks.  You should probably have a look at [Writing Event Listeners](https://docs.oracle.com/javase/tutorial/uiswing/events/index.html).  Swing class these listeners, but they are also know as observers and reflect the [&quot;observer pattern&quot;](https://www.google.com/search?q=java+observer+pattern&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+obse&amp;aqs=chrome.1.69i57j69i59.3763j0j4&amp;sourceid=chrome&amp;ie=UTF-8)\r\n\r\nSo, what&#39;s the answer?  Well simple really, once the splash screen has completed, you create a dialog and present the user login.  Once the login has been processed (or cancelled), you notify interested parties via a custom observer and they then decide what needs to be done.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.SplashScreen;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.text.NumberFormat;\r\n    import java.util.Random;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String args[]) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            Splash test = new Splash();\r\n\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JDialog loginDialog = new JDialog();\r\n                    loginDialog.add(new LoginPane(new LoginPane.LoginDelegate() {\r\n                        @Override\r\n                        public void loginWasSuccessful(User user) {\r\n                            loginDialog.dispose();\r\n                            JFrame frame = new JFrame(&quot;Awesomeness&quot;);\r\n                            frame.add(new ApplicationPane());\r\n                            frame.pack();\r\n                            frame.setLocationRelativeTo(null);\r\n                            frame.setVisible(true);\r\n                        }\r\n\r\n                        @Override\r\n                        public void loginWasCancelled() {\r\n                            loginDialog.dispose();\r\n                        }\r\n                    }));\r\n                    loginDialog.setModal(true);\r\n                    loginDialog.pack();\r\n                    loginDialog.setLocationRelativeTo(null);\r\n                    loginDialog.setVisible(true);\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Splash {\r\n\r\n            private BufferedImage background;\r\n            private SplashScreen splash;\r\n\r\n            protected Graphics2D getGraphics() {\r\n                Graphics2D g = splash.createGraphics();\r\n                if (g == null) {\r\n                    throw new RuntimeException(&quot;Not not create splash screen graphics&quot;);\r\n                }\r\n                return g;\r\n            }\r\n\r\n            protected void renderBackground() {\r\n                // Get the splash screen size...\r\n                Dimension size = splash.getSize();\r\n                int width = size.width;\r\n                int height = size.height;\r\n\r\n                Graphics2D g2d = (Graphics2D) getGraphics().create();\r\n\r\n                // Draw the background\r\n                g2d.drawImage(background, 0, 0, null);\r\n                // Apply alpha composite\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.5f));\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void renderProgress(double progress) {\r\n                int height = splash.getSize().height - 1;\r\n                int width = splash.getSize().width - 1;\r\n\r\n                Graphics2D g2d = (Graphics2D) getGraphics().create();\r\n\r\n                g2d.setColor(Color.RED);\r\n                int y = height - 50;\r\n                g2d.fillRect(0, y, (int) (width * progress), 50);\r\n\r\n                g2d.setColor(Color.WHITE);\r\n                g2d.drawRect(0, height - 50, width, 50);\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                String text = &quot;Awesomeness is loading...&quot; + NumberFormat.getPercentInstance().format(progress);\r\n                g2d.setColor(Color.WHITE);\r\n                g2d.drawString(text, (width - fm.stringWidth(text)) / 2, y + ((50 - fm.getHeight()) / 2) + fm.getAscent());\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void renderSplashScreen(double progress) {\r\n                // I&#39;m cheating here, by constently repainting the background\r\n                // I&#39;m automatically cleaning what ever was previously painted\r\n                renderBackground();\r\n                renderProgress(progress);\r\n                splash.update();\r\n            }\r\n\r\n            public Splash() {\r\n                splash = SplashScreen.getSplashScreen();\r\n                if (splash == null) {\r\n                    throw new RuntimeException(&quot;Not not get reference to splash screen&quot;);\r\n                }\r\n\r\n                System.out.println(&quot;Present&quot;);\r\n                try {\r\n                    background = ImageIO.read(splash.getImageURL());\r\n                    for (double progress = 0; progress &lt; 1.0; progress += 0.05) {\r\n                        renderSplashScreen(progress);\r\n                        Thread.sleep(250);\r\n                    }\r\n                } catch (IOException exp) {\r\n                    exp.printStackTrace();\r\n                } catch (InterruptedException ex) {\r\n                }\r\n                System.out.println(&quot;All done here&quot;);\r\n                splash.close();\r\n            }\r\n        }\r\n\r\n        public interface User {\r\n            public String getName();\r\n        }\r\n\r\n        public class DefaultUser implements User {\r\n            private String name;\r\n\r\n            public DefaultUser(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n        }\r\n\r\n        public class LoginPane extends JPanel {\r\n\r\n            public interface LoginDelegate {\r\n                public void loginWasSuccessful(User user);\r\n\r\n                public void loginWasCancelled();\r\n            }\r\n\r\n            // You don&#39;t need this, I&#39;m just faking some stuff\r\n            private Random rnd = new Random();\r\n            private LoginDelegate delegate;\r\n\r\n            public LoginPane(LoginDelegate delegate) {\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(new JLabel(&quot;This is where you&#39;d present some fields for user credentials&quot;), gbc);\r\n                add(new JLabel(&quot;But I&#39;m lazy so you&#39;ll have to fill it in yourself&quot;), gbc);\r\n\r\n                JButton loginBtn = new JButton(&quot;Login&quot;);\r\n                JButton cancelBtn = new JButton(&quot;Cancel&quot;);\r\n\r\n                JPanel actions = new JPanel(new GridLayout(1, 2, 4, 0));\r\n                actions.add(loginBtn);\r\n                actions.add(cancelBtn);\r\n\r\n                add(actions);\r\n\r\n                loginBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (rnd.nextBoolean()) {\r\n                            delegate.loginWasSuccessful(new DefaultUser(&quot;Bob&quot;));\r\n                        } else {\r\n                            JOptionPane.showMessageDialog(LoginPane.this, &quot;Login failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        }\r\n                    }\r\n                });\r\n                cancelBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        delegate.loginWasCancelled();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class ApplicationPane extends JPanel {\r\n            public ApplicationPane() {\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                setLayout(new GridBagLayout());\r\n                add(new JLabel(&quot;All your application is belong to us&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2lZNy.gif\r\n\r\nYou may also want to look into the [model view controller](https://www.google.com/search?q=java+model+view+controller&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+model+&amp;aqs=chrome.0.69i59j69i57.2718j0j7&amp;sourceid=chrome&amp;ie=UTF-8) concept","title":"Program not continuing after splash screen","body":"<p>Swing is an event driven environment, this means that, instead of using a loop to wait for state to change, the system will notify of &quot;events&quot; which you can the register interest for and respond to based on your needs.</p>\n<p>This is a core concept to most GUI frameworks.  You should probably have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/index.html\" rel=\"nofollow noreferrer\">Writing Event Listeners</a>.  Swing class these listeners, but they are also know as observers and reflect the <a href=\"https://www.google.com/search?q=java+observer+pattern&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+obse&amp;aqs=chrome.1.69i57j69i59.3763j0j4&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">&quot;observer pattern&quot;</a></p>\n<p>So, what's the answer?  Well simple really, once the splash screen has completed, you create a dialog and present the user login.  Once the login has been processed (or cancelled), you notify interested parties via a custom observer and they then decide what needs to be done.</p>\n<p><a href=\"https://i.stack.imgur.com/2lZNy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2lZNy.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.SplashScreen;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.text.NumberFormat;\nimport java.util.Random;\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n\n    public static void main(String args[]) {\n        new Main();\n    }\n\n    public Main() {\n        Splash test = new Splash();\n\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JDialog loginDialog = new JDialog();\n                loginDialog.add(new LoginPane(new LoginPane.LoginDelegate() {\n                    @Override\n                    public void loginWasSuccessful(User user) {\n                        loginDialog.dispose();\n                        JFrame frame = new JFrame(&quot;Awesomeness&quot;);\n                        frame.add(new ApplicationPane());\n                        frame.pack();\n                        frame.setLocationRelativeTo(null);\n                        frame.setVisible(true);\n                    }\n\n                    @Override\n                    public void loginWasCancelled() {\n                        loginDialog.dispose();\n                    }\n                }));\n                loginDialog.setModal(true);\n                loginDialog.pack();\n                loginDialog.setLocationRelativeTo(null);\n                loginDialog.setVisible(true);\n\n            }\n        });\n    }\n\n    public class Splash {\n\n        private BufferedImage background;\n        private SplashScreen splash;\n\n        protected Graphics2D getGraphics() {\n            Graphics2D g = splash.createGraphics();\n            if (g == null) {\n                throw new RuntimeException(&quot;Not not create splash screen graphics&quot;);\n            }\n            return g;\n        }\n\n        protected void renderBackground() {\n            // Get the splash screen size...\n            Dimension size = splash.getSize();\n            int width = size.width;\n            int height = size.height;\n\n            Graphics2D g2d = (Graphics2D) getGraphics().create();\n\n            // Draw the background\n            g2d.drawImage(background, 0, 0, null);\n            // Apply alpha composite\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.5f));\n            g2d.dispose();\n        }\n\n        protected void renderProgress(double progress) {\n            int height = splash.getSize().height - 1;\n            int width = splash.getSize().width - 1;\n\n            Graphics2D g2d = (Graphics2D) getGraphics().create();\n\n            g2d.setColor(Color.RED);\n            int y = height - 50;\n            g2d.fillRect(0, y, (int) (width * progress), 50);\n\n            g2d.setColor(Color.WHITE);\n            g2d.drawRect(0, height - 50, width, 50);\n\n            FontMetrics fm = g2d.getFontMetrics();\n            String text = &quot;Awesomeness is loading...&quot; + NumberFormat.getPercentInstance().format(progress);\n            g2d.setColor(Color.WHITE);\n            g2d.drawString(text, (width - fm.stringWidth(text)) / 2, y + ((50 - fm.getHeight()) / 2) + fm.getAscent());\n            g2d.dispose();\n        }\n\n        protected void renderSplashScreen(double progress) {\n            // I'm cheating here, by constently repainting the background\n            // I'm automatically cleaning what ever was previously painted\n            renderBackground();\n            renderProgress(progress);\n            splash.update();\n        }\n\n        public Splash() {\n            splash = SplashScreen.getSplashScreen();\n            if (splash == null) {\n                throw new RuntimeException(&quot;Not not get reference to splash screen&quot;);\n            }\n\n            System.out.println(&quot;Present&quot;);\n            try {\n                background = ImageIO.read(splash.getImageURL());\n                for (double progress = 0; progress &lt; 1.0; progress += 0.05) {\n                    renderSplashScreen(progress);\n                    Thread.sleep(250);\n                }\n            } catch (IOException exp) {\n                exp.printStackTrace();\n            } catch (InterruptedException ex) {\n            }\n            System.out.println(&quot;All done here&quot;);\n            splash.close();\n        }\n    }\n\n    public interface User {\n        public String getName();\n    }\n\n    public class DefaultUser implements User {\n        private String name;\n\n        public DefaultUser(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n    }\n\n    public class LoginPane extends JPanel {\n\n        public interface LoginDelegate {\n            public void loginWasSuccessful(User user);\n\n            public void loginWasCancelled();\n        }\n\n        // You don't need this, I'm just faking some stuff\n        private Random rnd = new Random();\n        private LoginDelegate delegate;\n\n        public LoginPane(LoginDelegate delegate) {\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(new JLabel(&quot;This is where you'd present some fields for user credentials&quot;), gbc);\n            add(new JLabel(&quot;But I'm lazy so you'll have to fill it in yourself&quot;), gbc);\n\n            JButton loginBtn = new JButton(&quot;Login&quot;);\n            JButton cancelBtn = new JButton(&quot;Cancel&quot;);\n\n            JPanel actions = new JPanel(new GridLayout(1, 2, 4, 0));\n            actions.add(loginBtn);\n            actions.add(cancelBtn);\n\n            add(actions);\n\n            loginBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (rnd.nextBoolean()) {\n                        delegate.loginWasSuccessful(new DefaultUser(&quot;Bob&quot;));\n                    } else {\n                        JOptionPane.showMessageDialog(LoginPane.this, &quot;Login failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    }\n                }\n            });\n            cancelBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    delegate.loginWasCancelled();\n                }\n            });\n        }\n    }\n\n    public class ApplicationPane extends JPanel {\n        public ApplicationPane() {\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setLayout(new GridBagLayout());\n            add(new JLabel(&quot;All your application is belong to us&quot;));\n        }\n    }\n}\n</code></pre>\n<p>You may also want to look into the <a href=\"https://www.google.com/search?q=java+model+view+controller&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+model+&amp;aqs=chrome.0.69i59j69i57.2718j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">model view controller</a> concept</p>\n"}],"owner":{"account_id":24762181,"reputation":14,"user_id":18646436,"display_name":"KP101Coder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668236107,"creation_date":1668226753,"question_id":74410358,"body_markdown":"I am trying to use a splash screen with my program and the splash screen shows but then nothing else happens. I am running the JAR file, that has the main class that creates an object(LoadingScreen) which creates a splash screen, through a bat file which goes through a jre and starts the splash screen with my gif. Batch file contents:\r\n\r\ncd Desktop\r\n\r\ncd YES (folder this stuff is in)\r\n\r\njre\\bin\\java.exe -splash:ahsSplash.gif YES.jar*\r\n\r\nHere is the LoadingScreen class with the splash screen creator\r\n```\r\nimport java.awt.*;\r\n \r\npublic class LoadingScreen \r\n{\r\n    public LoadingScreen() throws NullPointerException, IllegalStateException, InterruptedException\r\n    {\r\n        final SplashScreen splash = SplashScreen.getSplashScreen();\r\n        Graphics2D g = splash.createGraphics();\r\n        for(int i=0; i&lt;150; i++) \r\n        {\r\n            renderSplashFrame(g, i);\r\n            splash.update();\r\n            Thread.sleep(50);\r\n        }\r\n        splash.close();\r\n    }\r\n    static void renderSplashFrame(Graphics2D g, int frame) \r\n    {\r\n        final String[] comps = {&quot;Getting bork.exe&quot;, &quot;Training doggie&quot;, &quot;Finding woof&quot;, &quot;Loading treats&quot;, &quot;Locating poopbag&quot;, &quot;Sniffing Cats&quot;,&quot;Locating DogPride&quot;, &quot;Locating AHSPride&quot;, &quot;Deleting Bite.virus ;]&quot;, &quot;Smelling food&quot;, &quot;Stealing food&quot;, &quot;Walking outside&quot;};\r\n        g.setComposite(AlphaComposite.Clear);\r\n        g.fillRect(100,135,200,40);\r\n        g.setPaintMode();\r\n        g.setColor(Color.WHITE);\r\n        g.drawString(comps[(frame/8)%comps.length]+&quot;...&quot;, 100, 145);\r\n    }\r\n}\r\n```\r\nHere is the main method\r\n```\r\npublic static void main(String[] args) throws NullPointerException, IllegalStateException, ClassNotFoundException, InstantiationException, IllegalAccessException, IOException, GeneralSecurityException, BadLocationException, InterruptedException, UnsupportedLookAndFeelException, UnsupportedAudioFileException, LineUnavailableException\r\n  {\r\n    System.out.println(System.getProperty(&quot;java.security.properties&quot;));//null\r\n    new LoadingScreen();\r\n    SwingUtilities.invokeLater(new Runnable()\r\n    {\r\n      @Override\r\n      public void run() \r\n      {\r\n        try \r\n        {\r\n          createValues();\r\n        } \r\n        catch (Exception e)\r\n        {\r\n          ifError(e.toString());\r\n        }\r\n        LoginScreen lS = new LoginScreen();\r\n        while(!lS.getUserAuth())\r\n        {\r\n          continue;\r\n        }\r\n        lS.setVisible(false);\r\n        userLoginData userData = lS.uD;\r\n        if(userData.getAdmin() == false)\r\n        {\r\n          try \r\n          {\r\n            new StudentScreen(userData.user, userData.grade);\r\n          } \r\n          catch (Exception e)\r\n          {\r\n            ifError(e.toString());\r\n          }\r\n        }\r\n        else\r\n        {\r\n          try \r\n          {\r\n            new AdminScreen();\r\n          } \r\n          catch (Exception e)\r\n          {\r\n            ifError(e.toString());\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n```\r\n\r\nI tried many things from different arguments in the batch file, running the other methods in the loadingscreen class after the splash screen gets closed, using a manifest file to create the jar, creating the jar through multiple IDEs and I tried to make the other screens come first (because they had buttons that would call the rest of the code) and then the splash screen but I would get a security exception. I also tried to put all of the LoadingScreen class stuff inside my main method in the main class but even then it would stop after the splash screen.\r\n\r\n\r\nTHANKS FOR YOUR HELP!\r\n\r\n\r\nSome exceptions I added to help diagnose the problem\r\n[![Exceptions][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IIWTl.png","title":"Program not continuing after splash screen","body":"<p>I am trying to use a splash screen with my program and the splash screen shows but then nothing else happens. I am running the JAR file, that has the main class that creates an object(LoadingScreen) which creates a splash screen, through a bat file which goes through a jre and starts the splash screen with my gif. Batch file contents:</p>\n<p>cd Desktop</p>\n<p>cd YES (folder this stuff is in)</p>\n<p>jre\\bin\\java.exe -splash:ahsSplash.gif YES.jar*</p>\n<p>Here is the LoadingScreen class with the splash screen creator</p>\n<pre><code>import java.awt.*;\n \npublic class LoadingScreen \n{\n    public LoadingScreen() throws NullPointerException, IllegalStateException, InterruptedException\n    {\n        final SplashScreen splash = SplashScreen.getSplashScreen();\n        Graphics2D g = splash.createGraphics();\n        for(int i=0; i&lt;150; i++) \n        {\n            renderSplashFrame(g, i);\n            splash.update();\n            Thread.sleep(50);\n        }\n        splash.close();\n    }\n    static void renderSplashFrame(Graphics2D g, int frame) \n    {\n        final String[] comps = {&quot;Getting bork.exe&quot;, &quot;Training doggie&quot;, &quot;Finding woof&quot;, &quot;Loading treats&quot;, &quot;Locating poopbag&quot;, &quot;Sniffing Cats&quot;,&quot;Locating DogPride&quot;, &quot;Locating AHSPride&quot;, &quot;Deleting Bite.virus ;]&quot;, &quot;Smelling food&quot;, &quot;Stealing food&quot;, &quot;Walking outside&quot;};\n        g.setComposite(AlphaComposite.Clear);\n        g.fillRect(100,135,200,40);\n        g.setPaintMode();\n        g.setColor(Color.WHITE);\n        g.drawString(comps[(frame/8)%comps.length]+&quot;...&quot;, 100, 145);\n    }\n}\n</code></pre>\n<p>Here is the main method</p>\n<pre><code>public static void main(String[] args) throws NullPointerException, IllegalStateException, ClassNotFoundException, InstantiationException, IllegalAccessException, IOException, GeneralSecurityException, BadLocationException, InterruptedException, UnsupportedLookAndFeelException, UnsupportedAudioFileException, LineUnavailableException\n  {\n    System.out.println(System.getProperty(&quot;java.security.properties&quot;));//null\n    new LoadingScreen();\n    SwingUtilities.invokeLater(new Runnable()\n    {\n      @Override\n      public void run() \n      {\n        try \n        {\n          createValues();\n        } \n        catch (Exception e)\n        {\n          ifError(e.toString());\n        }\n        LoginScreen lS = new LoginScreen();\n        while(!lS.getUserAuth())\n        {\n          continue;\n        }\n        lS.setVisible(false);\n        userLoginData userData = lS.uD;\n        if(userData.getAdmin() == false)\n        {\n          try \n          {\n            new StudentScreen(userData.user, userData.grade);\n          } \n          catch (Exception e)\n          {\n            ifError(e.toString());\n          }\n        }\n        else\n        {\n          try \n          {\n            new AdminScreen();\n          } \n          catch (Exception e)\n          {\n            ifError(e.toString());\n          }\n        }\n      }\n    });\n  }\n</code></pre>\n<p>I tried many things from different arguments in the batch file, running the other methods in the loadingscreen class after the splash screen gets closed, using a manifest file to create the jar, creating the jar through multiple IDEs and I tried to make the other screens come first (because they had buttons that would call the rest of the code) and then the splash screen but I would get a security exception. I also tried to put all of the LoadingScreen class stuff inside my main method in the main class but even then it would stop after the splash screen.</p>\n<p>THANKS FOR YOUR HELP!</p>\n<p>Some exceptions I added to help diagnose the problem\n<a href=\"https://i.stack.imgur.com/IIWTl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIWTl.png\" alt=\"Exceptions\" /></a></p>\n"},{"tags":["java","android","swing","headless"],"answers":[{"comments":[{"owner":{"account_id":17374430,"reputation":67,"user_id":12587786,"display_name":"Tundra Spirit"},"score":0,"creation_date":1585336659,"post_id":60892511,"comment_id":107733761,"body_markdown":"Ain&#39;t there a kinda of elumator that can do that stuff, I&#39;m using DCoder to run my java files?","body":"Ain&#39;t there a kinda of elumator that can do that stuff, I&#39;m using DCoder to run my java files?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1585336765,"post_id":60892511,"comment_id":107733801,"body_markdown":"@TundraSpirit: &quot;Ain&#39;t there a kinda of elumator that can do that stuff&quot; -- not that I am aware of, sorry.","body":"@TundraSpirit: &quot;Ain&#39;t there a kinda of elumator that can do that stuff&quot; -- not that I am aware of, sorry."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585335572,"creation_date":1585335572,"answer_id":60892511,"question_id":60892451,"body_markdown":"&gt; I was wondering if I could run a desktop application that uses swing libraries on a mobile device\r\n\r\nNot on an Android device, sorry.\r\n","title":"How to run my java swing desktop application on mobile?","body":"<blockquote>\n  <p>I was wondering if I could run a desktop application that uses swing libraries on a mobile device</p>\n</blockquote>\n\n<p>Not on an Android device, sorry.</p>\n"},{"tags":[],"owner":{"account_id":21982966,"reputation":11,"user_id":16257680,"display_name":"Pritam Pradhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668233969,"creation_date":1668233236,"answer_id":74410753,"question_id":60892451,"body_markdown":"[**EDIT**]: You can also use [Replit][1] and it&#39;s Java Swing template.\r\n\r\nYou can try copying your app into [Termux][2]\r\nAnd use VNC server or Termux-X11 to view your application.\r\n\r\nTo setup Termux, first go to their [website][2]\r\nAnd download it from there. \r\n\r\nThen once that is done, run the .apk file you downloaded. (Do not use the one in the Google Play Store because it no longer works.)\r\n\r\nOnce you install the App, open the app and wait for it to extract the rootfs. Once it is extracted, type \r\n\r\n&quot;termux-setup-storage&quot;  (StackOverflow doesn&#39;t let me use \r\nthe snippet editor on touchscreen.)  To setup the storage, which isn&#39;t nessecary but useful to have.\r\n\r\nAfter that type &quot;pkg update&quot;, pkg is simply apt but in termux. You can also use &quot;apt update&quot; like in Debian.\r\n\r\nAfter that type &quot;pkg install openjdk-17-jdk&quot; to install OpenJDK 17 on Termux.\r\n\r\nThen you can use built-in text editors such as Nano, or copy your Class files or Source files into your ~/storage directory.\r\n\r\nTo compile a Java source file, run: &quot;javac &lt;path to source file&gt;&quot;\r\nTo run a Class file, run:\r\n&quot;java &lt;path to class file without extension&gt;&quot;\r\n\r\n\r\n  [1]: https://replit.com\r\n  [2]: https://termux.com","title":"How to run my java swing desktop application on mobile?","body":"<p>[<strong>EDIT</strong>]: You can also use <a href=\"https://replit.com\" rel=\"nofollow noreferrer\">Replit</a> and it's Java Swing template.</p>\n<p>You can try copying your app into <a href=\"https://termux.com\" rel=\"nofollow noreferrer\">Termux</a>\nAnd use VNC server or Termux-X11 to view your application.</p>\n<p>To setup Termux, first go to their <a href=\"https://termux.com\" rel=\"nofollow noreferrer\">website</a>\nAnd download it from there.</p>\n<p>Then once that is done, run the .apk file you downloaded. (Do not use the one in the Google Play Store because it no longer works.)</p>\n<p>Once you install the App, open the app and wait for it to extract the rootfs. Once it is extracted, type</p>\n<p>&quot;termux-setup-storage&quot;  (StackOverflow doesn't let me use\nthe snippet editor on touchscreen.)  To setup the storage, which isn't nessecary but useful to have.</p>\n<p>After that type &quot;pkg update&quot;, pkg is simply apt but in termux. You can also use &quot;apt update&quot; like in Debian.</p>\n<p>After that type &quot;pkg install openjdk-17-jdk&quot; to install OpenJDK 17 on Termux.</p>\n<p>Then you can use built-in text editors such as Nano, or copy your Class files or Source files into your ~/storage directory.</p>\n<p>To compile a Java source file, run: &quot;javac &quot;\nTo run a Class file, run:\n&quot;java &quot;</p>\n"}],"owner":{"account_id":17374430,"reputation":67,"user_id":12587786,"display_name":"Tundra Spirit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1937,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1668233969,"creation_date":1585335284,"question_id":60892451,"body_markdown":"I was wondering if I could run a desktop application that uses swing libraries on a mobile device. I know it&#39;s a simple question yet interesting.\r\n\r\n**Attempt**\r\n\r\nI used ```System.setProperty(&quot;java.awt.headless&quot;,&quot;true&quot;);```, but it seems to do nothing and throws a HeadlessException, issue also presented before using the method. Moreover, I would prefer not using this method because it limits the swing library features.\r\n\r\n**Specs**\r\n\r\n - Device **:** Samsung J8\r\n\r\n - OS **:** Android Pie 9\r\n\r\n - Coding app **:** DCoder\r\n\r\n - Plugged keyboard **:** Yes\r\n\r\n - Plugged mouse **:** No\r\n\r\n - Screen **:** Mobile&#39;s screen\r\n\r\n**Exception**\r\n\r\n    Exception in thread &quot;main&quot; java.awt.HeadlessException: \r\n    No X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\n            at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:208)\r\n            at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:548)\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:423)\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:388)\r\n            at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\r\n            at Test.&lt;init&gt;(source.java:5)\r\n            at Test.main(source.java:13)\r\n\r\n**Code**\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    class Test extends JFrame {\r\n\r\n      public Test () {\r\n        setSize(180,100);\r\n        setVisible(true);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n      }\r\n\r\n      public static void main (String [] args) {\r\n        System.setProperty(&quot;java.awt.headless&quot;,&quot;true&quot;);\r\n        Test test = new Test();\r\n      }\r\n    }\r\n\r\nThanks for taking your time to read my question, have a nice day.","title":"How to run my java swing desktop application on mobile?","body":"<p>I was wondering if I could run a desktop application that uses swing libraries on a mobile device. I know it's a simple question yet interesting.</p>\n\n<p><strong>Attempt</strong></p>\n\n<p>I used <code>System.setProperty(\"java.awt.headless\",\"true\");</code>, but it seems to do nothing and throws a HeadlessException, issue also presented before using the method. Moreover, I would prefer not using this method because it limits the swing library features.</p>\n\n<p><strong>Specs</strong></p>\n\n<ul>\n<li><p>Device <strong>:</strong> Samsung J8</p></li>\n<li><p>OS <strong>:</strong> Android Pie 9</p></li>\n<li><p>Coding app <strong>:</strong> DCoder</p></li>\n<li><p>Plugged keyboard <strong>:</strong> Yes</p></li>\n<li><p>Plugged mouse <strong>:</strong> No</p></li>\n<li><p>Screen <strong>:</strong> Mobile's screen</p></li>\n</ul>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>Exception in thread \"main\" java.awt.HeadlessException: \nNo X11 DISPLAY variable was set, but this program performed an operation which requires it.\n        at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:208)\n        at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:548)\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:423)\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:388)\n        at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\n        at Test.&lt;init&gt;(source.java:5)\n        at Test.main(source.java:13)\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>import javax.swing.JFrame;\n\nclass Test extends JFrame {\n\n  public Test () {\n    setSize(180,100);\n    setVisible(true);\n    setLocationRelativeTo(null);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n  }\n\n  public static void main (String [] args) {\n    System.setProperty(\"java.awt.headless\",\"true\");\n    Test test = new Test();\n  }\n}\n</code></pre>\n\n<p>Thanks for taking your time to read my question, have a nice day.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668241895,"post_id":74410788,"comment_id":131361652,"body_markdown":"Look for the Maven Assembly Plug-in or it’s successor the Maven Shade Plugin. Both can produce „fat jars“","body":"Look for the Maven Assembly Plug-in or it’s successor the Maven Shade Plugin. Both can produce „fat jars“"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1668249881,"post_id":74410788,"comment_id":131362858,"body_markdown":"@ChristophDahlen Maven Shade Plugin is not a successor of Maven Assembly Plugin both plugins have different tasks.","body":"@ChristophDahlen Maven Shade Plugin is not a successor of Maven Assembly Plugin both plugins have different tasks."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668251924,"post_id":74410788,"comment_id":131363205,"body_markdown":"@khmarbaise Thanks, didn‘t know that, actually I ever used Maven Assembly (or Spring Boot).","body":"@khmarbaise Thanks, didn‘t know that, actually I ever used Maven Assembly (or Spring Boot)."}],"owner":{"account_id":24350143,"reputation":111,"user_id":18286085,"display_name":"Ixf1nity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668233781,"creation_date":1668233781,"question_id":74410788,"body_markdown":"I was trying to create a multimodule project with maven. It works fine but its making seprate jar for every module. could you please tell me how to compile all modules together to create one jar?\r\n\r\nI&#39;ve looked through all stackoverflow posts regarding this but they are confusing me more.","title":"Create a single jar with multiple modules","body":"<p>I was trying to create a multimodule project with maven. It works fine but its making seprate jar for every module. could you please tell me how to compile all modules together to create one jar?</p>\n<p>I've looked through all stackoverflow posts regarding this but they are confusing me more.</p>\n"},{"tags":["javascript","java","runtime-error"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1668237557,"post_id":74410770,"comment_id":131361107,"body_markdown":"Please edit your grammar and punctuation to let StackOverflow provide quality content","body":"Please edit your grammar and punctuation to let StackOverflow provide quality content"},{"owner":{"account_id":26907337,"reputation":1,"user_id":20483450,"display_name":"kuroyama kurosuke"},"score":0,"creation_date":1668361826,"post_id":74410770,"comment_id":131381261,"body_markdown":"this is javascript","body":"this is javascript"}],"owner":{"account_id":26907337,"reputation":1,"user_id":20483450,"display_name":"kuroyama kurosuke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668233462,"creation_date":1668233462,"question_id":74410770,"body_markdown":"i have a problem in execution of jscript when i try to open it it always throws a error \r\n&quot; microsoft jscript runtime error&quot; &quot;800A138F&quot;\r\ni format my pc upgraded to win 10 to win 11 still same error unable to run jscript files  \r\n\r\ni tried reset my pc \r\nupgraded windows","title":"microsoft jscript runtime error &quot;8001A38F&quot;","body":"<p>i have a problem in execution of jscript when i try to open it it always throws a error\n&quot; microsoft jscript runtime error&quot; &quot;800A138F&quot;\ni format my pc upgraded to win 10 to win 11 still same error unable to run jscript files</p>\n<p>i tried reset my pc\nupgraded windows</p>\n"},{"tags":["java","observable","rx-java2"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668024024,"post_id":74380223,"comment_id":131309934,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74380223/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":9101919,"reputation":23,"user_id":6773790,"display_name":"Илья Смирнов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668232658,"creation_date":1668232658,"answer_id":74410713,"question_id":74380223,"body_markdown":"Done via [publishsubject][1]&lt;br/&gt;\r\nResult code looks like:\r\n\r\n      private final Map&lt;Instrument, PublishSubject&lt;OrderBookUpdate&gt;&gt; orderBookUpdatesSubscriptions;&lt;br/&gt;\r\n      private final Map&lt;Instrument, OrderBook&gt; orderBookMap = new HashMap&lt;&gt;();\r\n    \r\n      public Observable&lt;OrderBook&gt; getOrderBook(Instrument instrument) {\r\n        return service.subscribeChannel(instrument).flatMap(jsonNode -&gt; {\r\n          if (jsonNode.get(&quot;action&quot;).asText().equalsIgnoreCase(&quot;snapshot&quot;)) { //first update - full snapshot\r\n            OrderBook orderBook = mapper.treeToValue(jsonNode.get(&quot;data&quot;),\r\n                    mapper.getTypeFactory().constructCollectionType(List.class, Orderbook.class));\r\n            orderBookMap.put(instrument, orderBook);\r\n            return Observable.just(orderBook);\r\n          } else { //second update and later - incremental update\r\n            OrderBook orderBook = orderBookMap.getOrDefault(instrument, null);\r\n            PublicOrder incrementalUpdateData = mapper.treeToValue(jsonNode.get(&quot;data&quot;).get(0).get(&quot;asks&quot;),\r\n                    mapper.getTypeFactory().constructCollectionType(List.class, PublicOrder.class));\r\n            orderBookUpdatesSubscriptions.computeIfPresent(instrument, (a,b) -&gt; b.onNext(new OrderBookUpdate(incrementalUpdateData)));\r\n            orderBook.update(incrementalUpdateData);\r\n            return Observable.just(orderBook);\r\n          }\r\n        });   }\r\n    \r\n      public Observable&lt;OrderBookUpdate&gt; getOrderBookUpdates(Instrument instrument) {\r\n        return orderBookUpdatesSubscriptions.computeIfAbsent(instrument, v -&gt; PublishSubject.create());\r\n      }\r\n\r\n  [1]: https://www.tutorialspoint.com/rxjava/rxjava_publishsubject.htm","title":"How to create an Observable inside another Observable to receive part of the data?","body":"<p>Done via <a href=\"https://www.tutorialspoint.com/rxjava/rxjava_publishsubject.htm\" rel=\"nofollow noreferrer\">publishsubject</a><br/>\nResult code looks like:</p>\n<pre><code>  private final Map&lt;Instrument, PublishSubject&lt;OrderBookUpdate&gt;&gt; orderBookUpdatesSubscriptions;&lt;br/&gt;\n  private final Map&lt;Instrument, OrderBook&gt; orderBookMap = new HashMap&lt;&gt;();\n\n  public Observable&lt;OrderBook&gt; getOrderBook(Instrument instrument) {\n    return service.subscribeChannel(instrument).flatMap(jsonNode -&gt; {\n      if (jsonNode.get(&quot;action&quot;).asText().equalsIgnoreCase(&quot;snapshot&quot;)) { //first update - full snapshot\n        OrderBook orderBook = mapper.treeToValue(jsonNode.get(&quot;data&quot;),\n                mapper.getTypeFactory().constructCollectionType(List.class, Orderbook.class));\n        orderBookMap.put(instrument, orderBook);\n        return Observable.just(orderBook);\n      } else { //second update and later - incremental update\n        OrderBook orderBook = orderBookMap.getOrDefault(instrument, null);\n        PublicOrder incrementalUpdateData = mapper.treeToValue(jsonNode.get(&quot;data&quot;).get(0).get(&quot;asks&quot;),\n                mapper.getTypeFactory().constructCollectionType(List.class, PublicOrder.class));\n        orderBookUpdatesSubscriptions.computeIfPresent(instrument, (a,b) -&gt; b.onNext(new OrderBookUpdate(incrementalUpdateData)));\n        orderBook.update(incrementalUpdateData);\n        return Observable.just(orderBook);\n      }\n    });   }\n\n  public Observable&lt;OrderBookUpdate&gt; getOrderBookUpdates(Instrument instrument) {\n    return orderBookUpdatesSubscriptions.computeIfAbsent(instrument, v -&gt; PublishSubject.create());\n  }\n</code></pre>\n"}],"owner":{"account_id":9101919,"reputation":23,"user_id":6773790,"display_name":"Илья Смирнов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74410713,"answer_count":1,"score":0,"last_activity_date":1668232658,"creation_date":1668021283,"question_id":74380223,"body_markdown":"By subscribing to `getOrderBook` I am getting data via Netty and Websocket. &lt;br/&gt;The first time a full `OrderBook `arrives, and then incremental updates follow. As a result, I get the complete `OrderBook `with all the changes.&lt;br/&gt;&lt;br/&gt;\r\nPlease tell me how can I create another Observable so that I can receive separately the data that comes in the update (`incrementalUpdateData`) through a subscription?\r\n\r\n```\r\nprivate final Map&lt;Instrument, OrderBook&gt; orderBookMap = new HashMap&lt;&gt;();\r\n\r\n  public Observable&lt;OrderBook&gt; getOrderBook(Instrument instrument) {\r\n    return service.subscribeChannel(instrument).flatMap(jsonNode -&gt; {\r\n      if (jsonNode.get(&quot;action&quot;).asText().equalsIgnoreCase(&quot;snapshot&quot;)) { //first update - full snapshot\r\n        OrderBook orderBook = mapper.treeToValue(jsonNode.get(&quot;data&quot;),\r\n                mapper.getTypeFactory().constructCollectionType(List.class, Orderbook.class));\r\n        orderBookMap.put(instrument, orderBook);\r\n        return Observable.just(orderBook);\r\n      } else { //second update and later - incremental update\r\n        OrderBook orderBook = orderBookMap.getOrDefault(instrument, null);\r\n        PublicOrder incrementalUpdateData = mapper.treeToValue(jsonNode.get(&quot;data&quot;).get(0).get(&quot;asks&quot;),\r\n                mapper.getTypeFactory().constructCollectionType(List.class, PublicOrder.class));\r\n        orderBook.update(incrementalUpdateData);\r\n        return Observable.just(orderBook);\r\n      }\r\n    });\r\n  }\r\n```\r\n\r\nWhat do I expect.&lt;br/&gt;\r\n`getOrderBook.subscribe(some instrument)` - get full orderBook&lt;br/&gt;\r\n`getOrderBookUpdate.subscribe(some instrument)` - get only incremental data","title":"How to create an Observable inside another Observable to receive part of the data?","body":"<p>By subscribing to <code>getOrderBook</code> I am getting data via Netty and Websocket. <br/>The first time a full <code>OrderBook </code>arrives, and then incremental updates follow. As a result, I get the complete <code>OrderBook </code>with all the changes.<br/><br/>\nPlease tell me how can I create another Observable so that I can receive separately the data that comes in the update (<code>incrementalUpdateData</code>) through a subscription?</p>\n<pre><code>private final Map&lt;Instrument, OrderBook&gt; orderBookMap = new HashMap&lt;&gt;();\n\n  public Observable&lt;OrderBook&gt; getOrderBook(Instrument instrument) {\n    return service.subscribeChannel(instrument).flatMap(jsonNode -&gt; {\n      if (jsonNode.get(&quot;action&quot;).asText().equalsIgnoreCase(&quot;snapshot&quot;)) { //first update - full snapshot\n        OrderBook orderBook = mapper.treeToValue(jsonNode.get(&quot;data&quot;),\n                mapper.getTypeFactory().constructCollectionType(List.class, Orderbook.class));\n        orderBookMap.put(instrument, orderBook);\n        return Observable.just(orderBook);\n      } else { //second update and later - incremental update\n        OrderBook orderBook = orderBookMap.getOrDefault(instrument, null);\n        PublicOrder incrementalUpdateData = mapper.treeToValue(jsonNode.get(&quot;data&quot;).get(0).get(&quot;asks&quot;),\n                mapper.getTypeFactory().constructCollectionType(List.class, PublicOrder.class));\n        orderBook.update(incrementalUpdateData);\n        return Observable.just(orderBook);\n      }\n    });\n  }\n</code></pre>\n<p>What do I expect.<br/>\n<code>getOrderBook.subscribe(some instrument)</code> - get full orderBook<br/>\n<code>getOrderBookUpdate.subscribe(some instrument)</code> - get only incremental data</p>\n"},{"tags":["java","jvm","jvm-bytecode"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1668235363,"post_id":74410642,"comment_id":131360828,"body_markdown":"Are you familiar with [the class file format](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html)? You must be, if you are writing a compiler for the JVM. So parse the class file to find the required field and its type there.","body":"Are you familiar with <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html\" rel=\"nofollow noreferrer\">the class file format</a>? You must be, if you are writing a compiler for the JVM. So parse the class file to find the required field and its type there."},{"owner":{"account_id":26904525,"reputation":1,"user_id":20481120,"display_name":"Антон Кочергин"},"score":0,"creation_date":1668235968,"post_id":74410642,"comment_id":131360911,"body_markdown":"@apangin , Yes, I am familiar with the class file format. I assumed that this could already be implemented in Java.","body":"@apangin , Yes, I am familiar with the class file format. I assumed that this could already be implemented in Java."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1668238757,"post_id":74410642,"comment_id":131361261,"body_markdown":"There are many existing class file parsers in Java, just take any that is most convenient to you. Note that questions seeking for recommendations for libraries are off-topic on Stack Overflow.","body":"There are many existing class file parsers in Java, just take any that is most convenient to you. Note that questions seeking for recommendations for libraries are off-topic on Stack Overflow."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668441631,"post_id":74410642,"comment_id":131399848,"body_markdown":"Of course, this has been implemented in Java already, more than once. But you deliberately decided to write your own compiler, so your goals define the constraints on reusing existing software, but we don’t know them if you don’t post them.","body":"Of course, this has been implemented in Java already, more than once. But you deliberately decided to write your own compiler, so your goals define the constraints on reusing existing software, but we don’t know them if you don’t post them."}],"owner":{"account_id":26904525,"reputation":1,"user_id":20481120,"display_name":"Антон Кочергин"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668231678,"creation_date":1668231678,"question_id":74410642,"body_markdown":"I need to find the path to the object class in the files .class without initialization.\r\n\r\nFor example, I have a string &quot;java.lang.System.out&quot;, I need to get &quot;java.io.PrintStream&quot;, since &quot;out&quot; is &quot;PrintStream&quot;. I have no idea how this can be done.\r\n\r\nAt the moment I am writing a compiler for the JVM, and there I need to specify the class of the object that is being accessed. Public objects are not deleted by the compiler.","title":"Java: search for an object by name in .class files","body":"<p>I need to find the path to the object class in the files .class without initialization.</p>\n<p>For example, I have a string &quot;java.lang.System.out&quot;, I need to get &quot;java.io.PrintStream&quot;, since &quot;out&quot; is &quot;PrintStream&quot;. I have no idea how this can be done.</p>\n<p>At the moment I am writing a compiler for the JVM, and there I need to specify the class of the object that is being accessed. Public objects are not deleted by the compiler.</p>\n"},{"tags":["java","android","cordova","gradle","hybrid-mobile-app"],"comments":[{"owner":{"account_id":872799,"reputation":2452,"user_id":923279,"accept_rate":57,"display_name":"Chris Noldus"},"score":0,"creation_date":1464740554,"post_id":37549503,"comment_id":62603725,"body_markdown":"I&#39;m having my own difficulties trying to get a multi-project setup going with additional modules. Again, this requires the ability to modify the settings.gradle file, however it does not appear that cordova provides any ability to control the contents of this file.","body":"I&#39;m having my own difficulties trying to get a multi-project setup going with additional modules. Again, this requires the ability to modify the settings.gradle file, however it does not appear that cordova provides any ability to control the contents of this file."}],"answers":[{"comments":[{"owner":{"account_id":872799,"reputation":2452,"user_id":923279,"accept_rate":57,"display_name":"Chris Noldus"},"score":1,"creation_date":1464740212,"post_id":37554984,"comment_id":62603664,"body_markdown":"The settings.gradle file is different from the build.gradle file, the official documentation does not provide any insight as to how one might be able to add directives to the settings.gradle file.","body":"The settings.gradle file is different from the build.gradle file, the official documentation does not provide any insight as to how one might be able to add directives to the settings.gradle file."},{"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"score":0,"creation_date":1464748456,"post_id":37554984,"comment_id":62605458,"body_markdown":"@ChrisNoldus Hi Chris,I do understand settings.gradle is different from build,gradle and in official documentation there is no insight of the same. But as far as i investigated, there is no direct way of editing settings.gradle file with the exception of manipulating it through build.gradle. Request you to check out this link too - https://discuss.gradle.org/t/multiple-projects-dependencies-and-compiling/9730 But if you are still concerned about modifying setting.gradle file, have updates the quick fix to in my updated answer. Request-Kindly reconsider before down voting as it demotivates us.","body":"@ChrisNoldus Hi Chris,I do understand settings.gradle is different from build,gradle and in official documentation there is no insight of the same. But as far as i investigated, there is no direct way of editing settings.gradle file with the exception of manipulating it through build.gradle. Request you to check out this link too - <a href=\"https://discuss.gradle.org/t/multiple-projects-dependencies-and-compiling/9730\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/&hellip;</a> But if you are still concerned about modifying setting.gradle file, have updates the quick fix to in my updated answer. Request-Kindly reconsider before down voting as it demotivates us."},{"owner":{"account_id":872799,"reputation":2452,"user_id":923279,"accept_rate":57,"display_name":"Chris Noldus"},"score":1,"creation_date":1464751729,"post_id":37554984,"comment_id":62606267,"body_markdown":"@Ghandi - appreciate the effort, the downvote was originally because your answer does not answer the question - of course I assumed the asker has looked at the documentation and trying to do the same as me. As this may not be the case, downvote removed.","body":"@Ghandi - appreciate the effort, the downvote was originally because your answer does not answer the question - of course I assumed the asker has looked at the documentation and trying to do the same as me. As this may not be the case, downvote removed."},{"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"score":0,"creation_date":1464752071,"post_id":37554984,"comment_id":62606349,"body_markdown":"@Chris Thanks Chris. Hope my answer makes more sense now. Thanks again for helping me in refining the answer","body":"@Chris Thanks Chris. Hope my answer makes more sense now. Thanks again for helping me in refining the answer"},{"owner":{"account_id":1475249,"reputation":153,"user_id":1385796,"display_name":"Nathan"},"score":0,"creation_date":1465497456,"post_id":37554984,"comment_id":62938721,"body_markdown":"This was partially correct once i had this information i was able to add the Library via plugin.xml &lt;framework src=&quot;src/android/somecode&quot; custom=&quot;true&quot; /&gt;  this added what i needed to settings.gradle  then i was able to also add a build-extras.gradle in the plugin because cordova overwrites the build.gradle in the sub project so the sub-project specific things needed added back in","body":"This was partially correct once i had this information i was able to add the Library via plugin.xml &lt;framework src=&quot;src/android/somecode&quot; custom=&quot;true&quot; /&gt;  this added what i needed to settings.gradle  then i was able to also add a build-extras.gradle in the plugin because cordova overwrites the build.gradle in the sub project so the sub-project specific things needed added back in"},{"owner":{"account_id":92130,"reputation":10713,"user_id":252627,"accept_rate":86,"display_name":"janpio"},"score":0,"creation_date":1507073166,"post_id":37554984,"comment_id":80063857,"body_markdown":"@Nathan Could you share how you used a plugin to manipulate settings.gradle? Maybe in a seperate answer to your original question how you solved the problem at the end.","body":"@Nathan Could you share how you used a plugin to manipulate settings.gradle? Maybe in a seperate answer to your original question how you solved the problem at the end."},{"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"score":0,"creation_date":1507091845,"post_id":37554984,"comment_id":80068039,"body_markdown":"@janpio what exactly are you looking for?","body":"@janpio what exactly are you looking for?"},{"owner":{"account_id":92130,"reputation":10713,"user_id":252627,"accept_rate":86,"display_name":"janpio"},"score":0,"creation_date":1507104818,"post_id":37554984,"comment_id":80073736,"body_markdown":"@Nathan See https://stackoverflow.com/questions/46554949/how-to-add-native-module-to-cordova-android-project Have to add a module, is done via settings.gradle which gets overwritten with each build. That&#39;s why your explanation sounded so interesting.","body":"@Nathan See <a href=\"https://stackoverflow.com/questions/46554949/how-to-add-native-module-to-cordova-android-project\" title=\"how to add native module to cordova android project\">stackoverflow.com/questions/46554949/&hellip;</a> Have to add a module, is done via settings.gradle which gets overwritten with each build. That&#39;s why your explanation sounded so interesting."},{"owner":{"account_id":1086266,"reputation":7134,"user_id":1081909,"display_name":"NullPointer"},"score":0,"creation_date":1531469738,"post_id":37554984,"comment_id":89616723,"body_markdown":"Today i faced same problem and found that there is a way to **manipulate settings.gradle**  by using **project.properties**. I will give solution with in my answer","body":"Today i faced same problem and found that there is a way to <b>manipulate settings.gradle</b>  by using <b>project.properties</b>. I will give solution with in my answer"}],"tags":[],"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"comment_count":9,"down_vote_count":3,"up_vote_count":5,"is_accepted":true,"score":2,"last_activity_date":1464748987,"creation_date":1464726155,"answer_id":37554984,"question_id":37549503,"body_markdown":"You can include or exclude dependency using `build-extras.gradle` file. This file can be added along with `build.gradle` file in the same location using `before_build` hook action.\r\n\r\nRequest you to check [Official Cordova documentation][1] for more info on the same. Also check out this [example][2] which explains exclusion of duplicate modules. The same can be extended for module inclusion as well.\r\n\r\nUpdated: I do understand that the question is about settings.gradle and I m talking about build.gradle. That&#39;s because as far as i know, there is no way of directly manipulating settings.gradle with the exception of through build.gradle as its explained in the example link. Also i suggest you to have a look at this [gradle thread][3] which explains adding dependency via build.gradle file.\r\n\r\nBut if you are still looking for a solution to manipulate settings.gradle, you gotta edit build.js file in android platform as suggested in this [post][4] which is more of a quick fix or tweak.\r\n\r\nI hope it helps.\r\n\r\n\r\n  [1]: https://cordova.apache.org/docs/en/latest/guide/platforms/android/\r\n  [2]: https://www.thepolyglotdeveloper.com/2015/06/extending-the-gradle-build-file-in-apache-cordova-5-0/\r\n  [3]: https://discuss.gradle.org/t/multiple-projects-dependencies-and-compiling/9730\r\n  [4]: https://stackoverflow.com/questions/34307879/is-it-possible-to-manually-edit-settings-gradle-file","title":"how to add to settings.gradle in cordova","body":"<p>You can include or exclude dependency using <code>build-extras.gradle</code> file. This file can be added along with <code>build.gradle</code> file in the same location using <code>before_build</code> hook action.</p>\n\n<p>Request you to check <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/android/\" rel=\"nofollow noreferrer\">Official Cordova documentation</a> for more info on the same. Also check out this <a href=\"https://www.thepolyglotdeveloper.com/2015/06/extending-the-gradle-build-file-in-apache-cordova-5-0/\" rel=\"nofollow noreferrer\">example</a> which explains exclusion of duplicate modules. The same can be extended for module inclusion as well.</p>\n\n<p>Updated: I do understand that the question is about settings.gradle and I m talking about build.gradle. That's because as far as i know, there is no way of directly manipulating settings.gradle with the exception of through build.gradle as its explained in the example link. Also i suggest you to have a look at this <a href=\"https://discuss.gradle.org/t/multiple-projects-dependencies-and-compiling/9730\" rel=\"nofollow noreferrer\">gradle thread</a> which explains adding dependency via build.gradle file.</p>\n\n<p>But if you are still looking for a solution to manipulate settings.gradle, you gotta edit build.js file in android platform as suggested in this <a href=\"https://stackoverflow.com/questions/34307879/is-it-possible-to-manually-edit-settings-gradle-file\">post</a> which is more of a quick fix or tweak.</p>\n\n<p>I hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":15434778,"reputation":6814,"user_id":11135174,"display_name":"Rapha&#235;l Balet"},"score":1,"creation_date":1650905589,"post_id":51320886,"comment_id":127229007,"body_markdown":"Doesn&#39;t seems to be working anymore, can somebody confirms it ?","body":"Doesn&#39;t seems to be working anymore, can somebody confirms it ?"}],"tags":[],"owner":{"account_id":1086266,"reputation":7134,"user_id":1081909,"display_name":"NullPointer"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650904938,"creation_date":1531470580,"answer_id":51320886,"question_id":37549503,"body_markdown":"You can do this by change in **project.properties**\r\n\r\nBelow are the steps:\r\n\r\n**Step-1.** Edit/Make `project.properties` in root directory and add your module as library reference after `CordovaLib`:\r\n\r\n    target=android-25\r\n    android.library.reference.1=CordovaLib\r\n    android.library.reference.2=libraryModule1\r\n    android.library.reference.3=libraryModule2\r\n\r\n**Step-2.** Run `cordova build android`. This will make an entry in your `setting.gradle` file.\r\n\r\n    //GENERATED FILE - DO NOT EDIT\r\n     include &quot;:&quot;\r\n     include &quot;:CordovaLib&quot;\r\n     include &quot;:libraryModule1&quot;\r\n     include &quot;:libraryModule2&quot;\r\n\r\nAlso your app `build.gradle` will look like this:\r\n\r\n    dependencies {\r\n        ----\r\n       // SUB-PROJECT DEPENDENCIES START\r\n        debugCompile(project(path: &quot;CordovaLib&quot;, configuration: &quot;debug&quot;))\r\n        releaseCompile(project(path: &quot;CordovaLib&quot;, configuration: &quot;release&quot;))\r\n        debugCompile(project(path: &quot;libraryModule1&quot;, configuration: &quot;debug&quot;))\r\n        releaseCompile(project(path: &quot;libraryModule1&quot;, configuration: &quot;release&quot;))\r\n        debugCompile(project(path: &quot;libraryModule2&quot;, configuration: &quot;debug&quot;))\r\n        releaseCompile(project(path: &quot;libraryModule2&quot;, configuration: &quot;release&quot;))\r\n        ----\r\n        // SUB-PROJECT DEPENDENCIES END\r\n    }\r\n\r\n","title":"how to add to settings.gradle in cordova","body":"<p>You can do this by change in <strong>project.properties</strong></p>\n<p>Below are the steps:</p>\n<p><strong>Step-1.</strong> Edit/Make <code>project.properties</code> in root directory and add your module as library reference after <code>CordovaLib</code>:</p>\n<pre><code>target=android-25\nandroid.library.reference.1=CordovaLib\nandroid.library.reference.2=libraryModule1\nandroid.library.reference.3=libraryModule2\n</code></pre>\n<p><strong>Step-2.</strong> Run <code>cordova build android</code>. This will make an entry in your <code>setting.gradle</code> file.</p>\n<pre><code>//GENERATED FILE - DO NOT EDIT\n include &quot;:&quot;\n include &quot;:CordovaLib&quot;\n include &quot;:libraryModule1&quot;\n include &quot;:libraryModule2&quot;\n</code></pre>\n<p>Also your app <code>build.gradle</code> will look like this:</p>\n<pre><code>dependencies {\n    ----\n   // SUB-PROJECT DEPENDENCIES START\n    debugCompile(project(path: &quot;CordovaLib&quot;, configuration: &quot;debug&quot;))\n    releaseCompile(project(path: &quot;CordovaLib&quot;, configuration: &quot;release&quot;))\n    debugCompile(project(path: &quot;libraryModule1&quot;, configuration: &quot;debug&quot;))\n    releaseCompile(project(path: &quot;libraryModule1&quot;, configuration: &quot;release&quot;))\n    debugCompile(project(path: &quot;libraryModule2&quot;, configuration: &quot;debug&quot;))\n    releaseCompile(project(path: &quot;libraryModule2&quot;, configuration: &quot;release&quot;))\n    ----\n    // SUB-PROJECT DEPENDENCIES END\n}\n</code></pre>\n"}],"owner":{"account_id":1475249,"reputation":153,"user_id":1385796,"display_name":"Nathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6331,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":37554984,"answer_count":2,"score":11,"last_activity_date":1668231470,"creation_date":1464707617,"question_id":37549503,"body_markdown":"[This is the same question I am to new to comment on it to see if he found a answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33036614/how-to-prevent-cordova-build-command-from-auto-generating-settings-gradle\r\n\r\nCordova is generating a new settings.gradle file when I run &quot;**cordova build android**&quot;. I have attempted using a script to modify this file using hooks after_prepare before_compile.  But no matter what I do, this file is recreated.  Has anyone solved this problem?  Is there another way to add a module to the android project besides using the settings.gradle?\r\n\r\nI know next to nothing about Java or Gradle, so any insight would be great.","title":"how to add to settings.gradle in cordova","body":"<p><a href=\"https://stackoverflow.com/questions/33036614/how-to-prevent-cordova-build-command-from-auto-generating-settings-gradle\">This is the same question I am to new to comment on it to see if he found a answer</a></p>\n<p>Cordova is generating a new settings.gradle file when I run &quot;<strong>cordova build android</strong>&quot;. I have attempted using a script to modify this file using hooks after_prepare before_compile.  But no matter what I do, this file is recreated.  Has anyone solved this problem?  Is there another way to add a module to the android project besides using the settings.gradle?</p>\n<p>I know next to nothing about Java or Gradle, so any insight would be great.</p>\n"},{"tags":["java","android","json","kotlin","android-volley"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668230328,"creation_date":1668230328,"answer_id":74410553,"question_id":74410526,"body_markdown":"The problem is that you&#39;re trying to treat a JSON array as a JSON object.  You can&#39;t do that.  You&#39;re using a JSONObjectRequest to get the data.  That will take the returned response and assume its a JSON object in string form and convert it to a JSON obest (so response is a JSONObject, not a string).  But your format returns a JSON array.  Use JSONArrayRequest instead.  And then you can skip the first line in your try, because the outer most layer is already converted to a JSON object.\r\n\r\nAlthough really-  I&#39;d consider rewriting this using Retrofit and GSON.  The first library is easier to use than Volley.  The second can be combined with it, and you just need to annotate your classes correctly and conversion will be automatic.","title":"Android Kotlin Value [] of type org.json.JSONArray cannot be converted to JSONObject","body":"<p>The problem is that you're trying to treat a JSON array as a JSON object.  You can't do that.  You're using a JSONObjectRequest to get the data.  That will take the returned response and assume its a JSON object in string form and convert it to a JSON obest (so response is a JSONObject, not a string).  But your format returns a JSON array.  Use JSONArrayRequest instead.  And then you can skip the first line in your try, because the outer most layer is already converted to a JSON object.</p>\n<p>Although really-  I'd consider rewriting this using Retrofit and GSON.  The first library is easier to use than Volley.  The second can be combined with it, and you just need to annotate your classes correctly and conversion will be automatic.</p>\n"}],"owner":{"account_id":23328189,"reputation":5,"user_id":17405015,"display_name":"Spiky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668230328,"creation_date":1668229976,"question_id":74410526,"body_markdown":"Here is the code.\r\nError: Value [] of type org.json.JSONArray cannot be converted to JSONObject\r\n\r\nNew to json. got this exception \r\n\r\nplease help thanks!\r\n\r\n\r\n\r\n```\r\nfindViewById&lt;Button&gt;(R.id.search1).setOnClickListener(){\r\n\r\n            val queue :RequestQueue = Volley.newRequestQueue(applicationContext)\r\n            val request = JsonObjectRequest(Request.Method.GET, url, null, { response -&gt;\r\n\r\n\r\n                Log.d(&quot;Json&quot;,&quot;&gt;&gt;Response&quot;)\r\n\r\n            \r\n                try {\r\n                    val dataArray = JSONArray(response)\r\n\r\n                    for (i in 0 until dataArray.length()) {\r\n\r\n                        val bookList = BookList()\r\n                        val dataObject = dataArray.getJSONObject(i)\r\n\r\n                        bookList.add(Book(dataObject.getInt(&quot;book_id&quot;), dataObject.getString(&quot;book_title&quot;),\r\n                            dataObject.getString(&quot;author_name&quot;),dataObject.getString(&quot;cover_uri&quot;)))\r\n                        println(bookList)\r\n\r\n                    }\r\n\r\n\r\n                } catch (e: Exception) {\r\n                   \r\n                    e.printStackTrace()\r\n                }\r\n\r\n            }, { error -&gt;\r\n                \r\n                Log.e(&quot;TAG&quot;, &quot;RESPONSE IS $error&quot;)\r\n                \r\n                Toast.makeText(this@MainActivity, &quot;Fail to get response&quot;, Toast.LENGTH_SHORT)\r\n                    .show()\r\n            })\r\n            queue.add(request)\r\n        }\r\n```\r\n\r\n[Here is the JSON format][1]\r\n\r\n  [1]: https://i.stack.imgur.com/j0xLL.png","title":"Android Kotlin Value [] of type org.json.JSONArray cannot be converted to JSONObject","body":"<p>Here is the code.\nError: Value [] of type org.json.JSONArray cannot be converted to JSONObject</p>\n<p>New to json. got this exception</p>\n<p>please help thanks!</p>\n<pre><code>findViewById&lt;Button&gt;(R.id.search1).setOnClickListener(){\n\n            val queue :RequestQueue = Volley.newRequestQueue(applicationContext)\n            val request = JsonObjectRequest(Request.Method.GET, url, null, { response -&gt;\n\n\n                Log.d(&quot;Json&quot;,&quot;&gt;&gt;Response&quot;)\n\n            \n                try {\n                    val dataArray = JSONArray(response)\n\n                    for (i in 0 until dataArray.length()) {\n\n                        val bookList = BookList()\n                        val dataObject = dataArray.getJSONObject(i)\n\n                        bookList.add(Book(dataObject.getInt(&quot;book_id&quot;), dataObject.getString(&quot;book_title&quot;),\n                            dataObject.getString(&quot;author_name&quot;),dataObject.getString(&quot;cover_uri&quot;)))\n                        println(bookList)\n\n                    }\n\n\n                } catch (e: Exception) {\n                   \n                    e.printStackTrace()\n                }\n\n            }, { error -&gt;\n                \n                Log.e(&quot;TAG&quot;, &quot;RESPONSE IS $error&quot;)\n                \n                Toast.makeText(this@MainActivity, &quot;Fail to get response&quot;, Toast.LENGTH_SHORT)\n                    .show()\n            })\n            queue.add(request)\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/j0xLL.png\" rel=\"nofollow noreferrer\">Here is the JSON format</a></p>\n"},{"tags":["javascript","java","node.js","npm","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1651245976,"post_id":72058981,"comment_id":127325941,"body_markdown":"Ouch. Java 18 changed how `@CallerSensitive` methods behave when called without a java stack frame. `System.out` in js will call `getDeclaredMethods` on the `System.class`.","body":"Ouch. Java 18 changed how <code>@CallerSensitive</code> methods behave when called without a java stack frame. <code>System.out</code> in js will call <code>getDeclaredMethods</code> on the <code>System.class</code>."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1651247413,"post_id":72058981,"comment_id":127326491,"body_markdown":"Are you suggesting replacing &#39;getDeclaredFields&#39; with &#39;getDeclaredMethods&#39;?","body":"Are you suggesting replacing &#39;getDeclaredFields&#39; with &#39;getDeclaredMethods&#39;?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1651248406,"post_id":72058981,"comment_id":127326862,"body_markdown":"Ohh, sorry, misstyped. should be `getDeclaredFields`, but in the end, both methods are caller sensitive.","body":"Ohh, sorry, misstyped. should be <code>getDeclaredFields</code>, but in the end, both methods are caller sensitive."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1651249693,"post_id":72058981,"comment_id":127327254,"body_markdown":"Are you suggesting any practical solution based on your observation?","body":"Are you suggesting any practical solution based on your observation?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1651264155,"post_id":72058981,"comment_id":127331527,"body_markdown":"No, not at all. It&#39;s just that that npm&#39;s java package doesn&#39;t work with Java 18, because of some changes in Java. It&#39;s a bug, either in that package, or a regression in Java 18, depending on how you look at it.","body":"No, not at all. It&#39;s just that that npm&#39;s java package doesn&#39;t work with Java 18, because of some changes in Java. It&#39;s a bug, either in that package, or a regression in Java 18, depending on how you look at it."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1651265646,"post_id":72058981,"comment_id":127331894,"body_markdown":"Many things may change in every new version of Java. You have to know what parts of Java were used in the external library in order to be able to identify those specific parts of Java that have changed in the new version and are now causing the miscommunication between the two systems. But you seem to say that you have no clear idea of the former.","body":"Many things may change in every new version of Java. You have to know what parts of Java were used in the external library in order to be able to identify those specific parts of Java that have changed in the new version and are now causing the miscommunication between the two systems. But you seem to say that you have no clear idea of the former."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1651274096,"post_id":72058981,"comment_id":127333455,"body_markdown":"I have no idea about nodejs. Java 18 changed the way reflection works, and `@CallerSensitive` methods, such as `getDeclaredFields`, can behave strangely when called through reflection with no underlying Java frame.","body":"I have no idea about nodejs. Java 18 changed the way reflection works, and <code>@CallerSensitive</code> methods, such as <code>getDeclaredFields</code>, can behave strangely when called through reflection with no underlying Java frame."}],"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668230091,"creation_date":1651240011,"question_id":72058981,"body_markdown":"I&#39;m trying to follow this simple [tutorial about calling Java from Node.js][1]:\r\n\r\nMy test script:\r\n\r\n    var java = require(&#39;java&#39;);\r\n    var javaLangSystem = java.import(&#39;java.lang.System&#39;);\r\n    \r\n    javaLangSystem.out.printlnSync(&#39;Hello Java!&#39;);\r\n\r\nHere is the console:\r\n\r\n    $ npm init\r\n    This utility will walk you through creating a package.json file.\r\n    It only covers the most common items, and tries to guess sensible defaults.\r\n    ...\r\n    $ npm install java\r\n    \r\n    added 18 packages, and audited 19 packages in 11s\r\n    \r\n    1 package is looking for funding\r\n      run `npm fund` for details\r\n    \r\n    2 high severity vulnerabilities\r\n    \r\n    To address all issues, run:\r\n      npm audit fix\r\n    \r\n    Run `npm audit` for details.\r\n    $ node test.js \r\n    /home/Projects/test-java/node_modules/java/lib/nodeJavaBridge.js:240\r\n      var fields = SyncCall(clazz, &#39;getDeclaredFields&#39;)();\r\n                                                       ^\r\n    \r\n    Error: Error running instance method\r\n    java.lang.NullPointerException\r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:208)\r\n    \tat java.base/java.lang.invoke.MethodHandleImpl$1.reflectiveInvoker(MethodHandleImpl.java:1660)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:131)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \r\n        at Java.java.import (/home/Projects/test-java/node_modules/java/lib/nodeJavaBridge.js:240:52)\r\n        at Object.&lt;anonymous&gt; (/home/Projects/test-java/test.js:2:33)\r\n        at Module._compile (node:internal/modules/cjs/loader:1103:14)\r\n        at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10)\r\n        at Module.load (node:internal/modules/cjs/loader:981:32)\r\n        at Function.Module._load (node:internal/modules/cjs/loader:822:12)\r\n        at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)\r\n        at node:internal/main/run_main_module:17:47 {\r\n      cause: nodeJava_java_lang_NullPointerException {}\r\n    }\r\n    $ java --version\r\n    java 18.0.1 2022-04-19\r\n    Java(TM) SE Runtime Environment (build 18.0.1+10-24)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 18.0.1+10-24, mixed mode, sharing)\r\n\r\n**What may be going wrong here?**\r\n\r\nI&#39;ve tried to debug it and it seems that `obj[syncMethodName].bind(obj)()` throws a `java.lang.NullPointerException` at `java.base/java.lang.reflect.Method.invoke(Method.java:577)` when\r\n\r\n    obj == class java.lang.System\r\n    syncMethodName == &#39;getDeclaredFieldsSync&#39;\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-run-java-code-in-node-js/","title":"Calling Java from Node.js","body":"<p>I'm trying to follow this simple <a href=\"https://www.geeksforgeeks.org/how-to-run-java-code-in-node-js/\" rel=\"nofollow noreferrer\">tutorial about calling Java from Node.js</a>:</p>\n<p>My test script:</p>\n<pre><code>var java = require('java');\nvar javaLangSystem = java.import('java.lang.System');\n\njavaLangSystem.out.printlnSync('Hello Java!');\n</code></pre>\n<p>Here is the console:</p>\n<pre><code>$ npm init\nThis utility will walk you through creating a package.json file.\nIt only covers the most common items, and tries to guess sensible defaults.\n...\n$ npm install java\n\nadded 18 packages, and audited 19 packages in 11s\n\n1 package is looking for funding\n  run `npm fund` for details\n\n2 high severity vulnerabilities\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n$ node test.js \n/home/Projects/test-java/node_modules/java/lib/nodeJavaBridge.js:240\n  var fields = SyncCall(clazz, 'getDeclaredFields')();\n                                                   ^\n\nError: Error running instance method\njava.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:208)\n    at java.base/java.lang.invoke.MethodHandleImpl$1.reflectiveInvoker(MethodHandleImpl.java:1660)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:131)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n\n    at Java.java.import (/home/Projects/test-java/node_modules/java/lib/nodeJavaBridge.js:240:52)\n    at Object.&lt;anonymous&gt; (/home/Projects/test-java/test.js:2:33)\n    at Module._compile (node:internal/modules/cjs/loader:1103:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)\n    at node:internal/main/run_main_module:17:47 {\n  cause: nodeJava_java_lang_NullPointerException {}\n}\n$ java --version\njava 18.0.1 2022-04-19\nJava(TM) SE Runtime Environment (build 18.0.1+10-24)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1+10-24, mixed mode, sharing)\n</code></pre>\n<p><strong>What may be going wrong here?</strong></p>\n<p>I've tried to debug it and it seems that <code>obj[syncMethodName].bind(obj)()</code> throws a <code>java.lang.NullPointerException</code> at <code>java.base/java.lang.reflect.Method.invoke(Method.java:577)</code> when</p>\n<pre><code>obj == class java.lang.System\nsyncMethodName == 'getDeclaredFieldsSync'\n</code></pre>\n"},{"tags":["java","ssl","socket.io","tls1.2"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1668216582,"post_id":74409701,"comment_id":131359061,"body_markdown":"SSL (Secure Socket Layer) was the old name. TLS (Transport Layer Security) is the new name.","body":"SSL (Secure Socket Layer) was the old name. TLS (Transport Layer Security) is the new name."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668229771,"creation_date":1668229771,"answer_id":74410512,"question_id":74409701,"body_markdown":"&gt; My question is simple: the class SSLSocket use either the TLS protocol or is it the same thing?\r\n\r\nThe short answer is Yes.\r\n\r\nThe standard `SSLSocket` class supports *both* SSL and TLS.  Quoting from the first line of the [javadoc][1]:\r\n\r\n&gt; *&quot;This class extends Sockets and provides secure socket using protocols **such as** the &quot;Secure Sockets Layer&quot; (SSL) or IETF &quot;Transport Layer Security&quot; (TLS) protocols.&quot;*\r\n\r\nHowever this need to be qualified in that the *actual* protocols and versions that are allowed depend on defaults and settings that change over time.  For example, recent Java releases will (by default) reject SSLv2, SSLv3, TLSv1, and TLSv1.1.\r\n\r\nFinally, you should avoid using any of the disabled versions (or related disabled features) if possible as they have known security weaknesses and in some cases are vulnerable to compromise.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/javax/net/ssl/SSLSocket.html","title":"SslSocket uses the TLS protocol?","body":"<blockquote>\n<p>My question is simple: the class SSLSocket use either the TLS protocol or is it the same thing?</p>\n</blockquote>\n<p>The short answer is Yes.</p>\n<p>The standard <code>SSLSocket</code> class supports <em>both</em> SSL and TLS.  Quoting from the first line of the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/javax/net/ssl/SSLSocket.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p><em>&quot;This class extends Sockets and provides secure socket using protocols <strong>such as</strong> the &quot;Secure Sockets Layer&quot; (SSL) or IETF &quot;Transport Layer Security&quot; (TLS) protocols.&quot;</em></p>\n</blockquote>\n<p>However this need to be qualified in that the <em>actual</em> protocols and versions that are allowed depend on defaults and settings that change over time.  For example, recent Java releases will (by default) reject SSLv2, SSLv3, TLSv1, and TLSv1.1.</p>\n<p>Finally, you should avoid using any of the disabled versions (or related disabled features) if possible as they have known security weaknesses and in some cases are vulnerable to compromise.</p>\n"}],"owner":{"account_id":26905970,"reputation":3,"user_id":20482300,"display_name":"Emanoel Figueredo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74410512,"answer_count":1,"score":0,"last_activity_date":1668229771,"creation_date":1668216131,"question_id":74409701,"body_markdown":"I would like to implement tls protocol on my server and client.\r\nMy question is simple: \r\nthe class SSLSocket use either the TLS protocol or is it the same thing?\r\n\r\nI haven&#39;t implemented it in my code yet, but I&#39;m excited about the possibility.","title":"SslSocket uses the TLS protocol?","body":"<p>I would like to implement tls protocol on my server and client.\nMy question is simple:\nthe class SSLSocket use either the TLS protocol or is it the same thing?</p>\n<p>I haven't implemented it in my code yet, but I'm excited about the possibility.</p>\n"},{"tags":["java","apache-kafka","log4j","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668229086,"creation_date":1572454758,"answer_id":58630373,"question_id":58629398,"body_markdown":"This is log4j configuration of Java applications, not specific to Kafka\r\n\r\nAdd or change a `log4j.properties` file in your `src/main/resources` folder of the application. \r\n\r\nSet the root level to INFO rather than DEBUG\r\n\r\n    log4j.rootLogger=INFO, stdout\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=[%d] %p %m (%c)%n\r\n\r\n(Or find the appropriate configs for logback / whatever logging library you use)","title":"How to change log level of KafkaStream","body":"<p>This is log4j configuration of Java applications, not specific to Kafka</p>\n<p>Add or change a <code>log4j.properties</code> file in your <code>src/main/resources</code> folder of the application.</p>\n<p>Set the root level to INFO rather than DEBUG</p>\n<pre><code>log4j.rootLogger=INFO, stdout\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=[%d] %p %m (%c)%n\n</code></pre>\n<p>(Or find the appropriate configs for logback / whatever logging library you use)</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1642704717,"post_id":63753331,"comment_id":125149128,"body_markdown":"of course, this is an invalid xml...","body":"of course, this is an invalid xml..."}],"tags":[],"owner":{"account_id":11078201,"reputation":116,"user_id":8134207,"display_name":"Jagdeep "},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599304848,"creation_date":1599304848,"answer_id":63753331,"question_id":58629398,"body_markdown":"Add a logback.xml into your **src/main/resources**\r\n\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;org.apache.kafka&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;error&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;","title":"How to change log level of KafkaStream","body":"<p>Add a logback.xml into your <strong>src/main/resources</strong></p>\n\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;org.apache.kafka&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;root level=&quot;error&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n"}],"owner":{"account_id":6404735,"reputation":121,"user_id":4966351,"display_name":"ibn mrabet achraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5195,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1668229086,"creation_date":1572451228,"question_id":58629398,"body_markdown":"I&#39;m new in kafkaStream, I&#39;m developing a Stream but when I start my app a lot of logs are logging.\r\n\r\nHow to change log level from Debbug to Info for example.\r\n\r\nThank you.\r\n\r\n```\r\n6:54:12.720 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\r\n16:54:12.721 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 36 to node 2147483646\r\n16:54:12.725 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\r\n16:54:13.020 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\r\n16:54:13.021 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 37 to node 2147483646\r\n16:54:13.023 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\r\n16:54:13.049 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 2 sent a full fetch response that created a new incremental fetch session 1486821637 with 1 response partition(s)\r\n16:54:13.049 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Fetch READ_UNCOMMITTED at offset 0 for partition TOPIC-DEV-ACH-0 returned fetch data (error=NONE, highWaterMark=0, lastStableOffset = -1, logStartOffset = 0, preferredReadReplica = absent, abortedTransactions = null, recordsSizeInBytes=0)\r\n16:54:13.050 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.common.metrics.Metrics - Added sensor with name TOPIC-DEV-ACH-0.records-lag\r\n16:54:13.050 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.common.metrics.Metrics - Added sensor with name TOPIC-DEV-ACH-0.records-lead\r\n16:54:13.050 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-0 at position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G), epoch=-1}} to node kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\r\n16:54:13.051 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1486821637, epoch=1) for node 2. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\r\n16:54:13.051 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-0)) to broker kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\r\n16:54:13.051 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1486821637,session_epoch=1,topics=[],forgotten_topics_data=[]} with correlation id 38 to node 2\r\n16:54:13.160 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 1 sent an incremental fetch response for session 1744320104 with 0 response partition(s), 1 implied partition(s)\r\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-1 at position FetchPosition{offset=1, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I), epoch=-1}} to node kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\r\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1744320104, epoch=2) for node 1. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\r\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-1)) to broker kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\r\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1744320104,session_epoch=2,topics=[],forgotten_topics_data=[]} with correlation id 39 to node 1\r\n16:54:13.320 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\r\n16:54:13.320 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 40 to node 2147483646\r\n16:54:13.322 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\r\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 2 sent an incremental fetch response for session 1486821637 with 0 response partition(s), 1 implied partition(s)\r\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-0 at position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G), epoch=-1}} to node kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\r\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1486821637, epoch=2) for node 2. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\r\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-0)) to broker kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\r\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1486821637,session_epoch=2,topics=[],forgotten_topics_data=[]} with correlation id 41 to node 2\r\n16:54:13.620 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\r\n16:54:13.620 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 42 to node 2147483646\r\n16:54:13.626 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\r\n16:54:13.664 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 1 sent an incremental fetch response for session 1744320104 with 0 response partition(s), 1 implied partition(s)\r\n16:54:13.664 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-1 at position FetchPosition{offset=1, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I), epoch=-1}} to node kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\r\n16:54:13.665 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1744320104, epoch=3) for node 1. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\r\n16:54:13.665 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-1)) to broker kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\r\n16:54:13.665 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1744320104,session_epoch=3,topics=[],forgotten_topics_data=[]} with correlation id 43 to node 1\r\n16:54:13.921 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\r\n16:54:13.922 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 44 to node 2147483646\r\n16:54:13.925 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\r\n16:54:14.054 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 2 sent an incremental fetch response for session 1486821637 with 0 response partition(s), 1 implied partition(s)\r\n16:54:14.055 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-0 at position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G), epoch=-1}} to node kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\r\n16:54:14.056 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1486821637, epoch=3) for node 2. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\r\n16:54:14.056 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-0)) to broker kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\r\n16:54:14.056 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1486821637,session_epoch=3,topics=[],forgotten_topics_data=[]} with correlation id 45 to node 2\r\n16:54:14.167 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 1 sent an incremental fetch response for session 1744320104 with 0 response partition(s), 1 implied partition(s)\r\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-1 at position FetchPosition{offset=1, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I), epoch=-1}} to node kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\r\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1744320104, epoch=4) for node 1. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\r\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-1)) to broker kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\r\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1744320104,session_epoch=4,topics=[],forgotten_topics_data=[]} with correlation id 46 to node 1\r\n```","title":"How to change log level of KafkaStream","body":"<p>I'm new in kafkaStream, I'm developing a Stream but when I start my app a lot of logs are logging.</p>\n\n<p>How to change log level from Debbug to Info for example.</p>\n\n<p>Thank you.</p>\n\n<pre><code>6:54:12.720 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\n16:54:12.721 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 36 to node 2147483646\n16:54:12.725 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\n16:54:13.020 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\n16:54:13.021 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 37 to node 2147483646\n16:54:13.023 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\n16:54:13.049 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 2 sent a full fetch response that created a new incremental fetch session 1486821637 with 1 response partition(s)\n16:54:13.049 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Fetch READ_UNCOMMITTED at offset 0 for partition TOPIC-DEV-ACH-0 returned fetch data (error=NONE, highWaterMark=0, lastStableOffset = -1, logStartOffset = 0, preferredReadReplica = absent, abortedTransactions = null, recordsSizeInBytes=0)\n16:54:13.050 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.common.metrics.Metrics - Added sensor with name TOPIC-DEV-ACH-0.records-lag\n16:54:13.050 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.common.metrics.Metrics - Added sensor with name TOPIC-DEV-ACH-0.records-lead\n16:54:13.050 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-0 at position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G), epoch=-1}} to node kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\n16:54:13.051 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1486821637, epoch=1) for node 2. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\n16:54:13.051 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-0)) to broker kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\n16:54:13.051 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1486821637,session_epoch=1,topics=[],forgotten_topics_data=[]} with correlation id 38 to node 2\n16:54:13.160 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 1 sent an incremental fetch response for session 1744320104 with 0 response partition(s), 1 implied partition(s)\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-1 at position FetchPosition{offset=1, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I), epoch=-1}} to node kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1744320104, epoch=2) for node 1. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-1)) to broker kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\n16:54:13.161 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1744320104,session_epoch=2,topics=[],forgotten_topics_data=[]} with correlation id 39 to node 1\n16:54:13.320 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\n16:54:13.320 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 40 to node 2147483646\n16:54:13.322 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 2 sent an incremental fetch response for session 1486821637 with 0 response partition(s), 1 implied partition(s)\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-0 at position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G), epoch=-1}} to node kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1486821637, epoch=2) for node 2. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-0)) to broker kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\n16:54:13.552 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1486821637,session_epoch=2,topics=[],forgotten_topics_data=[]} with correlation id 41 to node 2\n16:54:13.620 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\n16:54:13.620 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 42 to node 2147483646\n16:54:13.626 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\n16:54:13.664 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 1 sent an incremental fetch response for session 1744320104 with 0 response partition(s), 1 implied partition(s)\n16:54:13.664 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-1 at position FetchPosition{offset=1, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I), epoch=-1}} to node kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\n16:54:13.665 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1744320104, epoch=3) for node 1. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\n16:54:13.665 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-1)) to broker kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\n16:54:13.665 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1744320104,session_epoch=3,topics=[],forgotten_topics_data=[]} with correlation id 43 to node 1\n16:54:13.921 [kafka-coordinator-heartbeat-thread | 97527H] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending Heartbeat request to coordinator kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 2147483646 rack: null)\n16:54:13.922 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v2 to send HEARTBEAT {group_id=97527H,generation_id=2,member_id=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer-9fefdaea-868a-4b22-a1fd-ad3564c3b019} with correlation id 44 to node 2147483646\n16:54:13.925 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Received successful Heartbeat response\n16:54:14.054 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 2 sent an incremental fetch response for session 1486821637 with 0 response partition(s), 1 implied partition(s)\n16:54:14.055 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-0 at position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G), epoch=-1}} to node kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\n16:54:14.056 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1486821637, epoch=3) for node 2. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\n16:54:14.056 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-0)) to broker kafka-2.broker-ttech-apd.ttech-broker.cloud.maif.local:24983 (id: 2 rack: bat_G)\n16:54:14.056 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1486821637,session_epoch=3,topics=[],forgotten_topics_data=[]} with correlation id 45 to node 2\n16:54:14.167 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Node 1 sent an incremental fetch response for session 1744320104 with 0 response partition(s), 1 implied partition(s)\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Added READ_UNCOMMITTED fetch request for partition TOPIC-DEV-ACH-1 at position FetchPosition{offset=1, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I), epoch=-1}} to node kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.FetchSessionHandler - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Built incremental fetch (sessionId=1744320104, epoch=4) for node 1. Added 0 partition(s), altered 0 partition(s), removed 0 partition(s) out of 1 partition(s)\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Sending READ_UNCOMMITTED IncrementalFetchRequest(toSend=(), toForget=(), implied=(TOPIC-DEV-ACH-1)) to broker kafka-1.broker-ttech-apd.ttech-broker.cloud.maif.local:14983 (id: 1 rack: bat_I)\n16:54:14.168 [97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1] DEBUG org.apache.kafka.clients.NetworkClient - [Consumer clientId=97527H-54b434f8-fd4c-439e-9814-0c8133556a1f-StreamThread-1-consumer, groupId=97527H] Using older server API v8 to send FETCH {replica_id=-1,max_wait_time=500,min_bytes=1,max_bytes=52428800,isolation_level=0,session_id=1744320104,session_epoch=4,topics=[],forgotten_topics_data=[]} with correlation id 46 to node 1\n</code></pre>\n"},{"tags":["java","datetime","java-time","datetime-parsing","localdatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1667981590,"post_id":74371407,"comment_id":131294779,"body_markdown":"`LocalDateTime` is the wrong class here as it lacks an offset from UTC. Your input has an offset.","body":"<code>LocalDateTime</code> is the wrong class here as it lacks an offset from UTC. Your input has an offset."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668006671,"post_id":74371407,"comment_id":131303841,"body_markdown":"The solution is in the accepted answer. For the reason why your code failed, what is your default locale? If it is non-English, this would explain since `Mon` and `Nov` are in English.","body":"The solution is in the accepted answer. For the reason why your code failed, what is your default locale? If it is non-English, this would explain since <code>Mon</code> and <code>Nov</code> are in English."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668006580,"post_id":74371643,"comment_id":131303808,"body_markdown":"Well spotted. If I want to pick up the offset from the string, as Basil Bourque recommended in a comment, can I parse into an `OffsetDateTime`?","body":"Well spotted. If I want to pick up the offset from the string, as Basil Bourque recommended in a comment, can I parse into an <code>OffsetDateTime</code>?"}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667981247,"creation_date":1667981247,"answer_id":74371643,"question_id":74371407,"body_markdown":"There is a pre-defined format for that: [RFC_1123_DATE_TIME](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME)\r\n\r\n```java\r\nString fecha = &quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;;\r\n    \r\nDateTimeFormatter formato = DateTimeFormatter.RFC_1123_DATE_TIME;    \r\nLocalDateTime fechaHora = LocalDateTime.parse(fecha, formato);\r\n```","title":"Parse DateTime with DateTimeFormatter","body":"<p>There is a pre-defined format for that: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\">RFC_1123_DATE_TIME</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>String fecha = &quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;;\n    \nDateTimeFormatter formato = DateTimeFormatter.RFC_1123_DATE_TIME;    \nLocalDateTime fechaHora = LocalDateTime.parse(fecha, formato);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1668006397,"post_id":74371826,"comment_id":131303731,"body_markdown":"Thank you for wanting to contribute. This is a very discouraged answer. The OP asked for a `LocalDateTime`. I recommend that no one uses the old and poorly designed `Date` class anymore. So please do not suggest it, especially not here. And even if someone wanted an old-fashioned `Date`, don’t use `SimpleDateFormat`, it is notoriously troublesome.","body":"Thank you for wanting to contribute. This is a very discouraged answer. The OP asked for a <code>LocalDateTime</code>. I recommend that no one uses the old and poorly designed <code>Date</code> class anymore. So please do not suggest it, especially not here. And even if someone wanted an old-fashioned <code>Date</code>, don’t use <code>SimpleDateFormat</code>, it is notoriously troublesome."},{"owner":{"account_id":25399411,"reputation":1,"user_id":19209168,"display_name":"Savi"},"score":0,"creation_date":1668061736,"post_id":74371826,"comment_id":131316875,"body_markdown":"Thanks for the feedback.\nwill make sure to provide reliable and efficient answers going forward","body":"Thanks for the feedback. will make sure to provide reliable and efficient answers going forward"}],"tags":[],"owner":{"account_id":25399411,"reputation":1,"user_id":19209168,"display_name":"Savi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668226317,"creation_date":1667982396,"answer_id":74371826,"question_id":74371407,"body_markdown":"Your code is working fine in my local.\r\n\r\nHowever if you want to convert a string to date you can also use SimpleDateFormat\r\n\r\nFor Ex:\r\n\r\n```\r\nString sDate1=&quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;;  \r\nDate date1=new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ssZ&quot;).parse(sDate1);  \r\nSystem.out.println(date1); \r\n```","title":"Parse DateTime with DateTimeFormatter","body":"<p>Your code is working fine in my local.</p>\n<p>However if you want to convert a string to date you can also use SimpleDateFormat</p>\n<p>For Ex:</p>\n<pre><code>String sDate1=&quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;;  \nDate date1=new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ssZ&quot;).parse(sDate1);  \nSystem.out.println(date1); \n</code></pre>\n"}],"owner":{"account_id":9943155,"reputation":339,"user_id":7359013,"accept_rate":14,"display_name":"Alberto "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74371643,"answer_count":2,"score":0,"last_activity_date":1668226317,"creation_date":1667979886,"question_id":74371407,"body_markdown":"I need to parse a date that I receive in a String with the following format: &quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;\r\n\r\nI have to dump the date to an object of type LocalDateTime and I use the following code:\r\n\r\n    String fecha = &quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;;\r\n\t\t\r\n    DateTimeFormatter formato = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss XXXX&quot;);    \r\n    LocalDateTime fechaHora = LocalDateTime.parse(fecha, formato);\r\n\r\nbut I get a DateTimeParseException. I can&#39;t find the error. Can you help me?\r\nThank you\r\n","title":"Parse DateTime with DateTimeFormatter","body":"<p>I need to parse a date that I receive in a String with the following format: &quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;</p>\n<p>I have to dump the date to an object of type LocalDateTime and I use the following code:</p>\n<pre><code>String fecha = &quot;Mon, 07 Nov 2022 21:00:00 +0100&quot;;\n    \nDateTimeFormatter formato = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss XXXX&quot;);    \nLocalDateTime fechaHora = LocalDateTime.parse(fecha, formato);\n</code></pre>\n<p>but I get a DateTimeParseException. I can't find the error. Can you help me?\nThank you</p>\n"},{"tags":["java","spring-boot","jpa","one-to-one"],"answers":[{"comments":[{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1667980794,"post_id":74371485,"comment_id":131294544,"body_markdown":"thanks for answer however it didn&#39;t help a lot - when I just do `userRepository.findAll();` it throws an error:\n`org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;USER0_.AUTHORITY_USERNAME&quot; not found; SQL statement:\nselect user0_.id as id1_3_, user0_.authority_username as authorit6_3_, user0_.enabled as enabled2_3_, user0_.oldPassword as oldpassw3_3_, user0_.password as password4_3_, user0_.username as username5_3_ from users user0_ [42122-214]`","body":"thanks for answer however it didn&#39;t help a lot - when I just do <code>userRepository.findAll();</code> it throws an error: <code>org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;USER0_.AUTHORITY_USERNAME&quot; not found; SQL statement: select user0_.id as id1_3_, user0_.authority_username as authorit6_3_, user0_.enabled as enabled2_3_, user0_.oldPassword as oldpassw3_3_, user0_.password as password4_3_, user0_.username as username5_3_ from users user0_ [42122-214]</code>"},{"owner":{"account_id":22253708,"reputation":1,"user_id":16486186,"display_name":"man in black"},"score":0,"creation_date":1667987483,"post_id":74371485,"comment_id":131296753,"body_markdown":"Of course, my solution is to solve the Repeated column problem, if you want the &quot;username&quot; column as the foreign key of  User tables,  this column must be primary-key of the Authorities tables and vice versa","body":"Of course, my solution is to solve the Repeated column problem, if you want the &quot;username&quot; column as the foreign key of  User tables,  this column must be primary-key of the Authorities tables and vice versa"}],"tags":[],"owner":{"account_id":22253708,"reputation":1,"user_id":16486186,"display_name":"man in black"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668226288,"creation_date":1667980327,"answer_id":74371485,"question_id":74371333,"body_markdown":"The message is clear: you have a repeated column in the mapping, and a column &quot;username&quot; in both tables has repeated. Instead of this, you should use this :\r\n\r\n```\r\n@OneToOne(cascade = CascadeType.ALL)\r\n@JoinColumn(name = &quot;authority_username&quot;, referencedColumnName = &quot;username&quot;)\r\nprivate Authorities authority;\r\n```","title":"Repeated column in mapping for entity in @OneToOne","body":"<p>The message is clear: you have a repeated column in the mapping, and a column &quot;username&quot; in both tables has repeated. Instead of this, you should use this :</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;authority_username&quot;, referencedColumnName = &quot;username&quot;)\nprivate Authorities authority;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1667983743,"post_id":74371820,"comment_id":131295426,"body_markdown":"Yes, with adding `authority_id` it&#39;s okay but can I somehow achive the same with just `username` as foreign key?","body":"Yes, with adding <code>authority_id</code> it&#39;s okay but can I somehow achive the same with just <code>username</code> as foreign key?"}],"tags":[],"owner":{"account_id":26380053,"reputation":36,"user_id":20033444,"display_name":"Awais Memon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667982388,"creation_date":1667982388,"answer_id":74371820,"question_id":74371333,"body_markdown":"The reason you are getting usernames in both tables is that you have declared username column in both the tables.\r\n\r\nAlso, you have to map the relation based on the authority_id so the code of the models would look like this:\r\n\r\n    @Entity(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String username;\r\n        private String password;\r\n        private String oldPassword;\r\n        private boolean enabled;\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;authority_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Authorities authority;\r\n    }\r\n\r\n\r\n    @Entity\r\n    public class Authorities {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String authority;\r\n        @OneToOne(mappedBy = &quot;authority&quot;)\r\n        private User user;\r\n    }\r\n\r\n\r\nAnd the tables will be created like this:\r\n\r\n[![][1]][1]\r\n\r\n\r\n\r\n\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1rLnH.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/rOUZP.png\r\n\r\n\r\nHope this solves your problem.","title":"Repeated column in mapping for entity in @OneToOne","body":"<p>The reason you are getting usernames in both tables is that you have declared username column in both the tables.</p>\n<p>Also, you have to map the relation based on the authority_id so the code of the models would look like this:</p>\n<pre><code>@Entity(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String username;\n    private String password;\n    private String oldPassword;\n    private boolean enabled;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;authority_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Authorities authority;\n}\n\n\n@Entity\npublic class Authorities {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String authority;\n    @OneToOne(mappedBy = &quot;authority&quot;)\n    private User user;\n}\n</code></pre>\n<p>And the tables will be created like this:</p>\n<p><a href=\"https://i.stack.imgur.com/1rLnH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rLnH.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rOUZP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOUZP.png\" alt=\"\" /></a></p>\n<p>Hope this solves your problem.</p>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668226288,"creation_date":1667979371,"question_id":74371333,"body_markdown":"I have two tables:\r\n\r\n    CREATE TABLE users\r\n    (\r\n        id              INTEGER PRIMARY KEY AUTO_INCREMENT,\r\n        username        VARCHAR(50) NOT NULL UNIQUE,\r\n        password        VARCHAR(68) NOT NULL,\r\n        oldPassword     VARCHAR(68),\r\n        enabled BOOLEAN NOT NULL\r\n    );\r\n\r\nand \r\n\r\n    CREATE TABLE authorities (\r\n                                 id INTEGER PRIMARY KEY AUTO_INCREMENT,\r\n                                 username VARCHAR(50) NOT NULL,\r\n                                 authority VARCHAR(50) NOT NULL,\r\n                                 FOREIGN KEY (username) REFERENCES users(username)\r\n    );\r\n    \r\n    CREATE UNIQUE INDEX ix_auth_username on authorities (username,authority);\r\n\r\nUnfortunatelly instead of joining with `authority_id` which should be in `users` table I just have `username` which is the same in both tables.\r\n\r\nIn models I tried (ommited getters and setters):\r\n\r\n    @Entity(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String username;\r\n        private String password;\r\n        private String oldPassword;\r\n        private boolean enabled;\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n        private Authorities authority;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    public class Authorities {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String username;\r\n        private String authority;\r\n        @OneToOne(mappedBy = &quot;authority&quot;)\r\n        private User user;\r\n    }\r\n\r\nbut then I have an error: `Repeated column in mapping for entity column: username (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)`\r\n","title":"Repeated column in mapping for entity in @OneToOne","body":"<p>I have two tables:</p>\n<pre><code>CREATE TABLE users\n(\n    id              INTEGER PRIMARY KEY AUTO_INCREMENT,\n    username        VARCHAR(50) NOT NULL UNIQUE,\n    password        VARCHAR(68) NOT NULL,\n    oldPassword     VARCHAR(68),\n    enabled BOOLEAN NOT NULL\n);\n</code></pre>\n<p>and</p>\n<pre><code>CREATE TABLE authorities (\n                             id INTEGER PRIMARY KEY AUTO_INCREMENT,\n                             username VARCHAR(50) NOT NULL,\n                             authority VARCHAR(50) NOT NULL,\n                             FOREIGN KEY (username) REFERENCES users(username)\n);\n\nCREATE UNIQUE INDEX ix_auth_username on authorities (username,authority);\n</code></pre>\n<p>Unfortunatelly instead of joining with <code>authority_id</code> which should be in <code>users</code> table I just have <code>username</code> which is the same in both tables.</p>\n<p>In models I tried (ommited getters and setters):</p>\n<pre><code>@Entity(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String username;\n    private String password;\n    private String oldPassword;\n    private boolean enabled;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\n    private Authorities authority;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class Authorities {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String username;\n    private String authority;\n    @OneToOne(mappedBy = &quot;authority&quot;)\n    private User user;\n}\n</code></pre>\n<p>but then I have an error: <code>Repeated column in mapping for entity column: username (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)</code></p>\n"},{"tags":["java","sql-server","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1626760715,"post_id":68447716,"comment_id":120972544,"body_markdown":"Don&#39;t use `@Data` for for entities that is a bad idea (see https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/). You are doing things in multiple transactions and are creating a user from a dto twice, so yes it will be stored twice. Basically your whole registration code is too complex and error prone.","body":"Don&#39;t use <code>@Data</code> for for entities that is a bad idea (see <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a>). You are doing things in multiple transactions and are creating a user from a dto twice, so yes it will be stored twice. Basically your whole registration code is too complex and error prone."},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1626770416,"post_id":68447716,"comment_id":120975700,"body_markdown":"But that&#39;s the point how am I creating a user twice ?","body":"But that&#39;s the point how am I creating a user twice ?"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1626770546,"post_id":68447716,"comment_id":120975738,"body_markdown":"Here I have mapped user and roles with a class joining them UserRoleDomain .... Is there anything wrong in my mapping annotations ?","body":"Here I have mapped user and roles with a class joining them UserRoleDomain .... Is there anything wrong in my mapping annotations ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1626770858,"post_id":68447716,"comment_id":120975871,"body_markdown":"THe mapping is fine, the issue is your code and how you are inserting things. As stated the overly complex adding etc. is the culprit.","body":"THe mapping is fine, the issue is your code and how you are inserting things. As stated the overly complex adding etc. is the culprit."},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1626780688,"post_id":68447716,"comment_id":120979479,"body_markdown":"Any solution for this ?","body":"Any solution for this ?"}],"answers":[{"comments":[{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1668381603,"post_id":74372829,"comment_id":131385193,"body_markdown":"Please explain why this works.","body":"Please explain why this works."}],"tags":[],"owner":{"account_id":12424057,"reputation":1,"user_id":9049473,"display_name":"timothy d"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668226210,"creation_date":1667987377,"answer_id":74372829,"question_id":68447716,"body_markdown":"```\r\n@OneToMany(cascade = CascadeType.ALL , fetch = FetchType.EAGER , mappedBy =&quot;userDomain&quot;)\r\n```\r\n\r\nChange the `FetchType.EAGER` to `FetchType.LAZY`\r\n\r\n","title":"Data stored twice in database issue using spring boot","body":"<pre><code>@OneToMany(cascade = CascadeType.ALL , fetch = FetchType.EAGER , mappedBy =&quot;userDomain&quot;)\n</code></pre>\n<p>Change the <code>FetchType.EAGER</code> to <code>FetchType.LAZY</code></p>\n"}],"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668226210,"creation_date":1626734207,"question_id":68447716,"body_markdown":"Hibernate is firing query twice for one data due to which data is stored twice in the database with different autogenerated IDs but I want it to stored once.\r\n\r\nHere are my domain classes;\r\n\r\n**UserDomain :**\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserDomain {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int userId;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String userName;\r\n    private String email;\r\n    private String password;\r\n    private boolean isEnabled = true;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL , fetch = FetchType.EAGER , mappedBy = &quot;userDomain&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;UserRoleDomain&gt; userRoleDomains = new HashSet&lt;&gt;();\r\n}\r\n```\r\n**RoleDomain :**\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RoleDomain {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int roleId;\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;roleDomain&quot;)\r\n    private Set&lt;UserRoleDomain&gt; userRoleDomains = new HashSet&lt;&gt;();\r\n}\r\n```\r\n**UserRoleDomain:**\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserRoleDomain {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int userRoleid;\r\n\r\n    @ManyToOne(cascade =CascadeType.ALL ,  fetch = FetchType.EAGER)\r\n    private UserDomain userDomain ;\r\n\r\n    @ManyToOne\r\n    private RoleDomain roleDomain ;\r\n}\r\n```\r\nShowing my service classes as under,\r\n\r\n**UserService:**\r\n```\r\n  public MessageDto add(UserDto userDto , Set&lt;UserRoleDomain&gt; userRoles)\r\n    {\r\n             UserDomain userDomain = mapUserDtoToDomain(userDto);\r\n            if( userRepository.findByUserName(userDomain.getUserName())!=null)\r\n            {\r\n                String responseMessage = &quot;User is already register with name ! &quot;+userDomain.getUserName();\r\n                MessageDto messageDto = new MessageDto(responseMessage);\r\n                log.info(responseMessage);\r\n                return messageDto;\r\n            }\r\n            else {\r\n\r\n                for (UserRoleDomain userRoleDomain: userRoles) {\r\n                    roleRepository.saveAndFlush(userRoleDomain.getRoleDomain());\r\n                }\r\n\r\n                userDomain.getUserRoleDomains().addAll(userRoles);\r\n                userRepository.saveAndFlush(userDomain);\r\n                String responseMessage = &quot;User has been added with Id &quot; + userDomain.getUserId();\r\n                MessageDto messageDto = new MessageDto(responseMessage);\r\n                log.info(responseMessage);\r\n                return messageDto;\r\n            }\r\n    }\r\n```\r\nRoleService :\r\n\r\n```\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    public Set&lt;UserRoleDomain&gt; add(UserDto userDto) {\r\n        Set&lt;UserRoleDomain&gt; userRoles = new HashSet&lt;&gt;();\r\n        RoleDomain roleDomain = new RoleDomain();\r\n        roleDomain.setName(&quot;NORMAL&quot;);\r\n        UserRoleDomain userRoleDomain = new UserRoleDomain();\r\n        userRoleDomain.setRoleDomain(roleDomain);\r\n        userRoleDomain.setUserDomain(userService.mapUserDtoToDomain(userDto));\r\n        userRoles.add(userRoleDomain);\r\n        return userRoles;\r\n\r\n    }\r\n```\r\ncalling the service through **UserController**\r\n\r\n```\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public MessageDto addUser(@RequestBody UserDto userDto)\r\n    {\r\n        log.info(&quot;Post call have been received at user/add with DTO &quot; + userDto);\r\n        return userService.add(userDto , roleService.add(userDto));\r\n    }\r\n```\r\nSpring Terminal :\r\n```\r\n2021-07-19 22:09:16.436  INFO 3854 --- [           main] c.e.e.ExamPortalApiApplication           : Starting ExamPortalApiApplication using Java 11.0.10 on rohail-machine with PID 3854 (/media/rohail/hard hdd/ExamPortal/target/classes started by rohail in /media/rohail/hard hdd/ExamPortal)\r\n2021-07-19 22:09:16.438  INFO 3854 --- [           main] c.e.e.ExamPortalApiApplication           : No active profile set, falling back to default profiles: default\r\n2021-07-19 22:09:17.173  INFO 3854 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2021-07-19 22:09:17.212  INFO 3854 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.\r\n2021-07-19 22:09:17.573  INFO 3854 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)\r\n2021-07-19 22:09:17.580  INFO 3854 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-07-19 22:09:17.581  INFO 3854 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]\r\n2021-07-19 22:09:17.648  INFO 3854 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-07-19 22:09:17.648  INFO 3854 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1107 ms\r\n2021-07-19 22:09:17.802  INFO 3854 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2021-07-19 22:09:17.851  INFO 3854 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n2021-07-19 22:09:17.990  INFO 3854 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2021-07-19 22:09:18.071  INFO 3854 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2021-07-19 22:09:18.205  INFO 3854 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2021-07-19 22:09:18.218  INFO 3854 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n2021-07-19 22:09:18.678 DEBUG 3854 --- [           main] org.hibernate.SQL                        : alter table UserRoleDomain add constraint FK7bu6p1ewtda4yfcem34nieabb foreign key (roleDomain_roleId) references RoleDomain (roleId)\r\nHibernate: alter table UserRoleDomain add constraint FK7bu6p1ewtda4yfcem34nieabb foreign key (roleDomain_roleId) references RoleDomain (roleId)\r\n2021-07-19 22:09:18.702 DEBUG 3854 --- [           main] org.hibernate.SQL                        : alter table UserRoleDomain add constraint FK68w0n83gh9ub79iycwq8idomm foreign key (userDomain_userId) references UserDomain (userId)\r\nHibernate: alter table UserRoleDomain add constraint FK68w0n83gh9ub79iycwq8idomm foreign key (userDomain_userId) references UserDomain (userId)\r\n2021-07-19 22:09:18.717  INFO 3854 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2021-07-19 22:09:18.723  INFO 3854 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-07-19 22:09:19.074  WARN 3854 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2021-07-19 22:09:19.331  INFO 3854 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path &#39;&#39;\r\n2021-07-19 22:09:19.339  INFO 3854 --- [           main] c.e.e.ExamPortalApiApplication           : Started ExamPortalApiApplication in 3.788 seconds (JVM running for 5.116)\r\n2021-07-19 22:09:52.470  INFO 3854 --- [nio-8888-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-07-19 22:09:52.470  INFO 3854 --- [nio-8888-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-07-19 22:09:52.471  INFO 3854 --- [nio-8888-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2021-07-19 22:09:52.562  INFO 3854 --- [nio-8888-exec-2] c.e.e.controller.UserController          : Post call have been received at user/add with DTO UserDto(userId=0, firstName=Aliyan, lastName=Amir, userName=aliyan222, password=1122, isEnabled=true, userRoles=[])\r\n2021-07-19 22:09:52.696 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select userdomain0_.userId as userid1_1_, userdomain0_.email as email2_1_, userdomain0_.firstName as firstnam3_1_, userdomain0_.isEnabled as isenable4_1_, userdomain0_.lastName as lastname5_1_, userdomain0_.password as password6_1_, userdomain0_.userName as username7_1_ from UserDomain userdomain0_ where userdomain0_.userName=?\r\nHibernate: select userdomain0_.userId as userid1_1_, userdomain0_.email as email2_1_, userdomain0_.firstName as firstnam3_1_, userdomain0_.isEnabled as isenable4_1_, userdomain0_.lastName as lastname5_1_, userdomain0_.password as password6_1_, userdomain0_.userName as username7_1_ from UserDomain userdomain0_ where userdomain0_.userName=?\r\n2021-07-19 22:09:52.699 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [aliyan222]\r\n2021-07-19 22:09:52.717 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\r\nHibernate: select next_val as id_val from hibernate_sequence for update\r\n2021-07-19 22:09:52.719 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\r\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\r\n2021-07-19 22:09:52.738 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into RoleDomain (name, roleId) values (?, ?)\r\nHibernate: insert into RoleDomain (name, roleId) values (?, ?)\r\n2021-07-19 22:09:52.739 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [NORMAL]\r\n2021-07-19 22:09:52.739 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]\r\n2021-07-19 22:09:52.748 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\r\nHibernate: select next_val as id_val from hibernate_sequence for update\r\n2021-07-19 22:09:52.749 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\r\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\r\n2021-07-19 22:09:52.753 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\r\nHibernate: select next_val as id_val from hibernate_sequence for update\r\n2021-07-19 22:09:52.755 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\r\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\r\n2021-07-19 22:09:52.758 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\r\nHibernate: select next_val as id_val from hibernate_sequence for update\r\n2021-07-19 22:09:52.759 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\r\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\r\n2021-07-19 22:09:52.763 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\r\nHibernate: insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\r\n2021-07-19 22:09:52.764 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [null]\r\n2021-07-19 22:09:52.764 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Aliyan]\r\n2021-07-19 22:09:52.765 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]\r\n2021-07-19 22:09:52.765 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [Amir]\r\n2021-07-19 22:09:52.765 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [1122]\r\n2021-07-19 22:09:52.766 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [aliyan222]\r\n2021-07-19 22:09:52.766 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [6]\r\n2021-07-19 22:09:52.767 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\r\nHibernate: insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\r\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [null]\r\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Aliyan]\r\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]\r\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [Amir]\r\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [1122]\r\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [aliyan222]\r\n2021-07-19 22:09:52.769 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [8]\r\n2021-07-19 22:09:52.771 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into UserRoleDomain (roleDomain_roleId, userDomain_userId, userRoleid) values (?, ?, ?)\r\nHibernate: insert into UserRoleDomain (roleDomain_roleId, userDomain_userId, userRoleid) values (?, ?, ?)\r\n2021-07-19 22:09:52.772 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]\r\n2021-07-19 22:09:52.772 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]\r\n2021-07-19 22:09:52.772 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [7]\r\n2021-07-19 22:09:52.779  INFO 3854 --- [nio-8888-exec-2] c.e.examportalapi.service.UserService    : User has been added with Id 6\r\n```\r\n","title":"Data stored twice in database issue using spring boot","body":"<p>Hibernate is firing query twice for one data due to which data is stored twice in the database with different autogenerated IDs but I want it to stored once.</p>\n<p>Here are my domain classes;</p>\n<p><strong>UserDomain :</strong></p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserDomain {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int userId;\n    private String firstName;\n    private String lastName;\n    private String userName;\n    private String email;\n    private String password;\n    private boolean isEnabled = true;\n\n    @OneToMany(cascade = CascadeType.ALL , fetch = FetchType.EAGER , mappedBy = &quot;userDomain&quot;)\n    @JsonIgnore\n    private Set&lt;UserRoleDomain&gt; userRoleDomains = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><strong>RoleDomain :</strong></p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RoleDomain {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int roleId;\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;roleDomain&quot;)\n    private Set&lt;UserRoleDomain&gt; userRoleDomains = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><strong>UserRoleDomain:</strong></p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserRoleDomain {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int userRoleid;\n\n    @ManyToOne(cascade =CascadeType.ALL ,  fetch = FetchType.EAGER)\n    private UserDomain userDomain ;\n\n    @ManyToOne\n    private RoleDomain roleDomain ;\n}\n</code></pre>\n<p>Showing my service classes as under,</p>\n<p><strong>UserService:</strong></p>\n<pre><code>  public MessageDto add(UserDto userDto , Set&lt;UserRoleDomain&gt; userRoles)\n    {\n             UserDomain userDomain = mapUserDtoToDomain(userDto);\n            if( userRepository.findByUserName(userDomain.getUserName())!=null)\n            {\n                String responseMessage = &quot;User is already register with name ! &quot;+userDomain.getUserName();\n                MessageDto messageDto = new MessageDto(responseMessage);\n                log.info(responseMessage);\n                return messageDto;\n            }\n            else {\n\n                for (UserRoleDomain userRoleDomain: userRoles) {\n                    roleRepository.saveAndFlush(userRoleDomain.getRoleDomain());\n                }\n\n                userDomain.getUserRoleDomains().addAll(userRoles);\n                userRepository.saveAndFlush(userDomain);\n                String responseMessage = &quot;User has been added with Id &quot; + userDomain.getUserId();\n                MessageDto messageDto = new MessageDto(responseMessage);\n                log.info(responseMessage);\n                return messageDto;\n            }\n    }\n</code></pre>\n<p>RoleService :</p>\n<pre><code>    @Autowired\n    private UserService userService;\n\n    public Set&lt;UserRoleDomain&gt; add(UserDto userDto) {\n        Set&lt;UserRoleDomain&gt; userRoles = new HashSet&lt;&gt;();\n        RoleDomain roleDomain = new RoleDomain();\n        roleDomain.setName(&quot;NORMAL&quot;);\n        UserRoleDomain userRoleDomain = new UserRoleDomain();\n        userRoleDomain.setRoleDomain(roleDomain);\n        userRoleDomain.setUserDomain(userService.mapUserDtoToDomain(userDto));\n        userRoles.add(userRoleDomain);\n        return userRoles;\n\n    }\n</code></pre>\n<p>calling the service through <strong>UserController</strong></p>\n<pre><code>\n    @PostMapping(&quot;/add&quot;)\n    public MessageDto addUser(@RequestBody UserDto userDto)\n    {\n        log.info(&quot;Post call have been received at user/add with DTO &quot; + userDto);\n        return userService.add(userDto , roleService.add(userDto));\n    }\n</code></pre>\n<p>Spring Terminal :</p>\n<pre><code>2021-07-19 22:09:16.436  INFO 3854 --- [           main] c.e.e.ExamPortalApiApplication           : Starting ExamPortalApiApplication using Java 11.0.10 on rohail-machine with PID 3854 (/media/rohail/hard hdd/ExamPortal/target/classes started by rohail in /media/rohail/hard hdd/ExamPortal)\n2021-07-19 22:09:16.438  INFO 3854 --- [           main] c.e.e.ExamPortalApiApplication           : No active profile set, falling back to default profiles: default\n2021-07-19 22:09:17.173  INFO 3854 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-07-19 22:09:17.212  INFO 3854 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.\n2021-07-19 22:09:17.573  INFO 3854 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)\n2021-07-19 22:09:17.580  INFO 3854 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-07-19 22:09:17.581  INFO 3854 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]\n2021-07-19 22:09:17.648  INFO 3854 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-07-19 22:09:17.648  INFO 3854 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1107 ms\n2021-07-19 22:09:17.802  INFO 3854 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-07-19 22:09:17.851  INFO 3854 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2021-07-19 22:09:17.990  INFO 3854 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-07-19 22:09:18.071  INFO 3854 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-07-19 22:09:18.205  INFO 3854 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-07-19 22:09:18.218  INFO 3854 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2021-07-19 22:09:18.678 DEBUG 3854 --- [           main] org.hibernate.SQL                        : alter table UserRoleDomain add constraint FK7bu6p1ewtda4yfcem34nieabb foreign key (roleDomain_roleId) references RoleDomain (roleId)\nHibernate: alter table UserRoleDomain add constraint FK7bu6p1ewtda4yfcem34nieabb foreign key (roleDomain_roleId) references RoleDomain (roleId)\n2021-07-19 22:09:18.702 DEBUG 3854 --- [           main] org.hibernate.SQL                        : alter table UserRoleDomain add constraint FK68w0n83gh9ub79iycwq8idomm foreign key (userDomain_userId) references UserDomain (userId)\nHibernate: alter table UserRoleDomain add constraint FK68w0n83gh9ub79iycwq8idomm foreign key (userDomain_userId) references UserDomain (userId)\n2021-07-19 22:09:18.717  INFO 3854 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-07-19 22:09:18.723  INFO 3854 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-07-19 22:09:19.074  WARN 3854 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-07-19 22:09:19.331  INFO 3854 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path ''\n2021-07-19 22:09:19.339  INFO 3854 --- [           main] c.e.e.ExamPortalApiApplication           : Started ExamPortalApiApplication in 3.788 seconds (JVM running for 5.116)\n2021-07-19 22:09:52.470  INFO 3854 --- [nio-8888-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-07-19 22:09:52.470  INFO 3854 --- [nio-8888-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-07-19 22:09:52.471  INFO 3854 --- [nio-8888-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2021-07-19 22:09:52.562  INFO 3854 --- [nio-8888-exec-2] c.e.e.controller.UserController          : Post call have been received at user/add with DTO UserDto(userId=0, firstName=Aliyan, lastName=Amir, userName=aliyan222, password=1122, isEnabled=true, userRoles=[])\n2021-07-19 22:09:52.696 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select userdomain0_.userId as userid1_1_, userdomain0_.email as email2_1_, userdomain0_.firstName as firstnam3_1_, userdomain0_.isEnabled as isenable4_1_, userdomain0_.lastName as lastname5_1_, userdomain0_.password as password6_1_, userdomain0_.userName as username7_1_ from UserDomain userdomain0_ where userdomain0_.userName=?\nHibernate: select userdomain0_.userId as userid1_1_, userdomain0_.email as email2_1_, userdomain0_.firstName as firstnam3_1_, userdomain0_.isEnabled as isenable4_1_, userdomain0_.lastName as lastname5_1_, userdomain0_.password as password6_1_, userdomain0_.userName as username7_1_ from UserDomain userdomain0_ where userdomain0_.userName=?\n2021-07-19 22:09:52.699 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [aliyan222]\n2021-07-19 22:09:52.717 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\nHibernate: select next_val as id_val from hibernate_sequence for update\n2021-07-19 22:09:52.719 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\n2021-07-19 22:09:52.738 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into RoleDomain (name, roleId) values (?, ?)\nHibernate: insert into RoleDomain (name, roleId) values (?, ?)\n2021-07-19 22:09:52.739 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [NORMAL]\n2021-07-19 22:09:52.739 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]\n2021-07-19 22:09:52.748 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\nHibernate: select next_val as id_val from hibernate_sequence for update\n2021-07-19 22:09:52.749 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\n2021-07-19 22:09:52.753 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\nHibernate: select next_val as id_val from hibernate_sequence for update\n2021-07-19 22:09:52.755 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\n2021-07-19 22:09:52.758 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update\nHibernate: select next_val as id_val from hibernate_sequence for update\n2021-07-19 22:09:52.759 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?\nHibernate: update hibernate_sequence set next_val= ? where next_val=?\n2021-07-19 22:09:52.763 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\nHibernate: insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\n2021-07-19 22:09:52.764 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [null]\n2021-07-19 22:09:52.764 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Aliyan]\n2021-07-19 22:09:52.765 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]\n2021-07-19 22:09:52.765 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [Amir]\n2021-07-19 22:09:52.765 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [1122]\n2021-07-19 22:09:52.766 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [aliyan222]\n2021-07-19 22:09:52.766 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [6]\n2021-07-19 22:09:52.767 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\nHibernate: insert into UserDomain (email, firstName, isEnabled, lastName, password, userName, userId) values (?, ?, ?, ?, ?, ?, ?)\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [null]\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Aliyan]\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [Amir]\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [1122]\n2021-07-19 22:09:52.768 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [aliyan222]\n2021-07-19 22:09:52.769 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [8]\n2021-07-19 22:09:52.771 DEBUG 3854 --- [nio-8888-exec-2] org.hibernate.SQL                        : insert into UserRoleDomain (roleDomain_roleId, userDomain_userId, userRoleid) values (?, ?, ?)\nHibernate: insert into UserRoleDomain (roleDomain_roleId, userDomain_userId, userRoleid) values (?, ?, ?)\n2021-07-19 22:09:52.772 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]\n2021-07-19 22:09:52.772 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]\n2021-07-19 22:09:52.772 TRACE 3854 --- [nio-8888-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [7]\n2021-07-19 22:09:52.779  INFO 3854 --- [nio-8888-exec-2] c.e.examportalapi.service.UserService    : User has been added with Id 6\n</code></pre>\n"},{"tags":["java","android","download"],"answers":[{"tags":[],"owner":{"account_id":23270105,"reputation":1,"user_id":17355076,"display_name":"lauytao fing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668225924,"creation_date":1667978632,"answer_id":74371229,"question_id":74369652,"body_markdown":"android download File? look at this lib:\r\n\r\nhttps://github.com/lingochamp/FileDownloader \r\n","title":"How do I make inApp PDF File Download?","body":"<p>android download File? look at this lib:</p>\n<p><a href=\"https://github.com/lingochamp/FileDownloader\" rel=\"nofollow noreferrer\">https://github.com/lingochamp/FileDownloader</a></p>\n"}],"owner":{"account_id":13616445,"reputation":1,"user_id":9822230,"display_name":"Subham Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668225924,"creation_date":1667964881,"question_id":74369652,"body_markdown":"I have an android app, and I want to make the PDF&#39;s inside it to be downloaded inside the APP only, only the signed in users would be able to view it. How can I make it in Android Studio (Java) \r\n\r\nif anyone have the idea please share it ","title":"How do I make inApp PDF File Download?","body":"<p>I have an android app, and I want to make the PDF's inside it to be downloaded inside the APP only, only the signed in users would be able to view it. How can I make it in Android Studio (Java)</p>\n<p>if anyone have the idea please share it</p>\n"},{"tags":["java","android-studio","asp.net-core","retrofit"],"answers":[{"tags":[],"owner":{"account_id":8838873,"reputation":11,"user_id":8855999,"display_name":"Ashwath NM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668225839,"creation_date":1667970114,"answer_id":74370108,"question_id":74365633,"body_markdown":"I don&#39;t think you need to convert object to json before posting. Since you already have Kids model. and added GsonConverterFactory it will automatically take care of serialization and deserialization of objects. You can use this model in @Body.\r\n\r\n```\r\npublic interface KidInterface {\r\n  @Headers({&quot;Content-Type:application/json; charset=utf-8&quot;})\r\n  @POST(&quot;kids&quot;)\r\n  Call&lt;Kid&gt; createPost(@Body Kid kid); \r\n}\r\n```\r\n\r\nto post \r\n\r\n```\r\nKid kid=new Kid();\r\nkid.id=UUID.randomUUID().toString();\r\nkid.name=nombre;\r\nkid.edad=edad;\r\n\r\nCall&lt;Kid&gt; call=inter.createPost(kid);\r\n```\r\n\r\n\r\n","title":"Error 400 by using Retrofit Android Studio using API Net Core","body":"<p>I don't think you need to convert object to json before posting. Since you already have Kids model. and added GsonConverterFactory it will automatically take care of serialization and deserialization of objects. You can use this model in @Body.</p>\n<pre><code>public interface KidInterface {\n  @Headers({&quot;Content-Type:application/json; charset=utf-8&quot;})\n  @POST(&quot;kids&quot;)\n  Call&lt;Kid&gt; createPost(@Body Kid kid); \n}\n</code></pre>\n<p>to post</p>\n<pre><code>Kid kid=new Kid();\nkid.id=UUID.randomUUID().toString();\nkid.name=nombre;\nkid.edad=edad;\n\nCall&lt;Kid&gt; call=inter.createPost(kid);\n</code></pre>\n"}],"owner":{"account_id":25135401,"reputation":1,"user_id":18982230,"display_name":"Luis Cruz Jim&#233;nez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668225839,"creation_date":1667932577,"question_id":74365633,"body_markdown":"I&#39;m trying to do a POST request using Retrofit in Android Studio Java but the response says &quot;Error 400&quot;, I create the API too so, I don&#39;t know what&#39;s wrong, the API was created in NET core this is my application code:\r\n\r\n      private void senddata(String nombre,String edad){\r\n        OkHttpClient.Builder clientBuilder=new OkHttpClient.Builder();\r\n        HttpLoggingInterceptor loggingInterceptor=new HttpLoggingInterceptor();\r\n        loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        clientBuilder.addInterceptor(loggingInterceptor);\r\n\r\n        Retrofit retrofit=new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.24.1.29/sicegipruebas4/api/&quot;)\r\n                .client(clientBuilder.build())\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .addConverterFactory(ScalarsConverterFactory.create())\r\n                .build();\r\n\r\n        KidInterface inter=retrofit.create(KidInterface.class);\r\n        try{\r\n            JSONObject obj=new JSONObject();\r\n            obj.put(&quot;id&quot;,UUID.randomUUID().toString());\r\n            obj.put(&quot;name&quot;, nombre);\r\n            obj.put(&quot;edad&quot;,edad);\r\n            Call&lt;Kid&gt; call=inter.createPost(obj.toString());\r\n            call.enqueue(this);\r\n        }catch (JSONException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nMy interface:\r\n\r\n    public interface KidInterface {\r\n      @Headers({&quot;Content-Type:application/json; charset=utf-8&quot;})\r\n      @POST(&quot;kids&quot;)\r\n      Call&lt;Kid&gt; createPost(@Body String kid); \r\n     }\r\n\r\nAnd my model:\r\n\r\n    public class Kid {\r\n\r\n    @SerializedName(&quot;id&quot;)\r\n    private String id;\r\n    @SerializedName(&quot;name&quot;)\r\n    private String name;\r\n    @SerializedName(&quot;edad&quot;)\r\n    private String edad;\r\n\r\n    public Kid(String id,String name,String edad){\r\n      this.id=id;\r\n      this.name=name;\r\n      this.edad=edad;\r\n    }\r\n\r\nAnd the API code:\r\n  \r\n     public class Kids\r\n    {\r\n        public String id { get; set; }\r\n        public String name { get; set; }\r\n        public String edad { get; set; }\r\n\r\n    }\r\n\r\nContext API:\r\n\r\n    public class AppNNADBContext:DbContext\r\n    {\r\n        public AppNNADBContext(DbContextOptions options) : base(options) { }\r\n\r\n        public DbSet&lt;Kids&gt; Kids { get; set; }\r\n\r\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\r\n        {\r\n            modelBuilder.Entity&lt;Kids&gt;(entity =&gt;\r\n            {\r\n                entity.HasKey(e =&gt; e.id);\r\n            });\r\n        }\r\n      }\r\n    }\r\n\r\nThis is the result in log cat:\r\n\r\n[result post][1]\r\n\r\n\r\n[Json warning][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LCnrq.png\r\n  [2]: https://i.stack.imgur.com/fHzUt.png","title":"Error 400 by using Retrofit Android Studio using API Net Core","body":"<p>I'm trying to do a POST request using Retrofit in Android Studio Java but the response says &quot;Error 400&quot;, I create the API too so, I don't know what's wrong, the API was created in NET core this is my application code:</p>\n<pre><code>  private void senddata(String nombre,String edad){\n    OkHttpClient.Builder clientBuilder=new OkHttpClient.Builder();\n    HttpLoggingInterceptor loggingInterceptor=new HttpLoggingInterceptor();\n    loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    clientBuilder.addInterceptor(loggingInterceptor);\n\n    Retrofit retrofit=new Retrofit.Builder()\n            .baseUrl(&quot;http://10.24.1.29/sicegipruebas4/api/&quot;)\n            .client(clientBuilder.build())\n            .addConverterFactory(GsonConverterFactory.create())\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .build();\n\n    KidInterface inter=retrofit.create(KidInterface.class);\n    try{\n        JSONObject obj=new JSONObject();\n        obj.put(&quot;id&quot;,UUID.randomUUID().toString());\n        obj.put(&quot;name&quot;, nombre);\n        obj.put(&quot;edad&quot;,edad);\n        Call&lt;Kid&gt; call=inter.createPost(obj.toString());\n        call.enqueue(this);\n    }catch (JSONException e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>My interface:</p>\n<pre><code>public interface KidInterface {\n  @Headers({&quot;Content-Type:application/json; charset=utf-8&quot;})\n  @POST(&quot;kids&quot;)\n  Call&lt;Kid&gt; createPost(@Body String kid); \n }\n</code></pre>\n<p>And my model:</p>\n<pre><code>public class Kid {\n\n@SerializedName(&quot;id&quot;)\nprivate String id;\n@SerializedName(&quot;name&quot;)\nprivate String name;\n@SerializedName(&quot;edad&quot;)\nprivate String edad;\n\npublic Kid(String id,String name,String edad){\n  this.id=id;\n  this.name=name;\n  this.edad=edad;\n}\n</code></pre>\n<p>And the API code:</p>\n<pre><code> public class Kids\n{\n    public String id { get; set; }\n    public String name { get; set; }\n    public String edad { get; set; }\n\n}\n</code></pre>\n<p>Context API:</p>\n<pre><code>public class AppNNADBContext:DbContext\n{\n    public AppNNADBContext(DbContextOptions options) : base(options) { }\n\n    public DbSet&lt;Kids&gt; Kids { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Kids&gt;(entity =&gt;\n        {\n            entity.HasKey(e =&gt; e.id);\n        });\n    }\n  }\n}\n</code></pre>\n<p>This is the result in log cat:</p>\n<p><a href=\"https://i.stack.imgur.com/LCnrq.png\" rel=\"nofollow noreferrer\">result post</a></p>\n<p><a href=\"https://i.stack.imgur.com/fHzUt.png\" rel=\"nofollow noreferrer\">Json warning</a></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1968017,"reputation":1736,"user_id":1767722,"display_name":"gclaussn"},"score":0,"creation_date":1422526585,"post_id":28209365,"comment_id":44788158,"body_markdown":"Please have a look at following question and the excepted answer:\nhttp://stackoverflow.com/questions/5756299/maven-3-artifact-problem","body":"Please have a look at following question and the excepted answer: <a href=\"http://stackoverflow.com/questions/5756299/maven-3-artifact-problem\" title=\"maven 3 artifact problem\">stackoverflow.com/questions/5756299/maven-3-artifact-problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":1968017,"reputation":1736,"user_id":1767722,"display_name":"gclaussn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422547008,"creation_date":1422546565,"answer_id":28218871,"question_id":28209365,"body_markdown":"I dont think it is configurable. It is part of the Maven Core to use the JAVA_HOME environment variable. Please see the accepted answer of:\r\nhttps://stackoverflow.com/questions/19654557/how-to-set-specific-java-version-to-maven\r\n\r\nAlso it is not possible to set or change environment variables (not system properties) within a Java process (for the current process). If you create another process from within your Java process, there will be [methods][1] to specify environment variables for this sub process.\r\n\r\nMaybe the solution will be to execute a Maven command e.g. &quot;mvn clean install&quot; with a specific JAVA_HOME variable set as sub process (this requires, that Maven is installed and mvn is available as command). Use the [ProcessBuilder][2] to switch into the working directory, where the pom.xml of the target project is located and set the appropriate [environment variable(s)][3] before starting the process.\r\n\r\nIf Maven should not be installed at the enviroment your application is running on, you could also distribute a Maven installation with your application (maybe in a separate directory). Then you could run against the mvn.bat or mvn.sh of this distribution (depending on the os).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec(java.lang.String[],%20java.lang.String[])\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#environment()","title":"How to buld a Maven project with a specified java home property in eclipse?","body":"<p>I dont think it is configurable. It is part of the Maven Core to use the JAVA_HOME environment variable. Please see the accepted answer of:\n<a href=\"https://stackoverflow.com/questions/19654557/how-to-set-specific-java-version-to-maven\">How to set specific java version to Maven</a></p>\n\n<p>Also it is not possible to set or change environment variables (not system properties) within a Java process (for the current process). If you create another process from within your Java process, there will be <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec(java.lang.String[],%20java.lang.String[])\" rel=\"nofollow noreferrer\">methods</a> to specify environment variables for this sub process.</p>\n\n<p>Maybe the solution will be to execute a Maven command e.g. \"mvn clean install\" with a specific JAVA_HOME variable set as sub process (this requires, that Maven is installed and mvn is available as command). Use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> to switch into the working directory, where the pom.xml of the target project is located and set the appropriate <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#environment()\" rel=\"nofollow noreferrer\">environment variable(s)</a> before starting the process.</p>\n\n<p>If Maven should not be installed at the enviroment your application is running on, you could also distribute a Maven installation with your application (maybe in a separate directory). Then you could run against the mvn.bat or mvn.sh of this distribution (depending on the os).</p>\n"},{"tags":[],"owner":{"account_id":11631039,"reputation":1,"user_id":8519201,"display_name":"Chandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668225588,"creation_date":1667966634,"answer_id":74369802,"question_id":28209365,"body_markdown":"When using Eclipse, Build in `Run as Configuration`, go to the `Environment` tab and add the new `JAVA_HOME` variable.\r\nDo not forget to check the **Replace native environment .....** option.\r\n\r\nThis will override your default OS variable. No need to change at the OS level.","title":"How to buld a Maven project with a specified java home property in eclipse?","body":"<p>When using Eclipse, Build in <code>Run as Configuration</code>, go to the <code>Environment</code> tab and add the new <code>JAVA_HOME</code> variable.\nDo not forget to check the <strong>Replace native environment .....</strong> option.</p>\n<p>This will override your default OS variable. No need to change at the OS level.</p>\n"}],"owner":{"account_id":5696752,"reputation":1,"user_id":4503031,"display_name":"Diaby005"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668225588,"creation_date":1422517432,"question_id":28209365,"body_markdown":"I want to build a maven integrated project with a given java home property. At exactly i want to write a code in java that sets the java home property for an InvocationRequest object. The main goal is to build a project with the runtime given(by an algorithm) java home. So i would call `getInvoker().execute(request);` to execute maven goals where request is an InvocationRequest object.&lt;br /&gt; &lt;br /&gt;\r\nI tried to set the request java.home property with&lt;br /&gt; `properties.setProperty(Goals.JAVA_HOME, javaHomePath);` and call the method `executeGoals(pom, new String[] { Goals.INSTALL, Goals.CLEAN }, properties);` . &lt;br /&gt;This executeGoals(...) method contains getInvoker().execute(request) call and the request object definition too. &lt;br /&gt; &lt;br /&gt;\r\nOutput is: `Missing: 1) com.sun:tools:jar:1.5.0 ` #Solved &lt;br &gt;\r\n\r\n**EDIT:** solved the output problem, but a new one appeared: \r\n`class file has wrong version 50.0, should be 49.0`. Maybe i changed the jre home, so i think i&#39;m compiling with a newer version of java than i&#39;m running with. \r\n&lt;br /&gt;&lt;br /&gt;Reminder: i want to build with a specified java home property = i want to change the compiler java home(or version) to the specified one. (In eclipse)\r\n&lt;br /&gt; I would appreciate any help.\r\n ","title":"How to buld a Maven project with a specified java home property in eclipse?","body":"<p>I want to build a maven integrated project with a given java home property. At exactly i want to write a code in java that sets the java home property for an InvocationRequest object. The main goal is to build a project with the runtime given(by an algorithm) java home. So i would call <code>getInvoker().execute(request);</code> to execute maven goals where request is an InvocationRequest object.<br /> <br />\nI tried to set the request java.home property with<br /> <code>properties.setProperty(Goals.JAVA_HOME, javaHomePath);</code> and call the method <code>executeGoals(pom, new String[] { Goals.INSTALL, Goals.CLEAN }, properties);</code> . <br />This executeGoals(...) method contains getInvoker().execute(request) call and the request object definition too. <br /> <br />\nOutput is: <code>Missing: 1) com.sun:tools:jar:1.5.0</code> #Solved <br ></p>\n\n<p><strong>EDIT:</strong> solved the output problem, but a new one appeared: \n<code>class file has wrong version 50.0, should be 49.0</code>. Maybe i changed the jre home, so i think i'm compiling with a newer version of java than i'm running with. \n<br /><br />Reminder: i want to build with a specified java home property = i want to change the compiler java home(or version) to the specified one. (In eclipse)\n<br /> I would appreciate any help.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":15607311,"reputation":417,"user_id":11259721,"display_name":"Mar&#237;a Cristina Fern&#225;ndez L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634540724,"creation_date":1634540724,"answer_id":69611979,"question_id":69584203,"body_markdown":"\r\nThe problem was in **userRepository**, I was looking for users by *username*, and in my database the *username* is the login field. I have changed username to login in the repository and now it works correctly.","title":"Spring boot Oauth2 grant_type password always return invalid_grant Bad Credentials","body":"<p>The problem was in <strong>userRepository</strong>, I was looking for users by <em>username</em>, and in my database the <em>username</em> is the login field. I have changed username to login in the repository and now it works correctly.</p>\n"}],"owner":{"account_id":15607311,"reputation":417,"user_id":11259721,"display_name":"Mar&#237;a Cristina Fern&#225;ndez L&#243;pez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69611979,"answer_count":1,"score":1,"last_activity_date":1668225375,"creation_date":1634298214,"question_id":69584203,"body_markdown":"I am trying to create an API that is in charge of securing the rest of my APIs. This api has the functionality of **generating the token for the users** of the whole set.\r\nUsers must authenticate by clientId and secrt and with their username and password.\r\nTo test it I am using a postman request like this:\r\n\r\n````\r\n  curl --location --request POST &#39;http://localhost:5101/oauth/token&#39; \\\r\n--header &#39;Authorization: Basic cHJ1ZWJhOnBydWViYQ==&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;username=usuario&#39; \\\r\n--data-urlencode &#39;password=pass&#39; \\\r\n--data-urlencode &#39;grant_type=password&#39; \\\r\n--data-urlencode &#39;scope=all&#39;\r\n\r\n````\r\n\r\nThe authorization header is composed of the clientId and its secret key. \r\n\r\n\r\nI always get **invalid_grant error** when **grant_type** is **password**\r\n````\r\n{\r\n    &quot;error&quot;: &quot;invalid_grant&quot;,\r\n    &quot;error_description&quot;: &quot;Bad credentials&quot;\r\n}\r\n````\r\nWhen I use the grant_type client_credentials it works fine, it returns the client token.\r\n\r\nThis is my **Main** class \r\n\r\n````\r\n@EnableAuthorizationServer\r\n@SpringBootApplication\r\npublic class Auth implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Auth.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString password = &quot;pass&quot;;\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tString pasBcript = passwordEncoder.encode(password);\r\n\t\t\tSystem.out.println(pasBcript);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n````\r\nI have used run method to obtain passwords for my database users.\r\n\r\n**SecurityConfig**\r\n````\r\n@Configuration\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t// @Autowired private AuthenticationEventPublisher eventPublisher;\r\n\t\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Override\r\n\t@Autowired\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userService).passwordEncoder(passwordEncoder());\r\n\t\t//.and().authenticationEventPublisher(eventPublisher);\r\n\t}\r\n\t\r\n\t@Override\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n}\r\n````\r\n**AuthorizationServerConfig**\r\n````\r\n@RefreshScope\r\n@Configuration\r\n@EnableAuthorizationServer\r\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter{\r\n\t\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n\t\r\n\t@Autowired\r\n\tprivate AuthenticationManager authenticationManager;\r\n\t\r\n\r\n\t@Override\r\n\tpublic void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\r\n\t\tsecurity.tokenKeyAccess(&quot;permitAll()&quot;) //Endpoint para generar el token public, POST /oauth/token\r\n\t\t.checkTokenAccess(&quot;isAuthenticated()&quot;); // validar el toekn\r\n\t}\r\n\r\n\t// Doble autenticacion cliente (aplicacion) y usuarios\r\n\t// hay que envioar dos crecenciales las de la aplicacion y las del usuario\r\n\t@Override\r\n\tpublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n\t\tclients.inMemory()\t\t\r\n\t\t.withClient(&quot;prueba&quot;)\r\n\t\t.secret(passwordEncoder.encode(&quot;prueba&quot;))\r\n\t\t.scopes(&quot;all&quot;) // Permiso de la app prueba\r\n\t\t.authorizedGrantTypes(&quot;password&quot;, &quot;refresh_token&quot;, &quot;client_credentials&quot;) // Tipo de autenticaci&#243;n, como vamos a obtener el token\r\n\t\t.accessTokenValiditySeconds(3600)\r\n\t\t.refreshTokenValiditySeconds(3600);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n\t\t\r\n\t\tTokenEnhancerChain tokenEnhancerChain = new TokenEnhancerChain();\r\n\t\ttokenEnhancerChain.setTokenEnhancers(Arrays.asList(accessTokenConverter()));\r\n\t\t\r\n\t\tendpoints.authenticationManager(authenticationManager)\r\n\t\t.tokenStore(tokenStore()) // Componente que se encarga de guardar el token\r\n\t\t.accessTokenConverter(accessTokenConverter())\r\n\t\t.tokenEnhancer(tokenEnhancerChain);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtTokenStore tokenStore() {\r\n\t\treturn new JwtTokenStore(accessTokenConverter());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtAccessTokenConverter accessTokenConverter() {\r\n\t\tJwtAccessTokenConverter tokenConverter = new JwtAccessTokenConverter();\r\n\t\t// Codigo secreto para firmar\r\n\t\ttokenConverter.setSigningKey(Base64.getEncoder().encodeToString(env.getProperty(&quot;config.security.oauth.jwt.key&quot;).getBytes()));\r\n\t\treturn tokenConverter;\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\n**UserService**\r\n````\r\n@Service\r\npublic class UserService implements IUserService, UserDetailsService {\r\n\r\n\tLogger logger = LoggerFactory.getLogger(UserService.class);\r\n\t\r\n\r\n\t@Autowired\r\n\tprivate IUserRepository userRepository;\r\n\t@Override\r\n\tpublic AuthUser loadUserByUsername(String username) {\r\n\t\treturn userRepository.findByUsername(username)\r\n\t\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\t}\r\n\r\n}\r\n````\r\n**POM.XML**\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.11&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.example.auth&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;auth-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;Auth&lt;/name&gt;\r\n\t&lt;description&gt;&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\nI&#39;m sure the credentials are fine, both for the client and for the user. I have checked it several times.\r\nI already ran out of ideas, any help please??\r\n","title":"Spring boot Oauth2 grant_type password always return invalid_grant Bad Credentials","body":"<p>I am trying to create an API that is in charge of securing the rest of my APIs. This api has the functionality of <strong>generating the token for the users</strong> of the whole set.\nUsers must authenticate by clientId and secrt and with their username and password.\nTo test it I am using a postman request like this:</p>\n<pre><code>  curl --location --request POST 'http://localhost:5101/oauth/token' \\\n--header 'Authorization: Basic cHJ1ZWJhOnBydWViYQ==' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'username=usuario' \\\n--data-urlencode 'password=pass' \\\n--data-urlencode 'grant_type=password' \\\n--data-urlencode 'scope=all'\n\n</code></pre>\n<p>The authorization header is composed of the clientId and its secret key.</p>\n<p>I always get <strong>invalid_grant error</strong> when <strong>grant_type</strong> is <strong>password</strong></p>\n<pre><code>{\n    &quot;error&quot;: &quot;invalid_grant&quot;,\n    &quot;error_description&quot;: &quot;Bad credentials&quot;\n}\n</code></pre>\n<p>When I use the grant_type client_credentials it works fine, it returns the client token.</p>\n<p>This is my <strong>Main</strong> class</p>\n<pre><code>@EnableAuthorizationServer\n@SpringBootApplication\npublic class Auth implements CommandLineRunner {\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Auth.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        // TODO Auto-generated method stub\n        String password = &quot;pass&quot;;\n        for (int i = 0; i &lt; 4; i++) {\n            String pasBcript = passwordEncoder.encode(password);\n            System.out.println(pasBcript);\n        }\n    }\n}\n\n</code></pre>\n<p>I have used run method to obtain passwords for my database users.</p>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    private UserService userService;\n    \n    // @Autowired private AuthenticationEventPublisher eventPublisher;\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Override\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder());\n        //.and().authenticationEventPublisher(eventPublisher);\n    }\n    \n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n<p><strong>AuthorizationServerConfig</strong></p>\n<pre><code>@RefreshScope\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter{\n    \n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n    \n    @Autowired\n    private AuthenticationManager authenticationManager;\n    \n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n        security.tokenKeyAccess(&quot;permitAll()&quot;) //Endpoint para generar el token public, POST /oauth/token\n        .checkTokenAccess(&quot;isAuthenticated()&quot;); // validar el toekn\n    }\n\n    // Doble autenticacion cliente (aplicacion) y usuarios\n    // hay que envioar dos crecenciales las de la aplicacion y las del usuario\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()      \n        .withClient(&quot;prueba&quot;)\n        .secret(passwordEncoder.encode(&quot;prueba&quot;))\n        .scopes(&quot;all&quot;) // Permiso de la app prueba\n        .authorizedGrantTypes(&quot;password&quot;, &quot;refresh_token&quot;, &quot;client_credentials&quot;) // Tipo de autenticación, como vamos a obtener el token\n        .accessTokenValiditySeconds(3600)\n        .refreshTokenValiditySeconds(3600);\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        \n        TokenEnhancerChain tokenEnhancerChain = new TokenEnhancerChain();\n        tokenEnhancerChain.setTokenEnhancers(Arrays.asList(accessTokenConverter()));\n        \n        endpoints.authenticationManager(authenticationManager)\n        .tokenStore(tokenStore()) // Componente que se encarga de guardar el token\n        .accessTokenConverter(accessTokenConverter())\n        .tokenEnhancer(tokenEnhancerChain);\n    }\n\n    @Bean\n    public JwtTokenStore tokenStore() {\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() {\n        JwtAccessTokenConverter tokenConverter = new JwtAccessTokenConverter();\n        // Codigo secreto para firmar\n        tokenConverter.setSigningKey(Base64.getEncoder().encodeToString(env.getProperty(&quot;config.security.oauth.jwt.key&quot;).getBytes()));\n        return tokenConverter;\n    }\n    \n}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre><code>@Service\npublic class UserService implements IUserService, UserDetailsService {\n\n    Logger logger = LoggerFactory.getLogger(UserService.class);\n    \n\n    @Autowired\n    private IUserRepository userRepository;\n    @Override\n    public AuthUser loadUserByUsername(String username) {\n        return userRepository.findByUsername(username)\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    }\n\n}\n</code></pre>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.11&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.example.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;auth-service&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Auth&lt;/name&gt;\n    &lt;description&gt;&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.3.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm sure the credentials are fine, both for the client and for the user. I have checked it several times.\nI already ran out of ideas, any help please??</p>\n"},{"tags":["java","junit","floating-point"],"answers":[{"tags":[],"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668224740,"creation_date":1668224740,"answer_id":74410234,"question_id":74410131,"body_markdown":"After some testing I found out that delta has to be a positive value. Finally I settled for\r\n```\r\nMath.max(Math.abs(doubles[i]), Math.abs(doubles[j])) / 100\r\n```\r\nas delta. ","title":"JUnit testing: how to correctly set dynamic delta for assertEquals()?","body":"<p>After some testing I found out that delta has to be a positive value. Finally I settled for</p>\n<pre><code>Math.max(Math.abs(doubles[i]), Math.abs(doubles[j])) / 100\n</code></pre>\n<p>as delta.</p>\n"},{"comments":[{"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"score":0,"creation_date":1668225460,"post_id":74410249,"comment_id":131359978,"body_markdown":"I cant set a static delta, because the precision of my own float is dynamic (and with a maximum of 32 bits way worse then a double to begin with). Your proposed delta is too small account for the errors if one double is greater than 1 * 2^-2.","body":"I cant set a static delta, because the precision of my own float is dynamic (and with a maximum of 32 bits way worse then a double to begin with). Your proposed delta is too small account for the errors if one double is greater than 1 * 2^-2."}],"tags":[],"owner":{"account_id":16346435,"reputation":324,"user_id":11806050,"display_name":"Thaiminhpv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668224989,"creation_date":1668224989,"answer_id":74410249,"question_id":74410131,"body_markdown":"You should set the `delta` directly depending on your use case.\r\n\r\nIn your case `delta = 1e-6` should be sufficient.","title":"JUnit testing: how to correctly set dynamic delta for assertEquals()?","body":"<p>You should set the <code>delta</code> directly depending on your use case.</p>\n<p>In your case <code>delta = 1e-6</code> should be sufficient.</p>\n"}],"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74410234,"answer_count":2,"score":-1,"last_activity_date":1668224989,"creation_date":1668222806,"question_id":74410131,"body_markdown":"for an assignment I have to implement my own floats. They are working for many possible combinations of inputs i could think of, so I set out to make a JUnit test with random values. Now I encountered some trouble with dynamically setting the delta value in the method call assertEquals(String message, Double expected, Double actual, Double delta).\r\n\r\n\r\nThis is my test method:\r\n\r\n```\r\n@Test\r\npublic void testRandomMath() {\r\n\r\n    DoubleStream doubleStream = ThreadLocalRandom.current().doubles(100);\r\n\r\n    //limiting the doubles to be withing a workable range for my ownFloat class\r\n    double[] doubles = doubleStream.map(d -&gt; {\r\n        if (ThreadLocalRandom.current().nextBoolean()) {\r\n            return d * -1d;\r\n        }\r\n        else {\r\n            return d;\r\n        }\r\n    }).map(d -&gt; d * Math.pow(2, ThreadLocalRandom.current().nextInt(-8, 9))).toArray();\r\n\r\n    OwnFloat[] ownFloats = new OwnFloat[doubles.length];\r\n\r\n    for (int i = 0; i &lt; doubles.length; i++) {\r\n        ownFloats[i] = new OwnFloat(doubles[i]);\r\n    }\r\n\r\n    for (int i = 0; i &lt; doubles.length; i++) {\r\n        for (int j = 0; j &lt; doubles.length; j++) {\r\n            assertEquals(&quot;Failed &quot; + doubles[i] + &quot; + &quot; + doubles[j],doubles[i] + doubles[j], ownFloats[i].add(ownFloats[j]).toDouble(), Math.min(doubles[i], doubles[j]));\r\n            assertEquals(&quot;Failed &quot; + doubles[i] + &quot; - &quot; + doubles[j], doubles[i] - doubles[j], ownFloats[i].sub(ownFloats[j]).toDouble(), Math.min(doubles[i], doubles[j]));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the test error:\r\n```\r\njava.lang.AssertionError: Failed -0.01393084463838419 + -0.01393084463838419 \r\nExpected :-0.02786168927676838\r\nActual   :-0.027861595153808594\r\n```\r\n\r\nWhat am I getting wrong about how the delta works? What could I use instead of the minimum of the inputs as delta value?\r\n\r\nKind regards, Lantanar\r\n","title":"JUnit testing: how to correctly set dynamic delta for assertEquals()?","body":"<p>for an assignment I have to implement my own floats. They are working for many possible combinations of inputs i could think of, so I set out to make a JUnit test with random values. Now I encountered some trouble with dynamically setting the delta value in the method call assertEquals(String message, Double expected, Double actual, Double delta).</p>\n<p>This is my test method:</p>\n<pre><code>@Test\npublic void testRandomMath() {\n\n    DoubleStream doubleStream = ThreadLocalRandom.current().doubles(100);\n\n    //limiting the doubles to be withing a workable range for my ownFloat class\n    double[] doubles = doubleStream.map(d -&gt; {\n        if (ThreadLocalRandom.current().nextBoolean()) {\n            return d * -1d;\n        }\n        else {\n            return d;\n        }\n    }).map(d -&gt; d * Math.pow(2, ThreadLocalRandom.current().nextInt(-8, 9))).toArray();\n\n    OwnFloat[] ownFloats = new OwnFloat[doubles.length];\n\n    for (int i = 0; i &lt; doubles.length; i++) {\n        ownFloats[i] = new OwnFloat(doubles[i]);\n    }\n\n    for (int i = 0; i &lt; doubles.length; i++) {\n        for (int j = 0; j &lt; doubles.length; j++) {\n            assertEquals(&quot;Failed &quot; + doubles[i] + &quot; + &quot; + doubles[j],doubles[i] + doubles[j], ownFloats[i].add(ownFloats[j]).toDouble(), Math.min(doubles[i], doubles[j]));\n            assertEquals(&quot;Failed &quot; + doubles[i] + &quot; - &quot; + doubles[j], doubles[i] - doubles[j], ownFloats[i].sub(ownFloats[j]).toDouble(), Math.min(doubles[i], doubles[j]));\n        }\n    }\n}\n</code></pre>\n<p>And this is the test error:</p>\n<pre><code>java.lang.AssertionError: Failed -0.01393084463838419 + -0.01393084463838419 \nExpected :-0.02786168927676838\nActual   :-0.027861595153808594\n</code></pre>\n<p>What am I getting wrong about how the delta works? What could I use instead of the minimum of the inputs as delta value?</p>\n<p>Kind regards, Lantanar</p>\n"},{"tags":["java","arrays","split"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668197442,"post_id":74407595,"comment_id":131355512,"body_markdown":"When you assign the result of the split to `words` whatever was previously assigned to `words` is discarded. It&#39;s irrelevant how big the array was beforehand. How many tab separated columns are in your lines? Do you want to limit the split to 6?","body":"When you assign the result of the split to <code>words</code> whatever was previously assigned to <code>words</code> is discarded. It&#39;s irrelevant how big the array was beforehand. How many tab separated columns are in your lines? Do you want to limit the split to 6?"},{"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"score":0,"creation_date":1668197671,"post_id":74407595,"comment_id":131355569,"body_markdown":"there are 6 columns, but each line doesn&#39;t necessarily mean that has 6 values that i can read.","body":"there are 6 columns, but each line doesn&#39;t necessarily mean that has 6 values that i can read."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1668197935,"post_id":74407595,"comment_id":131355626,"body_markdown":"What are you expecting to happen? Every time you execute `words = array.split(&quot;\\t&quot;);` words will have a fresh array assigned to it, which will have length of however many columns are in the line. Also, renaming `array` to `line` would be less confusing.","body":"What are you expecting to happen? Every time you execute <code>words = array.split(&quot;\\t&quot;);</code> words will have a fresh array assigned to it, which will have length of however many columns are in the line. Also, renaming <code>array</code> to <code>line</code> would be less confusing."},{"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"score":0,"creation_date":1668198316,"post_id":74407595,"comment_id":131355720,"body_markdown":"is there a way to make the array fixed to a size of 6?","body":"is there a way to make the array fixed to a size of 6?"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668210476,"post_id":74408428,"comment_id":131358234,"body_markdown":"It doesn&#39;t &quot;stop&quot; consuming the input at the given limit (ie discard the extra elements), it just piles all the remaining input into one element, which I expect is not what OP wants.","body":"It doesn&#39;t &quot;stop&quot; consuming the input at the given limit (ie discard the extra elements), it just piles all the remaining input into one element, which I expect is not what OP wants."}],"tags":[],"owner":{"account_id":18231926,"reputation":111,"user_id":13270701,"display_name":"hayden.mumm"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668203002,"creation_date":1668203002,"answer_id":74408428,"question_id":74407595,"body_markdown":"String.split has an override you can use to limit the output. It will grab the first n number of the string and then stop.\r\n\r\nFrom [the documentation][1]:\r\n\r\n \r\n\r\n&gt; **The limit parameter controls the number of times the pattern is applied** and therefore affects the length of the resulting array.\r\n&gt; \r\n&gt; - If the limit is positive then the pattern will be applied at most limit - 1 times, the array&#39;s length will be no greater than limit, and the array&#39;s last entry will contain all input beyond the last matched delimiter.\r\n&gt; \r\n&gt; - If the limit is zero then the pattern will be applied as many times as possible, the array can have any length, and trailing empty strings will be discarded.\r\n&gt; \r\n&gt; - If the limit is negative then the pattern will be applied as many times as possible and the array can have any length.\r\n\r\nHere&#39;s an example\r\n\r\n    String[] splitWithoutLimit = &quot;Column1,Column2,Column3&quot;.split(&quot;,&quot;)\r\n    \r\n    // splitWithoutLimit will contain the following values:\r\n    // { &quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot; }\r\n    \r\n    String[] splitWithLimit = &quot;Column1,Column2,Column3&quot;.split(&quot;,&quot;, 2)\r\n    \r\n    // splitWithLimit will contain the following values:\r\n    // { &quot;Column1&quot;, &quot;Column2,Column3&quot; }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)","title":"java .split() method gives arrays of different lengths","body":"<p>String.split has an override you can use to limit the output. It will grab the first n number of the string and then stop.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p><strong>The limit parameter controls the number of times the pattern is applied</strong> and therefore affects the length of the resulting array.</p>\n<ul>\n<li><p>If the limit is positive then the pattern will be applied at most limit - 1 times, the array's length will be no greater than limit, and the array's last entry will contain all input beyond the last matched delimiter.</p>\n</li>\n<li><p>If the limit is zero then the pattern will be applied as many times as possible, the array can have any length, and trailing empty strings will be discarded.</p>\n</li>\n<li><p>If the limit is negative then the pattern will be applied as many times as possible and the array can have any length.</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's an example</p>\n<pre><code>String[] splitWithoutLimit = &quot;Column1,Column2,Column3&quot;.split(&quot;,&quot;)\n\n// splitWithoutLimit will contain the following values:\n// { &quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot; }\n\nString[] splitWithLimit = &quot;Column1,Column2,Column3&quot;.split(&quot;,&quot;, 2)\n\n// splitWithLimit will contain the following values:\n// { &quot;Column1&quot;, &quot;Column2,Column3&quot; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20119723,"reputation":443,"user_id":14754410,"display_name":"BccHnw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668222823,"creation_date":1668222823,"answer_id":74410133,"question_id":74407595,"body_markdown":"Splitting a string, taking maximum 6 values, and filling an array with the `&quot;0&quot;` string if there are too few values.\r\n\r\n```\r\n        String[] defaultWords = {&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;};\r\n        int fixedSize = defaultWords.length;\r\n        String[] words = new String[fixedSize];\r\n\r\n        // reading\r\n        String str = &quot;1\\t2\\t3&quot;;\r\n        String[] tmpWords = str.split(&quot;\\t&quot;);\r\n        System.arraycopy(defaultWords, 0, words, 0, fixedSize);\r\n        System.arraycopy(tmpWords, 0, words, 0, Math.min(fixedSize, tmpWords.length));\r\n\r\n        System.out.println(Arrays.toString(words));\r\n```\r\n\r\n\r\nResult:\r\n```\r\n[1, 2, 3, 0, 0, 0]\r\n```\r\n","title":"java .split() method gives arrays of different lengths","body":"<p>Splitting a string, taking maximum 6 values, and filling an array with the <code>&quot;0&quot;</code> string if there are too few values.</p>\n<pre><code>        String[] defaultWords = {&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;};\n        int fixedSize = defaultWords.length;\n        String[] words = new String[fixedSize];\n\n        // reading\n        String str = &quot;1\\t2\\t3&quot;;\n        String[] tmpWords = str.split(&quot;\\t&quot;);\n        System.arraycopy(defaultWords, 0, words, 0, fixedSize);\n        System.arraycopy(tmpWords, 0, words, 0, Math.min(fixedSize, tmpWords.length));\n\n        System.out.println(Arrays.toString(words));\n</code></pre>\n<p>Result:</p>\n<pre><code>[1, 2, 3, 0, 0, 0]\n</code></pre>\n"}],"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74410133,"answer_count":2,"score":0,"last_activity_date":1668222823,"creation_date":1668197171,"question_id":74407595,"body_markdown":"I am reading lines from a tsv file, and then trying to delimit them by `words = array.split(&quot;\\t&quot;)`\r\n\r\nwords is an array that i have already initiated by `String[] words = {&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;}` so it has a fixed length of 6. However, words[i] can have a different length of words[j]. I absolutely want words to have its length fixed to 6. Why is that happening and how do i fix this?\r\n\r\nTried `for(int i=0; i&lt;x; i++){ String[] words = new String[6] }`","title":"java .split() method gives arrays of different lengths","body":"<p>I am reading lines from a tsv file, and then trying to delimit them by <code>words = array.split(&quot;\\t&quot;)</code></p>\n<p>words is an array that i have already initiated by <code>String[] words = {&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;}</code> so it has a fixed length of 6. However, words[i] can have a different length of words[j]. I absolutely want words to have its length fixed to 6. Why is that happening and how do i fix this?</p>\n<p>Tried <code>for(int i=0; i&lt;x; i++){ String[] words = new String[6] }</code></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668222619,"creation_date":1668222619,"answer_id":74410118,"question_id":74410046,"body_markdown":"You can&#39;t call methods that don&#39;t exist. There is no &#39;join&#39; that is a member of a String[] and which takes a single String argument.\r\n\r\n\r\nWhat you want is the static &#39;join&#39; method of the String class.\r\n\r\nThe signature of String.join is \r\n\r\n    public static String join(CharSequence delimiter,\r\n                              CharSequence... elements)\r\n\r\nwhich means your call needs to be\r\n\r\n    finished = String.join(&quot; &quot;, sentence);\r\n\r\nWhen in doubt, read the [documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-)!\r\n\r\n","title":"cannot invoke join(string) on string[]","body":"<p>You can't call methods that don't exist. There is no 'join' that is a member of a String[] and which takes a single String argument.</p>\n<p>What you want is the static 'join' method of the String class.</p>\n<p>The signature of String.join is</p>\n<pre><code>public static String join(CharSequence delimiter,\n                          CharSequence... elements)\n</code></pre>\n<p>which means your call needs to be</p>\n<pre><code>finished = String.join(&quot; &quot;, sentence);\n</code></pre>\n<p>When in doubt, read the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\">documentation</a>!</p>\n"}],"owner":{"account_id":12234231,"reputation":37,"user_id":14040119,"display_name":"Pickle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668222619,"creation_date":1668221362,"question_id":74410046,"body_markdown":"I am doing an project where I have to translate English into an another fictional language for an exercise. I have split the sentence into an array and has pushed that array through an if statement into another array, however when I try to do `sentence.join(&quot; &quot;)` I get the error `cannot invoke join(string) on the array type string[]`. Bellow is all of my code\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    import java.util.regex.*;\r\n\r\n    public class piglatin {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;welcome to the pig latin translator!&quot;);\r\n\r\n        //declares the variable\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Input: &quot;);\r\n        String userin = input.nextLine(); // takes in raw user inpu\r\n        String[] word = userin.split(&quot;[\\\\p{Punct}\\\\s]+&quot;);\r\n        String[] sentence = new String[userin.length()];\r\n        \r\n        //consonats: bcdfgjklmnpqstvxzhrwy / B, C, D, F, G, J, K, L, M, N, P, Q, S, T, V, X, Z and often H, R, W, Y.\r\n        //vowels aeiou pissibly y and w\r\n        \r\n        for(int i = 0; i &lt; word.length; i++){\r\n\r\n            if(word[i].length() &gt; 1 &amp;&amp; word[i]!= &quot; &quot;){\r\n                String firstletter = word[i].substring(0, 1);// gets the 1st letter of the word that the user has inputed\r\n                String secletter = word[i].substring(1, 2);// gets the 1st 2 letter olof the word that the user has inputed\r\n                int InLength = word[i].length();\r\n                if((firstletter.toLowerCase().matches(&quot;.*[bcdfgjklmnpqstvxzhrwy].*&quot;) &amp;&amp; (secletter.toLowerCase().matches(&quot;.*[aeiou].*&quot;)) &amp;&amp; word[i].length()&gt; 1)){\r\n\r\n                    String restofword1 = word[i].substring(1, InLength);\r\n                    String wordfinal = restofword1 + firstletter + &quot;ay&quot;;\r\n                    sentence[i] = wordfinal;\r\n\r\n                }if((firstletter.toLowerCase().matches(&quot;.*[bcdfgjklmnpqstvxzhrwy].*&quot;) &amp; (secletter.toLowerCase().matches(&quot;.*[bcdfgjklmnpqstvxzhrwy].*&quot;))&amp;&amp; word[i].length()&gt; 1)) {\r\n\r\n                    String restofword2 = word[i].substring(2, InLength);\r\n                    String wordfinal2 = restofword2 + firstletter + secletter + &quot;ay&quot;;\r\n                    sentence[i] = wordfinal2;\r\n\r\n                }if(firstletter.toLowerCase().matches(&quot;.*[aeiou].*&quot;)) {\r\n\r\n                    String wordfinal3 = word[i] + &quot;way&quot;;\r\n                    sentence[i] = wordfinal3;\r\n                    System. out. println();//removes the % sign at the end of the print statment\r\n\r\n                }if(word[i]==null){\r\n                    break;\r\n                }\r\n            }\r\n                \r\n        }\r\n        String finished = sentence.join(&quot; &quot;);\r\n        input.close();\r\n        }\r\n        \r\n    }\r\n\r\ndo you know how I can fix this?","title":"cannot invoke join(string) on string[]","body":"<p>I am doing an project where I have to translate English into an another fictional language for an exercise. I have split the sentence into an array and has pushed that array through an if statement into another array, however when I try to do <code>sentence.join(&quot; &quot;)</code> I get the error <code>cannot invoke join(string) on the array type string[]</code>. Bellow is all of my code</p>\n<pre><code>import java.lang.reflect.Array;\nimport java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.regex.*;\n\npublic class piglatin {\n\npublic static void main(String[] args) {\n\n    System.out.println(&quot;welcome to the pig latin translator!&quot;);\n\n    //declares the variable\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Input: &quot;);\n    String userin = input.nextLine(); // takes in raw user inpu\n    String[] word = userin.split(&quot;[\\\\p{Punct}\\\\s]+&quot;);\n    String[] sentence = new String[userin.length()];\n    \n    //consonats: bcdfgjklmnpqstvxzhrwy / B, C, D, F, G, J, K, L, M, N, P, Q, S, T, V, X, Z and often H, R, W, Y.\n    //vowels aeiou pissibly y and w\n    \n    for(int i = 0; i &lt; word.length; i++){\n\n        if(word[i].length() &gt; 1 &amp;&amp; word[i]!= &quot; &quot;){\n            String firstletter = word[i].substring(0, 1);// gets the 1st letter of the word that the user has inputed\n            String secletter = word[i].substring(1, 2);// gets the 1st 2 letter olof the word that the user has inputed\n            int InLength = word[i].length();\n            if((firstletter.toLowerCase().matches(&quot;.*[bcdfgjklmnpqstvxzhrwy].*&quot;) &amp;&amp; (secletter.toLowerCase().matches(&quot;.*[aeiou].*&quot;)) &amp;&amp; word[i].length()&gt; 1)){\n\n                String restofword1 = word[i].substring(1, InLength);\n                String wordfinal = restofword1 + firstletter + &quot;ay&quot;;\n                sentence[i] = wordfinal;\n\n            }if((firstletter.toLowerCase().matches(&quot;.*[bcdfgjklmnpqstvxzhrwy].*&quot;) &amp; (secletter.toLowerCase().matches(&quot;.*[bcdfgjklmnpqstvxzhrwy].*&quot;))&amp;&amp; word[i].length()&gt; 1)) {\n\n                String restofword2 = word[i].substring(2, InLength);\n                String wordfinal2 = restofword2 + firstletter + secletter + &quot;ay&quot;;\n                sentence[i] = wordfinal2;\n\n            }if(firstletter.toLowerCase().matches(&quot;.*[aeiou].*&quot;)) {\n\n                String wordfinal3 = word[i] + &quot;way&quot;;\n                sentence[i] = wordfinal3;\n                System. out. println();//removes the % sign at the end of the print statment\n\n            }if(word[i]==null){\n                break;\n            }\n        }\n            \n    }\n    String finished = sentence.join(&quot; &quot;);\n    input.close();\n    }\n    \n}\n</code></pre>\n<p>do you know how I can fix this?</p>\n"},{"tags":["java","libgdx","box2d"],"answers":[{"comments":[{"owner":{"account_id":18159636,"reputation":3,"user_id":13211194,"display_name":"54vvy"},"score":0,"creation_date":1668015046,"post_id":74379016,"comment_id":131307087,"body_markdown":"Good idea but it still doesn&#39;t answer my question which is more technical. I do not know HOW to do that ;)","body":"Good idea but it still doesn&#39;t answer my question which is more technical. I do not know HOW to do that ;)"},{"owner":{"display_name":"user14598232"},"score":0,"creation_date":1668015135,"post_id":74379016,"comment_id":131307120,"body_markdown":"I am having a hard time giving code solutions without seeing any code. You might want to add the code you are working on to the post :)","body":"I am having a hard time giving code solutions without seeing any code. You might want to add the code you are working on to the post :)"},{"owner":{"display_name":"user14598232"},"score":0,"creation_date":1668015320,"post_id":74379016,"comment_id":131307184,"body_markdown":"@54vvy I also found this post which seems to be asking a pretty similar questions to what you are asking. https://gamedev.stackexchange.com/questions/63642/coloring-box2d-body-in-libgdx","body":"@54vvy I also found this post which seems to be asking a pretty similar questions to what you are asking. <a href=\"https://gamedev.stackexchange.com/questions/63642/coloring-box2d-body-in-libgdx\" title=\"coloring box2d body in libgdx\">gamedev.stackexchange.com/questions/63642/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user14598232"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014892,"creation_date":1668014892,"answer_id":74379016,"question_id":74378980,"body_markdown":"Just make the box the same color as the background. https://stackoverflow.com/questions/18447017/adding-color-to-lines-box2d-edgeshape\r\nThis post shows how to change the color","title":"Make body borders invisible/different color","body":"<p>Just make the box the same color as the background. <a href=\"https://stackoverflow.com/questions/18447017/adding-color-to-lines-box2d-edgeshape\">Adding color to lines Box2d (EdgeShape)</a>\nThis post shows how to change the color</p>\n"},{"tags":[],"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668220353,"creation_date":1668219997,"answer_id":74409951,"question_id":74378980,"body_markdown":"What I can see on your screenshot is Box2d&#39;s shapes **for debugging**.\r\n\r\nThey were not designed to have adjustable visuals and are here only to show you the precise shapes and positions of your Box2d&#39;s entities.\r\n\r\nAccording to the wiki (https://libgdx.com/wiki/extensions/physics/box2d#debug-renderer):\r\n\r\n&gt; Debug Renderer \r\n&gt; \r\n&gt; The next thing we are going to do is setup our debug renderer. You generally will not use this in a released version of\r\n&gt; your game, but for testing purposes we will set it up now like so: ...\r\n\r\nYou will need some other kind of renderer if you want to adjust the visuals. For example:\r\n\r\n - ShapeRenderer, for simple shapes (https://libgdx.com/wiki/graphics/opengl-utils/rendering-shapes)\r\n - SpriteBatch, for textured visuals of any kind (https://libgdx.com/wiki/graphics/2d/spritebatch-textureregions-and-sprites)\r\n - PolygonSpriteBatch / CpuSpriteBatch / any custom renderer you may find or create yourself\r\n\r\nRetrieve the positions / shapes / sizes of your Box2d entities and use one of the more advanced renderers to draw shapes or textures in positions of your Box2d entities. Box2d is not designed for drawing stuff, it just simmulates the physics and gives you position / rotation of bodies and some other info about its world.","title":"Make body borders invisible/different color","body":"<p>What I can see on your screenshot is Box2d's shapes <strong>for debugging</strong>.</p>\n<p>They were not designed to have adjustable visuals and are here only to show you the precise shapes and positions of your Box2d's entities.</p>\n<p>According to the wiki (<a href=\"https://libgdx.com/wiki/extensions/physics/box2d#debug-renderer\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/extensions/physics/box2d#debug-renderer</a>):</p>\n<blockquote>\n<p>Debug Renderer</p>\n<p>The next thing we are going to do is setup our debug renderer. You generally will not use this in a released version of\nyour game, but for testing purposes we will set it up now like so: ...</p>\n</blockquote>\n<p>You will need some other kind of renderer if you want to adjust the visuals. For example:</p>\n<ul>\n<li>ShapeRenderer, for simple shapes (<a href=\"https://libgdx.com/wiki/graphics/opengl-utils/rendering-shapes\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/graphics/opengl-utils/rendering-shapes</a>)</li>\n<li>SpriteBatch, for textured visuals of any kind (<a href=\"https://libgdx.com/wiki/graphics/2d/spritebatch-textureregions-and-sprites\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/graphics/2d/spritebatch-textureregions-and-sprites</a>)</li>\n<li>PolygonSpriteBatch / CpuSpriteBatch / any custom renderer you may find or create yourself</li>\n</ul>\n<p>Retrieve the positions / shapes / sizes of your Box2d entities and use one of the more advanced renderers to draw shapes or textures in positions of your Box2d entities. Box2d is not designed for drawing stuff, it just simmulates the physics and gives you position / rotation of bodies and some other info about its world.</p>\n"}],"owner":{"account_id":18159636,"reputation":3,"user_id":13211194,"display_name":"54vvy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409951,"answer_count":2,"score":0,"last_activity_date":1668220353,"creation_date":1668014741,"question_id":74378980,"body_markdown":"Java LibGdx Box2d\r\n\r\nI would like to make body borders invisible or at least different color. One body should work as sensor and thus not be visible on the screen. I could not find a valid answer for that in hours and I cannot believe there is no such option in this library so I assume I must have missed one liner somewhere in Docs. \r\n\r\nI would like to make this square transparent/invisible or at least different color but still keep it to discover movement of these circles.\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/M0xgd.png)](https://i.stack.imgur.com/M0xgd.png)\r\n\r\nLooking over stackoverflow and googling it in docs. \r\n\r\nClosest things I found:\r\nhttps://stackoverflow.com/questions/47381020/make-invisible-body-line-box2d-libgdx\r\n\r\nso maybe the only solution to this is setting some flags in render method or unique render methods for each body?","title":"Make body borders invisible/different color","body":"<p>Java LibGdx Box2d</p>\n<p>I would like to make body borders invisible or at least different color. One body should work as sensor and thus not be visible on the screen. I could not find a valid answer for that in hours and I cannot believe there is no such option in this library so I assume I must have missed one liner somewhere in Docs.</p>\n<p>I would like to make this square transparent/invisible or at least different color but still keep it to discover movement of these circles.</p>\n<p><a href=\"https://i.stack.imgur.com/M0xgd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M0xgd.png\" alt=\"enter image description here\" /></a></p>\n<p>Looking over stackoverflow and googling it in docs.</p>\n<p>Closest things I found:\n<a href=\"https://stackoverflow.com/questions/47381020/make-invisible-body-line-box2d-libgdx\">Make invisible body line box2d libgdx</a></p>\n<p>so maybe the only solution to this is setting some flags in render method or unique render methods for each body?</p>\n"},{"tags":["java","redis","redisgraph"],"comments":[{"owner":{"account_id":1439380,"reputation":15777,"user_id":1750757,"accept_rate":83,"display_name":"VP."},"score":0,"creation_date":1667989936,"post_id":74368869,"comment_id":131297604,"body_markdown":"Isn&#39;t this doing the job for you? `GRAPH.QUERY movies &#39;CREATE (:Actor {name:&quot;Peter O\\&#39;Toole&quot;, desc:&quot;An \\&quot;actors\\&quot; actor&quot;, actor_id:1})&#39;`","body":"Isn&#39;t this doing the job for you? <code>GRAPH.QUERY movies &#39;CREATE (:Actor {name:&quot;Peter O\\&#39;Toole&quot;, desc:&quot;An \\&quot;actors\\&quot; actor&quot;, actor_id:1})&#39;</code>"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1668027988,"post_id":74368869,"comment_id":131311215,"body_markdown":"Thanks. The syntax is fine as long as I use `O\\&#39;Toole`, as you suggest. The point of my post is that the incoming data properties having double quotes are escaped `\\&quot;actors\\&quot;` but the incoming properties with single quotes are not, ie `O&#39;Toole`.","body":"Thanks. The syntax is fine as long as I use <code>O\\&#39;Toole</code>, as you suggest. The point of my post is that the incoming data properties having double quotes are escaped <code>\\&quot;actors\\&quot;</code> but the incoming properties with single quotes are not, ie <code>O&#39;Toole</code>."}],"answers":[{"tags":[],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668220320,"creation_date":1668220320,"answer_id":74409970,"question_id":74368869,"body_markdown":"OK. The issue was an artefact of trying to test the syntax by entering the commands into RedisInsight directly. As it turns out all one needs to do is to remove the double quotes from the valid json.\r\n\r\nSo, to be clear, based on normal valid json coming from the client app,\r\nthe formatter test is:\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\n// (Optional) Set pretty printing of json\r\nobjectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n// Do not surround property names with quotes. ie { firstname : &quot;Peter&quot; }\r\nobjectMapper.configure(JsonWriteFeature.QUOTE_FIELD_NAMES.mappedFeature(), false);\r\n\r\n// Make a Person\r\n// For this example this is done directly, \r\n// although in the Java this is done using\r\n// objectMapper.readValue(incomingJson, Person.class)\r\n\r\nPerson person = new Person(&quot;Peter&quot;, &quot;O&#39;Toole&quot;);\r\n\r\n// Set the desc property using escaped double quotes\r\nperson.setDesc(&quot;An \\&quot;actor&#39;s\\&quot; actor&quot;);\r\n\r\n// Convert Person to JSON without quoted property names\r\nString json = objectMapper.writeValueAsString(person);\r\n\r\nSystem.out.println(json);\r\n```\r\nyields:\r\n```\r\n{\r\n  firstname : &quot;Peter&quot;,\r\n  lastname : &quot;O&#39;Toole&quot;,\r\n  desc : &quot;An \\&quot;actor&#39;s\\&quot; actor&quot;\r\n}\r\n```\r\nand the command string is consumed by the Vertx Redis:\r\n```java\r\nVertx vertx = Vertx.vertx();\r\nprivate final Redis redisClient;\r\n\r\n// ...\r\n\r\nredisClient = Redis.createClient(vertx);\r\n\r\nString cmdStr = &quot;CREATE (:Actor {firstname:&quot;Peter&quot;, lastname: &quot;O&#39;Toole&quot;, desc:&quot;An \\&quot;actor&#39;s\\&quot; actor&quot;, actor_id:1})&quot;;\r\n\r\nFuture&lt;String&gt; futureResponse = redisClient.send(Request.cmd(Command.GRAPH_QUERY).arg(&quot;movies&quot;).arg(cmdStr))\r\n    .compose(response -&gt; {\r\n      Log.info(&quot;createRequest response=&quot; + response.toString());\r\n\r\n      return Future.succeededFuture(&quot;OK&quot;);\r\n    })\r\n    .onFailure(failure -&gt; {\r\n      Log.error(&quot;createRequest failure=&quot; + failure.toString());\r\n    });\r\n\r\n```\r\n:-)","title":"RedisGraph: how to persist properties in data containing BOTH single AND double quotes?","body":"<p>OK. The issue was an artefact of trying to test the syntax by entering the commands into RedisInsight directly. As it turns out all one needs to do is to remove the double quotes from the valid json.</p>\n<p>So, to be clear, based on normal valid json coming from the client app,\nthe formatter test is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\n\n// (Optional) Set pretty printing of json\nobjectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n// Do not surround property names with quotes. ie { firstname : &quot;Peter&quot; }\nobjectMapper.configure(JsonWriteFeature.QUOTE_FIELD_NAMES.mappedFeature(), false);\n\n// Make a Person\n// For this example this is done directly, \n// although in the Java this is done using\n// objectMapper.readValue(incomingJson, Person.class)\n\nPerson person = new Person(&quot;Peter&quot;, &quot;O'Toole&quot;);\n\n// Set the desc property using escaped double quotes\nperson.setDesc(&quot;An \\&quot;actor's\\&quot; actor&quot;);\n\n// Convert Person to JSON without quoted property names\nString json = objectMapper.writeValueAsString(person);\n\nSystem.out.println(json);\n</code></pre>\n<p>yields:</p>\n<pre><code>{\n  firstname : &quot;Peter&quot;,\n  lastname : &quot;O'Toole&quot;,\n  desc : &quot;An \\&quot;actor's\\&quot; actor&quot;\n}\n</code></pre>\n<p>and the command string is consumed by the Vertx Redis:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vertx vertx = Vertx.vertx();\nprivate final Redis redisClient;\n\n// ...\n\nredisClient = Redis.createClient(vertx);\n\nString cmdStr = &quot;CREATE (:Actor {firstname:&quot;Peter&quot;, lastname: &quot;O'Toole&quot;, desc:&quot;An \\&quot;actor's\\&quot; actor&quot;, actor_id:1})&quot;;\n\nFuture&lt;String&gt; futureResponse = redisClient.send(Request.cmd(Command.GRAPH_QUERY).arg(&quot;movies&quot;).arg(cmdStr))\n    .compose(response -&gt; {\n      Log.info(&quot;createRequest response=&quot; + response.toString());\n\n      return Future.succeededFuture(&quot;OK&quot;);\n    })\n    .onFailure(failure -&gt; {\n      Log.error(&quot;createRequest failure=&quot; + failure.toString());\n    });\n\n</code></pre>\n<p>:-)</p>\n"}],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409970,"answer_count":1,"score":0,"last_activity_date":1668220320,"creation_date":1667956028,"question_id":74368869,"body_markdown":"I am testing RedisGraph as a way to store my data which originates from a client as JSON. \r\n\r\nThe JSON passes through a bean for validation etc and I use Jackson to serialise the bean so the RedisGraph string is in the correct format. For completeness on that formatting step see the sample code at the end.\r\n\r\nThe data properties might contain sinqle quotes in valid JSON format eg: `O&#39;Toole`\r\n\r\n```\r\n{ &quot;name&quot; : &quot;Peter O&#39;Toole&quot;, &quot;desc&quot; : &quot;An actors actor&quot; }\r\n``` \r\n\r\nI can use a formatter as per the code block at the end to get the JSON into a format the RedisGraph command will allow which copes with the single quotes (without me needing to escape the data content - ie it can use what the client sends). eg this works:\r\n```\r\nGRAPH.QUERY movies &quot;CREATE (:Actor {name:\\&quot;Peter O&#39;Toole\\&quot;, desc:\\&quot;An actors actor\\&quot;, actor_id:1})&quot;\r\n```\r\nSo far, so good.\r\n\r\n\r\nNow, the problem: I am having trouble with the syntax to persist original JSON where it ALSO contains escaped double quotes. eg:\r\n```\r\n{ &quot;name&quot; : &quot;Peter O&#39;Toole&quot;, &quot;desc&quot; : &quot;An \\&quot;actors\\&quot; actor&quot; }\r\n```\r\nI don&#39;t want to have to escape or wrap the `desc` property value because it is already escaped as valid JSON. But then how do I construct the RedisGraph command so it persists the properties using the values it is given? ie containing escaped double quotes.\r\n\r\nIn other words, this throws a parsing error because of the `\\&quot;` in the `desc` property.\r\n\r\n```\r\nGRAPH.QUERY movies &quot;CREATE (:Actor {name:\\&quot;Peter O&#39;Toole\\&quot;, desc:\\&quot;An \\&quot;actors\\&quot; actor\\&quot;, actor_id:1})&quot;\r\n```\r\n\r\nGiven it would be quite common to want to persist data containing valid JSON escaped double quotes `\\&quot;` AND unescaped single quotes, there must be a way to do this. eg name and address data.\r\n\r\nAny ideas?\r\n\r\nThanks, Murray.\r\n\r\nPS: this doesnt work either: it chokes on the embedded `&#39;` in `O&#39;Toole`\r\n```\r\nGRAPH.QUERY movies &quot;CREATE (:Actor {name:\\&#39;Peter O&#39;Toole\\&#39;, desc:\\&#39;an \\&quot;actors\\&quot; actor\\&#39;, actor_id:3})&quot;\r\n```\r\n\r\n```lang-java\r\n// \\u007F is the &quot;delete&quot; character.\r\n// This is the highest char value Jackson allows and is\r\n// unlikely to be in the JSON (hopefully!)\r\nJsonFactory builder = new JsonFactoryBuilder().quoteChar(&#39;\\u007F&#39;).build();\r\n\r\nObjectMapper objectMapper = new ObjectMapper(builder);\r\n\r\n// Set pretty printing of json\r\nobjectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n// Do not surround property names with quotes. ie { firstName : &quot;Peter&quot; }\r\nobjectMapper.configure(JsonWriteFeature.QUOTE_FIELD_NAMES.mappedFeature(), false);\r\n\r\n// Make a Person\r\nPerson person = new Person(&quot;Peter&quot;, &quot;O&#39;Toole&quot;);\r\n\r\n// Set the desc property using embedded quotes\r\nperson.setDesc(&quot;An \\&quot;actors\\&quot; actor&quot;);\r\n\r\n// Convert Person to JSON\r\nString json = objectMapper.writeValueAsString(person);\r\n\r\n// Now convert your json to escape the double quotes around the string properties:\r\nString j2 = json.replaceAll(&quot;\\u007F&quot;, &quot;\\\\\\\\\\&quot;&quot;);\r\n\r\nSystem.out.println(j2);\r\n\r\n```\r\nThis yields:\r\n```\r\n{\r\n  firstName : \\&quot;Peter\\&quot;,\r\n  lastName : \\&quot;O&#39;Toole\\&quot;,\r\n  desc : \\&quot;An \\&quot;actors\\&quot; actor\\&quot;\r\n}\r\n```\r\nwhich is in a format Redis `GRAPH.QUERY movies &quot;CREATE...&quot;` can use (apart from the issue with `\\&quot;actors\\&quot;` as discussed above).","title":"RedisGraph: how to persist properties in data containing BOTH single AND double quotes?","body":"<p>I am testing RedisGraph as a way to store my data which originates from a client as JSON.</p>\n<p>The JSON passes through a bean for validation etc and I use Jackson to serialise the bean so the RedisGraph string is in the correct format. For completeness on that formatting step see the sample code at the end.</p>\n<p>The data properties might contain sinqle quotes in valid JSON format eg: <code>O'Toole</code></p>\n<pre><code>{ &quot;name&quot; : &quot;Peter O'Toole&quot;, &quot;desc&quot; : &quot;An actors actor&quot; }\n</code></pre>\n<p>I can use a formatter as per the code block at the end to get the JSON into a format the RedisGraph command will allow which copes with the single quotes (without me needing to escape the data content - ie it can use what the client sends). eg this works:</p>\n<pre><code>GRAPH.QUERY movies &quot;CREATE (:Actor {name:\\&quot;Peter O'Toole\\&quot;, desc:\\&quot;An actors actor\\&quot;, actor_id:1})&quot;\n</code></pre>\n<p>So far, so good.</p>\n<p>Now, the problem: I am having trouble with the syntax to persist original JSON where it ALSO contains escaped double quotes. eg:</p>\n<pre><code>{ &quot;name&quot; : &quot;Peter O'Toole&quot;, &quot;desc&quot; : &quot;An \\&quot;actors\\&quot; actor&quot; }\n</code></pre>\n<p>I don't want to have to escape or wrap the <code>desc</code> property value because it is already escaped as valid JSON. But then how do I construct the RedisGraph command so it persists the properties using the values it is given? ie containing escaped double quotes.</p>\n<p>In other words, this throws a parsing error because of the <code>\\&quot;</code> in the <code>desc</code> property.</p>\n<pre><code>GRAPH.QUERY movies &quot;CREATE (:Actor {name:\\&quot;Peter O'Toole\\&quot;, desc:\\&quot;An \\&quot;actors\\&quot; actor\\&quot;, actor_id:1})&quot;\n</code></pre>\n<p>Given it would be quite common to want to persist data containing valid JSON escaped double quotes <code>\\&quot;</code> AND unescaped single quotes, there must be a way to do this. eg name and address data.</p>\n<p>Any ideas?</p>\n<p>Thanks, Murray.</p>\n<p>PS: this doesnt work either: it chokes on the embedded <code>'</code> in <code>O'Toole</code></p>\n<pre><code>GRAPH.QUERY movies &quot;CREATE (:Actor {name:\\'Peter O'Toole\\', desc:\\'an \\&quot;actors\\&quot; actor\\', actor_id:3})&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// \\u007F is the &quot;delete&quot; character.\n// This is the highest char value Jackson allows and is\n// unlikely to be in the JSON (hopefully!)\nJsonFactory builder = new JsonFactoryBuilder().quoteChar('\\u007F').build();\n\nObjectMapper objectMapper = new ObjectMapper(builder);\n\n// Set pretty printing of json\nobjectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n// Do not surround property names with quotes. ie { firstName : &quot;Peter&quot; }\nobjectMapper.configure(JsonWriteFeature.QUOTE_FIELD_NAMES.mappedFeature(), false);\n\n// Make a Person\nPerson person = new Person(&quot;Peter&quot;, &quot;O'Toole&quot;);\n\n// Set the desc property using embedded quotes\nperson.setDesc(&quot;An \\&quot;actors\\&quot; actor&quot;);\n\n// Convert Person to JSON\nString json = objectMapper.writeValueAsString(person);\n\n// Now convert your json to escape the double quotes around the string properties:\nString j2 = json.replaceAll(&quot;\\u007F&quot;, &quot;\\\\\\\\\\&quot;&quot;);\n\nSystem.out.println(j2);\n\n</code></pre>\n<p>This yields:</p>\n<pre><code>{\n  firstName : \\&quot;Peter\\&quot;,\n  lastName : \\&quot;O'Toole\\&quot;,\n  desc : \\&quot;An \\&quot;actors\\&quot; actor\\&quot;\n}\n</code></pre>\n<p>which is in a format Redis <code>GRAPH.QUERY movies &quot;CREATE...&quot;</code> can use (apart from the issue with <code>\\&quot;actors\\&quot;</code> as discussed above).</p>\n"},{"tags":["java","spring","log4j"],"answers":[{"tags":[],"owner":{"account_id":1939878,"reputation":277,"user_id":1746310,"accept_rate":90,"display_name":"MetalSnake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1446195881,"creation_date":1446195881,"answer_id":33432200,"question_id":33395649,"body_markdown":"I changed the file location to \r\n\r\n    log4j.appender.R.File=${catalina.home}/logs/myapplication.log\r\n\r\nnow I get my logging messages written into the file. \r\n\r\nI have no idea why this work but write to myapplication.log (without a path) writes only log messages from other libraries in there. ","title":"log4j RollingFileAppender creates file but leaves it empty","body":"<p>I changed the file location to </p>\n\n<pre><code>log4j.appender.R.File=${catalina.home}/logs/myapplication.log\n</code></pre>\n\n<p>now I get my logging messages written into the file. </p>\n\n<p>I have no idea why this work but write to myapplication.log (without a path) writes only log messages from other libraries in there. </p>\n"},{"tags":[],"owner":{"account_id":4223167,"reputation":125,"user_id":3457432,"display_name":"Sebasti&#225;n V&#225;squez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668219759,"creation_date":1668219759,"answer_id":74409926,"question_id":33395649,"body_markdown":"I&#39;ve landed here looking for an answer to a similar problem. In my case, after making the first roll, the second file was being generated empty. My issue was that I was missing this sentence in my config:\r\n```log4j.appender.R.MaxBackupIndex=10 ```","title":"log4j RollingFileAppender creates file but leaves it empty","body":"<p>I've landed here looking for an answer to a similar problem. In my case, after making the first roll, the second file was being generated empty. My issue was that I was missing this sentence in my config:\n<code>log4j.appender.R.MaxBackupIndex=10 </code></p>\n"}],"owner":{"account_id":1939878,"reputation":277,"user_id":1746310,"accept_rate":90,"display_name":"MetalSnake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33432200,"answer_count":2,"score":1,"last_activity_date":1668219759,"creation_date":1446047461,"question_id":33395649,"body_markdown":"I have a log4j.properties file:\r\n\r\n    log4j.logger.com.mypackage=debug, R, stdout\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d [%t] %-5p %c - %m%n\r\n\r\n    log4j.appender.R=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.R.File=myapplication.log\r\n    log4j.appender.R.MaxFileSize=10MB\r\n    log4j.appender.R.MaxBackupIndex=10 \r\n    log4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\r\n\r\n\r\n\r\nlogging into stdout works fine, if I change &quot;debug&quot; in the first line to &quot;error&quot; I get only the error msgs in stdout.\r\n\r\nthe myapplication.log gets created but it&#39;s empty. If I remove the &quot;R&quot; from the first line, the file will not be created.\r\n\r\nll shows the file as\r\n\r\n    -rw-r--r--  1 &lt;myname&gt;  staff     0B Oct 28 16:26 myapplication.log\r\n\r\nI did a chmod 777 myapplication.log but that didn&#39;t help.\r\n\r\nI&#39;m on OS X 10.11.1 using STS 3.6.4\r\n\r\nI searched google and stackoverflow but couldn&#39;t find a solution so far. \r\n\r\nedit:\r\nI changed the line \r\n\r\n    log4j.logger.com.mypackage=debug, R, stdout\r\n\r\nto\r\n\r\n    log4j.rootLogger=debug, R, stdout\r\n\r\nNow the messages are written into the file, but only those that are not from mypackage. ","title":"log4j RollingFileAppender creates file but leaves it empty","body":"<p>I have a log4j.properties file:</p>\n\n<pre><code>log4j.logger.com.mypackage=debug, R, stdout\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d [%t] %-5p %c - %m%n\n\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=myapplication.log\nlog4j.appender.R.MaxFileSize=10MB\nlog4j.appender.R.MaxBackupIndex=10 \nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\n</code></pre>\n\n<p>logging into stdout works fine, if I change \"debug\" in the first line to \"error\" I get only the error msgs in stdout.</p>\n\n<p>the myapplication.log gets created but it's empty. If I remove the \"R\" from the first line, the file will not be created.</p>\n\n<p>ll shows the file as</p>\n\n<pre><code>-rw-r--r--  1 &lt;myname&gt;  staff     0B Oct 28 16:26 myapplication.log\n</code></pre>\n\n<p>I did a chmod 777 myapplication.log but that didn't help.</p>\n\n<p>I'm on OS X 10.11.1 using STS 3.6.4</p>\n\n<p>I searched google and stackoverflow but couldn't find a solution so far. </p>\n\n<p>edit:\nI changed the line </p>\n\n<pre><code>log4j.logger.com.mypackage=debug, R, stdout\n</code></pre>\n\n<p>to</p>\n\n<pre><code>log4j.rootLogger=debug, R, stdout\n</code></pre>\n\n<p>Now the messages are written into the file, but only those that are not from mypackage. </p>\n"},{"tags":["java","eclipse","maven","package"],"comments":[{"owner":{"account_id":1750817,"reputation":6108,"user_id":1599937,"accept_rate":82,"display_name":"Aliaksei Bulhak"},"score":0,"creation_date":1369768866,"post_id":16799710,"comment_id":24212217,"body_markdown":"show your pom.xml please","body":"show your pom.xml please"},{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":1,"creation_date":1369776285,"post_id":16799710,"comment_id":24215765,"body_markdown":"Its a huge pom. Is there a specific section you want me to paste here?","body":"Its a huge pom. Is there a specific section you want me to paste here?"}],"answers":[{"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1369776236,"post_id":16799735,"comment_id":24215742,"body_markdown":"I do not have that option. Instead I have different option.","body":"I do not have that option. Instead I have different option."},{"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"score":0,"creation_date":1369777065,"post_id":16799735,"comment_id":24216081,"body_markdown":"Does your project have the correct maven folder structure?  `/src/main/java`?","body":"Does your project have the correct maven folder structure?  <code>&#47;src&#47;main&#47;java</code>?"},{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1369777593,"post_id":16799735,"comment_id":24216277,"body_markdown":"I do not see any of these files in the checked out folder","body":"I do not see any of these files in the checked out folder"},{"owner":{"account_id":295883,"reputation":744,"user_id":600517,"accept_rate":71,"display_name":"Chip McCormick"},"score":0,"creation_date":1522431587,"post_id":16799735,"comment_id":86165387,"body_markdown":"Alternately, when adding maven projects, make sure to click &#39;add nested projects&#39;. For one that didn&#39;t import, I found that New &gt; Import Maven Project worked","body":"Alternately, when adding maven projects, make sure to click &#39;add nested projects&#39;. For one that didn&#39;t import, I found that New &gt; Import Maven Project worked"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1533121622,"post_id":16799735,"comment_id":90227571,"body_markdown":"Which file(s) needs to be deleted?","body":"Which file(s) needs to be deleted?"}],"tags":[],"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"comment_count":5,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1369777747,"creation_date":1369768713,"answer_id":16799735,"question_id":16799710,"body_markdown":"Try to:\r\n\r\n 1. Right click the project-&gt;Configure-&gt;Convert to Maven Project\r\n\r\n**---- Edit ----**\r\n\r\nIf this doesnt work, it is likely that someone checked in their environment files into your SVN.  If they checked in:\r\n\r\n - .project\r\n - .classpath\r\n - .settings/\r\n\r\nThey could be conflicting with your environment (different settings/plugins/versions of eclipse...).  Try dropping your project, deleting the folder/files, then remove these files from SVN, and repeat your initial process.  All of these files/folders will get generated during the import to eclipse.\r\n\r\n**---- Edit 2 ----**\r\n\r\nPer your recent edit to the question, you have a multi-module project.  If you only did this on the parent project, then there is no source folder.  So you wouldn&#39;t see it.  You should:\r\n\r\n 1. File-&gt;Import...\r\n 2. Choose Existing Maven Projects, Next\r\n 3. Set the Root Directory to &lt;PATH&gt;ecs/ecs-ejb, Finish\r\n 4. Repeat for all other modules.\r\n\r\nIn eclipse, each module of a multi-module maven project needs its own eclipse project.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Try to:</p>\n\n<ol>\n<li>Right click the project->Configure->Convert to Maven Project</li>\n</ol>\n\n<p><strong>---- Edit ----</strong></p>\n\n<p>If this doesnt work, it is likely that someone checked in their environment files into your SVN.  If they checked in:</p>\n\n<ul>\n<li>.project</li>\n<li>.classpath</li>\n<li>.settings/</li>\n</ul>\n\n<p>They could be conflicting with your environment (different settings/plugins/versions of eclipse...).  Try dropping your project, deleting the folder/files, then remove these files from SVN, and repeat your initial process.  All of these files/folders will get generated during the import to eclipse.</p>\n\n<p><strong>---- Edit 2 ----</strong></p>\n\n<p>Per your recent edit to the question, you have a multi-module project.  If you only did this on the parent project, then there is no source folder.  So you wouldn't see it.  You should:</p>\n\n<ol>\n<li>File->Import...</li>\n<li>Choose Existing Maven Projects, Next</li>\n<li>Set the Root Directory to ecs/ecs-ejb, Finish</li>\n<li>Repeat for all other modules.</li>\n</ol>\n\n<p>In eclipse, each module of a multi-module maven project needs its own eclipse project.</p>\n"},{"tags":[],"owner":{"account_id":2579172,"reputation":802,"user_id":2236236,"accept_rate":57,"display_name":"DairyLea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369768820,"creation_date":1369768820,"answer_id":16799765,"question_id":16799710,"body_markdown":"Try right click on project, Maven-&gt;Update Project... (or similar, the link name changes depending on version)\r\n\r\nThis works for me when adding new folders, but I have not encountered the problem when importing a project.\r\n","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Try right click on project, Maven->Update Project... (or similar, the link name changes depending on version)</p>\n\n<p>This works for me when adding new folders, but I have not encountered the problem when importing a project.</p>\n"},{"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1369776101,"post_id":16799947,"comment_id":24215687,"body_markdown":"I do not have convert to maven project option. Instead I have convert to Faces, Plugin and JavaScript Project. I guess since I imported as Maven Project, I do not see that option","body":"I do not have convert to maven project option. Instead I have convert to Faces, Plugin and JavaScript Project. I guess since I imported as Maven Project, I do not see that option"}],"tags":[],"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369769456,"creation_date":1369769456,"answer_id":16799947,"question_id":16799710,"body_markdown":"Right click the project, then click Configure -&gt; Convert to Maven Project.  If the packages still display as ordinary folders, then right click on the folder one level up (the one that is supposed to be the source folder), then click Build Path -&gt; Use as a source folder.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Right click the project, then click Configure -> Convert to Maven Project.  If the packages still display as ordinary folders, then right click on the folder one level up (the one that is supposed to be the source folder), then click Build Path -> Use as a source folder.</p>\n"},{"tags":[],"owner":{"account_id":4196019,"reputation":13,"user_id":3437424,"display_name":"Junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397499222,"creation_date":1397499222,"answer_id":23067199,"question_id":16799710,"body_markdown":"I had the same problem. I tried a lot of things that I read on internet but the only way that I found to solve my problem was exclude all of my workspace files (.metadata folder) and create another one.\r\n\r\nAfter that, I imported a existing maven project and all my problems are gone.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>I had the same problem. I tried a lot of things that I read on internet but the only way that I found to solve my problem was exclude all of my workspace files (.metadata folder) and create another one.</p>\n\n<p>After that, I imported a existing maven project and all my problems are gone.</p>\n"},{"comments":[{"owner":{"account_id":7311526,"reputation":448,"user_id":5570519,"accept_rate":62,"display_name":"Raju"},"score":0,"creation_date":1528278155,"post_id":30252510,"comment_id":88442777,"body_markdown":"Worked for me :)","body":"Worked for me :)"},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1588642536,"post_id":30252510,"comment_id":108971592,"body_markdown":"Worked for me as well.:)","body":"Worked for me as well.:)"},{"owner":{"account_id":3830848,"reputation":3636,"user_id":3176408,"accept_rate":77,"display_name":"Farooque"},"score":0,"creation_date":1650022024,"post_id":30252510,"comment_id":127024487,"body_markdown":"Worked for me as well. To the point answer.","body":"Worked for me as well. To the point answer."}],"tags":[],"owner":{"account_id":4963281,"reputation":171,"user_id":3993603,"display_name":"prateek mehta"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1431669478,"creation_date":1431669478,"answer_id":30252510,"question_id":16799710,"body_markdown":"Right click the project-&gt;Configure-&gt;Convert to Faceted Form\r\n\r\nThis solution worked for me","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Right click the project->Configure->Convert to Faceted Form</p>\n\n<p>This solution worked for me</p>\n"},{"tags":[],"owner":{"account_id":3294682,"reputation":11,"user_id":2772212,"display_name":"user2772212"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435306257,"creation_date":1435306257,"answer_id":31068166,"question_id":16799710,"body_markdown":"I also faced a similar issue.  I resolved it by downloading the correct apache maven plugins in the maven repository org / apache/ Maven/ plugins. IN my case, everything was working fine earlier and I had deleted .m2 repository completely. After that I started getting these issues with same iDE and newer IDE versions as well. The pom.xml showed error related to lifecycle mappings. On downloading the correct plugin, the workspace worked fine.\r\n","title":"imported maven project does not appear as java project. Shows folders","body":"<p>I also faced a similar issue.  I resolved it by downloading the correct apache maven plugins in the maven repository org / apache/ Maven/ plugins. IN my case, everything was working fine earlier and I had deleted .m2 repository completely. After that I started getting these issues with same iDE and newer IDE versions as well. The pom.xml showed error related to lifecycle mappings. On downloading the correct plugin, the workspace worked fine.</p>\n"},{"comments":[{"owner":{"account_id":7870888,"reputation":473,"user_id":5948237,"display_name":"Vivek Chavda"},"score":0,"creation_date":1478721950,"post_id":31069146,"comment_id":68271846,"body_markdown":"&quot;Change Project fact as Java&quot;   Where is this?","body":"&quot;Change Project fact as Java&quot;   Where is this?"},{"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"score":2,"creation_date":1478767432,"post_id":31069146,"comment_id":68286942,"body_markdown":"Hi @VivekChavda, mention are steps for &quot;Project Facets&quot;\n\n1. Select Right Click on Module you like to work with.\n2. Go to Properties\n3. Project Facets\n4. Right side you would see &quot;select box&quot;\n5. Select as Java\n\nLet me know if need more description","body":"Hi @VivekChavda, mention are steps for &quot;Project Facets&quot;  1. Select Right Click on Module you like to work with. 2. Go to Properties 3. Project Facets 4. Right side you would see &quot;select box&quot; 5. Select as Java  Let me know if need more description"},{"owner":{"account_id":7870888,"reputation":473,"user_id":5948237,"display_name":"Vivek Chavda"},"score":0,"creation_date":1478905156,"post_id":31069146,"comment_id":68352999,"body_markdown":"I don&#39;t see &#39;project facets&#39;. Do you know if it won&#39;t show if it already sees it as a Java/Maven project? Not a big deal, since your mvn eclipse:eclipse suggestion seemed to fix things, which I appreciate.","body":"I don&#39;t see &#39;project facets&#39;. Do you know if it won&#39;t show if it already sees it as a Java/Maven project? Not a big deal, since your mvn eclipse:eclipse suggestion seemed to fix things, which I appreciate."},{"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"score":0,"creation_date":1478969911,"post_id":31069146,"comment_id":68367445,"body_markdown":"May I know which IDE you are using?","body":"May I know which IDE you are using?"},{"owner":{"account_id":7870888,"reputation":473,"user_id":5948237,"display_name":"Vivek Chavda"},"score":0,"creation_date":1479754754,"post_id":31069146,"comment_id":68681951,"body_markdown":"Mars 4.5. It only gives the option to convert it to a Maven project.","body":"Mars 4.5. It only gives the option to convert it to a Maven project."},{"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"score":1,"creation_date":1479812104,"post_id":31069146,"comment_id":68705789,"body_markdown":"So Directly go to command Prompt and try to execute \nmvn eclipse:clean\nmvn eclipse:eclipse\nThis should resolve issue","body":"So Directly go to command Prompt and try to execute  mvn eclipse:clean mvn eclipse:eclipse This should resolve issue"}],"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1478967212,"creation_date":1435309607,"answer_id":31069146,"question_id":16799710,"body_markdown":"*Possibility is Module doesn&#39;t have .classpath.*\r\n\r\nKindly right click on Module and Change Project fact as Java.\r\n\r\n**else** \r\n\r\nIf you are using command Prompt.\r\n1. mvn eclipse:clean\r\n2. mvn eclipse:eclipse\r\n\r\n**else**\r\n\r\nDelete Project from Eclipse **don&#39;t** delete content from disk. remove .classpath and .project\r\n\r\nRe-import as maven existing Project\r\n","title":"imported maven project does not appear as java project. Shows folders","body":"<p><em>Possibility is Module doesn't have .classpath.</em></p>\n\n<p>Kindly right click on Module and Change Project fact as Java.</p>\n\n<p><strong>else</strong> </p>\n\n<p>If you are using command Prompt.\n1. mvn eclipse:clean\n2. mvn eclipse:eclipse</p>\n\n<p><strong>else</strong></p>\n\n<p>Delete Project from Eclipse <strong>don't</strong> delete content from disk. remove .classpath and .project</p>\n\n<p>Re-import as maven existing Project</p>\n"},{"tags":[],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442581394,"creation_date":1440503611,"answer_id":32203315,"question_id":16799710,"body_markdown":"Delete the metadata folder. Checkout again but select &quot;Checkout as a project configured using the New Project Wizard&quot; instead of &quot;Checkout as a project in the workspace&quot;.\r\nThen a New Project wizard will open, type maven there and select &quot;Checkout Maven Projects from SCM&quot; preferably or &quot;Maven Project&quot;. It should work. Remember this step should be performed for Maven Projects only. For normal Projects just select Java Project or whatever relevant type Eclipse project it is.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Delete the metadata folder. Checkout again but select \"Checkout as a project configured using the New Project Wizard\" instead of \"Checkout as a project in the workspace\".\nThen a New Project wizard will open, type maven there and select \"Checkout Maven Projects from SCM\" preferably or \"Maven Project\". It should work. Remember this step should be performed for Maven Projects only. For normal Projects just select Java Project or whatever relevant type Eclipse project it is.</p>\n"},{"tags":[],"owner":{"account_id":7298878,"reputation":21,"user_id":5562505,"display_name":"user5562505"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447524746,"creation_date":1447524746,"answer_id":33711656,"question_id":16799710,"body_markdown":"Right Click-&gt;Maven-&gt;Update Project.\r\n\r\nAbove works perfectly fine for Eclipse Juno and solves the problem.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Right Click->Maven->Update Project.</p>\n\n<p>Above works perfectly fine for Eclipse Juno and solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":378649,"reputation":67,"user_id":731510,"display_name":"Cathy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508976117,"creation_date":1508976117,"answer_id":46943817,"question_id":16799710,"body_markdown":"Check and make sure you have eclipse pointing at a Java JDK directory instead of a Java JRE directory.\r\n\r\nI had just installed eclipse and only the JRE was in the settings. I added the JDK path, changed it to the default and clicked on Maven -&gt; Update project. Then the packages appeared in Package Explorer.\r\n\r\nThe hint that helped me figure this out is that when I tried to use the refactor to rename a class, it wouldn&#39;t do it, complaining that it wasn&#39;t a JDK.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Check and make sure you have eclipse pointing at a Java JDK directory instead of a Java JRE directory.</p>\n\n<p>I had just installed eclipse and only the JRE was in the settings. I added the JDK path, changed it to the default and clicked on Maven -> Update project. Then the packages appeared in Package Explorer.</p>\n\n<p>The hint that helped me figure this out is that when I tried to use the refactor to rename a class, it wouldn't do it, complaining that it wasn't a JDK.</p>\n"},{"tags":[],"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526125808,"creation_date":1526125808,"answer_id":50305908,"question_id":16799710,"body_markdown":"Instead of importing as **Existing Maven Project**, follow below steps &lt;br/&gt;\r\nI assume that your folder has pom.xml, src/main and src/test. &lt;br/&gt; &lt;br/&gt;\r\nStep 1: Right click &gt; Create New &gt; Java Project &gt; Chose the project folder has pom.xml &lt;br/&gt;\r\nStep 2: Right Click on Project &gt; Configure &gt; Convert to Maven project\r\n","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Instead of importing as <strong>Existing Maven Project</strong>, follow below steps <br/>\nI assume that your folder has pom.xml, src/main and src/test. <br/> <br/>\nStep 1: Right click > Create New > Java Project > Chose the project folder has pom.xml <br/>\nStep 2: Right Click on Project > Configure > Convert to Maven project</p>\n"},{"tags":[],"owner":{"account_id":34293,"reputation":54,"user_id":96787,"display_name":"Chocolim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528206440,"creation_date":1528206440,"answer_id":50701749,"question_id":16799710,"body_markdown":"I got it working using Proyect --&gt; Properties --&gt; Project Facets\r\n\r\nIn my case was a web project so I checked Java and Dynamic Web Module","title":"imported maven project does not appear as java project. Shows folders","body":"<p>I got it working using Proyect --> Properties --> Project Facets</p>\n\n<p>In my case was a web project so I checked Java and Dynamic Web Module</p>\n"},{"tags":[],"owner":{"account_id":13814011,"reputation":1,"user_id":9971022,"display_name":"Suresh Laveti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529557808,"creation_date":1529557808,"answer_id":50960769,"question_id":16799710,"body_markdown":"Here is my solution please close the Project Explorer at the left top and open again.\r\n                               (or)\r\n1). Right Click on your miscellaneous project and choose project Explorer if available.","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Here is my solution please close the Project Explorer at the left top and open again.\n                               (or)\n1). Right Click on your miscellaneous project and choose project Explorer if available.</p>\n"},{"tags":[],"owner":{"account_id":16172029,"reputation":1,"user_id":11675626,"display_name":"pk_25"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561028645,"creation_date":1561028645,"answer_id":56684612,"question_id":16799710,"body_markdown":"Adding projects to working sets should help\r\n\r\n***try it -&gt;***\r\nright click the project -&gt; Maven -&gt; Assign Working Sets... -&gt; Add projects to working sets ","title":"imported maven project does not appear as java project. Shows folders","body":"<p>Adding projects to working sets should help</p>\n\n<p><strong><em>try it -></em></strong>\nright click the project -> Maven -> Assign Working Sets... -> Add projects to working sets </p>\n"},{"tags":[],"owner":{"account_id":11373312,"reputation":109,"user_id":8338329,"display_name":"dynamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668219119,"creation_date":1598883207,"answer_id":63672470,"question_id":16799710,"body_markdown":"You just need to change the nature of the project.\r\n\r\nFor MAC-&gt;\r\n\r\n    -&gt; Right click on project\r\n    -&gt; Properties -&gt; Check Project Natures\r\n    -&gt; Then add or remove accordingly if you are having a maven project then add Maven, add Java","title":"imported maven project does not appear as java project. Shows folders","body":"<p>You just need to change the nature of the project.</p>\n<p>For MAC-&gt;</p>\n<pre><code>-&gt; Right click on project\n-&gt; Properties -&gt; Check Project Natures\n-&gt; Then add or remove accordingly if you are having a maven project then add Maven, add Java\n</code></pre>\n"}],"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79997,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":16799735,"answer_count":15,"score":22,"last_activity_date":1668219119,"creation_date":1369768604,"question_id":16799710,"body_markdown":"I checked out the existing project source code from SVN to a folder in my system.\r\nThen I opened eclipse. Import Project-&gt; Existing Maven Project.\r\n\r\nIt imported without issues. However, Project Explorer shows it as just folders instead of packages. (Like when we create a package and then add classes to it, it shows a different icon for package root). I opened Navigator and Package Explorer as well. But they are showing them as folders as well.\r\n\r\nI tried:\r\n \r\n    mvn eclipse:clean\r\n    mvn eclipse:eclipse\r\n\r\non the root of the project. But it did not help.\r\n\r\nCan anyone help on this one?\r\n\r\nMy folder structure:\r\n\r\n    ecs-&gt;\r\n         ecs-ejb-&gt;\r\n            src/java/main/com/xxx\r\n            pom.xml\r\n         ecs-&gt;ear-&gt;\r\n            src/java/main/com/xxx\r\n            pom.xml\r\n         pom.xml","title":"imported maven project does not appear as java project. Shows folders","body":"<p>I checked out the existing project source code from SVN to a folder in my system.\nThen I opened eclipse. Import Project-> Existing Maven Project.</p>\n\n<p>It imported without issues. However, Project Explorer shows it as just folders instead of packages. (Like when we create a package and then add classes to it, it shows a different icon for package root). I opened Navigator and Package Explorer as well. But they are showing them as folders as well.</p>\n\n<p>I tried:</p>\n\n<pre><code>mvn eclipse:clean\nmvn eclipse:eclipse\n</code></pre>\n\n<p>on the root of the project. But it did not help.</p>\n\n<p>Can anyone help on this one?</p>\n\n<p>My folder structure:</p>\n\n<pre><code>ecs-&gt;\n     ecs-ejb-&gt;\n        src/java/main/com/xxx\n        pom.xml\n     ecs-&gt;ear-&gt;\n        src/java/main/com/xxx\n        pom.xml\n     pom.xml\n</code></pre>\n"},{"tags":["java","button","jframe","jbutton","frame"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1668214052,"post_id":74409526,"comment_id":131358738,"body_markdown":"I would suggest that you look into defining a timer and a callback function that draws a new shape each time it is called.  I found an article that presents this pretty cleanly:  https://www.informit.com/articles/article.aspx?p=1998555&amp;seqNum=3","body":"I would suggest that you look into defining a timer and a callback function that draws a new shape each time it is called.  I found an article that presents this pretty cleanly:  <a href=\"https://www.informit.com/articles/article.aspx?p=1998555&amp;seqNum=3\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1998555&amp;seqNum=3</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1668215064,"post_id":74409526,"comment_id":131358868,"body_markdown":"Don&#39;t use `==` or `!=` for reference types, unless you want to test if they are / are not the same Object. An instance of `String` is a reference type. Instead, use `.equals` or one of the other comparison methods in [`String` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html)","body":"Don&#39;t use <code>==</code> or <code>!=</code> for reference types, unless you want to test if they are / are not the same Object. An instance of <code>String</code> is a reference type. Instead, use <code>.equals</code> or one of the other comparison methods in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1668215231,"post_id":74409526,"comment_id":131358889,"body_markdown":"Why do you claim you can&#39;t use a loop inside an `actionPerformed` method? Do you get an error message? If so, edit the question, and paste a copy of the error message. Do you get unexpected behavior? If so, edit the question and describe what actually happens.","body":"Why do you claim you can&#39;t use a loop inside an <code>actionPerformed</code> method? Do you get an error message? If so, edit the question, and paste a copy of the error message. Do you get unexpected behavior? If so, edit the question and describe what actually happens."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1668215630,"post_id":74409526,"comment_id":131358940,"body_markdown":"[How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java) and you probably want to use a [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) instead of a loop","body":"<a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a> and you probably want to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a> instead of a loop"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1668215680,"post_id":74409526,"comment_id":131358948,"body_markdown":"@OldDogProgrammer *Why do you claim you can&#39;t use a loop inside an actionPerformed method?* - well you can but the GUI can&#39;t repaint itself until the loop finishes executing so you won&#39;t see any animation of objects being painted. I would suggest you should be using a Timer to schedule the animation. The Start button would start the Timer and each time the Timer fires you paint an object. The Stop button would top the Timer.","body":"@OldDogProgrammer <i>Why do you claim you can&#39;t use a loop inside an actionPerformed method?</i> - well you can but the GUI can&#39;t repaint itself until the loop finishes executing so you won&#39;t see any animation of objects being painted. I would suggest you should be using a Timer to schedule the animation. The Start button would start the Timer and each time the Timer fires you paint an object. The Stop button would top the Timer."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1668215803,"post_id":74409526,"comment_id":131358963,"body_markdown":"Your painting logic is wrong. Don&#39;t override paint(). Don&#39;t invoke paintComponents(). Instead you should be overriding paintComponent(...) and invoke super.paintComponent(...)","body":"Your painting logic is wrong. Don&#39;t override paint(). Don&#39;t invoke paintComponents(). Instead you should be overriding paintComponent(...) and invoke super.paintComponent(...)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668215811,"post_id":74409526,"comment_id":131358965,"body_markdown":"@camickr the point is that the question doesn&#39;t explain what the problem is.","body":"@camickr the point is that the question doesn&#39;t explain what the problem is."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1668215878,"post_id":74409526,"comment_id":131358973,"body_markdown":"You shouldn&#39;t really be overriding `paint` of top level containers, but putting that aside, why are you calling `super.paintComponents `?  Do you have any idea of all the work which has just been &quot;skipped&quot;?  I think you&#39;re in for a bit of a deep learning dive, starting with [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) which will help explain why the `while-loop` in the `actionPerformed` method won&#39;t work","body":"You shouldn&#39;t really be overriding <code>paint</code> of top level containers, but putting that aside, why are you calling <code>super.paintComponents </code>?  Do you have any idea of all the work which has just been &quot;skipped&quot;?  I think you&#39;re in for a bit of a deep learning dive, starting with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> which will help explain why the <code>while-loop</code> in the <code>actionPerformed</code> method won&#39;t work"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1668215899,"post_id":74409526,"comment_id":131358975,"body_markdown":"And [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) to get a better understand of how paint works and how you&#39;re suppose to work with it","body":"And <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> to get a better understand of how paint works and how you&#39;re suppose to work with it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668217814,"creation_date":1668217814,"answer_id":74409810,"question_id":74409526,"body_markdown":"Let&#39;s start with [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).  This is pretty basic Java 101 and something you REALLY need to understand.\r\n\r\nThe move onto [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html).  Swing is a single threaded.  This means that any long running or blocking operations executed within the context of the Event Dispatching Thread will cause the app to &quot;hang&quot; and prevent any further possible updates or interaction.\r\n\r\nSwing is also not thread safe, which means that you should only ever update the UI or state the UI depends on, from within the context of the Event Dispatching Thread.\r\n\r\nThis might seem like a dilemma, but Swing also provides a useful tool to help work with these constraints, see [How to user Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details.\r\n\r\nSwing also has a well defined and documented painting process, see [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) to get a better understand of how painting works in Swing and how you&#39;re suppose to work with it\r\n\r\nIt is generally recommended not to override the `paint` method of top level containers (like `JFrame`).  These tend to be composite components and trying to `paint` on them tends to end up not working very well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*Image from [How to Use Root Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html)*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CgcYp.gif\r\n\r\nAnd you really should make the time to learn how to use layout managers, see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).  They will save many hours of frustration.  The following examples makes use of both a `BorderLayout` and `CardLayout`.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private CardLayout cardLayout;\r\n            private JPanel showPane;\r\n            private DrawingPane drawingPane;\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                cardLayout = new CardLayout();\r\n                showPane = new JPanel(cardLayout);\r\n\r\n                showPane.add(new EmptyPane(), &quot;Empty&quot;);\r\n                drawingPane = new DrawingPane();\r\n                showPane.add(drawingPane, &quot;Drawing&quot;);\r\n\r\n                cardLayout.show(showPane, &quot;Empty&quot;);\r\n\r\n                add(showPane);\r\n\r\n                JButton startButton = new JButton(&quot;Start&quot;);\r\n                JButton stopButton = new JButton(&quot;Stop&quot;);\r\n                stopButton.setEnabled(false);\r\n\r\n                JPanel actionsPane = new JPanel();\r\n                actionsPane.add(startButton);\r\n                actionsPane.add(stopButton);\r\n\r\n                add(actionsPane, BorderLayout.SOUTH);\r\n\r\n                startButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        startButton.setEnabled(false);\r\n                        stopButton.setEnabled(true);\r\n\r\n                        drawingPane.start();\r\n                        cardLayout.show(showPane, &quot;Drawing&quot;);\r\n                    }\r\n                });\r\n                stopButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        startButton.setEnabled(true);\r\n                        stopButton.setEnabled(false);\r\n\r\n                        drawingPane.stop();\r\n                        cardLayout.show(showPane, &quot;Empty&quot;);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class EmptyPane extends JPanel {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n        }\r\n\r\n        public class DrawingPane extends JPanel {\r\n\r\n            private int h = 0, w = 0;\r\n            private Timer timer;\r\n\r\n            private Random rnd = new Random();\r\n\r\n            public DrawingPane() {\r\n            }\r\n\r\n            public void start() {\r\n                if (timer == null) {\r\n                    timer = new Timer(500, new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            h += 20;\r\n                            w += 20;\r\n                            repaint();\r\n                        }\r\n                    });\r\n                }\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n\r\n                int x = 0;\r\n                int y = 0;\r\n                if (w &lt; getWidth() &amp;&amp; h &lt; getHeight()) {\r\n                    x = rnd.nextInt(0, getWidth() - w);\r\n                    y = rnd.nextInt(0, getHeight() - w);\r\n                }\r\n\r\n                g2d.drawOval(x, y, w, h);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n&gt; Why make use of `CardLayout`?\r\n\r\nBased on the original code, when not painting, nothing is shown.  So I made use of a `CardLayout` to switch to an &quot;empty&quot; state.  Now, it wouldn&#39;t be very hard to derive a model to hold the state information and share that between the &quot;empty&quot; and &quot;running&quot; states and show something different on the &quot;empty&quot; state.  Equally, we could make use of the `glassPane`, but I think we&#39;re drifting of course.\r\n\r\nThe purpose is to demonstrate ONE possible solution for showing different states.\r\n\r\n&gt; Why use two different panes?\r\n\r\nFirst, we don&#39;t &quot;need&quot; `EmptyPane`, we could get away with just an instance of `JPanel`, but, if you wanted to display something else when not drawing, this is one approach you could take.\r\n\r\nThe original code had a `if` statement which means that when not drawing, nothing is painted, so why waste the time and instead just show a &quot;empty&quot; pane instead.\r\n\r\nAgain, this is just a demonstration of one possible solution.\r\n","title":"A loop in action performed method Doesn&#39;t Working in java","body":"<p>Let's start with <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>.  This is pretty basic Java 101 and something you REALLY need to understand.</p>\n<p>The move onto <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a>.  Swing is a single threaded.  This means that any long running or blocking operations executed within the context of the Event Dispatching Thread will cause the app to &quot;hang&quot; and prevent any further possible updates or interaction.</p>\n<p>Swing is also not thread safe, which means that you should only ever update the UI or state the UI depends on, from within the context of the Event Dispatching Thread.</p>\n<p>This might seem like a dilemma, but Swing also provides a useful tool to help work with these constraints, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to user Swing <code>Timer</code></a> for more details.</p>\n<p>Swing also has a well defined and documented painting process, see <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> to get a better understand of how painting works in Swing and how you're suppose to work with it</p>\n<p>It is generally recommended not to override the <code>paint</code> method of top level containers (like <code>JFrame</code>).  These tend to be composite components and trying to <code>paint</code> on them tends to end up not working very well.</p>\n<p><a href=\"https://i.stack.imgur.com/CgcYp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CgcYp.gif\" alt=\"enter image description here\" /></a></p>\n<p><em>Image from <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">How to Use Root Panes</a></em></p>\n<p>And you really should make the time to learn how to use layout managers, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>.  They will save many hours of frustration.  The following examples makes use of both a <code>BorderLayout</code> and <code>CardLayout</code>.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private CardLayout cardLayout;\n        private JPanel showPane;\n        private DrawingPane drawingPane;\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n\n            cardLayout = new CardLayout();\n            showPane = new JPanel(cardLayout);\n\n            showPane.add(new EmptyPane(), &quot;Empty&quot;);\n            drawingPane = new DrawingPane();\n            showPane.add(drawingPane, &quot;Drawing&quot;);\n\n            cardLayout.show(showPane, &quot;Empty&quot;);\n\n            add(showPane);\n\n            JButton startButton = new JButton(&quot;Start&quot;);\n            JButton stopButton = new JButton(&quot;Stop&quot;);\n            stopButton.setEnabled(false);\n\n            JPanel actionsPane = new JPanel();\n            actionsPane.add(startButton);\n            actionsPane.add(stopButton);\n\n            add(actionsPane, BorderLayout.SOUTH);\n\n            startButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    startButton.setEnabled(false);\n                    stopButton.setEnabled(true);\n\n                    drawingPane.start();\n                    cardLayout.show(showPane, &quot;Drawing&quot;);\n                }\n            });\n            stopButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    startButton.setEnabled(true);\n                    stopButton.setEnabled(false);\n\n                    drawingPane.stop();\n                    cardLayout.show(showPane, &quot;Empty&quot;);\n                }\n            });\n        }\n    }\n\n    public class EmptyPane extends JPanel {\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n    }\n\n    public class DrawingPane extends JPanel {\n\n        private int h = 0, w = 0;\n        private Timer timer;\n\n        private Random rnd = new Random();\n\n        public DrawingPane() {\n        }\n\n        public void start() {\n            if (timer == null) {\n                timer = new Timer(500, new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        h += 20;\n                        w += 20;\n                        repaint();\n                    }\n                });\n            }\n            timer.start();\n        }\n\n        public void stop() {\n            if (timer != null) {\n                timer.stop();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n\n            int x = 0;\n            int y = 0;\n            if (w &lt; getWidth() &amp;&amp; h &lt; getHeight()) {\n                x = rnd.nextInt(0, getWidth() - w);\n                y = rnd.nextInt(0, getHeight() - w);\n            }\n\n            g2d.drawOval(x, y, w, h);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>Why make use of <code>CardLayout</code>?</p>\n</blockquote>\n<p>Based on the original code, when not painting, nothing is shown.  So I made use of a <code>CardLayout</code> to switch to an &quot;empty&quot; state.  Now, it wouldn't be very hard to derive a model to hold the state information and share that between the &quot;empty&quot; and &quot;running&quot; states and show something different on the &quot;empty&quot; state.  Equally, we could make use of the <code>glassPane</code>, but I think we're drifting of course.</p>\n<p>The purpose is to demonstrate ONE possible solution for showing different states.</p>\n<blockquote>\n<p>Why use two different panes?</p>\n</blockquote>\n<p>First, we don't &quot;need&quot; <code>EmptyPane</code>, we could get away with just an instance of <code>JPanel</code>, but, if you wanted to display something else when not drawing, this is one approach you could take.</p>\n<p>The original code had a <code>if</code> statement which means that when not drawing, nothing is painted, so why waste the time and instead just show a &quot;empty&quot; pane instead.</p>\n<p>Again, this is just a demonstration of one possible solution.</p>\n"},{"tags":[],"owner":{"account_id":26906080,"reputation":1,"user_id":20482393,"display_name":"Mad_Oum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668218549,"creation_date":1668218549,"answer_id":74409863,"question_id":74409526,"body_markdown":"You have to add these lines before actionPerformed method,\r\n\r\n\r\n     start.setActionCommand(&quot;start&quot;);\r\n     stop.setActionCommand(&quot;stop&quot;);","title":"A loop in action performed method Doesn&#39;t Working in java","body":"<p>You have to add these lines before actionPerformed method,</p>\n<pre><code> start.setActionCommand(&quot;start&quot;);\n stop.setActionCommand(&quot;stop&quot;);\n</code></pre>\n"}],"owner":{"account_id":22729017,"reputation":35,"user_id":17617579,"display_name":"harsha lohana"},"comment_count":9,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668272473,"accepted_answer_id":74409810,"answer_count":2,"score":-3,"last_activity_date":1668218549,"creation_date":1668213668,"question_id":74409526,"body_markdown":"Question: Write  JFrame that when you press the &quot;start&quot; button draws, and keep drawing random colored and sized filled ovals until the &quot;stop&quot; button is pressed.\r\nProblem: loop inside the actionPerformed method() Doesn&#39;t Work.\r\nThe Code: \r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    public class p6 extends JFrame implements ActionListener\r\n    {\r\n    \tString str;\r\n    \tJButton start,stop;\r\n    \tint h=0,w=0;\r\n    \tp6()\r\n    \t{\r\n    \t\tsetVisible(true);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tsetSize(1500,1000);\r\n    \t\tstart= new JButton(&quot;Start&quot;);\r\n    \t\tstop= new JButton(&quot;Stop&quot;);\r\n    \t\t\r\n    \t\tsetLayout(null);\r\n    \t\t\r\n    \t\tstart.setBounds(500, 50, 100,30);\r\n    \t\tstop.setBounds(610, 50, 100,30);\r\n    \t\t\r\n    \t\tadd(start);\r\n    \t\tadd(stop);\r\n    \t\t\r\n    \t\tstart.addActionListener(this);\r\n    \t\tstop.addActionListener(this);\r\n    \t}\r\n    \tpublic void actionPerformed(ActionEvent ae)\r\n    \t{\r\n    \t\tString c=ae.getActionCommand();\r\n    \t\tif(c==&quot;Start&quot;)\r\n    \t\t{\r\n    \t\t\twhile(c!=&quot;Stop&quot;)\r\n    \t\t\t{\r\n    \t\t\t\th+=20;\r\n    \t\t\t\tw+=20;\r\n    \t\t\t}\t\t\t\r\n    \t\t\trepaint();\r\n    \t\t}\r\n    \t\tstr=&quot; &quot;+h+&quot; &quot;+w;\r\n    \t\r\n    \r\n        }\r\n        \tpublic void paint(Graphics g)\r\n        \t{\r\n        \t\tsuper.paintComponents(g);\r\n        \t\tg.drawString(str, 100, 100);\r\n        \t\t//g.drawOval(100, 100, 100, 100);\r\n        \t\tg.drawOval((int)Math.random()*2000,(int) Math.random()*2000, w,h);\r\n        \t}\r\n        \tpublic static void main(String[] args) \r\n            {\r\n        \t\tnew p6();\r\n        \t}\r\n        }\r\n\r\n","title":"A loop in action performed method Doesn&#39;t Working in java","body":"<p>Question: Write  JFrame that when you press the &quot;start&quot; button draws, and keep drawing random colored and sized filled ovals until the &quot;stop&quot; button is pressed.\nProblem: loop inside the actionPerformed method() Doesn't Work.\nThe Code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class p6 extends JFrame implements ActionListener\n{\n    String str;\n    JButton start,stop;\n    int h=0,w=0;\n    p6()\n    {\n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setSize(1500,1000);\n        start= new JButton(&quot;Start&quot;);\n        stop= new JButton(&quot;Stop&quot;);\n        \n        setLayout(null);\n        \n        start.setBounds(500, 50, 100,30);\n        stop.setBounds(610, 50, 100,30);\n        \n        add(start);\n        add(stop);\n        \n        start.addActionListener(this);\n        stop.addActionListener(this);\n    }\n    public void actionPerformed(ActionEvent ae)\n    {\n        String c=ae.getActionCommand();\n        if(c==&quot;Start&quot;)\n        {\n            while(c!=&quot;Stop&quot;)\n            {\n                h+=20;\n                w+=20;\n            }           \n            repaint();\n        }\n        str=&quot; &quot;+h+&quot; &quot;+w;\n    \n\n    }\n        public void paint(Graphics g)\n        {\n            super.paintComponents(g);\n            g.drawString(str, 100, 100);\n            //g.drawOval(100, 100, 100, 100);\n            g.drawOval((int)Math.random()*2000,(int) Math.random()*2000, w,h);\n        }\n        public static void main(String[] args) \n        {\n            new p6();\n        }\n    }\n</code></pre>\n"},{"tags":["java","pool"],"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1668219327,"post_id":74409852,"comment_id":131359363,"body_markdown":"I have used threadlocal for similar stuff.","body":"I have used threadlocal for similar stuff."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668219466,"post_id":74409852,"comment_id":131359379,"body_markdown":"I don&#39;t understand why you think the local variable `bb` is or might be a problem. Can you explain further?","body":"I don&#39;t understand why you think the local variable <code>bb</code> is or might be a problem. Can you explain further?"},{"owner":{"account_id":6245015,"reputation":483,"user_id":4857290,"display_name":"Ralms"},"score":0,"creation_date":1668220602,"post_id":74409852,"comment_id":131359508,"body_markdown":"@tgdavies trying to reduce GC to a minimum due to the high frequency the getByteBuffer() is called. On my app, it can happily occur over 1000 times a second.","body":"@tgdavies trying to reduce GC to a minimum due to the high frequency the getByteBuffer() is called. On my app, it can happily occur over 1000 times a second."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668221048,"post_id":74409852,"comment_id":131359561,"body_markdown":"I don&#39;t understand how/why you think the local variable `bb` could affect gc. Its lifetime is well defined.","body":"I don&#39;t understand how/why you think the local variable <code>bb</code> could affect gc. Its lifetime is well defined."},{"owner":{"account_id":6245015,"reputation":483,"user_id":4857290,"display_name":"Ralms"},"score":0,"creation_date":1668221219,"post_id":74409852,"comment_id":131359578,"body_markdown":"@tgdavies hence my second question, trying to understand more and learn about gc. In my head I&#39;m creating an object by creating the temporary variable `bb`, however, I&#39;m not sure if GC doesn&#39;t happen since the reference that `bb` is never lost. Could you elaborate or provide some material for me to read on this? Thanks","body":"@tgdavies hence my second question, trying to understand more and learn about gc. In my head I&#39;m creating an object by creating the temporary variable <code>bb</code>, however, I&#39;m not sure if GC doesn&#39;t happen since the reference that <code>bb</code> is never lost. Could you elaborate or provide some material for me to read on this? Thanks"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668225694,"post_id":74409852,"comment_id":131360013,"body_markdown":"You create an object when you use `new`, or some function which calls `new` like `ByteBuffer.allocate(1000000)` (which calls `return new HeapByteBuffer(capacity, capacity, null);`). Assigning a reference to another reference doesn&#39;t create an object.","body":"You create an object when you use <code>new</code>, or some function which calls <code>new</code> like <code>ByteBuffer.allocate(1000000)</code> (which calls <code>return new HeapByteBuffer(capacity, capacity, null);</code>). Assigning a reference to another reference doesn&#39;t create an object."}],"owner":{"account_id":6245015,"reputation":483,"user_id":4857290,"display_name":"Ralms"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668218423,"creation_date":1668218423,"question_id":74409852,"body_markdown":"On a networking app, which is handling hundreds of packets per second, in order to minimize GC and allocations, I&#39;ve wrote a simple &quot;PoolManager&quot;.\r\nThis PoolManager can be called from different threads, on a lock-free approach.\r\n\r\nHere is the class: \r\n```\r\npublic class ByteBufferPoolManager {\r\n\r\n    private final static ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBufferQueue = new ConcurrentLinkedQueue&lt;&gt;();\r\n    private final static ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBufferNativeQueue = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    public static ByteBuffer getByteBuffer(){\r\n        var bb = byteBufferQueue.poll();\r\n        if(bb == null){\r\n            return ByteBuffer.allocate(1000000);\r\n        }\r\n        return bb;\r\n    }\r\n\r\n    public static ByteBuffer getDirectByteBuffer(){\r\n        var bb = byteBufferNativeQueue.poll();\r\n        if(bb == null){\r\n            return ByteBuffer.allocateDirect(1000000).order(ByteOrder.nativeOrder());\r\n        }\r\n        return bb;\r\n    }\r\n\r\n    public static void releaseByteBuffer(ByteBuffer bb){\r\n\r\n        bb.clear();\r\n\r\n        if(bb.isDirect())\r\n        {\r\n            byteBufferNativeQueue.add(bb);\r\n        }\r\n        else\r\n        {\r\n            byteBufferQueue.add(bb);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy 2 questions are: \r\n\r\n 1. Is there a thread safe way to remove the need to have the temporary variable `bb`, which can be null if the Queue doesn&#39;t have any objects? \r\n 2. On a situation where the queue does have objects to return, will the temporary `bb` cause a lot of GC, considering that technically just holds the reference for the object temporarily? Is there a way for me to check this?\r\n\r\nThank you. ","title":"Best way to develop Thread safe Pool Object provider in Java, with ConcurrentLinkedQueue?","body":"<p>On a networking app, which is handling hundreds of packets per second, in order to minimize GC and allocations, I've wrote a simple &quot;PoolManager&quot;.\nThis PoolManager can be called from different threads, on a lock-free approach.</p>\n<p>Here is the class:</p>\n<pre><code>public class ByteBufferPoolManager {\n\n    private final static ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBufferQueue = new ConcurrentLinkedQueue&lt;&gt;();\n    private final static ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBufferNativeQueue = new ConcurrentLinkedQueue&lt;&gt;();\n\n    public static ByteBuffer getByteBuffer(){\n        var bb = byteBufferQueue.poll();\n        if(bb == null){\n            return ByteBuffer.allocate(1000000);\n        }\n        return bb;\n    }\n\n    public static ByteBuffer getDirectByteBuffer(){\n        var bb = byteBufferNativeQueue.poll();\n        if(bb == null){\n            return ByteBuffer.allocateDirect(1000000).order(ByteOrder.nativeOrder());\n        }\n        return bb;\n    }\n\n    public static void releaseByteBuffer(ByteBuffer bb){\n\n        bb.clear();\n\n        if(bb.isDirect())\n        {\n            byteBufferNativeQueue.add(bb);\n        }\n        else\n        {\n            byteBufferQueue.add(bb);\n        }\n    }\n}\n</code></pre>\n<p>My 2 questions are:</p>\n<ol>\n<li>Is there a thread safe way to remove the need to have the temporary variable <code>bb</code>, which can be null if the Queue doesn't have any objects?</li>\n<li>On a situation where the queue does have objects to return, will the temporary <code>bb</code> cause a lot of GC, considering that technically just holds the reference for the object temporarily? Is there a way for me to check this?</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","database","api"],"comments":[{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":2,"creation_date":1667974340,"post_id":69826930,"comment_id":131293056,"body_markdown":"A `404` error means that a resource can&#39;t be found at the URL. Have you confirmed that you can `POST http://localhost:8082/v1/persons/getAllIds` using a tool like Postman?","body":"A <code>404</code> error means that a resource can&#39;t be found at the URL. Have you confirmed that you can <code>POST http:&#47;&#47;localhost:8082&#47;v1&#47;persons&#47;getAllIds</code> using a tool like Postman?"},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1668218657,"post_id":69826930,"comment_id":131359290,"body_markdown":"isnt that supposed to be get and not POST? you are getting stuff and not posting","body":"isnt that supposed to be get and not POST? you are getting stuff and not posting"}],"answers":[{"tags":[],"owner":{"account_id":11016438,"reputation":11,"user_id":9028341,"display_name":"Fabrizio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668098065,"creation_date":1668095751,"answer_id":74391861,"question_id":69826930,"body_markdown":"It seems that the URL was not found at\r\n(POST) http://localhost:8082/v1/persons/getAllIds\r\nI recommend to make sure that you have that endpoint running and to \r\nhit it with Postman.","title":"WebClientResponseException$NotFound: 404 Not Found","body":"<p>It seems that the URL was not found at\n(POST) http://localhost:8082/v1/persons/getAllIds\nI recommend to make sure that you have that endpoint running and to\nhit it with Postman.</p>\n"}],"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668218060,"creation_date":1635950882,"question_id":69826930,"body_markdown":"I&#39;m trying to call another API and it gives me WebClientResponseException\r\n\r\n```\r\n2021-11-03 19:54:55.762 [5a2a9625f3c7ff19/5a2a9625f3c7ff19] ERROR\r\n        {FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} 23556 [ctor-http-nio-4] r.u.Loggers$Slf4JLogger                 \r\n        {cyan} : onError(org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST http://localhost:8082/v1/persons/getAllIds)\r\n2021-11-03 19:54:55.788 [5a2a9625f3c7ff19/5a2a9625f3c7ff19] ERROR\r\n        {FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} 23556 [ctor-http-nio-4] r.u.Loggers$Slf4JLogger                 \r\n        {cyan} : \r\n\r\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST http://localhost:8082/v1/persons/getAllIds\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ 404 from POST http://localhost:8082/v1/persons/getAllIds [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:209)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100)\r\n\t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:96)\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92)\r\n```\r\n\r\n\r\n   \r\n\r\n    @Override\r\n    public Flux&lt;Person&gt; getByIds(List&lt;String&gt; ids) {\r\n        log.info(&quot;getIds :\t{}&quot;,ids);\r\n        return webClient.post()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(config.getIdURL()).build())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(Mono.just(ids), List.class)\r\n                .header(geConstant.X_APP_ID_KEY, geConstant.X_APP_ID_VALUE)\r\n                .header(geConstant.X_API_KEY_KEY, geConstant.X_API_KEY_VALUE)\r\n                .retrieve()\r\n                .bodyToFlux(Person.class)\r\n                .log(&quot;Find ids : &quot; + ids)\r\n                .retryBackoff(3, Duration.ofSeconds(30));\r\n    }\r\n\r\n\r\n","title":"WebClientResponseException$NotFound: 404 Not Found","body":"<p>I'm trying to call another API and it gives me WebClientResponseException</p>\n<pre><code>2021-11-03 19:54:55.762 [5a2a9625f3c7ff19/5a2a9625f3c7ff19] ERROR\n        {FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} 23556 [ctor-http-nio-4] r.u.Loggers$Slf4JLogger                 \n        {cyan} : onError(org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST http://localhost:8082/v1/persons/getAllIds)\n2021-11-03 19:54:55.788 [5a2a9625f3c7ff19/5a2a9625f3c7ff19] ERROR\n        {FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} 23556 [ctor-http-nio-4] r.u.Loggers$Slf4JLogger                 \n        {cyan} : \n\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST http://localhost:8082/v1/persons/getAllIds\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ 404 from POST http://localhost:8082/v1/persons/getAllIds [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:209)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100)\n        at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:96)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92)\n</code></pre>\n<pre><code>@Override\npublic Flux&lt;Person&gt; getByIds(List&lt;String&gt; ids) {\n    log.info(&quot;getIds :  {}&quot;,ids);\n    return webClient.post()\n            .uri(uriBuilder -&gt; uriBuilder.path(config.getIdURL()).build())\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(Mono.just(ids), List.class)\n            .header(geConstant.X_APP_ID_KEY, geConstant.X_APP_ID_VALUE)\n            .header(geConstant.X_API_KEY_KEY, geConstant.X_API_KEY_VALUE)\n            .retrieve()\n            .bodyToFlux(Person.class)\n            .log(&quot;Find ids : &quot; + ids)\n            .retryBackoff(3, Duration.ofSeconds(30));\n}\n</code></pre>\n"},{"tags":["java","multithreading","asynchronous","executorservice","completable-future"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":1,"creation_date":1668163899,"post_id":74401314,"comment_id":131344458,"body_markdown":"what you want to achieve? If you change you line to `if (i == 1) return CompletableFuture.failedFuture(new RuntimeException(&quot;I cannot be 1&quot;));` then it will continue","body":"what you want to achieve? If you change you line to <code>if (i == 1) return CompletableFuture.failedFuture(new RuntimeException(&quot;I cannot be 1&quot;));</code> then it will continue"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1668175140,"post_id":74401314,"comment_id":131348392,"body_markdown":"@silentsudo told you a way to fix it. Here&#39;s why it&#39;s broken: Your `run(int&#160;i)` method immediately throws a `new&#160;RuntimeException()` (it&#39;s always called with `i==1`). There&#39;s no handler that will catch that exception in your own code. No way for the `future` to be completed.","body":"@silentsudo told you a way to fix it. Here&#39;s why it&#39;s broken: Your <code>run(int i)</code> method immediately throws a <code>new RuntimeException()</code> (it&#39;s always called with <code>i==1</code>). There&#39;s no handler that will catch that exception in your own code. No way for the <code>future</code> to be completed."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668182641,"post_id":74401314,"comment_id":131351134,"body_markdown":"As the previous commenters already said, there is no attempt to complete the future when `run(i)` fails immediately. The other question is why you have such a strange structure, i.e. `.handle((output, error) -&gt; …).thenCompose(u -&gt; u).thenApply(future::complete).exceptionally( future::completeExceptionally)` instead of simply `.handle((output, error) -&gt; { if(error != null) future.completeExceptionally(error instanceof CompletionException? error.getCause(): error); else future.complete(output); });` And why use `schedule` with a zero time, instead of just `execute`?","body":"As the previous commenters already said, there is no attempt to complete the future when <code>run(i)</code> fails immediately. The other question is why you have such a strange structure, i.e. <code>.handle((output, error) -&gt; …).thenCompose(u -&gt; u).thenApply(future::complete).exceptionally( future::completeExceptionally)</code> instead of simply <code>.handle((output, error) -&gt; { if(error != null) future.completeExceptionally(error instanceof CompletionException? error.getCause(): error); else future.complete(output); });</code> And why use <code>schedule</code> with a zero time, instead of just <code>execute</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668183193,"post_id":74401314,"comment_id":131351331,"body_markdown":"Your entire `test(int i)` method could be implemented as `return completedFuture(i).thenComposeAsync(this::run, EXECUTOR);` If you want to schedule the execution of the `run(int i)` with an actual, non-zero delay, you could do this like `return completedFuture(i).thenComposeAsync(this::run, r -&gt; EXECUTOR.schedule(r, 5, TimeUnit.SECONDS));` Both variants solve your issue and are obviously much simpler.","body":"Your entire <code>test(int i)</code> method could be implemented as <code>return completedFuture(i).thenComposeAsync(this::run, EXECUTOR);</code> If you want to schedule the execution of the <code>run(int i)</code> with an actual, non-zero delay, you could do this like <code>return completedFuture(i).thenComposeAsync(this::run, r -&gt; EXECUTOR.schedule(r, 5, TimeUnit.SECONDS));</code> Both variants solve your issue and are obviously much simpler."},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668213034,"post_id":74401314,"comment_id":131358591,"body_markdown":"@Holger i tried to simulate an issue in my org code to understand where the issue is. Removed the scheduling as its not pertinent to use case.","body":"@Holger i tried to simulate an issue in my org code to understand where the issue is. Removed the scheduling as its not pertinent to use case."},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668213274,"post_id":74401314,"comment_id":131358622,"body_markdown":"@Holger would the first handle catch the exception? If not why would not even the complete exceptionally at end catch it? Could any of you explain a little more if possible? I though the first handle itself would have got the exception.","body":"@Holger would the first handle catch the exception? If not why would not even the complete exceptionally at end catch it? Could any of you explain a little more if possible? I though the first handle itself would have got the exception."},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668213295,"post_id":74401314,"comment_id":131358626,"body_markdown":"@silentsudo ^^ same","body":"@silentsudo ^^ same"},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668213670,"post_id":74401314,"comment_id":131358681,"body_markdown":"Initially noticed this when one junit failed in the exceptional completion. This code also tries retry on the function call. May be that was causing that issue. Will try to add those code as well","body":"Initially noticed this when one junit failed in the exceptional completion. This code also tries retry on the function call. May be that was causing that issue. Will try to add those code as well"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668214469,"post_id":74401314,"comment_id":131358786,"body_markdown":"The first `handle` is never invoked if `run` throws an exception, because in that case, `run` doesn&#39;t return a `CompletionStage` to invoke `handle` upon. Using `CompletionStage` doesn&#39;t change the fundamental execution model of Java: if a method throws an exception, it cannot also return a value.","body":"The first <code>handle</code> is never invoked if <code>run</code> throws an exception, because in that case, <code>run</code> doesn&#39;t return a <code>CompletionStage</code> to invoke <code>handle</code> upon. Using <code>CompletionStage</code> doesn&#39;t change the fundamental execution model of Java: if a method throws an exception, it cannot also return a value."},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668217704,"post_id":74401314,"comment_id":131359179,"body_markdown":"@TimMoore used the suggested code by holger. It is working now. and i saw in this code the handle catches the exception, even though its not inside a completionstage. Why is the handle able to catch it here? Added the reworked code also above.","body":"@TimMoore used the suggested code by holger. It is working now. and i saw in this code the handle catches the exception, even though its not inside a completionstage. Why is the handle able to catch it here? Added the reworked code also above."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1668219843,"post_id":74401314,"comment_id":131359420,"body_markdown":"In Holger’s code, it _is_ inside a completion stage. The syntax `this::run` essentially passes the run method as a lambda to `thenComposeAsync` and does not invoke it immediately.","body":"In Holger’s code, it <i>is</i> inside a completion stage. The syntax <code>this::run</code> essentially passes the run method as a lambda to <code>thenComposeAsync</code> and does not invoke it immediately."},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668287349,"post_id":74401314,"comment_id":131370163,"body_markdown":"Got the root cause now. If i change run().handle() to completedFuture().thenCompose(this::run).handle() in my code initially, it works fine. My comfusion was since the return of the run was completionstage i thought i could directly use it to call handle. @TimMoore thanks for that. I will now read up and experiment to further understand and register it to myself.","body":"Got the root cause now. If i change run().handle() to completedFuture().thenCompose(this::run).handle() in my code initially, it works fine. My comfusion was since the return of the run was completionstage i thought i could directly use it to call handle. @TimMoore thanks for that. I will now read up and experiment to further understand and register it to myself."},{"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"score":0,"creation_date":1668287596,"post_id":74401314,"comment_id":131370205,"body_markdown":"Thanks to all for the help. I will raise pr with the service team according to @Holger code as it much more readable.","body":"Thanks to all for the help. I will raise pr with the service team according to @Holger code as it much more readable."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668402501,"post_id":74401314,"comment_id":131387984,"body_markdown":"&quot;since the return of the run was completionstage i thought i could directly use it to call handle&quot; that would be true _if_ it returned successfully. Since it throws an exception, no value is returned. This is always the case in Java. One alternative solution would be to change `run` to return a failed future instead of throwing an exception, just like the lambda passed to `handle` in the `test` method does.","body":"&quot;since the return of the run was completionstage i thought i could directly use it to call handle&quot; that would be true <i>if</i> it returned successfully. Since it throws an exception, no value is returned. This is always the case in Java. One alternative solution would be to change <code>run</code> to return a failed future instead of throwing an exception, just like the lambda passed to <code>handle</code> in the <code>test</code> method does."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668402878,"post_id":74401314,"comment_id":131388031,"body_markdown":"The reason it works when you pass `run` as a method reference to `thenCompose` is that the internal implementation of `thenCompose` invokes its function [inside a `try` block](https://github.com/openjdk/jdk/blob/8eb90e2d9c4ab5975f4301dbfdb0a6d9fa036af3/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L646), catches anything it throws, and returns a failed future instead of propagating the exception.","body":"The reason it works when you pass <code>run</code> as a method reference to <code>thenCompose</code> is that the internal implementation of <code>thenCompose</code> invokes its function <a href=\"https://github.com/openjdk/jdk/blob/8eb90e2d9c4ab5975f4301dbfdb0a6d9fa036af3/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L646\" rel=\"nofollow noreferrer\">inside a <code>try</code> block</a>, catches anything it throws, and returns a failed future instead of propagating the exception."}],"owner":{"account_id":18914433,"reputation":3,"user_id":13799796,"display_name":"Adhiraj"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668217538,"creation_date":1668163415,"question_id":74401314,"body_markdown":"Hi can someone help as to why the main in below never completes. When I pass 1 to the test method it get stuck completely. However passing 2 makes the run ok. Want to understand the actual issue and also what would be the correct way to code this.\r\n\r\n    public class Test {\r\n    \tprivate static final ScheduledExecutorService EXECUTOR = Executors.newScheduledThreadPool(1, r -&gt; {\r\n    \t\tThread t = defaultThreadFactory().newThread(r);\r\n    \t\tt.setDaemon(true);\r\n    \t\treturn t;\r\n    \t});\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest t = new Test();\r\n    \t\tt.test(1).toCompletableFuture().join();\r\n    \t\tSystem.out.println(&quot;DONE&quot;);\r\n    \t}\r\n    \tpublic CompletionStage&lt;Void&gt; run(int i) {\r\n    \t\tif (i == 1) throw new RuntimeException();\r\n    \t\tCompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\r\n    \t\tfuture.completeExceptionally(new RuntimeException());\r\n    \t\treturn future;\r\n    \t}\r\n    \tpublic CompletionStage&lt;Void&gt; test(int i) {\r\n    \t\tCompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\r\n    \r\n    \t\tEXECUTOR.schedule(() -&gt; run(i).handle((output, error) -&gt; {\r\n    \t\t\tif (error instanceof CompletionException) {\r\n    \t\t\t\terror = error.getCause();\r\n    \t\t\t}\r\n    \t\t\tif (error != null) {\r\n    \t\t\t\tCompletableFuture&lt;Void&gt; failedFuture = new CompletableFuture&lt;&gt;();\r\n    \t\t\t\tfailedFuture.completeExceptionally(error);\r\n    \t\t\t\treturn failedFuture;\r\n    \t\t\t}\r\n    \t\t\treturn completedFuture(output);\r\n    \t\t}).thenCompose(u -&gt; u).thenApply(future::complete).exceptionally(future::completeExceptionally), 0, TimeUnit.SECONDS);\r\n    \t\treturn future;\r\n    \t}\r\n    }\r\n\r\nEDIT: used solution suggested by holger and working fine. In this solution the handle catches the runtime exception. Why not previously?\r\n\r\n    public class Test {\r\n    \r\n    \tprivate static final ScheduledExecutorService EXECUTOR = Executors.newScheduledThreadPool(1, r -&gt; {\r\n    \t\tThread t = defaultThreadFactory().newThread(r);\r\n    \t\tt.setDaemon(true);\r\n    \t\treturn t;\r\n    \t});\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest t = new Test();\r\n    \t\tSystem.out.println(&quot;STARTED&quot;);\r\n    \t\tt.test(1).toCompletableFuture().join();\r\n    \t\tSystem.out.println(&quot;DONE&quot;);\r\n    \t}\r\n    \r\n    \tpublic CompletionStage&lt;Void&gt; run(int i) {\r\n    \t\tif (i == 1)\r\n    \t\t\tthrow new RuntimeException();\r\n    \t\tCompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\r\n    \t\tfuture.completeExceptionally(new RuntimeException());\r\n    \t\treturn future;\r\n    \t}\r\n    \t\r\n    \tpublic CompletionStage&lt;Void&gt; test(int i) {\r\n    \t\treturn completedFuture(i).thenComposeAsync(this::run, r -&gt; EXECUTOR.schedule(r, 0, TimeUnit.SECONDS))\r\n    \t\t\t\t.handle((res, ex) -&gt; {\r\n    \t\t\t\t\tif (ex == null)\r\n    \t\t\t\t\t\treturn completedFuture(res);\r\n    \t\t\t\t\tif (ex instanceof CompletionException) {\r\n    \t\t\t\t\t\tex = ex.getCause();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tCompletableFuture&lt;Void&gt; failedFuture = new CompletableFuture&lt;&gt;();\r\n    \t\t\t\t\tfailedFuture.completeExceptionally(ex);\r\n    \t\t\t\t\treturn failedFuture;\r\n    \t\t\t\t}).thenCompose(u -&gt; u);\r\n    \t}\r\n    }","title":"Completable Future getting stuck and halts processing indefintely","body":"<p>Hi can someone help as to why the main in below never completes. When I pass 1 to the test method it get stuck completely. However passing 2 makes the run ok. Want to understand the actual issue and also what would be the correct way to code this.</p>\n<pre><code>public class Test {\n    private static final ScheduledExecutorService EXECUTOR = Executors.newScheduledThreadPool(1, r -&gt; {\n        Thread t = defaultThreadFactory().newThread(r);\n        t.setDaemon(true);\n        return t;\n    });\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.test(1).toCompletableFuture().join();\n        System.out.println(&quot;DONE&quot;);\n    }\n    public CompletionStage&lt;Void&gt; run(int i) {\n        if (i == 1) throw new RuntimeException();\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\n        future.completeExceptionally(new RuntimeException());\n        return future;\n    }\n    public CompletionStage&lt;Void&gt; test(int i) {\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\n\n        EXECUTOR.schedule(() -&gt; run(i).handle((output, error) -&gt; {\n            if (error instanceof CompletionException) {\n                error = error.getCause();\n            }\n            if (error != null) {\n                CompletableFuture&lt;Void&gt; failedFuture = new CompletableFuture&lt;&gt;();\n                failedFuture.completeExceptionally(error);\n                return failedFuture;\n            }\n            return completedFuture(output);\n        }).thenCompose(u -&gt; u).thenApply(future::complete).exceptionally(future::completeExceptionally), 0, TimeUnit.SECONDS);\n        return future;\n    }\n}\n</code></pre>\n<p>EDIT: used solution suggested by holger and working fine. In this solution the handle catches the runtime exception. Why not previously?</p>\n<pre><code>public class Test {\n\n    private static final ScheduledExecutorService EXECUTOR = Executors.newScheduledThreadPool(1, r -&gt; {\n        Thread t = defaultThreadFactory().newThread(r);\n        t.setDaemon(true);\n        return t;\n    });\n\n    public static void main(String[] args) {\n        Test t = new Test();\n        System.out.println(&quot;STARTED&quot;);\n        t.test(1).toCompletableFuture().join();\n        System.out.println(&quot;DONE&quot;);\n    }\n\n    public CompletionStage&lt;Void&gt; run(int i) {\n        if (i == 1)\n            throw new RuntimeException();\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\n        future.completeExceptionally(new RuntimeException());\n        return future;\n    }\n    \n    public CompletionStage&lt;Void&gt; test(int i) {\n        return completedFuture(i).thenComposeAsync(this::run, r -&gt; EXECUTOR.schedule(r, 0, TimeUnit.SECONDS))\n                .handle((res, ex) -&gt; {\n                    if (ex == null)\n                        return completedFuture(res);\n                    if (ex instanceof CompletionException) {\n                        ex = ex.getCause();\n                    }\n                    CompletableFuture&lt;Void&gt; failedFuture = new CompletableFuture&lt;&gt;();\n                    failedFuture.completeExceptionally(ex);\n                    return failedFuture;\n                }).thenCompose(u -&gt; u);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-cloud"],"answers":[{"comments":[{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":2,"creation_date":1547317121,"post_id":50763768,"comment_id":95154883,"body_markdown":"I was wondering if there was a solution based on spring profiles. For instances I have disabled the spring security for a specific profile by adding this: spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration","body":"I was wondering if there was a solution based on spring profiles. For instances I have disabled the spring security for a specific profile by adding this: spring:   autoconfigure:     exclude: org.springframework.boot.autoconfigure.security.servlet.Secu&zwnj;&#8203;rityAutoConfiguratio&zwnj;&#8203;n"}],"tags":[],"owner":{"account_id":5275077,"reputation":5463,"user_id":4212150,"accept_rate":58,"display_name":"delucasvb"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1528471174,"creation_date":1528471174,"answer_id":50763768,"question_id":50763767,"body_markdown":"I&#39;ve solved this for tests using the surefire plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;classpathDependencyExcludes&gt;\r\n                &lt;classpathDependencyExcludes&gt;org.springframework.cloud:spring-cloud-aws-autoconfigure&lt;/classpathDependencyExcludes&gt;\r\n            &lt;/classpathDependencyExcludes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nLocal development was solved setting the following variables as VM parameters or in the Spring Cloud Config Server:\r\n\r\n    cloud.aws.region.auto=false\r\n    cloud.aws.region.static=us-east-1\r\n\r\nYou can use any value for `cloud.aws.region.static`, but there has to be one.\r\n\r\nI read both solutions in different places and thought it might help someone in the future to see them combined here.","title":"Disable Spring Cloud AWS autoconfiguration for local development","body":"<p>I've solved this for tests using the surefire plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;classpathDependencyExcludes&gt;\n            &lt;classpathDependencyExcludes&gt;org.springframework.cloud:spring-cloud-aws-autoconfigure&lt;/classpathDependencyExcludes&gt;\n        &lt;/classpathDependencyExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Local development was solved setting the following variables as VM parameters or in the Spring Cloud Config Server:</p>\n\n<pre><code>cloud.aws.region.auto=false\ncloud.aws.region.static=us-east-1\n</code></pre>\n\n<p>You can use any value for <code>cloud.aws.region.static</code>, but there has to be one.</p>\n\n<p>I read both solutions in different places and thought it might help someone in the future to see them combined here.</p>\n"},{"tags":[],"owner":{"account_id":11537261,"reputation":1920,"user_id":8454203,"display_name":"OM Bharatiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668216805,"creation_date":1668216805,"answer_id":74409742,"question_id":50763767,"body_markdown":"This error occurs when you run an application locally with aws cloud autoconfig enabled\r\n\r\nFor me, following settings helped:\r\n\r\n```\r\nspring:\r\n    autoconfigure:\r\n        exclude:\r\n            - org.springframework.cloud.aws.autoconfigure.context.ContextInstanceDataAutoConfiguration\r\n            - org.springframework.cloud.aws.autoconfigure.context.ContextStackAutoConfiguration\r\n            - org.springframework.cloud.aws.autoconfigure.context.ContextRegionProviderAutoConfiguration\r\n\r\ncloud:\r\n    aws:\r\n        region:\r\n            static: ap-south-1\r\n        stack:\r\n            auto: false\r\n```\r\n\r\nYou can learn more about it here: [Doc][1]\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-static/spring-cloud-aws/2.1.0.RELEASE/multi/multi__cloud_environment.html","title":"Disable Spring Cloud AWS autoconfiguration for local development","body":"<p>This error occurs when you run an application locally with aws cloud autoconfig enabled</p>\n<p>For me, following settings helped:</p>\n<pre><code>spring:\n    autoconfigure:\n        exclude:\n            - org.springframework.cloud.aws.autoconfigure.context.ContextInstanceDataAutoConfiguration\n            - org.springframework.cloud.aws.autoconfigure.context.ContextStackAutoConfiguration\n            - org.springframework.cloud.aws.autoconfigure.context.ContextRegionProviderAutoConfiguration\n\ncloud:\n    aws:\n        region:\n            static: ap-south-1\n        stack:\n            auto: false\n</code></pre>\n<p>You can learn more about it here: <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-aws/2.1.0.RELEASE/multi/multi__cloud_environment.html\" rel=\"nofollow noreferrer\">Doc</a></p>\n"}],"owner":{"account_id":5275077,"reputation":5463,"user_id":4212150,"accept_rate":58,"display_name":"delucasvb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16754,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":50763768,"answer_count":2,"score":24,"last_activity_date":1668216805,"creation_date":1528471174,"question_id":50763767,"body_markdown":"I use the following Maven dependency which autoconfigures all necessary parameters to make my project work on AWS:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-aws&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.2.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI don&#39;t have any critical functionality depending on AWS though, it&#39;s just to load a few files from S3 at runtime. So during local development (and also testing), I don&#39;t need any AWS autoconfiguration.\r\n\r\nThe logical error I get when running locally is:\r\n\r\n    ...\r\n    Caused by: java.lang.IllegalStateException: There is no EC2 meta data available, because the application is not running in the EC2 environment. Region detection is only possible if the application is running on a EC2 instance\r\n        at org.springframework.util.Assert.state(Assert.java:392) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.cloud.aws.core.region.Ec2MetadataRegionProvider.getRegion(Ec2MetadataRegionProvider.java:39) ~[spring-cloud-aws-core-1.2.2.RELEASE.jar:1.2.2.RELEASE]\r\n        at org.springframework.cloud.aws.core.config.AmazonWebserviceClientFactoryBean.createInstance(AmazonWebserviceClientFactoryBean.java:98) ~[spring-cloud-aws-core-1.2.2.RELEASE.jar:1.2.2.RELEASE]\r\n        at org.springframework.cloud.aws.core.config.AmazonWebserviceClientFactoryBean.createInstance(AmazonWebserviceClientFactoryBean.java:44) ~[spring-cloud-aws-core-1.2.2.RELEASE.jar:1.2.2.RELEASE]\r\n    ...\r\n\r\nIs there a clean, working solution for both testing and local development?","title":"Disable Spring Cloud AWS autoconfiguration for local development","body":"<p>I use the following Maven dependency which autoconfigures all necessary parameters to make my project work on AWS:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-aws&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I don't have any critical functionality depending on AWS though, it's just to load a few files from S3 at runtime. So during local development (and also testing), I don't need any AWS autoconfiguration.</p>\n\n<p>The logical error I get when running locally is:</p>\n\n<pre><code>...\nCaused by: java.lang.IllegalStateException: There is no EC2 meta data available, because the application is not running in the EC2 environment. Region detection is only possible if the application is running on a EC2 instance\n    at org.springframework.util.Assert.state(Assert.java:392) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.cloud.aws.core.region.Ec2MetadataRegionProvider.getRegion(Ec2MetadataRegionProvider.java:39) ~[spring-cloud-aws-core-1.2.2.RELEASE.jar:1.2.2.RELEASE]\n    at org.springframework.cloud.aws.core.config.AmazonWebserviceClientFactoryBean.createInstance(AmazonWebserviceClientFactoryBean.java:98) ~[spring-cloud-aws-core-1.2.2.RELEASE.jar:1.2.2.RELEASE]\n    at org.springframework.cloud.aws.core.config.AmazonWebserviceClientFactoryBean.createInstance(AmazonWebserviceClientFactoryBean.java:44) ~[spring-cloud-aws-core-1.2.2.RELEASE.jar:1.2.2.RELEASE]\n...\n</code></pre>\n\n<p>Is there a clean, working solution for both testing and local development?</p>\n"},{"tags":["java","class","object","arraylist"],"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1668214916,"post_id":74409537,"comment_id":131358838,"body_markdown":"And you are definitely sure that the reference to `hospitalList` does not escape anywhere else after `new Hospital` is constructed? Can you show us the full scope (e.g. surrounding function) of `hospitalList`, just to make sure that it&#39;s not touched by anything else after the creation of the hospital.","body":"And you are definitely sure that the reference to <code>hospitalList</code> does not escape anywhere else after <code>new Hospital</code> is constructed? Can you show us the full scope (e.g. surrounding function) of <code>hospitalList</code>, just to make sure that it&#39;s not touched by anything else after the creation of the hospital."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668215024,"post_id":74409537,"comment_id":131358860,"body_markdown":"Please edit your question to provide a runnable example.","body":"Please edit your question to provide a runnable example."},{"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"score":1,"creation_date":1668217301,"post_id":74409537,"comment_id":131359132,"body_markdown":"take a look at how you&#39;re adding hospitals to `hospitalList`. Add the section where you are adding into this list.","body":"take a look at how you&#39;re adding hospitals to <code>hospitalList</code>. Add the section where you are adding into this list."},{"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"score":1,"creation_date":1668217482,"post_id":74409537,"comment_id":131359156,"body_markdown":"From you&#39;re current code I suppose you&#39;re missing `hospitalList.add(hospital)`","body":"From you&#39;re current code I suppose you&#39;re missing <code>hospitalList.add(hospital)</code>"},{"owner":{"account_id":10534332,"reputation":63,"user_id":7762711,"display_name":"Joe"},"score":0,"creation_date":1668223168,"post_id":74409537,"comment_id":131359758,"body_markdown":"@GauravkumarSingh I do have it. I was able to resolve this issue by changing my constructor from `this.departmentList=departmentList;` to: `this.departmentList = (ArrayList)departmentList.clone();`","body":"@GauravkumarSingh I do have it. I was able to resolve this issue by changing my constructor from <code>this.departmentList=departmentList;</code> to: <code>this.departmentList = (ArrayList)departmentList.clone();</code>"}],"answers":[{"comments":[{"owner":{"account_id":10534332,"reputation":63,"user_id":7762711,"display_name":"Joe"},"score":0,"creation_date":1668222870,"post_id":74409724,"comment_id":131359734,"body_markdown":"Amazing explanation with the example! That fixed it.\n\nI used \n\n`this.departmentList = (ArrayList)departmentList.clone();`","body":"Amazing explanation with the example! That fixed it.  I used   <code>this.departmentList = (ArrayList)departmentList.clone();</code>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1668252448,"post_id":74409724,"comment_id":131363321,"body_markdown":"I&#39;d go with `List.copyOf`, that way the departmentlist can&#39;t be changed by anybody. If you really want an arraylist, `new ArrayList&lt;&gt;(departmentList);` is better (it&#39;s idiomatic (other java programmers would do it that way), does the same thing, at the same speed, with fewer warnings).","body":"I&#39;d go with <code>List.copyOf</code>, that way the departmentlist can&#39;t be changed by anybody. If you really want an arraylist, <code>new ArrayList&lt;&gt;(departmentList);</code> is better (it&#39;s idiomatic (other java programmers would do it that way), does the same thing, at the same speed, with fewer warnings)."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668216560,"creation_date":1668216560,"answer_id":74409724,"question_id":74409537,"body_markdown":"You made just one arraylist, and all the hospitals just have a reference to the same list, which you later clear, hence, that got rid of all departments.\r\n\r\nLet&#39;s take it one step at a time:\r\n\r\n&gt; ```java\r\n&gt; ArrayList&lt;Department&gt; departmentList = new ArrayList&lt;Department&gt;();\r\n&gt; ```\r\n\r\nThis makes a new arraylist object, assigns the _reference_ to it to a newly declared local variable named `departmentList`. `new ArrayList()` is like &quot;build a house&quot; and `ArrayList&lt;Department&gt; departmentList;` is like &#39;open up a new page in your address book and title it &quot;departmentList&quot;. `departmentList = new...` is: Write the address to that house down in the address book. Crucial take awawy: `departmentList` is not the same as the list - it&#39;s a _reference_ to it - it&#39;s the page in the address book that you can use to get to the house, not the house itself.\r\n\r\n&gt; ```java\r\n&gt; departmentList.add(new Department(departmentId, hospitalDeptName, &gt; hospitalDeptType, subtypeBitFlag, status));\r\n&gt; ```\r\n\r\n`.` is the dereference operator: This is the equivalent of &quot;Take the page in your address book titled &quot;departmentList&quot; and then go walk over to the house itself. Open the door and yell &quot;ADD!&quot; at it. Things will probably happen when you do this.\r\n\r\n&gt; ```java\r\n&gt; Hospital hospital = new Hospital(hospitalId, hospitalName, departmentList, departmentList.size());\r\n&gt; ```\r\n\r\nFocusing on the `departmentList` part: This says: &quot;Grab a piece of paper and copy the __address__ over onto it, then hand that piece of paper to the hospital constructor&quot;. It __does not__ clone the list.\r\n\r\n&gt; ```java\r\n&gt; public Hospital(String hospitalId, String hospitalName, ArrayList&lt;Department&gt; departmentList, int departmentCount) {\r\n&gt;     this.departmentList = departmentList;\r\n&gt; }\r\n&gt; ```\r\n\r\nMore copying of address book pages. At no point did anybody copy a house anywhere.\r\n\r\nNow there are many notebook pages floating about, __all with the same address on it__. If anybody that has a page decides to visit a house and toss a  brick through the window, everybody else will see that too. This isn&#39;t good - someone can change the departmentlist in your hospital now. You probably wanted to clone that arraylist instead.\r\n\r\nYour Hospital constructor should probably have:\r\n\r\n```\r\nthis.departmentList = List.copyOf(departmentList);\r\n```\r\n\r\ninstead.\r\n","title":"JAVA Attribute of ArrayList&lt;Object&gt; not returning values","body":"<p>You made just one arraylist, and all the hospitals just have a reference to the same list, which you later clear, hence, that got rid of all departments.</p>\n<p>Let's take it one step at a time:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Department&gt; departmentList = new ArrayList&lt;Department&gt;();\n</code></pre>\n</blockquote>\n<p>This makes a new arraylist object, assigns the <em>reference</em> to it to a newly declared local variable named <code>departmentList</code>. <code>new ArrayList()</code> is like &quot;build a house&quot; and <code>ArrayList&lt;Department&gt; departmentList;</code> is like 'open up a new page in your address book and title it &quot;departmentList&quot;. <code>departmentList = new...</code> is: Write the address to that house down in the address book. Crucial take awawy: <code>departmentList</code> is not the same as the list - it's a <em>reference</em> to it - it's the page in the address book that you can use to get to the house, not the house itself.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>departmentList.add(new Department(departmentId, hospitalDeptName, &gt; hospitalDeptType, subtypeBitFlag, status));\n</code></pre>\n</blockquote>\n<p><code>.</code> is the dereference operator: This is the equivalent of &quot;Take the page in your address book titled &quot;departmentList&quot; and then go walk over to the house itself. Open the door and yell &quot;ADD!&quot; at it. Things will probably happen when you do this.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Hospital hospital = new Hospital(hospitalId, hospitalName, departmentList, departmentList.size());\n</code></pre>\n</blockquote>\n<p>Focusing on the <code>departmentList</code> part: This says: &quot;Grab a piece of paper and copy the <strong>address</strong> over onto it, then hand that piece of paper to the hospital constructor&quot;. It <strong>does not</strong> clone the list.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public Hospital(String hospitalId, String hospitalName, ArrayList&lt;Department&gt; departmentList, int departmentCount) {\n    this.departmentList = departmentList;\n}\n</code></pre>\n</blockquote>\n<p>More copying of address book pages. At no point did anybody copy a house anywhere.</p>\n<p>Now there are many notebook pages floating about, <strong>all with the same address on it</strong>. If anybody that has a page decides to visit a house and toss a  brick through the window, everybody else will see that too. This isn't good - someone can change the departmentlist in your hospital now. You probably wanted to clone that arraylist instead.</p>\n<p>Your Hospital constructor should probably have:</p>\n<pre><code>this.departmentList = List.copyOf(departmentList);\n</code></pre>\n<p>instead.</p>\n"}],"owner":{"account_id":10534332,"reputation":63,"user_id":7762711,"display_name":"Joe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409724,"answer_count":1,"score":0,"last_activity_date":1668216560,"creation_date":1668213840,"question_id":74409537,"body_markdown":"Class Hospital\r\n```\r\npackage app;\r\n\r\nimport java.util.ArrayList;\r\nimport app.Department;\r\n\r\npublic class Hospital {\r\n\tString hospitalId;\r\n\tString hospitalName;\r\n\tint departmentCount;\r\n\tArrayList&lt;Department&gt; departmentList = new ArrayList&lt;Department&gt;();\r\n\r\n\tpublic Hospital(String hospitalId, String hospitalName, ArrayList&lt;Department&gt; departmentList, int departmentCount) {\r\n\t\tthis.hospitalId = hospitalId;\r\n\t\tthis.hospitalName = hospitalName;\r\n\t\tthis.departmentList = departmentList;\r\n\t\tthis.departmentCount = departmentCount;\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Department&gt; getDepartmentList() {\r\n\t\tSystem.out.println(&quot;Returning &quot; + departmentList.size());\r\n\t\treturn departmentList;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nClass Department\r\n\r\n```\r\npackage app;\r\n\r\npublic class Department {\r\n\tString departmentId;\r\n\tprivate String hospitalDeptName;\r\n\tString hospitalDeptType;\r\n\tString subtypeBitFlag;\r\n\tString status;\r\n\r\n\tpublic Department(String departmentId, String hospitalDeptName, String hospitalDeptType, String subtypeBitFlag, String status) {\r\n\t\tthis.departmentId = departmentId;\r\n\t\tthis.hospitalDeptName = hospitalDeptName;\r\n\t\tthis.hospitalDeptType = hospitalDeptType;\r\n\t\tthis.subtypeBitFlag = subtypeBitFlag;\r\n\t\tthis.status = status;\r\n\t}\r\n\t\r\n\tpublic String getDepartmentName() {\r\n\t\treturn hospitalDeptName;\r\n\t}\r\n}\r\n```\r\n\r\nI am creating an object Department and storing them in an ArrayList&lt;Department&gt;\r\n```\r\nArrayList&lt;Department&gt; departmentList = new ArrayList&lt;Department&gt;();\r\ndepartmentList.add(new Department(departmentId, hospitalDeptName, hospitalDeptType, subtypeBitFlag, status));\r\n```\r\n\r\nI am creating an object Hospital and passing to the constructor the above departmentList as list of Departments\r\n```\r\nArrayList&lt;Hospital&gt; hospitalList = new ArrayList&lt;Hospital&gt;();\r\nHospital hospital = new Hospital(hospitalId, hospitalName, departmentList, departmentList.size());\r\n```\r\n\r\nLooping over the hospital objects and extracting the information\r\n```\r\n\t\t\tfor (Hospital hospital : hospitalList) {\r\n\t\t\t\tSystem.out.println(&quot;The number of departments is: &quot;+hospital.departmentList.size() + &quot; for Hospital: &quot; + hospital.hospitalId );\r\n\t\t\t\t\r\n\t\t\t\tfor (Department department : hospital.departmentList) {\r\n\t\t\t\t\tSystem.out.println(&quot;Hospital ID: &quot; +hospital.hospitalId + &quot;, Hospital Name: &quot;+ hospital.hospitalName + &quot;, Department Name: &quot; + department.getDepartmentName());\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\nLogs as seen below. I am not able to retrive the department and not even their values. But... I am able to retrieve anything other that ArrayList&lt;Department&gt; from the object Hospital.\r\n The count 0 proves is as if the object Hospital is not populating the array list of Department\r\n```\r\nThe number of departments is: 0 for Hospital: q\r\nThe number of departments is: 0 for Hospital: a\r\nThe number of departments is: 0 for Hospital: s\r\nThe number of departments is: 0 for Hospital: 1\r\nThe number of departments is: 0 for Hospital: 2\r\nThe number of departments is: 0 for Hospital: 3\r\n```\r\n\r\n","title":"JAVA Attribute of ArrayList&lt;Object&gt; not returning values","body":"<p>Class Hospital</p>\n<pre><code>package app;\n\nimport java.util.ArrayList;\nimport app.Department;\n\npublic class Hospital {\n    String hospitalId;\n    String hospitalName;\n    int departmentCount;\n    ArrayList&lt;Department&gt; departmentList = new ArrayList&lt;Department&gt;();\n\n    public Hospital(String hospitalId, String hospitalName, ArrayList&lt;Department&gt; departmentList, int departmentCount) {\n        this.hospitalId = hospitalId;\n        this.hospitalName = hospitalName;\n        this.departmentList = departmentList;\n        this.departmentCount = departmentCount;\n    }\n    \n    public ArrayList&lt;Department&gt; getDepartmentList() {\n        System.out.println(&quot;Returning &quot; + departmentList.size());\n        return departmentList;\n    }\n\n}\n</code></pre>\n<p>Class Department</p>\n<pre><code>package app;\n\npublic class Department {\n    String departmentId;\n    private String hospitalDeptName;\n    String hospitalDeptType;\n    String subtypeBitFlag;\n    String status;\n\n    public Department(String departmentId, String hospitalDeptName, String hospitalDeptType, String subtypeBitFlag, String status) {\n        this.departmentId = departmentId;\n        this.hospitalDeptName = hospitalDeptName;\n        this.hospitalDeptType = hospitalDeptType;\n        this.subtypeBitFlag = subtypeBitFlag;\n        this.status = status;\n    }\n    \n    public String getDepartmentName() {\n        return hospitalDeptName;\n    }\n}\n</code></pre>\n<p>I am creating an object Department and storing them in an ArrayList</p>\n<pre><code>ArrayList&lt;Department&gt; departmentList = new ArrayList&lt;Department&gt;();\ndepartmentList.add(new Department(departmentId, hospitalDeptName, hospitalDeptType, subtypeBitFlag, status));\n</code></pre>\n<p>I am creating an object Hospital and passing to the constructor the above departmentList as list of Departments</p>\n<pre><code>ArrayList&lt;Hospital&gt; hospitalList = new ArrayList&lt;Hospital&gt;();\nHospital hospital = new Hospital(hospitalId, hospitalName, departmentList, departmentList.size());\n</code></pre>\n<p>Looping over the hospital objects and extracting the information</p>\n<pre><code>            for (Hospital hospital : hospitalList) {\n                System.out.println(&quot;The number of departments is: &quot;+hospital.departmentList.size() + &quot; for Hospital: &quot; + hospital.hospitalId );\n                \n                for (Department department : hospital.departmentList) {\n                    System.out.println(&quot;Hospital ID: &quot; +hospital.hospitalId + &quot;, Hospital Name: &quot;+ hospital.hospitalName + &quot;, Department Name: &quot; + department.getDepartmentName());\n                }\n            }\n</code></pre>\n<p>Logs as seen below. I am not able to retrive the department and not even their values. But... I am able to retrieve anything other that ArrayList from the object Hospital.\nThe count 0 proves is as if the object Hospital is not populating the array list of Department</p>\n<pre><code>The number of departments is: 0 for Hospital: q\nThe number of departments is: 0 for Hospital: a\nThe number of departments is: 0 for Hospital: s\nThe number of departments is: 0 for Hospital: 1\nThe number of departments is: 0 for Hospital: 2\nThe number of departments is: 0 for Hospital: 3\n</code></pre>\n"},{"tags":["java","android","xml","intellij-idea","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":14818113,"reputation":21,"user_id":10701371,"display_name":"Math Researcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668216173,"creation_date":1664499139,"answer_id":73902947,"question_id":73841681,"body_markdown":"To solve this problem, all I needed to do was drag the sign Up button a bit down. Not sure what caused the problem","title":"Android emulator design not the same as XML design","body":"<p>To solve this problem, all I needed to do was drag the sign Up button a bit down. Not sure what caused the problem</p>\n"}],"owner":{"account_id":14818113,"reputation":21,"user_id":10701371,"display_name":"Math Researcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668216173,"creation_date":1664072494,"question_id":73841681,"body_markdown":"While building an android app using IntelliJ IDEA 2022.2.2, I discovered that the XML design, and the emulator design were not the same. I have changed my emulator from Pixel_2_API_24 to Nexus_5X_API_32, however the problem is still occurring. I have attached an image of the problem,  my Java file, and XML file. I hope someone can help. \r\n\r\nThe problem\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/z8tKC.png\r\n\r\n\r\nJava File\r\n\r\n```\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    private EditText email, pass;\r\n    private Button loginB;\r\n    private TextView forgotpassB, signupB;\r\n    private FirebaseAuth mAuth;\r\n    private Dialog progressDialog;\r\n    private TextView dialogText;\r\n    private RelativeLayout gSignB;\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n    private int RC_SIGN_IN = 104;\r\n\r\n    @SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n\r\n        email = findViewById(R.id.email);\r\n        pass = findViewById(R.id.password);\r\n        loginB = findViewById(R.id.LoginB);\r\n        forgotpassB = findViewById(R.id.forgot_pass);\r\n        signupB = findViewById(R.id.signupB);\r\n        gSignB = findViewById(R.id.g_signB);\r\n\r\n        progressDialog = new Dialog(LoginActivity.this);\r\n        progressDialog.setContentView(R.layout.dialog_layout);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.getWindow().setLayout(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);\r\n\r\n        dialogText = progressDialog.findViewById(R.id.dialog_text);\r\n        dialogText.setText(&quot;Signing in...&quot;);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        forgotpassB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(LoginActivity.this, ForgotPassword.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this,gso);\r\n\r\n\r\n        loginB.setOnClickListener((view) -&gt; {\r\n\r\n            if(validateData())\r\n            {\r\n                login();\r\n            }\r\n\r\n        });\r\n\r\n        signupB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent (LoginActivity.this, SignUpActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        gSignB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                googleSignIn();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private boolean validateData()\r\n    {\r\n\r\n\r\n        if (email.getText().toString().isEmpty()) {\r\n            email.setError(&quot;Enter E-Mail Id&quot;);\r\n            return false;\r\n        }\r\n\r\n        if (pass.getText().toString().isEmpty()) {\r\n            pass.setError(&quot;Enter Password&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n\r\n        private void login()\r\n    {\r\n        progressDialog.show();\r\n\r\n        mAuth.signInWithEmailAndPassword(email.getText().toString().trim(), pass.getText().toString().trim())\r\n                .addOnCompleteListener(this, task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n                            Toast.makeText(LoginActivity.this,&quot;Sign in Successful&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                            DbQuery.loadData(new MyCompleteListener() {\r\n                                @Override\r\n                                public void onSuccess() {\r\n                                    progressDialog.dismiss();\r\n\r\n                                    Intent intent = new Intent(LoginActivity.this,MainActivity.class);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure() {\r\n\r\n                                    progressDialog.dismiss();\r\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n\r\n                        } else{\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(LoginActivity.this,task.getException().getMessage(),\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                });\r\n    }\r\n\r\n\r\n    private void googleSignIn()\r\n    {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                //Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n\r\n            } catch (ApiException e) {\r\n\r\n                Toast.makeText(LoginActivity.this,e.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n\r\n        progressDialog.show();\r\n\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken,null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n\r\n                        Toast.makeText(LoginActivity.this,&quot;Google Sign In Successful&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                        FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                        if(task.getResult().getAdditionalUserInfo().isNewUser())\r\n                        {\r\n                            DbQuery.createUserData(user.getEmail(), user.getDisplayName(), new MyCompleteListener() {\r\n                                @Override\r\n                                public void onSuccess() {\r\n\r\n                                    DbQuery.loadData(new MyCompleteListener() {\r\n                                        @Override\r\n                                        public void onSuccess() {\r\n                                            progressDialog.dismiss();\r\n\r\n                                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                            startActivity(intent);\r\n                                            LoginActivity.this.finish();\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void onFailure() {\r\n\r\n                                            progressDialog.dismiss();\r\n                                            Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                                    Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    });\r\n\r\n\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure() {\r\n\r\n                                    progressDialog.dismiss();\r\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n\r\n                                }\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            DbQuery.loadData(new MyCompleteListener() {\r\n                                @Override\r\n                                public void onSuccess() {\r\n                                    progressDialog.dismiss();\r\n\r\n                                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                    startActivity(intent);\r\n                                    LoginActivity.this.finish();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure() {\r\n                                    progressDialog.dismiss();\r\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n\r\n\r\n\r\n                    } else {\r\n\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(LoginActivity.this, task.getException().getMessage(),\r\n                                Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                });\r\n\r\n    }\r\n\r\n}\r\npackage com.example.exampros;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.*;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.*;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    private EditText email, pass;\r\n    private Button loginB;\r\n    private TextView forgotpassB, signupB;\r\n    private FirebaseAuth mAuth;\r\n    private Dialog progressDialog;\r\n    private TextView dialogText;\r\n    private RelativeLayout gSignB;\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n    private int RC_SIGN_IN = 104;\r\n\r\n    @SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n\r\n        email = findViewById(R.id.email);\r\n        pass = findViewById(R.id.password);\r\n        loginB = findViewById(R.id.LoginB);\r\n        forgotpassB = findViewById(R.id.forgot_pass);\r\n        signupB = findViewById(R.id.signupB);\r\n        gSignB = findViewById(R.id.g_signB);\r\n\r\n        progressDialog = new Dialog(LoginActivity.this);\r\n        progressDialog.setContentView(R.layout.dialog_layout);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.getWindow().setLayout(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);\r\n\r\n        dialogText = progressDialog.findViewById(R.id.dialog_text);\r\n        dialogText.setText(&quot;Signing in...&quot;);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        forgotpassB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(LoginActivity.this, ForgotPassword.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this,gso);\r\n\r\n\r\n        loginB.setOnClickListener((view) -&gt; {\r\n\r\n            if(validateData())\r\n            {\r\n                login();\r\n            }\r\n\r\n        });\r\n\r\n        signupB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent (LoginActivity.this, SignUpActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        gSignB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                googleSignIn();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private boolean validateData()\r\n    {\r\n\r\n\r\n        if (email.getText().toString().isEmpty()) {\r\n            email.setError(&quot;Enter E-Mail Id&quot;);\r\n            return false;\r\n        }\r\n\r\n        if (pass.getText().toString().isEmpty()) {\r\n            pass.setError(&quot;Enter Password&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n\r\n        private void login()\r\n    {\r\n        progressDialog.show();\r\n\r\n        mAuth.signInWithEmailAndPassword(email.getText().toString().trim(), pass.getText().toString().trim())\r\n                .addOnCompleteListener(this, task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n                            Toast.makeText(LoginActivity.this,&quot;Sign in Successful&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                            DbQuery.loadData(new MyCompleteListener() {\r\n                                @Override\r\n                                public void onSuccess() {\r\n                                    progressDialog.dismiss();\r\n\r\n                                    Intent intent = new Intent(LoginActivity.this,MainActivity.class);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure() {\r\n\r\n                                    progressDialog.dismiss();\r\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n\r\n\r\n\r\n\r\n                        } else{\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(LoginActivity.this,task.getException().getMessage(),\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                });\r\n    }\r\n\r\n\r\n    private void googleSignIn()\r\n    {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                //Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n\r\n            } catch (ApiException e) {\r\n\r\n                Toast.makeText(LoginActivity.this,e.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n\r\n        progressDialog.show();\r\n\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken,null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n\r\n                        Toast.makeText(LoginActivity.this,&quot;Google Sign In Successful&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                        FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                        if(task.getResult().getAdditionalUserInfo().isNewUser())\r\n                        {\r\n                            DbQuery.createUserData(user.getEmail(), user.getDisplayName(), new MyCompleteListener() {\r\n                                @Override\r\n                                public void onSuccess() {\r\n\r\n                                    DbQuery.loadData(new MyCompleteListener() {\r\n                                        @Override\r\n                                        public void onSuccess() {\r\n                                            progressDialog.dismiss();\r\n\r\n                                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                            startActivity(intent);\r\n                                            LoginActivity.this.finish();\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void onFailure() {\r\n\r\n                                            progressDialog.dismiss();\r\n                                            Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                                    Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    });\r\n\r\n\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure() {\r\n\r\n                                    progressDialog.dismiss();\r\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n\r\n                                }\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            DbQuery.loadData(new MyCompleteListener() {\r\n                                @Override\r\n                                public void onSuccess() {\r\n                                    progressDialog.dismiss();\r\n\r\n                                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                    startActivity(intent);\r\n                                    LoginActivity.this.finish();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure() {\r\n                                    progressDialog.dismiss();\r\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n\r\n\r\n\r\n                    } else {\r\n\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(LoginActivity.this, task.getException().getMessage(),\r\n                                Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                });\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nXML File\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:theme=&quot;@style/LoginTheme&quot;\r\n        tools:context=&quot;.LoginActivity&quot;\r\n        android:background=&quot;#FFFFFF&quot;\r\n\r\n&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;@color/Primary&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; android:id=&quot;@+id/linearLayout&quot;&gt;\r\n\r\n        &lt;ImageView\r\n                android:layout_width=&quot;131dp&quot;\r\n                android:layout_height=&quot;150dp&quot;\r\n                android:src=&quot;@drawable/ic_images4&quot;\r\n        /&gt;\r\n\r\n        &lt;!--&lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/app_name&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;32sp&quot;/&gt;--&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;EditText\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:id=&quot;@+id/email&quot;\r\n            android:drawableLeft=&quot;@drawable/ic_account&quot;\r\n            android:drawableTint=&quot;@color/Primary&quot;\r\n            android:drawablePadding=&quot;16dp&quot;\r\n            android:backgroundTint=&quot;@color/Primary&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:hint=&quot;E-Mail ID&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;\r\n            android:layout_marginTop=&quot;64dp&quot;\r\n            android:layout_marginStart=&quot;32dp&quot;\r\n            android:layout_marginEnd=&quot;32dp&quot;/&gt;\r\n    &lt;EditText\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:drawableLeft=&quot;@drawable/ic_lock&quot;\r\n            android:drawableTint=&quot;@color/Primary&quot;\r\n            android:drawablePadding=&quot;16dp&quot;\r\n            android:backgroundTint=&quot;@color/Primary&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:hint=&quot;Password&quot;\r\n            android:id=&quot;@+id/password&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/email&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginStart=&quot;32dp&quot;\r\n            android:layout_marginEnd=&quot;32dp&quot;/&gt;\r\n    &lt;TextView\r\n            android:text=&quot;Forgot password?&quot;\r\n            android:textColor=&quot;@color/Primary&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/forgot_pass&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/password&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;32dp&quot;\r\n            android:layout_marginTop=&quot;12dp&quot;/&gt;\r\n\r\n    &lt;Button\r\n            android:text=&quot;Sign In&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:elevation=&quot;5dp&quot;\r\n            android:translationZ=&quot;3dp&quot;\r\n            android:stateListAnimator=&quot;@null&quot;\r\n            android:layout_width=&quot;338dp&quot;\r\n            android:layout_height=&quot;51dp&quot;\r\n            android:id=&quot;@+id/LoginB&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/forgot_pass&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            android:background=&quot;@drawable/round_corner&quot;\r\n            android:layout_marginTop=&quot;52dp&quot;\r\n            android:layout_marginStart=&quot;32dp&quot;\r\n            android:layout_marginEnd=&quot;32dp&quot; app:layout_constraintHorizontal_bias=&quot;0.0&quot;/&gt;\r\n    &lt;TextView\r\n            android:text=&quot;Don&#39;t have an account?&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/textView4&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;224dp&quot; app:layout_constraintEnd_toStartOf=&quot;@+id/signupB&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;/&gt;\r\n    &lt;TextView\r\n            android:text=&quot;SIGN UP&quot;\r\n            android:textColor=&quot;@color/Primary&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/signupB&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/textView4&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;224dp&quot; android:layout_marginEnd=&quot;88dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_marginStart=&quot;64dp&quot;\r\n            android:layout_marginEnd=&quot;64dp&quot;\r\n            android:id=&quot;@+id/g_signB&quot;\r\n            android:layout_marginBottom=&quot;136dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:background=&quot;@color/Primary&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n\r\n    &gt;\r\n\r\n   &lt;ImageView\r\n           android:layout_margin=&quot;4dp&quot;\r\n           android:id=&quot;@+id/g_img&quot;\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;match_parent&quot;\r\n           android:src=&quot;@drawable/ic_google_logo&quot;\r\n           android:background=&quot;@color/white&quot;\r\n           android:padding=&quot;4dp&quot;\r\n   /&gt;\r\n\r\n        &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;Sign In with Google&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:layout_marginLeft=&quot;24dp&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:layout_toEndOf=&quot;@+id/g_img&quot;\r\n\r\n        /&gt;\r\n        &lt;Button\r\n                android:layout_width=&quot;341dp&quot;\r\n                android:layout_height=&quot;126dp&quot;\r\n                android:id=&quot;@+id/button&quot;\r\n                android:background=&quot;@color/white&quot;\r\n        /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;TextView\r\n            android:text=&quot;Sign-In&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginTop=&quot;13dp&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;8dp&quot; android:layout_marginBottom=&quot;32dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/email&quot; android:layout_marginEnd=&quot;360dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;/&gt;\r\n\r\n\r\n    &lt;!--&lt;RelativeLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_marginStart=&quot;64dp&quot;\r\n            android:layout_marginEnd=&quot;64dp&quot;\r\n            android:id=&quot;@+id/g_faceB&quot;\r\n            android:layout_marginBottom=&quot;64dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:background=&quot;@color/Primary&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n\r\n    &gt;\r\n\r\n        &lt;ImageView\r\n                android:layout_margin=&quot;4dp&quot;\r\n                android:id=&quot;@+id/facebook_img&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:src=&quot;@drawable/ic_facebook&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:padding=&quot;4dp&quot;\r\n        /&gt;\r\n\r\n        &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;Continue with Facebook&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:layout_marginLeft=&quot;13dp&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:layout_toEndOf=&quot;@+id/facebook_img&quot;\r\n\r\n        /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;--&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"Android emulator design not the same as XML design","body":"<p>While building an android app using IntelliJ IDEA 2022.2.2, I discovered that the XML design, and the emulator design were not the same. I have changed my emulator from Pixel_2_API_24 to Nexus_5X_API_32, however the problem is still occurring. I have attached an image of the problem,  my Java file, and XML file. I hope someone can help.</p>\n<p>The problem</p>\n<p><a href=\"https://i.stack.imgur.com/z8tKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z8tKC.png\" alt=\"enter image description here\" /></a></p>\n<p>Java File</p>\n<pre><code>public class LoginActivity extends AppCompatActivity {\n\n    private EditText email, pass;\n    private Button loginB;\n    private TextView forgotpassB, signupB;\n    private FirebaseAuth mAuth;\n    private Dialog progressDialog;\n    private TextView dialogText;\n    private RelativeLayout gSignB;\n    private GoogleSignInClient mGoogleSignInClient;\n    private int RC_SIGN_IN = 104;\n\n    @SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n\n\n        email = findViewById(R.id.email);\n        pass = findViewById(R.id.password);\n        loginB = findViewById(R.id.LoginB);\n        forgotpassB = findViewById(R.id.forgot_pass);\n        signupB = findViewById(R.id.signupB);\n        gSignB = findViewById(R.id.g_signB);\n\n        progressDialog = new Dialog(LoginActivity.this);\n        progressDialog.setContentView(R.layout.dialog_layout);\n        progressDialog.setCancelable(false);\n        progressDialog.getWindow().setLayout(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);\n\n        dialogText = progressDialog.findViewById(R.id.dialog_text);\n        dialogText.setText(&quot;Signing in...&quot;);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        // Configure Google Sign In\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n        forgotpassB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(LoginActivity.this, ForgotPassword.class);\n                startActivity(intent);\n            }\n        });\n\n        mGoogleSignInClient = GoogleSignIn.getClient(this,gso);\n\n\n        loginB.setOnClickListener((view) -&gt; {\n\n            if(validateData())\n            {\n                login();\n            }\n\n        });\n\n        signupB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent (LoginActivity.this, SignUpActivity.class);\n                startActivity(intent);\n            }\n        });\n\n        gSignB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                googleSignIn();\n            }\n        });\n\n    }\n\n    private boolean validateData()\n    {\n\n\n        if (email.getText().toString().isEmpty()) {\n            email.setError(&quot;Enter E-Mail Id&quot;);\n            return false;\n        }\n\n        if (pass.getText().toString().isEmpty()) {\n            pass.setError(&quot;Enter Password&quot;);\n            return false;\n        }\n\n        return true;\n\n    }\n\n\n        private void login()\n    {\n        progressDialog.show();\n\n        mAuth.signInWithEmailAndPassword(email.getText().toString().trim(), pass.getText().toString().trim())\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n                            Toast.makeText(LoginActivity.this,&quot;Sign in Successful&quot;, Toast.LENGTH_SHORT).show();\n\n\n                            DbQuery.loadData(new MyCompleteListener() {\n                                @Override\n                                public void onSuccess() {\n                                    progressDialog.dismiss();\n\n                                    Intent intent = new Intent(LoginActivity.this,MainActivity.class);\n                                    startActivity(intent);\n                                    finish();\n                                }\n\n                                @Override\n                                public void onFailure() {\n\n                                    progressDialog.dismiss();\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            });\n\n                        } else{\n                            progressDialog.dismiss();\n                            Toast.makeText(LoginActivity.this,task.getException().getMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                        }\n\n                });\n    }\n\n\n    private void googleSignIn()\n    {\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                // Google Sign In was successful, authenticate with Firebase\n                GoogleSignInAccount account = task.getResult(ApiException.class);\n                //Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\n                firebaseAuthWithGoogle(account.getIdToken());\n\n            } catch (ApiException e) {\n\n                Toast.makeText(LoginActivity.this,e.getMessage(),Toast.LENGTH_SHORT).show();\n\n            }\n        }\n    }\n\n    private void firebaseAuthWithGoogle(String idToken) {\n\n        progressDialog.show();\n\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken,null);\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n\n                        Toast.makeText(LoginActivity.this,&quot;Google Sign In Successful&quot;,Toast.LENGTH_SHORT).show();\n\n                        FirebaseUser user = mAuth.getCurrentUser();\n\n                        if(task.getResult().getAdditionalUserInfo().isNewUser())\n                        {\n                            DbQuery.createUserData(user.getEmail(), user.getDisplayName(), new MyCompleteListener() {\n                                @Override\n                                public void onSuccess() {\n\n                                    DbQuery.loadData(new MyCompleteListener() {\n                                        @Override\n                                        public void onSuccess() {\n                                            progressDialog.dismiss();\n\n                                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                                            startActivity(intent);\n                                            LoginActivity.this.finish();\n                                        }\n\n                                        @Override\n                                        public void onFailure() {\n\n                                            progressDialog.dismiss();\n                                            Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                                    Toast.LENGTH_SHORT).show();\n                                        }\n                                    });\n\n\n                                }\n\n                                @Override\n                                public void onFailure() {\n\n                                    progressDialog.dismiss();\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                            Toast.LENGTH_SHORT).show();\n\n                                }\n                            });\n                        }\n                        else\n                        {\n                            DbQuery.loadData(new MyCompleteListener() {\n                                @Override\n                                public void onSuccess() {\n                                    progressDialog.dismiss();\n\n                                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                                    startActivity(intent);\n                                    LoginActivity.this.finish();\n                                }\n\n                                @Override\n                                public void onFailure() {\n                                    progressDialog.dismiss();\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n\n\n\n                    } else {\n\n                        progressDialog.dismiss();\n                        Toast.makeText(LoginActivity.this, task.getException().getMessage(),\n                                Toast.LENGTH_SHORT).show();\n\n                    }\n\n                });\n\n    }\n\n}\npackage com.example.exampros;\n\nimport android.annotation.SuppressLint;\nimport android.app.Dialog;\nimport android.content.Intent;\nimport android.content.pm.ActivityInfo;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.*;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.*;\n\npublic class LoginActivity extends AppCompatActivity {\n\n    private EditText email, pass;\n    private Button loginB;\n    private TextView forgotpassB, signupB;\n    private FirebaseAuth mAuth;\n    private Dialog progressDialog;\n    private TextView dialogText;\n    private RelativeLayout gSignB;\n    private GoogleSignInClient mGoogleSignInClient;\n    private int RC_SIGN_IN = 104;\n\n    @SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n\n\n        email = findViewById(R.id.email);\n        pass = findViewById(R.id.password);\n        loginB = findViewById(R.id.LoginB);\n        forgotpassB = findViewById(R.id.forgot_pass);\n        signupB = findViewById(R.id.signupB);\n        gSignB = findViewById(R.id.g_signB);\n\n        progressDialog = new Dialog(LoginActivity.this);\n        progressDialog.setContentView(R.layout.dialog_layout);\n        progressDialog.setCancelable(false);\n        progressDialog.getWindow().setLayout(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);\n\n        dialogText = progressDialog.findViewById(R.id.dialog_text);\n        dialogText.setText(&quot;Signing in...&quot;);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        // Configure Google Sign In\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n        forgotpassB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(LoginActivity.this, ForgotPassword.class);\n                startActivity(intent);\n            }\n        });\n\n        mGoogleSignInClient = GoogleSignIn.getClient(this,gso);\n\n\n        loginB.setOnClickListener((view) -&gt; {\n\n            if(validateData())\n            {\n                login();\n            }\n\n        });\n\n        signupB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent (LoginActivity.this, SignUpActivity.class);\n                startActivity(intent);\n            }\n        });\n\n        gSignB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                googleSignIn();\n            }\n        });\n\n    }\n\n    private boolean validateData()\n    {\n\n\n        if (email.getText().toString().isEmpty()) {\n            email.setError(&quot;Enter E-Mail Id&quot;);\n            return false;\n        }\n\n        if (pass.getText().toString().isEmpty()) {\n            pass.setError(&quot;Enter Password&quot;);\n            return false;\n        }\n\n        return true;\n\n    }\n\n\n        private void login()\n    {\n        progressDialog.show();\n\n        mAuth.signInWithEmailAndPassword(email.getText().toString().trim(), pass.getText().toString().trim())\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n                            Toast.makeText(LoginActivity.this,&quot;Sign in Successful&quot;, Toast.LENGTH_SHORT).show();\n\n\n                            DbQuery.loadData(new MyCompleteListener() {\n                                @Override\n                                public void onSuccess() {\n                                    progressDialog.dismiss();\n\n                                    Intent intent = new Intent(LoginActivity.this,MainActivity.class);\n                                    startActivity(intent);\n                                    finish();\n                                }\n\n                                @Override\n                                public void onFailure() {\n\n                                    progressDialog.dismiss();\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            });\n\n\n\n\n                        } else{\n                            progressDialog.dismiss();\n                            Toast.makeText(LoginActivity.this,task.getException().getMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                        }\n\n                });\n    }\n\n\n    private void googleSignIn()\n    {\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                // Google Sign In was successful, authenticate with Firebase\n                GoogleSignInAccount account = task.getResult(ApiException.class);\n                //Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\n                firebaseAuthWithGoogle(account.getIdToken());\n\n            } catch (ApiException e) {\n\n                Toast.makeText(LoginActivity.this,e.getMessage(),Toast.LENGTH_SHORT).show();\n\n            }\n        }\n    }\n\n    private void firebaseAuthWithGoogle(String idToken) {\n\n        progressDialog.show();\n\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken,null);\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n\n                        Toast.makeText(LoginActivity.this,&quot;Google Sign In Successful&quot;,Toast.LENGTH_SHORT).show();\n\n                        FirebaseUser user = mAuth.getCurrentUser();\n\n                        if(task.getResult().getAdditionalUserInfo().isNewUser())\n                        {\n                            DbQuery.createUserData(user.getEmail(), user.getDisplayName(), new MyCompleteListener() {\n                                @Override\n                                public void onSuccess() {\n\n                                    DbQuery.loadData(new MyCompleteListener() {\n                                        @Override\n                                        public void onSuccess() {\n                                            progressDialog.dismiss();\n\n                                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                                            startActivity(intent);\n                                            LoginActivity.this.finish();\n                                        }\n\n                                        @Override\n                                        public void onFailure() {\n\n                                            progressDialog.dismiss();\n                                            Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                                    Toast.LENGTH_SHORT).show();\n                                        }\n                                    });\n\n\n                                }\n\n                                @Override\n                                public void onFailure() {\n\n                                    progressDialog.dismiss();\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                            Toast.LENGTH_SHORT).show();\n\n                                }\n                            });\n                        }\n                        else\n                        {\n                            DbQuery.loadData(new MyCompleteListener() {\n                                @Override\n                                public void onSuccess() {\n                                    progressDialog.dismiss();\n\n                                    Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                                    startActivity(intent);\n                                    LoginActivity.this.finish();\n                                }\n\n                                @Override\n                                public void onFailure() {\n                                    progressDialog.dismiss();\n                                    Toast.makeText(LoginActivity.this,&quot;Something went Wrong! Try again later&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n\n\n\n                    } else {\n\n                        progressDialog.dismiss();\n                        Toast.makeText(LoginActivity.this, task.getException().getMessage(),\n                                Toast.LENGTH_SHORT).show();\n\n                    }\n\n                });\n\n    }\n\n}\n\n</code></pre>\n<p>XML File</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:theme=&quot;@style/LoginTheme&quot;\n        tools:context=&quot;.LoginActivity&quot;\n        android:background=&quot;#FFFFFF&quot;\n\n&gt;\n\n\n    &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:background=&quot;@color/Primary&quot;\n            android:gravity=&quot;center&quot;\n            android:padding=&quot;8dp&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; android:id=&quot;@+id/linearLayout&quot;&gt;\n\n        &lt;ImageView\n                android:layout_width=&quot;131dp&quot;\n                android:layout_height=&quot;150dp&quot;\n                android:src=&quot;@drawable/ic_images4&quot;\n        /&gt;\n\n        &lt;!--&lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@string/app_name&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;32sp&quot;/&gt;--&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;EditText\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:inputType=&quot;textEmailAddress&quot;\n            android:ems=&quot;10&quot;\n            android:id=&quot;@+id/email&quot;\n            android:drawableLeft=&quot;@drawable/ic_account&quot;\n            android:drawableTint=&quot;@color/Primary&quot;\n            android:drawablePadding=&quot;16dp&quot;\n            android:backgroundTint=&quot;@color/Primary&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:hint=&quot;E-Mail ID&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot;\n            android:layout_marginTop=&quot;64dp&quot;\n            android:layout_marginStart=&quot;32dp&quot;\n            android:layout_marginEnd=&quot;32dp&quot;/&gt;\n    &lt;EditText\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:inputType=&quot;textPassword&quot;\n            android:ems=&quot;10&quot;\n            android:drawableLeft=&quot;@drawable/ic_lock&quot;\n            android:drawableTint=&quot;@color/Primary&quot;\n            android:drawablePadding=&quot;16dp&quot;\n            android:backgroundTint=&quot;@color/Primary&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:hint=&quot;Password&quot;\n            android:id=&quot;@+id/password&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/email&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginStart=&quot;32dp&quot;\n            android:layout_marginEnd=&quot;32dp&quot;/&gt;\n    &lt;TextView\n            android:text=&quot;Forgot password?&quot;\n            android:textColor=&quot;@color/Primary&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/forgot_pass&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/password&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;32dp&quot;\n            android:layout_marginTop=&quot;12dp&quot;/&gt;\n\n    &lt;Button\n            android:text=&quot;Sign In&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;18sp&quot;\n            android:elevation=&quot;5dp&quot;\n            android:translationZ=&quot;3dp&quot;\n            android:stateListAnimator=&quot;@null&quot;\n            android:layout_width=&quot;338dp&quot;\n            android:layout_height=&quot;51dp&quot;\n            android:id=&quot;@+id/LoginB&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/forgot_pass&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            android:background=&quot;@drawable/round_corner&quot;\n            android:layout_marginTop=&quot;52dp&quot;\n            android:layout_marginStart=&quot;32dp&quot;\n            android:layout_marginEnd=&quot;32dp&quot; app:layout_constraintHorizontal_bias=&quot;0.0&quot;/&gt;\n    &lt;TextView\n            android:text=&quot;Don't have an account?&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;16sp&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/textView4&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:layout_marginBottom=&quot;224dp&quot; app:layout_constraintEnd_toStartOf=&quot;@+id/signupB&quot;\n            android:layout_marginEnd=&quot;16dp&quot;/&gt;\n    &lt;TextView\n            android:text=&quot;SIGN UP&quot;\n            android:textColor=&quot;@color/Primary&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/signupB&quot;\n            android:textSize=&quot;16sp&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/textView4&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:layout_marginBottom=&quot;224dp&quot; android:layout_marginEnd=&quot;88dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n    &lt;RelativeLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_marginStart=&quot;64dp&quot;\n            android:layout_marginEnd=&quot;64dp&quot;\n            android:id=&quot;@+id/g_signB&quot;\n            android:layout_marginBottom=&quot;136dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:background=&quot;@color/Primary&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n\n    &gt;\n\n   &lt;ImageView\n           android:layout_margin=&quot;4dp&quot;\n           android:id=&quot;@+id/g_img&quot;\n           android:layout_width=&quot;wrap_content&quot;\n           android:layout_height=&quot;match_parent&quot;\n           android:src=&quot;@drawable/ic_google_logo&quot;\n           android:background=&quot;@color/white&quot;\n           android:padding=&quot;4dp&quot;\n   /&gt;\n\n        &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:text=&quot;Sign In with Google&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;20sp&quot;\n                android:layout_marginLeft=&quot;24dp&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:layout_toEndOf=&quot;@+id/g_img&quot;\n\n        /&gt;\n        &lt;Button\n                android:layout_width=&quot;341dp&quot;\n                android:layout_height=&quot;126dp&quot;\n                android:id=&quot;@+id/button&quot;\n                android:background=&quot;@color/white&quot;\n        /&gt;\n\n    &lt;/RelativeLayout&gt;\n    &lt;TextView\n            android:text=&quot;Sign-In&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginTop=&quot;13dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;8dp&quot; android:layout_marginBottom=&quot;32dp&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/email&quot; android:layout_marginEnd=&quot;360dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot;/&gt;\n\n\n    &lt;!--&lt;RelativeLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_marginStart=&quot;64dp&quot;\n            android:layout_marginEnd=&quot;64dp&quot;\n            android:id=&quot;@+id/g_faceB&quot;\n            android:layout_marginBottom=&quot;64dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:background=&quot;@color/Primary&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n\n    &gt;\n\n        &lt;ImageView\n                android:layout_margin=&quot;4dp&quot;\n                android:id=&quot;@+id/facebook_img&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:src=&quot;@drawable/ic_facebook&quot;\n                android:background=&quot;@color/white&quot;\n                android:padding=&quot;4dp&quot;\n        /&gt;\n\n        &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:text=&quot;Continue with Facebook&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;20sp&quot;\n                android:layout_marginLeft=&quot;13dp&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:layout_toEndOf=&quot;@+id/facebook_img&quot;\n\n        /&gt;\n\n    &lt;/RelativeLayout&gt;--&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","swing","panel","frame"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668215455,"post_id":74409536,"comment_id":131358919,"body_markdown":"Looks to me like all your primitives share the same start/end point.  In your mousePresseed/Released you need to create a new Point instance, otherwise you just keep undated the same point objects with new values. You can verify this by display the start/end point as you paint each object.","body":"Looks to me like all your primitives share the same start/end point.  In your mousePresseed/Released you need to create a new Point instance, otherwise you just keep undated the same point objects with new values. You can verify this by display the start/end point as you paint each object."}],"answers":[{"comments":[{"owner":{"account_id":26905798,"reputation":1,"user_id":20482150,"display_name":"Cole"},"score":0,"creation_date":1668216477,"post_id":74409654,"comment_id":131359045,"body_markdown":"Wow! I wouldn&#39;t have caught that in a million years. Thank you so much MadProgrammer. I owe you one.","body":"Wow! I wouldn&#39;t have caught that in a million years. Thank you so much MadProgrammer. I owe you one."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668215516,"creation_date":1668215516,"answer_id":74409654,"question_id":74409536,"body_markdown":"Okay, that was weird, until it wasn&#39;t.  Your problem basic centers around...\r\n\r\n        public void mousePressed(MouseEvent e) {\r\n            startPoint.setLocation(e.getPoint());\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            // and this one\r\n            endPoint.setLocation(e.getPoint());\r\n\r\n            if (object == 0) {\r\n                canvas.addPrimitive(new Line(startPoint, endPoint, temp));\r\n            }\r\n\r\nYou create a single instance of `startPoint` and `endPoint` and simply update the `location` of each `Point`.  You then pass these to each primitive you create.  This means that each primitive is using the SAME instance of `startPoint` and `endPoint`.  So, each time you call `setLocation` ALL the primitives are been updated.\r\n\r\nInstead, do something more like...\r\n\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            startPoint = new Point(e.getPoint());\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            // and this one\r\n            endPoint = new Point(e.getPoint());\r\n\r\n\r\nAnd because I&#39;m paranoid and don&#39;t trust any one, I&#39;d probably also do...\r\n\r\n\r\n    public class Line extends PaintingPrimitive {\r\n        Point startPoint = new Point();\r\n        Point endPoint = new Point();\r\n\r\n        public Line(Point start, Point end, Color c) {\r\n            super(c);\r\n            this.startPoint = new Point(start);\r\n            this.endPoint = new Point(end);\r\n        }\r\n\r\nJust to be sure","title":"Why does this program only display the last graphic?","body":"<p>Okay, that was weird, until it wasn't.  Your problem basic centers around...</p>\n<pre><code>    public void mousePressed(MouseEvent e) {\n        startPoint.setLocation(e.getPoint());\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // and this one\n        endPoint.setLocation(e.getPoint());\n\n        if (object == 0) {\n            canvas.addPrimitive(new Line(startPoint, endPoint, temp));\n        }\n</code></pre>\n<p>You create a single instance of <code>startPoint</code> and <code>endPoint</code> and simply update the <code>location</code> of each <code>Point</code>.  You then pass these to each primitive you create.  This means that each primitive is using the SAME instance of <code>startPoint</code> and <code>endPoint</code>.  So, each time you call <code>setLocation</code> ALL the primitives are been updated.</p>\n<p>Instead, do something more like...</p>\n<pre><code>    @Override\n    public void mousePressed(MouseEvent e) {\n        startPoint = new Point(e.getPoint());\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // and this one\n        endPoint = new Point(e.getPoint());\n</code></pre>\n<p>And because I'm paranoid and don't trust any one, I'd probably also do...</p>\n<pre><code>public class Line extends PaintingPrimitive {\n    Point startPoint = new Point();\n    Point endPoint = new Point();\n\n    public Line(Point start, Point end, Color c) {\n        super(c);\n        this.startPoint = new Point(start);\n        this.endPoint = new Point(end);\n    }\n</code></pre>\n<p>Just to be sure</p>\n"}],"owner":{"account_id":26905798,"reputation":1,"user_id":20482150,"display_name":"Cole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668215516,"creation_date":1668213836,"question_id":74409536,"body_markdown":"Im using JPanel and JFrame to create a program that can draw lines and circles. The problem is that my program only redraws the last object added.\r\n\r\nI have tried moving around the repaint. For some reason, when I directly draw shapes onto the graphic in paintComponent(), they show up and refresh each frame. However, I have methods inside of paintComponent that pass the graphic variable to elsewhere methods that draw to the graphic object, these are the shapes that do not show up.\r\n\r\nPainter Class\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class Painter implements ActionListener, MouseListener, MouseMotionListener {\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\r\n\tColor temp = Color.RED;\r\n\t\r\n\t// 0 = line, 1 = circle\r\n\tint object = 0;\r\n\t\r\n\tPaintingPanel canvas;\r\n\t\r\n\tPoint startPoint = new Point();\r\n\tPoint endPoint = new Point();\r\n\r\n\tPainter() {\r\n\t\t\r\n\t\t//buttons\r\n\t\tJButton circleBut = new JButton();\r\n\t\tJButton lineBut = new JButton();\r\n\t\t\r\n\t\t//frame\r\n\t\t//close operation\r\n\t\t//resizes\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(500, 500);\r\n\t\t\r\n\t\t//holder holds the information\r\n\t\tJPanel holder = new JPanel();\r\n\t\tJPanel leftPanel = new JPanel();\r\n\t\tholder.setLayout(new BorderLayout());\r\n\t\tleftPanel.setLayout(new GridLayout(3, 1)); // 3 by 1 grid\r\n\r\n\t\tJPanel northPanel = new JPanel();\r\n\t\tnorthPanel.setLayout(new GridLayout(1, 2)); // 3 by 1 grid\r\n\t\tframe.add(holder);\r\n\r\n\t\t// circle and line buttons\r\n\r\n\t\tcircleBut.setText(&quot;Circle&quot;);\r\n\t\tlineBut.setText(&quot;Line&quot;);\r\n\t\tnorthPanel.add(circleBut);\r\n\t\tnorthPanel.add(lineBut);\r\n\t\tcircleBut.setActionCommand(&quot;1&quot;);\r\n\t\tlineBut.setActionCommand(&quot;0&quot;);\r\n\r\n\t\t//\r\n\t\tholder.add(northPanel, BorderLayout.NORTH);\r\n\r\n\t\t// red\r\n\t\tJButton redPaint = new JButton();\r\n\t\tredPaint.setBackground(Color.RED);\r\n\t\tredPaint.setOpaque(true);\r\n\t\tredPaint.setBorderPainted(false);\r\n\t\tleftPanel.add(redPaint);\r\n\t\tredPaint.setActionCommand(&quot;red&quot;);\r\n\r\n\t\t// green\r\n\t\tJButton greenPaint = new JButton();\r\n\t\tgreenPaint.setBackground(Color.GREEN);\r\n\t\tgreenPaint.setOpaque(true);\r\n\t\tgreenPaint.setBorderPainted(false);\r\n\t\tleftPanel.add(greenPaint);\r\n\t\tgreenPaint.setActionCommand(&quot;green&quot;);\r\n\r\n\t\t// blue\r\n\t\tJButton bluePaint = new JButton();\r\n\t\tbluePaint.setBackground(Color.BLUE);\r\n\t\tbluePaint.setOpaque(true);\r\n\t\tbluePaint.setBorderPainted(false);\r\n\t\tleftPanel.add(bluePaint);\r\n\t\tbluePaint.setActionCommand(&quot;blue&quot;);\r\n\r\n\t\tholder.add(leftPanel, BorderLayout.WEST);\r\n\r\n\t\t// still need to add painting panel to the CENTER panel\r\n\t\t\r\n\t\tcanvas = new PaintingPanel();\r\n\r\n\t\tholder.add(canvas, BorderLayout.CENTER);\r\n\t\t\r\n\t\tcircleBut.addActionListener(this);\r\n\t\tlineBut.addActionListener(this);\r\n\t\tredPaint.addActionListener(this);\r\n\t\tgreenPaint.addActionListener(this);\r\n\t\tbluePaint.addActionListener(this);\r\n\t\t\r\n\t\tcanvas.addMouseListener(this);\r\n\t\t//holder.addMouseMotionListener(this);\r\n\t\t// still need to add chat panel to the SOUTH panel\r\n\t\t\r\n\t\t\r\n\t\tframe.setContentPane(holder);\r\n\t\tframe.setVisible(true);\r\n\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tif (e.getActionCommand().equals(&quot;red&quot;)) {\r\n\t\t\ttemp = Color.RED;\r\n\t\t\tSystem.out.println(&quot;received r&quot;);\r\n\t\t} else if (e.getActionCommand().equals(&quot;green&quot;)) {\r\n\t\t\ttemp = Color.GREEN;\r\n\t\t\tSystem.out.println(&quot;received g&quot;);\r\n\t\t} else if (e.getActionCommand().equals(&quot;blue&quot;)) {\r\n\t\t\ttemp = Color.BLUE;\r\n\t\t\tSystem.out.println(&quot;received b&quot;);\r\n\t\t} else if (e.getActionCommand().equals(&quot;0&quot;)) {\r\n\t\t\tobject = 0;\r\n\t\t\tSystem.out.println(&quot;received 0&quot;);\r\n\t\t} else if (e.getActionCommand().equals(&quot;1&quot;)) {\r\n\t\t\tobject = 1;\r\n\t\t\tSystem.out.println(&quot;received 1&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\tstartPoint.setLocation(e.getPoint());\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// and this one\r\n\t\tendPoint.setLocation(e.getPoint());\r\n\t\t\r\n\t\tif (object == 0) {\r\n\t\t\tcanvas.addPrimitive(new Line(startPoint, endPoint, temp));\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (object == 1){\r\n\t\t\tcanvas.addPrimitive(new Circle(startPoint, endPoint, temp));\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tcanvas.repaint();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tPainter game1 = new Painter();\r\n\r\n\t}\r\n\r\n\t\r\n\r\n}\r\n\r\n```\r\nPaintingPrimitives:\r\n`\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\n\r\npublic abstract class PaintingPrimitive{\r\n\r\n\tColor color;\r\n\r\n\tPaintingPrimitive(Color color) {\r\n\t\tthis.color = color;\r\n\t}\r\n\r\n\t// This is an example of the Template Design Pattern\r\n\r\n\t// this is all invariant code\r\n\tpublic final void draw(Graphics g) {\r\n\t\tg.setColor(color);\r\n\t\tdrawGeometry(g);\r\n\t}\r\n\r\n\tpublic void setColor(Color color) {\r\n\t\tthis.color = color;\r\n\t}\r\n\r\n\tprotected abstract void drawGeometry(Graphics g);\r\n\r\n}\r\n\r\n```\r\n`\r\nLine Class:\r\n`\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.Point;\r\nimport java.awt.Color;\r\n\r\npublic class Line extends PaintingPrimitive{\r\n\tPoint startPoint = new Point();\r\n\tPoint endPoint = new Point();\r\n\r\n\tpublic Line(Point start, Point end, Color c) {\r\n\t\tsuper(c);\r\n\t\tthis.startPoint = start;\r\n\t\tthis.endPoint = end;\r\n\t}\r\n\t\r\n\r\n\tpublic void drawGeometry(Graphics g) {\r\n\t\tSystem.out.println(&quot;graw geo called&quot;);\r\n\t\tg.drawLine(startPoint.x, startPoint.y, endPoint.x, endPoint.y);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Line&quot;;\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n`\r\nPainting Panel: \r\n`\r\n```\r\nimport java.util.ArrayList;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\n\r\npublic class PaintingPanel extends JPanel {\r\n\r\n\tArrayList&lt;PaintingPrimitive&gt; primitives = new ArrayList&lt;PaintingPrimitive&gt;();\r\n\r\n\tPaintingPanel() {\r\n\t\tsetBackground(Color.WHITE);\r\n\t}\r\n\r\n\tpublic void addPrimitive(PaintingPrimitive obj) {\r\n\t\t\r\n\t\tprimitives.add(obj);\r\n\t\tthis.repaint();\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t// i&#39;m confident that this is not painting to the right graphics\r\n\t\t\r\n\t\tfor (PaintingPrimitive shape : primitives) {\r\n\t\t\t\r\n\t\t\t//g.dispose();\r\n\t\t\t\r\n\t\t\t//this line works. this line is drawn each time its updated. \r\n\t\t\tg.drawLine(0,0,100,100);\r\n\t\t\tshape.draw(g);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n`","title":"Why does this program only display the last graphic?","body":"<p>Im using JPanel and JFrame to create a program that can draw lines and circles. The problem is that my program only redraws the last object added.</p>\n<p>I have tried moving around the repaint. For some reason, when I directly draw shapes onto the graphic in paintComponent(), they show up and refresh each frame. However, I have methods inside of paintComponent that pass the graphic variable to elsewhere methods that draw to the graphic object, these are the shapes that do not show up.</p>\n<p>Painter Class</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Painter implements ActionListener, MouseListener, MouseMotionListener {\n    \n    /**\n     * \n     */\n\n    Color temp = Color.RED;\n    \n    // 0 = line, 1 = circle\n    int object = 0;\n    \n    PaintingPanel canvas;\n    \n    Point startPoint = new Point();\n    Point endPoint = new Point();\n\n    Painter() {\n        \n        //buttons\n        JButton circleBut = new JButton();\n        JButton lineBut = new JButton();\n        \n        //frame\n        //close operation\n        //resizes\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 500);\n        \n        //holder holds the information\n        JPanel holder = new JPanel();\n        JPanel leftPanel = new JPanel();\n        holder.setLayout(new BorderLayout());\n        leftPanel.setLayout(new GridLayout(3, 1)); // 3 by 1 grid\n\n        JPanel northPanel = new JPanel();\n        northPanel.setLayout(new GridLayout(1, 2)); // 3 by 1 grid\n        frame.add(holder);\n\n        // circle and line buttons\n\n        circleBut.setText(&quot;Circle&quot;);\n        lineBut.setText(&quot;Line&quot;);\n        northPanel.add(circleBut);\n        northPanel.add(lineBut);\n        circleBut.setActionCommand(&quot;1&quot;);\n        lineBut.setActionCommand(&quot;0&quot;);\n\n        //\n        holder.add(northPanel, BorderLayout.NORTH);\n\n        // red\n        JButton redPaint = new JButton();\n        redPaint.setBackground(Color.RED);\n        redPaint.setOpaque(true);\n        redPaint.setBorderPainted(false);\n        leftPanel.add(redPaint);\n        redPaint.setActionCommand(&quot;red&quot;);\n\n        // green\n        JButton greenPaint = new JButton();\n        greenPaint.setBackground(Color.GREEN);\n        greenPaint.setOpaque(true);\n        greenPaint.setBorderPainted(false);\n        leftPanel.add(greenPaint);\n        greenPaint.setActionCommand(&quot;green&quot;);\n\n        // blue\n        JButton bluePaint = new JButton();\n        bluePaint.setBackground(Color.BLUE);\n        bluePaint.setOpaque(true);\n        bluePaint.setBorderPainted(false);\n        leftPanel.add(bluePaint);\n        bluePaint.setActionCommand(&quot;blue&quot;);\n\n        holder.add(leftPanel, BorderLayout.WEST);\n\n        // still need to add painting panel to the CENTER panel\n        \n        canvas = new PaintingPanel();\n\n        holder.add(canvas, BorderLayout.CENTER);\n        \n        circleBut.addActionListener(this);\n        lineBut.addActionListener(this);\n        redPaint.addActionListener(this);\n        greenPaint.addActionListener(this);\n        bluePaint.addActionListener(this);\n        \n        canvas.addMouseListener(this);\n        //holder.addMouseMotionListener(this);\n        // still need to add chat panel to the SOUTH panel\n        \n        \n        frame.setContentPane(holder);\n        frame.setVisible(true);\n\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if (e.getActionCommand().equals(&quot;red&quot;)) {\n            temp = Color.RED;\n            System.out.println(&quot;received r&quot;);\n        } else if (e.getActionCommand().equals(&quot;green&quot;)) {\n            temp = Color.GREEN;\n            System.out.println(&quot;received g&quot;);\n        } else if (e.getActionCommand().equals(&quot;blue&quot;)) {\n            temp = Color.BLUE;\n            System.out.println(&quot;received b&quot;);\n        } else if (e.getActionCommand().equals(&quot;0&quot;)) {\n            object = 0;\n            System.out.println(&quot;received 0&quot;);\n        } else if (e.getActionCommand().equals(&quot;1&quot;)) {\n            object = 1;\n            System.out.println(&quot;received 1&quot;);\n        }\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        \n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        startPoint.setLocation(e.getPoint());\n        \n        \n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // and this one\n        endPoint.setLocation(e.getPoint());\n        \n        if (object == 0) {\n            canvas.addPrimitive(new Line(startPoint, endPoint, temp));          \n        }\n        \n        if (object == 1){\n            canvas.addPrimitive(new Circle(startPoint, endPoint, temp));            \n        }\n        \n        canvas.repaint();\n        \n        \n        \n        \n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    public static void main(String[] args) {\n\n        Painter game1 = new Painter();\n\n    }\n\n    \n\n}\n\n</code></pre>\n<p>PaintingPrimitives:\n`</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Color;\n\npublic abstract class PaintingPrimitive{\n\n    Color color;\n\n    PaintingPrimitive(Color color) {\n        this.color = color;\n    }\n\n    // This is an example of the Template Design Pattern\n\n    // this is all invariant code\n    public final void draw(Graphics g) {\n        g.setColor(color);\n        drawGeometry(g);\n    }\n\n    public void setColor(Color color) {\n        this.color = color;\n    }\n\n    protected abstract void drawGeometry(Graphics g);\n\n}\n\n</code></pre>\n<p><code>Line Class:</code></p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.Color;\n\npublic class Line extends PaintingPrimitive{\n    Point startPoint = new Point();\n    Point endPoint = new Point();\n\n    public Line(Point start, Point end, Color c) {\n        super(c);\n        this.startPoint = start;\n        this.endPoint = end;\n    }\n    \n\n    public void drawGeometry(Graphics g) {\n        System.out.println(&quot;graw geo called&quot;);\n        g.drawLine(startPoint.x, startPoint.y, endPoint.x, endPoint.y);\n        \n    }\n    \n    \n    @Override\n    public String toString() {\n        return &quot;Line&quot;;\n        \n    }\n}\n\n</code></pre>\n<p><code>Painting Panel: </code></p>\n<pre><code>import java.util.ArrayList;\nimport javax.swing.JPanel;\nimport java.awt.Graphics;\nimport java.awt.Color;\n\npublic class PaintingPanel extends JPanel {\n\n    ArrayList&lt;PaintingPrimitive&gt; primitives = new ArrayList&lt;PaintingPrimitive&gt;();\n\n    PaintingPanel() {\n        setBackground(Color.WHITE);\n    }\n\n    public void addPrimitive(PaintingPrimitive obj) {\n        \n        primitives.add(obj);\n        this.repaint();\n\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        // i'm confident that this is not painting to the right graphics\n        \n        for (PaintingPrimitive shape : primitives) {\n            \n            //g.dispose();\n            \n            //this line works. this line is drawn each time its updated. \n            g.drawLine(0,0,100,100);\n            shape.draw(g);\n        }\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","character-encoding","codepoint","charset"],"answers":[{"comments":[{"owner":{"account_id":2380921,"reputation":3,"user_id":11512044,"display_name":"Jindra Petř&#237;k"},"score":0,"creation_date":1668227170,"post_id":74409571,"comment_id":131360151,"body_markdown":"Thank you. Is there a way how to tell how many bytes specific charset uses or if it&#39;s variable length? UTF-8 is variable length for example. Are there any other charsets which are variable length too? My point is that I probably need to make list of charsets which are single byte, two byte  (which directly store codepoint) and other specials, to make universal conversion of codepoints happen.","body":"Thank you. Is there a way how to tell how many bytes specific charset uses or if it&#39;s variable length? UTF-8 is variable length for example. Are there any other charsets which are variable length too? My point is that I probably need to make list of charsets which are single byte, two byte  (which directly store codepoint) and other specials, to make universal conversion of codepoints happen."},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1668230716,"post_id":74409571,"comment_id":131360452,"body_markdown":"For more information on a character set, you should check the specification for that character set. I don&#39;t understand what you mean by code points outside of Unicode. However, I think it&#39;s more or less correct to interpret codes over 255 as double-byte code characters.","body":"For more information on a character set, you should check the specification for that character set. I don&#39;t understand what you mean by code points outside of Unicode. However, I think it&#39;s more or less correct to interpret codes over 255 as double-byte code characters."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668276329,"post_id":74409571,"comment_id":131367947,"body_markdown":"Since you started with nio, you can get there in a similar way and slightly more directly with `ByteBuffer bb = ByteBuffer.allocate(2).putChar((char)sourceCodePoint).rewind(); String targetString = sourceCharset.newDecoder().decode(bb).toString();`","body":"Since you started with nio, you can get there in a similar way and slightly more directly with <code>ByteBuffer bb = ByteBuffer.allocate(2).putChar((char)sourceCodePoint).rewind&zwnj;&#8203;(); String targetString = sourceCharset.newDecoder().decode(bb).toString();</code>"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668214326,"creation_date":1668214326,"answer_id":74409571,"question_id":74408856,"body_markdown":"\r\nAt least in Java there is no notion of codepoints for character sets other than Unicode. You have to convert the integer to byte array and then to unicode. \r\n\r\n        Charset sourceCharset = Charset.forName(&quot;windows-1250&quot;);                \r\n        int sourceCodePoint = 248; // ř\r\n        byte[] bytes = {(byte)sourceCodePoint};\r\n        String targetString = new String(bytes, sourceCharset);\r\n        int targetCodePoint = targetString.codePointAt(0);\r\n        System.out.println(&quot;targetString = &quot; + targetString);\r\n        System.out.println(&quot;targetCodePoint = &quot; + targetCodePoint);\r\n\r\noutput:\r\n\r\n    targetString = ř\r\n    targetCodePoint = 345\r\n\r\nChinese characters in GB2312 are represented by 2 bytes, so you need to store them in a byte array of length 2.\r\n\r\n        Charset sourceCharset = Charset.forName(&quot;GB2312&quot;);                \r\n        int sourceCodePoint = 45257; // 吧 chinese character\r\n        byte[] bytes = ByteBuffer.allocate(2).putShort((short)sourceCodePoint).array();\r\n        String targetString = new String(bytes, sourceCharset);\r\n        int targetCodePoint = targetString.codePointAt(0);\r\n        System.out.println(&quot;targetString = &quot; + targetString);\r\n        System.out.println(&quot;targetCodePoint = &quot; + targetCodePoint);\r\n\r\noutput:\r\n\r\n    targetString = 吧\r\n    targetCodePoint = 21543\r\n\r\n","title":"How to convert codepoint of one charset to another in Java?","body":"<p>At least in Java there is no notion of codepoints for character sets other than Unicode. You have to convert the integer to byte array and then to unicode.</p>\n<pre><code>    Charset sourceCharset = Charset.forName(&quot;windows-1250&quot;);                \n    int sourceCodePoint = 248; // ř\n    byte[] bytes = {(byte)sourceCodePoint};\n    String targetString = new String(bytes, sourceCharset);\n    int targetCodePoint = targetString.codePointAt(0);\n    System.out.println(&quot;targetString = &quot; + targetString);\n    System.out.println(&quot;targetCodePoint = &quot; + targetCodePoint);\n</code></pre>\n<p>output:</p>\n<pre><code>targetString = ř\ntargetCodePoint = 345\n</code></pre>\n<p>Chinese characters in GB2312 are represented by 2 bytes, so you need to store them in a byte array of length 2.</p>\n<pre><code>    Charset sourceCharset = Charset.forName(&quot;GB2312&quot;);                \n    int sourceCodePoint = 45257; // 吧 chinese character\n    byte[] bytes = ByteBuffer.allocate(2).putShort((short)sourceCodePoint).array();\n    String targetString = new String(bytes, sourceCharset);\n    int targetCodePoint = targetString.codePointAt(0);\n    System.out.println(&quot;targetString = &quot; + targetString);\n    System.out.println(&quot;targetCodePoint = &quot; + targetCodePoint);\n</code></pre>\n<p>output:</p>\n<pre><code>targetString = 吧\ntargetCodePoint = 21543\n</code></pre>\n"}],"owner":{"account_id":2380921,"reputation":3,"user_id":11512044,"display_name":"Jindra Petř&#237;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74409571,"answer_count":1,"score":-1,"last_activity_date":1668214326,"creation_date":1668206458,"question_id":74408856,"body_markdown":"I am trying to convert codepoints from one charset to another in Java.\r\n\r\nFor example character `ř` is 248 in `windows-1250`, 345 in `unicode`.\r\n\r\nSo I have source charset and source codepoint and target charset and want to calculate target codepoint.\r\n\r\nThis may sound easy as windows-1250 is single byte,\r\nbut I want it to work on any charset, like `GB2312`.\r\n\r\nI guess it can be done somehow with `Charset` class,\r\nbut it seems that it only converts bytes, not actual code points.\r\n\r\n```java\r\nCharset sourceCharset = Charset.forName(&quot;GB2312&quot;);                \r\nint sourceCodePoint = 45257; //吧 chinese character\r\nCharset targetCharset = Charset.forName(&quot;UTF-8&quot;);                \r\nint targetCodePoint = ...; //???\r\n```\r\n\r\nI checked Charset class for methods codepoint related, but there&#39;s only decode and encode, which works with bytes. I tried googling something related but without success.\r\n\r\nThanks in advance for any help.\r\n\r\n\r\n","title":"How to convert codepoint of one charset to another in Java?","body":"<p>I am trying to convert codepoints from one charset to another in Java.</p>\n<p>For example character <code>ř</code> is 248 in <code>windows-1250</code>, 345 in <code>unicode</code>.</p>\n<p>So I have source charset and source codepoint and target charset and want to calculate target codepoint.</p>\n<p>This may sound easy as windows-1250 is single byte,\nbut I want it to work on any charset, like <code>GB2312</code>.</p>\n<p>I guess it can be done somehow with <code>Charset</code> class,\nbut it seems that it only converts bytes, not actual code points.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Charset sourceCharset = Charset.forName(&quot;GB2312&quot;);                \nint sourceCodePoint = 45257; //吧 chinese character\nCharset targetCharset = Charset.forName(&quot;UTF-8&quot;);                \nint targetCodePoint = ...; //???\n</code></pre>\n<p>I checked Charset class for methods codepoint related, but there's only decode and encode, which works with bytes. I tried googling something related but without success.</p>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","maven","quarkus","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668214280,"creation_date":1668214280,"answer_id":74409569,"question_id":74407961,"body_markdown":"Solution was my `application.yml` not correctly written. \r\nHere is the solution with the standard MicroProfile Rest Client properties notation:\r\n\r\n```\r\nquarkus:\r\n  http:\r\n    port: 8080\r\n\r\nproduct-client/mp-rest/url: http://127.0.0.1:9090/api/v1\r\nproduct-client/mp-rest/scope: javax.inject.Singleton\r\n```\r\n\r\n`product-client` being my config key passed as a parameter to my `@RegisterRestClient` annotation. \r\n","title":"java.lang.IllegalArgumentException: Unable to determine the proper baseUrl/baseUri","body":"<p>Solution was my <code>application.yml</code> not correctly written.\nHere is the solution with the standard MicroProfile Rest Client properties notation:</p>\n<pre><code>quarkus:\n  http:\n    port: 8080\n\nproduct-client/mp-rest/url: http://127.0.0.1:9090/api/v1\nproduct-client/mp-rest/scope: javax.inject.Singleton\n</code></pre>\n<p><code>product-client</code> being my config key passed as a parameter to my <code>@RegisterRestClient</code> annotation.</p>\n"}],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409569,"answer_count":1,"score":0,"last_activity_date":1668214280,"creation_date":1668199504,"question_id":74407961,"body_markdown":"I&#39;m facing the same issue as mentionned on this link : [https://github.com/quarkusio/quarkus/issues/17807)][1]\r\n\r\nI&#39;m trying to send a POST request using Quarkus and the Rest Client.\r\nMy configuration registered in my `application.yml` does not seem to be binded in my `@RegisteredRestClient`&#39;s annoted interface.\r\n\r\nHere a part of my `pom.xml` :\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.7.6.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThe interface I want to use:\r\n\r\n```\r\npackage org.mapstruct.restclient;\r\n\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\r\nimport org.mapstruct.dto.Product;\r\n\r\n@Path(&quot;/v1&quot;)\r\n@RegisterRestClient(configKey= &quot;product-client&quot;)\r\npublic interface ProductSender {\r\n    \r\n    @POST\r\n    @Path(&quot;sendProduct&quot;)\r\n    Response sendProduct(Product product);\r\n}\r\n```\r\n\r\nHere is my `application.yml`:\r\n\r\n```\r\nquarkus:\r\n  http:\r\n    port: 8080\r\n  rest-client:\r\n    product-client:\r\n      url: http://localhost:9090/api\r\n      scope: javax.inject.Singleton \r\n```\r\n\r\nThe full stack trace :\r\n\r\n```\r\nERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /product/controller/sendProduct failed, error id: 964a05b3-c18e-4412-ae20-5f58a8ecac48-1: org.jboss.resteasy.spi.UnhandledException: java.lang.RuntimeException: Error injecting org.mapstruct.restclient.ProductSender org.mapstruct.service.ProductSenderService.sender\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:91)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:545)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.RuntimeException: Error injecting org.mapstruct.restclient.ProductSender org.mapstruct.service.ProductSenderService.sender\r\n        at org.mapstruct.service.ProductSenderService_Bean.create(Unknown Source)\r\n        at org.mapstruct.service.ProductSenderService_Bean.create(Unknown Source)\r\n        at io.quarkus.arc.impl.RequestContext.getIfActive(RequestContext.java:74)\r\n        at io.quarkus.arc.impl.ClientProxies.getDelegate(ClientProxies.java:27)\r\n        at org.mapstruct.service.ProductSenderService_ClientProxy.arc$delegate(Unknown Source)\r\n        at org.mapstruct.service.ProductSenderService_ClientProxy.sendProductToMySecondApp(Unknown Source)\r\n        at org.mapstruct.controller.ProductController.sendProduct(ProductController.java:51)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n        ... 15 more\r\nCaused by: java.lang.IllegalArgumentException: Unable to determine the proper baseUrl/baseUri. Consider registering using @RegisterRestClient(baseUri=&quot;someuri&quot;), @RegisterRestClient(configKey=&quot;orkey&quot;), or by adding &#39;quarkus.rest-client.&quot;productSender&quot;.url&#39; or &#39;quarkus.rest-client.&quot;productSender&quot;.uri&#39; to your Quarkus configuration\r\n        at io.quarkus.restclient.runtime.RestClientBase.configureBaseUrl(RestClientBase.java:294)\r\n        at io.quarkus.restclient.runtime.RestClientBase.create(RestClientBase.java:58)\r\n        at org.mapstruct.restclient.ProductSender_7723bcd3d207234cae80053c1b7d507eb8298d56_Synthetic_Bean.create(Unknown Source)\r\n        at org.mapstruct.restclient.ProductSender_7723bcd3d207234cae80053c1b7d507eb8298d56_Synthetic_Bean.get(Unknown Source)\r\n        at org.mapstruct.restclient.ProductSender_7723bcd3d207234cae80053c1b7d507eb8298d56_Synthetic_Bean.get(Unknown Source)\r\n        at io.quarkus.arc.impl.CurrentInjectionPointProvider.get(CurrentInjectionPointProvider.java:52)\r\n        ... 37 more\r\n```\r\n\r\nI&#39;ve already tried to use the `configKey` value as you can see, because mentioning the full name of the class results in the same mistake.\r\n\r\nI&#39;m following the guide: [https://quarkus.io/guides/rest-client#create-the-configuration][2]\r\n\r\nAdditionnaly, some conf i use :\r\n\r\n`mvn -v`command:\r\n\r\n```\r\nApache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\r\nMaven home: C:\\Users\\****\\apache-maven-3.8.5\r\nJava version: 17.0.2, vendor: Oracle Corporation, runtime: C:\\Users\\****\\.jdks\\openjdk-17.0.2\r\nDefault locale: fr_FR, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\n\r\n`java --version` command :\r\n\r\n```\r\nopenjdk 17.0.4.1 2022-08-12\r\nOpenJDK Runtime Environment Temurin-17.0.4.1+1 (build 17.0.4.1+1)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.4.1+1 (build 17.0.4.1+1, mixed mode, sharing)\r\n```\r\n\r\nI am waiting for your questions / answers.\r\nThanks in advance\r\n\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/17807\r\n  [2]: https://quarkus.io/guides/rest-client#create-the-configuration","title":"java.lang.IllegalArgumentException: Unable to determine the proper baseUrl/baseUri","body":"<p>I'm facing the same issue as mentionned on this link : <a href=\"https://github.com/quarkusio/quarkus/issues/17807\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/17807)</a></p>\n<p>I'm trying to send a POST request using Quarkus and the Rest Client.\nMy configuration registered in my <code>application.yml</code> does not seem to be binded in my <code>@RegisteredRestClient</code>'s annoted interface.</p>\n<p>Here a part of my <code>pom.xml</code> :</p>\n<pre><code>&lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.7.6.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The interface I want to use:</p>\n<pre><code>package org.mapstruct.restclient;\n\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Response;\n\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\nimport org.mapstruct.dto.Product;\n\n@Path(&quot;/v1&quot;)\n@RegisterRestClient(configKey= &quot;product-client&quot;)\npublic interface ProductSender {\n    \n    @POST\n    @Path(&quot;sendProduct&quot;)\n    Response sendProduct(Product product);\n}\n</code></pre>\n<p>Here is my <code>application.yml</code>:</p>\n<pre><code>quarkus:\n  http:\n    port: 8080\n  rest-client:\n    product-client:\n      url: http://localhost:9090/api\n      scope: javax.inject.Singleton \n</code></pre>\n<p>The full stack trace :</p>\n<pre><code>ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /product/controller/sendProduct failed, error id: 964a05b3-c18e-4412-ae20-5f58a8ecac48-1: org.jboss.resteasy.spi.UnhandledException: java.lang.RuntimeException: Error injecting org.mapstruct.restclient.ProductSender org.mapstruct.service.ProductSenderService.sender\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:91)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:545)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.RuntimeException: Error injecting org.mapstruct.restclient.ProductSender org.mapstruct.service.ProductSenderService.sender\n        at org.mapstruct.service.ProductSenderService_Bean.create(Unknown Source)\n        at org.mapstruct.service.ProductSenderService_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.RequestContext.getIfActive(RequestContext.java:74)\n        at io.quarkus.arc.impl.ClientProxies.getDelegate(ClientProxies.java:27)\n        at org.mapstruct.service.ProductSenderService_ClientProxy.arc$delegate(Unknown Source)\n        at org.mapstruct.service.ProductSenderService_ClientProxy.sendProductToMySecondApp(Unknown Source)\n        at org.mapstruct.controller.ProductController.sendProduct(ProductController.java:51)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        ... 15 more\nCaused by: java.lang.IllegalArgumentException: Unable to determine the proper baseUrl/baseUri. Consider registering using @RegisterRestClient(baseUri=&quot;someuri&quot;), @RegisterRestClient(configKey=&quot;orkey&quot;), or by adding 'quarkus.rest-client.&quot;productSender&quot;.url' or 'quarkus.rest-client.&quot;productSender&quot;.uri' to your Quarkus configuration\n        at io.quarkus.restclient.runtime.RestClientBase.configureBaseUrl(RestClientBase.java:294)\n        at io.quarkus.restclient.runtime.RestClientBase.create(RestClientBase.java:58)\n        at org.mapstruct.restclient.ProductSender_7723bcd3d207234cae80053c1b7d507eb8298d56_Synthetic_Bean.create(Unknown Source)\n        at org.mapstruct.restclient.ProductSender_7723bcd3d207234cae80053c1b7d507eb8298d56_Synthetic_Bean.get(Unknown Source)\n        at org.mapstruct.restclient.ProductSender_7723bcd3d207234cae80053c1b7d507eb8298d56_Synthetic_Bean.get(Unknown Source)\n        at io.quarkus.arc.impl.CurrentInjectionPointProvider.get(CurrentInjectionPointProvider.java:52)\n        ... 37 more\n</code></pre>\n<p>I've already tried to use the <code>configKey</code> value as you can see, because mentioning the full name of the class results in the same mistake.</p>\n<p>I'm following the guide: <a href=\"https://quarkus.io/guides/rest-client#create-the-configuration\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rest-client#create-the-configuration</a></p>\n<p>Additionnaly, some conf i use :</p>\n<p><code>mvn -v</code>command:</p>\n<pre><code>Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\nMaven home: C:\\Users\\****\\apache-maven-3.8.5\nJava version: 17.0.2, vendor: Oracle Corporation, runtime: C:\\Users\\****\\.jdks\\openjdk-17.0.2\nDefault locale: fr_FR, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p><code>java --version</code> command :</p>\n<pre><code>openjdk 17.0.4.1 2022-08-12\nOpenJDK Runtime Environment Temurin-17.0.4.1+1 (build 17.0.4.1+1)\nOpenJDK 64-Bit Server VM Temurin-17.0.4.1+1 (build 17.0.4.1+1, mixed mode, sharing)\n</code></pre>\n<p>I am waiting for your questions / answers.\nThanks in advance</p>\n"},{"tags":["java","kotlin","sealed-class"],"answers":[{"comments":[{"owner":{"account_id":2000285,"reputation":890,"user_id":2052937,"accept_rate":88,"display_name":"Douglas Mesquita"},"score":2,"creation_date":1604929926,"post_id":53771710,"comment_id":114489050,"body_markdown":"In my case, I&#39;m getting `Cannot resolve symbol &#39;INSTANCE&#39;`","body":"In my case, I&#39;m getting <code>Cannot resolve symbol &#39;INSTANCE&#39;</code>"}],"tags":[],"owner":{"account_id":3250978,"reputation":26002,"user_id":2741273,"accept_rate":71,"display_name":"Francesc"},"comment_count":1,"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1544745019,"creation_date":1544745019,"answer_id":53771710,"question_id":53771643,"body_markdown":"You have to use the `INSTANCE` property:\r\n\r\n    ScanAction test = ScanAction.Continue.INSTANCE;","title":"Accessing Kotlin Sealed Class from Java","body":"<p>You have to use the <code>INSTANCE</code> property:</p>\n\n<pre><code>ScanAction test = ScanAction.Continue.INSTANCE;\n</code></pre>\n"}],"owner":{"account_id":290926,"reputation":1218,"user_id":592756,"accept_rate":38,"display_name":"ssawchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9487,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":53771710,"answer_count":1,"score":31,"last_activity_date":1668213843,"creation_date":1544744526,"question_id":53771643,"body_markdown":"Up until now I have been using this Kotlin sealed class:\r\n\r\n    sealed class ScanAction {\r\n       class Continue: ScanAction()\r\n       class Stop: ScanAction()\r\n       ... /* There&#39;s more but that&#39;s not super important */\r\n    }\r\n\r\nWhich has been working great in both my Kotlin and Java code. Today I tried changing this class to use objects instead (as is recommended to reduce extra class instantiation): \r\n\r\n    sealed class ScanAction {\r\n       object Continue: ScanAction()\r\n       object Stop: ScanAction()\r\n    }\r\n\r\nI am able to reference this easy peasy in my other Kotlin files, but I am now struggling to use it in my Java files.\r\n\r\nI have tried the following and both of these kick back compilation errors when trying to make reference to in Java:\r\n\r\n    ScanAction test = ScanAction.Continue;\r\n\r\n    ScanAction test = new ScanAction.Continue();\r\n\r\nDoes anyone know how I can reference the instance in Java now?\r\n\r\n","title":"Accessing Kotlin Sealed Class from Java","body":"<p>Up until now I have been using this Kotlin sealed class:</p>\n\n<pre><code>sealed class ScanAction {\n   class Continue: ScanAction()\n   class Stop: ScanAction()\n   ... /* There's more but that's not super important */\n}\n</code></pre>\n\n<p>Which has been working great in both my Kotlin and Java code. Today I tried changing this class to use objects instead (as is recommended to reduce extra class instantiation): </p>\n\n<pre><code>sealed class ScanAction {\n   object Continue: ScanAction()\n   object Stop: ScanAction()\n}\n</code></pre>\n\n<p>I am able to reference this easy peasy in my other Kotlin files, but I am now struggling to use it in my Java files.</p>\n\n<p>I have tried the following and both of these kick back compilation errors when trying to make reference to in Java:</p>\n\n<pre><code>ScanAction test = ScanAction.Continue;\n\nScanAction test = new ScanAction.Continue();\n</code></pre>\n\n<p>Does anyone know how I can reference the instance in Java now?</p>\n"},{"tags":["java","inputstream","processbuilder","outputstream","bufferedinputstream"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668162925,"post_id":74400920,"comment_id":131344124,"body_markdown":"Yes, try to read from it, and it will block until data is available. Checking `available()` is almost always the wrong thing to do. Read the JavaDoc for the method for an explanation https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/InputStream.html#available()","body":"Yes, try to read from it, and it will block until data is available. Checking <code>available()</code> is almost always the wrong thing to do. Read the JavaDoc for the method for an explanation <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"score":0,"creation_date":1668163394,"post_id":74400920,"comment_id":131344278,"body_markdown":"@TimMoore Well, that is my question how to make it available. If I use read(), it just blocks the stream forever (though data should be available almost immediately, that is 1 row to return query performed). I suppose that BufferedInputStream collects all the data and releases it when output stream is closed. And I need to read it before the stream closed (if it&#39;s possible), after each command execution.","body":"@TimMoore Well, that is my question how to make it available. If I use read(), it just blocks the stream forever (though data should be available almost immediately, that is 1 row to return query performed). I suppose that BufferedInputStream collects all the data and releases it when output stream is closed. And I need to read it before the stream closed (if it&#39;s possible), after each command execution."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668170110,"post_id":74400920,"comment_id":131346563,"body_markdown":"It&#39;s extraordinary how we seem to get spates of questions. This last week it&#39;s been the specialized &quot;how do I execute a mysql (usually) command line client&quot;. Why are you doing this and not using Java APIs? This kind of process interaction is non-trivial","body":"It&#39;s extraordinary how we seem to get spates of questions. This last week it&#39;s been the specialized &quot;how do I execute a mysql (usually) command line client&quot;. Why are you doing this and not using Java APIs? This kind of process interaction is non-trivial"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668212478,"creation_date":1668212478,"answer_id":74409436,"question_id":74400920,"body_markdown":"I think what&#39;s happening is that the `mysql` client detects that standard input is not a terminal, and runs in [batch mode][1] rather than in interactive mode. This isn&#39;t caused by the behaviour of `BufferedReader`: it&#39;s blocking indefinitely on read, and reporting 0 bytes available because there genuinely isn&#39;t anything to read from the output of the subprocess.\r\n\r\nIn batch mode, the client expects to read a list of commands from standard input, and only executes them once the end of file is reached. In other words, the subprocess will not produce any output on the `InputStream` you see in your parent process until your parent process closes the `OutputStream` of the subprocess.\r\n\r\nIt appears that there&#39;s no way to force `mysql` to run in interactive mode (according to this question: [&quot;How to force mysql.exe to run in &quot;interactive&quot; mode?&quot;][2], and the [documentation of command line options][3]).\r\n\r\nThe `mysqlsh` client _can_ be [forced into interactive mode][4], but it is worth considering whether this is really the best solution for your use case. Other alternatives include:\r\n\r\n1. Embracing batch mode and executing all of the commands together, if the form of each command does not depend on the results of previous ones\r\n2. Sequentially invoking the subprocess multiple times in batch mode, if subsequent commands _do_ depend on the results of previous ones\r\n3. Performing the queries using JDBC (as g00se recommended in the comments)\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/batch-mode.html\r\n  [2]: https://stackoverflow.com/q/1890364/29470\r\n  [3]: https://dev.mysql.com/doc/refman/8.0/en/mysql-command-options.html\r\n  [4]: https://dev.mysql.com/doc/mysql-shell/8.0/en/mysqlsh.html#option_mysqlsh_interactive","title":"Force BufferedInputStream to return captured content","body":"<p>I think what's happening is that the <code>mysql</code> client detects that standard input is not a terminal, and runs in <a href=\"https://dev.mysql.com/doc/refman/8.0/en/batch-mode.html\" rel=\"nofollow noreferrer\">batch mode</a> rather than in interactive mode. This isn't caused by the behaviour of <code>BufferedReader</code>: it's blocking indefinitely on read, and reporting 0 bytes available because there genuinely isn't anything to read from the output of the subprocess.</p>\n<p>In batch mode, the client expects to read a list of commands from standard input, and only executes them once the end of file is reached. In other words, the subprocess will not produce any output on the <code>InputStream</code> you see in your parent process until your parent process closes the <code>OutputStream</code> of the subprocess.</p>\n<p>It appears that there's no way to force <code>mysql</code> to run in interactive mode (according to this question: <a href=\"https://stackoverflow.com/q/1890364/29470\">&quot;How to force mysql.exe to run in &quot;interactive&quot; mode?&quot;</a>, and the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/mysql-command-options.html\" rel=\"nofollow noreferrer\">documentation of command line options</a>).</p>\n<p>The <code>mysqlsh</code> client <em>can</em> be <a href=\"https://dev.mysql.com/doc/mysql-shell/8.0/en/mysqlsh.html#option_mysqlsh_interactive\" rel=\"nofollow noreferrer\">forced into interactive mode</a>, but it is worth considering whether this is really the best solution for your use case. Other alternatives include:</p>\n<ol>\n<li>Embracing batch mode and executing all of the commands together, if the form of each command does not depend on the results of previous ones</li>\n<li>Sequentially invoking the subprocess multiple times in batch mode, if subsequent commands <em>do</em> depend on the results of previous ones</li>\n<li>Performing the queries using JDBC (as g00se recommended in the comments)</li>\n</ol>\n"}],"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668212478,"creation_date":1668161459,"question_id":74400920,"body_markdown":"I have a Spring Boot REST application with 2 endpoints: first starts the Process (db shell) with a command like &#39;mysql -e root&#39;. Second one accepts command (query) and writes it to OutputStream (which is BufferedOutputStream from Process implementation).\r\n\r\nStarting the Process (MySQL shell):\r\n\r\n    ProcessBuilder builder = new ProcessBuilder(commands);\r\n    builder.redirectErrorStream(true);\r\n    process = builder.start();\r\n    out = process.getInputStream();\r\n    in = process.getOutputStream();\r\nExecuting a command (e.g. &#39;select * from db.some_table;\\n&#39;):\r\n\r\n    byte[] commandBytes = command.getBytes(Charset.defaultCharset());\r\n    in.write(commandBytes, 0, commandBytes.length);\r\n    in.flush();\r\nAfter running a command (query) I want to return its result (or at least, output it to the console) with:\r\n\r\n    int no = out.available();\r\n      if (no &gt; 0) {\r\n        int n = out.read(buffer, 0, Math.min(no, buffer.length));\r\n        System.out.println(new String(buffer, 0, n));\r\n      }\r\nThe problem is that out.available() is always 0.\r\nIf I call close() on an output stream, out.available() returns all the input stream length and I can read from it. But that is not what I want.\r\n\r\n**Can I somehow force BufferedInputStream to make result available to be read without closing the stream?**\r\n\r\n I see that internally BufferedInputStream uses FileInputStream and FileChannel, but I haven&#39;t found a way to capture the result when output stream is not closed.","title":"Force BufferedInputStream to return captured content","body":"<p>I have a Spring Boot REST application with 2 endpoints: first starts the Process (db shell) with a command like 'mysql -e root'. Second one accepts command (query) and writes it to OutputStream (which is BufferedOutputStream from Process implementation).</p>\n<p>Starting the Process (MySQL shell):</p>\n<pre><code>ProcessBuilder builder = new ProcessBuilder(commands);\nbuilder.redirectErrorStream(true);\nprocess = builder.start();\nout = process.getInputStream();\nin = process.getOutputStream();\n</code></pre>\n<p>Executing a command (e.g. 'select * from db.some_table;\\n'):</p>\n<pre><code>byte[] commandBytes = command.getBytes(Charset.defaultCharset());\nin.write(commandBytes, 0, commandBytes.length);\nin.flush();\n</code></pre>\n<p>After running a command (query) I want to return its result (or at least, output it to the console) with:</p>\n<pre><code>int no = out.available();\n  if (no &gt; 0) {\n    int n = out.read(buffer, 0, Math.min(no, buffer.length));\n    System.out.println(new String(buffer, 0, n));\n  }\n</code></pre>\n<p>The problem is that out.available() is always 0.\nIf I call close() on an output stream, out.available() returns all the input stream length and I can read from it. But that is not what I want.</p>\n<p><strong>Can I somehow force BufferedInputStream to make result available to be read without closing the stream?</strong></p>\n<p>I see that internally BufferedInputStream uses FileInputStream and FileChannel, but I haven't found a way to capture the result when output stream is not closed.</p>\n"},{"tags":["java","swing","animation","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642283472,"post_id":70718553,"comment_id":125031347,"body_markdown":"Okay, so apparently I have a hard time walking away from a good animation challenge, I went back used my personal &quot;super simple animation framework&quot; to see what I could achieve, [BounceImagePixel](https://github.com/RustyKnight/BounceImagePixel/blob/main/README.md).  This comes with no support though ;)","body":"Okay, so apparently I have a hard time walking away from a good animation challenge, I went back used my personal &quot;super simple animation framework&quot; to see what I could achieve, <a href=\"https://github.com/RustyKnight/BounceImagePixel/blob/main/README.md\" rel=\"nofollow noreferrer\">BounceImagePixel</a>.  This comes with no support though ;)"}],"answers":[{"comments":[{"owner":{"account_id":19292180,"reputation":19,"user_id":14101905,"display_name":"user14101905"},"score":0,"creation_date":1642223945,"post_id":70718933,"comment_id":125019577,"body_markdown":"Thanks a lot I had no clue there was tweenlite for java. I&#39;m definitely going to look at all your code. Thanks :)","body":"Thanks a lot I had no clue there was tweenlite for java. I&#39;m definitely going to look at all your code. Thanks :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642224143,"post_id":70718933,"comment_id":125019597,"body_markdown":"@user14101905 Well, don&#39;t look at all of it, just look at the good stuff &#128540;&#129315;","body":"@user14101905 Well, don&#39;t look at all of it, just look at the good stuff 😜🤣"},{"owner":{"account_id":19292180,"reputation":19,"user_id":14101905,"display_name":"user14101905"},"score":0,"creation_date":1642310959,"post_id":70718933,"comment_id":125034805,"body_markdown":"quick question would you happen to know how the tween engine works because I now have everything working but I can&#39;t figure out how to get Tween.to to move the dot to the certain point","body":"quick question would you happen to know how the tween engine works because I now have everything working but I can&#39;t figure out how to get Tween.to to move the dot to the certain point"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642318660,"post_id":70718933,"comment_id":125035673,"body_markdown":"@user14101905 No, I&#39;ve not really used it personally","body":"@user14101905 No, I&#39;ve not really used it personally"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642370937,"post_id":70718933,"comment_id":125047092,"body_markdown":"@user14101905 I&#39;ve had a little play around with the tween engine, the documentation is hard to find.  Have a look at [BasicUnversialTweenEngineTest](https://github.com/RustyKnight/BasicUnversialTweenEngineTest/tree/main) for a really basic example","body":"@user14101905 I&#39;ve had a little play around with the tween engine, the documentation is hard to find.  Have a look at <a href=\"https://github.com/RustyKnight/BasicUnversialTweenEngineTest/tree/main\" rel=\"nofollow noreferrer\">BasicUnversialTweenEngineTest</a> for a really basic example"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668212400,"creation_date":1642222069,"answer_id":70718933,"question_id":70718553,"body_markdown":"You are in for a massive deep dive.  Animation, good animation, animation you don&#39;t notice, is really, really hard to achieve and is a very complex subject.\r\n\r\nYou&#39;ve kind of started in the right direction.  You need some kind of &quot;ticker&quot; to tell you when the animation should update, but it kind of falls apart after that.\r\n\r\nThe first thing you want to do is move away from the concept of &quot;linear progression&quot;.  That is, on each &quot;tick&quot;, the object is moved by a specific delta value.  This doesn&#39;t produce good animation and can fall apart really quickly when you want to change the speed or duration of the animation.\r\n\r\nA better solution is to start with a &quot;duration based progress&quot;.  This is, basically, the animation will run over a fixed period of time and on each tick of the animation, you calculate the new &quot;state&quot; of the object based on the amount of time which has passed and the amount of time remaining.\r\n\r\nThis has the benefit of &quot;normalising&quot; the timeline.  That is, the animation occurs between 0-1.  From this it becomes incredibly easy to calculate where a object should be along that time line.  Want to make it faster or slower?  Change the duration, the rest is taken care for you!\r\n\r\nTo start with, figure out how to move one dot from one point to another, if you can move one, you can move a thousand.\r\n\r\n# Duration base animation engine...\r\n\r\nPlay close attention to:\r\n\r\n* The `Utilities` class\r\n* The `DurationAnimationEngine`\r\n\r\nThe engine is backed by a Swing `Timer`, so it&#39;s safe to use within Swing.  It&#39;s whole purpose to run (as fast as it safely can) for a specified period of time and produce &quot;ticks&quot; with the amount of progression has occurred (remember, normalised time)\r\n\r\nThe following is basic implementation of the animation.  A lot of the &quot;work&quot; happens in the `mouseClicked` event, as it starts the engine.  When the engine ticks the dots are updated.  Each dot is wrapped in `AnimatableDot` which has a &quot;from&quot; and &quot;to&quot; point, it then, based on the normalised time, calculates it&#39;s new position and then a paint pass is executed\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class DurationTest {\r\n\r\n        public static void main(String[] args) {\r\n            new DurationTest();\r\n        }\r\n\r\n        public DurationTest() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Utilities {\r\n\r\n            public static Point2D pointOnCircle(double degress, double radius) {\r\n                double rads = Math.toRadians(degress - 90); // 0 becomes the top\r\n                double xPosy = Math.round((Math.cos(rads) * radius));\r\n                double yPosy = Math.round((Math.sin(rads) * radius));\r\n                return new Point2D.Double(radius + xPosy, radius + yPosy);\r\n            }\r\n\r\n            public static Point2D pointOnCircle(double xOffset, double yOffset, double degress, double radius) {\r\n                Point2D poc = pointOnCircle(degress, radius);\r\n                return new Point2D.Double(xOffset + poc.getX(), yOffset + poc.getY());\r\n            }\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;AnimatedDot&gt; dots = new ArrayList&lt;&gt;(128);\r\n\r\n            private Duration duration = Duration.ofSeconds(5);\r\n\r\n            private DurationAnimationEngine engine;\r\n\r\n            private List&lt;Color&gt; colors = Arrays.asList(new Color[]{\r\n                Color.RED,\r\n                Color.BLUE,\r\n                Color.CYAN,\r\n                Color.GRAY,\r\n                Color.GREEN,\r\n                Color.LIGHT_GRAY,\r\n                Color.MAGENTA,\r\n                Color.PINK,\r\n                Color.WHITE,\r\n                Color.YELLOW\r\n            });\r\n\r\n            public TestPane() {\r\n                Random rnd = new Random();\r\n                setBackground(Color.BLACK);\r\n\r\n                for (int index = 0; index &lt; 100; index++) {\r\n                    double fromAngle = 360.0 * rnd.nextDouble();\r\n                    double toAngle = fromAngle + 180.0;\r\n                    Collections.shuffle(colors);\r\n                    Color color = colors.get(0);\r\n                    dots.add(new AnimatedDot(\r\n                            Utilities.pointOnCircle(fromAngle, 150),\r\n                            Utilities.pointOnCircle(toAngle, 150),\r\n                            color, 2));\r\n                }\r\n\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (engine != null) {\r\n                            engine.stop();\r\n                            engine = null;\r\n\r\n                            // Reset poisitions\r\n                            for (AnimatedDot dot : dots) {\r\n                                dot.move(0);\r\n                            }\r\n                            repaint();\r\n                            return;\r\n                        }\r\n\r\n                        engine = new DurationAnimationEngine(duration, new DurationAnimationEngine.Tickable() {\r\n                            @Override\r\n                            public void animationDidTick(double progress) {\r\n                                for (AnimatedDot dot : dots) {\r\n                                    dot.move(progress);\r\n                                }\r\n                                repaint();\r\n                            }\r\n                        });\r\n                        engine.start();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(\r\n                        RenderingHints.KEY_ANTIALIASING,\r\n                        RenderingHints.VALUE_ANTIALIAS_ON\r\n                );\r\n                int xOffset = (getWidth() - 300) / 2;\r\n                int yOffset = (getWidth() - 300) / 2;\r\n                g2d.translate(xOffset, yOffset);\r\n                g2d.setColor(Color.DARK_GRAY);\r\n                g2d.drawOval(0, 0, 300, 300);\r\n\r\n                for (AnimatedDot dot : dots) {\r\n                    dot.paint(g2d);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class DurationAnimationEngine {\r\n\r\n            public interface Tickable {\r\n\r\n                public void animationDidTick(double progress);\r\n            }\r\n\r\n            private Duration duration;\r\n            private Instant timeStarted;\r\n\r\n            private Timer timer;\r\n\r\n            private Tickable tickable;\r\n\r\n            public DurationAnimationEngine(Duration duration, Tickable tickable) {\r\n                this.duration = duration;\r\n                this.tickable = tickable;\r\n            }\r\n\r\n            public void start() {\r\n                // You could create the timer lazierly and restarted it as needed\r\n                if (timer != null) {\r\n                    return;\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (timeStarted == null) {\r\n                            timeStarted = Instant.now();\r\n                        }\r\n                        Duration runtime = Duration.between(timeStarted, Instant.now());\r\n                        double progress = Math.min(1.0, runtime.toMillis() / (double) duration.toMillis());\r\n\r\n                        tickable.animationDidTick(progress);\r\n\r\n                        if (progress &gt;= 1.0) {\r\n                            stop();\r\n                        }\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                if (timer == null) {\r\n                    return;\r\n                }\r\n                timer.stop();\r\n                timer = null;\r\n            }\r\n\r\n        }\r\n\r\n        public class AnimatedDot {\r\n\r\n            private Dot dot;\r\n\r\n            private Point2D from;\r\n            private Point2D to;\r\n\r\n            public AnimatedDot(Point2D from, Point2D to, Color color, int radius) {\r\n                dot = new Dot(from.getX(), from.getY(), color, radius);\r\n                this.from = from;\r\n                this.to = to;\r\n            }\r\n\r\n            public void paint(Graphics2D g) {\r\n                dot.paint(g);\r\n            }\r\n\r\n            public void move(double progress) {\r\n                Point2D pointAt = pointAt(progress);\r\n                dot.setLocation(pointAt);\r\n            }\r\n\r\n            public Point2D getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public Point2D getTo() {\r\n                return to;\r\n            }\r\n\r\n            protected double getFromX() {\r\n                return getFrom().getX();\r\n            }\r\n\r\n            protected double getFromY() {\r\n                return getFrom().getY();\r\n            }\r\n\r\n            public Double getXDistance() {\r\n                return getTo().getX() - getFrom().getX();\r\n            }\r\n\r\n            public Double getYDistance() {\r\n                return getTo().getY() - getFrom().getY();\r\n            }\r\n\r\n            protected Point2D pointAt(double progress) {\r\n                double xDistance = getXDistance();\r\n                double yDistance = getYDistance();\r\n\r\n                double xValue = Math.round(xDistance * progress);\r\n                double yValue = Math.round(yDistance * progress);\r\n\r\n                xValue += getFromX();\r\n                yValue += getFromY();\r\n\r\n                return new Point2D.Double(xValue, yValue);\r\n            }\r\n        }\r\n\r\n        public class Dot {\r\n\r\n            private Color color;\r\n            private double y;\r\n            private double x;\r\n            private int radius;\r\n\r\n            private Ellipse2D dot;\r\n\r\n            public Dot(double x, double y, Color color, int radius) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.color = color;\r\n                this.radius = radius;\r\n\r\n                dot = new Ellipse2D.Double(0, 0, radius * 2, radius * 2);\r\n            }\r\n\r\n            public void setLocation(Point2D point) {\r\n                setLocation(point.getX(), point.getY());\r\n            }\r\n\r\n            public void setLocation(double x, double y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n\r\n            public void paint(Graphics2D g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(color);\r\n                g2d.translate(x - radius, y - radius);\r\n                g2d.fill(dot);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nOkay, so when we run it, we get...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&#128558; ... Hmmm, I&#39;d like to say that that was expected, but once I saw it, it was obvious what had gone wrong.\r\n\r\nAll the dots are moving at the same speed over the same time range!\r\n\r\nSo, what&#39;s the answer.  Well, actually a few...\r\n\r\n1. We could change the duration of each dot so that they have an individual duration.  This would &quot;randomise&quot; the movement, but I&#39;m not sure it would generate the exact same effect, as they&#39;d be moving at different speeds\r\n2. We could randomise the start time of the dots, so they started at different times, allowing them all to have the same duration (or even a randomised duration)\r\n3. We could move only a small subset of the dots, but this would mean that you&#39;d probably end up waiting for the current subset to finish before the next one started\r\n4. A combination of 2 &amp; 3\r\n\r\n# Individualised, randomised duration...\r\n\r\nOkay, for simplicity (and my sanity), I&#39;m actually going to start with 1.  Each dot will have it&#39;s own, randomised duration.  This means that each dot will be moving at a different speed though.\r\n\r\nPay close attention to `LinearAnimationEngine` and the `AnimatedDot#move` method.\r\n\r\nThis should look familiar, it&#39;s basically the same animation logic as before, just isolated for the dot itself\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class RandomIndividualDuration {\r\n\r\n        public static void main(String[] args) {\r\n            new RandomIndividualDuration();\r\n        }\r\n\r\n        public RandomIndividualDuration() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Utilities {\r\n\r\n            public static Point2D pointOnCircle(double degress, double radius) {\r\n                double rads = Math.toRadians(degress - 90); // 0 becomes the top\r\n                double xPosy = Math.round((Math.cos(rads) * radius));\r\n                double yPosy = Math.round((Math.sin(rads) * radius));\r\n                return new Point2D.Double(radius + xPosy, radius + yPosy);\r\n            }\r\n\r\n            public static Point2D pointOnCircle(double xOffset, double yOffset, double degress, double radius) {\r\n                Point2D poc = pointOnCircle(degress, radius);\r\n                return new Point2D.Double(xOffset + poc.getX(), yOffset + poc.getY());\r\n            }\r\n        }\r\n\r\n        public class DurationRange {\r\n\r\n            private Duration from;\r\n            private Duration to;\r\n\r\n            public DurationRange(Duration from, Duration to) {\r\n                this.from = from;\r\n                this.to = to;\r\n            }\r\n\r\n            public Duration getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public Duration getTo() {\r\n                return to;\r\n            }\r\n\r\n            public Duration getDistance() {\r\n                return Duration.ofNanos(getTo().toNanos() - getFrom().toNanos());\r\n            }\r\n\r\n            public Duration valueAt(double progress) {\r\n                Duration distance = getDistance();\r\n                long value = (long) Math.round((double) distance.toNanos() * progress);\r\n                value += getFrom().getNano();\r\n                return Duration.ofNanos(value);\r\n            }\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;AnimatedDot&gt; dots = new ArrayList&lt;&gt;(128);\r\n\r\n            private Duration duration = Duration.ofSeconds(5);\r\n\r\n            private LinearAnimationEngine engine;\r\n\r\n            private List&lt;Color&gt; colors = Arrays.asList(new Color[]{\r\n                Color.RED,\r\n                Color.BLUE,\r\n                Color.CYAN,\r\n                Color.GRAY,\r\n                Color.GREEN,\r\n                Color.LIGHT_GRAY,\r\n                Color.MAGENTA,\r\n                Color.PINK,\r\n                Color.WHITE,\r\n                Color.YELLOW\r\n            });\r\n\r\n            public TestPane() {\r\n                Random rnd = new Random();\r\n                setBackground(Color.BLACK);\r\n\r\n                DurationRange range = new DurationRange(Duration.ofSeconds(1), Duration.ofSeconds(5));\r\n\r\n                for (int index = 0; index &lt; 100; index++) {\r\n                    double fromAngle = 360.0 * rnd.nextDouble();\r\n                    double toAngle = fromAngle + 180.0;\r\n                    Collections.shuffle(colors);\r\n                    Color color = colors.get(0);\r\n\r\n                    Duration duration = range.valueAt(rnd.nextDouble());\r\n\r\n                    dots.add(new AnimatedDot(\r\n                            Utilities.pointOnCircle(fromAngle, 150),\r\n                            Utilities.pointOnCircle(toAngle, 150),\r\n                            color, 2, duration));\r\n                }\r\n\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (engine != null) {\r\n                            engine.stop();\r\n                            engine = null;\r\n                            reset();\r\n                            return;\r\n                        }\r\n\r\n                        System.out.println(&quot;Go&quot;);\r\n\r\n                        List&lt;AnimatedDot&gt; avaliableDots = new ArrayList&lt;&gt;(120);\r\n                        avaliableDots.addAll(dots);\r\n\r\n                        engine = new LinearAnimationEngine(new LinearAnimationEngine.Tickable() {\r\n                            @Override\r\n                            public void animationDidTick() {\r\n                                List&lt;AnimatedDot&gt; completed = new ArrayList&lt;&gt;(128);\r\n\r\n                                // Reset poisitions\r\n                                for (AnimatedDot dot : avaliableDots) {\r\n                                    if (!dot.move()) {\r\n                                        completed.add(dot);\r\n                                    }\r\n                                }\r\n                                avaliableDots.removeAll(completed);\r\n                                repaint();\r\n\r\n                                if (avaliableDots.isEmpty()) {\r\n                                    engine.stop();\r\n                                    engine = null;\r\n                                    reset();\r\n                                }\r\n                            }\r\n                        });\r\n                        engine.start();\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected void reset() {\r\n                for (AnimatedDot dot : dots) {\r\n                    dot.reset();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(\r\n                        RenderingHints.KEY_ANTIALIASING,\r\n                        RenderingHints.VALUE_ANTIALIAS_ON\r\n                );\r\n                int xOffset = (getWidth() - 300) / 2;\r\n                int yOffset = (getWidth() - 300) / 2;\r\n                g2d.translate(xOffset, yOffset);\r\n                g2d.setColor(Color.DARK_GRAY);\r\n                g2d.drawOval(0, 0, 300, 300);\r\n\r\n                for (AnimatedDot dot : dots) {\r\n                    dot.paint(g2d);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class LinearAnimationEngine {\r\n\r\n            public interface Tickable {\r\n\r\n                public void animationDidTick();\r\n            }\r\n\r\n            private Tickable tickable;\r\n            private Timer timer;\r\n\r\n            public LinearAnimationEngine(Tickable tickable) {\r\n                this.tickable = tickable;\r\n            }\r\n\r\n            public void start() {\r\n                // You could create the timer lazierly and restarted it as needed\r\n                if (timer != null) {\r\n                    return;\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        tickable.animationDidTick();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                if (timer == null) {\r\n                    return;\r\n                }\r\n                timer.stop();\r\n                timer = null;\r\n            }\r\n\r\n        }\r\n\r\n        public class AnimatedDot {\r\n\r\n            private Dot dot;\r\n\r\n            private Point2D from;\r\n            private Point2D to;\r\n\r\n            private Duration duration;\r\n            private Instant timeStarted;\r\n\r\n            public AnimatedDot(Point2D from, Point2D to, Color color, int radius, Duration duration) {\r\n                dot = new Dot(from.getX(), from.getY(), color, radius);\r\n                this.from = from;\r\n                this.to = to;\r\n                this.duration = duration;\r\n            }\r\n\r\n            public void paint(Graphics2D g) {\r\n                dot.paint(g);\r\n            }\r\n\r\n            public void reset() {\r\n                Point2D futureFrom = to;\r\n                to = from;\r\n                from = futureFrom;\r\n                timeStarted = null;\r\n            }\r\n\r\n            public boolean move() {\r\n                if (timeStarted == null) {\r\n                    timeStarted = Instant.now();\r\n                }\r\n                Duration runtime = Duration.between(timeStarted, Instant.now());\r\n                double progress = Math.min(1.0, runtime.toMillis() / (double) duration.toMillis());\r\n\r\n                Point2D pointAt = pointAt(progress);\r\n                dot.setLocation(pointAt);\r\n\r\n                return progress &lt; 1.0;\r\n            }\r\n\r\n            public Point2D getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public Point2D getTo() {\r\n                return to;\r\n            }\r\n\r\n            protected double getFromX() {\r\n                return getFrom().getX();\r\n            }\r\n\r\n            protected double getFromY() {\r\n                return getFrom().getY();\r\n            }\r\n\r\n            public Double getXDistance() {\r\n                return getTo().getX() - getFrom().getX();\r\n            }\r\n\r\n            public Double getYDistance() {\r\n                return getTo().getY() - getFrom().getY();\r\n            }\r\n\r\n            protected Point2D pointAt(double progress) {\r\n                double xDistance = getXDistance();\r\n                double yDistance = getYDistance();\r\n\r\n                double xValue = Math.round(xDistance * progress);\r\n                double yValue = Math.round(yDistance * progress);\r\n\r\n                xValue += getFromX();\r\n                yValue += getFromY();\r\n\r\n                return new Point2D.Double(xValue, yValue);\r\n            }\r\n        }\r\n\r\n        public class Dot {\r\n\r\n            private Color color;\r\n            private double y;\r\n            private double x;\r\n            private int radius;\r\n\r\n            private Ellipse2D dot;\r\n\r\n            public Dot(double x, double y, Color color, int radius) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.color = color;\r\n                this.radius = radius;\r\n\r\n                dot = new Ellipse2D.Double(0, 0, radius * 2, radius * 2);\r\n            }\r\n\r\n            public void setLocation(Point2D point) {\r\n                setLocation(point.getX(), point.getY());\r\n            }\r\n\r\n            public void setLocation(double x, double y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n\r\n            public void paint(Graphics2D g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(color);\r\n                g2d.translate(x - radius, y - radius);\r\n                g2d.fill(dot);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, when we run it we get...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWell, at least it&#39;s now more &quot;randomised&quot;, and this is where I think points 2 &amp; 3 might be a better mix.\r\n\r\n&gt; But they&#39;re not rebounding?!\r\n\r\nAh, well, actually, click the second example again!  The dots will move from the current position (the original to point) and back to their original from point.  Soooo, conceptually, it&#39;s doable.\r\n\r\n&gt; But they don&#39;t from a nice picture when I click it!\r\n\r\n&#128528; ... So the above examples demonstrate how to animate a object from point A to point B over a specified duration, forming the picture is just changing the target destination (assuming you know what it was to start with).  Based on my observations, a moving dot is first allowed to move to its current &quot;end&quot; position before moving to the final picture position, as trying to calculate a curving path would make me &#129327;.\r\n\r\n# What&#39;s missing...\r\n\r\nYes, there&#39;s something missing, you probably can&#39;t see it, but it really stands out for me.\r\n\r\nEach dot starts out slowly, speeds up and then decelerates into position.  This is known as &quot;easement&quot; (or, in this case, ease-in/ease-out) and it&#39;s not the simplest thing in the world to implement.  If you&#39;re really interested, take a look at https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188\r\n\r\nNow, what is the actual answer to your question?  Unless you&#39;re completely crazy (and I am), don&#39;t try to roll this kind of thing yourself, unless you have a very specific reason for doing so.  Instead, make use one of the other ready made engines, for example: \r\n\r\n* [universal-tween-engine](https://github.com/AurelienRibon/universal-tween-engine)\r\n* [timingframework](https://github.com/akuhtz/timingframework)\r\n\r\nMuch of the concepts used above are taken from my animation playground source, [Super Simple Swing Animation Framework](https://github.com/RustyKnight/SuperSimpleSwingAnimationFramework).  This is where I do a lot of my playing around and experimentation\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fovle.gif\r\n  [2]: https://i.stack.imgur.com/m8cBD.gif\r\n\r\nThis is one of those questions that has you digging deeper and trying to figure out what you could actually achieve, to that end [BounceImagePixel](https://github.com/RustyKnight/BounceImagePixel) is an accumulation of much tinkering to see &quot;where this could go&quot;","title":"move dot between 2 points jframe","body":"<p>You are in for a massive deep dive.  Animation, good animation, animation you don't notice, is really, really hard to achieve and is a very complex subject.</p>\n<p>You've kind of started in the right direction.  You need some kind of &quot;ticker&quot; to tell you when the animation should update, but it kind of falls apart after that.</p>\n<p>The first thing you want to do is move away from the concept of &quot;linear progression&quot;.  That is, on each &quot;tick&quot;, the object is moved by a specific delta value.  This doesn't produce good animation and can fall apart really quickly when you want to change the speed or duration of the animation.</p>\n<p>A better solution is to start with a &quot;duration based progress&quot;.  This is, basically, the animation will run over a fixed period of time and on each tick of the animation, you calculate the new &quot;state&quot; of the object based on the amount of time which has passed and the amount of time remaining.</p>\n<p>This has the benefit of &quot;normalising&quot; the timeline.  That is, the animation occurs between 0-1.  From this it becomes incredibly easy to calculate where a object should be along that time line.  Want to make it faster or slower?  Change the duration, the rest is taken care for you!</p>\n<p>To start with, figure out how to move one dot from one point to another, if you can move one, you can move a thousand.</p>\n<h1>Duration base animation engine...</h1>\n<p>Play close attention to:</p>\n<ul>\n<li>The <code>Utilities</code> class</li>\n<li>The <code>DurationAnimationEngine</code></li>\n</ul>\n<p>The engine is backed by a Swing <code>Timer</code>, so it's safe to use within Swing.  It's whole purpose to run (as fast as it safely can) for a specified period of time and produce &quot;ticks&quot; with the amount of progression has occurred (remember, normalised time)</p>\n<p>The following is basic implementation of the animation.  A lot of the &quot;work&quot; happens in the <code>mouseClicked</code> event, as it starts the engine.  When the engine ticks the dots are updated.  Each dot is wrapped in <code>AnimatableDot</code> which has a &quot;from&quot; and &quot;to&quot; point, it then, based on the normalised time, calculates it's new position and then a paint pass is executed</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Point2D;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class DurationTest {\n\n    public static void main(String[] args) {\n        new DurationTest();\n    }\n\n    public DurationTest() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Utilities {\n\n        public static Point2D pointOnCircle(double degress, double radius) {\n            double rads = Math.toRadians(degress - 90); // 0 becomes the top\n            double xPosy = Math.round((Math.cos(rads) * radius));\n            double yPosy = Math.round((Math.sin(rads) * radius));\n            return new Point2D.Double(radius + xPosy, radius + yPosy);\n        }\n\n        public static Point2D pointOnCircle(double xOffset, double yOffset, double degress, double radius) {\n            Point2D poc = pointOnCircle(degress, radius);\n            return new Point2D.Double(xOffset + poc.getX(), yOffset + poc.getY());\n        }\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;AnimatedDot&gt; dots = new ArrayList&lt;&gt;(128);\n\n        private Duration duration = Duration.ofSeconds(5);\n\n        private DurationAnimationEngine engine;\n\n        private List&lt;Color&gt; colors = Arrays.asList(new Color[]{\n            Color.RED,\n            Color.BLUE,\n            Color.CYAN,\n            Color.GRAY,\n            Color.GREEN,\n            Color.LIGHT_GRAY,\n            Color.MAGENTA,\n            Color.PINK,\n            Color.WHITE,\n            Color.YELLOW\n        });\n\n        public TestPane() {\n            Random rnd = new Random();\n            setBackground(Color.BLACK);\n\n            for (int index = 0; index &lt; 100; index++) {\n                double fromAngle = 360.0 * rnd.nextDouble();\n                double toAngle = fromAngle + 180.0;\n                Collections.shuffle(colors);\n                Color color = colors.get(0);\n                dots.add(new AnimatedDot(\n                        Utilities.pointOnCircle(fromAngle, 150),\n                        Utilities.pointOnCircle(toAngle, 150),\n                        color, 2));\n            }\n\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (engine != null) {\n                        engine.stop();\n                        engine = null;\n\n                        // Reset poisitions\n                        for (AnimatedDot dot : dots) {\n                            dot.move(0);\n                        }\n                        repaint();\n                        return;\n                    }\n\n                    engine = new DurationAnimationEngine(duration, new DurationAnimationEngine.Tickable() {\n                        @Override\n                        public void animationDidTick(double progress) {\n                            for (AnimatedDot dot : dots) {\n                                dot.move(progress);\n                            }\n                            repaint();\n                        }\n                    });\n                    engine.start();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(\n                    RenderingHints.KEY_ANTIALIASING,\n                    RenderingHints.VALUE_ANTIALIAS_ON\n            );\n            int xOffset = (getWidth() - 300) / 2;\n            int yOffset = (getWidth() - 300) / 2;\n            g2d.translate(xOffset, yOffset);\n            g2d.setColor(Color.DARK_GRAY);\n            g2d.drawOval(0, 0, 300, 300);\n\n            for (AnimatedDot dot : dots) {\n                dot.paint(g2d);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n\n    public class DurationAnimationEngine {\n\n        public interface Tickable {\n\n            public void animationDidTick(double progress);\n        }\n\n        private Duration duration;\n        private Instant timeStarted;\n\n        private Timer timer;\n\n        private Tickable tickable;\n\n        public DurationAnimationEngine(Duration duration, Tickable tickable) {\n            this.duration = duration;\n            this.tickable = tickable;\n        }\n\n        public void start() {\n            // You could create the timer lazierly and restarted it as needed\n            if (timer != null) {\n                return;\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (timeStarted == null) {\n                        timeStarted = Instant.now();\n                    }\n                    Duration runtime = Duration.between(timeStarted, Instant.now());\n                    double progress = Math.min(1.0, runtime.toMillis() / (double) duration.toMillis());\n\n                    tickable.animationDidTick(progress);\n\n                    if (progress &gt;= 1.0) {\n                        stop();\n                    }\n                }\n            });\n            timer.start();\n        }\n\n        public void stop() {\n            if (timer == null) {\n                return;\n            }\n            timer.stop();\n            timer = null;\n        }\n\n    }\n\n    public class AnimatedDot {\n\n        private Dot dot;\n\n        private Point2D from;\n        private Point2D to;\n\n        public AnimatedDot(Point2D from, Point2D to, Color color, int radius) {\n            dot = new Dot(from.getX(), from.getY(), color, radius);\n            this.from = from;\n            this.to = to;\n        }\n\n        public void paint(Graphics2D g) {\n            dot.paint(g);\n        }\n\n        public void move(double progress) {\n            Point2D pointAt = pointAt(progress);\n            dot.setLocation(pointAt);\n        }\n\n        public Point2D getFrom() {\n            return from;\n        }\n\n        public Point2D getTo() {\n            return to;\n        }\n\n        protected double getFromX() {\n            return getFrom().getX();\n        }\n\n        protected double getFromY() {\n            return getFrom().getY();\n        }\n\n        public Double getXDistance() {\n            return getTo().getX() - getFrom().getX();\n        }\n\n        public Double getYDistance() {\n            return getTo().getY() - getFrom().getY();\n        }\n\n        protected Point2D pointAt(double progress) {\n            double xDistance = getXDistance();\n            double yDistance = getYDistance();\n\n            double xValue = Math.round(xDistance * progress);\n            double yValue = Math.round(yDistance * progress);\n\n            xValue += getFromX();\n            yValue += getFromY();\n\n            return new Point2D.Double(xValue, yValue);\n        }\n    }\n\n    public class Dot {\n\n        private Color color;\n        private double y;\n        private double x;\n        private int radius;\n\n        private Ellipse2D dot;\n\n        public Dot(double x, double y, Color color, int radius) {\n            this.x = x;\n            this.y = y;\n            this.color = color;\n            this.radius = radius;\n\n            dot = new Ellipse2D.Double(0, 0, radius * 2, radius * 2);\n        }\n\n        public void setLocation(Point2D point) {\n            setLocation(point.getX(), point.getY());\n        }\n\n        public void setLocation(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public void paint(Graphics2D g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(color);\n            g2d.translate(x - radius, y - radius);\n            g2d.fill(dot);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Okay, so when we run it, we get...</p>\n<p><a href=\"https://i.stack.imgur.com/Fovle.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fovle.gif\" alt=\"enter image description here\" /></a></p>\n<p>😮 ... Hmmm, I'd like to say that that was expected, but once I saw it, it was obvious what had gone wrong.</p>\n<p>All the dots are moving at the same speed over the same time range!</p>\n<p>So, what's the answer.  Well, actually a few...</p>\n<ol>\n<li>We could change the duration of each dot so that they have an individual duration.  This would &quot;randomise&quot; the movement, but I'm not sure it would generate the exact same effect, as they'd be moving at different speeds</li>\n<li>We could randomise the start time of the dots, so they started at different times, allowing them all to have the same duration (or even a randomised duration)</li>\n<li>We could move only a small subset of the dots, but this would mean that you'd probably end up waiting for the current subset to finish before the next one started</li>\n<li>A combination of 2 &amp; 3</li>\n</ol>\n<h1>Individualised, randomised duration...</h1>\n<p>Okay, for simplicity (and my sanity), I'm actually going to start with 1.  Each dot will have it's own, randomised duration.  This means that each dot will be moving at a different speed though.</p>\n<p>Pay close attention to <code>LinearAnimationEngine</code> and the <code>AnimatedDot#move</code> method.</p>\n<p>This should look familiar, it's basically the same animation logic as before, just isolated for the dot itself</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Point2D;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class RandomIndividualDuration {\n\n    public static void main(String[] args) {\n        new RandomIndividualDuration();\n    }\n\n    public RandomIndividualDuration() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Utilities {\n\n        public static Point2D pointOnCircle(double degress, double radius) {\n            double rads = Math.toRadians(degress - 90); // 0 becomes the top\n            double xPosy = Math.round((Math.cos(rads) * radius));\n            double yPosy = Math.round((Math.sin(rads) * radius));\n            return new Point2D.Double(radius + xPosy, radius + yPosy);\n        }\n\n        public static Point2D pointOnCircle(double xOffset, double yOffset, double degress, double radius) {\n            Point2D poc = pointOnCircle(degress, radius);\n            return new Point2D.Double(xOffset + poc.getX(), yOffset + poc.getY());\n        }\n    }\n\n    public class DurationRange {\n\n        private Duration from;\n        private Duration to;\n\n        public DurationRange(Duration from, Duration to) {\n            this.from = from;\n            this.to = to;\n        }\n\n        public Duration getFrom() {\n            return from;\n        }\n\n        public Duration getTo() {\n            return to;\n        }\n\n        public Duration getDistance() {\n            return Duration.ofNanos(getTo().toNanos() - getFrom().toNanos());\n        }\n\n        public Duration valueAt(double progress) {\n            Duration distance = getDistance();\n            long value = (long) Math.round((double) distance.toNanos() * progress);\n            value += getFrom().getNano();\n            return Duration.ofNanos(value);\n        }\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;AnimatedDot&gt; dots = new ArrayList&lt;&gt;(128);\n\n        private Duration duration = Duration.ofSeconds(5);\n\n        private LinearAnimationEngine engine;\n\n        private List&lt;Color&gt; colors = Arrays.asList(new Color[]{\n            Color.RED,\n            Color.BLUE,\n            Color.CYAN,\n            Color.GRAY,\n            Color.GREEN,\n            Color.LIGHT_GRAY,\n            Color.MAGENTA,\n            Color.PINK,\n            Color.WHITE,\n            Color.YELLOW\n        });\n\n        public TestPane() {\n            Random rnd = new Random();\n            setBackground(Color.BLACK);\n\n            DurationRange range = new DurationRange(Duration.ofSeconds(1), Duration.ofSeconds(5));\n\n            for (int index = 0; index &lt; 100; index++) {\n                double fromAngle = 360.0 * rnd.nextDouble();\n                double toAngle = fromAngle + 180.0;\n                Collections.shuffle(colors);\n                Color color = colors.get(0);\n\n                Duration duration = range.valueAt(rnd.nextDouble());\n\n                dots.add(new AnimatedDot(\n                        Utilities.pointOnCircle(fromAngle, 150),\n                        Utilities.pointOnCircle(toAngle, 150),\n                        color, 2, duration));\n            }\n\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (engine != null) {\n                        engine.stop();\n                        engine = null;\n                        reset();\n                        return;\n                    }\n\n                    System.out.println(&quot;Go&quot;);\n\n                    List&lt;AnimatedDot&gt; avaliableDots = new ArrayList&lt;&gt;(120);\n                    avaliableDots.addAll(dots);\n\n                    engine = new LinearAnimationEngine(new LinearAnimationEngine.Tickable() {\n                        @Override\n                        public void animationDidTick() {\n                            List&lt;AnimatedDot&gt; completed = new ArrayList&lt;&gt;(128);\n\n                            // Reset poisitions\n                            for (AnimatedDot dot : avaliableDots) {\n                                if (!dot.move()) {\n                                    completed.add(dot);\n                                }\n                            }\n                            avaliableDots.removeAll(completed);\n                            repaint();\n\n                            if (avaliableDots.isEmpty()) {\n                                engine.stop();\n                                engine = null;\n                                reset();\n                            }\n                        }\n                    });\n                    engine.start();\n                }\n            });\n        }\n\n        protected void reset() {\n            for (AnimatedDot dot : dots) {\n                dot.reset();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(\n                    RenderingHints.KEY_ANTIALIASING,\n                    RenderingHints.VALUE_ANTIALIAS_ON\n            );\n            int xOffset = (getWidth() - 300) / 2;\n            int yOffset = (getWidth() - 300) / 2;\n            g2d.translate(xOffset, yOffset);\n            g2d.setColor(Color.DARK_GRAY);\n            g2d.drawOval(0, 0, 300, 300);\n\n            for (AnimatedDot dot : dots) {\n                dot.paint(g2d);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n\n    public class LinearAnimationEngine {\n\n        public interface Tickable {\n\n            public void animationDidTick();\n        }\n\n        private Tickable tickable;\n        private Timer timer;\n\n        public LinearAnimationEngine(Tickable tickable) {\n            this.tickable = tickable;\n        }\n\n        public void start() {\n            // You could create the timer lazierly and restarted it as needed\n            if (timer != null) {\n                return;\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    tickable.animationDidTick();\n                }\n            });\n            timer.start();\n        }\n\n        public void stop() {\n            if (timer == null) {\n                return;\n            }\n            timer.stop();\n            timer = null;\n        }\n\n    }\n\n    public class AnimatedDot {\n\n        private Dot dot;\n\n        private Point2D from;\n        private Point2D to;\n\n        private Duration duration;\n        private Instant timeStarted;\n\n        public AnimatedDot(Point2D from, Point2D to, Color color, int radius, Duration duration) {\n            dot = new Dot(from.getX(), from.getY(), color, radius);\n            this.from = from;\n            this.to = to;\n            this.duration = duration;\n        }\n\n        public void paint(Graphics2D g) {\n            dot.paint(g);\n        }\n\n        public void reset() {\n            Point2D futureFrom = to;\n            to = from;\n            from = futureFrom;\n            timeStarted = null;\n        }\n\n        public boolean move() {\n            if (timeStarted == null) {\n                timeStarted = Instant.now();\n            }\n            Duration runtime = Duration.between(timeStarted, Instant.now());\n            double progress = Math.min(1.0, runtime.toMillis() / (double) duration.toMillis());\n\n            Point2D pointAt = pointAt(progress);\n            dot.setLocation(pointAt);\n\n            return progress &lt; 1.0;\n        }\n\n        public Point2D getFrom() {\n            return from;\n        }\n\n        public Point2D getTo() {\n            return to;\n        }\n\n        protected double getFromX() {\n            return getFrom().getX();\n        }\n\n        protected double getFromY() {\n            return getFrom().getY();\n        }\n\n        public Double getXDistance() {\n            return getTo().getX() - getFrom().getX();\n        }\n\n        public Double getYDistance() {\n            return getTo().getY() - getFrom().getY();\n        }\n\n        protected Point2D pointAt(double progress) {\n            double xDistance = getXDistance();\n            double yDistance = getYDistance();\n\n            double xValue = Math.round(xDistance * progress);\n            double yValue = Math.round(yDistance * progress);\n\n            xValue += getFromX();\n            yValue += getFromY();\n\n            return new Point2D.Double(xValue, yValue);\n        }\n    }\n\n    public class Dot {\n\n        private Color color;\n        private double y;\n        private double x;\n        private int radius;\n\n        private Ellipse2D dot;\n\n        public Dot(double x, double y, Color color, int radius) {\n            this.x = x;\n            this.y = y;\n            this.color = color;\n            this.radius = radius;\n\n            dot = new Ellipse2D.Double(0, 0, radius * 2, radius * 2);\n        }\n\n        public void setLocation(Point2D point) {\n            setLocation(point.getX(), point.getY());\n        }\n\n        public void setLocation(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public void paint(Graphics2D g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(color);\n            g2d.translate(x - radius, y - radius);\n            g2d.fill(dot);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Now, when we run it we get...</p>\n<p><a href=\"https://i.stack.imgur.com/m8cBD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8cBD.gif\" alt=\"enter image description here\" /></a></p>\n<p>Well, at least it's now more &quot;randomised&quot;, and this is where I think points 2 &amp; 3 might be a better mix.</p>\n<blockquote>\n<p>But they're not rebounding?!</p>\n</blockquote>\n<p>Ah, well, actually, click the second example again!  The dots will move from the current position (the original to point) and back to their original from point.  Soooo, conceptually, it's doable.</p>\n<blockquote>\n<p>But they don't from a nice picture when I click it!</p>\n</blockquote>\n<p>😐 ... So the above examples demonstrate how to animate a object from point A to point B over a specified duration, forming the picture is just changing the target destination (assuming you know what it was to start with).  Based on my observations, a moving dot is first allowed to move to its current &quot;end&quot; position before moving to the final picture position, as trying to calculate a curving path would make me 🤯.</p>\n<h1>What's missing...</h1>\n<p>Yes, there's something missing, you probably can't see it, but it really stands out for me.</p>\n<p>Each dot starts out slowly, speeds up and then decelerates into position.  This is known as &quot;easement&quot; (or, in this case, ease-in/ease-out) and it's not the simplest thing in the world to implement.  If you're really interested, take a look at <a href=\"https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188\">How can I implement easing functions with a thread</a></p>\n<p>Now, what is the actual answer to your question?  Unless you're completely crazy (and I am), don't try to roll this kind of thing yourself, unless you have a very specific reason for doing so.  Instead, make use one of the other ready made engines, for example:</p>\n<ul>\n<li><a href=\"https://github.com/AurelienRibon/universal-tween-engine\" rel=\"nofollow noreferrer\">universal-tween-engine</a></li>\n<li><a href=\"https://github.com/akuhtz/timingframework\" rel=\"nofollow noreferrer\">timingframework</a></li>\n</ul>\n<p>Much of the concepts used above are taken from my animation playground source, <a href=\"https://github.com/RustyKnight/SuperSimpleSwingAnimationFramework\" rel=\"nofollow noreferrer\">Super Simple Swing Animation Framework</a>.  This is where I do a lot of my playing around and experimentation</p>\n<p>This is one of those questions that has you digging deeper and trying to figure out what you could actually achieve, to that end <a href=\"https://github.com/RustyKnight/BounceImagePixel\" rel=\"nofollow noreferrer\">BounceImagePixel</a> is an accumulation of much tinkering to see &quot;where this could go&quot;</p>\n"}],"owner":{"account_id":19292180,"reputation":19,"user_id":14101905,"display_name":"user14101905"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1642324352,"answer_count":1,"score":1,"last_activity_date":1668212400,"creation_date":1642215496,"question_id":70718553,"body_markdown":"**Step 1: Task**\r\n\r\nOkay so I&#39;m trying to replicate this in a jframe. \r\nhttps://codepen.io/allanpope/pen/LVWYYd\r\n\r\n**Problem:** \r\nI have a loading screen and over the course of 5 seconds I&#39;m moving dots from a circle to an image. Just like the codepen. Except the problem is I&#39;m not sure how to animate it correctly. JAVA\r\n\r\nMy Idea was to make an animate function like Move.to(Dot,Duration)\r\n\r\nOne problem I&#39;m having is that when using decimals the dots wont be in the exact place, and some wont move at all. I&#39;m just not sure how to make this animate function and how to end it. If anyone could help me that would be epic. My code is down below. And if someone could tell me how I could do a Bezier curve animation would also be cool\r\n\r\nIf anyone wantes to test my code and tell me whats wrong that would be epic.\r\n\r\nSo first I have a function to make the circle positions\r\n```\r\npackage loadingScreen;\r\n\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.imageio.ImageIO;\r\npublic class LoadTree {\r\n\r\n\tstatic BufferedImage tree;\r\n\tstatic int radius =300;\r\n\t\r\n\tpublic static List&lt;Dot&gt; dots = new ArrayList&lt;Dot&gt;();   \r\n\t\r\n\tpublic static void make() {\r\n\t\tFile e = new File(&quot;assets/tree.png&quot;);\r\n\t\ttry {\r\n\t\t\ttree = ImageIO.read(e);\r\n\t\t} catch (IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\tfor(int x = 0; x&lt;tree.getWidth();x+=1) {\r\n\t\t\tfor(int y = 0; y&lt;tree.getWidth();y+=1) {\r\n\t\t\t\tint clr = tree.getRGB(x, y);\r\n\t\t\t\tif(clr==0) {\r\n\t\t\t\t}else {       \r\n\t\t\t\t\tint i =(y)*300+x;\r\n\t\t\t\t\tint a = (i / 4) % 300;\r\n\t\t\t\t\tint b = (int) Math.floor(Math.floor(i / 300) / 4);\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (( a % ((1)) == 0) &amp;&amp; (b % ((1)) == 0)) {\r\n\t\t\t\t\t\tdouble p = (double) Math.random();\r\n\t\t\t\t\t\tint circleX = (int) (MyFrame.width/2+ radius * Math.cos(2 * Math.PI * p));\r\n\t\t\t\t\t\tint circleY = (int) (MyFrame.height/2 + radius * Math.sin(2 * Math.PI * p));\r\n\t\t\t\t\t\tDot dot = new Dot(circleX, circleY, clr, \r\n\t\t\t\t\t\t\t\t\tMyFrame.width/2+x-150, MyFrame.height/2+y-150,circleX,circleY);\r\n\t\t\t\t\t\tdots.add(dot);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nHere is the dot class\r\n```\r\npackage loadingScreen;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\n\r\npublic class Dot {\r\n\r\n\tpublic int imageY;\r\n\tpublic int imageX;\r\n\tpublic int color;\r\n\tpublic double y;\r\n\tpublic double x;\r\n\tpublic int circleX;\r\n\tpublic int circleY;\r\n\t\r\n\tpublic Dot(int x, int y, int color, int imageX, int imageY, int circleX, int circleY){\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.color = color;\r\n\t\tthis.imageX = imageX;\r\n\t\tthis.imageY = imageY;\r\n\t\tthis.circleX = circleX;\r\n\t\tthis.circleY = circleY;\r\n\t}\r\n\t\r\n    public void paint(Graphics g){\r\n\t\tGraphics2D g2d = (Graphics2D)g;\r\n\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tColor c = new Color(color);\r\n\t\tg2d.setColor(c);\r\n\t\tg2d.fillRect((int)x,(int) y, 1, 1);\r\n\t}\r\n}\r\n```\r\nHere is the Jpanel\r\n```\r\npackage loadingScreen;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\nimport loadingScreen.animate.Move;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Image;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\n\r\npublic class MyPanel extends JPanel implements ActionListener{\r\n\r\n\tImage background;\r\n\tTimer timer;\r\n\t\r\n\tMyPanel(){\r\n\t\ttimer = new Timer(0,this);\r\n\t\ttimer.start();\r\n\t\tFile e = new File(&quot;assets/background.png&quot;);\r\n\t\ttry {\r\n\t\t\tbackground = ImageIO.read(e);\r\n\t\t} catch (IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void paint(Graphics g) {\r\n\t\tsuper.paint(g);\r\n\t\t\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t//g2d.drawImage(background, 0, 0, MyFrame.width,MyFrame.height,null);\r\n\t\t\r\n\t\tLoadTree.dots.forEach(dot -&gt;{\r\n\t\t\tdot.paint(g);\r\n\t\t});\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tLoadTree.dots.forEach(dot -&gt;{\r\n\t\t\tMove.to(dot, 1000, 0);\r\n\t\t\t//get slope\r\n\t\t});\r\n\t\trepaint();\r\n\t\t//System.out.println(LoadTree.dots.size());\r\n\t}\r\n}\r\n```\r\nAnd here is the Jframe\r\n```\r\npackage loadingScreen;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class MyFrame extends JFrame{\r\n\r\n\tMyPanel panel;\r\n\tpublic static int width = 1080;\r\n\tpublic static int height = 720;\r\n\t\r\n\tMyFrame(){\r\n\t\tpanel = new MyPanel();\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.add(panel);\r\n\t\tthis.setSize(width, height);\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n}\r\n","title":"move dot between 2 points jframe","body":"<p><strong>Step 1: Task</strong></p>\n<p>Okay so I'm trying to replicate this in a jframe.\n<a href=\"https://codepen.io/allanpope/pen/LVWYYd\" rel=\"nofollow noreferrer\">https://codepen.io/allanpope/pen/LVWYYd</a></p>\n<p><strong>Problem:</strong>\nI have a loading screen and over the course of 5 seconds I'm moving dots from a circle to an image. Just like the codepen. Except the problem is I'm not sure how to animate it correctly. JAVA</p>\n<p>My Idea was to make an animate function like Move.to(Dot,Duration)</p>\n<p>One problem I'm having is that when using decimals the dots wont be in the exact place, and some wont move at all. I'm just not sure how to make this animate function and how to end it. If anyone could help me that would be epic. My code is down below. And if someone could tell me how I could do a Bezier curve animation would also be cool</p>\n<p>If anyone wantes to test my code and tell me whats wrong that would be epic.</p>\n<p>So first I have a function to make the circle positions</p>\n<pre><code>package loadingScreen;\n\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.imageio.ImageIO;\npublic class LoadTree {\n\n    static BufferedImage tree;\n    static int radius =300;\n    \n    public static List&lt;Dot&gt; dots = new ArrayList&lt;Dot&gt;();   \n    \n    public static void make() {\n        File e = new File(&quot;assets/tree.png&quot;);\n        try {\n            tree = ImageIO.read(e);\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n        for(int x = 0; x&lt;tree.getWidth();x+=1) {\n            for(int y = 0; y&lt;tree.getWidth();y+=1) {\n                int clr = tree.getRGB(x, y);\n                if(clr==0) {\n                }else {       \n                    int i =(y)*300+x;\n                    int a = (i / 4) % 300;\n                    int b = (int) Math.floor(Math.floor(i / 300) / 4);                  \n                    \n                    if (( a % ((1)) == 0) &amp;&amp; (b % ((1)) == 0)) {\n                        double p = (double) Math.random();\n                        int circleX = (int) (MyFrame.width/2+ radius * Math.cos(2 * Math.PI * p));\n                        int circleY = (int) (MyFrame.height/2 + radius * Math.sin(2 * Math.PI * p));\n                        Dot dot = new Dot(circleX, circleY, clr, \n                                    MyFrame.width/2+x-150, MyFrame.height/2+y-150,circleX,circleY);\n                        dots.add(dot);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is the dot class</p>\n<pre><code>package loadingScreen;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\npublic class Dot {\n\n    public int imageY;\n    public int imageX;\n    public int color;\n    public double y;\n    public double x;\n    public int circleX;\n    public int circleY;\n    \n    public Dot(int x, int y, int color, int imageX, int imageY, int circleX, int circleY){\n        this.x = x;\n        this.y = y;\n        this.color = color;\n        this.imageX = imageX;\n        this.imageY = imageY;\n        this.circleX = circleX;\n        this.circleY = circleY;\n    }\n    \n    public void paint(Graphics g){\n        Graphics2D g2d = (Graphics2D)g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n        RenderingHints.VALUE_ANTIALIAS_ON);\n        Color c = new Color(color);\n        g2d.setColor(c);\n        g2d.fillRect((int)x,(int) y, 1, 1);\n    }\n}\n</code></pre>\n<p>Here is the Jpanel</p>\n<pre><code>package loadingScreen;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\nimport loadingScreen.animate.Move;\n\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\n\npublic class MyPanel extends JPanel implements ActionListener{\n\n    Image background;\n    Timer timer;\n    \n    MyPanel(){\n        timer = new Timer(0,this);\n        timer.start();\n        File e = new File(&quot;assets/background.png&quot;);\n        try {\n            background = ImageIO.read(e);\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n    }\n    \n    public void paint(Graphics g) {\n        super.paint(g);\n        \n        Graphics2D g2d = (Graphics2D) g;\n        //g2d.drawImage(background, 0, 0, MyFrame.width,MyFrame.height,null);\n        \n        LoadTree.dots.forEach(dot -&gt;{\n            dot.paint(g);\n        });\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        LoadTree.dots.forEach(dot -&gt;{\n            Move.to(dot, 1000, 0);\n            //get slope\n        });\n        repaint();\n        //System.out.println(LoadTree.dots.size());\n    }\n}\n</code></pre>\n<p>And here is the Jframe</p>\n<pre><code>package loadingScreen;\n\nimport javax.swing.JFrame;\n\npublic class MyFrame extends JFrame{\n\n    MyPanel panel;\n    public static int width = 1080;\n    public static int height = 720;\n    \n    MyFrame(){\n        panel = new MyPanel();\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.add(panel);\n        this.setSize(width, height);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668212681,"post_id":74409421,"comment_id":131358543,"body_markdown":"You&#39;re woking in an Object Oriented langue.  The first thing you should do is define a &quot;circle&quot; object. This would contain the location (x/y) of the circle AND the color(s) needed to draw it.  Now, every time `mousePressed` is called, you can take the current color, the event location and create a `Circle `instance and put it in the `List`","body":"You&#39;re woking in an Object Oriented langue.  The first thing you should do is define a &quot;circle&quot; object. This would contain the location (x/y) of the circle AND the color(s) needed to draw it.  Now, every time <code>mousePressed</code> is called, you can take the current color, the event location and create a <code>Circle </code>instance and put it in the <code>List</code>"},{"owner":{"account_id":26905326,"reputation":9,"user_id":20481765,"display_name":"newtothis123"},"score":0,"creation_date":1668212888,"post_id":74409421,"comment_id":131358573,"body_markdown":"@MadProgrammer For the circle object, the x,y of the circle is eventHistory[e].getX() - RADIUS /2 and eventHistory[e].getY() - RADIUS /2. How would I put that into the object &quot;Circle&quot;.","body":"@MadProgrammer For the circle object, the x,y of the circle is eventHistory[e].getX() - RADIUS /2 and eventHistory[e].getY() - RADIUS /2. How would I put that into the object &quot;Circle&quot;."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668214914,"post_id":74409421,"comment_id":131358835,"body_markdown":"`Circle.x = e.getX()` - it&#39;s just a Plain Old Java Object.  If you want to also carry the size, then you need to supply the properties","body":"<code>Circle.x = e.getX()</code> - it&#39;s just a Plain Old Java Object.  If you want to also carry the size, then you need to supply the properties"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668215557,"post_id":74409421,"comment_id":131358933,"body_markdown":"[This (newly asked question)](https://stackoverflow.com/questions/74409536/why-does-this-program-only-display-the-last-graphic/74409654#74409654) demonstrates a basic starting concept","body":"<a href=\"https://stackoverflow.com/questions/74409536/why-does-this-program-only-display-the-last-graphic/74409654#74409654\">This (newly asked question)</a> demonstrates a basic starting concept"},{"owner":{"account_id":26905326,"reputation":9,"user_id":20481765,"display_name":"newtothis123"},"score":0,"creation_date":1668216115,"post_id":74409421,"comment_id":131359004,"body_markdown":"@MadProgrammer would this work? int x = e.getX(); int y  = e.getY(); and those two go under mousePressed. What would I do next?","body":"@MadProgrammer would this work? int x = e.getX(); int y  = e.getY(); and those two go under mousePressed. What would I do next?"}],"owner":{"account_id":26905326,"reputation":9,"user_id":20481765,"display_name":"newtothis123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668212250,"creation_date":1668212250,"question_id":74409421,"body_markdown":"Here is code where you use mouseListener to create circles on a canvas. The color of the circles start at green. When you hold &quot;R&quot; and you click on the canvas, all the circles change to Red. When you hold &quot;B&quot;, all the circles change to Blue. How do I make it so it keeps the colors of the previous circles so when I start off with green and make 3 circles, when I press R, the next circle I make is Red but the 3 previous circles stays green. Here is the code below.\r\n\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseEvent;\r\npublic class GraphicsEx extends JFrame {\r\n    private Canvas theCanvas;\r\n    public GraphicsEx() {\r\n        super(&quot;The Window&quot;);\r\n        setVisible(true);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(640, 480);\r\n        theCanvas = new Canvas();\r\n        theCanvas.addKeyListener(new ColorSelector(theCanvas));\r\n        theCanvas.addMouseListener(new ClickToAddCircles(theCanvas));\r\n        theCanvas.setFocusable(true);\r\n        add(theCanvas);\r\n\r\n    }\r\n    public static void main(String[] args) {\r\n        GraphicsEx gdo = new GraphicsEx();\r\n\r\n    }\r\n}\r\n\r\nclass Canvas extends JPanel {\r\n    private MouseEvent[] eventHistory;\r\n    private static final int MAX_EVENTS = 1000;\r\n    private static final int RADIUS = 100;\r\n    private int totalEvents;\r\n    private Color color;\r\n    public Canvas() {\r\n        setBackground(Color.BLACK);\r\n        eventHistory = new MouseEvent[MAX_EVENTS];\r\n        totalEvents = 0;\r\n        color = Color.GREEN;\r\n        setFocusable(true);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        System.out.println(&quot;Hello...&quot;);\r\n        int h = getHeight();\r\n        int w = getWidth();\r\n\r\n        g.setColor(color);\r\n        for (int e = 0; e &lt; totalEvents; e++) {\r\n            g.fillOval(eventHistory[e].getX() - RADIUS /2, eventHistory[e].getY() - RADIUS /2, RADIUS, RADIUS);\r\n        }\r\n    }\r\n\r\n    public void changeColor(Color newColor) {\r\n        color = newColor;\r\n    }\r\n    public void addEvent(MouseEvent e) {\r\n        eventHistory[totalEvents++] = e;\r\n    }\r\n}\r\n\r\nclass ClickToAddCircles implements MouseListener {\r\n    private Canvas theCanvas;\r\n\r\n    public ClickToAddCircles(Canvas theCanvas) {\r\n        this.theCanvas = theCanvas;\r\n    }\r\n    public void mouseClicked(MouseEvent e) {\r\n        System.out.println(&quot;Mouse was clicked.&quot;);\r\n    }\r\n    public void mousePressed(MouseEvent e) {\r\n        System.out.println(&quot;Mouse was pressed.&quot;);\r\n        theCanvas.addEvent(e);\r\n        theCanvas.repaint();\r\n    }\r\n    public void mouseReleased(MouseEvent e) {\r\n\r\n    }\r\n    public void mouseEntered(MouseEvent e) {\r\n\r\n    }\r\n    public void mouseExited(MouseEvent e) {\r\n    }\r\n}\r\n\r\n\r\n\r\nclass ColorSelector implements KeyListener {\r\n    private Canvas theCanvas;\r\n\r\n    public ColorSelector(Canvas theCanvas) {\r\n        this.theCanvas = theCanvas;\r\n    }\r\n\r\n    public void keyPressed(KeyEvent e) {\r\n        System.out.println(&quot;Key Event firing..&quot;);\r\n    }\r\n    public void keyReleased(KeyEvent e) {}\r\n    public void keyTyped(KeyEvent e) {\r\n        switch (e.getKeyChar()) {\r\n            case &#39;r&#39;:\r\n                theCanvas.changeColor(Color.RED);\r\n                break;\r\n            case &#39;g&#39;:\r\n                theCanvas.changeColor(Color.GREEN);\r\n                break;\r\n            case &#39;b&#39;:\r\n                theCanvas.changeColor(Color.BLUE);\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Java How to change color of next circle","body":"<p>Here is code where you use mouseListener to create circles on a canvas. The color of the circles start at green. When you hold &quot;R&quot; and you click on the canvas, all the circles change to Red. When you hold &quot;B&quot;, all the circles change to Blue. How do I make it so it keeps the colors of the previous circles so when I start off with green and make 3 circles, when I press R, the next circle I make is Red but the 3 previous circles stays green. Here is the code below.</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.event.KeyListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseEvent;\npublic class GraphicsEx extends JFrame {\n    private Canvas theCanvas;\n    public GraphicsEx() {\n        super(&quot;The Window&quot;);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(640, 480);\n        theCanvas = new Canvas();\n        theCanvas.addKeyListener(new ColorSelector(theCanvas));\n        theCanvas.addMouseListener(new ClickToAddCircles(theCanvas));\n        theCanvas.setFocusable(true);\n        add(theCanvas);\n\n    }\n    public static void main(String[] args) {\n        GraphicsEx gdo = new GraphicsEx();\n\n    }\n}\n\nclass Canvas extends JPanel {\n    private MouseEvent[] eventHistory;\n    private static final int MAX_EVENTS = 1000;\n    private static final int RADIUS = 100;\n    private int totalEvents;\n    private Color color;\n    public Canvas() {\n        setBackground(Color.BLACK);\n        eventHistory = new MouseEvent[MAX_EVENTS];\n        totalEvents = 0;\n        color = Color.GREEN;\n        setFocusable(true);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        System.out.println(&quot;Hello...&quot;);\n        int h = getHeight();\n        int w = getWidth();\n\n        g.setColor(color);\n        for (int e = 0; e &lt; totalEvents; e++) {\n            g.fillOval(eventHistory[e].getX() - RADIUS /2, eventHistory[e].getY() - RADIUS /2, RADIUS, RADIUS);\n        }\n    }\n\n    public void changeColor(Color newColor) {\n        color = newColor;\n    }\n    public void addEvent(MouseEvent e) {\n        eventHistory[totalEvents++] = e;\n    }\n}\n\nclass ClickToAddCircles implements MouseListener {\n    private Canvas theCanvas;\n\n    public ClickToAddCircles(Canvas theCanvas) {\n        this.theCanvas = theCanvas;\n    }\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(&quot;Mouse was clicked.&quot;);\n    }\n    public void mousePressed(MouseEvent e) {\n        System.out.println(&quot;Mouse was pressed.&quot;);\n        theCanvas.addEvent(e);\n        theCanvas.repaint();\n    }\n    public void mouseReleased(MouseEvent e) {\n\n    }\n    public void mouseEntered(MouseEvent e) {\n\n    }\n    public void mouseExited(MouseEvent e) {\n    }\n}\n\n\n\nclass ColorSelector implements KeyListener {\n    private Canvas theCanvas;\n\n    public ColorSelector(Canvas theCanvas) {\n        this.theCanvas = theCanvas;\n    }\n\n    public void keyPressed(KeyEvent e) {\n        System.out.println(&quot;Key Event firing..&quot;);\n    }\n    public void keyReleased(KeyEvent e) {}\n    public void keyTyped(KeyEvent e) {\n        switch (e.getKeyChar()) {\n            case 'r':\n                theCanvas.changeColor(Color.RED);\n                break;\n            case 'g':\n                theCanvas.changeColor(Color.GREEN);\n                break;\n            case 'b':\n                theCanvas.changeColor(Color.BLUE);\n                break;\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":3840466,"reputation":209,"user_id":3183727,"display_name":"Ashish"},"score":0,"creation_date":1560716941,"post_id":56622327,"comment_id":99817727,"body_markdown":"Hi @Bob! Can you please post the main class in this application? Or can you tell me where is the class javafx.application.Application since that is what the compiler is complaining about. I see all other javafx.XXX.XXX jar&#39;s here. Also try searching on [https://openjfx.io/openjfx-docs/ ]. This has clear explanation on starting up with Java FX 12 and eclipse.","body":"Hi @Bob! Can you please post the main class in this application? Or can you tell me where is the class javafx.application.Application since that is what the compiler is complaining about. I see all other javafx.XXX.XXX jar&#39;s here. Also try searching on [<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a> ]. This has clear explanation on starting up with Java FX 12 and eclipse."},{"owner":{"display_name":"user10559318"},"score":0,"creation_date":1560717168,"post_id":56622327,"comment_id":99817781,"body_markdown":"@Ashish, posting it now!","body":"@Ashish, posting it now!"}],"answers":[{"comments":[{"owner":{"account_id":3840466,"reputation":209,"user_id":3183727,"display_name":"Ashish"},"score":0,"creation_date":1560719856,"post_id":56622465,"comment_id":99818356,"body_markdown":"Thanks Bob!! Glad I was able to be of some help. Also, your class name was Main. That could also have been an issue, I think. Any ways, since you solved the problem, that is a non-issue now.","body":"Thanks Bob!! Glad I was able to be of some help. Also, your class name was Main. That could also have been an issue, I think. Any ways, since you solved the problem, that is a non-issue now."},{"owner":{"account_id":15232846,"reputation":99,"user_id":10991467,"display_name":"Rajashree"},"score":0,"creation_date":1624268547,"post_id":56622465,"comment_id":120302755,"body_markdown":"Unrecognized option: --module-path\nthis is what I got after applying","body":"Unrecognized option: --module-path this is what I got after applying"}],"tags":[],"owner":{"display_name":"user10559318"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1560717568,"creation_date":1560717568,"answer_id":56622465,"question_id":56622327,"body_markdown":"Following @Ashish link openjfx.io/openjfx-docs\r\n\r\nI did the following and it fixed the error:\r\n\r\n3. Add VM arguments\r\nTo solve the issue, click on Run -&gt; Run Configurations...  -&gt; Java Application, create a new launch configuration for your project named `hellofx` and add these VM arguments:\r\n\r\nLinux/Mac\r\nWindows\r\n\r\n--module-path &quot;\\path\\to\\javafx-sdk-12.0.1\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\nWarning: Make sure the option:\r\n\r\nUse the -XstartOnFirstThread argument when launching with SWT\r\nis not selected.\r\nVM arguments Click apply and close the dialog.","title":"Error: Could not find or load main class application.Main JAVAFX","body":"<p>Following @Ashish link openjfx.io/openjfx-docs</p>\n\n<p>I did the following and it fixed the error:</p>\n\n<ol start=\"3\">\n<li>Add VM arguments\nTo solve the issue, click on Run -> Run Configurations...  -> Java Application, create a new launch configuration for your project named <code>hellofx</code> and add these VM arguments:</li>\n</ol>\n\n<p>Linux/Mac\nWindows</p>\n\n<p>--module-path \"\\path\\to\\javafx-sdk-12.0.1\\lib\" --add-modules javafx.controls,javafx.fxml\nWarning: Make sure the option:</p>\n\n<p>Use the -XstartOnFirstThread argument when launching with SWT\nis not selected.\nVM arguments Click apply and close the dialog.</p>\n"},{"tags":[],"owner":{"account_id":14429037,"reputation":21,"user_id":10422903,"display_name":"Seldin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668211919,"creation_date":1578856102,"answer_id":59707215,"question_id":56622327,"body_markdown":"[1]: https://i.stack.imgur.com/L7eh4.png\r\n\r\nThis is how I solved this problem.\r\n\r\nStep #1:\r\n\r\n - Create new file &quot;module-info.java&quot; like in this picture:\r\n[Project structure][1] \r\n\r\nStep #2\r\n\r\n - Content of the &quot;module-info.java&quot; file should look like this:\r\n\r\n``` \r\nmodule Example {\r\n\trequires javafx.fxml;\r\n\trequires javafx.controls;\r\n\t\r\n\topens application;\r\n} \r\n```","title":"Error: Could not find or load main class application.Main JAVAFX","body":"<p>This is how I solved this problem.</p>\n<p>Step #1:</p>\n<ul>\n<li>Create new file &quot;module-info.java&quot; like in this picture:\n<a href=\"https://i.stack.imgur.com/L7eh4.png\" rel=\"nofollow noreferrer\">Project structure</a></li>\n</ul>\n<p>Step #2</p>\n<ul>\n<li>Content of the &quot;module-info.java&quot; file should look like this:</li>\n</ul>\n<pre><code>module Example {\n    requires javafx.fxml;\n    requires javafx.controls;\n    \n    opens application;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18784873,"reputation":51,"user_id":13698683,"display_name":"Kawthar "},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1591520896,"creation_date":1591517430,"answer_id":62242606,"question_id":56622327,"body_markdown":"This worked for me after getting the error:\r\n&gt;Could not find or load main class application.Main Caused by: java.lang.ClassNotFoundException: application.Main \r\nwhile trying to use JavaFX in Eclipse\r\n\r\n 1. Run then run configurations\r\n 2. In Main, choose the correct Project and Main class names\r\n 3. In Argument, enter this in VM arguments box:\r\n`--module-path &quot;\\path\\to\\javafx-sdk-12.0.1\\lib&quot; --add-modules javafx.controls,javafx.fxml`\r\n 4. Apply\r\n\r\n","title":"Error: Could not find or load main class application.Main JAVAFX","body":"<p>This worked for me after getting the error:</p>\n\n<blockquote>\n  <p>Could not find or load main class application.Main Caused by: java.lang.ClassNotFoundException: application.Main \n  while trying to use JavaFX in Eclipse</p>\n</blockquote>\n\n<ol>\n<li>Run then run configurations</li>\n<li>In Main, choose the correct Project and Main class names</li>\n<li>In Argument, enter this in VM arguments box:\n<code>--module-path \"\\path\\to\\javafx-sdk-12.0.1\\lib\" --add-modules javafx.controls,javafx.fxml</code></li>\n<li>Apply</li>\n</ol>\n"}],"owner":{"display_name":"user10559318"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69026,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1668211919,"creation_date":1560716309,"question_id":56622327,"body_markdown":"Under Java Build Path Libraries under the properties of my project, I have my User Library called javafx12 under Modulepath.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis removed all the errors regarding import javafx not resolved.\r\n\r\nWhen I try to run my project, I get \r\n\r\n&quot;Error: Could not find or load main class application.Main\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;\r\n\r\nHow do I get rid of this error?\r\n\r\nI am using Java SE 12 aka JDK 12.\r\n\r\nI am using eclipse as well.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o0ftQ.png\r\n  [2]: https://i.stack.imgur.com/Y3fjs.png\r\n\r\n        package application;\r\n    \t\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tBorderPane root = new BorderPane();\r\n    \t\t\tScene scene = new Scene(root,400,400);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\nNo errors in the class file.","title":"Error: Could not find or load main class application.Main JAVAFX","body":"<p>Under Java Build Path Libraries under the properties of my project, I have my User Library called javafx12 under Modulepath.</p>\n\n<p><a href=\"https://i.stack.imgur.com/o0ftQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o0ftQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>This removed all the errors regarding import javafx not resolved.</p>\n\n<p>When I try to run my project, I get </p>\n\n<p>\"Error: Could not find or load main class application.Main\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\"</p>\n\n<p>How do I get rid of this error?</p>\n\n<p>I am using Java SE 12 aka JDK 12.</p>\n\n<p>I am using eclipse as well.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y3fjs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3fjs.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    package application;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = new BorderPane();\n            Scene scene = new Scene(root,400,400);\n            scene.getStylesheets().add(getClass().getResource(\"application.css\").toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>No errors in the class file.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1668211538,"post_id":62129569,"comment_id":131358388,"body_markdown":"The official docs have &quot;Hello World&quot; code and step-by-step instructions at https://openjfx.io/openjfx-docs/#install-javafx","body":"The official docs have &quot;Hello World&quot; code and step-by-step instructions at <a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#install-javafx</a>"}],"answers":[{"tags":[],"owner":{"account_id":16762204,"reputation":63,"user_id":12116642,"display_name":"M.Sajid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668211470,"creation_date":1591062291,"answer_id":62143526,"question_id":62129569,"body_markdown":"This is the command I used to make it run from the command line\r\n\r\nto compile:\r\n\r\n```none\r\njavac --module-path D:\\javafx-sdk-13.0.2\\lib --add-modules javafx.controls app.java\r\n```\r\n\r\nto run:\r\n\r\n```none\r\njava --module-path D:\\javafx-sdk-13.0.2\\lib --add-modules javafx.controls app\r\n```\r\n","title":"How to run JavaFx application from command line","body":"<p>This is the command I used to make it run from the command line</p>\n<p>to compile:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac --module-path D:\\javafx-sdk-13.0.2\\lib --add-modules javafx.controls app.java\n</code></pre>\n<p>to run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path D:\\javafx-sdk-13.0.2\\lib --add-modules javafx.controls app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17415979,"reputation":104,"user_id":13464260,"display_name":"Gaetano Rispoli"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1591243307,"creation_date":1591243307,"answer_id":62186687,"question_id":62129569,"body_markdown":"It does not work any differently than running any other java program from the command line. You just have to get into the directory where your class `app` is located, and then type in the following commands: `javac app.java` if there is only that class in the directory. If there is more than one java file, type `javac *.java`. Then, after the files are compiled, type java, followed by the name of the class with the main method in it. In your case, this looks like `java app`. This should run your javafx code from the command line. On a side note, class names should follow the [PascalCase][1] naming convention. \r\n\r\n\r\n  [1]: https://techterms.com/definition/pascalcase#:~:text=PascalCase%20is%20a%20naming%20convention,in%20PascalCase%20is%20always%20capitalized.","title":"How to run JavaFx application from command line","body":"<p>It does not work any differently than running any other java program from the command line. You just have to get into the directory where your class <code>app</code> is located, and then type in the following commands: <code>javac app.java</code> if there is only that class in the directory. If there is more than one java file, type <code>javac *.java</code>. Then, after the files are compiled, type java, followed by the name of the class with the main method in it. In your case, this looks like <code>java app</code>. This should run your javafx code from the command line. On a side note, class names should follow the <a href=\"https://techterms.com/definition/pascalcase#:~:text=PascalCase%20is%20a%20naming%20convention,in%20PascalCase%20is%20always%20capitalized.\" rel=\"nofollow noreferrer\">PascalCase</a> naming convention. </p>\n"},{"tags":[],"owner":{"account_id":19483416,"reputation":672,"user_id":15109867,"display_name":"Meet Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1618732969,"creation_date":1618732969,"answer_id":67146350,"question_id":62129569,"body_markdown":"First of all, please make sure you know how to [run a regular java application][1].\r\n\r\nNOTE: If you are using JDK version 10 or below, you can directly run the javafx application as you do with other java programs as javafx is preinstalled in JDK 10 or below. In order to check your JDK version, type the following command in your command line:\r\n\r\n```javac -version```\r\n\r\nPlease note that this tutorial is for WINDOWS ONLY.\r\n\r\nAs mentioned earlier, you need the following code to compile javafx application from the command line:\r\n\r\nStep 1: Type &quot;cd&quot; and then write the path starting from &quot;C:\\&quot; (C drive) to the location where you have saved your code above in .java format.\r\n\r\nStep 2: Then you need to press Enter so that the command line would open that path. If it yields an error, please recheck the path you passed. If in case the path has white spaces in between somewhere. Please surround it with double quotes(&quot; &quot;) after writing cd. Then try again.\r\n\r\nStep 3: Type the following in your command line in the folder where your .java file is:\r\n\r\n```javac --module-path &quot;Path to your javafx lib folder&quot; --add-modules javafx.controls,javafx.fxml YourFile.java```\r\n\r\nIn the double quotes above, you need to write the path to the lib folder in your javafx-sdk folder which you installed from [openjfx.io][2].\r\n\r\nThe above code will compile your .java file into .class file, a code format that can be interpreted by JVM (java virtual machine). More on class file in java: [Java Class File][3].\r\n\r\nAfter this, you need java to interpret and run the .class file you just created using the above syntax.\r\n\r\nIn order to do that, you just need to remove &quot;c&quot; from &quot;javac&quot; in the above code and also remove the .java extension. Other things remain the same.\r\n\r\n```java --module-path &quot;Path to your javafx lib folder&quot; --add-modules javafx.controls,javafx.fxml YourFile```\r\n\r\nThis should work perfectly and help you run your javafx application from cmd.\r\n\r\nNow in case it feels a burden to you to write this code again and again. You could do the following.\r\n\r\nAn environment variable could help you compile the above codes into a single word which you can type in your command line surrounded by %.\r\n\r\nIn order to set your environment variable, go to the search bar in the bottom left corner of the screen. Then type **environment variables** in the search bar.\r\n\r\nYou should see something like [this][4].\r\n\r\nYou can click the open button in order to open it in the control panel. Then follow these steps:\r\n\r\n1) Go to tab: Advanced, which will probably be the default tab when you open it.\r\n2) Click &quot;Environment Variables&quot; in the bottom right.\r\n3) Click &quot;New&quot; in the 2nd bottom panel.\r\n4) set &quot;Variable name&quot; as &quot;JAVA_FX&quot;\r\n5) set &quot;Variable value&quot; as the following:\r\n\r\n```--module-path &quot;Path to your javafx lib folder&quot; --add-modules javafx.controls,javafx.fxml```\r\nPlease write the full correct path to your lib folder in your openjfx folder that you downloaded. And make sure it is **inside double quotes**.\r\n\r\nAfter doing that, click &quot;OK&quot; and then close the control panel. Now you need to restart the command line application. Without restarting, it will not show the environment variable that you just set. Just close it and open it again.\r\n\r\nNow type the following in your command line:\r\n```echo %JAVA_FX%```\r\n\r\nThis should show you the variable value that you had just set. If it prints JAVA_FX, then please consider re-referring the above steps and checking for any path errors you made while typing the path to the lib folder in variable value in environment variables.\r\n\r\nIf it shows the correct value, continue:\r\n\r\nNow you can type the following command in your command line. Make sure you are in the folder where your .java file is saved, if not please direct to the folder by using the &quot;cd&quot; command mentioned earlier:\r\n\r\n```javac %JAVA_FX% YourFile.java```\r\nMake sure to change the &quot;YourFile&quot; name to the name of your java file.\r\n\r\nThen it should compile the java file into a java class file. Then you type the following in your command line:\r\n```java %JAVA_FX% YourFile```\r\n\r\nThis should work fine.\r\n\r\nHope you learned something new, and if you have any further queries, please mention them in the comments section.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/how-to-run-java-program-in-cmd-using-notepad\r\n  [2]: http://openjfx.io\r\n  [3]: https://www.geeksforgeeks.org/java-class-file/\r\n  [4]: https://i.stack.imgur.com/z1ilm.png","title":"How to run JavaFx application from command line","body":"<p>First of all, please make sure you know how to <a href=\"https://www.javatpoint.com/how-to-run-java-program-in-cmd-using-notepad\" rel=\"noreferrer\">run a regular java application</a>.</p>\n<p>NOTE: If you are using JDK version 10 or below, you can directly run the javafx application as you do with other java programs as javafx is preinstalled in JDK 10 or below. In order to check your JDK version, type the following command in your command line:</p>\n<p><code>javac -version</code></p>\n<p>Please note that this tutorial is for WINDOWS ONLY.</p>\n<p>As mentioned earlier, you need the following code to compile javafx application from the command line:</p>\n<p>Step 1: Type &quot;cd&quot; and then write the path starting from &quot;C:&quot; (C drive) to the location where you have saved your code above in .java format.</p>\n<p>Step 2: Then you need to press Enter so that the command line would open that path. If it yields an error, please recheck the path you passed. If in case the path has white spaces in between somewhere. Please surround it with double quotes(&quot; &quot;) after writing cd. Then try again.</p>\n<p>Step 3: Type the following in your command line in the folder where your .java file is:</p>\n<p><code>javac --module-path &quot;Path to your javafx lib folder&quot; --add-modules javafx.controls,javafx.fxml YourFile.java</code></p>\n<p>In the double quotes above, you need to write the path to the lib folder in your javafx-sdk folder which you installed from <a href=\"http://openjfx.io\" rel=\"noreferrer\">openjfx.io</a>.</p>\n<p>The above code will compile your .java file into .class file, a code format that can be interpreted by JVM (java virtual machine). More on class file in java: <a href=\"https://www.geeksforgeeks.org/java-class-file/\" rel=\"noreferrer\">Java Class File</a>.</p>\n<p>After this, you need java to interpret and run the .class file you just created using the above syntax.</p>\n<p>In order to do that, you just need to remove &quot;c&quot; from &quot;javac&quot; in the above code and also remove the .java extension. Other things remain the same.</p>\n<p><code>java --module-path &quot;Path to your javafx lib folder&quot; --add-modules javafx.controls,javafx.fxml YourFile</code></p>\n<p>This should work perfectly and help you run your javafx application from cmd.</p>\n<p>Now in case it feels a burden to you to write this code again and again. You could do the following.</p>\n<p>An environment variable could help you compile the above codes into a single word which you can type in your command line surrounded by %.</p>\n<p>In order to set your environment variable, go to the search bar in the bottom left corner of the screen. Then type <strong>environment variables</strong> in the search bar.</p>\n<p>You should see something like <a href=\"https://i.stack.imgur.com/z1ilm.png\" rel=\"noreferrer\">this</a>.</p>\n<p>You can click the open button in order to open it in the control panel. Then follow these steps:</p>\n<ol>\n<li>Go to tab: Advanced, which will probably be the default tab when you open it.</li>\n<li>Click &quot;Environment Variables&quot; in the bottom right.</li>\n<li>Click &quot;New&quot; in the 2nd bottom panel.</li>\n<li>set &quot;Variable name&quot; as &quot;JAVA_FX&quot;</li>\n<li>set &quot;Variable value&quot; as the following:</li>\n</ol>\n<p><code>--module-path &quot;Path to your javafx lib folder&quot; --add-modules javafx.controls,javafx.fxml</code>\nPlease write the full correct path to your lib folder in your openjfx folder that you downloaded. And make sure it is <strong>inside double quotes</strong>.</p>\n<p>After doing that, click &quot;OK&quot; and then close the control panel. Now you need to restart the command line application. Without restarting, it will not show the environment variable that you just set. Just close it and open it again.</p>\n<p>Now type the following in your command line:\n<code>echo %JAVA_FX%</code></p>\n<p>This should show you the variable value that you had just set. If it prints JAVA_FX, then please consider re-referring the above steps and checking for any path errors you made while typing the path to the lib folder in variable value in environment variables.</p>\n<p>If it shows the correct value, continue:</p>\n<p>Now you can type the following command in your command line. Make sure you are in the folder where your .java file is saved, if not please direct to the folder by using the &quot;cd&quot; command mentioned earlier:</p>\n<p><code>javac %JAVA_FX% YourFile.java</code>\nMake sure to change the &quot;YourFile&quot; name to the name of your java file.</p>\n<p>Then it should compile the java file into a java class file. Then you type the following in your command line:\n<code>java %JAVA_FX% YourFile</code></p>\n<p>This should work fine.</p>\n<p>Hope you learned something new, and if you have any further queries, please mention them in the comments section.</p>\n"}],"owner":{"account_id":16762204,"reputation":63,"user_id":12116642,"display_name":"M.Sajid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23096,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67146350,"answer_count":3,"score":5,"last_activity_date":1668211470,"creation_date":1591004931,"question_id":62129569,"body_markdown":"    import javafx.application.Application;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class app extends Application\r\n    {\r\n       @Override\r\n       public void start(final Stage stage) throws Exception\r\n       {\r\n          final Circle circ = new Circle(40, 40, 30);\r\n          final Group root = new Group(circ);\r\n          final Scene scene = new Scene(root, 400, 300);\r\n    \r\n          stage.setTitle(&quot;Hello JavaFX 2.0!&quot;);\r\n          stage.setScene(scene);\r\n          stage.show();\r\n       }\r\n    \r\n    \r\n       public static void main(String[] arguments)\r\n       {\r\n          Application.launch(arguments);\r\n       }\r\n    }\r\n\r\nI have this JavaFx code that I want to run from the command line.\r\n I tried the command javac -d app.java it gives me an error: no source files and if I try with the command java -cp D:\\javafx-sdk-13.0.2\\lib\\jfxrt.jar app.java. The error message is app not found. \r\nWhat am I doing wrong and how can I fix it so that GUI application runs from the command line?","title":"How to run JavaFx application from command line","body":"<pre><code>import javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class app extends Application\n{\n   @Override\n   public void start(final Stage stage) throws Exception\n   {\n      final Circle circ = new Circle(40, 40, 30);\n      final Group root = new Group(circ);\n      final Scene scene = new Scene(root, 400, 300);\n\n      stage.setTitle(\"Hello JavaFX 2.0!\");\n      stage.setScene(scene);\n      stage.show();\n   }\n\n\n   public static void main(String[] arguments)\n   {\n      Application.launch(arguments);\n   }\n}\n</code></pre>\n\n<p>I have this JavaFx code that I want to run from the command line.\n I tried the command javac -d app.java it gives me an error: no source files and if I try with the command java -cp D:\\javafx-sdk-13.0.2\\lib\\jfxrt.jar app.java. The error message is app not found. \nWhat am I doing wrong and how can I fix it so that GUI application runs from the command line?</p>\n"},{"tags":["java","rotation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668211754,"post_id":74409318,"comment_id":131358414,"body_markdown":"You&#39;ve defined `calcAngleMoveX` and `calcAngleMoveY`, but you never call them.","body":"You&#39;ve defined <code>calcAngleMoveX</code> and <code>calcAngleMoveY</code>, but you never call them."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668211902,"post_id":74409318,"comment_id":131358436,"body_markdown":"Welcome to wonderful world of trig - can you feel my pain.  Basically, you have start point and start direction, so technically, you could do a &quot;path&quot; following approach (literally draw a line and walk it that line). [This](https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859) will basically do it, but is using a linear time progression to make it happen; [this](https://stackoverflow.com/questions/30433074/jpanel-image-flies-from-the-screen/30433207#30433207) is using a time based approach","body":"Welcome to wonderful world of trig - can you feel my pain.  Basically, you have start point and start direction, so technically, you could do a &quot;path&quot; following approach (literally draw a line and walk it that line). <a href=\"https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\">This</a> will basically do it, but is using a linear time progression to make it happen; <a href=\"https://stackoverflow.com/questions/30433074/jpanel-image-flies-from-the-screen/30433207#30433207\">this</a> is using a time based approach"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668212298,"post_id":74409318,"comment_id":131358496,"body_markdown":"[This](https://stackoverflow.com/questions/32392095/how-to-rotate-a-rectangle-after-reaching-specified-position/32397121#32397121) is a &quot;path&quot; based animation, like I said, draw a virtual line and walk it","body":"<a href=\"https://stackoverflow.com/questions/32392095/how-to-rotate-a-rectangle-after-reaching-specified-position/32397121#32397121\">This</a> is a &quot;path&quot; based animation, like I said, draw a virtual line and walk it"},{"owner":{"account_id":26905590,"reputation":1,"user_id":20481979,"display_name":"Marcelo Morales"},"score":0,"creation_date":1668212815,"post_id":74409318,"comment_id":131358561,"body_markdown":"@tgdavies i know i have to use them but i dont know how, thats why i never call them","body":"@tgdavies i know i have to use them but i dont know how, thats why i never call them"},{"owner":{"account_id":26905590,"reputation":1,"user_id":20481979,"display_name":"Marcelo Morales"},"score":0,"creation_date":1668212873,"post_id":74409318,"comment_id":131358570,"body_markdown":"@MadProgrammer so i have to do it in any of those ways in order to make it work?","body":"@MadProgrammer so i have to do it in any of those ways in order to make it work?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668214965,"post_id":74409318,"comment_id":131358846,"body_markdown":"@MarceloMorales You have to research your problem and find the solution(s) which best match your needs, I&#39;ve presented at least two difference approaches","body":"@MarceloMorales You have to research your problem and find the solution(s) which best match your needs, I&#39;ve presented at least two difference approaches"}],"owner":{"account_id":26905590,"reputation":1,"user_id":20481979,"display_name":"Marcelo Morales"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668211057,"creation_date":1668211057,"question_id":74409318,"body_markdown":"I&#39;m making a code where I use a image and move it around the screen, so far i can make it move on all 4 axis and also rotate it, but i need to make it move to where is pointing once it rotate. I&#39;m pretty amateur about coding in java, so far i found a way to make de code work, but i dont know how to implement the code to make it move to where it&#39;s pointing\r\n\r\nSo far this is what i got, this is de class that put de panel for de code\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class prueba {\r\n    public static void main(String[] arg) {\r\n        Game panel = new Game();\r\n        panel.x=-100;\r\n        panel.y=-100;\r\n        \r\n        \r\n        JFrame frame= new JFrame(&quot;Welecome to JavaTutorial.net&quot;);    \r\n        frame.getContentPane().add(panel);\r\n        frame.setSize(600, 400);\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(true);\r\n    }\r\n}\r\n```\r\n\r\nAnd this one is where i control all about the ship\r\n\r\n\r\n\r\n```\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.image.AffineTransformOp;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\npublic class Game extends JPanel implements ActionListener, KeyListener {\r\n\r\n    /**\r\n     * \r\n     */\r\n    double incY;\r\n    double incX;\r\n    double FaceAngle;\r\n    private static final long serialVersionUID = 1L;\r\n    Timer t = new Timer(5, this);\r\n    int x = 0, y = 0, velX = 0, velY = 0;\r\n    double rotation;\r\n    double delta_x;\r\n    double delta_y;\r\n    double angle;\r\n    private double currentAngle;\r\n    BufferedImage image;\r\n    Point movement = new Point(1, 0);\r\n\r\n    public Game(){\r\n        setBackground(Color.WHITE);\r\n        t.start();\r\n        addKeyListener(this);\r\n        this.setFocusable(true);\r\n        setFocusTraversalKeysEnabled(false);\r\n        image = loadImage();\r\n        \r\n    }\r\n\r\n    \r\n    public double calcAngleMoveX(double angle){\r\n        return delta_x = Math.sin(angle * Math.PI/180.0);\r\n    }\r\n    \r\n    public double calcAngleMoveY(double angle){\r\n        return delta_y = -Math.cos(angle * Math.PI/180.0);\r\n    }\r\n    \r\n \r\n    private BufferedImage loadImage(){\r\n        URL imagePath = getClass().getResource(&quot;/resources/nave/nave.jpg.jpg&quot;);\r\n        BufferedImage result = image;\r\n        try {\r\n            result = ImageIO.read(imagePath);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Error, imagen no encontrada&quot;);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        Dimension size = getSize();\r\n        double rotationRequired = Math.toRadians(rotation);\r\n        int locationX = image.getWidth() / 2;\r\n        int locationY=image.getHeight() / 2;\r\n        AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\r\n        AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\r\n        g.drawImage(op.filter(image, null), x, y, null);\r\n        }\r\n        \r\n    public void actionPerformed(ActionEvent e){\r\n        repaint();\r\n        x += velX;\r\n        y += velY;\r\n\r\n        if(x&lt;0){\r\n            velX = 0;\r\n            x = 0;\r\n        }\r\n\r\n        if(x&gt;750){\r\n            velX = 0;\r\n            x = 750;\r\n        }\r\n\r\n        if(y&lt;0){\r\n            velY = 0;\r\n            y = 0;\r\n        }\r\n\r\n        if(y&gt;550){\r\n            velY = 0;\r\n            y = 550;\r\n        }\r\n    }\r\n\r\n    public void up(){\r\n        velY = -1;\r\n        velX = 0;\r\n    }\r\n\r\n\r\n    public void down(){\r\n        velY = 1;\r\n        velX = 0;\r\n    }\r\n\r\n    public void left(){\r\n        velX = -1;\r\n        velY = 0;\r\n    }\r\n\r\n    public void right(){\r\n        velX = 1;\r\n        velY = 0;\r\n    }\r\n    \r\n    public void rotate(){\r\n    double rotate;\r\n    currentAngle+=5.0;\r\n     if (currentAngle &gt;= 360.0) {\r\n       currentAngle = 0;\r\n     }\r\n    repaint();\r\n    }\r\n    \r\n    public void verticalmove(){\r\n        int delta_ix =(int) delta_x;\r\n        int delta_iy =(int) delta_y;\r\n        velX = delta_ix;\r\n        velY = delta_iy;\r\n    }\r\n    \r\n    public void keyPressed(KeyEvent e){\r\n        int code = e.getKeyCode();\r\n\r\n        if (code == KeyEvent.VK_W){\r\n            up();\r\n        }\r\n\r\n        if (code == KeyEvent.VK_S){\r\n            down();\r\n        }\r\n\r\n        if (code == KeyEvent.VK_A){\r\n            left();\r\n        }\r\n\r\n        if (code == KeyEvent.VK_D){\r\n            right();\r\n        }\r\n        \r\n        if (code==KeyEvent.VK_E){\r\n            rotation += 5;\r\n        }\r\n        \r\n        if (code==KeyEvent.VK_Q){\r\n            rotation -= 5;\r\n        }\r\n        \r\n        if (code==KeyEvent.VK_R){\r\n            verticalmove();\r\n        }\r\n        }\r\n\r\n    public void keyTyped(KeyEvent e){}\r\n\r\n    public void keyReleased(KeyEvent e){\r\n        int code = e.getKeyCode();\r\n\r\n        if (code == KeyEvent.VK_W){\r\n            velY = 0;\r\n        }\r\n        if (code == KeyEvent.VK_S){\r\n            velY = 0;\r\n        }\r\n        if (code == KeyEvent.VK_A){\r\n            velX = 0;\r\n        }\r\n        if (code == KeyEvent.VK_D){\r\n            velX = 0;\r\n        }\r\n        if (code == KeyEvent.VK_E){\r\n        rotate();\r\n        }\r\n        if (code == KeyEvent.VK_P){\r\n        rotate();\r\n        }\r\n        if (code==KeyEvent.VK_R){\r\n            verticalmove();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"How to move an image in the direction it is pointing in Java","body":"<p>I'm making a code where I use a image and move it around the screen, so far i can make it move on all 4 axis and also rotate it, but i need to make it move to where is pointing once it rotate. I'm pretty amateur about coding in java, so far i found a way to make de code work, but i dont know how to implement the code to make it move to where it's pointing</p>\n<p>So far this is what i got, this is de class that put de panel for de code</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class prueba {\n    public static void main(String[] arg) {\n        Game panel = new Game();\n        panel.x=-100;\n        panel.y=-100;\n        \n        \n        JFrame frame= new JFrame(&quot;Welecome to JavaTutorial.net&quot;);    \n        frame.getContentPane().add(panel);\n        frame.setSize(600, 400);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(true);\n    }\n}\n</code></pre>\n<p>And this one is where i control all about the ship</p>\n<pre><code>import java.awt.geom.AffineTransform;\nimport java.awt.image.AffineTransformOp;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.imageio.ImageIO;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Game extends JPanel implements ActionListener, KeyListener {\n\n    /**\n     * \n     */\n    double incY;\n    double incX;\n    double FaceAngle;\n    private static final long serialVersionUID = 1L;\n    Timer t = new Timer(5, this);\n    int x = 0, y = 0, velX = 0, velY = 0;\n    double rotation;\n    double delta_x;\n    double delta_y;\n    double angle;\n    private double currentAngle;\n    BufferedImage image;\n    Point movement = new Point(1, 0);\n\n    public Game(){\n        setBackground(Color.WHITE);\n        t.start();\n        addKeyListener(this);\n        this.setFocusable(true);\n        setFocusTraversalKeysEnabled(false);\n        image = loadImage();\n        \n    }\n\n    \n    public double calcAngleMoveX(double angle){\n        return delta_x = Math.sin(angle * Math.PI/180.0);\n    }\n    \n    public double calcAngleMoveY(double angle){\n        return delta_y = -Math.cos(angle * Math.PI/180.0);\n    }\n    \n \n    private BufferedImage loadImage(){\n        URL imagePath = getClass().getResource(&quot;/resources/nave/nave.jpg.jpg&quot;);\n        BufferedImage result = image;\n        try {\n            result = ImageIO.read(imagePath);\n        } catch (IOException e) {\n            System.err.println(&quot;Error, imagen no encontrada&quot;);\n        }\n\n        return result;\n    }\n\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        Dimension size = getSize();\n        double rotationRequired = Math.toRadians(rotation);\n        int locationX = image.getWidth() / 2;\n        int locationY=image.getHeight() / 2;\n        AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\n        AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\n        g.drawImage(op.filter(image, null), x, y, null);\n        }\n        \n    public void actionPerformed(ActionEvent e){\n        repaint();\n        x += velX;\n        y += velY;\n\n        if(x&lt;0){\n            velX = 0;\n            x = 0;\n        }\n\n        if(x&gt;750){\n            velX = 0;\n            x = 750;\n        }\n\n        if(y&lt;0){\n            velY = 0;\n            y = 0;\n        }\n\n        if(y&gt;550){\n            velY = 0;\n            y = 550;\n        }\n    }\n\n    public void up(){\n        velY = -1;\n        velX = 0;\n    }\n\n\n    public void down(){\n        velY = 1;\n        velX = 0;\n    }\n\n    public void left(){\n        velX = -1;\n        velY = 0;\n    }\n\n    public void right(){\n        velX = 1;\n        velY = 0;\n    }\n    \n    public void rotate(){\n    double rotate;\n    currentAngle+=5.0;\n     if (currentAngle &gt;= 360.0) {\n       currentAngle = 0;\n     }\n    repaint();\n    }\n    \n    public void verticalmove(){\n        int delta_ix =(int) delta_x;\n        int delta_iy =(int) delta_y;\n        velX = delta_ix;\n        velY = delta_iy;\n    }\n    \n    public void keyPressed(KeyEvent e){\n        int code = e.getKeyCode();\n\n        if (code == KeyEvent.VK_W){\n            up();\n        }\n\n        if (code == KeyEvent.VK_S){\n            down();\n        }\n\n        if (code == KeyEvent.VK_A){\n            left();\n        }\n\n        if (code == KeyEvent.VK_D){\n            right();\n        }\n        \n        if (code==KeyEvent.VK_E){\n            rotation += 5;\n        }\n        \n        if (code==KeyEvent.VK_Q){\n            rotation -= 5;\n        }\n        \n        if (code==KeyEvent.VK_R){\n            verticalmove();\n        }\n        }\n\n    public void keyTyped(KeyEvent e){}\n\n    public void keyReleased(KeyEvent e){\n        int code = e.getKeyCode();\n\n        if (code == KeyEvent.VK_W){\n            velY = 0;\n        }\n        if (code == KeyEvent.VK_S){\n            velY = 0;\n        }\n        if (code == KeyEvent.VK_A){\n            velX = 0;\n        }\n        if (code == KeyEvent.VK_D){\n            velX = 0;\n        }\n        if (code == KeyEvent.VK_E){\n        rotate();\n        }\n        if (code == KeyEvent.VK_P){\n        rotate();\n        }\n        if (code==KeyEvent.VK_R){\n            verticalmove();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","methods"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1668210385,"post_id":74409150,"comment_id":131358215,"body_markdown":"The first thing I notice is that your binary numbers are reversed.  Seven is normally &quot;0111&quot; and not &quot;1110&quot; as you have it.  Could the input format be the problem?","body":"The first thing I notice is that your binary numbers are reversed.  Seven is normally &quot;0111&quot; and not &quot;1110&quot; as you have it.  Could the input format be the problem?"},{"owner":{"account_id":26823674,"reputation":1,"user_id":20412620,"display_name":"Fez"},"score":0,"creation_date":1668216190,"post_id":74409150,"comment_id":131359014,"body_markdown":"Assignment sad I need to use little endian format instead of big endianwhen calculating","body":"Assignment sad I need to use little endian format instead of big endianwhen calculating"}],"owner":{"account_id":26823674,"reputation":1,"user_id":20412620,"display_name":"Fez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668210278,"creation_date":1668209056,"question_id":74409150,"body_markdown":"The method that adds one binary to another one, I had assignment and an overview says that this method does not work. I run test cases with different binary numbers it outputs correct results.\r\nHere is the code:\r\n\r\n\r\n```\r\npublic void add(BinaryNumber aBinaryNumber) {\r\n\t\t\r\n\t\t//Creating local variables for storing carry value and temporal sum array\r\n\t\tint carry = 0;\r\n\t\tint[] temp = new int[data.length];\r\n\t\t\r\n\t\tif(data.length != aBinaryNumber.getLength()) {\r\n\t\t\t//Checking if length of two binary numbers are coincide\r\n\t\t\tSystem.out.println(&quot;Lengths of binary numbers do not coincide.&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//populating temporary array after sum \r\n\t\t\tfor(int i=0; i&lt; data.length; i++) {\r\n\t\t\t\t\r\n\t\t\t\tif((data[i] + aBinaryNumber.getDigit(i) + carry) == 0 ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttemp[i] = 0;\r\n\t\t\t\t\tcarry=0;\r\n\t\t\t\t}\r\n\t\t\t\telse if((data[i] + aBinaryNumber.getDigit(i) + carry) == 1 ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttemp[i] = 1;\r\n\t\t\t\t\tcarry=0;\r\n\t\t\t\t}\r\n\t\t\t\telse if((data[i] + aBinaryNumber.getDigit(i) + carry) == 2 ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(i==(data.length - 1)) {\r\n\t\t\t\t\t\t//Setting overflow flag to true, if there is a carryover digit at the addition\r\n\t\t\t\t\t\toverflow = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp[i] = 0;\r\n\t\t\t\t\tcarry=1;\r\n\t\t\t\t}\r\n\t\t\t\telse if((data[i] + aBinaryNumber.getDigit(i) + carry) == 3 ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(i==(data.length - 1)) {\r\n\t\t\t\t\t\toverflow = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp[i] = 1;\r\n\t\t\t\t\tcarry=1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(carry == 1) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Sum resulted overflow.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tdata = temp;\r\n\t}\r\n\r\n\r\npublic static void main(String[] args) {\r\n\t\t\r\n\t\t//All calculations made using little-endian format.\r\n\t\tBinaryNumber data1 = new BinaryNumber(&quot;1011&quot;);// decimal 13\r\n\t\tBinaryNumber data2 = new BinaryNumber(&quot;0100&quot;);// decimal 2\r\n\t\tBinaryNumber data5 = new BinaryNumber(&quot;1110&quot;);// decimal 7\r\n\t\tBinaryNumber data6 = new BinaryNumber(&quot;1011&quot;);// decimal 13\r\n\t\t\r\n\t\t\r\n\t\t//Performing addition operation with two binary numbers. \r\n\t\tdata1.add(data2);// result 1111, decimal 15\r\n\t\t\r\n\t\tdata5.add(data6);// sum resulted overflow\r\n\t\t\r\n\t\t//Clearing overflow flag\r\n\t\tdata5.clearOverflow();\r\n\t\t\r\n\t\t//Performing addition of two binary numbers that have different length\r\n\t\tdata1.add(data3); //addition of two binary numbers that have different length\r\n\r\n\t}\r\n\r\n```\r\n\r\nI run test cases with different inputs (examples above), but my teacher says that method does not work.Could someone point where is mistake","title":"Could someone explain where is mistake in binary addition method?","body":"<p>The method that adds one binary to another one, I had assignment and an overview says that this method does not work. I run test cases with different binary numbers it outputs correct results.\nHere is the code:</p>\n<pre><code>public void add(BinaryNumber aBinaryNumber) {\n        \n        //Creating local variables for storing carry value and temporal sum array\n        int carry = 0;\n        int[] temp = new int[data.length];\n        \n        if(data.length != aBinaryNumber.getLength()) {\n            //Checking if length of two binary numbers are coincide\n            System.out.println(&quot;Lengths of binary numbers do not coincide.&quot;);\n        }\n        else {\n            //populating temporary array after sum \n            for(int i=0; i&lt; data.length; i++) {\n                \n                if((data[i] + aBinaryNumber.getDigit(i) + carry) == 0 ) {\n                    \n                    temp[i] = 0;\n                    carry=0;\n                }\n                else if((data[i] + aBinaryNumber.getDigit(i) + carry) == 1 ) {\n                    \n                    temp[i] = 1;\n                    carry=0;\n                }\n                else if((data[i] + aBinaryNumber.getDigit(i) + carry) == 2 ) {\n                    \n                    if(i==(data.length - 1)) {\n                        //Setting overflow flag to true, if there is a carryover digit at the addition\n                        overflow = true;\n                        break;\n                    }\n                    temp[i] = 0;\n                    carry=1;\n                }\n                else if((data[i] + aBinaryNumber.getDigit(i) + carry) == 3 ) {\n                    \n                    if(i==(data.length - 1)) {\n                        overflow = true;\n                        break;\n                    }\n                    temp[i] = 1;\n                    carry=1;\n                }\n            }\n            \n            if(carry == 1) {\n                \n                System.out.println(&quot;Sum resulted overflow.&quot;);\n            }\n        }\n        \n        data = temp;\n    }\n\n\npublic static void main(String[] args) {\n        \n        //All calculations made using little-endian format.\n        BinaryNumber data1 = new BinaryNumber(&quot;1011&quot;);// decimal 13\n        BinaryNumber data2 = new BinaryNumber(&quot;0100&quot;);// decimal 2\n        BinaryNumber data5 = new BinaryNumber(&quot;1110&quot;);// decimal 7\n        BinaryNumber data6 = new BinaryNumber(&quot;1011&quot;);// decimal 13\n        \n        \n        //Performing addition operation with two binary numbers. \n        data1.add(data2);// result 1111, decimal 15\n        \n        data5.add(data6);// sum resulted overflow\n        \n        //Clearing overflow flag\n        data5.clearOverflow();\n        \n        //Performing addition of two binary numbers that have different length\n        data1.add(data3); //addition of two binary numbers that have different length\n\n    }\n\n</code></pre>\n<p>I run test cases with different inputs (examples above), but my teacher says that method does not work.Could someone point where is mistake</p>\n"},{"tags":["java","arrays","oop","constructor"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668209789,"creation_date":1668209789,"answer_id":74409222,"question_id":74409196,"body_markdown":"Constructors are essentially methods.\r\n\r\n```java\r\nsierpinski(int row) { // this is a constructor\r\n\r\n  this.row = row; // this sets a field.\r\n  int[] pascal = new int[row+1]; // this creates a new local variable\r\n\r\n  // constructor ends, and with it, all local variables GO AWAY\r\n}\r\n```\r\n\r\nYou want to declare a field. You already have one (`row`), and you already set it (`this.row = row`). If you want `pascal` to still exist when the constructor ends, it needs to be a field and not a local:\r\n\r\n```\r\npublic Sierpinski {\r\n  private int row;\r\n  private int[] pascal;\r\n\r\n  public Sierpinski(int row) {\r\n    this.row = row;\r\n    this.pascal = new int[row];\r\n  }\r\n}\r\n```\r\n\r\n","title":"array in constructor keeps returning as null?","body":"<p>Constructors are essentially methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sierpinski(int row) { // this is a constructor\n\n  this.row = row; // this sets a field.\n  int[] pascal = new int[row+1]; // this creates a new local variable\n\n  // constructor ends, and with it, all local variables GO AWAY\n}\n</code></pre>\n<p>You want to declare a field. You already have one (<code>row</code>), and you already set it (<code>this.row = row</code>). If you want <code>pascal</code> to still exist when the constructor ends, it needs to be a field and not a local:</p>\n<pre><code>public Sierpinski {\n  private int row;\n  private int[] pascal;\n\n  public Sierpinski(int row) {\n    this.row = row;\n    this.pascal = new int[row];\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26862070,"reputation":1,"user_id":20445385,"display_name":"bigbitter123"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668216157,"answer_count":1,"score":-3,"last_activity_date":1668209789,"creation_date":1668209478,"question_id":74409196,"body_markdown":"```\r\npublic class sierpinski {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        sierpinski s1 = new sierpinski(3);\r\n\r\n        System.out.println(String.valueOf(s1.pascal));\r\n\r\n\r\n    }\r\n\r\n    int row;\r\n    String LString;\r\n    int[] pascal;\r\n    char[] Larray;\r\n\r\n\r\n\r\n    public static int fact( int n) {\r\n        int solution = 1;\r\n        if (n == 0) {\r\n            solution= 1;\r\n            return solution;\r\n\r\n        }\r\n        else {\r\n            for (int i = 2; i &lt;= n; i++) {\r\n                solution = solution * i;\r\n            }\r\n\r\n        }\r\n        return solution;\r\n    }\r\n\r\n    public static int ncr( int n , int r){\r\n        int ncr1 = fact(n)/(fact(r) * fact(n-r));\r\n        return ncr1;\r\n    }\r\n\r\n\r\n\r\n\r\n    sierpinski( int row){\r\n\r\n        this.row = row;\r\n\r\n        char[] Larray = new char[row+1];\r\n\r\n        int[] pascal = new int[row+1];\r\n\r\n        for(int i =0; i &lt; row+1; i++){\r\n\r\n            int a = ncr(row, i);\r\n\r\n            pascal[i] = a;\r\n\r\n\r\n        }\r\n        String LString = String.valueOf(Larray);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nim trying to do this code but pascal, keeps returning as null, when I declare it outside the constructor;\r\nive also tried this...\r\n\r\n\r\n```\r\npublic class sierpinski {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        sierpinski s1 = new sierpinski(3);\r\n\r\n        System.out.println(String.valueOf(s1.pascal));\r\n\r\n\r\n    }\r\n\r\n    int row;\r\n    String LString;\r\n    \r\n\r\n\r\n    public static int fact( int n) {\r\n        int solution = 1;\r\n        if (n == 0) {\r\n            solution= 1;\r\n            return solution;\r\n\r\n        }\r\n        else {\r\n            for (int i = 2; i &lt;= n; i++) {\r\n                solution = solution * i;\r\n            }\r\n\r\n        }\r\n        return solution;\r\n    }\r\n\r\n    public static int ncr( int n , int r){\r\n        int ncr1 = fact(n)/(fact(r) * fact(n-r));\r\n        return ncr1;\r\n    }\r\n\r\n\r\n\r\n\r\n    sierpinski( int row){\r\n\r\n        this.row = row;\r\n\r\n        char[] Larray = new char[row+1];\r\n\r\n        int[] pascal = new int[row+1];\r\n\r\n        for(int i =0; i &lt; row+1; i++){\r\n\r\n            int a = ncr(row, i);\r\n\r\n            pascal[i] = a;\r\n\r\n\r\n        }\r\n        String LString = String.valueOf(Larray);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nand I get this error\r\n\r\n\r\n```\r\nsierpinski.java:8: error: cannot find symbol\r\n        System.out.println(String.valueOf(s1.pascal));\r\n                                            ^\r\n  symbol:   variable pascal\r\n  location: variable s1 of type sierpinski\r\n1 error\r\nerror: compilation failed\r\n```\r\nsaying it cannot find symbol, any solutions and does anyone know how to fix this??\r\n\r\nthanks\r\n\r\n\r\n\r\n\r\ntried declaring the variable at the top, but I have no clue how to get this to work, any ideas?","title":"array in constructor keeps returning as null?","body":"<pre><code>public class sierpinski {\n\n\n    public static void main(String[] args) {\n\n        sierpinski s1 = new sierpinski(3);\n\n        System.out.println(String.valueOf(s1.pascal));\n\n\n    }\n\n    int row;\n    String LString;\n    int[] pascal;\n    char[] Larray;\n\n\n\n    public static int fact( int n) {\n        int solution = 1;\n        if (n == 0) {\n            solution= 1;\n            return solution;\n\n        }\n        else {\n            for (int i = 2; i &lt;= n; i++) {\n                solution = solution * i;\n            }\n\n        }\n        return solution;\n    }\n\n    public static int ncr( int n , int r){\n        int ncr1 = fact(n)/(fact(r) * fact(n-r));\n        return ncr1;\n    }\n\n\n\n\n    sierpinski( int row){\n\n        this.row = row;\n\n        char[] Larray = new char[row+1];\n\n        int[] pascal = new int[row+1];\n\n        for(int i =0; i &lt; row+1; i++){\n\n            int a = ncr(row, i);\n\n            pascal[i] = a;\n\n\n        }\n        String LString = String.valueOf(Larray);\n\n    }\n\n\n}\n\n</code></pre>\n<p>im trying to do this code but pascal, keeps returning as null, when I declare it outside the constructor;\nive also tried this...</p>\n<pre><code>public class sierpinski {\n\n\n    public static void main(String[] args) {\n\n        sierpinski s1 = new sierpinski(3);\n\n        System.out.println(String.valueOf(s1.pascal));\n\n\n    }\n\n    int row;\n    String LString;\n    \n\n\n    public static int fact( int n) {\n        int solution = 1;\n        if (n == 0) {\n            solution= 1;\n            return solution;\n\n        }\n        else {\n            for (int i = 2; i &lt;= n; i++) {\n                solution = solution * i;\n            }\n\n        }\n        return solution;\n    }\n\n    public static int ncr( int n , int r){\n        int ncr1 = fact(n)/(fact(r) * fact(n-r));\n        return ncr1;\n    }\n\n\n\n\n    sierpinski( int row){\n\n        this.row = row;\n\n        char[] Larray = new char[row+1];\n\n        int[] pascal = new int[row+1];\n\n        for(int i =0; i &lt; row+1; i++){\n\n            int a = ncr(row, i);\n\n            pascal[i] = a;\n\n\n        }\n        String LString = String.valueOf(Larray);\n\n    }\n\n\n}\n</code></pre>\n<p>and I get this error</p>\n<pre><code>sierpinski.java:8: error: cannot find symbol\n        System.out.println(String.valueOf(s1.pascal));\n                                            ^\n  symbol:   variable pascal\n  location: variable s1 of type sierpinski\n1 error\nerror: compilation failed\n</code></pre>\n<p>saying it cannot find symbol, any solutions and does anyone know how to fix this??</p>\n<p>thanks</p>\n<p>tried declaring the variable at the top, but I have no clue how to get this to work, any ideas?</p>\n"},{"tags":["java","spring","swagger","microservices"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1668208018,"post_id":74408847,"comment_id":131357801,"body_markdown":"return s!=null &amp;&amp; s.length() &gt;= 70 &amp;&amp; s.length()&lt;=100","body":"return s!=null &amp;&amp; s.length() &gt;= 70 &amp;&amp; s.length()&lt;=100"}],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668209316,"creation_date":1668209316,"answer_id":74409182,"question_id":74408847,"body_markdown":"While I am not entirely sure what Swagger is -- apologies if that is a super common thing and I&#39;ve been under a rock -- the idea in Java is relatively straight forward.\r\n\r\n&gt;Cheng Tao in the comments stated: **return s!=null &amp;&amp; s.length() &gt;= 70 &amp;&amp; s.length()&lt;=100**\r\n\r\nWhile this works, it uses the concept of Houdini numbers -- or numbers that are included without any reference point. A better way to write this solution would be (IN EXTREME PSEUDO-CODE):\r\n\r\n```java\r\n// test 1\r\nif (example != null) \r\n-&gt; test the length\r\n   // test 2\r\n   if (length &gt;= min &amp;&amp; length &lt;= max)\r\n   -&gt; passes\r\n\r\nif (either test is not valid) \r\n-&gt; fails\r\n```\r\nNote that this solution is quite broken down and can be simplified like Tao&#39;s solution above.\r\n","title":"String validation","body":"<p>While I am not entirely sure what Swagger is -- apologies if that is a super common thing and I've been under a rock -- the idea in Java is relatively straight forward.</p>\n<blockquote>\n<p>Cheng Tao in the comments stated: <strong>return s!=null &amp;&amp; s.length() &gt;= 70 &amp;&amp; s.length()&lt;=100</strong></p>\n</blockquote>\n<p>While this works, it uses the concept of Houdini numbers -- or numbers that are included without any reference point. A better way to write this solution would be (IN EXTREME PSEUDO-CODE):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// test 1\nif (example != null) \n-&gt; test the length\n   // test 2\n   if (length &gt;= min &amp;&amp; length &lt;= max)\n   -&gt; passes\n\nif (either test is not valid) \n-&gt; fails\n</code></pre>\n<p>Note that this solution is quite broken down and can be simplified like Tao's solution above.</p>\n"}],"owner":{"account_id":26149431,"reputation":1,"user_id":19837604,"display_name":"manu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668209316,"creation_date":1668206340,"question_id":74408847,"body_markdown":"I want to validate string to check min and max length and also empty string in swagger\r\n\r\nI am able to validate for min and max length but did not find any solution for empty check\r\nnull is allowed\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    maxLength: 100\r\n    minLength: 70\r\n    type: string\r\n    example: &#39;abcddedssk&#39;\r\n    x-constraint-messages:\r\n      minLength: ACCOUNT_GUID_MIN_LENGTH\r\n      maxLength: ACCOUNT_GUID_MAX_LENGTH\r\n","title":"String validation","body":"<p>I want to validate string to check min and max length and also empty string in swagger</p>\n<p>I am able to validate for min and max length but did not find any solution for empty check\nnull is allowed</p>\n<pre><code>maxLength: 100\nminLength: 70\ntype: string\nexample: 'abcddedssk'\nx-constraint-messages:\n  minLength: ACCOUNT_GUID_MIN_LENGTH\n  maxLength: ACCOUNT_GUID_MAX_LENGTH\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668208092,"post_id":74408930,"comment_id":131357816,"body_markdown":"I don&#39;t get it: the German character &#223; is different to its other notation &#39;ss&#39; so you cannot expect it can be resolved so it is equal in the end.","body":"I don&#39;t get it: the German character &#223; is different to its other notation &#39;ss&#39; so you cannot expect it can be resolved so it is equal in the end."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1668208173,"post_id":74408930,"comment_id":131357830,"body_markdown":"@kladderradatsch hmm I took this example from another question, my bad there","body":"@kladderradatsch hmm I took this example from another question, my bad there"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668208596,"post_id":74408930,"comment_id":131357892,"body_markdown":"But you probably know the user&#39;s `Locale`, why not use it? There are overloaded version for both `toLowerCase(Locale)` and `toUpperCase(Locale)`.","body":"But you probably know the user&#39;s <code>Locale</code>, why not use it? There are overloaded version for both <code>toLowerCase(Locale)</code> and <code>toUpperCase(Locale)</code>."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1668208721,"post_id":74408930,"comment_id":131357910,"body_markdown":"@AlexanderIvanchenko the users of the application are in America (south and north) so in this case using Locale ENGLISH, would be enough? It also has people from Brazil which is also in South America, but I was thinking that in the future who knows if this application expands to for example China or Europe, it would be nice if it already covers those cases","body":"@AlexanderIvanchenko the users of the application are in America (south and north) so in this case using Locale ENGLISH, would be enough? It also has people from Brazil which is also in South America, but I was thinking that in the future who knows if this application expands to for example China or Europe, it would be nice if it already covers those cases"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668209281,"post_id":74408930,"comment_id":131358006,"body_markdown":"I wasn&#39;t suggesting hard-coding the Locale, but applying a **user-specific local**. If it&#39;s a web application, then the client&#39;s preferred locale can be inferred from the `Accept-Language` header of the request, and you can obtain it through `HttpServletRequest.getLocale()`.","body":"I wasn&#39;t suggesting hard-coding the Locale, but applying a <b>user-specific local</b>. If it&#39;s a web application, then the client&#39;s preferred locale can be inferred from the <code>Accept-Language</code> header of the request, and you can obtain it through <code>HttpServletRequest.getLocale()</code>."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1668225206,"post_id":74408930,"comment_id":131359953,"body_markdown":"@AlexanderIvanchenko thank you I will try this sounds perfect for solving this little problem","body":"@AlexanderIvanchenko thank you I will try this sounds perfect for solving this little problem"}],"answers":[{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1668208278,"post_id":74409002,"comment_id":131357845,"body_markdown":"Why is this answer not present in all the other discussions about this topic? Is this going to cause any unexpected behaviour? Or it will always do what we need it to do which is just evaluate as the name says it, containsignorecase :)","body":"Why is this answer not present in all the other discussions about this topic? Is this going to cause any unexpected behaviour? Or it will always do what we need it to do which is just evaluate as the name says it, containsignorecase :)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668213612,"post_id":74409002,"comment_id":131358672,"body_markdown":"I&#39;m not sure. I wouldn&#39;t be shocked if there are some cases that only work with `toLowerCase()`.","body":"I&#39;m not sure. I wouldn&#39;t be shocked if there are some cases that only work with <code>toLowerCase()</code>."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1668310407,"post_id":74409002,"comment_id":131373054,"body_markdown":"yes well I was searching more about this but I came to the conclusion that making it work for all human languages is almost imposible without knowing the location/culture of the user, so for now I think it is okay to leave it working with lowercase or uppercase, then if you need to correct it for users in very specific places like Turkey, Germany or Greece, then is when you start demanding the user location to adjust it to that","body":"yes well I was searching more about this but I came to the conclusion that making it work for all human languages is almost imposible without knowing the location/culture of the user, so for now I think it is okay to leave it working with lowercase or uppercase, then if you need to correct it for users in very specific places like Turkey, Germany or Greece, then is when you start demanding the user location to adjust it to that"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668207742,"creation_date":1668207742,"answer_id":74409002,"question_id":74408930,"body_markdown":"`toLowerCase()` and `toUpperCase()` are [not always symmetric][1]. Your examples work if you uppercase them instead:\r\n\r\n    public static boolean containsIgnoreCase(String a, String b) {\r\n        if (a == null || b == null) {\r\n            return false;\r\n        }\r\n        return a.toUpperCase().contains(b.toUpperCase());\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1334004/1553851","title":"How to make a Java containsignorecase that works with all human languages","body":"<p><code>toLowerCase()</code> and <code>toUpperCase()</code> are <a href=\"https://stackoverflow.com/q/1334004/1553851\">not always symmetric</a>. Your examples work if you uppercase them instead:</p>\n<pre><code>public static boolean containsIgnoreCase(String a, String b) {\n    if (a == null || b == null) {\n        return false;\n    }\n    return a.toUpperCase().contains(b.toUpperCase());\n}\n</code></pre>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409002,"answer_count":1,"score":0,"last_activity_date":1668207742,"creation_date":1668207080,"question_id":74408930,"body_markdown":"For example I have this simple containsignorecase method:\r\n\r\n    public static boolean containsIgnoreCase(String a, String b) {\r\n    \tif (a == null || b == null) {\r\n    \t\treturn false;\r\n    \t}\r\n    \treturn a.toLowerCase().contains(b.toLowerCase());\r\n    }\r\n\r\nBut it fails with some comparissions like: ΙΧΘΥΣ &amp; ιχθυσ\r\n\r\nSo I switched to this library which is mentioned [here][1]: \r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n\r\nwhich has its own method StringUtils.containsIgnoreCase:\r\n\r\n\tpublic static boolean containsIgnoreCase2(String a, String b) {\r\n\t\tif (a == null || b == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn StringUtils.containsIgnoreCase(a, b);\r\n\t}\r\n\r\nNow it works for ΙΧΘΥΣ &amp; ιχθυσ, but it fails for wei&#223; &amp; WEISS, tsch&#252;&#223; &amp; TSCH&#220;SS, ᾲ στο διάολο &amp; Ὰͅ Στο Διάολο, ﬂour and water &amp; FLOUR AND WATER.\r\n\r\nSo I wonder if it is possible to create something that will work for all languages or am I missing something to configure on the apache library?\r\n\r\nI also saw that this library [icu4j][2] could be used but could not find an example\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n    \t&lt;version&gt;72.1&lt;/version&gt;\r\n \t&lt;/dependency&gt;\r\n\r\nAny help or recommendation is appreciated :)\r\n\r\n  [1]: https://stackoverflow.com/a/9560307/12085680\r\n  [2]: https://unicode-org.github.io/icu-docs/#/icu4j/com/ibm/icu/lang/UCharacter.html","title":"How to make a Java containsignorecase that works with all human languages","body":"<p>For example I have this simple containsignorecase method:</p>\n<pre><code>public static boolean containsIgnoreCase(String a, String b) {\n    if (a == null || b == null) {\n        return false;\n    }\n    return a.toLowerCase().contains(b.toLowerCase());\n}\n</code></pre>\n<p>But it fails with some comparissions like: ΙΧΘΥΣ &amp; ιχθυσ</p>\n<p>So I switched to this library which is mentioned <a href=\"https://stackoverflow.com/a/9560307/12085680\">here</a>:</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n</code></pre>\n<p>which has its own method StringUtils.containsIgnoreCase:</p>\n<pre><code>public static boolean containsIgnoreCase2(String a, String b) {\n    if (a == null || b == null) {\n        return false;\n    }\n\n    return StringUtils.containsIgnoreCase(a, b);\n}\n</code></pre>\n<p>Now it works for ΙΧΘΥΣ &amp; ιχθυσ, but it fails for weiß &amp; WEISS, tschüß &amp; TSCHÜSS, ᾲ στο διάολο &amp; Ὰͅ Στο Διάολο, ﬂour and water &amp; FLOUR AND WATER.</p>\n<p>So I wonder if it is possible to create something that will work for all languages or am I missing something to configure on the apache library?</p>\n<p>I also saw that this library <a href=\"https://unicode-org.github.io/icu-docs/#/icu4j/com/ibm/icu/lang/UCharacter.html\" rel=\"nofollow noreferrer\">icu4j</a> could be used but could not find an example</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n    &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n    &lt;version&gt;72.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Any help or recommendation is appreciated :)</p>\n"},{"tags":["java","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668206518,"creation_date":1668206518,"answer_id":74408862,"question_id":74408837,"body_markdown":"You miss apache commons-codec in your classpath.\r\n\r\nif you use maven add\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nto your pom.\r\n\r\nElse download the jar and add it to your classpath\r\n","title":"java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/DigestUtils","body":"<p>You miss apache commons-codec in your classpath.</p>\n<p>if you use maven add</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to your pom.</p>\n<p>Else download the jar and add it to your classpath</p>\n"}],"owner":{"account_id":26721075,"reputation":11,"user_id":20324912,"display_name":"Ivan Alier-Reyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1237,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668206847,"creation_date":1668206283,"question_id":74408837,"body_markdown":"I keep trying to build a simple app for my CST course but i keep coming across this very specific problem. The program itself does not seem to be the problem\r\n\r\n\r\n\r\nI have rewritten the code three times already and that doesnt seem to be the problem. i have asked the TA and they also have no idea on how to fix this. I dont know what else to try so i hope one of you can explain why this is happening so that i can avoid it in the future \r\n\r\n\r\ni have updated the question to contain my build.gradle file and the Build Output\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.daclink.gymlog_v_sp22&quot;\r\n        minSdk 28\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    namespace &#39;com.daclink.gymlog_v_sp22&#39;\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;commons-codec:commons-codec:1.15&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n\r\n    def room_version = &quot;2.4.3&quot;\r\n\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n}\r\n```\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/DigestUtils\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 10s\r\n29 actionable tasks: 3 executed, 26 up-to-date\r\n\r\n```","title":"java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/DigestUtils","body":"<p>I keep trying to build a simple app for my CST course but i keep coming across this very specific problem. The program itself does not seem to be the problem</p>\n<p>I have rewritten the code three times already and that doesnt seem to be the problem. i have asked the TA and they also have no idea on how to fix this. I dont know what else to try so i hope one of you can explain why this is happening so that i can avoid it in the future</p>\n<p>i have updated the question to contain my build.gradle file and the Build Output</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.daclink.gymlog_v_sp22&quot;\n        minSdk 28\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    namespace 'com.daclink.gymlog_v_sp22'\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'commons-codec:commons-codec:1.15'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n\n    def room_version = &quot;2.4.3&quot;\n\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n}\n</code></pre>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/DigestUtils\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 10s\n29 actionable tasks: 3 executed, 26 up-to-date\n\n</code></pre>\n"},{"tags":["java","android","listview","cursor"],"answers":[{"comments":[{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323445692,"post_id":8447945,"comment_id":10442220,"body_markdown":"`adapter.notifyDataSetChanged();`? That&#39;s already there after updating the cursor.","body":"<code>adapter.notifyDataSetChanged();</code>? That&#39;s already there after updating the cursor."},{"owner":{"account_id":415798,"reputation":3074,"user_id":790810,"accept_rate":77,"display_name":"Dawid Sajdak"},"score":0,"creation_date":1323445791,"post_id":8447945,"comment_id":10442263,"body_markdown":"why You use setListAdapter(adapter); in onitemclicklistner ?","body":"why You use setListAdapter(adapter); in onitemclicklistner ?"},{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323446158,"post_id":8447945,"comment_id":10442411,"body_markdown":"Because I&#39;m not sure how to get the list to update and thought that maybe that would cause the list to reload or something.","body":"Because I&#39;m not sure how to get the list to update and thought that maybe that would cause the list to reload or something."}],"tags":[],"owner":{"account_id":415798,"reputation":3074,"user_id":790810,"accept_rate":77,"display_name":"Dawid Sajdak"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323445502,"creation_date":1323445502,"answer_id":8447945,"question_id":8447893,"body_markdown":"Call [notifyDataSetChanged()][1] on your Adapter.\r\n\r\n\r\n  [1]: http://developer.android.com/intl/fr/reference/android/widget/BaseAdapter.html#notifyDataSetChanged%28%29","title":"Confusion with ListView adapters","body":"<p>Call <a href=\"http://developer.android.com/intl/fr/reference/android/widget/BaseAdapter.html#notifyDataSetChanged%28%29\" rel=\"nofollow\">notifyDataSetChanged()</a> on your Adapter.</p>\n"},{"tags":[],"owner":{"account_id":544346,"reputation":12377,"user_id":913762,"display_name":"nostra13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323457632,"creation_date":1323457632,"answer_id":8450423,"question_id":8447893,"body_markdown":"Does this variant work?\r\n\r\n    lv.setOnItemClickListener(new OnItemClickListener() {\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                database.open();\r\n                database.deleteMedia(String.valueOf(id));\r\n                database.close();\r\n                adapter.notifyDataSetChanged(); // maybe use notifyDataSetInvalidated()\r\n            }\r\n        });","title":"Confusion with ListView adapters","body":"<p>Does this variant work?</p>\n\n<pre><code>lv.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            database.open();\n            database.deleteMedia(String.valueOf(id));\n            database.close();\n            adapter.notifyDataSetChanged(); // maybe use notifyDataSetInvalidated()\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668206321,"creation_date":1323445265,"question_id":8447893,"body_markdown":"I&#39;m having some trouble understanding how to get my ListView to update. When a user clicks on a list item, the item is deleted fromt he database and the ListView should update to show it no longer there. However, the list does not update and I&#39;m not sure I&#39;m doing it right.\r\n\r\nHere&#39;s my code:\r\n\r\n    package com.example.mediacatalogue;\r\n\r\n    import android.os.Bundle;\r\n    import android.app.ListActivity;\r\n    import android.database.Cursor;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.AdapterView.OnItemClickListener;\r\n    import android.widget.BaseAdapter;\r\n    import android.widget.ListAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.SimpleCursorAdapter;\r\n    \r\n        public class DVDs extends ListActivity {\r\n    \tprivate DatabaseHelper database;\r\n    \tprivate static final String MEDIA_TYPE = &quot;DVD&quot;;\r\n    \tprivate Cursor ListCursor;\r\n        private BaseAdapter adapter;\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            database = new DatabaseHelper(this);\r\n            database.open();\r\n\r\n            ListCursor = database.selectMedia(MEDIA_TYPE);\r\n            database.close();\r\n            startManagingCursor(ListCursor);\r\n\r\n            adapter = new SimpleCursorAdapter(this,\r\n                R.layout.listlayout,\r\n                ListCursor,\r\n                new String[] {DatabaseHelper.TABLE_NAME+&quot;.title&quot;, DatabaseHelper.TABLE_NAME+&quot;.author&quot;},\r\n                new int[] {R.id.text1, R.id.text2});\r\n            setListAdapter(adapter);\r\n\r\n            ListView lv = getListView();\r\n            lv.setTextFilterEnabled(true);\r\n\r\n            lv.setOnItemClickListener(new OnItemClickListener() {\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view,\r\n                int position, long id) {\r\n                    database.open();\r\n                    database.deleteMedia(String.valueOf(id));\r\n                    ListCursor = database.selectMedia(MEDIA_TYPE);\r\n                    adapter.notifyDataSetChanged();\r\n                    setListAdapter(adapter);\r\n                    database.close();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nI know the database updates correctly as when you exit and reenter the application the list displays as it should, it just doesn&#39;t update when an Item is removed.","title":"Confusion with ListView adapters","body":"<p>I'm having some trouble understanding how to get my ListView to update. When a user clicks on a list item, the item is deleted fromt he database and the ListView should update to show it no longer there. However, the list does not update and I'm not sure I'm doing it right.</p>\n<p>Here's my code:</p>\n<pre><code>package com.example.mediacatalogue;\n\nimport android.os.Bundle;\nimport android.app.ListActivity;\nimport android.database.Cursor;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.AdapterView.OnItemClickListener;\nimport android.widget.BaseAdapter;\nimport android.widget.ListAdapter;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\n\n    public class DVDs extends ListActivity {\n    private DatabaseHelper database;\n    private static final String MEDIA_TYPE = &quot;DVD&quot;;\n    private Cursor ListCursor;\n    private BaseAdapter adapter;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        database = new DatabaseHelper(this);\n        database.open();\n\n        ListCursor = database.selectMedia(MEDIA_TYPE);\n        database.close();\n        startManagingCursor(ListCursor);\n\n        adapter = new SimpleCursorAdapter(this,\n            R.layout.listlayout,\n            ListCursor,\n            new String[] {DatabaseHelper.TABLE_NAME+&quot;.title&quot;, DatabaseHelper.TABLE_NAME+&quot;.author&quot;},\n            new int[] {R.id.text1, R.id.text2});\n        setListAdapter(adapter);\n\n        ListView lv = getListView();\n        lv.setTextFilterEnabled(true);\n\n        lv.setOnItemClickListener(new OnItemClickListener() {\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n            int position, long id) {\n                database.open();\n                database.deleteMedia(String.valueOf(id));\n                ListCursor = database.selectMedia(MEDIA_TYPE);\n                adapter.notifyDataSetChanged();\n                setListAdapter(adapter);\n                database.close();\n            }\n        });\n    }\n}\n</code></pre>\n<p>I know the database updates correctly as when you exit and reenter the application the list displays as it should, it just doesn't update when an Item is removed.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1668127296,"post_id":74394063,"comment_id":131336955,"body_markdown":"Would you mind sharing the details of &quot;HibernateSessionManager.current.withSession&quot;? Without that info one can only guess what is going on with this test case...","body":"Would you mind sharing the details of &quot;HibernateSessionManager.current.withSession&quot;? Without that info one can only guess what is going on with this test case..."},{"owner":{"account_id":5676513,"reputation":1243,"user_id":4489470,"accept_rate":79,"display_name":"Bibek Shakya"},"score":0,"creation_date":1668183185,"post_id":74394063,"comment_id":131351327,"body_markdown":"@Dmitry Khamitov added additional code.","body":"@Dmitry Khamitov added additional code."}],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668206290,"creation_date":1668206290,"answer_id":74408839,"question_id":74394063,"body_markdown":"Looking at the code and assuming it compiles, I believe the problem is that you have two `withSession(...)` methods and in the code posted you are trying to mock the wrong one. Here are their signatures:\r\n```\r\n// You should NOT mock this one\r\nvoid withSession(Consumer&lt;Session&gt; task) {\r\n  ...\r\n}\r\n\r\n// You should mock this one instead\r\nMbc_session withSession(Function&lt;Session, Mbc_session&gt; task) {\r\n  ...\r\n}\r\n```\r\nIt was easy to guess as the `getMBCSessionByGuid` method contains the snippet below with the `Function&lt;Session, Mbc_session&gt;` being passed as an argument to `withSession(...)` instead of `Consumer&lt;Session&gt;`:\r\n```\r\nreturn HibernateSessionManager.current.withSession(hibernateSession -&gt; { \r\n   // something is returned which means a Function is passed, not a Consumer\r\n   return hibernateSession.get(Mbc_session.class, sessionGuid); \r\n}); \r\n```\r\nAs an easy fix, you can just add the following to the test:\r\n```\r\ndoCallRealMethod().when(HibernateSessionManager.current).withSession(any(Function.class));\r\n```\r\nand remove the existing mock configuration with a `Consumer`:\r\n```\r\ndoCallRealMethod().when(HibernateSessionManager.current).withSession(any(Consumer.class));\r\n```\r\n\r\nP.S. Just in case, I can easily reproduce the issue on my machine.","title":"how to mock static class function with inner method in mockito?","body":"<p>Looking at the code and assuming it compiles, I believe the problem is that you have two <code>withSession(...)</code> methods and in the code posted you are trying to mock the wrong one. Here are their signatures:</p>\n<pre><code>// You should NOT mock this one\nvoid withSession(Consumer&lt;Session&gt; task) {\n  ...\n}\n\n// You should mock this one instead\nMbc_session withSession(Function&lt;Session, Mbc_session&gt; task) {\n  ...\n}\n</code></pre>\n<p>It was easy to guess as the <code>getMBCSessionByGuid</code> method contains the snippet below with the <code>Function&lt;Session, Mbc_session&gt;</code> being passed as an argument to <code>withSession(...)</code> instead of <code>Consumer&lt;Session&gt;</code>:</p>\n<pre><code>return HibernateSessionManager.current.withSession(hibernateSession -&gt; { \n   // something is returned which means a Function is passed, not a Consumer\n   return hibernateSession.get(Mbc_session.class, sessionGuid); \n}); \n</code></pre>\n<p>As an easy fix, you can just add the following to the test:</p>\n<pre><code>doCallRealMethod().when(HibernateSessionManager.current).withSession(any(Function.class));\n</code></pre>\n<p>and remove the existing mock configuration with a <code>Consumer</code>:</p>\n<pre><code>doCallRealMethod().when(HibernateSessionManager.current).withSession(any(Consumer.class));\n</code></pre>\n<p>P.S. Just in case, I can easily reproduce the issue on my machine.</p>\n"}],"owner":{"account_id":5676513,"reputation":1243,"user_id":4489470,"accept_rate":79,"display_name":"Bibek Shakya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74408839,"answer_count":1,"score":0,"last_activity_date":1668206290,"creation_date":1668106621,"question_id":74394063,"body_markdown":"I have a class name HibernateSessionManager which have static method\r\n\r\n    public static HibernateSessionManager current;\r\n\r\nI trying to mock \r\n\r\n    public Mbc_session getMBCSessionByGuid(String sessionGuid) { \r\n      try { \r\n        return HibernateSessionManager.current.withSession(hibernateSession -&gt; { \r\n           return hibernateSession.get(Mbc_session.class, sessionGuid); \r\n       }); \r\n    } \r\n    catch (Exception e) { \r\n      logger.error().logFormattedMessage(Constants.MBC_SESSION_GET_ERROR_STRING, \r\n        e.getMessage()); throw new DAOException(ErrorCode.MBC_1510.getCode(), ErrorCode.MBC_1510.getErrorMessage() + &quot;,Operation: getMBCSessionByGuid&quot;); \r\n     } \r\n    }\r\n\r\ni am using following function in @before\r\n\r\n\r\n    public static void initMocks(Session session) { \r\n      HibernateSessionManager.current = mock(HibernateSessionManager.class,Mockito.RETURNS_DEEP_STUBS); \r\n      HibernateTransactionManager.current = mock(HibernateTransactionManager.class,Mockito.RETURNS_DEEP_STUBS); \r\n      doCallRealMethod().when(HibernateTransactionManager.current).withTransaction(any(), any()); \r\n      doCallRealMethod().when(HibernateSessionManager.current).withSession(any(Consumer.class)); \r\n      // Mockito.when(HibernateSessionManager.current.withSession((Consumer&lt;Session&gt;) any(Function.class))).thenCallRealMethod(); \r\n      \r\n      when(HibernateSessionManager.current.getSession()).thenReturn(session); \r\n    } \r\n\r\nMy test case is following \r\n\r\n\r\n    @Test public void test_getMBCSessionByGuid() { \r\n      Mbc_session mbcSession = new Mbc_session(); \r\n      String sessionGuid = &quot;session GUID&quot;; \r\n      when(HibernateSessionManager.current.getSession()).thenReturn(session); \r\n      // when(sessionFactory.getCurrentSession()).thenReturn(session); \r\n      when(session.get(Mbc_session.class, sessionGuid)).thenReturn(mbcSession); \r\n      Mbc_session mbcSession2 = mbc_sessionDao.getMBCSessionByGuid(sessionGuid); \r\n      assertNull(mbcSession2); \r\n    } \r\n\r\nit passed but coverage is not touching following code\r\n\r\n    return hibernateSession.get(Mbc_session.class, sessionGuid); \r\n\r\n\r\nhere is my `withSession` code\r\n\r\n    public void withSession(Consumer&lt;Session&gt; task) { \r\n         Session hibernateSession = getSession(); \r\n         try { \r\n            task.accept(hibernateSession); \r\n          } finally { \r\n            HibernateSessionManager.current.closeSession(hibernateSession); \r\n         } \r\n    } \r\n\r\nopenSession\r\n\r\n    public Session getSession() { \r\n        Session threadCachedSession = threadSession.get(); \r\n        if (threadCachedSession != null) { \r\n           if (!threadCachedSession.isOpen()) { throw new \r\n              IllegalStateException(&quot;Session closed outside of \r\n               HibernateSessionManager.&quot;); \r\n           } \r\n           return threadCachedSession; \r\n         } return sessionFactory.openSession(); \r\n\r\n       } ","title":"how to mock static class function with inner method in mockito?","body":"<p>I have a class name HibernateSessionManager which have static method</p>\n<pre><code>public static HibernateSessionManager current;\n</code></pre>\n<p>I trying to mock</p>\n<pre><code>public Mbc_session getMBCSessionByGuid(String sessionGuid) { \n  try { \n    return HibernateSessionManager.current.withSession(hibernateSession -&gt; { \n       return hibernateSession.get(Mbc_session.class, sessionGuid); \n   }); \n} \ncatch (Exception e) { \n  logger.error().logFormattedMessage(Constants.MBC_SESSION_GET_ERROR_STRING, \n    e.getMessage()); throw new DAOException(ErrorCode.MBC_1510.getCode(), ErrorCode.MBC_1510.getErrorMessage() + &quot;,Operation: getMBCSessionByGuid&quot;); \n } \n}\n</code></pre>\n<p>i am using following function in @before</p>\n<pre><code>public static void initMocks(Session session) { \n  HibernateSessionManager.current = mock(HibernateSessionManager.class,Mockito.RETURNS_DEEP_STUBS); \n  HibernateTransactionManager.current = mock(HibernateTransactionManager.class,Mockito.RETURNS_DEEP_STUBS); \n  doCallRealMethod().when(HibernateTransactionManager.current).withTransaction(any(), any()); \n  doCallRealMethod().when(HibernateSessionManager.current).withSession(any(Consumer.class)); \n  // Mockito.when(HibernateSessionManager.current.withSession((Consumer&lt;Session&gt;) any(Function.class))).thenCallRealMethod(); \n  \n  when(HibernateSessionManager.current.getSession()).thenReturn(session); \n} \n</code></pre>\n<p>My test case is following</p>\n<pre><code>@Test public void test_getMBCSessionByGuid() { \n  Mbc_session mbcSession = new Mbc_session(); \n  String sessionGuid = &quot;session GUID&quot;; \n  when(HibernateSessionManager.current.getSession()).thenReturn(session); \n  // when(sessionFactory.getCurrentSession()).thenReturn(session); \n  when(session.get(Mbc_session.class, sessionGuid)).thenReturn(mbcSession); \n  Mbc_session mbcSession2 = mbc_sessionDao.getMBCSessionByGuid(sessionGuid); \n  assertNull(mbcSession2); \n} \n</code></pre>\n<p>it passed but coverage is not touching following code</p>\n<pre><code>return hibernateSession.get(Mbc_session.class, sessionGuid); \n</code></pre>\n<p>here is my <code>withSession</code> code</p>\n<pre><code>public void withSession(Consumer&lt;Session&gt; task) { \n     Session hibernateSession = getSession(); \n     try { \n        task.accept(hibernateSession); \n      } finally { \n        HibernateSessionManager.current.closeSession(hibernateSession); \n     } \n} \n</code></pre>\n<p>openSession</p>\n<pre><code>public Session getSession() { \n    Session threadCachedSession = threadSession.get(); \n    if (threadCachedSession != null) { \n       if (!threadCachedSession.isOpen()) { throw new \n          IllegalStateException(&quot;Session closed outside of \n           HibernateSessionManager.&quot;); \n       } \n       return threadCachedSession; \n     } return sessionFactory.openSession(); \n\n   } \n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":959773,"reputation":9898,"user_id":984393,"accept_rate":73,"display_name":"skynet"},"score":4,"creation_date":1323363129,"post_id":8434540,"comment_id":10422946,"body_markdown":"Please don&#39;t double post [I can&#39;t figure out what&#39;s wrong with my NullPointerException or why it even exists](http://stackoverflow.com/questions/8434094/i-cant-figure-out-whats-wrong-with-my-nullpointerexception-or-why-it-even-exis)","body":"Please don&#39;t double post <a href=\"http://stackoverflow.com/questions/8434094/i-cant-figure-out-whats-wrong-with-my-nullpointerexception-or-why-it-even-exis\">I can&#39;t figure out what&#39;s wrong with my NullPointerException or why it even exists</a>"},{"owner":{"account_id":398081,"reputation":3867,"user_id":762567,"accept_rate":84,"display_name":"b.buchhold"},"score":1,"creation_date":1323363736,"post_id":8434540,"comment_id":10423133,"body_markdown":"which line is MainActivity.java:193?","body":"which line is MainActivity.java:193?"},{"owner":{"account_id":249720,"reputation":9560,"user_id":525978,"display_name":"havexz"},"score":1,"creation_date":1323367594,"post_id":8434540,"comment_id":10424291,"body_markdown":"MainActivity.java:193...can you put comment on line 193 in your MainActivity.java","body":"MainActivity.java:193...can you put comment on line 193 in your MainActivity.java"}],"answers":[{"comments":[{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323364767,"post_id":8434672,"comment_id":10423460,"body_markdown":"They aren&#39;t. I&#39;ve posted Toast notifications with the contents of the variables and the display fine.\n  \nAlso, isn&#39;t getExtras for IntentRerult rather that IntentIntegrator?\n  \nTried it, crashed for the same reason.","body":"They aren&#39;t. I&#39;ve posted Toast notifications with the contents of the variables and the display fine.    Also, isn&#39;t getExtras for IntentRerult rather that IntentIntegrator?    Tried it, crashed for the same reason."},{"owner":{"account_id":249720,"reputation":9560,"user_id":525978,"display_name":"havexz"},"score":0,"creation_date":1323366580,"post_id":8434672,"comment_id":10424016,"body_markdown":"just updated answer..try this out","body":"just updated answer..try this out"},{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323367004,"post_id":8434672,"comment_id":10424139,"body_markdown":"Won&#39;t be the answer, the same error appears above where you enter the barcode manually. I think it&#39;s something to do with declaring the database helper above. That&#39;s all I can think of.","body":"Won&#39;t be the answer, the same error appears above where you enter the barcode manually. I think it&#39;s something to do with declaring the database helper above. That&#39;s all I can think of."}],"tags":[],"owner":{"account_id":249720,"reputation":9560,"user_id":525978,"display_name":"havexz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323366549,"creation_date":1323363408,"answer_id":8434672,"question_id":8434540,"body_markdown":"Looks like this is the prob:\r\n\r\nInstead of:\r\n\r\n    String contents = intent.getStringExtra(&quot;SCAN_RESULT&quot;);\r\n    String format = intent.getStringExtra(&quot;SCAN_RESULT_FORMAT&quot;);\r\n\r\nTry:\r\n\r\n    String contents = scanResult.getContents();\r\n    String format = scanResult.getFormatName();\r\n\r\n\r\nAlso check that `contents` and `format` are not coming as `null`","title":"NullPointerException error, not experienced enough to know what&#39;s wrong","body":"<p>Looks like this is the prob:</p>\n\n<p>Instead of:</p>\n\n<pre><code>String contents = intent.getStringExtra(\"SCAN_RESULT\");\nString format = intent.getStringExtra(\"SCAN_RESULT_FORMAT\");\n</code></pre>\n\n<p>Try:</p>\n\n<pre><code>String contents = scanResult.getContents();\nString format = scanResult.getFormatName();\n</code></pre>\n\n<p>Also check that <code>contents</code> and <code>format</code> are not coming as <code>null</code></p>\n"},{"comments":[{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323365645,"post_id":8435067,"comment_id":10423717,"body_markdown":"I&#39;m pretty sure it&#39;s the `database.addMedia(result);` line. The log before it works and then the program crashes. Unfortunately I have no idea how I&#39;m passing through the variables wrong. There&#39;s also a weird log about zxing not passing stuff through properly but that&#39;s bull, I&#39;ve Toasted all the information I need, so the object appears fine. Also, my app has to be handed in tomorrow, I&#39;m basically screwed if I can&#39;t get this figured out.","body":"I&#39;m pretty sure it&#39;s the <code>database.addMedia(result);</code> line. The log before it works and then the program crashes. Unfortunately I have no idea how I&#39;m passing through the variables wrong. There&#39;s also a weird log about zxing not passing stuff through properly but that&#39;s bull, I&#39;ve Toasted all the information I need, so the object appears fine. Also, my app has to be handed in tomorrow, I&#39;m basically screwed if I can&#39;t get this figured out."},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":0,"creation_date":1323365777,"post_id":8435067,"comment_id":10423751,"body_markdown":"1) Did you read those links? 2) Post your full stack trace here, the current logcat output is truncated so we can&#39;t see the exact line the NullPointerException occurs.","body":"1) Did you read those links? 2) Post your full stack trace here, the current logcat output is truncated so we can&#39;t see the exact line the NullPointerException occurs."},{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323366241,"post_id":8435067,"comment_id":10423877,"body_markdown":"Want me to dump more log stuff? Tried a breakpoint just before attempting to add to the database, result seemed fine.","body":"Want me to dump more log stuff? Tried a breakpoint just before attempting to add to the database, result seemed fine."},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":0,"creation_date":1323366555,"post_id":8435067,"comment_id":10424003,"body_markdown":"In your logcat output there&#39;s a line which says &quot;11 more&quot;, update your original question to include the 11 more lines.","body":"In your logcat output there&#39;s a line which says &quot;11 more&quot;, update your original question to include the 11 more lines."},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":0,"creation_date":1323368039,"post_id":8435067,"comment_id":10424446,"body_markdown":"Actually forget that, the &quot;11 more&quot; just means the stack trace is the same as the stack trace above. Have you tried stepping through your application during a debug session using F6 to see exactly where it fails?","body":"Actually forget that, the &quot;11 more&quot; just means the stack trace is the same as the stack trace above. Have you tried stepping through your application during a debug session using F6 to see exactly where it fails?"},{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323368068,"post_id":8435067,"comment_id":10424455,"body_markdown":"I didn&#39;t open the database. Feel like a complete spanner now.","body":"I didn&#39;t open the database. Feel like a complete spanner now."},{"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"score":0,"creation_date":1323368106,"post_id":8435067,"comment_id":10424464,"body_markdown":"Also, thanks for the help, even if it was just me being a complete idiot.","body":"Also, thanks for the help, even if it was just me being a complete idiot."},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":0,"creation_date":1323368324,"post_id":8435067,"comment_id":10424537,"body_markdown":"Well done for getting it fixed. Consider upvoting comments and/or accepting an answer by way of thanks to the helpers :)","body":"Well done for getting it fixed. Consider upvoting comments and/or accepting an answer by way of thanks to the helpers :)"}],"tags":[],"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1323365277,"creation_date":1323365277,"answer_id":8435067,"question_id":8434540,"body_markdown":"Instead of throwing your laptop out of the window, why not start by [understanding what a NullPointerException is][1], then looking into [how to debug an Android application][2]. \r\n\r\nYou should be able to step through your code execution to pinpoint exactly which line of code is causing the exception. Diagnosing the cause is usually quite easy once you&#39;ve found the problem.\r\n\r\n  [1]: https://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception\r\n  [2]: http://www.droidnova.com/debugging-in-android-using-eclipse,541.html","title":"NullPointerException error, not experienced enough to know what&#39;s wrong","body":"<p>Instead of throwing your laptop out of the window, why not start by <a href=\"https://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception\">understanding what a NullPointerException is</a>, then looking into <a href=\"http://www.droidnova.com/debugging-in-android-using-eclipse,541.html\" rel=\"nofollow noreferrer\">how to debug an Android application</a>. </p>\n\n<p>You should be able to step through your code execution to pinpoint exactly which line of code is causing the exception. Diagnosing the cause is usually quite easy once you've found the problem.</p>\n"}],"owner":{"account_id":1091369,"reputation":153,"user_id":1085953,"accept_rate":19,"display_name":"Matthew Simpson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1323446936,"accepted_answer_id":8435067,"answer_count":2,"score":-1,"last_activity_date":1668206102,"creation_date":1323362916,"question_id":8434540,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [I can&amp;#39;t figure out what&amp;#39;s wrong with my NullPointerException or why it even exists](https://stackoverflow.com/questions/8434094/i-cant-figure-out-whats-wrong-with-my-nullpointerexception-or-why-it-even-exis)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nWhat are they? My application keeps crashing whenever I try to pass an object over to my database helper.\r\n\r\nThe variable name is &quot;e&quot;. I&#39;ve had the data in the object display in a toast notification and everything is fine but when i try to pass it to the database helper I get nothing. I&#39;ve even added Logs to every second line but nothing gets passed as the method never starts.\r\n\r\nI also tried adding the values from the object into separate variables and passing them through (I rewrote the helper method) but it still crashes.\r\n\r\nI&#39;m very close to throwing my laptop through the window, please help me.\r\n\r\nMy placeholder search class\r\n\r\n    \r\n    package com.exame.mediacatalogue;\r\n\r\n    //This class is used to query the details of the barcode scanned or entered\r\n    //This in done in lieu of an open online database\r\n    //If an online database is found this class can be replaced to utilise it\r\n    public class SearchForBarcode{\r\n    //Initialise Variables\r\n    public String barcode;\r\n    public String mediatype;\r\n    public String title;\r\n    public String author;\r\n\r\n    //Set variables based on the input barcode\r\n    public SearchForBarcode(String inputBarcode){        \r\n        barcode = inputBarcode;\r\n        //An if statement is used because switch case cannot be used for anything other than int\r\n        //And a 13 digit barcode is too big to fit in an int variable.\r\n        //(JDK 1.7 supports string based cases but Android does not support it)\r\n        if (barcode.equals(&quot;5014503113629&quot;)){\r\n            mediatype = &quot;DVD&quot;;\r\n            title = &quot;The Young Ones Series One&quot;;\r\n            author = &quot;Rik Mayall, Ade Edmondson, Nigel Planer, Christopher Ryan, Alexei Sayle&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;5014503151423&quot;)){\r\n            mediatype = &quot;DVD&quot;;\r\n            title = &quot;The Office: Complete Series One &amp; Two&quot;;\r\n            author = &quot;Ricky Gervais, Martin Freeman, Mackenzie Crook, Lucy Davis&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;5050582261103&quot;)){\r\n            mediatype = &quot;DVD&quot;;\r\n            title = &quot;Shaun of the Dead&quot;;\r\n            author = &quot;Simon Pegg, Nick Frost, Lucy davis, Kate Ashfield, Dylan Moran, Bill Nighy, Penelope Wilton&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;5021290037243&quot;)){\r\n            mediatype = &quot;Game&quot;;\r\n            title = &quot;Batman: Arkham Asylum (PS3)&quot;;\r\n            author = &quot;Warner Brothers&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;5026555402323&quot;)){\r\n            mediatype = &quot;Game&quot;;\r\n            title = &quot;Bioshock 2 (PS3)&quot;;\r\n            author = &quot;2K Games&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;5021290046573&quot;)){\r\n            mediatype = &quot;Game&quot;;\r\n            title = &quot;Tomb Raider Trilogy HD (PS3)&quot;;\r\n            author = &quot;Crystal Dynamics&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;6025273901261&quot;)){\r\n            mediatype = &quot;CD&quot;;\r\n            title = &quot;Flesh Tone&quot;;\r\n            author = &quot;Kelis&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;724358480924&quot;)){\r\n            mediatype = &quot;CD&quot;;\r\n            title = &quot;Duran Duran&quot;;\r\n            author = &quot;Duran Duran&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;5099969605529&quot;)){\r\n            mediatype = &quot;CD&quot;;\r\n            title = &quot;Sounds of the Universe&quot;;\r\n            author = &quot;Depeche Mode&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;9781427802118&quot;)){\r\n            mediatype = &quot;Book&quot;;\r\n            title = &quot;Sgt Frog Vol. 13&quot;;\r\n            author = &quot;Mine Yoshizaki&quot;;\r\n        }\r\n        else if (barcode.equals(&quot;978009940953&quot;)){\r\n            mediatype = &quot;Book&quot;;\r\n            title = &quot;Star Wars - The New Jedi Order: Vector Prime&quot;;\r\n            author = &quot;R. A. Salvatore&quot;;\r\n        }\r\n        else{\r\n            mediatype = &quot;Not Found&quot;;\r\n            title = &quot;Not Found&quot;;\r\n            author = &quot;Not Found&quot;;\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nMy Database Helper class\r\n\r\n    package com.example.mediacatalogue;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.SQLException;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n    \r\n    public class DatabaseHelper {\r\n        private static final String DATABASE_NAME = &quot;mediaDatabase&quot;;\r\n    private static final int DATABASE_VERSION = 2;\r\n    private static final String TABLE_NAME = &quot;table&quot;;\r\n\r\n    private OpenHelper mDbHelper;\r\n    private SQLiteDatabase mDb;\r\n    private SQLiteDatabase mDbr;\r\n    private final Context mCtx;\r\n\r\n    private static final String TAG = &quot;UserDbAdapter&quot;;\r\n\r\n    private static class OpenHelper extends SQLiteOpenHelper{\r\n        OpenHelper(Context context){\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        }\r\n\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(&quot;create table &quot;+TABLE_NAME+&quot;&quot; +\r\n                    &quot; (_id integer primary key,&quot; +\r\n                    &quot; mediatype text not null,&quot; +\r\n                    &quot; title text not null&quot; +\r\n                    &quot; author text not null&quot; +\r\n                    &quot; wishlist integer&quot; +\r\n                    &quot;);&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            Log.w(TAG, &quot;Upgrading database from version &quot; + oldVersion + &quot; to &quot; + newVersion);\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n            onCreate(db);\r\n        }\r\n\r\n    }\r\n    public DatabaseHelper(Context ctx) {\r\n        this.mCtx = ctx;\r\n    }\r\n     //This method is called from the controlling class when the open() call is used\r\n    //it creates an instance of openHelper (detailed above) and sets up appropriate   \r\n    //connections to the database.\r\n    public DatabaseHelper open() throws SQLException {\r\n        mDbHelper = new OpenHelper(mCtx);\r\n        mDb = mDbHelper.getWritableDatabase();\r\n        mDbr = mDbHelper.getReadableDatabase();\r\n        return this;\r\n    }\r\n    //used to close db connections\r\n    public void close() {\r\n        mDbHelper.close();\r\n    }\r\n    //When we wish to insert a record we can call this method, passing   \r\n    //in the appropriate parameters.  The method then binds the   \r\n    //parameters to the insert command and then executes it\r\n    //against the appropriate table in the mDB database instance\r\n    public long addMedia(SearchForBarcode result) {\r\n        Log.d(TAG,&quot;Line 1&quot;);        \r\n        ContentValues initialValues = new ContentValues();\r\n        Log.d(TAG,&quot;Line 2&quot;);        \r\n        initialValues.put(&quot;_id&quot;, result.barcode);\r\n        Log.d(TAG,&quot;Line 3&quot;);        \r\n        initialValues.put(&quot;mediatype&quot;, result.mediatype);\r\n        Log.d(TAG,&quot;Line 4&quot;);        \r\n        initialValues.put(&quot;title&quot;, result.title);\r\n        Log.d(TAG,&quot;Line 5&quot;);        \r\n        initialValues.put(&quot;author&quot;, result.author);\r\n        Log.d(TAG,&quot;Line 6&quot;);        \r\n        initialValues.put(&quot;wishlist&quot;, 0);\r\n        Log.d(TAG,&quot;Line 7&quot;);        \r\n        \r\n        return mDb.insert(TABLE_NAME, null, initialValues);\r\n    }  \r\n    //This function is used to delete an item from the database by passing through the barcode for the item.\r\n    public void deleteMedia(String barcode) {\r\n        String args = &quot;_id = &quot;+barcode;\r\n        mDb.delete(TABLE_NAME, args, null);\r\n    }\r\n    \r\n    public void UpdateWishlist(String barcode, String addOrRemove){\r\n        ContentValues args = new ContentValues();\r\n        if(addOrRemove.equals(&quot;add&quot;)){\r\n            args.put(&quot;wishlist&quot;, &quot;1&quot;);\r\n        }\r\n        else{\r\n            args.put(&quot;wishlist&quot;,&quot;0&quot;);\r\n        }\r\n        mDb.update(TABLE_NAME, args, &quot;barcode = ?&quot;, new String[]{barcode});\r\n    }\r\n    \r\n    //This function is used to select all the madia of a particular type for displaying in the tabs\r\n    public ArrayList&lt;String[]&gt; selectMedia(String mediatype) {\r\n        ArrayList&lt;String[]&gt; results = new ArrayList&lt;String[]&gt;();\r\n        int counter = 0;\r\n        Cursor cursor = this.mDbr.query(TABLE_NAME, new String[]{&quot;_id&quot;, &quot;title&quot;, &quot;author&quot;, &quot;rating&quot;}, &quot;mediatype = &quot;+&quot;?&quot;,new String[]{mediatype}, null, null, &quot;title asc&quot;);\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                results.add(new String[3]);\r\n                results.get(counter)[0] = cursor.getString(0).toString();\r\n                results.get(counter)[1] = cursor.getString(1).toString();\r\n                results.get(counter)[2] = cursor.getString(2).toString();\r\n                results.get(counter)[3] = cursor.getString(3).toString();\r\n                counter++;\r\n            } while (cursor.moveToNext());\r\n        }\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        return results;\r\n    }\r\n    }\r\n\r\nI use the two together like so:\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n        IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\r\n        if (scanResult != null) {\r\n            if (resultCode == 0){\r\n                //If the user cancels the scan\r\n                Toast.makeText(getApplicationContext(),&quot;You cancelled the scan&quot;, 3).show();\r\n            }\r\n            else{\r\n                String contents = intent.getStringExtra(&quot;SCAN_RESULT&quot;);\r\n                String format = intent.getStringExtra(&quot;SCAN_RESULT_FORMAT&quot;);\r\n                if (format.equals(&quot;EAN_13&quot;) || format.equals(&quot;UPC_A&quot;)){\r\n                    //If the barcode scanned is of the correct type then pass the barcode into the search method to get the product details\r\n                    SearchForBarcode result = new SearchForBarcode(contents);\r\n                    Log.d(TAG,&quot;Got from Database&quot;);        \r\n                    if(result.title.equals(&quot;Not Found&quot;)){\r\n                        Toast.makeText(getApplicationContext(), &quot;Details Not Found&quot;, 5).show();\r\n                    }\r\n                    else{\r\n                        if(database.addMedia(result)&gt;=0){\r\n                            Toast.makeText(getApplicationContext(),result.title+&quot; added to catalogue&quot;, 5).show();                    \r\n                        }\r\n                        else{\r\n                            Toast.makeText(getApplicationContext(), &quot;The product is already in the database&quot;, 5).show();\r\n                        }\r\n                    }\r\n                }\r\n                else{\r\n                    //If the barcode is not of the correct type then display a notification\r\n                    Toast.makeText(getApplicationContext(),contents+&quot; &quot;+format, 3).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nLog cat:\r\n&lt;code&gt;\r\n\r\n\r\n    12-08 16:28:20.525: I/System.out(6862): Sending WAIT chunk\r\n    12-08 16:28:20.525: W/ActivityThread(6862): Application com.example.mediacatalogue is waiting for the debugger on port 8100...\r\n    12-08 16:28:20.626: I/dalvikvm(6862): Debugger is active\r\n    12-08 16:28:20.726: I/System.out(6862): Debugger has connected\r\n    12-08 16:28:20.726: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:20.926: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:21.126: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:21.326: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:21.526: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:21.737: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:21.937: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:22.137: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:22.337: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:22.537: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:22.738: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:22.938: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:23.138: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:23.338: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:23.538: I/System.out(6862): waiting for debugger to settle...\r\n    12-08 16:28:23.739: I/System.out(6862): debugger has settled (1439)\r\n    12-08 16:28:24.089: D/dalvikvm(6862): GC_EXTERNAL_ALLOC freed 53K, 50% free 2726K/5379K, external 0K/0K, paused 31ms\r\n    12-08 16:28:28.784: W/KeyCharacterMap(6862): Can&#39;t open keycharmap file\r\n    12-08 16:28:28.784: W/KeyCharacterMap(6862): Error loading keycharmap file &#39;/system/usr/keychars/atmel-touchscreen.kcm.bin&#39;. hw.keyboards.131074.devname=&#39;atmel-touchscreen&#39;\r\n    12-08 16:28:28.784: I/KeyCharacterMap(6862): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\r\n    12-08 16:28:31.636: D/PhoneWindow(6862): couldn&#39;t save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@40515630 has no id.\r\n    12-08 16:28:33.718: W/IInputConnectionWrapper(6862): showStatusIcon on inactive InputConnection\r\n    12-08 16:28:33.748: W/IInputConnectionWrapper(6862): InputConnection = android.view.inputmethod.BaseInputConnection@4052b0b8, active client = false\r\n    12-08 16:28:38.553: D/MainActivity(6862): Got from Database\r\n    12-08 16:29:12.206: W/ActivityThread(7049): Application com.example.mediacatalogue is waiting for the debugger on port 8100...\r\n    12-08 16:29:12.216: I/System.out(7049): Sending WAIT chunk\r\n    12-08 16:29:12.226: I/dalvikvm(7049): Debugger is active\r\n    12-08 16:29:12.416: I/System.out(7049): Debugger has connected\r\n    12-08 16:29:12.416: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:12.616: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:12.817: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:13.017: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:13.217: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:13.427: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:13.627: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:13.817: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:14.028: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:14.228: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:14.428: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:14.628: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:14.828: I/System.out(7049): waiting for debugger to settle...\r\n    12-08 16:29:15.029: I/System.out(7049): debugger has settled (1343)\r\n    12-08 16:29:15.269: D/dalvikvm(7049): GC_EXTERNAL_ALLOC freed 58K, 50% free 2726K/5379K, external 0K/0K, paused 30ms\r\n    12-08 16:29:16.650: W/KeyCharacterMap(7049): Can&#39;t open keycharmap file\r\n    12-08 16:29:16.650: W/KeyCharacterMap(7049): Error loading keycharmap file &#39;/system/usr/keychars/atmel-touchscreen.kcm.bin&#39;. hw.keyboards.131074.devname=&#39;atmel-touchscreen&#39;\r\n    12-08 16:29:16.650: I/KeyCharacterMap(7049): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\r\n    12-08 16:29:18.973: D/PhoneWindow(7049): couldn&#39;t save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@405132f8 has no id.\r\n    12-08 16:29:20.044: W/IInputConnectionWrapper(7049): showStatusIcon on inactive InputConnection\r\n    12-08 16:29:20.044: W/IInputConnectionWrapper(7049): InputConnection = android.view.inputmethod.BaseInputConnection@4052b0a8, active client = false\r\n    12-08 16:29:25.249: D/MainActivity(7049): Got from Database\r\n    12-08 16:29:31.895: D/AndroidRuntime(7049): Shutting down VM\r\n    12-08 16:29:31.895: W/dalvikvm(7049): threadid=1: thread exiting with uncaught exception (group=0x4001d5a0)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): FATAL EXCEPTION: main\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=195543262, result=-1, data=Intent { act=com.google.zxing.client.android.SCAN flg=0x80000 (has extras) }} to activity {com.example.mediacatalogue/com.example.mediacatalogue.MainActivity}: java.lang.NullPointerException\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityThread.deliverResults(ActivityThread.java:2883)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityThread.handleSendResult(ActivityThread.java:2925)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityThread.access$2000(ActivityThread.java:132)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1063)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.os.Looper.loop(Looper.java:143)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityThread.main(ActivityThread.java:4196)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat dalvik.system.NativeStart.main(Native Method)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): Caused by: java.lang.NullPointerException\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat com.example.mediacatalogue.MainActivity.onActivityResult(MainActivity.java:193)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.Activity.dispatchActivityResult(Activity.java:4010)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityGroup.dispatchActivityResult(ActivityGroup.java:123)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \tat android.app.ActivityThread.deliverResults(ActivityThread.java:2879)\r\n    12-08 16:29:31.965: E/AndroidRuntime(7049): \t... 11 more\r\n    12-08 16:29:33.467: I/Process(7049): Sending signal. PID: 7049 SIG: 9\r\n&lt;/code&gt;","title":"NullPointerException error, not experienced enough to know what&#39;s wrong","body":"<blockquote>\n<p><strong>Possible Duplicate:</strong><br />\n<a href=\"https://stackoverflow.com/questions/8434094/i-cant-figure-out-whats-wrong-with-my-nullpointerexception-or-why-it-even-exis\">I can't figure out what's wrong with my NullPointerException or why it even exists</a></p>\n</blockquote>\n\n<p>What are they? My application keeps crashing whenever I try to pass an object over to my database helper.</p>\n<p>The variable name is &quot;e&quot;. I've had the data in the object display in a toast notification and everything is fine but when i try to pass it to the database helper I get nothing. I've even added Logs to every second line but nothing gets passed as the method never starts.</p>\n<p>I also tried adding the values from the object into separate variables and passing them through (I rewrote the helper method) but it still crashes.</p>\n<p>I'm very close to throwing my laptop through the window, please help me.</p>\n<p>My placeholder search class</p>\n<pre><code>package com.exame.mediacatalogue;\n\n//This class is used to query the details of the barcode scanned or entered\n//This in done in lieu of an open online database\n//If an online database is found this class can be replaced to utilise it\npublic class SearchForBarcode{\n//Initialise Variables\npublic String barcode;\npublic String mediatype;\npublic String title;\npublic String author;\n\n//Set variables based on the input barcode\npublic SearchForBarcode(String inputBarcode){        \n    barcode = inputBarcode;\n    //An if statement is used because switch case cannot be used for anything other than int\n    //And a 13 digit barcode is too big to fit in an int variable.\n    //(JDK 1.7 supports string based cases but Android does not support it)\n    if (barcode.equals(&quot;5014503113629&quot;)){\n        mediatype = &quot;DVD&quot;;\n        title = &quot;The Young Ones Series One&quot;;\n        author = &quot;Rik Mayall, Ade Edmondson, Nigel Planer, Christopher Ryan, Alexei Sayle&quot;;\n    }\n    else if (barcode.equals(&quot;5014503151423&quot;)){\n        mediatype = &quot;DVD&quot;;\n        title = &quot;The Office: Complete Series One &amp; Two&quot;;\n        author = &quot;Ricky Gervais, Martin Freeman, Mackenzie Crook, Lucy Davis&quot;;\n    }\n    else if (barcode.equals(&quot;5050582261103&quot;)){\n        mediatype = &quot;DVD&quot;;\n        title = &quot;Shaun of the Dead&quot;;\n        author = &quot;Simon Pegg, Nick Frost, Lucy davis, Kate Ashfield, Dylan Moran, Bill Nighy, Penelope Wilton&quot;;\n    }\n    else if (barcode.equals(&quot;5021290037243&quot;)){\n        mediatype = &quot;Game&quot;;\n        title = &quot;Batman: Arkham Asylum (PS3)&quot;;\n        author = &quot;Warner Brothers&quot;;\n    }\n    else if (barcode.equals(&quot;5026555402323&quot;)){\n        mediatype = &quot;Game&quot;;\n        title = &quot;Bioshock 2 (PS3)&quot;;\n        author = &quot;2K Games&quot;;\n    }\n    else if (barcode.equals(&quot;5021290046573&quot;)){\n        mediatype = &quot;Game&quot;;\n        title = &quot;Tomb Raider Trilogy HD (PS3)&quot;;\n        author = &quot;Crystal Dynamics&quot;;\n    }\n    else if (barcode.equals(&quot;6025273901261&quot;)){\n        mediatype = &quot;CD&quot;;\n        title = &quot;Flesh Tone&quot;;\n        author = &quot;Kelis&quot;;\n    }\n    else if (barcode.equals(&quot;724358480924&quot;)){\n        mediatype = &quot;CD&quot;;\n        title = &quot;Duran Duran&quot;;\n        author = &quot;Duran Duran&quot;;\n    }\n    else if (barcode.equals(&quot;5099969605529&quot;)){\n        mediatype = &quot;CD&quot;;\n        title = &quot;Sounds of the Universe&quot;;\n        author = &quot;Depeche Mode&quot;;\n    }\n    else if (barcode.equals(&quot;9781427802118&quot;)){\n        mediatype = &quot;Book&quot;;\n        title = &quot;Sgt Frog Vol. 13&quot;;\n        author = &quot;Mine Yoshizaki&quot;;\n    }\n    else if (barcode.equals(&quot;978009940953&quot;)){\n        mediatype = &quot;Book&quot;;\n        title = &quot;Star Wars - The New Jedi Order: Vector Prime&quot;;\n        author = &quot;R. A. Salvatore&quot;;\n    }\n    else{\n        mediatype = &quot;Not Found&quot;;\n        title = &quot;Not Found&quot;;\n        author = &quot;Not Found&quot;;\n    }\n}\n}\n</code></pre>\n<p>My Database Helper class</p>\n<pre><code>package com.example.mediacatalogue;\n\nimport java.util.ArrayList;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DatabaseHelper {\n    private static final String DATABASE_NAME = &quot;mediaDatabase&quot;;\nprivate static final int DATABASE_VERSION = 2;\nprivate static final String TABLE_NAME = &quot;table&quot;;\n\nprivate OpenHelper mDbHelper;\nprivate SQLiteDatabase mDb;\nprivate SQLiteDatabase mDbr;\nprivate final Context mCtx;\n\nprivate static final String TAG = &quot;UserDbAdapter&quot;;\n\nprivate static class OpenHelper extends SQLiteOpenHelper{\n    OpenHelper(Context context){\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;create table &quot;+TABLE_NAME+&quot;&quot; +\n                &quot; (_id integer primary key,&quot; +\n                &quot; mediatype text not null,&quot; +\n                &quot; title text not null&quot; +\n                &quot; author text not null&quot; +\n                &quot; wishlist integer&quot; +\n                &quot;);&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(TAG, &quot;Upgrading database from version &quot; + oldVersion + &quot; to &quot; + newVersion);\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(db);\n    }\n\n}\npublic DatabaseHelper(Context ctx) {\n    this.mCtx = ctx;\n}\n //This method is called from the controlling class when the open() call is used\n//it creates an instance of openHelper (detailed above) and sets up appropriate   \n//connections to the database.\npublic DatabaseHelper open() throws SQLException {\n    mDbHelper = new OpenHelper(mCtx);\n    mDb = mDbHelper.getWritableDatabase();\n    mDbr = mDbHelper.getReadableDatabase();\n    return this;\n}\n//used to close db connections\npublic void close() {\n    mDbHelper.close();\n}\n//When we wish to insert a record we can call this method, passing   \n//in the appropriate parameters.  The method then binds the   \n//parameters to the insert command and then executes it\n//against the appropriate table in the mDB database instance\npublic long addMedia(SearchForBarcode result) {\n    Log.d(TAG,&quot;Line 1&quot;);        \n    ContentValues initialValues = new ContentValues();\n    Log.d(TAG,&quot;Line 2&quot;);        \n    initialValues.put(&quot;_id&quot;, result.barcode);\n    Log.d(TAG,&quot;Line 3&quot;);        \n    initialValues.put(&quot;mediatype&quot;, result.mediatype);\n    Log.d(TAG,&quot;Line 4&quot;);        \n    initialValues.put(&quot;title&quot;, result.title);\n    Log.d(TAG,&quot;Line 5&quot;);        \n    initialValues.put(&quot;author&quot;, result.author);\n    Log.d(TAG,&quot;Line 6&quot;);        \n    initialValues.put(&quot;wishlist&quot;, 0);\n    Log.d(TAG,&quot;Line 7&quot;);        \n    \n    return mDb.insert(TABLE_NAME, null, initialValues);\n}  \n//This function is used to delete an item from the database by passing through the barcode for the item.\npublic void deleteMedia(String barcode) {\n    String args = &quot;_id = &quot;+barcode;\n    mDb.delete(TABLE_NAME, args, null);\n}\n\npublic void UpdateWishlist(String barcode, String addOrRemove){\n    ContentValues args = new ContentValues();\n    if(addOrRemove.equals(&quot;add&quot;)){\n        args.put(&quot;wishlist&quot;, &quot;1&quot;);\n    }\n    else{\n        args.put(&quot;wishlist&quot;,&quot;0&quot;);\n    }\n    mDb.update(TABLE_NAME, args, &quot;barcode = ?&quot;, new String[]{barcode});\n}\n\n//This function is used to select all the madia of a particular type for displaying in the tabs\npublic ArrayList&lt;String[]&gt; selectMedia(String mediatype) {\n    ArrayList&lt;String[]&gt; results = new ArrayList&lt;String[]&gt;();\n    int counter = 0;\n    Cursor cursor = this.mDbr.query(TABLE_NAME, new String[]{&quot;_id&quot;, &quot;title&quot;, &quot;author&quot;, &quot;rating&quot;}, &quot;mediatype = &quot;+&quot;?&quot;,new String[]{mediatype}, null, null, &quot;title asc&quot;);\n    if (cursor.moveToFirst()) {\n        do {\n            results.add(new String[3]);\n            results.get(counter)[0] = cursor.getString(0).toString();\n            results.get(counter)[1] = cursor.getString(1).toString();\n            results.get(counter)[2] = cursor.getString(2).toString();\n            results.get(counter)[3] = cursor.getString(3).toString();\n            counter++;\n        } while (cursor.moveToNext());\n    }\n    if (cursor != null &amp;&amp; !cursor.isClosed()) {\n        cursor.close();\n    }\n    return results;\n}\n}\n</code></pre>\n<p>I use the two together like so:</p>\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent intent) {\n    IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\n    if (scanResult != null) {\n        if (resultCode == 0){\n            //If the user cancels the scan\n            Toast.makeText(getApplicationContext(),&quot;You cancelled the scan&quot;, 3).show();\n        }\n        else{\n            String contents = intent.getStringExtra(&quot;SCAN_RESULT&quot;);\n            String format = intent.getStringExtra(&quot;SCAN_RESULT_FORMAT&quot;);\n            if (format.equals(&quot;EAN_13&quot;) || format.equals(&quot;UPC_A&quot;)){\n                //If the barcode scanned is of the correct type then pass the barcode into the search method to get the product details\n                SearchForBarcode result = new SearchForBarcode(contents);\n                Log.d(TAG,&quot;Got from Database&quot;);        \n                if(result.title.equals(&quot;Not Found&quot;)){\n                    Toast.makeText(getApplicationContext(), &quot;Details Not Found&quot;, 5).show();\n                }\n                else{\n                    if(database.addMedia(result)&gt;=0){\n                        Toast.makeText(getApplicationContext(),result.title+&quot; added to catalogue&quot;, 5).show();                    \n                    }\n                    else{\n                        Toast.makeText(getApplicationContext(), &quot;The product is already in the database&quot;, 5).show();\n                    }\n                }\n            }\n            else{\n                //If the barcode is not of the correct type then display a notification\n                Toast.makeText(getApplicationContext(),contents+&quot; &quot;+format, 3).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Log cat:\n<code></p>\n<pre><code>12-08 16:28:20.525: I/System.out(6862): Sending WAIT chunk\n12-08 16:28:20.525: W/ActivityThread(6862): Application com.example.mediacatalogue is waiting for the debugger on port 8100...\n12-08 16:28:20.626: I/dalvikvm(6862): Debugger is active\n12-08 16:28:20.726: I/System.out(6862): Debugger has connected\n12-08 16:28:20.726: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:20.926: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:21.126: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:21.326: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:21.526: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:21.737: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:21.937: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:22.137: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:22.337: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:22.537: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:22.738: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:22.938: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:23.138: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:23.338: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:23.538: I/System.out(6862): waiting for debugger to settle...\n12-08 16:28:23.739: I/System.out(6862): debugger has settled (1439)\n12-08 16:28:24.089: D/dalvikvm(6862): GC_EXTERNAL_ALLOC freed 53K, 50% free 2726K/5379K, external 0K/0K, paused 31ms\n12-08 16:28:28.784: W/KeyCharacterMap(6862): Can't open keycharmap file\n12-08 16:28:28.784: W/KeyCharacterMap(6862): Error loading keycharmap file '/system/usr/keychars/atmel-touchscreen.kcm.bin'. hw.keyboards.131074.devname='atmel-touchscreen'\n12-08 16:28:28.784: I/KeyCharacterMap(6862): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\n12-08 16:28:31.636: D/PhoneWindow(6862): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@40515630 has no id.\n12-08 16:28:33.718: W/IInputConnectionWrapper(6862): showStatusIcon on inactive InputConnection\n12-08 16:28:33.748: W/IInputConnectionWrapper(6862): InputConnection = android.view.inputmethod.BaseInputConnection@4052b0b8, active client = false\n12-08 16:28:38.553: D/MainActivity(6862): Got from Database\n12-08 16:29:12.206: W/ActivityThread(7049): Application com.example.mediacatalogue is waiting for the debugger on port 8100...\n12-08 16:29:12.216: I/System.out(7049): Sending WAIT chunk\n12-08 16:29:12.226: I/dalvikvm(7049): Debugger is active\n12-08 16:29:12.416: I/System.out(7049): Debugger has connected\n12-08 16:29:12.416: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:12.616: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:12.817: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:13.017: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:13.217: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:13.427: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:13.627: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:13.817: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:14.028: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:14.228: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:14.428: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:14.628: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:14.828: I/System.out(7049): waiting for debugger to settle...\n12-08 16:29:15.029: I/System.out(7049): debugger has settled (1343)\n12-08 16:29:15.269: D/dalvikvm(7049): GC_EXTERNAL_ALLOC freed 58K, 50% free 2726K/5379K, external 0K/0K, paused 30ms\n12-08 16:29:16.650: W/KeyCharacterMap(7049): Can't open keycharmap file\n12-08 16:29:16.650: W/KeyCharacterMap(7049): Error loading keycharmap file '/system/usr/keychars/atmel-touchscreen.kcm.bin'. hw.keyboards.131074.devname='atmel-touchscreen'\n12-08 16:29:16.650: I/KeyCharacterMap(7049): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\n12-08 16:29:18.973: D/PhoneWindow(7049): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@405132f8 has no id.\n12-08 16:29:20.044: W/IInputConnectionWrapper(7049): showStatusIcon on inactive InputConnection\n12-08 16:29:20.044: W/IInputConnectionWrapper(7049): InputConnection = android.view.inputmethod.BaseInputConnection@4052b0a8, active client = false\n12-08 16:29:25.249: D/MainActivity(7049): Got from Database\n12-08 16:29:31.895: D/AndroidRuntime(7049): Shutting down VM\n12-08 16:29:31.895: W/dalvikvm(7049): threadid=1: thread exiting with uncaught exception (group=0x4001d5a0)\n12-08 16:29:31.965: E/AndroidRuntime(7049): FATAL EXCEPTION: main\n12-08 16:29:31.965: E/AndroidRuntime(7049): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=195543262, result=-1, data=Intent { act=com.google.zxing.client.android.SCAN flg=0x80000 (has extras) }} to activity {com.example.mediacatalogue/com.example.mediacatalogue.MainActivity}: java.lang.NullPointerException\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityThread.deliverResults(ActivityThread.java:2883)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityThread.handleSendResult(ActivityThread.java:2925)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityThread.access$2000(ActivityThread.java:132)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1063)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.os.Handler.dispatchMessage(Handler.java:99)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.os.Looper.loop(Looper.java:143)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityThread.main(ActivityThread.java:4196)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at java.lang.reflect.Method.invokeNative(Native Method)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at java.lang.reflect.Method.invoke(Method.java:507)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at dalvik.system.NativeStart.main(Native Method)\n12-08 16:29:31.965: E/AndroidRuntime(7049): Caused by: java.lang.NullPointerException\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at com.example.mediacatalogue.MainActivity.onActivityResult(MainActivity.java:193)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.Activity.dispatchActivityResult(Activity.java:4010)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityGroup.dispatchActivityResult(ActivityGroup.java:123)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     at android.app.ActivityThread.deliverResults(ActivityThread.java:2879)\n12-08 16:29:31.965: E/AndroidRuntime(7049):     ... 11 more\n12-08 16:29:33.467: I/Process(7049): Sending signal. PID: 7049 SIG: 9\n</code></pre>\n</code>\n"},{"tags":["java","security","certificate","x509certificate"],"answers":[{"comments":[{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1662639584,"post_id":73648894,"comment_id":130055411,"body_markdown":"But the return type is void, what will happend if it&#39;s not the needed certificate, how would I know that?","body":"But the return type is void, what will happend if it&#39;s not the needed certificate, how would I know that?"},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":1,"creation_date":1662644513,"post_id":73648894,"comment_id":130057363,"body_markdown":"I&#39;ve edited my answer with a few more details :)","body":"I&#39;ve edited my answer with a few more details :)"}],"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668205241,"creation_date":1662639012,"answer_id":73648894,"question_id":73648800,"body_markdown":"If you have access to the public key of each certificate, you can utilize the `verify(PublicKey key)` method to verify that the CRL was signed using the private key that corresponds to the given public key.\r\n\r\nIf the key is incorrect, it should throw an `InvalidKeyException`, so surround it with a try-catch block, like this:\r\n```java\r\ntry {\r\n\tcrl.verify(&lt;public_key&gt;)\r\n} catch(InvalidKeyException e) {\r\n\t// handle exception\r\n}\r\n```\r\n## See also: \r\n - [Class X509CRL - verify][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/security/cert/X509CRL.html#verify(java.security.PublicKey)","title":"Search in List of X509CRL&#39;s","body":"<p>If you have access to the public key of each certificate, you can utilize the <code>verify(PublicKey key)</code> method to verify that the CRL was signed using the private key that corresponds to the given public key.</p>\n<p>If the key is incorrect, it should throw an <code>InvalidKeyException</code>, so surround it with a try-catch block, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    crl.verify(&lt;public_key&gt;)\n} catch(InvalidKeyException e) {\n    // handle exception\n}\n</code></pre>\n<h2>See also:</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/cert/X509CRL.html#verify(java.security.PublicKey)\" rel=\"nofollow noreferrer\">Class X509CRL - verify</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17617577,"reputation":1008,"user_id":12784276,"display_name":"Alan Carlyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663038342,"creation_date":1663038342,"answer_id":73697141,"question_id":73648800,"body_markdown":"Similar to the solution from @Pexers would be using either the X509 Certificate or a list of X509 Certificate serial numbers and calling either of these in a loop;\r\n\r\n```X509CRLEntry getRevokedCertificate(BigInteger serialNumber)```\r\n\r\nor\r\n\r\n```X509CRLEntry getRevokedCertificate(X509Certificate certificate)```\r\n\r\nThe result will be the X509CRLEntry if they are in the CRL or null if they are not. \r\n\r\nProcessing a large number of Certificates and/or CRLs in this way would reduce the need to catch and handle an exception for each one. ","title":"Search in List of X509CRL&#39;s","body":"<p>Similar to the solution from @Pexers would be using either the X509 Certificate or a list of X509 Certificate serial numbers and calling either of these in a loop;</p>\n<p><code>X509CRLEntry getRevokedCertificate(BigInteger serialNumber)</code></p>\n<p>or</p>\n<p><code>X509CRLEntry getRevokedCertificate(X509Certificate certificate)</code></p>\n<p>The result will be the X509CRLEntry if they are in the CRL or null if they are not.</p>\n<p>Processing a large number of Certificates and/or CRLs in this way would reduce the need to catch and handle an exception for each one.</p>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73648894,"answer_count":2,"score":2,"last_activity_date":1668205241,"creation_date":1662638573,"question_id":73648800,"body_markdown":"I have a list of X509 CRL&#39;s. I need to identify some of them somehow. Right now I do it using issuer:\r\n```\r\nfor(var crl: List&lt;X509CRL&gt; crls){\r\n String issuer = c.getIssuerX500Principal().getName();\r\n if(issuer.contains(&quot;searchString&quot;))\r\n  result.add(crl);\r\n}\r\n```\r\nBut there&#39;s gotta be a better way to do that using knowledge of CRL file format, maybe with comparing public keys or something like that, but I don&#39;t know much about X509CRL&#39;s. Can someone help me out? ","title":"Search in List of X509CRL&#39;s","body":"<p>I have a list of X509 CRL's. I need to identify some of them somehow. Right now I do it using issuer:</p>\n<pre><code>for(var crl: List&lt;X509CRL&gt; crls){\n String issuer = c.getIssuerX500Principal().getName();\n if(issuer.contains(&quot;searchString&quot;))\n  result.add(crl);\n}\n</code></pre>\n<p>But there's gotta be a better way to do that using knowledge of CRL file format, maybe with comparing public keys or something like that, but I don't know much about X509CRL's. Can someone help me out?</p>\n"},{"tags":["java","swing","intellij-idea"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1668200204,"post_id":74407985,"comment_id":131356188,"body_markdown":"You&#39;re not adding any `ActionListener` to your `sourceCode` button...","body":"You&#39;re not adding any <code>ActionListener</code> to your <code>sourceCode</code> button..."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1668200276,"post_id":74407985,"comment_id":131356204,"body_markdown":"There is no code to show any button either...","body":"There is no code to show any button either..."},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":1,"creation_date":1668200818,"post_id":74407985,"comment_id":131356335,"body_markdown":"Are you using Swing or JavaFX? It looks like a mix which would not work...","body":"Are you using Swing or JavaFX? It looks like a mix which would not work..."},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1668200959,"post_id":74407985,"comment_id":131356372,"body_markdown":"Maybe take a look at this question https://stackoverflow.com/a/29967282/66207","body":"Maybe take a look at this question <a href=\"https://stackoverflow.com/a/29967282/66207\">stackoverflow.com/a/29967282/66207</a>"},{"owner":{"account_id":4371747,"reputation":105,"user_id":9137963,"display_name":"user9137963"},"score":0,"creation_date":1668204427,"post_id":74407985,"comment_id":131357136,"body_markdown":"@keuleJ I created a form with Swing with Intellij IDE.","body":"@keuleJ I created a form with Swing with Intellij IDE."},{"owner":{"account_id":4371747,"reputation":105,"user_id":9137963,"display_name":"user9137963"},"score":0,"creation_date":1668204519,"post_id":74407985,"comment_id":131357158,"body_markdown":"@HiranChaudhuri in them main() i make a new from MainForm, and all objects are placed on the form. So i thought the should be shown with the form all together","body":"@HiranChaudhuri in them main() i make a new from MainForm, and all objects are placed on the form. So i thought the should be shown with the form all together"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1668280581,"post_id":74407985,"comment_id":131368852,"body_markdown":"You create a MainForm, but inside the MainForm there is no reason as of why a JFrame, JButton or any other of your components would get displayed, they do not even get greated. But you are right in the assumption that using the UI editor should edit your code in a matching way.","body":"You create a MainForm, but inside the MainForm there is no reason as of why a JFrame, JButton or any other of your components would get displayed, they do not even get greated. But you are right in the assumption that using the UI editor should edit your code in a matching way."}],"answers":[{"comments":[{"owner":{"account_id":4371747,"reputation":105,"user_id":9137963,"display_name":"user9137963"},"score":0,"creation_date":1668204354,"post_id":74408063,"comment_id":131357120,"body_markdown":"oh really? yes that the whole code. because it is shown in preview i thought the code is fine. Could you help me to add what i need. thx","body":"oh really? yes that the whole code. because it is shown in preview i thought the code is fine. Could you help me to add what i need. thx"},{"owner":{"account_id":4371747,"reputation":105,"user_id":9137963,"display_name":"user9137963"},"score":0,"creation_date":1668205246,"post_id":74408063,"comment_id":131357311,"body_markdown":"Could you take a look at my Edited , thanks","body":"Could you take a look at my Edited , thanks"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1668280482,"post_id":74408063,"comment_id":131368829,"body_markdown":"My take is you created the form using the IDE&#39;s UI editor. It created two files: the java code in MainForm.java, and some UI Editor data in MainForm.form. The preview is not based on the java code but on the other file. I cannot tell why your java code would not match, but what you showed is unusable.","body":"My take is you created the form using the IDE&#39;s UI editor. It created two files: the java code in MainForm.java, and some UI Editor data in MainForm.form. The preview is not based on the java code but on the other file. I cannot tell why your java code would not match, but what you showed is unusable."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668200207,"creation_date":1668200207,"answer_id":74408063,"question_id":74407985,"body_markdown":"This definitely does not look like a form that Java could render on the screen. Did you show all your code? \r\n\r\nIndependently of that, a good tutorial to look at is\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/","title":"java form does not display","body":"<p>This definitely does not look like a form that Java could render on the screen. Did you show all your code?</p>\n<p>Independently of that, a good tutorial to look at is\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/</a></p>\n"}],"owner":{"account_id":4371747,"reputation":105,"user_id":9137963,"display_name":"user9137963"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668465949,"accepted_answer_id":74408063,"answer_count":1,"score":-3,"last_activity_date":1668205228,"creation_date":1668199697,"question_id":74407985,"body_markdown":"I am very new to java forms. Sorry about this easy question, I&#39;ve searched too many forums but still couldn&#39;t find the issue. I have a simple java form, it **shows fine on Preview** but when I run the code, it doesn&#39;t show the form. I used another v**ersion which Extends the Jframe but this one shows an empty blank** form. Please help me, advise a good document if you know. Thanks\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n        package GUIpkg;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class MainForm implements ActionListener\r\n    {\r\n        private JPanel panel1;\r\n        private JButton Mathematica;\r\n        private JTextArea textArea1;\r\n        private JTextArea textArea2;\r\n        private JButton SourceCode;\r\n    \r\n        public MainForm ()\r\n        {\r\n    \r\n    \r\n        }\r\n       \r\n\r\n\r\n\r\n    import GUIpkg.MainForm;\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    public class Main\r\n    {\r\n        static public void main (String argv[])\r\n        {\r\n    \r\n            MainForm mf =   new MainForm();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**EDITED**  \r\nI thought It could be like C#, when you add an object from ToolBox to your frame, the codes also automatically will be added to your behind code. like size, position etc. but here there is not anything in my constructor. So how to add objects without hardcoding the properties? I simply dragged the objects to my frame.  \r\n\r\n  [1]: https://i.stack.imgur.com/8wwUS.png\r\n","title":"java form does not display","body":"<p>I am very new to java forms. Sorry about this easy question, I've searched too many forums but still couldn't find the issue. I have a simple java form, it <strong>shows fine on Preview</strong> but when I run the code, it doesn't show the form. I used another v<strong>ersion which Extends the Jframe but this one shows an empty blank</strong> form. Please help me, advise a good document if you know. Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/8wwUS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8wwUS.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    package GUIpkg;\n\nimport javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainForm implements ActionListener\n{\n    private JPanel panel1;\n    private JButton Mathematica;\n    private JTextArea textArea1;\n    private JTextArea textArea2;\n    private JButton SourceCode;\n\n    public MainForm ()\n    {\n\n\n    }\n   \n\n\n\nimport GUIpkg.MainForm;\nimport java.awt.event.ActionEvent;\n\npublic class Main\n{\n    static public void main (String argv[])\n    {\n\n        MainForm mf =   new MainForm();\n\n    }\n}\n</code></pre>\n<p><strong>EDITED</strong><br />\nI thought It could be like C#, when you add an object from ToolBox to your frame, the codes also automatically will be added to your behind code. like size, position etc. but here there is not anything in my constructor. So how to add objects without hardcoding the properties? I simply dragged the objects to my frame.</p>\n"},{"tags":["java","string","collections","hashmap","java-stream"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1668194827,"post_id":74407209,"comment_id":131354878,"body_markdown":"have you considered using a StringBuilder, where you can set the characters to their right place?","body":"have you considered using a StringBuilder, where you can set the characters to their right place?"},{"owner":{"account_id":18265175,"reputation":21,"user_id":13297070,"display_name":"zartilas"},"score":0,"creation_date":1668195301,"post_id":74407209,"comment_id":131355006,"body_markdown":"From: `{!=[10], r=[8], d=[9], e=[1], W=[6], H=[0], l=[2, 3], o=[4, 7]}` \n\nTo: `&quot;Hello Word!&quot;` @AlexanderIvanchenko","body":"From: <code>{!=[10], r=[8], d=[9], e=[1], W=[6], H=[0], l=[2, 3], o=[4, 7]}</code>   To: <code>&quot;Hello Word!&quot;</code> @AlexanderIvanchenko"}],"answers":[{"comments":[{"owner":{"account_id":18265175,"reputation":21,"user_id":13297070,"display_name":"zartilas"},"score":0,"creation_date":1668201868,"post_id":74407573,"comment_id":131356551,"body_markdown":"The only thing I didn&#39;t understand is the point with the spaces. `int wordLen = charPositions.get(charPositions.size() - 1).pos() + 1;\n    \n    String[] word = new String[wordLen];`","body":"The only thing I didn&#39;t understand is the point with the spaces. <code>int wordLen = charPositions.get(charPositions.size() - 1).pos() + 1;          String[] word = new String[wordLen];</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668204770,"post_id":74407573,"comment_id":131357217,"body_markdown":"@zartilas We can simply concatenate the character from the Map because it doesn&#39;t contain white spaces. Array allows us to arrange all these characters according to their initial positions. All unoccupied indices would be `null`, which means that they should be replaced with white spaces. `charPositions.get(charPositions.size() - 1).pos()` - is the index of the very last character. Therefore, array length should be `index + 1`, since arrays in Java are zero-based.","body":"@zartilas We can simply concatenate the character from the Map because it doesn&#39;t contain white spaces. Array allows us to arrange all these characters according to their initial positions. All unoccupied indices would be <code>null</code>, which means that they should be replaced with white spaces. <code>charPositions.get(charPositions.size() - 1).pos()</code> - is the index of the very last character. Therefore, array length should be <code>index + 1</code>, since arrays in Java are zero-based."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668197361,"creation_date":1668197039,"answer_id":74407573,"question_id":74407209,"body_markdown":"You can restore the original string based on the map of indices in the following steps:\r\n\r\n* Sort the characters according to their positions. Because each entry in the map associates a character with multiple indices, for that you would need to define an auxiliary type, holding a reference to a single-char string and distinct position of this character. Let&#39;s call it `CharPosition`\r\n\r\n* Generate a list of `CharPosition` (which is sorted).\r\n\r\n* To restore the white spaces, we can define an array, having a length of the highest index + 1. Then populate this array with the contents of the `CharPosition` list.\r\n\r\n* Finally, create a stream over the array elements, replace all null values with a white space and generate the resulting `String` using Collector [`joining()`][1].\r\n\r\nFor the purpose of conciseness, I&#39;ll use a [Java 16 record][2] to implement `CharPosition`:\r\n```\r\npublic record CharPosition(String ch, int pos) {}\r\n```\r\n\r\nThat&#39;s how the logic described above can be implemented:\r\n\r\n\r\n    static void charsToString() {\r\n        \r\n        List&lt;CharPosition&gt; charPositions = charsIndex.entrySet().stream()\r\n            .flatMap(entry -&gt; entry.getValue().stream()\r\n                .map(pos -&gt; new CharPosition(entry.getKey(), pos))\r\n            )\r\n            .sorted(Comparator.comparingInt(CharPosition::pos))\r\n            .toList();\r\n        \r\n        int wordLen = charPositions.get(charPositions.size() - 1).pos() + 1;\r\n        \r\n        String[] word = new String[wordLen];\r\n        \r\n        charPositions.forEach(c -&gt; word[c.pos()] = c.ch());\r\n        \r\n        String result = Arrays.stream(word)\r\n            .map(str -&gt; Objects.requireNonNullElse(str, &quot; &quot;))\r\n            .collect(Collectors.joining());\r\n        \r\n        System.out.println(result);\r\n    }\r\n\r\n*Output:*\r\n```\r\nHello Word!\r\n```\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining()\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/18/language/records.html","title":"Retrieve word(s) from characters using map","body":"<p>You can restore the original string based on the map of indices in the following steps:</p>\n<ul>\n<li><p>Sort the characters according to their positions. Because each entry in the map associates a character with multiple indices, for that you would need to define an auxiliary type, holding a reference to a single-char string and distinct position of this character. Let's call it <code>CharPosition</code></p>\n</li>\n<li><p>Generate a list of <code>CharPosition</code> (which is sorted).</p>\n</li>\n<li><p>To restore the white spaces, we can define an array, having a length of the highest index + 1. Then populate this array with the contents of the <code>CharPosition</code> list.</p>\n</li>\n<li><p>Finally, create a stream over the array elements, replace all null values with a white space and generate the resulting <code>String</code> using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining()\" rel=\"nofollow noreferrer\"><code>joining()</code></a>.</p>\n</li>\n</ul>\n<p>For the purpose of conciseness, I'll use a <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">Java 16 record</a> to implement <code>CharPosition</code>:</p>\n<pre><code>public record CharPosition(String ch, int pos) {}\n</code></pre>\n<p>That's how the logic described above can be implemented:</p>\n<pre><code>static void charsToString() {\n    \n    List&lt;CharPosition&gt; charPositions = charsIndex.entrySet().stream()\n        .flatMap(entry -&gt; entry.getValue().stream()\n            .map(pos -&gt; new CharPosition(entry.getKey(), pos))\n        )\n        .sorted(Comparator.comparingInt(CharPosition::pos))\n        .toList();\n    \n    int wordLen = charPositions.get(charPositions.size() - 1).pos() + 1;\n    \n    String[] word = new String[wordLen];\n    \n    charPositions.forEach(c -&gt; word[c.pos()] = c.ch());\n    \n    String result = Arrays.stream(word)\n        .map(str -&gt; Objects.requireNonNullElse(str, &quot; &quot;))\n        .collect(Collectors.joining());\n    \n    System.out.println(result);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Hello Word!\n</code></pre>\n"}],"owner":{"account_id":18265175,"reputation":21,"user_id":13297070,"display_name":"zartilas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74407573,"answer_count":1,"score":1,"last_activity_date":1668204896,"creation_date":1668194372,"question_id":74407209,"body_markdown":"I am trying to understand Collections and Stream.\r\n\r\nI have split the sentence below and kept the position of each letter (I ignored space/blank): \r\n&quot;Hello Word!&quot;\r\n\r\n```\r\nprivate static final String text = &quot;Hello Word!&quot;;\r\nstatic Map&lt;String, List&lt;Integer&gt;&gt; charsIndex = new HashMap&lt;&gt;();\r\nstatic void charsIndex() {\r\n\r\n        List&lt;Character&gt; charsList = text\r\n                .chars()\r\n                .mapToObj(e -&gt; (char) e)\r\n                .toList();\r\n        System.out.println(charsList);\r\n\r\n        int  position = 0;\r\n        for (Character c : charsList) {\r\n            if(!c.toString().isBlank()){\r\n                charsIndex.computeIfAbsent(c.toString(),\r\n                        addCharPosition -&gt; new ArrayList&lt;&gt;()).add(position);\r\n            }\r\n            position += 1;\r\n        }\r\n\r\n        System.out.println(charsIndex);\r\n}\r\n```\r\nResults:\r\n&gt;[H, e, l, l, o,  , W, o, r, d, !] (charsList)\r\n\r\n&gt;{!=[10], r=[8], d=[9], e=[1], W=[6], H=[0], l=[2, 3], o=[4, 7]} (charsIndex)\r\n\r\n\r\nHow can I sort the characters and rebuild my word along with the blank?\r\n\r\nI try this way:\r\n```\r\nstatic void charsToString(){\r\n\r\n  charsIndex.forEach((character, l) -&gt; l.forEach(position -&gt; {\r\n\r\n  }));\r\n}\r\n```\r\n\r\n","title":"Retrieve word(s) from characters using map","body":"<p>I am trying to understand Collections and Stream.</p>\n<p>I have split the sentence below and kept the position of each letter (I ignored space/blank):\n&quot;Hello Word!&quot;</p>\n<pre><code>private static final String text = &quot;Hello Word!&quot;;\nstatic Map&lt;String, List&lt;Integer&gt;&gt; charsIndex = new HashMap&lt;&gt;();\nstatic void charsIndex() {\n\n        List&lt;Character&gt; charsList = text\n                .chars()\n                .mapToObj(e -&gt; (char) e)\n                .toList();\n        System.out.println(charsList);\n\n        int  position = 0;\n        for (Character c : charsList) {\n            if(!c.toString().isBlank()){\n                charsIndex.computeIfAbsent(c.toString(),\n                        addCharPosition -&gt; new ArrayList&lt;&gt;()).add(position);\n            }\n            position += 1;\n        }\n\n        System.out.println(charsIndex);\n}\n</code></pre>\n<p>Results:</p>\n<blockquote>\n<p>[H, e, l, l, o,  , W, o, r, d, !] (charsList)</p>\n</blockquote>\n<blockquote>\n<p>{!=[10], r=[8], d=[9], e=[1], W=[6], H=[0], l=[2, 3], o=[4, 7]} (charsIndex)</p>\n</blockquote>\n<p>How can I sort the characters and rebuild my word along with the blank?</p>\n<p>I try this way:</p>\n<pre><code>static void charsToString(){\n\n  charsIndex.forEach((character, l) -&gt; l.forEach(position -&gt; {\n\n  }));\n}\n</code></pre>\n"},{"tags":["java","inheritance","jpa","annotations"],"answers":[{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274453191,"creation_date":1274453191,"answer_id":2883066,"question_id":2883033,"body_markdown":"Annotating your base class with `@MappedSuperclass` should do exactly what you want.","title":"Is it possible to add JPA annotation to superclass instance variables?","body":"<p>Annotating your base class with <code>@MappedSuperclass</code> should do exactly what you want.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1274453241,"creation_date":1274453241,"answer_id":2883079,"question_id":2883033,"body_markdown":"Mark the superclass as\r\n\r\n    @MappedSuperclass\r\n\r\nand remove the property from the child class.","title":"Is it possible to add JPA annotation to superclass instance variables?","body":"<p>Mark the superclass as</p>\n\n<pre><code>@MappedSuperclass\n</code></pre>\n\n<p>and remove the property from the child class.</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":5,"creation_date":1274456554,"post_id":2883102,"comment_id":2930702,"body_markdown":"(nit-picking) he said nothing about hibernate, did he? he may use a different JPA provider. but of course your reasoning applies nevertheless","body":"(nit-picking) he said nothing about hibernate, did he? he may use a different JPA provider. but of course your reasoning applies nevertheless"},{"owner":{"account_id":95226,"reputation":7980,"user_id":259485,"accept_rate":90,"display_name":"Kristofer"},"score":1,"creation_date":1274458202,"post_id":2883102,"comment_id":2930972,"body_markdown":"And I am actually using hibernate, just forgot to say so :)","body":"And I am actually using hibernate, just forgot to say so :)"}],"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1274453408,"creation_date":1274453408,"answer_id":2883102,"question_id":2883033,"body_markdown":"You might want to annotate MyAbstractEntity with `@MappedSuperclass` class so that hibernate will import the configuration of MyAbstractEntity in the child and you won&#39;t have to override the field, just use the parent&#39;s. That annotation is the signal to hibernate that it has to examine the parent class too. Otherwise it assumes it can ignore it.","title":"Is it possible to add JPA annotation to superclass instance variables?","body":"<p>You might want to annotate MyAbstractEntity with <code>@MappedSuperclass</code> class so that hibernate will import the configuration of MyAbstractEntity in the child and you won't have to override the field, just use the parent's. That annotation is the signal to hibernate that it has to examine the parent class too. Otherwise it assumes it can ignore it.</p>\n"},{"tags":[],"owner":{"account_id":893745,"reputation":791,"user_id":931510,"display_name":"Wayne Riesterer"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1668204186,"creation_date":1359445102,"answer_id":14577892,"question_id":2883033,"body_markdown":"Here is an example with some explanations that may help.\r\n\r\n`@MappedSuperclass`:\r\n\r\n - Is a convenience class\r\n - Is used to store shared state &amp; behavior available to child classes\r\n - Is not persistable\r\n - Only child classes are persistable\r\n\r\n`@Inheritance` specifies one of three mapping strategies:\r\n\r\n 1. Single-Table\r\n 2. Joined\r\n 3. Table per Class\r\n\r\n`@DiscriminatorColumn` is used to define which column will be used to distinguish between child objects.\r\n\r\n`@DiscriminatorValue` is used to specify a value that is used to distinguish a child object.\r\n\r\nThe following code results in the following:\r\n\r\n![enter image description here][1]\r\n\r\nYou can see that the id field is in both tables, but is only specified in the `AbstractEntityId @MappedSuperclass`.\r\n\r\nAlso, the `@DisciminatorColumn` is shown as PARTY_TYPE in the Party table.\r\n\r\nThe `@DiscriminatorValue` is shown as Person as a record in the PARTY_TYPE column of the Party table.\r\n\r\nVery importantly, the `AbstractEntityId` class does not get persisted at all.\r\n\r\nI have not specified `@Column` annotations and instead are just relying on the default values.\r\n\r\nIf you added an Organisation entity that extended Party and if that was persisted next, then the Party table would have:\r\n\r\n - id = 2\r\n - PARTY_TYPE = &quot;Organisation&quot;\r\n\r\nThe Organisation table first entry would have:\r\n\r\n - id = 2\r\n - other attribute value associated specifically with organisations\r\n\r\n&lt;pre&gt;\r\n\r\n    @MappedSuperclass\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;, \r\n            initialValue = 1, allocationSize = 1)\r\n    public class AbstractEntityId implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        @Id\r\n        @GeneratedValue(generator = &quot;sequenceGenerator&quot;)\r\n        protected Long id;\r\n        \r\n        public AbstractEntityId() {}\r\n        \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @DiscriminatorColumn(name = &quot;PARTY_TYPE&quot;, \r\n            discriminatorType = DiscriminatorType.STRING)\r\n    public class Party extends AbstractEntityId {\r\n        \r\n        public Party() {}\r\n        \r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(&quot;Person&quot;)\r\n    public class Person extends Party {\r\n        \r\n        private String givenName;\r\n        private String familyName;\r\n        private String preferredName;\r\n        @Temporal(TemporalType.DATE)\r\n        private Date dateOfBirth;\r\n        private String gender;\r\n        \r\n        public Person() {}\r\n    \r\n        // getter &amp; setters etc.\r\n     \r\n    }\r\n\r\n&lt;/pre&gt;\r\n\r\n[1]: http://i.stack.imgur.com/3rMfh.png\r\n\r\nHope this helps :)","title":"Is it possible to add JPA annotation to superclass instance variables?","body":"<p>Here is an example with some explanations that may help.</p>\n<p><code>@MappedSuperclass</code>:</p>\n<ul>\n<li>Is a convenience class</li>\n<li>Is used to store shared state &amp; behavior available to child classes</li>\n<li>Is not persistable</li>\n<li>Only child classes are persistable</li>\n</ul>\n<p><code>@Inheritance</code> specifies one of three mapping strategies:</p>\n<ol>\n<li>Single-Table</li>\n<li>Joined</li>\n<li>Table per Class</li>\n</ol>\n<p><code>@DiscriminatorColumn</code> is used to define which column will be used to distinguish between child objects.</p>\n<p><code>@DiscriminatorValue</code> is used to specify a value that is used to distinguish a child object.</p>\n<p>The following code results in the following:</p>\n<p><img src=\"https://i.stack.imgur.com/3rMfh.png\" alt=\"enter image description here\" /></p>\n<p>You can see that the id field is in both tables, but is only specified in the <code>AbstractEntityId @MappedSuperclass</code>.</p>\n<p>Also, the <code>@DisciminatorColumn</code> is shown as PARTY_TYPE in the Party table.</p>\n<p>The <code>@DiscriminatorValue</code> is shown as Person as a record in the PARTY_TYPE column of the Party table.</p>\n<p>Very importantly, the <code>AbstractEntityId</code> class does not get persisted at all.</p>\n<p>I have not specified <code>@Column</code> annotations and instead are just relying on the default values.</p>\n<p>If you added an Organisation entity that extended Party and if that was persisted next, then the Party table would have:</p>\n<ul>\n<li>id = 2</li>\n<li>PARTY_TYPE = &quot;Organisation&quot;</li>\n</ul>\n<p>The Organisation table first entry would have:</p>\n<ul>\n<li>id = 2</li>\n<li>other attribute value associated specifically with organisations</li>\n</ul>\n<pre>\n\n    @MappedSuperclass\n    @SequenceGenerator(name = \"sequenceGenerator\", \n            initialValue = 1, allocationSize = 1)\n    public class AbstractEntityId implements Serializable {\n    \n        private static final long serialVersionUID = 1L;\n        \n        @Id\n        @GeneratedValue(generator = \"sequenceGenerator\")\n        protected Long id;\n        \n        public AbstractEntityId() {}\n        \n        public Long getId() {\n            return id;\n        }\n    }\n    \n    @Entity\n    @Inheritance(strategy = InheritanceType.JOINED)\n    @DiscriminatorColumn(name = \"PARTY_TYPE\", \n            discriminatorType = DiscriminatorType.STRING)\n    public class Party extends AbstractEntityId {\n        \n        public Party() {}\n        \n    }\n    \n    @Entity\n    @DiscriminatorValue(\"Person\")\n    public class Person extends Party {\n        \n        private String givenName;\n        private String familyName;\n        private String preferredName;\n        @Temporal(TemporalType.DATE)\n        private Date dateOfBirth;\n        private String gender;\n        \n        public Person() {}\n    \n        // getter & setters etc.\n     \n    }\n\n</pre>\n<p>Hope this helps :)</p>\n"},{"comments":[{"owner":{"account_id":3896812,"reputation":591,"user_id":3225638,"display_name":"Lorenzo"},"score":0,"creation_date":1684579399,"post_id":70407177,"comment_id":134539737,"body_markdown":"This is actually nice! However, what happens if you&#39;ve also defined `@GeneratedValue(...)` inside `AbstractEntity::getId` as well, does the `Address::getId`&#39;s one get taken into account or the superclass&#39; one ?","body":"This is actually nice! However, what happens if you&#39;ve also defined <code>@GeneratedValue(...)</code> inside <code>AbstractEntity::getId</code> as well, does the <code>Address::getId</code>&#39;s one get taken into account or the superclass&#39; one ?"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1684627098,"post_id":70407177,"comment_id":134544905,"body_markdown":"Should be `Address`s, as it would be if you placed the annotations on `AbstractEntity#getId` rather than `AbstractEntity#id`.","body":"Should be <code>Address</code>s, as it would be if you placed the annotations on <code>AbstractEntity#getId</code> rather than <code>AbstractEntity#id</code>."}],"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640275436,"creation_date":1639861805,"answer_id":70407177,"question_id":2883033,"body_markdown":"This is old, but I recently dealt with this and would like to share my solution. You can add annotations to an overridden getter.\r\n\r\n```java\r\n@MappedSuperclass\r\npublic abstract class AbstractEntity&lt;ID extends Serializable&gt; implements Serializable {\r\n\r\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n  @Id\r\n  private ID id;\r\n\r\n  public ID getId() {\r\n    return id;\r\n  }\r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\npublic final class Address extends AbstractEntity&lt;UUID&gt; implements Serializable {\r\n\r\n  ...\r\n\r\n  @Override\r\n  @GeneratedValue(generator = &quot;UUID&quot;)\r\n  @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n  public final UUID getId() {\r\n    return super.getId();\r\n  }\r\n\r\n  ...\r\n\r\n}\r\n```","title":"Is it possible to add JPA annotation to superclass instance variables?","body":"<p>This is old, but I recently dealt with this and would like to share my solution. You can add annotations to an overridden getter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic abstract class AbstractEntity&lt;ID extends Serializable&gt; implements Serializable {\n\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n  @Id\n  private ID id;\n\n  public ID getId() {\n    return id;\n  }\n\n  ...\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;address&quot;)\npublic final class Address extends AbstractEntity&lt;UUID&gt; implements Serializable {\n\n  ...\n\n  @Override\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  public final UUID getId() {\n    return super.getId();\n  }\n\n  ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":95226,"reputation":7980,"user_id":259485,"accept_rate":90,"display_name":"Kristofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23409,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":2883102,"answer_count":5,"score":29,"last_activity_date":1668204186,"creation_date":1274452909,"question_id":2883033,"body_markdown":"I am creating entities that are  the same for two different tables. In order do table mappings etc. different for the two entities but only have the rest of the code in one place - an abstract superclass. The best thing would be to be able to annotate generic stuff such as column names (since the will be identical) in the super class but that does not work because JPA annotations are not inherited by child classes. Here is an example:\r\n\r\n    public abstract class MyAbstractEntity {\r\n    \r\n      @Column(name=&quot;PROPERTY&quot;) //This will not be inherited and is therefore useless here\r\n      protected String property;\r\n    \r\n      \r\n      public String getProperty() {\r\n        return this.property;\r\n      }\r\n    \r\n      //setters, hashCode, equals etc. methods\r\n    }\r\n\r\nWhich I would like to inherit and only specify the child-specific stuff, like annotations:\r\n\r\n    @Entity\r\n    @Table(name=&quot;MY_ENTITY_TABLE&quot;)\r\n    public class MyEntity extends MyAbstractEntity {\r\n    \r\n      //This will not work since this field does not override the super class field, thus the setters and getters break.\r\n      @Column(name=&quot;PROPERTY&quot;) \r\n      protected String property;\r\n    \r\n    }\r\n\r\nAny ideas or will I have to create fields, getters and setters in the child classes?\r\n\r\nThanks,\r\nKris","title":"Is it possible to add JPA annotation to superclass instance variables?","body":"<p>I am creating entities that are  the same for two different tables. In order do table mappings etc. different for the two entities but only have the rest of the code in one place - an abstract superclass. The best thing would be to be able to annotate generic stuff such as column names (since the will be identical) in the super class but that does not work because JPA annotations are not inherited by child classes. Here is an example:</p>\n\n<pre><code>public abstract class MyAbstractEntity {\n\n  @Column(name=\"PROPERTY\") //This will not be inherited and is therefore useless here\n  protected String property;\n\n\n  public String getProperty() {\n    return this.property;\n  }\n\n  //setters, hashCode, equals etc. methods\n}\n</code></pre>\n\n<p>Which I would like to inherit and only specify the child-specific stuff, like annotations:</p>\n\n<pre><code>@Entity\n@Table(name=\"MY_ENTITY_TABLE\")\npublic class MyEntity extends MyAbstractEntity {\n\n  //This will not work since this field does not override the super class field, thus the setters and getters break.\n  @Column(name=\"PROPERTY\") \n  protected String property;\n\n}\n</code></pre>\n\n<p>Any ideas or will I have to create fields, getters and setters in the child classes?</p>\n\n<p>Thanks,\nKris</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668142306,"post_id":74398082,"comment_id":131338922,"body_markdown":"What does your browser console say when you submit the form?","body":"What does your browser console say when you submit the form?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1668142387,"post_id":74398082,"comment_id":131338939,"body_markdown":"You are going to post to `form method=&quot;POST&quot; action=&quot;/process&quot; ` - where is this code? Have you put debugging statements in this code? What happens here?","body":"You are going to post to <code>form method=&quot;POST&quot; action=&quot;&#47;process&quot; </code> - where is this code? Have you put debugging statements in this code? What happens here?"},{"owner":{"account_id":26550143,"reputation":11,"user_id":20179592,"display_name":"Andy"},"score":0,"creation_date":1668143361,"post_id":74398082,"comment_id":131339063,"body_markdown":"Hi @ScaryWombat my apologies, I didn&#39;t realize I did not add in my controller file . I have amended it to the top of the post if you want to take a look","body":"Hi @ScaryWombat my apologies, I didn&#39;t realize I did not add in my controller file . I have amended it to the top of the post if you want to take a look"},{"owner":{"account_id":26550143,"reputation":11,"user_id":20179592,"display_name":"Andy"},"score":0,"creation_date":1668143388,"post_id":74398082,"comment_id":131339069,"body_markdown":"Hello @tgdavies When I submit the form, nothing prints to the web console","body":"Hello @tgdavies When I submit the form, nothing prints to the web console"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668143638,"post_id":74398082,"comment_id":131339112,"body_markdown":"Put a breakpoint in `process` and make sure it is doing what you expect.","body":"Put a breakpoint in <code>process</code> and make sure it is doing what you expect."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668144506,"post_id":74398082,"comment_id":131339238,"body_markdown":"Is `System.out.println(&quot;New User: &quot; + user);` being printed out?","body":"Is <code>System.out.println(&quot;New User: &quot; + user);</code> being printed out?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668161745,"post_id":74398082,"comment_id":131343729,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26550143,"reputation":11,"user_id":20179592,"display_name":"Andy"},"score":0,"creation_date":1668195453,"post_id":74398082,"comment_id":131355044,"body_markdown":"Thanks for all your suggestions! I am going to try to tinker with all your recommendations now and provide an update shortly! :)","body":"Thanks for all your suggestions! I am going to try to tinker with all your recommendations now and provide an update shortly! :)"},{"owner":{"account_id":26550143,"reputation":11,"user_id":20179592,"display_name":"Andy"},"score":0,"creation_date":1668195486,"post_id":74398082,"comment_id":131355056,"body_markdown":"@ScaryWombat it is not","body":"@ScaryWombat it is not"}],"answers":[{"tags":[],"owner":{"account_id":26550143,"reputation":11,"user_id":20179592,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668203868,"creation_date":1668203868,"answer_id":74408538,"question_id":74398082,"body_markdown":"I just figured out why I was not able to save the data to the DB. It seems that I specified the incorrect data types in the roleRepo. \r\n\r\nI changed &lt;Role, String&gt; to &lt;Role, Long&gt; to reference the ID and now it works fine! Thank you for all your help everyone!\r\n\r\n```\r\n@Repository\r\npublic interface RoleRepository extends CrudRepository&lt;Role, Long&gt; {\r\n\tList&lt;Role&gt; findAll();\r\n\r\n\tList&lt;Role&gt; findByName(String name);\r\n\t\r\n}\r\n```","title":"Saving user to DB with user role (JAVA)","body":"<p>I just figured out why I was not able to save the data to the DB. It seems that I specified the incorrect data types in the roleRepo.</p>\n<p>I changed &lt;Role, String&gt; to &lt;Role, Long&gt; to reference the ID and now it works fine! Thank you for all your help everyone!</p>\n<pre><code>@Repository\npublic interface RoleRepository extends CrudRepository&lt;Role, Long&gt; {\n    List&lt;Role&gt; findAll();\n\n    List&lt;Role&gt; findByName(String name);\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26550143,"reputation":11,"user_id":20179592,"display_name":"Andy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668203868,"creation_date":1668141573,"question_id":74398082,"body_markdown":"I am starting my Java journey, and am working in STS, trying to save a new user to MySQL database, but it doesn&#39;t seem like anything is saving. Upon registering, the new user should be automatically given the role of USER, and then saved into the SQL database. When I run the application, it seems that everything runs fine, but when I try to create a new user, I get redirected back into the login page with nothing saved in the database.\r\n\r\nHere are my files:\r\n\r\nUserController:\r\n```\r\npackage developer.andy.auth.controllers;\r\n\r\nimport javax.servlet.http.HttpSession;\r\nimport javax.validation.Valid;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport developer.andy.auth.models.User;\r\nimport developer.andy.auth.services.UserService;\r\n\r\n@Controller\r\npublic class UserController {\r\n\t\r\n\tprivate UserService userService;\r\n\t\r\n\tpublic UserController(UserService userService) {\r\n\t\tthis.userService = userService;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/register&quot;)\r\n\tpublic String register(@Valid @ModelAttribute(&quot;user&quot;) User user) {\r\n\t\treturn &quot;register.jsp&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/process&quot;)\r\n\tpublic String process(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result, Model model, HttpSession session) {\r\n\t\tif(result.hasErrors()) {\r\n\t\t\treturn &quot;register.jsp&quot;;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;SAVED USER: &quot;+ user);\r\n\t\tuserService.saveWithUserRole(user);\r\n\t\treturn &quot;redirect:/login&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\treturn &quot;login.jsp&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/auth\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.mvc.view.prefix=/WEB-INF/\r\n```\r\n\r\npom.xml:\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n\r\nWeb Config:\r\n```\r\npackage developer.andy.auth.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\npublic class WebSecurityConfiguration {\r\n\r\n\t// Add BCrypt Bean\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder pwEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/register&quot;).permitAll()\r\n\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t\t.formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n\t\t\t.and()\r\n\t\t\t\t.logout().permitAll();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nUser Model:\r\n```\r\npackage developer.andy.auth.models;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.PrePersist;\r\nimport javax.persistence.PreUpdate;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Transient;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String username;\r\n\t\r\n\tprivate String password;\r\n\t\r\n\t@Transient // allows us to have attributes that are not directly tied to the model\r\n\tprivate String confirm;\r\n\t\r\n\t@Column(updatable=false) // creates column in DB that cannot be edited\r\n\tprivate Date createdAt;\r\n\t\r\n\tprivate Date updatedAt;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.EAGER)\r\n\t@JoinTable(\r\n\t\t\tname = &quot;users_roles&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\tprivate List &lt;Role&gt; roles;\r\n\t\r\n\tpublic User() {}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getConfirm() {\r\n\t\treturn confirm;\r\n\t}\r\n\r\n\tpublic void setConfirm(String confirm) {\r\n\t\tthis.confirm = confirm;\r\n\t}\r\n\r\n\tpublic Date getCreatedAt() {\r\n\t\treturn createdAt;\r\n\t}\r\n\r\n\tpublic void setCreatedAt(Date createdAt) {\r\n\t\tthis.createdAt = createdAt;\r\n\t}\r\n\r\n\tpublic Date getUpdatedAt() {\r\n\t\treturn updatedAt;\r\n\t}\r\n\r\n\tpublic void setUpdatedAt(Date updatedAt) {\r\n\t\tthis.updatedAt = updatedAt;\r\n\t}\r\n\r\n\tpublic List&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(List&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\t\r\n\t@PrePersist\r\n\tprotected void onCreated() {\r\n\t\tthis.createdAt = new Date();\r\n\t}\r\n\t\r\n\t@PreUpdate\r\n\tprotected void onUpdate() {\r\n\t\tthis.updatedAt = new Date();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nRole Model:\r\n```\r\npackage developer.andy.auth.models;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t@ManyToMany(mappedBy = &quot;roles&quot;)\r\n\tprivate List&lt;User&gt; users; // points to User table\r\n\t\r\n\tpublic Role() {}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; getUsers() {\r\n\t\treturn users;\r\n\t}\r\n\r\n\tpublic void setUsers(List&lt;User&gt; users) {\r\n\t\tthis.users = users;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nUser Repo:\r\n```\r\npackage developer.andy.auth.repositories;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport developer.andy.auth.models.User;\r\n\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n\tUser findByUsername(String username);\r\n}\r\n\r\n```\r\n\r\nRole Repo:\r\n\r\n```\r\npackage developer.andy.auth.repositories;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport developer.andy.auth.models.Role;\r\n\r\n@Repository\r\npublic interface RoleRepository extends CrudRepository&lt;Role, String&gt; {\r\n\tList&lt;Role&gt; findAll();\r\n\tList&lt;Role&gt; findByName(String name);\r\n}\r\n\r\n```\r\n\r\nUser service:\r\n```\r\npackage developer.andy.auth.services;\r\n\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport developer.andy.auth.models.User;\r\nimport developer.andy.auth.repositories.RoleRepository;\r\nimport developer.andy.auth.repositories.UserRepository;\r\n\r\n@Service\r\npublic class UserService {\r\n\t\r\n\tprivate UserRepository userRepo;\r\n\tprivate RoleRepository roleRepo;\r\n\tprivate BCryptPasswordEncoder pwEncoder;\r\n\t\r\n\tpublic UserService(UserRepository userRepo, RoleRepository roleRepo, BCryptPasswordEncoder pwEncoder) {\r\n\t\tthis.userRepo = userRepo;\r\n\t\tthis.roleRepo = roleRepo;\r\n\t\tthis.pwEncoder = pwEncoder;\r\n\t}\r\n\t\r\n\t// save with user role\r\n\tpublic void saveWithUserRole(User user) {\r\n\t\tuser.setPassword(pwEncoder.encode(user.getPassword()));\r\n\t\tuser.setRoles(roleRepo.findByName(&quot;ROLE_USER&quot;));\r\n\t\tSystem.out.println(&quot;New User: &quot; + user);\r\n\t\tuserRepo.save(user);\r\n\t}\r\n\t\r\n\t// save with admin role\r\n\tpublic void saveWithAdminRole(User user) {\r\n\t\tuser.setPassword(pwEncoder.encode(user.getPassword()));\r\n\t\tuser.setRoles(roleRepo.findByName(&quot;ROLE_ADMIN&quot;));\r\n\t\tSystem.out.println(&quot;New Admin: &quot; + user);\r\n\t\tuserRepo.save(user);\r\n\t}\r\n\t\r\n\t// find user by username\r\n\tpublic User findByUsername(String username) {\r\n\t\treturn userRepo.findByUsername(username);\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nregister.jsp:\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Registration Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Register!&lt;/h1&gt;\r\n    \r\n    &lt;p&gt;&lt;form:errors path=&quot;user.*&quot;/&gt;&lt;/p&gt;\r\n    \r\n    &lt;form:form method=&quot;POST&quot; action=&quot;/process&quot; modelAttribute=&quot;user&quot;&gt;\r\n        &lt;p&gt;\r\n            &lt;form:label path=&quot;username&quot;&gt;Username:&lt;/form:label&gt;\r\n            &lt;form:input path=&quot;username&quot;/&gt;\r\n        &lt;/p&gt;\r\n        &lt;p&gt;\r\n            &lt;form:label path=&quot;password&quot;&gt;Password:&lt;/form:label&gt;\r\n            &lt;form:password path=&quot;password&quot;/&gt;\r\n        &lt;/p&gt;\r\n        &lt;p&gt;\r\n            &lt;form:label path=&quot;confirm&quot;&gt;Confirm:&lt;/form:label&gt;\r\n            &lt;form:password path=&quot;confirm&quot;/&gt;\r\n        &lt;/p&gt;\r\n&lt;!--         We do not need a csrf token in register bc jstl has already included them for us --&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Register!&quot;/&gt;\r\n    &lt;/form:form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nI have tried to check the models, modified the POST URL, and included some console logs to find the issues, but even upon doing so, it doesn&#39;t seem to log any errors or data on to the console. This is what gets outputted into the console:\r\n\r\n\r\n```\r\n2022-11-10 22:20:18.829  INFO 6389 --- [           main] developer.andy.auth.AuthApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-11-10 22:20:19.915  INFO 6389 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-11-10 22:20:19.997  INFO 6389 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.\r\n2022-11-10 22:20:20.974  INFO 6389 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-11-10 22:20:20.986  INFO 6389 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-11-10 22:20:20.987  INFO 6389 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2022-11-10 22:20:21.323  INFO 6389 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n2022-11-10 22:20:21.337  INFO 6389 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-11-10 22:20:21.337  INFO 6389 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2405 ms\r\n2022-11-10 22:20:21.552  INFO 6389 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-11-10 22:20:21.607  INFO 6389 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.12.Final\r\n2022-11-10 22:20:21.806  INFO 6389 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-11-10 22:20:21.926  INFO 6389 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-11-10 22:20:22.336  INFO 6389 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-11-10 22:20:22.368  INFO 6389 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n2022-11-10 22:20:23.373  INFO 6389 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-11-10 22:20:23.383  INFO 6389 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-11-10 22:20:23.869  WARN 6389 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\n\r\n2022-11-10 22:20:24.136  INFO 6389 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@726e29d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a1e578f, org.springframework.security.web.context.SecurityContextPersistenceFilter@40239b34, org.springframework.security.web.header.HeaderWriterFilter@811d8d6, org.springframework.security.web.csrf.CsrfFilter@50841932, org.springframework.security.web.authentication.logout.LogoutFilter@3c468360, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@72b6fa98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c966488, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45f6181a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@707b38a1, org.springframework.security.web.session.SessionManagementFilter@6dcc7696, org.springframework.security.web.access.ExceptionTranslationFilter@3bf52f8f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6eae3730]\r\n2022-11-10 22:20:24.197  WARN 6389 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2022-11-10 22:20:24.775  INFO 6389 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-11-10 22:20:24.789  INFO 6389 --- [           main] developer.andy.auth.AuthApplication      : Started AuthApplication in 6.691 seconds (JVM running for 8.204)\r\n2022-11-10 22:20:36.705  INFO 6389 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-11-10 22:20:36.705  INFO 6389 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-11-10 22:20:36.706  INFO 6389 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n\r\n```\r\n\r\nAny guidance is greatly appreciated!","title":"Saving user to DB with user role (JAVA)","body":"<p>I am starting my Java journey, and am working in STS, trying to save a new user to MySQL database, but it doesn't seem like anything is saving. Upon registering, the new user should be automatically given the role of USER, and then saved into the SQL database. When I run the application, it seems that everything runs fine, but when I try to create a new user, I get redirected back into the login page with nothing saved in the database.</p>\n<p>Here are my files:</p>\n<p>UserController:</p>\n<pre><code>package developer.andy.auth.controllers;\n\nimport javax.servlet.http.HttpSession;\nimport javax.validation.Valid;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport developer.andy.auth.models.User;\nimport developer.andy.auth.services.UserService;\n\n@Controller\npublic class UserController {\n    \n    private UserService userService;\n    \n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n    \n    @RequestMapping(&quot;/register&quot;)\n    public String register(@Valid @ModelAttribute(&quot;user&quot;) User user) {\n        return &quot;register.jsp&quot;;\n    }\n    \n    @PostMapping(&quot;/process&quot;)\n    public String process(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result, Model model, HttpSession session) {\n        if(result.hasErrors()) {\n            return &quot;register.jsp&quot;;\n        }\n        System.out.println(&quot;SAVED USER: &quot;+ user);\n        userService.saveWithUserRole(user);\n        return &quot;redirect:/login&quot;;\n    }\n    \n    @RequestMapping(&quot;/login&quot;)\n    public String login() {\n        return &quot;login.jsp&quot;;\n    }\n    \n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/auth\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.mvc.view.prefix=/WEB-INF/\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>Web Config:</p>\n<pre><code>package developer.andy.auth.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\npublic class WebSecurityConfiguration {\n\n    // Add BCrypt Bean\n    @Bean\n    public BCryptPasswordEncoder pwEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests()\n            .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/register&quot;).permitAll()\n            .anyRequest()\n                .authenticated()\n            .and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\n            .and()\n                .logout().permitAll();\n\n        return http.build();\n    }\n\n}\n\n</code></pre>\n<p>User Model:</p>\n<pre><code>package developer.andy.auth.models;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.PrePersist;\nimport javax.persistence.PreUpdate;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String username;\n    \n    private String password;\n    \n    @Transient // allows us to have attributes that are not directly tied to the model\n    private String confirm;\n    \n    @Column(updatable=false) // creates column in DB that cannot be edited\n    private Date createdAt;\n    \n    private Date updatedAt;\n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List &lt;Role&gt; roles;\n    \n    public User() {}\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getConfirm() {\n        return confirm;\n    }\n\n    public void setConfirm(String confirm) {\n        this.confirm = confirm;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Date getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public List&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(List&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n    \n    @PrePersist\n    protected void onCreated() {\n        this.createdAt = new Date();\n    }\n    \n    @PreUpdate\n    protected void onUpdate() {\n        this.updatedAt = new Date();\n    }\n    \n}\n\n</code></pre>\n<p>Role Model:</p>\n<pre><code>package developer.andy.auth.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String name;\n    \n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private List&lt;User&gt; users; // points to User table\n    \n    public Role() {}\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n    \n    \n}\n\n</code></pre>\n<p>User Repo:</p>\n<pre><code>package developer.andy.auth.repositories;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport developer.andy.auth.models.User;\n\n@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    User findByUsername(String username);\n}\n\n</code></pre>\n<p>Role Repo:</p>\n<pre><code>package developer.andy.auth.repositories;\n\nimport java.util.List;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport developer.andy.auth.models.Role;\n\n@Repository\npublic interface RoleRepository extends CrudRepository&lt;Role, String&gt; {\n    List&lt;Role&gt; findAll();\n    List&lt;Role&gt; findByName(String name);\n}\n\n</code></pre>\n<p>User service:</p>\n<pre><code>package developer.andy.auth.services;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport developer.andy.auth.models.User;\nimport developer.andy.auth.repositories.RoleRepository;\nimport developer.andy.auth.repositories.UserRepository;\n\n@Service\npublic class UserService {\n    \n    private UserRepository userRepo;\n    private RoleRepository roleRepo;\n    private BCryptPasswordEncoder pwEncoder;\n    \n    public UserService(UserRepository userRepo, RoleRepository roleRepo, BCryptPasswordEncoder pwEncoder) {\n        this.userRepo = userRepo;\n        this.roleRepo = roleRepo;\n        this.pwEncoder = pwEncoder;\n    }\n    \n    // save with user role\n    public void saveWithUserRole(User user) {\n        user.setPassword(pwEncoder.encode(user.getPassword()));\n        user.setRoles(roleRepo.findByName(&quot;ROLE_USER&quot;));\n        System.out.println(&quot;New User: &quot; + user);\n        userRepo.save(user);\n    }\n    \n    // save with admin role\n    public void saveWithAdminRole(User user) {\n        user.setPassword(pwEncoder.encode(user.getPassword()));\n        user.setRoles(roleRepo.findByName(&quot;ROLE_ADMIN&quot;));\n        System.out.println(&quot;New Admin: &quot; + user);\n        userRepo.save(user);\n    }\n    \n    // find user by username\n    public User findByUsername(String username) {\n        return userRepo.findByUsername(username);\n    }\n    \n}\n\n</code></pre>\n<p>register.jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Registration Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Register!&lt;/h1&gt;\n    \n    &lt;p&gt;&lt;form:errors path=&quot;user.*&quot;/&gt;&lt;/p&gt;\n    \n    &lt;form:form method=&quot;POST&quot; action=&quot;/process&quot; modelAttribute=&quot;user&quot;&gt;\n        &lt;p&gt;\n            &lt;form:label path=&quot;username&quot;&gt;Username:&lt;/form:label&gt;\n            &lt;form:input path=&quot;username&quot;/&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;form:label path=&quot;password&quot;&gt;Password:&lt;/form:label&gt;\n            &lt;form:password path=&quot;password&quot;/&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;form:label path=&quot;confirm&quot;&gt;Confirm:&lt;/form:label&gt;\n            &lt;form:password path=&quot;confirm&quot;/&gt;\n        &lt;/p&gt;\n&lt;!--         We do not need a csrf token in register bc jstl has already included them for us --&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Register!&quot;/&gt;\n    &lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have tried to check the models, modified the POST URL, and included some console logs to find the issues, but even upon doing so, it doesn't seem to log any errors or data on to the console. This is what gets outputted into the console:</p>\n<pre><code>2022-11-10 22:20:18.829  INFO 6389 --- [           main] developer.andy.auth.AuthApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-11-10 22:20:19.915  INFO 6389 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-11-10 22:20:19.997  INFO 6389 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.\n2022-11-10 22:20:20.974  INFO 6389 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-11-10 22:20:20.986  INFO 6389 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-11-10 22:20:20.987  INFO 6389 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2022-11-10 22:20:21.323  INFO 6389 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2022-11-10 22:20:21.337  INFO 6389 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-11-10 22:20:21.337  INFO 6389 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2405 ms\n2022-11-10 22:20:21.552  INFO 6389 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-11-10 22:20:21.607  INFO 6389 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.12.Final\n2022-11-10 22:20:21.806  INFO 6389 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-11-10 22:20:21.926  INFO 6389 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-11-10 22:20:22.336  INFO 6389 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-11-10 22:20:22.368  INFO 6389 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2022-11-10 22:20:23.373  INFO 6389 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-11-10 22:20:23.383  INFO 6389 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-11-10 22:20:23.869  WARN 6389 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\n\n2022-11-10 22:20:24.136  INFO 6389 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@726e29d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a1e578f, org.springframework.security.web.context.SecurityContextPersistenceFilter@40239b34, org.springframework.security.web.header.HeaderWriterFilter@811d8d6, org.springframework.security.web.csrf.CsrfFilter@50841932, org.springframework.security.web.authentication.logout.LogoutFilter@3c468360, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@72b6fa98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c966488, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45f6181a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@707b38a1, org.springframework.security.web.session.SessionManagementFilter@6dcc7696, org.springframework.security.web.access.ExceptionTranslationFilter@3bf52f8f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6eae3730]\n2022-11-10 22:20:24.197  WARN 6389 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-11-10 22:20:24.775  INFO 6389 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-11-10 22:20:24.789  INFO 6389 --- [           main] developer.andy.auth.AuthApplication      : Started AuthApplication in 6.691 seconds (JVM running for 8.204)\n2022-11-10 22:20:36.705  INFO 6389 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-11-10 22:20:36.705  INFO 6389 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-11-10 22:20:36.706  INFO 6389 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n\n</code></pre>\n<p>Any guidance is greatly appreciated!</p>\n"},{"tags":["java","version"],"comments":[{"owner":{"account_id":436513,"reputation":16911,"user_id":823738,"accept_rate":100,"display_name":"Zaffy"},"score":1,"creation_date":1312316341,"post_id":6918022,"comment_id":8240635,"body_markdown":"Why you just don&#39;t make a md5 checksums ?","body":"Why you just don&#39;t make a md5 checksums ?"},{"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"score":0,"creation_date":1312317040,"post_id":6918022,"comment_id":8240799,"body_markdown":"Do you mean the meta information (right click and properties in windows)?","body":"Do you mean the meta information (right click and properties in windows)?"},{"owner":{"account_id":450864,"reputation":3141,"user_id":846422,"accept_rate":69,"display_name":"GEverding"},"score":0,"creation_date":1312370239,"post_id":6918022,"comment_id":8250986,"body_markdown":"Yes I am looking for the information stored in the properties if the file.","body":"Yes I am looking for the information stored in the properties if the file."}],"answers":[{"comments":[{"owner":{"account_id":450864,"reputation":3141,"user_id":846422,"accept_rate":69,"display_name":"GEverding"},"score":0,"creation_date":1312370419,"post_id":6918299,"comment_id":8251045,"body_markdown":"I like that approach.  Im using JNA in other parts of my project and its a lot nicer then JNI so I will do the same thing using JNA. thanks","body":"I like that approach.  Im using JNA in other parts of my project and its a lot nicer then JNI so I will do the same thing using JNA. thanks"}],"tags":[],"owner":{"account_id":438375,"reputation":243,"user_id":826601,"display_name":"virlan2004"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312318410,"creation_date":1312317458,"answer_id":6918299,"question_id":6918022,"body_markdown":"Due to portability issues I believe this kind of information is not actually available in java unless you access it using a less portable approach.\r\n\r\nFor example you could write a wrapper using JNI and C++ and use the [GetFileVersionInfo API][1] (see also [this JavaWorld tip][2]) of Windows to get that kind of information from the exe. Another approach would be to use a totally external application that outputs the version of the file and use the Runtime class to create a process and interact with that application.\r\n\r\nOther approaches would require having access to the server and providing version checking from server side:\r\n\r\n* files contain the version number in their name,\r\n* save a separate file accessible to java that can provide the current version\r\n* save the date of the download on server side and checking if the current version is newer than the date when the last one was downloaded\r\n* check the md5 to see if the version is different, in case the server can contain only versions newer or equally as new as the client one \r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms647003%28v=vs.85%29.aspx\r\n  [2]: http://www.javaworld.com/javaworld/javatips/jw-javatip17.html?page=1","title":"Get Version Info for .exe","body":"<p>Due to portability issues I believe this kind of information is not actually available in java unless you access it using a less portable approach.</p>\n\n<p>For example you could write a wrapper using JNI and C++ and use the <a href=\"http://msdn.microsoft.com/en-us/library/ms647003%28v=vs.85%29.aspx\" rel=\"nofollow\">GetFileVersionInfo API</a> (see also <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip17.html?page=1\" rel=\"nofollow\">this JavaWorld tip</a>) of Windows to get that kind of information from the exe. Another approach would be to use a totally external application that outputs the version of the file and use the Runtime class to create a process and interact with that application.</p>\n\n<p>Other approaches would require having access to the server and providing version checking from server side:</p>\n\n<ul>\n<li>files contain the version number in their name,</li>\n<li>save a separate file accessible to java that can provide the current version</li>\n<li>save the date of the download on server side and checking if the current version is newer than the date when the last one was downloaded</li>\n<li>check the md5 to see if the version is different, in case the server can contain only versions newer or equally as new as the client one </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312317527,"creation_date":1312317527,"answer_id":6918315,"question_id":6918022,"body_markdown":"If you mean the information you get in Property-&gt;Details on Windows, bear in mind that it&#39;s platform dependent! That being said [SIGAR][1] has Java bindings and a [FileVersionInfo][2] class that seems close to what you need.\r\n\r\n\r\n  [1]: http://support.hyperic.com/display/SIGAR/Home\r\n  [2]: http://cpansearch.perl.org/src/DOUGM/hyperic-sigar-1.6.3-src/docs/javadoc/org/hyperic/sigar/cmd/FileVersionInfo.html","title":"Get Version Info for .exe","body":"<p>If you mean the information you get in Property->Details on Windows, bear in mind that it's platform dependent! That being said <a href=\"http://support.hyperic.com/display/SIGAR/Home\" rel=\"nofollow\">SIGAR</a> has Java bindings and a <a href=\"http://cpansearch.perl.org/src/DOUGM/hyperic-sigar-1.6.3-src/docs/javadoc/org/hyperic/sigar/cmd/FileVersionInfo.html\" rel=\"nofollow\">FileVersionInfo</a> class that seems close to what you need.</p>\n"},{"comments":[{"owner":{"account_id":183170,"reputation":725,"user_id":418391,"display_name":"rene_buehling"},"score":0,"creation_date":1324049258,"post_id":6942170,"comment_id":10573175,"body_markdown":"Thanks for this useful code! Just another side note for people using it: If you use this code inside a class with VS_FIXEDFILEINFO being an inner class, you may get the error &quot;Class com.sun.jna.Structure can not access a member getfield&quot;. If so, simply add the keyword `public` to the inner class VS_FIXEDFILEINFO to fix it.","body":"Thanks for this useful code! Just another side note for people using it: If you use this code inside a class with VS_FIXEDFILEINFO being an inner class, you may get the error &quot;Class com.sun.jna.Structure can not access a member getfield&quot;. If so, simply add the keyword <code>public</code> to the inner class VS_FIXEDFILEINFO to fix it."},{"owner":{"account_id":421861,"reputation":2882,"user_id":800318,"accept_rate":77,"display_name":"Mgamerz"},"score":1,"creation_date":1437945236,"post_id":6942170,"comment_id":51230614,"body_markdown":"In Java 8 (maybe lower too), you have to implement a getFieldOrder() method. Unsure of what to put there though... The answer below by Antonis Zafiropoulos works however.","body":"In Java 8 (maybe lower too), you have to implement a getFieldOrder() method. Unsure of what to put there though... The answer below by Antonis Zafiropoulos works however."}],"tags":[],"owner":{"account_id":450864,"reputation":3141,"user_id":846422,"accept_rate":69,"display_name":"GEverding"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1312464821,"creation_date":1312464007,"answer_id":6942170,"question_id":6918022,"body_markdown":"After spending hours online and coding I found a solution using JNA to get the Version Information for a file.\r\n\r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Memory;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Pointer;\r\n    import com.sun.jna.ptr.IntByReference;\r\n    import com.sun.jna.ptr.PointerByReference;\r\n    import com.sun.jna.win32.W32APIOptions;\r\n    import java.io.IOException;\r\n\r\n    \r\n    public class FileVersionInfo\r\n    {\r\n        interface Version extends Library {\r\n    \r\n            Version INSTANCE = (Version) Native.loadLibrary(&quot;Version&quot;, Version.class, W32APIOptions.UNICODE_OPTIONS);\r\n    \r\n            public int GetFileVersionInfoSizeW(String lptstrFilename, int dwDummy);\r\n    \r\n            public boolean GetFileVersionInfoW(String lptstrFilename, int dwHandle,\r\n                int dwLen, Pointer lpData);\r\n    \r\n            public int VerQueryValueW(Pointer pBlock, String lpSubBlock,\r\n                PointerByReference lplpBuffer, IntByReference puLen);\r\n    \r\n        }\r\n    \r\n        static class VS_FIXEDFILEINFO extends com.sun.jna.Structure {\r\n            public int dwSignature;\r\n            public int dwStrucVersion;\r\n            public int dwFileVersionMS;\r\n            public int dwFileVersionLS;\r\n            public int dwProductVersionMS;\r\n            public int dwProductVersionLS;\r\n            public int dwFileFlagsMask;\r\n            public int dwFileFlags;\r\n            public int dwFileOS;\r\n            public int dwFileType;\r\n            public int dwFileSubtype;\r\n            public int dwFileDateMS;\r\n            public int dwFileDateLS;\r\n\r\n               public VS_FIXEDFILEINFO(com.sun.jna.Pointer p){\r\n                    super(p);\r\n               }\r\n        }\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            int dwDummy = 0;\r\n            int versionlength = Version.INSTANCE.GetFileVersionInfoSizeW(\r\n                    &quot;C:\\\\Test\\\\chromeinstall.exe&quot;, dwDummy);\r\n    \r\n            byte[] bufferarray = new byte[versionlength];\r\n            Pointer lpData = new Memory(bufferarray.length);    \r\n    \r\n            PointerByReference lplpBuffer = new PointerByReference();\r\n            IntByReference puLen = new IntByReference();\r\n            boolean FileInfoResult = Version.INSTANCE.GetFileVersionInfoW(\r\n                    &quot;C:\\\\Test\\\\chromeinstall.exe&quot;,\r\n                    0, versionlength, lpData);\r\n            System.out.println(FileInfoResult);\r\n            int verQueryVal = Version.INSTANCE.VerQueryValueW(lpData,\r\n                    &quot;\\\\&quot;, lplpBuffer,\r\n                    puLen);\r\n    \r\n            VS_FIXEDFILEINFO lplpBufStructure = new VS_FIXEDFILEINFO(\r\n                    lplpBuffer.getValue());\r\n            lplpBufStructure.read();\r\n    \r\n            short[] rtnData = new short[4];\r\n            rtnData[0] = (short) (lplpBufStructure.dwFileVersionMS &gt;&gt; 16);\r\n            rtnData[1] = (short) (lplpBufStructure.dwFileVersionMS &amp; 0xffff);\r\n            rtnData[2] = (short) (lplpBufStructure.dwFileVersionLS &gt;&gt; 16);\r\n            rtnData[3] = (short) (lplpBufStructure.dwFileVersionLS &amp; 0xffff);\r\n    \r\n            for (int i = 0; i &lt; rtnData.length; i++) {\r\n                System.out.println(rtnData[i]);\r\n            }\r\n    \r\n    } \r\n","title":"Get Version Info for .exe","body":"<p>After spending hours online and coding I found a solution using JNA to get the Version Information for a file.</p>\n\n<pre><code>import com.sun.jna.Library;\nimport com.sun.jna.Memory;\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.ptr.PointerByReference;\nimport com.sun.jna.win32.W32APIOptions;\nimport java.io.IOException;\n\n\npublic class FileVersionInfo\n{\n    interface Version extends Library {\n\n        Version INSTANCE = (Version) Native.loadLibrary(\"Version\", Version.class, W32APIOptions.UNICODE_OPTIONS);\n\n        public int GetFileVersionInfoSizeW(String lptstrFilename, int dwDummy);\n\n        public boolean GetFileVersionInfoW(String lptstrFilename, int dwHandle,\n            int dwLen, Pointer lpData);\n\n        public int VerQueryValueW(Pointer pBlock, String lpSubBlock,\n            PointerByReference lplpBuffer, IntByReference puLen);\n\n    }\n\n    static class VS_FIXEDFILEINFO extends com.sun.jna.Structure {\n        public int dwSignature;\n        public int dwStrucVersion;\n        public int dwFileVersionMS;\n        public int dwFileVersionLS;\n        public int dwProductVersionMS;\n        public int dwProductVersionLS;\n        public int dwFileFlagsMask;\n        public int dwFileFlags;\n        public int dwFileOS;\n        public int dwFileType;\n        public int dwFileSubtype;\n        public int dwFileDateMS;\n        public int dwFileDateLS;\n\n           public VS_FIXEDFILEINFO(com.sun.jna.Pointer p){\n                super(p);\n           }\n    }\n    public static void main(String[] args) throws IOException {\n\n        int dwDummy = 0;\n        int versionlength = Version.INSTANCE.GetFileVersionInfoSizeW(\n                \"C:\\\\Test\\\\chromeinstall.exe\", dwDummy);\n\n        byte[] bufferarray = new byte[versionlength];\n        Pointer lpData = new Memory(bufferarray.length);    \n\n        PointerByReference lplpBuffer = new PointerByReference();\n        IntByReference puLen = new IntByReference();\n        boolean FileInfoResult = Version.INSTANCE.GetFileVersionInfoW(\n                \"C:\\\\Test\\\\chromeinstall.exe\",\n                0, versionlength, lpData);\n        System.out.println(FileInfoResult);\n        int verQueryVal = Version.INSTANCE.VerQueryValueW(lpData,\n                \"\\\\\", lplpBuffer,\n                puLen);\n\n        VS_FIXEDFILEINFO lplpBufStructure = new VS_FIXEDFILEINFO(\n                lplpBuffer.getValue());\n        lplpBufStructure.read();\n\n        short[] rtnData = new short[4];\n        rtnData[0] = (short) (lplpBufStructure.dwFileVersionMS &gt;&gt; 16);\n        rtnData[1] = (short) (lplpBufStructure.dwFileVersionMS &amp; 0xffff);\n        rtnData[2] = (short) (lplpBufStructure.dwFileVersionLS &gt;&gt; 16);\n        rtnData[3] = (short) (lplpBufStructure.dwFileVersionLS &amp; 0xffff);\n\n        for (int i = 0; i &lt; rtnData.length; i++) {\n            System.out.println(rtnData[i]);\n        }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2058546,"reputation":127,"user_id":1835700,"accept_rate":100,"display_name":"Antonis Zafiropoulos"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1375352689,"creation_date":1375352689,"answer_id":17991418,"question_id":6918022,"body_markdown":"\r\n\r\nFor reference, a modified version of the code by GEverding, with JNA 4, using com.sun.jna.platform.win32\r\n\r\n    package examples;\r\n\r\n    import java.io.IOException;\r\n\r\n    import com.sun.jna.Memory;\r\n    import com.sun.jna.Pointer;\r\n    import com.sun.jna.platform.win32.VerRsrc.VS_FIXEDFILEINFO;\r\n    import com.sun.jna.ptr.IntByReference;\r\n    import com.sun.jna.ptr.PointerByReference;\r\n\r\n    public class FileVersion {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n\r\n            String filePath = &quot;C:\\\\Test\\\\chromeinstall.exe&quot;;\r\n\r\n            IntByReference dwDummy = new IntByReference();\r\n            dwDummy.setValue(0);\r\n\r\n            int versionlength =\r\n                    com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfoSize(\r\n                            filePath, dwDummy);\r\n\r\n            byte[] bufferarray = new byte[versionlength];\r\n            Pointer lpData = new Memory(bufferarray.length);\r\n            PointerByReference lplpBuffer = new PointerByReference();\r\n            IntByReference puLen = new IntByReference();\r\n\r\n            boolean fileInfoResult =\r\n                    com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfo(\r\n                            filePath, 0, versionlength, lpData);\r\n\r\n            boolean verQueryVal =\r\n                    com.sun.jna.platform.win32.Version.INSTANCE.VerQueryValue(\r\n                            lpData, &quot;\\\\&quot;, lplpBuffer, puLen);\r\n\r\n            VS_FIXEDFILEINFO lplpBufStructure = new VS_FIXEDFILEINFO(lplpBuffer.getValue());\r\n            lplpBufStructure.read();\r\n\r\n            int v1 = (lplpBufStructure.dwFileVersionMS).intValue() &gt;&gt; 16;\r\n            int v2 = (lplpBufStructure.dwFileVersionMS).intValue() &amp; 0xffff;\r\n            int v3 = (lplpBufStructure.dwFileVersionLS).intValue() &gt;&gt; 16;\r\n            int v4 = (lplpBufStructure.dwFileVersionLS).intValue() &amp; 0xffff;\r\n\r\n            System.out.println(\r\n                    String.valueOf(v1) + &quot;.&quot; +\r\n                            String.valueOf(v2) + &quot;.&quot; +\r\n                            String.valueOf(v3) + &quot;.&quot; +\r\n                            String.valueOf(v4));\r\n        }\r\n    }\r\n","title":"Get Version Info for .exe","body":"<p>For reference, a modified version of the code by GEverding, with JNA 4, using com.sun.jna.platform.win32</p>\n\n<pre><code>package examples;\n\nimport java.io.IOException;\n\nimport com.sun.jna.Memory;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.platform.win32.VerRsrc.VS_FIXEDFILEINFO;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.ptr.PointerByReference;\n\npublic class FileVersion {\n\n    public static void main(String[] args) throws IOException {\n\n        String filePath = \"C:\\\\Test\\\\chromeinstall.exe\";\n\n        IntByReference dwDummy = new IntByReference();\n        dwDummy.setValue(0);\n\n        int versionlength =\n                com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfoSize(\n                        filePath, dwDummy);\n\n        byte[] bufferarray = new byte[versionlength];\n        Pointer lpData = new Memory(bufferarray.length);\n        PointerByReference lplpBuffer = new PointerByReference();\n        IntByReference puLen = new IntByReference();\n\n        boolean fileInfoResult =\n                com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfo(\n                        filePath, 0, versionlength, lpData);\n\n        boolean verQueryVal =\n                com.sun.jna.platform.win32.Version.INSTANCE.VerQueryValue(\n                        lpData, \"\\\\\", lplpBuffer, puLen);\n\n        VS_FIXEDFILEINFO lplpBufStructure = new VS_FIXEDFILEINFO(lplpBuffer.getValue());\n        lplpBufStructure.read();\n\n        int v1 = (lplpBufStructure.dwFileVersionMS).intValue() &gt;&gt; 16;\n        int v2 = (lplpBufStructure.dwFileVersionMS).intValue() &amp; 0xffff;\n        int v3 = (lplpBufStructure.dwFileVersionLS).intValue() &gt;&gt; 16;\n        int v4 = (lplpBufStructure.dwFileVersionLS).intValue() &amp; 0xffff;\n\n        System.out.println(\n                String.valueOf(v1) + \".\" +\n                        String.valueOf(v2) + \".\" +\n                        String.valueOf(v3) + \".\" +\n                        String.valueOf(v4));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421861,"reputation":2882,"user_id":800318,"accept_rate":77,"display_name":"Mgamerz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437949303,"creation_date":1437949303,"answer_id":31642529,"question_id":6918022,"body_markdown":"I modified Antonis Zafiropoulos&#39;s answer and made a handy class you can just drop into your project. Note that the fileInfoResult and verQueryVal lines must exist even though they don&#39;t appear to do anything.\r\n\r\n    package yourpackage;\r\n\r\n\timport com.sun.jna.Memory;\r\n\timport com.sun.jna.Pointer;\r\n\timport com.sun.jna.platform.win32.VerRsrc.VS_FIXEDFILEINFO;\r\n\timport com.sun.jna.ptr.IntByReference;\r\n\timport com.sun.jna.ptr.PointerByReference;\r\n\t\r\n\tpublic class EXEFileInfo {\r\n\t\tpublic static int MAJOR = 0;\r\n\t\tpublic static int MINOR = 1;\r\n\t\tpublic static int BUILD = 2;\r\n\t\tpublic static int REVISION = 3;\r\n\t\r\n\t\tpublic static int getMajorVersionOfProgram(String path) {\r\n\t\t\treturn getVersionInfo(path)[MAJOR];\r\n\t\t}\r\n\t\r\n\t\tpublic static int getMinorVersionOfProgram(String path) {\r\n\t\t\treturn getVersionInfo(path)[MINOR];\r\n\t\t}\r\n\t\r\n\t\tpublic static int getBuildOfProgram(String path) {\r\n\t\t\treturn getVersionInfo(path)[BUILD];\r\n\t\t}\r\n\t\r\n\t\tpublic static int getRevisionOfProgram(String path) {\r\n\t\t\treturn getVersionInfo(path)[REVISION];\r\n\t\t}\r\n\t\r\n\t\tpublic static int[] getVersionInfo(String path) {\r\n\t\t\tIntByReference dwDummy = new IntByReference();\r\n\t\t\tdwDummy.setValue(0);\r\n\t\r\n\t\t\tint versionlength = com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfoSize(path, dwDummy);\r\n\t\r\n\t\t\tbyte[] bufferarray = new byte[versionlength];\r\n\t\t\tPointer lpData = new Memory(bufferarray.length);\r\n\t\t\tPointerByReference lplpBuffer = new PointerByReference();\r\n\t\t\tIntByReference puLen = new IntByReference();\r\n\t\t\tboolean fileInfoResult = com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfo(path, 0, versionlength, lpData);\r\n\t\t\tboolean verQueryVal = com.sun.jna.platform.win32.Version.INSTANCE.VerQueryValue(lpData, &quot;\\\\&quot;, lplpBuffer, puLen);\r\n\t\r\n\t\t\tVS_FIXEDFILEINFO lplpBufStructure = new VS_FIXEDFILEINFO(lplpBuffer.getValue());\r\n\t\t\tlplpBufStructure.read();\r\n\t\r\n\t\t\tint v1 = (lplpBufStructure.dwFileVersionMS).intValue() &gt;&gt; 16;\r\n\t\t\tint v2 = (lplpBufStructure.dwFileVersionMS).intValue() &amp; 0xffff;\r\n\t\t\tint v3 = (lplpBufStructure.dwFileVersionLS).intValue() &gt;&gt; 16;\r\n\t\t\tint v4 = (lplpBufStructure.dwFileVersionLS).intValue() &amp; 0xffff;\r\n\t\t\tSystem.out.println(&quot;Version: &quot; + v1 + &quot;.&quot; + v2 + &quot;.&quot; + v3 + &quot;.&quot; + v4);\r\n\t\t\treturn new int[] { v1, v2, v3, v4 };\r\n\t\t}\r\n\t}","title":"Get Version Info for .exe","body":"<p>I modified Antonis Zafiropoulos's answer and made a handy class you can just drop into your project. Note that the fileInfoResult and verQueryVal lines must exist even though they don't appear to do anything.</p>\n\n<pre><code>package yourpackage;\n\nimport com.sun.jna.Memory;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.platform.win32.VerRsrc.VS_FIXEDFILEINFO;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.ptr.PointerByReference;\n\npublic class EXEFileInfo {\n    public static int MAJOR = 0;\n    public static int MINOR = 1;\n    public static int BUILD = 2;\n    public static int REVISION = 3;\n\n    public static int getMajorVersionOfProgram(String path) {\n        return getVersionInfo(path)[MAJOR];\n    }\n\n    public static int getMinorVersionOfProgram(String path) {\n        return getVersionInfo(path)[MINOR];\n    }\n\n    public static int getBuildOfProgram(String path) {\n        return getVersionInfo(path)[BUILD];\n    }\n\n    public static int getRevisionOfProgram(String path) {\n        return getVersionInfo(path)[REVISION];\n    }\n\n    public static int[] getVersionInfo(String path) {\n        IntByReference dwDummy = new IntByReference();\n        dwDummy.setValue(0);\n\n        int versionlength = com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfoSize(path, dwDummy);\n\n        byte[] bufferarray = new byte[versionlength];\n        Pointer lpData = new Memory(bufferarray.length);\n        PointerByReference lplpBuffer = new PointerByReference();\n        IntByReference puLen = new IntByReference();\n        boolean fileInfoResult = com.sun.jna.platform.win32.Version.INSTANCE.GetFileVersionInfo(path, 0, versionlength, lpData);\n        boolean verQueryVal = com.sun.jna.platform.win32.Version.INSTANCE.VerQueryValue(lpData, \"\\\\\", lplpBuffer, puLen);\n\n        VS_FIXEDFILEINFO lplpBufStructure = new VS_FIXEDFILEINFO(lplpBuffer.getValue());\n        lplpBufStructure.read();\n\n        int v1 = (lplpBufStructure.dwFileVersionMS).intValue() &gt;&gt; 16;\n        int v2 = (lplpBufStructure.dwFileVersionMS).intValue() &amp; 0xffff;\n        int v3 = (lplpBufStructure.dwFileVersionLS).intValue() &gt;&gt; 16;\n        int v4 = (lplpBufStructure.dwFileVersionLS).intValue() &amp; 0xffff;\n        System.out.println(\"Version: \" + v1 + \".\" + v2 + \".\" + v3 + \".\" + v4);\n        return new int[] { v1, v2, v3, v4 };\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2678223,"reputation":744,"user_id":2859462,"display_name":"Corrodias"},"score":0,"creation_date":1537582093,"post_id":32631091,"comment_id":91848980,"body_markdown":"This is true, but unfortunately, pecoff4j is imperfect and will choke on many, legitimate DLLs. I have submitted a few fixes (at least to one fork), but I just ran into another issue.","body":"This is true, but unfortunately, pecoff4j is imperfect and will choke on many, legitimate DLLs. I have submitted a few fixes (at least to one fork), but I just ran into another issue."}],"tags":[],"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442497339,"creation_date":1442495254,"answer_id":32631091,"question_id":6918022,"body_markdown":"There is a portable solution [explained here][1] (and this question is more or less a duplicate).\r\n\r\nBasically, windows executable use the PE format (and linux ones ELF) and you can use [the pecoff4j library][2] to read this information in a portable way.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/23848792/516188\r\n  [2]: https://github.com/kichik/pecoff4j","title":"Get Version Info for .exe","body":"<p>There is a portable solution <a href=\"https://stackoverflow.com/a/23848792/516188\">explained here</a> (and this question is more or less a duplicate).</p>\n\n<p>Basically, windows executable use the PE format (and linux ones ELF) and you can use <a href=\"https://github.com/kichik/pecoff4j\" rel=\"nofollow noreferrer\">the pecoff4j library</a> to read this information in a portable way.</p>\n"},{"tags":[],"owner":{"account_id":2671428,"reputation":1,"user_id":2308754,"display_name":"mdwheaton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668203758,"creation_date":1668203723,"answer_id":74408520,"question_id":6918022,"body_markdown":"Shell out to powershell if it&#39;s a windows program.\r\nThis bit gets the file version.\r\nOne and done:\r\n\r\n    $fileVersion = [System.Diagnostics.FileVersionInfo]::GetVersionInfo($FilePath).FileVersion","title":"Get Version Info for .exe","body":"<p>Shell out to powershell if it's a windows program.\nThis bit gets the file version.\nOne and done:</p>\n<pre><code>$fileVersion = [System.Diagnostics.FileVersionInfo]::GetVersionInfo($FilePath).FileVersion\n</code></pre>\n"}],"owner":{"account_id":450864,"reputation":3141,"user_id":846422,"accept_rate":69,"display_name":"GEverding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16551,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6942170,"answer_count":7,"score":9,"last_activity_date":1668203758,"creation_date":1312316077,"question_id":6918022,"body_markdown":"Does anybody know how got get the version info for a executable/file via Java.  The scenario is that I have a file on my local system and if the version on the server is newer then the one on my system I need to download the file from the server.  ","title":"Get Version Info for .exe","body":"<p>Does anybody know how got get the version info for a executable/file via Java.  The scenario is that I have a file on my local system and if the version on the server is newer then the one on my system I need to download the file from the server.  </p>\n"},{"tags":["java","amazon-web-services","jenkins","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1650463333,"post_id":71939914,"comment_id":127122642,"body_markdown":"Can you show the code you are using. It will help the community in trouble shooting your issue.","body":"Can you show the code you are using. It will help the community in trouble shooting your issue."}],"answers":[{"tags":[],"owner":{"account_id":4008086,"reputation":2250,"user_id":3302263,"display_name":"Pavel Bely"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650477066,"creation_date":1650477066,"answer_id":71944103,"question_id":71939914,"body_markdown":"Based on `TooManyApplicationVersionsException You cannot have more than 1000 Application Versions`\r\n\r\nYou need to remove some old application versions from Elastic beanstalk. You can do it [as described here][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-versions.html","title":"com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException while deploying code from Jenkins to elastic beanstalk","body":"<p>Based on <code>TooManyApplicationVersionsException You cannot have more than 1000 Application Versions</code></p>\n<p>You need to remove some old application versions from Elastic beanstalk. You can do it <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-versions.html\" rel=\"nofollow noreferrer\">as described here</a></p>\n"},{"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650487114,"creation_date":1650487114,"answer_id":71945930,"question_id":71939914,"body_markdown":"You need to remove previous versions - you can&#39;t go forever.  See the &quot;Deleting Previous Versions&quot; on &lt;a href=&quot;http://beanstalker.ingenieux.com.br/beanstalk-maven-plugin/setup-for-ci.html&quot;&gt;this page&lt;/a&gt;.  Based on the docs it looks like you&#39;ll want to run\r\n\r\n    mvn beanstalk:clean-previous-versions -Dbeanstalk.daysToKeep=1 \r\n\r\nif you want to remove by day or\r\n\r\n    mvn beanstalk:clean-previous-versions -Dbeanstalk.versionsToKeep=1 \r\n\r\nif you want to remove by versions.  This should be early in your build pipeline to clean up old versions.","title":"com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException while deploying code from Jenkins to elastic beanstalk","body":"<p>You need to remove previous versions - you can't go forever.  See the &quot;Deleting Previous Versions&quot; on <a href=\"http://beanstalker.ingenieux.com.br/beanstalk-maven-plugin/setup-for-ci.html\" rel=\"nofollow noreferrer\">this page</a>.  Based on the docs it looks like you'll want to run</p>\n<pre><code>mvn beanstalk:clean-previous-versions -Dbeanstalk.daysToKeep=1 \n</code></pre>\n<p>if you want to remove by day or</p>\n<pre><code>mvn beanstalk:clean-previous-versions -Dbeanstalk.versionsToKeep=1 \n</code></pre>\n<p>if you want to remove by versions.  This should be early in your build pipeline to clean up old versions.</p>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668202963,"creation_date":1668202963,"answer_id":74408421,"question_id":71939914,"body_markdown":"There are 04 options\r\n\r\n## #1 Manually deletetion\r\n\r\nDelete the versions manually in the aws web console\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://**us-east-x**.console.aws.amazon.com/elasticbeanstalk/home?region=**us-east-x**#/application/versions?applicationName=**acme-app**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n## #2 Configure auto deletion manually\r\n\r\nClick on settings\r\n\r\n[![enter image description here][3]][3]\r\n\r\nConfigure the version lifecycle \r\n\r\n[![enter image description here][4]][4]\r\n\r\nDetailed steps: https://www.bluekeyboard.com/2021/09/14/managing-application-versions-in-aws-elastic-beanstalk/\r\n\r\nOfficial source: https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-lifecycle.html\r\n\r\n## #3 Configure auto deletion using CLI\r\n\r\n```\r\nAWS_ACCOUNT=$(aws sts get-caller-identity | jq -r &#39;.Account&#39;)\r\n\r\nSERVICE_ROLE=arn:aws:iam::${AWS_ACCOUNT}:role/aws-elasticbeanstalk-service-role\r\n\r\naws elasticbeanstalk update-application-resource-lifecycle \\\r\n--application-name &lt;&lt;parameters.eb_app_name&gt;&gt; \\\r\n--resource-lifecycle-config &quot;ServiceRole=${SERVICE_ROLE},VersionLifecycleConfig={MaxCountRule={Enabled=true,MaxCount=10,DeleteSourceFromS3=true}}&quot;\r\n```\r\n\r\nSource: https://circleci.com/developer/orbs/orb/nikkei/nikkei-aws-eb\r\n\r\nPoor official guide: https://docs.aws.amazon.com/cli/latest/reference/elasticbeanstalk/update-application-resource-lifecycle.html\r\n\r\n## #4 Maven \r\n\r\nhttps://stackoverflow.com/a/71945930/3957754\r\n\r\n  [1]: https://i.stack.imgur.com/EjMIY.png\r\n  [2]: https://i.stack.imgur.com/ZFxi0.png\r\n  [3]: https://i.stack.imgur.com/ahzfF.png\r\n  [4]: https://i.stack.imgur.com/T2oxS.png","title":"com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException while deploying code from Jenkins to elastic beanstalk","body":"<p>There are 04 options</p>\n<h2>#1 Manually deletetion</h2>\n<p>Delete the versions manually in the aws web console</p>\n<p><a href=\"https://i.stack.imgur.com/EjMIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EjMIY.png\" alt=\"enter image description here\" /></a></p>\n<p>https://<strong>us-east-x</strong>.console.aws.amazon.com/elasticbeanstalk/home?region=<strong>us-east-x</strong>#/application/versions?applicationName=<strong>acme-app</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ZFxi0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFxi0.png\" alt=\"enter image description here\" /></a></p>\n<h2>#2 Configure auto deletion manually</h2>\n<p>Click on settings</p>\n<p><a href=\"https://i.stack.imgur.com/ahzfF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ahzfF.png\" alt=\"enter image description here\" /></a></p>\n<p>Configure the version lifecycle</p>\n<p><a href=\"https://i.stack.imgur.com/T2oxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2oxS.png\" alt=\"enter image description here\" /></a></p>\n<p>Detailed steps: <a href=\"https://www.bluekeyboard.com/2021/09/14/managing-application-versions-in-aws-elastic-beanstalk/\" rel=\"nofollow noreferrer\">https://www.bluekeyboard.com/2021/09/14/managing-application-versions-in-aws-elastic-beanstalk/</a></p>\n<p>Official source: <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-lifecycle.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-lifecycle.html</a></p>\n<h2>#3 Configure auto deletion using CLI</h2>\n<pre><code>AWS_ACCOUNT=$(aws sts get-caller-identity | jq -r '.Account')\n\nSERVICE_ROLE=arn:aws:iam::${AWS_ACCOUNT}:role/aws-elasticbeanstalk-service-role\n\naws elasticbeanstalk update-application-resource-lifecycle \\\n--application-name &lt;&lt;parameters.eb_app_name&gt;&gt; \\\n--resource-lifecycle-config &quot;ServiceRole=${SERVICE_ROLE},VersionLifecycleConfig={MaxCountRule={Enabled=true,MaxCount=10,DeleteSourceFromS3=true}}&quot;\n</code></pre>\n<p>Source: <a href=\"https://circleci.com/developer/orbs/orb/nikkei/nikkei-aws-eb\" rel=\"nofollow noreferrer\">https://circleci.com/developer/orbs/orb/nikkei/nikkei-aws-eb</a></p>\n<p>Poor official guide: <a href=\"https://docs.aws.amazon.com/cli/latest/reference/elasticbeanstalk/update-application-resource-lifecycle.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cli/latest/reference/elasticbeanstalk/update-application-resource-lifecycle.html</a></p>\n<h2>#4 Maven</h2>\n<p><a href=\"https://stackoverflow.com/a/71945930/3957754\">https://stackoverflow.com/a/71945930/3957754</a></p>\n"}],"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74408421,"answer_count":3,"score":1,"last_activity_date":1668202963,"creation_date":1650458804,"question_id":71939914,"body_markdown":"I am trying to deploy java webapp to elastic beanstalk. The build setup is configured in jenkins which automatically builds the code from git repository. There is a current environment running on elatic benastalk and I am trying to deploy the changes to same environmment. Any help would be appreciated.\r\n\r\n    Cleaning up temporary file /tmp/awseb-3661917639223333659.zip\r\n    ERROR: Failed to parse POMs\r\n    java.io.IOException: Deployment Failure\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.AWSEBDeploymentBuilder.perform(AWSEBDeploymentBuilder.java:197)\r\n    \tat hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:79)\r\n    \tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:741)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.build(MavenModuleSetBuild.java:946)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:896)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:504)\r\n    \tat hudson.model.Run.execute(Run.java:1818)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n    \tat hudson.model.Executor.run(Executor.java:429)\r\n    Caused by: java.util.concurrent.ExecutionException: com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException: You cannot have more than 1000 Application Versions. Either remove some Application Versions or request a limit increase. (Service: AWSElasticBeanstalk; Status Code: 400; Error Code: TooManyApplicationVersionsException; Request ID: 742c1239-08e0-463f-8471-8e52cbc1fb77)\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n    \tat hudson.remoting.LocalChannel$2.get(LocalChannel.java:77)\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.DeployerRunner.perform(DeployerRunner.java:71)\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.AWSEBDeploymentBuilder.perform(AWSEBDeploymentBuilder.java:193)\r\n    \t... 10 more\r\n    Caused by: com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException: You cannot have more than 1000 Application Versions. Either remove some Application Versions or request a limit increase. (Service: AWSElasticBeanstalk; Status Code: 400; Error Code: TooManyApplicationVersionsException; Request ID: 742c1239-08e0-463f-8471-8e52cbc1fb77)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1712)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1367)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1113)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:770)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:744)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:726)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:686)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:668)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:532)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:512)\r\n    \tat com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.doInvoke(AWSElasticBeanstalkClient.java:3191)\r\n    \tat com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.invoke(AWSElasticBeanstalkClient.java:3158)\r\n    \tat com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.invoke(AWSElasticBeanstalkClient.java:3147)\r\n    \tat com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.executeCreateApplicationVersion(AWSElasticBeanstalkClient.java:703)\r\n    \tat com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.createApplicationVersion(AWSElasticBeanstalkClient.java:674)\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.cmd.DeployerCommand$CreateApplicationVersion.perform(DeployerCommand.java:174)\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.cmd.DeployerChain.perform(DeployerChain.java:54)\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.SlaveDeployerCallable.call(SlaveDeployerCallable.java:42)\r\n    \tat br.com.ingenieux.jenkins.plugins.awsebdeployment.SlaveDeployerCallable.call(SlaveDeployerCallable.java:27)\r\n    \tat hudson.remoting.LocalChannel$1.call(LocalChannel.java:52)\r\n    \tat jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:46)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Finished: FAILURE","title":"com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException while deploying code from Jenkins to elastic beanstalk","body":"<p>I am trying to deploy java webapp to elastic beanstalk. The build setup is configured in jenkins which automatically builds the code from git repository. There is a current environment running on elatic benastalk and I am trying to deploy the changes to same environmment. Any help would be appreciated.</p>\n<pre><code>Cleaning up temporary file /tmp/awseb-3661917639223333659.zip\nERROR: Failed to parse POMs\njava.io.IOException: Deployment Failure\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.AWSEBDeploymentBuilder.perform(AWSEBDeploymentBuilder.java:197)\n    at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:79)\n    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:741)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.build(MavenModuleSetBuild.java:946)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:896)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:504)\n    at hudson.model.Run.execute(Run.java:1818)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\n    at hudson.model.ResourceController.execute(ResourceController.java:97)\n    at hudson.model.Executor.run(Executor.java:429)\nCaused by: java.util.concurrent.ExecutionException: com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException: You cannot have more than 1000 Application Versions. Either remove some Application Versions or request a limit increase. (Service: AWSElasticBeanstalk; Status Code: 400; Error Code: TooManyApplicationVersionsException; Request ID: 742c1239-08e0-463f-8471-8e52cbc1fb77)\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at hudson.remoting.LocalChannel$2.get(LocalChannel.java:77)\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.DeployerRunner.perform(DeployerRunner.java:71)\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.AWSEBDeploymentBuilder.perform(AWSEBDeploymentBuilder.java:193)\n    ... 10 more\nCaused by: com.amazonaws.services.elasticbeanstalk.model.TooManyApplicationVersionsException: You cannot have more than 1000 Application Versions. Either remove some Application Versions or request a limit increase. (Service: AWSElasticBeanstalk; Status Code: 400; Error Code: TooManyApplicationVersionsException; Request ID: 742c1239-08e0-463f-8471-8e52cbc1fb77)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1712)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1367)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1113)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:770)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:744)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:726)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:686)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:668)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:532)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:512)\n    at com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.doInvoke(AWSElasticBeanstalkClient.java:3191)\n    at com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.invoke(AWSElasticBeanstalkClient.java:3158)\n    at com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.invoke(AWSElasticBeanstalkClient.java:3147)\n    at com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.executeCreateApplicationVersion(AWSElasticBeanstalkClient.java:703)\n    at com.amazonaws.services.elasticbeanstalk.AWSElasticBeanstalkClient.createApplicationVersion(AWSElasticBeanstalkClient.java:674)\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.cmd.DeployerCommand$CreateApplicationVersion.perform(DeployerCommand.java:174)\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.cmd.DeployerChain.perform(DeployerChain.java:54)\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.SlaveDeployerCallable.call(SlaveDeployerCallable.java:42)\n    at br.com.ingenieux.jenkins.plugins.awsebdeployment.SlaveDeployerCallable.call(SlaveDeployerCallable.java:27)\n    at hudson.remoting.LocalChannel$1.call(LocalChannel.java:52)\n    at jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:46)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668197225,"post_id":74407505,"comment_id":131355453,"body_markdown":"yes, it is possible and normal. Seems, you missed something in: 1. &quot;compile &amp; build B&quot; (`mvn package` should be enough for most IDE&#39;s, `mvn install` is safer) or 2. &quot;imported to A&quot; (adding B as a `compile` dependency to A, should make all packages of B importable/accesible)","body":"yes, it is possible and normal. Seems, you missed something in: 1. &quot;compile &amp; build B&quot; (<code>mvn package</code> should be enough for most IDE&#39;s, <code>mvn install</code> is safer) or 2. &quot;imported to A&quot; (adding B as a <code>compile</code> dependency to A, should make all packages of B importable/accesible)"},{"owner":{"account_id":17162848,"reputation":16,"user_id":12422009,"display_name":"nixad g."},"score":0,"creation_date":1668197762,"post_id":74407505,"comment_id":131355587,"body_markdown":"Well, I did `mvn install` of Project B, and the pom.xml of Project A is seeing the imported dependency just fine. It is inside the class files I can&#39;t use Project B&#39;s classes.","body":"Well, I did <code>mvn install</code> of Project B, and the pom.xml of Project A is seeing the imported dependency just fine. It is inside the class files I can&#39;t use Project B&#39;s classes."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668495660,"post_id":74408274,"comment_id":131412385,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74408274/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17162848,"reputation":16,"user_id":12422009,"display_name":"nixad g."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668201875,"creation_date":1668201875,"answer_id":74408274,"question_id":74407505,"body_markdown":"I added Project B through the &quot;Add Maven Projects&quot; button on IntelliJ&#39;s Maven tab and the Project A started to compile without errors. So I guess the error was associated with IntelliJ.","title":"Maven - package does not exist, same package name prefix","body":"<p>I added Project B through the &quot;Add Maven Projects&quot; button on IntelliJ's Maven tab and the Project A started to compile without errors. So I guess the error was associated with IntelliJ.</p>\n"}],"owner":{"account_id":17162848,"reputation":16,"user_id":12422009,"display_name":"nixad g."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668201875,"creation_date":1668196427,"question_id":74407505,"body_markdown":"I have two Spring Boot projects. Project A has package com.abc.service. Project B has package com.abc.core.dto. Both have the same group ids.\r\n\r\nI want to use the classes from Project B on Project A. I compiled and built Project B and imported it to Project A through pom.xml, however, I can&#39;t import it as I&#39;m receiving &quot;package com.abc.core.dto does not exist&quot; error.\r\n\r\nAm I correct that I can&#39;t use the same package prefix across different projects?\r\n\r\nThanks.","title":"Maven - package does not exist, same package name prefix","body":"<p>I have two Spring Boot projects. Project A has package com.abc.service. Project B has package com.abc.core.dto. Both have the same group ids.</p>\n<p>I want to use the classes from Project B on Project A. I compiled and built Project B and imported it to Project A through pom.xml, however, I can't import it as I'm receiving &quot;package com.abc.core.dto does not exist&quot; error.</p>\n<p>Am I correct that I can't use the same package prefix across different projects?</p>\n<p>Thanks.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":2,"creation_date":1363191579,"post_id":15390756,"comment_id":21754861,"body_markdown":"You can&#39;t, because of type erasure.","body":"You can&#39;t, because of type erasure."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1363192225,"post_id":15390756,"comment_id":21755302,"body_markdown":"Java generics are not the same as C++ Templates.  With Java generics, the type is erased at compile time.  Google &quot;java type erasure&quot; for details.  This seems like a bad decision, but is actually a great decision; since it is fully backwards compatable with older java.","body":"Java generics are not the same as C++ Templates.  With Java generics, the type is erased at compile time.  Google &quot;java type erasure&quot; for details.  This seems like a bad decision, but is actually a great decision; since it is fully backwards compatable with older java."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1363197863,"post_id":15390756,"comment_id":21758790,"body_markdown":"possible duplicate of [Get generic type of class at runtime](http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">Get generic type of class at runtime</a>"}],"answers":[{"comments":[{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1564074745,"post_id":15390880,"comment_id":100920794,"body_markdown":"I stumbled into this by trying to understand [`List.toArray()`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray-T:A-) and man it&#39;s disappointing. I understand that type-erasure was done as a sort of cost/complexity cutting measure, but it really leaves things half-baked. At a minimum, and implicit `Class` parameters could have been added to generic functions, which allows the runtime to pipe in the metadata for generic type `E`.","body":"I stumbled into this by trying to understand <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray-T:A-\" rel=\"nofollow noreferrer\"><code>List.toArray()</code></a> and man it&#39;s disappointing. I understand that type-erasure was done as a sort of cost/complexity cutting measure, but it really leaves things half-baked. At a minimum, and implicit <code>Class</code> parameters could have been added to generic functions, which allows the runtime to pipe in the metadata for generic type <code>E</code>."}],"tags":[],"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1363191782,"creation_date":1363191782,"answer_id":15390880,"question_id":15390756,"body_markdown":"Without changing the constructor you can&#39;t learn anything about `E` at runtime that you didn&#39;t already know statically. That&#39;s because in Java, there just simply isn&#39;t any runtime effect of a generic parameter -- the compiler literally erases all references to `E` in the code it generates. So if you want code that can tell what class its type parameter is being instantiated with, you have to add in some kind of argument (e.g. a `Class` object) yourself. There&#39;s just no way around it.","title":"How to convert generic parameter to a class","body":"<p>Without changing the constructor you can't learn anything about <code>E</code> at runtime that you didn't already know statically. That's because in Java, there just simply isn't any runtime effect of a generic parameter -- the compiler literally erases all references to <code>E</code> in the code it generates. So if you want code that can tell what class its type parameter is being instantiated with, you have to add in some kind of argument (e.g. a <code>Class</code> object) yourself. There's just no way around it.</p>\n"},{"tags":[],"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363192447,"creation_date":1363192447,"answer_id":15391138,"question_id":15390756,"body_markdown":"Because generics are implemented in the Java language using type erasure, you cannot do anything that would require runtime type information. See [this page][1] for more info.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How to convert generic parameter to a class","body":"<p>Because generics are implemented in the Java language using type erasure, you cannot do anything that would require runtime type information. See <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow\">this page</a> for more info.</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1363203888,"post_id":15391144,"comment_id":21762127,"body_markdown":"This is not correct in general. For example, if I have `class Foo&lt;E&gt; extends BaseDaoImpl&lt;E&gt;` then you still won&#39;t be able to get it.","body":"This is not correct in general. For example, if I have <code>class Foo&lt;E&gt; extends BaseDaoImpl&lt;E&gt;</code> then you still won&#39;t be able to get it."},{"owner":{"account_id":1380055,"reputation":17338,"user_id":1313268,"accept_rate":88,"display_name":"CorayThan"},"score":0,"creation_date":1363204171,"post_id":15391144,"comment_id":21762311,"body_markdown":"It should work if you have `class Foo&lt;Admin&gt; extends BaseFoo&lt;? extends User&gt;` though. If you are trying to get the class of E, obviously you&#39;re going to have problems, as E isn&#39;t a class!","body":"It should work if you have <code>class Foo&lt;Admin&gt; extends BaseFoo&lt;? extends User&gt;</code> though. If you are trying to get the class of E, obviously you&#39;re going to have problems, as E isn&#39;t a class!"},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":0,"creation_date":1454099766,"post_id":15391144,"comment_id":57908934,"body_markdown":"Getting the `Type` is not the same as getting the `Class`","body":"Getting the <code>Type</code> is not the same as getting the <code>Class</code>"}],"tags":[],"owner":{"account_id":1380055,"reputation":17338,"user_id":1313268,"accept_rate":88,"display_name":"CorayThan"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1363192461,"creation_date":1363192461,"answer_id":15391144,"question_id":15390756,"body_markdown":"Already been [answered](https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime).\r\n\r\nBasically, you can&#39;t unless you use reflection.\r\n\r\nI wouldn&#39;t recommend using reflection, but if you want to, you should be able to use:\r\n\r\n    GenericClass.class.getTypeParameters()","title":"How to convert generic parameter to a class","body":"<p>Already been <a href=\"https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">answered</a>.</p>\n\n<p>Basically, you can't unless you use reflection.</p>\n\n<p>I wouldn't recommend using reflection, but if you want to, you should be able to use:</p>\n\n<pre><code>GenericClass.class.getTypeParameters()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1363203939,"post_id":15391379,"comment_id":21762166,"body_markdown":"&quot;It is possible&quot; Not in general. What if you instead have `class FooDao&lt;E&gt; implements BaseDao&lt;E&gt;`?","body":"&quot;It is possible&quot; Not in general. What if you instead have <code>class FooDao&lt;E&gt; implements BaseDao&lt;E&gt;</code>?"}],"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363193693,"creation_date":1363193039,"answer_id":15391379,"question_id":15390756,"body_markdown":"It is possible by reflection as pointed out by @CorayThan . A simple way to do it is from method signature\r\n\r\n    interface BaseDao&lt;E&gt;\r\n        E find(long id);\r\n\r\n    class FooDao implements BaseDao&lt;Foo&gt;\r\n        Foo find(long id)\r\n\r\nSo type E can be found through \r\n\r\n    this.getClass().getDeclaredMethod(&quot;find&quot;, long.class).getReturnType();\r\n\r\n---\r\n\r\nHowever, it *is* a very good option to pass a `Class` in the constructor. Because the constructor is not meant to be called by user codes, the verbosity is not an issue here. \r\n\r\n    abstract class BaseDaoImpl&lt;E&gt;\r\n\r\n        BaseDaoImpl(Class&lt;E&gt; clazz)\r\n\r\n    class FooDao extends BaseBaoImpl&lt;Foo&gt;\r\n\r\n        FooDao()\r\n            super(Foo.class);\r\n\r\n    // usages:\r\n\r\n    BaseDao&lt;Foo&gt; fooDao = new FooDao(); // clean &amp; simple API","title":"How to convert generic parameter to a class","body":"<p>It is possible by reflection as pointed out by @CorayThan . A simple way to do it is from method signature</p>\n\n<pre><code>interface BaseDao&lt;E&gt;\n    E find(long id);\n\nclass FooDao implements BaseDao&lt;Foo&gt;\n    Foo find(long id)\n</code></pre>\n\n<p>So type E can be found through </p>\n\n<pre><code>this.getClass().getDeclaredMethod(\"find\", long.class).getReturnType();\n</code></pre>\n\n<hr>\n\n<p>However, it <em>is</em> a very good option to pass a <code>Class</code> in the constructor. Because the constructor is not meant to be called by user codes, the verbosity is not an issue here. </p>\n\n<pre><code>abstract class BaseDaoImpl&lt;E&gt;\n\n    BaseDaoImpl(Class&lt;E&gt; clazz)\n\nclass FooDao extends BaseBaoImpl&lt;Foo&gt;\n\n    FooDao()\n        super(Foo.class);\n\n// usages:\n\nBaseDao&lt;Foo&gt; fooDao = new FooDao(); // clean &amp; simple API\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4108798,"reputation":3209,"user_id":3371954,"display_name":"Roberto Rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668201390,"creation_date":1668201390,"answer_id":74408210,"question_id":15390756,"body_markdown":"This works for me.\r\n  \r\n\r\n\r\n     public abstract class BaseDaoImpl&lt;E extends AbstractEntity&gt; implements BaseDaoImpl&lt;E&gt; {\r\n\r\n             protected final Class&lt;E&gt; type;\r\n        \r\n        \r\n        public BaseDaoImpl() {\r\n                this.type = (Class&lt;E&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n            }\r\n        \r\n         public Class&lt;E&gt; getType() {\r\n                return type;\r\n            }\r\n        \r\n            public BaseDaoImpl() throws DataAccessException {\r\n                logger = LoggerFactory.getLogger(  getType() );   \r\n            }\r\n        \r\n        }","title":"How to convert generic parameter to a class","body":"<p>This works for me.</p>\n<pre><code> public abstract class BaseDaoImpl&lt;E extends AbstractEntity&gt; implements BaseDaoImpl&lt;E&gt; {\n\n         protected final Class&lt;E&gt; type;\n    \n    \n    public BaseDaoImpl() {\n            this.type = (Class&lt;E&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n        }\n    \n     public Class&lt;E&gt; getType() {\n            return type;\n        }\n    \n        public BaseDaoImpl() throws DataAccessException {\n            logger = LoggerFactory.getLogger(  getType() );   \n        }\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":327869,"reputation":74762,"user_id":650492,"accept_rate":77,"display_name":"Johan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10456,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":15390880,"answer_count":5,"score":2,"last_activity_date":1668201390,"creation_date":1363191459,"question_id":15390756,"body_markdown":"    public abstract class BaseDaoImpl&lt;E extends AbstractEntity&gt; implements BaseDao&lt;E&gt; {\r\n    \r\n        .....\r\n    \r\n        public BaseDaoImpl() throws DataAccessException {\r\n            logger = LoggerFactory.getLogger(E);  &lt;&lt;-- error here.\r\n        }\r\n\r\nIn the above code I get a error in the call to `getLogger(E)`.\r\n\r\n&gt;E cannot be resolved to a variable\r\n\r\nThis makes sense, but `getLogger(E.class)` (or variants thereof) does not work either.\r\n\r\nI don&#39;t want to pass the literal class in the constructor, so a solution like changing the the constructor header to:  \r\n`public BaseDaoImpl(Class&lt;E&gt; clazz) ...` is not an option.\r\n\r\n**How do I get the class type from `E`?**\r\n\r\nNote that the answers to: https://stackoverflow.com/questions/8436055/how-to-get-class-of-generic-type-when-there-is-no-parameter-of-it   \r\ndo not help.","title":"How to convert generic parameter to a class","body":"<pre><code>public abstract class BaseDaoImpl&lt;E extends AbstractEntity&gt; implements BaseDao&lt;E&gt; {\n\n    .....\n\n    public BaseDaoImpl() throws DataAccessException {\n        logger = LoggerFactory.getLogger(E);  &lt;&lt;-- error here.\n    }\n</code></pre>\n\n<p>In the above code I get a error in the call to <code>getLogger(E)</code>.</p>\n\n<blockquote>\n  <p>E cannot be resolved to a variable</p>\n</blockquote>\n\n<p>This makes sense, but <code>getLogger(E.class)</code> (or variants thereof) does not work either.</p>\n\n<p>I don't want to pass the literal class in the constructor, so a solution like changing the the constructor header to:<br>\n<code>public BaseDaoImpl(Class&lt;E&gt; clazz) ...</code> is not an option.</p>\n\n<p><strong>How do I get the class type from <code>E</code>?</strong></p>\n\n<p>Note that the answers to: <a href=\"https://stackoverflow.com/questions/8436055/how-to-get-class-of-generic-type-when-there-is-no-parameter-of-it\">How to get class of generic type when there is no parameter of it?</a><br>\ndo not help.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":7606,"reputation":4033,"user_id":13262,"accept_rate":80,"display_name":"Joep"},"score":0,"creation_date":1430768512,"post_id":26291143,"comment_id":48193119,"body_markdown":"Did you ever find the answer to this question?","body":"Did you ever find the answer to this question?"}],"answers":[{"comments":[{"owner":{"account_id":5031377,"reputation":800,"user_id":4041435,"display_name":"Grant Lay"},"score":0,"creation_date":1466130353,"post_id":30087275,"comment_id":63200740,"body_markdown":"Great work @Joepie, saved me a couple of hours work.","body":"Great work @Joepie, saved me a couple of hours work."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":1,"creation_date":1525418461,"post_id":30087275,"comment_id":87356120,"body_markdown":"`readPage(javax.persistence.TypedQuery&lt;T&gt; query, Pageable pageable, @Nullable Specification&lt;T&gt; spec)` is now deprecated use `readPage(TypedQuery, Class, Pageable, Specification)`instead.","body":"<code>readPage(javax.persistence.TypedQuery&lt;T&gt; query, Pageable pageable, @Nullable Specification&lt;T&gt; spec)</code> is now deprecated use <code>readPage(TypedQuery, Class, Pageable, Specification)</code>instead."},{"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"score":0,"creation_date":1625056146,"post_id":30087275,"comment_id":120524821,"body_markdown":"In recent versions of Spring Data JPA (versions from `2.0` onwards), instead of `(Sort) null` use `Sort.unsorted()`","body":"In recent versions of Spring Data JPA (versions from <code>2.0</code> onwards), instead of <code>(Sort) null</code> use <code>Sort.unsorted()</code>"}],"tags":[],"owner":{"account_id":7606,"reputation":4033,"user_id":13262,"accept_rate":80,"display_name":"Joep"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1525365866,"creation_date":1430945432,"answer_id":30087275,"question_id":26291143,"body_markdown":"The solution is to create a custom repository interface that implements these features:\r\n\r\n    @NoRepositoryBean\r\n    public interface CustomRepository&lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;, JpaSpecificationExecutor&lt;T&gt; {\r\n\r\n        List&lt;T&gt; findAll(Specification&lt;T&gt; spec, EntityGraphType entityGraphType, String entityGraphName);\r\n        Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable, EntityGraphType entityGraphType, String entityGraphName);\r\n        List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort, EntityGraphType entityGraphType, String entityGraphName);\r\n        T findOne(Specification&lt;T&gt; spec, EntityGraphType entityGraphType, String entityGraphName);\r\n\r\n    }\r\n\r\nAlso create an implementation:\r\n\r\n    @NoRepositoryBean\r\n    public class CustomRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements CustomRepository&lt;T, ID&gt; {\r\n        \r\n        private EntityManager em;\r\n\r\n        public CustomRepositoryImpl(Class&lt;T&gt; domainClass, EntityManager em) {\r\n            super(domainClass, em);\r\n            this.em = em;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;T&gt; findAll(Specification&lt;T&gt; spec, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\r\n            TypedQuery&lt;T&gt; query = getQuery(spec, (Sort) null);\r\n            query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\r\n            return query.getResultList();\r\n        }\r\n\r\n        @Override\r\n        public Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\r\n            TypedQuery&lt;T&gt; query = getQuery(spec, pageable.getSort());\r\n            query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\r\n            return readPage(query, pageable, spec);\r\n        }\r\n\r\n        @Override\r\n        public List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\r\n            TypedQuery&lt;T&gt; query = getQuery(spec, sort);\r\n            query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\r\n            return query.getResultList();\r\n        }\r\n\r\n        @Override\r\n        public T findOne(Specification&lt;T&gt; spec, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\r\n            TypedQuery&lt;T&gt; query = getQuery(spec, (Sort) null);\r\n            query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\r\n            return query.getSingleResult();\r\n        }\r\n    }\r\n\r\nAnd create a factory:\r\n\r\n    public class CustomRepositoryFactoryBean&lt;R extends JpaRepository&lt;T, I&gt;, T, I extends Serializable&gt; extends JpaRepositoryFactoryBean&lt;R, T, I&gt; {\r\n\r\n        protected RepositoryFactorySupport createRepositoryFactory(EntityManager entityManager) {\r\n            return new CustomRepositoryFactory(entityManager);\r\n        }\r\n\r\n        private static class CustomRepositoryFactory&lt;T, I extends Serializable&gt; extends JpaRepositoryFactory {\r\n\r\n            private EntityManager entityManager;\r\n\r\n            public CustomRepositoryFactory(EntityManager entityManager) {\r\n                super(entityManager);\r\n                this.entityManager = entityManager;\r\n            }\r\n\r\n            protected Object getTargetRepository(RepositoryMetadata metadata) {\r\n                return new CustomRepositoryImpl&lt;T, I&gt;((Class&lt;T&gt;) metadata.getDomainType(), entityManager);\r\n            }\r\n\r\n            protected Class&lt;?&gt; getRepositoryBaseClass(RepositoryMetadata metadata) {\r\n                // The RepositoryMetadata can be safely ignored, it is used by the JpaRepositoryFactory\r\n                //to check for QueryDslJpaRepository&#39;s which is out of scope.\r\n                return CustomRepository.class;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nAnd change the default repository factory bean to the new bean, e.g. in spring boot add this to the configuration:\r\n\r\n    @EnableJpaRepositories(\r\n        basePackages = {&quot;your.package&quot;},\r\n        repositoryFactoryBeanClass = CustomRepositoryFactoryBean.class\r\n    )\r\n\r\nFor more info about custom repositories: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>The solution is to create a custom repository interface that implements these features:</p>\n\n<pre><code>@NoRepositoryBean\npublic interface CustomRepository&lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;, JpaSpecificationExecutor&lt;T&gt; {\n\n    List&lt;T&gt; findAll(Specification&lt;T&gt; spec, EntityGraphType entityGraphType, String entityGraphName);\n    Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable, EntityGraphType entityGraphType, String entityGraphName);\n    List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort, EntityGraphType entityGraphType, String entityGraphName);\n    T findOne(Specification&lt;T&gt; spec, EntityGraphType entityGraphType, String entityGraphName);\n\n}\n</code></pre>\n\n<p>Also create an implementation:</p>\n\n<pre><code>@NoRepositoryBean\npublic class CustomRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements CustomRepository&lt;T, ID&gt; {\n\n    private EntityManager em;\n\n    public CustomRepositoryImpl(Class&lt;T&gt; domainClass, EntityManager em) {\n        super(domainClass, em);\n        this.em = em;\n    }\n\n    @Override\n    public List&lt;T&gt; findAll(Specification&lt;T&gt; spec, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\n        TypedQuery&lt;T&gt; query = getQuery(spec, (Sort) null);\n        query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\n        return query.getResultList();\n    }\n\n    @Override\n    public Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\n        TypedQuery&lt;T&gt; query = getQuery(spec, pageable.getSort());\n        query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\n        return readPage(query, pageable, spec);\n    }\n\n    @Override\n    public List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\n        TypedQuery&lt;T&gt; query = getQuery(spec, sort);\n        query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\n        return query.getResultList();\n    }\n\n    @Override\n    public T findOne(Specification&lt;T&gt; spec, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\n        TypedQuery&lt;T&gt; query = getQuery(spec, (Sort) null);\n        query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\n        return query.getSingleResult();\n    }\n}\n</code></pre>\n\n<p>And create a factory:</p>\n\n<pre><code>public class CustomRepositoryFactoryBean&lt;R extends JpaRepository&lt;T, I&gt;, T, I extends Serializable&gt; extends JpaRepositoryFactoryBean&lt;R, T, I&gt; {\n\n    protected RepositoryFactorySupport createRepositoryFactory(EntityManager entityManager) {\n        return new CustomRepositoryFactory(entityManager);\n    }\n\n    private static class CustomRepositoryFactory&lt;T, I extends Serializable&gt; extends JpaRepositoryFactory {\n\n        private EntityManager entityManager;\n\n        public CustomRepositoryFactory(EntityManager entityManager) {\n            super(entityManager);\n            this.entityManager = entityManager;\n        }\n\n        protected Object getTargetRepository(RepositoryMetadata metadata) {\n            return new CustomRepositoryImpl&lt;T, I&gt;((Class&lt;T&gt;) metadata.getDomainType(), entityManager);\n        }\n\n        protected Class&lt;?&gt; getRepositoryBaseClass(RepositoryMetadata metadata) {\n            // The RepositoryMetadata can be safely ignored, it is used by the JpaRepositoryFactory\n            //to check for QueryDslJpaRepository's which is out of scope.\n            return CustomRepository.class;\n        }\n    }\n\n}\n</code></pre>\n\n<p>And change the default repository factory bean to the new bean, e.g. in spring boot add this to the configuration:</p>\n\n<pre><code>@EnableJpaRepositories(\n    basePackages = {\"your.package\"},\n    repositoryFactoryBeanClass = CustomRepositoryFactoryBean.class\n)\n</code></pre>\n\n<p>For more info about custom repositories: <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories</a></p>\n"},{"tags":[],"owner":{"account_id":7819000,"reputation":101,"user_id":5912665,"display_name":"pbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466975660,"creation_date":1466975660,"answer_id":38043243,"question_id":26291143,"body_markdown":"The Joepie response is O.K.\r\n\r\nbut you don&#39;t need to create repositoryFactoryBeanClass, set up repositoryBaseClass\r\n\r\n    @EnableJpaRepositories(\r\n\t\tbasePackages = {&quot;your.package&quot;},\r\n\t\trepositoryBaseClass = CustomRepositoryImpl.class)","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>The Joepie response is O.K.</p>\n\n<p>but you don't need to create repositoryFactoryBeanClass, set up repositoryBaseClass</p>\n\n<pre><code>@EnableJpaRepositories(\n    basePackages = {\"your.package\"},\n    repositoryBaseClass = CustomRepositoryImpl.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8532353,"reputation":293,"user_id":8956420,"display_name":"Kruschenstein"},"score":1,"creation_date":1594801467,"post_id":50170303,"comment_id":111250391,"body_markdown":"You could simply use the SimpleJpaRepository `getDomainClass()` method instead (https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/support/SimpleJpaRepository.html#getDomainClass--)","body":"You could simply use the SimpleJpaRepository <code>getDomainClass()</code> method instead (<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/support/SimpleJpaRepository.html#getDomainClass--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/api/org/&hellip;</a>)"}],"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525425409,"creation_date":1525421768,"answer_id":50170303,"question_id":26291143,"body_markdown":"To complement the answers of [Joep](https://stackoverflow.com/users/13262/joep) and [pbo](https://stackoverflow.com/users/5912665/pbo), I have to say that with new versions of Spring Data JPA, you will have to modify the constructor of `CustomRepositoryImpl`. Now the [documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.customize-base-repository) says:\r\n&gt; \tThe class needs to have a constructor of the super class which the store-specific repository factory implementation is using. In case the repository base class has multiple constructors, override the one taking an EntityInformation plus a store specific infrastructure object (e.g. an EntityManager or a template class).\r\n\r\nI use the following constructor:\r\n\r\n    public CustomRepositoryImpl(JpaEntityInformation&lt;T,?&gt; entityInformation, EntityManager em) {\r\n        super(entityInformation, em);\r\n        this.domainClass = entityInformation.getJavaType();\r\n        this.em = em;\r\n    }\r\n\r\nI&#39;ve also added a private field to store the domain class:\r\n\r\n    private final Class&lt;T&gt; domainClass;\r\n\r\nThis allow me to get rid of the deprecated method `readPage(javax.persistence.TypedQuery&lt;T&gt; query, Pageable pageable, @Nullable Specification&lt;T&gt; spec)` and use instead:\r\n\r\n    @Override\r\n    public Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\r\n        TypedQuery&lt;T&gt; query = getQuery(spec, pageable.getSort());\r\n        query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\r\n        return readPage(query, domainClass, pageable, spec);\r\n     }","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>To complement the answers of <a href=\"https://stackoverflow.com/users/13262/joep\">Joep</a> and <a href=\"https://stackoverflow.com/users/5912665/pbo\">pbo</a>, I have to say that with new versions of Spring Data JPA, you will have to modify the constructor of <code>CustomRepositoryImpl</code>. Now the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.customize-base-repository\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>The class needs to have a constructor of the super class which the store-specific repository factory implementation is using. In case the repository base class has multiple constructors, override the one taking an EntityInformation plus a store specific infrastructure object (e.g. an EntityManager or a template class).</p>\n</blockquote>\n\n<p>I use the following constructor:</p>\n\n<pre><code>public CustomRepositoryImpl(JpaEntityInformation&lt;T,?&gt; entityInformation, EntityManager em) {\n    super(entityInformation, em);\n    this.domainClass = entityInformation.getJavaType();\n    this.em = em;\n}\n</code></pre>\n\n<p>I've also added a private field to store the domain class:</p>\n\n<pre><code>private final Class&lt;T&gt; domainClass;\n</code></pre>\n\n<p>This allow me to get rid of the deprecated method <code>readPage(javax.persistence.TypedQuery&lt;T&gt; query, Pageable pageable, @Nullable Specification&lt;T&gt; spec)</code> and use instead:</p>\n\n<pre><code>@Override\npublic Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable, EntityGraph.EntityGraphType entityGraphType, String entityGraphName) {\n    TypedQuery&lt;T&gt; query = getQuery(spec, pageable.getSort());\n    query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\n    return readPage(query, domainClass, pageable, spec);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3755506,"reputation":2822,"user_id":3121951,"accept_rate":86,"display_name":"Tomas Pinos"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1547726265,"creation_date":1547726265,"answer_id":54235444,"question_id":26291143,"body_markdown":"Project [Spring Data JPA EntityGraph][1] implements some of the approaches mentioned in the other answers.\r\n\r\nIt has for example these additional repository interfaces:\r\n\r\n - `EntityGraphJpaRepository` which is equivalent to standard `JpaRepository`\r\n - `EntityGraphJpaSpecificationExecutor` which is equivalent to standard `JpaSpecificationExecutor`\r\n\r\nCheck the [reference documentation][2] for some examples.\r\n\r\n\r\n  [1]: https://github.com/Cosium/spring-data-jpa-entity-graph\r\n  [2]: https://github.com/Cosium/spring-data-jpa-entity-graph/blob/master/doc/MAIN.md","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>Project <a href=\"https://github.com/Cosium/spring-data-jpa-entity-graph\" rel=\"noreferrer\">Spring Data JPA EntityGraph</a> implements some of the approaches mentioned in the other answers.</p>\n\n<p>It has for example these additional repository interfaces:</p>\n\n<ul>\n<li><code>EntityGraphJpaRepository</code> which is equivalent to standard <code>JpaRepository</code></li>\n<li><code>EntityGraphJpaSpecificationExecutor</code> which is equivalent to standard <code>JpaSpecificationExecutor</code></li>\n</ul>\n\n<p>Check the <a href=\"https://github.com/Cosium/spring-data-jpa-entity-graph/blob/master/doc/MAIN.md\" rel=\"noreferrer\">reference documentation</a> for some examples.</p>\n"},{"comments":[{"owner":{"account_id":3265405,"reputation":333,"user_id":2750004,"display_name":"John Smith"},"score":2,"creation_date":1605279434,"post_id":57005745,"comment_id":114609813,"body_markdown":"Very elegant solution. Thanks :-)","body":"Very elegant solution. Thanks :-)"},{"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"score":0,"creation_date":1607769664,"post_id":57005745,"comment_id":115380417,"body_markdown":"@vteraz I can&#39;t get this to work on the overridden `findById` of JpaRepository using a NamedEntityGraph declared on the Entity. What&#39;s the difference to the example above? Declaring a new method `findWithAttributesAll` will respect the NamedEntityGraph.","body":"@vteraz I can&#39;t get this to work on the overridden <code>findById</code> of JpaRepository using a NamedEntityGraph declared on the Entity. What&#39;s the difference to the example above? Declaring a new method <code>findWithAttributesAll</code> will respect the NamedEntityGraph."},{"owner":{"account_id":15166554,"reputation":191,"user_id":10943910,"display_name":"vteraz"},"score":0,"creation_date":1607952653,"post_id":57005745,"comment_id":115425262,"body_markdown":"it works for me even with the `@NamedEntityGraph`. Can you post an example of your case?","body":"it works for me even with the <code>@NamedEntityGraph</code>. Can you post an example of your case?"},{"owner":{"account_id":61884,"reputation":22496,"user_id":184184,"accept_rate":67,"display_name":"Raj"},"score":0,"creation_date":1627130432,"post_id":57005745,"comment_id":121077294,"body_markdown":"Is there a way to use this solution for loading multiple OneToMany associations?","body":"Is there a way to use this solution for loading multiple OneToMany associations?"},{"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"score":0,"creation_date":1697226138,"post_id":57005745,"comment_id":136258288,"body_markdown":"This doesn&#39;t seem to work with me when I also have the page: Pageable parameter, any page size greater than 0 returns odd results..","body":"This doesn&#39;t seem to work with me when I also have the page: Pageable parameter, any page size greater than 0 returns odd results.."}],"tags":[],"owner":{"account_id":15166554,"reputation":191,"user_id":10943910,"display_name":"vteraz"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1564670907,"creation_date":1562929642,"answer_id":57005745,"question_id":26291143,"body_markdown":"I managed to implement this with overriding of `findAll` method and adding to it annotation `@EntityGraph`:\r\n\r\n    public interface BookRepository extends JpaSpecificationExecutor&lt;Book&gt; {\r\n       @Override\r\n       @EntityGraph(attributePaths = {&quot;book.author&quot;})\r\n       List&lt;Book&gt; findAll(Specification&lt;Book&gt; spec);\r\n    }","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>I managed to implement this with overriding of <code>findAll</code> method and adding to it annotation <code>@EntityGraph</code>:</p>\n\n<pre><code>public interface BookRepository extends JpaSpecificationExecutor&lt;Book&gt; {\n   @Override\n   @EntityGraph(attributePaths = {\"book.author\"})\n   List&lt;Book&gt; findAll(Specification&lt;Book&gt; spec);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3752183,"reputation":1302,"user_id":3119452,"display_name":"Clayton K. N. Passos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618437887,"creation_date":1618437887,"answer_id":67099691,"question_id":26291143,"body_markdown":"Factory of repository bean is not necessary by the way. Do you need just a simple Bean.\r\n\r\nYou can see my full examples here: https://github.com/netstart/POCs/tree/master/jpa/jpaspecification-whith-entity-graph\r\n\r\n\r\n\r\n ```\r\n\r\nimport com.specgraph.entitygraph.model.Characteristic;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.domain.Specification;\r\nimport org.springframework.data.jpa.repository.EntityGraph;\r\nimport org.springframework.data.jpa.repository.EntityGraph.EntityGraphType;\r\nimport org.springframework.data.jpa.repository.support.SimpleJpaRepository;\r\nimport org.springframework.data.repository.NoRepositoryBean;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.TypedQuery;\r\n\r\n@NoRepositoryBean\r\npublic class CharacteristicsJpaSpecificationRepository extends SimpleJpaRepository&lt;Characteristic, Long&gt; {\r\n\r\n    private final EntityManager em;\r\n\r\n    public CharacteristicsJpaSpecificationRepository(Class&lt;Characteristic&gt; domainClass, EntityManager em) {\r\n        super(domainClass, em);\r\n        this.em = em;\r\n    }\r\n\r\n    public Page&lt;Characteristic&gt; findByTypeUsingSpecification(String type, Pageable pageable) {\r\n        Specification&lt;Characteristic&gt; spec =\r\n            (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;type&quot;), type);\r\n\r\n        return findAll(spec, pageable, EntityGraphType.FETCH, &quot;Characteristic.item&quot;);\r\n    }\r\n\r\n    public Page&lt;Characteristic&gt; findAll(Specification&lt;Characteristic&gt; spec,\r\n                                        Pageable pageable,\r\n                                        EntityGraph.EntityGraphType entityGraphType,\r\n                                        String entityGraphName) {\r\n\r\n        TypedQuery&lt;Characteristic&gt; query = getQuery(spec, pageable.getSort());\r\n        query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\r\n        return readPage(query, Characteristic.class, pageable, spec);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\nimport com.specgraph.entitygraph.model.Characteristic;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\n\r\n@Configuration\r\npublic class MyRepositoryConfiguration {\r\n\r\n    @PersistenceContext // this will inject em in your class\r\n    private EntityManager em;\r\n\r\n    @Bean\r\n    public CharacteristicsJpaSpecificationRepository getCharacteristicsJpaSpecificationRepository() {\r\n        return new CharacteristicsJpaSpecificationRepository(Characteristic.class, em);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\nimport com.specgraph.entitygraph.model.Characteristic;\r\nimport com.specgraph.entitygraph.repository.specentitygraph.CharacteristicsJpaSpecificationRepository;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.test.context.jdbc.Sql;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@DataJpaTest\r\n@Sql(scripts = &quot;/entitygraph-data.sql&quot;)\r\npublic class CharacteristicsJpaSpecificationTest2 {\r\n\r\n    @Autowired\r\n    private CharacteristicsJpaSpecificationRepository characteristicsJpaSpecificationRepository;\r\n\r\n    @Test\r\n    public void find() {\r\n        int pageNumber = 1;\r\n        int pageSize = 10;\r\n        PageRequest pageable = PageRequest.of(pageNumber, pageSize);\r\n\r\n        Page&lt;Characteristic&gt; page =\r\n            characteristicsJpaSpecificationRepository.findByTypeUsingSpecification(&quot;Rigid&quot;, pageable);\r\n\r\n        assertThat(page.getTotalElements()).isEqualTo(1);\r\n    }\r\n\r\n}\r\n```","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>Factory of repository bean is not necessary by the way. Do you need just a simple Bean.</p>\n<p>You can see my full examples here: <a href=\"https://github.com/netstart/POCs/tree/master/jpa/jpaspecification-whith-entity-graph\" rel=\"nofollow noreferrer\">https://github.com/netstart/POCs/tree/master/jpa/jpaspecification-whith-entity-graph</a></p>\n<pre><code>\nimport com.specgraph.entitygraph.model.Characteristic;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.data.jpa.repository.EntityGraph;\nimport org.springframework.data.jpa.repository.EntityGraph.EntityGraphType;\nimport org.springframework.data.jpa.repository.support.SimpleJpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.TypedQuery;\n\n@NoRepositoryBean\npublic class CharacteristicsJpaSpecificationRepository extends SimpleJpaRepository&lt;Characteristic, Long&gt; {\n\n   private final EntityManager em;\n\n   public CharacteristicsJpaSpecificationRepository(Class&lt;Characteristic&gt; domainClass, EntityManager em) {\n       super(domainClass, em);\n       this.em = em;\n   }\n\n   public Page&lt;Characteristic&gt; findByTypeUsingSpecification(String type, Pageable pageable) {\n       Specification&lt;Characteristic&gt; spec =\n           (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;type&quot;), type);\n\n       return findAll(spec, pageable, EntityGraphType.FETCH, &quot;Characteristic.item&quot;);\n   }\n\n   public Page&lt;Characteristic&gt; findAll(Specification&lt;Characteristic&gt; spec,\n                                       Pageable pageable,\n                                       EntityGraph.EntityGraphType entityGraphType,\n                                       String entityGraphName) {\n\n       TypedQuery&lt;Characteristic&gt; query = getQuery(spec, pageable.getSort());\n       query.setHint(entityGraphType.getKey(), em.getEntityGraph(entityGraphName));\n       return readPage(query, Characteristic.class, pageable, spec);\n   }\n\n}\n</code></pre>\n<pre><code>\nimport com.specgraph.entitygraph.model.Characteristic;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\n@Configuration\npublic class MyRepositoryConfiguration {\n\n    @PersistenceContext // this will inject em in your class\n    private EntityManager em;\n\n    @Bean\n    public CharacteristicsJpaSpecificationRepository getCharacteristicsJpaSpecificationRepository() {\n        return new CharacteristicsJpaSpecificationRepository(Characteristic.class, em);\n    }\n\n}\n</code></pre>\n<pre><code>\nimport com.specgraph.entitygraph.model.Characteristic;\nimport com.specgraph.entitygraph.repository.specentitygraph.CharacteristicsJpaSpecificationRepository;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.test.context.jdbc.Sql;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@DataJpaTest\n@Sql(scripts = &quot;/entitygraph-data.sql&quot;)\npublic class CharacteristicsJpaSpecificationTest2 {\n\n    @Autowired\n    private CharacteristicsJpaSpecificationRepository characteristicsJpaSpecificationRepository;\n\n    @Test\n    public void find() {\n        int pageNumber = 1;\n        int pageSize = 10;\n        PageRequest pageable = PageRequest.of(pageNumber, pageSize);\n\n        Page&lt;Characteristic&gt; page =\n            characteristicsJpaSpecificationRepository.findByTypeUsingSpecification(&quot;Rigid&quot;, pageable);\n\n        assertThat(page.getTotalElements()).isEqualTo(1);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535019,"reputation":981,"user_id":1431303,"accept_rate":29,"display_name":"Bartosz Popiela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668200518,"creation_date":1637006736,"answer_id":69980215,"question_id":26291143,"body_markdown":"Take a look at [Composite Specification API](https://bartoszpop.github.io/composite-specification), it does what you need. [This](https://github.com/bartoszpop/composite-specification/tree/main/src/main/java/io/github/bartoszpop/jpa/specification/CompositeSpecification.java) class implements the [Specification](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html) interface and may be composed as in the [example](https://github.com/bartoszpop/composite-specification/blob/main/src/example/java/io/github/bartoszpop/jpa/specification/example/DepartmentApplication.java).\r\nIn your case to fetch parents with surname &quot;Doe&quot; and their children born before 1.1.1990, you will need the specifications:\r\n```java\r\npublic final class ParentSpecifications {\r\n\r\n    private ParentSpecifications() {\r\n    }\r\n\r\n    public static &lt;S extends Path&lt;Parent&gt;&gt; CompositeSpecification&lt;Parent, S&gt; surname(String surname) {\r\n        return CompositeSpecification.&lt;Parent, S, TypeSafePredicateBuilder&lt;Path&lt;Parent&gt;&gt;&gt;of(\r\n                (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;surname&quot;), surname)\r\n        );\r\n    }\r\n\r\n    public static &lt;S extends From&lt;?, Parent&gt;&gt; CompositeSpecification&lt;Parent, S&gt; fetchChildren(CompositeSpecification&lt;?, ? super Join&lt;?, Child&gt;&gt; childSpecification) {\r\n        return CompositeSpecification.&lt;Parent, S, TypeSafePredicateBuilder&lt;From&lt;?, Parent&gt;&gt;&gt;of(\r\n                (root, query, criteriaBuilder) -&gt; {\r\n                    query.distinct(true);\r\n                    return childSpecification.asBuilder().toPredicate((Join&lt;Parent, Child&gt;) root.&lt;Parent, Child&gt;fetch(&quot;children&quot;, JoinType.LEFT), query, criteriaBuilder);\r\n                });\r\n    }\r\n}\r\n\r\npublic final class ChildSpecifications {\r\n\r\n    private ChildSpecifications() {\r\n    }\r\n    \r\n    public static &lt;S extends Path&lt;Child&gt;&gt; CompositeSpecification&lt;Child, S&gt; dateOfBirth(CompositeSpecification&lt;?, ? super Path&lt;LocalDate&gt;&gt; dateOfBirthSpecification) {\r\n        return CompositeSpecification.&lt;Child, S, TypeSafePredicateBuilder&lt;Path&lt;Child&gt;&gt;&gt;of(\r\n                (root, query, criteriaBuilder) -&gt; dateOfBirthSpecification.asBuilder().toPredicate(root.get(&quot;dateOfBirth&quot;), query, criteriaBuilder)\r\n        );\r\n    }\r\n}\r\n```\r\nand the query:\r\n```\r\nvar parents = parentRepository.findAll(surname(&quot;Doe&quot;).and(fetchChildren(dateOfBirth(lessThan(LocalDate.of(1990,1,1))))));\r\n```","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>Take a look at <a href=\"https://bartoszpop.github.io/composite-specification\" rel=\"nofollow noreferrer\">Composite Specification API</a>, it does what you need. <a href=\"https://github.com/bartoszpop/composite-specification/tree/main/src/main/java/io/github/bartoszpop/jpa/specification/CompositeSpecification.java\" rel=\"nofollow noreferrer\">This</a> class implements the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html\" rel=\"nofollow noreferrer\">Specification</a> interface and may be composed as in the <a href=\"https://github.com/bartoszpop/composite-specification/blob/main/src/example/java/io/github/bartoszpop/jpa/specification/example/DepartmentApplication.java\" rel=\"nofollow noreferrer\">example</a>.\nIn your case to fetch parents with surname &quot;Doe&quot; and their children born before 1.1.1990, you will need the specifications:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class ParentSpecifications {\n\n    private ParentSpecifications() {\n    }\n\n    public static &lt;S extends Path&lt;Parent&gt;&gt; CompositeSpecification&lt;Parent, S&gt; surname(String surname) {\n        return CompositeSpecification.&lt;Parent, S, TypeSafePredicateBuilder&lt;Path&lt;Parent&gt;&gt;&gt;of(\n                (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;surname&quot;), surname)\n        );\n    }\n\n    public static &lt;S extends From&lt;?, Parent&gt;&gt; CompositeSpecification&lt;Parent, S&gt; fetchChildren(CompositeSpecification&lt;?, ? super Join&lt;?, Child&gt;&gt; childSpecification) {\n        return CompositeSpecification.&lt;Parent, S, TypeSafePredicateBuilder&lt;From&lt;?, Parent&gt;&gt;&gt;of(\n                (root, query, criteriaBuilder) -&gt; {\n                    query.distinct(true);\n                    return childSpecification.asBuilder().toPredicate((Join&lt;Parent, Child&gt;) root.&lt;Parent, Child&gt;fetch(&quot;children&quot;, JoinType.LEFT), query, criteriaBuilder);\n                });\n    }\n}\n\npublic final class ChildSpecifications {\n\n    private ChildSpecifications() {\n    }\n    \n    public static &lt;S extends Path&lt;Child&gt;&gt; CompositeSpecification&lt;Child, S&gt; dateOfBirth(CompositeSpecification&lt;?, ? super Path&lt;LocalDate&gt;&gt; dateOfBirthSpecification) {\n        return CompositeSpecification.&lt;Child, S, TypeSafePredicateBuilder&lt;Path&lt;Child&gt;&gt;&gt;of(\n                (root, query, criteriaBuilder) -&gt; dateOfBirthSpecification.asBuilder().toPredicate(root.get(&quot;dateOfBirth&quot;), query, criteriaBuilder)\n        );\n    }\n}\n</code></pre>\n<p>and the query:</p>\n<pre><code>var parents = parentRepository.findAll(surname(&quot;Doe&quot;).and(fetchChildren(dateOfBirth(lessThan(LocalDate.of(1990,1,1))))));\n</code></pre>\n"}],"owner":{"account_id":1917660,"reputation":947,"user_id":1729902,"accept_rate":80,"display_name":"Kerby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21839,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":7,"score":29,"last_activity_date":1668200518,"creation_date":1412909021,"question_id":26291143,"body_markdown":"(Using Spring Data JPA) I have two entities `Parent`&amp; `Child` with a OneToMany/ManyToOne bi-directional relationship between them.  I add a [`@NamedEntityGraph`][1] to the parent entity like so:\r\n\r\n    @Entity\r\n    @NamedEntityGraph(name = &quot;Parent.Offspring&quot;, attributeNodes = @NamedAttributeNodes(&quot;children&quot;))\r\n    public class Parent{\r\n    //blah blah blah\r\n     \r\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY)\r\n    Set&lt;Child&gt; children;\r\n        \r\n    //blah blah blah\r\n    }\r\n\r\nNotice that the fetch type for the Parent&#39;s children is LAZY.  This is on purpose.  I don&#39;t always want to eager load the children when I&#39;m querying an individual parent.  Normally I could use my named entity graph to eager load the children on-demand, so to speak.  But.....\r\n\r\n\r\nThere is a specific situation where I&#39;d like to query for one or more parents AND eager load their children.  In addition to this I need to be able to build this query programmatically.  Spring Data provides the [JpaSpecificationExecutor][2] which allows one to build dynamic queries, but I can&#39;t figure out how to use it in conjunction with entity graphs for eager loading children in this specific case.  Is this even possible?  Is there some other way to eager load &#39;toMany entities using specifications?\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","title":"Spring Data JPA + JpaSpecificationExecutor + EntityGraph","body":"<p>(Using Spring Data JPA) I have two entities <code>Parent</code>&amp; <code>Child</code> with a OneToMany/ManyToOne bi-directional relationship between them.  I add a <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"noreferrer\"><code>@NamedEntityGraph</code></a> to the parent entity like so:</p>\n\n<pre><code>@Entity\n@NamedEntityGraph(name = \"Parent.Offspring\", attributeNodes = @NamedAttributeNodes(\"children\"))\npublic class Parent{\n//blah blah blah\n\n@OneToMany(mappedBy = \"parent\", fetch = FetchType.LAZY)\nSet&lt;Child&gt; children;\n\n//blah blah blah\n}\n</code></pre>\n\n<p>Notice that the fetch type for the Parent's children is LAZY.  This is on purpose.  I don't always want to eager load the children when I'm querying an individual parent.  Normally I could use my named entity graph to eager load the children on-demand, so to speak.  But.....</p>\n\n<p>There is a specific situation where I'd like to query for one or more parents AND eager load their children.  In addition to this I need to be able to build this query programmatically.  Spring Data provides the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"noreferrer\">JpaSpecificationExecutor</a> which allows one to build dynamic queries, but I can't figure out how to use it in conjunction with entity graphs for eager loading children in this specific case.  Is this even possible?  Is there some other way to eager load 'toMany entities using specifications?</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668200344,"post_id":74406494,"comment_id":131356216,"body_markdown":"Did you have a question?","body":"Did you have a question?"},{"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"score":0,"creation_date":1668200384,"post_id":74406494,"comment_id":131356225,"body_markdown":"The nulls are occurring during the merge step, i.e. (left, right) -&gt; left . I don&#39;t understanding how there could be nulls when there are no null keys in the map","body":"The nulls are occurring during the merge step, i.e. (left, right) -&gt; left . I don&#39;t understanding how there could be nulls when there are no null keys in the map"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668200806,"post_id":74406494,"comment_id":131356331,"body_markdown":"Map returns null if the key is missing.","body":"Map returns null if the key is missing."}],"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668200156,"creation_date":1668189733,"question_id":74406494,"body_markdown":"I am attempting to create a `Map&lt;ProductKey, ProductDetail&gt;` for a list of `Products` that need to have their `ProductDetail` added to them. The `ProductDetail` object is read from a database from a service `ProductDetailLookUpService`. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the `ProductDetail` and similar roducts may share the same ProductDetail.  Here are the basic classes that make up the relationships. However when I perform the merge I get a `NullPointerException`.\r\n\r\nHere are the classes:\r\n\r\n```java\r\n@Data\r\nstatic class ProductKey{\r\n\t@EqualsAndHashCode.Include\r\n\tprivate Long productCode;\r\n\t@EqualsAndHashCode.Include\r\n\tprivate Long productDetailCode;\r\n}\r\n\r\n@Data\r\nclass Product {\r\n\t@EqualsAndHashCode.Include\r\n\tprivate ProductKey productKey;\r\n\t@EqualsAndHashCode.Include\r\n\tprivate ProductDetail productDetail;\r\n}\r\n\r\n@Data\r\nclass ProductDetail{\r\n\t@EqualsAndHashCode.Include\r\n\tprivate Long productCode;\r\n\tprivate String description;\r\n\tprivate BigDecimal price;\r\n\tprivate String category;\r\n}\r\n\r\npublic static Optional&lt;ProductKey&gt; findProductKey(Long productCode, List&lt;ProductKey&gt; productKeys) {\r\n\treturn  productKeys.stream().\r\n\t   filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\r\n\t   .takeWhile(productKey -&gt; productKey != null).findFirst();\r\n}\r\n\r\n```\r\nHere is the code that populates the map from a question I had asked and for which a solution was so kindly provided: I added a filter to ensure the `productDetailMap` contains a matching `productKey.getProductCode()` so that all products with no matching `productCode` keys should be eliminated. I wasn&#39;t expecting any nulls to be in the final merge (left, right) -&gt; left.\r\n\r\nHowever, the error I get tells me that that is not the case:\r\n\r\n**java.lang.NullPointerException: null\r\n        at java.base/java.util.HashMap.merge(HashMap.java:1267) ~[na:na]\r\n        at java.base/java.util.stream.Collectors.lambda$toMap$68(Collectors.java:1658) ~**[na:na]\r\n        at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n\r\n\r\n\r\n```java\r\nList&lt;ProductKey&gt; productKeyList = // initilizing the list\r\n        \r\nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\r\n        \r\nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\r\n    .map(productKey -&gt;\r\n        findProductKey(productKey.getProductCode(), productKeyList)\r\n    )\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .filter(productKey -&gt; !productDetailMap.values().contains(productKey.getProductCode())\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\r\n        (left, right) -&gt; left // precaution against duplicated elements in the productKeyList\r\n    ));\r\n```\r\n\r\nIn order to set the `ProductDetail` from the Map to the `Product` with the corresponding product key `Iterable.forEach()` would be more suitable than a stream.\r\n\r\n```java\r\nList&lt;Product&gt; products = service.readProducts();\r\n    \r\nproducts.forEach(product -&gt; \r\n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\r\n);\r\n```\r\n\r\nRegarding the `null` Values, they can be easily eliminated from any Map:\r\n\r\n```\r\nproductDetailMap.values().removeIf(Objects::isNull);\r\n```\r\n\r\n","title":"Getting NullPointerException during merge of Collectors.toMap when merging to prevent duplicates","body":"<p>I am attempting to create a <code>Map&lt;ProductKey, ProductDetail&gt;</code> for a list of <code>Products</code> that need to have their <code>ProductDetail</code> added to them. The <code>ProductDetail</code> object is read from a database from a service <code>ProductDetailLookUpService</code>. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the <code>ProductDetail</code> and similar roducts may share the same ProductDetail.  Here are the basic classes that make up the relationships. However when I perform the merge I get a <code>NullPointerException</code>.</p>\n<p>Here are the classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\nstatic class ProductKey{\n    @EqualsAndHashCode.Include\n    private Long productCode;\n    @EqualsAndHashCode.Include\n    private Long productDetailCode;\n}\n\n@Data\nclass Product {\n    @EqualsAndHashCode.Include\n    private ProductKey productKey;\n    @EqualsAndHashCode.Include\n    private ProductDetail productDetail;\n}\n\n@Data\nclass ProductDetail{\n    @EqualsAndHashCode.Include\n    private Long productCode;\n    private String description;\n    private BigDecimal price;\n    private String category;\n}\n\npublic static Optional&lt;ProductKey&gt; findProductKey(Long productCode, List&lt;ProductKey&gt; productKeys) {\n    return  productKeys.stream().\n       filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\n       .takeWhile(productKey -&gt; productKey != null).findFirst();\n}\n\n</code></pre>\n<p>Here is the code that populates the map from a question I had asked and for which a solution was so kindly provided: I added a filter to ensure the <code>productDetailMap</code> contains a matching <code>productKey.getProductCode()</code> so that all products with no matching <code>productCode</code> keys should be eliminated. I wasn't expecting any nulls to be in the final merge (left, right) -&gt; left.</p>\n<p>However, the error I get tells me that that is not the case:</p>\n<p><strong>java.lang.NullPointerException: null\nat java.base/java.util.HashMap.merge(HashMap.java:1267) ~[na:na]\nat java.base/java.util.stream.Collectors.lambda$toMap$68(Collectors.java:1658) ~</strong>[na:na]\nat java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ProductKey&gt; productKeyList = // initilizing the list\n        \nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\n        \nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\n    .map(productKey -&gt;\n        findProductKey(productKey.getProductCode(), productKeyList)\n    )\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .filter(productKey -&gt; !productDetailMap.values().contains(productKey.getProductCode())\n    .collect(Collectors.toMap(\n        Function.identity(),\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\n        (left, right) -&gt; left // precaution against duplicated elements in the productKeyList\n    ));\n</code></pre>\n<p>In order to set the <code>ProductDetail</code> from the Map to the <code>Product</code> with the corresponding product key <code>Iterable.forEach()</code> would be more suitable than a stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Product&gt; products = service.readProducts();\n    \nproducts.forEach(product -&gt; \n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\n);\n</code></pre>\n<p>Regarding the <code>null</code> Values, they can be easily eliminated from any Map:</p>\n<pre><code>productDetailMap.values().removeIf(Objects::isNull);\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668200151,"creation_date":1668200151,"answer_id":74408056,"question_id":74407378,"body_markdown":"Just remove the `@OneToMany` annotation : `@ElementCollection` is enough : \r\n\r\n    @ElementCollection(targetClass = MyEnum.class)\r\n    @Enumerated(EnumType.STRING)\r\n    private Map&lt;B, MyEnum&gt; value = new HashMap&lt;&gt;();\r\n\r\nand if you want to specify the table name and column names of the table used to store the collection : \r\n\r\n    @ElementCollection(targetClass = MyEnum.class)\r\n    @MapKeyJoinColumn(name = &quot;B_id&quot;)\r\n    @MapKeyClass(B.class)\r\n    @CollectionTable(\r\n            name = &quot;A_B&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;A_id&quot;))\r\n    @Enumerated(EnumType.STRING)\r\n    private Map&lt;B, MyEnum&gt; value = new HashMap&lt;&gt;();\r\n\r\n\r\n","title":"Using HashMap&lt;Entity,Enum&gt; in Hibernate Collections - ElementCollection","body":"<p>Just remove the <code>@OneToMany</code> annotation : <code>@ElementCollection</code> is enough :</p>\n<pre><code>@ElementCollection(targetClass = MyEnum.class)\n@Enumerated(EnumType.STRING)\nprivate Map&lt;B, MyEnum&gt; value = new HashMap&lt;&gt;();\n</code></pre>\n<p>and if you want to specify the table name and column names of the table used to store the collection :</p>\n<pre><code>@ElementCollection(targetClass = MyEnum.class)\n@MapKeyJoinColumn(name = &quot;B_id&quot;)\n@MapKeyClass(B.class)\n@CollectionTable(\n        name = &quot;A_B&quot;,\n        joinColumns = @JoinColumn(name = &quot;A_id&quot;))\n@Enumerated(EnumType.STRING)\nprivate Map&lt;B, MyEnum&gt; value = new HashMap&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":12958573,"reputation":43,"user_id":9368504,"display_name":"meowth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74408056,"answer_count":1,"score":0,"last_activity_date":1668200151,"creation_date":1668195425,"question_id":74407378,"body_markdown":"I am trying to use element collection in hibernate as below:\r\n\r\n```\r\n@Entity\r\nclass A{\r\n\r\nprivate int id;\r\n\r\n//more fields\r\n\r\n@ElementCollection(targetClass = MyEnum.class)\r\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n@JoinTable(\r\n\t\t\tname = &quot;A_B&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;B_id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;A_id&quot;))\r\n@MapKeyColumn(name = &quot;B_id&quot;)\r\n@MapKeyClass(B.class)\r\n@Enumerated(EnumType.STRING)\r\nprivate Map&lt;B, MyEnum&gt; value = new HashMap&lt;&gt;();\r\n\r\n//getters and setters\r\n}\r\n\r\n\r\n```\r\n\r\nwhere A and B are two entities in MySQL and MyEnum is an enum.\r\n\r\nBut I am getting the following exception - Caused by: org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: A.values[MyEnum.class].\r\n\r\nThe above exception arises when we are trying to use a class mapping which has not been declared an entity using the @Entity annotation but if we are using an enum, we need to use the @ElementCollection annotation along with the @Enumerated enum. I have done the same but the error persists.\r\n\r\nCan you help me and let me know if I am doing anything wrong here? Thank you.","title":"Using HashMap&lt;Entity,Enum&gt; in Hibernate Collections - ElementCollection","body":"<p>I am trying to use element collection in hibernate as below:</p>\n<pre><code>@Entity\nclass A{\n\nprivate int id;\n\n//more fields\n\n@ElementCollection(targetClass = MyEnum.class)\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n@JoinTable(\n            name = &quot;A_B&quot;,\n            joinColumns = @JoinColumn(name = &quot;B_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;A_id&quot;))\n@MapKeyColumn(name = &quot;B_id&quot;)\n@MapKeyClass(B.class)\n@Enumerated(EnumType.STRING)\nprivate Map&lt;B, MyEnum&gt; value = new HashMap&lt;&gt;();\n\n//getters and setters\n}\n\n\n</code></pre>\n<p>where A and B are two entities in MySQL and MyEnum is an enum.</p>\n<p>But I am getting the following exception - Caused by: org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: A.values[MyEnum.class].</p>\n<p>The above exception arises when we are trying to use a class mapping which has not been declared an entity using the @Entity annotation but if we are using an enum, we need to use the @ElementCollection annotation along with the @Enumerated enum. I have done the same but the error persists.</p>\n<p>Can you help me and let me know if I am doing anything wrong here? Thank you.</p>\n"},{"tags":["java","json","spring"],"answers":[{"comments":[{"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"score":0,"creation_date":1475062338,"post_id":39746197,"comment_id":66788806,"body_markdown":"Also won&#39;t work, got this error in the Java Console (edited above)","body":"Also won&#39;t work, got this error in the Java Console (edited above)"}],"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475062254,"creation_date":1475062254,"answer_id":39746197,"question_id":39746130,"body_markdown":"Your RegisterBody class is private.  So nothing outside of the code in your class can create new instances of it.  Try:\r\n\r\n    public static class RegisterBody {\r\n\r\nOr, better still, move RegisterBody into its own java file.\r\n\r\n","title":"Spring @RequestBody Bad Request","body":"<p>Your RegisterBody class is private.  So nothing outside of the code in your class can create new instances of it.  Try:</p>\n\n<pre><code>public static class RegisterBody {\n</code></pre>\n\n<p>Or, better still, move RegisterBody into its own java file.</p>\n"},{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475062257,"creation_date":1475062257,"answer_id":39746199,"question_id":39746130,"body_markdown":"The error itself tells you about origin of the problem: `no suitable constructor found`. So you need to add *default* constructor into `RegisterBody` class. Also I&#39;m not sure that making this class `private` good idea.","title":"Spring @RequestBody Bad Request","body":"<p>The error itself tells you about origin of the problem: <code>no suitable constructor found</code>. So you need to add <em>default</em> constructor into <code>RegisterBody</code> class. Also I'm not sure that making this class <code>private</code> good idea.</p>\n"},{"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":1,"creation_date":1475062886,"post_id":39746336,"comment_id":66789175,"body_markdown":"That&#39;s cool, but I&#39;m sure that my suggestion about making class non-private and adding default constructor would solve your problem also.","body":"That&#39;s cool, but I&#39;m sure that my suggestion about making class non-private and adding default constructor would solve your problem also."}],"tags":[],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475062624,"creation_date":1475062624,"answer_id":39746336,"question_id":39746130,"body_markdown":"It was a combination of both answers @Andremoniy and @Mr Spoon\r\n\r\nWorked after I made the class\r\n\r\n    public static class RegisterBody {\r\nand removed the constructor and made it to an default constructor.\r\n\r\n    public static class RegisterBody{\r\n            private String token;\r\n    \r\n            public String getToken() {\r\n                return token;\r\n            }\r\n    \r\n            public void setToken(String token) {\r\n                this.token = token;\r\n            }\r\n        }\r\n\r\nWorks now thanks","title":"Spring @RequestBody Bad Request","body":"<p>It was a combination of both answers @Andremoniy and @Mr Spoon</p>\n\n<p>Worked after I made the class</p>\n\n<pre><code>public static class RegisterBody {\n</code></pre>\n\n<p>and removed the constructor and made it to an default constructor.</p>\n\n<pre><code>public static class RegisterBody{\n        private String token;\n\n        public String getToken() {\n            return token;\n        }\n\n        public void setToken(String token) {\n            this.token = token;\n        }\n    }\n</code></pre>\n\n<p>Works now thanks</p>\n"},{"tags":[],"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475063000,"creation_date":1475063000,"answer_id":39746489,"question_id":39746130,"body_markdown":"When Spring tries to resolve `Body` it creates the object with a default constructor `ClassName()` and then tries to fill the fields with setters. So if you want to resolve `RequestBody` into `RegisterBody` it should look like below:\r\n\r\n    private class RegisterBody{\r\n        private String token;\r\n  \r\n        public RegisterBody() {};\r\n\r\n        public String getToken() {\r\n            return token;\r\n        }\r\n\r\n        public void setToken(String token) {\r\n            this.token = token;\r\n        }\r\n\r\n        public RegisterBody(String fbToken){\r\n            this.token = fbToken;\r\n        }\r\n    }\r\n\r\nApart from that remember, that Spring implements MVC for some reason. Put the classes to `Utils` or `Misc` `package` if you can&#39;t classify it better but DON&#39;T declare classes in `Controller`s!","title":"Spring @RequestBody Bad Request","body":"<p>When Spring tries to resolve <code>Body</code> it creates the object with a default constructor <code>ClassName()</code> and then tries to fill the fields with setters. So if you want to resolve <code>RequestBody</code> into <code>RegisterBody</code> it should look like below:</p>\n\n<pre><code>private class RegisterBody{\n    private String token;\n\n    public RegisterBody() {};\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n    public RegisterBody(String fbToken){\n        this.token = fbToken;\n    }\n}\n</code></pre>\n\n<p>Apart from that remember, that Spring implements MVC for some reason. Put the classes to <code>Utils</code> or <code>Misc</code> <code>package</code> if you can't classify it better but DON'T declare classes in <code>Controller</code>s!</p>\n"},{"tags":[],"owner":{"account_id":3909836,"reputation":1046,"user_id":3235513,"accept_rate":83,"display_name":"alvgarvilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475073986,"creation_date":1475073986,"answer_id":39750859,"question_id":39746130,"body_markdown":"Try to add an empty constructor for the class.","title":"Spring @RequestBody Bad Request","body":"<p>Try to add an empty constructor for the class.</p>\n"},{"tags":[],"owner":{"account_id":6388117,"reputation":706,"user_id":4955304,"accept_rate":89,"display_name":"Adam Gerard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668200105,"creation_date":1668200105,"answer_id":74408049,"question_id":39746130,"body_markdown":"If you&#39;re using Lombok you can use the following annotations:\r\n\r\n```Java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n// Must include this annotation since Spring instantiates the @ResponseBody type with no args.\r\n@NoArgsConstructor\r\npublic class CustomRequestBody {\r\n    private String message;\r\n}\r\n```\r\n\r\n```java\r\n@Slf4j\r\n@RestController\r\npublic class ReactiveRestController {\r\n\r\n    @PostMapping(&quot;/api/test&quot;)\r\n    public Mono&lt;CustomResponse&gt; post(@RequestBody CustomRequestBody requestBody) {\r\n        log.info(requestBody.getMessage());\r\n        return Mono.just(new CustomResponse(200, &quot;success&quot;));\r\n    }\r\n}\r\n```","title":"Spring @RequestBody Bad Request","body":"<p>If you're using Lombok you can use the following annotations:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n// Must include this annotation since Spring instantiates the @ResponseBody type with no args.\n@NoArgsConstructor\npublic class CustomRequestBody {\n    private String message;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class ReactiveRestController {\n\n    @PostMapping(&quot;/api/test&quot;)\n    public Mono&lt;CustomResponse&gt; post(@RequestBody CustomRequestBody requestBody) {\n        log.info(requestBody.getMessage());\n        return Mono.just(new CustomResponse(200, &quot;success&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39746336,"answer_count":6,"score":0,"last_activity_date":1668200105,"creation_date":1475062064,"question_id":39746130,"body_markdown":"I am using POSTMAN to send request&#39;s.\r\n\r\nConfigured all right there:\r\n\r\n- Content-Type application/json\r\n- Request Type POST\r\n and in Body I have the following:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    {\r\n    \t&quot;token&quot;:&quot;EAACEdEose0cBAFLc4blCYmmetEMBEZCiQQZAuvz6DlxFt0yPZCksZBWv09B71aZCeDH9zOPyzM44GRl8WA56uFZBmOiUMmSlk3USfOwRdwmXDnhlPArttzjjLzUXaTReHzHZC7ZCcFzZADwGBLRUHvTb17nagRDLpZBysdxZBxuJuojlgZDZD&quot;\r\n    }\r\n\r\nI POST this to a controller and get a 400 BAD Request Error:\r\n\r\n    {\r\n    &quot;timestamp&quot;: 1475061564742,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;exception&quot;: &quot;org.springframework.http.converter.HttpMessageNotReadableException&quot;,\r\n    &quot;message&quot;: &quot;Could not read document: Can not construct instance of at.wastun.controller.WTUserController$RegisterBody: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\\n at [Source: java.io.PushbackInputStream@a646ac6; line: 2, column: 2]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of at.wastun.controller.WTUserController$RegisterBody: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\\n at [Source: java.io.PushbackInputStream@a646ac6; line: 2, column: 2]&quot;,\r\n    &quot;path&quot;: &quot;/users/register&quot;\r\n    }\r\n\r\nThe class and the Controller looks like:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/users&quot;)\r\n    @ResponseBody\r\n    public class WTUserController {\r\n    \r\n        private class RegisterBody{\r\n            private String token;\r\n    \r\n            public String getToken() {\r\n                return token;\r\n            }\r\n    \r\n            public void setToken(String token) {\r\n                this.token = token;\r\n            }\r\n    \r\n            public RegisterBody(String fbToken){\r\n                this.token = fbToken;\r\n            }\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;/register&quot;, method = RequestMethod.POST)\r\n        public String method0(@RequestBody RegisterBody body){\r\n            return body.getToken();\r\n        }\r\n\r\n    }","title":"Spring @RequestBody Bad Request","body":"<p>I am using POSTMAN to send request's.</p>\n\n<p>Configured all right there:</p>\n\n<ul>\n<li>Content-Type application/json</li>\n<li>Request Type POST\nand in Body I have the following:</li>\n</ul>\n\n<pre class=\"lang-none prettyprint-override\"><code>{\n    \"token\":\"EAACEdEose0cBAFLc4blCYmmetEMBEZCiQQZAuvz6DlxFt0yPZCksZBWv09B71aZCeDH9zOPyzM44GRl8WA56uFZBmOiUMmSlk3USfOwRdwmXDnhlPArttzjjLzUXaTReHzHZC7ZCcFzZADwGBLRUHvTb17nagRDLpZBysdxZBxuJuojlgZDZD\"\n}\n</code></pre>\n\n<p>I POST this to a controller and get a 400 BAD Request Error:</p>\n\n<pre><code>{\n\"timestamp\": 1475061564742,\n\"status\": 400,\n\"error\": \"Bad Request\",\n\"exception\": \"org.springframework.http.converter.HttpMessageNotReadableException\",\n\"message\": \"Could not read document: Can not construct instance of at.wastun.controller.WTUserController$RegisterBody: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\\n at [Source: java.io.PushbackInputStream@a646ac6; line: 2, column: 2]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of at.wastun.controller.WTUserController$RegisterBody: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\\n at [Source: java.io.PushbackInputStream@a646ac6; line: 2, column: 2]\",\n\"path\": \"/users/register\"\n}\n</code></pre>\n\n<p>The class and the Controller looks like:</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/users\")\n@ResponseBody\npublic class WTUserController {\n\n    private class RegisterBody{\n        private String token;\n\n        public String getToken() {\n            return token;\n        }\n\n        public void setToken(String token) {\n            this.token = token;\n        }\n\n        public RegisterBody(String fbToken){\n            this.token = fbToken;\n        }\n    }\n\n    @RequestMapping(value=\"/register\", method = RequestMethod.POST)\n    public String method0(@RequestBody RegisterBody body){\n        return body.getToken();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"answers":[{"comments":[{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":3,"creation_date":1448451298,"post_id":33910831,"comment_id":55592241,"body_markdown":"This is a quality answer, demonstrating genuine expertise, and the links to the &quot;principle&quot; and &quot;action&quot; resources are extra touches that are exemplary of the kind of thoroughness that I, for one, appreciate.","body":"This is a quality answer, demonstrating genuine expertise, and the links to the &quot;principle&quot; and &quot;action&quot; resources are extra touches that are exemplary of the kind of thoroughness that I, for one, appreciate."},{"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"score":0,"creation_date":1521240946,"post_id":33910831,"comment_id":85663197,"body_markdown":"I am facing the same issue in my application and find this answer really useful. Thanks...","body":"I am facing the same issue in my application and find this answer really useful. Thanks..."},{"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"score":0,"creation_date":1521241885,"post_id":33910831,"comment_id":85663438,"body_markdown":"I have a concern as I am uploading about hundred thousand files and want to set permission for them all. Do you think there would there be a performance overhead?","body":"I have a concern as I am uploading about hundred thousand files and want to set permission for them all. Do you think there would there be a performance overhead?"},{"owner":{"account_id":2080988,"reputation":969,"user_id":1852977,"display_name":"Shai Alon"},"score":0,"creation_date":1690119394,"post_id":33910831,"comment_id":135305794,"body_markdown":"&#39;ListObjectsRequest(software.amazon.awssdk.services.s3.model.ListObjectsRequest.BuilderImpl)&#39; has private access in &#39;software.amazon.awssdk.services.s3.model.ListObjectsRequest&#39;","body":"&#39;ListObjectsRequest(software.amazon.awssdk.services.s3.model&zwnj;&#8203;.ListObjectsRequest.&zwnj;&#8203;BuilderImpl)&#39; has private access in &#39;software.amazon.awssdk.services.s3.model.ListObjectsRequest&zwnj;&#8203;&#39;"}],"tags":[],"owner":{"account_id":5902963,"reputation":890,"user_id":4645795,"display_name":"David Morales"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1448436914,"creation_date":1448436914,"answer_id":33910831,"question_id":33909860,"body_markdown":"In S3, there is no such thing as folders, only buckets and keys. Keys that share a common prefix are grouped together in the console for your convenience but under the hood, the structure is completely flat. As a result, there is no way to set the ACL for a folder. But there are some workarounds.\r\n\r\n## Use a bucket policy\r\nDepending on what permissions you want to grant and to whom, you can grant access rights to all keys in a &quot;folder&quot; using a bucket policy. This example allows anyone to get any key under the folder `path/to/folder/` from bucket `my-bucket`. Here&#39;s a  [list of possible actions][1] and a [list of possible principals][2] from the docs.\r\n\r\n    {\r\n        &quot;Version&quot;:&quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;:[\r\n            {\r\n                &quot;Sid&quot;:&quot;SimulateFolderACL&quot;,\r\n                &quot;Effect&quot;:&quot;Allow&quot;,\r\n                &quot;Principal&quot;: &quot;*&quot;,\r\n                &quot;Action&quot;:[&quot;s3:GetObject&quot;],\r\n                &quot;Resource&quot;:[&quot;arn:aws:s3:::my-bucket/path/to/folder/*&quot;]\r\n            }\r\n        ]\r\n    }\r\n\r\n## Iterate and apply the ACL to each key\r\nYou can also loop through all the keys and apply the ACL directly like you mentioned using `s3.setObjectAcl(bucketName, key, acl)`. You can filter the keys by the folder prefix so you don&#39;t have to check each key name directly. After the directory is uploaded, you can do something like this:\r\n\r\n    // We only want the keys that are in the folder\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest()\r\n                                                .withBucketName(&quot;my-bucket&quot;)\r\n                                                .withPrefix(&quot;path/to/folder/&quot;);\r\n    ObjectListing objectListing;\r\n\r\n    // Iterate over all the matching keys     \r\n    do {\r\n        objectListing = s3client.listObjects(listObjectsRequest);\r\n        for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries())\r\n        {\r\n                // Apply the ACL\r\n                s3.setObjectAcl(bucketName, key, acl);\r\n        }\r\n        listObjectsRequest.setMarker(objectListing.getNextMarker());\r\n    } while (objectListing.isTruncated());\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/using-with-s3-actions.html\r\n  [2]: http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-bucket-user-policy-specifying-principal-intro.html","title":"How to set ACL of all files in a folder in S3","body":"<p>In S3, there is no such thing as folders, only buckets and keys. Keys that share a common prefix are grouped together in the console for your convenience but under the hood, the structure is completely flat. As a result, there is no way to set the ACL for a folder. But there are some workarounds.</p>\n\n<h2>Use a bucket policy</h2>\n\n<p>Depending on what permissions you want to grant and to whom, you can grant access rights to all keys in a \"folder\" using a bucket policy. This example allows anyone to get any key under the folder <code>path/to/folder/</code> from bucket <code>my-bucket</code>. Here's a  <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/using-with-s3-actions.html\">list of possible actions</a> and a <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-bucket-user-policy-specifying-principal-intro.html\">list of possible principals</a> from the docs.</p>\n\n<pre><code>{\n    \"Version\":\"2012-10-17\",\n    \"Statement\":[\n        {\n            \"Sid\":\"SimulateFolderACL\",\n            \"Effect\":\"Allow\",\n            \"Principal\": \"*\",\n            \"Action\":[\"s3:GetObject\"],\n            \"Resource\":[\"arn:aws:s3:::my-bucket/path/to/folder/*\"]\n        }\n    ]\n}\n</code></pre>\n\n<h2>Iterate and apply the ACL to each key</h2>\n\n<p>You can also loop through all the keys and apply the ACL directly like you mentioned using <code>s3.setObjectAcl(bucketName, key, acl)</code>. You can filter the keys by the folder prefix so you don't have to check each key name directly. After the directory is uploaded, you can do something like this:</p>\n\n<pre><code>// We only want the keys that are in the folder\nListObjectsRequest listObjectsRequest = new ListObjectsRequest()\n                                            .withBucketName(\"my-bucket\")\n                                            .withPrefix(\"path/to/folder/\");\nObjectListing objectListing;\n\n// Iterate over all the matching keys     \ndo {\n    objectListing = s3client.listObjects(listObjectsRequest);\n    for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries())\n    {\n            // Apply the ACL\n            s3.setObjectAcl(bucketName, key, acl);\n    }\n    listObjectsRequest.setMarker(objectListing.getNextMarker());\n} while (objectListing.isTruncated());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2080988,"reputation":969,"user_id":1852977,"display_name":"Shai Alon"},"score":0,"creation_date":1690118364,"post_id":47788028,"comment_id":135305646,"body_markdown":"You can use for (S3ObjectSummary s3ObjectSummary : s3Client.listObjects(bucketName).getObjectSummaries()) instead of do-while.","body":"You can use for (S3ObjectSummary s3ObjectSummary : s3Client.listObjects(bucketName).getObjectSummaries()) instead of do-while."},{"owner":{"account_id":2080988,"reputation":969,"user_id":1852977,"display_name":"Shai Alon"},"score":0,"creation_date":1690119097,"post_id":47788028,"comment_id":135305748,"body_markdown":"This will change all files in all folders in the bucket!! that was not what was asked for.","body":"This will change all files in all folders in the bucket!! that was not what was asked for."}],"tags":[],"owner":{"account_id":2176672,"reputation":651,"user_id":1927202,"display_name":"Turgay Celik"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1513151672,"creation_date":1513151672,"answer_id":47788028,"question_id":33909860,"body_markdown":"The following simple method gives public-read to all of the objects in a bucket. \r\n\r\n    void makeObjectsPublic(AmazonS3 s3Client, String bucketName) {\r\n\r\n        final Iterator&lt;S3ObjectSummary&gt; itr = s3Client.listObjects(bucketName).getObjectSummaries().iterator();\r\n\r\n        while (itr.hasNext()) {\r\n            s3Client.setObjectAcl(bucketName, itr.next().getKey(), CannedAccessControlList.PublicRead);\r\n        }\r\n    }\r\n\r\n \r\n","title":"How to set ACL of all files in a folder in S3","body":"<p>The following simple method gives public-read to all of the objects in a bucket. </p>\n\n<pre><code>void makeObjectsPublic(AmazonS3 s3Client, String bucketName) {\n\n    final Iterator&lt;S3ObjectSummary&gt; itr = s3Client.listObjects(bucketName).getObjectSummaries().iterator();\n\n    while (itr.hasNext()) {\n        s3Client.setObjectAcl(bucketName, itr.next().getKey(), CannedAccessControlList.PublicRead);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26904636,"reputation":31,"user_id":20481215,"display_name":"andersonweeks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668199981,"creation_date":1668199981,"answer_id":74408032,"question_id":33909860,"body_markdown":"You can also copy the files into the same location they already live recursively while granting bucket-owner-full control (or some other --acl option). The files will overwrite themselves and change access as requested. \r\n\r\n    aws s3 cp s3://myBucket s3://myBucket --recursive --acl bucket-owner-full-control\r\n\r\nSource: https://stackoverflow.com/a/37164668/20481215","title":"How to set ACL of all files in a folder in S3","body":"<p>You can also copy the files into the same location they already live recursively while granting bucket-owner-full control (or some other --acl option). The files will overwrite themselves and change access as requested.</p>\n<pre><code>aws s3 cp s3://myBucket s3://myBucket --recursive --acl bucket-owner-full-control\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/a/37164668/20481215\">https://stackoverflow.com/a/37164668/20481215</a></p>\n"}],"owner":{"account_id":1752518,"reputation":75,"user_id":1601295,"display_name":"Vivek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7810,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":33910831,"answer_count":3,"score":7,"last_activity_date":1668199981,"creation_date":1448433112,"question_id":33909860,"body_markdown":"I want to give read permission to all the files inside a folder in S3 using Java. I am doing folder upload using TransferManager but I did not find any API to set ACL on the directory level\r\n\r\n`MultipleFileUpload upload = transferManager.uploadDirectory(bucketName, uploadDirectory, new File(folderName), true);`\r\n\r\nI know that I can set ACL of an S3 object using:\r\n`s3.setObjectAcl(bucketName, key, acl);`\r\n\r\nBut I want to do it on all files at once in a folder. Is there any way to do it?","title":"How to set ACL of all files in a folder in S3","body":"<p>I want to give read permission to all the files inside a folder in S3 using Java. I am doing folder upload using TransferManager but I did not find any API to set ACL on the directory level</p>\n\n<p><code>MultipleFileUpload upload = transferManager.uploadDirectory(bucketName, uploadDirectory, new File(folderName), true);</code></p>\n\n<p>I know that I can set ACL of an S3 object using:\n<code>s3.setObjectAcl(bucketName, key, acl);</code></p>\n\n<p>But I want to do it on all files at once in a folder. Is there any way to do it?</p>\n"},{"tags":["java","java-stream","collectors","accumulate"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1668177649,"post_id":74403784,"comment_id":131349388,"body_markdown":"I think you always need two classes. One will always be the accumulator object. And one will implement the `Collector` interface. But the accumulator object **doesn&#39;t** contain all those `supply()`, `combine()` and `finish()` methods. They would only be available in the class implementing the `Collector`. The holder class may also be a private inner `class` in the collector. Also for your example you could just use `AtomicInteger` as the accumulator. Leaving you with a single class `SumCollector implements Collector&lt;Integer, AtomicInteger, String&gt;` that you&#39;d have to implement","body":"I think you always need two classes. One will always be the accumulator object. And one will implement the <code>Collector</code> interface. But the accumulator object <b>doesn&#39;t</b> contain all those <code>supply()</code>, <code>combine()</code> and <code>finish()</code> methods. They would only be available in the class implementing the <code>Collector</code>. The holder class may also be a private inner <code>class</code> in the collector. Also for your example you could just use <code>AtomicInteger</code> as the accumulator. Leaving you with a single class <code>SumCollector implements Collector&lt;Integer, AtomicInteger, String&gt;</code> that you&#39;d have to implement"},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668178559,"post_id":74403784,"comment_id":131349756,"body_markdown":"&quot;The holder class may also be a private inner class in the collector.&quot; =&gt; I don&#39;t think I can do this as if I do `implements Collector&lt;Integer, SumCollector.Acc, String&gt;`, I get `SumCollector.Acc&#39; has private access in &#39;SumCollector&#39;`.","body":"&quot;The holder class may also be a private inner class in the collector.&quot; =&gt; I don&#39;t think I can do this as if I do <code>implements Collector&lt;Integer, SumCollector.Acc, String&gt;</code>, I get <code>SumCollector.Acc&#39; has private access in &#39;SumCollector&#39;</code>."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1668178894,"post_id":74403784,"comment_id":131349870,"body_markdown":"Oh yeah, then it sadly must be `public`. You could also invert the whole class structure. Make the `Collector` a private inner class of the accumulator. And then expose it only with a static method: `public static Collector&lt;Integer, ?, String&gt; collector() {return new SumCollector();}`","body":"Oh yeah, then it sadly must be <code>public</code>. You could also invert the whole class structure. Make the <code>Collector</code> a private inner class of the accumulator. And then expose it only with a static method: <code>public static Collector&lt;Integer, ?, String&gt; collector() {return new SumCollector();}</code>"}],"answers":[{"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1668176756,"post_id":74403914,"comment_id":131349026,"body_markdown":"Just as a side note: Instead of a reducing collector, one could probably also use just the `reduce` method.","body":"Just as a side note: Instead of a reducing collector, one could probably also use just the <code>reduce</code> method."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668178750,"post_id":74403914,"comment_id":131349825,"body_markdown":"I provided a simple example on purpose, and I did write &quot;I know I could use reduce for this case&quot;. Please look at https://stackoverflow.com/questions/74401764/how-to-collect-same-maximum-numbers-keys-as-list-in-java-8/74401856#74401856 for a more detailed example","body":"I provided a simple example on purpose, and I did write &quot;I know I could use reduce for this case&quot;. Please look at <a href=\"https://stackoverflow.com/questions/74401764/how-to-collect-same-maximum-numbers-keys-as-list-in-java-8/74401856#74401856\" title=\"how to collect same maximum numbers keys as list in java 8\">stackoverflow.com/questions/74401764/&hellip;</a> for a more detailed example"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1668179518,"post_id":74403914,"comment_id":131350050,"body_markdown":"The full `Collector` API is verbose by *design*. If you&#39;re doing messy things with mutable state during reduction, you want your code to send up giant red signal flares screaming &quot;I am mutable, read me carefully&quot;. If your reduction function is nice and referentially transparent, then it can absolutely be a one-liner. But if it&#39;s messy and complicated, then it *should* be a separate class.","body":"The full <code>Collector</code> API is verbose by <i>design</i>. If you&#39;re doing messy things with mutable state during reduction, you want your code to send up giant red signal flares screaming &quot;I am mutable, read me carefully&quot;. If your reduction function is nice and referentially transparent, then it can absolutely be a one-liner. But if it&#39;s messy and complicated, then it <i>should</i> be a separate class."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668176657,"creation_date":1668176657,"answer_id":74403914,"question_id":74403784,"body_markdown":"It sounds like you want to supply *only* the reduction function itself, not all of the other things that come with a generic `Collector`. Perhaps you&#39;re looking for [`Collectors.reducing`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-T-java.util.function.BinaryOperator-).\r\n\r\n```\r\npublic static &lt;T&gt; Collector&lt;T,?,T&gt; reducing(T identity, BinaryOperator&lt;T&gt; op)\r\n```\r\n\r\nThen, to sum values, you would write\r\n\r\n    Collectors.reducing(0, (x, y) -&gt; x + y);\r\n\r\nor, in context,\r\n\r\n    Integer[] myList = new Integer[] { 1, 2, 3, 4 };\r\n    var collector = Collectors.reducing(0, (x, y) -&gt; x + y);\r\n    System.out.println(Stream.of(myList).collect(collector)); // Prints 10","title":"Java implement accumulator class that provides a Collector","body":"<p>It sounds like you want to supply <em>only</em> the reduction function itself, not all of the other things that come with a generic <code>Collector</code>. Perhaps you're looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-T-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Collectors.reducing</code></a>.</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T,?,T&gt; reducing(T identity, BinaryOperator&lt;T&gt; op)\n</code></pre>\n<p>Then, to sum values, you would write</p>\n<pre><code>Collectors.reducing(0, (x, y) -&gt; x + y);\n</code></pre>\n<p>or, in context,</p>\n<pre><code>Integer[] myList = new Integer[] { 1, 2, 3, 4 };\nvar collector = Collectors.reducing(0, (x, y) -&gt; x + y);\nSystem.out.println(Stream.of(myList).collect(collector)); // Prints 10\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1668179517,"post_id":74404441,"comment_id":131350048,"body_markdown":"Interesting usage of the ad hoc anonymous class. There&#39;s no way to reference the type of that class, but java infers the type correctly. For readability though it is recommended to create a named class.","body":"Interesting usage of the ad hoc anonymous class. There&#39;s no way to reference the type of that class, but java infers the type correctly. For readability though it is recommended to create a named class."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668179921,"post_id":74404441,"comment_id":131350205,"body_markdown":"@Lino I’d say, if the functions are short and close to each other, so you can overview the declaration and all uses at a glance, it’s acceptable. This specific example, with longer functions, is already borderline. It’s more for completeness.","body":"@Lino I’d say, if the functions are short and close to each other, so you can overview the declaration and all uses at a glance, it’s acceptable. This specific example, with longer functions, is already borderline. It’s more for completeness."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668180553,"post_id":74404441,"comment_id":131350430,"body_markdown":"My goal is not a one liner, nor to get rid of the accumulator class, my goal is to implement a `Collector` by implementing the accumulator class only, if possible. But from from the answers, this doesn&#39;t look possible. In my opinion, then `Collector.of` (or `.collect(...)`) is the cleanest/most readable option.","body":"My goal is not a one liner, nor to get rid of the accumulator class, my goal is to implement a <code>Collector</code> by implementing the accumulator class only, if possible. But from from the answers, this doesn&#39;t look possible. In my opinion, then <code>Collector.of</code> (or <code>.collect(...)</code>) is the cleanest/most readable option."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668181376,"post_id":74404441,"comment_id":131350694,"body_markdown":"@Ricola it’s not clear to me, what you mean with “accumulator class only”. Something like the `SummaryStatistics` of [this answer](https://stackoverflow.com/a/51378142/2711488) perhaps? It serves as container class and provides a factory method for the collector. In case of already existing or non-exposed container classes, you’d only provide the factory methods, just like in [`Collectors`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html).","body":"@Ricola it’s not clear to me, what you mean with “accumulator class only”. Something like the <code>SummaryStatistics</code> of <a href=\"https://stackoverflow.com/a/51378142/2711488\">this answer</a> perhaps? It serves as container class and provides a factory method for the collector. In case of already existing or non-exposed container classes, you’d only provide the factory methods, just like in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\"><code>Collectors</code></a>."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668183602,"post_id":74404441,"comment_id":131351494,"body_markdown":"Something like `Collector.fromAccumulator(new SumCollector())`, but it obviously doesn&#39;t exist.","body":"Something like <code>Collector.fromAccumulator(new SumCollector())</code>, but it obviously doesn&#39;t exist."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668188377,"post_id":74404441,"comment_id":131353150,"body_markdown":"There’s a reason why a collector has a supplier for the container. It must be capable of producing multiple instances when needed, e.g. when used in combination with `groupingBy` or for parallel evaluation. Creating a collector from a single instance would contradict the whole concept. Another contradiction is that users of a collector do *not* want to deal with the temporary container. In both of your examples, the final result type is different from the  container type and I even provided two collector implementations with different container types, for each example.","body":"There’s a reason why a collector has a supplier for the container. It must be capable of producing multiple instances when needed, e.g. when used in combination with <code>groupingBy</code> or for parallel evaluation. Creating a collector from a single instance would contradict the whole concept. Another contradiction is that users of a collector do <i>not</i> want to deal with the temporary container. In both of your examples, the final result type is different from the  container type and I even provided two collector implementations with different container types, for each example."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668190784,"post_id":74404441,"comment_id":131353857,"body_markdown":"&quot;users of a collector do not want to deal with the temporary container&quot; oh yes I agree, this is why I would have loved to have a way to encapsulate the container logic **inside** the custom `Collector` class. To illustrate, @Lino&#39;s suggestion under the question: &quot;container class may also be a private inner class in the collector&quot; would have been great if it was possible. And the alternative is to have the container class public, which I don&#39;t like, for this exact reason of wanting to have the container implementation not leaking outside of the `Collector` class.","body":"&quot;users of a collector do not want to deal with the temporary container&quot; oh yes I agree, this is why I would have loved to have a way to encapsulate the container logic <b>inside</b> the custom <code>Collector</code> class. To illustrate, @Lino&#39;s suggestion under the question: &quot;container class may also be a private inner class in the collector&quot; would have been great if it was possible. And the alternative is to have the container class public, which I don&#39;t like, for this exact reason of wanting to have the container implementation not leaking outside of the <code>Collector</code> class."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668191246,"post_id":74404441,"comment_id":131353986,"body_markdown":"Why do you claim that encapsulating the container class was not possible? All of my four examples are capable of hiding the container class. The first two literally use `Collector&lt;Integer, ?, Integer&gt;` as the factory method’s return type, the same way all factory methods in [`Collectors`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html) do. The caller doesn’t see the actual container class, hence, it can be anything, including private inner classes. In my fourth example, the container class **is** a private inner class, even an anonymous class.","body":"Why do you claim that encapsulating the container class was not possible? All of my four examples are capable of hiding the container class. The first two literally use <code>Collector&lt;Integer, ?, Integer&gt;</code> as the factory method’s return type, the same way all factory methods in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\"><code>Collectors</code></a> do. The caller doesn’t see the actual container class, hence, it can be anything, including private inner classes. In my fourth example, the container class <b>is</b> a private inner class, even an anonymous class."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668192028,"post_id":74404441,"comment_id":131354165,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249522/discussion-between-ricola-and-holger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249522/discussion-between-ricola-and-holger\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":9,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1668192141,"creation_date":1668179121,"answer_id":74404441,"question_id":74403784,"body_markdown":"There is no requirement for the functions to be implemented as methods of the container class.\r\n\r\nThis is how such a sum collector would be typically implemented\r\n\r\n```java\r\npublic static Collector&lt;Integer, ?, Integer&gt; sum() {\r\n    return Collector.of(() -&gt; new int[1],\r\n        (a, i) -&gt; a[0] += i,\r\n        (a, b) -&gt; { a[0] += b[0]; return a; },\r\n        a -&gt; a[0],\r\n        Collector.Characteristics.UNORDERED);\r\n}\r\n```\r\n\r\nBut, of course, you could also implement it as\r\n\r\n```java\r\npublic static Collector&lt;Integer, ?, Integer&gt; sum() {\r\n    return Collector.of(AtomicInteger::new,\r\n        AtomicInteger::addAndGet,\r\n        (a, b) -&gt; { a.addAndGet(b.intValue()); return a; },\r\n        AtomicInteger::intValue,\r\n        Collector.Characteristics.UNORDERED, Collector.Characteristics.CONCURRENT);\r\n}\r\n```\r\n\r\nYou first have to find a suitable mutable container type for your collector. If no such type exists, you have to create your own class. The functions can be implemented as a method reference to an existing method or as a lambda expression.\r\n\r\nFor the more complex example, I don’t know of a suitable existing type for holding an `int` and a `List`, but you may get away with a boxed `Integer`, like this\r\n\r\n```java\r\nfinal Map&lt;String, Integer&gt; map = …\r\nList&lt;String&gt; keys = map.entrySet().stream().collect(keysToMaximum());\r\n```\r\n```java\r\npublic static &lt;K&gt; Collector&lt;Map.Entry&lt;K,Integer&gt;, ?, List&lt;K&gt;&gt; keysToMaximum() {\r\n    return Collector.of(\r\n        () -&gt; new AbstractMap.SimpleEntry&lt;&gt;(new ArrayList&lt;K&gt;(), Integer.MIN_VALUE),\r\n        (current, next) -&gt; {\r\n            int max = current.getValue(), value = next.getValue();\r\n            if(value &gt;= max) {\r\n                if(value &gt; max) {\r\n                    current.setValue(value);\r\n                    current.getKey().clear();\r\n                }\r\n                current.getKey().add(next.getKey());\r\n            }\r\n        }, (a, b) -&gt; {\r\n            int maxA = a.getValue(), maxB = b.getValue();\r\n            if(maxA &lt;= maxB) return b;\r\n            if(maxA == maxB) a.getKey().addAll(b.getKey());\r\n            return a;\r\n        },\r\n        Map.Entry::getKey\r\n    );\r\n}\r\n```\r\n\r\nBut you may also create a new dedicated container class as an ad-hoc type, not visible outside the particular collector\r\n\r\n```java\r\npublic static &lt;K&gt; Collector&lt;Map.Entry&lt;K,Integer&gt;, ?, List&lt;K&gt;&gt; keysToMaximum() {\r\n    return Collector.of(() -&gt; new Object() {\r\n        int max = Integer.MIN_VALUE;\r\n        final List&lt;K&gt; keys = new ArrayList&lt;&gt;();\r\n    }, (current, next) -&gt; {\r\n        int value = next.getValue();\r\n        if(value &gt;= current.max) {\r\n            if(value &gt; current.max) {\r\n                current.max = value;\r\n                current.keys.clear();\r\n            }\r\n            current.keys.add(next.getKey());\r\n        }\r\n    }, (a, b) -&gt; {\r\n        if(a.max &lt;= b.max) return b;\r\n        if(a.max == b.max) a.keys.addAll(b.keys);\r\n        return a;\r\n    },\r\n    a -&gt; a.keys);\r\n}\r\n```\r\n\r\nThe takeaway is, you don’t need to create a new, named class to create a `Collector`.\r\n","title":"Java implement accumulator class that provides a Collector","body":"<p>There is no requirement for the functions to be implemented as methods of the container class.</p>\n<p>This is how such a sum collector would be typically implemented</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Collector&lt;Integer, ?, Integer&gt; sum() {\n    return Collector.of(() -&gt; new int[1],\n        (a, i) -&gt; a[0] += i,\n        (a, b) -&gt; { a[0] += b[0]; return a; },\n        a -&gt; a[0],\n        Collector.Characteristics.UNORDERED);\n}\n</code></pre>\n<p>But, of course, you could also implement it as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Collector&lt;Integer, ?, Integer&gt; sum() {\n    return Collector.of(AtomicInteger::new,\n        AtomicInteger::addAndGet,\n        (a, b) -&gt; { a.addAndGet(b.intValue()); return a; },\n        AtomicInteger::intValue,\n        Collector.Characteristics.UNORDERED, Collector.Characteristics.CONCURRENT);\n}\n</code></pre>\n<p>You first have to find a suitable mutable container type for your collector. If no such type exists, you have to create your own class. The functions can be implemented as a method reference to an existing method or as a lambda expression.</p>\n<p>For the more complex example, I don’t know of a suitable existing type for holding an <code>int</code> and a <code>List</code>, but you may get away with a boxed <code>Integer</code>, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Integer&gt; map = …\nList&lt;String&gt; keys = map.entrySet().stream().collect(keysToMaximum());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;K&gt; Collector&lt;Map.Entry&lt;K,Integer&gt;, ?, List&lt;K&gt;&gt; keysToMaximum() {\n    return Collector.of(\n        () -&gt; new AbstractMap.SimpleEntry&lt;&gt;(new ArrayList&lt;K&gt;(), Integer.MIN_VALUE),\n        (current, next) -&gt; {\n            int max = current.getValue(), value = next.getValue();\n            if(value &gt;= max) {\n                if(value &gt; max) {\n                    current.setValue(value);\n                    current.getKey().clear();\n                }\n                current.getKey().add(next.getKey());\n            }\n        }, (a, b) -&gt; {\n            int maxA = a.getValue(), maxB = b.getValue();\n            if(maxA &lt;= maxB) return b;\n            if(maxA == maxB) a.getKey().addAll(b.getKey());\n            return a;\n        },\n        Map.Entry::getKey\n    );\n}\n</code></pre>\n<p>But you may also create a new dedicated container class as an ad-hoc type, not visible outside the particular collector</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;K&gt; Collector&lt;Map.Entry&lt;K,Integer&gt;, ?, List&lt;K&gt;&gt; keysToMaximum() {\n    return Collector.of(() -&gt; new Object() {\n        int max = Integer.MIN_VALUE;\n        final List&lt;K&gt; keys = new ArrayList&lt;&gt;();\n    }, (current, next) -&gt; {\n        int value = next.getValue();\n        if(value &gt;= current.max) {\n            if(value &gt; current.max) {\n                current.max = value;\n                current.keys.clear();\n            }\n            current.keys.add(next.getKey());\n        }\n    }, (a, b) -&gt; {\n        if(a.max &lt;= b.max) return b;\n        if(a.max == b.max) a.keys.addAll(b.keys);\n        return a;\n    },\n    a -&gt; a.keys);\n}\n</code></pre>\n<p>The takeaway is, you don’t need to create a new, named class to create a <code>Collector</code>.</p>\n"},{"comments":[{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1668252646,"post_id":74407964,"comment_id":131363361,"body_markdown":"&quot;why have an Accumulator dedicated to collecting to a String&quot; =&gt; this was just for the sake of the example of course. It&#39;s good that you mention `IntSummaryStatistics` because I see they do `collect(IntSummaryStatistics::new, IntSummaryStatistics::accept,\n                       IntSummaryStatistics::combine)`, which hints that such method _could_ have been useful. But if we wanted to have such method/interface in the standard library, there would need one per Stream type, which, as you pointed out , is likely not worth it.","body":"&quot;why have an Accumulator dedicated to collecting to a String&quot; =&gt; this was just for the sake of the example of course. It&#39;s good that you mention <code>IntSummaryStatistics</code> because I see they do <code>collect(IntSummaryStatistics::new, IntSummaryStatistics::accept,                        IntSummaryStatistics::combine)</code>, which hints that such method <i>could</i> have been useful. But if we wanted to have such method/interface in the standard library, there would need one per Stream type, which, as you pointed out , is likely not worth it."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668199540,"creation_date":1668199540,"answer_id":74407964,"question_id":74403784,"body_markdown":"I want to focus the wording of one point of your question, because I feel like it could be the crux of the underlying confusion.\r\n\r\n&gt; If I want to create my custom collector, I need to create two classes:\r\n&gt; \r\n&gt; one for the custom accumulation type\r\n&gt; one for the custom collector itself\r\n\r\nNo, you need to create only one *class,* that of your custom accumulator. You should use [the appropriate factory method][1] to instantiate your custom `Collector`, as you demonstrate yourself in the question.\r\n\r\nPerhaps you meant to say that you need to create two *instances.* And that is also incorrect; you need to create a `Collector` instance, but to support the general case, *many* instances of the accumulator can be created (e.g., `groupingBy()`). Thus, you can&#39;t simply instantiate the accumulator yourself, you need to provide its `Supplier` to the `Collector`, and delegate to the `Collector` the ability to instantiate as many instances as required.\r\n\r\nNow, think about the overloaded `Collectors.of()` method you feel is missing, the &quot;more direct way to do this.&quot; Clearly, such a method would still require a `Supplier`, one that would create instances of your custom accumulator. But `Stream.collect()` needs to interact with your custom accumulator instances, to perform accumulate and combine operations. So the `Supplier` would have to instantiate something like this `Accumulator` interface:\r\n\r\n```java\r\npublic interface Accumulator&lt;T, A extends Accumulator&lt;T, A, R&gt;, R&gt; {\r\n\r\n    /**\r\n     * @param t a value to be folded into this mutable result container\r\n     */\r\n    void accumulate(T t);\r\n\r\n    /**\r\n     * @param that another partial result to be merged with this container\r\n     * @return the combined results, which may be {@code this}, {@code that}, or a new container\r\n     */\r\n    A combine(A that);\r\n\r\n    /**\r\n     * @return the final result of transforming this intermediate accumulator\r\n     */\r\n    R finish();\r\n\r\n}\r\n```\r\n\r\nWith that, it&#39;s then straightforward to create `Collector` instances from an `Supplier&lt;Accumulator&gt;`:\r\n\r\n```java\r\n    static &lt;T, A extends Accumulator&lt;T, A, R&gt;, R&gt; \r\n    Collector&lt;T, ?, R&gt; of(Supplier&lt;A&gt; supplier, Collector.Characteristics ... characteristics) {\r\n        return Collector.of(supplier, \r\n                            Accumulator::accumulate, \r\n                            Accumulator::combine, \r\n                            Accumulator::finish, \r\n                            characteristics);\r\n    }\r\n```\r\n\r\nThen, you&#39;d be able to define your custom `Accumulator`:\r\n\r\n```java\r\nfinal class Sum implements Accumulator&lt;Integer, Sum, String&gt; {\r\n\r\n    private int value;\r\n\r\n    @Override\r\n    public void accumulate(Integer next) {\r\n        value += next;\r\n    }\r\n\r\n    @Override\r\n    public Sum combine(Sum that) {\r\n        value += that.value;\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public String finish(){\r\n        return Integer.toString(value);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd use it:\r\n\r\n```java\r\nString sum = ints.stream().collect(Accumulator.of(Sum::new, Collector.Characteristics.UNORDERED));\r\n```\r\n\r\nNow&amp;hellip; it works, and there&#39;s nothing *too* horrible about it, but is all the `Accumulator&lt;A extends Accumulator&lt;A&gt;&gt;` mumbo-jumbo &quot;more direct&quot; than this?\r\n\r\n```java\r\nfinal class Sum {\r\n\r\n    private int value;\r\n\r\n    private void accumulate(Integer next) {\r\n        value += next;\r\n    }\r\n\r\n    private Sum combine(Sum that) {\r\n        value += that.value;\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return Integer.toString(value);\r\n    }\r\n\r\n    static Collector&lt;Integer, ?, String&gt; collector() {\r\n        return Collector.of(Sum::new, Sum::accumulate, Sum::combine, Sum::toString, Collector.Characteristics.UNORDERED);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd really, why have an `Accumulator` dedicated to collecting to a `String`? Wouldn&#39;t reduction to a custom type be more interesting? Something that along the lines of `IntSummaryStatistics` that has other useful methods like `average()` alongside `toString()`? This approach is a lot more powerful, requires only one (mutable) class (the result type) and can encapsulate all of its mutators as private methods rather than implementing a public interface.\r\n\r\nSo, you&#39;re welcome to use something like `Accumulator`, but it doesn&#39;t really fill a real gap in the core `Collector` repertoire.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html#of-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BinaryOperator-java.util.stream.Collector.Characteristics...-","title":"Java implement accumulator class that provides a Collector","body":"<p>I want to focus the wording of one point of your question, because I feel like it could be the crux of the underlying confusion.</p>\n<blockquote>\n<p>If I want to create my custom collector, I need to create two classes:</p>\n<p>one for the custom accumulation type\none for the custom collector itself</p>\n</blockquote>\n<p>No, you need to create only one <em>class,</em> that of your custom accumulator. You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html#of-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BinaryOperator-java.util.stream.Collector.Characteristics...-\" rel=\"nofollow noreferrer\">the appropriate factory method</a> to instantiate your custom <code>Collector</code>, as you demonstrate yourself in the question.</p>\n<p>Perhaps you meant to say that you need to create two <em>instances.</em> And that is also incorrect; you need to create a <code>Collector</code> instance, but to support the general case, <em>many</em> instances of the accumulator can be created (e.g., <code>groupingBy()</code>). Thus, you can't simply instantiate the accumulator yourself, you need to provide its <code>Supplier</code> to the <code>Collector</code>, and delegate to the <code>Collector</code> the ability to instantiate as many instances as required.</p>\n<p>Now, think about the overloaded <code>Collectors.of()</code> method you feel is missing, the &quot;more direct way to do this.&quot; Clearly, such a method would still require a <code>Supplier</code>, one that would create instances of your custom accumulator. But <code>Stream.collect()</code> needs to interact with your custom accumulator instances, to perform accumulate and combine operations. So the <code>Supplier</code> would have to instantiate something like this <code>Accumulator</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Accumulator&lt;T, A extends Accumulator&lt;T, A, R&gt;, R&gt; {\n\n    /**\n     * @param t a value to be folded into this mutable result container\n     */\n    void accumulate(T t);\n\n    /**\n     * @param that another partial result to be merged with this container\n     * @return the combined results, which may be {@code this}, {@code that}, or a new container\n     */\n    A combine(A that);\n\n    /**\n     * @return the final result of transforming this intermediate accumulator\n     */\n    R finish();\n\n}\n</code></pre>\n<p>With that, it's then straightforward to create <code>Collector</code> instances from an <code>Supplier&lt;Accumulator&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static &lt;T, A extends Accumulator&lt;T, A, R&gt;, R&gt; \n    Collector&lt;T, ?, R&gt; of(Supplier&lt;A&gt; supplier, Collector.Characteristics ... characteristics) {\n        return Collector.of(supplier, \n                            Accumulator::accumulate, \n                            Accumulator::combine, \n                            Accumulator::finish, \n                            characteristics);\n    }\n</code></pre>\n<p>Then, you'd be able to define your custom <code>Accumulator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Sum implements Accumulator&lt;Integer, Sum, String&gt; {\n\n    private int value;\n\n    @Override\n    public void accumulate(Integer next) {\n        value += next;\n    }\n\n    @Override\n    public Sum combine(Sum that) {\n        value += that.value;\n        return this;\n    }\n\n    @Override\n    public String finish(){\n        return Integer.toString(value);\n    }\n\n}\n</code></pre>\n<p>And use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sum = ints.stream().collect(Accumulator.of(Sum::new, Collector.Characteristics.UNORDERED));\n</code></pre>\n<p>Now… it works, and there's nothing <em>too</em> horrible about it, but is all the <code>Accumulator&lt;A extends Accumulator&lt;A&gt;&gt;</code> mumbo-jumbo &quot;more direct&quot; than this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Sum {\n\n    private int value;\n\n    private void accumulate(Integer next) {\n        value += next;\n    }\n\n    private Sum combine(Sum that) {\n        value += that.value;\n        return this;\n    }\n\n    @Override\n    public String toString() {\n        return Integer.toString(value);\n    }\n\n    static Collector&lt;Integer, ?, String&gt; collector() {\n        return Collector.of(Sum::new, Sum::accumulate, Sum::combine, Sum::toString, Collector.Characteristics.UNORDERED);\n    }\n\n}\n</code></pre>\n<p>And really, why have an <code>Accumulator</code> dedicated to collecting to a <code>String</code>? Wouldn't reduction to a custom type be more interesting? Something that along the lines of <code>IntSummaryStatistics</code> that has other useful methods like <code>average()</code> alongside <code>toString()</code>? This approach is a lot more powerful, requires only one (mutable) class (the result type) and can encapsulate all of its mutators as private methods rather than implementing a public interface.</p>\n<p>So, you're welcome to use something like <code>Accumulator</code>, but it doesn't really fill a real gap in the core <code>Collector</code> repertoire.</p>\n"}],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74407964,"answer_count":3,"score":3,"last_activity_date":1668199540,"creation_date":1668176129,"question_id":74403784,"body_markdown":"A `Collector` has three generic types: \r\n```\r\npublic interface Collector&lt;T, A, R&gt;\r\n```\r\n\r\nWith `A` being _the mutable accumulation type of the reduction operation (often hidden as an implementation detail)_.\r\n\r\nIf I want to create my custom collector, I need to create two classes: \r\n * one for the custom accumulation type\r\n * one for the custom collector itself\r\n\r\nIs there any library function/trick that takes the accumulation type and provides a corresponding Collector? \r\n\r\n### Simple example\r\nThis example is extra simple to illustrate the question, **I know I could use `reduce` for this case, but this is not what I am looking for**. Here is a [more complex example](https://stackoverflow.com/a/74401856/7424948) that sharing here would make the question too long, but it is the same idea.\r\n\r\nLet&#39;s say I want to collect the sum of a stream and return it as a `String`.\r\n\r\nI can implement my accumulator class:\r\n\r\n    public static class SumCollector {\r\n       Integer value;\r\n\r\n        public SumCollector(Integer value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public static SumCollector supply() {\r\n            return new SumCollector(0);\r\n        }\r\n\r\n        public void accumulate(Integer next) {\r\n           value += next;\r\n        }\r\n\r\n        public SumCollector combine(SumCollector other) {\r\n           return new SumCollector(value + other.value);\r\n        }\r\n\r\n        public String finish(){\r\n            return Integer.toString(value);\r\n        }\r\n    }\r\n\r\nAnd then I can create a `Collector` from this class:\r\n\r\n```\r\nCollector.of(SumCollector::supply, SumCollector::accumulate, SumCollector::combine, SumCollector::finish);\r\n```\r\n\r\nBut it seems strange to me that they all refer to the the other class, I feel that there is a more direct way to do this.\r\n\r\nWhat I could do to keep only one class would be `implements Collector&lt;Integer, SumCollector, String&gt;` but then every function would be duplicated (`supplier()` would return `SumCollector::supply`, etc).\r\n\r\n","title":"Java implement accumulator class that provides a Collector","body":"<p>A <code>Collector</code> has three generic types:</p>\n<pre><code>public interface Collector&lt;T, A, R&gt;\n</code></pre>\n<p>With <code>A</code> being <em>the mutable accumulation type of the reduction operation (often hidden as an implementation detail)</em>.</p>\n<p>If I want to create my custom collector, I need to create two classes:</p>\n<ul>\n<li>one for the custom accumulation type</li>\n<li>one for the custom collector itself</li>\n</ul>\n<p>Is there any library function/trick that takes the accumulation type and provides a corresponding Collector?</p>\n<h3>Simple example</h3>\n<p>This example is extra simple to illustrate the question, <strong>I know I could use <code>reduce</code> for this case, but this is not what I am looking for</strong>. Here is a <a href=\"https://stackoverflow.com/a/74401856/7424948\">more complex example</a> that sharing here would make the question too long, but it is the same idea.</p>\n<p>Let's say I want to collect the sum of a stream and return it as a <code>String</code>.</p>\n<p>I can implement my accumulator class:</p>\n<pre><code>public static class SumCollector {\n   Integer value;\n\n    public SumCollector(Integer value) {\n        this.value = value;\n    }\n\n    public static SumCollector supply() {\n        return new SumCollector(0);\n    }\n\n    public void accumulate(Integer next) {\n       value += next;\n    }\n\n    public SumCollector combine(SumCollector other) {\n       return new SumCollector(value + other.value);\n    }\n\n    public String finish(){\n        return Integer.toString(value);\n    }\n}\n</code></pre>\n<p>And then I can create a <code>Collector</code> from this class:</p>\n<pre><code>Collector.of(SumCollector::supply, SumCollector::accumulate, SumCollector::combine, SumCollector::finish);\n</code></pre>\n<p>But it seems strange to me that they all refer to the the other class, I feel that there is a more direct way to do this.</p>\n<p>What I could do to keep only one class would be <code>implements Collector&lt;Integer, SumCollector, String&gt;</code> but then every function would be duplicated (<code>supplier()</code> would return <code>SumCollector::supply</code>, etc).</p>\n"},{"tags":["java","android","flutter","android-studio"],"answers":[{"comments":[{"owner":{"account_id":21282461,"reputation":9,"user_id":15660683,"display_name":"wiem BM"},"score":0,"creation_date":1668254115,"post_id":74407918,"comment_id":131363661,"body_markdown":"it did not help , i have installed every requirement related to the &#39;flutter doctor &#39; command and I have created a new device but nothing have changed .","body":"it did not help , i have installed every requirement related to the &#39;flutter doctor &#39; command and I have created a new device but nothing have changed ."},{"owner":{"account_id":21282461,"reputation":9,"user_id":15660683,"display_name":"wiem BM"},"score":0,"creation_date":1668973370,"post_id":74407918,"comment_id":131530616,"body_markdown":"the solution was that i will just use vs code instead of android studio","body":"the solution was that i will just use vs code instead of android studio"}],"tags":[],"owner":{"account_id":20471264,"reputation":27,"user_id":15021639,"display_name":"Alexandro Heredia"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668199292,"creation_date":1668199292,"answer_id":74407918,"question_id":74407771,"body_markdown":"I would make sure to get rid of that Android licenses and VS Code error. \r\nThen on android studio, from the menu bar: &quot;Tools &gt; Device Manager &gt; Create new device&quot;. Create a new virtual emulator from there and delete any old ones.\r\n\r\nAlso, I would recommend to ask for help after your &quot;flutter doctor -v&quot; comes out clean with &quot;No issues found!&quot;.","title":"not applicable for the &#39; main.dart &#39; configuration","body":"<p>I would make sure to get rid of that Android licenses and VS Code error.\nThen on android studio, from the menu bar: &quot;Tools &gt; Device Manager &gt; Create new device&quot;. Create a new virtual emulator from there and delete any old ones.</p>\n<p>Also, I would recommend to ask for help after your &quot;flutter doctor -v&quot; comes out clean with &quot;No issues found!&quot;.</p>\n"}],"owner":{"account_id":21282461,"reputation":9,"user_id":15660683,"display_name":"wiem BM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668199292,"creation_date":1668198407,"question_id":74407771,"body_markdown":"i couldn&#39;t run my flutter application on a real device neither on the emulator even thought the flutter sdk is installed and it&#39;s path is set does anybody knows what can be the cause of it ?\r\nhere&#39;s how it is shown in android studio[![enter image description here](https://i.stack.imgur.com/dKmqJ.png)](https://i.stack.imgur.com/dKmqJ.png)\r\n\r\nwhen checked the project structure it says [![enter image description here](https://i.stack.imgur.com/ce4Up.png)](https://i.stack.imgur.com/ce4Up.png) how can i also fix this ?\r\n\r\nhere&#39;s the command that i made because they said that i should verifiy that my phone can be seen by the flutter sdk  and that i should make sure that there is no error left by the &#39;flutter doctor&#39; command \r\nbut nothing did actually help \r\n[![enter image description here](https://i.stack.imgur.com/VYc1o.png)](https://i.stack.imgur.com/VYc1o.png)","title":"not applicable for the &#39; main.dart &#39; configuration","body":"<p>i couldn't run my flutter application on a real device neither on the emulator even thought the flutter sdk is installed and it's path is set does anybody knows what can be the cause of it ?\nhere's how it is shown in android studio<a href=\"https://i.stack.imgur.com/dKmqJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKmqJ.png\" alt=\"enter image description here\" /></a></p>\n<p>when checked the project structure it says <a href=\"https://i.stack.imgur.com/ce4Up.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ce4Up.png\" alt=\"enter image description here\" /></a> how can i also fix this ?</p>\n<p>here's the command that i made because they said that i should verifiy that my phone can be seen by the flutter sdk  and that i should make sure that there is no error left by the 'flutter doctor' command\nbut nothing did actually help\n<a href=\"https://i.stack.imgur.com/VYc1o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYc1o.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase","android-studio","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1668202385,"post_id":74407865,"comment_id":131356655,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26864616,"reputation":304,"user_id":20447561,"display_name":"Yuji Bry"},"score":0,"creation_date":1669144417,"post_id":74407865,"comment_id":131576351,"body_markdown":"Maybe you can share what code implementation have you done and what specific blocker are you experiencing. Please read [how to ask](https://stackoverflow.com/help/how-to-ask) and [how to create minimal repro](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Maybe you can share what code implementation have you done and what specific blocker are you experiencing. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">how to create minimal repro</a>."}],"owner":{"account_id":26904558,"reputation":1,"user_id":20481145,"display_name":"Deva Aarif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668199011,"creation_date":1668198953,"question_id":74407865,"body_markdown":"Can somebody help please, I have Google FCM integrated in my Java app so when I send any notification from my admin panel, on receiving notification in app it shows wrong time under notification as 10 hrs. How to fix it? \r\n\r\nGoogle for solutions but nothing found.","title":"Wrong notification time showing in app (Google FCM)","body":"<p>Can somebody help please, I have Google FCM integrated in my Java app so when I send any notification from my admin panel, on receiving notification in app it shows wrong time under notification as 10 hrs. How to fix it?</p>\n<p>Google for solutions but nothing found.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9332,"page":891,"page_size":100}
