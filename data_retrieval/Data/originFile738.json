{"items":[{"tags":["java","unit-testing","junit","mockito","powermock"],"comments":[{"owner":{"account_id":47744,"reputation":5200,"user_id":141522,"accept_rate":94,"display_name":"David Weiser"},"score":1,"creation_date":1297354065,"post_id":4959489,"comment_id":5533563,"body_markdown":"What happens when you remove the CollaboratorToBeMocked( java.lang.Class.class ) constructor?  Does it work then?","body":"What happens when you remove the CollaboratorToBeMocked( java.lang.Class.class ) constructor?  Does it work then?"},{"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"score":0,"creation_date":1297354172,"post_id":4959489,"comment_id":5533587,"body_markdown":"you mean, when i remove the other constructor... yes, if i remove the constructor with InjectedIntoCollaborator, it works","body":"you mean, when i remove the other constructor... yes, if i remove the constructor with InjectedIntoCollaborator, it works"}],"answers":[{"comments":[{"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"score":0,"creation_date":1297414522,"post_id":4962737,"comment_id":5543843,"body_markdown":"you&#39;re right. my supress is a mess. nevertheless, it still does not work i used `suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));`","body":"you&#39;re right. my supress is a mess. nevertheless, it still does not work i used <code>suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));</code>"},{"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"score":0,"creation_date":1297416769,"post_id":4962737,"comment_id":5544239,"body_markdown":"um, my test was bad. once i fixed the test class, the test went green. so, the problem is, now, the supress. might be a bug...","body":"um, my test was bad. once i fixed the test class, the test went green. so, the problem is, now, the supress. might be a bug..."},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":0,"creation_date":1297704262,"post_id":4962737,"comment_id":5581649,"body_markdown":"If you have a complete example and still fail to see the expected outcome, I should definitely file a bug report to the project.","body":"If you have a complete example and still fail to see the expected outcome, I should definitely file a bug report to the project."}],"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548680949,"creation_date":1297372286,"answer_id":4962737,"question_id":4959489,"body_markdown":"I didn&#39;t know of PowerMock until you wrote your question, but did some reading and found this in their documentation. Still I am not really sure if that helps you:\r\n\r\n&gt; If the super class have several\r\n&gt; constructors it&#39;s possible to tell\r\n&gt; PowerMock to only suppress a specific\r\n&gt; one. Let&#39;s say you have a class called\r\n&gt; `ClassWithSeveralConstructors` that has\r\n&gt; one constructor that takes a `String`\r\n&gt; and another constructor that takes an\r\n&gt; `int` as an argument and you only want\r\n&gt; to suppress the `String` constructor.\r\n&gt; You can do this using the \r\n&gt; `suppress(constructor(ClassWithSeveralConstructors.class, String.class));` \r\n&gt; method.\r\n\r\nfound at http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior\r\n\r\nIsn&#39;t it the thing you wanted?\r\n\r\nEDIT: Now I see, you&#39;ve already tried suppressing. But are you sure you got the suppress call right? Isn&#39;t the first argument of `constructor()` supposed to be the class you would like to surpress the constructor in?","title":"How to mock object with constructor that takes a Class?","body":"<p>I didn't know of PowerMock until you wrote your question, but did some reading and found this in their documentation. Still I am not really sure if that helps you:</p>\n\n<blockquote>\n  <p>If the super class have several\n  constructors it's possible to tell\n  PowerMock to only suppress a specific\n  one. Let's say you have a class called\n  <code>ClassWithSeveralConstructors</code> that has\n  one constructor that takes a <code>String</code>\n  and another constructor that takes an\n  <code>int</code> as an argument and you only want\n  to suppress the <code>String</code> constructor.\n  You can do this using the \n  <code>suppress(constructor(ClassWithSeveralConstructors.class, String.class));</code> \n  method.</p>\n</blockquote>\n\n<p>found at <a href=\"http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior\" rel=\"nofollow noreferrer\">http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior</a></p>\n\n<p>Isn't it the thing you wanted?</p>\n\n<p>EDIT: Now I see, you've already tried suppressing. But are you sure you got the suppress call right? Isn't the first argument of <code>constructor()</code> supposed to be the class you would like to surpress the constructor in?</p>\n"},{"comments":[{"owner":{"account_id":58713,"reputation":1207,"user_id":175759,"accept_rate":40,"display_name":"gaoagong"},"score":1,"creation_date":1403902194,"post_id":8033276,"comment_id":37854281,"body_markdown":"This answer worked for me. I had a situation with the ResponseEntity class which has a generic T.\n\n   public ResponseEntity(MultiValueMap&lt;String, String&gt; headers, HttpStatus statusCode)\n   public ResponseEntity(T body, HttpStatus statusCode)\nIf you use the syntax:\n   PowerMockito.whenNew(ResponseEntity.class).withArguments(headers, statusCode).thenReturn(responseEntity);\n\nit doesn&#39;t work, but\n\nPowerMockito.whenNew(ResponseEntity.class).withParameterTypes(MultiValueMap.class, HttpStatus.class).withArguments(headers, statusCode).thenReturn(responseEntity);\n\nworks","body":"This answer worked for me. I had a situation with the ResponseEntity class which has a generic T.     public ResponseEntity(MultiValueMap&lt;String, String&gt; headers, HttpStatus statusCode)    public ResponseEntity(T body, HttpStatus statusCode) If you use the syntax:    PowerMockito.whenNew(ResponseEntity.class).withArguments(hea&zwnj;&#8203;ders, statusCode).thenReturn(responseEntity);  it doesn&#39;t work, but  PowerMockito.whenNew(ResponseEntity.class).withParameterType&zwnj;&#8203;s(MultiValueMap.clas&zwnj;&#8203;s, HttpStatus.class).withArguments(headers, statusCode).thenReturn(responseEntity);  works"}],"tags":[],"owner":{"account_id":276181,"reputation":1989,"user_id":569472,"accept_rate":57,"display_name":"Smartmarkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1451739657,"creation_date":1320646412,"answer_id":8033276,"question_id":4959489,"body_markdown":"Perhaps it is too late for your question. I met it today and found the solution at the following url. Basically, you need to specify your argument type like.\r\n\r\n    whenNew(MimeMessage.class).**withParameterTypes(MyParameterType.class)**.withArguments(isA(MyParameter.class)).thenReturn(mimeMessageMock); \r\n\r\nhttp://groups.google.com/group/powermock/msg/347f6ef1fb34d946?pli=1\r\n\r\nHope it can help you. :)","title":"How to mock object with constructor that takes a Class?","body":"<p>Perhaps it is too late for your question. I met it today and found the solution at the following url. Basically, you need to specify your argument type like.</p>\n\n<pre><code>whenNew(MimeMessage.class).**withParameterTypes(MyParameterType.class)**.withArguments(isA(MyParameter.class)).thenReturn(mimeMessageMock); \n</code></pre>\n\n<p><a href=\"http://groups.google.com/group/powermock/msg/347f6ef1fb34d946?pli=1\" rel=\"nofollow noreferrer\">http://groups.google.com/group/powermock/msg/347f6ef1fb34d946?pli=1</a></p>\n\n<p>Hope it can help you. :)</p>\n"},{"tags":[],"owner":{"account_id":4391031,"reputation":1,"user_id":3579402,"display_name":"janimationd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673481170,"creation_date":1673481170,"answer_id":75090205,"question_id":4959489,"body_markdown":"If using PowerMock for EasyMock you can do `PowerMock.expectNew(CollaboratorToBeMocked.class, new Class[]{InjectedIntoCollaborator.class}, ...)` where the `Class[]` is the parameter types of the constructor you&#39;re expecting to be called. This will resolve the ambiguity between the constructors.","title":"How to mock object with constructor that takes a Class?","body":"<p>If using PowerMock for EasyMock you can do <code>PowerMock.expectNew(CollaboratorToBeMocked.class, new Class[]{InjectedIntoCollaborator.class}, ...)</code> where the <code>Class[]</code> is the parameter types of the constructor you're expecting to be called. This will resolve the ambiguity between the constructors.</p>\n"}],"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19745,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1673481170,"creation_date":1297353807,"question_id":4959489,"body_markdown":"This is the test:\r\n\r\n    import static junit.framework.Assert.assertTrue;\r\n    import static org.powermock.api.mockito.PowerMockito.mock;\r\n    import static org.powermock.api.mockito.PowerMockito.whenNew;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest( {ClassUnderTesting.class} )\r\n    public class ClassUnderTestingTest {\r\n    \t\r\n    \t@Test\r\n    \tpublic void shouldInitializeMocks() throws Exception {\r\n    \t\tCollaboratorToBeMocked mockedCollaborator = mock(CollaboratorToBeMocked.class);\r\n    \t\t\r\n                suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));\r\n\r\n    \t\twhenNew(CollaboratorToBeMocked.class)\r\n    \t\t\t.withArguments(InjectedAsTypeIntoCollaborator.class)\r\n    \t\t\t.thenReturn(mockedCollaborator);\r\n    \t\t\r\n    \t\tnew ClassUnderTesting().methodUnderTesting();\r\n    \t\t\r\n    \t\tassertTrue(true);\r\n    \t}\r\n    }\r\n\r\nThese are the classes :\r\n\r\n    public class ClassUnderTesting {\r\n    \r\n    \tpublic void methodUnderTesting() {\r\n    \t\tnew CollaboratorToBeMocked(InjectedAsTypeIntoCollaborator.class);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    public class CollaboratorToBeMocked {\r\n    \r\n    \tpublic CollaboratorToBeMocked(Class&lt;InjectedAsTypeIntoCollaborator&gt; clazz) {\r\n    \t}\r\n    \t\r\n    \tpublic CollaboratorToBeMocked(InjectedIntoCollaborator someCollaborator) {\r\n    \t}\r\n\r\n        public CollaboratorToBeMocked() {\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class InjectedAsTypeIntoCollaborator {\r\n    \r\n    }\r\n\r\n    public class InjectedIntoCollaborator {\r\n    \r\n    }\r\n\r\n\r\nThis is the error :\r\n\r\n    org.powermock.reflect.exceptions.TooManyConstructorsFoundException: Several matching constructors found, please specify the argument parameter types so that PowerMock can determine which method you&#39;re refering to.\r\n    Matching constructors in class CollaboratorToBeMocked were:\r\n    CollaboratorToBeMocked( InjectedIntoCollaborator.class )\r\n    CollaboratorToBeMocked( java.lang.Class.class )\r\n\r\nHere comes the **question**: how can I make PowerMock figure out what constructor to look for?\r\n\r\n_The problematic line_ is the `suppress`. That is where the error comes from.\r\n\r\n    ","title":"How to mock object with constructor that takes a Class?","body":"<p>This is the test:</p>\n\n<pre><code>import static junit.framework.Assert.assertTrue;\nimport static org.powermock.api.mockito.PowerMockito.mock;\nimport static org.powermock.api.mockito.PowerMockito.whenNew;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest( {ClassUnderTesting.class} )\npublic class ClassUnderTestingTest {\n\n    @Test\n    public void shouldInitializeMocks() throws Exception {\n        CollaboratorToBeMocked mockedCollaborator = mock(CollaboratorToBeMocked.class);\n\n            suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));\n\n        whenNew(CollaboratorToBeMocked.class)\n            .withArguments(InjectedAsTypeIntoCollaborator.class)\n            .thenReturn(mockedCollaborator);\n\n        new ClassUnderTesting().methodUnderTesting();\n\n        assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>These are the classes :</p>\n\n<pre><code>public class ClassUnderTesting {\n\n    public void methodUnderTesting() {\n        new CollaboratorToBeMocked(InjectedAsTypeIntoCollaborator.class);\n    }\n\n}\n\npublic class CollaboratorToBeMocked {\n\n    public CollaboratorToBeMocked(Class&lt;InjectedAsTypeIntoCollaborator&gt; clazz) {\n    }\n\n    public CollaboratorToBeMocked(InjectedIntoCollaborator someCollaborator) {\n    }\n\n    public CollaboratorToBeMocked() {\n    }\n\n}\n\npublic class InjectedAsTypeIntoCollaborator {\n\n}\n\npublic class InjectedIntoCollaborator {\n\n}\n</code></pre>\n\n<p>This is the error :</p>\n\n<pre><code>org.powermock.reflect.exceptions.TooManyConstructorsFoundException: Several matching constructors found, please specify the argument parameter types so that PowerMock can determine which method you're refering to.\nMatching constructors in class CollaboratorToBeMocked were:\nCollaboratorToBeMocked( InjectedIntoCollaborator.class )\nCollaboratorToBeMocked( java.lang.Class.class )\n</code></pre>\n\n<p>Here comes the <strong>question</strong>: how can I make PowerMock figure out what constructor to look for?</p>\n\n<p><em>The problematic line</em> is the <code>suppress</code>. That is where the error comes from.</p>\n"},{"tags":["java","android","speech-recognition","speech-to-text"],"comments":[{"owner":{"account_id":2599416,"reputation":622,"user_id":2252267,"accept_rate":83,"display_name":"user1257"},"score":0,"creation_date":1673482407,"post_id":75090180,"comment_id":132511966,"body_markdown":"Can Bundle results be null in onResults? Are there any errors in logcat?","body":"Can Bundle results be null in onResults? Are there any errors in logcat?"},{"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"score":0,"creation_date":1673483134,"post_id":75090180,"comment_id":132512082,"body_markdown":"@user1257 Logcat is not telling me anything, and I have verified that the code does not even visit onResults when I remain silent and this problem occurs.","body":"@user1257 Logcat is not telling me anything, and I have verified that the code does not even visit onResults when I remain silent and this problem occurs."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1673483407,"post_id":75090180,"comment_id":132512139,"body_markdown":"Your issue is likely in the `onError` where you call `textView.setText(error)` - this form (with an int parameter) is expecting a valid `resid` (resource id) - and if not found will fail with an exception.  The `error` parameter is not a valid resid.  Try converting the `int error` to a string specifically with `Integer.toString(error)`.","body":"Your issue is likely in the <code>onError</code> where you call <code>textView.setText(error)</code> - this form (with an int parameter) is expecting a valid <code>resid</code> (resource id) - and if not found will fail with an exception.  The <code>error</code> parameter is not a valid resid.  Try converting the <code>int error</code> to a string specifically with <code>Integer.toString(error)</code>."}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673480873,"creation_date":1673480873,"question_id":75090180,"body_markdown":"I am developing an Android app that uses the Google speech recognition api. For some reason, when I start up the app (via USB debugging on my Android phone), starting the listening process works just fine, and the app works smoothly if I do actually say something after clicking the button to make the app start listening for audio. However, if I click the button to start listening, and then I don&#39;t say anything, then the app crashes for some reason. In other words, if the speech recognition gets no results, then the app just crashes. Does anyone have any idea as to why? \r\n\r\n\r\nBelow is an excerpt of my code. (Yes, I did account for the permissions. I just didn&#39;t include that code in the excerpt below).\r\n\r\nI have tried putting try catch blocks in various places to see if I could catch the error that causes the crash, but it has yet to work. Furthermore, while there is an onResults method, there does not seem to be an onNoResults method.\r\n\r\n```\r\nspeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\nrecognitionListener = new RecognitionListener() {\r\n    @Override\r\n    public void onReadyForSpeech(Bundle params) {\r\n        // Called when the speech recognition process is ready to begin\r\n    }\r\n\r\n    @Override\r\n    public void onBeginningOfSpeech() {\r\n        // Called when the user begins speaking\r\n    }\r\n\r\n    @Override\r\n    public void onRmsChanged(float rmsdB) {\r\n        // Called when the volume of the spoken input changes\r\n    }\r\n\r\n    @Override\r\n    public void onBufferReceived(byte[] buffer) {\r\n        // Called when the app receives a buffer of audio data\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onEndOfSpeech() {\r\n       // Called when the user stops speaking\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void onError(int error) {\r\n        // Called when an error occurs during the speech recognition process\r\n        TextView textView = findViewById(R.id.errors);\r\n        textView.setText(error);\r\n    }\r\n\r\n    @Override\r\n    public void onResults(Bundle results) {\r\n        // Called when the speech recognition process has completed and the results are available\r\n        List&lt;String&gt; resultList = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n        if (resultList != null &amp;&amp; resultList.size() &gt; 0) {\r\n            // Display the first result in the text field\r\n            TextView textView = findViewById(R.id.spokenWords);\r\n            textView.setText(resultList.get(0));\r\n        }\r\n        //speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onPartialResults(Bundle partialResults) {\r\n       // Called when the app receives partial results of the speech recognition process\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onEvent(int eventType, Bundle params) {\r\n        // Called when the app receives other events from the speech recognition process\r\n\r\n    }\r\n\r\n\r\n};\r\n\r\nspeechRecognizer.setRecognitionListener(recognitionListener);\r\nButton startSpeech = findViewById(R.id.startSpeech);\r\nstartSpeech.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        TextView textView = findViewById(R.id.spokenWords);\r\n        textView.setText(&quot;Listening&quot;);\r\n        speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\r\n    }\r\n});\r\n```","title":"Android Java: Speech Recognition App crashes whenever there are no results","body":"<p>I am developing an Android app that uses the Google speech recognition api. For some reason, when I start up the app (via USB debugging on my Android phone), starting the listening process works just fine, and the app works smoothly if I do actually say something after clicking the button to make the app start listening for audio. However, if I click the button to start listening, and then I don't say anything, then the app crashes for some reason. In other words, if the speech recognition gets no results, then the app just crashes. Does anyone have any idea as to why?</p>\n<p>Below is an excerpt of my code. (Yes, I did account for the permissions. I just didn't include that code in the excerpt below).</p>\n<p>I have tried putting try catch blocks in various places to see if I could catch the error that causes the crash, but it has yet to work. Furthermore, while there is an onResults method, there does not seem to be an onNoResults method.</p>\n<pre><code>speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\nrecognitionListener = new RecognitionListener() {\n    @Override\n    public void onReadyForSpeech(Bundle params) {\n        // Called when the speech recognition process is ready to begin\n    }\n\n    @Override\n    public void onBeginningOfSpeech() {\n        // Called when the user begins speaking\n    }\n\n    @Override\n    public void onRmsChanged(float rmsdB) {\n        // Called when the volume of the spoken input changes\n    }\n\n    @Override\n    public void onBufferReceived(byte[] buffer) {\n        // Called when the app receives a buffer of audio data\n\n    }\n\n    @Override\n    public void onEndOfSpeech() {\n       // Called when the user stops speaking\n        \n    }\n\n    @Override\n    public void onError(int error) {\n        // Called when an error occurs during the speech recognition process\n        TextView textView = findViewById(R.id.errors);\n        textView.setText(error);\n    }\n\n    @Override\n    public void onResults(Bundle results) {\n        // Called when the speech recognition process has completed and the results are available\n        List&lt;String&gt; resultList = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n        if (resultList != null &amp;&amp; resultList.size() &gt; 0) {\n            // Display the first result in the text field\n            TextView textView = findViewById(R.id.spokenWords);\n            textView.setText(resultList.get(0));\n        }\n        //speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\n    }\n\n\n\n    @Override\n    public void onPartialResults(Bundle partialResults) {\n       // Called when the app receives partial results of the speech recognition process\n\n    }\n\n    @Override\n    public void onEvent(int eventType, Bundle params) {\n        // Called when the app receives other events from the speech recognition process\n\n    }\n\n\n};\n\nspeechRecognizer.setRecognitionListener(recognitionListener);\nButton startSpeech = findViewById(R.id.startSpeech);\nstartSpeech.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        TextView textView = findViewById(R.id.spokenWords);\n        textView.setText(&quot;Listening&quot;);\n        speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\n    }\n});\n</code></pre>\n"},{"tags":["java","rest","ssl"],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673480693,"creation_date":1673480372,"question_id":75090133,"body_markdown":"The code below is refactored based on existing code that works fine in the prod environment. I developed the test unit below in order to introduce a few improvements to the rest call from Java, mainly to implement the following:\r\n\r\n- add `scope`,\r\n- use the authentication header `Authorization: Basic &lt;base64 of client-id:client-secret&gt;`, and \r\n- add the `grant_type` and `scope` in the body using the `x-www-form-urlencoded` format.\r\n\r\nThe purpose of this rest call is to get the authorization token that will be used to authorize the other needed services (rest calls).\r\n\r\nI completed the first round of the change and tried to run the test and it failed.\r\n\r\n```\r\nimport static org.junit.Assert.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.DataOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\n\r\npublic class TestValueNETServices {\r\n\r\n\t@Test\r\n\tpublic void testGetJWT() throws Exception {\r\n\t\tString endPointURLwithToken = &quot;https://&lt;url-base&gt;/path/to/token/service&quot;;\r\n\t\tString contentType = &quot;application/x-www-form-urlencoded&quot;;\r\n\t\tString requestMethod = &quot;POST&quot;;\r\n\t\tURL url;\r\n\t\tboolean isSslFlag = true;\r\n\t\tHttpsURLConnection httpsURLCon = null;\r\n\t\tString webServiceResponse = null;\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t\turl = new URL(endPointURLwithToken);\r\n\t\t\t} catch (MalformedURLException malUrlEx) {\r\n\t\t\t\tSystem.out.println(&quot;Malformed URL: &quot; + malUrlEx.toString());\r\n\t\t\t\tmalUrlEx.printStackTrace();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\thttpsURLCon = (HttpsURLConnection) url.openConnection();\r\n\t\t\tif (isSslFlag) {\r\n\t\t\t\tString securedProtocol = &quot;TLSv1.2&quot;;\r\n\t\t\t\tSSLContext sc = SSLContext.getInstance(securedProtocol);\r\n\t\t\t\tsc.init(null, null, new java.security.SecureRandom());\r\n\t\t\t\thttpsURLCon.setSSLSocketFactory(sc.getSocketFactory());\r\n\t\t\t}\r\n\t\t\thttpsURLCon.setDoOutput(true);\r\n\t\t\thttpsURLCon.setRequestMethod(requestMethod);\r\n\t\t\thttpsURLCon.setRequestProperty(&quot;Content-Type&quot;, contentType);\r\n\t\t\tSystem.out.println(&quot;Request Method: &quot; + requestMethod + &quot; Content Type: &quot; + contentType);\r\n\t\t\tString client_id = &quot;client-id-value&quot;;\r\n\t\t\tString client_secret = &quot;client-secret-value&quot;;\r\n\t\t\tString grant_type = &quot;client_credentials&quot;;\r\n\t\t\tString scope = &quot;scope-value&quot;;\r\n\r\n\t\t\tString urlParameters = &quot;client_id=&quot; + client_id + &quot;&amp;client_secret=&quot; + client_secret + &quot;&amp;grant_type=&quot; + grant_type + &quot;scope=&quot; + scope;\r\n\t\t\tSystem.out.println(&quot;Parameters to get Token --&gt; client_id: &quot; + client_id + &quot; client_secret: &quot; + client_secret + &quot; grant_type: &quot; + grant_type);\r\n\t\t\t// Send post request\r\n\t\t\tDataOutputStream wr = new DataOutputStream(httpsURLCon.getOutputStream());\r\n\t\t\twr.writeBytes(urlParameters);\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\r\n\t\t\tSystem.out.println(&quot;HTTP Status Get JWT call:&quot; + Integer.toString(httpsURLCon.getResponseCode()));\r\n\t\t\tSystem.out.println(&quot;HTTP ResponseMessage &quot; + httpsURLCon.getResponseMessage());\r\n\r\n\t\t\tif (httpsURLCon.getResponseCode() == HttpsURLConnection.HTTP_OK) {\r\n\t\t\t\tInputStream responseInputStr = httpsURLCon.getInputStream();\r\n\t\t\t\tString tokenResponse = null;\r\n\t\t\t\tif (responseInputStr != null) {\r\n\t\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(responseInputStr));\r\n\t\t\t\t\tString output;\r\n\t\t\t\t\tStringBuffer responseStrBuf = new StringBuffer();\r\n\t\t\t\t\twhile ((output = br.readLine()) != null) {\r\n\t\t\t\t\t\t// System.out.println(output);\r\n\t\t\t\t\t\tresponseStrBuf.append(output);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbr.close();\r\n\t\t\t\t\ttokenResponse = responseStrBuf.toString();\r\n\t\t\t\t\twebServiceResponse = tokenResponse;\r\n\t\t\t\t}\r\n\t\t\t\tassertTrue(webServiceResponse != null &amp;&amp; (!webServiceResponse.isEmpty()));\r\n\t\t\t} else {\r\n\t\t\t\tfail(&quot;FAILED - HTTP Error code: &quot; + httpsURLCon.getResponseCode());\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(ex.toString());\r\n\t\t\tex.printStackTrace();\r\n\t\t\tfail(ex.toString());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe error displayed on the console is shown below:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nAlso, I configured the rest call using postman and it works fine after I disabled SSL Certificate Verification.\r\n\r\nThe code above still requires further tweaking and implementing Base64 conversion for this part `Authorization: Basic &lt;base64 of client-id:client-secret&gt;`, however, it is falling for SSL configuration issues. I am not familiar with this part, and I need help. I think the SSL Certificate is configured properly on the prod runtime environment, and I need to do the same on my local dev environment but not sure how. I am OK with bypassing this part to make it work same as in postman for the sake of testing the approach. I appreciate your help.","title":"Cannot invoke rest call from java with SSL TLSv1.2 to get an authentication token","body":"<p>The code below is refactored based on existing code that works fine in the prod environment. I developed the test unit below in order to introduce a few improvements to the rest call from Java, mainly to implement the following:</p>\n<ul>\n<li>add <code>scope</code>,</li>\n<li>use the authentication header <code>Authorization: Basic &lt;base64 of client-id:client-secret&gt;</code>, and</li>\n<li>add the <code>grant_type</code> and <code>scope</code> in the body using the <code>x-www-form-urlencoded</code> format.</li>\n</ul>\n<p>The purpose of this rest call is to get the authorization token that will be used to authorize the other needed services (rest calls).</p>\n<p>I completed the first round of the change and tried to run the test and it failed.</p>\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\n\npublic class TestValueNETServices {\n\n    @Test\n    public void testGetJWT() throws Exception {\n        String endPointURLwithToken = &quot;https://&lt;url-base&gt;/path/to/token/service&quot;;\n        String contentType = &quot;application/x-www-form-urlencoded&quot;;\n        String requestMethod = &quot;POST&quot;;\n        URL url;\n        boolean isSslFlag = true;\n        HttpsURLConnection httpsURLCon = null;\n        String webServiceResponse = null;\n        try {\n            try {\n                url = new URL(endPointURLwithToken);\n            } catch (MalformedURLException malUrlEx) {\n                System.out.println(&quot;Malformed URL: &quot; + malUrlEx.toString());\n                malUrlEx.printStackTrace();\n                return;\n            }\n            httpsURLCon = (HttpsURLConnection) url.openConnection();\n            if (isSslFlag) {\n                String securedProtocol = &quot;TLSv1.2&quot;;\n                SSLContext sc = SSLContext.getInstance(securedProtocol);\n                sc.init(null, null, new java.security.SecureRandom());\n                httpsURLCon.setSSLSocketFactory(sc.getSocketFactory());\n            }\n            httpsURLCon.setDoOutput(true);\n            httpsURLCon.setRequestMethod(requestMethod);\n            httpsURLCon.setRequestProperty(&quot;Content-Type&quot;, contentType);\n            System.out.println(&quot;Request Method: &quot; + requestMethod + &quot; Content Type: &quot; + contentType);\n            String client_id = &quot;client-id-value&quot;;\n            String client_secret = &quot;client-secret-value&quot;;\n            String grant_type = &quot;client_credentials&quot;;\n            String scope = &quot;scope-value&quot;;\n\n            String urlParameters = &quot;client_id=&quot; + client_id + &quot;&amp;client_secret=&quot; + client_secret + &quot;&amp;grant_type=&quot; + grant_type + &quot;scope=&quot; + scope;\n            System.out.println(&quot;Parameters to get Token --&gt; client_id: &quot; + client_id + &quot; client_secret: &quot; + client_secret + &quot; grant_type: &quot; + grant_type);\n            // Send post request\n            DataOutputStream wr = new DataOutputStream(httpsURLCon.getOutputStream());\n            wr.writeBytes(urlParameters);\n            wr.flush();\n            wr.close();\n\n            System.out.println(&quot;HTTP Status Get JWT call:&quot; + Integer.toString(httpsURLCon.getResponseCode()));\n            System.out.println(&quot;HTTP ResponseMessage &quot; + httpsURLCon.getResponseMessage());\n\n            if (httpsURLCon.getResponseCode() == HttpsURLConnection.HTTP_OK) {\n                InputStream responseInputStr = httpsURLCon.getInputStream();\n                String tokenResponse = null;\n                if (responseInputStr != null) {\n                    BufferedReader br = new BufferedReader(new InputStreamReader(responseInputStr));\n                    String output;\n                    StringBuffer responseStrBuf = new StringBuffer();\n                    while ((output = br.readLine()) != null) {\n                        // System.out.println(output);\n                        responseStrBuf.append(output);\n                    }\n                    br.close();\n                    tokenResponse = responseStrBuf.toString();\n                    webServiceResponse = tokenResponse;\n                }\n                assertTrue(webServiceResponse != null &amp;&amp; (!webServiceResponse.isEmpty()));\n            } else {\n                fail(&quot;FAILED - HTTP Error code: &quot; + httpsURLCon.getResponseCode());\n            }\n        } catch (Exception ex) {\n            System.out.println(ex.toString());\n            ex.printStackTrace();\n            fail(ex.toString());\n        }\n    }\n\n}\n</code></pre>\n<p>The error displayed on the console is shown below:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Also, I configured the rest call using postman and it works fine after I disabled SSL Certificate Verification.</p>\n<p>The code above still requires further tweaking and implementing Base64 conversion for this part <code>Authorization: Basic &lt;base64 of client-id:client-secret&gt;</code>, however, it is falling for SSL configuration issues. I am not familiar with this part, and I need help. I think the SSL Certificate is configured properly on the prod runtime environment, and I need to do the same on my local dev environment but not sure how. I am OK with bypassing this part to make it work same as in postman for the sake of testing the approach. I appreciate your help.</p>\n"},{"tags":["java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673480518,"creation_date":1673480518,"answer_id":75090147,"question_id":75090079,"body_markdown":"Instead of `onwershipElement.getTextContent()` use `onwershipElement.asNormalizedText()` .","title":"How do I preserve line breaks when extracting text out of an HtmlElement","body":"<p>Instead of <code>onwershipElement.getTextContent()</code> use <code>onwershipElement.asNormalizedText()</code> .</p>\n"}],"owner":{"account_id":15275556,"reputation":49,"user_id":11021382,"display_name":"God&#39;s Gift To Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673480518,"creation_date":1673479803,"question_id":75090079,"body_markdown":"I am trying to extract three separate strings from:\r\n&lt;https://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122&gt;\r\n\r\n 1. The owners names: Johnson Tommy A &amp; Nell H Cprs\r\n 2. The owners street address: 133 Maricopa Dr\r\n 3. The owners city, state and zip code, as one string: Winslow AZ 86047-2013\r\n\r\nI tried the following code:\r\n\r\n```\r\nimport com.gargoylesoftware.htmlunit.*;\r\nimport com.gargoylesoftware.htmlunit.html.*;\r\nimport com.gargoylesoftware.htmlunit.javascript.*;\r\nimport java.io.*;\r\n\r\npublic class PropertyOwner {\r\n\r\n    public static void PropertyOwner () {\r\n\r\n        try (final WebClient webClient = new WebClient()) {\r\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\r\n            java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\r\n            webClient.getOptions().setCssEnabled(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n            HtmlPage page = webClient.getPage(&quot;http://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122&quot;);\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);     \r\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            HtmlTable pnlGridView_nextYear = (HtmlTable) page.getElementById(&quot;pnlGridView_nextYear&quot;);\r\n            HtmlTableDataCell ownershipCell = (HtmlTableDataCell) pnlGridView_nextYear.getCellAt(0,0);\r\n            String ownershipCellAsText = ownershipCell.toString();\r\n            HtmlElement onwershipElement = (HtmlElement) page.getElementById(&quot;lblOwnership_NextYear&quot;);\r\n            System.out.println(&quot;ownershipCellAsText = &quot; + ownershipCellAsText);\r\n            System.out.println(&quot;onwershipElement.getTextContent() = &quot; + onwershipElement.getTextContent());\r\n\r\n\r\n        }\r\n\r\n        catch (Exception e) {\r\n            System.out.println(&quot;Error: &quot;+ e);\r\n        }\r\n  \r\n    }\r\n  \r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;validParcelIDs.txt&quot;);\r\n        PropertyOwner();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI then used the following two commands:\r\n```\r\n&gt; javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java\r\n&gt; java -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner\r\n```\r\n\r\nAnd got the following output:\r\n```\r\nownershipCellAsText = HtmlTableDataCell[&lt;td style=&quot;border:solid 1px black;&quot;&gt;]\r\nonwershipElement.getTextContent() = Johnson Tommy A &amp; Nell H Cprs133 Maricopa DrWinslow AZ 86047-2013\r\n```\r\n\r\nAs you can see, onwershipElement.getTextContent() is fairly close to what I want. Except that it removed the line breaks from the HtmlElement.\r\n\r\nI tried the following solution, which was proposed over 8 years ago:\r\n&lt;https://stackoverflow.com/questions/27077749/java-getting-text-content-from-an-element-to-include-line-breaks&gt;\r\nby adding just three lines of code to my program. The following three (non consecutive) lines:\r\n```\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.NodeList;\r\n.....\r\nWebView webView = new WebView();\r\n```\r\n\r\nAnd that gave me the following compiling error:\r\n```\r\nachab@HP-Envy [Navajo] $javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java \r\nPropertyOwner.java:15: error: cannot find symbol\r\n            WebView webView = new WebView(); \r\n            ^\r\n  symbol:   class WebView\r\n  location: class PropertyOwner\r\nPropertyOwner.java:15: error: cannot find symbol\r\n            WebView webView = new WebView(); \r\n                                  ^\r\n  symbol:   class WebView\r\n  location: class PropertyOwner\r\n2 errors\r\n```\r\nSo, it seems like that solution is outdated. The 2.69.0 release of HtmlUnit was released January 5, 2023.\r\n\r\nBefore that. I had tried 2.47.1 release of HtmlUnit, which was released about two years ago. With the same two problems described above: failure to preserve line breaks in the first version of the code, and not finding the symbol WebView in the second version of the code.\r\n\r\nWhat do I need to change in order to get the three separate strings that I want?\r\n","title":"How do I preserve line breaks when extracting text out of an HtmlElement","body":"<p>I am trying to extract three separate strings from:\n<a href=\"https://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122\" rel=\"nofollow noreferrer\">https://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122</a></p>\n<ol>\n<li>The owners names: Johnson Tommy A &amp; Nell H Cprs</li>\n<li>The owners street address: 133 Maricopa Dr</li>\n<li>The owners city, state and zip code, as one string: Winslow AZ 86047-2013</li>\n</ol>\n<p>I tried the following code:</p>\n<pre><code>import com.gargoylesoftware.htmlunit.*;\nimport com.gargoylesoftware.htmlunit.html.*;\nimport com.gargoylesoftware.htmlunit.javascript.*;\nimport java.io.*;\n\npublic class PropertyOwner {\n\n    public static void PropertyOwner () {\n\n        try (final WebClient webClient = new WebClient()) {\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\n            java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\n\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n\n            webClient.getOptions().setCssEnabled(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\n            HtmlPage page = webClient.getPage(&quot;http://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122&quot;);\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);     \n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            HtmlTable pnlGridView_nextYear = (HtmlTable) page.getElementById(&quot;pnlGridView_nextYear&quot;);\n            HtmlTableDataCell ownershipCell = (HtmlTableDataCell) pnlGridView_nextYear.getCellAt(0,0);\n            String ownershipCellAsText = ownershipCell.toString();\n            HtmlElement onwershipElement = (HtmlElement) page.getElementById(&quot;lblOwnership_NextYear&quot;);\n            System.out.println(&quot;ownershipCellAsText = &quot; + ownershipCellAsText);\n            System.out.println(&quot;onwershipElement.getTextContent() = &quot; + onwershipElement.getTextContent());\n\n\n        }\n\n        catch (Exception e) {\n            System.out.println(&quot;Error: &quot;+ e);\n        }\n  \n    }\n  \n    public static void main(String[] args) {\n        File file = new File(&quot;validParcelIDs.txt&quot;);\n        PropertyOwner();\n    }\n\n}\n</code></pre>\n<p>I then used the following two commands:</p>\n<pre><code>&gt; javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java\n&gt; java -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner\n</code></pre>\n<p>And got the following output:</p>\n<pre><code>ownershipCellAsText = HtmlTableDataCell[&lt;td style=&quot;border:solid 1px black;&quot;&gt;]\nonwershipElement.getTextContent() = Johnson Tommy A &amp; Nell H Cprs133 Maricopa DrWinslow AZ 86047-2013\n</code></pre>\n<p>As you can see, onwershipElement.getTextContent() is fairly close to what I want. Except that it removed the line breaks from the HtmlElement.</p>\n<p>I tried the following solution, which was proposed over 8 years ago:\n<a href=\"https://stackoverflow.com/questions/27077749/java-getting-text-content-from-an-element-to-include-line-breaks\">Java getting text content from an element to include line breaks</a>\nby adding just three lines of code to my program. The following three (non consecutive) lines:</p>\n<pre><code>import org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n.....\nWebView webView = new WebView();\n</code></pre>\n<p>And that gave me the following compiling error:</p>\n<pre><code>achab@HP-Envy [Navajo] $javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java \nPropertyOwner.java:15: error: cannot find symbol\n            WebView webView = new WebView(); \n            ^\n  symbol:   class WebView\n  location: class PropertyOwner\nPropertyOwner.java:15: error: cannot find symbol\n            WebView webView = new WebView(); \n                                  ^\n  symbol:   class WebView\n  location: class PropertyOwner\n2 errors\n</code></pre>\n<p>So, it seems like that solution is outdated. The 2.69.0 release of HtmlUnit was released January 5, 2023.</p>\n<p>Before that. I had tried 2.47.1 release of HtmlUnit, which was released about two years ago. With the same two problems described above: failure to preserve line breaks in the first version of the code, and not finding the symbol WebView in the second version of the code.</p>\n<p>What do I need to change in order to get the three separate strings that I want?</p>\n"},{"tags":["java","parsing","datetime-format","date-parsing","datetimeformatter"],"answers":[{"comments":[{"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"score":0,"creation_date":1454425978,"post_id":35156952,"comment_id":58032493,"body_markdown":"Thanks for your reply, but I still get an exception with this, when I run a unit test which passes in the above date to this method.\n\nThe exception message is &quot;Text &#39;2015-07-14T11:42:07.000+01:00&#39; could not be parsed at index 23&quot;.\n\nIs this to do with the single quotes you&#39;ve put around the Z? As I didnt think these were needed.","body":"Thanks for your reply, but I still get an exception with this, when I run a unit test which passes in the above date to this method.  The exception message is &quot;Text &#39;2015-07-14T11:42:07.000+01:00&#39; could not be parsed at index 23&quot;.  Is this to do with the single quotes you&#39;ve put around the Z? As I didnt think these were needed."},{"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"score":0,"creation_date":1454426894,"post_id":35156952,"comment_id":58033151,"body_markdown":"Sorry `Z` should be without single quotes. Also use small `z` as you are separating `hh` &amp; `mm` with `:` in `+01:00`.","body":"Sorry <code>Z</code> should be without single quotes. Also use small <code>z</code> as you are separating <code>hh</code> &amp; <code>mm</code> with <code>:</code> in <code>+01:00</code>."},{"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"score":0,"creation_date":1454431005,"post_id":35156952,"comment_id":58036105,"body_markdown":"Ah, thanks. :)\nI got it to work in the end by using &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;. Don&#39;t really understand the difference between X, Z and z though. It worked with three Xs but not one X. Also dont get why three Xs worked, since there are more than 3 characters there.","body":"Ah, thanks. :) I got it to work in the end by using &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;. Don&#39;t really understand the difference between X, Z and z though. It worked with three Xs but not one X. Also dont get why three Xs worked, since there are more than 3 characters there."},{"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"score":0,"creation_date":1454433045,"post_id":35156952,"comment_id":58037534,"body_markdown":"You are right to use `XXX` since it is `11:42:12.000+01:00`. I have added the description from JAVADoc in the solution.","body":"You are right to use <code>XXX</code> since it is <code>11:42:12.000+01:00</code>. I have added the description from JAVADoc in the solution."}],"tags":[],"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1616153829,"creation_date":1454425507,"answer_id":35156952,"question_id":35156809,"body_markdown":"It should be \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\r\n    //or\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSz&quot;);\r\n\r\n\r\ninstead of \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;);\r\n\r\nFrom JAVADoc:\r\n\r\n&gt; Offset X and x: This formats the offset based on the number of pattern\r\n&gt; letters. One letter outputs just the hour, such as &#39;+01&#39;, unless the\r\n&gt; minute is non-zero in which case the minute is also output, such as\r\n&gt; &#39;+0130&#39;. Two letters outputs the hour and minute, without a colon,\r\n&gt; such as &#39;+0130&#39;. Three letters outputs the hour and minute, with a\r\n&gt; colon, such as &#39;+01:30&#39;. Four letters outputs the hour and minute and\r\n&gt; optional second, without a colon, such as &#39;+013015&#39;. Five letters\r\n&gt; outputs the hour and minute and optional second, with a colon, such as\r\n&gt; &#39;+01:30:15&#39;. Six or more letters throws IllegalArgumentException.\r\n&gt; Pattern letter &#39;X&#39; (upper case) will output &#39;Z&#39; when the offset to be\r\n&gt; output would be zero, whereas pattern letter &#39;x&#39; (lower case) will\r\n&gt; output &#39;+00&#39;, &#39;+0000&#39;, or &#39;+00:00&#39;.","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<p>It should be</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n\n//or\n\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSz&quot;);\n</code></pre>\n<p>instead of</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;);\n</code></pre>\n<p>From JAVADoc:</p>\n<blockquote>\n<p>Offset X and x: This formats the offset based on the number of pattern\nletters. One letter outputs just the hour, such as '+01', unless the\nminute is non-zero in which case the minute is also output, such as\n'+0130'. Two letters outputs the hour and minute, without a colon,\nsuch as '+0130'. Three letters outputs the hour and minute, with a\ncolon, such as '+01:30'. Four letters outputs the hour and minute and\noptional second, without a colon, such as '+013015'. Five letters\noutputs the hour and minute and optional second, with a colon, such as\n'+01:30:15'. Six or more letters throws IllegalArgumentException.\nPattern letter 'X' (upper case) will output 'Z' when the offset to be\noutput would be zero, whereas pattern letter 'x' (lower case) will\noutput '+00', '+0000', or '+00:00'.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454436874,"creation_date":1454436874,"answer_id":35160916,"question_id":35156809,"body_markdown":"Both &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZZZZ&quot; and &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSVV&quot; would work. Note that 5 Zs work but no less","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<p>Both \"yyyy-MM-dd'T'HH:mm:ss.SSSZZZZZ\" and \"yyyy-MM-dd'T'HH:mm:ss.SSSVV\" would work. Note that 5 Zs work but no less</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673480020,"creation_date":1655222867,"answer_id":72620173,"question_id":35156809,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; )  // No pattern needed. \r\n\r\n# No formatting pattern needed\r\n\r\nYour input string complies with the ISO 8601 standard for date-time formats.\r\n\r\nThe *java.time* classes use ISO 8601 formats by default when parsing/generating text. So no need for you to define a formatting pattern.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; ) ;","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<h1>tl;dr</h1>\n<pre><code>OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; )  // No pattern needed. \n</code></pre>\n<h1>No formatting pattern needed</h1>\n<p>Your input string complies with the ISO 8601 standard for date-time formats.</p>\n<p>The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text. So no need for you to define a formatting pattern.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; ) ;\n</code></pre>\n"}],"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37786,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":35156952,"answer_count":3,"score":11,"last_activity_date":1673480020,"creation_date":1454425101,"question_id":35156809,"body_markdown":"I&#39;m trying to parse a string containing a date and time using the `java.time.format.DateTimeFormatter` (my ultimate goal is to get the date from this string into a `java.time.LocalDate`).\r\n\r\nI keep getting DateTimeParseExceptions when trying to parse the date. Can someone help please?\r\n\r\nThe date is in the format &quot;2015-07-14T11:42:12.000+01:00&quot;.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;);\r\n    LocalDateTime temp = LocalDateTime.ofInstant(Instant.from(f.parse(this.dateCreated)), \r\n                     ZoneId.systemDefault());\r\n    LocalDate localDate = temp.toLocalDate();\r\n\r\n\r\nI&#39;ve tried different variations in the ofPattern, such as trying to escape the T by surrounding it with single quotes (as done above), and doing the same with the . and I&#39;ve tried escaping both at the same time.\r\n\r\nDo the colons need escaping too?\r\n\r\nAppreciate any help with this. ","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<p>I'm trying to parse a string containing a date and time using the <code>java.time.format.DateTimeFormatter</code> (my ultimate goal is to get the date from this string into a <code>java.time.LocalDate</code>).</p>\n\n<p>I keep getting DateTimeParseExceptions when trying to parse the date. Can someone help please?</p>\n\n<p>The date is in the format \"2015-07-14T11:42:12.000+01:00\".</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(\"yyyy-MM-ddTHH:mm:ss.SSSZ\");\nLocalDateTime temp = LocalDateTime.ofInstant(Instant.from(f.parse(this.dateCreated)), \n                 ZoneId.systemDefault());\nLocalDate localDate = temp.toLocalDate();\n</code></pre>\n\n<p>I've tried different variations in the ofPattern, such as trying to escape the T by surrounding it with single quotes (as done above), and doing the same with the . and I've tried escaping both at the same time.</p>\n\n<p>Do the colons need escaping too?</p>\n\n<p>Appreciate any help with this. </p>\n"},{"tags":["java","text-parsing"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1673480088,"post_id":75090090,"comment_id":132511637,"body_markdown":"By the way… https://en.wikipedia.org/wiki/ANTLR","body":"By the way… <a href=\"https://en.wikipedia.org/wiki/ANTLR\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ANTLR</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673481126,"post_id":75090090,"comment_id":132511802,"body_markdown":"Also consider [`StreamTokenizer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/StreamTokenizer.html).","body":"Also consider <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/StreamTokenizer.html\" rel=\"nofollow noreferrer\"><code>StreamTokenizer</code></a>."}],"owner":{"account_id":26102346,"reputation":3,"user_id":19797576,"display_name":"Gor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673479905,"creation_date":1673479905,"question_id":75090090,"body_markdown":"I am trying to write a parser of a programming language and I need to escape all whitespaces, newlines and comments(of style /* and //) of a file and to stop just before the token. Assume that the file does not have any syntax error.\r\n\r\nThis is what I have tried, but I do not think it is the most simple solution. Any help is appreciated.\r\n\r\n- ```reader.charPrefetch()``` gets one character but does not move the reading head in file\r\n- ```reader.charPrefetch(2)``` gets the 2nd character counting from reading head\r\n\r\n```\r\nprivate void passCommentsAndWhitespaces(){\r\n        char endOfFileChar = (char) 65535;\r\n        String twoCharSeq = &quot;&quot; + reader.charPrefetch() + reader.charPrefetch(2);\r\n\r\n        if(twoCharSeq.charAt(0) == endOfFileChar){\r\n            return;\r\n        }\r\n\r\n        while (twoCharSeq.charAt(0) == &#39; &#39; || twoCharSeq.charAt(0) == &#39;\\n&#39; ||\r\n                twoCharSeq.equals(&quot;//&quot;) || twoCharSeq.equals(&quot;/*&quot;)){\r\n            if(twoCharSeq.equals(&quot;/*&quot;)){\r\n                twoCharSeq = &quot;&quot; + reader.readChar(3) + reader.charPrefetch();\r\n                while (!twoCharSeq.equals(&quot;*/&quot;)){\r\n                    twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\r\n                }\r\n                reader.readChar();\r\n            }else if(twoCharSeq.equals(&quot;//&quot;)){\r\n                reader.readLine();\r\n            }else {\r\n                twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How to write a Java method which escapes all the whitespaces, newline characters and comments?","body":"<p>I am trying to write a parser of a programming language and I need to escape all whitespaces, newlines and comments(of style /* and //) of a file and to stop just before the token. Assume that the file does not have any syntax error.</p>\n<p>This is what I have tried, but I do not think it is the most simple solution. Any help is appreciated.</p>\n<ul>\n<li><code>reader.charPrefetch()</code> gets one character but does not move the reading head in file</li>\n<li><code>reader.charPrefetch(2)</code> gets the 2nd character counting from reading head</li>\n</ul>\n<pre><code>private void passCommentsAndWhitespaces(){\n        char endOfFileChar = (char) 65535;\n        String twoCharSeq = &quot;&quot; + reader.charPrefetch() + reader.charPrefetch(2);\n\n        if(twoCharSeq.charAt(0) == endOfFileChar){\n            return;\n        }\n\n        while (twoCharSeq.charAt(0) == ' ' || twoCharSeq.charAt(0) == '\\n' ||\n                twoCharSeq.equals(&quot;//&quot;) || twoCharSeq.equals(&quot;/*&quot;)){\n            if(twoCharSeq.equals(&quot;/*&quot;)){\n                twoCharSeq = &quot;&quot; + reader.readChar(3) + reader.charPrefetch();\n                while (!twoCharSeq.equals(&quot;*/&quot;)){\n                    twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\n                }\n                reader.readChar();\n            }else if(twoCharSeq.equals(&quot;//&quot;)){\n                reader.readLine();\n            }else {\n                twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jackson-databind"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673478590,"post_id":75089932,"comment_id":132511367,"body_markdown":"Your data structure has a `List`, but there&#39;s no corresponding JSON array.","body":"Your data structure has a <code>List</code>, but there&#39;s no corresponding JSON array."},{"owner":{"account_id":12702848,"reputation":13,"user_id":9229050,"display_name":"java_learner"},"score":0,"creation_date":1673479309,"post_id":75089932,"comment_id":132511479,"body_markdown":"If I am understanding it correctly then resources is one key, and it has multiple values. And each value of it is again of map type.","body":"If I am understanding it correctly then resources is one key, and it has multiple values. And each value of it is again of map type."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673479929,"post_id":75089932,"comment_id":132511603,"body_markdown":"`resources` would be a map containing one value, which is also a map containing 2 values, each being another map of 1 value.","body":"<code>resources</code> would be a map containing one value, which is also a map containing 2 values, each being another map of 1 value."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673478925,"post_id":75089995,"comment_id":132511423,"body_markdown":"I think you need another nested map.","body":"I think you need another nested map."}],"tags":[],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1673479535,"creation_date":1673478893,"answer_id":75089995,"question_id":75089932,"body_markdown":"try this something like this:\r\n```\r\n  @Test\r\n  public void testJackson() throws JsonProcessingException {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    String json = &quot;{\\&quot;resources\\&quot;:{\\&quot;foo\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;},\\&quot;bar\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;}}}&quot;;\r\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; mapped = objectMapper.readValue(\r\n            json,\r\n            new TypeReference&lt;&gt;() {\r\n              @Override\r\n              public Type getType() {\r\n                return super.getType();\r\n              }\r\n            });\r\n    assertNotNull(mapped);\r\n  }\r\n}\r\n```","title":"Query on Java Jackson Implementation","body":"<p>try this something like this:</p>\n<pre><code>  @Test\n  public void testJackson() throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String json = &quot;{\\&quot;resources\\&quot;:{\\&quot;foo\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;},\\&quot;bar\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;}}}&quot;;\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; mapped = objectMapper.readValue(\n            json,\n            new TypeReference&lt;&gt;() {\n              @Override\n              public Type getType() {\n                return super.getType();\n              }\n            });\n    assertNotNull(mapped);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12702848,"reputation":13,"user_id":9229050,"display_name":"java_learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75089995,"answer_count":1,"score":1,"last_activity_date":1673479535,"creation_date":1673478317,"question_id":75089932,"body_markdown":"I have a json file in below format:\r\n```\r\n{   \r\n   &quot;resources&quot; : {     \r\n        &quot;foo&quot; : {       \r\n          &quot;value&quot; : &quot;test&quot;      \r\n         },     \r\n        &quot;bar&quot; : {       \r\n          &quot;value&quot; : &quot;test&quot;     \r\n         }    \r\n   } \r\n}\r\n```\r\n\r\nAnd, I have created it&#39;s JAVA Class as below:\r\n```\r\npackage org.example.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class JsonTwoJavaFileModel {\r\n   @JsonProperty(&quot;resources&quot;)\r\n   private HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt;  stringListHashMap;\r\n}\r\n```\r\n\r\nHowever, getting below error while reading it:\r\n```\r\n`Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.ArrayList` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)  at [Source: (File); line: 4, column: 17] (through reference chain: org.example.model.JsonTwoJavaFileModel[&quot;resources&quot;]-&gt;java.util.HashMap[&quot;offer1&quot;]-&gt;java.util.HashMap[&quot;value&quot;])`\r\n```\r\n\r\nNot sure, how to create Java class for such type of nested JSONs. Any pointer to solve it?\r\n\r\nAlso tried creating Java Class like below:\r\n\r\n    `package org.example.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;    \r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class JsonTwoJavaFileModel {\r\n       @JsonProperty(&quot;resources&quot;)\r\n       private HashMap&lt;List&lt;String&gt;, HashMap&lt;String, List&lt;String&gt;&gt;&gt; stringListHashMap;\r\n    }`\r\n\r\nBut no luck with both approach.","title":"Query on Java Jackson Implementation","body":"<p>I have a json file in below format:</p>\n<pre><code>{   \n   &quot;resources&quot; : {     \n        &quot;foo&quot; : {       \n          &quot;value&quot; : &quot;test&quot;      \n         },     \n        &quot;bar&quot; : {       \n          &quot;value&quot; : &quot;test&quot;     \n         }    \n   } \n}\n</code></pre>\n<p>And, I have created it's JAVA Class as below:</p>\n<pre><code>package org.example.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class JsonTwoJavaFileModel {\n   @JsonProperty(&quot;resources&quot;)\n   private HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt;  stringListHashMap;\n}\n</code></pre>\n<p>However, getting below error while reading it:</p>\n<pre><code>`Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.ArrayList` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')  at [Source: (File); line: 4, column: 17] (through reference chain: org.example.model.JsonTwoJavaFileModel[&quot;resources&quot;]-&gt;java.util.HashMap[&quot;offer1&quot;]-&gt;java.util.HashMap[&quot;value&quot;])`\n</code></pre>\n<p>Not sure, how to create Java class for such type of nested JSONs. Any pointer to solve it?</p>\n<p>Also tried creating Java Class like below:</p>\n<pre><code>`package org.example.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;    \nimport java.util.HashMap;\nimport java.util.List;\n\npublic class JsonTwoJavaFileModel {\n   @JsonProperty(&quot;resources&quot;)\n   private HashMap&lt;List&lt;String&gt;, HashMap&lt;String, List&lt;String&gt;&gt;&gt; stringListHashMap;\n}`\n</code></pre>\n<p>But no luck with both approach.</p>\n"},{"tags":["java","multithreading","concurrency","real-time","firm-real-time"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1402938298,"post_id":24248699,"comment_id":37455008,"body_markdown":"I&#39;d recommend looking at vert.x: http://vertx.io/","body":"I&#39;d recommend looking at vert.x: <a href=\"http://vertx.io/\" rel=\"nofollow noreferrer\">vertx.io</a>"},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402938676,"post_id":24248699,"comment_id":37455167,"body_markdown":"Thank you, I took a look at vertx before and I think it doesn&#39;t suit our needs. We need to find a way to handle messages concurrently to get maximum throughput, so I don&#39;t think asynchronous and non-blocking communications between the server and clients are crucial :D.","body":"Thank you, I took a look at vertx before and I think it doesn&#39;t suit our needs. We need to find a way to handle messages concurrently to get maximum throughput, so I don&#39;t think asynchronous and non-blocking communications between the server and clients are crucial :D."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1402938916,"post_id":24248699,"comment_id":37455273,"body_markdown":"I think it could be worth a look on the server side as well.  I wouldn&#39;t dismiss it out of hand before you&#39;ve tried it out.","body":"I think it could be worth a look on the server side as well.  I wouldn&#39;t dismiss it out of hand before you&#39;ve tried it out."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1402939111,"post_id":24248699,"comment_id":37455359,"body_markdown":"You are performing operations on a number of databases over TCP, none of them are going to be particularly fast compared with say Disruptor or BlockingQueue.  I would focus on how to get the most performance out of your data bases.  BTW none of the database you mention are designed for Real Time, nor is Java, so I would give up on that notion.","body":"You are performing operations on a number of databases over TCP, none of them are going to be particularly fast compared with say Disruptor or BlockingQueue.  I would focus on how to get the most performance out of your data bases.  BTW none of the database you mention are designed for Real Time, nor is Java, so I would give up on that notion."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1402939157,"post_id":24248699,"comment_id":37455380,"body_markdown":"&quot;Does the event-driven architecture really fit our need for a high throughput, firm real-time system&quot;   This bit does, the database not so much, but I assume you can&#39;t work around them.","body":"&quot;Does the event-driven architecture really fit our need for a high throughput, firm real-time system&quot;   This bit does, the database not so much, but I assume you can&#39;t work around them."},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402939536,"post_id":24248699,"comment_id":37455562,"body_markdown":"Our in-mem DB act as mostly read-only caches. No direct writes to these DB (they are synced with the Oracle DB after some hours). Because there are many other offline modules which shared the data with the system so we still need to keep the Oracle DB.\nHowever, can you explain why a &quot;naive&quot; multithread approach gives better performance than the &quot;great&quot; LMAX Disruptor framework if the bottleneck is about the DB, not the architecture? :(","body":"Our in-mem DB act as mostly read-only caches. No direct writes to these DB (they are synced with the Oracle DB after some hours). Because there are many other offline modules which shared the data with the system so we still need to keep the Oracle DB. However, can you explain why a &quot;naive&quot; multithread approach gives better performance than the &quot;great&quot; LMAX Disruptor framework if the bottleneck is about the DB, not the architecture? :("},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402939819,"post_id":24248699,"comment_id":37455685,"body_markdown":"Could you share some tips to achieve maximum performance with our current DBs?","body":"Could you share some tips to achieve maximum performance with our current DBs?"},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":0,"creation_date":1402949504,"post_id":24248699,"comment_id":37460683,"body_markdown":"When is the message order important? Steps 1-3 look order-independent, step 4 maybe (if message data is related) and step 5 is ambiguous when several sockets are used (if order needs to be guaranteed message 2 can only be send after message 1 is delivered). An a side-note: the &quot;naive&quot; multithreading approach has worked well for me but is hard to maintain if additional cases need to be supported like &#39;high priority messages&#39; or &#39;message X must be processed after message Y and Z&#39;.","body":"When is the message order important? Steps 1-3 look order-independent, step 4 maybe (if message data is related) and step 5 is ambiguous when several sockets are used (if order needs to be guaranteed message 2 can only be send after message 1 is delivered). An a side-note: the &quot;naive&quot; multithreading approach has worked well for me but is hard to maintain if additional cases need to be supported like &#39;high priority messages&#39; or &#39;message X must be processed after message Y and Z&#39;."},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402967716,"post_id":24248699,"comment_id":37466265,"body_markdown":"It is exactly the case you mentioned &quot;message X must be processed after message Y and Z&quot;. Such as for a &quot;voice call&quot;, there&#39;s must be an opening message and a closing message, they need to be processed in order. Steps 1-2 are not order-dependent but the other ones are :(.","body":"It is exactly the case you mentioned &quot;message X must be processed after message Y and Z&quot;. Such as for a &quot;voice call&quot;, there&#39;s must be an opening message and a closing message, they need to be processed in order. Steps 1-2 are not order-dependent but the other ones are :(."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1402977801,"post_id":24248699,"comment_id":37468316,"body_markdown":"&quot;message order is important&quot; - but where are the messages? Do you consider results of database queries as messages?","body":"&quot;message order is important&quot; - but where are the messages? Do you consider results of database queries as messages?"},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402977974,"post_id":24248699,"comment_id":37468362,"body_markdown":"No, the messages are the input for our system. As i said in the question :D &quot;we are processing telecommunication messages&quot;.","body":"No, the messages are the input for our system. As i said in the question :D &quot;we are processing telecommunication messages&quot;."}],"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1402974335,"answer_count":0,"score":3,"last_activity_date":1673479385,"creation_date":1402938185,"question_id":24248699,"body_markdown":"I&#39;m working with a &quot;firm&quot; real-time system (the result will be unuseful if served after the deadline) which requires maximum throughput and robustness to load.\r\n\r\nMore details about our system, we are processing telecommunication messages. The messages will go through several step with different concerns. However **the messages order** is very important. The steps are like these:\r\n\r\n 1. Query something from Redis in-memory database\r\n 2. Query something from another relational in-memory database\r\n 3. Some business logic computional processing\r\n 4. Update data into Oracle RDBMS\r\n 5. Send messages to other server through Sockets\r\n\r\nWe are currently setup a system with a distributor and 8 processing units (which runs through the messages sequentially) on only 1 server. We decided to maximize the performance per unit first, before doing horizontal scale.\r\n\r\nI&#39;ve tried several approaches (i&#39;m only passing the messages through the first two steps and some data collecting logic):\r\n\r\n 1. Proactor pattern: by implementing the event-loop and high-level asynchronous API with callbacks by myself (using Java API). However, the performance is not as expected, the messages are not in order.\r\n 2. SEDA: the overall performance is good when i&#39;m using a thread-pool for each stage. However, to preserve the message order, I tried using only a thread per stage, the performance is even worse than the Proactor pattern.\r\n 3. LMAX Disruptor: the &quot;default&quot; batching characteristic brings both the latency and throughput down because I find it a bit hard to apply batching to our current business logic. When I avoid using batching, the performance is ok now, however, it&#39;s only about 1.5x faster than the sequential approach (even i&#39;m using a thread for each handler, so it&#39;s 3 thread)\r\n 4. A &quot;naive&quot; multithreading approach: using a BlockingQueue + some worker threads, the performance is better than I expected. 1.75-2X faster than the LMAX Disruptor approach. I find it a little bit counter-logic here...\r\n\r\nSo, have i done anything wrong with my approaches above? Does the event-driven architecture really fit our need for a high throughput, firm real-time system?\r\n\r\nP/S: It&#39;s my first time asking a question on Stackoverflow, so please give me advices if there&#39;re any problems with my questions :D. Thanks :D.","title":"Concurrency framework for maximum throughput in real-time system","body":"<p>I'm working with a \"firm\" real-time system (the result will be unuseful if served after the deadline) which requires maximum throughput and robustness to load.</p>\n\n<p>More details about our system, we are processing telecommunication messages. The messages will go through several step with different concerns. However <strong>the messages order</strong> is very important. The steps are like these:</p>\n\n<ol>\n<li>Query something from Redis in-memory database</li>\n<li>Query something from another relational in-memory database</li>\n<li>Some business logic computional processing</li>\n<li>Update data into Oracle RDBMS</li>\n<li>Send messages to other server through Sockets</li>\n</ol>\n\n<p>We are currently setup a system with a distributor and 8 processing units (which runs through the messages sequentially) on only 1 server. We decided to maximize the performance per unit first, before doing horizontal scale.</p>\n\n<p>I've tried several approaches (i'm only passing the messages through the first two steps and some data collecting logic):</p>\n\n<ol>\n<li>Proactor pattern: by implementing the event-loop and high-level asynchronous API with callbacks by myself (using Java API). However, the performance is not as expected, the messages are not in order.</li>\n<li>SEDA: the overall performance is good when i'm using a thread-pool for each stage. However, to preserve the message order, I tried using only a thread per stage, the performance is even worse than the Proactor pattern.</li>\n<li>LMAX Disruptor: the \"default\" batching characteristic brings both the latency and throughput down because I find it a bit hard to apply batching to our current business logic. When I avoid using batching, the performance is ok now, however, it's only about 1.5x faster than the sequential approach (even i'm using a thread for each handler, so it's 3 thread)</li>\n<li>A \"naive\" multithreading approach: using a BlockingQueue + some worker threads, the performance is better than I expected. 1.75-2X faster than the LMAX Disruptor approach. I find it a little bit counter-logic here...</li>\n</ol>\n\n<p>So, have i done anything wrong with my approaches above? Does the event-driven architecture really fit our need for a high throughput, firm real-time system?</p>\n\n<p>P/S: It's my first time asking a question on Stackoverflow, so please give me advices if there're any problems with my questions :D. Thanks :D.</p>\n"},{"tags":["java","android","oauth-2.0","gmail-api"],"answers":[{"comments":[{"owner":{"account_id":426166,"reputation":4019,"user_id":807223,"accept_rate":72,"display_name":"jpo"},"score":0,"creation_date":1502366849,"post_id":40574476,"comment_id":78184826,"body_markdown":"Do you mean you delete your scopes from admin console and re-add them? I am facing the same issue.","body":"Do you mean you delete your scopes from admin console and re-add them? I am facing the same issue."}],"tags":[],"owner":{"account_id":9455225,"reputation":55,"user_id":7030744,"display_name":"Green"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479044475,"creation_date":1479044475,"answer_id":40574476,"question_id":40566099,"body_markdown":"After getting permissions to device Contacts you have to approve chosen copes. So first time I approved metadata scope. Next times when I needed to approve readonly scope, there was no window to do it. So you need to delete scopes permissions from google account and reinstall app. ","title":"Gmail api scope &amp; format mismatch","body":"<p>After getting permissions to device Contacts you have to approve chosen copes. So first time I approved metadata scope. Next times when I needed to approve readonly scope, there was no window to do it. So you need to delete scopes permissions from google account and reinstall app. </p>\n"},{"comments":[{"owner":{"account_id":2574042,"reputation":3909,"user_id":2232151,"accept_rate":61,"display_name":"R&#225;pli Andr&#225;s"},"score":0,"creation_date":1543226936,"post_id":40605896,"comment_id":93827399,"body_markdown":"What are the exact permissions to check? I can&#39;t find a working combination.","body":"What are the exact permissions to check? I can&#39;t find a working combination."}],"tags":[],"owner":{"account_id":5194024,"reputation":456,"user_id":4155978,"display_name":"Nhan"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1479201060,"creation_date":1479201060,"answer_id":40605896,"question_id":40566099,"body_markdown":"This is exactly my problem these day when playing with Google APIs Explorer. And here is what I did to solve it:\r\n\r\n 1. Go to https://security.google.com/settings/security/permissions\r\n 2. Choose the app you are playing with, mine is Google APIs Explorer\r\n 3. Click Remove &gt; OK\r\n 4. Next time, just request exactly which permissions you need.\r\n\r\nHope it help :)","title":"Gmail api scope &amp; format mismatch","body":"<p>This is exactly my problem these day when playing with Google APIs Explorer. And here is what I did to solve it:</p>\n\n<ol>\n<li>Go to <a href=\"https://security.google.com/settings/security/permissions\" rel=\"noreferrer\">https://security.google.com/settings/security/permissions</a></li>\n<li>Choose the app you are playing with, mine is Google APIs Explorer</li>\n<li>Click Remove > OK</li>\n<li>Next time, just request exactly which permissions you need.</li>\n</ol>\n\n<p>Hope it help :)</p>\n"},{"comments":[{"owner":{"account_id":19768132,"reputation":1979,"user_id":14475651,"display_name":"Kayden van Rijn"},"score":0,"creation_date":1613193808,"post_id":45937872,"comment_id":117006596,"body_markdown":"Still works in 2020, this should be the accepted answer.. thanks!","body":"Still works in 2020, this should be the accepted answer.. thanks!"}],"tags":[],"owner":{"account_id":11061521,"reputation":71,"user_id":8122593,"display_name":"Mayank Beri"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504005753,"creation_date":1504005753,"answer_id":45937872,"question_id":40566099,"body_markdown":"you should remove the &quot;metadata&quot; scope.\r\n\r\ncheck app permissions to make sure you have only these 3 scopes:\r\n\r\n 1. https://mail.google.com/\r\n 2. gmail.modify\r\n 3. readonly\r\n, or else remove the permissions and add them again.","title":"Gmail api scope &amp; format mismatch","body":"<p>you should remove the \"metadata\" scope.</p>\n\n<p>check app permissions to make sure you have only these 3 scopes:</p>\n\n<ol>\n<li><a href=\"https://mail.google.com/\" rel=\"noreferrer\">https://mail.google.com/</a></li>\n<li>gmail.modify</li>\n<li>readonly\n, or else remove the permissions and add them again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673478442,"creation_date":1673477814,"answer_id":75089875,"question_id":40566099,"body_markdown":"got the same error when a service account which i was using had only these scopes ( [Security &gt; API Controls &gt; Domain-wide Delegation][1] ): \r\n - `https://www.googleapis.com/auth/gmail.readonly`\r\n - `https://www.googleapis.com/auth/gmail.metadata`\r\n\r\nand addition of \r\n - `https://mail.google.com/`   \r\n\r\nsolved the issue \r\n\r\n\r\n  [1]: https://admin.google.com/ac/owl/domainwidedelegation","title":"Gmail api scope &amp; format mismatch","body":"<p>got the same error when a service account which i was using had only these scopes ( <a href=\"https://admin.google.com/ac/owl/domainwidedelegation\" rel=\"nofollow noreferrer\">Security &gt; API Controls &gt; Domain-wide Delegation</a> ):</p>\n<ul>\n<li><code>https://www.googleapis.com/auth/gmail.readonly</code></li>\n<li><code>https://www.googleapis.com/auth/gmail.metadata</code></li>\n</ul>\n<p>and addition of</p>\n<ul>\n<li><code>https://mail.google.com/</code></li>\n</ul>\n<p>solved the issue</p>\n"}],"owner":{"account_id":9455225,"reputation":55,"user_id":7030744,"display_name":"Green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5198,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40605896,"answer_count":4,"score":5,"last_activity_date":1673478442,"creation_date":1478974385,"question_id":40566099,"body_markdown":"I&#39;m trying to write tiny gmail client for android as training. \r\nI took gmail api guide sample from &lt;https://developers.google.com/gmail/api/quickstart/android&gt; modified it a little to get messages with headers &amp; body by threads. I set scopes to `GmailScopes.Gmail_modify` and edited main request function as this: \r\n\r\n    private List&lt;String&gt; getDataFromApi() throws IOException {\r\n                // Get the labels in the user&#39;s account.\r\n                String user = &quot;me&quot;;\r\n                List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\r\n                ListLabelsResponse listResponse =\r\n                        mService.users().labels().list(user).execute();\r\n                ListThreadsResponse listThreads = null;\r\n                try {\r\n                 listThreads = mService.users().threads().list(user).execute();\r\n                } catch (IOException ioex){\r\n                    Log.e(LOG_TAG, &quot;First: &quot; + ioex.toString());\r\n                }\r\n    \r\n                for (Thread thread : listThreads.getThreads()) {\r\n                    try {\r\n                        thread = mService.users().threads().get(user, thread.getId()).setFormat(&quot;full&quot;).execute();\r\n                    } catch (IOException ioex){\r\n                        Log.e(LOG_TAG, &quot;Second: &quot; + ioex.toString());\r\n                    }\r\n                    for(Message message : thread.getMessages()){\r\n                        labels.add(message.getId());\r\n                    }\r\n    \r\n                }\r\n                return labels;\r\n            }\r\n\r\n\r\nBut I always get \r\n\r\n    Second: GoogleJsonResponseException: 403 Forbidden            {\r\n                                                                                 &quot;code&quot; : 403,\r\n                                                                                 &quot;errors&quot; : [ {\r\n                                                                                   &quot;domain&quot; : &quot;global&quot;,\r\n                                                                                   &quot;message&quot; : &quot;Metadata scope doesn&#39;t allow format FULL&quot;,\r\n                                                                                   &quot;reason&quot; : &quot;forbidden&quot;\r\n                                                                                 } ],\r\n                                                                                 &quot;message&quot; : &quot;Metadata scope doesn&#39;t allow format FULL&quot;\r\n                                                                               }\r\n\r\nI tried different scopes configurations but seems like service scope is always set to `GmailScopes.GMAIL_METADATA`\r\n","title":"Gmail api scope &amp; format mismatch","body":"<p>I'm trying to write tiny gmail client for android as training. \nI took gmail api guide sample from <a href=\"https://developers.google.com/gmail/api/quickstart/android\" rel=\"noreferrer\">https://developers.google.com/gmail/api/quickstart/android</a> modified it a little to get messages with headers &amp; body by threads. I set scopes to <code>GmailScopes.Gmail_modify</code> and edited main request function as this: </p>\n\n<pre><code>private List&lt;String&gt; getDataFromApi() throws IOException {\n            // Get the labels in the user's account.\n            String user = \"me\";\n            List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n            ListLabelsResponse listResponse =\n                    mService.users().labels().list(user).execute();\n            ListThreadsResponse listThreads = null;\n            try {\n             listThreads = mService.users().threads().list(user).execute();\n            } catch (IOException ioex){\n                Log.e(LOG_TAG, \"First: \" + ioex.toString());\n            }\n\n            for (Thread thread : listThreads.getThreads()) {\n                try {\n                    thread = mService.users().threads().get(user, thread.getId()).setFormat(\"full\").execute();\n                } catch (IOException ioex){\n                    Log.e(LOG_TAG, \"Second: \" + ioex.toString());\n                }\n                for(Message message : thread.getMessages()){\n                    labels.add(message.getId());\n                }\n\n            }\n            return labels;\n        }\n</code></pre>\n\n<p>But I always get </p>\n\n<pre><code>Second: GoogleJsonResponseException: 403 Forbidden            {\n                                                                             \"code\" : 403,\n                                                                             \"errors\" : [ {\n                                                                               \"domain\" : \"global\",\n                                                                               \"message\" : \"Metadata scope doesn't allow format FULL\",\n                                                                               \"reason\" : \"forbidden\"\n                                                                             } ],\n                                                                             \"message\" : \"Metadata scope doesn't allow format FULL\"\n                                                                           }\n</code></pre>\n\n<p>I tried different scopes configurations but seems like service scope is always set to <code>GmailScopes.GMAIL_METADATA</code></p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673362694,"post_id":75071593,"comment_id":132478574,"body_markdown":"what exactly is the problem you are facing?","body":"what exactly is the problem you are facing?"},{"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"score":0,"creation_date":1673363436,"post_id":75071593,"comment_id":132478820,"body_markdown":"I want it to speak out the current  time in every hour and stop until next hour, but it continuouly speaking without stop in every second.","body":"I want it to speak out the current  time in every hour and stop until next hour, but it continuouly speaking without stop in every second."},{"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"score":0,"creation_date":1673476551,"post_id":75071593,"comment_id":132510988,"body_markdown":"Why are you not checking the seconds !? ... does it go every second &quot;forever&quot; or only for the first minute ?! &#39;cause if the thing runs every second and you only check the minutes ... it the conditions would be true eache and every second for the first minute.","body":"Why are you not checking the seconds !? ... does it go every second &quot;forever&quot; or only for the first minute ?! &#39;cause if the thing runs every second and you only check the minutes ... it the conditions would be true eache and every second for the first minute."},{"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"score":0,"creation_date":1673476871,"post_id":75071593,"comment_id":132511049,"body_markdown":"extra:  \n - no need to use `00`, the minute is a number (whatever you declared it `int` ...) the `00` might work but it&#39;s confusing :). \n - your `if`s are funny ... you have a &quot;chain&quot; of `if-else if`s and you just add an extra `if` ... although it gets the job done, it&#39;s wasteful &#39;cause it wil get checked everytime even if one of the conditions before was met. Also ... you don&#39;t have to check for each and every hour ... you can add/concatenate it to your string.","body":"extra:    - no need to use <code>00</code>, the minute is a number (whatever you declared it <code>int</code> ...) the <code>00</code> might work but it&#39;s confusing :).   - your <code>if</code>s are funny ... you have a &quot;chain&quot; of <code>if-else if</code>s and you just add an extra <code>if</code> ... although it gets the job done, it&#39;s wasteful &#39;cause it wil get checked everytime even if one of the conditions before was met. Also ... you don&#39;t have to check for each and every hour ... you can add/concatenate it to your string."}],"answers":[{"comments":[{"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"score":0,"creation_date":1673365895,"post_id":75072328,"comment_id":132479826,"body_markdown":"Please I don&#39;t know how to do it with JobScheduler, please help me out.","body":"Please I don&#39;t know how to do it with JobScheduler, please help me out."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673370048,"post_id":75072328,"comment_id":132481430,"body_markdown":"see this thread for example https://stackoverflow.com/questions/48761568/android-scheduling-job-every-hour-forever","body":"see this thread for example <a href=\"https://stackoverflow.com/questions/48761568/android-scheduling-job-every-hour-forever\" title=\"android scheduling job every hour forever\">stackoverflow.com/questions/48761568/&hellip;</a>"}],"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673365098,"creation_date":1673365098,"answer_id":75072328,"question_id":75071593,"body_markdown":"I am afraid you created an infinite loop. You created the `Runnable` and submitted it to the queue `handler.post(runnable);`. Then inside the `run()` method you submit it with 1 second delay on with `handler.postDelayed(this, 1000);`. \r\n\r\nThis is why it&#39;s triggered every second. What time does the `time_textView` show?\r\n\r\nThere are better ways how to run scheduled tasks, check on `JobScheduler` for example","title":"How to build Time Speaking clock","body":"<p>I am afraid you created an infinite loop. You created the <code>Runnable</code> and submitted it to the queue <code>handler.post(runnable);</code>. Then inside the <code>run()</code> method you submit it with 1 second delay on with <code>handler.postDelayed(this, 1000);</code>.</p>\n<p>This is why it's triggered every second. What time does the <code>time_textView</code> show?</p>\n<p>There are better ways how to run scheduled tasks, check on <code>JobScheduler</code> for example</p>\n"},{"tags":[],"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673478399,"creation_date":1673478399,"answer_id":75089942,"question_id":75071593,"body_markdown":"I&#39;m not sure if this is &quot;the right way&quot; to do it, but for the sake of &quot;code sanity&quot; this would be my approach (posting only the modified code):\r\n\r\n    ... \r\n\r\n    // we move this here, as there&#39;s no need to initialize it every time\r\n    final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\r\n\r\n    final Handler handler = new Handler();\r\n    final Runnable runnable = new Runnable() {\r\n        @ Override\r\n        public void run() {\r\n\r\n            Calendar calendar = Calendar.getInstance();\r\n            // we save our &quot;now&quot; as a reference so it does not &quot;drift&quot;/&quot;shift&quot; while the code is running\r\n            Date time = calendar.getTime();\r\n            String currentTime = simpleDateFormat.format(time);\r\n            time_textView.setText(currentTime);\r\n            \r\n            // use lowercase for the first letter of variable names otherwise it gets confusing ... \r\n            // for ex. my variable &quot;time&quot; of type Date, if it was named &quot;Time&quot; ... \r\n            //  when I would write &quot;Time.getHours()&quot; to get the hours ... One might think that there&#39;s a \r\n\t\t\t// Class named &quot;Time&quot; (&#39;cause classes usually start with capital letters) and this class has \r\n\t\t\t// some static method &quot;getHours&quot;, so who reads the code is forced to check to see that it was a variable\r\n            hour = time.getHours();\r\n            minute = time.getMinutes();\r\n            seconds = time.getSeconds();\r\n            if (minute == 0 &amp;&amp; seconds == 0) {\r\n                // as said in some comment before, you should only check the minutes and seconds\r\n                // the message string could be a constant and insert the hour value using String.format()\r\n\t\t\t\t// for optimized performance, but my Java skills are too rusty for that right now\r\n                tts.speak(&quot;The time is &quot; + hour + &quot; O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n            }\r\n            handler.postDelayed(this, 1000);\r\n\t\t\t// actually here instead of delaying for 1 second ... you could calculate the &quot;remaing time&quot;, how many seconds are\r\n\t\t\t// missing until the next XX:00:00, and delay for that much\r\n            // for extra &quot;precision&quot;, just in case, ... delay only for something like &quot;remaingTime - 10&quot; (or something) and \r\n\t\t\t// if the &quot;remaingTime &lt; 10&quot; delay only for 1 second, this way you can be more sure you&#39;ll not be missing the \r\n            // XX:00:00 ... but do this only if you notice &quot;imprecisions&quot; while using postDelayed with long intervals\r\n\t\t\t// and you care about them\r\n\r\n        }\r\n    };\r\n    handler.post(runnable);\r\n    ... ","title":"How to build Time Speaking clock","body":"<p>I'm not sure if this is &quot;the right way&quot; to do it, but for the sake of &quot;code sanity&quot; this would be my approach (posting only the modified code):</p>\n<pre><code>... \n\n// we move this here, as there's no need to initialize it every time\nfinal SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\n\nfinal Handler handler = new Handler();\nfinal Runnable runnable = new Runnable() {\n    @ Override\n    public void run() {\n\n        Calendar calendar = Calendar.getInstance();\n        // we save our &quot;now&quot; as a reference so it does not &quot;drift&quot;/&quot;shift&quot; while the code is running\n        Date time = calendar.getTime();\n        String currentTime = simpleDateFormat.format(time);\n        time_textView.setText(currentTime);\n        \n        // use lowercase for the first letter of variable names otherwise it gets confusing ... \n        // for ex. my variable &quot;time&quot; of type Date, if it was named &quot;Time&quot; ... \n        //  when I would write &quot;Time.getHours()&quot; to get the hours ... One might think that there's a \n        // Class named &quot;Time&quot; ('cause classes usually start with capital letters) and this class has \n        // some static method &quot;getHours&quot;, so who reads the code is forced to check to see that it was a variable\n        hour = time.getHours();\n        minute = time.getMinutes();\n        seconds = time.getSeconds();\n        if (minute == 0 &amp;&amp; seconds == 0) {\n            // as said in some comment before, you should only check the minutes and seconds\n            // the message string could be a constant and insert the hour value using String.format()\n            // for optimized performance, but my Java skills are too rusty for that right now\n            tts.speak(&quot;The time is &quot; + hour + &quot; O'clock&quot;, TextToSpeech.QUEUE_FLUSH, null);\n        }\n        handler.postDelayed(this, 1000);\n        // actually here instead of delaying for 1 second ... you could calculate the &quot;remaing time&quot;, how many seconds are\n        // missing until the next XX:00:00, and delay for that much\n        // for extra &quot;precision&quot;, just in case, ... delay only for something like &quot;remaingTime - 10&quot; (or something) and \n        // if the &quot;remaingTime &lt; 10&quot; delay only for 1 second, this way you can be more sure you'll not be missing the \n        // XX:00:00 ... but do this only if you notice &quot;imprecisions&quot; while using postDelayed with long intervals\n        // and you care about them\n\n    }\n};\nhandler.post(runnable);\n... \n</code></pre>\n"}],"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673478399,"creation_date":1673361675,"question_id":75071593,"body_markdown":"I new to Android programming and I want to build Time Speaking clock that will speak the current time in every hour.\r\n\r\nPlease help me with my code, I want it to say the current time in every hour, but It say it in every second, here is my code.\r\n\r\n.........................\r\n.........................................................................................................\r\n```\r\n/** Called when the activity is first created. */\r\n\t@Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.main);\r\n\t\t\r\n\t\ttts = new TextToSpeech(this, this);\r\n\r\n\t\t time_textView = findViewById(R.id.time_textView);\r\n\t     hour_textView = findViewById(R.id.hour_textView);\r\n\t\t\r\n\t\t\r\n\t\tfinal Handler handler = new Handler();\r\n\t\tfinal Runnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t\r\n\t\t\t\tCalendar calendar = Calendar.getInstance();\r\n\t\t\t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\r\n\t\t\t\tString currentTime = simpleDateFormat.format(calendar.getTime());\r\n\t\t\t\ttime_textView.setText(currentTime);\r\n\t\t\t\t\r\n\t\t\t\tHour = calendar.getTime().getHours();\r\n\t\t\t\tMinute = calendar.getTime().getMinutes();\r\n\t\t\t\t\r\n\t\t\t\tif (Hour == 1 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 1 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 2 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 2 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 3 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 3 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 4 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 4 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 5 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 5 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\tif (Hour == 6 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 6 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\thandler.postDelayed(this, 1000);\r\n\t\t\t}\r\n\t\t};\r\n\t\thandler.post(runnable);\r\n\t}\r\n\t\r\n\t@Override\r\n    public void onInit(int status) {\r\n        if (status == TextToSpeech.SUCCESS) {\r\n            int result = tts.setLanguage(Locale.US);\r\n            if (result == TextToSpeech.LANG_MISSING_DATA\r\n\t\t\t\t|| result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                Log.e(&quot;TTS&quot;, &quot;Language not supported&quot;);\r\n            } else {\r\n            }\r\n\r\n        } else {\r\n            Log.e(&quot;TTS&quot;, &quot;Initialization Failed!&quot;);\r\n        }\r\n    }\r\n\t\r\n\t@Override\r\n    public void onDestroy() {\r\n        // Don&#39;t forget to shutdown tts!\r\n        if (tts != null) {\r\n            tts.stop();\r\n            tts.shutdown();\r\n        }\r\n        super.onDestroy();\r\n    }\r\n}\r\n```\r\n","title":"How to build Time Speaking clock","body":"<p>I new to Android programming and I want to build Time Speaking clock that will speak the current time in every hour.</p>\n<p>Please help me with my code, I want it to say the current time in every hour, but It say it in every second, here is my code.</p>\n<p>.........................\n.........................................................................................................</p>\n<pre><code>/** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        \n        tts = new TextToSpeech(this, this);\n\n         time_textView = findViewById(R.id.time_textView);\n         hour_textView = findViewById(R.id.hour_textView);\n        \n        \n        final Handler handler = new Handler();\n        final Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                \n                Calendar calendar = Calendar.getInstance();\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\n                String currentTime = simpleDateFormat.format(calendar.getTime());\n                time_textView.setText(currentTime);\n                \n                Hour = calendar.getTime().getHours();\n                Minute = calendar.getTime().getMinutes();\n                \n                if (Hour == 1 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 1 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 2 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 2 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 3 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 3 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 4 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 4 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 5 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 5 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                if (Hour == 6 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 6 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                \n                handler.postDelayed(this, 1000);\n            }\n        };\n        handler.post(runnable);\n    }\n    \n    @Override\n    public void onInit(int status) {\n        if (status == TextToSpeech.SUCCESS) {\n            int result = tts.setLanguage(Locale.US);\n            if (result == TextToSpeech.LANG_MISSING_DATA\n                || result == TextToSpeech.LANG_NOT_SUPPORTED) {\n                Log.e(&quot;TTS&quot;, &quot;Language not supported&quot;);\n            } else {\n            }\n\n        } else {\n            Log.e(&quot;TTS&quot;, &quot;Initialization Failed!&quot;);\n        }\n    }\n    \n    @Override\n    public void onDestroy() {\n        // Don't forget to shutdown tts!\n        if (tts != null) {\n            tts.stop();\n            tts.shutdown();\n        }\n        super.onDestroy();\n    }\n}\n</code></pre>\n"},{"tags":["c#","java",".net","datetime"],"comments":[{"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"score":0,"creation_date":1226678424,"post_id":290227,"comment_id":139116,"body_markdown":"Just curious, why do you need the millis since 1970?","body":"Just curious, why do you need the millis since 1970?"},{"owner":{"account_id":4511847,"reputation":1045,"user_id":3667714,"accept_rate":100,"display_name":"Ramunas"},"score":7,"creation_date":1527678382,"post_id":290227,"comment_id":88215206,"body_markdown":"DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()","body":"DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()"},{"owner":{"account_id":3374114,"reputation":389,"user_id":2832638,"display_name":"Eldar Zeynalov"},"score":0,"creation_date":1697212460,"post_id":290227,"comment_id":136255966,"body_markdown":"@AlexB some systems store date and time in UnixTimeMIlliseconds format. In order to write a query like &quot;between A and B&quot; you must convert your datetime value to milliseconds then compare","body":"@AlexB some systems store date and time in UnixTimeMIlliseconds format. In order to write a query like &quot;between A and B&quot; you must convert your datetime value to milliseconds then compare"}],"answers":[{"comments":[{"owner":{"account_id":9844,"reputation":20004,"user_id":18333,"accept_rate":65,"display_name":"Liam"},"score":1,"creation_date":1240484040,"post_id":290249,"comment_id":591686,"body_markdown":"Would (DateTime.Ticks/10000000)-(the number of seconds between 0001 and 1970) give an accurate answer?","body":"Would (DateTime.Ticks/10000000)-(the number of seconds between 0001 and 1970) give an accurate answer?"}],"tags":[],"owner":{"account_id":9042,"reputation":9260,"user_id":16526,"accept_rate":75,"display_name":"Cristian Libardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1226673518,"creation_date":1226673518,"answer_id":290249,"question_id":290227,"body_markdown":"The framework doesn&#39;t include the old seconds (or milliseconds) since 1970. The closest you get is DateTime.Ticks which is the number of 100-nanoseconds since january 1st 0001.","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>The framework doesn't include the old seconds (or milliseconds) since 1970. The closest you get is DateTime.Ticks which is the number of 100-nanoseconds since january 1st 0001.</p>\n"},{"comments":[{"owner":{"account_id":4511847,"reputation":1045,"user_id":3667714,"accept_rate":100,"display_name":"Ramunas"},"score":4,"creation_date":1527678411,"post_id":290265,"comment_id":88215232,"body_markdown":"Same result with &quot;DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()&quot;","body":"Same result with &quot;DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()&quot;"},{"owner":{"account_id":147114,"reputation":3039,"user_id":358006,"accept_rate":67,"display_name":"Peter L"},"score":0,"creation_date":1673474673,"post_id":290265,"comment_id":132510508,"body_markdown":"There is a `DateTime.UnixEpoch` now that can replace the read-only value above.","body":"There is a <code>DateTime.UnixEpoch</code> now that can replace the read-only value above."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673476523,"post_id":290265,"comment_id":132510982,"body_markdown":"@PeterL: But not in .NET Framework, sadly :(","body":"@PeterL: But not in .NET Framework, sadly :("}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1673476509,"creation_date":1226673649,"answer_id":290265,"question_id":290227,"body_markdown":"An alternative:\r\n\r\n    // Use DateTime.UnixEpoch as of .NET or .NET Core 2.1 upwards;\r\n    // not available in .NET Framework\r\n    private static readonly DateTime Jan1st1970 = new DateTime\r\n        (1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\r\n\r\n    public static long CurrentTimeMillis()\r\n    {\r\n        return (long) (DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\r\n    }","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>An alternative:</p>\n<pre><code>// Use DateTime.UnixEpoch as of .NET or .NET Core 2.1 upwards;\n// not available in .NET Framework\nprivate static readonly DateTime Jan1st1970 = new DateTime\n    (1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\n\npublic static long CurrentTimeMillis()\n{\n    return (long) (DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1226676934,"post_id":290278,"comment_id":139019,"body_markdown":"DateTime.Now uses the local time, not UTC. I don&#39;t know exactly what happens when you subtract an unknown kind of DateTime from a local one, but it&#39;s best to set both of them to UTC :)","body":"DateTime.Now uses the local time, not UTC. I don&#39;t know exactly what happens when you subtract an unknown kind of DateTime from a local one, but it&#39;s best to set both of them to UTC :)"}],"tags":[],"owner":{"account_id":3588,"reputation":12676,"user_id":5186,"accept_rate":86,"display_name":"Hath"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1226680619,"creation_date":1226673872,"answer_id":290278,"question_id":290227,"body_markdown":"the `System.currentTimeMillis()` in java returns the current time in milliseconds from 1/1/1970\r\n\r\n\r\n c# that would be \r\n\r\n    public static double GetCurrentMilli()\r\n        {\r\n            DateTime Jan1970 = new DateTime(1970, 1, 1, 0, 0,0,DateTimeKind.Utc);\r\n            TimeSpan javaSpan = DateTime.UtcNow - Jan1970;\r\n            return javaSpan.TotalMilliseconds;\r\n        }\r\n\r\nedit: made it utc as suggested :)","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>the <code>System.currentTimeMillis()</code> in java returns the current time in milliseconds from 1/1/1970</p>\n\n<p>c# that would be </p>\n\n<pre><code>public static double GetCurrentMilli()\n    {\n        DateTime Jan1970 = new DateTime(1970, 1, 1, 0, 0,0,DateTimeKind.Utc);\n        TimeSpan javaSpan = DateTime.UtcNow - Jan1970;\n        return javaSpan.TotalMilliseconds;\n    }\n</code></pre>\n\n<p>edit: made it utc as suggested :)</p>\n"},{"tags":[],"owner":{"account_id":4350,"reputation":84002,"user_id":6491,"display_name":"gimel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1226674345,"creation_date":1226674345,"answer_id":290301,"question_id":290227,"body_markdown":"Here is a simple way to approximate the Unix timestamp. \r\nUsing UTC is closer to the unix concept, and you need to covert from `double` to `long`.\r\n\r\n    TimeSpan ts = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc));\r\n    long millis = (long)ts.TotalMilliseconds;\r\n    Console.WriteLine(&quot;millis={0}&quot;, millis);\r\n\r\nprints:\r\n\r\n    millis=1226674125796\r\n\r\n\r\n","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>Here is a simple way to approximate the Unix timestamp. \nUsing UTC is closer to the unix concept, and you need to covert from <code>double</code> to <code>long</code>.</p>\n\n<pre><code>TimeSpan ts = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc));\nlong millis = (long)ts.TotalMilliseconds;\nConsole.WriteLine(\"millis={0}\", millis);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>millis=1226674125796\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1309409,"reputation":9450,"user_id":1257728,"accept_rate":43,"display_name":"mortb"},"score":5,"creation_date":1397130483,"post_id":290353,"comment_id":35104367,"body_markdown":"Isn&#39;t this a bit wrong? This extension method will hand on to any *instance* of DateTime, but it doesn&#39;t use the instance. Just seems confusing...I don&#39;t think you should require a parameter that you don&#39;t use","body":"Isn&#39;t this a bit wrong? This extension method will hand on to any <i>instance</i> of DateTime, but it doesn&#39;t use the instance. Just seems confusing...I don&#39;t think you should require a parameter that you don&#39;t use"},{"owner":{"account_id":1372320,"reputation":996,"user_id":1307074,"display_name":"Suncat2000"},"score":2,"creation_date":1551287471,"post_id":290353,"comment_id":96588688,"body_markdown":"@mortb That&#39;s an extension method. That is how it gets defined in C# to &quot;add a method&quot; to a class without modifying the class. The compiler interprets the method and can apply it to an instance of the &quot;this&quot; parameter as if it were an instance method on the class itself. It functions just the same as a method on the static class but the compiler allows writing an easier, alternate syntax.","body":"@mortb That&#39;s an extension method. That is how it gets defined in C# to &quot;add a method&quot; to a class without modifying the class. The compiler interprets the method and can apply it to an instance of the &quot;this&quot; parameter as if it were an instance method on the class itself. It functions just the same as a method on the static class but the compiler allows writing an easier, alternate syntax."},{"owner":{"account_id":1309409,"reputation":9450,"user_id":1257728,"accept_rate":43,"display_name":"mortb"},"score":2,"creation_date":1551341845,"post_id":290353,"comment_id":96607353,"body_markdown":"The problem is that the value of the parameter `d`is not used. To use this code you could write `var date = new DateTime();\tvar millis = date.currentTimeMillis();` But the `date` variable would just be redundant and its state never used. When not using the state of the object creating an extension method just obscures the code. The answer provided by @Hath is more straight forward and therefore  better (to me). Maybe @Joel Coehoorn intended to use the value `d` instead of `DateTime.UtcNow` in the method body? I use extension methods quite a lot, but not for this.","body":"The problem is that the value of the parameter <code>d</code>is not used. To use this code you could write <code>var date = new DateTime();\tvar millis = date.currentTimeMillis();</code> But the <code>date</code> variable would just be redundant and its state never used. When not using the state of the object creating an extension method just obscures the code. The answer provided by @Hath is more straight forward and therefore  better (to me). Maybe @Joel Coehoorn intended to use the value <code>d</code> instead of <code>DateTime.UtcNow</code> in the method body? I use extension methods quite a lot, but not for this."},{"owner":{"account_id":7356077,"reputation":332,"user_id":5600794,"accept_rate":67,"display_name":"Mark G"},"score":1,"creation_date":1586363217,"post_id":290353,"comment_id":108103048,"body_markdown":"Why would you create an extension, that doesn&#39;t use the date? I used this code and it caught me out. The correct version is: return (long)((d.ToUniversalTime() - Jan1st1970).TotalMilliseconds);","body":"Why would you create an extension, that doesn&#39;t use the date? I used this code and it caught me out. The correct version is: return (long)((d.ToUniversalTime() - Jan1st1970).TotalMilliseconds);"}],"tags":[],"owner":{"account_id":2212,"reputation":403900,"user_id":3043,"accept_rate":70,"display_name":"Joel Coehoorn"},"comment_count":4,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1227027393,"creation_date":1226675321,"answer_id":290353,"question_id":290227,"body_markdown":"We could also get a little fancy and do it as an extension method, so that it hangs off the DateTime class:\r\n\r\n    public static class DateTimeExtensions\r\n    {\r\n        private static DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\r\n        public static long currentTimeMillis(this DateTime d)\r\n        {\r\n            return (long) ((DateTime.UtcNow - Jan1st1970).TotalMilliseconds);\r\n        }\r\n    }","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>We could also get a little fancy and do it as an extension method, so that it hangs off the DateTime class:</p>\n\n<pre><code>public static class DateTimeExtensions\n{\n    private static DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\n    public static long currentTimeMillis(this DateTime d)\n    {\n        return (long) ((DateTime.UtcNow - Jan1st1970).TotalMilliseconds);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1804000,"reputation":7378,"user_id":1641556,"accept_rate":55,"display_name":"Elshan"},"score":1,"creation_date":1390708016,"post_id":5703212,"comment_id":32206594,"body_markdown":"But they both give difference numbers.How they compare correctly??\n`C# give : 2688547` and `Java give : 1390707872687`","body":"But they both give difference numbers.How they compare correctly?? <code>C# give : 2688547</code> and <code>Java give : 1390707872687</code>"},{"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"score":1,"creation_date":1390772572,"post_id":5703212,"comment_id":32224888,"body_markdown":"@Elshan You can&#39;t compare them. They&#39;re different ticks. This technique is for timing and scheduling within an application, not across applications.","body":"@Elshan You can&#39;t compare them. They&#39;re different ticks. This technique is for timing and scheduling within an application, not across applications."},{"owner":{"account_id":307927,"reputation":1815,"user_id":619510,"accept_rate":92,"display_name":"michelpm"},"score":0,"creation_date":1441190940,"post_id":5703212,"comment_id":52575236,"body_markdown":"`System.currentTimeMillis()` returns UTC time in ms since 1970, while `Environment.TickCount` returns ms since the app started. `System.currentTimeMillis()` is good for checking elapsed time, but if you want two durations to be comparable you must use `System.nanoTime()`.","body":"<code>System.currentTimeMillis()</code> returns UTC time in ms since 1970, while <code>Environment.TickCount</code> returns ms since the app started. <code>System.currentTimeMillis()</code> is good for checking elapsed time, but if you want two durations to be comparable you must use <code>System.nanoTime()</code>."}],"tags":[],"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"comment_count":3,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1303131363,"creation_date":1303131363,"answer_id":5703212,"question_id":290227,"body_markdown":"A common idiom in Java is to use the `currentTimeMillis()` for timing or scheduling purposes, where you&#39;re not interested in the actual milliseconds since 1970, but instead calculate some relative value and compare later invocations of `currentTimeMillis()` to that value.\r\n\r\nIf that&#39;s what you&#39;re looking for, the C# equivalent is **`Environment.TickCount`**.","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>A common idiom in Java is to use the <code>currentTimeMillis()</code> for timing or scheduling purposes, where you're not interested in the actual milliseconds since 1970, but instead calculate some relative value and compare later invocations of <code>currentTimeMillis()</code> to that value.</p>\n\n<p>If that's what you're looking for, the C# equivalent is <strong><code>Environment.TickCount</code></strong>.</p>\n"},{"tags":[],"owner":{"account_id":762144,"reputation":199,"user_id":778481,"display_name":"bstabile"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1306902904,"creation_date":1306882161,"answer_id":6194429,"question_id":290227,"body_markdown":"If you are interested in TIMING, add a reference to System.Diagnostics and use a Stopwatch.\r\n\r\nFor example:\r\n\r\n    var sw = Stopwatch.StartNew();\r\n    ...\r\n    var elapsedStage1 = sw.ElapsedMilliseconds;\r\n    ...\r\n    var elapsedStage2 = sw.ElapsedMilliseconds;\r\n    ...\r\n    sw.Stop();","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>If you are interested in TIMING, add a reference to System.Diagnostics and use a Stopwatch.</p>\n\n<p>For example:</p>\n\n<pre><code>var sw = Stopwatch.StartNew();\n...\nvar elapsedStage1 = sw.ElapsedMilliseconds;\n...\nvar elapsedStage2 = sw.ElapsedMilliseconds;\n...\nsw.Stop();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1549477,"reputation":13452,"user_id":1442225,"accept_rate":76,"display_name":"Bitterblue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361894470,"creation_date":1361894470,"answer_id":15093666,"question_id":290227,"body_markdown":"I know question asks for **equivalent** but since I use those 2 for the same tasks I throw in [GetTickCount][1]. I might be nostalgic but System.currentTimeMillis() and GetTickCount() are the only ones I use for getting ticks.\r\n\r\n    [DllImport(&quot;kernel32.dll&quot;)]\r\n    static extern uint GetTickCount();\r\n    \r\n    // call\r\n    uint ticks = GetTickCount();\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/windows/desktop/ms724408%28v=vs.85%29.aspx","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>I know question asks for <strong>equivalent</strong> but since I use those 2 for the same tasks I throw in <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms724408%28v=vs.85%29.aspx\" rel=\"nofollow\">GetTickCount</a>. I might be nostalgic but System.currentTimeMillis() and GetTickCount() are the only ones I use for getting ticks.</p>\n\n<pre><code>[DllImport(\"kernel32.dll\")]\nstatic extern uint GetTickCount();\n\n// call\nuint ticks = GetTickCount();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5027671,"reputation":2794,"user_id":4038978,"accept_rate":50,"display_name":"Mehdi Khademloo"},"score":2,"creation_date":1503132089,"post_id":27124904,"comment_id":78497202,"body_markdown":"`DateTime.UtcNow` is a better option","body":"<code>DateTime.UtcNow</code> is a better option"}],"tags":[],"owner":{"account_id":1184367,"reputation":940,"user_id":1158652,"accept_rate":89,"display_name":"TechCrap"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1416913342,"creation_date":1416913342,"answer_id":27124904,"question_id":290227,"body_markdown":"I just consider the most straight forward way how to achieve what you&#39;ve been striving for as follows:\r\n\r\n    DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>I just consider the most straight forward way how to achieve what you've been striving for as follows:</p>\n\n<pre><code>DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495549786,"creation_date":1495547986,"answer_id":44136945,"question_id":290227,"body_markdown":"If you want a timestamp to be compared between different processes, different languages (Java, C, C#), under GNU/Linux and Windows (Seven at least):\r\n\r\nC#:\r\n\r\n    private static long nanoTime() {\r\n       long nano = 10000L * Stopwatch.GetTimestamp();\r\n       nano /= TimeSpan.TicksPerMillisecond;\r\n       nano *= 100L;\r\n       return nano;\r\n    }\r\n\r\nJava:\r\n\r\n    java.lang.System.nanoTime();\r\n\r\nC GNU/Linux:\r\n\r\n    static int64_t hpms_nano() {\r\n       struct timespec t;\r\n       clock_gettime( CLOCK_MONOTONIC, &amp;t );\r\n       int64_t nano = t.tv_sec;\r\n       nano *= 1000;\r\n       nano *= 1000;\r\n       nano *= 1000;\r\n       nano += t.tv_nsec;\r\n       return nano;\r\n    }\r\n\r\nC Windows:\r\n\r\n    static int64_t hpms_nano() {\r\n       static LARGE_INTEGER ticksPerSecond;\r\n       if( ticksPerSecond.QuadPart == 0 ) {\r\n          QueryPerformanceFrequency( &amp;ticksPerSecond );\r\n       }\r\n       LARGE_INTEGER ticks;\r\n       QueryPerformanceCounter( &amp;ticks );\r\n       uint64_t nano = ( 1000*1000*10UL * ticks.QuadPart ) / ticksPerSecond.QuadPart;\r\n       nano *= 100UL;\r\n       return nano;\r\n    }\r\n","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>If you want a timestamp to be compared between different processes, different languages (Java, C, C#), under GNU/Linux and Windows (Seven at least):</p>\n\n<p>C#:</p>\n\n<pre><code>private static long nanoTime() {\n   long nano = 10000L * Stopwatch.GetTimestamp();\n   nano /= TimeSpan.TicksPerMillisecond;\n   nano *= 100L;\n   return nano;\n}\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>java.lang.System.nanoTime();\n</code></pre>\n\n<p>C GNU/Linux:</p>\n\n<pre><code>static int64_t hpms_nano() {\n   struct timespec t;\n   clock_gettime( CLOCK_MONOTONIC, &amp;t );\n   int64_t nano = t.tv_sec;\n   nano *= 1000;\n   nano *= 1000;\n   nano *= 1000;\n   nano += t.tv_nsec;\n   return nano;\n}\n</code></pre>\n\n<p>C Windows:</p>\n\n<pre><code>static int64_t hpms_nano() {\n   static LARGE_INTEGER ticksPerSecond;\n   if( ticksPerSecond.QuadPart == 0 ) {\n      QueryPerformanceFrequency( &amp;ticksPerSecond );\n   }\n   LARGE_INTEGER ticks;\n   QueryPerformanceCounter( &amp;ticks );\n   uint64_t nano = ( 1000*1000*10UL * ticks.QuadPart ) / ticksPerSecond.QuadPart;\n   nano *= 100UL;\n   return nano;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1372320,"reputation":996,"user_id":1307074,"display_name":"Suncat2000"},"score":0,"creation_date":1551288591,"post_id":50603116,"comment_id":96589267,"body_markdown":"That `DateTimeOffset` method was introduced as of .Net 4.6.","body":"That <code>DateTimeOffset</code> method was introduced as of .Net 4.6."}],"tags":[],"owner":{"account_id":4511847,"reputation":1045,"user_id":3667714,"accept_rate":100,"display_name":"Ramunas"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1527678467,"creation_date":1527678467,"answer_id":50603116,"question_id":290227,"body_markdown":"    DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()","title":"Java System.currentTimeMillis() equivalent in C#","body":"<pre><code>DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()\n</code></pre>\n"}],"owner":{"display_name":"yash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65191,"favorite_count":0,"down_vote_count":1,"up_vote_count":98,"answer_count":11,"score":97,"last_activity_date":1673476509,"creation_date":1226673043,"question_id":290227,"body_markdown":"What is the equivalent of Java&#39;s `System.currentTimeMillis()` in C#?","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>What is the equivalent of Java's <code>System.currentTimeMillis()</code> in C#?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1255617934,"post_id":1572708,"comment_id":1433350,"body_markdown":"And what about `Integer.toString(int i)`? (will not compile if you change `i` to another type which might be a good thing or not)","body":"And what about <code>Integer.toString(int i)</code>? (will not compile if you change <code>i</code> to another type which might be a good thing or not)"},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1255618718,"post_id":1572708,"comment_id":1433448,"body_markdown":"@Pascal Thivent: see my answer, it looks like `Integer.toString(int i)` is the best of them all!","body":"@Pascal Thivent: see my answer, it looks like <code>Integer.toString(int i)</code> is the best of them all!"},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1255618902,"post_id":1572708,"comment_id":1433477,"body_markdown":"(at least from performance, a readability argument could still be for String.valueOf(), since the performance difference is negligible)","body":"(at least from performance, a readability argument could still be for String.valueOf(), since the performance difference is negligible)"},{"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"score":0,"creation_date":1255627089,"post_id":1572708,"comment_id":1434515,"body_markdown":"Integer.toString(i, 10) is equivalent to String.valueOf(i)","body":"Integer.toString(i, 10) is equivalent to String.valueOf(i)"}],"answers":[{"comments":[{"owner":{"account_id":222664,"reputation":3043,"user_id":481422,"display_name":"Zlatin Zlatev"},"score":0,"creation_date":1673466190,"post_id":1572724,"comment_id":132507978,"body_markdown":"Jon Skeet, would you have the article backed up somewhere?","body":"Jon Skeet, would you have the article backed up somewhere?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673476371,"post_id":1572724,"comment_id":132510940,"body_markdown":"@ZlatinZlatev: Have edited the link. Although it&#39;s now been longer between writing this answer and now, than between writing the article and writing the answer...","body":"@ZlatinZlatev: Have edited the link. Although it&#39;s now been longer between writing this answer and now, than between writing the article and writing the answer..."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1673476316,"creation_date":1255617005,"answer_id":1572724,"question_id":1572708,"body_markdown":"I would always prefer the `String.valueOf` version: mostly because it shows what you&#39;re trying to do. The aim isn&#39;t string concatenation - it&#39;s conversion to a string, &quot;the string value of `i`&quot;.\r\n\r\nThe first form may also be inefficient - depending on whether the compiler spots what you&#39;re doing. If it doesn&#39;t, it may be creating a new StringBuffer or StringBuilder and appending the value, then converting it to a string.\r\n\r\nFunnily enough, I have an [article about this very topic][1] - written years and years ago; one of the first Java articles on my web site, IIRC.\r\n\r\n\r\n  [1]: https://jonskeet.uk/java/stringconv.html","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>I would always prefer the <code>String.valueOf</code> version: mostly because it shows what you're trying to do. The aim isn't string concatenation - it's conversion to a string, &quot;the string value of <code>i</code>&quot;.</p>\n<p>The first form may also be inefficient - depending on whether the compiler spots what you're doing. If it doesn't, it may be creating a new StringBuffer or StringBuilder and appending the value, then converting it to a string.</p>\n<p>Funnily enough, I have an <a href=\"https://jonskeet.uk/java/stringconv.html\" rel=\"nofollow noreferrer\">article about this very topic</a> - written years and years ago; one of the first Java articles on my web site, IIRC.</p>\n"},{"tags":[],"owner":{"account_id":61398,"reputation":7859,"user_id":183013,"display_name":"elder_george"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255617011,"creation_date":1255617011,"answer_id":1572726,"question_id":1572708,"body_markdown":"Yes, it is IMHO a bad practice.\r\n\r\nIt would require to memory allocations (unless compiler and/or JIT optimize them). What&#39;s more, it will make less evident, what this code tries to do.","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Yes, it is IMHO a bad practice.</p>\n\n<p>It would require to memory allocations (unless compiler and/or JIT optimize them). What's more, it will make less evident, what this code tries to do.</p>\n"},{"tags":[],"owner":{"account_id":11983,"reputation":71675,"user_id":23368,"accept_rate":92,"display_name":"Daniel Rikowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1255626911,"creation_date":1255617076,"answer_id":1572734,"question_id":1572708,"body_markdown":"Regardless of any performance considerations I think the first variant is really ugly. IMHO it&#39;s a shame that this kind of &quot;dynamic casting&quot; is even possible in Java.\r\n\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Regardless of any performance considerations I think the first variant is really ugly. IMHO it's a shame that this kind of \"dynamic casting\" is even possible in Java.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1255617216,"post_id":1572743,"comment_id":1433259,"body_markdown":"&quot;&quot; doesn&#39;t create a new empty string on every iteration. There will be a single string for all the occurrences of &quot;&quot;. But yes, unless the compiler catches it you&#39;ll end up with an extra StringBuilder.","body":"&quot;&quot; doesn&#39;t create a new empty string on every iteration. There will be a single string for all the occurrences of &quot;&quot;. But yes, unless the compiler catches it you&#39;ll end up with an extra StringBuilder."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1255617219,"post_id":1572743,"comment_id":1433261,"body_markdown":"The first empty quote will be interned, so there will only ever be one (this is a JLS thing, not just an optional optimization).","body":"The first empty quote will be interned, so there will only ever be one (this is a JLS thing, not just an optional optimization)."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1255617335,"post_id":1572743,"comment_id":1433276,"body_markdown":"The issue with + on strings in loops has nothing to do with this.","body":"The issue with + on strings in loops has nothing to do with this."},{"owner":{"account_id":51109,"reputation":5983,"user_id":152621,"display_name":"Malaxeur"},"score":0,"creation_date":1255617429,"post_id":1572743,"comment_id":1433286,"body_markdown":"Ah, I wasn&#39;t aware that the literal was interned.  I was under the assumption that unless you explicitly call .intern, no string literals are interned.  Regardless, there&#39;s additional overhead on the internalizing + extra overhead of an empty string (for nothing) in this case... which we&#39;re all in agreement with.","body":"Ah, I wasn&#39;t aware that the literal was interned.  I was under the assumption that unless you explicitly call .intern, no string literals are interned.  Regardless, there&#39;s additional overhead on the internalizing + extra overhead of an empty string (for nothing) in this case... which we&#39;re all in agreement with."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1255617456,"post_id":1572743,"comment_id":1433290,"body_markdown":"The issue with + on strings in loops has nothing to do with this.","body":"The issue with + on strings in loops has nothing to do with this."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1255618239,"post_id":1572743,"comment_id":1433384,"body_markdown":"The interning doesn&#39;t have any overhead on a per invocation basis - it&#39;s done on class load. That wouldn&#39;t bother me at all. It&#39;s the creation of a pointless StringBuilder etc that&#39;s the problem.","body":"The interning doesn&#39;t have any overhead on a per invocation basis - it&#39;s done on class load. That wouldn&#39;t bother me at all. It&#39;s the creation of a pointless StringBuilder etc that&#39;s the problem."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1255618564,"post_id":1572743,"comment_id":1433428,"body_markdown":"It&#39;s true that only one instance of the empty string will be created, but that&#39;s still one wasted creation of a string. Well, maybe in a non-trivial program you&#39;re going to create an empty string for something somewhere anyway.","body":"It&#39;s true that only one instance of the empty string will be created, but that&#39;s still one wasted creation of a string. Well, maybe in a non-trivial program you&#39;re going to create an empty string for something somewhere anyway."}],"tags":[],"owner":{"account_id":51109,"reputation":5983,"user_id":152621,"display_name":"Malaxeur"},"comment_count":7,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1255617114,"creation_date":1255617114,"answer_id":1572743,"question_id":1572708,"body_markdown":"Definitely use String.valueOf(i).\r\n\r\nAlthough I&#39;m not sure of the optimizations on the compiler side, worst case scenario if you use &quot;&quot; + &lt;value&gt;:\r\n\r\n 1. &quot;&quot; creates a new empty string.\r\n 2. &quot;&quot; + &lt;value&gt; creates a StringBuilder (Java 1.5-16)\r\n 3. &quot;&quot; is appended to the StringBuilder, then &lt;value&gt;\r\n\r\nIn other words, there is a lot of overhead that occurs if you use string addition.  This is why it is not recommended to use the + operator on strings in loops.  In general, always use Boolean.valueOf, Integer.valueOf, String.valueOf... etc, when possible.  You&#39;ll save both on memory and on overhead.","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Definitely use String.valueOf(i).</p>\n\n<p>Although I'm not sure of the optimizations on the compiler side, worst case scenario if you use \"\" + :</p>\n\n<ol>\n<li>\"\" creates a new empty string.</li>\n<li>\"\" +  creates a StringBuilder (Java 1.5-16)</li>\n<li>\"\" is appended to the StringBuilder, then </li>\n</ol>\n\n<p>In other words, there is a lot of overhead that occurs if you use string addition.  This is why it is not recommended to use the + operator on strings in loops.  In general, always use Boolean.valueOf, Integer.valueOf, String.valueOf... etc, when possible.  You'll save both on memory and on overhead.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255617131,"creation_date":1255617131,"answer_id":1572748,"question_id":1572708,"body_markdown":"Personally I dislike the style of `&quot;&quot; + i`, but that is really a preference/coding standards thing. Ideally the compiler would optimize those into equivalent code (although you would have to decompile to see if it actually does), but technically, without optimization, `&quot;&quot; + i` is more inefficient because it creates a StringBuilder object that wasn&#39;t needed.","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Personally I dislike the style of <code>\"\" + i</code>, but that is really a preference/coding standards thing. Ideally the compiler would optimize those into equivalent code (although you would have to decompile to see if it actually does), but technically, without optimization, <code>\"\" + i</code> is more inefficient because it creates a StringBuilder object that wasn't needed.</p>\n"},{"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1255617552,"post_id":1572749,"comment_id":1433306,"body_markdown":"`Integer.valueOf(int i)` returns an `Integer`, not a `String`","body":"<code>Integer.valueOf(int i)</code> returns an <code>Integer</code>, not a <code>String</code>"},{"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"score":0,"creation_date":1255618330,"post_id":1572749,"comment_id":1433401,"body_markdown":"Thanks Kip. In my haste to beat Skeet, I mistyped it. fixed.","body":"Thanks Kip. In my haste to beat Skeet, I mistyped it. fixed."}],"tags":[],"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255618268,"creation_date":1255617135,"answer_id":1572749,"question_id":1572708,"body_markdown":"Right off the bat all I can think of is that in the your first example more String objects will be created than in the second example (and an additional StringBuilder to actually perform the concatenation).\r\n\r\nBut what you are actualy trying to do is create a String object from a int not concatenate a String with an int, so go for the:\r\n\r\n    String.valueOf(...); \r\n\r\noption,\r\n\r\nSo yes your first option is bad practice!\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Right off the bat all I can think of is that in the your first example more String objects will be created than in the second example (and an additional StringBuilder to actually perform the concatenation).</p>\n\n<p>But what you are actualy trying to do is create a String object from a int not concatenate a String with an int, so go for the:</p>\n\n<pre><code>String.valueOf(...); \n</code></pre>\n\n<p>option,</p>\n\n<p>So yes your first option is bad practice!</p>\n"},{"comments":[{"owner":{"account_id":13372,"reputation":16082,"user_id":26816,"accept_rate":69,"display_name":"RHSeeger"},"score":0,"creation_date":1255621787,"post_id":1572805,"comment_id":1433829,"body_markdown":"+1 for checking the source and reporting back. Admittedly, may be considered premature optimization, but good information nonetheless.","body":"+1 for checking the source and reporting back. Admittedly, may be considered premature optimization, but good information nonetheless."}],"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1255618985,"creation_date":1255617496,"answer_id":1572805,"question_id":1572708,"body_markdown":"There is also [Integer.toString(int i)][1], which gives you the option of getting the string as a hex value as well (by passing a second param of 16).\r\n\r\n**Edit** I just checked the source of String class:\r\n\r\n    public static String valueOf(int i) {\r\n      return Integer.toString(i, 10);\r\n    }\r\n\r\nAnd Integer class:\r\n\r\n    public static String toString(int i, int radix) {\r\n      if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\r\n        radix = 10;\r\n      \r\n      /* Use the faster version */\r\n      if (radix == 10) {\r\n        return toString(i);\r\n      }\r\n      ...\r\n\r\n\r\nIf you call `String.valueOf(i)`, it calls `Integer.toString(i, 10)`, which then calls `Integer.toString(i)`.\r\n\r\nSo `Integer.toString(i)` should be *very slighty* faster than `String.valueOf(i)`, since you&#39;d be cutting out two function calls.  (Although the first function call could be optimized away by the compiler.)\r\n\r\n**Of course, a readability argument could still be made for `String.valueOf()`, since it allows you to change the type of the argument (and even handles nulls!), and the performance difference is negligible.**\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toString%28int%29","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>There is also <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toString%28int%29\" rel=\"noreferrer\">Integer.toString(int i)</a>, which gives you the option of getting the string as a hex value as well (by passing a second param of 16).</p>\n\n<p><strong>Edit</strong> I just checked the source of String class:</p>\n\n<pre><code>public static String valueOf(int i) {\n  return Integer.toString(i, 10);\n}\n</code></pre>\n\n<p>And Integer class:</p>\n\n<pre><code>public static String toString(int i, int radix) {\n  if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\n    radix = 10;\n\n  /* Use the faster version */\n  if (radix == 10) {\n    return toString(i);\n  }\n  ...\n</code></pre>\n\n<p>If you call <code>String.valueOf(i)</code>, it calls <code>Integer.toString(i, 10)</code>, which then calls <code>Integer.toString(i)</code>.</p>\n\n<p>So <code>Integer.toString(i)</code> should be <em>very slighty</em> faster than <code>String.valueOf(i)</code>, since you'd be cutting out two function calls.  (Although the first function call could be optimized away by the compiler.)</p>\n\n<p><strong>Of course, a readability argument could still be made for <code>String.valueOf()</code>, since it allows you to change the type of the argument (and even handles nulls!), and the performance difference is negligible.</strong></p>\n"},{"tags":[],"owner":{"account_id":893830,"reputation":169,"user_id":931570,"display_name":"sb4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609192665,"creation_date":1609192665,"answer_id":65484617,"question_id":1572708,"body_markdown":"I wonder what is best for static final variables contributing to compile-time constants:\r\n\r\n    public static final int VIEW_TYPE_LABEL_FIELD = 1;\r\n    public static final int VIEW_TYPE_HEADER_FIELD = ;\r\n    \r\n    ...\r\n    \r\n    List &lt;String[]&gt; listViewInfo = new ArrayList&lt;&gt;();\r\n    \r\n    listViewInfo.add(new String[]{&quot;Label/Field view&quot;, String.valueOf(VIEW_TYPE_LABEL_FIELD)});\r\n    listViewInfo.add(new String[]{&quot;Header/Field view&quot;, &quot;&quot; + VIEW_TYPE_LABEL_FIELD});\r\n\r\nThe compiler can potentially replace the String expressions with a constant.  Is one or the other more recognizable as a compile-time constant?  Maybe easier for the (&quot;&quot; + ..) construct?\r\n\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>I wonder what is best for static final variables contributing to compile-time constants:</p>\n<pre><code>public static final int VIEW_TYPE_LABEL_FIELD = 1;\npublic static final int VIEW_TYPE_HEADER_FIELD = ;\n\n...\n\nList &lt;String[]&gt; listViewInfo = new ArrayList&lt;&gt;();\n\nlistViewInfo.add(new String[]{&quot;Label/Field view&quot;, String.valueOf(VIEW_TYPE_LABEL_FIELD)});\nlistViewInfo.add(new String[]{&quot;Header/Field view&quot;, &quot;&quot; + VIEW_TYPE_LABEL_FIELD});\n</code></pre>\n<p>The compiler can potentially replace the String expressions with a constant.  Is one or the other more recognizable as a compile-time constant?  Maybe easier for the (&quot;&quot; + ..) construct?</p>\n"}],"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5572,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":1572724,"answer_count":8,"score":18,"last_activity_date":1673476316,"creation_date":1255616834,"question_id":1572708,"body_markdown":"Is conversion to String in Java using \r\n\r\n    &quot;&quot; + &lt;int value&gt;\r\n\r\nbad practice? Does it have any drawbacks compared to **String.valueOf(...)**?\r\n\r\nCode example:\r\n\r\n    int i = 25;\r\n    return &quot;&quot; + i;\r\n\r\nvs:\r\n\r\n    int i = 25;\r\n    return String.valueOf(i);\r\n\r\n**Update:** (from comment)\r\n\r\nAnd what about **Integer.toString(int i)** compared to **String.valueOf(...)**?\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Is conversion to String in Java using </p>\n\n<pre><code>\"\" + &lt;int value&gt;\n</code></pre>\n\n<p>bad practice? Does it have any drawbacks compared to <strong>String.valueOf(...)</strong>?</p>\n\n<p>Code example:</p>\n\n<pre><code>int i = 25;\nreturn \"\" + i;\n</code></pre>\n\n<p>vs:</p>\n\n<pre><code>int i = 25;\nreturn String.valueOf(i);\n</code></pre>\n\n<p><strong>Update:</strong> (from comment)</p>\n\n<p>And what about <strong>Integer.toString(int i)</strong> compared to <strong>String.valueOf(...)</strong>?</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673480238,"post_id":75089647,"comment_id":132511664,"body_markdown":"*So, how can I tell to Ant to link jsch libraries on my file system in programmatically way (so in my Test.java)?* Why do you need to do it programmatically when you have deploy.xml?","body":"<i>So, how can I tell to Ant to link jsch libraries on my file system in programmatically way (so in my Test.java)?</i> Why do you need to do it programmatically when you have deploy.xml?"},{"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"score":0,"creation_date":1673511182,"post_id":75089647,"comment_id":132516677,"body_markdown":"Because this is a software product is sold to clients.\nWe don&#39;t want that clients do a lot of updates on ant file (deploy.xml).\nWe would to add libraries in Ant Classpath dinamically and programmatically. So, in my Java program  I would link Ant to an external folder that contains jar libs.","body":"Because this is a software product is sold to clients. We don&#39;t want that clients do a lot of updates on ant file (deploy.xml). We would to add libraries in Ant Classpath dinamically and programmatically. So, in my Java program  I would link Ant to an external folder that contains jar libs."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673513492,"post_id":75089647,"comment_id":132517364,"body_markdown":"I still don&#39;t get it. Since the supporting libraries would be shipped and placed by you, why would you *not* know where they are and thus specify    this in the config?","body":"I still don&#39;t get it. Since the supporting libraries would be shipped and placed by you, why would you <i>not</i> know where they are and thus specify    this in the config?"},{"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"score":0,"creation_date":1673513680,"post_id":75089647,"comment_id":132517438,"body_markdown":"The libraries would be shipped and placed by client. A client can choose what libraries put in classpath Ant.","body":"The libraries would be shipped and placed by client. A client can choose what libraries put in classpath Ant."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673514096,"post_id":75089647,"comment_id":132517583,"body_markdown":"That location can and *should* be specified by you or you will open yourself up to a lot of wholly unnecessary trouble.","body":"That location can and <i>should</i> be specified by you or you will open yourself up to a lot of wholly unnecessary trouble."},{"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"score":0,"creation_date":1673519197,"post_id":75089647,"comment_id":132519397,"body_markdown":"The location where libraries are located is configurable by client through property. So I ask if there is a way to load this path where jars are located dynamically and programmatically.","body":"The location where libraries are located is configurable by client through property. So I ask if there is a way to load this path where jars are located dynamically and programmatically."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673523543,"post_id":75089647,"comment_id":132520814,"body_markdown":"You might need to set a classpath including these libraries *before* executing Ant programmatically. That would probably mean in effect that you need to execute *another Java process programmatically* but as I said, I think this is very much an unnecessary complication","body":"You might need to set a classpath including these libraries <i>before</i> executing Ant programmatically. That would probably mean in effect that you need to execute <i>another Java process programmatically</i> but as I said, I think this is very much an unnecessary complication"},{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":0,"creation_date":1673686665,"post_id":75089647,"comment_id":132557090,"body_markdown":"So just to be clear, you&#39;re expecting the client to provide jsch.jar on their own file system? What if they have an incompatible version, or a version that behaves differently? You should include the jar that you&#39;ve tested as a necessary runtime dependency in whatever you&#39;re shipping out to people. This approach makes no sense.","body":"So just to be clear, you&#39;re expecting the client to provide jsch.jar on their own file system? What if they have an incompatible version, or a version that behaves differently? You should include the jar that you&#39;ve tested as a necessary runtime dependency in whatever you&#39;re shipping out to people. This approach makes no sense."}],"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673475905,"creation_date":1673475905,"question_id":75089647,"body_markdown":"I&#39;m working on a Java project that exec Ant target task on runtime.\r\nOn my pom file I have this dependency:\r\n\r\n**pom.xml**\r\n\r\n```\r\n     &lt;dependency&gt;\r\n       \t&lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n       \t&lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n       \t&lt;version&gt;${ant.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n```\r\n\r\nI have to run \\&lt;scp\\&gt; task that is included in a target container task (called scp-test-target).\r\nBelow you can see the ant file:\r\n\r\n**deploy.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project name=&quot;test&quot; basedir=&quot;./&quot;&gt;\r\n\r\n\t&lt;target name=&quot;scp-test-target&quot; description=&quot;scp desc&quot;&gt;\r\n\t\t&lt;echo message=&quot;Test SCP&quot;/&gt;\r\n\t\t&lt;scp file=&quot;...&quot; todir=&quot;...&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI have created a junit file to exec &#39;scp-test-target&#39;:\r\n\r\n**Test.java**\r\n\r\n```\r\n @Test\r\n public void testAnt1(){\r\n Project antProject = new Project();\r\n ProjectHelper projectHelper = ProjectHelper.getProjectHelper();\r\n antProject.addReference(&quot;ant.projectHelper&quot;, projectHelper);\r\n antProject.setUserProperty(&quot;ant.file&quot;, &quot;deploy.xml&quot;);\r\n\r\n antProject.fireBuildStarted();\r\n antProject.init();\r\n projectHelper.parse(antProject, new File(&quot;deploy.xml&quot;));\r\n antProject.executeTarget(&quot;scp-test-target&quot;);\r\n antProject.fireBuildFinished(null);\r\n\r\n     }\r\n```\r\n\r\nBut when I run my junit test, the program failed because it not find jsch library.\r\n\r\n```\r\nProblem: failed to create task or type scp\r\nCause: the class org.apache.tools.ant.taskdefs.optional.ssh.Scp was not found.\r\n        This looks like one of Ant&#39;s optional components.\r\n```\r\n\r\nSo, how can I tell to Ant  to link jsch libraries on my file system in programmatically way (so in my Test.java)?\r\n\r\nThanks in advance","title":"Set project ant classpath programatically","body":"<p>I'm working on a Java project that exec Ant target task on runtime.\nOn my pom file I have this dependency:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant&lt;/artifactId&gt;\n        &lt;version&gt;${ant.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>I have to run &lt;scp&gt; task that is included in a target container task (called scp-test-target).\nBelow you can see the ant file:</p>\n<p><strong>deploy.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project name=&quot;test&quot; basedir=&quot;./&quot;&gt;\n\n    &lt;target name=&quot;scp-test-target&quot; description=&quot;scp desc&quot;&gt;\n        &lt;echo message=&quot;Test SCP&quot;/&gt;\n        &lt;scp file=&quot;...&quot; todir=&quot;...&quot;/&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have created a junit file to exec 'scp-test-target':</p>\n<p><strong>Test.java</strong></p>\n<pre><code> @Test\n public void testAnt1(){\n Project antProject = new Project();\n ProjectHelper projectHelper = ProjectHelper.getProjectHelper();\n antProject.addReference(&quot;ant.projectHelper&quot;, projectHelper);\n antProject.setUserProperty(&quot;ant.file&quot;, &quot;deploy.xml&quot;);\n\n antProject.fireBuildStarted();\n antProject.init();\n projectHelper.parse(antProject, new File(&quot;deploy.xml&quot;));\n antProject.executeTarget(&quot;scp-test-target&quot;);\n antProject.fireBuildFinished(null);\n\n     }\n</code></pre>\n<p>But when I run my junit test, the program failed because it not find jsch library.</p>\n<pre><code>Problem: failed to create task or type scp\nCause: the class org.apache.tools.ant.taskdefs.optional.ssh.Scp was not found.\n        This looks like one of Ant's optional components.\n</code></pre>\n<p>So, how can I tell to Ant  to link jsch libraries on my file system in programmatically way (so in my Test.java)?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","locale"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1673480653,"post_id":75089570,"comment_id":132511723,"body_markdown":"I think the issue stems from the fact that `en_US_POSIX` is an acceptable tag to return for a request of just `en-US`. Try removing the `-POSIX` input and you&#39;ll see that both will be returned. If you want your inputs to be considered the *most specific* tag to match (i.e. only `en-us-posix` should match itself, but `en-us` should only match `en-us`), then you need to use the lookup functions instead. `Locale.lookup(ranges, allLocales)` will return `en_US` with your input.","body":"I think the issue stems from the fact that <code>en_US_POSIX</code> is an acceptable tag to return for a request of just <code>en-US</code>. Try removing the <code>-POSIX</code> input and you&#39;ll see that both will be returned. If you want your inputs to be considered the <i>most specific</i> tag to match (i.e. only <code>en-us-posix</code> should match itself, but <code>en-us</code> should only match <code>en-us</code>), then you need to use the lookup functions instead. <code>Locale.lookup(ranges, allLocales)</code> will return <code>en_US</code> with your input."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1673557214,"post_id":75089570,"comment_id":132532489,"body_markdown":"Thanks. The weight 1.0 is not honored.","body":"Thanks. The weight 1.0 is not honored."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1673598082,"post_id":75089570,"comment_id":132539398,"body_markdown":"No, that&#39;s not what I&#39;m telling you: `en-US;q=1.0` **is** honored. It just so happens that this specific request will match **both** `en-US` and `en-US-POSIX`. Try requesting **just** `en-US;q=1.0` and you&#39;ll observe that you get the same response back.","body":"No, that&#39;s not what I&#39;m telling you: <code>en-US;q=1.0</code> <b>is</b> honored. It just so happens that this specific request will match <b>both</b> <code>en-US</code> and <code>en-US-POSIX</code>. Try requesting <b>just</b> <code>en-US;q=1.0</code> and you&#39;ll observe that you get the same response back."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1673769378,"post_id":75089570,"comment_id":132568798,"body_markdown":"en-US-POSIX has weight 0.9. It is explicitly listed, and should be honored.","body":"en-US-POSIX has weight 0.9. It is explicitly listed, and should be honored."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1673787758,"post_id":75089570,"comment_id":132571449,"body_markdown":"I don&#39;t know how many more ways to tell you this: If the request of `en-US` already matches `en-US-POSIX`, then the weight of `en-US` is the relevant thing for deciding where to put that result. The presence of `en-US-POSIX` in your list of requested tags is a red herring.","body":"I don&#39;t know how many more ways to tell you this: If the request of <code>en-US</code> already matches <code>en-US-POSIX</code>, then the weight of <code>en-US</code> is the relevant thing for deciding where to put that result. The presence of <code>en-US-POSIX</code> in your list of requested tags is a red herring."}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673475253,"creation_date":1673475253,"question_id":75089570,"body_markdown":"Java Locale LanguageRange: how to list en-US-POSIX after en-US?\r\n\r\n\t\tList&lt;LanguageRange&gt; ranges = LanguageRange.parse(&quot;en-US;q=1.0,en-US-POSIX;q=0.9&quot;);\r\n\r\n\t\tList&lt;Locale&gt; locales = Locale.filter(ranges,\r\n\t\t\t\tArrays.asList(Locale.getAvailableLocales()));\r\n\r\n\r\nThe result is en-US-POSIX, en-US.\r\n\r\nThe order expected is en-US, en-US-POSIX.\r\n\r\njava 11.","title":"Java Locale LanguageRange priority list: how to list en-US-POSIX after en-US?","body":"<p>Java Locale LanguageRange: how to list en-US-POSIX after en-US?</p>\n<pre><code>    List&lt;LanguageRange&gt; ranges = LanguageRange.parse(&quot;en-US;q=1.0,en-US-POSIX;q=0.9&quot;);\n\n    List&lt;Locale&gt; locales = Locale.filter(ranges,\n            Arrays.asList(Locale.getAvailableLocales()));\n</code></pre>\n<p>The result is en-US-POSIX, en-US.</p>\n<p>The order expected is en-US, en-US-POSIX.</p>\n<p>java 11.</p>\n"},{"tags":["java","spring-boot","csv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673467749,"post_id":75088379,"comment_id":132508482,"body_markdown":"Use a CSV API such as OpenCsv","body":"Use a CSV API such as OpenCsv"}],"answers":[{"comments":[{"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"score":1,"creation_date":1673472013,"post_id":75088871,"comment_id":132509811,"body_markdown":"Yes, each row will always match the column count for the header. There might be some null or empty values here and there. But most of them will be populated. Thank you","body":"Yes, each row will always match the column count for the header. There might be some null or empty values here and there. But most of them will be populated. Thank you"},{"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"score":0,"creation_date":1673474516,"post_id":75088871,"comment_id":132510457,"body_markdown":"```Index 53 out of bounds for length 53\njava.lang.ArrayIndexOutOfBoundsException: Index 53 out of bounds for length 53\n```\nI am getting this error when I am trying to retrieve the code. So, when you meant that the row should have the same column count as the header. Does each and every row needs to be populated?","body":"<code>Index 53 out of bounds for length 53 java.lang.ArrayIndexOutOfBoundsException: Index 53 out of bounds for length 53 </code> I am getting this error when I am trying to retrieve the code. So, when you meant that the row should have the same column count as the header. Does each and every row needs to be populated?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673475385,"post_id":75088871,"comment_id":132510718,"body_markdown":"@stubbledweb1995 depends on what the disired behavior in such a case should be. Do you want to ignore that line, throw an exception, fill with a default value or keep it as an empty string ...? if you want to keep the empty strings just use the split method with a limit parameter `-1`  like : `getRowData(header, line.split(&quot;,&quot;, -1))`","body":"@stubbledweb1995 depends on what the disired behavior in such a case should be. Do you want to ignore that line, throw an exception, fill with a default value or keep it as an empty string ...? if you want to keep the empty strings just use the split method with a limit parameter <code>-1</code>  like : <code>getRowData(header, line.split(&quot;,&quot;, -1))</code>"},{"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"score":0,"creation_date":1673476681,"post_id":75088871,"comment_id":132511012,"body_markdown":"Thank you once again, it works like a charm.","body":"Thank you once again, it works like a charm."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673470232,"creation_date":1673470232,"answer_id":75088871,"question_id":75088379,"body_markdown":"Assuming your file is well formed and each row has the same column count as your header, something like below migght be a starting point:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public final class Example {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n\r\n            //create a map    \r\n            Map&lt;String, Map&lt;String, String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\n            Path filePath = Paths.get(&quot;path to your/test.csv&quot;);\r\n            Charset charset = StandardCharsets.UTF_8;\r\n    \r\n            //read the file\r\n            List&lt;String&gt; fileContent = Files.readAllLines(filePath, charset);\r\n    \r\n            // get the header\r\n            String[] header = fileContent.get(0).split(&quot;,&quot;);\r\n    \r\n            AtomicInteger lineNumber = new AtomicInteger(1);\r\n    \r\n            //fill the map\r\n            fileContent.stream()\r\n                       .skip(1)\r\n                       .forEach(line -&gt; map.put(\r\n                               String.valueOf(lineNumber.getAndIncrement()),\r\n                               getRowData(header, line.split(&quot;,&quot;))));\r\n    \r\n            System.out.println(map);\r\n        }\r\n    \r\n        // helper method to make the filling of the map in the stream readable\r\n        private static Map&lt;String, String&gt; getRowData(final String[] header, final String[] line) {\r\n            return IntStream.range(0, header.length)\r\n                            .mapToObj(i -&gt; Map.entry(header[i], line[i]))\r\n                            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        }\r\n    }","title":"Java - How to read a CSV file into a Map&lt;String, Map&lt;String, String&gt;&gt;","body":"<p>Assuming your file is well formed and each row has the same column count as your header, something like below migght be a starting point:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic final class Example {\n\n    public static void main(String[] args) throws IOException {\n\n        //create a map    \n        Map&lt;String, Map&lt;String, String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n\n        Path filePath = Paths.get(&quot;path to your/test.csv&quot;);\n        Charset charset = StandardCharsets.UTF_8;\n\n        //read the file\n        List&lt;String&gt; fileContent = Files.readAllLines(filePath, charset);\n\n        // get the header\n        String[] header = fileContent.get(0).split(&quot;,&quot;);\n\n        AtomicInteger lineNumber = new AtomicInteger(1);\n\n        //fill the map\n        fileContent.stream()\n                   .skip(1)\n                   .forEach(line -&gt; map.put(\n                           String.valueOf(lineNumber.getAndIncrement()),\n                           getRowData(header, line.split(&quot;,&quot;))));\n\n        System.out.println(map);\n    }\n\n    // helper method to make the filling of the map in the stream readable\n    private static Map&lt;String, String&gt; getRowData(final String[] header, final String[] line) {\n        return IntStream.range(0, header.length)\n                        .mapToObj(i -&gt; Map.entry(header[i], line[i]))\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75088871,"answer_count":1,"score":0,"last_activity_date":1673474688,"creation_date":1673466935,"question_id":75088379,"body_markdown":"Input (CSV File)\r\n\r\n```Header1,Header2,Header3```\r\n\r\n```Data1,Data2,Data3```\r\n\r\n```Data4,Data5,Data6```\r\n\r\n```Data7,,```\r\n\r\n```,,Data8```\r\n\r\nI am trying to parse through a CSV file similar to the above structure and store the data into a Map&lt;String (Row Number), Map&lt;String (Column Header), String (Column Value)&gt;&gt;.\r\n    ","title":"Java - How to read a CSV file into a Map&lt;String, Map&lt;String, String&gt;&gt;","body":"<p>Input (CSV File)</p>\n<p><code>Header1,Header2,Header3</code></p>\n<p><code>Data1,Data2,Data3</code></p>\n<p><code>Data4,Data5,Data6</code></p>\n<p><code>Data7,,</code></p>\n<p><code>,,Data8</code></p>\n<p>I am trying to parse through a CSV file similar to the above structure and store the data into a Map&lt;String (Row Number), Map&lt;String (Column Header), String (Column Value)&gt;&gt;.</p>\n"},{"tags":["java","selenium","selenium-webdriver","microsoft-edge","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673472557,"creation_date":1673472557,"answer_id":75089187,"question_id":75063314,"body_markdown":"Problem is in `return new QAFExtendedWebDriver();` you need to use constructor with capabilities object `return new QAFExtendedWebDriver(capabilities);`. \r\n\r\nAssuming that you have set driver name and driver capabilities, the right way is to use `getDriver()` method from test base in one of the following ways:\r\n\r\n```\r\nnew WebDriverTestBase().getDriver();\r\nnew WebDriverTestCase().getDriver();\r\n(QAFExtendedWebDriver)TestBaseProvider.instance().get().getUiDriver();\r\n\r\n```\r\n\r\nEasiest way to create capability in json format is to create capability object and print. For example:\r\n```\r\npublic static void main(String[] args) throws ScriptException {\r\n\t\tInternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\r\n\t\tiExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\r\n\t\tiExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\n\t\tiExplorerOptions.attachToEdgeChrome();\r\n\t\tiExplorerOptions.ignoreZoomSettings();\r\n\t\tiExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\r\n\t\tiExplorerOptions.withEdgeExecutablePath(&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;);\r\n\t\t\r\n\t\tSystem.out.println(JSONUtil.toString(iExplorerOptions.asMap()));\r\n}\r\n```\r\nthis will print \r\n\r\n&gt; {&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}\r\n\r\n\r\nif you have used driver name as `iexplorer` set capability for edge driver from above reference.\r\n\r\n```\r\ndriver.name=iexplorerDriver\r\niexplorer.additional.capabilities={&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}\r\n```\r\n\r\n","title":"Edge IE mode not working as expected in Qmetry","body":"<p>Problem is in <code>return new QAFExtendedWebDriver();</code> you need to use constructor with capabilities object <code>return new QAFExtendedWebDriver(capabilities);</code>.</p>\n<p>Assuming that you have set driver name and driver capabilities, the right way is to use <code>getDriver()</code> method from test base in one of the following ways:</p>\n<pre><code>new WebDriverTestBase().getDriver();\nnew WebDriverTestCase().getDriver();\n(QAFExtendedWebDriver)TestBaseProvider.instance().get().getUiDriver();\n\n</code></pre>\n<p>Easiest way to create capability in json format is to create capability object and print. For example:</p>\n<pre><code>public static void main(String[] args) throws ScriptException {\n        InternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\n        iExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\n        iExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\n        iExplorerOptions.attachToEdgeChrome();\n        iExplorerOptions.ignoreZoomSettings();\n        iExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\n        iExplorerOptions.withEdgeExecutablePath(&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;);\n        \n        System.out.println(JSONUtil.toString(iExplorerOptions.asMap()));\n}\n</code></pre>\n<p>this will print</p>\n<blockquote>\n<p>{&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}</p>\n</blockquote>\n<p>if you have used driver name as <code>iexplorer</code> set capability for edge driver from above reference.</p>\n<pre><code>driver.name=iexplorerDriver\niexplorer.additional.capabilities={&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}\n</code></pre>\n"}],"owner":{"account_id":556585,"reputation":1,"user_id":5021740,"display_name":"ashok varma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673474498,"creation_date":1673301189,"question_id":75063314,"body_markdown":" I want to run edge ie mode using qmetry. We are getting wired blank white IE page being opened when we click on login button in our application. Same website works fine when i executed it without qmetry. \r\n\r\nstandalone code:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\r\nInternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\r\niExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\r\niExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\niExplorerOptions.attachToEdgeChrome();\r\niExplorerOptions.ignoreZoomSettings();\r\niExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\r\niExplorerOptions.withEdgeExecutablePath(&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot;);\r\nreturn new InternetExplorerDriver(new BrowserFactory().setInternetExplorerOptions());`\r\n```\r\n**Code used for Qmetry**\r\n\r\n```\r\nString IEversion = downloadWebDriver();\r\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\r\nConfigurationManager.getBundle().setProperty(&quot;iexplorer.additional.capabilities&quot;, &quot;{&#39;initialBrowserUrl&#39;:&#39;&quot; + Global.IE_INITIAL_BROWSERURL + &quot;&#39;,&#39;ignoreProtectedModeSettings&#39;: true,&#39;ignoreZoomSetting&#39;: true,&#39;ie.browserCommandLineSwitches&#39;:&#39;-private&#39;,&#39;ie.edgechromium&#39;:true,&#39;ie.edgepath&#39;:&#39;C://Program Files (x86)//Microsoft//Edge//Application//msedge.exe&#39;,&#39;ie.forceCreateProcessApi&#39;:true}&quot;);\r\nGlobal.driver.set(new QAFExtendedWebDriver());\t\r\nreturn new QAFExtendedWebDriver();\r\n```\r\n\r\nCould you please take a look and let us know what is wrong with QAF 3.1.0?\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/90pPc.png)\r\n","title":"Edge IE mode not working as expected in Qmetry","body":"<p>I want to run edge ie mode using qmetry. We are getting wired blank white IE page being opened when we click on login button in our application. Same website works fine when i executed it without qmetry.</p>\n<p>standalone code:</p>\n<pre><code>System.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\nInternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\niExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\niExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\niExplorerOptions.attachToEdgeChrome();\niExplorerOptions.ignoreZoomSettings();\niExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\niExplorerOptions.withEdgeExecutablePath(&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot;);\nreturn new InternetExplorerDriver(new BrowserFactory().setInternetExplorerOptions());`\n</code></pre>\n<p><strong>Code used for Qmetry</strong></p>\n<pre><code>String IEversion = downloadWebDriver();\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\nConfigurationManager.getBundle().setProperty(&quot;iexplorer.additional.capabilities&quot;, &quot;{'initialBrowserUrl':'&quot; + Global.IE_INITIAL_BROWSERURL + &quot;','ignoreProtectedModeSettings': true,'ignoreZoomSetting': true,'ie.browserCommandLineSwitches':'-private','ie.edgechromium':true,'ie.edgepath':'C://Program Files (x86)//Microsoft//Edge//Application//msedge.exe','ie.forceCreateProcessApi':true}&quot;);\nGlobal.driver.set(new QAFExtendedWebDriver());  \nreturn new QAFExtendedWebDriver();\n</code></pre>\n<p>Could you please take a look and let us know what is wrong with QAF 3.1.0?</p>\n<p><img src=\"https://i.stack.imgur.com/90pPc.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672583526,"post_id":74975173,"comment_id":132308570,"body_markdown":"Can you please share application.properties file","body":"Can you please share application.properties file"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672583740,"post_id":74975173,"comment_id":132308604,"body_markdown":"`user` is a [reserved word in PostgreSQL](https://www.postgresql.org/docs/current/sql-keywords-appendix.html), you need to chose another table name for your entity.","body":"<code>user</code> is a <a href=\"https://www.postgresql.org/docs/current/sql-keywords-appendix.html\" rel=\"nofollow noreferrer\">reserved word in PostgreSQL</a>, you need to chose another table name for your entity."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1672583741,"post_id":74975173,"comment_id":132308605,"body_markdown":"@RohitAgarwal Sure, I updated the question with the file.","body":"@RohitAgarwal Sure, I updated the question with the file."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1672583923,"post_id":74975173,"comment_id":132308629,"body_markdown":"@AndreyB.Panfilov Holy moly, yeah I rename it to `users` and it worked, thanks!!! feel free to post your answer so it helps more people, happy new year guys &#129730;","body":"@AndreyB.Panfilov Holy moly, yeah I rename it to <code>users</code> and it worked, thanks!!! feel free to post your answer so it helps more people, happy new year guys 🫂"}],"answers":[{"comments":[{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1672775391,"post_id":74975220,"comment_id":132349034,"body_markdown":"This is really cool, is there a way to do this but with spring code?","body":"This is really cool, is there a way to do this but with spring code?"}],"tags":[],"owner":{"account_id":20330230,"reputation":1064,"user_id":14912402,"display_name":"WiatroBosy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672583901,"creation_date":1672583901,"answer_id":74975220,"question_id":74975173,"body_markdown":"    create table public.user ( id serial not null, \r\n\t\t\t\t   email varchar(255), \r\n\t\t\t\t   name varchar(255), \r\n\t\t\t\t   priority integer, \r\n\t\t\t\t   primary key (id))\r\n\r\nadd the schema name before the table name\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z7x85.png","title":"Entity not creating table in DB","body":"<pre><code>create table public.user ( id serial not null, \n               email varchar(255), \n               name varchar(255), \n               priority integer, \n               primary key (id))\n</code></pre>\n<p>add the schema name before the table name</p>\n<p><a href=\"https://i.stack.imgur.com/z7x85.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z7x85.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15016872,"reputation":21,"user_id":10839630,"display_name":"Altan Mehmet T&#252;rkmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672757279,"creation_date":1672757279,"answer_id":74994926,"question_id":74975173,"body_markdown":"You need to specify the schema name in table and id fields like this:\r\n\r\n    @Table(name = &quot;anomaly&quot;, schema = &quot;schema_name&quot;)\r\n    public class Anomaly {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id&quot;,  allocationSize = 1, schema = &quot;schema_name&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long anomalyId;","title":"Entity not creating table in DB","body":"<p>You need to specify the schema name in table and id fields like this:</p>\n<pre><code>@Table(name = &quot;anomaly&quot;, schema = &quot;schema_name&quot;)\npublic class Anomaly {\n\n@Id\n@SequenceGenerator(name = &quot;id&quot;,  allocationSize = 1, schema = &quot;schema_name&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long anomalyId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25770182,"reputation":29,"user_id":19519118,"display_name":"surendra ingle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673428817,"creation_date":1673428817,"answer_id":75080719,"question_id":74975173,"body_markdown":"user is a reserved word in Postgresql thats why it show an error\r\nuse a different word like &quot;users&quot; &quot;usersId&quot;.","title":"Entity not creating table in DB","body":"<p>user is a reserved word in Postgresql thats why it show an error\nuse a different word like &quot;users&quot; &quot;usersId&quot;.</p>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74975220,"answer_count":3,"score":2,"last_activity_date":1673474075,"creation_date":1672583351,"question_id":74975173,"body_markdown":"I&#39;m using Spring boot, and I Run this model.\r\n\r\n    package com.example.demo.Models;\r\n    \r\n    import jakarta.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class UserModel {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(unique = true, nullable = true)\r\n        private Long id;\r\n        private String name;\r\n        private String email;\r\n        private Integer priority;\r\n       \r\n        /* Here are all the setters and getters*/\r\n    }\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/dbdemo\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nEverything fine with Java.\r\n\r\n    Process finished with exit code 0\r\n\r\nBut in the console of my docker image of Postgres I get the following error:\r\n\r\n\r\n    ERROR:  syntax error at or near &quot;user&quot; at character 14\r\n    STATEMENT: create table user(id bigserial not null, email varchar(255), name varchar(255), priority integer, primary key (id))\r\n\r\nI&#39;m not sure how to solve it, I&#39;d appreciate any help.","title":"Entity not creating table in DB","body":"<p>I'm using Spring boot, and I Run this model.</p>\n<pre><code>package com.example.demo.Models;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class UserModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(unique = true, nullable = true)\n    private Long id;\n    private String name;\n    private String email;\n    private Integer priority;\n   \n    /* Here are all the setters and getters*/\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/dbdemo\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Everything fine with Java.</p>\n<pre><code>Process finished with exit code 0\n</code></pre>\n<p>But in the console of my docker image of Postgres I get the following error:</p>\n<pre><code>ERROR:  syntax error at or near &quot;user&quot; at character 14\nSTATEMENT: create table user(id bigserial not null, email varchar(255), name varchar(255), priority integer, primary key (id))\n</code></pre>\n<p>I'm not sure how to solve it, I'd appreciate any help.</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1673473693,"post_id":75089322,"comment_id":132510225,"body_markdown":"You didn&#39;t tell what the problem was","body":"You didn&#39;t tell what the problem was"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673473930,"creation_date":1673473930,"answer_id":75089377,"question_id":75089322,"body_markdown":"The `PermanentEmployee` should not have `empId, name` attributs, there are in its parent class `Employee`\r\n\r\n```java\r\nclass PermanentEmployee extends Employee {\r\n    private double basicPay;\r\n    private double hra;\r\n    private float experience;\r\n\r\n    PermanentEmployee(int empId, String name, double basicPay, double hra, float experience) {\r\n        super(empId, name);\r\n        this.basicPay = basicPay;\r\n        this.hra = hra;\r\n        this.experience = experience;\r\n    }\r\n}\r\n\r\nclass ContractEmployee extends Employee {\r\n    private double wage;\r\n    private float hoursWorked;\r\n\r\n    ContractEmployee(int empId, String name, double wage, float hoursWorked) {\r\n        super(empId, name);\r\n        this.wage = wage;\r\n        this.hoursWorked = hoursWorked;\r\n    }\r\n}\r\n```","title":"I cannot create the super class dont know why","body":"<p>The <code>PermanentEmployee</code> should not have <code>empId, name</code> attributs, there are in its parent class <code>Employee</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class PermanentEmployee extends Employee {\n    private double basicPay;\n    private double hra;\n    private float experience;\n\n    PermanentEmployee(int empId, String name, double basicPay, double hra, float experience) {\n        super(empId, name);\n        this.basicPay = basicPay;\n        this.hra = hra;\n        this.experience = experience;\n    }\n}\n\nclass ContractEmployee extends Employee {\n    private double wage;\n    private float hoursWorked;\n\n    ContractEmployee(int empId, String name, double wage, float hoursWorked) {\n        super(empId, name);\n        this.wage = wage;\n        this.hoursWorked = hoursWorked;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22525838,"reputation":1,"user_id":16718623,"display_name":"user16718623"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673473930,"creation_date":1673473527,"question_id":75089322,"body_markdown":"A construction company wants to keep a record of the employees working in it. There are permanent employees as well as contract employees. Contract employees work on an hourly basis whereas permanent employees are paid monthly salary. An application needs to be developed for the company for storing the employee details.\r\n\r\n![Class diagram](https://i.stack.imgur.com/1ZzxX.png)\r\n\r\nEmployee\r\n\r\nEmployee(int employeeId, String employeeName)\r\n\r\nInitialize the employeeId and employeeName instance variables appropriately with the values passed to the constructor.\r\nImplement the getter and setter methods appropriately.\r\n\r\nPermanentEmployee\r\n\r\nPermanentEmployee(int empId, String name, double basicPay, double hra, float experience)\r\n\r\nInitialize the employeeId, employeeName, basicPay, hra and experience instance variables appropriately with the values passed to the constructor.\r\n[IP](https://i.stack.imgur.com/ds6nH.png)\r\n[op](https://i.stack.imgur.com/Sqpg2.png)\r\n\r\n```\r\npackage wer;\r\n\r\npublic class Employee {\r\nprivate int employeeId;\r\nprivate String employeeName;\r\nprivate double salary;\r\n\r\n\tpublic Employee() {\r\n\t\r\n\t}\r\n\tpublic Employee(int employeeId, String employeeName) {\r\n\t\tthis.employeeId = employeeId;\r\n\t\tthis.employeeName = employeeName; \r\n\t\t\r\n\t}\r\n\tpublic int getEmployeeId() {\r\n\t\treturn employeeId;\r\n\t}public void setEmployeeeId(int employeeId) {\r\n\t\tthis.employeeId = employeeId;\r\n\t\t\r\n\t}public String getEmployeeName() {\r\n\t\treturn employeeName;\r\n\t}public void setEmployeeName(String employeeName) {\r\n\t\tthis.employeeName = employeeName;\r\n\t}public double getSalary() {\r\n\t\treturn salary;\r\n\t}public void setSalary(double salary) {\r\n\t\tthis.salary = salary;\r\n\t}\r\n\tpublic String toString(){\r\n        return &quot;Employee\\nemployeeId: &quot;+this.getEmployeeId()+&quot;\\nemployeeName: &quot;+this.getEmployeeName()+&quot;\\nsalary: &quot;+this.getSalary();\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\npackage wer;\r\n\r\npublic class PermanentEmployee extends Employee {\r\n\tprivate int empId;\r\n\tprivate String name;\r\n\t//private double salary;\r\n\tprivate double basicPay;\r\n\tprivate double hra;\r\n\tprivate float experience;\r\n\r\n\tPermanentEmployee(int empId, String name, double basicPay, double hra, float experience){\r\n\t\t\r\n\t\tsuper(employeeId,employeeName);\r\n\t\tthis.empId = empId;\r\n\t\tthis.name = name;\r\n\t\tthis.basicPay = basicPay;\r\n\t\tthis.hra = hra;\r\n\t\tthis.experience = experience;\r\n\t}\r\n}\r\n\r\n```","title":"I cannot create the super class dont know why","body":"<p>A construction company wants to keep a record of the employees working in it. There are permanent employees as well as contract employees. Contract employees work on an hourly basis whereas permanent employees are paid monthly salary. An application needs to be developed for the company for storing the employee details.</p>\n<p><img src=\"https://i.stack.imgur.com/1ZzxX.png\" alt=\"Class diagram\" /></p>\n<p>Employee</p>\n<p>Employee(int employeeId, String employeeName)</p>\n<p>Initialize the employeeId and employeeName instance variables appropriately with the values passed to the constructor.\nImplement the getter and setter methods appropriately.</p>\n<p>PermanentEmployee</p>\n<p>PermanentEmployee(int empId, String name, double basicPay, double hra, float experience)</p>\n<p>Initialize the employeeId, employeeName, basicPay, hra and experience instance variables appropriately with the values passed to the constructor.\n<a href=\"https://i.stack.imgur.com/ds6nH.png\" rel=\"nofollow noreferrer\">IP</a>\n<a href=\"https://i.stack.imgur.com/Sqpg2.png\" rel=\"nofollow noreferrer\">op</a></p>\n<pre><code>package wer;\n\npublic class Employee {\nprivate int employeeId;\nprivate String employeeName;\nprivate double salary;\n\n    public Employee() {\n    \n    }\n    public Employee(int employeeId, String employeeName) {\n        this.employeeId = employeeId;\n        this.employeeName = employeeName; \n        \n    }\n    public int getEmployeeId() {\n        return employeeId;\n    }public void setEmployeeeId(int employeeId) {\n        this.employeeId = employeeId;\n        \n    }public String getEmployeeName() {\n        return employeeName;\n    }public void setEmployeeName(String employeeName) {\n        this.employeeName = employeeName;\n    }public double getSalary() {\n        return salary;\n    }public void setSalary(double salary) {\n        this.salary = salary;\n    }\n    public String toString(){\n        return &quot;Employee\\nemployeeId: &quot;+this.getEmployeeId()+&quot;\\nemployeeName: &quot;+this.getEmployeeName()+&quot;\\nsalary: &quot;+this.getSalary();\n    }\n    \n}\n\n\n\npackage wer;\n\npublic class PermanentEmployee extends Employee {\n    private int empId;\n    private String name;\n    //private double salary;\n    private double basicPay;\n    private double hra;\n    private float experience;\n\n    PermanentEmployee(int empId, String name, double basicPay, double hra, float experience){\n        \n        super(employeeId,employeeName);\n        this.empId = empId;\n        this.name = name;\n        this.basicPay = basicPay;\n        this.hra = hra;\n        this.experience = experience;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","list","object","merge"],"owner":{"account_id":14628237,"reputation":21,"user_id":10564929,"display_name":"scocuzza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673473780,"creation_date":1673473780,"question_id":75089358,"body_markdown":"given a list of interactions for example where two interactions (ones that contain same interactionId) need to be merged\r\n\r\n```\r\n&quot;interactions&quot;: [\r\n        {\r\n            &quot;interactionId&quot;: &quot;1&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;interactionId&quot;: &quot;1&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Payment&quot;,\r\n                    &quot;category&quot;: &quot;Payment Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n{\r\n            &quot;interactionId&quot;: &quot;2&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n]\r\n```\r\n\r\nI would need to combine the common interactionId objects into one like so and have a new list - note that the wrapUpReasons have been concatenated\r\n```\r\n        {\r\n            &quot;interactionId&quot;: &quot;1&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Payment&quot;,\r\n                    &quot;category&quot;: &quot;Payment Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\r\n                },\r\n\r\n{\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n{\r\n            &quot;interactionId&quot;: &quot;2&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;rocessing Inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n]\r\n```\r\n\r\nso far i have tried grouping by the interaction and then trying to combine the HashMap key that contains 1 or more InteractionHistory list but the union list is not merging the list of objects\r\n\r\n```\r\nMap&lt;Object, List&lt;InteractionHistory&gt;&gt; interactionGrouped = \r\n\t\t\t\tinteractionHistoryList.stream().collect(Collectors.groupingBy(interaction -&gt; interaction.getInteractionId()));\r\n\t\t\r\n\t\tfor (Map.Entry&lt;Object, List&lt;InteractionHistory&gt;&gt; mapElement : interactionGrouped.entrySet()) {\r\n\t\t\tList&lt;InteractionHistory&gt; union = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;InteractionHistory&gt; interactionHistoryList1 = mapElement.getValue();\r\n\t\t\tunion.addAll(interactionHistoryList1);\r\n\t\t}\r\n","title":"Java merge list of objects by common field","body":"<p>given a list of interactions for example where two interactions (ones that contain same interactionId) need to be merged</p>\n<pre><code>&quot;interactions&quot;: [\n        {\n            &quot;interactionId&quot;: &quot;1&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\n                }\n            ]\n        },\n        {\n            &quot;interactionId&quot;: &quot;1&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Payment&quot;,\n                    &quot;category&quot;: &quot;Payment Process&quot;,\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\n                }\n            ]\n        },\n{\n            &quot;interactionId&quot;: &quot;2&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\n                }\n            ]\n        },\n]\n</code></pre>\n<p>I would need to combine the common interactionId objects into one like so and have a new list - note that the wrapUpReasons have been concatenated</p>\n<pre><code>        {\n            &quot;interactionId&quot;: &quot;1&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Payment&quot;,\n                    &quot;category&quot;: &quot;Payment Process&quot;,\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\n                },\n\n{\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\n                }\n            ]\n        },\n{\n            &quot;interactionId&quot;: &quot;2&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;rocessing Inquiry&quot;\n                }\n            ]\n        },\n]\n</code></pre>\n<p>so far i have tried grouping by the interaction and then trying to combine the HashMap key that contains 1 or more InteractionHistory list but the union list is not merging the list of objects</p>\n<pre><code>Map&lt;Object, List&lt;InteractionHistory&gt;&gt; interactionGrouped = \n                interactionHistoryList.stream().collect(Collectors.groupingBy(interaction -&gt; interaction.getInteractionId()));\n        \n        for (Map.Entry&lt;Object, List&lt;InteractionHistory&gt;&gt; mapElement : interactionGrouped.entrySet()) {\n            List&lt;InteractionHistory&gt; union = new ArrayList&lt;&gt;();\n            List&lt;InteractionHistory&gt; interactionHistoryList1 = mapElement.getValue();\n            union.addAll(interactionHistoryList1);\n        }\n</code></pre>\n"},{"tags":["java","parameters","process","runtime","filestream"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1673474570,"post_id":75089345,"comment_id":132510474,"body_markdown":"Do you know if the executable can read from `stdin`?  Some programs indicate this with something like `myProgram --cf -` or something similar.  In that case you could pipe to it.","body":"Do you know if the executable can read from <code>stdin</code>?  Some programs indicate this with something like <code>myProgram --cf -</code> or something similar.  In that case you could pipe to it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1673479584,"post_id":75089345,"comment_id":132511535,"body_markdown":"Windows doesn&#39;t support pipes, or rather only does so via a temp file trick so the answer to @stdunbar&#39;s question might be no. You could nevertheless write to a temporary file then delete it","body":"Windows doesn&#39;t support pipes, or rather only does so via a temp file trick so the answer to @stdunbar&#39;s question might be no. You could nevertheless write to a temporary file then delete it"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673493287,"post_id":75089345,"comment_id":132513360,"body_markdown":"Huh? NT (whence modern Windows) has always supported pipes as pipes.  [Win32 doc](https://learn.microsoft.com/en-us/windows/win32/ipc/about-pipes).","body":"Huh? NT (whence modern Windows) has always supported pipes as pipes.  <a href=\"https://learn.microsoft.com/en-us/windows/win32/ipc/about-pipes\" rel=\"nofollow noreferrer\">Win32 doc</a>."},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1673503833,"post_id":75089345,"comment_id":132514969,"body_markdown":"No , this is not possible if this executable lookup the file in the file system. but If this executable is flexible even to read a named pipe, then this is practical, but creating a named pipe  using a java code in windows is not that easy, you have to use JNA ,","body":"No , this is not possible if this executable lookup the file in the file system. but If this executable is flexible even to read a named pipe, then this is practical, but creating a named pipe  using a java code in windows is not that easy, you have to use JNA ,"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673513846,"post_id":75089345,"comment_id":132517495,"body_markdown":"@undefinedsymbol     I&#39;m talking about &#231;md.exe sorry, not Windows per se. I *think* the pipe character is implemented using temporary files.","body":"@undefinedsymbol     I&#39;m talking about &#231;md.exe sorry, not Windows per se. I <i>think</i> the pipe character is implemented using temporary files."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673528328,"post_id":75089345,"comment_id":132522480,"body_markdown":"cmd.exe was written for NT, so they&#39;d be nutty to not use an NT OS feature.  Do not confuse with the DOS command.com.","body":"cmd.exe was written for NT, so they&#39;d be nutty to not use an NT OS feature.  Do not confuse with the DOS command.com."}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673473689,"creation_date":1673473689,"question_id":75089345,"body_markdown":"I&#39;m currently running an executable from a Java class that takes a configuration file as one of it&#39;s parameters. \r\n\r\nThe code, which is working, looks like this:\r\n\r\n\r\n\tString[] params = new String[3];\r\n\r\n\tparams[0] = &quot;myProgram.exe&quot;;\r\n\tparams[1] = &quot;--cf&quot;;\r\n\tparams[2] = &quot;myConfiguration.cf&quot;;\r\n\r\n\tProcess p = Runtime.getRuntime().exec(params);\r\n\r\n\tBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n\tString line;\r\n\twhile ((line = input.readLine()) != null) {\r\n\t\tSystem.out.println(line);\r\n\t}\r\n\r\n\tinput.close();\r\n\r\nFor security purposes, I&#39;d like to create the configuration file inside the Java class, and provide it to the runtime as an in-memory stream instead of an external file. \r\n\r\nIs this possible? I don&#39;t have control over the executables code, so I&#39;m not clear if there&#39;s a way to make it see the filename as anything different than a file that it has to retrieve from disk. \r\n\r\n\r\n\t\t\r\n\r\n","title":"Java - run an executable from a Java class that can be passed a file from memory instead of the filesystem","body":"<p>I'm currently running an executable from a Java class that takes a configuration file as one of it's parameters.</p>\n<p>The code, which is working, looks like this:</p>\n<pre><code>String[] params = new String[3];\n\nparams[0] = &quot;myProgram.exe&quot;;\nparams[1] = &quot;--cf&quot;;\nparams[2] = &quot;myConfiguration.cf&quot;;\n\nProcess p = Runtime.getRuntime().exec(params);\n\nBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\nString line;\nwhile ((line = input.readLine()) != null) {\n    System.out.println(line);\n}\n\ninput.close();\n</code></pre>\n<p>For security purposes, I'd like to create the configuration file inside the Java class, and provide it to the runtime as an in-memory stream instead of an external file.</p>\n<p>Is this possible? I don't have control over the executables code, so I'm not clear if there's a way to make it see the filename as anything different than a file that it has to retrieve from disk.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671061353,"post_id":74805056,"comment_id":132019190,"body_markdown":"For the latter errors, don&#39;t use strings. Use `StringSerializer.class` and `OAuthBearerLoginModule.class`, for example. Also, KafkaTemplate.send is already asynchronous, you should not need to annotate the method.","body":"For the latter errors, don&#39;t use strings. Use <code>StringSerializer.class</code> and <code>OAuthBearerLoginModule.class</code>, for example. Also, KafkaTemplate.send is already asynchronous, you should not need to annotate the method."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671061477,"post_id":74805056,"comment_id":132019223,"body_markdown":"Also, if you want to &quot;consume from database, and send to Kafka&quot;, ideally you&#39;d use existing tools like Debezium","body":"Also, if you want to &quot;consume from database, and send to Kafka&quot;, ideally you&#39;d use existing tools like Debezium"},{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1671114676,"post_id":74805056,"comment_id":132032187,"body_markdown":"Thank you. I need to use @Async method in our API, Users are not expecting the response immediately and also our service get huge number of requests. so we don&#39;t want to block the user, we also run some additional checks before sending to kafka.I will look into it how to set the .class instead of passing class name in string.","body":"Thank you. I need to use @Async method in our API, Users are not expecting the response immediately and also our service get huge number of requests. so we don&#39;t want to block the user, we also run some additional checks before sending to kafka.I will look into it how to set the .class instead of passing class name in string."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671115281,"post_id":74805056,"comment_id":132032427,"body_markdown":"As mentioned, `KafkaTemplate.send` is already async. You could also use Spring Webflux instead for fully ReactiveX based code.","body":"As mentioned, <code>KafkaTemplate.send</code> is already async. You could also use Spring Webflux instead for fully ReactiveX based code."},{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1671120265,"post_id":74805056,"comment_id":132034462,"body_markdown":"Tried to pass OAuthBearerLoginModule.class into sasl.jaas.config property, but there is no way to pass it as without String along with config properties.            properties.put(&quot;sasl.jaas.config&quot;, jaasConfig);","body":"Tried to pass OAuthBearerLoginModule.class into sasl.jaas.config property, but there is no way to pass it as without String along with config properties.            properties.put(&quot;sasl.jaas.config&quot;, jaasConfig);"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671307640,"post_id":74805056,"comment_id":132073147,"body_markdown":"SASL config needs to be a string, but you can still use Class.forName at runtime to verify the class exists on the classpath, separately from putting into properties.. Regardless, what version of spring-kafka are you using?","body":"SASL config needs to be a string, but you can still use Class.forName at runtime to verify the class exists on the classpath, separately from putting into properties.. Regardless, what version of spring-kafka are you using?"}],"answers":[{"tags":[],"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673473421,"creation_date":1673473421,"answer_id":75089307,"question_id":74805056,"body_markdown":"Fixed the issue after changing my Executor from Executors.newWorkStealingPool() to new ThreadPoolTaskExecutor();\r\n\r\nSeems there is different class loader policy when using Executors.newWorkStealingPool.","title":"Kafka producer unable to find the classes when called from Method annotated with @Async","body":"<p>Fixed the issue after changing my Executor from Executors.newWorkStealingPool() to new ThreadPoolTaskExecutor();</p>\n<p>Seems there is different class loader policy when using Executors.newWorkStealingPool.</p>\n"}],"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673473421,"creation_date":1671058713,"question_id":74805056,"body_markdown":"\\`Unable to construct Kafka Producer in springboot application when published from Method annotated with @Async,\r\n\r\n```\r\n@Async\r\npublic void publishMessage()\r\n{\r\n retrives data from DB and send the constructed message to Kafka using Kafka Template;\r\n}\r\n```\r\n\r\n\r\nProducer Configuration like,\r\n\r\n```\r\n@Configuration \r\npublic class ProducerConfig{\r\n@Bean \r\npublic KafkaTemplate&lt;String, SpecificRecord&gt; kafkaTemplate() \r\n{ \r\nProducerFactory&lt;String, SpecificRecord&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;( getBaseProducerSettings());  // getBaseProducerSettings() returns basic OAUTH     authentication                        \r\nprops and basic props return new KafkaTemplate&lt;&gt;(producerFactory); \r\n}\r\n}\r\n```\r\nWhen producer send method call initiated from @Async method, throwing errors for the classes which are not loaded by Application Classloader.\r\nExample error message,\r\n```\r\nCaused by: org.apache.kafka.common.KafkaException: javax.security.auth.login.LoginException: No LoginModule found for org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule\r\n```\r\nAnother error message,\r\n```\r\norg.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringSerializer for configuration key.serializer: Class org.apache.kafka.common.serialization.StringSerializer could not be found.\r\n```\r\nRequired dependencies are already in the class path. \r\nNOTE: Fully qualified class names are provided as string &quot;&quot; in the producer configuration.\r\n\r\nAny help, on how to load the classes in Thread context which not loaded by Application Context.\r\n\\`","title":"Kafka producer unable to find the classes when called from Method annotated with @Async","body":"<p>`Unable to construct Kafka Producer in springboot application when published from Method annotated with @Async,</p>\n<pre><code>@Async\npublic void publishMessage()\n{\n retrives data from DB and send the constructed message to Kafka using Kafka Template;\n}\n</code></pre>\n<p>Producer Configuration like,</p>\n<pre><code>@Configuration \npublic class ProducerConfig{\n@Bean \npublic KafkaTemplate&lt;String, SpecificRecord&gt; kafkaTemplate() \n{ \nProducerFactory&lt;String, SpecificRecord&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;( getBaseProducerSettings());  // getBaseProducerSettings() returns basic OAUTH     authentication                        \nprops and basic props return new KafkaTemplate&lt;&gt;(producerFactory); \n}\n}\n</code></pre>\n<p>When producer send method call initiated from @Async method, throwing errors for the classes which are not loaded by Application Classloader.\nExample error message,</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: javax.security.auth.login.LoginException: No LoginModule found for org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule\n</code></pre>\n<p>Another error message,</p>\n<pre><code>org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringSerializer for configuration key.serializer: Class org.apache.kafka.common.serialization.StringSerializer could not be found.\n</code></pre>\n<p>Required dependencies are already in the class path.\nNOTE: Fully qualified class names are provided as string &quot;&quot; in the producer configuration.</p>\n<p>Any help, on how to load the classes in Thread context which not loaded by Application Context.\n`</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673462933,"post_id":75087705,"comment_id":132507057,"body_markdown":"How the user object looks like and how your request?","body":"How the user object looks like and how your request?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673463557,"post_id":75087705,"comment_id":132507227,"body_markdown":"Is `User` class same as `Sample`?","body":"Is <code>User</code> class same as <code>Sample</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673463625,"post_id":75087705,"comment_id":132507251,"body_markdown":"`public interface UserRepository extends JpaRepository&lt;Sample,Long&gt; {` should be `public interface UserRepository extends JpaRepository&lt;User,Long&gt; {`","body":"<code>public interface UserRepository extends JpaRepository&lt;Sample,Long&gt; {</code> should be <code>public interface UserRepository extends JpaRepository&lt;User,Long&gt; {</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673463665,"post_id":75087705,"comment_id":132507262,"body_markdown":"But you should not use the entity classes at controller level. It is bad architecture","body":"But you should not use the entity classes at controller level. It is bad architecture"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673464001,"post_id":75087705,"comment_id":132507341,"body_markdown":"Yes they are. They will use by jackson to set the values while deserializing","body":"Yes they are. They will use by jackson to set the values while deserializing"},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673464151,"post_id":75087705,"comment_id":132507378,"body_markdown":"Ok  `setter` and ` getter` solved the issue. Both  `Mappings` are working. Thanks for your help and time. Are `constructor` and  `tostring()` also compulsory?","body":"Ok  <code>setter</code> and ` getter` solved the issue. Both  <code>Mappings</code> are working. Thanks for your help and time. Are <code>constructor</code> and  <code>tostring()</code> also compulsory?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673464202,"post_id":75087705,"comment_id":132507390,"body_markdown":"You are welcome. But as I methioned, you shouldn&#39;t use the entity class in your API","body":"You are welcome. But as I methioned, you shouldn&#39;t use the entity class in your API"},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673464270,"post_id":75087705,"comment_id":132507406,"body_markdown":"It&#39;s y first project I don&#39;t know much about the things. So can you tell me what should I do then?","body":"It&#39;s y first project I don&#39;t know much about the things. So can you tell me what should I do then?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673464304,"post_id":75087705,"comment_id":132507417,"body_markdown":"Read a bout 3tier architecture","body":"Read a bout 3tier architecture"}],"answers":[{"comments":[{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673517532,"post_id":75089276,"comment_id":132518815,"body_markdown":"Greate Answer. I tried  `@Data` from lombok but It didn&#39;t worked because I might not be doing it correctly. But I didn&#39;t know that `@Data` and `lombok` is that much important. I&#39;m definitely  going to try it.","body":"Greate Answer. I tried  <code>@Data</code> from lombok but It didn&#39;t worked because I might not be doing it correctly. But I didn&#39;t know that <code>@Data</code> and <code>lombok</code> is that much important. I&#39;m definitely  going to try it."},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673517644,"post_id":75089276,"comment_id":132518854,"body_markdown":"I recommend that you update your answer and put some code example from my code. It will be very helpful for others as most of the people don&#39;t take much interest in theoretical part and just ignores it...","body":"I recommend that you update your answer and put some code example from my code. It will be very helpful for others as most of the people don&#39;t take much interest in theoretical part and just ignores it..."},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673517836,"post_id":75089276,"comment_id":132518912,"body_markdown":"In your answer it is not clear which `each fields` you are talking about. Please update your answer by specifying things and also put code as well.","body":"In your answer it is not clear which <code>each fields</code> you are talking about. Please update your answer by specifying things and also put code as well."}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673473248,"creation_date":1673473248,"answer_id":75089276,"question_id":75087705,"body_markdown":"You have not added getter setter methods for each field that&#39;s why it is storing null values\r\n solution-\r\n1-either add getter setter method for each field or\r\n2-you can also add lombook dependency and use @Data annotation it will add getter setter method for you\r\n\r\nHope it will help you","title":"@PostMapping saving empty objects spring boot+jpa+gradle+mysql db","body":"<p>You have not added getter setter methods for each field that's why it is storing null values\nsolution-\n1-either add getter setter method for each field or\n2-you can also add lombook dependency and use @Data annotation it will add getter setter method for you</p>\n<p>Hope it will help you</p>\n"}],"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75089276,"answer_count":1,"score":0,"last_activity_date":1673473248,"creation_date":1673462735,"question_id":75087705,"body_markdown":"I&#39;m trying to make a crud app using **SpringBoot + JPA + HIBERNATE + GRADLE + MYSQL**. My issue is that when I hit an `@PostMapping` endpoint to save a user,  an empty object get&#39;s saved in database. Only `id` is generated but the other column shows `null`. Also when I hit `@GetMapping` it returns empty object list . I&#39;m using **PostMan** for requests. \r\n\r\n\r\n**Images of Postamn Requests**\r\n\r\n**create**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**all**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Mysql Database**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    }\r\n    \r\n    group = &#39;db.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;19&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.generate-ddl=true\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/auto?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n**mainApplication.java**\r\n\r\n    package db.example.autodbconnect;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class AutodbconnectApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AutodbconnectApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**UserEntity**\r\n\r\n    package db.example.autodbconnect.entities;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String name;\r\n        \r\n    }\r\n\r\n**User JPA Repository**\r\n\r\n     package db.example.autodbconnect.repositories;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import db.example.autodbconnect.entities.User;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User,Long&gt; {\r\n        \r\n    }\r\n\r\n\r\n**User Service**\r\n\r\n    package db.example.autodbconnect.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import db.example.autodbconnect.entities.User;\r\n    import db.example.autodbconnect.repositories.UserRepository;\r\n    \r\n    @Service\r\n    public class UserService {\r\n        \r\n        @Autowired\r\n        private UserRepository userRepo;\r\n    \r\n    \r\n        public User create(User body) {\r\n            return userRepo.save(body);\r\n    \r\n        }\r\n    \r\n        public List&lt;User&gt; findAll(){\r\n            List&lt;User&gt; res=userRepo.findAll();\r\n            return res;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n**User Controller**\r\n\r\n \r\n\r\n    package db.example.autodbconnect.contoller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import db.example.autodbconnect.entities.User;\r\n    import db.example.autodbconnect.service.UserService;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n        \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n        public ResponseEntity&lt;User&gt; create(@RequestBody User body) {\r\n            return  new ResponseEntity&lt;User&gt;(userService.create(body), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; findALL(){\r\n            return new ResponseEntity&lt;List&lt;User&gt;&gt;(userService.findAll(),HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SvjHu.png\r\n  [2]: https://i.stack.imgur.com/3gUBy.png\r\n  [3]: https://i.stack.imgur.com/rgPVB.png\r\n\r\n","title":"@PostMapping saving empty objects spring boot+jpa+gradle+mysql db","body":"<p>I'm trying to make a crud app using <strong>SpringBoot + JPA + HIBERNATE + GRADLE + MYSQL</strong>. My issue is that when I hit an <code>@PostMapping</code> endpoint to save a user,  an empty object get's saved in database. Only <code>id</code> is generated but the other column shows <code>null</code>. Also when I hit <code>@GetMapping</code> it returns empty object list . I'm using <strong>PostMan</strong> for requests.</p>\n<p><strong>Images of Postamn Requests</strong></p>\n<p><strong>create</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SvjHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SvjHu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>all</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3gUBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3gUBy.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Mysql Database</strong></p>\n<p><a href=\"https://i.stack.imgur.com/rgPVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgPVB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'db.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '19'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.datasource.url=jdbc:mysql://localhost:3306/auto?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><strong>mainApplication.java</strong></p>\n<pre><code>package db.example.autodbconnect;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AutodbconnectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AutodbconnectApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>UserEntity</strong></p>\n<pre><code>package db.example.autodbconnect.entities;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column\n    private String name;\n    \n}\n</code></pre>\n<p><strong>User JPA Repository</strong></p>\n<pre><code> package db.example.autodbconnect.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport db.example.autodbconnect.entities.User;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User,Long&gt; {\n    \n}\n</code></pre>\n<p><strong>User Service</strong></p>\n<pre><code>package db.example.autodbconnect.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport db.example.autodbconnect.entities.User;\nimport db.example.autodbconnect.repositories.UserRepository;\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepo;\n\n\n    public User create(User body) {\n        return userRepo.save(body);\n\n    }\n\n    public List&lt;User&gt; findAll(){\n        List&lt;User&gt; res=userRepo.findAll();\n        return res;\n    }\n    \n}\n</code></pre>\n<p><strong>User Controller</strong></p>\n<pre><code>package db.example.autodbconnect.contoller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport db.example.autodbconnect.entities.User;\nimport db.example.autodbconnect.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;User&gt; create(@RequestBody User body) {\n        return  new ResponseEntity&lt;User&gt;(userService.create(body), HttpStatus.CREATED);\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; findALL(){\n        return new ResponseEntity&lt;List&lt;User&gt;&gt;(userService.findAll(),HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1207,"reputation":19992,"user_id":1605,"accept_rate":100,"display_name":"Avi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275573226,"creation_date":1275573226,"answer_id":2966596,"question_id":2966530,"body_markdown":"I don&#39;t think you can get the output of a build directly, but you can view and edit the compiler options IntelliJ uses, in the Compiler tab of the Settings dialog.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>I don't think you can get the output of a build directly, but you can view and edit the compiler options IntelliJ uses, in the Compiler tab of the Settings dialog.</p>\n"},{"comments":[{"owner":{"account_id":3643587,"reputation":1003,"user_id":3037171,"accept_rate":50,"display_name":"Elouan Keryell-Even"},"score":1,"creation_date":1463586218,"post_id":2966601,"comment_id":62130489,"body_markdown":"`Ctrl`+`F9` builds the project, but it doesn&#39;t show the command used for the build","body":"<code>Ctrl</code>+<code>F9</code> builds the project, but it doesn&#39;t show the command used for the build"}],"tags":[],"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"comment_count":1,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1275573278,"creation_date":1275573278,"answer_id":2966601,"question_id":2966530,"body_markdown":"CTRL-F9\r\n\r\nfor all key commands you can check ( and print) the keymap, its available in hte help tab.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>CTRL-F9</p>\n\n<p>for all key commands you can check ( and print) the keymap, its available in hte help tab.</p>\n"},{"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1409293311,"post_id":2970704,"comment_id":39919282,"body_markdown":"IJ12 has &quot;external compiler&quot; options.  Is there a better way, now?","body":"IJ12 has &quot;external compiler&quot; options.  Is there a better way, now?"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1673472394,"post_id":2970704,"comment_id":132509908,"body_markdown":"These options are not available when IntelliJ manages compilation directly rather than through Ant.   Is there an easy way to switch between Ant and IntelliJ&#39;s native build process?","body":"These options are not available when IntelliJ manages compilation directly rather than through Ant.   Is there an easy way to switch between Ant and IntelliJ&#39;s native build process?"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1275610393,"creation_date":1275610393,"answer_id":2970704,"question_id":2966530,"body_markdown":"IDEA is not running java binary, so there is no way to see the commands. Instead, IDEA uses Java compiler API directly. If you want a raw representation of what is done to build the project, you can use **Build | Generate Ant** build. Examine the build file or run it from the command line via Ant to see what happens and what options/commands are invoked.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>IDEA is not running java binary, so there is no way to see the commands. Instead, IDEA uses Java compiler API directly. If you want a raw representation of what is done to build the project, you can use <strong>Build | Generate Ant</strong> build. Examine the build file or run it from the command line via Ant to see what happens and what options/commands are invoked.</p>\n"},{"comments":[{"owner":{"account_id":268092,"reputation":2614,"user_id":556644,"accept_rate":100,"display_name":"Ross Attrill"},"score":0,"creation_date":1376019729,"post_id":4430711,"comment_id":26566455,"body_markdown":"If your compilation is successful, the message console will disappear to leave a deliberate compilation error in your code and you will be able then review the build command.","body":"If your compilation is successful, the message console will disappear to leave a deliberate compilation error in your code and you will be able then review the build command."},{"owner":{"account_id":428306,"reputation":1151,"user_id":810546,"accept_rate":0,"display_name":"WebComer"},"score":2,"creation_date":1537106729,"post_id":4430711,"comment_id":91654402,"body_markdown":"@Attrill As of Intelij Idea 17, for example it just shows command line to run already built file, not to build it. Ctrl+0 doesn&#39;t work for displaying build command line for me, too","body":"@Attrill As of Intelij Idea 17, for example it just shows command line to run already built file, not to build it. Ctrl+0 doesn&#39;t work for displaying build command line for me, too"}],"tags":[],"owner":{"account_id":242279,"reputation":349,"user_id":513690,"display_name":"Kr1z"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1673472860,"creation_date":1292255937,"answer_id":4430711,"question_id":2966530,"body_markdown":"**For figuring out exact Run command, not exact Build command**:\r\n\r\nIf you run a certain run configuration, check the output console (Ctrl+0)\r\nFor example, it shows something like:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\java&quot; -Didea.launcher.port=7532 &quot;-Didea.launcher...\r\n    \r\n    Process finished with exit code 0\r\n\r\nThe first line is the command for running the module...\r\n","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p><strong>For figuring out exact Run command, not exact Build command</strong>:</p>\n<p>If you run a certain run configuration, check the output console (Ctrl+0)\nFor example, it shows something like:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\java&quot; -Didea.launcher.port=7532 &quot;-Didea.launcher...\n\nProcess finished with exit code 0\n</code></pre>\n<p>The first line is the command for running the module...</p>\n"},{"comments":[{"owner":{"account_id":3643587,"reputation":1003,"user_id":3037171,"accept_rate":50,"display_name":"Elouan Keryell-Even"},"score":0,"creation_date":1463732460,"post_id":25217049,"comment_id":62199804,"body_markdown":"Damn bro, that piece of info about the `build.log` file was so valuable to me! Thanks!","body":"Damn bro, that piece of info about the <code>build.log</code> file was so valuable to me! Thanks!"},{"owner":{"account_id":1529832,"reputation":7281,"user_id":1427295,"accept_rate":83,"display_name":"Brett Y"},"score":4,"creation_date":1525751531,"post_id":25217049,"comment_id":87468394,"body_markdown":"For linux users check `~/.IntelliJIdeaYYYY.X/system/log/build-log/build.log`, where `YYYY.X` is the intellij version e.g. `2018.1`.","body":"For linux users check <code>~&#47;.IntelliJIdeaYYYY.X&#47;system&#47;log&#47;build-log&#47;build.log</code>, where <code>YYYY.X</code> is the intellij version e.g. <code>2018.1</code>."},{"owner":{"account_id":13579226,"reputation":63,"user_id":9795733,"display_name":"Gavin Haynes"},"score":5,"creation_date":1601947247,"post_id":25217049,"comment_id":113558323,"body_markdown":"Version 2020.2 uses `~/.cache/JetBrains/IntelliJIdea*.*/log/build-log/build.log`","body":"Version 2020.2 uses <code>~&#47;.cache&#47;JetBrains&#47;IntelliJIdea*.*&#47;log&#47;build-log&#47;build.log</code>"},{"owner":{"account_id":3089816,"reputation":2325,"user_id":2616185,"accept_rate":67,"display_name":"Alex"},"score":0,"creation_date":1623758188,"post_id":25217049,"comment_id":120164412,"body_markdown":"On macOS, IntelliJ version 2021.1 it&#39;s at `/Users/&lt;your user&gt;/Library/Logs/JetBrains/IntelliJIdea2021.1/build-log/build.log`","body":"On macOS, IntelliJ version 2021.1 it&#39;s at <code>&#47;Users&#47;&lt;your user&gt;&#47;Library&#47;Logs&#47;JetBrains&#47;IntelliJIdea2021.1&#47;build-log&#47;bu&zwnj;&#8203;ild.log</code>"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1673472209,"post_id":25217049,"comment_id":132509860,"body_markdown":"On Windows, the logs are at `%AppData%\\..\\Local\\JetBrains\\IntelliJIdea2022.2\\log\\build-log` (paste that into the explorer path) in the file `build.log`.","body":"On Windows, the logs are at <code>%AppData%\\..\\Local\\JetBrains\\IntelliJIdea2022.2\\log\\build-lo&zwnj;&#8203;g</code> (paste that into the explorer path) in the file <code>build.log</code>."},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":1,"creation_date":1673472234,"post_id":25217049,"comment_id":132509867,"body_markdown":"Sadly, these logs did NOT contain what I was looking for.","body":"Sadly, these logs did NOT contain what I was looking for."},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1673472748,"post_id":25217049,"comment_id":132509992,"body_markdown":"Even when I turn off IntelliJ, add the line `org.jetbrains.jps.level=ALL` to `build-log-jul.properties` (on Windows), and restart IntelliJ, I see no useful information in these logs.","body":"Even when I turn off IntelliJ, add the line <code>org.jetbrains.jps.level=ALL</code> to <code>build-log-jul.properties</code> (on Windows), and restart IntelliJ, I see no useful information in these logs."},{"owner":{"account_id":1770214,"reputation":6814,"user_id":1615183,"accept_rate":65,"display_name":"Hola Soy Edu Feliz Navidad"},"score":0,"creation_date":1686649459,"post_id":25217049,"comment_id":134824681,"body_markdown":"@BrettY In my system the directory is ./.IdeaIC/log/build-log","body":"@BrettY In my system the directory is ./.IdeaIC/log/build-log"}],"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":8,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1407576030,"creation_date":1407576030,"answer_id":25217049,"question_id":2966530,"body_markdown":"Look in ~/Library/Logs/IdeaIC13/build-log. You can turn on ALL debugging in build-log.xml in this directory. When you build inside IDEA, it writes a log to build.log in this directory.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>Look in ~/Library/Logs/IdeaIC13/build-log. You can turn on ALL debugging in build-log.xml in this directory. When you build inside IDEA, it writes a log to build.log in this directory.</p>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19581,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":5,"score":63,"last_activity_date":1673472860,"creation_date":1275572766,"question_id":2966530,"body_markdown":"Can I see the exact commands IntelliJ uses to build a java project?","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>Can I see the exact commands IntelliJ uses to build a java project?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":5,"creation_date":1673209121,"post_id":75050929,"comment_id":132441669,"body_markdown":"You could sort the stream, but it wouldn&#39;t give you the exact same results, as your current method leaves `actors` sorted.","body":"You could sort the stream, but it wouldn&#39;t give you the exact same results, as your current method leaves <code>actors</code> sorted."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1673210438,"post_id":75050929,"comment_id":132441897,"body_markdown":"It&#39;s way clearer in two lines anyway IMHO. You&#39;re mutating in one line, it would be weird to mix it with something immutable.","body":"It&#39;s way clearer in two lines anyway IMHO. You&#39;re mutating in one line, it would be weird to mix it with something immutable."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":4,"creation_date":1673464789,"post_id":75050929,"comment_id":132507563,"body_markdown":"Not a solution to your question, but I&#39;d reconsider changing the object&#39;s state inside of a getter method.","body":"Not a solution to your question, but I&#39;d reconsider changing the object&#39;s state inside of a getter method."}],"answers":[{"comments":[{"owner":{"account_id":9551576,"reputation":96,"user_id":7095554,"display_name":"Tudny"},"score":2,"creation_date":1673209065,"post_id":75050978,"comment_id":132441657,"body_markdown":"I guess the OP want to keep the list sorted after the operation, so it wouldn&#39;t work.","body":"I guess the OP want to keep the list sorted after the operation, so it wouldn&#39;t work."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1673223470,"post_id":75050978,"comment_id":132443783,"body_markdown":"@Tudny that&#39;s correct","body":"@Tudny that&#39;s correct"}],"tags":[],"owner":{"account_id":19059871,"reputation":1,"user_id":13916219,"display_name":"Worive"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673209167,"creation_date":1673209022,"answer_id":75050978,"question_id":75050929,"body_markdown":"Streams has a [sorted method][1]\r\n```\r\nactors.stream().sorted(Comparator.comparing(Actor::getName))\r\n```\r\n\r\nNote: This will not sort the List&lt;Actors&gt;. And will only sort the returned stream.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-","title":"One liner for comparing by property and returning a stream?","body":"<p>Streams has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\" rel=\"nofollow noreferrer\">sorted method</a></p>\n<pre><code>actors.stream().sorted(Comparator.comparing(Actor::getName))\n</code></pre>\n<p>Note: This will not sort the List. And will only sort the returned stream.</p>\n"},{"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1673466544,"post_id":75050983,"comment_id":132508062,"body_markdown":"Sorry, how is this different from @Worive&#39;s answer?","body":"Sorry, how is this different from @Worive&#39;s answer?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1673468901,"post_id":75050983,"comment_id":132508815,"body_markdown":"@vphilipnyc Well, this answer was posted 23 seconds later – a very short interval.","body":"@vphilipnyc Well, this answer was posted 23 seconds later – a very short interval."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1673469142,"post_id":75050983,"comment_id":132508904,"body_markdown":"Ok, my status wouldn&#39;t show me that interval.  It used to just read something like &quot;2 days ago&quot; without a way to mouseover","body":"Ok, my status wouldn&#39;t show me that interval.  It used to just read something like &quot;2 days ago&quot; without a way to mouseover"}],"tags":[],"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673209045,"creation_date":1673209045,"answer_id":75050983,"question_id":75050929,"body_markdown":"you can do it like this:\r\n\r\n    return actors.stream().sorted(Comparator.comparing(Actor::getName));\r\n\r\nThe sort Method of a List will return void, so there is no chance to concat.\r\n\r\nGreetings","title":"One liner for comparing by property and returning a stream?","body":"<p>you can do it like this:</p>\n<pre><code>return actors.stream().sorted(Comparator.comparing(Actor::getName));\n</code></pre>\n<p>The sort Method of a List will return void, so there is no chance to concat.</p>\n<p>Greetings</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673472068,"post_id":75089053,"comment_id":132509828,"body_markdown":"If the side effect is intentional, OP&#39;s approach is much better.","body":"If the side effect is intentional, OP&#39;s approach is much better."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1673472577,"post_id":75089053,"comment_id":132509958,"body_markdown":"@shmosel Of course it is! But OP asked for a one-liner.","body":"@shmosel Of course it is! But OP asked for a one-liner."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673473056,"post_id":75089053,"comment_id":132510059,"body_markdown":"Also not entirely equivalent if there are other references to the list.","body":"Also not entirely equivalent if there are other references to the list."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673472611,"creation_date":1673471571,"answer_id":75089053,"question_id":75050929,"body_markdown":"If you really, really must:\r\n\r\n```java\r\npublic Stream&lt;Actor&gt; actors() {\r\n    return (actors = actors.stream()\r\n        .sorted(Comparator.comparing(Actor::getName))\r\n        .toList()).stream();\r\n}\r\n```\r\n\r\nBecause it is possible, doesn&#39;t mean you should do this.\r\n\r\n----\r\n\r\nBut indeed, knittl is right. You shouldn&#39;t mutate `actors` with this getter method. I&#39;d be really surprised if I were to use this method and suddenly `actors` was sorted.\r\n\r\nThere are some options which are better alternatives to your current design:\r\n\r\n* Sort the resulting stream, but don&#39;t mutate `actors`:\r\n\r\n    ```java\r\n    return actors.stream()\r\n        .sorted(Comparator.comparing(Actor::getName));\r\n    ```\r\n\r\n* Sort `actors` on initialization, for example:\r\n\r\n    ```java\r\n    List&lt;Actor&gt; actors;\r\n\r\n    YourConstructor(List&lt;Actor&gt; actors) {\r\n        this.actors = actors.stream()\r\n            .sorted(Comparator.comparing(Actor::getName))\r\n            .toList(); // Or whatever implementation of List is desired\r\n    }\r\n    ```","title":"One liner for comparing by property and returning a stream?","body":"<p>If you really, really must:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Stream&lt;Actor&gt; actors() {\n    return (actors = actors.stream()\n        .sorted(Comparator.comparing(Actor::getName))\n        .toList()).stream();\n}\n</code></pre>\n<p>Because it is possible, doesn't mean you should do this.</p>\n<hr />\n<p>But indeed, knittl is right. You shouldn't mutate <code>actors</code> with this getter method. I'd be really surprised if I were to use this method and suddenly <code>actors</code> was sorted.</p>\n<p>There are some options which are better alternatives to your current design:</p>\n<ul>\n<li><p>Sort the resulting stream, but don't mutate <code>actors</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return actors.stream()\n    .sorted(Comparator.comparing(Actor::getName));\n</code></pre>\n</li>\n<li><p>Sort <code>actors</code> on initialization, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Actor&gt; actors;\n\nYourConstructor(List&lt;Actor&gt; actors) {\n    this.actors = actors.stream()\n        .sorted(Comparator.comparing(Actor::getName))\n        .toList(); // Or whatever implementation of List is desired\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75089053,"answer_count":3,"score":2,"last_activity_date":1673472611,"creation_date":1673208602,"question_id":75050929,"body_markdown":"Is it possible to sort and return a stream in one line as in the following?\r\n\r\n    //@Getter...\r\n    public List&lt;Actor&gt; actors;\r\n\r\n    public Stream&lt;Actor&gt; actors() {\r\n        //can these two lines be combined somehow?\r\n        actors.sort(Comparator.comparing(Actor::getName));\r\n        return actors.stream();\r\n    }\r\n\r\n**Note:** After posting this question, I gather this would lead to a design that is not ideal and perhaps error-prone, as it would mutate state outside of the method.  Thanks to @knittl for pointing this out.","title":"One liner for comparing by property and returning a stream?","body":"<p>Is it possible to sort and return a stream in one line as in the following?</p>\n<pre><code>//@Getter...\npublic List&lt;Actor&gt; actors;\n\npublic Stream&lt;Actor&gt; actors() {\n    //can these two lines be combined somehow?\n    actors.sort(Comparator.comparing(Actor::getName));\n    return actors.stream();\n}\n</code></pre>\n<p><strong>Note:</strong> After posting this question, I gather this would lead to a design that is not ideal and perhaps error-prone, as it would mutate state outside of the method.  Thanks to @knittl for pointing this out.</p>\n"},{"tags":["java","android","android-recyclerview","spacing","gridlayoutmanager"],"comments":[{"owner":{"account_id":16233274,"reputation":171,"user_id":11721393,"display_name":"Marcos Narvaez"},"score":0,"creation_date":1671550351,"post_id":74864672,"comment_id":132120705,"body_markdown":"Please, check the answers for [this question](https://stackoverflow.com/questions/28531996/android-recyclerview-gridlayoutmanager-column-spacing?answertab=scoredesc#tab-top), it may help.","body":"Please, check the answers for <a href=\"https://stackoverflow.com/questions/28531996/android-recyclerview-gridlayoutmanager-column-spacing?answertab=scoredesc#tab-top\">this question</a>, it may help."}],"answers":[{"comments":[{"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"score":0,"creation_date":1671553138,"post_id":74865555,"comment_id":132121682,"body_markdown":"tweaking with the spaceing parameter solved it but it&#39;s not a good pratice, on different phone size the rror is not fixed","body":"tweaking with the spaceing parameter solved it but it&#39;s not a good pratice, on different phone size the rror is not fixed"},{"owner":{"account_id":27294717,"reputation":86,"user_id":20812539,"display_name":"VipulSharma"},"score":1,"creation_date":1671557839,"post_id":74865555,"comment_id":132123237,"body_markdown":"@C-Gian You are correct, but we don&#39;t have complete control on gridLayoutManger. you should use different layouts to support different screen sizes.","body":"@C-Gian You are correct, but we don&#39;t have complete control on gridLayoutManger. you should use different layouts to support different screen sizes."},{"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"score":0,"creation_date":1671573548,"post_id":74865555,"comment_id":132127616,"body_markdown":"any suggestions? there is something that act like a gridlayout?","body":"any suggestions? there is something that act like a gridlayout?"},{"owner":{"account_id":27294717,"reputation":86,"user_id":20812539,"display_name":"VipulSharma"},"score":1,"creation_date":1671607949,"post_id":74865555,"comment_id":132132998,"body_markdown":"there is no replacement for grid layout for now, you can use qualifiers and make different layouts with same name as your default layout","body":"there is no replacement for grid layout for now, you can use qualifiers and make different layouts with same name as your default layout"}],"tags":[],"owner":{"account_id":27294717,"reputation":86,"user_id":20812539,"display_name":"VipulSharma"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671551046,"creation_date":1671551046,"answer_id":74865555,"question_id":74864672,"body_markdown":" [GridSpacingItemDecoration][1] might be what you are looking for, try tweaking the spacing parameter. Also, Set the `includeEdge` parameter to true for adjusting the edge spacing. That is what helped me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30701422/20812539","title":"recyclerview GridLayoutManager spaces not divided equally","body":"<p><a href=\"https://stackoverflow.com/a/30701422/20812539\">GridSpacingItemDecoration</a> might be what you are looking for, try tweaking the spacing parameter. Also, Set the <code>includeEdge</code> parameter to true for adjusting the edge spacing. That is what helped me.</p>\n"}],"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673472460,"creation_date":1671546870,"question_id":74864672,"body_markdown":"I have a recyclerview with a GridLayoutManager as LayoutManager:\r\n\r\nXML:\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/recycler_view_container_anime&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recycler_view_anime&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:clipToPadding=&quot;false&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;#FF0000&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nJAVA:\r\n\r\n    recycler_view_anime = view.findViewById(R.id.recycler_view_anime);\r\n        recycler_view_anime.setHasFixedSize(true);\r\n        LinearLayoutManager layoutManager_anime_crucial = new GridLayoutManager(getContext(), 3, GridLayoutManager.VERTICAL, false);\r\n        recycler_view_anime.setLayoutManager(layoutManager_anime_crucial);\r\n        recycler_view_anime.setItemAnimator(new DefaultItemAnimator());\r\n\r\nRecycler&#39;s elements are image with fixed width and height:\r\n\r\nXML for recyclerview elements:\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/card_container&quot;\r\n    android:layout_width=&quot;100dp&quot;\r\n    android:layout_height=&quot;230dp&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/card_view_id&quot;\r\n        android:background=&quot;#131313&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/main_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;190dp&quot;\r\n            android:src=&quot;@drawable/default_image&quot;\r\n            android:scaleType=&quot;fitXY&quot;\r\n            android:transitionName=&quot;example_transition&quot;\r\n            card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            card_view:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayout14&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            card_view:layout_constraintTop_toBottomOf=&quot;@+id/main_image&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/main_name&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:ellipsize=&quot;end&quot;\r\n                android:fontFamily=&quot;@font/futura_book&quot;\r\n                android:gravity=&quot;center_horizontal|center_vertical&quot;\r\n                android:maxLines=&quot;2&quot;\r\n                android:text=&quot;Spyyyyyyyyyyyyyyyyyyyyyyyjjjjjjjjjjjjjjj&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;12dp&quot;\r\n                card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                card_view:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\nDoing like this what I get is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat I&#39;m trying to achieve:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n(Red background is the recyclerview background, to show that recycler width works fine, the problem is the gridlayoutmanager)\r\n\r\nBasically I need to space equally between elements but also on the left and on the right of the first and last elements.\r\n\r\nI searched a lot and tried a lot of recyclerview.itemdecorator(...) solutions but none of them worked. It&#39;s like if the gridlayoutmanager itself is not centered inside the recycler view width... \r\n\r\nEDIT: the recyclerview that I use it&#39;s inside a viewpager, so the recycler&#39;s xml is a single xml file, maybe this is the problem, because I tried to set in this xml the width as wrap and in was centered with no space and the itemdecorator worked fine, but once I returned to match_parent it broke again\r\n\r\n  [1]: https://i.stack.imgur.com/rUprE.png\r\n  [2]: https://i.stack.imgur.com/pCkcu.png","title":"recyclerview GridLayoutManager spaces not divided equally","body":"<p>I have a recyclerview with a GridLayoutManager as LayoutManager:</p>\n<p>XML:</p>\n<pre><code>    &lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/recycler_view_container_anime&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler_view_anime&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:clipToPadding=&quot;false&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;#FF0000&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>recycler_view_anime = view.findViewById(R.id.recycler_view_anime);\n    recycler_view_anime.setHasFixedSize(true);\n    LinearLayoutManager layoutManager_anime_crucial = new GridLayoutManager(getContext(), 3, GridLayoutManager.VERTICAL, false);\n    recycler_view_anime.setLayoutManager(layoutManager_anime_crucial);\n    recycler_view_anime.setItemAnimator(new DefaultItemAnimator());\n</code></pre>\n<p>Recycler's elements are image with fixed width and height:</p>\n<p>XML for recyclerview elements:</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/card_container&quot;\nandroid:layout_width=&quot;100dp&quot;\nandroid:layout_height=&quot;230dp&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/card_view_id&quot;\n    android:background=&quot;#131313&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/main_image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;190dp&quot;\n        android:src=&quot;@drawable/default_image&quot;\n        android:scaleType=&quot;fitXY&quot;\n        android:transitionName=&quot;example_transition&quot;\n        card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\n        card_view:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayout14&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\n        card_view:layout_constraintTop_toBottomOf=&quot;@+id/main_image&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/main_name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:ellipsize=&quot;end&quot;\n            android:fontFamily=&quot;@font/futura_book&quot;\n            android:gravity=&quot;center_horizontal|center_vertical&quot;\n            android:maxLines=&quot;2&quot;\n            android:text=&quot;Spyyyyyyyyyyyyyyyyyyyyyyyjjjjjjjjjjjjjjj&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;12dp&quot;\n            card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\n            card_view:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;/TextView&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Doing like this what I get is:</p>\n<p><a href=\"https://i.stack.imgur.com/rUprE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rUprE.png\" alt=\"enter image description here\" /></a></p>\n<p>What I'm trying to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/pCkcu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCkcu.png\" alt=\"enter image description here\" /></a></p>\n<p>(Red background is the recyclerview background, to show that recycler width works fine, the problem is the gridlayoutmanager)</p>\n<p>Basically I need to space equally between elements but also on the left and on the right of the first and last elements.</p>\n<p>I searched a lot and tried a lot of recyclerview.itemdecorator(...) solutions but none of them worked. It's like if the gridlayoutmanager itself is not centered inside the recycler view width...</p>\n<p>EDIT: the recyclerview that I use it's inside a viewpager, so the recycler's xml is a single xml file, maybe this is the problem, because I tried to set in this xml the width as wrap and in was centered with no space and the itemdecorator worked fine, but once I returned to match_parent it broke again</p>\n"},{"tags":["java","xml","eclipse","jaxb"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1673446315,"post_id":75084114,"comment_id":132500974,"body_markdown":"See this post to fix the error : [imports-accessible-from-more-than-one-module](https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module) . For alternative approaches please clarify what you are trying to do and which result you expect.","body":"See this post to fix the error : <a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\">imports-accessible-from-more-than-one-module</a> . For alternative approaches please clarify what you are trying to do and which result you expect."},{"owner":{"account_id":24851898,"reputation":199,"user_id":18728725,"display_name":"StefanoTrv"},"score":0,"creation_date":1673820833,"post_id":75084114,"comment_id":132577609,"body_markdown":"If high performance is not your priority, I made a library to make manipulating XML files much simpler: https://github.com/StefanoTrv/EasyXML","body":"If high performance is not your priority, I made a library to make manipulating XML files much simpler: <a href=\"https://github.com/StefanoTrv/EasyXML\" rel=\"nofollow noreferrer\">github.com/StefanoTrv/EasyXML</a>"}],"answers":[{"tags":[],"owner":{"account_id":27490113,"reputation":11,"user_id":20975643,"display_name":"Dimitris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673461302,"creation_date":1673461302,"answer_id":75087479,"question_id":75084114,"body_markdown":"There are a few ways to read the XML file and extract the information you need without using a lot of if statements. One approach is to use an XML parsing library such as JAXB or SAX, and create Java classes to represent the XML elements.\r\n\r\nIn JAXB, you can use the javax.xml.bind.Unmarshaller class to unmarshal the XML file into a Java object, which you can then traverse to extract the information you need.\r\nYou should start creating a Java classes based on the XML structure, like FlowMonitor, Menu1, Item, Connection etc. , and use annotation to map the xml elements to the fields.\r\nThen, you can use the unmarshaller.unmarshal() method to parse the XML file and create an instance of the FlowMonitor class, which will contain all the information from the XML file.\r\nOnce you have the FlowMonitor object you can loop through the items, and get the description and filename by calling getDescriptionValue() and getFilenameValue() of the item object....","title":"Search query in XML file from java","body":"<p>There are a few ways to read the XML file and extract the information you need without using a lot of if statements. One approach is to use an XML parsing library such as JAXB or SAX, and create Java classes to represent the XML elements.</p>\n<p>In JAXB, you can use the javax.xml.bind.Unmarshaller class to unmarshal the XML file into a Java object, which you can then traverse to extract the information you need.\nYou should start creating a Java classes based on the XML structure, like FlowMonitor, Menu1, Item, Connection etc. , and use annotation to map the xml elements to the fields.\nThen, you can use the unmarshaller.unmarshal() method to parse the XML file and create an instance of the FlowMonitor class, which will contain all the information from the XML file.\nOnce you have the FlowMonitor object you can loop through the items, and get the description and filename by calling getDescriptionValue() and getFilenameValue() of the item object....</p>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673472267,"creation_date":1673445153,"question_id":75084114,"body_markdown":"My Project Manager told me to move all the queries in a xml file (he even made for me), so when the user (via jsp) select the description: &quot;Flusso VLT mensile&quot; he has 2 options, click search, update or download, (the download it works now but I need to get the name of filename), he told me to work with jaxb but I don&#39;t think is necessary\r\n\r\n        &lt;flow-monitor&gt;\r\n       &lt;menu1&gt;\r\n           &lt;item id=&quot;7&quot; type=&quot;simple&quot;&gt;\r\n    \t\t&lt;connection name=&quot;VALSAP&quot; /&gt;\r\n    \t\t&lt;description value=&quot;Flusso VLT mensile&quot; /&gt;\r\n    \t\t&lt;filename value=&quot;flussoVltmensile&quot; /&gt;\r\n    \t\t&lt;select&gt;&lt;![CDATA[\r\n    \t\t\t\tSELECT * FROM vlt_sap WHERE stato=7\r\n    \t\t\t]]&gt;\r\n    \t\t&lt;/select&gt;\r\n    \t\t&lt;update&gt;\r\n    \t\t\t&lt;![CDATA[update vlt_sap set stato = 0 where stato =7]]&gt;\r\n    \t\t&lt;/update&gt;\r\n    \t&lt;/item&gt;\t\r\n    \t&lt;item id=&quot;11&quot; type=&quot;simple&quot;&gt;\r\n    \t\t&lt;connection name=&quot;VALSAP&quot; /&gt;\r\n    \t\t&lt;description value=&quot;Flusso REPNORM BERSANI&quot; /&gt;\r\n    \t\t&lt;filename value=&quot;flussoRepnormBersani&quot; /&gt;\r\n    \t\t&lt;select&gt;&lt;![CDATA[\r\n    \t\t\t\tselect * from repnorm_bersani_sap where stato = 99\r\n    \t\t\t]]&gt;\r\n    \t\t&lt;/select&gt;\r\n    \t\t&lt;update&gt;\r\n    \t\t\t&lt;![CDATA[update repnorm_bersani_sap set stato=0 where stato = 99]]&gt;\r\n    \t\t&lt;/update&gt;\r\n    \t&lt;/item&gt;\t\r\n     &lt;/menu1&gt;\r\n        &lt;/flow-monitor&gt;\r\n\r\nOn java I should read this xml and depending on `&lt;description value=&gt;` I should execute the query inside them, any way to easily  read the value inside without make a lot of if statement\r\n\r\n\r\nAnybody knows a good and easy way to achieve all this?\r\n\r\nThanks","title":"Search query in XML file from java","body":"<p>My Project Manager told me to move all the queries in a xml file (he even made for me), so when the user (via jsp) select the description: &quot;Flusso VLT mensile&quot; he has 2 options, click search, update or download, (the download it works now but I need to get the name of filename), he told me to work with jaxb but I don't think is necessary</p>\n<pre><code>    &lt;flow-monitor&gt;\n   &lt;menu1&gt;\n       &lt;item id=&quot;7&quot; type=&quot;simple&quot;&gt;\n        &lt;connection name=&quot;VALSAP&quot; /&gt;\n        &lt;description value=&quot;Flusso VLT mensile&quot; /&gt;\n        &lt;filename value=&quot;flussoVltmensile&quot; /&gt;\n        &lt;select&gt;&lt;![CDATA[\n                SELECT * FROM vlt_sap WHERE stato=7\n            ]]&gt;\n        &lt;/select&gt;\n        &lt;update&gt;\n            &lt;![CDATA[update vlt_sap set stato = 0 where stato =7]]&gt;\n        &lt;/update&gt;\n    &lt;/item&gt; \n    &lt;item id=&quot;11&quot; type=&quot;simple&quot;&gt;\n        &lt;connection name=&quot;VALSAP&quot; /&gt;\n        &lt;description value=&quot;Flusso REPNORM BERSANI&quot; /&gt;\n        &lt;filename value=&quot;flussoRepnormBersani&quot; /&gt;\n        &lt;select&gt;&lt;![CDATA[\n                select * from repnorm_bersani_sap where stato = 99\n            ]]&gt;\n        &lt;/select&gt;\n        &lt;update&gt;\n            &lt;![CDATA[update repnorm_bersani_sap set stato=0 where stato = 99]]&gt;\n        &lt;/update&gt;\n    &lt;/item&gt; \n &lt;/menu1&gt;\n    &lt;/flow-monitor&gt;\n</code></pre>\n<p>On java I should read this xml and depending on <code>&lt;description value=&gt;</code> I should execute the query inside them, any way to easily  read the value inside without make a lot of if statement</p>\n<p>Anybody knows a good and easy way to achieve all this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","oauth-2.0","amazon-cognito"],"comments":[{"owner":{"account_id":1479977,"reputation":408,"user_id":5806275,"display_name":"Raffael Bechara Rameh"},"score":0,"creation_date":1564594073,"post_id":56891383,"comment_id":101086318,"body_markdown":"I am facing the same issue. I believe that&#39;s because of lack of some @Configuration. In this guide you can find a step-by-step setup for the entire process of integrating Spring + Security + Cognito: https://gofore.com/en/spring-boot/","body":"I am facing the same issue. I believe that&#39;s because of lack of some @Configuration. In this guide you can find a step-by-step setup for the entire process of integrating Spring + Security + Cognito: <a href=\"https://gofore.com/en/spring-boot/\" rel=\"nofollow noreferrer\">gofore.com/en/spring-boot</a>"},{"owner":{"account_id":6387352,"reputation":159,"user_id":4954816,"display_name":"Eder Armando Anillo Lora"},"score":1,"creation_date":1564597627,"post_id":56891383,"comment_id":101087851,"body_markdown":"Thanks a lot. However  I found the solution. This was happend because when I get the response I didn&#39;t redirect to html page.","body":"Thanks a lot. However  I found the solution. This was happend because when I get the response I didn&#39;t redirect to html page."},{"owner":{"account_id":1479977,"reputation":408,"user_id":5806275,"display_name":"Raffael Bechara Rameh"},"score":0,"creation_date":1564677496,"post_id":56891383,"comment_id":101119035,"body_markdown":"Could you please tell us how did you manage it? (Maybe putting the solution as the answer to this thread) Obrigado!","body":"Could you please tell us how did you manage it? (Maybe putting the solution as the answer to this thread) Obrigado!"},{"owner":{"account_id":6387352,"reputation":159,"user_id":4954816,"display_name":"Eder Armando Anillo Lora"},"score":1,"creation_date":1564679258,"post_id":56891383,"comment_id":101119843,"body_markdown":"Hahahahahaha sure @RaffaelBecharaRameh","body":"Hahahahahaha sure @RaffaelBecharaRameh"}],"owner":{"account_id":6387352,"reputation":159,"user_id":4954816,"display_name":"Eder Armando Anillo Lora"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673472247,"creation_date":1562256028,"question_id":56891383,"body_markdown":"I have a microservice in spring boot with login oauth2 and cognito. The login service works fine, but when spring boot gets the answer, it shows invalid_id_token. I don&#39;t know why.\r\nI configured the cognito provider in AWS, and this is my application.properties:\r\n\r\n    server.port=8000\r\n    app.url=http://localhost:${server.port}\r\n    cognito.rooturl=https://XXXX.auth.us-east-1.amazoncognito.com\r\n    spring.security.oauth2.client.registration.cognito.provider=cognito\r\n    spring.security.oauth2.client.registration.cognito.client-id=XXXXXXXXXX\r\n    spring.security.oauth2.client.registration.cognito.client-secret=XXXXXXXX\r\n    spring.security.oauth2.client.registration.cognito.client-name=test-cognito-2\r\n    spring.security.oauth2.client.registration.cognito.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.cognito.scope=openid\r\n    spring.security.oauth2.client.registration.cognito.redirect-uri=${app.url}/login/oauth2/code/cognito\r\n    \r\n    \r\n    spring.security.oauth2.client.provider.cognito.authorization-uri=${cognito.rooturl}/oauth2/authorize\r\n    spring.security.oauth2.client.provider.cognito.token-uri=${cognito.rooturl}/oauth2/token\r\n    spring.security.oauth2.client.provider.cognito.jwk-set-uri=https://cognito-idp.us-east-1.amazonaws.com/us-east-XXXXXX/.well-known/jwks.json\r\n    spring.security.oauth2.client.provider.cognito.user-info-uri=${cognito.rooturl}/oauth2/userInfo\r\n    spring.security.oauth2.client.provider.cognito.user-name-attribute=username\r\n    \r\n    #Database\r\n    spring.datasource.name=test_ms\r\n    spring.jpa.show-sql=true\r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n\r\nMy Solution:\r\n\r\nI&#39;ve configured a success url login:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class BasicConfiguration extends WebSecurityConfigurerAdapter{\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n            \r\n    \t http.authorizeRequests().antMatchers(&quot;/login/**&quot;).permitAll().antMatchers(&quot;/logout&quot;)\r\n    \t.permitAll().anyRequest().authenticated()\r\n    \t.and().oauth2Login().defaultSuccessUrl(&quot;/m1/entry&quot;);\r\n         }\r\n     }\r\nThen We create pages html using thymeleaf:\r\n\r\n    @PostMapping(&quot;/m1/entry&quot;)\r\n    @ResponseBody\r\n    public  String urlTestEntry() {\r\n    \t\treturn &quot;succes&quot;;\r\n    }\r\nHtml pages:\r\n\r\n  [![Pages created][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/exHR8.png\r\n\r\nI tested again and It&#39;s works!!","title":"Invalid id token in spring when aws cognito response","body":"<p>I have a microservice in spring boot with login oauth2 and cognito. The login service works fine, but when spring boot gets the answer, it shows invalid_id_token. I don't know why.\nI configured the cognito provider in AWS, and this is my application.properties:</p>\n<pre><code>server.port=8000\napp.url=http://localhost:${server.port}\ncognito.rooturl=https://XXXX.auth.us-east-1.amazoncognito.com\nspring.security.oauth2.client.registration.cognito.provider=cognito\nspring.security.oauth2.client.registration.cognito.client-id=XXXXXXXXXX\nspring.security.oauth2.client.registration.cognito.client-secret=XXXXXXXX\nspring.security.oauth2.client.registration.cognito.client-name=test-cognito-2\nspring.security.oauth2.client.registration.cognito.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.cognito.scope=openid\nspring.security.oauth2.client.registration.cognito.redirect-uri=${app.url}/login/oauth2/code/cognito\n\n\nspring.security.oauth2.client.provider.cognito.authorization-uri=${cognito.rooturl}/oauth2/authorize\nspring.security.oauth2.client.provider.cognito.token-uri=${cognito.rooturl}/oauth2/token\nspring.security.oauth2.client.provider.cognito.jwk-set-uri=https://cognito-idp.us-east-1.amazonaws.com/us-east-XXXXXX/.well-known/jwks.json\nspring.security.oauth2.client.provider.cognito.user-info-uri=${cognito.rooturl}/oauth2/userInfo\nspring.security.oauth2.client.provider.cognito.user-name-attribute=username\n\n#Database\nspring.datasource.name=test_ms\nspring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n</code></pre>\n<p>My Solution:</p>\n<p>I've configured a success url login:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class BasicConfiguration extends WebSecurityConfigurerAdapter{\n@Override\nprotected void configure(HttpSecurity http) throws Exception{\n        \n     http.authorizeRequests().antMatchers(&quot;/login/**&quot;).permitAll().antMatchers(&quot;/logout&quot;)\n    .permitAll().anyRequest().authenticated()\n    .and().oauth2Login().defaultSuccessUrl(&quot;/m1/entry&quot;);\n     }\n }\n</code></pre>\n<p>Then We create pages html using thymeleaf:</p>\n<pre><code>@PostMapping(&quot;/m1/entry&quot;)\n@ResponseBody\npublic  String urlTestEntry() {\n        return &quot;succes&quot;;\n}\n</code></pre>\n<p>Html pages:</p>\n<p><a href=\"https://i.stack.imgur.com/exHR8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/exHR8.png\" alt=\"Pages created\" /></a></p>\n<p>I tested again and It's works!!</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1564029493,"post_id":57194359,"comment_id":100897482,"body_markdown":"These are the available type for KeyStore getInstance(). https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore","body":"These are the available type for KeyStore getInstance(). <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a>"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1564029585,"post_id":57194359,"comment_id":100897504,"body_markdown":"Also, you can take help from this code base too. :) https://github.com/Mukit09/CertificateBasedAuth","body":"Also, you can take help from this code base too. :) <a href=\"https://github.com/Mukit09/CertificateBasedAuth\" rel=\"nofollow noreferrer\">github.com/Mukit09/CertificateBasedAuth</a>"}],"answers":[{"comments":[{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1564039757,"post_id":57194507,"comment_id":100901497,"body_markdown":"Please provide some context around your links. Just some links (that might be invalid tomorrow) is not a good answer. See also [How do I write a good answer](https://stackoverflow.com/help/how-to-answer)","body":"Please provide some context around your links. Just some links (that might be invalid tomorrow) is not a good answer. See also <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer</a>"}],"tags":[],"owner":{"account_id":10291210,"reputation":16,"user_id":7592917,"display_name":"Ahmed Moazzin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564030076,"creation_date":1564030076,"answer_id":57194507,"question_id":57194359,"body_markdown":"I think you should use **PKCS8EncodedKeySpec**\r\n\r\n[PKCS8EncodedKeySpec Doc][1]\r\n\r\n[Some Codes][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/spec/PKCS8EncodedKeySpec.html\r\n  [2]: https://www.programcreek.com/java-api-examples/java.security.spec.PKCS8EncodedKeySpec","title":"how to sign a json web token using .p8 file","body":"<p>I think you should use <strong>PKCS8EncodedKeySpec</strong></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/spec/PKCS8EncodedKeySpec.html\" rel=\"nofollow noreferrer\">PKCS8EncodedKeySpec Doc</a></p>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/java.security.spec.PKCS8EncodedKeySpec\" rel=\"nofollow noreferrer\">Some Codes</a></p>\n"},{"tags":[],"owner":{"account_id":3611807,"reputation":21,"user_id":3012627,"display_name":"chieuvh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661222716,"creation_date":1661159529,"answer_id":73442714,"question_id":57194359,"body_markdown":"        //remember to remove two lines below in your .p8 key before run code\r\n        //-----BEGIN PRIVATE KEY-----\r\n        //-----END PRIVATE KEY-----\r\n        //begin create a key from .p8 file\r\n        byte[] p8der = Files.readAllBytes(new File(&quot;/tmp/AuthKey_KeyId.p8&quot;).toPath());\r\n        PKCS8EncodedKeySpec priPKCS8 = new PKCS8EncodedKeySpec(new org.apache.commons.codec.binary.Base64().decode(p8der));\r\n        PrivateKey appleKey = KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(priPKCS8);\r\n        //end create a key from .p8 file\r\n        Map jwtHeader = new HashMap();\r\n        jwtHeader.put(&quot;alg&quot;, &quot;ES256&quot;);\r\n        //addmore header\r\n        JsonObject jwtPayload = new JsonObject();\r\n        jwtPayload.addProperty(&quot;iss&quot;, &quot;{{replace with your issuer ID}}&quot;);\r\n        //addmore properties\r\n        JsonArray scope = new JsonArray();\r\n        scope.add(&quot;GET {{replace with your scope}}&quot;);\r\n        jwtPayload.add(&quot;scope&quot;, scope);\r\n        //begin signWithES256\r\n        JwtBuilder jwtBuilder = Jwts.builder()\r\n                .setHeader(jwtHeader)\r\n                .setPayload(jwtPayload.toString())\r\n                .signWith(\r\n                        SignatureAlgorithm.ES256,\r\n                        appleKey\r\n                );\r\n        String jws = jwtBuilder.compact();\r\n        logger.info(jws);","title":"how to sign a json web token using .p8 file","body":"<pre><code>    //remember to remove two lines below in your .p8 key before run code\n    //-----BEGIN PRIVATE KEY-----\n    //-----END PRIVATE KEY-----\n    //begin create a key from .p8 file\n    byte[] p8der = Files.readAllBytes(new File(&quot;/tmp/AuthKey_KeyId.p8&quot;).toPath());\n    PKCS8EncodedKeySpec priPKCS8 = new PKCS8EncodedKeySpec(new org.apache.commons.codec.binary.Base64().decode(p8der));\n    PrivateKey appleKey = KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(priPKCS8);\n    //end create a key from .p8 file\n    Map jwtHeader = new HashMap();\n    jwtHeader.put(&quot;alg&quot;, &quot;ES256&quot;);\n    //addmore header\n    JsonObject jwtPayload = new JsonObject();\n    jwtPayload.addProperty(&quot;iss&quot;, &quot;{{replace with your issuer ID}}&quot;);\n    //addmore properties\n    JsonArray scope = new JsonArray();\n    scope.add(&quot;GET {{replace with your scope}}&quot;);\n    jwtPayload.add(&quot;scope&quot;, scope);\n    //begin signWithES256\n    JwtBuilder jwtBuilder = Jwts.builder()\n            .setHeader(jwtHeader)\n            .setPayload(jwtPayload.toString())\n            .signWith(\n                    SignatureAlgorithm.ES256,\n                    appleKey\n            );\n    String jws = jwtBuilder.compact();\n    logger.info(jws);\n</code></pre>\n"}],"owner":{"account_id":1509106,"reputation":1661,"user_id":1411662,"accept_rate":40,"display_name":"prasadmsvs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2495,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57194507,"answer_count":2,"score":4,"last_activity_date":1673472165,"creation_date":1564029079,"question_id":57194359,"body_markdown":"I need to create a JWT for using Apple Mapkitjs. I have a secret key in a .p8 file. My backend is in java. I am trying to use auth0 to do this. But it says I have to use a key provider or key for ES256 algorithm. I tried the following but got an exception &quot;PKCS8 not found&quot;\r\n\r\n    KeyStore store = KeyStore.getInstance(&quot;PKCS8&quot;);\r\n\r\nI am fairly new to java world. Could someone tell me how to create a key from .p8 file","title":"how to sign a json web token using .p8 file","body":"<p>I need to create a JWT for using Apple Mapkitjs. I have a secret key in a .p8 file. My backend is in java. I am trying to use auth0 to do this. But it says I have to use a key provider or key for ES256 algorithm. I tried the following but got an exception \"PKCS8 not found\"</p>\n\n<pre><code>KeyStore store = KeyStore.getInstance(\"PKCS8\");\n</code></pre>\n\n<p>I am fairly new to java world. Could someone tell me how to create a key from .p8 file</p>\n"},{"tags":["java","spring","spring-boot","active-directory","ldap"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1619678746,"post_id":67311979,"comment_id":118978482,"body_markdown":"Does this answer your question? [Spring Security LDAP authentication user must be a member of an AD group](https://stackoverflow.com/questions/38319309/spring-security-ldap-authentication-user-must-be-a-member-of-an-ad-group)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38319309/spring-security-ldap-authentication-user-must-be-a-member-of-an-ad-group\">Spring Security LDAP authentication user must be a member of an AD group</a>"},{"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"score":0,"creation_date":1619714569,"post_id":67311979,"comment_id":118995309,"body_markdown":"Nope. None of the answers by Invest or DarioJ work. Invest&#39;s approach uses an LdapAuthorities populator. I tried putting a breakpoint inside it but the code never went inside. It just lets the user in straightaway.","body":"Nope. None of the answers by Invest or DarioJ work. Invest&#39;s approach uses an LdapAuthorities populator. I tried putting a breakpoint inside it but the code never went inside. It just lets the user in straightaway."},{"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"score":0,"creation_date":1619745080,"post_id":67311979,"comment_id":119004484,"body_markdown":"My case seems different because it seems like the activeDirectoryLdapAuthenticationProvider is dictating the terms. No matter what I put in the search filter like the link you sent above, it will continue to authenticate. I don&#39;t know how to set this search filter properly in the activeDirectoryLdapAuthenticationProvider. If I try to use the same filter as in the link above, I get &#39;In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;/&#39; &#39;.","body":"My case seems different because it seems like the activeDirectoryLdapAuthenticationProvider is dictating the terms. No matter what I put in the search filter like the link you sent above, it will continue to authenticate. I don&#39;t know how to set this search filter properly in the activeDirectoryLdapAuthenticationProvider. If I try to use the same filter as in the link above, I get &#39;In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;/&#39; &#39;."},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1698696202,"post_id":67311979,"comment_id":136435707,"body_markdown":"Did you figure this out?  Mind providing solution please?  Thank you","body":"Did you figure this out?  Mind providing solution please?  Thank you"}],"answers":[{"tags":[],"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673470428,"creation_date":1673470428,"answer_id":75088898,"question_id":67311979,"body_markdown":"I wonder if this might be the issue:\r\n\r\n    .userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\r\nYou use `sAMAccountName=*` (with the *).  Looks like wild card to me, meaning anyone?.  What if you replace that with `{1}` like in\r\n\r\n    .userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={1})(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\r\n","title":"Spring Boot LDAP check if a user belongs to a specific group","body":"<p>I wonder if this might be the issue:</p>\n<pre><code>.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n</code></pre>\n<p>You use <code>sAMAccountName=*</code> (with the *).  Looks like wild card to me, meaning anyone?.  What if you replace that with <code>{1}</code> like in</p>\n<pre><code>.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={1})(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n</code></pre>\n"}],"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673470428,"creation_date":1619677325,"question_id":67311979,"body_markdown":"I&#39;m building an application which will allow only a specific set of users in my org. to login. Only those users that belong to a particular AD Group can login. Eg: GDL - MyTeam is a GDL, only who&#39;s members I want to allow to get in.\r\nI checked out Atlassian&#39;s [tutorial][1], and confluent&#39;s [tutorial][2] as well as Megha&#39;s answer [here][3].\r\n\r\nWhat is different in my case, compared to other stack overflow questions is that I&#39;m using `ActiveDirectoryLdapAuthenticationProvider` as can be seen in my code snippet below. That is the one to be dictating the terms.\r\n\r\nHowever, My application would still allow any user in the org to get in to my application. I&#39;m really not able to understand what criteria is it using to allow anyone.\r\nI&#39;m a totally newbie to ldiff syntax and filtering ldap using Java. Combine with springboot, I really don&#39;t know if I should use group search base or user search base. I just want people of my GDL to be able to get in. Rest should receive an authentication failure.\r\n\r\nHere is my code file for reference:\r\n\r\n```\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n\t\tconfigureLdap(auth);\r\n\t\tconfigureActiveDirectory(auth);\r\n\r\n\t}\r\n\r\n\tprivate void configureLdap(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n\t\tauth\r\n\t\t\t.ldapAuthentication()\r\n\t\t\t.contextSource(contextSource())\r\n\t\t\t.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\t\t\t.passwordCompare()\r\n\t\t\t.passwordEncoder(passwordEncoder())\r\n\t\t\t.passwordAttribute(&quot;userPassword&quot;);\r\n\t}\r\n\r\n\tprivate void configureActiveDirectory(AuthenticationManagerBuilder auth) {\r\n\t\tActiveDirectoryLdapAuthenticationProvider adProvider = activeDirectoryLdapAuthenticationProvider();\r\n\t\tif (adProvider != null) {\r\n\t\t\tauth.authenticationProvider(adProvider);\r\n\t\t\tauth.eraseCredentials(false);\r\n\t\t}\r\n\t}\r\n\r\n\t@Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LdapContextSource contextSource() {\r\n\r\n\t\tLdapContextSource contextSource = new LdapContextSource();\r\n\t\tcontextSource.setUrl(ldapUrls); //mycompany.com:389\r\n\t\tcontextSource.setBase(ldapBaseDn); //dc=myCompany,dc=com\r\n\t\tcontextSource.setUserDn(env.getProperty(ldapSecurityPrincipal));\r\n\t\tcontextSource.setPassword(env.getProperty(ldapPrincipalPassword));\r\n\t\tcontextSource.setReferral(&quot;follow&quot;);\r\n\r\n\t\tcontextSource.afterPropertiesSet();\r\n\r\n\t\treturn contextSource;\r\n\t}\r\n\r\n\r\n\t@Bean\r\n\tprotected ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n\r\n\r\n\t\tActiveDirectoryLdapAuthenticationProvider provider = new ActiveDirectoryLdapAuthenticationProvider(&quot;myCompany.com&quot;, ldapUrls,\r\n\t\t\tldapBaseDn);\r\n\t\tprovider.setConvertSubErrorCodesToExceptions(true);\r\n\t\tprovider.setUseAuthenticationRequestCredentials(true);\r\n\t\tprovider.setUserDetailsContextMapper(new CustomUserDetailsContextMapper());\r\n\r\n\t\treturn provider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LdapTemplate ldapTemplate() {\r\n\t\tLdapTemplate template = new LdapTemplate();\r\n\t\ttemplate.setContextSource(contextSource());\r\n\t\ttemplate.setIgnoreNameNotFoundException(true);\r\n\t\ttemplate.setIgnorePartialResultException(true);\r\n\t\treturn template;\r\n\t}\r\n\r\n\r\n```\r\n\r\nI believe this filter is the place where I have specified the correct matching criteria, but for some reason it&#39;s allowing everyone and not just My team&#39;s specific GDL.\r\n\r\n```\r\n.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\r\n```\r\n Can anyone please provide guidance as to where I am going wrong.\r\nThanks a ton!\r\n\r\nEDIT: \r\nI figured out that `ActiveDirectoryLdapAuthenticationProvider` is dictating the terms. I believe this is the place where I need to put in the search filter. If I put in the exact same filter as the other answers\r\n\r\n    In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;/&#39;\r\n\r\nBut I really don&#39;t understand what to put in here. Suggestions please?\r\n\r\n\r\n  [1]: https://confluence.atlassian.com/kb/how-to-write-ldap-search-filters-792496933.html\r\n  [2]: https://docs.confluent.io/platform/current/security/configure-mds/ldap-auth-config.html\r\n  [3]: https://stackoverflow.com/questions/44368903/spring-ldap-check-the-membership-of-user-in-specified-group","title":"Spring Boot LDAP check if a user belongs to a specific group","body":"<p>I'm building an application which will allow only a specific set of users in my org. to login. Only those users that belong to a particular AD Group can login. Eg: GDL - MyTeam is a GDL, only who's members I want to allow to get in.\nI checked out Atlassian's <a href=\"https://confluence.atlassian.com/kb/how-to-write-ldap-search-filters-792496933.html\" rel=\"nofollow noreferrer\">tutorial</a>, and confluent's <a href=\"https://docs.confluent.io/platform/current/security/configure-mds/ldap-auth-config.html\" rel=\"nofollow noreferrer\">tutorial</a> as well as Megha's answer <a href=\"https://stackoverflow.com/questions/44368903/spring-ldap-check-the-membership-of-user-in-specified-group\">here</a>.</p>\n<p>What is different in my case, compared to other stack overflow questions is that I'm using <code>ActiveDirectoryLdapAuthenticationProvider</code> as can be seen in my code snippet below. That is the one to be dictating the terms.</p>\n<p>However, My application would still allow any user in the org to get in to my application. I'm really not able to understand what criteria is it using to allow anyone.\nI'm a totally newbie to ldiff syntax and filtering ldap using Java. Combine with springboot, I really don't know if I should use group search base or user search base. I just want people of my GDL to be able to get in. Rest should receive an authentication failure.</p>\n<p>Here is my code file for reference:</p>\n<pre><code>    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        configureLdap(auth);\n        configureActiveDirectory(auth);\n\n    }\n\n    private void configureLdap(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth\n            .ldapAuthentication()\n            .contextSource(contextSource())\n            .userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n            .passwordCompare()\n            .passwordEncoder(passwordEncoder())\n            .passwordAttribute(&quot;userPassword&quot;);\n    }\n\n    private void configureActiveDirectory(AuthenticationManagerBuilder auth) {\n        ActiveDirectoryLdapAuthenticationProvider adProvider = activeDirectoryLdapAuthenticationProvider();\n        if (adProvider != null) {\n            auth.authenticationProvider(adProvider);\n            auth.eraseCredentials(false);\n        }\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public LdapContextSource contextSource() {\n\n        LdapContextSource contextSource = new LdapContextSource();\n        contextSource.setUrl(ldapUrls); //mycompany.com:389\n        contextSource.setBase(ldapBaseDn); //dc=myCompany,dc=com\n        contextSource.setUserDn(env.getProperty(ldapSecurityPrincipal));\n        contextSource.setPassword(env.getProperty(ldapPrincipalPassword));\n        contextSource.setReferral(&quot;follow&quot;);\n\n        contextSource.afterPropertiesSet();\n\n        return contextSource;\n    }\n\n\n    @Bean\n    protected ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n\n\n        ActiveDirectoryLdapAuthenticationProvider provider = new ActiveDirectoryLdapAuthenticationProvider(&quot;myCompany.com&quot;, ldapUrls,\n            ldapBaseDn);\n        provider.setConvertSubErrorCodesToExceptions(true);\n        provider.setUseAuthenticationRequestCredentials(true);\n        provider.setUserDetailsContextMapper(new CustomUserDetailsContextMapper());\n\n        return provider;\n    }\n\n    @Bean\n    public LdapTemplate ldapTemplate() {\n        LdapTemplate template = new LdapTemplate();\n        template.setContextSource(contextSource());\n        template.setIgnoreNameNotFoundException(true);\n        template.setIgnorePartialResultException(true);\n        return template;\n    }\n\n\n</code></pre>\n<p>I believe this filter is the place where I have specified the correct matching criteria, but for some reason it's allowing everyone and not just My team's specific GDL.</p>\n<pre><code>.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n\n</code></pre>\n<p>Can anyone please provide guidance as to where I am going wrong.\nThanks a ton!</p>\n<p>EDIT:\nI figured out that <code>ActiveDirectoryLdapAuthenticationProvider</code> is dictating the terms. I believe this is the place where I need to put in the search filter. If I put in the exact same filter as the other answers</p>\n<pre><code>In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name '/'\n</code></pre>\n<p>But I really don't understand what to put in here. Suggestions please?</p>\n"},{"tags":["java","html","freemarker","docx"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1673505242,"post_id":75088878,"comment_id":132515268,"body_markdown":"Did you look at the generated XML directly (if you extract the docx as zip, there are XML files inside)? I suspect you don&#39;t really understand what&#39;s going on on that level. You have to replace the HTML tags with WordML tags, but you have to *avoid* XML escaping, or else the tags are just shown as text for the user.","body":"Did you look at the generated XML directly (if you extract the docx as zip, there are XML files inside)? I suspect you don&#39;t really understand what&#39;s going on on that level. You have to replace the HTML tags with WordML tags, but you have to <i>avoid</i> XML escaping, or else the tags are just shown as text for the user."},{"owner":{"account_id":9428765,"reputation":99,"user_id":7012959,"display_name":"Damian Szarik Paul"},"score":0,"creation_date":1673605058,"post_id":75088878,"comment_id":132541537,"body_markdown":"Agree that I might not understand that level, but i did some research and there was nothing which would actually work with WordML tags. Do you have in mind some specific tags which works inside .docx as bold? x|","body":"Agree that I might not understand that level, but i did some research and there was nothing which would actually work with WordML tags. Do you have in mind some specific tags which works inside .docx as bold? x|"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1673628563,"post_id":75088878,"comment_id":132549385,"body_markdown":"To be clear, I have no expertise with WordML. But in what way it did not work? If you just see the tags appearing as plain text when you open the generated docx in World, then you have an escaping issue there.","body":"To be clear, I have no expertise with WordML. But in what way it did not work? If you just see the tags appearing as plain text when you open the generated docx in World, then you have an escaping issue there."}],"owner":{"account_id":9428765,"reputation":99,"user_id":7012959,"display_name":"Damian Szarik Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673470302,"creation_date":1673470302,"question_id":75088878,"body_markdown":"I have a problem with docx template not recognizing html tags like &lt; b&gt;&lt; /b&gt;. I can read simple parameters, object parameters and iterate over them, but I have problem with parsing these damn tags... \r\n\r\n**Problem**:\r\nI have a String in Java App, for example: &quot;This is &lt; b&gt;example&lt; /b&gt; of string&quot;. I am sending this String to Freemarker template in Word (docx). Now I except, that when I will genrate raport using this templete, I will receive:\r\n\r\nThis is **example** of string\r\n\r\nInstead I am receiving:\r\n\r\n    This is &lt;b&gt;example&lt;/b&gt; of string\r\n\r\nI did some research and it looks like Word doesn&#39;t supply html tagging, nor other tagging. What I already tried was for example wrapping into **[#escape x as x?html][/#escape]** or using different tags like **&lt; strong&gt;, &lt; bold&gt;** and so on. I was looking also inside a docx structure, where I found that there are tags like **&lt;w:t&gt;,&lt;w:r&gt;** and tried to wrap those inside Java String, but result was the same. Partially workaround was using **key:value LinkedHashMap** where i printed key as a normal font, and value was bolded inside Word. It was ok until I came across double for loop (key is also esencial to print out in raport, so I can&#39;t artificially create random key). I would be very grateful for any tips how to achieve my goal because I&#39;m out of ideas;)\r\n\r\nPS: I tried also write some kind of instruction in JavaScript inside docx template, but it never worked out, perhaps it is becasuse I am not used to js;x","title":"Read html tags in Freemarker inside Word (docx) template, received from Java","body":"<p>I have a problem with docx template not recognizing html tags like &lt; b&gt;&lt; /b&gt;. I can read simple parameters, object parameters and iterate over them, but I have problem with parsing these damn tags...</p>\n<p><strong>Problem</strong>:\nI have a String in Java App, for example: &quot;This is &lt; b&gt;example&lt; /b&gt; of string&quot;. I am sending this String to Freemarker template in Word (docx). Now I except, that when I will genrate raport using this templete, I will receive:</p>\n<p>This is <strong>example</strong> of string</p>\n<p>Instead I am receiving:</p>\n<pre><code>This is &lt;b&gt;example&lt;/b&gt; of string\n</code></pre>\n<p>I did some research and it looks like Word doesn't supply html tagging, nor other tagging. What I already tried was for example wrapping into <strong>[#escape x as x?html][/#escape]</strong> or using different tags like <strong>&lt; strong&gt;, &lt; bold&gt;</strong> and so on. I was looking also inside a docx structure, where I found that there are tags like <strong>&lt;w:t&gt;,&lt;w:r&gt;</strong> and tried to wrap those inside Java String, but result was the same. Partially workaround was using <strong>key:value LinkedHashMap</strong> where i printed key as a normal font, and value was bolded inside Word. It was ok until I came across double for loop (key is also esencial to print out in raport, so I can't artificially create random key). I would be very grateful for any tips how to achieve my goal because I'm out of ideas;)</p>\n<p>PS: I tried also write some kind of instruction in JavaScript inside docx template, but it never worked out, perhaps it is becasuse I am not used to js;x</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673466303,"post_id":75088058,"comment_id":132508003,"body_markdown":"Can you post your `HelloController`? (You posted the pom.xml instead.)","body":"Can you post your <code>HelloController</code>? (You posted the pom.xml instead.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673466956,"post_id":75088058,"comment_id":132508197,"body_markdown":"Or is the `Controller` class supposed to be the `HelloController` class?","body":"Or is the <code>Controller</code> class supposed to be the <code>HelloController</code> class?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673467185,"post_id":75088058,"comment_id":132508271,"body_markdown":"Anyway, there is just a lot wrong with this code. Don&#39;t you get an exception if you try to press the same button twice? You would end up trying to use the same `FXMLLoader`, which you can&#39;t do because you can&#39;t reload when the root is already set. Why are you using arrays instead of lists when you don&#39;t know the number there are going to be? What is the purpose of the `boxes` array, which you don&#39;t ever use? (In fact, why do you think you need to keep track of all the scenes and windows at all? You can always access those from the relevant controller.)","body":"Anyway, there is just a lot wrong with this code. Don&#39;t you get an exception if you try to press the same button twice? You would end up trying to use the same <code>FXMLLoader</code>, which you can&#39;t do because you can&#39;t reload when the root is already set. Why are you using arrays instead of lists when you don&#39;t know the number there are going to be? What is the purpose of the <code>boxes</code> array, which you don&#39;t ever use? (In fact, why do you think you need to keep track of all the scenes and windows at all? You can always access those from the relevant controller.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673467468,"post_id":75088058,"comment_id":132508382,"body_markdown":"Also, the arrays are not doing what you think they are. *Every* controller has its own copy of all the arrays, and if the button is pressed in the UI corresponding to that controller, then just one element of each array is initialized. It&#39;s really not clear at all what this code is supposed to be doing.","body":"Also, the arrays are not doing what you think they are. <i>Every</i> controller has its own copy of all the arrays, and if the button is pressed in the UI corresponding to that controller, then just one element of each array is initialized. It&#39;s really not clear at all what this code is supposed to be doing."}],"answers":[{"comments":[{"owner":{"account_id":27502309,"reputation":11,"user_id":20985731,"display_name":"Elijah Hunter"},"score":0,"creation_date":1673543853,"post_id":75088577,"comment_id":132528364,"body_markdown":"I started programming in september, I still make beginner mistakes, sorry. Thank you for the help though! this solution works perfectly!","body":"I started programming in september, I still make beginner mistakes, sorry. Thank you for the help though! this solution works perfectly!"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673469386,"creation_date":1673468180,"answer_id":75088577,"question_id":75088058,"body_markdown":"I don&#39;t really understand the purpose of a lot of the code you wrote. If you just want the controller to be able to reload the same FXML, you can just do exactly that in the button handler.\r\n\r\n\r\nThe code you wrote fails if you try to use the same button twice. The reason is that each controller instance has a reference to one instance of the `HelloApplication` class, and via that reference accesses the `FXMLLoader` instance exposed by that object. \r\n\r\n(As an aside, it&#39;s always wrong to instantiate the `Application` class.)\r\n\r\nSo if you press the same button twice, you attempt to call `load(...)` on the same `FXMLLoader` instance twice, and this won&#39;t work, at least with your setup, because the `FXMLLoader` can&#39;t load your FXML file when the root is already set (which it will be from the previous invocation of `load()`). (You could probably work around this by calling `setRoot(null)` on the loader, but the `FXMLLoader` is simply not designed to be used this way.)\r\n\r\nHere&#39;s a working version of the `Application` class:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application\r\n    {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException\r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(loader.load(), 320, 240);\r\n            stage.setTitle(&quot;Don&#39;t exit!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        public static void main(String[] args)\r\n        {\r\n            launch();\r\n        }\r\n    }\r\n\r\nAnd then all you need in the controller is\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Rectangle2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Screen;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Random;\r\n    \r\n    import static javafx.stage.StageStyle.DECORATED;\r\n    \r\n    public class HelloController\r\n    {\r\n        private static final Random rand = new Random();\r\n    \r\n        // As things stand, you don&#39;t actually need any of the @FXML-annotated fields:\r\n    //    @FXML\r\n    //    private VBox box;\r\n    //    @FXML\r\n    //    private Button button;\r\n    //    @FXML\r\n    //    private Label text;\r\n\r\n        @FXML\r\n        protected void onClick() throws IOException\r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\r\n            int width = 320 ;\r\n            int height = 240 ;\r\n            Scene scene = new Scene(loader.load(), width, height);\r\n            Stage stage = new Stage(DECORATED);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Dont click too many!&quot;);\r\n            Rectangle2D bounds = Screen.getPrimary().getBounds();\r\n            double x = bounds.getMinX() + (bounds.getWidth() - width);\r\n            double y = bounds.getMinY() + (bounds.getHeight() - height);\r\n            stage.setX(rand.nextDouble(x));\r\n            stage.setY(rand.nextDouble(y));\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nIf you want to avoid hard-coding the location of the FXML a second time, you can inject it into the controller:\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Rectangle2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Screen;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.Random;\r\n    \r\n    import static javafx.stage.StageStyle.DECORATED;\r\n    \r\n    public class HelloController\r\n    {\r\n        private static final Random rand = new Random();\r\n    \r\n        @FXML\r\n        private URL location;\r\n        @FXML\r\n        protected void onClick() throws IOException\r\n        {\r\n            FXMLLoader loader = new FXMLLoader(location);\r\n            int width = 320 ;\r\n            int height = 240 ;\r\n            Scene scene = new Scene(loader.load(), width, height);\r\n            Stage stage = new Stage(DECORATED);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Dont click too many!&quot;);\r\n            Rectangle2D bounds = Screen.getPrimary().getBounds();\r\n            double x = bounds.getMinX() + (bounds.getWidth() - width);\r\n            double y = bounds.getMinY() + (bounds.getHeight() - height);\r\n            stage.setX(rand.nextDouble(x));\r\n            stage.setY(rand.nextDouble(y));\r\n            stage.show();\r\n        }\r\n    }","title":"Only the newest javafx button object works","body":"<p>I don't really understand the purpose of a lot of the code you wrote. If you just want the controller to be able to reload the same FXML, you can just do exactly that in the button handler.</p>\n<p>The code you wrote fails if you try to use the same button twice. The reason is that each controller instance has a reference to one instance of the <code>HelloApplication</code> class, and via that reference accesses the <code>FXMLLoader</code> instance exposed by that object.</p>\n<p>(As an aside, it's always wrong to instantiate the <code>Application</code> class.)</p>\n<p>So if you press the same button twice, you attempt to call <code>load(...)</code> on the same <code>FXMLLoader</code> instance twice, and this won't work, at least with your setup, because the <code>FXMLLoader</code> can't load your FXML file when the root is already set (which it will be from the previous invocation of <code>load()</code>). (You could probably work around this by calling <code>setRoot(null)</code> on the loader, but the <code>FXMLLoader</code> is simply not designed to be used this way.)</p>\n<p>Here's a working version of the <code>Application</code> class:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application\n{\n\n    @Override\n    public void start(Stage stage) throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(loader.load(), 320, 240);\n        stage.setTitle(&quot;Don't exit!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>And then all you need in the controller is</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Random;\n\nimport static javafx.stage.StageStyle.DECORATED;\n\npublic class HelloController\n{\n    private static final Random rand = new Random();\n\n    // As things stand, you don't actually need any of the @FXML-annotated fields:\n//    @FXML\n//    private VBox box;\n//    @FXML\n//    private Button button;\n//    @FXML\n//    private Label text;\n\n    @FXML\n    protected void onClick() throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\n        int width = 320 ;\n        int height = 240 ;\n        Scene scene = new Scene(loader.load(), width, height);\n        Stage stage = new Stage(DECORATED);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Dont click too many!&quot;);\n        Rectangle2D bounds = Screen.getPrimary().getBounds();\n        double x = bounds.getMinX() + (bounds.getWidth() - width);\n        double y = bounds.getMinY() + (bounds.getHeight() - height);\n        stage.setX(rand.nextDouble(x));\n        stage.setY(rand.nextDouble(y));\n        stage.show();\n    }\n}\n</code></pre>\n<p>If you want to avoid hard-coding the location of the FXML a second time, you can inject it into the controller:</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Random;\n\nimport static javafx.stage.StageStyle.DECORATED;\n\npublic class HelloController\n{\n    private static final Random rand = new Random();\n\n    @FXML\n    private URL location;\n    @FXML\n    protected void onClick() throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(location);\n        int width = 320 ;\n        int height = 240 ;\n        Scene scene = new Scene(loader.load(), width, height);\n        Stage stage = new Stage(DECORATED);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Dont click too many!&quot;);\n        Rectangle2D bounds = Screen.getPrimary().getBounds();\n        double x = bounds.getMinX() + (bounds.getWidth() - width);\n        double y = bounds.getMinY() + (bounds.getHeight() - height);\n        stage.setX(rand.nextDouble(x));\n        stage.setY(rand.nextDouble(y));\n        stage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27502309,"reputation":11,"user_id":20985731,"display_name":"Elijah Hunter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75088577,"answer_count":1,"score":-1,"last_activity_date":1673469386,"creation_date":1673465028,"question_id":75088058,"body_markdown":"Im trying to create a program that &#39;clones&#39; itself, by making a new window and button etc. My issue is that only the newest created button functions. The previously made windows only generate an error, and not a window.\r\n\r\n**HelloController.java**\r\n\r\n```\r\npackage com.example.vboxes;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Screen;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Random;\r\n\r\nimport static javafx.stage.StageStyle.DECORATED;\r\n\r\npublic class Controller\r\n{\r\n    public static Random rand = new Random();\r\n    public static Rectangle2D bounds = Screen.getPrimary().getVisualBounds();\r\n    public HelloApplication hello = new HelloApplication();\r\n    public VBox[] boxes = new VBox[99999];\r\n    public Scene[] scenes = new Scene[99999];\r\n    public Stage[] stages = new Stage[99999];\r\n    public static int i = 0;\r\n    @FXML\r\n    private VBox box;\r\n    @FXML\r\n    public Button button;\r\n    @FXML\r\n    private Label text;\r\n    @FXML\r\n    protected void onClick() throws IOException\r\n    {\r\n        boxes[i] = new VBox();\r\n        scenes[i] = new Scene(hello.loader.load(), 320, 240);\r\n        stages[i] = new Stage(DECORATED);\r\n        stages[i].setScene(scenes[i]);\r\n        stages[i].setTitle(&quot;Dont click too many!&quot;);\r\n        stages[i].show();\r\n        double x = bounds.getMinX() + (bounds.getWidth() - scenes[i].getWidth());\r\n        double y = bounds.getMinY() + (bounds.getHeight() - scenes[i].getHeight());\r\n        stages[i].setX(rand.nextDouble(x));\r\n        stages[i].setY(rand.nextDouble(y));\r\n        System.out.println(i);\r\n        i++;\r\n    }\r\n}\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n```\r\npackage com.example.vboxes;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application\r\n{\r\n    public FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException\r\n    {\r\n        Scene scene = new Scene(loader.load(), 320, 240);\r\n        stage.setTitle(&quot;Don&#39;t exit!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nhello-view.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;VBox fx:id=&quot;box&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.example.vboxes.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;Label fx:id=&quot;text&quot;/&gt;\r\n    &lt;Button fx:id=&quot;buttons&quot; text=&quot;Click me and more will appear!&quot; onAction=&quot;#onClick&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n**HelloController.java**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;VBOXES&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;VBOXES&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.48&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.almasb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fxgl&lt;/artifactId&gt;\r\n            &lt;version&gt;17&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.vboxes/com.example.vboxes.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI attempted creating a button array that way each button functions, but I couldnt figure out how to link the button array to hello-view.fxml","title":"Only the newest javafx button object works","body":"<p>Im trying to create a program that 'clones' itself, by making a new window and button etc. My issue is that only the newest created button functions. The previously made windows only generate an error, and not a window.</p>\n<p><strong>HelloController.java</strong></p>\n<pre><code>package com.example.vboxes;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Random;\n\nimport static javafx.stage.StageStyle.DECORATED;\n\npublic class Controller\n{\n    public static Random rand = new Random();\n    public static Rectangle2D bounds = Screen.getPrimary().getVisualBounds();\n    public HelloApplication hello = new HelloApplication();\n    public VBox[] boxes = new VBox[99999];\n    public Scene[] scenes = new Scene[99999];\n    public Stage[] stages = new Stage[99999];\n    public static int i = 0;\n    @FXML\n    private VBox box;\n    @FXML\n    public Button button;\n    @FXML\n    private Label text;\n    @FXML\n    protected void onClick() throws IOException\n    {\n        boxes[i] = new VBox();\n        scenes[i] = new Scene(hello.loader.load(), 320, 240);\n        stages[i] = new Stage(DECORATED);\n        stages[i].setScene(scenes[i]);\n        stages[i].setTitle(&quot;Dont click too many!&quot;);\n        stages[i].show();\n        double x = bounds.getMinX() + (bounds.getWidth() - scenes[i].getWidth());\n        double y = bounds.getMinY() + (bounds.getHeight() - scenes[i].getHeight());\n        stages[i].setX(rand.nextDouble(x));\n        stages[i].setY(rand.nextDouble(y));\n        System.out.println(i);\n        i++;\n    }\n}\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package com.example.vboxes;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application\n{\n    public FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\n\n    @Override\n    public void start(Stage stage) throws IOException\n    {\n        Scene scene = new Scene(loader.load(), 320, 240);\n        stage.setTitle(&quot;Don't exit!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox fx:id=&quot;box&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.vboxes.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;text&quot;/&gt;\n    &lt;Button fx:id=&quot;buttons&quot; text=&quot;Click me and more will appear!&quot; onAction=&quot;#onClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>HelloController.java</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;VBOXES&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;VBOXES&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.3.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\n            &lt;version&gt;0.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\n            &lt;version&gt;11.48&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.almasb&lt;/groupId&gt;\n            &lt;artifactId&gt;fxgl&lt;/artifactId&gt;\n            &lt;version&gt;17&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.vboxes/com.example.vboxes.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I attempted creating a button array that way each button functions, but I couldnt figure out how to link the button array to hello-view.fxml</p>\n"},{"tags":["java","android"],"owner":{"account_id":25608165,"reputation":1,"user_id":19381961,"display_name":"Norbert Winer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673469136,"creation_date":1673377877,"question_id":75074758,"body_markdown":"I am trying to simulate Keypresses via my Android APP while my App runs in the Background. (Spoiler: I am a complete Beginner) \r\n \r\nI realized the functionality with Instrumentations eg.: \r\n\r\n    new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Instrumentation inst = new Instrumentation();\r\n                    inst.sendKeyDownUpSync(KeyEvent.KEYCODE_MEDIA_PREVIOUS);\r\n                }\r\n            }).start();`\r\n\r\nIn the foreground this works fine but in the Background I found out I cannot do this because I have no permission.INJECT_EVENTS. How do I get this permission somehow easily. I don&#39;t want to root my Phone or install a custom ROM \r\n\r\n","title":"Android: how to use Instrumentation in Background Processes","body":"<p>I am trying to simulate Keypresses via my Android APP while my App runs in the Background. (Spoiler: I am a complete Beginner)</p>\n<p>I realized the functionality with Instrumentations eg.:</p>\n<pre><code>new Thread(new Runnable() {\n            @Override\n            public void run() {\n                Instrumentation inst = new Instrumentation();\n                inst.sendKeyDownUpSync(KeyEvent.KEYCODE_MEDIA_PREVIOUS);\n            }\n        }).start();`\n</code></pre>\n<p>In the foreground this works fine but in the Background I found out I cannot do this because I have no permission.INJECT_EVENTS. How do I get this permission somehow easily. I don't want to root my Phone or install a custom ROM</p>\n"},{"tags":["java","string","apache-poi"],"comments":[{"owner":{"account_id":2826365,"reputation":144,"user_id":7534931,"display_name":"Simone Celia"},"score":3,"creation_date":1673468327,"post_id":75088579,"comment_id":132508664,"body_markdown":"open and close the file only 1 time; remove system.out","body":"open and close the file only 1 time; remove system.out"}],"answers":[{"tags":[],"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673468421,"creation_date":1673468421,"answer_id":75088618,"question_id":75088579,"body_markdown":"You open and close `outFile` on every single row.  I can pretty much guarantee that this is the source of your performance problems, because filesystem operations are relatively slow.\r\n\r\nPull the file opening out of the loop like so:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n    String filePath = &quot;formatted.xlsx&quot;;\r\n\r\n    FileInputStream file = new FileInputStream(filePath);\r\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n    XSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n    FileOutputStream outFile = new FileOutputStream(new File(filePath));\r\n    int rowCount = sheet.getLastRowNum();\r\n    for (int i = 1; i &lt;= rowCount; i++) {\r\n        XSSFRow row = sheet.getRow(i);\r\n\r\n        Cell description = row.getCell(3); // category\r\n        String descriptionText = description.getStringCellValue();\r\n        String modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\r\n        description.setCellValue(modifiedDescription);\r\n        \r\n        System.out.println(i + modifiedDescription);\r\n        workbook.write(outFile);\r\n    }\r\n    file.close();\r\n    outFile.close();\r\n}\r\n```","title":"How to Speed up Java Program to update excel cell values (Excel has 30000 records)?","body":"<p>You open and close <code>outFile</code> on every single row.  I can pretty much guarantee that this is the source of your performance problems, because filesystem operations are relatively slow.</p>\n<p>Pull the file opening out of the loop like so:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String filePath = &quot;formatted.xlsx&quot;;\n\n    FileInputStream file = new FileInputStream(filePath);\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n    XSSFSheet sheet = workbook.getSheetAt(0);\n\n    FileOutputStream outFile = new FileOutputStream(new File(filePath));\n    int rowCount = sheet.getLastRowNum();\n    for (int i = 1; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n\n        Cell description = row.getCell(3); // category\n        String descriptionText = description.getStringCellValue();\n        String modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\n        description.setCellValue(modifiedDescription);\n        \n        System.out.println(i + modifiedDescription);\n        workbook.write(outFile);\n    }\n    file.close();\n    outFile.close();\n}\n</code></pre>\n"}],"owner":{"account_id":16555147,"reputation":338,"user_id":11962495,"display_name":"Funny Boss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673468421,"creation_date":1673468184,"question_id":75088579,"body_markdown":"I have an EXCEL file which has more than 30K records. I wanted to update some of the cell values like if the cell values has &#39;#&#39; it will replace with &quot;-&quot;. So, developed a Java program which can do the task.\r\n\r\nBut the program is very slow when it is running on the entire excel records. The excel size is less than 5MB but it takes like 1 seconds for each record. So, it is taking more than one hour to process the excel file.\r\n\r\n**Any suggestion to improve the performance of this Java program.** \r\n\r\nMy Java code looks like the following:\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString filePath = &quot;formatted.xlsx&quot;;\r\n\r\n\t\tFileInputStream file = new FileInputStream(filePath);\r\n\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n\t\tint rowCount = sheet.getLastRowNum();\r\n\t\tfor (int i = 1; i &lt;= rowCount; i++) {\r\n\t\t\tXSSFRow row = sheet.getRow(i);\r\n\r\n\t\t\tCell description = row.getCell(3); // category\r\n\t\t\tString descriptionText = description.getStringCellValue();\r\n\t\t\tString modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\r\n\t\t\tdescription.setCellValue(modifiedDescription);\r\n\t\t\t\r\n\t\t\tSystem.out.println(i + modifiedDescription);\r\n\r\n\t\t\tfile.close();\r\n\r\n\t\t\tFileOutputStream outFile = new FileOutputStream(new File(filePath));\r\n\t\t\tworkbook.write(outFile);\r\n\t\t\toutFile.close();\r\n\r\n\t\t}\r\n\r\n\t}","title":"How to Speed up Java Program to update excel cell values (Excel has 30000 records)?","body":"<p>I have an EXCEL file which has more than 30K records. I wanted to update some of the cell values like if the cell values has '#' it will replace with &quot;-&quot;. So, developed a Java program which can do the task.</p>\n<p>But the program is very slow when it is running on the entire excel records. The excel size is less than 5MB but it takes like 1 seconds for each record. So, it is taking more than one hour to process the excel file.</p>\n<p><strong>Any suggestion to improve the performance of this Java program.</strong></p>\n<p>My Java code looks like the following:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String filePath = &quot;formatted.xlsx&quot;;\n\n    FileInputStream file = new FileInputStream(filePath);\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n    XSSFSheet sheet = workbook.getSheetAt(0);\n\n    int rowCount = sheet.getLastRowNum();\n    for (int i = 1; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n\n        Cell description = row.getCell(3); // category\n        String descriptionText = description.getStringCellValue();\n        String modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\n        description.setCellValue(modifiedDescription);\n        \n        System.out.println(i + modifiedDescription);\n\n        file.close();\n\n        FileOutputStream outFile = new FileOutputStream(new File(filePath));\n        workbook.write(outFile);\n        outFile.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673447446,"post_id":75084288,"comment_id":132501419,"body_markdown":"Preferences -&gt; java -&gt; editor -&gt; content assist -&gt; check &quot;insert single proposals automatically&quot; -&gt; content assist -&gt; advanced -&gt; in the top table, uncheck everything except &quot;template proposals&quot;","body":"Preferences -&gt; java -&gt; editor -&gt; content assist -&gt; check &quot;insert single proposals automatically&quot; -&gt; content assist -&gt; advanced -&gt; in the top table, uncheck everything except &quot;template proposals&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673468100,"creation_date":1673468100,"answer_id":75088563,"question_id":75084288,"body_markdown":"As noted in the [comment][1] by [XtremeBaumer][0]:\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist  \r\n- *Check &quot;Insert single proposals automatically&quot;*\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt; Advanced  \r\n- *In the top table, uncheck everything except &quot;Template Proposals&quot;*\r\n\r\nVerified in Eclipse for Java Developers, Version: 2022-12 (4.26.0)\r\n\r\n  [0]: https://stackoverflow.com/users/7109162/xtremebaumer\r\n  [1]: https://stackoverflow.com/questions/75084288/how-do-i-write-system-out-println-with-just-ctrl-space-in-eclipse#comment132501419_75084288","title":"How do I write System.out.println() with just ctrl + space in Eclipse?","body":"<p>As noted in the <a href=\"https://stackoverflow.com/questions/75084288/how-do-i-write-system-out-println-with-just-ctrl-space-in-eclipse#comment132501419_75084288\">comment</a> by <a href=\"https://stackoverflow.com/users/7109162/xtremebaumer\">XtremeBaumer</a>:</p>\n<p>Window &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist</p>\n<ul>\n<li><em>Check &quot;Insert single proposals automatically&quot;</em></li>\n</ul>\n<p>Window &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt; Advanced</p>\n<ul>\n<li><em>In the top table, uncheck everything except &quot;Template Proposals&quot;</em></li>\n</ul>\n<p>Verified in Eclipse for Java Developers, Version: 2022-12 (4.26.0)</p>\n"}],"owner":{"account_id":27383061,"reputation":11,"user_id":20887382,"display_name":"Myat Noe Maung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673468100,"creation_date":1673445850,"question_id":75084288,"body_markdown":"I used to be able to write System.out.println() with just ctrl+space. Now I have to choose the proposal and press enter. So it&#39;s ctrl+space and enter now. It&#39;s just an extra key but pretty annoying.\r\n\r\nI&#39;ve tried restoring the preferences to default, but it hasn&#39;t worked.","title":"How do I write System.out.println() with just ctrl + space in Eclipse?","body":"<p>I used to be able to write System.out.println() with just ctrl+space. Now I have to choose the proposal and press enter. So it's ctrl+space and enter now. It's just an extra key but pretty annoying.</p>\n<p>I've tried restoring the preferences to default, but it hasn't worked.</p>\n"},{"tags":["java","gradle","hadoop","mapreduce","log4j"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672284472,"post_id":74935450,"comment_id":132258718,"body_markdown":"Show the output of `gradle dependencies` for your app. Something is loading log4j2 and you need to exclude it","body":"Show the output of <code>gradle dependencies</code> for your app. Something is loading log4j2 and you need to exclude it"},{"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"score":1,"creation_date":1672872192,"post_id":74935450,"comment_id":132373794,"body_markdown":"I had to get rid of log4j2 from multiple places inside the source code to make it work.","body":"I had to get rid of log4j2 from multiple places inside the source code to make it work."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672872314,"post_id":74935450,"comment_id":132373817,"body_markdown":"Feel free to add your full solution below","body":"Feel free to add your full solution below"},{"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"score":1,"creation_date":1673392974,"post_id":74935450,"comment_id":132487885,"body_markdown":"I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required.","body":"I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673394011,"post_id":74935450,"comment_id":132488072,"body_markdown":"You can post that as an answer rather than a comment. You should also be using slf4j LoggerFactory instead","body":"You can post that as an answer rather than a comment. You should also be using slf4j LoggerFactory instead"}],"answers":[{"tags":[],"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673467199,"creation_date":1673467199,"answer_id":75088427,"question_id":74935450,"body_markdown":"I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required. ","title":"OptionConverter.convertLevel Error in Hadoop Mapreduce job","body":"<p>I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required.</p>\n"}],"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75088427,"answer_count":1,"score":0,"last_activity_date":1673467199,"creation_date":1672190798,"question_id":74935450,"body_markdown":"I am getting a weird error while executing a mapreduce job in my Hadoop cluster. This error is intermittent. Sometimes, it fails the mapper and sometimes it succeeds even if the error is thrown.\r\n\r\n`2022-12-28 01:20:53,882 ERROR [main] org.apache.hadoop.mapred.YarnChild: Error running child : java.lang.NoSuchMethodError: org/apache/log4j/helpers/OptionConverter.convertLevel(Ljava/lang/String;Lorg/apache/logging/log4j/Level;)Lorg/apache/logging/log4j/Level; (loaded from file:/opt/hadoop-3.3.0/share/hadoop/common/lib/log4j-1.2.17.jar by sun.misc.Launcher$AppClassLoader@350ed555) called from class org.apache.log4j.config.PropertiesConfiguration (loaded from file:/data/hadoop/yarn/usercache/hdfs-user/appcache/application_1671477750397_6197/filecache/10/job.jar/job.jar by sun.misc.Launcher$AppClassLoader@350ed555).`\r\n\r\n\r\n**Gradle File**\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n\tid &quot;com.github.davidmc24.gradle.plugin.avro&quot; version &quot;1.3.0&quot;\r\n}\r\ndependencies {\r\n    compileOnly group: &#39;org.apache.hadoop&#39;, name: &#39;hadoop-client&#39;, version: &#39;3.3.0&#39;\r\n    implementation group: &#39;org.apache.avro&#39;, name: &#39;avro&#39;, version: &#39;1.8.1&#39;\r\n    implementation group: &#39;org.apache.avro&#39;, name: &#39;avro-mapred&#39;, version: &#39;1.10.2&#39;\r\n    implementation group: &#39;io.netty&#39;, name: &#39;netty-buffer&#39;, version: &#39;4.1.51.Final&#39;\r\n    implementation  group: &#39;joda-time&#39;, name: &#39;joda-time&#39;, version:&#39;2.8.1&#39;\r\n\timplementation group: &#39;org.javatuples&#39;, name: &#39;javatuples&#39;, version: &#39;1.2&#39;\r\n\timplementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-yaml&#39;, version: &#39;2.12.4&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &quot;$junit4Version&quot;\r\n    implementation project(&#39;:libraries:java-dcl&#39;)\r\n\timplementation project(&#39;:libraries:sdp&#39;)\r\n\r\n\ttestImplementation group: &#39;org.assertj&#39;, name: &#39;assertj-core&#39;, version: &#39;3.6.1&#39;\r\n}\r\n\r\ngenerateAvroJava {\r\n    source(&quot;${projectDir}/src/main/avro&quot;)//sourcepath avrofile\r\n}\r\n\r\n// The alternative to below is to put all java that is dependent on scala (or on the java dependent on the scala) in the src/main/scala dir\r\n// https://stackoverflow.com/questions/23261075/compiling-scala-before-alongside-java-with-gradle\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src/main/java&#39;]\r\n        }\r\n    }\r\n}\r\n```","title":"OptionConverter.convertLevel Error in Hadoop Mapreduce job","body":"<p>I am getting a weird error while executing a mapreduce job in my Hadoop cluster. This error is intermittent. Sometimes, it fails the mapper and sometimes it succeeds even if the error is thrown.</p>\n<p><code>2022-12-28 01:20:53,882 ERROR [main] org.apache.hadoop.mapred.YarnChild: Error running child : java.lang.NoSuchMethodError: org/apache/log4j/helpers/OptionConverter.convertLevel(Ljava/lang/String;Lorg/apache/logging/log4j/Level;)Lorg/apache/logging/log4j/Level; (loaded from file:/opt/hadoop-3.3.0/share/hadoop/common/lib/log4j-1.2.17.jar by sun.misc.Launcher$AppClassLoader@350ed555) called from class org.apache.log4j.config.PropertiesConfiguration (loaded from file:/data/hadoop/yarn/usercache/hdfs-user/appcache/application_1671477750397_6197/filecache/10/job.jar/job.jar by sun.misc.Launcher$AppClassLoader@350ed555).</code></p>\n<p><strong>Gradle File</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;com.github.davidmc24.gradle.plugin.avro&quot; version &quot;1.3.0&quot;\n}\ndependencies {\n    compileOnly group: 'org.apache.hadoop', name: 'hadoop-client', version: '3.3.0'\n    implementation group: 'org.apache.avro', name: 'avro', version: '1.8.1'\n    implementation group: 'org.apache.avro', name: 'avro-mapred', version: '1.10.2'\n    implementation group: 'io.netty', name: 'netty-buffer', version: '4.1.51.Final'\n    implementation  group: 'joda-time', name: 'joda-time', version:'2.8.1'\n    implementation group: 'org.javatuples', name: 'javatuples', version: '1.2'\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.12.4'\n    testImplementation group: 'junit', name: 'junit', version: &quot;$junit4Version&quot;\n    implementation project(':libraries:java-dcl')\n    implementation project(':libraries:sdp')\n\n    testImplementation group: 'org.assertj', name: 'assertj-core', version: '3.6.1'\n}\n\ngenerateAvroJava {\n    source(&quot;${projectDir}/src/main/avro&quot;)//sourcepath avrofile\n}\n\n// The alternative to below is to put all java that is dependent on scala (or on the java dependent on the scala) in the src/main/scala dir\n// https://stackoverflow.com/questions/23261075/compiling-scala-before-alongside-java-with-gradle\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java']\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","threadpool","comparator","priority-queue"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673217436,"post_id":75051644,"comment_id":132443070,"body_markdown":"&quot;I couldn&#39;t do it&quot; is not a useful statement of your problem.  How did you test it?  What did you observe versus what you expected?  And also, is priority 1 supposed to be the highest priority or the lowest priority?","body":"&quot;I couldn&#39;t do it&quot; is not a useful statement of your problem.  How did you test it?  What did you observe versus what you expected?  And also, is priority 1 supposed to be the highest priority or the lowest priority?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":3,"creation_date":1673219013,"post_id":75051644,"comment_id":132443247,"body_markdown":"The first task will execute as soon as you submit it.  The execution service is not going to wait just in case you subsequently submit something of higher priority.  In any case, queue priority only applies to queued tasks, and tasks will only be queued for any length of time if the execution service has no free threads in its pool.","body":"The first task will execute as soon as you submit it.  The execution service is not going to wait just in case you subsequently submit something of higher priority.  In any case, queue priority only applies to queued tasks, and tasks will only be queued for any length of time if the execution service has no free threads in its pool."}],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673465924,"creation_date":1673465924,"answer_id":75088201,"question_id":75051644,"body_markdown":"If you have an existing list of tasks that you want to submit and ensure that the highest priority task is executed before any others, you have two choices:\r\n\r\n1. Turn off the consumer (i.e. the thing that is removing tasks from the queue) before you start adding tasks, and then turn on the consumer after all the tasks are added.\r\n2. Put all of the tasks into a list and call the [PriorityQueue constructor][1] that takes a collection. Doing so ensures that all of the tasks are in the queue in the proper order before you even create the consumer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html#PriorityQueue(java.util.Collection)","title":"get a PriorityBlockingQueue to be in the right order in java","body":"<p>If you have an existing list of tasks that you want to submit and ensure that the highest priority task is executed before any others, you have two choices:</p>\n<ol>\n<li>Turn off the consumer (i.e. the thing that is removing tasks from the queue) before you start adding tasks, and then turn on the consumer after all the tasks are added.</li>\n<li>Put all of the tasks into a list and call the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html#PriorityQueue(java.util.Collection)\" rel=\"nofollow noreferrer\">PriorityQueue constructor</a> that takes a collection. Doing so ensures that all of the tasks are in the queue in the proper order before you even create the consumer.</li>\n</ol>\n"}],"owner":{"account_id":27425410,"reputation":13,"user_id":20923009,"display_name":"Achiya Ben Natan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673465924,"creation_date":1673216163,"question_id":75051644,"body_markdown":"I have tried to make a custom ThreadPoolExecuter that holds a PriorityBlockingQueue as his queue. I have tried to make the queue to make the PriorityBlockingQueue to order his tasks from the lower priorty to the higher priority and I couldnt do it. I will be happy to get some help.\r\n\r\ncustomExecuter code:\r\n\r\n```\r\npublic  class CustomExecutor extends ThreadPoolExecutor implements Comparator&lt;Task&gt; {\r\n    private int maxPriority = 0;\r\n    private boolean isShutdown = false;\r\n\r\n        public CustomExecutor() {\r\n            super(Runtime.getRuntime().availableProcessors() / 2,\r\n                    Runtime.getRuntime().availableProcessors() -1\r\n                    ,300,TimeUnit.MILLISECONDS,new PriorityBlockingQueue&lt;&gt;());\r\n    }\r\n    private &lt;T&gt; Future&lt;T&gt; submitTask(Task task) {\r\n            if (task.getPriority().getPriorityValue()&gt;maxPriority)\r\n                maxPriority=task.getPriority().getPriorityValue();\r\n        if (isShutdown) {\r\n            System.out.println(&quot;Thread pool has already been shut down. Cannot submit task&quot;);\r\n            return null;\r\n        }\r\n        return super.submit(task);\r\n    }\r\n\r\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable,TaskType priority) {\r\n            Task task=new Task(callable,priority);\r\n        return submitTask(task);\r\n    }\r\n    //OTHER is default because it has the lowest priority(highest number)\r\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable) {\r\n        Task task=new Task(callable,TaskType.OTHER);\r\n        return submitTask(task);\r\n    }\r\n    public int getCurrentMax() {\r\n        return maxPriority;\r\n    }\r\n    public void gracefullyTerminate() {\r\n        isShutdown = true;\r\n        super.shutdown();\r\n    }\r\n\r\n    @Override\r\n    public int compare(Task o1, Task o2) {\r\n        return Integer.compare(o2.getPriority().getPriorityValue(), o1.getPriority().getPriorityValue());\r\n    }\r\n```\r\n\r\nTask code:\r\n\r\n```\r\npublic class Task implements Callable {\r\n        private Callable callable;\r\n        private  TaskType priority;\r\n    public&lt;T&gt; Task(Callable&lt;T&gt; callable, TaskType priority) {\r\n        this.callable = callable;\r\n        this.priority = priority;\r\n    }\r\n    public TaskType getPriority() {\r\n        return priority;\r\n    }\r\n    public static &lt;T&gt; Task createTask(Callable&lt;T&gt; task, TaskType priority)\r\n    {\r\n        Task newTask=new Task(task,priority);\r\n        return newTask;\r\n    }\r\n    @Override\r\n    public Object call() throws Exception {\r\n        return  callable.call();\r\n    }\r\n```\r\n\r\nenum for TaskType for the priority part:\r\n\r\n```\r\npublic enum TaskType {\r\n    COMPUTATIONAL(1){\r\n        @Override\r\n        public String toString(){return &quot;Computational Task&quot;;}\r\n    },\r\n    IO(2){\r\n        @Override\r\n        public String toString(){return &quot;IO-Bound Task&quot;;}\r\n    },\r\n    OTHER(3){\r\n        @Override\r\n        public String toString(){return &quot;Unknown Task&quot;;}\r\n    };\r\n    private int typePriority;\r\n    private TaskType(int priority){\r\n        if (validatePriority(priority)) typePriority = priority;\r\n        else\r\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\r\n    }\r\n    public void setPriority(int priority){\r\n        if(validatePriority(priority)) this.typePriority = priority;\r\n        else\r\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\r\n    }\r\n    public int getPriorityValue(){\r\n        return typePriority;\r\n    }\r\n    public TaskType getType(){\r\n        return this;\r\n    }\r\n    /**\r\n     * priority is represented by an integer value, ranging from 1 to 10\r\n     * @param priority\r\n     * @return whether the priority is valid or not\r\n     */\r\n    private static boolean validatePriority(int priority){\r\n        if (priority &lt; 1 || priority &gt;10) return false;\r\n        return true;\r\n    }\r\n```\r\n\r\nI have tried to test my code and I debugged it and which ever task that is submitted first is executed first. I noticed that the priority queue size is always 0. maybe I need to add that tasks to the queue in other way then submit?  \r\nhere is my test:\r\n```\r\n public static final Logger logger = LoggerFactory.getLogger(Tests.class);\r\n\r\n    @Test\r\n    public void Test1() {\r\n        CustomExecutor customExecutor = new CustomExecutor();\r\n        Callable&lt;Double&gt; callable1 = () -&gt; {\r\n            return 1000 * Math.pow(1.02, 5);\r\n        };\r\n        Callable&lt;String&gt; callable2 = () -&gt; {\r\n            StringBuilder sb = new StringBuilder(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;);\r\n            System.out.println(sb);\r\n            return sb.reverse().toString();\r\n        };\r\n        Future&lt;String&gt; reverseTask = customExecutor.submit(callable2, TaskType.IO);\r\n        Future&lt;Double&gt; priceTask = customExecutor.submit(() -&gt; {\r\n            return 1000 * Math.pow(1.02, 5);\r\n        }, TaskType.COMPUTATIONAL);\r\n        Task task = Task.createTask(() -&gt; {\r\n            int sum = 0;\r\n            for (int i = 1; i &lt;= 10; i++) {\r\n                sum += i;\r\n            }\r\n            System.out.println(sum);\r\n            return sum;\r\n        }, TaskType.COMPUTATIONAL);\r\n        Future sumTask = customExecutor.submit(task);\r\n        final int sum;\r\n        try {\r\n            sum = (int)sumTask.get(1, TimeUnit.MILLISECONDS);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        logger.info(() -&gt; &quot;Sum of 1 through 10 = &quot; + sum);\r\n\r\n        final Double totalPrice;\r\n        final String reversed;\r\n        try {\r\n            totalPrice = priceTask.get();\r\n            reversed =  reverseTask.get();\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        logger.info(() -&gt; &quot;Reversed String = &quot; + reversed);\r\n        logger.info(() -&gt; String.valueOf(&quot;Total Price = &quot; + totalPrice));\r\n        logger.info(() -&gt; &quot;Current maximum priority = &quot; + customExecutor.getCurrentMax());\r\n        customExecutor.gracefullyTerminate();\r\n    }\r\n```\r\n```\r\nthe terminal looks like this:\r\nABCDEFGHIJKLMNOPQRSTUVWXYZ\r\n55\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Sum of 1 through 10 = 55\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Reversed String = ZYXWVUTSRQPONMLKJIHGFEDCBA\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Total Price = 1104.0808032\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Current maximum priority = 3\r\n```\r\nwhich is wrong because the task with priority 2 is executed first insted of the class with priority 1.\r\n\r\n","title":"get a PriorityBlockingQueue to be in the right order in java","body":"<p>I have tried to make a custom ThreadPoolExecuter that holds a PriorityBlockingQueue as his queue. I have tried to make the queue to make the PriorityBlockingQueue to order his tasks from the lower priorty to the higher priority and I couldnt do it. I will be happy to get some help.</p>\n<p>customExecuter code:</p>\n<pre><code>public  class CustomExecutor extends ThreadPoolExecutor implements Comparator&lt;Task&gt; {\n    private int maxPriority = 0;\n    private boolean isShutdown = false;\n\n        public CustomExecutor() {\n            super(Runtime.getRuntime().availableProcessors() / 2,\n                    Runtime.getRuntime().availableProcessors() -1\n                    ,300,TimeUnit.MILLISECONDS,new PriorityBlockingQueue&lt;&gt;());\n    }\n    private &lt;T&gt; Future&lt;T&gt; submitTask(Task task) {\n            if (task.getPriority().getPriorityValue()&gt;maxPriority)\n                maxPriority=task.getPriority().getPriorityValue();\n        if (isShutdown) {\n            System.out.println(&quot;Thread pool has already been shut down. Cannot submit task&quot;);\n            return null;\n        }\n        return super.submit(task);\n    }\n\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable,TaskType priority) {\n            Task task=new Task(callable,priority);\n        return submitTask(task);\n    }\n    //OTHER is default because it has the lowest priority(highest number)\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable) {\n        Task task=new Task(callable,TaskType.OTHER);\n        return submitTask(task);\n    }\n    public int getCurrentMax() {\n        return maxPriority;\n    }\n    public void gracefullyTerminate() {\n        isShutdown = true;\n        super.shutdown();\n    }\n\n    @Override\n    public int compare(Task o1, Task o2) {\n        return Integer.compare(o2.getPriority().getPriorityValue(), o1.getPriority().getPriorityValue());\n    }\n</code></pre>\n<p>Task code:</p>\n<pre><code>public class Task implements Callable {\n        private Callable callable;\n        private  TaskType priority;\n    public&lt;T&gt; Task(Callable&lt;T&gt; callable, TaskType priority) {\n        this.callable = callable;\n        this.priority = priority;\n    }\n    public TaskType getPriority() {\n        return priority;\n    }\n    public static &lt;T&gt; Task createTask(Callable&lt;T&gt; task, TaskType priority)\n    {\n        Task newTask=new Task(task,priority);\n        return newTask;\n    }\n    @Override\n    public Object call() throws Exception {\n        return  callable.call();\n    }\n</code></pre>\n<p>enum for TaskType for the priority part:</p>\n<pre><code>public enum TaskType {\n    COMPUTATIONAL(1){\n        @Override\n        public String toString(){return &quot;Computational Task&quot;;}\n    },\n    IO(2){\n        @Override\n        public String toString(){return &quot;IO-Bound Task&quot;;}\n    },\n    OTHER(3){\n        @Override\n        public String toString(){return &quot;Unknown Task&quot;;}\n    };\n    private int typePriority;\n    private TaskType(int priority){\n        if (validatePriority(priority)) typePriority = priority;\n        else\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\n    }\n    public void setPriority(int priority){\n        if(validatePriority(priority)) this.typePriority = priority;\n        else\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\n    }\n    public int getPriorityValue(){\n        return typePriority;\n    }\n    public TaskType getType(){\n        return this;\n    }\n    /**\n     * priority is represented by an integer value, ranging from 1 to 10\n     * @param priority\n     * @return whether the priority is valid or not\n     */\n    private static boolean validatePriority(int priority){\n        if (priority &lt; 1 || priority &gt;10) return false;\n        return true;\n    }\n</code></pre>\n<p>I have tried to test my code and I debugged it and which ever task that is submitted first is executed first. I noticed that the priority queue size is always 0. maybe I need to add that tasks to the queue in other way then submit?<br />\nhere is my test:</p>\n<pre><code> public static final Logger logger = LoggerFactory.getLogger(Tests.class);\n\n    @Test\n    public void Test1() {\n        CustomExecutor customExecutor = new CustomExecutor();\n        Callable&lt;Double&gt; callable1 = () -&gt; {\n            return 1000 * Math.pow(1.02, 5);\n        };\n        Callable&lt;String&gt; callable2 = () -&gt; {\n            StringBuilder sb = new StringBuilder(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;);\n            System.out.println(sb);\n            return sb.reverse().toString();\n        };\n        Future&lt;String&gt; reverseTask = customExecutor.submit(callable2, TaskType.IO);\n        Future&lt;Double&gt; priceTask = customExecutor.submit(() -&gt; {\n            return 1000 * Math.pow(1.02, 5);\n        }, TaskType.COMPUTATIONAL);\n        Task task = Task.createTask(() -&gt; {\n            int sum = 0;\n            for (int i = 1; i &lt;= 10; i++) {\n                sum += i;\n            }\n            System.out.println(sum);\n            return sum;\n        }, TaskType.COMPUTATIONAL);\n        Future sumTask = customExecutor.submit(task);\n        final int sum;\n        try {\n            sum = (int)sumTask.get(1, TimeUnit.MILLISECONDS);\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\n            throw new RuntimeException(e);\n        }\n        logger.info(() -&gt; &quot;Sum of 1 through 10 = &quot; + sum);\n\n        final Double totalPrice;\n        final String reversed;\n        try {\n            totalPrice = priceTask.get();\n            reversed =  reverseTask.get();\n        } catch (InterruptedException | ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n        logger.info(() -&gt; &quot;Reversed String = &quot; + reversed);\n        logger.info(() -&gt; String.valueOf(&quot;Total Price = &quot; + totalPrice));\n        logger.info(() -&gt; &quot;Current maximum priority = &quot; + customExecutor.getCurrentMax());\n        customExecutor.gracefullyTerminate();\n    }\n</code></pre>\n<pre><code>the terminal looks like this:\nABCDEFGHIJKLMNOPQRSTUVWXYZ\n55\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Sum of 1 through 10 = 55\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Reversed String = ZYXWVUTSRQPONMLKJIHGFEDCBA\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Total Price = 1104.0808032\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Current maximum priority = 3\n</code></pre>\n<p>which is wrong because the task with priority 2 is executed first insted of the class with priority 1.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1405682517,"post_id":24823336,"comment_id":38537385,"body_markdown":"For better help sooner, post an [MCVE](http://stackoverflow.com/help/mcve) (Minimal, Complete, Verifiable Example).","body":"For better help sooner, post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> (Minimal, Complete, Verifiable Example)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1405683480,"post_id":24823336,"comment_id":38537966,"body_markdown":"`jf.pack();` before `setVisible`. To do layout calculations.","body":"<code>jf.pack();</code> before <code>setVisible</code>. To do layout calculations."},{"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"score":0,"creation_date":1405692672,"post_id":24823336,"comment_id":38543664,"body_markdown":"@AndrewThompson thank you, I shall do that.","body":"@AndrewThompson thank you, I shall do that."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405700928,"post_id":24823336,"comment_id":38548860,"body_markdown":"If the cited duplicate isn&#39;t sufficient, please edit your question to include an [mcve](http://stackoverflow.com/help/mcve) that shows your revised approach, as @AndrewThompson suggests","body":"If the cited duplicate isn&#39;t sufficient, please edit your question to include an <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> that shows your revised approach, as @AndrewThompson suggests"},{"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"score":0,"creation_date":1405711310,"post_id":24823336,"comment_id":38553829,"body_markdown":"@trashgod I have added an MCVE now.","body":"@trashgod I have added an MCVE now."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405714428,"post_id":24823336,"comment_id":38555273,"body_markdown":"@user1507316: I&#39;ve elaborated below.","body":"@user1507316: I&#39;ve elaborated below."},{"owner":{"account_id":3143987,"reputation":2264,"user_id":2658854,"display_name":"sgbj"},"score":0,"creation_date":1405714475,"post_id":24823336,"comment_id":38555294,"body_markdown":"You should call `super.paintComponent(g);` as the first line in your `paintComponent` method.","body":"You should call <code>super.paintComponent(g);</code> as the first line in your <code>paintComponent</code> method."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405716704,"post_id":24823336,"comment_id":38556263,"body_markdown":"@sbat: Good catch; updated; it&#39;s not _required_ in this case, but a good habit; more [here](http://www.oracle.com/technetwork/java/painting-140037.html).","body":"@sbat: Good catch; updated; it&#39;s not <i>required</i> in this case, but a good habit; more <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":3143987,"reputation":2264,"user_id":2658854,"display_name":"sgbj"},"score":0,"creation_date":1405717307,"post_id":24823336,"comment_id":38556523,"body_markdown":"@trashgod If you increase the preferred size of the panel to, let&#39;s say 600 by 600, and remove the call to `super.paintComponent(g);` in your code, it exhibits the same behavior that the OP is experiencing. Adding `super.paintComponent(g);` _is_ the correct answer. See this [screenshot](http://s15.postimg.org/u9y7j75wr/Untitled.png).","body":"@trashgod If you increase the preferred size of the panel to, let&#39;s say 600 by 600, and remove the call to <code>super.paintComponent(g);</code> in your code, it exhibits the same behavior that the OP is experiencing. Adding <code>super.paintComponent(g);</code> <i>is</i> the correct answer. See this <a href=\"http://s15.postimg.org/u9y7j75wr/Untitled.png\" rel=\"nofollow noreferrer\">screenshot</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405718415,"post_id":24823336,"comment_id":38556959,"body_markdown":"@sbat: Thank you for looking at this; sadly, I can&#39;t reproduce the effect on Mac OS X; the corresponding UI delegate on Windows may not be opaque by default.","body":"@sbat: Thank you for looking at this; sadly, I can&#39;t reproduce the effect on Mac OS X; the corresponding UI delegate on Windows may not be opaque by default."}],"answers":[{"comments":[{"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"score":0,"creation_date":1405770905,"post_id":24833041,"comment_id":38567831,"body_markdown":"Thank you so much. I was not aware of the mechanics of pack() and getPreferedSize till now.","body":"Thank you so much. I was not aware of the mechanics of pack() and getPreferedSize till now."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405716566,"creation_date":1405714312,"answer_id":24833041,"question_id":24823336,"body_markdown":"As outlined [here][1], you need to `pack()` the frame before calling `setVisible()`. You can override [`getPreferredSize()`][2] to specify a suitable initial `Dimension`. Also consider using a `Border`. See also [*Initial Threads*][3].\r\n\r\n![image][4]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import java.awt.image.*;\r\n\r\n    public class PinTestMCVE extends JPanel implements ActionListener{\r\n\r\n        private static final int SIZE = 200;\r\n        BufferedImage loadedImage;\r\n        JButton calcButton;\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    new PinTestMCVE();\r\n                }\r\n            });\r\n        }\r\n\r\n        public PinTestMCVE() {\r\n            loadedImage = getTestImage();\r\n            JPanel toolbarPanel = new JPanel();\r\n            calcButton = new JButton(&quot;calcButton...&quot;);\r\n            toolbarPanel.add(calcButton);\r\n            calcButton.addActionListener(this);\r\n\r\n            JFrame jf = new JFrame();\r\n            jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            jf.add(toolbarPanel, BorderLayout.NORTH);\r\n            jf.add(this, BorderLayout.CENTER);\r\n            jf.pack();\r\n            jf.setLocationRelativeTo(null);\r\n            jf.setVisible(true);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(SIZE, SIZE);\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawImage(loadedImage, 0, 0, this);\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(&quot;ActionEvent &quot; + e.getActionCommand());\r\n            if(e.getSource().equals(calcButton)){\r\n                this.repaint();\r\n            }\r\n        }\r\n\r\n\r\n        //Please ignore the inner workings of this\r\n        public static BufferedImage getTestImage(){\r\n            BufferedImage image = new BufferedImage(SIZE, SIZE, BufferedImage.TYPE_INT_RGB);\r\n            Graphics2D g2d = image.createGraphics();\r\n            g2d.setPaint(Color.GRAY);\r\n            g2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2d.setPaint(Color.gray);\r\n            GradientPaint redtowhite = new GradientPaint(5, 5, Color.red, SIZE, 5, Color.blue);\r\n            g2d.setPaint(redtowhite);\r\n            g2d.fill(new RoundRectangle2D.Double(5, 5, SIZE - 10, SIZE - 10, 10, 10));\r\n            return image;\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/13411868/230513\r\n  [2]: https://stackoverflow.com/q/7229226/230513\r\n  [3]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [4]: http://i.stack.imgur.com/BlIBK.png","title":"Java window doesn&#39;t repaint properly until I resize the window manually","body":"<p>As outlined <a href=\"https://stackoverflow.com/a/13411868/230513\">here</a>, you need to <code>pack()</code> the frame before calling <code>setVisible()</code>. You can override <a href=\"https://stackoverflow.com/q/7229226/230513\"><code>getPreferredSize()</code></a> to specify a suitable initial <code>Dimension</code>. Also consider using a <code>Border</code>. See also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><em>Initial Threads</em></a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BlIBK.png\" alt=\"image\"></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.geom.RoundRectangle2D;\nimport java.awt.image.*;\n\npublic class PinTestMCVE extends JPanel implements ActionListener{\n\n    private static final int SIZE = 200;\n    BufferedImage loadedImage;\n    JButton calcButton;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new PinTestMCVE();\n            }\n        });\n    }\n\n    public PinTestMCVE() {\n        loadedImage = getTestImage();\n        JPanel toolbarPanel = new JPanel();\n        calcButton = new JButton(\"calcButton...\");\n        toolbarPanel.add(calcButton);\n        calcButton.addActionListener(this);\n\n        JFrame jf = new JFrame();\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.add(toolbarPanel, BorderLayout.NORTH);\n        jf.add(this, BorderLayout.CENTER);\n        jf.pack();\n        jf.setLocationRelativeTo(null);\n        jf.setVisible(true);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(SIZE, SIZE);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(loadedImage, 0, 0, this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(\"ActionEvent \" + e.getActionCommand());\n        if(e.getSource().equals(calcButton)){\n            this.repaint();\n        }\n    }\n\n\n    //Please ignore the inner workings of this\n    public static BufferedImage getTestImage(){\n        BufferedImage image = new BufferedImage(SIZE, SIZE, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2d = image.createGraphics();\n        g2d.setPaint(Color.GRAY);\n        g2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setPaint(Color.gray);\n        GradientPaint redtowhite = new GradientPaint(5, 5, Color.red, SIZE, 5, Color.blue);\n        g2d.setPaint(redtowhite);\n        g2d.fill(new RoundRectangle2D.Double(5, 5, SIZE - 10, SIZE - 10, 10, 10));\n        return image;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2082,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673465863,"creation_date":1405680814,"question_id":24823336,"body_markdown":"I am using a quite basic setup with a class extending `JPanel`, which I add to a `JFrame`. \r\n\r\n    import java.awt.*;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import java.awt.image.*;\r\n    import java.io.*;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class PinTestMCVE extends JPanel implements ActionListener{\r\n    \r\n    \tBufferedImage loadedImage;\r\n    \tJButton calcButton;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PinTestMCVE();\r\n    \t}\r\n    \t\r\n    \tpublic PinTestMCVE() {\r\n    \t\tloadedImage = getTestImage();\r\n    \t\t\r\n    \t\tJPanel toolbarPanel = new JPanel();\r\n    \t\tcalcButton = new JButton(&quot;calcButton...&quot;);\r\n    \t\ttoolbarPanel.add(calcButton);\r\n    \t\tcalcButton.addActionListener(this);\r\n    \t\t\r\n    \t\tJFrame jf = new JFrame();\r\n    \t\tjf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tjf.getContentPane().setLayout(new BorderLayout()); \r\n    \t\tjf.getContentPane().add(toolbarPanel, BorderLayout.NORTH);\r\n    \t\tjf.getContentPane().add(this, BorderLayout.CENTER);\r\n    \t\tjf.setSize(1250, 950);\r\n    \t\tjf.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tg.drawImage(loadedImage, 0, 0, this);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tSystem.out.println(&quot;ActionEvent &quot; + e.getActionCommand());\r\n    \t\tif(e.getSource().equals(calcButton)){\r\n    \t\t\tthis.repaint();\r\n    \t\t}\r\n    \t}\r\n\r\n\t\r\n    //Please ignore the inner workings of this\r\n    public static BufferedImage getTestImage(){\r\n    \tBufferedImage image = new BufferedImage(500, 500, BufferedImage.TYPE_INT_RGB);\r\n    \tGraphics2D g2d = image.createGraphics();\r\n    \tg2d.setPaint(Color.GRAY);\r\n    \tg2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\r\n    \tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \tg2d.setPaint(Color.gray);\r\n    \tint x = 5;\r\n    \tint y = 7;\r\n    \tGradientPaint redtowhite = new GradientPaint(x, y, Color.red, 200, y, Color.blue);\r\n    \tg2d.setPaint(redtowhite);\r\n    \tg2d.fill(new RoundRectangle2D.Double(x, y, 200, 200, 10, 10));\r\n    \treturn image;\r\n    }\r\n    }\r\n\r\nWhat happens is that INITIALLY the window is painted properly, but once `paintComponent` is called, a strip of the old image (with the same height as the toolbar panel) is visible below the newly painted images - similar to playing card sticking out from a deck. But then, if I manually resize the window by for instance dragging the border, the background is grayed out as it should.\r\n\r\nWhat is going on and how do I fix this?","title":"Java window doesn&#39;t repaint properly until I resize the window manually","body":"<p>I am using a quite basic setup with a class extending <code>JPanel</code>, which I add to a <code>JFrame</code>. </p>\n\n<pre><code>import java.awt.*;\n\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport java.awt.event.*;\nimport java.awt.geom.RoundRectangle2D;\nimport java.awt.image.*;\nimport java.io.*;\nimport javax.imageio.ImageIO;\n\npublic class PinTestMCVE extends JPanel implements ActionListener{\n\n    BufferedImage loadedImage;\n    JButton calcButton;\n\n    public static void main(String[] args) {\n        new PinTestMCVE();\n    }\n\n    public PinTestMCVE() {\n        loadedImage = getTestImage();\n\n        JPanel toolbarPanel = new JPanel();\n        calcButton = new JButton(\"calcButton...\");\n        toolbarPanel.add(calcButton);\n        calcButton.addActionListener(this);\n\n        JFrame jf = new JFrame();\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.getContentPane().setLayout(new BorderLayout()); \n        jf.getContentPane().add(toolbarPanel, BorderLayout.NORTH);\n        jf.getContentPane().add(this, BorderLayout.CENTER);\n        jf.setSize(1250, 950);\n        jf.setVisible(true);\n    }\n\n    public void paintComponent(Graphics g) {\n        g.drawImage(loadedImage, 0, 0, this);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(\"ActionEvent \" + e.getActionCommand());\n        if(e.getSource().equals(calcButton)){\n            this.repaint();\n        }\n    }\n\n\n//Please ignore the inner workings of this\npublic static BufferedImage getTestImage(){\n    BufferedImage image = new BufferedImage(500, 500, BufferedImage.TYPE_INT_RGB);\n    Graphics2D g2d = image.createGraphics();\n    g2d.setPaint(Color.GRAY);\n    g2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\n    g2d.setPaint(Color.gray);\n    int x = 5;\n    int y = 7;\n    GradientPaint redtowhite = new GradientPaint(x, y, Color.red, 200, y, Color.blue);\n    g2d.setPaint(redtowhite);\n    g2d.fill(new RoundRectangle2D.Double(x, y, 200, 200, 10, 10));\n    return image;\n}\n}\n</code></pre>\n\n<p>What happens is that INITIALLY the window is painted properly, but once <code>paintComponent</code> is called, a strip of the old image (with the same height as the toolbar panel) is visible below the newly painted images - similar to playing card sticking out from a deck. But then, if I manually resize the window by for instance dragging the border, the background is grayed out as it should.</p>\n\n<p>What is going on and how do I fix this?</p>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673465850,"creation_date":1673465850,"answer_id":75088183,"question_id":75086982,"body_markdown":"In a properties file you have lines of the shape &#39;key=value&#39;.\r\nIn your case you need something like\r\n\r\n    xxxxxx.xxxxxxx.xxxxxx.minSize=0\r\n\r\nwhere I am not sure what the `xxxxxx.xxxxxxx.xxxxxx` has to be replaced for.","title":"Example of How to Enter minSize=0 in a Log4J2 Properties File","body":"<p>In a properties file you have lines of the shape 'key=value'.\nIn your case you need something like</p>\n<pre><code>xxxxxx.xxxxxxx.xxxxxx.minSize=0\n</code></pre>\n<p>where I am not sure what the <code>xxxxxx.xxxxxxx.xxxxxx</code> has to be replaced for.</p>\n"}],"owner":{"account_id":2636141,"reputation":315,"user_id":2280760,"accept_rate":62,"display_name":"Configueroa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673465850,"creation_date":1673458653,"question_id":75086982,"body_markdown":"I see the syntax for entering this in a XML property file for Log4J2 -- &quot;OnStartupTriggeringPolicy&quot;: {&quot;minSize&quot;:&quot;0&quot;}\r\n\r\nHow would you enter this in a properties file?","title":"Example of How to Enter minSize=0 in a Log4J2 Properties File","body":"<p>I see the syntax for entering this in a XML property file for Log4J2 -- &quot;OnStartupTriggeringPolicy&quot;: {&quot;minSize&quot;:&quot;0&quot;}</p>\n<p>How would you enter this in a properties file?</p>\n"},{"tags":["java","soap","cloud","integration"],"answers":[{"comments":[{"owner":{"account_id":164535,"reputation":459,"user_id":2835086,"accept_rate":80,"display_name":"gws"},"score":0,"creation_date":1673465776,"post_id":75088164,"comment_id":132507849,"body_markdown":"// TODO find out why it fails","body":"// TODO find out why it fails"}],"tags":[],"owner":{"account_id":164535,"reputation":459,"user_id":2835086,"accept_rate":80,"display_name":"gws"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673465723,"creation_date":1673465723,"answer_id":75088164,"question_id":36734837,"body_markdown":"According to Oracle&#39;s KB, the OSB service is [failing to establish a connection](https://support.oracle.com/knowledge/Middleware/2389472_1.html) to a downstream resource.","title":"Oracle Integration Cloud runtime error OSB-380000","body":"<p>According to Oracle's KB, the OSB service is <a href=\"https://support.oracle.com/knowledge/Middleware/2389472_1.html\" rel=\"nofollow noreferrer\">failing to establish a connection</a> to a downstream resource.</p>\n"}],"owner":{"account_id":6958103,"reputation":400,"user_id":5338514,"display_name":"shashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5636,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673465723,"creation_date":1461131278,"question_id":36734837,"body_markdown":"While executing the integration in **SOAPUI**, the following error is shown in the response..  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MPDdv.jpg\r\n\r\nWhat is this erroe code &quot;**OSB-380000**&quot; and how to solve this?c","title":"Oracle Integration Cloud runtime error OSB-380000","body":"<p>While executing the integration in <strong>SOAPUI</strong>, the following error is shown in the response..  </p>\n\n<p><a href=\"https://i.stack.imgur.com/MPDdv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MPDdv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>What is this erroe code \"<strong>OSB-380000</strong>\" and how to solve this?c</p>\n"},{"tags":["java","windows","file","ioexception"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673460787,"post_id":75087362,"comment_id":132506426,"body_markdown":"This is a compile time error. Methods can throw Exceptions, you need to add code for the case that happens, likely a try/catch is what you want.","body":"This is a compile time error. Methods can throw Exceptions, you need to add code for the case that happens, likely a try/catch is what you want."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673461520,"post_id":75087362,"comment_id":132506661,"body_markdown":"Give yourself a break - use single forward slashes. They&#39;ll work perfectly well although you shouldn&#39;t be mixing data directories into your dev tree","body":"Give yourself a break - use single forward slashes. They&#39;ll work perfectly well although you shouldn&#39;t be mixing data directories into your dev tree"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1673465956,"post_id":75087362,"comment_id":132507912,"body_markdown":"Not a perfect match, but please see https://stackoverflow.com/a/2190659/1531124 ... when you have a *checked* exception (like IOException) in the signature of a method that you are calling, then your code has to handle it. This is really basic stuff, and the reasonable way here: pick up a good book about Java. This place isnt a replacement for you doing that LEARNING part.","body":"Not a perfect match, but please see <a href=\"https://stackoverflow.com/a/2190659/1531124\">stackoverflow.com/a/2190659/1531124</a> ... when you have a <i>checked</i> exception (like IOException) in the signature of a method that you are calling, then your code has to handle it. This is really basic stuff, and the reasonable way here: pick up a good book about Java. This place isnt a replacement for you doing that LEARNING part."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673465600,"creation_date":1673465600,"answer_id":75088143,"question_id":75087362,"body_markdown":"Get used to the fact that computer programs may face problems at runtime.\r\nThat means that not everything will be going as smooth as a developer might believe in.\r\n\r\nExceptions are a way to report errors. Preventing them would mean making sure that no exception will ever occur. Good, that is the perfect case a developer might have dreamt of. Reality is different.\r\n\r\nSo the compiler just warns you (the developer) that you have not designed your code for the fact that something might have gone wrong. The magic is not to prevent an exception but to define what should happen in case one occurs.\r\n\r\nOne way to deal with (and done by many beginners) is to just catch the exception and forget about it. A much better way is to mark your method that it might throw an exception. If you do this it would mean your application terminates on any error. But the user would be aware of it. And as developer you could learn when to come up with better strategies.\r\n\r\nSo change lines that look like this:\r\n\r\n    public static void main(String[] args) {\r\n\r\ninto that:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\nuntil you know better.","title":"How to Prevent IOException with the File Class","body":"<p>Get used to the fact that computer programs may face problems at runtime.\nThat means that not everything will be going as smooth as a developer might believe in.</p>\n<p>Exceptions are a way to report errors. Preventing them would mean making sure that no exception will ever occur. Good, that is the perfect case a developer might have dreamt of. Reality is different.</p>\n<p>So the compiler just warns you (the developer) that you have not designed your code for the fact that something might have gone wrong. The magic is not to prevent an exception but to define what should happen in case one occurs.</p>\n<p>One way to deal with (and done by many beginners) is to just catch the exception and forget about it. A much better way is to mark your method that it might throw an exception. If you do this it would mean your application terminates on any error. But the user would be aware of it. And as developer you could learn when to come up with better strategies.</p>\n<p>So change lines that look like this:</p>\n<pre><code>public static void main(String[] args) {\n</code></pre>\n<p>into that:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n</code></pre>\n<p>until you know better.</p>\n"}],"owner":{"account_id":22017263,"reputation":21,"user_id":16286563,"display_name":"Dominic Dunn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1673465866,"answer_count":1,"score":0,"last_activity_date":1673465600,"creation_date":1673460634,"question_id":75087362,"body_markdown":"I&#39;ve been trying to get an image to be saved as a BufferedImage in my program, but every time I try to set the file pathname it always results in an IOException error.\r\n\r\n\r\n```\r\nFile grass = new File(&quot;C:\\\\\\\\Users\\\\user\\\\eclipse-workspace\\\\minecraft\\\\textures\\\\GRASS.png&quot;);\r\n    \r\n    private final BufferedImage grassTexture = ImageIO.read(grass);\r\n\r\n    private final BufferedImage dirtTexture = ImageIO.read(new File(&quot;C:\\\\\\\\Users\\\\\\\\user\\\\\\\\eclipse-workspace\\\\\\\\minecraft\\\\\\\\textures\\\\\\\\DIRT.png&quot;));\r\n```\r\nAs you can see I tried a couple of different patterns of backslashes. ^\r\n\r\nI use Eclipse for my IDE and it gave me this:\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\tUnhandled exception type IOException\r\n\r\n\tat minecraft.MinecraftGame.&lt;init&gt;(MinecraftGame.java:28)\r\n\tat minecraft.MinecraftGame.main(MinecraftGame.java:151)\r\n\r\nHow can I prevent this error from occurring?","title":"How to Prevent IOException with the File Class","body":"<p>I've been trying to get an image to be saved as a BufferedImage in my program, but every time I try to set the file pathname it always results in an IOException error.</p>\n<pre><code>File grass = new File(&quot;C:\\\\\\\\Users\\\\user\\\\eclipse-workspace\\\\minecraft\\\\textures\\\\GRASS.png&quot;);\n    \n    private final BufferedImage grassTexture = ImageIO.read(grass);\n\n    private final BufferedImage dirtTexture = ImageIO.read(new File(&quot;C:\\\\\\\\Users\\\\\\\\user\\\\\\\\eclipse-workspace\\\\\\\\minecraft\\\\\\\\textures\\\\\\\\DIRT.png&quot;));\n</code></pre>\n<p>As you can see I tried a couple of different patterns of backslashes. ^</p>\n<p>I use Eclipse for my IDE and it gave me this:</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\nUnhandled exception type IOException\nUnhandled exception type IOException\nUnhandled exception type IOException\nUnhandled exception type IOException\nUnhandled exception type IOException\nUnhandled exception type IOException\nUnhandled exception type IOException\nUnhandled exception type IOException</p>\n<pre><code>at minecraft.MinecraftGame.&lt;init&gt;(MinecraftGame.java:28)\nat minecraft.MinecraftGame.main(MinecraftGame.java:151)\n</code></pre>\n<p>How can I prevent this error from occurring?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673470903,"post_id":75087698,"comment_id":132509476,"body_markdown":"Don&#39;t modify the state of your component from within a `paint` method - `paint` should paint the current state, it should never modify it - this could cause a never ending loop of paint passes which could starve your system of resources","body":"Don&#39;t modify the state of your component from within a <code>paint</code> method - <code>paint</code> should paint the current state, it should never modify it - this could cause a never ending loop of paint passes which could starve your system of resources"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673470970,"post_id":75087698,"comment_id":132509485,"body_markdown":"*&quot;BufferedImage but it would&#39;ve generate other problems down the line like not being able to use MouseListener&quot;* - In this case, you&#39;d need to know where the images are on the component, then you could use a `MouseListener` to check if the `MouseEvent` occurred within the bounding area of the image - this is basic collision detection workflows - not difficult","body":"<i>&quot;BufferedImage but it would&#39;ve generate other problems down the line like not being able to use MouseListener&quot;</i> - In this case, you&#39;d need to know where the images are on the component, then you could use a <code>MouseListener</code> to check if the <code>MouseEvent</code> occurred within the bounding area of the image - this is basic collision detection workflows - not difficult"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673471079,"post_id":75087698,"comment_id":132509529,"body_markdown":"I think you should also have a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) to get a better understanding of how painting works and how you should use it.  If you need to update the UI on a regular bases you should also have a look at [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"I think you should also have a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> to get a better understanding of how painting works and how you should use it.  If you need to update the UI on a regular bases you should also have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673465066,"creation_date":1673465066,"answer_id":75088067,"question_id":75087698,"body_markdown":"It looks like you are adding FigureSprites from within the drawComponent() method. The more often you draw the window, the more figures you have to draw.\r\n\r\nInstead within drawComponent() just draw the current state but do not modify it. Adding figures has to come from somewhere else. For example, you could create the necessary pawns in the constructor. Or in extra methods that might get triggered based on user input.\r\n\r\nIn case you modify the GamePanel&#39;s state enough so that it should get painted freshly, just invoke repaint(). Swing will mark this component for repainting and decide on it&#39;s own when to run the paint() method, which in turn will run paintComponent().","title":"Swing draws 3 JLabels instead of one","body":"<p>It looks like you are adding FigureSprites from within the drawComponent() method. The more often you draw the window, the more figures you have to draw.</p>\n<p>Instead within drawComponent() just draw the current state but do not modify it. Adding figures has to come from somewhere else. For example, you could create the necessary pawns in the constructor. Or in extra methods that might get triggered based on user input.</p>\n<p>In case you modify the GamePanel's state enough so that it should get painted freshly, just invoke repaint(). Swing will mark this component for repainting and decide on it's own when to run the paint() method, which in turn will run paintComponent().</p>\n"}],"owner":{"account_id":27501852,"reputation":1,"user_id":20985383,"display_name":"JIgnat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673465066,"creation_date":1673462692,"question_id":75087698,"body_markdown":"I don&#39;t really understand why this program draws three pawns instead of one and two of which seem to have a random(probably not so random) positions. [enter image description here](https://i.stack.imgur.com/Xe1CD.png)\r\n\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\n\r\npublic class GamePanel extends JPanel implements MouseListener {\r\n\r\n    static final int SCREEN_EDGE = 800;\r\n    static final int GAME_UNITS = 64;\r\n    static final int UNIT_SIZE = 100;\r\n    final int[] x = new int[GAME_UNITS];\r\n    final int[] y = new int[GAME_UNITS];\r\n    boolean running = false;\r\n\r\n    public GamePanel() {\r\n        this.setPreferredSize(new Dimension(SCREEN_EDGE, SCREEN_EDGE));\r\n        this.setFocusable(true);\r\n        this.addKeyListener(new MyKeyAdapter());\r\n        startGame();\r\n        int[] position = {0,0};\r\n        int[] position1 = {1, 0};\r\n        new Pawn(position,-1);\r\n    }\r\n\r\n    private void startGame() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        draw(g);\r\n    }\r\n\r\n    public void draw(Graphics g){\r\n        int counter = 1;\r\n\r\n        for (int y = 0; y &lt; SCREEN_EDGE/UNIT_SIZE; y++) {\r\n\r\n            // 1 == &quot;white&quot;   2 == &quot;black&quot;\r\n            int color = (y % 2 == 0) ? 1 : 2;\r\n\r\n            for (int x = 0; x &lt; SCREEN_EDGE/UNIT_SIZE; x++) {\r\n                g.setColor(color == 1 ? new Color(239,217, 181) : new Color(180, 136,98));\r\n                g.fillRect(x*UNIT_SIZE, y*UNIT_SIZE, UNIT_SIZE, UNIT_SIZE);\r\n                color = color == 1 ? 2 : 1;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; Figure.figures.length; i++) {\r\n\r\n            JLabel figureSprite = new JLabel(Figure.figures[i].image, JLabel.CENTER);\r\n            figureSprite.setSize(90,90);\r\n            figureSprite.setLocation(Figure.figures[i].position[0] + 5,Figure.figures[i].position[1] + 5);\r\n            this.add(figureSprite);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent e) {\r\n\r\n    }\r\n\r\n    public class MyKeyAdapter extends KeyAdapter {\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport javax.swing.*;\r\n\r\npublic abstract class Figure{\r\n    protected int value;\r\n    protected ImageIcon image;\r\n\r\n    protected int[][] possibleMoves;\r\n    public int[] position;\r\n\r\n    // white = -1    black = 1\r\n    protected int whiteOrBlack;\r\n    protected static int figureCount = 1;\r\n\r\n    // int[figureCount][0 = x][1 = y][2 = color]\r\n    public static Figure[] figures = new Figure[figureCount];\r\n\r\n\r\n    public Figure(int value, int[] position, int[][] possibleMoves , int whiteOrBlack) {\r\n        this.value = value;\r\n        this.position = position;\r\n        this.possibleMoves = possibleMoves;\r\n        this.whiteOrBlack = whiteOrBlack;\r\n        Figure[] oldFigures = figures;\r\n        figures = new Figure[figureCount];\r\n        for (int i = 0; i &lt; oldFigures.length; i++) {\r\n            figures[i] = oldFigures[i];\r\n        }\r\n        figures[figureCount - 1] = this;\r\n\r\n        figureCount++;\r\n    }\r\n\r\n    public abstract void move(int[] coordinates);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.*;\r\n\r\npublic class Pawn extends Figure{\r\n\r\n\r\n    public Pawn(int[] position, int whiteOrBlack) {\r\n        super(1, position, new int[3][2], whiteOrBlack);\r\n        super.image = new ImageIcon(getClass().getClassLoader().getResource(&quot;graphics/&quot; + (whiteOrBlack == -1 ? &quot;whitePawn.png&quot; : &quot;blackPawn.png&quot;)));\r\n        Image newImage = super.image.getImage().getScaledInstance(90,90, Image.SCALE_AREA_AVERAGING);\r\n        super.image = new ImageIcon(newImage);\r\n\r\n    }\r\n\r\n    public void checkMoves(){\r\n        for (int i = 0; i &lt; figures.length; i++) {\r\n\r\n            if((position[0] - 1) == figures[i].position[0] &amp;&amp; (position[1] + this.whiteOrBlack) == figures[i].position[1] &amp;&amp; figures[i].whiteOrBlack != this.whiteOrBlack) {\r\n                possibleMoves[0][0] = position[0] - 1;\r\n                possibleMoves[0][1] = position[1] + this.whiteOrBlack;\r\n            }else possibleMoves[0] = new int[2];\r\n            if((position[0]) != figures[i].position[0] &amp;&amp; (position[1]) != figures[i].position[1]){\r\n                possibleMoves[1][0] = position[0];\r\n                possibleMoves[1][1] = position[1] + 1;\r\n            }else possibleMoves[1] = new int[2];\r\n            if((position[0] + 1) == figures[i].position[0] &amp;&amp; (position[1] + this.whiteOrBlack) == figures[i].position[1] &amp;&amp; figures[i].whiteOrBlack != this.whiteOrBlack) {\r\n                possibleMoves[2][0] = position[0] + 1;\r\n                possibleMoves[2][1] = position[1] + this.whiteOrBlack;\r\n            }else possibleMoves[2] = new int[2];\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void move(int[] coordinates) {\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport javax.swing.*;\r\n\r\npublic class GameFrame extends JFrame {\r\n    public GameFrame(){\r\n        this.add(new GamePanel());\r\n        this.setTitle(&quot;Chess&quot;);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.pack();\r\n        this.setResizable(false);\r\n        this.setVisible(true);\r\n        this.setLocationRelativeTo(null);\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class ChessGame {\r\n    public static void main(String[] args) {\r\n        new GameFrame();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried few thing like changing JLabel to BufferedImage but it would&#39;ve generate other problems down the line like not being able to use MouseListener so i feel stuck. I would love to know why this code generates 3 textures too.","title":"Swing draws 3 JLabels instead of one","body":"<p>I don't really understand why this program draws three pawns instead of one and two of which seem to have a random(probably not so random) positions. <a href=\"https://i.stack.imgur.com/Xe1CD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n\npublic class GamePanel extends JPanel implements MouseListener {\n\n    static final int SCREEN_EDGE = 800;\n    static final int GAME_UNITS = 64;\n    static final int UNIT_SIZE = 100;\n    final int[] x = new int[GAME_UNITS];\n    final int[] y = new int[GAME_UNITS];\n    boolean running = false;\n\n    public GamePanel() {\n        this.setPreferredSize(new Dimension(SCREEN_EDGE, SCREEN_EDGE));\n        this.setFocusable(true);\n        this.addKeyListener(new MyKeyAdapter());\n        startGame();\n        int[] position = {0,0};\n        int[] position1 = {1, 0};\n        new Pawn(position,-1);\n    }\n\n    private void startGame() {\n\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        draw(g);\n    }\n\n    public void draw(Graphics g){\n        int counter = 1;\n\n        for (int y = 0; y &lt; SCREEN_EDGE/UNIT_SIZE; y++) {\n\n            // 1 == &quot;white&quot;   2 == &quot;black&quot;\n            int color = (y % 2 == 0) ? 1 : 2;\n\n            for (int x = 0; x &lt; SCREEN_EDGE/UNIT_SIZE; x++) {\n                g.setColor(color == 1 ? new Color(239,217, 181) : new Color(180, 136,98));\n                g.fillRect(x*UNIT_SIZE, y*UNIT_SIZE, UNIT_SIZE, UNIT_SIZE);\n                color = color == 1 ? 2 : 1;\n            }\n        }\n\n        for (int i = 0; i &lt; Figure.figures.length; i++) {\n\n            JLabel figureSprite = new JLabel(Figure.figures[i].image, JLabel.CENTER);\n            figureSprite.setSize(90,90);\n            figureSprite.setLocation(Figure.figures[i].position[0] + 5,Figure.figures[i].position[1] + 5);\n            this.add(figureSprite);\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public class MyKeyAdapter extends KeyAdapter {\n        @Override\n        public void keyPressed(KeyEvent e) {\n\n        }\n    }\n}\n\n\n\n\n\n\n\nimport javax.swing.*;\n\npublic abstract class Figure{\n    protected int value;\n    protected ImageIcon image;\n\n    protected int[][] possibleMoves;\n    public int[] position;\n\n    // white = -1    black = 1\n    protected int whiteOrBlack;\n    protected static int figureCount = 1;\n\n    // int[figureCount][0 = x][1 = y][2 = color]\n    public static Figure[] figures = new Figure[figureCount];\n\n\n    public Figure(int value, int[] position, int[][] possibleMoves , int whiteOrBlack) {\n        this.value = value;\n        this.position = position;\n        this.possibleMoves = possibleMoves;\n        this.whiteOrBlack = whiteOrBlack;\n        Figure[] oldFigures = figures;\n        figures = new Figure[figureCount];\n        for (int i = 0; i &lt; oldFigures.length; i++) {\n            figures[i] = oldFigures[i];\n        }\n        figures[figureCount - 1] = this;\n\n        figureCount++;\n    }\n\n    public abstract void move(int[] coordinates);\n}\n\n\n\n\n\n\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.io.*;\n\npublic class Pawn extends Figure{\n\n\n    public Pawn(int[] position, int whiteOrBlack) {\n        super(1, position, new int[3][2], whiteOrBlack);\n        super.image = new ImageIcon(getClass().getClassLoader().getResource(&quot;graphics/&quot; + (whiteOrBlack == -1 ? &quot;whitePawn.png&quot; : &quot;blackPawn.png&quot;)));\n        Image newImage = super.image.getImage().getScaledInstance(90,90, Image.SCALE_AREA_AVERAGING);\n        super.image = new ImageIcon(newImage);\n\n    }\n\n    public void checkMoves(){\n        for (int i = 0; i &lt; figures.length; i++) {\n\n            if((position[0] - 1) == figures[i].position[0] &amp;&amp; (position[1] + this.whiteOrBlack) == figures[i].position[1] &amp;&amp; figures[i].whiteOrBlack != this.whiteOrBlack) {\n                possibleMoves[0][0] = position[0] - 1;\n                possibleMoves[0][1] = position[1] + this.whiteOrBlack;\n            }else possibleMoves[0] = new int[2];\n            if((position[0]) != figures[i].position[0] &amp;&amp; (position[1]) != figures[i].position[1]){\n                possibleMoves[1][0] = position[0];\n                possibleMoves[1][1] = position[1] + 1;\n            }else possibleMoves[1] = new int[2];\n            if((position[0] + 1) == figures[i].position[0] &amp;&amp; (position[1] + this.whiteOrBlack) == figures[i].position[1] &amp;&amp; figures[i].whiteOrBlack != this.whiteOrBlack) {\n                possibleMoves[2][0] = position[0] + 1;\n                possibleMoves[2][1] = position[1] + this.whiteOrBlack;\n            }else possibleMoves[2] = new int[2];\n\n        }\n    }\n\n    @Override\n    public void move(int[] coordinates) {\n\n    }\n}\n\n\n\n\n\n\nimport javax.swing.*;\n\npublic class GameFrame extends JFrame {\n    public GameFrame(){\n        this.add(new GamePanel());\n        this.setTitle(&quot;Chess&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.pack();\n        this.setResizable(false);\n        this.setVisible(true);\n        this.setLocationRelativeTo(null);\n    }\n}\n\n\n\npublic class ChessGame {\n    public static void main(String[] args) {\n        new GameFrame();\n    }\n}\n</code></pre>\n<p>I tried few thing like changing JLabel to BufferedImage but it would've generate other problems down the line like not being able to use MouseListener so i feel stuck. I would love to know why this code generates 3 textures too.</p>\n"},{"tags":["java","websocket","server","postman","client"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673509873,"post_id":75088039,"comment_id":132516323,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11207802,"reputation":11,"user_id":8222842,"display_name":"Sanaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673464923,"creation_date":1673464923,"question_id":75088039,"body_markdown":"I have cloned the following webSocket project https://github.com/thegeekyasian/WebSocket-SpringBoot and the server is up and running.  And postman client was able to connect to the server successfully. But when I rename the packages of this project and I try to connect to the server using postman client I have the following error. Could you please help?\r\nCould not connect to ws://localhost:8080/webSocket\r\n09:38:35\r\nError: Unexpected server response: 404\r\nHandshake Details\r\nRequest URL: http://localhost:8080/webSocket\r\nRequest Method: GET\r\nStatus Code: 404 \r\nRequest Headers\r\nSec-WebSocket-Version: 13\r\nSec-WebSocket-Key: GmRXEBdLLrcJuIQH59nkuA==\r\nConnection: Upgrade\r\nUpgrade: websocket\r\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\r\nHost: localhost:8080\r\nResponse Headers\r\nContent-Type: application/json;charset=UTF-8\r\nTransfer-Encoding: chunked\r\nDate: Wed, 11 Jan 2023 17:38:35 GMT\r\n\r\n\r\nI tried to connect using ws://localhost:8080/webSocket","title":"WebSocket using Springboot","body":"<p>I have cloned the following webSocket project <a href=\"https://github.com/thegeekyasian/WebSocket-SpringBoot\" rel=\"nofollow noreferrer\">https://github.com/thegeekyasian/WebSocket-SpringBoot</a> and the server is up and running.  And postman client was able to connect to the server successfully. But when I rename the packages of this project and I try to connect to the server using postman client I have the following error. Could you please help?\nCould not connect to ws://localhost:8080/webSocket\n09:38:35\nError: Unexpected server response: 404\nHandshake Details\nRequest URL: http://localhost:8080/webSocket\nRequest Method: GET\nStatus Code: 404\nRequest Headers\nSec-WebSocket-Version: 13\nSec-WebSocket-Key: GmRXEBdLLrcJuIQH59nkuA==\nConnection: Upgrade\nUpgrade: websocket\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\nHost: localhost:8080\nResponse Headers\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Wed, 11 Jan 2023 17:38:35 GMT</p>\n<p>I tried to connect using ws://localhost:8080/webSocket</p>\n"},{"tags":["java","string","for-loop","substring","palindrome"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673408662,"post_id":75078077,"comment_id":132490233,"body_markdown":"given the sentence ie racecar, then you want to extract a smaller palindrome depending on length given? I suppose you first check, is the original sentence odd or even? if odd, you can only return valid shorter palindrome if length is odd, same applies for even. Then you want to check what is the midpoint of the string? and depending on that, use `.substring(midpoint-x, midpoint+x)` for example","body":"given the sentence ie racecar, then you want to extract a smaller palindrome depending on length given? I suppose you first check, is the original sentence odd or even? if odd, you can only return valid shorter palindrome if length is odd, same applies for even. Then you want to check what is the midpoint of the string? and depending on that, use <code>.substring(midpoint-x, midpoint+x)</code> for example"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673409608,"post_id":75078077,"comment_id":132490328,"body_markdown":"Your `public boolean printPalindrome(String sentence, int size)` should *only* check if `sentence` is a palindrome or not. So, it shouldn&#39;t need the `size` parameter. (Also, it can be `static` because it doesn&#39;t use any instance variables, and you shouldn&#39;t need an instance to use it.) Now, make another method that has a loop. In each iteration, call `printPalindrome` passing a [`substring`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)) of the user&#39;s input.","body":"Your <code>public boolean printPalindrome(String sentence, int size)</code> should <i>only</i> check if <code>sentence</code> is a palindrome or not. So, it shouldn&#39;t need the <code>size</code> parameter. (Also, it can be <code>static</code> because it doesn&#39;t use any instance variables, and you shouldn&#39;t need an instance to use it.) Now, make another method that has a loop. In each iteration, call <code>printPalindrome</code> passing a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\"><code>substring</code></a> of the user&#39;s input."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673410107,"post_id":75078077,"comment_id":132490373,"body_markdown":"Off Topic: Style suggestion: A method with a `boolean` can return a Boolean expression:  `return sentence.toLowerCase().equals(reverseStr.toLowerCase());`","body":"Off Topic: Style suggestion: A method with a <code>boolean</code> can return a Boolean expression:  <code>return sentence.toLowerCase().equals(reverseStr.toLowerCase());</code>"},{"owner":{"account_id":27214751,"reputation":1,"user_id":20744955,"display_name":"Joe Tiwari"},"score":0,"creation_date":1673410116,"post_id":75078077,"comment_id":132490374,"body_markdown":"@OldDogProgrammer you&#39;re absolutely right, I was trying something out before and I forgot to delete the parameter! thank you so much, this helps a lot!!!","body":"@OldDogProgrammer you&#39;re absolutely right, I was trying something out before and I forgot to delete the parameter! thank you so much, this helps a lot!!!"}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673450895,"post_id":75078131,"comment_id":132502745,"body_markdown":"While this is a test to see if a word is a palindrome, the example implies the O/P wants to find sub-palindromes:  &quot;Racecar&quot; is a palindrome, but the user wants to find if it contains palindromes of length 3, as in &quot;cec&quot;.","body":"While this is a test to see if a word is a palindrome, the example implies the O/P wants to find sub-palindromes:  &quot;Racecar&quot; is a palindrome, but the user wants to find if it contains palindromes of length 3, as in &quot;cec&quot;."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673408333,"creation_date":1673408333,"answer_id":75078131,"question_id":75078077,"body_markdown":"Is this small enough?\r\n\r\n    public List&lt;String&gt; findPalindromes(String sentence) {\r\n        return Arrays.stream(sentence.split(&quot; &quot;)).filter(s -&gt; new StringBuilder(s).reverse().toString().equals(s)).collect(Collectors.toList());\r\n    }\r\n","title":"How to check if a word is a palindrome based on the length of the word entered by user? no arrays please","body":"<p>Is this small enough?</p>\n<pre><code>public List&lt;String&gt; findPalindromes(String sentence) {\n    return Arrays.stream(sentence.split(&quot; &quot;)).filter(s -&gt; new StringBuilder(s).reverse().toString().equals(s)).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673410325,"creation_date":1673409617,"answer_id":75078214,"question_id":75078077,"body_markdown":"This will return the first palindrome it gets and if the size is more the the actual sentece the size will change to the sentece max length and if no palindrome is found it will return an empty string\r\n\r\n    public String printPalindrome(String sentence, int size) {\r\n        if (size &lt; 0) return &quot;&quot;;\r\n        if (size &gt; sentence.length()) size = sentence.length();\r\n        for (int i = 0; i + size &lt;= sentence.length(); i++) {\r\n            String miniStr = sentence.substring(i, i + size);\r\n            String reverseStr = new StringBuilder(miniStr).reverse().toString();\r\n            if (reverseStr.equals(miniStr)) return miniStr;\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"How to check if a word is a palindrome based on the length of the word entered by user? no arrays please","body":"<p>This will return the first palindrome it gets and if the size is more the the actual sentece the size will change to the sentece max length and if no palindrome is found it will return an empty string</p>\n<pre><code>public String printPalindrome(String sentence, int size) {\n    if (size &lt; 0) return &quot;&quot;;\n    if (size &gt; sentence.length()) size = sentence.length();\n    for (int i = 0; i + size &lt;= sentence.length(); i++) {\n        String miniStr = sentence.substring(i, i + size);\n        String reverseStr = new StringBuilder(miniStr).reverse().toString();\n        if (reverseStr.equals(miniStr)) return miniStr;\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673464569,"creation_date":1673453270,"answer_id":75085928,"question_id":75078077,"body_markdown":"From the example, I believe the O/P is seeking help in finding if a palindrome contains shorter palindromic sequences of a specified length. The O/P already demonstrated he / she knows how to code a basic palindrome test. \r\n\r\nHere is an example of part of the code that solves the O/P&#39;s problem:\r\n\r\n    public static List&lt;String&gt; findSubPalindromes\r\n            (String sentence, int subLength) {\r\n                \r\n        List&lt;String&gt; result = new ArrayList&lt;&gt; ();        \r\n        \r\n        for (int i = 0; i &lt; sentence.length() - subLength; ++i) {\r\n            if (isPalindrome (sentence.substring (i, i + subLength))) {\r\n                result.add (sentence.substring (i, i + subLength));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n            \r\n    public static boolean isPalindrome (String str) {\r\n        \r\n        int len = str.length() - 1 ;\r\n        for (int i = 0; i &lt;= str.length () / 2; ++i) {\r\n            if (Character.toLowerCase(str.charAt(i)) != \r\n                Character.toLowerCase(str.charAt(len - i)))\r\n                return false;                       \r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nThe idea is to first have a `boolean isPalindrome (String)` method. That method is called in a loop, testing each `substring` of the specified length.\r\n\r\nThe code to prompt the user for a palindrome, test to see if the user entered a palindrome, prompt for a sub-length, test the validity of the sub-length would be in a third method, which is not included in this answer.\r\n\r\n**Perhaps off-topic:**\r\n\r\nA traditional palindrome tests only letters, ignoring not only case (as in the O/P code), but also ignores spaces and punctuation. Example: &quot;A man, a plan, a canal: Panama!&quot; or &quot;Madam, I&#39;m Adam.&quot; This has not been addressed.\r\n \r\n\r\n","title":"How to check if a word is a palindrome based on the length of the word entered by user? no arrays please","body":"<p>From the example, I believe the O/P is seeking help in finding if a palindrome contains shorter palindromic sequences of a specified length. The O/P already demonstrated he / she knows how to code a basic palindrome test.</p>\n<p>Here is an example of part of the code that solves the O/P's problem:</p>\n<pre><code>public static List&lt;String&gt; findSubPalindromes\n        (String sentence, int subLength) {\n            \n    List&lt;String&gt; result = new ArrayList&lt;&gt; ();        \n    \n    for (int i = 0; i &lt; sentence.length() - subLength; ++i) {\n        if (isPalindrome (sentence.substring (i, i + subLength))) {\n            result.add (sentence.substring (i, i + subLength));\n        }\n    }\n    return result;\n}\n        \npublic static boolean isPalindrome (String str) {\n    \n    int len = str.length() - 1 ;\n    for (int i = 0; i &lt;= str.length () / 2; ++i) {\n        if (Character.toLowerCase(str.charAt(i)) != \n            Character.toLowerCase(str.charAt(len - i)))\n            return false;                       \n    }\n    return true;\n}\n</code></pre>\n<p>The idea is to first have a <code>boolean isPalindrome (String)</code> method. That method is called in a loop, testing each <code>substring</code> of the specified length.</p>\n<p>The code to prompt the user for a palindrome, test to see if the user entered a palindrome, prompt for a sub-length, test the validity of the sub-length would be in a third method, which is not included in this answer.</p>\n<p><strong>Perhaps off-topic:</strong></p>\n<p>A traditional palindrome tests only letters, ignoring not only case (as in the O/P code), but also ignores spaces and punctuation. Example: &quot;A man, a plan, a canal: Panama!&quot; or &quot;Madam, I'm Adam.&quot; This has not been addressed.</p>\n"}],"owner":{"account_id":27214751,"reputation":1,"user_id":20744955,"display_name":"Joe Tiwari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1673464569,"creation_date":1673407645,"question_id":75078077,"body_markdown":"I am wondering how to write a small java method which allows the user to enter a sentence and the program will return all of the palindromes in the sentence. BTW: a palindrome is a word that is the same front and backwards. First, I created a method to check if one word entered by the user is a palindrome. The code is shown below. Now, I must figure out when the user enters the length of what the word should be. For example: \r\nplease enter a palindrome: [user enters: racecar]\r\nplease enter the size of your word: [user enters 3]\r\nHere is your palindrome: cec [as you can see, the size of length of the new word is 3]\r\nI&#39;m not particularly sure how to obtain the new palindrome. Could someone help me? Please do not use arrays!\r\n\r\nHere is the small method I wrote which returns true if the word entered is a palindrome (this is not what my question is asking, I think that this is something I can build off of. Of course I would return a String, so I would make the return type &#39;void&#39;.)\r\n\r\n    public boolean printPalindrome(String sentence, int size)\r\n    {\r\n    String reverseStr = &quot;&quot;;\r\n    for(int i = (sentence.length()-1); i&gt;=size; i--)\r\n    {\r\n    reverseStr += sentence.charAt(i);\r\n    }\r\n    if(sentence.toLowerCase().equals(reverseStr.toLowerCase()))\r\n    return true;\r\n    else\r\n    return false;\r\n    } ","title":"How to check if a word is a palindrome based on the length of the word entered by user? no arrays please","body":"<p>I am wondering how to write a small java method which allows the user to enter a sentence and the program will return all of the palindromes in the sentence. BTW: a palindrome is a word that is the same front and backwards. First, I created a method to check if one word entered by the user is a palindrome. The code is shown below. Now, I must figure out when the user enters the length of what the word should be. For example:\nplease enter a palindrome: [user enters: racecar]\nplease enter the size of your word: [user enters 3]\nHere is your palindrome: cec [as you can see, the size of length of the new word is 3]\nI'm not particularly sure how to obtain the new palindrome. Could someone help me? Please do not use arrays!</p>\n<p>Here is the small method I wrote which returns true if the word entered is a palindrome (this is not what my question is asking, I think that this is something I can build off of. Of course I would return a String, so I would make the return type 'void'.)</p>\n<pre><code>public boolean printPalindrome(String sentence, int size)\n{\nString reverseStr = &quot;&quot;;\nfor(int i = (sentence.length()-1); i&gt;=size; i--)\n{\nreverseStr += sentence.charAt(i);\n}\nif(sentence.toLowerCase().equals(reverseStr.toLowerCase()))\nreturn true;\nelse\nreturn false;\n} \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672241262,"post_id":74941992,"comment_id":132249622,"body_markdown":"security scanner driven development seems not to be a good idea. FYI, OEL of Spring 5.3.x is 31 Dec 2024, that is barely possible the real security vulnerability was fixed in spring 6, but not in spring 5.3","body":"security scanner driven development seems not to be a good idea. FYI, OEL of Spring 5.3.x is 31 Dec 2024, that is barely possible the real security vulnerability was fixed in spring 6, but not in spring 5.3"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1672241387,"post_id":74941992,"comment_id":132249664,"body_markdown":"Spring Boot versions are pretty tightly coupled to Spring versions. While you could probably change a patch version, even changing minor versions could lead to unexpected errors during runtime like `MethodNotFoundError` and similar errors / exceptions. If there really is a big vulnerability issue, I&#39;d expect it to be fixed early next year. Spring Boot 2.7 is still maintained until next November, and apparently Spring itself even longer.","body":"Spring Boot versions are pretty tightly coupled to Spring versions. While you could probably change a patch version, even changing minor versions could lead to unexpected errors during runtime like <code>MethodNotFoundError</code> and similar errors / exceptions. If there really is a big vulnerability issue, I&#39;d expect it to be fixed early next year. Spring Boot 2.7 is still maintained until next November, and apparently Spring itself even longer."},{"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"score":0,"creation_date":1672242940,"post_id":74941992,"comment_id":132250150,"body_markdown":"We&#39;re told to remove any &quot;high&quot; security vulnerabilities before migrating to AWS cloud.  Currently, there is no exception.  We&#39;ve been doing this fixes with other libraries but this one requires to jump to 6.0.x from 5.x.x.  I&#39;m seeing errors that just  keep popping up after I upgraded.","body":"We&#39;re told to remove any &quot;high&quot; security vulnerabilities before migrating to AWS cloud.  Currently, there is no exception.  We&#39;ve been doing this fixes with other libraries but this one requires to jump to 6.0.x from 5.x.x.  I&#39;m seeing errors that just  keep popping up after I upgraded."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672244050,"post_id":74941992,"comment_id":132250499,"body_markdown":"@escee999 following that logic you need to shutdown your application when next security vulnerability will be discovered in spring. I would suggest you to provide some details about vulnerability (CVE ID), rather than continue discussing your requirements","body":"@escee999 following that logic you need to shutdown your application when next security vulnerability will be discovered in spring. I would suggest you to provide some details about vulnerability (CVE ID), rather than continue discussing your requirements"},{"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"score":0,"creation_date":1672244905,"post_id":74941992,"comment_id":132250789,"body_markdown":"@AndreyB.Panfilov.  Unfortunately that&#39;s impossible for our environment as the scan occurs during build time.  If a vulnerability is detected, we&#39;re to fix it.  It&#39;s just how we operate where I work.","body":"@AndreyB.Panfilov.  Unfortunately that&#39;s impossible for our environment as the scan occurs during build time.  If a vulnerability is detected, we&#39;re to fix it.  It&#39;s just how we operate where I work."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673461427,"post_id":74941992,"comment_id":132506630,"body_markdown":"I don&#39;t think it has been fixed in Spring 6 only (if it is a severe vulnerability). Just update to a newer version of Spring 5.x. (and consider that your scanner might be wrong and check whether you&#39;re actually impacted)","body":"I don&#39;t think it has been fixed in Spring 6 only (if it is a severe vulnerability). Just update to a newer version of Spring 5.x. (and consider that your scanner might be wrong and check whether you&#39;re actually impacted)"},{"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"score":0,"creation_date":1673462362,"post_id":74941992,"comment_id":132506870,"body_markdown":"@dan1st We will proceed with full upgrade to spring 6 and spring boot 3.  That&#39;s our future direction.  We&#39;re okay for now.","body":"@dan1st We will proceed with full upgrade to spring 6 and spring boot 3.  That&#39;s our future direction.  We&#39;re okay for now."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673527486,"post_id":75087458,"comment_id":132522189,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75087458/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673461157,"creation_date":1673461157,"answer_id":75087458,"question_id":74941992,"body_markdown":"So, seems like the best way to go is to move to spring boot 3 when upgrading to spring 6.","title":"Using spring 6.x with spring-boot 2.7.1","body":"<p>So, seems like the best way to go is to move to spring boot 3 when upgrading to spring 6.</p>\n"},{"comments":[{"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"score":0,"creation_date":1673464841,"post_id":75087924,"comment_id":132507582,"body_markdown":"The security vulnerability is in spring-web and this exists in all spring-web 5.x.x versions.  The fix seems to be in spring-web 6.x.x.  Because of this, we have to switch to spring 6 and spring-boot 3 to keep things running smoothly based on what I have read.","body":"The security vulnerability is in spring-web and this exists in all spring-web 5.x.x versions.  The fix seems to be in spring-web 6.x.x.  Because of this, we have to switch to spring 6 and spring-boot 3 to keep things running smoothly based on what I have read."},{"owner":{"account_id":5146606,"reputation":29,"user_id":4122409,"display_name":"Malcolm X"},"score":0,"creation_date":1674494838,"post_id":75087924,"comment_id":132721281,"body_markdown":"Well, you might consider this blog post from Spring: https://github.com/spring-projects/spring-framework/issues/24434#issuecomment-744519525","body":"Well, you might consider this blog post from Spring: <a href=\"https://github.com/spring-projects/spring-framework/issues/24434#issuecomment-744519525\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/&hellip;</a>"}],"tags":[],"owner":{"account_id":5146606,"reputation":29,"user_id":4122409,"display_name":"Malcolm X"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673463960,"creation_date":1673463960,"answer_id":75087924,"question_id":74941992,"body_markdown":"first things first:\r\n\r\n**What to do**\r\n\r\nYou do not need to migrate the Spring version (and it is not a good idea). You are using Spring Boot 2.7.1. Which was released in June 22. Right now you can use Spring Boot 2.7.7 released in Dec 22.\r\n\r\nSince you did not provide a CVE, i cannot say for sure that this version does not contain your vulnerability, but i checked the findings on this version and it does not contain anything critical other than a few very exotic vulnerabilities in dependencies that you probably don&#39;t use.\r\n\r\n**Versions of Maven modules**\r\n\r\nA few things about changing versions for modules and the possible impact. Most maven modules try follow semantic naming conventions as good as possible.\r\n\r\nThis means that number on the left is the most significant and the number on the right is the least significant. Many follow [the conventions from oracle][1], but some skip the less important version number like build or increment/patch.\r\n\r\nThe first number is the major version and indicates - as the name suggests - a major change that is possibly breaking and not backwards compatible. The second number is the minor version and **should** contain no breaking changes to the core functionality and **should** provide backwards compatibility. The third number is for security patches - they **should** not affact your applications functionality at all.\r\n\r\nFor you this means that upgrading Spring Boot to 2.7.7 will apply all the security patches for Spring Boot 2 and not affect your application at all. An upgrade to Spring Framework 6.0.0 on the other side is applying a breaking change, so the impact is much higher. This should be true for all your dependencies.\r\n\r\nYou are right, that changing the Spring Framework version manually is probably a bad idea, specially with a major Spring version. There is a reason why the Spring upgrade to 6.x.x is also a major upgrade for Spring Boot.\r\n\r\nBesides the incompatibilities in used classes and interfaces from the Spring Core and other dependencies, Spring 6.0.0 moves to Java 17 and Jakarta EE9. \r\n\r\nSo this would most certainly require changes on the code level. If you dont migrate the code from javax.* to jakarta.* it is very likely that you will be either missing the dependencies, since they are removed from the starter (not parent pom.xml dependecy management) or your application may behave differently (e.g. because Spring is using the validation API from jakarta while you annotated your classes with the javax annotations).\r\n\r\nI hope this helps also with the rest of your upgrades.\r\n\r\n  [1]: https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm","title":"Using spring 6.x with spring-boot 2.7.1","body":"<p>first things first:</p>\n<p><strong>What to do</strong></p>\n<p>You do not need to migrate the Spring version (and it is not a good idea). You are using Spring Boot 2.7.1. Which was released in June 22. Right now you can use Spring Boot 2.7.7 released in Dec 22.</p>\n<p>Since you did not provide a CVE, i cannot say for sure that this version does not contain your vulnerability, but i checked the findings on this version and it does not contain anything critical other than a few very exotic vulnerabilities in dependencies that you probably don't use.</p>\n<p><strong>Versions of Maven modules</strong></p>\n<p>A few things about changing versions for modules and the possible impact. Most maven modules try follow semantic naming conventions as good as possible.</p>\n<p>This means that number on the left is the most significant and the number on the right is the least significant. Many follow <a href=\"https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm\" rel=\"nofollow noreferrer\">the conventions from oracle</a>, but some skip the less important version number like build or increment/patch.</p>\n<p>The first number is the major version and indicates - as the name suggests - a major change that is possibly breaking and not backwards compatible. The second number is the minor version and <strong>should</strong> contain no breaking changes to the core functionality and <strong>should</strong> provide backwards compatibility. The third number is for security patches - they <strong>should</strong> not affact your applications functionality at all.</p>\n<p>For you this means that upgrading Spring Boot to 2.7.7 will apply all the security patches for Spring Boot 2 and not affect your application at all. An upgrade to Spring Framework 6.0.0 on the other side is applying a breaking change, so the impact is much higher. This should be true for all your dependencies.</p>\n<p>You are right, that changing the Spring Framework version manually is probably a bad idea, specially with a major Spring version. There is a reason why the Spring upgrade to 6.x.x is also a major upgrade for Spring Boot.</p>\n<p>Besides the incompatibilities in used classes and interfaces from the Spring Core and other dependencies, Spring 6.0.0 moves to Java 17 and Jakarta EE9.</p>\n<p>So this would most certainly require changes on the code level. If you dont migrate the code from javax.* to jakarta.* it is very likely that you will be either missing the dependencies, since they are removed from the starter (not parent pom.xml dependecy management) or your application may behave differently (e.g. because Spring is using the validation API from jakarta while you annotated your classes with the javax annotations).</p>\n<p>I hope this helps also with the rest of your upgrades.</p>\n"}],"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7073,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673463960,"creation_date":1672240895,"question_id":74941992,"body_markdown":"I have an application which has spring-web 5.3.21 security vulnerability.  The security scanner suggest to upgrade spring-web to version 6.0.x.  \r\n\r\nCurrently, my application is using spring-boot-starter-parent version 2.7.1.  \r\n\r\n**My question is whether it&#39;s possible to only upgrade spring to version 6.0.x but leaving spring-boot at 2.7.1.**  I was told that I will need to use spring-boot-starter-parent 3.0.x in order for the application to work correctly.\r\n\r\nI&#39;m just trying to minimize the changes as much as I can.  When I upgraded spring-web to 6.0.x, I got several compile-time errors and I had to update my code to get rid of these errors.\r\n\r\nHowever, when I also change spring-boot-starter-parent to 3.0.x, I got even more errors during compile-time.  \r\n\r\nThe application was written several years ago and I&#39;m not 100% familiar with it so I want to make as little code changes as possible.","title":"Using spring 6.x with spring-boot 2.7.1","body":"<p>I have an application which has spring-web 5.3.21 security vulnerability.  The security scanner suggest to upgrade spring-web to version 6.0.x.</p>\n<p>Currently, my application is using spring-boot-starter-parent version 2.7.1.</p>\n<p><strong>My question is whether it's possible to only upgrade spring to version 6.0.x but leaving spring-boot at 2.7.1.</strong>  I was told that I will need to use spring-boot-starter-parent 3.0.x in order for the application to work correctly.</p>\n<p>I'm just trying to minimize the changes as much as I can.  When I upgraded spring-web to 6.0.x, I got several compile-time errors and I had to update my code to get rid of these errors.</p>\n<p>However, when I also change spring-boot-starter-parent to 3.0.x, I got even more errors during compile-time.</p>\n<p>The application was written several years ago and I'm not 100% familiar with it so I want to make as little code changes as possible.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673440670,"post_id":75083031,"comment_id":132498762,"body_markdown":"`referencedColumnName = &quot;DECLARANT_ID&quot;` is optional. What happens if you leave it out?","body":"<code>referencedColumnName = &quot;DECLARANT_ID&quot;</code> is optional. What happens if you leave it out?"},{"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"score":0,"creation_date":1673442396,"post_id":75083031,"comment_id":132499405,"body_markdown":"It works, but it uses the @Id attribute for joining, not the DECLARANT_ID column, which is what I want.","body":"It works, but it uses the @Id attribute for joining, not the DECLARANT_ID column, which is what I want."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1673443115,"post_id":75083031,"comment_id":132499701,"body_markdown":"@Dina Bogdan, PERS_ID is not mapped to DECLARANT_ID, so remove PERS_ID and see if that works.","body":"@Dina Bogdan, PERS_ID is not mapped to DECLARANT_ID, so remove PERS_ID and see if that works."},{"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"score":0,"creation_date":1673445156,"post_id":75083031,"comment_id":132500511,"body_markdown":"from where to remove that one? PERS_ID is the business key used for joining the two tables.","body":"from where to remove that one? PERS_ID is the business key used for joining the two tables."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673445761,"post_id":75083031,"comment_id":132500760,"body_markdown":"`PERS_ID` should stay, that part is correct. Generally I don&#39;t quite see why this kind of setup. If you want a base class, `@MappedSuperclass` would probably be easier. As to why you get the error: hibernate checks if the target class has a field that is either matching the name or has an `@Column` with that column name. However, this you have defined in the nested class. If you reference a `DeclarantRecord` directly, it would probably work directly","body":"<code>PERS_ID</code> should stay, that part is correct. Generally I don&#39;t quite see why this kind of setup. If you want a base class, <code>@MappedSuperclass</code> would probably be easier. As to why you get the error: hibernate checks if the target class has a field that is either matching the name or has an <code>@Column</code> with that column name. However, this you have defined in the nested class. If you reference a <code>DeclarantRecord</code> directly, it would probably work directly"},{"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"score":0,"creation_date":1673445953,"post_id":75083031,"comment_id":132500838,"body_markdown":"The base class is not an abstract class, it&#39;s just a name, please don&#39;t think of it as a class that should be derived. Moreover, referencing a `DeclarantRecord` directly won&#39;t work, too. I already tried that case and I receive this kind of exception:\n\n`Caused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on DeclarantAddress.declarant references an unknown entity: DeclarantRecord`\n\nI suspect that this exception is being thrown because the `DeclarantAddress` is not an entity.","body":"The base class is not an abstract class, it&#39;s just a name, please don&#39;t think of it as a class that should be derived. Moreover, referencing a <code>DeclarantRecord</code> directly won&#39;t work, too. I already tried that case and I receive this kind of exception:  <code>Caused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on DeclarantAddress.declarant references an unknown entity: DeclarantRecord</code>  I suspect that this exception is being thrown because the <code>DeclarantAddress</code> is not an entity."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1673446306,"post_id":75083031,"comment_id":132500972,"body_markdown":"@Dina Bogdan, I meant to say that if you want to join by DECLARANT_ID, then leave only referencedColumnName=&quot;DECLARANT_ID&quot; in JoinColumn. The name attribute in JoinColumn is also optional, so you need either name or referencedColumnName.","body":"@Dina Bogdan, I meant to say that if you want to join by DECLARANT_ID, then leave only referencedColumnName=&quot;DECLARANT_ID&quot; in JoinColumn. The name attribute in JoinColumn is also optional, so you need either name or referencedColumnName."},{"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"score":0,"creation_date":1673446457,"post_id":75083031,"comment_id":132501029,"body_markdown":"@dsp_user one table contains `DECLARANT_ID` while the other contains `PERS_ID` so both of them should be specified, because effectively the join will take place by `DeclarantRecord.DECLARANT_ID = DeclarantAddress.PERS_ID`. And please notice that `PERS_ID` is not the PK of the `DeclarantAddress`.","body":"@dsp_user one table contains <code>DECLARANT_ID</code> while the other contains <code>PERS_ID</code> so both of them should be specified, because effectively the join will take place by <code>DeclarantRecord.DECLARANT_ID = DeclarantAddress.PERS_ID</code>. And please notice that <code>PERS_ID</code> is not the PK of the <code>DeclarantAddress</code>."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1673447079,"post_id":75083031,"comment_id":132501262,"body_markdown":"@Dina Bogdan, I see, I&#39;m guessing Hibernate then expects to see something like DeclaredAddress.PERS_ID = BaseRecord.some_id , rather than BaseRecord.DeclarantRecord.DECLARANT_ID.","body":"@Dina Bogdan, I see, I&#39;m guessing Hibernate then expects to see something like DeclaredAddress.PERS_ID = BaseRecord.some_id , rather than BaseRecord.DeclarantRecord.DECLARANT_ID."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1673448817,"post_id":75083031,"comment_id":132501950,"body_markdown":"@Dina Bogdan, how about adding a declarantId field in the BaseRecords class? I understand that this seems redundant given declarent property but this may help resolve the error.","body":"@Dina Bogdan, how about adding a declarantId field in the BaseRecords class? I understand that this seems redundant given declarent property but this may help resolve the error."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673452828,"post_id":75083031,"comment_id":132503532,"body_markdown":"It might be related to [HHH-12930](https://hibernate.atlassian.net/browse/HHH-12930). Which hibernate version are you using? It is supposedly fixed with  version 6.1.5","body":"It might be related to <a href=\"https://hibernate.atlassian.net/browse/HHH-12930\" rel=\"nofollow noreferrer\">HHH-12930</a>. Which hibernate version are you using? It is supposedly fixed with  version 6.1.5"}],"answers":[{"tags":[],"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673463636,"creation_date":1673463636,"answer_id":75087863,"question_id":75083031,"body_markdown":"The answer that worked for me:\r\n\r\nMove \r\n`@Column(name = &quot;DECLARANT_ID&quot;)\r\npublic String declarantId;` to `BaseRecord` class. \r\n\r\nThe rest can stay the same.","title":"JPA/Hibernate OneToMany relationship from Embedded entity by non-PK columns","body":"<p>The answer that worked for me:</p>\n<p>Move\n<code>@Column(name = &quot;DECLARANT_ID&quot;) public String declarantId;</code> to <code>BaseRecord</code> class.</p>\n<p>The rest can stay the same.</p>\n"}],"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673463636,"creation_date":1673439985,"question_id":75083031,"body_markdown":"JPA Model:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;BASE_RECORD&quot;)\r\n    public class BaseRecord {\r\n    \r\n        @Id\r\n        @Column(name = &quot;DB_ID&quot;)\r\n        public Long id;\r\n    \r\n        @Embedded\r\n        public DeclarantRecord declarant;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @Embeddable\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DeclarantRecord {\r\n    \r\n        @Column(name = &quot;DECLARANT_ID&quot;)\r\n        public String declarantId;\r\n    \r\n        @Column(name = &quot;DECLARANT_IDE&quot;)\r\n        public String identificationNumber;\r\n    \r\n        @Column(name = &quot;DECLARANT_NAME&quot;)\r\n        public String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;baseRecord&quot;, fetch = FetchType.EAGER)\r\n        public List&lt;DeclarantAddress&gt; addresses;\r\n    }\r\n\r\n---\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;ADDRESS_RECORD&quot;)\r\n    public class DeclarantAddress {\r\n    \r\n        @Id\r\n        @Column(name = &quot;DB_ID&quot;)\r\n        public Long id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;PERS_ID&quot;, referencedColumnName = &quot;DECLARANT_ID&quot;)\r\n        public BaseRecord baseRecord;\r\n    }\r\n\r\nWhen fetching a `BaseRecord` from DB by using a Spring Boot `JPARepository`, I receive the following exception:\r\n\r\n    Caused by: org.hibernate.AnnotationException: referencedColumnNames(DECLARANT_ID) of DeclarantAddress.baseRecord referencing BaseRecord not mapped to a single property\r\n\r\nI cannot understand what&#39;s wrong and moreover, if I inline the `DeclarantRecord` in the `BaseRecord` entity by declaring all the properties in there and moving the exact same relationship declaration in the `BaseRecord` class, everything works perfectly.","title":"JPA/Hibernate OneToMany relationship from Embedded entity by non-PK columns","body":"<p>JPA Model:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;BASE_RECORD&quot;)\npublic class BaseRecord {\n\n    @Id\n    @Column(name = &quot;DB_ID&quot;)\n    public Long id;\n\n    @Embedded\n    public DeclarantRecord declarant;\n}\n\n@Getter\n@Setter\n@Embeddable\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DeclarantRecord {\n\n    @Column(name = &quot;DECLARANT_ID&quot;)\n    public String declarantId;\n\n    @Column(name = &quot;DECLARANT_IDE&quot;)\n    public String identificationNumber;\n\n    @Column(name = &quot;DECLARANT_NAME&quot;)\n    public String name;\n\n    @OneToMany(mappedBy = &quot;baseRecord&quot;, fetch = FetchType.EAGER)\n    public List&lt;DeclarantAddress&gt; addresses;\n}\n</code></pre>\n<hr />\n<pre><code>@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;ADDRESS_RECORD&quot;)\npublic class DeclarantAddress {\n\n    @Id\n    @Column(name = &quot;DB_ID&quot;)\n    public Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;PERS_ID&quot;, referencedColumnName = &quot;DECLARANT_ID&quot;)\n    public BaseRecord baseRecord;\n}\n</code></pre>\n<p>When fetching a <code>BaseRecord</code> from DB by using a Spring Boot <code>JPARepository</code>, I receive the following exception:</p>\n<pre><code>Caused by: org.hibernate.AnnotationException: referencedColumnNames(DECLARANT_ID) of DeclarantAddress.baseRecord referencing BaseRecord not mapped to a single property\n</code></pre>\n<p>I cannot understand what's wrong and moreover, if I inline the <code>DeclarantRecord</code> in the <code>BaseRecord</code> entity by declaring all the properties in there and moving the exact same relationship declaration in the <code>BaseRecord</code> class, everything works perfectly.</p>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":0,"creation_date":1365250862,"post_id":15850803,"comment_id":22557213,"body_markdown":"take a look that is `segmentFor(i)` and how does the method `put(paramK, i, paramV, true)` work. I guess that `true` is something worth to look at.","body":"take a look that is <code>segmentFor(i)</code> and how does the method <code>put(paramK, i, paramV, true)</code> work. I guess that <code>true</code> is something worth to look at."}],"answers":[{"tags":[],"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1365250857,"creation_date":1365250857,"answer_id":15850870,"question_id":15850803,"body_markdown":"A `ConcurrentHashMap` is designed so that it can be used by a large number of concurrent `Thread`s.\r\n\r\nNow, if you used the methods provided by the standard `Map` interface you would probably write something like this\r\n\r\n      if(!map.containsKey(&quot;something&quot;)) {\r\n          map.put(&quot;something&quot;, &quot;a value&quot;);\r\n      }\r\nThis looks good and seems to do the job but, **it is not thread safe**. So you would then think, &quot;Ah, but I know about the `synchronized` keyword&quot; and change it to this\r\n\r\n      synchronized(map) {\r\n          if(!map.containsKey(&quot;something&quot;)) {\r\n              map.put(&quot;something&quot;, &quot;a value&quot;);\r\n          }\r\n      }\r\nWhich fixes the issue.\r\n\r\nNow what you have done is _locked the entire map_ for _both read and write_ while you check if the key exists and then add it to the map.\r\n\r\nThis is a very crude solution. Now you could implement your own solution with double checked locks and re-locking on the key etc. but that is _a lot_ of _very complicated_ code that is very prone to bugs.\r\n\r\nSo, instead you use the solution provided by the JDK.\r\n\r\nThe `ConcurrentHashMap` is a clever implementation that divides the `Map` into regions and locks them individually so that you can have concurrent, thread safe, reads and writes of the map without external locking.\r\n\r\nLike all other methods in the implementation `putIfAbsent` locks the key&#39;s region and not the whole `Map` and therefore allows other things to go on in other regions in the meantime.","title":"concurrentHashMap putIfAbsent method functionality","body":"<p>A <code>ConcurrentHashMap</code> is designed so that it can be used by a large number of concurrent <code>Thread</code>s.</p>\n\n<p>Now, if you used the methods provided by the standard <code>Map</code> interface you would probably write something like this</p>\n\n<pre><code>  if(!map.containsKey(\"something\")) {\n      map.put(\"something\", \"a value\");\n  }\n</code></pre>\n\n<p>This looks good and seems to do the job but, <strong>it is not thread safe</strong>. So you would then think, \"Ah, but I know about the <code>synchronized</code> keyword\" and change it to this</p>\n\n<pre><code>  synchronized(map) {\n      if(!map.containsKey(\"something\")) {\n          map.put(\"something\", \"a value\");\n      }\n  }\n</code></pre>\n\n<p>Which fixes the issue.</p>\n\n<p>Now what you have done is <em>locked the entire map</em> for <em>both read and write</em> while you check if the key exists and then add it to the map.</p>\n\n<p>This is a very crude solution. Now you could implement your own solution with double checked locks and re-locking on the key etc. but that is <em>a lot</em> of <em>very complicated</em> code that is very prone to bugs.</p>\n\n<p>So, instead you use the solution provided by the JDK.</p>\n\n<p>The <code>ConcurrentHashMap</code> is a clever implementation that divides the <code>Map</code> into regions and locks them individually so that you can have concurrent, thread safe, reads and writes of the map without external locking.</p>\n\n<p>Like all other methods in the implementation <code>putIfAbsent</code> locks the key's region and not the whole <code>Map</code> and therefore allows other things to go on in other regions in the meantime.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365250904,"creation_date":1365250904,"answer_id":15850877,"question_id":15850803,"body_markdown":"ConcurrentHashMap is used when several threads may access the same map concurrently. In that case, implementing putIfAbsent() manually, like below, is not acceptable:\r\n\r\n    if (!map.containsKey(key)) {\r\n        map.put(key, value);\r\n    } \r\n\r\nIndeed, two threads might execute the above block in parallel and enter in a race condition, where both first test if the key is absent, and then both put their own value in the map, breaking the invariants of the program. \r\n\r\nThe ConcurrentHashMap thus provides the `putIfAbsent()` operation which makes sure this is done in an atomic way, avoiding the race condition.","title":"concurrentHashMap putIfAbsent method functionality","body":"<p>ConcurrentHashMap is used when several threads may access the same map concurrently. In that case, implementing putIfAbsent() manually, like below, is not acceptable:</p>\n\n<pre><code>if (!map.containsKey(key)) {\n    map.put(key, value);\n} \n</code></pre>\n\n<p>Indeed, two threads might execute the above block in parallel and enter in a race condition, where both first test if the key is absent, and then both put their own value in the map, breaking the invariants of the program. </p>\n\n<p>The ConcurrentHashMap thus provides the <code>putIfAbsent()</code> operation which makes sure this is done in an atomic way, avoiding the race condition.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365253931,"creation_date":1365253314,"answer_id":15851286,"question_id":15850803,"body_markdown":"Imagine we need a cache of lazy-initialized named singleton beans. Below is a ConcurrentHashMap based lock-free implementation:\r\n\r\n\tConcurrentMap&lt;String, Object&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\t\r\n\t&lt;T&gt; T getBean(String name, Class&lt;T&gt; cls) throws Exception {\r\n\t\tT b1 = (T) map.get(name);\r\n\t\tif (b1 != null) {\r\n\t\t\treturn b1;\r\n\t\t}\r\n\t\tb1 = cls.newInstance();\r\n\t\tT b2 = (T) map.putIfAbsent(name, b1);\r\n\t\tif (b2 != null) {\r\n\t\t\treturn b2;\r\n\t\t}\r\n\t\treturn b1;\r\n\t}\r\nNote that it solves the same problem as double-checked locking but with no locking.\r\n\r\n","title":"concurrentHashMap putIfAbsent method functionality","body":"<p>Imagine we need a cache of lazy-initialized named singleton beans. Below is a ConcurrentHashMap based lock-free implementation:</p>\n\n<pre><code>ConcurrentMap&lt;String, Object&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n&lt;T&gt; T getBean(String name, Class&lt;T&gt; cls) throws Exception {\n    T b1 = (T) map.get(name);\n    if (b1 != null) {\n        return b1;\n    }\n    b1 = cls.newInstance();\n    T b2 = (T) map.putIfAbsent(name, b1);\n    if (b2 != null) {\n        return b2;\n    }\n    return b1;\n}\n</code></pre>\n\n<p>Note that it solves the same problem as double-checked locking but with no locking.</p>\n"}],"owner":{"account_id":2531318,"reputation":501,"user_id":2199570,"accept_rate":44,"display_name":"tuntun fdg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9406,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1673463496,"creation_date":1365250381,"question_id":15850803,"body_markdown":"I am a newbie to the world of Java and exploring the `concurrentHashMap`, while exploring the `concurrentHashMap` API , I discover the `putifAbsent()` method \r\n\r\n    public V putIfAbsent(K paramK, V paramV)\r\n      {\r\n        if (paramV == null)\r\n          throw new NullPointerException();\r\n        int i = hash(paramK.hashCode());\r\n        return segmentFor(i).put(paramK, i, paramV, true);\r\n      }\r\n\r\nNow please advise what is it functionality and when do we practically require it , if possible please explain with a small simple example.","title":"concurrentHashMap putIfAbsent method functionality","body":"<p>I am a newbie to the world of Java and exploring the <code>concurrentHashMap</code>, while exploring the <code>concurrentHashMap</code> API , I discover the <code>putifAbsent()</code> method</p>\n<pre><code>public V putIfAbsent(K paramK, V paramV)\n  {\n    if (paramV == null)\n      throw new NullPointerException();\n    int i = hash(paramK.hashCode());\n    return segmentFor(i).put(paramK, i, paramV, true);\n  }\n</code></pre>\n<p>Now please advise what is it functionality and when do we practically require it , if possible please explain with a small simple example.</p>\n"},{"tags":["java","spring","elasticsearch","internationalization","spring-internationalization"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1673469769,"post_id":75087830,"comment_id":132509119,"body_markdown":"I imagine that you have a index of products. Is product registration done in English and are you responsible for translating or can registration be done in several languages?","body":"I imagine that you have a index of products. Is product registration done in English and are you responsible for translating or can registration be done in several languages?"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1673474252,"post_id":75087830,"comment_id":132510375,"body_markdown":"Registration will be done in English only @rabbitbr","body":"Registration will be done in English only @rabbitbr"},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":1,"creation_date":1673475782,"post_id":75087830,"comment_id":132510816,"body_markdown":"So I imagine that you will translate specific fields like name, description, etc. In this case I would create fields for each of these mentioned fields and using the analyzer for each language. We use this strategy and it works well.\nWould be like this:\n{\n   &quot;mappings&quot;: {\n     &quot;properties&quot;: {\n       &quot;description&quot;: {\n         &quot;type&quot;: &quot;text&quot;,\n         &quot;fields&quot;: {\n           &quot;pt-br&quot;: {\n             &quot;type&quot;: &quot;text&quot;,\n             &quot;analyzer&quot;: &quot;english&quot;\n           },\n           &quot;fr&quot;: {\n             &quot;type&quot;: &quot;text&quot;,\n             &quot;analyzer&quot;: &quot;france&quot;\n           }\n         }...","body":"So I imagine that you will translate specific fields like name, description, etc. In this case I would create fields for each of these mentioned fields and using the analyzer for each language. We use this strategy and it works well. Would be like this: {    &quot;mappings&quot;: {      &quot;properties&quot;: {        &quot;description&quot;: {          &quot;type&quot;: &quot;text&quot;,          &quot;fields&quot;: {            &quot;pt-br&quot;: {              &quot;type&quot;: &quot;text&quot;,              &quot;analyzer&quot;: &quot;english&quot;            },            &quot;fr&quot;: {              &quot;type&quot;: &quot;text&quot;,              &quot;analyzer&quot;: &quot;france&quot;            }          }..."},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1673476769,"post_id":75087830,"comment_id":132511025,"body_markdown":"This is so clever! So basically, in the same index... have different keys for description e.g description-fr (French description), description-es (Spanish description) etc. with the corresponding analyzer @rabbitbr or I understood is totally wrong?","body":"This is so clever! So basically, in the same index... have different keys for description e.g description-fr (French description), description-es (Spanish description) etc. with the corresponding analyzer @rabbitbr or I understood is totally wrong?"},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":1,"creation_date":1673476919,"post_id":75087830,"comment_id":132511059,"body_markdown":"exactly. when the search occurs, you pass the search term and the language so you mount the query to search in the language field. Ex: A Brazilian, in Brazil, searches his system.\n{\n   &quot;query&quot;: {\n     &quot;match&quot;: {\n       &quot;description.pt-br&quot;: &quot;my_term&quot;\n     }\n   }\n}","body":"exactly. when the search occurs, you pass the search term and the language so you mount the query to search in the language field. Ex: A Brazilian, in Brazil, searches his system. {    &quot;query&quot;: {      &quot;match&quot;: {        &quot;description.pt-br&quot;: &quot;my_term&quot;      }    } }"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1673477334,"post_id":75087830,"comment_id":132511131,"body_markdown":"Thank you so much @rabbitbr. You solved it so well!","body":"Thank you so much @rabbitbr. You solved it so well!"}],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673463458,"creation_date":1673463458,"question_id":75087830,"body_markdown":"I am using Spring framework with elasticsearch as the backend to store results such as item description, price, expert notes, etc. It is working perfectly for the English domain. I need to add additional language support for this. I have added the properties file for button labels and all the HTML markup except for the data in elasticsearch. I have the corresponding translation for the elasticsearch data. My question is how can I use this translated data? So far I have come up with the following options:\r\n\r\n 1. Create separate elasticsearch index for the translated data and query the required field from this index for showing the translated text.\r\n 2. Store the translated data in database and query that data at runtime for translation.\r\n 3. Store the translated data in properties file and read these properties for translation.\r\n\r\nHas anyone done this before? Are there any other options I didn&#39;t mention? What approach did you take?","title":"how to apply localization and Internationalization approach using spring framework with elasticsearch backend?","body":"<p>I am using Spring framework with elasticsearch as the backend to store results such as item description, price, expert notes, etc. It is working perfectly for the English domain. I need to add additional language support for this. I have added the properties file for button labels and all the HTML markup except for the data in elasticsearch. I have the corresponding translation for the elasticsearch data. My question is how can I use this translated data? So far I have come up with the following options:</p>\n<ol>\n<li>Create separate elasticsearch index for the translated data and query the required field from this index for showing the translated text.</li>\n<li>Store the translated data in database and query that data at runtime for translation.</li>\n<li>Store the translated data in properties file and read these properties for translation.</li>\n</ol>\n<p>Has anyone done this before? Are there any other options I didn't mention? What approach did you take?</p>\n"},{"tags":["java","key-bindings"],"owner":{"account_id":27500627,"reputation":1,"user_id":20984406,"display_name":"five past midnight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673463332,"creation_date":1673461428,"question_id":75087508,"body_markdown":"While working on a game, I have run into a problem with key bindings. The method actionPerformed isn&#39;t getting called when I try and use the keys. I have successfully used key bindings before, but after I moved the code to my current project and refactored, it hasn&#39;t been working.\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.util.EventObject;\r\n\r\npublic class PlayerMovement {\r\n// FIELDS =======================================================================\r\n\tPlayer player;\r\n\r\n\tAction moveUp;\r\n\tAction moveDown;\r\n\tAction moveLeft;\r\n\tAction moveRight;\r\n  \r\n// CONSTRUCTORS =================================================================\r\n  public PlayerMovement (Player player) {\r\n\t\tmoveUp = new UpAction();\r\n\t\tmoveDown = new DownAction();\r\n\t\tmoveLeft = new LeftAction();\r\n\t\tmoveRight = new RightAction();\r\n\t\t\r\n\t\tplayer.label.getInputMap().put(KeyStroke.getKeyStroke(&#39;w&#39;), &quot;UpAction&quot;);\r\n\t\tplayer.label.getActionMap().put(&quot;UpAction&quot;, moveUp);\r\n\t\tplayer.label.getInputMap().put(KeyStroke.getKeyStroke(&#39;s&#39;), &quot;down&quot;);\r\n\t\tplayer.label.getActionMap().put(&quot;down&quot;, moveDown);\r\n\t\tplayer.label.getInputMap().put(KeyStroke.getKeyStroke(&#39;a&#39;), &quot;left&quot;);\r\n\t\tplayer.label.getActionMap().put(&quot;left&quot;, moveLeft);\r\n\t\tplayer.label.getInputMap().put(KeyStroke.getKeyStroke(&#39;d&#39;), &quot;right&quot;);\r\n\t\tplayer.label.getActionMap().put(&quot;right&quot;, moveRight);\r\n  }\r\n\r\n// INSTANCE METHODS =============================================================\r\n\r\n\r\n// NESTED CLASSES ===============================================================\r\n  public class UpAction extends AbstractAction{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tplayer.label.setLocation(player.label.getX(), player.label.getY()-10);\r\n      System.out.println(&quot;Up&quot;);\r\n\t\t}\t\t\r\n\t}\r\n\tpublic class DownAction extends AbstractAction{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tplayer.label.setLocation(player.label.getX(), player.label.getY()+10);\r\n      System.out.println(&quot;Down&quot;);\r\n\t\t}\t\t\r\n\t}\r\n\tpublic class LeftAction extends AbstractAction{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tplayer.label.setLocation(player.label.getX()-10, player.label.getY());\r\n      System.out.println(&quot;Left&quot;);\r\n\t\t}\t\t\r\n\t}\r\n\tpublic class RightAction extends AbstractAction{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tplayer.label.setLocation(player.label.getX()+10, player.label.getY());\r\n      System.out.println(&quot;Right&quot;);\r\n\t\t}\t\t\r\n\t}\r\n}\r\n```\r\n\r\n","title":"While trying to use key bindings in java, the actionPerformed method isn&#39;t getting called. How can I fix this?","body":"<p>While working on a game, I have run into a problem with key bindings. The method actionPerformed isn't getting called when I try and use the keys. I have successfully used key bindings before, but after I moved the code to my current project and refactored, it hasn't been working.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.util.EventObject;\n\npublic class PlayerMovement {\n// FIELDS =======================================================================\n    Player player;\n\n    Action moveUp;\n    Action moveDown;\n    Action moveLeft;\n    Action moveRight;\n  \n// CONSTRUCTORS =================================================================\n  public PlayerMovement (Player player) {\n        moveUp = new UpAction();\n        moveDown = new DownAction();\n        moveLeft = new LeftAction();\n        moveRight = new RightAction();\n        \n        player.label.getInputMap().put(KeyStroke.getKeyStroke('w'), &quot;UpAction&quot;);\n        player.label.getActionMap().put(&quot;UpAction&quot;, moveUp);\n        player.label.getInputMap().put(KeyStroke.getKeyStroke('s'), &quot;down&quot;);\n        player.label.getActionMap().put(&quot;down&quot;, moveDown);\n        player.label.getInputMap().put(KeyStroke.getKeyStroke('a'), &quot;left&quot;);\n        player.label.getActionMap().put(&quot;left&quot;, moveLeft);\n        player.label.getInputMap().put(KeyStroke.getKeyStroke('d'), &quot;right&quot;);\n        player.label.getActionMap().put(&quot;right&quot;, moveRight);\n  }\n\n// INSTANCE METHODS =============================================================\n\n\n// NESTED CLASSES ===============================================================\n  public class UpAction extends AbstractAction{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            player.label.setLocation(player.label.getX(), player.label.getY()-10);\n      System.out.println(&quot;Up&quot;);\n        }       \n    }\n    public class DownAction extends AbstractAction{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            player.label.setLocation(player.label.getX(), player.label.getY()+10);\n      System.out.println(&quot;Down&quot;);\n        }       \n    }\n    public class LeftAction extends AbstractAction{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            player.label.setLocation(player.label.getX()-10, player.label.getY());\n      System.out.println(&quot;Left&quot;);\n        }       \n    }\n    public class RightAction extends AbstractAction{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            player.label.setLocation(player.label.getX()+10, player.label.getY());\n      System.out.println(&quot;Right&quot;);\n        }       \n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":0,"creation_date":1456345497,"post_id":35612084,"comment_id":58908618,"body_markdown":"You are using wrong signature of `add`","body":"You are using wrong signature of <code>add</code>"}],"answers":[{"tags":[],"owner":{"account_id":5257533,"reputation":3525,"user_id":4199996,"display_name":"Tristan Richard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456345100,"creation_date":1456345100,"answer_id":35612224,"question_id":35612084,"body_markdown":"You are missing two arguments.\r\nThe first is the id of the fragment placeholder and the second is the fragment itself.\r\nIt basically takes the same arguments as the replace call.","title":"FragmentTransaction cannot resolve add()","body":"<p>You are missing two arguments.\nThe first is the id of the fragment placeholder and the second is the fragment itself.\nIt basically takes the same arguments as the replace call.</p>\n"},{"tags":[],"owner":{"account_id":3223770,"reputation":6761,"user_id":2720553,"accept_rate":86,"display_name":"Rohit Arya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456345153,"creation_date":1456345153,"answer_id":35612241,"question_id":35612084,"body_markdown":"`.add()` will take at least two arguments. [reference][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/app/FragmentTransaction.html#add(int,%20android.app.Fragment)","title":"FragmentTransaction cannot resolve add()","body":"<p><code>.add()</code> will take at least two arguments. <a href=\"http://developer.android.com/reference/android/app/FragmentTransaction.html#add(int,%20android.app.Fragment)\" rel=\"nofollow\">reference</a></p>\n"},{"tags":[],"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1456345797,"creation_date":1456345797,"answer_id":35612454,"question_id":35612084,"body_markdown":"**Issue 1**\r\n\r\nYou are using wrong signature of `add`.\r\n\r\n[From documentation][1]\r\n\r\n    public abstract FragmentTransaction add (int containerViewId, Fragment fragment)\r\n\r\nAdd a fragment to the activity state. This fragment may optionally also have its view (if Fragment.onCreateView returns non-null) inserted into a container view of the activity. Calls add(int, Fragment, String) with a null tag.\r\n\r\n*Parameters*\r\n\r\n    containerViewId \tint\r\n\r\n    fragment \t        Fragment\r\n\r\nSo your code should be something like\r\n\r\n    fragmentTransaction.add(R.id.container, new MyFragment()); // Change layout and Fragment class here\r\n\r\n**Issue 2**\r\n\r\nThe whole code is outside of method and even the class which is not right. Move this code inside any method. Each line of code should be under any method (obviously variable declaration is could be anywhere inside class)\r\n\r\n  [1]: http://developer.android.com/intl/ru/reference/android/app/FragmentTransaction.html#add%28int,%20android.app.Fragment%29","title":"FragmentTransaction cannot resolve add()","body":"<p><strong>Issue 1</strong></p>\n\n<p>You are using wrong signature of <code>add</code>.</p>\n\n<p><a href=\"http://developer.android.com/intl/ru/reference/android/app/FragmentTransaction.html#add%28int,%20android.app.Fragment%29\" rel=\"nofollow\">From documentation</a></p>\n\n<pre><code>public abstract FragmentTransaction add (int containerViewId, Fragment fragment)\n</code></pre>\n\n<p>Add a fragment to the activity state. This fragment may optionally also have its view (if Fragment.onCreateView returns non-null) inserted into a container view of the activity. Calls add(int, Fragment, String) with a null tag.</p>\n\n<p><em>Parameters</em></p>\n\n<pre><code>containerViewId     int\n\nfragment            Fragment\n</code></pre>\n\n<p>So your code should be something like</p>\n\n<pre><code>fragmentTransaction.add(R.id.container, new MyFragment()); // Change layout and Fragment class here\n</code></pre>\n\n<p><strong>Issue 2</strong></p>\n\n<p>The whole code is outside of method and even the class which is not right. Move this code inside any method. Each line of code should be under any method (obviously variable declaration is could be anywhere inside class)</p>\n"}],"owner":{"account_id":6613598,"reputation":23,"user_id":5700462,"display_name":"Morgan Gladwell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1538,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35612454,"answer_count":3,"score":2,"last_activity_date":1673463239,"creation_date":1456344738,"question_id":35612084,"body_markdown":"Basically, I am trying to programmatically create fragments, that will display a list view reading from a database. I am following the [tutorial Programmatically Working with Android Fragments](http://www.intertech.com/Blog/programmatically-working-with-android-fragments/) to learn how to do such a thing, and I have come across an issue that I am having. \r\nAndroid Studio cannot find the symbol add() when using a fragmentTransaction. Here is my code:\r\n\r\n    package com.example.morgan.dynamicnews;\r\n\r\n    import android.app.Activity;\r\n    import android.support.v4.app.FragmentTransaction;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.app.ActionBar;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.FragmentManager;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.support.v4.widget.DrawerLayout;\r\n\r\n    public class MainActivity extends AppCompatActivity\r\n\r\n        implements NavigationDrawerFragment.NavigationDrawerCallbacks {\r\n\r\n    /**\r\n     * Fragment managing the behaviors, interactions and presentation of the navigation drawer.\r\n     */\r\n    private NavigationDrawerFragment mNavigationDrawerFragment;\r\n\r\n    /**\r\n     * Used to store the last screen title. For use in {@link #restoreActionBar()}.\r\n     */\r\n    private CharSequence mTitle;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mNavigationDrawerFragment = (NavigationDrawerFragment)\r\n                getSupportFragmentManager().findFragmentById(R.id.navigation_drawer);\r\n        mTitle = getTitle();\r\n\r\n        // Set up the drawer.\r\n        mNavigationDrawerFragment.setUp(\r\n                R.id.navigation_drawer,\r\n                (DrawerLayout) findViewById(R.id.drawer_layout));\r\n    }\r\n\r\n\r\n\r\n    public void onSectionAttached(int number) {\r\n        switch (number) {\r\n            case 1:\r\n                mTitle = getString(R.string.title_section1);\r\n                break;\r\n            case 2:\r\n                mTitle = getString(R.string.title_section2);\r\n                break;\r\n            case 3:\r\n                mTitle = getString(R.string.title_section3);\r\n                break;\r\n            case 4:\r\n                mTitle = getString(R.string.title_section4);\r\n                break;\r\n            case 5:\r\n                mTitle = getString(R.string.title_section5);\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    public void restoreActionBar() {\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);\r\n        actionBar.setDisplayShowTitleEnabled(true);\r\n        actionBar.setTitle(mTitle);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        if (!mNavigationDrawerFragment.isDrawerOpen()) {\r\n            // Only show items in the action bar relevant to this screen\r\n            // if the drawer is not showing. Otherwise, let the drawer\r\n            // decide what to show in the action bar.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            restoreActionBar();\r\n            return true;\r\n        }\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    /**\r\n     * A placeholder fragment containing a simple view.\r\n     */\r\n    public static class PlaceholderFragment extends Fragment {\r\n        /**\r\n         * The fragment argument representing the section number for this\r\n         * fragment.\r\n         */\r\n        private static final String ARG_SECTION_NUMBER = &quot;section_number&quot;;\r\n\r\n        /**\r\n         * Returns a new instance of this fragment for the given section\r\n         * number.\r\n         */\r\n        public static PlaceholderFragment newInstance(int sectionNumber) {\r\n            PlaceholderFragment fragment = new PlaceholderFragment();\r\n            Bundle args = new Bundle();\r\n            args.putInt(ARG_SECTION_NUMBER, sectionNumber);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n\r\n        public PlaceholderFragment() {\r\n        }\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.fragment_main, container, false);\r\n            return rootView;\r\n        }\r\n\r\n        @Override\r\n        public void onAttach(Activity activity) {\r\n            super.onAttach(activity);\r\n            ((MainActivity) activity).onSectionAttached(\r\n                    getArguments().getInt(ARG_SECTION_NUMBER));\r\n        }\r\n    }\r\n\r\n\r\n    public void onNavigationDrawerItemSelected(int position) {\r\n        // update the main content by replacing fragments\r\n        Fragment fragment;\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        switch(position) {\r\n            default:\r\n            case 0:\r\n                fragment = new FirstFragment();\r\n                break;\r\n            case 1:\r\n                fragment = new SecondFragment();\r\n                break;\r\n            case 2:\r\n                fragment = new ThirdFragment();\r\n                break;\r\n            case 3:\r\n                fragment = new ForthFragment();\r\n                break;\r\n            case 4:\r\n                fragment = new FifthFragment();\r\n                break;\r\n        }\r\n        fragmentManager.beginTransaction()\r\n                .replace(R.id.container, fragment)\r\n                .commit();\r\n    }\r\n\r\n\r\n    android.app.FragmentManager fragmentManager = getFragmentManager();\r\n    android.app.FragmentTransaction fragmentTransaction =            fragmentManager.beginTransaction();\r\n    \r\n    fragmentTransaction.add();\r\n    }\r\n\r\nHere is an Imgur upload of what is happening: \r\nhttps://i.stack.imgur.com/Lx2Fq.jpg\r\n","title":"FragmentTransaction cannot resolve add()","body":"<p>Basically, I am trying to programmatically create fragments, that will display a list view reading from a database. I am following the <a href=\"http://www.intertech.com/Blog/programmatically-working-with-android-fragments/\" rel=\"nofollow noreferrer\">tutorial Programmatically Working with Android Fragments</a> to learn how to do such a thing, and I have come across an issue that I am having.\nAndroid Studio cannot find the symbol add() when using a fragmentTransaction. Here is my code:</p>\n<pre><code>package com.example.morgan.dynamicnews;\n\nimport android.app.Activity;\nimport android.support.v4.app.FragmentTransaction;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.app.ActionBar;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.support.v4.widget.DrawerLayout;\n\npublic class MainActivity extends AppCompatActivity\n\n    implements NavigationDrawerFragment.NavigationDrawerCallbacks {\n\n/**\n * Fragment managing the behaviors, interactions and presentation of the navigation drawer.\n */\nprivate NavigationDrawerFragment mNavigationDrawerFragment;\n\n/**\n * Used to store the last screen title. For use in {@link #restoreActionBar()}.\n */\nprivate CharSequence mTitle;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mNavigationDrawerFragment = (NavigationDrawerFragment)\n            getSupportFragmentManager().findFragmentById(R.id.navigation_drawer);\n    mTitle = getTitle();\n\n    // Set up the drawer.\n    mNavigationDrawerFragment.setUp(\n            R.id.navigation_drawer,\n            (DrawerLayout) findViewById(R.id.drawer_layout));\n}\n\n\n\npublic void onSectionAttached(int number) {\n    switch (number) {\n        case 1:\n            mTitle = getString(R.string.title_section1);\n            break;\n        case 2:\n            mTitle = getString(R.string.title_section2);\n            break;\n        case 3:\n            mTitle = getString(R.string.title_section3);\n            break;\n        case 4:\n            mTitle = getString(R.string.title_section4);\n            break;\n        case 5:\n            mTitle = getString(R.string.title_section5);\n            break;\n\n    }\n}\n\npublic void restoreActionBar() {\n    ActionBar actionBar = getSupportActionBar();\n    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);\n    actionBar.setDisplayShowTitleEnabled(true);\n    actionBar.setTitle(mTitle);\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    if (!mNavigationDrawerFragment.isDrawerOpen()) {\n        // Only show items in the action bar relevant to this screen\n        // if the drawer is not showing. Otherwise, let the drawer\n        // decide what to show in the action bar.\n        getMenuInflater().inflate(R.menu.main, menu);\n        restoreActionBar();\n        return true;\n    }\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_settings) {\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n\n/**\n * A placeholder fragment containing a simple view.\n */\npublic static class PlaceholderFragment extends Fragment {\n    /**\n     * The fragment argument representing the section number for this\n     * fragment.\n     */\n    private static final String ARG_SECTION_NUMBER = &quot;section_number&quot;;\n\n    /**\n     * Returns a new instance of this fragment for the given section\n     * number.\n     */\n    public static PlaceholderFragment newInstance(int sectionNumber) {\n        PlaceholderFragment fragment = new PlaceholderFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_SECTION_NUMBER, sectionNumber);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    public PlaceholderFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_main, container, false);\n        return rootView;\n    }\n\n    @Override\n    public void onAttach(Activity activity) {\n        super.onAttach(activity);\n        ((MainActivity) activity).onSectionAttached(\n                getArguments().getInt(ARG_SECTION_NUMBER));\n    }\n}\n\n\npublic void onNavigationDrawerItemSelected(int position) {\n    // update the main content by replacing fragments\n    Fragment fragment;\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    switch(position) {\n        default:\n        case 0:\n            fragment = new FirstFragment();\n            break;\n        case 1:\n            fragment = new SecondFragment();\n            break;\n        case 2:\n            fragment = new ThirdFragment();\n            break;\n        case 3:\n            fragment = new ForthFragment();\n            break;\n        case 4:\n            fragment = new FifthFragment();\n            break;\n    }\n    fragmentManager.beginTransaction()\n            .replace(R.id.container, fragment)\n            .commit();\n}\n\n\nandroid.app.FragmentManager fragmentManager = getFragmentManager();\nandroid.app.FragmentTransaction fragmentTransaction =            fragmentManager.beginTransaction();\n\nfragmentTransaction.add();\n}\n</code></pre>\n<p>Here is an Imgur upload of what is happening:\n<a href=\"https://i.stack.imgur.com/Lx2Fq.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Lx2Fq.jpg</a></p>\n"},{"tags":["java","symlink"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1673458877,"post_id":75086985,"comment_id":132505795,"body_markdown":"...why do you want the underlying representation?  The symlink only acts as a pointer to other files or folders and is largely abstracted out to that purpose.","body":"...why do you want the underlying representation?  The symlink only acts as a pointer to other files or folders and is largely abstracted out to that purpose."},{"owner":{"account_id":11897856,"reputation":70,"user_id":12212260,"display_name":"Nold"},"score":0,"creation_date":1673459254,"post_id":75086985,"comment_id":132505930,"body_markdown":"I should be able to read the byte representation of the file I want without Java forcing me to follow it. Java is low-level enough to be able to allow that.","body":"I should be able to read the byte representation of the file I want without Java forcing me to follow it. Java is low-level enough to be able to allow that."},{"owner":{"account_id":11897856,"reputation":70,"user_id":12212260,"display_name":"Nold"},"score":0,"creation_date":1673459605,"post_id":75086985,"comment_id":132506020,"body_markdown":"In any case, what prompted me to ask this is zipping files _including_ symlinks without following them. How would you copy a symlink to a `ZipOutputStream`? `Files.copy(Path source, OutputStream out)` doesn&#39;t support `LinkOption.NOFOLLOW_LINKS`, so one seemingly obvious avenue is to read the symlink into a buffer and write it to the `ZipOutputStream` manually.","body":"In any case, what prompted me to ask this is zipping files <i>including</i> symlinks without following them. How would you copy a symlink to a <code>ZipOutputStream</code>? <code>Files.copy(Path source, OutputStream out)</code> doesn&#39;t support <code>LinkOption.NOFOLLOW_LINKS</code>, so one seemingly obvious avenue is to read the symlink into a buffer and write it to the <code>ZipOutputStream</code> manually."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1673459922,"post_id":75086985,"comment_id":132506118,"body_markdown":"I don&#39;t understand why you&#39;d want to zip a folder and preserve the pointers as opposed to zipping the folder and preserving the resolved data.  What have you tried to do so far to solve this?  I&#39;d imagine that you&#39;re running into some kind of error or seeing some kind of behavior you find undesirable when you&#39;re evoking some specific call...","body":"I don&#39;t understand why you&#39;d want to zip a folder and preserve the pointers as opposed to zipping the folder and preserving the resolved data.  What have you tried to do so far to solve this?  I&#39;d imagine that you&#39;re running into some kind of error or seeing some kind of behavior you find undesirable when you&#39;re evoking some specific call..."},{"owner":{"account_id":11897856,"reputation":70,"user_id":12212260,"display_name":"Nold"},"score":1,"creation_date":1673460238,"post_id":75086985,"comment_id":132506231,"body_markdown":"If you don&#39;t understand, please read up on zip. This question is about how to read a symlink without following it in Java.","body":"If you don&#39;t understand, please read up on zip. This question is about how to read a symlink without following it in Java."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1673460642,"post_id":75086985,"comment_id":132506376,"body_markdown":"I don&#39;t follow you here, and I&#39;m an expert in Java who has created zip files before.  I also have extensive Linux expertise and know what symlinks are and what role they serve.  There is no *value* in reading a symlink without following it, so I&#39;m trying to figure out what it is you&#39;re trying to really *accomplish* here.  Without clarity it becomes nigh impossible to answer your question, since this seems like an oddball circumstance.  Normally this isn&#39;t what you want to do.  Why do you want to do it?","body":"I don&#39;t follow you here, and I&#39;m an expert in Java who has created zip files before.  I also have extensive Linux expertise and know what symlinks are and what role they serve.  There is no <i>value</i> in reading a symlink without following it, so I&#39;m trying to figure out what it is you&#39;re trying to really <i>accomplish</i> here.  Without clarity it becomes nigh impossible to answer your question, since this seems like an oddball circumstance.  Normally this isn&#39;t what you want to do.  Why do you want to do it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673460741,"post_id":75086985,"comment_id":132506415,"body_markdown":"*It seems like it should be easy to read the byte representation of a symlink into a buffer in Java, but I can&#39;t seem to figure it out.* The &#39;raw bytes&#39; of a symlink would live outside userspace. You would be reading the raw file system, and, needless to say, different file systems would have different representations, but what would your [goal](https://technojeeves.com/index.php/aliasjava1/15-smart-questions)\nbe?","body":"<i>It seems like it should be easy to read the byte representation of a symlink into a buffer in Java, but I can&#39;t seem to figure it out.</i> The &#39;raw bytes&#39; of a symlink would live outside userspace. You would be reading the raw file system, and, needless to say, different file systems would have different representations, but what would your <a href=\"https://technojeeves.com/index.php/aliasjava1/15-smart-questions\" rel=\"nofollow noreferrer\">goal</a> be?"},{"owner":{"account_id":11897856,"reputation":70,"user_id":12212260,"display_name":"Nold"},"score":0,"creation_date":1673462080,"post_id":75086985,"comment_id":132506801,"body_markdown":"First, the raw bytes of a symlink aren&#39;t isolated from userspace. A symlink is just like a regular file, except that it has information that points it to another file @g00se. I&#39;m not talking about a hard link. I would like to stick to the question that I have asked @Makoto. Symlinks are, at their core, regular files, and should be able to be read as such without following them. Plenty of people find value in zipping symlinks. That&#39;s why in a Linux shell, `zip -y` exists. I personally don&#39;t like zipping symlinks, but it&#39;s what the services I work on require.","body":"First, the raw bytes of a symlink aren&#39;t isolated from userspace. A symlink is just like a regular file, except that it has information that points it to another file @g00se. I&#39;m not talking about a hard link. I would like to stick to the question that I have asked @Makoto. Symlinks are, at their core, regular files, and should be able to be read as such without following them. Plenty of people find value in zipping symlinks. That&#39;s why in a Linux shell, <code>zip -y</code> exists. I personally don&#39;t like zipping symlinks, but it&#39;s what the services I work on require."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673462512,"post_id":75086985,"comment_id":132506911,"body_markdown":"*First, the raw bytes of a symlink aren&#39;t isolated from userspace.* I&#39;m willing to take your word for it. Please demonstrate that with a bash command.","body":"<i>First, the raw bytes of a symlink aren&#39;t isolated from userspace.</i> I&#39;m willing to take your word for it. Please demonstrate that with a bash command."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1673462611,"post_id":75086985,"comment_id":132506944,"body_markdown":"`readlink /etc/resolv.conf` outputs `../run/systemd/resolve/stub-resolv.conf` on my system.","body":"<code>readlink &#47;etc&#47;resolv.conf</code> outputs <code>..&#47;run&#47;systemd&#47;resolve&#47;stub-resolv.conf</code> on my system."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673463154,"post_id":75086985,"comment_id":132507119,"body_markdown":"*readlink...* That&#39;s *not* reading the &quot;raw bytes&quot; of the link. That&#39;s showing the path of the target of the link (as indeed is the &#39;answer&#39; below)","body":"<i>readlink...</i> That&#39;s <i>not</i> reading the &quot;raw bytes&quot; of the link. That&#39;s showing the path of the target of the link (as indeed is the &#39;answer&#39; below)"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1673463256,"post_id":75086985,"comment_id":132507143,"body_markdown":"And said target is stored where? Inside the link. You&#39;re arguing semantics where there&#39;s nothing to argue about.","body":"And said target is stored where? Inside the link. You&#39;re arguing semantics where there&#39;s nothing to argue about."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673463445,"post_id":75086985,"comment_id":132507189,"body_markdown":"It&#39;s not semantics. The &quot;raw bytes&quot; of a link are a wholly different thing from the logical content of a link (the path to the target). Perhaps the OP should have asked &quot;How do I get the target of a symlink without following it?&quot;","body":"It&#39;s not semantics. The &quot;raw bytes&quot; of a link are a wholly different thing from the logical content of a link (the path to the target). Perhaps the OP should have asked &quot;How do I get the target of a symlink without following it?&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673464461,"post_id":75086985,"comment_id":132507464,"body_markdown":"I&#39;m guessing your goal (which I shouldn&#39;t have to do) but if it&#39;s to place a working link into a compressed archive, then use tar, which supports links","body":"I&#39;m guessing your goal (which I shouldn&#39;t have to do) but if it&#39;s to place a working link into a compressed archive, then use tar, which supports links"},{"owner":{"account_id":11897856,"reputation":70,"user_id":12212260,"display_name":"Nold"},"score":0,"creation_date":1673488085,"post_id":75086985,"comment_id":132512774,"body_markdown":"Thank you for everyone&#39;s input. I definitely needed a refresher on filesystems. I will accept the current answer since the byte representation of a symbolic link can be interpreted as the equivalent of the byte representation of a regular file. Taking the ext4 filesystem as an example, the data for a regular file is stored in data blocks, and a symlink will store the target in data blocks if it is too long to be stored within `inode.i_block`. For a file to be considered a symbolic link, there is additional file metadata within the inode table that is set.","body":"Thank you for everyone&#39;s input. I definitely needed a refresher on filesystems. I will accept the current answer since the byte representation of a symbolic link can be interpreted as the equivalent of the byte representation of a regular file. Taking the ext4 filesystem as an example, the data for a regular file is stored in data blocks, and a symlink will store the target in data blocks if it is too long to be stored within <code>inode.i_block</code>. For a file to be considered a symbolic link, there is additional file metadata within the inode table that is set."}],"answers":[{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1673464948,"post_id":75087743,"comment_id":132507615,"body_markdown":"Does it though?  This just reads like it resolves a path to the symlink, but doesn&#39;t present the byte structure that the OP is requiring.","body":"Does it though?  This just reads like it resolves a path to the symlink, but doesn&#39;t present the byte structure that the OP is requiring."}],"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673462957,"creation_date":1673462957,"answer_id":75087743,"question_id":75086985,"body_markdown":"java.nio.file.Files has [readSymbolicLink][1] which does what you want. \r\n\r\n&gt;Reads the target of a symbolic link (optional operation).\r\n&gt;\r\n&gt;If the file system supports symbolic links then this method is used to read the target of the link, failing if the file is not a symbolic link. The target of the link need not exist. The returned Path object will be associated with the same file system as link.\r\n\r\n\r\nExample:\r\n\r\n```java\r\ntry {\r\n    Path file = Files.readSymbolicLink(link);\r\n} catch (IOException x) {\r\n    System.err.println(x);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readSymbolicLink(java.nio.file.Path)","title":"How to read a symlink file in Java?","body":"<p>java.nio.file.Files has <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readSymbolicLink(java.nio.file.Path)\" rel=\"nofollow noreferrer\">readSymbolicLink</a> which does what you want.</p>\n<blockquote>\n<p>Reads the target of a symbolic link (optional operation).</p>\n<p>If the file system supports symbolic links then this method is used to read the target of the link, failing if the file is not a symbolic link. The target of the link need not exist. The returned Path object will be associated with the same file system as link.</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Path file = Files.readSymbolicLink(link);\n} catch (IOException x) {\n    System.err.println(x);\n}\n</code></pre>\n"}],"owner":{"account_id":11897856,"reputation":70,"user_id":12212260,"display_name":"Nold"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75087743,"answer_count":1,"score":0,"last_activity_date":1673462957,"creation_date":1673458667,"question_id":75086985,"body_markdown":"I want to read the contents of a symlink in Java _without_ following the symlink. I know that there are many functions in `Files` that allow for the `LinkOption.NOFOLLOW_LINKS` option, including `Files.copy(symlinkpath, newsymlinkpath, LinkOption.NOFOLLOW_LINKS)`, however, it looks like input streams like `FileInputStream` don&#39;t have this same option (it will try to follow symlinks by default).\r\n\r\nIt seems like it should be easy to read the byte representation of a symlink into a buffer in Java, but I can&#39;t seem to figure it out.","title":"How to read a symlink file in Java?","body":"<p>I want to read the contents of a symlink in Java <em>without</em> following the symlink. I know that there are many functions in <code>Files</code> that allow for the <code>LinkOption.NOFOLLOW_LINKS</code> option, including <code>Files.copy(symlinkpath, newsymlinkpath, LinkOption.NOFOLLOW_LINKS)</code>, however, it looks like input streams like <code>FileInputStream</code> don't have this same option (it will try to follow symlinks by default).</p>\n<p>It seems like it should be easy to read the byte representation of a symlink into a buffer in Java, but I can't seem to figure it out.</p>\n"},{"tags":["java","rx-java2"],"answers":[{"comments":[{"owner":{"account_id":7311387,"reputation":373,"user_id":6293720,"accept_rate":58,"display_name":"ProgrammingBaKa"},"score":0,"creation_date":1673463198,"post_id":75087738,"comment_id":132507130,"body_markdown":"You are right, I have missed to know the difference of return type between the two operators, thanks for clarifying","body":"You are right, I have missed to know the difference of return type between the two operators, thanks for clarifying"}],"tags":[],"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673462915,"creation_date":1673462915,"answer_id":75087738,"question_id":75087532,"body_markdown":"`fromCallable` is not designed to return an `Observable`, while `defer` is. So in your example with `fromCallable`, you&#39;re ending up with a `Observable&lt;Observable&lt;ErrorResult&gt;&gt;`. You actually can&#39;t get your desired behavior with `fromCallable`, because you can&#39;t use it to get an empty `Observable` (returning `null` from the `Callable` results in a `NullPointerException`).","title":"RxJava fromCallable() and defer() difference in behaviour","body":"<p><code>fromCallable</code> is not designed to return an <code>Observable</code>, while <code>defer</code> is. So in your example with <code>fromCallable</code>, you're ending up with a <code>Observable&lt;Observable&lt;ErrorResult&gt;&gt;</code>. You actually can't get your desired behavior with <code>fromCallable</code>, because you can't use it to get an empty <code>Observable</code> (returning <code>null</code> from the <code>Callable</code> results in a <code>NullPointerException</code>).</p>\n"}],"owner":{"account_id":7311387,"reputation":373,"user_id":6293720,"accept_rate":58,"display_name":"ProgrammingBaKa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75087738,"answer_count":1,"score":0,"last_activity_date":1673462915,"creation_date":1673461605,"question_id":75087532,"body_markdown":"I have implement a validate function, sample code are as below:\r\n\r\n```\r\npublic class TestObject {\r\n  LocalDateTime d1;\r\n  LocalDateTime d2;\r\n\r\n  //getters, setters\r\n}\r\n\r\npublic class ErrorResult {\r\n  String errorMsg;\r\n  \r\n  public ErrorResult(String errorMsg){\r\n    this.errorMsg = errorMsg;\r\n  }\r\n}\r\n\r\npublic Observable&lt;ErrorResult&gt; validate(TestObject testObject){\r\n  // implementation section\r\n}\r\n```\r\n\r\nFor the implementation section, I have tried to use Observable.fromCallable() and Observable.defer() functions to do the same job, for example:\r\n```\r\n// for implementation using Observable.fromCallable\r\nreturn Observable.fromCallable(() -&gt; {\r\n  LocalDateTime d1 = testObject.getD1();\r\n  LocalDateTime d2 = testObject.getD2();\r\n  if(d1.isBefore(d2))\r\n    return Observable.just(new ErrorResult(&quot;Error d1 is before d2&quot;));\r\n\r\n  return Observable.empty();\r\n});\r\n\r\n// for implementation using Observable.defer\r\nreturn Observable.defer(() -&gt; {\r\n  LocalDateTime d1 = testObject.getD1();\r\n  LocalDateTime d2 = testObject.getD2();\r\n  if(d1.isBefore(d2))\r\n    return Observable.just(new ErrorResult(&quot;Error d1 is before d2&quot;));\r\n\r\n  return Observable.empty();\r\n});\r\n```\r\n\r\nWhile the implementation of the logic within the anonymous functions is the same, \r\n- the implementation using Observable.fromCallable throw a compilation error in IDE (Intellij), which stated &quot;no instance(s) of type variable(s) T exist so that Observable&lt;T&gt; conforms to ErrorResult&quot;. It was caused by the return of Observable.empty() as the fallback return in case no error exists\r\n- the implementation using Observable.defer compile successfully without error\r\n\r\nMay I know what is the difference between Observable.fromCallable() and Observable.defer() in this case?\r\n\r\nThanks a lot for the help\r\n\r\n","title":"RxJava fromCallable() and defer() difference in behaviour","body":"<p>I have implement a validate function, sample code are as below:</p>\n<pre><code>public class TestObject {\n  LocalDateTime d1;\n  LocalDateTime d2;\n\n  //getters, setters\n}\n\npublic class ErrorResult {\n  String errorMsg;\n  \n  public ErrorResult(String errorMsg){\n    this.errorMsg = errorMsg;\n  }\n}\n\npublic Observable&lt;ErrorResult&gt; validate(TestObject testObject){\n  // implementation section\n}\n</code></pre>\n<p>For the implementation section, I have tried to use Observable.fromCallable() and Observable.defer() functions to do the same job, for example:</p>\n<pre><code>// for implementation using Observable.fromCallable\nreturn Observable.fromCallable(() -&gt; {\n  LocalDateTime d1 = testObject.getD1();\n  LocalDateTime d2 = testObject.getD2();\n  if(d1.isBefore(d2))\n    return Observable.just(new ErrorResult(&quot;Error d1 is before d2&quot;));\n\n  return Observable.empty();\n});\n\n// for implementation using Observable.defer\nreturn Observable.defer(() -&gt; {\n  LocalDateTime d1 = testObject.getD1();\n  LocalDateTime d2 = testObject.getD2();\n  if(d1.isBefore(d2))\n    return Observable.just(new ErrorResult(&quot;Error d1 is before d2&quot;));\n\n  return Observable.empty();\n});\n</code></pre>\n<p>While the implementation of the logic within the anonymous functions is the same,</p>\n<ul>\n<li>the implementation using Observable.fromCallable throw a compilation error in IDE (Intellij), which stated &quot;no instance(s) of type variable(s) T exist so that Observable conforms to ErrorResult&quot;. It was caused by the return of Observable.empty() as the fallback return in case no error exists</li>\n<li>the implementation using Observable.defer compile successfully without error</li>\n</ul>\n<p>May I know what is the difference between Observable.fromCallable() and Observable.defer() in this case?</p>\n<p>Thanks a lot for the help</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673462816,"post_id":75087700,"comment_id":132507020,"body_markdown":"I guess there is no `bin` folder in your jar. remove it","body":"I guess there is no <code>bin</code> folder in your jar. remove it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673462940,"post_id":75087700,"comment_id":132507061,"body_markdown":"*and make .\\bin\\Test1.class file an entry point for this archive* You don&#39;t want to do that. If you do that, you would have to put Test1 in package &#39;bin&#39; `jar cfe app.jar Test1 -C bin *.class` is the command you actually need","body":"<i>and make .\\bin\\Test1.class file an entry point for this archive</i> You don&#39;t want to do that. If you do that, you would have to put Test1 in package &#39;bin&#39; <code>jar cfe app.jar Test1 -C bin *.class</code> is the command you actually need"},{"owner":{"account_id":27501441,"reputation":11,"user_id":20985049,"display_name":"Tsvetkov Daniil"},"score":0,"creation_date":1673464979,"post_id":75087700,"comment_id":132507624,"body_markdown":"So I guess I can&#39;t have entry point in package which is located in that same archive. Is it always like that or maybe I can somehow specify the path for this entry point (for example in manifest)?","body":"So I guess I can&#39;t have entry point in package which is located in that same archive. Is it always like that or maybe I can somehow specify the path for this entry point (for example in manifest)?"}],"owner":{"account_id":27501441,"reputation":11,"user_id":20985049,"display_name":"Tsvetkov Daniil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673462694,"creation_date":1673462694,"question_id":75087700,"body_markdown":"I&#39;m using Windows 10. Currently trying to figure out how to work with java files from the console. Bumped into a problem - I have 3 **.java** files and **.\\bin** directory where all my **.class** files are stored. I want to create a **.jar** file, put all **.class** files in it and make **.\\bin\\Test1.class** file an entry point for this archive\r\n\r\nSo I tried this command that I found on Oracle docs\r\n\r\n```\r\njar cfe app.jar bin/Test1 bin/*.class\r\n```\r\nIt worked and I got everything I need in this archive but when I try to run the application by\r\n\r\n```\r\njava -jar app.jar\r\n```\r\nthe error appears and tells that It could not find the main class \r\n[Error text](https://i.stack.imgur.com/YH7wU.png)\r\n\r\nSo I tried using different delimiters in command and manifest file, added **Class-Path:** attribute in manifest (however not sure what exactly should be in it), tried running from administrator. Nothing works","title":"How to set .jar entry point class that is located in other package","body":"<p>I'm using Windows 10. Currently trying to figure out how to work with java files from the console. Bumped into a problem - I have 3 <strong>.java</strong> files and <strong>.\\bin</strong> directory where all my <strong>.class</strong> files are stored. I want to create a <strong>.jar</strong> file, put all <strong>.class</strong> files in it and make <strong>.\\bin\\Test1.class</strong> file an entry point for this archive</p>\n<p>So I tried this command that I found on Oracle docs</p>\n<pre><code>jar cfe app.jar bin/Test1 bin/*.class\n</code></pre>\n<p>It worked and I got everything I need in this archive but when I try to run the application by</p>\n<pre><code>java -jar app.jar\n</code></pre>\n<p>the error appears and tells that It could not find the main class\n<a href=\"https://i.stack.imgur.com/YH7wU.png\" rel=\"nofollow noreferrer\">Error text</a></p>\n<p>So I tried using different delimiters in command and manifest file, added <strong>Class-Path:</strong> attribute in manifest (however not sure what exactly should be in it), tried running from administrator. Nothing works</p>\n"},{"tags":["java","spring","spring-webflux","spring-webclient","reactor-netty"],"comments":[{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1673510853,"post_id":75087500,"comment_id":132516591,"body_markdown":"I would suggest to update your versions. Also follow the recommendations here https://projectreactor.io/docs/netty/release/reference/index.html#faq.connection-closed","body":"I would suggest to update your versions. Also follow the recommendations here <a href=\"https://projectreactor.io/docs/netty/release/reference/index.html#faq.connection-closed\" rel=\"nofollow noreferrer\">projectreactor.io/docs/netty/release/reference/&hellip;</a>"},{"owner":{"account_id":964170,"reputation":2021,"user_id":987925,"accept_rate":92,"display_name":"XMight"},"score":0,"creation_date":1673520168,"post_id":75087500,"comment_id":132519710,"body_markdown":"The cloud service provider(CP) sends the message, the order is: CP: [FIN, ACK], WebClient(WC): [ACK] [FIN, ACK], CP: [RST]. Problem is, this is happening randomly after an existing request, which was returned to the pool, is retrieved and a new request is attempted.","body":"The cloud service provider(CP) sends the message, the order is: CP: [FIN, ACK], WebClient(WC): [ACK] [FIN, ACK], CP: [RST]. Problem is, this is happening randomly after an existing request, which was returned to the pool, is retrieved and a new request is attempted."},{"owner":{"account_id":964170,"reputation":2021,"user_id":987925,"accept_rate":92,"display_name":"XMight"},"score":0,"creation_date":1673522560,"post_id":75087500,"comment_id":132520511,"body_markdown":"@VioletaGeorgieva if RestTemplate is used, with pooled configuration, no drops and errors are observed.","body":"@VioletaGeorgieva if RestTemplate is used, with pooled configuration, no drops and errors are observed."},{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1673528306,"post_id":75087500,"comment_id":132522465,"body_markdown":"Try to debug what was the previous request. You may want to create an issue with a reproducible example.","body":"Try to debug what was the previous request. You may want to create an issue with a reproducible example."}],"owner":{"account_id":964170,"reputation":2021,"user_id":987925,"accept_rate":92,"display_name":"XMight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673461743,"creation_date":1673461377,"question_id":75087500,"body_markdown":"WebClient configuration (minimized reproducible use case, tested with different durations, no effect):\r\n```\r\n    public WebClient createWebClient() {\r\n        ConnectionProvider provider = ConnectionProvider.builder(&quot;WebClientProvider&quot;)\r\n                .maxConnections(2)\r\n                .maxIdleTime(Duration.ofSeconds(10))\r\n                .maxLifeTime(Duration.ofSeconds(20))\r\n                .pendingAcquireTimeout(Duration.ofSeconds(10))\r\n                .evictInBackground(Duration.ofSeconds(10))\r\n                .build();\r\n\r\n        HttpClient httpClient = HttpClient.create(provider).option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000);\r\n\r\n        ReactorClientHttpConnector reactorClientHttpConnector = new ReactorClientHttpConnector(httpClient);\r\n\r\n        return WebClient.builder()\r\n            .clientConnector(reactorClientHttpConnector)\r\n            .build();\r\n    }\r\n```\r\n\r\nUsage of the client, as a GET to a public cloud service provider:\r\n```\r\n    public Flux&lt;SomeClass&gt; doGetSomething() {\r\n        return webClient.get()\r\n                .uri(buildUri())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(byte[].class)\r\n                .flatMapMany(byteArray -&gt; Flux.fromArray(byteArrayToModel(byteArray, SomeClass[].class)))\r\n                .onErrorResume(e -&gt; {\r\n                    return Flux.error(new RuntimeException(&quot;Failed to call get&quot;, e));\r\n                });\r\n    }\r\n```\r\n\r\nException:\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: Connection prematurely closed BEFORE response; nested exception is reactor.netty.http.client.PrematureCloseException: Connection prematurely closed BEFORE response\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nAssembly trace from producer [reactor.core.publisher.MonoLift] :\r\n\treactor.core.publisher.Mono.error(Mono.java:330)\r\n\torg.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.wrapException(ExchangeFunctions.java:141)\r\nError has been observed at the following site(s):\r\n\t*__________Mono.error ⇢ at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.wrapException(ExchangeFunctions.java:141)\r\n\t*__Mono.onErrorResume ⇢ at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.exchange(ExchangeFunctions.java:106)\r\n\t|_           Mono.map ⇢ at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.exchange(ExchangeFunctions.java:107)\r\n\t*________Mono.flatMap ⇢ at org.springframework.web.reactive.function.client.ExchangeFilterFunction.lambda$ofResponseProcessor$4(ExchangeFilterFunction.java:96)\r\n\t*________Mono.flatMap ⇢ at org.springframework.web.reactive.function.client.ExchangeFilterFunction.lambda$ofRequestProcessor$3(ExchangeFilterFunction.java:85)\r\n\t|_         checkpoint ⇢ Request to GET https://***********************.com/someendpoint*********************** [DefaultWebClient]\r\n\t|_ Mono.switchIfEmpty ⇢ at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultRequestBodyUriSpec.lambda$exchange$7(DefaultWebClient.java:433)\r\n\t*__________Mono.defer ⇢ at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultRequestBodyUriSpec.exchange(DefaultWebClient.java:430)\r\n\t|_       Mono.flatMap ⇢ at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.bodyToMono(DefaultWebClient.java:540)\r\n\t|_   Mono.flatMapMany ⇢ at com.mycode(SomeClass.java:57)\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerError(FluxConcatMap.java:309)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onError(FluxConcatMap.java:875)\r\n\t\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\t\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\r\n\t\tat io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:384)\r\n\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:202)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:450)\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundClose(HttpClientOperations.java:294)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelInactive(ChannelOperationsHandler.java:73)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:357)\r\n\t\tat io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:326)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:357)\r\n\t\tat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1074)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n\t\tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:164)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nTest mechanism:\r\nGET requests through insomnia to the reactive web app (clicking with the mouse on Send button continuously until it fails), requests failing intermittently, at random intervals with no obvious (for me), causes.\r\n\r\nAny ideas how to solve this?\r\n\r\nVersions:\r\n```\r\norg.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.6\r\nio.projectreactor.netty:reactor-netty-http:jar:1.0.17\r\nio.projectreactor.netty:reactor-netty-core:jar:1.0.17\r\nio.projectreactor:reactor-core:jar:3.4.16\r\nio.netty:netty-codec:jar:4.1.75\r\norg.springframework:spring-webflux:jar:5.3.18\r\n```\r\n\r\nP.S.\r\nDebugged internal libraries workflow, and got here, in reactor netty http:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vjvIU.png","title":"Spring reactive connection prematurely closed BEFORE response reactor netty WebClient HttpClient","body":"<p>WebClient configuration (minimized reproducible use case, tested with different durations, no effect):</p>\n<pre><code>    public WebClient createWebClient() {\n        ConnectionProvider provider = ConnectionProvider.builder(&quot;WebClientProvider&quot;)\n                .maxConnections(2)\n                .maxIdleTime(Duration.ofSeconds(10))\n                .maxLifeTime(Duration.ofSeconds(20))\n                .pendingAcquireTimeout(Duration.ofSeconds(10))\n                .evictInBackground(Duration.ofSeconds(10))\n                .build();\n\n        HttpClient httpClient = HttpClient.create(provider).option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000);\n\n        ReactorClientHttpConnector reactorClientHttpConnector = new ReactorClientHttpConnector(httpClient);\n\n        return WebClient.builder()\n            .clientConnector(reactorClientHttpConnector)\n            .build();\n    }\n</code></pre>\n<p>Usage of the client, as a GET to a public cloud service provider:</p>\n<pre><code>    public Flux&lt;SomeClass&gt; doGetSomething() {\n        return webClient.get()\n                .uri(buildUri())\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(byte[].class)\n                .flatMapMany(byteArray -&gt; Flux.fromArray(byteArrayToModel(byteArray, SomeClass[].class)))\n                .onErrorResume(e -&gt; {\n                    return Flux.error(new RuntimeException(&quot;Failed to call get&quot;, e));\n                });\n    }\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection prematurely closed BEFORE response; nested exception is reactor.netty.http.client.PrematureCloseException: Connection prematurely closed BEFORE response\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoLift] :\n    reactor.core.publisher.Mono.error(Mono.java:330)\n    org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.wrapException(ExchangeFunctions.java:141)\nError has been observed at the following site(s):\n    *__________Mono.error ⇢ at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.wrapException(ExchangeFunctions.java:141)\n    *__Mono.onErrorResume ⇢ at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.exchange(ExchangeFunctions.java:106)\n    |_           Mono.map ⇢ at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.exchange(ExchangeFunctions.java:107)\n    *________Mono.flatMap ⇢ at org.springframework.web.reactive.function.client.ExchangeFilterFunction.lambda$ofResponseProcessor$4(ExchangeFilterFunction.java:96)\n    *________Mono.flatMap ⇢ at org.springframework.web.reactive.function.client.ExchangeFilterFunction.lambda$ofRequestProcessor$3(ExchangeFilterFunction.java:85)\n    |_         checkpoint ⇢ Request to GET https://***********************.com/someendpoint*********************** [DefaultWebClient]\n    |_ Mono.switchIfEmpty ⇢ at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultRequestBodyUriSpec.lambda$exchange$7(DefaultWebClient.java:433)\n    *__________Mono.defer ⇢ at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultRequestBodyUriSpec.exchange(DefaultWebClient.java:430)\n    |_       Mono.flatMap ⇢ at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.bodyToMono(DefaultWebClient.java:540)\n    |_   Mono.flatMapMany ⇢ at com.mycode(SomeClass.java:57)\nOriginal Stack Trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerError(FluxConcatMap.java:309)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onError(FluxConcatMap.java:875)\n        at reactor.core.publisher.Operators.error(Operators.java:198)\n        at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190)\n        at io.opentracing.contrib.reactor.TracedSubscriber.lambda$onError$4(TracedSubscriber.java:79)\n        at io.opentracing.contrib.reactor.TracedSubscriber.withActiveSpan(TracedSubscriber.java:95)\n        at io.opentracing.contrib.reactor.TracedSubscriber.onError(TracedSubscriber.java:79)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194)\n        at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:384)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:202)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:450)\n        at reactor.netty.http.client.HttpClientOperations.onInboundClose(HttpClientOperations.java:294)\n        at reactor.netty.channel.ChannelOperationsHandler.channelInactive(ChannelOperationsHandler.java:73)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:357)\n        at io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:326)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:357)\n        at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1074)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Test mechanism:\nGET requests through insomnia to the reactive web app (clicking with the mouse on Send button continuously until it fails), requests failing intermittently, at random intervals with no obvious (for me), causes.</p>\n<p>Any ideas how to solve this?</p>\n<p>Versions:</p>\n<pre><code>org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.6\nio.projectreactor.netty:reactor-netty-http:jar:1.0.17\nio.projectreactor.netty:reactor-netty-core:jar:1.0.17\nio.projectreactor:reactor-core:jar:3.4.16\nio.netty:netty-codec:jar:4.1.75\norg.springframework:spring-webflux:jar:5.3.18\n</code></pre>\n<p>P.S.\nDebugged internal libraries workflow, and got here, in reactor netty http:\n<a href=\"https://i.stack.imgur.com/vjvIU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjvIU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1673503527,"post_id":75087499,"comment_id":132514921,"body_markdown":"Is Test1 a Tag meta annotation?","body":"Is Test1 a Tag meta annotation?"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673461373,"creation_date":1673461373,"question_id":75087499,"body_markdown":"I want to filter tests from different packages based on environment using a command line argument.\r\n\r\nBelow test case is referring the development environment\r\n\r\n    -package A\r\n      class TestCase    \r\n      @Test1\r\n      public void scenario(){\r\n      }\r\n\r\nBelow test case referring to UAT environment\r\n\r\n    -package B\r\n     class TestCase2    \r\n      @Test1\r\n      public void scenario1(){\r\n      }\r\n\r\nI am trying to filter test cases using the environment. I am using Gradle and passing commands like the below: \r\n\r\n    ./gradlew Pargs=&quot;Test1&quot;,ENV=dev\r\n\r\n","title":"How to filter test based on tags using Junit 5?","body":"<p>I want to filter tests from different packages based on environment using a command line argument.</p>\n<p>Below test case is referring the development environment</p>\n<pre><code>-package A\n  class TestCase    \n  @Test1\n  public void scenario(){\n  }\n</code></pre>\n<p>Below test case referring to UAT environment</p>\n<pre><code>-package B\n class TestCase2    \n  @Test1\n  public void scenario1(){\n  }\n</code></pre>\n<p>I am trying to filter test cases using the environment. I am using Gradle and passing commands like the below:</p>\n<pre><code>./gradlew Pargs=&quot;Test1&quot;,ENV=dev\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1673461169,"post_id":75087391,"comment_id":132506543,"body_markdown":"`&lt;E&gt; void` is two separate things, `&lt;E&gt;` and `void`.  The latter is the method return type, as normal. The former is part of the syntax for a generic method, declaring the method&#39;s type parameter.  This is different from a method of a generic class that uses the class&#39;s type parameter(s) -- here, the type parameter belongs to the method itself, and is resolved separately for each invocation.","body":"<code>&lt;E&gt; void</code> is two separate things, <code>&lt;E&gt;</code> and <code>void</code>.  The latter is the method return type, as normal. The former is part of the syntax for a generic method, declaring the method&#39;s type parameter.  This is different from a method of a generic class that uses the class&#39;s type parameter(s) -- here, the type parameter belongs to the method itself, and is resolved separately for each invocation."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673461360,"creation_date":1673460997,"answer_id":75087421,"question_id":75087391,"body_markdown":"`void` is the return type for the `append` method, that&#39;s independent of the generic type `E`.","title":"About generics in java","body":"<p><code>void</code> is the return type for the <code>append</code> method, that's independent of the generic type <code>E</code>.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673461198,"creation_date":1673461198,"answer_id":75087463,"question_id":75087391,"body_markdown":"In that method declaration, `void` is the return type. `&lt;E&gt;` is the declaration of the method&#39;s type parameter, which is necessary when the class itself does not have a matching type parameter because the method argument uses `&lt;E&gt;` as a type parameter.\r\n\r\nIn this case, `&lt;E&gt;` and `void` have nothing to do with each other.","title":"About generics in java","body":"<p>In that method declaration, <code>void</code> is the return type. <code>&lt;E&gt;</code> is the declaration of the method's type parameter, which is necessary when the class itself does not have a matching type parameter because the method argument uses <code>&lt;E&gt;</code> as a type parameter.</p>\n<p>In this case, <code>&lt;E&gt;</code> and <code>void</code> have nothing to do with each other.</p>\n"}],"owner":{"account_id":27501734,"reputation":11,"user_id":20985290,"display_name":"hyo"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1673461896,"answer_count":2,"score":-3,"last_activity_date":1673461360,"creation_date":1673460832,"question_id":75087391,"body_markdown":"I have a question about generics, I know what `&lt;E&gt;` means, but what does `&lt;E&gt; void` mean?\r\n\r\n```\r\npublic static &lt;E&gt; void append(List&lt;E&gt; list) {\r\n\r\n}\r\n```\r\n\r\nI thought about `&lt;E&gt;` void but I don&#39;t know what it means.","title":"About generics in java","body":"<p>I have a question about generics, I know what <code>&lt;E&gt;</code> means, but what does <code>&lt;E&gt; void</code> mean?</p>\n<pre><code>public static &lt;E&gt; void append(List&lt;E&gt; list) {\n\n}\n</code></pre>\n<p>I thought about <code>&lt;E&gt;</code> void but I don't know what it means.</p>\n"},{"tags":["java","maven","intellij-14"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1644815616,"post_id":71107319,"comment_id":125697100,"body_markdown":"Can you post your `pom.xml` file?","body":"Can you post your <code>pom.xml</code> file?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1644816403,"post_id":71107319,"comment_id":125697206,"body_markdown":"It’s there: https://repo.maven.apache.org/maven2/org/javacord/javacord/3.4.0/","body":"It’s there: <a href=\"https://repo.maven.apache.org/maven2/org/javacord/javacord/3.4.0/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/org/javacord/javacord/3.4.0</a>"},{"owner":{"account_id":24249383,"reputation":1,"user_id":18200608,"display_name":"Polaras"},"score":0,"creation_date":1644816509,"post_id":71107319,"comment_id":125697228,"body_markdown":"I posted the pom file, i don&#39;t know if i did it correctly, im new here","body":"I posted the pom file, i don&#39;t know if i did it correctly, im new here"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1644816973,"post_id":71107319,"comment_id":125697306,"body_markdown":"Add code as text not as link.","body":"Add code as text not as link."},{"owner":{"account_id":24249383,"reputation":1,"user_id":18200608,"display_name":"Polaras"},"score":0,"creation_date":1644817024,"post_id":71107319,"comment_id":125697312,"body_markdown":"How would i go about that, this is my 1st post","body":"How would i go about that, this is my 1st post"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1644821518,"post_id":71107319,"comment_id":125698101,"body_markdown":"Edit your question and paste the code into it, with appropriate formatting.","body":"Edit your question and paste the code into it, with appropriate formatting."}],"answers":[{"comments":[{"owner":{"account_id":24249383,"reputation":1,"user_id":18200608,"display_name":"Polaras"},"score":0,"creation_date":1644855159,"post_id":71108213,"comment_id":125710043,"body_markdown":"I have tried reloading the ide and the project, still not working","body":"I have tried reloading the ide and the project, still not working"}],"tags":[],"owner":{"account_id":1338796,"reputation":1283,"user_id":4850762,"accept_rate":73,"display_name":"Kaspatoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644822319,"creation_date":1644822319,"answer_id":71108213,"question_id":71107319,"body_markdown":"Maybe you have to load the dependencies you added to the pom.xml.\r\n\r\nin IntelliJ you can right click on your pom.xml chose maven -&gt; reload Project.\r\nThis loads all dependencies from pom.xml.\r\nCheck the console output for any errors.","title":"Intellij Maven dependency not resolved while following guide","body":"<p>Maybe you have to load the dependencies you added to the pom.xml.</p>\n<p>in IntelliJ you can right click on your pom.xml chose maven -&gt; reload Project.\nThis loads all dependencies from pom.xml.\nCheck the console output for any errors.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644835513,"post_id":71108725,"comment_id":125702438,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71108725/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":24249383,"reputation":1,"user_id":18200608,"display_name":"Polaras"},"score":0,"creation_date":1644855197,"post_id":71108725,"comment_id":125710062,"body_markdown":"Can you tell me how I would go about doing that","body":"Can you tell me how I would go about doing that"}],"tags":[],"owner":{"account_id":24250819,"reputation":1,"user_id":18201826,"display_name":"Julian Salfeld"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644825974,"creation_date":1644825974,"answer_id":71108725,"question_id":71107319,"body_markdown":"Should the answer from Kaspatoo not working for you you can try to add the repository from Javacord to your project.","title":"Intellij Maven dependency not resolved while following guide","body":"<p>Should the answer from Kaspatoo not working for you you can try to add the repository from Javacord to your project.</p>\n"},{"tags":[],"owner":{"account_id":24249383,"reputation":1,"user_id":18200608,"display_name":"Polaras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644862211,"creation_date":1644862211,"answer_id":71116387,"question_id":71107319,"body_markdown":"I figured it out, maven had downloaded the jars for the Dependency but wasn&#39;t loading them, I pointed maven to them in the system directory, and its working now","title":"Intellij Maven dependency not resolved while following guide","body":"<p>I figured it out, maven had downloaded the jars for the Dependency but wasn't loading them, I pointed maven to them in the system directory, and its working now</p>\n"}],"owner":{"account_id":24249383,"reputation":1,"user_id":18200608,"display_name":"Polaras"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4595,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1673461117,"creation_date":1644814616,"question_id":71107319,"body_markdown":"I am currently trying to follow [this guide][1] and every time I try to run the test code I am getting this error:\r\n\r\n&gt; [ERROR] Failed to execute goal on project MyBot: Could not resolve\r\n&gt; dependencies for project org.example:MyBot:jar:1.0-SNAPSHOT:\r\n&gt; org.javacord:javacord:jar:3.4.0 was not found in\r\n&gt; https://repo.maven.apache.org/maven2 during a previous attempt. This\r\n&gt; failure was cached in the local repository and resolution is not\r\n&gt; reattempted until the update interval of central has elapsed or\r\n&gt; updates are forced -&gt; [Help 1]\r\n\r\n[pom.xml][2]\r\n\r\n\r\n  [1]: https://javacord.org/wiki/getting-started/setup/intellij-maven.html#setup\r\n  [2]: https://drive.google.com/file/d/1q5nhz8v7LYo0bRNVyYEMzbeXmTqfGdND/view?usp=sharing","title":"Intellij Maven dependency not resolved while following guide","body":"<p>I am currently trying to follow <a href=\"https://javacord.org/wiki/getting-started/setup/intellij-maven.html#setup\" rel=\"nofollow noreferrer\">this guide</a> and every time I try to run the test code I am getting this error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project MyBot: Could not resolve\ndependencies for project org.example:MyBot:jar:1.0-SNAPSHOT:\norg.javacord:javacord:jar:3.4.0 was not found in\n<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This\nfailure was cached in the local repository and resolution is not\nreattempted until the update interval of central has elapsed or\nupdates are forced -&gt; [Help 1]</p>\n</blockquote>\n<p><a href=\"https://drive.google.com/file/d/1q5nhz8v7LYo0bRNVyYEMzbeXmTqfGdND/view?usp=sharing\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673444475,"post_id":75083453,"comment_id":132500233,"body_markdown":"For 1., doesn&#39;t the obvious modification (`if (empty || item &lt;= 0) { setGraphic(null); } else { ... }`) work?","body":"For 1., doesn&#39;t the obvious modification (<code>if (empty || item &lt;= 0) { setGraphic(null); } else { ... }</code>) work?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1673444714,"post_id":75083453,"comment_id":132500323,"body_markdown":"@James_D thanks for the suggestion, I already tried this however this doesn&#39;t work. This will make the progress indicator never visible when it&#39;s indeterminate (because then `item == -1` if I remember correctly).","body":"@James_D thanks for the suggestion, I already tried this however this doesn&#39;t work. This will make the progress indicator never visible when it&#39;s indeterminate (because then <code>item == -1</code> if I remember correctly)."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1673444794,"post_id":75083453,"comment_id":132500356,"body_markdown":"tasks cannot be restarted. every time you want to run a task you have to create it. from here the table design also becomes wrong.","body":"tasks cannot be restarted. every time you want to run a task you have to create it. from here the table design also becomes wrong."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1673444862,"post_id":75083453,"comment_id":132500388,"body_markdown":"Actually, looking at the changes you made to the `TestTask`, the progress can only either be indeterminate, or 1. If this is the case, I don&#39;t understand the point of observing the `progressProperty` at all. Just observe the `state` property, and make the progress indicator invisible, visible with value -1, or visible with value 1 as appropriate.","body":"Actually, looking at the changes you made to the <code>TestTask</code>, the progress can only either be indeterminate, or 1. If this is the case, I don&#39;t understand the point of observing the <code>progressProperty</code> at all. Just observe the <code>state</code> property, and make the progress indicator invisible, visible with value -1, or visible with value 1 as appropriate."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1673444890,"post_id":75083453,"comment_id":132500404,"body_markdown":"For 2. you would need the model class to subclass (or encapsulate) a `Service`, not a `Task`.","body":"For 2. you would need the model class to subclass (or encapsulate) a <code>Service</code>, not a <code>Task</code>."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1673445276,"post_id":75083453,"comment_id":132500564,"body_markdown":"@James_D yes, that&#39;s the case. I want the indicator to only be indeterminate or 1. Can you explain what you mean by &quot;_Just observe the `state` property ..._&quot;? I tought I needed to observe the `progressProperty` to be able to update the indicator at all. Thanks.","body":"@James_D yes, that&#39;s the case. I want the indicator to only be indeterminate or 1. Can you explain what you mean by &quot;<i>Just observe the <code>state</code> property ...</i>&quot;? I tought I needed to observe the <code>progressProperty</code> to be able to update the indicator at all. Thanks."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1673445481,"post_id":75083453,"comment_id":132500650,"body_markdown":"I mean the `state` property of the task, instead of the `progress` property *of the task*. Then just update the progress property of the indicator.","body":"I mean the <code>state</code> property of the task, instead of the <code>progress</code> property <i>of the task</i>. Then just update the progress property of the indicator."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673446819,"post_id":75083453,"comment_id":132501169,"body_markdown":"hmm don&#39;t quite understand your requirement: in the comment _ want the indicator to only be indeterminate or 1._ and in the description: _ each row is displayed immediately .. make them visible for each row one after another [after the task is started]_ - so you want to visualize the complete three-state (ready/running == indeterminate/done of the task. So comming back to the first comment by @James_D: why don&#39;t you implement that three-state appearance in the cell by hiding the indicator if not yet started? Please modify the example to demonstrate _indicator never visible_ of you comment","body":"hmm don&#39;t quite understand your requirement: in the comment _ want the indicator to only be indeterminate or 1._ and in the description: _ each row is displayed immediately .. make them visible for each row one after another [after the task is started]_ - so you want to visualize the complete three-state (ready/running == indeterminate/done of the task. So comming back to the first comment by @James_D: why don&#39;t you implement that three-state appearance in the cell by hiding the indicator if not yet started? Please modify the example to demonstrate <i>indicator never visible</i> of you comment"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1673446885,"post_id":75083453,"comment_id":132501186,"body_markdown":"@James_D Thanks for the hints! Seems like I got 1. working. I was confused because I thought I needed to observe the progress either way. But now observing the `state` I got it working.","body":"@James_D Thanks for the hints! Seems like I got 1. working. I was confused because I thought I needed to observe the progress either way. But now observing the <code>state</code> I got it working."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1673447151,"post_id":75083453,"comment_id":132501291,"body_markdown":"@kleopatra  Yeah I was confused and I got it wrong before, where I weren&#39;t able to set the indicators visible according the task status.","body":"@kleopatra  Yeah I was confused and I got it wrong before, where I weren&#39;t able to set the indicators visible according the task status."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1673447157,"post_id":75083453,"comment_id":132501297,"body_markdown":"Here is something with similar ideas. https://stackoverflow.com/questions/51955550/remove-tableview-entries-when-status-change","body":"Here is something with similar ideas. <a href=\"https://stackoverflow.com/questions/51955550/remove-tableview-entries-when-status-change\" title=\"remove tableview entries when status change\">stackoverflow.com/questions/51955550/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1673447411,"post_id":75084558,"comment_id":132501404,"body_markdown":"Thanks a lot, it finally clicked now! The calls to `updateProgress` in the `call()` are obsolete aswell now right? About the second part: I don&#39;t need it to be a `Task`, this was only taken from the linked original. I only need something to be executed to show the indicators updating. I will try changing it to a `Service`.","body":"Thanks a lot, it finally clicked now! The calls to <code>updateProgress</code> in the <code>call()</code> are obsolete aswell now right? About the second part: I don&#39;t need it to be a <code>Task</code>, this was only taken from the linked original. I only need something to be executed to show the indicators updating. I will try changing it to a <code>Service</code>."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1673455223,"post_id":75084558,"comment_id":132504550,"body_markdown":"Personally, I would split the TableView implementation from the underlying data.  Create TableView&lt;TableModel&gt; where TableModel is a POJO with a StringProperty and a DoubleProperty as fields.  Put them into an ObservableList&lt;TableModel&gt;.  When you click the Button, some independant process runs which starts up Tasks and Binds the DoubleProperties to the Tasks&#39; Progress properties.  This separates the View from the back-end implementation.","body":"Personally, I would split the TableView implementation from the underlying data.  Create TableView&lt;TableModel&gt; where TableModel is a POJO with a StringProperty and a DoubleProperty as fields.  Put them into an ObservableList&lt;TableModel&gt;.  When you click the Button, some independant process runs which starts up Tasks and Binds the DoubleProperties to the Tasks&#39; Progress properties.  This separates the View from the back-end implementation."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1673468691,"post_id":75084558,"comment_id":132508760,"body_markdown":"@James_D Yeah, like that.","body":"@James_D Yeah, like that."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673460678,"creation_date":1673447111,"answer_id":75084558,"question_id":75083453,"body_markdown":"Here is a version that implements your first question. With this requirement, the cell is only a function of the task&#39;s state. If it&#39;s `RUNNING`, display an indeterminate progress indicator; if it&#39;s `SUCCEEDED` display a progress indicator with value 1; otherwise, display nothing.\r\n\r\nNote the original question is very old and uses a lot of outdated code styles. I&#39;ve updated accordingly.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.ReadOnlyStringProperty;\r\n    import javafx.beans.property.ReadOnlyStringWrapper;\r\n    import javafx.concurrent.Task;\r\n    import javafx.concurrent.Worker;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class ProgressIndicatorTableCellTest extends Application {\r\n        public void start(Stage primaryStage) {\r\n            TableView&lt;TestTask&gt; table = new TableView&lt;&gt;();\r\n            Random rng = new Random();\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                table.getItems().add(new TestTask(rng.nextInt(3000) + 2000, &quot;Test&quot;));\r\n            }\r\n    \r\n            TableColumn&lt;TestTask, String&gt; nameCol = new TableColumn&lt;&gt;(&quot;Name&quot;);\r\n            nameCol.setCellValueFactory(data -&gt; data.getValue().nameProperty());\r\n            nameCol.setPrefWidth(75);\r\n    \r\n            TableColumn&lt;TestTask, Worker.State&gt; progressCol = new TableColumn&lt;&gt;(&quot;Progress&quot;);\r\n            progressCol.setCellValueFactory(data -&gt; data.getValue().stateProperty());\r\n            progressCol.setCellFactory(col -&gt; new ProgressIndicatorTableCell&lt;&gt;());\r\n    \r\n            table.getColumns().addAll(nameCol, progressCol);\r\n    \r\n            BorderPane root = new BorderPane();\r\n            root.setCenter(table);\r\n            Button btn = new Button(&quot;Start&quot;);\r\n            btn.setOnAction(actionEvent -&gt; {\r\n                ExecutorService executor = Executors.newSingleThreadExecutor(r -&gt; {\r\n                    Thread t = new Thread(r);\r\n                    t.setDaemon(true);\r\n                    return t;\r\n                });\r\n    \r\n                for (TestTask task : table.getItems()) {\r\n                    executor.submit(task);\r\n                }\r\n            });\r\n    \r\n            root.setBottom(btn);\r\n            primaryStage.setScene(new Scene(root));\r\n            primaryStage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        public static class TestTask extends Task&lt;Void&gt; {\r\n            private final int waitTime; // milliseconds\r\n            final ReadOnlyStringWrapper name = new ReadOnlyStringWrapper();\r\n            public static final int NUM_ITERATIONS = 100;\r\n    \r\n            public TestTask(int waitTime, String name) {\r\n                this.waitTime = waitTime;\r\n                this.name.set(name);\r\n            }\r\n    \r\n            public ReadOnlyStringProperty nameProperty() {\r\n                return name.getReadOnlyProperty();\r\n            }\r\n    \r\n            @Override\r\n            protected Void call() throws Exception {\r\n                this.updateProgress(ProgressIndicator.INDETERMINATE_PROGRESS, 1);\r\n                Thread.sleep(waitTime);\r\n                this.updateProgress(1, 1);\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n    \r\n    class ProgressIndicatorTableCell&lt;S&gt; extends TableCell&lt;S, Worker.State&gt; {\r\n    \r\n        private final ProgressIndicator progressIndicator = new ProgressIndicator();\r\n    \r\n        @Override\r\n        protected void updateItem(Worker.State state, boolean empty) {\r\n            super.updateItem(state, empty);\r\n            if (state == Worker.State.SUCCEEDED) {\r\n                progressIndicator.setProgress(1);\r\n                setGraphic(progressIndicator);\r\n            } else if (state == Worker.State.RUNNING) {\r\n                progressIndicator.setProgress(-1);\r\n                setGraphic(progressIndicator);\r\n            } else {\r\n                setGraphic(null);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n---\r\n\r\nTo allow for &quot;restarting&quot;, you should use a `Service` instead of just a `Task`. This version will allow for a restart if the button is pressed multiple times, returning everything to the initial state before proceeding. \r\n\r\nThis version also factors the processing work out of the model class, which is desirable for properly assigning responsibilities to classes:\r\n\r\nItem.java:\r\n\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.ReadOnlyStringProperty;\r\n    import javafx.beans.property.ReadOnlyStringWrapper;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    \r\n    public class Item {\r\n    \r\n        public enum State {WAITING, PROCESSING, READY}\r\n    \r\n        final ReadOnlyStringWrapper name = new ReadOnlyStringWrapper();\r\n    \r\n        private final ObjectProperty&lt;State&gt; state = new SimpleObjectProperty&lt;&gt;(State.WAITING);\r\n    \r\n    \r\n        public Item(String name) {\r\n            this.name.set(name);\r\n        }\r\n    \r\n        public ReadOnlyStringProperty nameProperty() {\r\n            return name.getReadOnlyProperty();\r\n        }\r\n    \r\n        public State getState() {\r\n            return state.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;State&gt; stateProperty() {\r\n            return state;\r\n        }\r\n    \r\n        public void setState(State state) {\r\n            this.state.set(state);\r\n        }\r\n    }\r\n\r\nProcessManager.java:\r\n\r\n    import javafx.application.Platform;\r\n    import javafx.concurrent.Service;\r\n    import javafx.concurrent.Task;\r\n    \r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    public class ProcessManager {\r\n    \r\n        private final List&lt;Item&gt; items;\r\n    \r\n        private Random rng = new Random();\r\n    \r\n        private Service&lt;Void&gt; service = new Service&lt;&gt;() {\r\n    \r\n            @Override\r\n            protected Task&lt;Void&gt; createTask() {\r\n                return new Task&lt;&gt;() {\r\n                    @Override\r\n                    protected Void call() throws Exception {\r\n                        for (Item task: items) {\r\n                            try {\r\n                                Platform.runLater(() -&gt; task.setState(Item.State.PROCESSING));\r\n                                Thread.sleep(2000 + rng.nextInt(3000));\r\n                                Platform.runLater(() -&gt; task.setState(Item.State.READY));\r\n                            } catch (InterruptedException exc) {\r\n                                Thread.currentThread().interrupt();\r\n                            }\r\n                            if (isCancelled()) {\r\n                                Platform.runLater(() -&gt; task.setState(Item.State.WAITING));\r\n                                break;\r\n                            }\r\n                        }\r\n                        return null;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    \r\n    \r\n        public ProcessManager(List&lt;Item&gt; items) {\r\n            this.items = items ;\r\n            service.setOnCancelled(e -&gt; items.forEach(task -&gt; task.setState(Item.State.WAITING)));\r\n        }\r\n    \r\n    \r\n        public void process() {\r\n            service.restart();\r\n        }\r\n    }\r\n\r\nand the application:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ProgressIndicatorTableCellTest extends Application {\r\n    \r\n        public void start(Stage primaryStage) {\r\n    \r\n            ObservableList&lt;Item&gt; tasks = FXCollections.observableArrayList();\r\n    \r\n            ProcessManager processManager = new ProcessManager(tasks);\r\n    \r\n            TableView&lt;Item&gt; table = new TableView&lt;&gt;();\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                Item task = new Item(&quot;Item &quot; + (i + 1));\r\n                tasks.add(task);\r\n            }\r\n            table.setItems(tasks);\r\n    \r\n            TableColumn&lt;Item, String&gt; nameCol = new TableColumn&lt;&gt;(&quot;Name&quot;);\r\n            nameCol.setCellValueFactory(data -&gt; data.getValue().nameProperty());\r\n            nameCol.setPrefWidth(75);\r\n    \r\n            TableColumn&lt;Item, Item.State&gt; progressCol = new TableColumn&lt;&gt;(&quot;Progress&quot;);\r\n            progressCol.setCellValueFactory(data -&gt; data.getValue().stateProperty());\r\n            progressCol.setCellFactory(col -&gt; new TableCell&lt;&gt;() {\r\n                private final ProgressIndicator indicator = new ProgressIndicator();\r\n                @Override\r\n                protected void updateItem(Item.State state, boolean empty) {\r\n                    super.updateItem(state, empty);\r\n                    if (state == Item.State.PROCESSING) {\r\n                        indicator.setProgress(-1);\r\n                        setGraphic(indicator);\r\n                    } else if (state == Item.State.READY) {\r\n                        indicator.setProgress(1);\r\n                        setGraphic(indicator);\r\n                    } else {\r\n                        setGraphic(null);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            table.getColumns().addAll(nameCol, progressCol);\r\n    \r\n            BorderPane root = new BorderPane();\r\n            root.setCenter(table);\r\n            Button btn = new Button(&quot;Start&quot;);\r\n            btn.setOnAction(actionEvent -&gt; processManager.process());\r\n    \r\n            root.setBottom(btn);\r\n            primaryStage.setScene(new Scene(root));\r\n            primaryStage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    }","title":"How to put a ProcessIndicator in each row of a TableView and indicate task status","body":"<p>Here is a version that implements your first question. With this requirement, the cell is only a function of the task's state. If it's <code>RUNNING</code>, display an indeterminate progress indicator; if it's <code>SUCCEEDED</code> display a progress indicator with value 1; otherwise, display nothing.</p>\n<p>Note the original question is very old and uses a lot of outdated code styles. I've updated accordingly.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.ReadOnlyStringProperty;\nimport javafx.beans.property.ReadOnlyStringWrapper;\nimport javafx.concurrent.Task;\nimport javafx.concurrent.Worker;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.util.Random;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class ProgressIndicatorTableCellTest extends Application {\n    public void start(Stage primaryStage) {\n        TableView&lt;TestTask&gt; table = new TableView&lt;&gt;();\n        Random rng = new Random();\n        for (int i = 0; i &lt; 3; i++) {\n            table.getItems().add(new TestTask(rng.nextInt(3000) + 2000, &quot;Test&quot;));\n        }\n\n        TableColumn&lt;TestTask, String&gt; nameCol = new TableColumn&lt;&gt;(&quot;Name&quot;);\n        nameCol.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        nameCol.setPrefWidth(75);\n\n        TableColumn&lt;TestTask, Worker.State&gt; progressCol = new TableColumn&lt;&gt;(&quot;Progress&quot;);\n        progressCol.setCellValueFactory(data -&gt; data.getValue().stateProperty());\n        progressCol.setCellFactory(col -&gt; new ProgressIndicatorTableCell&lt;&gt;());\n\n        table.getColumns().addAll(nameCol, progressCol);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(table);\n        Button btn = new Button(&quot;Start&quot;);\n        btn.setOnAction(actionEvent -&gt; {\n            ExecutorService executor = Executors.newSingleThreadExecutor(r -&gt; {\n                Thread t = new Thread(r);\n                t.setDaemon(true);\n                return t;\n            });\n\n            for (TestTask task : table.getItems()) {\n                executor.submit(task);\n            }\n        });\n\n        root.setBottom(btn);\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public static class TestTask extends Task&lt;Void&gt; {\n        private final int waitTime; // milliseconds\n        final ReadOnlyStringWrapper name = new ReadOnlyStringWrapper();\n        public static final int NUM_ITERATIONS = 100;\n\n        public TestTask(int waitTime, String name) {\n            this.waitTime = waitTime;\n            this.name.set(name);\n        }\n\n        public ReadOnlyStringProperty nameProperty() {\n            return name.getReadOnlyProperty();\n        }\n\n        @Override\n        protected Void call() throws Exception {\n            this.updateProgress(ProgressIndicator.INDETERMINATE_PROGRESS, 1);\n            Thread.sleep(waitTime);\n            this.updateProgress(1, 1);\n            return null;\n        }\n    }\n}\n\nclass ProgressIndicatorTableCell&lt;S&gt; extends TableCell&lt;S, Worker.State&gt; {\n\n    private final ProgressIndicator progressIndicator = new ProgressIndicator();\n\n    @Override\n    protected void updateItem(Worker.State state, boolean empty) {\n        super.updateItem(state, empty);\n        if (state == Worker.State.SUCCEEDED) {\n            progressIndicator.setProgress(1);\n            setGraphic(progressIndicator);\n        } else if (state == Worker.State.RUNNING) {\n            progressIndicator.setProgress(-1);\n            setGraphic(progressIndicator);\n        } else {\n            setGraphic(null);\n        }\n    }\n\n}\n</code></pre>\n<hr />\n<p>To allow for &quot;restarting&quot;, you should use a <code>Service</code> instead of just a <code>Task</code>. This version will allow for a restart if the button is pressed multiple times, returning everything to the initial state before proceeding.</p>\n<p>This version also factors the processing work out of the model class, which is desirable for properly assigning responsibilities to classes:</p>\n<p>Item.java:</p>\n<pre><code>import javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.ReadOnlyStringProperty;\nimport javafx.beans.property.ReadOnlyStringWrapper;\nimport javafx.beans.property.SimpleObjectProperty;\n\npublic class Item {\n\n    public enum State {WAITING, PROCESSING, READY}\n\n    final ReadOnlyStringWrapper name = new ReadOnlyStringWrapper();\n\n    private final ObjectProperty&lt;State&gt; state = new SimpleObjectProperty&lt;&gt;(State.WAITING);\n\n\n    public Item(String name) {\n        this.name.set(name);\n    }\n\n    public ReadOnlyStringProperty nameProperty() {\n        return name.getReadOnlyProperty();\n    }\n\n    public State getState() {\n        return state.get();\n    }\n\n    public ObjectProperty&lt;State&gt; stateProperty() {\n        return state;\n    }\n\n    public void setState(State state) {\n        this.state.set(state);\n    }\n}\n</code></pre>\n<p>ProcessManager.java:</p>\n<pre><code>import javafx.application.Platform;\nimport javafx.concurrent.Service;\nimport javafx.concurrent.Task;\n\nimport java.util.List;\nimport java.util.Random;\n\npublic class ProcessManager {\n\n    private final List&lt;Item&gt; items;\n\n    private Random rng = new Random();\n\n    private Service&lt;Void&gt; service = new Service&lt;&gt;() {\n\n        @Override\n        protected Task&lt;Void&gt; createTask() {\n            return new Task&lt;&gt;() {\n                @Override\n                protected Void call() throws Exception {\n                    for (Item task: items) {\n                        try {\n                            Platform.runLater(() -&gt; task.setState(Item.State.PROCESSING));\n                            Thread.sleep(2000 + rng.nextInt(3000));\n                            Platform.runLater(() -&gt; task.setState(Item.State.READY));\n                        } catch (InterruptedException exc) {\n                            Thread.currentThread().interrupt();\n                        }\n                        if (isCancelled()) {\n                            Platform.runLater(() -&gt; task.setState(Item.State.WAITING));\n                            break;\n                        }\n                    }\n                    return null;\n                }\n            };\n        }\n    };\n\n\n    public ProcessManager(List&lt;Item&gt; items) {\n        this.items = items ;\n        service.setOnCancelled(e -&gt; items.forEach(task -&gt; task.setState(Item.State.WAITING)));\n    }\n\n\n    public void process() {\n        service.restart();\n    }\n}\n</code></pre>\n<p>and the application:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class ProgressIndicatorTableCellTest extends Application {\n\n    public void start(Stage primaryStage) {\n\n        ObservableList&lt;Item&gt; tasks = FXCollections.observableArrayList();\n\n        ProcessManager processManager = new ProcessManager(tasks);\n\n        TableView&lt;Item&gt; table = new TableView&lt;&gt;();\n        for (int i = 0; i &lt; 3; i++) {\n            Item task = new Item(&quot;Item &quot; + (i + 1));\n            tasks.add(task);\n        }\n        table.setItems(tasks);\n\n        TableColumn&lt;Item, String&gt; nameCol = new TableColumn&lt;&gt;(&quot;Name&quot;);\n        nameCol.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        nameCol.setPrefWidth(75);\n\n        TableColumn&lt;Item, Item.State&gt; progressCol = new TableColumn&lt;&gt;(&quot;Progress&quot;);\n        progressCol.setCellValueFactory(data -&gt; data.getValue().stateProperty());\n        progressCol.setCellFactory(col -&gt; new TableCell&lt;&gt;() {\n            private final ProgressIndicator indicator = new ProgressIndicator();\n            @Override\n            protected void updateItem(Item.State state, boolean empty) {\n                super.updateItem(state, empty);\n                if (state == Item.State.PROCESSING) {\n                    indicator.setProgress(-1);\n                    setGraphic(indicator);\n                } else if (state == Item.State.READY) {\n                    indicator.setProgress(1);\n                    setGraphic(indicator);\n                } else {\n                    setGraphic(null);\n                }\n            }\n        });\n\n        table.getColumns().addAll(nameCol, progressCol);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(table);\n        Button btn = new Button(&quot;Start&quot;);\n        btn.setOnAction(actionEvent -&gt; processManager.process());\n\n        root.setBottom(btn);\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75084558,"answer_count":1,"score":3,"last_activity_date":1673460678,"creation_date":1673442006,"question_id":75083453,"body_markdown":"I&#39;m trying to do the following in JavaFX:\r\n\r\n- Have a `TableView` with multiple rows.\r\n- Each row contains columns with text and one Progress/Status column.\r\n- When a specific `Button` is pressed, for each row of the `TableView` some task should be performed, one row after the other. (e.g. check some data, ...)\r\n- While this task is performed, a indeterminate `ProgressIndicator` shall be shown in the Status column, until the task for this row is finished, then the indicator shows as done.\r\n- When all tasks for each row are done, the button can be pressed again to reset the status and execute the tasks again.\r\n_____\r\n\r\nI had found some help in [this related Stackoverflow post](https://stackoverflow.com/questions/16721380/javafx-update-progressbar-in-tableview-from-task) and also [here](https://community.oracle.com/tech/developers/discussion/2533798/table-cell-progress-indicator) and tried to tweak this as needed but got stuck on some issues:\r\n\r\n1. Currently, each `ProgressIndicator` for each row is displayed immediately (as indeterminate) when I run the program. How can I only activate them / make them visible for each row one after another once the button is pressed?\r\n2. Pressing the button again once the fake tasks are done does not restart it. How would I have to modify / rebuild the program to make resets possible?\r\n3. Does the overall approach make sense?\r\n____\r\nMy current runnable code:\r\n\r\n```lang-java\r\nimport java.util.Random;\r\nimport java.util.concurrent.*;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.ReadOnlyStringProperty;\r\nimport javafx.beans.property.ReadOnlyStringWrapper;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.concurrent.Task;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Callback;\r\n\r\npublic class ProgressIndicatorTableCellTest extends Application {\r\n\tpublic void start(Stage primaryStage) {\r\n\t\tTableView&lt;TestTask&gt; table = new TableView&lt;&gt;();\r\n\t\tRandom rng = new Random();\r\n\t\tfor (int i = 0; i &lt; 3; i++) {\r\n\t\t\ttable.getItems().add(new TestTask(rng.nextInt(3000) + 2000, &quot;Test&quot;));\r\n\t\t}\r\n\r\n\t\tTableColumn&lt;TestTask, String&gt; nameCol = new TableColumn(&quot;Name&quot;);\r\n\t\tnameCol.setCellValueFactory(new PropertyValueFactory&lt;TestTask, String&gt;(&quot;name&quot;));\r\n\t\tnameCol.setPrefWidth(75);\r\n\r\n\t\tTableColumn&lt;TestTask, Double&gt; progressCol = new TableColumn(&quot;Progress&quot;);\r\n\t\tprogressCol.setCellValueFactory(new PropertyValueFactory&lt;TestTask, Double&gt;(&quot;progress&quot;));\r\n\t\tprogressCol.setCellFactory(ProgressIndicatorTableCell.&lt;TestTask&gt;forTableColumn());\r\n\r\n\t\ttable.getColumns().addAll(nameCol, progressCol);\r\n\r\n\t\tBorderPane root = new BorderPane();\r\n\t\troot.setCenter(table);\r\n\t\tButton btn = new Button(&quot;Start&quot;);\r\n\t\tbtn.setOnAction(actionEvent -&gt; {\r\n\t\t\tExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n\t\t\tfor (TestTask task : table.getItems()) {\r\n\t\t\t\texecutor.submit(task);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\troot.setBottom(btn);\r\n\t\tprimaryStage.setScene(new Scene(root));\r\n\t\tprimaryStage.show();\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\tpublic static class TestTask extends Task&lt;Void&gt; {\r\n\t\tprivate final int waitTime; // milliseconds\r\n\t\tfinal ReadOnlyStringWrapper name = new ReadOnlyStringWrapper();\r\n\t\tpublic static final int NUM_ITERATIONS = 100;\r\n\r\n\t\tpublic TestTask(int waitTime, String name) {\r\n\t\t\tthis.waitTime = waitTime;\r\n\t\t\tthis.name.set(name);\r\n\t\t}\r\n\r\n\t\tpublic ReadOnlyStringProperty nameProperty() {\r\n\t\t\treturn name.getReadOnlyProperty();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected Void call() throws Exception {\r\n\t\t\tthis.updateProgress(ProgressIndicator.INDETERMINATE_PROGRESS, 1);\r\n\t\t\tThread.sleep(waitTime);\r\n\t\t\tthis.updateProgress(1, 1);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass ProgressIndicatorTableCell&lt;S&gt; extends TableCell&lt;S, Double&gt; {\r\n\tpublic static &lt;S&gt; Callback&lt;TableColumn&lt;S, Double&gt;, TableCell&lt;S, Double&gt;&gt; forTableColumn() {\r\n\t\treturn new Callback&lt;TableColumn&lt;S, Double&gt;, TableCell&lt;S, Double&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic TableCell&lt;S, Double&gt; call(TableColumn&lt;S, Double&gt; param) {\r\n\t\t\t\treturn new ProgressIndicatorTableCell&lt;&gt;();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate final ProgressIndicator progressIndicator;\r\n\tprivate ObservableValue observable;\r\n\r\n\tpublic ProgressIndicatorTableCell() {\r\n\t\tthis.progressIndicator = new ProgressIndicator();\r\n\t\tsetGraphic(progressIndicator);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateItem(Double item, boolean empty) {\r\n\t\tsuper.updateItem(item, empty);\r\n\r\n\t\tif (empty) {\r\n\t\t\tsetGraphic(null);\r\n\t\t} else {\r\n\t\t\tprogressIndicator.progressProperty().unbind();\r\n\r\n\t\t\tobservable = getTableColumn().getCellObservableValue(getIndex());\r\n\t\t\tif (observable != null) {\r\n\t\t\t\tprogressIndicator.progressProperty().bind(observable);\r\n\t\t\t} else {\r\n\t\t\t\tprogressIndicator.setProgress(item);\r\n\t\t\t}\r\n\r\n\t\t\tsetGraphic(progressIndicator);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAnd the current output:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3NrVp.png\r\n  [2]: https://i.stack.imgur.com/uvsEz.png","title":"How to put a ProcessIndicator in each row of a TableView and indicate task status","body":"<p>I'm trying to do the following in JavaFX:</p>\n<ul>\n<li>Have a <code>TableView</code> with multiple rows.</li>\n<li>Each row contains columns with text and one Progress/Status column.</li>\n<li>When a specific <code>Button</code> is pressed, for each row of the <code>TableView</code> some task should be performed, one row after the other. (e.g. check some data, ...)</li>\n<li>While this task is performed, a indeterminate <code>ProgressIndicator</code> shall be shown in the Status column, until the task for this row is finished, then the indicator shows as done.</li>\n<li>When all tasks for each row are done, the button can be pressed again to reset the status and execute the tasks again.</li>\n</ul>\n<hr />\n<p>I had found some help in <a href=\"https://stackoverflow.com/questions/16721380/javafx-update-progressbar-in-tableview-from-task\">this related Stackoverflow post</a> and also <a href=\"https://community.oracle.com/tech/developers/discussion/2533798/table-cell-progress-indicator\" rel=\"nofollow noreferrer\">here</a> and tried to tweak this as needed but got stuck on some issues:</p>\n<ol>\n<li>Currently, each <code>ProgressIndicator</code> for each row is displayed immediately (as indeterminate) when I run the program. How can I only activate them / make them visible for each row one after another once the button is pressed?</li>\n<li>Pressing the button again once the fake tasks are done does not restart it. How would I have to modify / rebuild the program to make resets possible?</li>\n<li>Does the overall approach make sense?</li>\n</ol>\n<hr />\n<p>My current runnable code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.concurrent.*;\n\nimport javafx.application.Application;\nimport javafx.beans.property.ReadOnlyStringProperty;\nimport javafx.beans.property.ReadOnlyStringWrapper;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Task;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\n\npublic class ProgressIndicatorTableCellTest extends Application {\n    public void start(Stage primaryStage) {\n        TableView&lt;TestTask&gt; table = new TableView&lt;&gt;();\n        Random rng = new Random();\n        for (int i = 0; i &lt; 3; i++) {\n            table.getItems().add(new TestTask(rng.nextInt(3000) + 2000, &quot;Test&quot;));\n        }\n\n        TableColumn&lt;TestTask, String&gt; nameCol = new TableColumn(&quot;Name&quot;);\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;TestTask, String&gt;(&quot;name&quot;));\n        nameCol.setPrefWidth(75);\n\n        TableColumn&lt;TestTask, Double&gt; progressCol = new TableColumn(&quot;Progress&quot;);\n        progressCol.setCellValueFactory(new PropertyValueFactory&lt;TestTask, Double&gt;(&quot;progress&quot;));\n        progressCol.setCellFactory(ProgressIndicatorTableCell.&lt;TestTask&gt;forTableColumn());\n\n        table.getColumns().addAll(nameCol, progressCol);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(table);\n        Button btn = new Button(&quot;Start&quot;);\n        btn.setOnAction(actionEvent -&gt; {\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n\n            for (TestTask task : table.getItems()) {\n                executor.submit(task);\n            }\n        });\n\n        root.setBottom(btn);\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public static class TestTask extends Task&lt;Void&gt; {\n        private final int waitTime; // milliseconds\n        final ReadOnlyStringWrapper name = new ReadOnlyStringWrapper();\n        public static final int NUM_ITERATIONS = 100;\n\n        public TestTask(int waitTime, String name) {\n            this.waitTime = waitTime;\n            this.name.set(name);\n        }\n\n        public ReadOnlyStringProperty nameProperty() {\n            return name.getReadOnlyProperty();\n        }\n\n        @Override\n        protected Void call() throws Exception {\n            this.updateProgress(ProgressIndicator.INDETERMINATE_PROGRESS, 1);\n            Thread.sleep(waitTime);\n            this.updateProgress(1, 1);\n            return null;\n        }\n    }\n}\n\nclass ProgressIndicatorTableCell&lt;S&gt; extends TableCell&lt;S, Double&gt; {\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Double&gt;, TableCell&lt;S, Double&gt;&gt; forTableColumn() {\n        return new Callback&lt;TableColumn&lt;S, Double&gt;, TableCell&lt;S, Double&gt;&gt;() {\n            @Override\n            public TableCell&lt;S, Double&gt; call(TableColumn&lt;S, Double&gt; param) {\n                return new ProgressIndicatorTableCell&lt;&gt;();\n            }\n        };\n    }\n\n    private final ProgressIndicator progressIndicator;\n    private ObservableValue observable;\n\n    public ProgressIndicatorTableCell() {\n        this.progressIndicator = new ProgressIndicator();\n        setGraphic(progressIndicator);\n    }\n\n    @Override\n    public void updateItem(Double item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty) {\n            setGraphic(null);\n        } else {\n            progressIndicator.progressProperty().unbind();\n\n            observable = getTableColumn().getCellObservableValue(getIndex());\n            if (observable != null) {\n                progressIndicator.progressProperty().bind(observable);\n            } else {\n                progressIndicator.setProgress(item);\n            }\n\n            setGraphic(progressIndicator);\n        }\n    }\n}\n</code></pre>\n<p>And the current output:</p>\n<p><a href=\"https://i.stack.imgur.com/3NrVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3NrVp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/uvsEz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvsEz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gmail"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654180190,"post_id":72477816,"comment_id":128034109,"body_markdown":"Generate [separate credentials](https://www.lifewire.com/get-a-password-to-access-gmail-by-pop-imap-2-1171882) for your app","body":"Generate <a href=\"https://www.lifewire.com/get-a-password-to-access-gmail-by-pop-imap-2-1171882\" rel=\"nofollow noreferrer\">separate credentials</a> for your app"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1654203991,"post_id":72477816,"comment_id":128042171,"body_markdown":"@g00se are you sure that apps password after the removal of less secure apps?  Have you tested it?","body":"@g00se are you sure that apps password after the removal of less secure apps?  Have you tested it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654244039,"post_id":72477816,"comment_id":128049386,"body_markdown":"To be fair, it was with non-Java apps. They were possibly using oauth2","body":"To be fair, it was with non-Java apps. They were possibly using oauth2"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673460257,"creation_date":1654203926,"answer_id":72482344,"question_id":72477816,"body_markdown":"You can create an apps password and use that in place of your standard google password  [How to create a Apps Password for connecting to Google&#39;s SMTP server.](https://www.youtube.com/shorts/IGOt3zo98Xw)\r\n\r\nOr \r\n\r\nYou will need to enable [xoauth2](https://developers.google.com/gmail/imap/xoauth2-protocol) in your code or if you have a workspace account go though the gmail api using a service account.\r\n\r\n[OAuth2 Support](https://javaee.github.io/javamail/OAuth2)\r\n\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;); // required for Gmail\r\n    props.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n    Session session = Session.getInstance(props);\r\n    Store store = session.getStore(&quot;imap&quot;);\r\n    store.connect(&quot;imap.gmail.com&quot;, username, oauth2_access_token);","title":"Unable to connect to gmail via Gmail API. How can we turn on Less secure app access?","body":"<p>You can create an apps password and use that in place of your standard google password  <a href=\"https://www.youtube.com/shorts/IGOt3zo98Xw\" rel=\"nofollow noreferrer\">How to create a Apps Password for connecting to Google's SMTP server.</a></p>\n<p>Or</p>\n<p>You will need to enable <a href=\"https://developers.google.com/gmail/imap/xoauth2-protocol\" rel=\"nofollow noreferrer\">xoauth2</a> in your code or if you have a workspace account go though the gmail api using a service account.</p>\n<p><a href=\"https://javaee.github.io/javamail/OAuth2\" rel=\"nofollow noreferrer\">OAuth2 Support</a></p>\n<pre><code>Properties props = new Properties();\nprops.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;); // required for Gmail\nprops.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\nSession session = Session.getInstance(props);\nStore store = session.getStore(&quot;imap&quot;);\nstore.connect(&quot;imap.gmail.com&quot;, username, oauth2_access_token);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12321438,"reputation":431,"user_id":8990589,"display_name":"Petra Marc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654248107,"creation_date":1654240849,"answer_id":72486040,"question_id":72477816,"body_markdown":"You could try authentification via &quot;App password&quot;.\r\n\r\nOn your Google account:\r\n1. set &quot;2-Step Verification&quot; ON\r\n[2-Step Verification][1]\r\n2. create 16-character &quot;App password&quot;(\r\n[How to create app password][2]) -&gt; result should be similar to:\r\n[16-character &quot;App password&quot;][1]\r\n3. Instead of Google account password use 16-character password\r\n\r\n       MailMessage mail = new MailMessage();\r\n       foreach (string receiver in DolociPrejemnike())\r\n           mail.To.Add(receiver);\r\n       mail.From = new MailAddress(&quot;app_gmail@gmail.com&quot;, &quot;No replay&quot;); //pošiljatelj (vedno enak)\r\n       mail.Subject = SetSubject();\r\n       mail.Body = SetBody();\r\n       mail.IsBodyHtml = true;\r\n\r\n       SmtpClient smtp = new SmtpClient();\r\n       smtp.Host = &quot;smtp.gmail.com&quot;;\r\n       smtp.Port = 587;\r\n       smtp.UseDefaultCredentials = true;\r\n       smtp.Credentials = new System.Net.NetworkCredential(&quot;app_gmail@gmail.com&quot;, &quot;xtqapucsmyvqmvxp&quot;); // Enter seders User name and password  \r\n       smtp.EnableSsl = true;\r\n       smtp.Send(mail);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/as6O9.png\r\n  [2]: https://support.google.com/mail/answer/185833?hl=en","title":"Unable to connect to gmail via Gmail API. How can we turn on Less secure app access?","body":"<p>You could try authentification via &quot;App password&quot;.</p>\n<p>On your Google account:</p>\n<ol>\n<li><p>set &quot;2-Step Verification&quot; ON\n<a href=\"https://i.stack.imgur.com/as6O9.png\" rel=\"nofollow noreferrer\">2-Step Verification</a></p>\n</li>\n<li><p>create 16-character &quot;App password&quot;(\n<a href=\"https://support.google.com/mail/answer/185833?hl=en\" rel=\"nofollow noreferrer\">How to create app password</a>) -&gt; result should be similar to:\n<a href=\"https://i.stack.imgur.com/as6O9.png\" rel=\"nofollow noreferrer\">16-character &quot;App password&quot;</a></p>\n</li>\n<li><p>Instead of Google account password use 16-character password</p>\n<pre><code>MailMessage mail = new MailMessage();\nforeach (string receiver in DolociPrejemnike())\n    mail.To.Add(receiver);\nmail.From = new MailAddress(&quot;app_gmail@gmail.com&quot;, &quot;No replay&quot;); //pošiljatelj (vedno enak)\nmail.Subject = SetSubject();\nmail.Body = SetBody();\nmail.IsBodyHtml = true;\n\nSmtpClient smtp = new SmtpClient();\nsmtp.Host = &quot;smtp.gmail.com&quot;;\nsmtp.Port = 587;\nsmtp.UseDefaultCredentials = true;\nsmtp.Credentials = new System.Net.NetworkCredential(&quot;app_gmail@gmail.com&quot;, &quot;xtqapucsmyvqmvxp&quot;); // Enter seders User name and password  \nsmtp.EnableSsl = true;\nsmtp.Send(mail);\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":167333,"reputation":354,"user_id":392072,"accept_rate":50,"display_name":"Gwen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659426558,"creation_date":1659426558,"answer_id":73203820,"question_id":72477816,"body_markdown":"I was also fighting with this for some time. When I started to use an app password it fails with the same exception as it was mentioned in the question.\r\nAfter several attempts I logged in to my mail box in a browser and it asked me to authenticate again saying &quot;There was some strange activity observed&quot;. Unexpectedly after this browser login the same piece of code started to work correctly authenticating successfully.","title":"Unable to connect to gmail via Gmail API. How can we turn on Less secure app access?","body":"<p>I was also fighting with this for some time. When I started to use an app password it fails with the same exception as it was mentioned in the question.\nAfter several attempts I logged in to my mail box in a browser and it asked me to authenticate again saying &quot;There was some strange activity observed&quot;. Unexpectedly after this browser login the same piece of code started to work correctly authenticating successfully.</p>\n"}],"owner":{"account_id":25456622,"reputation":11,"user_id":19257146,"display_name":"Shilpa Ippili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1673460257,"creation_date":1654179680,"question_id":72477816,"body_markdown":"I am connecting to the gmail account to verify the confirmation emails sent by our application. When implementing it originally, in order to connect to gmail successfully, we had to set the account with &#39;Less secure app access&#39; configuration to ON.\r\n\r\nLooks like google turned that setting to off now from May 30,2022 and so the authentication is failing now.\r\n\r\nHow can I connect to Gmail account to verify the confirmation emails now?\r\n\r\njava.lang.RuntimeException: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)","title":"Unable to connect to gmail via Gmail API. How can we turn on Less secure app access?","body":"<p>I am connecting to the gmail account to verify the confirmation emails sent by our application. When implementing it originally, in order to connect to gmail successfully, we had to set the account with 'Less secure app access' configuration to ON.</p>\n<p>Looks like google turned that setting to off now from May 30,2022 and so the authentication is failing now.</p>\n<p>How can I connect to Gmail account to verify the confirmation emails now?</p>\n<p>java.lang.RuntimeException: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)</p>\n"},{"tags":["java","security","logging","log4j","slf4j"],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641248160,"creation_date":1639504296,"answer_id":70353441,"question_id":70353248,"body_markdown":"It depends. Slf4j is just an api, that can be using behind any of its implementions, being log4j just one. Check which one is using on the back, and if this is log4j and between versions 2.0.0 and 2.15.0 (2.15.0 is the one with the fix, versions 1.x are not affected) you should update it (if it is exposed to users directly or indirectly)","title":"Was slf4j affected with vulnerability issue in log4j","body":"<p>It depends. Slf4j is just an api, that can be using behind any of its implementions, being log4j just one. Check which one is using on the back, and if this is log4j and between versions 2.0.0 and 2.15.0 (2.15.0 is the one with the fix, versions 1.x are not affected) you should update it (if it is exposed to users directly or indirectly)</p>\n"},{"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":2,"creation_date":1639631201,"post_id":70359752,"comment_id":124399804,"body_markdown":"how to know underlying implementation version ?","body":"how to know underlying implementation version ?"},{"owner":{"account_id":4000716,"reputation":1631,"user_id":3296815,"display_name":"Vaibhav Sharma"},"score":2,"creation_date":1639743714,"post_id":70359752,"comment_id":124432837,"body_markdown":"please tell how to know the underlying implementation ?","body":"please tell how to know the underlying implementation ?"},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1639835191,"post_id":70359752,"comment_id":124452468,"body_markdown":"You need to use some other logging library like Logback or Log4j to get your app logging. Only using slf4j will not generate logs. So you will add log4j or any other implementation of SLF4j in your pom file. The thing to make sure is not to use vulnerable Log4j versions.","body":"You need to use some other logging library like Logback or Log4j to get your app logging. Only using slf4j will not generate logs. So you will add log4j or any other implementation of SLF4j in your pom file. The thing to make sure is not to use vulnerable Log4j versions."},{"owner":{"account_id":292970,"reputation":639,"user_id":596048,"accept_rate":84,"display_name":"2sb"},"score":1,"creation_date":1639972308,"post_id":70359752,"comment_id":124476124,"body_markdown":"@tryingToLearn If you are using maven try mvn dependency:tree | grep log4j or check pom.xml","body":"@tryingToLearn If you are using maven try mvn dependency:tree | grep log4j or check pom.xml"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1639972577,"post_id":70359752,"comment_id":124476148,"body_markdown":"@2sb In the dependency tree, i didn&#39;t find any log4j but found logback. Is this possible sl4j will not use log4j at all?","body":"@2sb In the dependency tree, i didn&#39;t find any log4j but found logback. Is this possible sl4j will not use log4j at all?"},{"owner":{"account_id":292970,"reputation":639,"user_id":596048,"accept_rate":84,"display_name":"2sb"},"score":3,"creation_date":1639976550,"post_id":70359752,"comment_id":124476654,"body_markdown":"@tryingToLearn True,  Slf4j natively use logback and congratulations your application is safe :)","body":"@tryingToLearn True,  Slf4j natively use logback and congratulations your application is safe :)"},{"owner":{"account_id":13728370,"reputation":454,"user_id":9906495,"display_name":"pujan kc"},"score":0,"creation_date":1640159113,"post_id":70359752,"comment_id":124526673,"body_markdown":"is slf4j from lombok vulnerable ? lombok plugin version being used is 6.0.0-m2","body":"is slf4j from lombok vulnerable ? lombok plugin version being used is 6.0.0-m2"}],"tags":[],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":7,"down_vote_count":2,"up_vote_count":14,"is_accepted":true,"score":12,"last_activity_date":1639552850,"creation_date":1639552850,"answer_id":70359752,"question_id":70353248,"body_markdown":"Depends on the underlying implementation of SLF4J.\r\nlog4j 1.x is safe with respect to CVE-2021-44228. Thus, if your SLF4J provider/binding is slf4j-log4j12.jar, you are safe regarding CVE-2021-44228.\r\n\r\nIf you are using log4j-over-slf4j.jar in conjunction with the SLF4J API, you are safe unless the underlying implementation is log4j 2.x.\r\n\r\nCheck this - http://slf4j.org/log4shell.html","title":"Was slf4j affected with vulnerability issue in log4j","body":"<p>Depends on the underlying implementation of SLF4J.\nlog4j 1.x is safe with respect to CVE-2021-44228. Thus, if your SLF4J provider/binding is slf4j-log4j12.jar, you are safe regarding CVE-2021-44228.</p>\n<p>If you are using log4j-over-slf4j.jar in conjunction with the SLF4J API, you are safe unless the underlying implementation is log4j 2.x.</p>\n<p>Check this - <a href=\"http://slf4j.org/log4shell.html\" rel=\"noreferrer\">http://slf4j.org/log4shell.html</a></p>\n"},{"tags":[],"owner":{"account_id":23824936,"reputation":1,"user_id":17832121,"display_name":"Simoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641308910,"creation_date":1641302235,"answer_id":70579433,"question_id":70353248,"body_markdown":"According to [Apache](https://logging.apache.org/log4j/2.x/security.html), &quot;only the log4j-core JAR file is impacted by this vulnerability. Applications using only the log4j-api JAR file without the log4j-core JAR file are not impacted by this vulnerability.\r\nAlso Apache Log4j is the only Logging Services subproject affected by this vulnerability. Other projects like Log4net and Log4cxx are not impacted by this.&quot;\r\n\r\nSo you should be safe, as long as you do not use log4j-core package.","title":"Was slf4j affected with vulnerability issue in log4j","body":"<p>According to <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">Apache</a>, &quot;only the log4j-core JAR file is impacted by this vulnerability. Applications using only the log4j-api JAR file without the log4j-core JAR file are not impacted by this vulnerability.\nAlso Apache Log4j is the only Logging Services subproject affected by this vulnerability. Other projects like Log4net and Log4cxx are not impacted by this.&quot;</p>\n<p>So you should be safe, as long as you do not use log4j-core package.</p>\n"},{"tags":[],"owner":{"account_id":4517814,"reputation":67,"user_id":3672096,"display_name":"Pratik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642051106,"creation_date":1642051106,"answer_id":70691763,"question_id":70353248,"body_markdown":"[,1.7.26),[1.8.0-alpha0,1.8.0-beta2) has Vulnerabilities. Please follow the link https://snyk.io/vuln/maven:org.slf4j:slf4j-ext","title":"Was slf4j affected with vulnerability issue in log4j","body":"<p>[,1.7.26),[1.8.0-alpha0,1.8.0-beta2) has Vulnerabilities. Please follow the link https://snyk.io/vuln/maven:org.slf4j:slf4j-ext</p>\n"}],"owner":{"account_id":18831152,"reputation":301,"user_id":13734939,"display_name":"Shruti Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27692,"favorite_count":0,"down_vote_count":4,"up_vote_count":12,"accepted_answer_id":70359752,"answer_count":4,"score":8,"last_activity_date":1673460196,"creation_date":1639503364,"question_id":70353248,"body_markdown":"I have implemented a POC and have used slf4j for logging. The zero day vulnerability issue in log4j, did that also impact slf4j logs?\r\n","title":"Was slf4j affected with vulnerability issue in log4j","body":"<p>I have implemented a POC and have used slf4j for logging. The zero day vulnerability issue in log4j, did that also impact slf4j logs?</p>\n"},{"tags":["java","operating-system","native"],"answers":[{"tags":[],"owner":{"account_id":5602,"reputation":11174,"user_id":2635682,"accept_rate":60,"display_name":"Garth Gilmour"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1222941060,"creation_date":1222941060,"answer_id":161553,"question_id":161529,"body_markdown":"\r\nFrom Java 1.4 onwards you can use memory mapped files to exchange arbitrary information with another process. See java.nio.MappedByteBuffer for details.\r\n\r\n","title":"is there a &quot;best practice&quot; to access another process in the OS through java?","body":"<p>From Java 1.4 onwards you can use memory mapped files to exchange arbitrary information with another process. See java.nio.MappedByteBuffer for details.</p>\n"},{"tags":[],"owner":{"account_id":6957,"reputation":74531,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222941376,"creation_date":1222941376,"answer_id":161578,"question_id":161529,"body_markdown":"This is not quite what you&#39;re looking for, but will probably help a great deal nonetheless: the [Java Native Access](https://github.com/twall/jna/) project on java.net.","title":"is there a &quot;best practice&quot; to access another process in the OS through java?","body":"<p>This is not quite what you're looking for, but will probably help a great deal nonetheless: the <a href=\"https://github.com/twall/jna/\" rel=\"nofollow noreferrer\">Java Native Access</a> project on java.net.</p>\n"},{"tags":[],"owner":{"account_id":9122,"reputation":9322,"user_id":16724,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222943990,"creation_date":1222943990,"answer_id":161702,"question_id":161529,"body_markdown":"Don&#39;t forget sockets...","title":"is there a &quot;best practice&quot; to access another process in the OS through java?","body":"<p>Don't forget sockets...</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1223005775,"creation_date":1223005775,"answer_id":165624,"question_id":161529,"body_markdown":"I think that maybe you need to define what &#39;access&#39; means to you.  IF you are talking about plain old inter-process communication, then sockets or JNI are really your best bet.\r\n\r\nGarth&#39;s comment about using memory mapped files is interesting - I&#39;ve used MMFs and virtual files for IPC between C applications many times, but it never occurred to me that Java&#39;s MMF implementation might be compatible with the native OS virtual file system.  These kinds of virtual files usually require non-trivial setup, so I&#39;d be surprised if it would work...\r\n\r\nAll said, unless you are pumping massive amounts of data between apps, using sockets is probably the most universal and effective way of doing it.  Be sure you account for endianness between the host OS and Java VM :-)","title":"is there a &quot;best practice&quot; to access another process in the OS through java?","body":"<p>I think that maybe you need to define what 'access' means to you.  IF you are talking about plain old inter-process communication, then sockets or JNI are really your best bet.</p>\n\n<p>Garth's comment about using memory mapped files is interesting - I've used MMFs and virtual files for IPC between C applications many times, but it never occurred to me that Java's MMF implementation might be compatible with the native OS virtual file system.  These kinds of virtual files usually require non-trivial setup, so I'd be surprised if it would work...</p>\n\n<p>All said, unless you are pumping massive amounts of data between apps, using sockets is probably the most universal and effective way of doing it.  Be sure you account for endianness between the host OS and Java VM :-)</p>\n"}],"owner":{"account_id":6934,"reputation":6724,"user_id":11813,"accept_rate":86,"display_name":"Amir Arad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":165624,"answer_count":4,"score":3,"last_activity_date":1673459509,"creation_date":1222940485,"question_id":161529,"body_markdown":"I&#39;ve been reading Skype4Java (java api for skype) and noticed they use jni to access the skype client.\r\n\r\nintuitively I&#39;d assume that there already is a standard library in java that has an  OS-sensitive jni implementation to access other processes. I set up to look for one, but couldn&#39;t find it.\r\n\r\nIs there such a library? if not, is there a best practice to access another process in the os, not necessarily a skype client?","title":"is there a &quot;best practice&quot; to access another process in the OS through java?","body":"<p>I've been reading Skype4Java (java api for skype) and noticed they use jni to access the skype client.</p>\n\n<p>intuitively I'd assume that there already is a standard library in java that has an  OS-sensitive jni implementation to access other processes. I set up to look for one, but couldn't find it.</p>\n\n<p>Is there such a library? if not, is there a best practice to access another process in the os, not necessarily a skype client?</p>\n"},{"tags":["java","collections","queue","comparable","treeset"],"answers":[{"comments":[{"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1653490868,"post_id":72379947,"comment_id":127866457,"body_markdown":"Please offer some help regarding this","body":"Please offer some help regarding this"},{"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1653491350,"post_id":72379947,"comment_id":127866660,"body_markdown":"Why should I override hasgcode too?","body":"Why should I override hasgcode too?"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1653491504,"post_id":72379947,"comment_id":127866728,"body_markdown":"@Payel, I edited and added some example code.. Regarding hash-code, I included a link, which would explain.","body":"@Payel, I edited and added some example code.. Regarding hash-code, I included a link, which would explain."}],"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673459375,"creation_date":1653490599,"answer_id":72379947,"question_id":72379854,"body_markdown":"You need to override `@equals` and `@hashCode` methods in the class `Person`. \r\n\r\nExplanation:\r\n\r\n1. You are using [TreeSet][1].  If you don&#39;t provide an explicit Comparator while creating it, it will use [natural ordering][2] (`compareTo`) for sorting.\r\n\r\n2. Whenever you `@override` `compareTo()`, it is highly recommended to `@overide` `@equals`.  \r\n\r\nFrom [Collections Documentation][3]:\r\n\r\n_It is strongly recommended (though not required) that natural orderings be consistent with equals. This is so because sorted sets (and sorted maps) without explicit comparators behave &quot;strangely&quot; when they are used with elements (or keys) whose natural ordering is inconsistent with equals._\r\n\r\nTo cut the long story short, since you are using TreeSet as well as other collections (List), you need to @override all three - `compareTo, equals and hashCode`\r\n\r\nPS: Whenever you override `@equals` - please `@override` `hashCode` too. See [this][4].\r\n\r\n\r\nYou can generate these methods inside IDE (Intellij / Eclipse/ VsCode etc) automatically. E.g. it would be something like this:\r\n\r\n \r\n\r\n    @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Person person = (Person) o;\r\n            return id == person.id &amp;&amp; Objects.equals(name, person.name);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, name);\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html#:~:text=It%20is%20strongly%20recommended%\r\n  [4]: https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java#:~:text=You%20must%20override%20hashCode(),HashMap%2C%20HashSet%2C%20and%20Hashtable.","title":"As per TreeSet two objects are shown equal but Queue shows them as unequal","body":"<p>You need to override <code>@equals</code> and <code>@hashCode</code> methods in the class <code>Person</code>.</p>\n<p>Explanation:</p>\n<ol>\n<li><p>You are using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a>.  If you don't provide an explicit Comparator while creating it, it will use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">natural ordering</a> (<code>compareTo</code>) for sorting.</p>\n</li>\n<li><p>Whenever you <code>@override</code> <code>compareTo()</code>, it is highly recommended to <code>@overide</code> <code>@equals</code>.</p>\n</li>\n</ol>\n<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html#:%7E:text=It%20is%20strongly%20recommended%\" rel=\"nofollow noreferrer\">Collections Documentation</a>:</p>\n<p><em>It is strongly recommended (though not required) that natural orderings be consistent with equals. This is so because sorted sets (and sorted maps) without explicit comparators behave &quot;strangely&quot; when they are used with elements (or keys) whose natural ordering is inconsistent with equals.</em></p>\n<p>To cut the long story short, since you are using TreeSet as well as other collections (List), you need to @override all three - <code>compareTo, equals and hashCode</code></p>\n<p>PS: Whenever you override <code>@equals</code> - please <code>@override</code> <code>hashCode</code> too. See <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java#:%7E:text=You%20must%20override%20hashCode(),HashMap%2C%20HashSet%2C%20and%20Hashtable.\">this</a>.</p>\n<p>You can generate these methods inside IDE (Intellij / Eclipse/ VsCode etc) automatically. E.g. it would be something like this:</p>\n<pre><code>@Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        return id == person.id &amp;&amp; Objects.equals(name, person.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653491362,"creation_date":1653491362,"answer_id":72380149,"question_id":72379854,"body_markdown":"`TreeSet` __exclusively__ uses the comparator to determine equality. Any 2 entries such that `comparator.compare(a, b)` returns 0 are deemed equal. Neither `equals` nor `hashCode` are invoked at all.\r\n\r\nMost other collections __exclusively__ use either just `equals`, or a combination of `equals` and `hashCode` to determine this.\r\n\r\nThus, if you write a class whose equals, hashCode, and compare methods are in disagreement, you can create the situation you described: Where TreeSet considers them equal but e.g. HashSet does not.\r\n\r\nThe solution is to properly apply the rules as laid out in the javadocs of the various `java.util` classes:\r\n\r\n* `a.equals(b)`? Then, `b.equals(a)` must also hold, regardless of the types.\r\n* `a.equals(a)` must be true.\r\n* `a.equals(anything)` cannot throw any exceptions, except the forced NPE if `a` is `null`. Same for `a.hashCode()`.\r\n* `a.equals(null)` must be false.\r\n* `a.equals(b)` and `b.equals(c)`? Then `a.equals(c)` must also be true.\r\n* `a.equals(b)`? Then `a.hashCode() == b.hashCode()` must also be true. The reverse does not hold (equal hashcodes? That doesn&#39;t imply equal objects).\r\n* `a.compare(b)` is below 0? Then `b.compare(a)` must be above 0.\r\n* `a.compare(a)` must be 0.\r\n* `a.compare(b) == 0` must match with `a.equals(b)` If one is true the other must be true and vice versa.\r\n* `a.compare(b) &lt; 0` and `b.compare(c) &lt; 0`? Then `a.compare(c)` must also be below 0. Same for above 0.\r\n* Unlike `equals` and `hashCode`, `compare` is allowed to throw a number of exceptions.\r\n\r\nIt&#39;s __a lot__ of rules. They are easy to understand (bordering on the obvious), and yet they are quite hard to properly apply especially if you involve the idea that java has a type hierarchy.\r\n\r\nTrivial example:\r\n\r\n`ArrayList` has an equals impl that will check if the provided object is a list of any kind, and if it is, it&#39;ll just do an elem-by-elem comparison.\r\n\r\n__This means you CANNOT write a class that implements `List` and add equality-affecting properties of ANY sort, period__.\r\n\r\nFor example, this class:\r\n\r\n```\r\nclass ColouredList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n  private Color color;\r\n\r\n  public ColouredList(Color color) {\r\n    this.color = color;\r\n  }\r\n\r\n  // and so on\r\n}\r\n```\r\n\r\n__CANNOT BE WRITTEN__ - unless you disregard colour entirely, and e.g. an empty blue list is deemed equal to an empty red one. Because `emptyPlainArrayList.equals(blueEmptyList)` is true and you can&#39;t make that false (as you do not control the equals impl of ArrayList), and so is `emptyPlainArrayList.equals(redEmptyList)`, therefore, `blueEmptyList.equals(redEmptyList)` also has to be true.\r\n\r\nThis rule is a logical consequence of the ruleset, and yet, not obvious and in fact a somewhat common mistake to think you can do that.\r\n\r\nHence, easy, almost obvious rules that combine to make a system that is much more complex than you&#39;d think.\r\n\r\nYou violated one of the rules here; given what you pasted, seems like a simple one: You added a natural comparison order to your class but failed to implement hashCode and equals. You must implement these methods, in order to follow the rule that `a.equals(b)` and `a.compare(b) == 0` have to hold (and you have to implement `hashCode` to follow the rule &quot;if `a.equals(b)` then you have to ensure `a.hashCode() == b.hashCode()`.\r\n\r\nI suggest [Project Lombok](https://projectlombok.org/features/EqualsAndHashCode) or your IDE&#39;s &quot;generate equals and hashcode&quot; option. These methods, too, can be a bit tricky to write properly.","title":"As per TreeSet two objects are shown equal but Queue shows them as unequal","body":"<p><code>TreeSet</code> <strong>exclusively</strong> uses the comparator to determine equality. Any 2 entries such that <code>comparator.compare(a, b)</code> returns 0 are deemed equal. Neither <code>equals</code> nor <code>hashCode</code> are invoked at all.</p>\n<p>Most other collections <strong>exclusively</strong> use either just <code>equals</code>, or a combination of <code>equals</code> and <code>hashCode</code> to determine this.</p>\n<p>Thus, if you write a class whose equals, hashCode, and compare methods are in disagreement, you can create the situation you described: Where TreeSet considers them equal but e.g. HashSet does not.</p>\n<p>The solution is to properly apply the rules as laid out in the javadocs of the various <code>java.util</code> classes:</p>\n<ul>\n<li><code>a.equals(b)</code>? Then, <code>b.equals(a)</code> must also hold, regardless of the types.</li>\n<li><code>a.equals(a)</code> must be true.</li>\n<li><code>a.equals(anything)</code> cannot throw any exceptions, except the forced NPE if <code>a</code> is <code>null</code>. Same for <code>a.hashCode()</code>.</li>\n<li><code>a.equals(null)</code> must be false.</li>\n<li><code>a.equals(b)</code> and <code>b.equals(c)</code>? Then <code>a.equals(c)</code> must also be true.</li>\n<li><code>a.equals(b)</code>? Then <code>a.hashCode() == b.hashCode()</code> must also be true. The reverse does not hold (equal hashcodes? That doesn't imply equal objects).</li>\n<li><code>a.compare(b)</code> is below 0? Then <code>b.compare(a)</code> must be above 0.</li>\n<li><code>a.compare(a)</code> must be 0.</li>\n<li><code>a.compare(b) == 0</code> must match with <code>a.equals(b)</code> If one is true the other must be true and vice versa.</li>\n<li><code>a.compare(b) &lt; 0</code> and <code>b.compare(c) &lt; 0</code>? Then <code>a.compare(c)</code> must also be below 0. Same for above 0.</li>\n<li>Unlike <code>equals</code> and <code>hashCode</code>, <code>compare</code> is allowed to throw a number of exceptions.</li>\n</ul>\n<p>It's <strong>a lot</strong> of rules. They are easy to understand (bordering on the obvious), and yet they are quite hard to properly apply especially if you involve the idea that java has a type hierarchy.</p>\n<p>Trivial example:</p>\n<p><code>ArrayList</code> has an equals impl that will check if the provided object is a list of any kind, and if it is, it'll just do an elem-by-elem comparison.</p>\n<p><strong>This means you CANNOT write a class that implements <code>List</code> and add equality-affecting properties of ANY sort, period</strong>.</p>\n<p>For example, this class:</p>\n<pre><code>class ColouredList&lt;T&gt; extends ArrayList&lt;T&gt; {\n  private Color color;\n\n  public ColouredList(Color color) {\n    this.color = color;\n  }\n\n  // and so on\n}\n</code></pre>\n<p><strong>CANNOT BE WRITTEN</strong> - unless you disregard colour entirely, and e.g. an empty blue list is deemed equal to an empty red one. Because <code>emptyPlainArrayList.equals(blueEmptyList)</code> is true and you can't make that false (as you do not control the equals impl of ArrayList), and so is <code>emptyPlainArrayList.equals(redEmptyList)</code>, therefore, <code>blueEmptyList.equals(redEmptyList)</code> also has to be true.</p>\n<p>This rule is a logical consequence of the ruleset, and yet, not obvious and in fact a somewhat common mistake to think you can do that.</p>\n<p>Hence, easy, almost obvious rules that combine to make a system that is much more complex than you'd think.</p>\n<p>You violated one of the rules here; given what you pasted, seems like a simple one: You added a natural comparison order to your class but failed to implement hashCode and equals. You must implement these methods, in order to follow the rule that <code>a.equals(b)</code> and <code>a.compare(b) == 0</code> have to hold (and you have to implement <code>hashCode</code> to follow the rule &quot;if <code>a.equals(b)</code> then you have to ensure <code>a.hashCode() == b.hashCode()</code>.</p>\n<p>I suggest <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">Project Lombok</a> or your IDE's &quot;generate equals and hashcode&quot; option. These methods, too, can be a bit tricky to write properly.</p>\n"}],"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72379947,"answer_count":2,"score":0,"last_activity_date":1673459375,"creation_date":1653490183,"question_id":72379854,"body_markdown":"I have the follwing Person Class - \r\n\r\n`Person.java` -\r\n\r\n```\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n    private int id;\r\n    private String name;\r\n\r\n    Person(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person: Id = &quot; + id + &quot;, Name = &quot; + name;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Person person) {\r\n        int myReturn = 0;\r\n        int minLength = 0;\r\n        int i = 0;\r\n        boolean equal = false;\r\n        if (id &gt; person.id) {\r\n            myReturn = 1;\r\n        } else if (id &lt; person.id) {\r\n            myReturn = -1;\r\n        } else {\r\n            if (name.length() &gt; person.name.length()) {\r\n                minLength = person.name.length();\r\n            } else if (name.length() &lt; person.name.length()) {\r\n                minLength = name.length();\r\n            } else {\r\n                equal = true;\r\n                minLength = name.length();\r\n            }\r\n            for (i = 0; i &lt; minLength; i++) {\r\n                if (name.charAt(i) &gt; person.name.charAt(i))  {\r\n                    myReturn = 1;\r\n                    break;\r\n                } else if (name.charAt(i) &lt; person.name.charAt(i)) {\r\n                    myReturn = -1;\r\n                    break;\r\n                } else {\r\n                    continue;\r\n                }\r\n            }\r\n            if (i == minLength) {\r\n                if (equal) {\r\n                    myReturn = 0;\r\n                } else if (name.length() &gt; person.name.length()) {\r\n                    myReturn = 1;\r\n                } else {\r\n                    myReturn = -1;\r\n                }\r\n            }\r\n        }\r\n        return myReturn;\r\n    }\r\n}\r\n```\r\n \r\nNow, I have the following TreeClass instance - \r\n\r\n```\r\nTreeSet&lt;Person&gt; treeSet = new TreeSet&lt;&gt;(List.of(\r\n                new Person(4, &quot;Amrita&quot;),\r\n                new Person(4, &quot;Amrita&quot;),\r\n                new Person(9, &quot;Sunita&quot;),\r\n                new Person(12, &quot;Nisha&quot;),\r\n                new Person(9, &quot;Sunit&quot;),\r\n                new Person(9, &quot;Sunitaa&quot;)\r\n        ));\r\n```\r\n\r\nUpon printing - \r\n\r\n```\r\nPerson: Id = 4, Name = Amrita\r\nPerson: Id = 9, Name = Sunit\r\nPerson: Id = 9, Name = Sunita\r\nPerson: Id = 9, Name = Sunitaa\r\nPerson: Id = 12, Name = Nisha\r\n```\r\n\r\nSo clearly, the two Person instances -  `new Person(4, &quot;Amrita&quot;)` and `new Person(4, &quot;Amrita&quot;)` are equal. \r\n\r\nNow, I have the following Queue code. Since, Queue is a subinterface of Collection interface it implements all methods of Collection interface. So - \r\n\r\n```\r\n    Queue&lt;Person&gt; queue3 = new LinkedList&lt;&gt;(List.of(\r\n                new Person(4, &quot;Amrita&quot;),\r\n                new Person(2, &quot;Suhana&quot;),\r\n                new Person(7, &quot;Neha&quot;)\r\n        ));\r\n        Person person1 = new Person(4, &quot;Amrita&quot;);\r\n        Person person2 = new Person(9, &quot;Sunita&quot;);\r\n        System.out.println(queue3.contains(person1));\r\n        System.out.println(queue3.contains(person2));\r\n```\r\n\r\nOuput - \r\n\r\n```\r\n    false\r\n    false\r\n```\r\n\r\nThus it says that `new Person(4, &quot;Amrita&quot;)` element of Queue and Object `new Person(4, &quot;Amrita&quot;)` are unequal. \r\n\r\nHow is this possible? ","title":"As per TreeSet two objects are shown equal but Queue shows them as unequal","body":"<p>I have the follwing Person Class -</p>\n<p><code>Person.java</code> -</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt; {\n    private int id;\n    private String name;\n\n    Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person: Id = &quot; + id + &quot;, Name = &quot; + name;\n    }\n\n    @Override\n    public int compareTo(Person person) {\n        int myReturn = 0;\n        int minLength = 0;\n        int i = 0;\n        boolean equal = false;\n        if (id &gt; person.id) {\n            myReturn = 1;\n        } else if (id &lt; person.id) {\n            myReturn = -1;\n        } else {\n            if (name.length() &gt; person.name.length()) {\n                minLength = person.name.length();\n            } else if (name.length() &lt; person.name.length()) {\n                minLength = name.length();\n            } else {\n                equal = true;\n                minLength = name.length();\n            }\n            for (i = 0; i &lt; minLength; i++) {\n                if (name.charAt(i) &gt; person.name.charAt(i))  {\n                    myReturn = 1;\n                    break;\n                } else if (name.charAt(i) &lt; person.name.charAt(i)) {\n                    myReturn = -1;\n                    break;\n                } else {\n                    continue;\n                }\n            }\n            if (i == minLength) {\n                if (equal) {\n                    myReturn = 0;\n                } else if (name.length() &gt; person.name.length()) {\n                    myReturn = 1;\n                } else {\n                    myReturn = -1;\n                }\n            }\n        }\n        return myReturn;\n    }\n}\n</code></pre>\n<p>Now, I have the following TreeClass instance -</p>\n<pre><code>TreeSet&lt;Person&gt; treeSet = new TreeSet&lt;&gt;(List.of(\n                new Person(4, &quot;Amrita&quot;),\n                new Person(4, &quot;Amrita&quot;),\n                new Person(9, &quot;Sunita&quot;),\n                new Person(12, &quot;Nisha&quot;),\n                new Person(9, &quot;Sunit&quot;),\n                new Person(9, &quot;Sunitaa&quot;)\n        ));\n</code></pre>\n<p>Upon printing -</p>\n<pre><code>Person: Id = 4, Name = Amrita\nPerson: Id = 9, Name = Sunit\nPerson: Id = 9, Name = Sunita\nPerson: Id = 9, Name = Sunitaa\nPerson: Id = 12, Name = Nisha\n</code></pre>\n<p>So clearly, the two Person instances -  <code>new Person(4, &quot;Amrita&quot;)</code> and <code>new Person(4, &quot;Amrita&quot;)</code> are equal.</p>\n<p>Now, I have the following Queue code. Since, Queue is a subinterface of Collection interface it implements all methods of Collection interface. So -</p>\n<pre><code>    Queue&lt;Person&gt; queue3 = new LinkedList&lt;&gt;(List.of(\n                new Person(4, &quot;Amrita&quot;),\n                new Person(2, &quot;Suhana&quot;),\n                new Person(7, &quot;Neha&quot;)\n        ));\n        Person person1 = new Person(4, &quot;Amrita&quot;);\n        Person person2 = new Person(9, &quot;Sunita&quot;);\n        System.out.println(queue3.contains(person1));\n        System.out.println(queue3.contains(person2));\n</code></pre>\n<p>Ouput -</p>\n<pre><code>    false\n    false\n</code></pre>\n<p>Thus it says that <code>new Person(4, &quot;Amrita&quot;)</code> element of Queue and Object <code>new Person(4, &quot;Amrita&quot;)</code> are unequal.</p>\n<p>How is this possible?</p>\n"},{"tags":["java","dynamic","querydsl"],"owner":{"account_id":3441196,"reputation":301,"user_id":2883137,"display_name":"MVinca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673459100,"creation_date":1673459100,"question_id":75087070,"body_markdown":"I&#39;m looking to form a QueryDSL Path where there is a Map somewhere in the object hierarchy. If I just have simple object hierarchies, I can do the following, which works:\r\n```\r\n        BooleanBuilder builder = new BooleanBuilder();\r\n        Path path = Expressions.path(Outer.class, &quot;root&quot;);\r\n        path = Expressions.path(Inner.class, path, &quot;inner&quot;);\r\n        builder.and(Expressions.path(String.class, path, &quot;field&quot;).eq(&quot;test&quot;));\r\n```\r\n\r\nHowever, I&#39;m a bit confused when coming to a Map. There doesn&#39;t seem to be method parameter to pass in the root path, so I&#39;m just at a loss on what to do. Passing the Path metadata doesn&#39;t seem to work, but I really didn&#39;t expect it to. And there is also no place to pass in the property name that is the map.\r\n\r\n```\r\n        BooleanBuilder builder = new BooleanBuilder();\r\n        Path path = Expressions.path(Outer.class, &quot;root&quot;);\r\n        path = Expressions.mapPath(String.class, String.class, StringPath.class, path.getMetadata()); // What would be the proper way to dive down into the map?\r\n        builder.and(Expressions.path(String.class, path, &quot;field&quot;).eq(&quot;test&quot;));\r\n```\r\n\r\nClearly I do not understand the proper use of this method, but I am unable to glean what the proper use would be.\r\n\r\nAlso of note, I&#39;m trying to do this dynamically, so even though I could use Q-generated classes in these examples, that isn&#39;t my final goal.\r\n\r\nSo if I had an object structure of `Outer.map[key].field`, how could I build a Path to select `field`?\r\n\r\nThe closest question I found was https://stackoverflow.com/questions/45989336/querydsl-web-query-on-the-key-of-a-map-field, but that assumes directly accessing a dictionary, not having a dictionary somewhere in the path.","title":"Java QueryDSL Building a Path through a Map dynamically","body":"<p>I'm looking to form a QueryDSL Path where there is a Map somewhere in the object hierarchy. If I just have simple object hierarchies, I can do the following, which works:</p>\n<pre><code>        BooleanBuilder builder = new BooleanBuilder();\n        Path path = Expressions.path(Outer.class, &quot;root&quot;);\n        path = Expressions.path(Inner.class, path, &quot;inner&quot;);\n        builder.and(Expressions.path(String.class, path, &quot;field&quot;).eq(&quot;test&quot;));\n</code></pre>\n<p>However, I'm a bit confused when coming to a Map. There doesn't seem to be method parameter to pass in the root path, so I'm just at a loss on what to do. Passing the Path metadata doesn't seem to work, but I really didn't expect it to. And there is also no place to pass in the property name that is the map.</p>\n<pre><code>        BooleanBuilder builder = new BooleanBuilder();\n        Path path = Expressions.path(Outer.class, &quot;root&quot;);\n        path = Expressions.mapPath(String.class, String.class, StringPath.class, path.getMetadata()); // What would be the proper way to dive down into the map?\n        builder.and(Expressions.path(String.class, path, &quot;field&quot;).eq(&quot;test&quot;));\n</code></pre>\n<p>Clearly I do not understand the proper use of this method, but I am unable to glean what the proper use would be.</p>\n<p>Also of note, I'm trying to do this dynamically, so even though I could use Q-generated classes in these examples, that isn't my final goal.</p>\n<p>So if I had an object structure of <code>Outer.map[key].field</code>, how could I build a Path to select <code>field</code>?</p>\n<p>The closest question I found was <a href=\"https://stackoverflow.com/questions/45989336/querydsl-web-query-on-the-key-of-a-map-field\">QueryDsl web query on the key of a Map field</a>, but that assumes directly accessing a dictionary, not having a dictionary somewhere in the path.</p>\n"},{"tags":["java","android","gradle","android-intent"],"answers":[{"tags":[],"owner":{"account_id":21139370,"reputation":11,"user_id":15542139,"display_name":"yusav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634090712,"creation_date":1634090712,"answer_id":69548894,"question_id":69546786,"body_markdown":"I figured out the issue. It turns out in the nav_graph.xml file, I added the argument to the wrong fragment. I added the argument to fragment 1 because I assumed we should add it to the sending fragment. However, it needs to be added to the receiving fragment (fragment 2). In order to fix this:\r\n\r\n1. Navigate to your nav_graph.xml file\r\n2. Delete Current attributes\r\n3. Add attributes to the receiving fragment.\r\neg: if you are sending a value from fragment 1 to fragment 2, fragment 2 should have the argument added.\r\n\r\nFor understanding: When adding an attribute, classes are generated to allow communicating between fragments. \r\n\r\nIf I add an argument to fragment 2, the following classes will be generated:\r\n\r\n - FirstFragmentDirections \r\n - SecondFragmentArgs\r\n - SecondFragmentDirections\r\n\r\n If I add an argument to fragment 1, the following classes will be generated:\r\n\r\n - SecondFragmentDirections\r\n - FirstFragmentArgs\r\n - FirstFragmentDirections\r\n\r\nWith each class containing the necessary methods to navigate to other classes. This is the reason I got the error previously: &quot;Cannot resolve symbol &#39;ActionFirstFragmentToSecondFragment&quot;\r\nI was trying to navigate from the first fragment to the second fragment, but with the classes that had been generated, the method that I attempted to use was not available.\r\n ","title":"Cannot resolve symbol &#39;ActionFirstFragmentToSecondFragment&#39;","body":"<p>I figured out the issue. It turns out in the nav_graph.xml file, I added the argument to the wrong fragment. I added the argument to fragment 1 because I assumed we should add it to the sending fragment. However, it needs to be added to the receiving fragment (fragment 2). In order to fix this:</p>\n<ol>\n<li>Navigate to your nav_graph.xml file</li>\n<li>Delete Current attributes</li>\n<li>Add attributes to the receiving fragment.\neg: if you are sending a value from fragment 1 to fragment 2, fragment 2 should have the argument added.</li>\n</ol>\n<p>For understanding: When adding an attribute, classes are generated to allow communicating between fragments.</p>\n<p>If I add an argument to fragment 2, the following classes will be generated:</p>\n<ul>\n<li>FirstFragmentDirections</li>\n<li>SecondFragmentArgs</li>\n<li>SecondFragmentDirections</li>\n</ul>\n<p>If I add an argument to fragment 1, the following classes will be generated:</p>\n<ul>\n<li>SecondFragmentDirections</li>\n<li>FirstFragmentArgs</li>\n<li>FirstFragmentDirections</li>\n</ul>\n<p>With each class containing the necessary methods to navigate to other classes. This is the reason I got the error previously: &quot;Cannot resolve symbol 'ActionFirstFragmentToSecondFragment&quot;\nI was trying to navigate from the first fragment to the second fragment, but with the classes that had been generated, the method that I attempted to use was not available.</p>\n"}],"owner":{"account_id":21139370,"reputation":11,"user_id":15542139,"display_name":"yusav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69548894,"answer_count":1,"score":0,"last_activity_date":1673458829,"creation_date":1634071433,"question_id":69546786,"body_markdown":"Google&#39;s documentation highlighting how to build an android app in java (https://developer.android.com/codelabs/build-your-first-android-app#8) returns an error when using intents. On step 7, it says:\r\n\r\n    FirstFragmentDirections.ActionFirstFragmentToSecondFragment action = FirstFragmentDirections.actionFirstFragmentToSecondFragment(currentCount);\r\n\r\nbut my IDE consistently returns an error saying: Cannot resolve symbol &#39;ActionFirstFragmentToSecondFragment&#39;. Ive tried resyncing the gradle files but im continuing to get this error. I&#39;ve followed the steps to a T from my understanding but still unable to find the cause of the issue.","title":"Cannot resolve symbol &#39;ActionFirstFragmentToSecondFragment&#39;","body":"<p>Google's documentation highlighting how to build an android app in java (<a href=\"https://developer.android.com/codelabs/build-your-first-android-app#8\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/build-your-first-android-app#8</a>) returns an error when using intents. On step 7, it says:</p>\n<pre><code>FirstFragmentDirections.ActionFirstFragmentToSecondFragment action = FirstFragmentDirections.actionFirstFragmentToSecondFragment(currentCount);\n</code></pre>\n<p>but my IDE consistently returns an error saying: Cannot resolve symbol 'ActionFirstFragmentToSecondFragment'. Ive tried resyncing the gradle files but im continuing to get this error. I've followed the steps to a T from my understanding but still unable to find the cause of the issue.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26301124,"reputation":11,"user_id":19966480,"display_name":"Ajith"},"score":0,"creation_date":1673458783,"post_id":75087001,"comment_id":132505767,"body_markdown":"I wanted to copy those files to another folder.\n\neg: src/main/resources/Demo/subfolder/ file1 file2 file3\n\nhow to access all files and folders after deployment.","body":"I wanted to copy those files to another folder.  eg: src/main/resources/Demo/subfolder/ file1 file2 file3  how to access all files and folders after deployment."}],"owner":{"account_id":26301124,"reputation":11,"user_id":19966480,"display_name":"Ajith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673458750,"creation_date":1673458750,"question_id":75087001,"body_markdown":"        private static void copyRequiredCBAFiles(String sourceFileUrl, Path targetDirectory, String fileName, Boolean rename) throws IOException {\r\n       File source = new File(new ClassPathResource(sourceFileUrl).getFile().getAbsolutePath());\r\n            File destination = targetDirectory.toFile();\r\n            for (File file : source.listFiles()) {\r\n            if (file.isFile()) {\r\n               if (rename &amp;&amp; (StringUtils.equalsIgnoreCase(file.getName(),&quot;template.txt&quot;) || StringUtils.equalsIgnoreCase(file.getName(), &quot;mapping.json&quot;))) {\r\n                        copyAndRenameFileToDirectory(file, destination, fileName);\r\n                    } else {\r\n                        FileUtils.copyFileToDirectory(file, destination);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\ni have some files and subfolders inside resouces folder, Now after deploy the code im not able to access it im getting null pointer exception. Is it possible to access those files and folders. ","title":"copy Resource folders files after deployment in spring boot app","body":"<pre><code>    private static void copyRequiredCBAFiles(String sourceFileUrl, Path targetDirectory, String fileName, Boolean rename) throws IOException {\n   File source = new File(new ClassPathResource(sourceFileUrl).getFile().getAbsolutePath());\n        File destination = targetDirectory.toFile();\n        for (File file : source.listFiles()) {\n        if (file.isFile()) {\n           if (rename &amp;&amp; (StringUtils.equalsIgnoreCase(file.getName(),&quot;template.txt&quot;) || StringUtils.equalsIgnoreCase(file.getName(), &quot;mapping.json&quot;))) {\n                    copyAndRenameFileToDirectory(file, destination, fileName);\n                } else {\n                    FileUtils.copyFileToDirectory(file, destination);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>i have some files and subfolders inside resouces folder, Now after deploy the code im not able to access it im getting null pointer exception. Is it possible to access those files and folders.</p>\n"},{"tags":["java","spring-boot","azure-aks","istio-gateway"],"answers":[{"comments":[{"owner":{"account_id":6365023,"reputation":389,"user_id":4939245,"display_name":"Giampiero Poggi"},"score":0,"creation_date":1673555530,"post_id":75086997,"comment_id":132531988,"body_markdown":"Hi Henry :D\nYessss, I also have a DataDog tracking agent distributed with my service.\nI&#39;ll immediately try to update the agent to version 1.4.0 and let you know, but I&#39;d say you&#39;ve caught the problem!!\n\nI do not know how to thank you! You are my savior :D","body":"Hi Henry :D Yessss, I also have a DataDog tracking agent distributed with my service. I&#39;ll immediately try to update the agent to version 1.4.0 and let you know, but I&#39;d say you&#39;ve caught the problem!!  I do not know how to thank you! You are my savior :D"},{"owner":{"account_id":6365023,"reputation":389,"user_id":4939245,"display_name":"Giampiero Poggi"},"score":0,"creation_date":1673603898,"post_id":75086997,"comment_id":132541193,"body_markdown":"Great!! It worked! Tell me how I can pay you at least one coffee","body":"Great!! It worked! Tell me how I can pay you at least one coffee"},{"owner":{"account_id":27427089,"reputation":46,"user_id":20924404,"display_name":"Henry"},"score":0,"creation_date":1673627788,"post_id":75086997,"comment_id":132549149,"body_markdown":"xD, no worries, spreading the word about the fix whenever you see someone else facing a similar issue is good enough for me :)","body":"xD, no worries, spreading the word about the fix whenever you see someone else facing a similar issue is good enough for me :)"}],"tags":[],"owner":{"account_id":27427089,"reputation":46,"user_id":20924404,"display_name":"Henry"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673458737,"creation_date":1673458737,"answer_id":75086997,"question_id":74863013,"body_markdown":"We ran into the same issue last week, but with an ECS cluster. Do you happen to have a [DataDog tracing agent][1] being deployed alongside your service? Someone had a [similar issue][2] and their solution was to [bump the agent version to 1.3.0][3]. We bumped our agent to 1.4.0 and that fixed our issue. \r\n\r\nThe root cause could probably be traced back to [this change][4] if I had to guess\r\n\r\n\r\n  [1]: https://github.com/DataDog/dd-trace-java\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/33735\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/33735#issuecomment-1378320002\r\n  [4]: https://github.com/DataDog/dd-trace-java/pull/4304","title":"Spring Boot 3.0 + AKS = always 200 with empty response","body":"<p>We ran into the same issue last week, but with an ECS cluster. Do you happen to have a <a href=\"https://github.com/DataDog/dd-trace-java\" rel=\"nofollow noreferrer\">DataDog tracing agent</a> being deployed alongside your service? Someone had a <a href=\"https://github.com/spring-projects/spring-boot/issues/33735\" rel=\"nofollow noreferrer\">similar issue</a> and their solution was to <a href=\"https://github.com/spring-projects/spring-boot/issues/33735#issuecomment-1378320002\" rel=\"nofollow noreferrer\">bump the agent version to 1.3.0</a>. We bumped our agent to 1.4.0 and that fixed our issue.</p>\n<p>The root cause could probably be traced back to <a href=\"https://github.com/DataDog/dd-trace-java/pull/4304\" rel=\"nofollow noreferrer\">this change</a> if I had to guess</p>\n"}],"owner":{"account_id":6365023,"reputation":389,"user_id":4939245,"display_name":"Giampiero Poggi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75086997,"answer_count":1,"score":2,"last_activity_date":1673458737,"creation_date":1671538772,"question_id":74863013,"body_markdown":"I&#39;m asking for your help for a very strange situation I&#39;m having, after upgrading a microservice to Spring Boot 3.0, from 2.7.x version.\r\n\r\nThe microservice is deployed on AKS cluster, and, when I invoke any endpoint exposed by the microservice from the context-root, **with any cookie**, i always obtain a http status code 200 - OK with empty response, instead of the response i expect; this also happens to me when i invoke endpoints not exposed by the microservice. If instead I invoke the same endpoints **without cookies**, everything works correctly.\r\n\r\nHowever, when I test the microservice endpoints locally (start in local debug) with new Spring Boot version (3.0.0) or when I rollback the microservice to the previous Spring Boot version (2.7.x) and deploy it on AKS cluster, everything works fine, both with and without cookies.\r\n\r\nSo I don&#39;t understand if the &quot;problem&quot; is on Spring Boot framework update or AKS/istio (kube ingress).\r\n\r\nHere are some examples for clarity:\r\n```\r\ncurl --request GET --url http://localhost:8080/endpoint -H &quot;cookie: key=test&quot;\r\n{&quot;out&quot;: &quot;value&quot;}\r\n\r\ncurl --request GET --url http://localhost:8080/endpoint\r\n{&quot;out&quot;: &quot;value&quot;}\r\n```\r\nthis is OK!\r\n\r\n\r\n```\r\ncurl --request GET --url http://my.ingress.com/context-root/endpoint -H &quot;cookie: key=test&quot;\r\n(200 with empty response)\r\n\r\ncurl --request GET --url http://my.ingress.com/context-root/endpoint\r\n{&quot;out&quot;: &quot;value&quot;}\r\n```\r\nthis is *strange*!\r\n\r\n\r\nYou are my last hope! :D\r\nMany thanks in advance","title":"Spring Boot 3.0 + AKS = always 200 with empty response","body":"<p>I'm asking for your help for a very strange situation I'm having, after upgrading a microservice to Spring Boot 3.0, from 2.7.x version.</p>\n<p>The microservice is deployed on AKS cluster, and, when I invoke any endpoint exposed by the microservice from the context-root, <strong>with any cookie</strong>, i always obtain a http status code 200 - OK with empty response, instead of the response i expect; this also happens to me when i invoke endpoints not exposed by the microservice. If instead I invoke the same endpoints <strong>without cookies</strong>, everything works correctly.</p>\n<p>However, when I test the microservice endpoints locally (start in local debug) with new Spring Boot version (3.0.0) or when I rollback the microservice to the previous Spring Boot version (2.7.x) and deploy it on AKS cluster, everything works fine, both with and without cookies.</p>\n<p>So I don't understand if the &quot;problem&quot; is on Spring Boot framework update or AKS/istio (kube ingress).</p>\n<p>Here are some examples for clarity:</p>\n<pre><code>curl --request GET --url http://localhost:8080/endpoint -H &quot;cookie: key=test&quot;\n{&quot;out&quot;: &quot;value&quot;}\n\ncurl --request GET --url http://localhost:8080/endpoint\n{&quot;out&quot;: &quot;value&quot;}\n</code></pre>\n<p>this is OK!</p>\n<pre><code>curl --request GET --url http://my.ingress.com/context-root/endpoint -H &quot;cookie: key=test&quot;\n(200 with empty response)\n\ncurl --request GET --url http://my.ingress.com/context-root/endpoint\n{&quot;out&quot;: &quot;value&quot;}\n</code></pre>\n<p>this is <em>strange</em>!</p>\n<p>You are my last hope! :D\nMany thanks in advance</p>\n"},{"tags":["java","spring-boot","google-cloud-pubsub","google-cloud-pubsub-emulator","google-cloud-pubsublite"],"owner":{"account_id":1058261,"reputation":245,"user_id":1060472,"accept_rate":57,"display_name":"micgn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673458352,"creation_date":1673458352,"question_id":75086928,"body_markdown":"With Google&#39;s PubSub there is an embedded broker available for writing tests: embedded-google-pubsub (https://github.com/PlaytikaOSS/testcontainers-spring-boot/blob/develop/embedded-google-pubsub/README.adoc)\r\n\r\nCan I use this also for PubSubLite? Probably not, since I do not find any indication in the documentation. But what am I going to use for writing integration tests then? It seems there is not even a Docker image available for PubSubLite?","title":"How to write tests with Google&#39;s PubSubLite?","body":"<p>With Google's PubSub there is an embedded broker available for writing tests: embedded-google-pubsub (<a href=\"https://github.com/PlaytikaOSS/testcontainers-spring-boot/blob/develop/embedded-google-pubsub/README.adoc\" rel=\"nofollow noreferrer\">https://github.com/PlaytikaOSS/testcontainers-spring-boot/blob/develop/embedded-google-pubsub/README.adoc</a>)</p>\n<p>Can I use this also for PubSubLite? Probably not, since I do not find any indication in the documentation. But what am I going to use for writing integration tests then? It seems there is not even a Docker image available for PubSubLite?</p>\n"},{"tags":["java","sockets","smtp"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673457861,"creation_date":1673368510,"answer_id":75073098,"question_id":75071670,"body_markdown":"SMTP can have multiline responses, but you only expect singleline responses. Multiline responses are typical for EHLO. To cite from [RFC 5231](https://www.rfc-editor.org/rfc/rfc5321#section-4.2.1):\r\n\r\n&gt;    The format for multiline replies requires that every line, except the last, begin with the reply code, followed immediately by a hyphen, &quot;-&quot; (also known as minus), followed by text.  The last line will begin with the reply code, followed immediately by \\&lt;SP&gt;, optionally some text, and \\&lt;CRLF&gt;.  As noted above, servers SHOULD send the \\&lt;SP&gt; if subsequent text is not sent, but clients MUST be prepared for it to be omitted.\r\n&gt;\r\n&gt;   For example:\r\n&gt;\r\n&gt;      250-First line\r\n&gt;      250-Second line\r\n&gt;      250-234 Text beginning with numbers\r\n&gt;      250 The last line","title":"Send emails with SMTP protocol using socket class - Java","body":"<p>SMTP can have multiline responses, but you only expect singleline responses. Multiline responses are typical for EHLO. To cite from <a href=\"https://www.rfc-editor.org/rfc/rfc5321#section-4.2.1\" rel=\"nofollow noreferrer\">RFC 5231</a>:</p>\n<blockquote>\n<p>The format for multiline replies requires that every line, except the last, begin with the reply code, followed immediately by a hyphen, &quot;-&quot; (also known as minus), followed by text.  The last line will begin with the reply code, followed immediately by &lt;SP&gt;, optionally some text, and &lt;CRLF&gt;.  As noted above, servers SHOULD send the &lt;SP&gt; if subsequent text is not sent, but clients MUST be prepared for it to be omitted.</p>\n<p>For example:</p>\n<pre><code> 250-First line\n 250-Second line\n 250-234 Text beginning with numbers\n 250 The last line\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75073098,"answer_count":1,"score":0,"last_activity_date":1673457861,"creation_date":1673362055,"question_id":75071670,"body_markdown":"I&#39;m trying to develop a class that sends email using the SMTP protocol, without using any libraries that facilitate sending mail, such as MimeMessage or MailUtility.\r\n\r\nThis is what I&#39;ve done so far:\r\n\r\n    public class MailSender {\r\n    \r\n        protected String localMachine;\r\n        protected String localSMTPServer;\r\n        private String textMail;\r\n    \r\n        private String mailFrom;\r\n    \r\n        public MailSender(String localSMTPServer, String mailFrom) {\r\n            try {\r\n                this.textMail = &quot;null&quot;;\r\n                this.localSMTPServer = localSMTPServer;\r\n                this.mailFrom = mailFrom;\r\n    \r\n                InetAddress localIP = InetAddress.getLocalHost();\r\n                this.localMachine = localIP.getHostAddress();\r\n    \r\n            } catch (UnknownHostException ex) {\r\n                Logger.getLogger(MailSender.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        //getter and setter\r\n        public void smtp(String command) {\r\n            try {\r\n                System.out.println(sIn.readLine());\r\n                os.write((command + &quot;\\n&quot;).getBytes());\r\n                System.out.println(&quot;end&quot;);\r\n            } catch (IOException ex) {\r\n                System.out.println(ex);\r\n                Logger.getLogger(MailSender.class.getName()).log(Level.SEVERE, null, ex);\r\n            }           \r\n        }\r\n\r\n        BufferedReader sIn;\r\n        OutputStream os;\r\n\r\n        public Boolean trySend(String destUser, String subject, String message) {\r\n            Socket socket;\r\n            try {\r\n                socket = new Socket(localSMTPServer, 587);\r\n    \r\n                OutputStreamWriter sOutW = new OutputStreamWriter(socket.getOutputStream(), &quot;ASCII&quot;);\r\n    \r\n                PrintWriter sOut = new PrintWriter(sOutW, true);\r\n                InputStreamReader sInR = new InputStreamReader(socket.getInputStream(), &quot;ASCII&quot;);\r\n                \r\n                sIn = new BufferedReader(sInR);\r\n                os = socket.getOutputStream();\r\n                this.nextSMTPCode(sIn, 220);\r\n                sOut.println(&quot;EHLO&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n          \r\n                sOut.println(&quot;AUTH LOGIN&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n                \r\n                sOut.println(&quot;xxxxxxxxxxxxxxx==&quot;); //username \r\n                sOut.println(&quot;xxxxxxxxxxxxxx=&quot;); //password \r\n                this.nextSMTPCode(sIn, 250);\r\n                \r\n                sOut.println(&quot;MAIL FROM: &lt;&quot; + this.mailFrom + &quot;&gt;&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n                sOut.println(&quot;RCPT TO: &lt;&quot; + destUser + &quot;&gt;&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n                \r\n                sOut.println(&quot;DATA&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n                sOut.println(&quot;From: &quot; + this.mailFrom);\r\n                sOut.println(&quot;To: &quot; + destUser);\r\n                sOut.println(&quot;Subject: &quot; + subject);\r\n                sOut.println(message);\r\n                \r\n                sOut.println(&quot;.&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n                \r\n                sOut.println(&quot;QUIT&quot;);\r\n                this.nextSMTPCode(sIn, 250);\r\n                \r\n                sIn.close();\r\n                textMail = &quot;From &quot; + this.mailFrom + &quot; To &quot; + destUser + &quot;\\n&quot; + &quot;Subject: &quot; + subject + &quot;\\nMessage: &quot; + message;\r\n                return true;\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(MailSender.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n        public String getMail() {\r\n            return textMail;\r\n        }\r\n    \r\n        private void nextSMTPCode(BufferedReader sIn, int expectedCode) throws IOException {    \r\n            int code;\r\n            String str = sIn.readLine();\r\n            System.out.println(str);\r\n            String sCode = str.substring(0, 3);\r\n            code = Integer.parseInt(sCode);\r\n    \r\n            if (code != expectedCode) {    \r\n                sIn.close();\r\n                System.out.println(&quot;Code: &quot; + code + &quot; expected code was: &quot; + expectedCode);\r\n                throw new IOException();\r\n            }\r\n        }\r\n    }\r\n\r\nI am having problem with communication with the SMTP server (I am using smtp2go as the server).\r\n\r\n**The problem is that I keep getting the 250 code even when this shouldn&#39;t show up**, finally the email isn&#39;t sent.\r\n\r\nThis is a sample communication:\r\n\r\n```none\r\n220 mail.smtp2go.com ESMTP Exim 4.96-S2G Tue, 10 Jan 2023 14:42:02+0000\r\n250-mail.smtp2go.com Hello  [xxxxx] \r\n250-SIZE 52428800 \r\n250-8BITMIME \r\n250-DSN\r\n250-PIPELINING \r\n250-PIPECONNECT \r\n250-AUTH CRAM-MD5 PLAIN LOGIN \r\n250-CHUNKING\r\n```\r\n\r\n**I then get 250-SIZE 52428800 and the other responses (always with the code 250) for every command I send**. I tried to telnet and everything seems to work, the problem is in my code, but I can&#39;t figure out what I&#39;m doing wrong.\r\n\r\nDoes anyone know the cause of this problem?","title":"Send emails with SMTP protocol using socket class - Java","body":"<p>I'm trying to develop a class that sends email using the SMTP protocol, without using any libraries that facilitate sending mail, such as MimeMessage or MailUtility.</p>\n<p>This is what I've done so far:</p>\n<pre><code>public class MailSender {\n\n    protected String localMachine;\n    protected String localSMTPServer;\n    private String textMail;\n\n    private String mailFrom;\n\n    public MailSender(String localSMTPServer, String mailFrom) {\n        try {\n            this.textMail = &quot;null&quot;;\n            this.localSMTPServer = localSMTPServer;\n            this.mailFrom = mailFrom;\n\n            InetAddress localIP = InetAddress.getLocalHost();\n            this.localMachine = localIP.getHostAddress();\n\n        } catch (UnknownHostException ex) {\n            Logger.getLogger(MailSender.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    //getter and setter\n    public void smtp(String command) {\n        try {\n            System.out.println(sIn.readLine());\n            os.write((command + &quot;\\n&quot;).getBytes());\n            System.out.println(&quot;end&quot;);\n        } catch (IOException ex) {\n            System.out.println(ex);\n            Logger.getLogger(MailSender.class.getName()).log(Level.SEVERE, null, ex);\n        }           \n    }\n\n    BufferedReader sIn;\n    OutputStream os;\n\n    public Boolean trySend(String destUser, String subject, String message) {\n        Socket socket;\n        try {\n            socket = new Socket(localSMTPServer, 587);\n\n            OutputStreamWriter sOutW = new OutputStreamWriter(socket.getOutputStream(), &quot;ASCII&quot;);\n\n            PrintWriter sOut = new PrintWriter(sOutW, true);\n            InputStreamReader sInR = new InputStreamReader(socket.getInputStream(), &quot;ASCII&quot;);\n            \n            sIn = new BufferedReader(sInR);\n            os = socket.getOutputStream();\n            this.nextSMTPCode(sIn, 220);\n            sOut.println(&quot;EHLO&quot;);\n            this.nextSMTPCode(sIn, 250);\n      \n            sOut.println(&quot;AUTH LOGIN&quot;);\n            this.nextSMTPCode(sIn, 250);\n            \n            sOut.println(&quot;xxxxxxxxxxxxxxx==&quot;); //username \n            sOut.println(&quot;xxxxxxxxxxxxxx=&quot;); //password \n            this.nextSMTPCode(sIn, 250);\n            \n            sOut.println(&quot;MAIL FROM: &lt;&quot; + this.mailFrom + &quot;&gt;&quot;);\n            this.nextSMTPCode(sIn, 250);\n            sOut.println(&quot;RCPT TO: &lt;&quot; + destUser + &quot;&gt;&quot;);\n            this.nextSMTPCode(sIn, 250);\n            \n            sOut.println(&quot;DATA&quot;);\n            this.nextSMTPCode(sIn, 250);\n            sOut.println(&quot;From: &quot; + this.mailFrom);\n            sOut.println(&quot;To: &quot; + destUser);\n            sOut.println(&quot;Subject: &quot; + subject);\n            sOut.println(message);\n            \n            sOut.println(&quot;.&quot;);\n            this.nextSMTPCode(sIn, 250);\n            \n            sOut.println(&quot;QUIT&quot;);\n            this.nextSMTPCode(sIn, 250);\n            \n            sIn.close();\n            textMail = &quot;From &quot; + this.mailFrom + &quot; To &quot; + destUser + &quot;\\n&quot; + &quot;Subject: &quot; + subject + &quot;\\nMessage: &quot; + message;\n            return true;\n        } catch (IOException ex) {\n            Logger.getLogger(MailSender.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n        return false;\n    }\n\n    public String getMail() {\n        return textMail;\n    }\n\n    private void nextSMTPCode(BufferedReader sIn, int expectedCode) throws IOException {    \n        int code;\n        String str = sIn.readLine();\n        System.out.println(str);\n        String sCode = str.substring(0, 3);\n        code = Integer.parseInt(sCode);\n\n        if (code != expectedCode) {    \n            sIn.close();\n            System.out.println(&quot;Code: &quot; + code + &quot; expected code was: &quot; + expectedCode);\n            throw new IOException();\n        }\n    }\n}\n</code></pre>\n<p>I am having problem with communication with the SMTP server (I am using smtp2go as the server).</p>\n<p><strong>The problem is that I keep getting the 250 code even when this shouldn't show up</strong>, finally the email isn't sent.</p>\n<p>This is a sample communication:</p>\n<pre class=\"lang-none prettyprint-override\"><code>220 mail.smtp2go.com ESMTP Exim 4.96-S2G Tue, 10 Jan 2023 14:42:02+0000\n250-mail.smtp2go.com Hello  [xxxxx] \n250-SIZE 52428800 \n250-8BITMIME \n250-DSN\n250-PIPELINING \n250-PIPECONNECT \n250-AUTH CRAM-MD5 PLAIN LOGIN \n250-CHUNKING\n</code></pre>\n<p><strong>I then get 250-SIZE 52428800 and the other responses (always with the code 250) for every command I send</strong>. I tried to telnet and everything seems to work, the problem is in my code, but I can't figure out what I'm doing wrong.</p>\n<p>Does anyone know the cause of this problem?</p>\n"},{"tags":["java","xml","spring","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":14330967,"reputation":25,"user_id":10351714,"display_name":"Michael"},"score":0,"creation_date":1673514271,"post_id":75084634,"comment_id":132517655,"body_markdown":"I see;  would it work with this annotation as described in the docs:   @EnableBatchProcessing(isolationLevelForCreate = &quot;ISOLATION_REPEATABLE_READ&quot;) ?   What I intend to solve is the isolation level, and this annotation would set it for the default jobrepository as I understand.   If it works I could delete the jobrepositorybean  from the xml (which actually is not even used)   .                                           .","body":"I see;  would it work with this annotation as described in the docs:   @EnableBatchProcessing(isolationLevelForCreate = &quot;ISOLATION_REPEATABLE_READ&quot;) ?   What I intend to solve is the isolation level, and this annotation would set it for the default jobrepository as I understand.   If it works I could delete the jobrepositorybean  from the xml (which actually is not even used)   .                                           ."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1673516567,"post_id":75084634,"comment_id":132518481,"body_markdown":"ok I see, you seem to be mixing XML and annotation configs, which was not mentioned in the initial question. So if you use the annotation, then yes, that should work and you can safely remove the XML definition of the job repository.","body":"ok I see, you seem to be mixing XML and annotation configs, which was not mentioned in the initial question. So if you use the annotation, then yes, that should work and you can safely remove the XML definition of the job repository."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673447418,"creation_date":1673447418,"answer_id":75084634,"question_id":75081583,"body_markdown":"Unlike with the Java configuration style, there is nothing provided by default (that you can override) when you use the XML configuration style.\r\n\r\nSo you just need configure the job repository bean as needed like shown in the snippet you shared.","title":"Spring batch - overriding jobrepository in context.xml","body":"<p>Unlike with the Java configuration style, there is nothing provided by default (that you can override) when you use the XML configuration style.</p>\n<p>So you just need configure the job repository bean as needed like shown in the snippet you shared.</p>\n"}],"owner":{"account_id":14330967,"reputation":25,"user_id":10351714,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75084634,"answer_count":1,"score":0,"last_activity_date":1673457759,"creation_date":1673432924,"question_id":75081583,"body_markdown":"Like described in the linked article below, with Java configuration it is possible to override the JobRepository bean by extending DefaultBatchConfigurer and overriding createJobRepository.\r\n\r\nHow can this be achieved in a context.xml file where the jobrepository bean is defined like this \r\n\r\n\t&lt;bean id=&quot;jobRepository_new&quot;\r\n\t\tclass=&quot;org.springframework.batch.core.repository.support.JobRepositoryFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;databaseType&quot; value=&quot;Oracle&quot; /&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource-batch&quot; /&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\r\n\t\t&lt;property name=&quot;tablePrefix&quot; value=&quot;BATCH_&quot; /&gt;\r\n\t\t&lt;property name=&quot;lobHandler&quot; ref=&quot;oracleLobHandler&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n?\r\n\r\nhttps://stackoverflow.com/questions/55339675/cant-serialize-access-for-this-transaction-when-running-single-job-serialized/75059802#75059802 ","title":"Spring batch - overriding jobrepository in context.xml","body":"<p>Like described in the linked article below, with Java configuration it is possible to override the JobRepository bean by extending DefaultBatchConfigurer and overriding createJobRepository.</p>\n<p>How can this be achieved in a context.xml file where the jobrepository bean is defined like this</p>\n<pre><code>&lt;bean id=&quot;jobRepository_new&quot;\n    class=&quot;org.springframework.batch.core.repository.support.JobRepositoryFactoryBean&quot;&gt;\n    &lt;property name=&quot;databaseType&quot; value=&quot;Oracle&quot; /&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource-batch&quot; /&gt;\n    &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\n    &lt;property name=&quot;tablePrefix&quot; value=&quot;BATCH_&quot; /&gt;\n    &lt;property name=&quot;lobHandler&quot; ref=&quot;oracleLobHandler&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>?</p>\n<p><a href=\"https://stackoverflow.com/questions/55339675/cant-serialize-access-for-this-transaction-when-running-single-job-serialized/75059802#75059802\">Can&#39;t serialize access for this transaction when running single job, SERIALIZED isolation level</a></p>\n"},{"tags":["java","javax.imageio","bmp","twelvemonkeys"],"owner":{"account_id":2997416,"reputation":6731,"user_id":2543666,"accept_rate":68,"display_name":"Thayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673457485,"creation_date":1673457485,"question_id":75086783,"body_markdown":"I have a BMP file with fake alpha (similar to rgb32fakealpha.bmp from the [bmp suite](https://entropymine.com/jason/bmpsuite/bmpsuite/html/bmpsuite.html)). That is, it has 32 bits per pixel, but doesn&#39;t have bitfields set, but uses the extra bits in each pixel as alpha anyways. And I&#39;m using the twelvemonkeys library with the imageio-bmp plugin to read the BMP. \r\n\r\nIf I just do `ImageIO.read(inputFile)`, then it doesn&#39;t preserve the transparency. Is there some way I can configure imageio, to use the alpha channel for this image? ","title":"Read BMP with fake alpha with twelvemonkeys","body":"<p>I have a BMP file with fake alpha (similar to rgb32fakealpha.bmp from the <a href=\"https://entropymine.com/jason/bmpsuite/bmpsuite/html/bmpsuite.html\" rel=\"nofollow noreferrer\">bmp suite</a>). That is, it has 32 bits per pixel, but doesn't have bitfields set, but uses the extra bits in each pixel as alpha anyways. And I'm using the twelvemonkeys library with the imageio-bmp plugin to read the BMP.</p>\n<p>If I just do <code>ImageIO.read(inputFile)</code>, then it doesn't preserve the transparency. Is there some way I can configure imageio, to use the alpha channel for this image?</p>\n"},{"tags":["java","android","kotlin","mobile","uninstallation"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1673453926,"post_id":75086010,"comment_id":132504001,"body_markdown":"You cant prevent any of the apps from uninstalling. Nor can you know when the app is uninstalled according to API 33","body":"You cant prevent any of the apps from uninstalling. Nor can you know when the app is uninstalled according to API 33"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673454705,"post_id":75086010,"comment_id":132504333,"body_markdown":"I wouldn&#39;t want any app to be able to entrench itself on my phone and refusing to uninstall. What are you trying to achieve in the end?","body":"I wouldn&#39;t want any app to be able to entrench itself on my phone and refusing to uninstall. What are you trying to achieve in the end?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1673457708,"post_id":75086010,"comment_id":132505416,"body_markdown":"If you are trying to lock down a device for some business reason, you should look up &quot;kiosk mode&quot;.","body":"If you are trying to lock down a device for some business reason, you should look up &quot;kiosk mode&quot;."}],"answers":[{"comments":[{"owner":{"account_id":27500680,"reputation":11,"user_id":20984449,"display_name":"Dinesh B"},"score":0,"creation_date":1673881850,"post_id":75086768,"comment_id":132590478,"body_markdown":"Is this possible to call api at that time of user uninstall?","body":"Is this possible to call api at that time of user uninstall?"}],"tags":[],"owner":{"account_id":22940731,"reputation":1,"user_id":17073548,"display_name":"Compass"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673457395,"creation_date":1673457395,"answer_id":75086768,"question_id":75086010,"body_markdown":"You cant remove the &quot;Uninstall&quot; option, but you can try setting some permissions to the user you want to","title":"Is it possible to disable uninstall option in app?","body":"<p>You cant remove the &quot;Uninstall&quot; option, but you can try setting some permissions to the user you want to</p>\n"}],"owner":{"account_id":27500680,"reputation":11,"user_id":20984449,"display_name":"Dinesh B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1673457395,"creation_date":1673453652,"question_id":75086010,"body_markdown":"steps:\r\n\r\nSettings -&gt; Apps -&gt; App info.\r\n\r\ntry to disable uninstall option. \r\n\r\nUse case:\r\n  - If user try to uninstall the app, at that time try to call api.\r\n\r\n\r\n\r\nI am using Device admin access.","title":"Is it possible to disable uninstall option in app?","body":"<p>steps:</p>\n<p>Settings -&gt; Apps -&gt; App info.</p>\n<p>try to disable uninstall option.</p>\n<p>Use case:</p>\n<ul>\n<li>If user try to uninstall the app, at that time try to call api.</li>\n</ul>\n<p>I am using Device admin access.</p>\n"},{"tags":["java","c++","final"],"comments":[{"owner":{"account_id":125141,"reputation":112619,"user_id":320726,"accept_rate":71,"display_name":"6502"},"score":1,"creation_date":1319571960,"post_id":7894865,"comment_id":9637394,"body_markdown":"Out of curiosity... why do you want to impose such a limitation on the returned value?","body":"Out of curiosity... why do you want to impose such a limitation on the returned value?"},{"owner":{"account_id":47403,"reputation":23409,"user_id":140367,"accept_rate":82,"display_name":"Tam&#225;s Szelei"},"score":16,"creation_date":1319572097,"post_id":7894865,"comment_id":9637444,"body_markdown":"@6502 immutability helps to avoid many bugs.","body":"@6502 immutability helps to avoid many bugs."},{"owner":{"account_id":960278,"reputation":628,"user_id":984799,"accept_rate":73,"display_name":"lowq"},"score":0,"creation_date":1319572544,"post_id":7894865,"comment_id":9637582,"body_markdown":"Say class A has a field of class B, which has a field of class C.\n\nIf class A calls a getC() method on class B, class A can now freely modify and possibly disrupt class C.  C++&#39;s const regulates this.  I&#39;m really just curious as to if this is standard in Java like it is in c++.","body":"Say class A has a field of class B, which has a field of class C.  If class A calls a getC() method on class B, class A can now freely modify and possibly disrupt class C.  C++&#39;s const regulates this.  I&#39;m really just curious as to if this is standard in Java like it is in c++."},{"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"score":0,"creation_date":1319572998,"post_id":7894865,"comment_id":9637731,"body_markdown":"@user984799: The final answer is no.  You can make a member be `const` via `static final`, but Java will decide at compile time if it will be an actual constant.  Thus, `static final iFoo = 3` will be a compile-time constant (and thus its value will be baked into the compiled code directly), but `static final int iRand = (int)(Math.random()*20);` will, though legal, not be a constant.","body":"@user984799: The final answer is no.  You can make a member be <code>const</code> via <code>static final</code>, but Java will decide at compile time if it will be an actual constant.  Thus, <code>static final iFoo = 3</code> will be a compile-time constant (and thus its value will be baked into the compiled code directly), but <code>static final int iRand = (int)(Math.random()*20);</code> will, though legal, not be a constant."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":2,"creation_date":1319573371,"post_id":7894865,"comment_id":9637828,"body_markdown":"@Brian `static final` (no idea what the static has to do here though) is a rather different concept than `const` in c++ for objects and sadly much weaker.","body":"@Brian <code>static final</code> (no idea what the static has to do here though) is a rather different concept than <code>const</code> in c++ for objects and sadly much weaker."},{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":1,"creation_date":1319574102,"post_id":7894865,"comment_id":9638059,"body_markdown":"See also http://stackoverflow.com/questions/4971286/javas-final-vs-cs-const/4971330#4971330","body":"See also <a href=\"http://stackoverflow.com/questions/4971286/javas-final-vs-cs-const/4971330#4971330\" title=\"javas final vs cs const\">stackoverflow.com/questions/4971286/javas-final-vs-cs-const/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"score":0,"creation_date":1319580357,"post_id":7894865,"comment_id":9639847,"body_markdown":"@Voo: `static final` is different from `final` in that, if the field is a string or a primitive and can be determined at compile time, the Java compiler will inline it.  Yes, this does mean that if you recompile a class, things which depend on that class may behave unexpectedly if you don&#39;t recompile them.  **That** special case is similar to a C++ `const`, particularly if you are concerned with efficiency.  If you&#39;re concerned with using `const` to protect yourself from bad code, that information is not especially helpful.","body":"@Voo: <code>static final</code> is different from <code>final</code> in that, if the field is a string or a primitive and can be determined at compile time, the Java compiler will inline it.  Yes, this does mean that if you recompile a class, things which depend on that class may behave unexpectedly if you don&#39;t recompile them.  <b>That</b> special case is similar to a C++ <code>const</code>, particularly if you are concerned with efficiency.  If you&#39;re concerned with using <code>const</code> to protect yourself from bad code, that information is not especially helpful."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1319584369,"post_id":7894865,"comment_id":9640570,"body_markdown":"@Brian Java does the same thing (ie inlining) with final variables, so the only difference is that we don&#39;t have to set the field in the constructor for the static variable (which really is true for any static variable, final or not).","body":"@Brian Java does the same thing (ie inlining) with final variables, so the only difference is that we don&#39;t have to set the field in the constructor for the static variable (which really is true for any static variable, final or not)."}],"answers":[{"comments":[{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":3,"creation_date":1319572130,"post_id":7894883,"comment_id":9637448,"body_markdown":"You should also add the final modifier to the declaration of `s` to disallow modifications by other methods.(+1)","body":"You should also add the final modifier to the declaration of <code>s</code> to disallow modifications by other methods.(+1)"},{"owner":{"account_id":960278,"reputation":628,"user_id":984799,"accept_rate":73,"display_name":"lowq"},"score":0,"creation_date":1319572240,"post_id":7894883,"comment_id":9637481,"body_markdown":"Does that mean I have to declare an Immutable object counterpart for each class I want to be read only at some point?","body":"Does that mean I have to declare an Immutable object counterpart for each class I want to be read only at some point?"},{"owner":{"account_id":158434,"reputation":745,"user_id":377093,"display_name":"Shautieh"},"score":13,"creation_date":1319573000,"post_id":7894883,"comment_id":9637732,"body_markdown":"IMHO, this is a workaround, **NOT** an equivalence! There is no other way around this issue than this extremely verbose and error prone way though.","body":"IMHO, this is a workaround, <b>NOT</b> an equivalence! There is no other way around this issue than this extremely verbose and error prone way though."},{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1319573184,"post_id":7894883,"comment_id":9637779,"body_markdown":"@user984799 if you declare a field as final it can only once assigned by static initaization or constructor. See also chapter 4.12.4 final Variables at http://java.sun.com/docs/books/jls/download/langspec-3.0.pdf","body":"@user984799 if you declare a field as final it can only once assigned by static initaization or constructor. See also chapter 4.12.4 final Variables at <a href=\"http://java.sun.com/docs/books/jls/download/langspec-3.0.pdf\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/download/langspec-3.0.pdf</a>"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1319573748,"post_id":7894883,"comment_id":9637957,"body_markdown":"@user984799 - No, it doesn&#39;t. An immutable object is not equivalent to a const-qualified return value in C++. It is one of several workarounds. See my answer below for more.","body":"@user984799 - No, it doesn&#39;t. An immutable object is not equivalent to a const-qualified return value in C++. It is one of several workarounds. See my answer below for more."}],"tags":[],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"comment_count":5,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1673457369,"creation_date":1319571675,"answer_id":7894883,"question_id":7894865,"body_markdown":"&gt; Basically, I want to make sure a given returned class cannot be\r\n&gt; modified and is read only. Is that possible in Java?\r\n\r\nNot directly, but one workaround is an [*immutable* object][1].\r\n\r\n[1]:http://download.oracle.com/javase/tutorial/essential/concurrency/immutable.html\r\n\r\nExample -\r\n\r\n```java\r\npublic final Foo {\r\n    \r\n    private final String s;\r\n    \r\n    public Foo(String s){\r\n        this.s = s;\r\n    }\r\n    \r\n    // Only provide an accessor!\r\n    public String getString(){\r\n        return s;\r\n    }\r\n}\r\n```","title":"Equivalent of const(C++) in Java","body":"<blockquote>\n<p>Basically, I want to make sure a given returned class cannot be\nmodified and is read only. Is that possible in Java?</p>\n</blockquote>\n<p>Not directly, but one workaround is an <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\"><em>immutable</em> object</a>.</p>\n<p>Example -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final Foo {\n    \n    private final String s;\n    \n    public Foo(String s){\n        this.s = s;\n    }\n    \n    // Only provide an accessor!\n    public String getString(){\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306694,"reputation":8966,"user_id":617584,"display_name":"Salvatore Previti"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319571865,"creation_date":1319571865,"answer_id":7894918,"question_id":7894865,"body_markdown":"The &quot;final&quot; keyword means const. But the use of final in java is much different than C++\r\nOnly fields or local variables can be final.\r\nA final class is not a const class but a sealed class that cannot be inherited.\r\nA final method is a sealed method, a method that cannot be overridden.\r\n\r\nIn C++ there is the concept of &quot;const type&quot; but in java you have only the concept of const field, const method (not-overridable) and const class (not-inheritable).","title":"Equivalent of const(C++) in Java","body":"<p>The \"final\" keyword means const. But the use of final in java is much different than C++\nOnly fields or local variables can be final.\nA final class is not a const class but a sealed class that cannot be inherited.\nA final method is a sealed method, a method that cannot be overridden.</p>\n\n<p>In C++ there is the concept of \"const type\" but in java you have only the concept of const field, const method (not-overridable) and const class (not-inheritable).</p>\n"},{"tags":[],"owner":{"account_id":934954,"reputation":982,"user_id":964048,"accept_rate":75,"display_name":"Ehab Al-Hakawati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319572276,"creation_date":1319571926,"answer_id":7894927,"question_id":7894865,"body_markdown":"I think you want a immutable object. An object is considered immutable if its state cannot change after it is constructed.\r\n\r\nTo do that you need\r\n\r\n - ensure the class cannot be overridden - make the class final, or use static factories and keep constructors private\r\n - make fields private and final force callers to construct an object completely in a single step, instead of using a no-argument constructor combined with subsequent calls to setXXX methods\r\n - do not provide any methods which can change the state of the object in any way - not just setXXX methods, but any method which can change state.\r\n\r\n\r\n \r\n\r\n      public final class SomeThing{\r\n        \r\n        public Something(String name) {\r\n            fname=name\r\n        }\r\n      \r\n        private final String fName;\r\n       \r\n        public String getName() {\r\n              return fName;\r\n        }\r\n    \r\n      }","title":"Equivalent of const(C++) in Java","body":"<p>I think you want a immutable object. An object is considered immutable if its state cannot change after it is constructed.</p>\n\n<p>To do that you need</p>\n\n<ul>\n<li>ensure the class cannot be overridden - make the class final, or use static factories and keep constructors private</li>\n<li>make fields private and final force callers to construct an object completely in a single step, instead of using a no-argument constructor combined with subsequent calls to setXXX methods</li>\n<li><p>do not provide any methods which can change the state of the object in any way - not just setXXX methods, but any method which can change state.</p>\n\n<p>public final class SomeThing{</p>\n\n<pre><code>public Something(String name) {\n    fname=name\n}\n\nprivate final String fName;\n\npublic String getName() {\n      return fName;\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1319573576,"creation_date":1319572934,"answer_id":7895141,"question_id":7894865,"body_markdown":"Java does not support const-qualification of references to objects.\r\n\r\nWorkarounds include the following:\r\n\r\n* Immutable objects. \r\n* Unmodifiable views of modifiable objects (for example, those returned by Collections.unmodifiable*()).\r\n* Read-only interface types\r\n* Defensive copies.\r\n\r\nImmutable objects prevent modification by the recipient, but they also prevent modification through any reference. They are not equivalent to C++ const pointers/references. \r\n\r\nClosest are read-only interface types. You could map a const-correct C++ class to two Java units, one an interface with only the const-qualified methods. \r\n\r\nThis is sometimes useful, to control what can modify an instance of the class. However, it&#39;s not done as frequently as in C++.\r\n\r\n","title":"Equivalent of const(C++) in Java","body":"<p>Java does not support const-qualification of references to objects.</p>\n\n<p>Workarounds include the following:</p>\n\n<ul>\n<li>Immutable objects. </li>\n<li>Unmodifiable views of modifiable objects (for example, those returned by Collections.unmodifiable*()).</li>\n<li>Read-only interface types</li>\n<li>Defensive copies.</li>\n</ul>\n\n<p>Immutable objects prevent modification by the recipient, but they also prevent modification through any reference. They are not equivalent to C++ const pointers/references. </p>\n\n<p>Closest are read-only interface types. You could map a const-correct C++ class to two Java units, one an interface with only the const-qualified methods. </p>\n\n<p>This is sometimes useful, to control what can modify an instance of the class. However, it's not done as frequently as in C++.</p>\n"},{"comments":[{"owner":{"account_id":26929,"reputation":5912,"user_id":70514,"accept_rate":74,"display_name":"kyku"},"score":0,"creation_date":1557687552,"post_id":7895337,"comment_id":98839518,"body_markdown":"Your code should say:  **const** std::vector&lt;Bar&gt;&amp; bars( void ) const, otherwise it will not compile. And in C++ you **won&#39;t** be able to call any of the mutating (non-const) operations on the Bar&#39;s from the returned vector reference . As I understand Java, with ReadonlyList&lt;Bar&gt; you can&#39;t modify ReadOnlyList but you can still modify the Bar&#39;s it contains.","body":"Your code should say:  <b>const</b> std::vector&lt;Bar&gt;&amp; bars( void ) const, otherwise it will not compile. And in C++ you <b>won&#39;t</b> be able to call any of the mutating (non-const) operations on the Bar&#39;s from the returned vector reference . As I understand Java, with ReadonlyList&lt;Bar&gt; you can&#39;t modify ReadOnlyList but you can still modify the Bar&#39;s it contains."}],"tags":[],"owner":{"account_id":14135,"reputation":57686,"user_id":28817,"accept_rate":92,"display_name":"deft_code"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319573918,"creation_date":1319573918,"answer_id":7895337,"question_id":7894865,"body_markdown":"### No ###\nJava does not support the concept of constness as C/C++ use it.\n\nThe Java equivalent to this Foo class cannot be written.\n\n    class Foo\n    {\n    public:\n       std::vector&lt;Bar&gt;&amp; bars( void ) const\n       { return m_bars; }\n    private:\n       std::vector&lt;Bar&gt; m_bars;\n    };\n\nHowever, Java has another approach, using interfaces.\n\n    class Foo\n    {\n    public:\n       ReadonlyList&lt;Bar&gt; bars( )\n       { return m_bars; }\n    private:\n       ArrayList&lt;Bar&gt; m_bars;\n    };\n\nJava&#39;s `final` keyword is more similar to `Foo * const` than any other c++ concept.  Note that `Foo const*` is very common and useful, while `Foo * const` is less so.","title":"Equivalent of const(C++) in Java","body":"<h3>No</h3>\n<p>Java does not support the concept of constness as C/C++ use it.</p>\n<p>The Java equivalent to this Foo class cannot be written.</p>\n<pre><code>class Foo\n{\npublic:\n   std::vector&lt;Bar&gt;&amp; bars( void ) const\n   { return m_bars; }\nprivate:\n   std::vector&lt;Bar&gt; m_bars;\n};\n</code></pre>\n<p>However, Java has another approach, using interfaces.</p>\n<pre><code>class Foo\n{\npublic:\n   ReadonlyList&lt;Bar&gt; bars( )\n   { return m_bars; }\nprivate:\n   ArrayList&lt;Bar&gt; m_bars;\n};\n</code></pre>\n<p>Java's <code>final</code> keyword is more similar to <code>Foo * const</code> than any other c++ concept.  Note that <code>Foo const*</code> is very common and useful, while <code>Foo * const</code> is less so.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319574430,"creation_date":1319574430,"answer_id":7895438,"question_id":7894865,"body_markdown":"Java specifically discarded some features of C++, const is one of it. This conscious decision can be reflected by the fact that `const` is a reserved word in Java (but not used)\r\n\r\nThe designers probably thought that the feature is really annoying and not really useful. I had that feeling when I was a C++ coder. Certain kind of static checking is just way too much.","title":"Equivalent of const(C++) in Java","body":"<p>Java specifically discarded some features of C++, const is one of it. This conscious decision can be reflected by the fact that <code>const</code> is a reserved word in Java (but not used)</p>\n\n<p>The designers probably thought that the feature is really annoying and not really useful. I had that feeling when I was a C++ coder. Certain kind of static checking is just way too much.</p>\n"}],"owner":{"account_id":960278,"reputation":628,"user_id":984799,"accept_rate":73,"display_name":"lowq"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8157,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7894883,"answer_count":6,"score":24,"last_activity_date":1673457369,"creation_date":1319571614,"question_id":7894865,"body_markdown":"I was wondering if there was an equivalent to c++&#39;s const in Java.  I understand the final keyword, but unfortunately I cannot use that to declare a functions return value final.  Instead, it always ensures the function cannot be overridden, correct?\r\n\r\nBasically, I want to make sure a given returned class cannot be modified and is read only.  Is that possible in Java?","title":"Equivalent of const(C++) in Java","body":"<p>I was wondering if there was an equivalent to c++'s const in Java.  I understand the final keyword, but unfortunately I cannot use that to declare a functions return value final.  Instead, it always ensures the function cannot be overridden, correct?</p>\n\n<p>Basically, I want to make sure a given returned class cannot be modified and is read only.  Is that possible in Java?</p>\n"},{"tags":["java","hash","java-stream","hashcode"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":5,"creation_date":1473322705,"post_id":39385860,"comment_id":66098611,"body_markdown":"The question is why you&#39;d want to calculate the `hash code for a stream`. What are you going to do with it?","body":"The question is why you&#39;d want to calculate the <code>hash code for a stream</code>. What are you going to do with it?"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":3,"creation_date":1473326109,"post_id":39385860,"comment_id":66100609,"body_markdown":"Sounds like an [XY problem](http://xyproblem.info/). Doesn&#39;t the *complex datastructure* implements `hashCode()` ? If not, aren&#39;t you allowed to implement it ? Do you really need to compute this hash in parallel on the stream so that the `reduce` isn&#39;t relevant ? Maybe as a last resort, have you considered `stream.collect(Collectors.toList()).hashCode()` ?","body":"Sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. Doesn&#39;t the <i>complex datastructure</i> implements <code>hashCode()</code> ? If not, aren&#39;t you allowed to implement it ? Do you really need to compute this hash in parallel on the stream so that the <code>reduce</code> isn&#39;t relevant ? Maybe as a last resort, have you considered <code>stream.collect(Collectors.toList()).hashCode()</code> ?"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":2,"creation_date":1473327939,"post_id":39385860,"comment_id":66101728,"body_markdown":"So if I understand correctly, you want to know if 2 objects are equals based on only a part of their state that has been extracted/transformed by some `Functions` ?","body":"So if I understand correctly, you want to know if 2 objects are equals based on only a part of their state that has been extracted/transformed by some <code>Functions</code> ?"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":2,"creation_date":1473334126,"post_id":39385860,"comment_id":66105551,"body_markdown":"In the light of this new problematic, can you also update your question so that more people can more easily help you ?","body":"In the light of this new problematic, can you also update your question so that more people can more easily help you ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1473354583,"post_id":39385860,"comment_id":66119293,"body_markdown":"@Eran: because we can. Well, at least I enjoyed solving the problem. ;^) And, who knows, perhaps at the future, someone really has an extremely large list to hash in parallel…","body":"@Eran: because we can. Well, at least I enjoyed solving the problem. ;^) And, who knows, perhaps at the future, someone really has an extremely large list to hash in parallel…"}],"answers":[{"tags":[],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473334336,"creation_date":1473333446,"answer_id":39389520,"question_id":39385860,"body_markdown":"As a first approach I would use the collect-to-a-list solution as long as you don&#39;t have performance concerns. That way you avoid reimplementing the wheel and **if** one day the hash algorithm changes you benefit from that and you are also safe if the stream is parallelized (even if I&#39;m not sure that&#39;s a real concern).\r\n\r\nThe way I would implement it can vary depending on how and when you need to compare your different datastructures (let&#39;s call it `Foo`).\r\n\r\nIf you do it manually and sparsly a simple static function may be enough:\r\n\r\n\tpublic static int computeHash(Foo origin, Collection&lt;Function&lt;Foo, ?&gt;&gt; selectors) {\r\n\t\treturn selectors.stream()\r\n\t\t\t\t.map(f -&gt; f.apply(origin))\r\n\t\t\t\t.collect(Collectors.toList())\r\n\t\t\t\t.hashCode();\r\n\t}\r\n\r\nAnd use it like this\r\n    \r\n    if(computeHash(foo1, selectors) == computeHash(foo2, selectors)) { ... }\r\n\r\nHowever, if instances of `Foo` are themselves stored in `Collection` and you need both `hashCode()` and `equals()` (from `Object`) to be implemented, I would wrap it inside a `FooEqualable`:\r\n\r\n    public final class FooEqualable {\r\n    \tprivate final Foo origin;\r\n    \tprivate final Collection&lt;Function&lt;Foo, ?&gt;&gt; selectors;\r\n    \r\n    \tpublic FooEqualable(Foo origin, Collection&lt;Function&lt;Foo, ?&gt;&gt; selectors) {\r\n    \t\tthis.origin = origin;\r\n    \t\tthis.selectors = selectors;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn selectors.stream()\r\n    \t\t\t\t.map(f -&gt; f.apply(origin))\r\n    \t\t\t\t.collect(Collectors.toList())\r\n    \t\t\t\t.hashCode();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj instanceof FooEqualable) {\r\n    \t\t\tFooEqualable that = (FooEqualable) obj;\r\n    \r\n    \t\t\tObject[] a1 = selectors.stream().map(f -&gt; f.apply(this.origin)).toArray();\r\n    \t\t\tObject[] a2 = selectors.stream().map(f -&gt; f.apply(that.origin)).toArray();\r\n    \t\t\t\r\n    \t\t\treturn Arrays.equals(a1, a2);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nI&#39;m fully aware that this solution isn&#39;t optimized (performance-wise) if multiple calls to `hashCode()` and `equals()` are made but I tend not to optimize except if it becomes a concern.","title":"How to compute the hash code for a stream in the same way as List.hashCode()","body":"<p>As a first approach I would use the collect-to-a-list solution as long as you don't have performance concerns. That way you avoid reimplementing the wheel and <strong>if</strong> one day the hash algorithm changes you benefit from that and you are also safe if the stream is parallelized (even if I'm not sure that's a real concern).</p>\n\n<p>The way I would implement it can vary depending on how and when you need to compare your different datastructures (let's call it <code>Foo</code>).</p>\n\n<p>If you do it manually and sparsly a simple static function may be enough:</p>\n\n<pre><code>public static int computeHash(Foo origin, Collection&lt;Function&lt;Foo, ?&gt;&gt; selectors) {\n    return selectors.stream()\n            .map(f -&gt; f.apply(origin))\n            .collect(Collectors.toList())\n            .hashCode();\n}\n</code></pre>\n\n<p>And use it like this</p>\n\n<pre><code>if(computeHash(foo1, selectors) == computeHash(foo2, selectors)) { ... }\n</code></pre>\n\n<p>However, if instances of <code>Foo</code> are themselves stored in <code>Collection</code> and you need both <code>hashCode()</code> and <code>equals()</code> (from <code>Object</code>) to be implemented, I would wrap it inside a <code>FooEqualable</code>:</p>\n\n<pre><code>public final class FooEqualable {\n    private final Foo origin;\n    private final Collection&lt;Function&lt;Foo, ?&gt;&gt; selectors;\n\n    public FooEqualable(Foo origin, Collection&lt;Function&lt;Foo, ?&gt;&gt; selectors) {\n        this.origin = origin;\n        this.selectors = selectors;\n    }\n\n    @Override\n    public int hashCode() {\n        return selectors.stream()\n                .map(f -&gt; f.apply(origin))\n                .collect(Collectors.toList())\n                .hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof FooEqualable) {\n            FooEqualable that = (FooEqualable) obj;\n\n            Object[] a1 = selectors.stream().map(f -&gt; f.apply(this.origin)).toArray();\n            Object[] a2 = selectors.stream().map(f -&gt; f.apply(that.origin)).toArray();\n\n            return Arrays.equals(a1, a2);\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>I'm fully aware that this solution isn't optimized (performance-wise) if multiple calls to <code>hashCode()</code> and <code>equals()</code> are made but I tend not to optimize except if it becomes a concern.</p>\n"},{"tags":[],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511164912,"creation_date":1473334476,"answer_id":39389865,"question_id":39385860,"body_markdown":"[Holger](https://stackoverflow.com/users/2711488/holger) wrote the right [solution](https://stackoverflow.com/a/39396614/480894), if you want a simple way of doing it there are two additional possibilities: \r\n1. collect to `List` and call `hashCode()`\r\n----------------------------------------------------\r\n\r\n    Stream&lt;? extends Object&gt; stream;\r\n    int hashCode = stream.collect(toList()).hashCode();\r\n\r\n2. use `Stream.iterator()`\r\n----------------------------------\r\n\r\n    Stream&lt;? extends Object&gt; stream;\r\n    Iterator&lt;? extends Object&gt; iter = stream.iterator();\r\n    int hashCode = 1;\r\n    while(iter.hasNext()) {\r\n      hashCode = 31 *hashCode + Objects.hashCode(iter.next());\r\n    }\r\n\r\n\r\nJust as a reminder the algorithm that `List.hashCode()` uses:\r\n\r\n    int hashCode = 1;\r\n    for (E e : list)\r\n      hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n\r\n","title":"How to compute the hash code for a stream in the same way as List.hashCode()","body":"<p><a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> wrote the right <a href=\"https://stackoverflow.com/a/39396614/480894\">solution</a>, if you want a simple way of doing it there are two additional possibilities: </p>\n\n<h2>1. collect to <code>List</code> and call <code>hashCode()</code></h2>\n\n<pre><code>Stream&lt;? extends Object&gt; stream;\nint hashCode = stream.collect(toList()).hashCode();\n</code></pre>\n\n<h2>2. use <code>Stream.iterator()</code></h2>\n\n<pre><code>Stream&lt;? extends Object&gt; stream;\nIterator&lt;? extends Object&gt; iter = stream.iterator();\nint hashCode = 1;\nwhile(iter.hasNext()) {\n  hashCode = 31 *hashCode + Objects.hashCode(iter.next());\n}\n</code></pre>\n\n<p>Just as a reminder the algorithm that <code>List.hashCode()</code> uses:</p>\n\n<pre><code>int hashCode = 1;\nfor (E e : list)\n  hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1473405631,"post_id":39396614,"comment_id":66137059,"body_markdown":"Awesome!!! I like the trick of creating an `Array` to store information in the `Collector`","body":"Awesome!!! I like the trick of creating an <code>Array</code> to store information in the <code>Collector</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1473412837,"post_id":39396614,"comment_id":66140927,"body_markdown":"@Roland: the array is actually just a work-around for the absence of a `pair&lt;int,int&gt;` or `tuple&lt;int,int&gt;` type. It’s the general concept of collectors, to have a mutable container type. Even the built-in collectors use single-element arrays whens they need a mutable `int` or `long` container.","body":"@Roland: the array is actually just a work-around for the absence of a <code>pair&lt;int,int&gt;</code> or <code>tuple&lt;int,int&gt;</code> type. It’s the general concept of collectors, to have a mutable container type. Even the built-in collectors use single-element arrays whens they need a mutable <code>int</code> or <code>long</code> container."},{"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"score":0,"creation_date":1673456942,"post_id":39396614,"comment_id":132505185,"body_markdown":"@Holger In the non-autoboxing version, replacing `Objects.hashCode(o)` with just `o` results in a substantial speed increase. This is safe because you&#39;ve already called `mapToInt(Objects::hashCode)`","body":"@Holger In the non-autoboxing version, replacing <code>Objects.hashCode(o)</code> with just <code>o</code> results in a substantial speed increase. This is safe because you&#39;ve already called <code>mapToInt(Objects::hashCode)</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673457608,"post_id":39396614,"comment_id":132505386,"body_markdown":"@ClementCherlin yes, you are right. Calling `Objects.hashCode(…)` at this point subverts the entire idea of avoiding auto-boxing with this alternative. I suppose, this slipped in when deriving this alternative from the `Collector` solution. Fixed.","body":"@ClementCherlin yes, you are right. Calling <code>Objects.hashCode(…)</code> at this point subverts the entire idea of avoiding auto-boxing with this alternative. I suppose, this slipped in when deriving this alternative from the <code>Collector</code> solution. Fixed."},{"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"score":0,"creation_date":1673462023,"post_id":39396614,"comment_id":132506785,"body_markdown":"@Holger Another interesting optimization: In iPow, if you remove the `base` parameter and insert the two lines `int base = 31; exp &amp;= 0x7FFFFFF;` at the beginning, the calculation works for streams of unlimited size. Otherwise, iPow breaks when the exponent exceeds Integer.MAX_VALUE and wraps around. The optimization works because `(31 ** (2 ** 27)) modulo (2 ** 32) = 1`","body":"@Holger Another interesting optimization: In iPow, if you remove the <code>base</code> parameter and insert the two lines <code>int base = 31; exp &amp;= 0x7FFFFFF;</code> at the beginning, the calculation works for streams of unlimited size. Otherwise, iPow breaks when the exponent exceeds Integer.MAX_VALUE and wraps around. The optimization works because <code>(31 ** (2 ** 27)) modulo (2 ** 32) = 1</code>"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":5,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1673457300,"creation_date":1473354206,"answer_id":39396614,"question_id":39385860,"body_markdown":"While, at the first glance, the hash code algorithm seems to be non-parallelizable due to its non-associativity, it is possible, if we transform the function:\r\n\r\n    ((a * 31 + b) * 31 + c ) * 31 + d\r\nto\r\n\r\n    a * 31 * 31 * 31 + b * 31 * 31 + c * 31 + d\r\nwhich basically is\r\n\r\n    a * 31&#179; + b * 31&#178; + c * 31&#185; + d * 31⁰\r\n\r\nor for an arbitrary `List` of size `n`:\r\n\r\n    1 * 31ⁿ + e₀ * 31ⁿ⁻&#185; + e₁ * 31ⁿ⁻&#178; + e₂ * 31ⁿ⁻&#179; +  …  + eₙ₋₃ * 31&#178; + eₙ₋₂ * 31&#185; + eₙ₋₁ * 31⁰\r\nwith the first `1` being the initial value of the original algorithm and `eₓ` being the hash code of the list element at index `x`. While the summands are evaluation order independent now, there’s obviously a dependency to the element’s position, which we can solve by streaming over the indices in the first place, which works for random access lists and arrays, or solve generally, with a collector which tracks the number of encountered objects. The collector can resort to the repeated multiplications for the accumulation and has to resort to the power function only for combining results:\r\n\r\n    static &lt;T&gt; Collector&lt;T,?,Integer&gt; hashing() {\r\n        return Collector.of(() -&gt; new int[2],\r\n            (a,o)    -&gt; { a[0]=a[0]*31+Objects.hashCode(o); a[1]++; },\r\n            (a1, a2) -&gt; { a1[0]=a1[0]*iPow(31,a2[1])+a2[0]; a1[1]+=a2[1]; return a1; },\r\n            a -&gt; iPow(31,a[1])+a[0]);\r\n    }\r\n    // derived from http://stackoverflow.com/questions/101439\r\n    private static int iPow(int base, int exp) {\r\n        int result = 1;\r\n        for(; exp&gt;0; exp &gt;&gt;= 1, base *= base)\r\n            if((exp &amp; 1)!=0) result *= base;\r\n        return result;\r\n    }\r\n&#160;\r\n\r\n    List&lt;Object&gt; list = Arrays.asList(1,null, new Object(),4,5,6);\r\n    int expected = list.hashCode();\r\n\r\n    int hashCode = list.stream().collect(hashing());\r\n    if(hashCode != expected)\r\n        throw new AssertionError();\r\n\r\n    // works in parallel\r\n    hashCode = list.parallelStream().collect(hashing());\r\n    if(hashCode != expected)\r\n        throw new AssertionError();\r\n\r\n    // a method avoiding auto-boxing is more complicated:\r\n    int[] result=list.parallelStream().mapToInt(Objects::hashCode)\r\n        .collect(() -&gt; new int[2],\r\n        (a,h)    -&gt; { a[0]=a[0]*31+h; a[1]++; },\r\n        (a1, a2) -&gt; { a1[0]=a1[0]*iPow(31,a2[1])+a2[0]; a1[1]+=a2[1]; });\r\n    hashCode = iPow(31,result[1])+result[0];\r\n\r\n    if(hashCode != expected)\r\n        throw new AssertionError();\r\n\r\n    // random access lists allow a better solution:\r\n    hashCode = IntStream.range(0, list.size()).parallel()\r\n        .map(ix -&gt; Objects.hashCode(list.get(ix))*iPow(31, list.size()-ix-1))\r\n        .sum() + iPow(31, list.size());\r\n\r\n    if(hashCode != expected)\r\n        throw new AssertionError();\r\n","title":"How to compute the hash code for a stream in the same way as List.hashCode()","body":"<p>While, at the first glance, the hash code algorithm seems to be non-parallelizable due to its non-associativity, it is possible, if we transform the function:</p>\n<pre><code>((a * 31 + b) * 31 + c ) * 31 + d\n</code></pre>\n<p>to</p>\n<pre><code>a * 31 * 31 * 31 + b * 31 * 31 + c * 31 + d\n</code></pre>\n<p>which basically is</p>\n<pre><code>a * 31³ + b * 31² + c * 31¹ + d * 31⁰\n</code></pre>\n<p>or for an arbitrary <code>List</code> of size <code>n</code>:</p>\n<pre><code>1 * 31ⁿ + e₀ * 31ⁿ⁻¹ + e₁ * 31ⁿ⁻² + e₂ * 31ⁿ⁻³ +  …  + eₙ₋₃ * 31² + eₙ₋₂ * 31¹ + eₙ₋₁ * 31⁰\n</code></pre>\n<p>with the first <code>1</code> being the initial value of the original algorithm and <code>eₓ</code> being the hash code of the list element at index <code>x</code>. While the summands are evaluation order independent now, there’s obviously a dependency to the element’s position, which we can solve by streaming over the indices in the first place, which works for random access lists and arrays, or solve generally, with a collector which tracks the number of encountered objects. The collector can resort to the repeated multiplications for the accumulation and has to resort to the power function only for combining results:</p>\n<pre><code>static &lt;T&gt; Collector&lt;T,?,Integer&gt; hashing() {\n    return Collector.of(() -&gt; new int[2],\n        (a,o)    -&gt; { a[0]=a[0]*31+Objects.hashCode(o); a[1]++; },\n        (a1, a2) -&gt; { a1[0]=a1[0]*iPow(31,a2[1])+a2[0]; a1[1]+=a2[1]; return a1; },\n        a -&gt; iPow(31,a[1])+a[0]);\n}\n// derived from http://stackoverflow.com/questions/101439\nprivate static int iPow(int base, int exp) {\n    int result = 1;\n    for(; exp&gt;0; exp &gt;&gt;= 1, base *= base)\n        if((exp &amp; 1)!=0) result *= base;\n    return result;\n}\n</code></pre>\n<p> </p>\n<pre><code>List&lt;Object&gt; list = Arrays.asList(1,null, new Object(),4,5,6);\nint expected = list.hashCode();\n\nint hashCode = list.stream().collect(hashing());\nif(hashCode != expected)\n    throw new AssertionError();\n\n// works in parallel\nhashCode = list.parallelStream().collect(hashing());\nif(hashCode != expected)\n    throw new AssertionError();\n\n// a method avoiding auto-boxing is more complicated:\nint[] result=list.parallelStream().mapToInt(Objects::hashCode)\n    .collect(() -&gt; new int[2],\n    (a,h)    -&gt; { a[0]=a[0]*31+h; a[1]++; },\n    (a1, a2) -&gt; { a1[0]=a1[0]*iPow(31,a2[1])+a2[0]; a1[1]+=a2[1]; });\nhashCode = iPow(31,result[1])+result[0];\n\nif(hashCode != expected)\n    throw new AssertionError();\n\n// random access lists allow a better solution:\nhashCode = IntStream.range(0, list.size()).parallel()\n    .map(ix -&gt; Objects.hashCode(list.get(ix))*iPow(31, list.size()-ix-1))\n    .sum() + iPow(31, list.size());\n\nif(hashCode != expected)\n    throw new AssertionError();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1591873993,"post_id":62320671,"comment_id":110223832,"body_markdown":"This is incorrect because 1 is not an identity for this reduction. It will break if the processing is parallelized.","body":"This is incorrect because 1 is not an identity for this reduction. It will break if the processing is parallelized."}],"tags":[],"owner":{"account_id":71092,"reputation":3112,"user_id":205629,"display_name":"simon04"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1591865898,"creation_date":1591865898,"answer_id":62320671,"question_id":39385860,"body_markdown":"The easiest and shortest way I found was to implement a `Collector` using `Collectors.reducing`:\r\n\r\n```java\r\n/**\r\n * Creates a new Collector that collects the hash code of the elements.\r\n * @param &lt;T&gt; the type of the input elements\r\n * @return the hash code\r\n * @see Arrays#hashCode(java.lang.Object[])\r\n * @see AbstractList#hashCode()\r\n */\r\npublic static &lt;T&gt; Collector&lt;T, ?, Integer&gt; toHashCode() {\r\n    return Collectors.reducing(1, Objects::hashCode, (i, j) -&gt; 31 *  i + j);\r\n}\r\n\r\n@Test\r\npublic void testHashCode() {\r\n    List&lt;?&gt; list = Arrays.asList(Math.PI, 42, &quot;stackoverflow.com&quot;);\r\n    int expected = list.hashCode();\r\n    int actual = list.stream().collect(StreamUtils.toHashCode());\r\n    assertEquals(expected, actual);\r\n}\r\n```","title":"How to compute the hash code for a stream in the same way as List.hashCode()","body":"<p>The easiest and shortest way I found was to implement a <code>Collector</code> using <code>Collectors.reducing</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Creates a new Collector that collects the hash code of the elements.\n * @param &lt;T&gt; the type of the input elements\n * @return the hash code\n * @see Arrays#hashCode(java.lang.Object[])\n * @see AbstractList#hashCode()\n */\npublic static &lt;T&gt; Collector&lt;T, ?, Integer&gt; toHashCode() {\n    return Collectors.reducing(1, Objects::hashCode, (i, j) -&gt; 31 *  i + j);\n}\n\n@Test\npublic void testHashCode() {\n    List&lt;?&gt; list = Arrays.asList(Math.PI, 42, \"stackoverflow.com\");\n    int expected = list.hashCode();\n    int actual = list.stream().collect(StreamUtils.toHashCode());\n    assertEquals(expected, actual);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":1,"creation_date":1665489298,"post_id":73898721,"comment_id":130707789,"body_markdown":"Stream processing may be parallelized by the jvm therefore it is a *hard* requirement and your solution is buggy.","body":"Stream processing may be parallelized by the jvm therefore it is a <i>hard</i> requirement and your solution is buggy."},{"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"score":0,"creation_date":1668114642,"post_id":73898721,"comment_id":131334459,"body_markdown":"@Roland &quot;Stream processing may be parallelized by the jvm&quot; is incorrect. Stream processing is not parallelized for sequential streams. The JavaDoc for `List.stream()` states &quot;Returns: a sequential `Stream` over the elements in this collection&quot;. If you want a parallel stream you must call `List.parallelStream()`, which returns &quot;a possibly parallel `Stream` over the elements in this collection&quot;.","body":"@Roland &quot;Stream processing may be parallelized by the jvm&quot; is incorrect. Stream processing is not parallelized for sequential streams. The JavaDoc for <code>List.stream()</code> states &quot;Returns: a sequential <code>Stream</code> over the elements in this collection&quot;. If you want a parallel stream you must call <code>List.parallelStream()</code>, which returns &quot;a possibly parallel <code>Stream</code> over the elements in this collection&quot;."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":3,"creation_date":1669127681,"post_id":73898721,"comment_id":131570041,"body_markdown":"Point taken. Still your solution is not good since the reduce should receive an identity value as the first argument, which is not the case. If you change the code to use a parallel stream it will break. This is brittle code.","body":"Point taken. Still your solution is not good since the reduce should receive an identity value as the first argument, which is not the case. If you change the code to use a parallel stream it will break. This is brittle code."}],"tags":[],"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664469944,"creation_date":1664468251,"answer_id":73898721,"question_id":39385860,"body_markdown":"If parallel processing is not a hard requirement, the answer is very simple. You don&#39;t need to do anything special to ensure correct ordering for a List, or any other type that has an `ORDERED` Spliterator such as LinkedHashSet.\r\n\r\nFrom the [JavaDoc for Spliterator.ORDERED][1]:\r\n\r\n&gt; **API Note**:&lt;br&gt;\r\n&gt; Encounter order is guaranteed to be ascending index order for any List. But no\r\n&gt; order is guaranteed for hash-based collections such as\r\n&gt; HashSet. Clients of a Spliterator that reports ORDERED are expected to\r\n&gt; preserve ordering constraints in non-commutative parallel\r\n&gt; computations.\r\n\r\nSince the encounter order is already guaranteed, all you need to do is ensure your Stream is sequential. This requires no effort in most cases, since `Collection.stream()` returns a sequential Stream. Thus, this code is already correct:\r\n\r\n```java\r\nList&lt;Object&gt; list = Arrays.asList(1, null, new Object(), 4, 5, 6);\r\nint hashCode = list.stream()\r\n    .mapToInt(Objects::hashCode)\r\n    .reduce(1, (a, b) -&gt; 31 * a + b);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html#ORDERED","title":"How to compute the hash code for a stream in the same way as List.hashCode()","body":"<p>If parallel processing is not a hard requirement, the answer is very simple. You don't need to do anything special to ensure correct ordering for a List, or any other type that has an <code>ORDERED</code> Spliterator such as LinkedHashSet.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html#ORDERED\" rel=\"nofollow noreferrer\">JavaDoc for Spliterator.ORDERED</a>:</p>\n<blockquote>\n<p><strong>API Note</strong>:<br>\nEncounter order is guaranteed to be ascending index order for any List. But no\norder is guaranteed for hash-based collections such as\nHashSet. Clients of a Spliterator that reports ORDERED are expected to\npreserve ordering constraints in non-commutative parallel\ncomputations.</p>\n</blockquote>\n<p>Since the encounter order is already guaranteed, all you need to do is ensure your Stream is sequential. This requires no effort in most cases, since <code>Collection.stream()</code> returns a sequential Stream. Thus, this code is already correct:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; list = Arrays.asList(1, null, new Object(), 4, 5, 6);\nint hashCode = list.stream()\n    .mapToInt(Objects::hashCode)\n    .reduce(1, (a, b) -&gt; 31 * a + b);\n</code></pre>\n"}],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4303,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":39396614,"answer_count":5,"score":10,"last_activity_date":1673457300,"creation_date":1473322577,"question_id":39385860,"body_markdown":"I just realized that implementing the following algorithm to compute the hash code for a stream is not possible using [Stream.reduce(...)][1]. The problem is that the initial seed for the hash code is `1` which is not an identity for the accumulator.\r\n\r\nThe algorithm for [List.hashCode()](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#hashCode--)\r\n:\r\n\r\n    int hashCode = 1;\r\n    for (E e : list)\r\n      hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n\r\nYou might be tempted to think that the following is correct but it isn&#39;t, although it will work if the stream processing is not split up.\r\n\r\n    List&lt;Object&gt; list = Arrays.asList(1,null, new Object(),4,5,6);\r\n    int hashCode = list.stream().map(Objects::hashCode).reduce(1, (a, b) -&gt; 31 * a + b);\r\n\r\nIt seems that the only sensible way of doing it would be to get the `Iterator` of the `Stream` and do normal sequential processing or collect it to a `List` first.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-","title":"How to compute the hash code for a stream in the same way as List.hashCode()","body":"<p>I just realized that implementing the following algorithm to compute the hash code for a stream is not possible using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\" rel=\"noreferrer\">Stream.reduce(...)</a>. The problem is that the initial seed for the hash code is <code>1</code> which is not an identity for the accumulator.</p>\n\n<p>The algorithm for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#hashCode--\" rel=\"noreferrer\">List.hashCode()</a>\n:</p>\n\n<pre><code>int hashCode = 1;\nfor (E e : list)\n  hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n</code></pre>\n\n<p>You might be tempted to think that the following is correct but it isn't, although it will work if the stream processing is not split up.</p>\n\n<pre><code>List&lt;Object&gt; list = Arrays.asList(1,null, new Object(),4,5,6);\nint hashCode = list.stream().map(Objects::hashCode).reduce(1, (a, b) -&gt; 31 * a + b);\n</code></pre>\n\n<p>It seems that the only sensible way of doing it would be to get the <code>Iterator</code> of the <code>Stream</code> and do normal sequential processing or collect it to a <code>List</code> first.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1673343309,"post_id":75067908,"comment_id":132471914,"body_markdown":"&quot;It&#39;s because it needs to have double backslash instead of single backslash&quot; — No, it has nothing to do with that. You misunderstand the purpose of escape sequences. The real reason is that the path does not exist, just as the error message says.","body":"&quot;It&#39;s because it needs to have double backslash instead of single backslash&quot; — No, it has nothing to do with that. You misunderstand the purpose of escape sequences. The real reason is that the path does not exist, just as the error message says."},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1673343427,"post_id":75067908,"comment_id":132471949,"body_markdown":"the file does exist. I have tried with C:\\\\Users\\\\thomas\\\\dev\\\\workspace\\\\myapp\\\\target\\\\classes\\\\images\\\\logo.png and it works.","body":"the file does exist. I have tried with C:\\\\Users\\\\thomas\\\\dev\\\\workspace\\\\myapp\\\\target\\\\classes\\\\i&zwnj;&#8203;mages\\\\logo.png and it works."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1673343531,"post_id":75067908,"comment_id":132471985,"body_markdown":"Remove the `file:\\ ` in front of the `file` string. But this code won&#39;t work once you bundle your code into a JAR file. You cannot treat resources as files (because they generally aren&#39;t!). You need to read it as a resource stream! See https://stackoverflow.com/a/20389418/1968","body":"Remove the <code>file:\\ </code> in front of the <code>file</code> string. But this code won&#39;t work once you bundle your code into a JAR file. You cannot treat resources as files (because they generally aren&#39;t!). You need to read it as a resource stream! See <a href=\"https://stackoverflow.com/a/20389418/1968\">stackoverflow.com/a/20389418/1968</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1673346424,"post_id":75067908,"comment_id":132472890,"body_markdown":"Are you aware that a string **literal** `&quot;C:\\\\Users\\\\thomas&quot;` represents the actual String **value** `C:\\Users\\Thomas`? In other words, your idea that you need double backslashes is a red herring. The problem is the presence of `file:\\C:\\...`, which should be just `C:\\...`. And that is because resources are not (necessarily) files! If you want to get data from a resource, use `getResourceAsStream`.","body":"Are you aware that a string <b>literal</b> <code>&quot;C:\\\\Users\\\\thomas&quot;</code> represents the actual String <b>value</b> <code>C:\\Users\\Thomas</code>? In other words, your idea that you need double backslashes is a red herring. The problem is the presence of <code>file:\\C:\\...</code>, which should be just <code>C:\\...</code>. And that is because resources are not (necessarily) files! If you want to get data from a resource, use <code>getResourceAsStream</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1673349256,"post_id":75067908,"comment_id":132473719,"body_markdown":"You are asking the wrong question. File `logo.png` obviously contains an [Image](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Image.html). You apparently want to create an actual `Image` from that file and do something with the created `Image` - maybe use it as an [Icon](https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html) in a _Swing_ application. There are other ways to create an `Image` besides converting the file to a `byte` array. I believe that you really want to know how to convert your &quot;resource&quot; to an `Image`.","body":"You are asking the wrong question. File <code>logo.png</code> obviously contains an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Image.html\" rel=\"nofollow noreferrer\">Image</a>. You apparently want to create an actual <code>Image</code> from that file and do something with the created <code>Image</code> - maybe use it as an <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow noreferrer\">Icon</a> in a <i>Swing</i> application. There are other ways to create an <code>Image</code> besides converting the file to a <code>byte</code> array. I believe that you really want to know how to convert your &quot;resource&quot; to an <code>Image</code>."},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1673428082,"post_id":75067908,"comment_id":132494421,"body_markdown":"yes , I want to insert the image in a thymeleaf email template. I couldnt figure out how to do that.","body":"yes , I want to insert the image in a thymeleaf email template. I couldnt figure out how to do that."}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673457129,"creation_date":1673457129,"answer_id":75086720,"question_id":75067908,"body_markdown":"You are very close. You probably want the `getResourceAsStream` function. As noted in the comments, you do **NOT** want to use `File` for this, as it will reference things on the file system (things that will not be there once you build &amp; deploy your app).\r\n\r\nA simple demo of reading a Java resource is below:\r\n\r\n````java\r\n    public void readResourceBytes()\r\n    {\r\n\t\tfinal String resourceName = &quot;images/logo.png&quot;;\r\n\t\tfinal ByteArrayOutputStream mem = new ByteArrayOutputStream();\r\n\t\ttry (final InputStream is = getClass().getClassLoader().getResourceAsStream(resourceName))\r\n\t\t{\r\n\t\t\tcopy(is, mem);\r\n\t\t}\r\n\r\n        byte[] fileContent = mem.toByteArray();\r\n        System.out.println(mem.toByteArray());\r\n\r\n        // Or, maybe you just want the ASCII text\r\n        // String fileContent = mem.toString();\r\n\t\t// System.out.println(mem.toString());\r\n\t}\r\n\r\n    // OK for binary files, not OK for text, should use Reader/Writer instead\r\n\tpublic static void copy(final InputStream from, final OutputStream to) throws IOException\r\n\t{\r\n\t\tfinal int bufferSize = 4096;\r\n\r\n\t\tfinal byte[] buf = new byte[bufferSize];\r\n\t\tint len;\r\n\t\twhile (0 &lt; (len = from.read(buf)))\r\n\t\t{\r\n\t\t\tto.write(buf, 0, len);\r\n\t\t}\r\n\t\tto.flush();\r\n\t}\r\n````","title":"Get path of file with double backslash","body":"<p>You are very close. You probably want the <code>getResourceAsStream</code> function. As noted in the comments, you do <strong>NOT</strong> want to use <code>File</code> for this, as it will reference things on the file system (things that will not be there once you build &amp; deploy your app).</p>\n<p>A simple demo of reading a Java resource is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void readResourceBytes()\n    {\n        final String resourceName = &quot;images/logo.png&quot;;\n        final ByteArrayOutputStream mem = new ByteArrayOutputStream();\n        try (final InputStream is = getClass().getClassLoader().getResourceAsStream(resourceName))\n        {\n            copy(is, mem);\n        }\n\n        byte[] fileContent = mem.toByteArray();\n        System.out.println(mem.toByteArray());\n\n        // Or, maybe you just want the ASCII text\n        // String fileContent = mem.toString();\n        // System.out.println(mem.toString());\n    }\n\n    // OK for binary files, not OK for text, should use Reader/Writer instead\n    public static void copy(final InputStream from, final OutputStream to) throws IOException\n    {\n        final int bufferSize = 4096;\n\n        final byte[] buf = new byte[bufferSize];\n        int len;\n        while (0 &lt; (len = from.read(buf)))\n        {\n            to.write(buf, 0, len);\n        }\n        to.flush();\n    }\n</code></pre>\n"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75086720,"answer_count":1,"score":0,"last_activity_date":1673457129,"creation_date":1673342917,"question_id":75067908,"body_markdown":"I am doing this: \r\n\r\n    File file = new File(String.valueOf(getClass().getClassLoader().getResource(&quot;images/logo.png&quot;)));\r\n\r\nin order to have the entire path file name.  \r\nBut this instruction below fails: \r\n\r\n    byte[] fileContent = FileUtils.readFileToByteArray(file);\r\n\r\nI am getting this exception: \r\n\r\n    java.io.FileNotFoundException: File &#39;file:\\C:\\Users\\thomas\\dev\\workspace\\myapp\\target\\classes\\images\\logo.png&#39; does not exist\r\n\r\nIt&#39;s because it needs to have double backslash instead of single backslash (OS: Windows). Is there a way to get rid of this?","title":"Get path of file with double backslash","body":"<p>I am doing this:</p>\n<pre><code>File file = new File(String.valueOf(getClass().getClassLoader().getResource(&quot;images/logo.png&quot;)));\n</code></pre>\n<p>in order to have the entire path file name.<br />\nBut this instruction below fails:</p>\n<pre><code>byte[] fileContent = FileUtils.readFileToByteArray(file);\n</code></pre>\n<p>I am getting this exception:</p>\n<pre><code>java.io.FileNotFoundException: File 'file:\\C:\\Users\\thomas\\dev\\workspace\\myapp\\target\\classes\\images\\logo.png' does not exist\n</code></pre>\n<p>It's because it needs to have double backslash instead of single backslash (OS: Windows). Is there a way to get rid of this?</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673411143,"creation_date":1673411143,"answer_id":75078332,"question_id":75072676,"body_markdown":"This is already the best method to populate attributes at each request, compared to the earlier methods defined in the [Spring framework documentations.][1]\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html","title":"Is there a way to provide an attribute to all models in Spring?","body":"<p>This is already the best method to populate attributes at each request, compared to the earlier methods defined in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html\" rel=\"nofollow noreferrer\">Spring framework documentations.</a></p>\n"},{"tags":[],"owner":{"account_id":11503506,"reputation":167,"user_id":8430554,"display_name":"leachim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673456811,"creation_date":1673447164,"answer_id":75084573,"question_id":75072676,"body_markdown":"I learned that `@ControllerAdvice` can be used in this case (see https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc).\r\n\r\nClasses annotated with `@ControllerAdvice`, can have methods annotated with `@ModelAttribute` to populate attributes over *multiple* Controllers (all of them if not specified otherwise).\r\n\r\nIn my case:\r\n\r\n    @ControllerAdvice\r\n    public class CommonDataAdvice {\r\n         @Autowired\r\n         private HttpServletRequest request;\r\n    \r\n         @ModelAttribute(&quot;request&quot;)\r\n         public HttpServletRequest populateRequest(){\r\n               return request;\r\n         }\r\n    }\r\n\r\n","title":"Is there a way to provide an attribute to all models in Spring?","body":"<p>I learned that <code>@ControllerAdvice</code> can be used in this case (see <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a>).</p>\n<p>Classes annotated with <code>@ControllerAdvice</code>, can have methods annotated with <code>@ModelAttribute</code> to populate attributes over <em>multiple</em> Controllers (all of them if not specified otherwise).</p>\n<p>In my case:</p>\n<pre><code>@ControllerAdvice\npublic class CommonDataAdvice {\n     @Autowired\n     private HttpServletRequest request;\n\n     @ModelAttribute(&quot;request&quot;)\n     public HttpServletRequest populateRequest(){\n           return request;\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":11503506,"reputation":167,"user_id":8430554,"display_name":"leachim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75084573,"answer_count":2,"score":3,"last_activity_date":1673456811,"creation_date":1673366644,"question_id":75072676,"body_markdown":"Thymeleaf dropped template expressions like `#session`, `#httpServletRequest` etc. in Version 3.1 (https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html).\r\n\r\nWe used those a lot in relatively large applications. I wrote an interceptor to populate those attributes at every request since I don&#39;t want to add them in every Controller needed (like described in the migration guide).\r\n\r\nDoes anybody know a better way of achieving this?","title":"Is there a way to provide an attribute to all models in Spring?","body":"<p>Thymeleaf dropped template expressions like <code>#session</code>, <code>#httpServletRequest</code> etc. in Version 3.1 (<a href=\"https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html</a>).</p>\n<p>We used those a lot in relatively large applications. I wrote an interceptor to populate those attributes at every request since I don't want to add them in every Controller needed (like described in the migration guide).</p>\n<p>Does anybody know a better way of achieving this?</p>\n"},{"tags":["java","android","android-webview","sketchware"],"owner":{"account_id":23108859,"reputation":70,"user_id":17217071,"display_name":"Prakhar Doneria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673456666,"creation_date":1673456666,"question_id":75086618,"body_markdown":"I am trying to make a WebView based Android app. It&#39;s found that when ever I try to sign in Google account i get a error.\r\nI am using the default WebView in Java, and has added some additional codes to make it more functional like enabling JS, Cookies, file upload and download.\r\nThe code I used in OnCreate also tried this [question](https://stackoverflow.com/questions/51167203/android-google-login-not-working-inside-webview)\r\n\r\n```\r\nif (query.getString(&quot;query&quot;, &quot;&quot;).contains(&quot;https://&quot;)) {\r\n\r\n\r\n\twebview1.loadUrl(query.getString(&quot;query&quot;, &quot;&quot;));\r\n\r\n\r\n}\r\n\r\n\r\nelse {\r\n\r\n\r\n\twebview1.loadUrl(&quot;https://qmamu.com/search?q=&quot;.concat(query.getString(&quot;query&quot;, &quot;&quot;).concat(&quot;&amp;from=web&quot;)));\r\n\r\n\r\n}\r\n\r\n\r\nwebview1.setWebChromeClient(new WebChromeClient() {\r\n\r\n\t        @Override\r\n\r\n\t        public void onProgressChanged(WebView view, int newProgress) {\r\n\r\n\t\t            super.onProgressChanged(view, newProgress);\r\n\r\n\t\t            progressBar.setProgress(newProgress);\r\n\r\n\t\t        }\r\n\r\n\t```\r\n\t        @Override\r\n\r\n\t        public void onReceivedIcon(WebView view, Bitmap icon) {\r\n\r\n\t\t            super.onReceivedIcon(view, icon);\r\n\r\n\t\t            favicon.setImageBitmap(icon);\r\n\r\n\t\t        }\r\n\r\n\t    });\r\n\r\n\r\n\r\n\r\nwebview1.getSettings().setJavaScriptEnabled(true);\r\n\r\n\r\nwebview1.getSettings().setUseWideViewPort(true);\r\n\r\n\r\nwebview1.getSettings().setBuiltInZoomControls(false);\r\n\r\n\r\nwebview1.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n\r\n\r\nwebview1.setDownloadListener(new DownloadListener() {\r\n\r\n\t\tpublic void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\r\n\r\n\t\t\t\tIntent intent = new Intent(Intent.ACTION_VIEW);\r\n\r\n\t\t\t\tintent.setData(Uri.parse(url));\r\n\r\n\t\t\t\tstartActivity (intent);\r\n\r\n\t\t}\r\n\r\n});\r\n\r\n\r\nwebview1.getSettings().setAllowFileAccess(true);\r\n\r\nwebview1.getSettings().setLoadWithOverviewMode(true);\r\n\r\nwebview1.getSettings().setUseWideViewPort(true);\r\n\r\nwebview1.getSettings().setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN);\r\n\r\nwebview1.getSettings().setDomStorageEnabled(true);\r\n\r\nwebview1.getSettings().setSaveFormData(true);\r\n\r\n\r\nwebview1.getSettings().setLoadWithOverviewMode(true); webview1.getSettings().setUseWideViewPort(true); final WebSettings webSettings = webview1.getSettings(); final String newUserAgent; newUserAgent = &quot;Mozilla/5.0 (Android) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36&quot;; webSettings.setUserAgentString(newUserAgent);\r\n\r\n\r\nif (1 == 2) {\r\n\r\n\r\n\t\tstartActivityForResult(cam, REQ_CD_CAM);\r\n\r\n\r\n\t\tIntent _intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n\r\n\t\t_intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, getPackageName());\r\n\r\n\t\t_intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n\r\n\t\t_intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n\r\n\t\tsp.startListening(_intent);\r\n\r\n\r\n}\r\n\r\n\r\nwebview1.setWebChromeClient(new WebChromeClient(){\r\n\r\n\r\n\t\t    @Override\r\n\r\n\r\n\t\t    public void onPermissionRequest(PermissionRequest request){\r\n\r\n\r\n\t\t\t\t        // Generally you want to check which permissions you are granting\r\n\r\n\r\n\t\t\t\t        request.grant(request.getResources());\r\n\r\n\r\n\t\t\t\t    }\r\n\r\n\r\n});\r\n\r\n webSettings.setJavaScriptCanOpenWindowsAutomatically(true); if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) { webSettings.setAllowFileAccessFromFileURLs(true); webSettings.setAllowUniversalAccessFromFileURLs(true); }\r\n\r\nwebview1.getSettings().setSavePassword(true);\r\n\r\nwebview1.setWebChromeClient(new WebChromeClient() {\r\n\r\n\t// For 3.0+ Devices\r\n\r\n\tprotected void openFileChooser(ValueCallback uploadMsg, String acceptType) { mUploadMessage = uploadMsg; Intent i = new Intent(Intent.ACTION_GET_CONTENT); i.addCategory(Intent.CATEGORY_OPENABLE);\r\n\r\n\t\ti.setType(&quot;image/*&quot;); startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {\r\n\r\n\t\tif (uploadMessage != null) {\r\n\r\n\t\t\tuploadMessage.onReceiveValue(null);\r\n\r\n\t\t\tuploadMessage = null; } uploadMessage = filePathCallback; Intent intent = fileChooserParams.createIntent(); try {\r\n\r\n\t\t\tstartActivityForResult(intent, REQUEST_SELECT_FILE);\r\n\r\n\t\t} catch (ActivityNotFoundException e) {\r\n\r\n\t\t\tuploadMessage = null; Toast.makeText(getApplicationContext(), &quot;Cannot Open File Chooser&quot;, Toast.LENGTH_LONG).show(); return false; }\r\n\r\n\t\treturn true; }\r\n\r\n\t\r\n\r\n\t//For Android 4.1 only\r\n\r\n\tprotected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture) {\r\n\r\n\t\tmUploadMessage = uploadMsg; Intent intent = new Intent(Intent.ACTION_GET_CONTENT); intent.addCategory(Intent.CATEGORY_OPENABLE); intent.setType(&quot;image/*&quot;); startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tprotected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg) {\r\n\r\n\t\tmUploadMessage = uploadMsg; Intent i = new Intent(Intent.ACTION_GET_CONTENT); i.addCategory(Intent.CATEGORY_OPENABLE);\r\n\r\n\t\ti.setType(&quot;image/*&quot;); startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\t\r\n\r\n});\r\n\r\n\r\nCookieManager.getInstance().setAcceptCookie(true);\r\n\r\n{\r\n\r\n\tandroid.graphics.drawable.GradientDrawable SketchUi = new android.graphics.drawable.GradientDrawable();\r\n\r\n\tSketchUi.setColor(0xFFFFFFFF);\r\n\r\n\tfloat lt = getDip(0);\r\n\r\n\tfloat rt = getDip(0);\r\n\r\n\tfloat rb = getDip(43);\r\n\r\n\tfloat lb = getDip(43);\r\n\r\n\tSketchUi.setCornerRadii(new float[]{\r\n\r\n\t\t\tlt,lt,rt ,rt,rb,rb ,lb,lb });\r\n\r\n\tlinear7.setElevation(getDip(30));\r\n\r\n\tlinear7.setBackground(SketchUi);\r\n\r\n}\r\n\r\nwebview1.getSettings().setBuiltInZoomControls(true);webview1.getSettings().setDisplayZoomControls(false);\r\n```\r\n\r\nThe Error message in WebView\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vJ2qv.png)](https://i.stack.imgur.com/vJ2qv.png)\r\n\r\nCan you tell me a code or any other method to avoid this error without changing whole application program.","title":"Insecure browser error in WebView on logging Google","body":"<p>I am trying to make a WebView based Android app. It's found that when ever I try to sign in Google account i get a error.\nI am using the default WebView in Java, and has added some additional codes to make it more functional like enabling JS, Cookies, file upload and download.\nThe code I used in OnCreate also tried this <a href=\"https://stackoverflow.com/questions/51167203/android-google-login-not-working-inside-webview\">question</a></p>\n<pre><code>if (query.getString(&quot;query&quot;, &quot;&quot;).contains(&quot;https://&quot;)) {\n\n\n    webview1.loadUrl(query.getString(&quot;query&quot;, &quot;&quot;));\n\n\n}\n\n\nelse {\n\n\n    webview1.loadUrl(&quot;https://qmamu.com/search?q=&quot;.concat(query.getString(&quot;query&quot;, &quot;&quot;).concat(&quot;&amp;from=web&quot;)));\n\n\n}\n\n\nwebview1.setWebChromeClient(new WebChromeClient() {\n\n            @Override\n\n            public void onProgressChanged(WebView view, int newProgress) {\n\n                    super.onProgressChanged(view, newProgress);\n\n                    progressBar.setProgress(newProgress);\n\n                }\n\n    ```\n            @Override\n\n            public void onReceivedIcon(WebView view, Bitmap icon) {\n\n                    super.onReceivedIcon(view, icon);\n\n                    favicon.setImageBitmap(icon);\n\n                }\n\n        });\n\n\n\n\nwebview1.getSettings().setJavaScriptEnabled(true);\n\n\nwebview1.getSettings().setUseWideViewPort(true);\n\n\nwebview1.getSettings().setBuiltInZoomControls(false);\n\n\nwebview1.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n\n\nwebview1.setDownloadListener(new DownloadListener() {\n\n        public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\n\n                Intent intent = new Intent(Intent.ACTION_VIEW);\n\n                intent.setData(Uri.parse(url));\n\n                startActivity (intent);\n\n        }\n\n});\n\n\nwebview1.getSettings().setAllowFileAccess(true);\n\nwebview1.getSettings().setLoadWithOverviewMode(true);\n\nwebview1.getSettings().setUseWideViewPort(true);\n\nwebview1.getSettings().setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN);\n\nwebview1.getSettings().setDomStorageEnabled(true);\n\nwebview1.getSettings().setSaveFormData(true);\n\n\nwebview1.getSettings().setLoadWithOverviewMode(true); webview1.getSettings().setUseWideViewPort(true); final WebSettings webSettings = webview1.getSettings(); final String newUserAgent; newUserAgent = &quot;Mozilla/5.0 (Android) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36&quot;; webSettings.setUserAgentString(newUserAgent);\n\n\nif (1 == 2) {\n\n\n        startActivityForResult(cam, REQ_CD_CAM);\n\n\n        Intent _intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n\n        _intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, getPackageName());\n\n        _intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n\n        _intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n\n        sp.startListening(_intent);\n\n\n}\n\n\nwebview1.setWebChromeClient(new WebChromeClient(){\n\n\n            @Override\n\n\n            public void onPermissionRequest(PermissionRequest request){\n\n\n                        // Generally you want to check which permissions you are granting\n\n\n                        request.grant(request.getResources());\n\n\n                    }\n\n\n});\n\n webSettings.setJavaScriptCanOpenWindowsAutomatically(true); if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) { webSettings.setAllowFileAccessFromFileURLs(true); webSettings.setAllowUniversalAccessFromFileURLs(true); }\n\nwebview1.getSettings().setSavePassword(true);\n\nwebview1.setWebChromeClient(new WebChromeClient() {\n\n    // For 3.0+ Devices\n\n    protected void openFileChooser(ValueCallback uploadMsg, String acceptType) { mUploadMessage = uploadMsg; Intent i = new Intent(Intent.ACTION_GET_CONTENT); i.addCategory(Intent.CATEGORY_OPENABLE);\n\n        i.setType(&quot;image/*&quot;); startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n\n    }\n\n    \n\n    public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {\n\n        if (uploadMessage != null) {\n\n            uploadMessage.onReceiveValue(null);\n\n            uploadMessage = null; } uploadMessage = filePathCallback; Intent intent = fileChooserParams.createIntent(); try {\n\n            startActivityForResult(intent, REQUEST_SELECT_FILE);\n\n        } catch (ActivityNotFoundException e) {\n\n            uploadMessage = null; Toast.makeText(getApplicationContext(), &quot;Cannot Open File Chooser&quot;, Toast.LENGTH_LONG).show(); return false; }\n\n        return true; }\n\n    \n\n    //For Android 4.1 only\n\n    protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture) {\n\n        mUploadMessage = uploadMsg; Intent intent = new Intent(Intent.ACTION_GET_CONTENT); intent.addCategory(Intent.CATEGORY_OPENABLE); intent.setType(&quot;image/*&quot;); startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n\n    }\n\n    \n\n    protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg) {\n\n        mUploadMessage = uploadMsg; Intent i = new Intent(Intent.ACTION_GET_CONTENT); i.addCategory(Intent.CATEGORY_OPENABLE);\n\n        i.setType(&quot;image/*&quot;); startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\n\n    }\n\n    \n\n    \n\n});\n\n\nCookieManager.getInstance().setAcceptCookie(true);\n\n{\n\n    android.graphics.drawable.GradientDrawable SketchUi = new android.graphics.drawable.GradientDrawable();\n\n    SketchUi.setColor(0xFFFFFFFF);\n\n    float lt = getDip(0);\n\n    float rt = getDip(0);\n\n    float rb = getDip(43);\n\n    float lb = getDip(43);\n\n    SketchUi.setCornerRadii(new float[]{\n\n            lt,lt,rt ,rt,rb,rb ,lb,lb });\n\n    linear7.setElevation(getDip(30));\n\n    linear7.setBackground(SketchUi);\n\n}\n\nwebview1.getSettings().setBuiltInZoomControls(true);webview1.getSettings().setDisplayZoomControls(false);\n</code></pre>\n<p>The Error message in WebView</p>\n<p><a href=\"https://i.stack.imgur.com/vJ2qv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJ2qv.png\" alt=\"enter image description here\" /></a></p>\n<p>Can you tell me a code or any other method to avoid this error without changing whole application program.</p>\n"},{"tags":["java","spring","spring-boot","kubernetes","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1673458195,"post_id":75086553,"comment_id":132505563,"body_markdown":"Refresh scope does not need the actuator endpoint to function.","body":"Refresh scope does not need the actuator endpoint to function."},{"owner":{"account_id":6009252,"reputation":505,"user_id":4720169,"accept_rate":86,"display_name":"Nariman Esmaiely Fard"},"score":0,"creation_date":1673475612,"post_id":75086553,"comment_id":132510775,"body_markdown":"Then how it is receiving new values from configmap?","body":"Then how it is receiving new values from configmap?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1673554004,"post_id":75086553,"comment_id":132531576,"body_markdown":"IIRC there is a scheduled method","body":"IIRC there is a scheduled method"}],"owner":{"account_id":6009252,"reputation":505,"user_id":4720169,"accept_rate":86,"display_name":"Nariman Esmaiely Fard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673456293,"creation_date":1673456293,"question_id":75086553,"body_markdown":"So I am reading about Kubernetes PropertySource in Spring Cloud and how to configure spring to reload a value when it is changed in kubernetes configmap. As far as the doc says:\r\n\r\n&gt; refresh (default): Only configuration beans annotated with\r\n&gt; @ConfigurationProperties or @RefreshScope are reloaded. This reload\r\n&gt; level leverages the refresh feature of Spring Cloud Context.\r\n\r\n&gt; The RefreshScope is a bean in the context and has a public\r\n&gt; refreshAll() method to refresh all beans in the scope by clearing the\r\n&gt; target cache. The /refresh endpoint exposes this functionality (over\r\n&gt; HTTP or JMX). To refresh an individual bean by name, there is also a\r\n&gt; refresh(String) method.\r\n&gt; \r\n&gt; To expose the /refresh endpoint, you need to add following\r\n&gt; configuration to your application:\r\n&gt; \r\n&gt; management:   endpoints:\r\n&gt;     web:\r\n&gt;       exposure:\r\n&gt;         include: refresh\r\n\r\nSo I&#39;m guessing the refresh actuator endpoint needs to be enabled otherwise it won&#39;t work, right?\r\n\r\nBut I have a microservice that is configured as follows but it is working completely correct and when configmap changes, the value gets updated.\r\n\r\n`bootstrap.yaml`:\r\n```\r\nspring:\r\n  cloud:\r\n    kubernetes:\r\n      reload:\r\n        enabled: true\r\n        mode: polling\r\n        strategy: refresh\r\n      config:\r\n        name: foo\r\n```\r\n\r\n`application.yaml`:\r\n```\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      show-details: &quot;ALWAYS&quot;\r\n      probes:\r\n        enabled: true\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: metrics, health, caches, restart\r\n```\r\n\r\nAs you can see, there is no refresh endpoint enabled. How is it working properly then?","title":"@RefreshScope is working without /actuator/refresh being enabled","body":"<p>So I am reading about Kubernetes PropertySource in Spring Cloud and how to configure spring to reload a value when it is changed in kubernetes configmap. As far as the doc says:</p>\n<blockquote>\n<p>refresh (default): Only configuration beans annotated with\n@ConfigurationProperties or @RefreshScope are reloaded. This reload\nlevel leverages the refresh feature of Spring Cloud Context.</p>\n</blockquote>\n<blockquote>\n<p>The RefreshScope is a bean in the context and has a public\nrefreshAll() method to refresh all beans in the scope by clearing the\ntarget cache. The /refresh endpoint exposes this functionality (over\nHTTP or JMX). To refresh an individual bean by name, there is also a\nrefresh(String) method.</p>\n<p>To expose the /refresh endpoint, you need to add following\nconfiguration to your application:</p>\n<p>management:   endpoints:\nweb:\nexposure:\ninclude: refresh</p>\n</blockquote>\n<p>So I'm guessing the refresh actuator endpoint needs to be enabled otherwise it won't work, right?</p>\n<p>But I have a microservice that is configured as follows but it is working completely correct and when configmap changes, the value gets updated.</p>\n<p><code>bootstrap.yaml</code>:</p>\n<pre><code>spring:\n  cloud:\n    kubernetes:\n      reload:\n        enabled: true\n        mode: polling\n        strategy: refresh\n      config:\n        name: foo\n</code></pre>\n<p><code>application.yaml</code>:</p>\n<pre><code>management:\n  endpoint:\n    health:\n      show-details: &quot;ALWAYS&quot;\n      probes:\n        enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: metrics, health, caches, restart\n</code></pre>\n<p>As you can see, there is no refresh endpoint enabled. How is it working properly then?</p>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1595614974,"post_id":63078835,"comment_id":111546603,"body_markdown":"It did not work","body":"It did not work"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1595615667,"post_id":63078835,"comment_id":111546882,"body_markdown":"Then I suspect that when string value is null then problems arise. You can use `COALESCE(:lastName, &#39;&#39;)` inside concat","body":"Then I suspect that when string value is null then problems arise. You can use <code>COALESCE(:lastName, &#39;&#39;)</code> inside concat"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1595621799,"post_id":63078835,"comment_id":111549364,"body_markdown":"Not really, if I remove `concat()` and replace with `upper()` or `lower()` it works","body":"Not really, if I remove <code>concat()</code> and replace with <code>upper()</code> or <code>lower()</code> it works"},{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":0,"creation_date":1595624134,"post_id":63078835,"comment_id":111550161,"body_markdown":"instead of `concat` operator you could try `||`: https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#hql-concatenation","body":"instead of <code>concat</code> operator you could try <code>||</code>: <a href=\"https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#hql-concatenation\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.3/userguide/html_single/&hellip;</a>"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1595649599,"post_id":63078835,"comment_id":111554852,"body_markdown":"@RobertNiestroj Hibernate docs specifically says not to use this https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-concatenation","body":"@RobertNiestroj Hibernate docs specifically says not to use this <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-concatenation\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/current/userguide/html_single/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":1,"creation_date":1595956213,"post_id":63098726,"comment_id":111651371,"body_markdown":"This fixed my issue. But I raised a bug report with Spring Data team regarding this. You can follow it here [DATACMNS-1778](https://jira.spring.io/browse/DATACMNS-1778)","body":"This fixed my issue. But I raised a bug report with Spring Data team regarding this. You can follow it here <a href=\"https://jira.spring.io/browse/DATACMNS-1778\" rel=\"nofollow noreferrer\">DATACMNS-1778</a>"}],"tags":[],"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595758147,"creation_date":1595758147,"answer_id":63098726,"question_id":63078835,"body_markdown":"I remember I had exactly the same weird error. As it is mentioned in the comments the problem solved by using `coalesce` function instead of `concat`.  ","title":"Spring Data JPA: The data types varchar and varbinary are incompatible in the add operator exception occurs when using concat() method","body":"<p>I remember I had exactly the same weird error. As it is mentioned in the comments the problem solved by using <code>coalesce</code> function instead of <code>concat</code>.</p>\n"},{"tags":[],"owner":{"account_id":20889877,"reputation":1,"user_id":15345525,"display_name":"Hai Nv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673456130,"creation_date":1673456050,"answer_id":75086507,"question_id":63078835,"body_markdown":"use `COALESCE(:lastName, &#39;&#39;)` inside `CONCAT`. It resolves my issue","title":"Spring Data JPA: The data types varchar and varbinary are incompatible in the add operator exception occurs when using concat() method","body":"<p>use <code>COALESCE(:lastName, '')</code> inside <code>CONCAT</code>. It resolves my issue</p>\n"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1941,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63098726,"answer_count":2,"score":1,"last_activity_date":1673456130,"creation_date":1595612623,"question_id":63078835,"body_markdown":"In my Spring Data project I am trying to use concat operation on JPA query annotation(shown below)\r\n\r\n    @Query(&quot;SELECT a from ApiEnrollmentsView a where (:mrn is null or a.mrn=:mrn) and &quot; +\r\n            &quot; (:firstName is null  or a.firstName like concat(:firstName, &#39;%&#39;)) and &quot; +\r\n            &quot; (:lastName is null  or a.lastName like concat(:lastName, &#39;%&#39;)) &quot;)\r\n    List&lt;ApiEnrollmentsView&gt; findEnrollmentsByMrnAndFirstNameAndLastName(String mrn, String firstName, String lastName);\r\n\r\n\r\nProject compiles fine but when I access the method, I get exception `data types varchar and varbinary are incompatible in the add operator` \r\n\r\n**Exception:**\r\n\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The data types varchar and varbinary are incompatible in the add operator.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1632)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:600)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:522)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7225)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3053)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:247)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:222)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:444)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n    \t... 174 more\r\n\r\n","title":"Spring Data JPA: The data types varchar and varbinary are incompatible in the add operator exception occurs when using concat() method","body":"<p>In my Spring Data project I am trying to use concat operation on JPA query annotation(shown below)</p>\n<pre><code>@Query(&quot;SELECT a from ApiEnrollmentsView a where (:mrn is null or a.mrn=:mrn) and &quot; +\n        &quot; (:firstName is null  or a.firstName like concat(:firstName, '%')) and &quot; +\n        &quot; (:lastName is null  or a.lastName like concat(:lastName, '%')) &quot;)\nList&lt;ApiEnrollmentsView&gt; findEnrollmentsByMrnAndFirstNameAndLastName(String mrn, String firstName, String lastName);\n</code></pre>\n<p>Project compiles fine but when I access the method, I get exception <code>data types varchar and varbinary are incompatible in the add operator</code></p>\n<p><strong>Exception:</strong></p>\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The data types varchar and varbinary are incompatible in the add operator.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1632)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:600)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:522)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7225)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3053)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:247)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:222)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:444)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 174 more\n</code></pre>\n"},{"tags":["java","performance","recursion","jvm","encapsulation"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673455330,"post_id":75086220,"comment_id":132504592,"body_markdown":"Arrays are - in general - allocated on the heap, not on the stack. The only thing that will be on the stack in your first code is the reference to the array of `arr`, not the array itself. The fact you pass the reference to the array as a parameter might actually be better for performance than using a field. Also, making this a field could introduce all kinds of issues if you don&#39;t use instances of `MergeSort` correctly.","body":"Arrays are - in general - allocated on the heap, not on the stack. The only thing that will be on the stack in your first code is the reference to the array of <code>arr</code>, not the array itself. The fact you pass the reference to the array as a parameter might actually be better for performance than using a field. Also, making this a field could introduce all kinds of issues if you don&#39;t use instances of <code>MergeSort</code> correctly."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1673455345,"post_id":75086220,"comment_id":132504600,"body_markdown":"yes, it will be better than pass it on the stack with every call.","body":"yes, it will be better than pass it on the stack with every call."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673455366,"post_id":75086220,"comment_id":132504608,"body_markdown":"@Khanna111 That is unlikely.","body":"@Khanna111 That is unlikely."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1673455434,"post_id":75086220,"comment_id":132504637,"body_markdown":"@MarkRotteveel I see. So if the arr is a local variable defined in the method itself, it would still be in the heap and only a reference would be passed?","body":"@MarkRotteveel I see. So if the arr is a local variable defined in the method itself, it would still be in the heap and only a reference would be passed?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673455508,"post_id":75086220,"comment_id":132504656,"body_markdown":"The array is on the heap, `arr` is just a reference to that array. And although each method invocation may add yet another reference to that same array on the stack, that is trivial (and possibly this might be optimized away).","body":"The array is on the heap, <code>arr</code> is just a reference to that array. And although each method invocation may add yet another reference to that same array on the stack, that is trivial (and possibly this might be optimized away)."},{"owner":{"account_id":20433810,"reputation":33,"user_id":14992170,"display_name":"Arkady"},"score":0,"creation_date":1673455514,"post_id":75086220,"comment_id":132504660,"body_markdown":"@MarkRotteveel Rotteveel yes, but it is a reference. It takes memory.","body":"@MarkRotteveel Rotteveel yes, but it is a reference. It takes memory."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673455587,"post_id":75086220,"comment_id":132504685,"body_markdown":"@Arkady Those four bytes are nothing, and the locality of the reference on the stack may make it faster than having to access the field of the instance.","body":"@Arkady Those four bytes are nothing, and the locality of the reference on the stack may make it faster than having to access the field of the instance."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673455654,"post_id":75086220,"comment_id":132504704,"body_markdown":"If you want to be sure though, consider writing a JMH test, see also [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"If you want to be sure though, consider writing a JMH test, see also <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":20433810,"reputation":33,"user_id":14992170,"display_name":"Arkady"},"score":0,"creation_date":1673455747,"post_id":75086220,"comment_id":132504744,"body_markdown":"@MarkRotteveel then the parameter will be removed from the stack and placed again. But the class field will stand still until the end","body":"@MarkRotteveel then the parameter will be removed from the stack and placed again. But the class field will stand still until the end"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673511540,"post_id":75086220,"comment_id":132516779,"body_markdown":"Yes, but the method needs to access the field on each use, which is generally more expensive than accessing a local variable on the stack.","body":"Yes, but the method needs to access the field on each use, which is generally more expensive than accessing a local variable on the stack."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673513812,"post_id":75086220,"comment_id":132517485,"body_markdown":"Perhaps, you should first *implement an actual working* version of MergeSort, before asking about the performance of a tiny detail, that becomes irrelevant anyway, given how mergesort works.","body":"Perhaps, you should first <i>implement an actual working</i> version of MergeSort, before asking about the performance of a tiny detail, that becomes irrelevant anyway, given how mergesort works."},{"owner":{"account_id":20433810,"reputation":33,"user_id":14992170,"display_name":"Arkady"},"score":0,"creation_date":1673528486,"post_id":75086220,"comment_id":132522534,"body_markdown":"@MarkRotteveel tell me please, how is field accessing implemented. When we are creating an object the field data is initializing to the local stack. What prevents a function from fast accessing a class field as its parameter on the stack?","body":"@MarkRotteveel tell me please, how is field accessing implemented. When we are creating an object the field data is initializing to the local stack. What prevents a function from fast accessing a class field as its parameter on the stack?"},{"owner":{"account_id":20433810,"reputation":33,"user_id":14992170,"display_name":"Arkady"},"score":0,"creation_date":1673528669,"post_id":75086220,"comment_id":132522613,"body_markdown":"Andr&#233; LaMothe says in his book that to make calling a function fast, you can use global variables as method parameters. The book is very old.","body":"Andr&#233; LaMothe says in his book that to make calling a function fast, you can use global variables as method parameters. The book is very old."},{"owner":{"account_id":20433810,"reputation":33,"user_id":14992170,"display_name":"Arkady"},"score":0,"creation_date":1673528912,"post_id":75086220,"comment_id":132522697,"body_markdown":"@Holger it&#39;s not about the sorting algorithm. I am trying to understand how can I make function calls faster.","body":"@Holger it&#39;s not about the sorting algorithm. I am trying to understand how can I make function calls faster."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673534113,"post_id":75086220,"comment_id":132524646,"body_markdown":"Well, then you should probably implement *anything* working, before worrying about the performance of the thing with the least impact on the overall performance. If you have something real, you can ask whether there are opportunities to optimize it.","body":"Well, then you should probably implement <i>anything</i> working, before worrying about the performance of the thing with the least impact on the overall performance. If you have something real, you can ask whether there are opportunities to optimize it."}],"answers":[{"tags":[],"owner":{"account_id":21772644,"reputation":37,"user_id":17299236,"display_name":"Arafin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673456110,"creation_date":1673456110,"answer_id":75086523,"question_id":75086220,"body_markdown":"variables reserve a reference to use from ram. It doesn&#39;t matter where you define it, if you&#39;re using 1 byte of ram it&#39;s the same everywhere.\r\n\r\nThe important thing is that if the developer wants to use this variable in the program, he can use it easily and separate it from other variables.\r\n\r\nIf you say why parameters are used, it is necessary to understand why functions are used. The simplest functions are to separate the codes you wrote from other codes and to access these codes easily. That&#39;s why the parameters exist.","title":"Can I reach performance if I encapsulate a parameter of a recursive function?","body":"<p>variables reserve a reference to use from ram. It doesn't matter where you define it, if you're using 1 byte of ram it's the same everywhere.</p>\n<p>The important thing is that if the developer wants to use this variable in the program, he can use it easily and separate it from other variables.</p>\n<p>If you say why parameters are used, it is necessary to understand why functions are used. The simplest functions are to separate the codes you wrote from other codes and to access these codes easily. That's why the parameters exist.</p>\n"}],"owner":{"account_id":20433810,"reputation":33,"user_id":14992170,"display_name":"Arkady"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673456110,"creation_date":1673454685,"question_id":75086220,"body_markdown":"I have a function that sorts a given array using the merge sort algorithm. That algorithm calls itself to solve the problem.\r\n```\r\npublic class MergeSort {\r\n\t\r\n\tpublic static void mergeSort(int[][] arr, int left, int right) {\r\n\t\t// merge two parts\r\n\t\tmerge(arr, left, mid, right);\r\n\t\t\r\n\t\t// sort the left part\r\n\t\tmergeSort(arr, left, mid);\r\n\t\t// sort the right part\r\n\t\tmergeSort(arr, mid, right);\r\n\t}\t\r\n}\r\n```\r\nCan I reach performance if I encapsulate the `arr` parameter in the class? Consider:\r\n```\r\npublic class MergeSort {\r\n\tint[][] arr;\r\n\t\r\n\tpublic void mergeSort(int left, int right) {\r\n\t\t// merge two parts\r\n\t\tmerge(left, mid, right);\r\n\t\t\r\n\t\t// sort the left part\r\n\t\tmergeSort(left, mid);\r\n\t\t// sort the right part\r\n\t\tmergeSort(mid, right);\r\n\t}\r\n}\r\n```\r\nSo, the `arr` parameter is not passing to the stack.","title":"Can I reach performance if I encapsulate a parameter of a recursive function?","body":"<p>I have a function that sorts a given array using the merge sort algorithm. That algorithm calls itself to solve the problem.</p>\n<pre><code>public class MergeSort {\n    \n    public static void mergeSort(int[][] arr, int left, int right) {\n        // merge two parts\n        merge(arr, left, mid, right);\n        \n        // sort the left part\n        mergeSort(arr, left, mid);\n        // sort the right part\n        mergeSort(arr, mid, right);\n    }   \n}\n</code></pre>\n<p>Can I reach performance if I encapsulate the <code>arr</code> parameter in the class? Consider:</p>\n<pre><code>public class MergeSort {\n    int[][] arr;\n    \n    public void mergeSort(int left, int right) {\n        // merge two parts\n        merge(left, mid, right);\n        \n        // sort the left part\n        mergeSort(left, mid);\n        // sort the right part\n        mergeSort(mid, right);\n    }\n}\n</code></pre>\n<p>So, the <code>arr</code> parameter is not passing to the stack.</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":4,"creation_date":1673428602,"post_id":75080641,"comment_id":132494604,"body_markdown":"Should work just fine except for that short moment where you rename the table / add the view. Given that the view maps exactly to the entity class as the table currently does. The clients don&#39;t care if its a table or a view. That is purely on the database side","body":"Should work just fine except for that short moment where you rename the table / add the view. Given that the view maps exactly to the entity class as the table currently does. The clients don&#39;t care if its a table or a view. That is purely on the database side"},{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1673432471,"post_id":75080641,"comment_id":132495976,"body_markdown":"Can you drop a table having open cursors?","body":"Can you drop a table having open cursors?"}],"answers":[{"comments":[{"owner":{"account_id":16534837,"reputation":323,"user_id":11947145,"display_name":"Vitaly Roslov"},"score":0,"creation_date":1673524311,"post_id":75086513,"comment_id":132521099,"body_markdown":"thank you for the downtime recommendation","body":"thank you for the downtime recommendation"}],"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673456086,"creation_date":1673456086,"answer_id":75086513,"question_id":75080641,"body_markdown":"For any production system *(read: a computer that a person, other than yourself, is using)* it is always wise to plan downtime for a database change. If downtime only lasts a few seconds, good! But make a plan for downtime in case of the unexpected.\r\n\r\nOther than that: this should work just fine. Provided names and column structure are identical, switching between a table &amp; view should be transparent to any JDBC client.","title":"Is switching table for a view safe to do in runtime when using JDBC?","body":"<p>For any production system <em>(read: a computer that a person, other than yourself, is using)</em> it is always wise to plan downtime for a database change. If downtime only lasts a few seconds, good! But make a plan for downtime in case of the unexpected.</p>\n<p>Other than that: this should work just fine. Provided names and column structure are identical, switching between a table &amp; view should be transparent to any JDBC client.</p>\n"}],"owner":{"account_id":16534837,"reputation":323,"user_id":11947145,"display_name":"Vitaly Roslov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75086513,"answer_count":1,"score":1,"last_activity_date":1673456086,"creation_date":1673428432,"question_id":75080641,"body_markdown":"I have a legacy table with some data in it, and a running application that uses JDBC to execute queries on the table. I am planning to rename the table and make an updatable view with the same name (as the old table) and columns and types that is referring to another table.\r\n\r\nWhat I am trying to find out, since I have a production environment running, if after this change my JDBC clients will start running and executing queries and updates on the view instead of the table without breaking or needing to restart them. In other words is switching table for a compatible view in the database schema a compatible runtime change for running JDBC clients?\r\n\r\n\r\n\r\n\r\n\r\nI think that there may be a short period when my old table does not exist, and the view still does not while the DDL queries are executing. I am willing to ignore the short blip.\r\nI assume that the clients are using some PreparedStatements.\r\n\r\nMy stack: PosgreSQL 12, java 11 JDBC, hibernate, JPA. ","title":"Is switching table for a view safe to do in runtime when using JDBC?","body":"<p>I have a legacy table with some data in it, and a running application that uses JDBC to execute queries on the table. I am planning to rename the table and make an updatable view with the same name (as the old table) and columns and types that is referring to another table.</p>\n<p>What I am trying to find out, since I have a production environment running, if after this change my JDBC clients will start running and executing queries and updates on the view instead of the table without breaking or needing to restart them. In other words is switching table for a compatible view in the database schema a compatible runtime change for running JDBC clients?</p>\n<p>I think that there may be a short period when my old table does not exist, and the view still does not while the DDL queries are executing. I am willing to ignore the short blip.\nI assume that the clients are using some PreparedStatements.</p>\n<p>My stack: PosgreSQL 12, java 11 JDBC, hibernate, JPA.</p>\n"},{"tags":["java","selenium","intellij-idea","bitbucket"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1673443873,"post_id":75083320,"comment_id":132499985,"body_markdown":"I guess its required credentials. Any error?","body":"I guess its required credentials. Any error?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1673462759,"post_id":75083320,"comment_id":132507002,"body_markdown":"Too many questions.. You seem doing something not how it has to be done.. first of all what does `send file to bitbucket project` mean? Are you trying to add a file to your remote bitbucket repo? If yes why you&#39;re trying to do that with selenium? Btw there is no Selenium code in your example. There are two options for you. 1 - use bitbucket API (if API supports adding files) so that you can approach with regular http client supplied with Java SDK, 2 - use git client (either Java client or cmd client) and push your file using that client.","body":"Too many questions.. You seem doing something not how it has to be done.. first of all what does <code>send file to bitbucket project</code> mean? Are you trying to add a file to your remote bitbucket repo? If yes why you&#39;re trying to do that with selenium? Btw there is no Selenium code in your example. There are two options for you. 1 - use bitbucket API (if API supports adding files) so that you can approach with regular http client supplied with Java SDK, 2 - use git client (either Java client or cmd client) and push your file using that client."},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1673522934,"post_id":75083320,"comment_id":132520632,"body_markdown":"I have 2 selenium projects, and one requires a .txt file from the other to launch, so Im trying to run the selenium code, and then add the .txt file created to another bitbucket repository, I dont know if its even possible to do, i am able to transfer locally but doesn&#39;t seem to be the case with bitbucket","body":"I have 2 selenium projects, and one requires a .txt file from the other to launch, so Im trying to run the selenium code, and then add the .txt file created to another bitbucket repository, I dont know if its even possible to do, i am able to transfer locally but doesn&#39;t seem to be the case with bitbucket"}],"answers":[{"comments":[{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1673456107,"post_id":75086379,"comment_id":132504877,"body_markdown":"Ive updated my progress if you have any ideas","body":"Ive updated my progress if you have any ideas"}],"tags":[],"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673455448,"creation_date":1673455448,"answer_id":75086379,"question_id":75083320,"body_markdown":"Your link does not seem right. It should start with org and work its way back. See [here][1] for an example under PropertySourceAnnotationTests.withResolvablePlaceholder() \r\n\r\nOr go to BitBucket to find the right link. First click clone and then either use https:// or SSH key in the setProperty call.\r\n\r\n\r\n  [1]: https://www.tabnine.com/code/java/methods/java.lang.System/setProperty","title":"Send file to bitbucket project using java and intellij","body":"<p>Your link does not seem right. It should start with org and work its way back. See <a href=\"https://www.tabnine.com/code/java/methods/java.lang.System/setProperty\" rel=\"nofollow noreferrer\">here</a> for an example under PropertySourceAnnotationTests.withResolvablePlaceholder()</p>\n<p>Or go to BitBucket to find the right link. First click clone and then either use https:// or SSH key in the setProperty call.</p>\n"}],"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673456081,"creation_date":1673441401,"question_id":75083320,"body_markdown":"I am trying to send a file to a bitbucket master repository through my java selenium project.\r\n\r\nI am currently able to send the file to another project on my local machine using\r\n\r\n   \r\n\r\n     System.setProperty(&quot;webdriver.chrome.logfile&quot;,\r\n     &quot;C:\\\\Users\\\\IdeaProjects\\\\project\\\\chromelogs1.txt&quot;);\r\n\r\nHowever using the bitbucket location it doesnt work, any ideas?\r\n\r\nI&#39;m trying \r\n \r\n\r\n     System.setProperty(&quot;webdriver.chrome.logfile&quot;,\r\n     &quot;https:\\\\bitbucket.org\\\\noting-automation\\\\src\\\\master\\\\Noting\\\\chromelogs1.txt&quot;);\r\n\r\nBut its not giving an error the driver doesnt initialize, not sure if the url is correct in that form\r\n\r\n**Update**\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n        try {\r\n            //note that it the path contains browse after the repo-url\r\n\r\n            String url = &quot;https://bitbucket.org/noting/src/master&quot;;\r\n            String user = &quot;UN&quot;;\r\n            String pw = &quot;PW&quot;;\r\n\r\n            File f= new \r\n    File(&quot;C:\\\\Users\\\\IdeaProjects\\\\filename\\chromelogs1.txt&quot;);\r\n\r\n            HttpPost httpPost = new HttpPost(url);\r\n            String encoding = Base64.getEncoder().encodeToString((user \r\n    + &quot;:&quot; + pw).getBytes(StandardCharsets.UTF_8));\r\n            System.out.println(&quot;URL Equals: &quot;+ url);\r\n            httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\r\n\r\n            HttpEntity reqEntity = MultipartEntityBuilder.create()\r\n\r\n                    .addPart(&quot;branch&quot;, new StringBody(&quot;master&quot;, \r\n    ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;content&quot;, new StringBody(&quot;file content, \r\n    can be different than stringbody, just as example&quot;, \r\n    ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;message&quot;, new StringBody(&quot;commit \r\n    message&quot;, ContentType.TEXT_PLAIN))\r\n                    .addPart(&quot;file&quot;, new FileBody(f))\r\n                    .build();\r\n            System.out.println(reqEntity);\r\n            httpPost.setEntity(reqEntity);\r\n            CloseableHttpResponse response = \r\n    httpclient.execute(httpPost);\r\n            System.out.println(response.toString());\r\n\r\n        } finally {\r\n            httpclient.close();\r\n        }\r\n\r\n\r\nTrying this now but its returning a 401, any ideas?","title":"Send file to bitbucket project using java and intellij","body":"<p>I am trying to send a file to a bitbucket master repository through my java selenium project.</p>\n<p>I am currently able to send the file to another project on my local machine using</p>\n<pre><code> System.setProperty(&quot;webdriver.chrome.logfile&quot;,\n &quot;C:\\\\Users\\\\IdeaProjects\\\\project\\\\chromelogs1.txt&quot;);\n</code></pre>\n<p>However using the bitbucket location it doesnt work, any ideas?</p>\n<p>I'm trying</p>\n<pre><code> System.setProperty(&quot;webdriver.chrome.logfile&quot;,\n &quot;https:\\\\bitbucket.org\\\\noting-automation\\\\src\\\\master\\\\Noting\\\\chromelogs1.txt&quot;);\n</code></pre>\n<p>But its not giving an error the driver doesnt initialize, not sure if the url is correct in that form</p>\n<p><strong>Update</strong></p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\n    try {\n        //note that it the path contains browse after the repo-url\n\n        String url = &quot;https://bitbucket.org/noting/src/master&quot;;\n        String user = &quot;UN&quot;;\n        String pw = &quot;PW&quot;;\n\n        File f= new \nFile(&quot;C:\\\\Users\\\\IdeaProjects\\\\filename\\chromelogs1.txt&quot;);\n\n        HttpPost httpPost = new HttpPost(url);\n        String encoding = Base64.getEncoder().encodeToString((user \n+ &quot;:&quot; + pw).getBytes(StandardCharsets.UTF_8));\n        System.out.println(&quot;URL Equals: &quot;+ url);\n        httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\n\n        HttpEntity reqEntity = MultipartEntityBuilder.create()\n\n                .addPart(&quot;branch&quot;, new StringBody(&quot;master&quot;, \nContentType.TEXT_PLAIN))\n                .addPart(&quot;content&quot;, new StringBody(&quot;file content, \ncan be different than stringbody, just as example&quot;, \nContentType.TEXT_PLAIN))\n                .addPart(&quot;message&quot;, new StringBody(&quot;commit \nmessage&quot;, ContentType.TEXT_PLAIN))\n                .addPart(&quot;file&quot;, new FileBody(f))\n                .build();\n        System.out.println(reqEntity);\n        httpPost.setEntity(reqEntity);\n        CloseableHttpResponse response = \nhttpclient.execute(httpPost);\n        System.out.println(response.toString());\n\n    } finally {\n        httpclient.close();\n    }\n</code></pre>\n<p>Trying this now but its returning a 401, any ideas?</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673451151,"post_id":75085284,"comment_id":132502860,"body_markdown":"&quot;Do you have any idea what causes this?&quot; - the Exception message is rather clear about this: &quot;Infinite recursion&quot;. You have some thing A in your java object that references some thing B which in turn references A again. That&#39;s nothing you can serialize.","body":"&quot;Do you have any idea what causes this?&quot; - the Exception message is rather clear about this: &quot;Infinite recursion&quot;. You have some thing A in your java object that references some thing B which in turn references A again. That&#39;s nothing you can serialize."},{"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"score":0,"creation_date":1673453189,"post_id":75085284,"comment_id":132503691,"body_markdown":"@f1sh I have added the Response class, can you see if anything is wrong or missing perhaps?","body":"@f1sh I have added the Response class, can you see if anything is wrong or missing perhaps?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673453865,"post_id":75085284,"comment_id":132503972,"body_markdown":"I think the loop is happening in the actual payload, so in the Artist class and the ones that it is composed of. For instance: An artist is in a Band, a Band has several Artists. That&#39;s already a loop if the same artist is involved.","body":"I think the loop is happening in the actual payload, so in the Artist class and the ones that it is composed of. For instance: An artist is in a Band, a Band has several Artists. That&#39;s already a loop if the same artist is involved."},{"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"score":0,"creation_date":1673454443,"post_id":75085284,"comment_id":132504235,"body_markdown":"@f1sh I can see this could have been an issue, but this I have debugged with unittesting and the _element of Response is of an artist that has a band, but the band doesn&#39;t have the artist.","body":"@f1sh I can see this could have been an issue, but this I have debugged with unittesting and the _element of Response is of an artist that has a band, but the band doesn&#39;t have the artist."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673455102,"post_id":75085284,"comment_id":132504500,"body_markdown":"but it&#39;s definitely something like that. Either keep looking or take a look at the stacktrace if there is one. Create a breakpoint in the method where the Exception came from and debug it.","body":"but it&#39;s definitely something like that. Either keep looking or take a look at the stacktrace if there is one. Create a breakpoint in the method where the Exception came from and debug it."}],"answers":[{"tags":[],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673455988,"creation_date":1673455988,"answer_id":75086490,"question_id":75085284,"body_markdown":"Found the issue. I&#39;m using incapsulation, which means I don&#39;t have setters for every field... Returning an object with setters on all fields solved the issue...","title":"Error converting to JSON respoonse with Spring Boot","body":"<p>Found the issue. I'm using incapsulation, which means I don't have setters for every field... Returning an object with setters on all fields solved the issue...</p>\n"}],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673455988,"creation_date":1673450429,"question_id":75085284,"body_markdown":"With a Java Spring Boot project, I&#39;m trying to make a response as a JSON of an object, but I&#39;m getting this error message:\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n\r\nThe object is not an object that will become an stackoverflow:\r\n[![enter image description here][1]][1]\r\n\r\nThe code that will try to return the object looks like this:\r\n\r\n    @PostMapping(_endpointDirectory + &quot;get/{id}&quot;)\r\n    public ResponseEntity&lt;Response&lt;User&gt;&gt; get(@PathVariable(name = &quot;id&quot;) long id) {\r\n        ResponseEntity&lt;Response&lt;User&gt;&gt; response = UserControllerService.get_instance().get(id);\r\n        return response;\r\n    }\r\n\r\nMy pom.xml looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;laustrup&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BandwichPersistenceDebugging&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;BandwichPersistenceDebugging&lt;/name&gt;\r\n    &lt;description&gt;BandwichPersistenceDebugging&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Standard spring --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Database persistence --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Additional --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe class it will convert is made with lombok annotations\r\n\r\n    package laustrup.bandwichpersistencedebugging.models;\r\n    \r\n    import laustrup.bandwichpersistencedebugging.utilities.Printer;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    /**\r\n     * This object is meant for containing an element from backend to frontend.\r\n     * It will also contain a message with a description of status and an error\r\n     * boolean value, to determine whether the response is an error or not.\r\n     * @param &lt;E&gt; The element that will be delivered to frontend.\r\n     */\r\n    @NoArgsConstructor @ToString\r\n    public class Response&lt;E&gt; {\r\n    \r\n        /**\r\n         * The element that is determined of the Response type.\r\n         * It is the element that will be delivered to frontend.\r\n         */\r\n        @Getter\r\n        private E _element;\r\n    \r\n        /**\r\n         * An enum that is a status title of the situation.\r\n         * Is used for determining the message.\r\n         */\r\n        @Getter\r\n        private StatusType _status;\r\n    \r\n        /**\r\n         * This will be printed to inform the enduser of the situation\r\n         * or even guide it through it.\r\n         */\r\n        private String _message;\r\n    \r\n        /**\r\n         * Will determine if it is an error or not.\r\n         * Will be false if noting is set or the status is OK.\r\n         */\r\n        @Getter\r\n        private boolean _error = false;\r\n    \r\n        public Response(E element) {\r\n            _element = element;\r\n            _status = StatusType.OK;\r\n        }\r\n    \r\n        public Response(E element, StatusType status) {\r\n            _element = element;\r\n            _status = status;\r\n            _message = set_message();\r\n        }\r\n    \r\n        /**\r\n         * Will set the message out of the status before getting it.\r\n         * Also sets the error.\r\n         * @return The described message.\r\n         */\r\n        public String get_message() {\r\n            return set_message(_status);\r\n        }\r\n    \r\n        /**\r\n         * Sets the message depending on the status.\r\n         * Also sets the error.\r\n         * @return The described message.\r\n         */\r\n        public String set_message() {\r\n            _message = new Status&lt;E&gt;(_status).describeMessageFor(_element);\r\n            _error = set_error();\r\n            return _message;\r\n        }\r\n    \r\n        /**\r\n         * Sets the message depending on the status.\r\n         * The status will be set as well.\r\n         * Also sets the error.\r\n         * @param status An enum that describes the status of the Response.\r\n         * @return The described message.\r\n         */\r\n        public String set_message(StatusType status) {\r\n            _status = status;\r\n            _error = set_error();\r\n            _message = new Status&lt;E&gt;(_status).describeMessageFor(_element, _status);\r\n            return _message;\r\n        }\r\n    \r\n        /**\r\n         * Will set the error from the status situation.\r\n         * Will only become true, if status is OK.\r\n         * @return The described error.\r\n         */\r\n        public boolean set_error() {\r\n            _error = _status == StatusType.OK;\r\n            return _error;\r\n        }\r\n    \r\n        /**\r\n         * Contains different status titles.\r\n         * Is meant to describe the message and error of the Response.\r\n         */\r\n        public enum StatusType {\r\n            OK,\r\n            UNKNOWN,\r\n            NO_CONTENT,\r\n            NOT_ACCEPTABLE,\r\n            WRONG_PASSWORD,\r\n            INVALID_PASSWORD_FORMAT\r\n        }\r\n    \r\n        /**\r\n         * A private class of Response, that will describe the message from the status.\r\n         * @param &lt;E&gt; The element type of the Response.\r\n         */\r\n        @NoArgsConstructor @ToString\r\n        private class Status&lt;E&gt; {\r\n    \r\n            /**\r\n             * The current status type of the Response.\r\n             */\r\n            @Getter @Setter\r\n            private StatusType _type;\r\n    \r\n            public Status(StatusType statusType) {\r\n                _type = statusType;\r\n            }\r\n    \r\n            /**\r\n             * Describes a message depending on the status type.\r\n             * @param element This element is being used to have values included in the message.\r\n             * @param type The type of the Response status.\r\n             * @return The described message. If switch default is reached or status is OK,\r\n             *         it will return an empty.\r\n             */\r\n            public String describeMessageFor(E element, StatusType type) {\r\n                _type = type;\r\n                return _type == StatusType.OK ? new String() : describeMessage(element);\r\n            }\r\n    \r\n            /**\r\n             * Describes a message depending on the status type.\r\n             * @param element This element is being used to have values included in the message.\r\n             * @return The described message. If switch default is reached or status is OK,\r\n             *         it will return an empty.\r\n             */\r\n            public String describeMessageFor(E element) {\r\n                return _type == StatusType.OK ? new String() : describeMessage(element);\r\n            }\r\n    \r\n            /**\r\n             * Uses a switch case to describe a message.\r\n             * @param element This element is being used to have values included in the message.\r\n             * @return The described message. If switch default is reached or status is OK,\r\n             *         it will return an empty.\r\n             */\r\n            private String describeMessage(E element) {\r\n                switch (_type) {\r\n                    case NO_CONTENT -&gt; {\r\n                        return &quot;There wasn&#39;t found any matching element...&quot;;\r\n                    }\r\n                    case NOT_ACCEPTABLE -&gt; {\r\n                        return &quot;That action is not allowed...&quot;;\r\n                    }\r\n                    case WRONG_PASSWORD -&gt; {\r\n                        return &quot;Password is wrong...&quot;;\r\n                    }\r\n                    case INVALID_PASSWORD_FORMAT -&gt; {\r\n                        return &quot;Password is not allowed... Please check the requirements.&quot;;\r\n                    }\r\n                    case UNKNOWN -&gt; {\r\n                        return &quot;Unknown issue for response...&quot;;\r\n                    }\r\n                    default -&gt; {\r\n                        Printer.get_instance().print(&quot;No message to write in response...&quot;);\r\n                        return new String();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nDo you have any idea what causes this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i6JWi.png","title":"Error converting to JSON respoonse with Spring Boot","body":"<p>With a Java Spring Boot project, I'm trying to make a response as a JSON of an object, but I'm getting this error message:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n</code></pre>\n<p>The object is not an object that will become an stackoverflow:\n<a href=\"https://i.stack.imgur.com/i6JWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6JWi.png\" alt=\"enter image description here\" /></a></p>\n<p>The code that will try to return the object looks like this:</p>\n<pre><code>@PostMapping(_endpointDirectory + &quot;get/{id}&quot;)\npublic ResponseEntity&lt;Response&lt;User&gt;&gt; get(@PathVariable(name = &quot;id&quot;) long id) {\n    ResponseEntity&lt;Response&lt;User&gt;&gt; response = UserControllerService.get_instance().get(id);\n    return response;\n}\n</code></pre>\n<p>My pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;laustrup&lt;/groupId&gt;\n&lt;artifactId&gt;BandwichPersistenceDebugging&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;name&gt;BandwichPersistenceDebugging&lt;/name&gt;\n&lt;description&gt;BandwichPersistenceDebugging&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!-- Standard spring --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Database persistence --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Additional --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Testing --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The class it will convert is made with lombok annotations</p>\n<pre><code>package laustrup.bandwichpersistencedebugging.models;\n\nimport laustrup.bandwichpersistencedebugging.utilities.Printer;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n/**\n * This object is meant for containing an element from backend to frontend.\n * It will also contain a message with a description of status and an error\n * boolean value, to determine whether the response is an error or not.\n * @param &lt;E&gt; The element that will be delivered to frontend.\n */\n@NoArgsConstructor @ToString\npublic class Response&lt;E&gt; {\n\n    /**\n     * The element that is determined of the Response type.\n     * It is the element that will be delivered to frontend.\n     */\n    @Getter\n    private E _element;\n\n    /**\n     * An enum that is a status title of the situation.\n     * Is used for determining the message.\n     */\n    @Getter\n    private StatusType _status;\n\n    /**\n     * This will be printed to inform the enduser of the situation\n     * or even guide it through it.\n     */\n    private String _message;\n\n    /**\n     * Will determine if it is an error or not.\n     * Will be false if noting is set or the status is OK.\n     */\n    @Getter\n    private boolean _error = false;\n\n    public Response(E element) {\n        _element = element;\n        _status = StatusType.OK;\n    }\n\n    public Response(E element, StatusType status) {\n        _element = element;\n        _status = status;\n        _message = set_message();\n    }\n\n    /**\n     * Will set the message out of the status before getting it.\n     * Also sets the error.\n     * @return The described message.\n     */\n    public String get_message() {\n        return set_message(_status);\n    }\n\n    /**\n     * Sets the message depending on the status.\n     * Also sets the error.\n     * @return The described message.\n     */\n    public String set_message() {\n        _message = new Status&lt;E&gt;(_status).describeMessageFor(_element);\n        _error = set_error();\n        return _message;\n    }\n\n    /**\n     * Sets the message depending on the status.\n     * The status will be set as well.\n     * Also sets the error.\n     * @param status An enum that describes the status of the Response.\n     * @return The described message.\n     */\n    public String set_message(StatusType status) {\n        _status = status;\n        _error = set_error();\n        _message = new Status&lt;E&gt;(_status).describeMessageFor(_element, _status);\n        return _message;\n    }\n\n    /**\n     * Will set the error from the status situation.\n     * Will only become true, if status is OK.\n     * @return The described error.\n     */\n    public boolean set_error() {\n        _error = _status == StatusType.OK;\n        return _error;\n    }\n\n    /**\n     * Contains different status titles.\n     * Is meant to describe the message and error of the Response.\n     */\n    public enum StatusType {\n        OK,\n        UNKNOWN,\n        NO_CONTENT,\n        NOT_ACCEPTABLE,\n        WRONG_PASSWORD,\n        INVALID_PASSWORD_FORMAT\n    }\n\n    /**\n     * A private class of Response, that will describe the message from the status.\n     * @param &lt;E&gt; The element type of the Response.\n     */\n    @NoArgsConstructor @ToString\n    private class Status&lt;E&gt; {\n\n        /**\n         * The current status type of the Response.\n         */\n        @Getter @Setter\n        private StatusType _type;\n\n        public Status(StatusType statusType) {\n            _type = statusType;\n        }\n\n        /**\n         * Describes a message depending on the status type.\n         * @param element This element is being used to have values included in the message.\n         * @param type The type of the Response status.\n         * @return The described message. If switch default is reached or status is OK,\n         *         it will return an empty.\n         */\n        public String describeMessageFor(E element, StatusType type) {\n            _type = type;\n            return _type == StatusType.OK ? new String() : describeMessage(element);\n        }\n\n        /**\n         * Describes a message depending on the status type.\n         * @param element This element is being used to have values included in the message.\n         * @return The described message. If switch default is reached or status is OK,\n         *         it will return an empty.\n         */\n        public String describeMessageFor(E element) {\n            return _type == StatusType.OK ? new String() : describeMessage(element);\n        }\n\n        /**\n         * Uses a switch case to describe a message.\n         * @param element This element is being used to have values included in the message.\n         * @return The described message. If switch default is reached or status is OK,\n         *         it will return an empty.\n         */\n        private String describeMessage(E element) {\n            switch (_type) {\n                case NO_CONTENT -&gt; {\n                    return &quot;There wasn't found any matching element...&quot;;\n                }\n                case NOT_ACCEPTABLE -&gt; {\n                    return &quot;That action is not allowed...&quot;;\n                }\n                case WRONG_PASSWORD -&gt; {\n                    return &quot;Password is wrong...&quot;;\n                }\n                case INVALID_PASSWORD_FORMAT -&gt; {\n                    return &quot;Password is not allowed... Please check the requirements.&quot;;\n                }\n                case UNKNOWN -&gt; {\n                    return &quot;Unknown issue for response...&quot;;\n                }\n                default -&gt; {\n                    Printer.get_instance().print(&quot;No message to write in response...&quot;);\n                    return new String();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Do you have any idea what causes this?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1673456483,"post_id":75086465,"comment_id":132505022,"body_markdown":"Your root logger config defines the log level to be INFO but the &quot;child&quot; logger config for &quot;org.example&quot; locally changes that to ALL. That means all loggers have INFO level except those for &quot;org.example&quot; and its children. You should also see all log statements on the console but only those for &quot;org.example&quot; in your file due to appenders being inherited (i.e. the &quot;org.example&quot; file appender is added to the list, it doesn&#39;t replace the list). Reference: https://logging.apache.org/log4j/2.x/manual/architecture.html","body":"Your root logger config defines the log level to be INFO but the &quot;child&quot; logger config for &quot;org.example&quot; locally changes that to ALL. That means all loggers have INFO level except those for &quot;org.example&quot; and its children. You should also see all log statements on the console but only those for &quot;org.example&quot; in your file due to appenders being inherited (i.e. the &quot;org.example&quot; file appender is added to the list, it doesn&#39;t replace the list). Reference: <a href=\"https://logging.apache.org/log4j/2.x/manual/architecture.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/architecture.html</a>"},{"owner":{"account_id":7495666,"reputation":300,"user_id":6468436,"display_name":"User1751"},"score":0,"creation_date":1673511946,"post_id":75086465,"comment_id":132516898,"body_markdown":"But that is exactly what I want to achieve. In the console only the info messages should appear, and in the file all. Why do the INFO messages appear in the console although it has the level INFO. Actually this should be prevented?I see the same log statements in the file and console","body":"But that is exactly what I want to achieve. In the console only the info messages should appear, and in the file all. Why do the INFO messages appear in the console although it has the level INFO. Actually this should be prevented?I see the same log statements in the file and console"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1673513136,"post_id":75086465,"comment_id":132517271,"body_markdown":"Read my comment again and also the page I linked. There are 2 things in your configuration: logger configs and appenders. As I wrote the level in the logger config overrides the one of the root logger so all loggers that use it emit _all_ severities. Appenders are combined so the more specific logger has both - as described by the Log4j architecture. I assume what you&#39;re really after are appender thresholds, i.e. you&#39;d define on the appender or appender ref what log levels to accept, e.g. `&lt;AppenderRef ref=&quot;Console&quot; level=&quot;INFO&quot;/&gt;`","body":"Read my comment again and also the page I linked. There are 2 things in your configuration: logger configs and appenders. As I wrote the level in the logger config overrides the one of the root logger so all loggers that use it emit <i>all</i> severities. Appenders are combined so the more specific logger has both - as described by the Log4j architecture. I assume what you&#39;re really after are appender thresholds, i.e. you&#39;d define on the appender or appender ref what log levels to accept, e.g. <code>&lt;AppenderRef ref=&quot;Console&quot; level=&quot;INFO&quot;&#47;&gt;</code>"},{"owner":{"account_id":7495666,"reputation":300,"user_id":6468436,"display_name":"User1751"},"score":0,"creation_date":1673540718,"post_id":75086465,"comment_id":132527284,"body_markdown":"Sorry, I read through the page. I understood now that loggers and root are added and NOT replaced. However, I still do not understand why a TRACE message appears in the console. The ROOT level should filter for INFO and therefore ignore TRACE. The file and the console have exactly the same output","body":"Sorry, I read through the page. I understood now that loggers and root are added and NOT replaced. However, I still do not understand why a TRACE message appears in the console. The ROOT level should filter for INFO and therefore ignore TRACE. The file and the console have exactly the same output"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1673551248,"post_id":75086465,"comment_id":132530779,"body_markdown":"When you log a message the log level filtering is performed only **once** (so root&#39;s level is not checked). To check the level every time a message is handed over to a parent logger, you can use a [`ThresholdFilter`](https://logging.apache.org/log4j/2.x/manual/filters.html#ThresholdFilter) inside the `&lt;Logger&gt;` and `&lt;Root&gt;` elements.","body":"When you log a message the log level filtering is performed only <b>once</b> (so root&#39;s level is not checked). To check the level every time a message is handed over to a parent logger, you can use a <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#ThresholdFilter\" rel=\"nofollow noreferrer\"><code>ThresholdFilter</code></a> inside the <code>&lt;Logger&gt;</code> and <code>&lt;Root&gt;</code> elements."},{"owner":{"account_id":7495666,"reputation":300,"user_id":6468436,"display_name":"User1751"},"score":0,"creation_date":1673556358,"post_id":75086465,"comment_id":132532229,"body_markdown":"Thank you, I did not know that. I have never read somewhere. But now it makes sense","body":"Thank you, I did not know that. I have never read somewhere. But now it makes sense"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673941611,"post_id":75086465,"comment_id":132603159,"body_markdown":"Also, as I tried to explain above, the TRACE seems to be originating from the &quot;org.example&quot; logger or one if its children so they forward _all_ messages to the appenders. So you need to filter either at the appender ref level or use the threshold filter Piotr suggested.","body":"Also, as I tried to explain above, the TRACE seems to be originating from the &quot;org.example&quot; logger or one if its children so they forward <i>all</i> messages to the appenders. So you need to filter either at the appender ref level or use the threshold filter Piotr suggested."},{"owner":{"account_id":7495666,"reputation":300,"user_id":6468436,"display_name":"User1751"},"score":0,"creation_date":1674026926,"post_id":75086465,"comment_id":132624481,"body_markdown":"Thank you for writing again. I thought I understood the inheritance in the logger. I still don&#39;t understand why the ROOT logger sends something to the Appenders, although its level is clearly limited to INFO. First comes the org.example and after that the ROOT level","body":"Thank you for writing again. I thought I understood the inheritance in the logger. I still don&#39;t understand why the ROOT logger sends something to the Appenders, although its level is clearly limited to INFO. First comes the org.example and after that the ROOT level"}],"owner":{"account_id":7495666,"reputation":300,"user_id":6468436,"display_name":"User1751"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673455845,"creation_date":1673455845,"question_id":75086465,"body_markdown":"I have a very simple setup here. I want only the INFO messages to appear in the console. DEBUG and TRACE should only appear in the file. Why do I still have all messages in the console?\r\nThis is the Output\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/stjAe.png\r\n\r\nLog4j2xmlFile:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;basePath&quot;&gt;target/logs&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${basePath}/${date:yyyy-MM-dd}/all.trace.log&quot; filePattern=&quot;${basePath}/$${date:yyyy-MM-dd}/all.trace-%d{yyyy-MM-dd}-%i.log&quot; ignoreExceptions=&quot;false&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%highlight{%d{ISO8601} [%t] %-5level: %msg%n%throwable}{FATAL=Magenta, ERROR=Bright red, WARN=Yellow, INFO=Blue, DEBUG=Cyan, TRACE=Green}&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; ignoreExceptions=&quot;false&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%highlight{%d{ISO8601} [%t] %-5level: %msg%n%throwable}{FATAL=Magenta, ERROR=Bright red, WARN=Yellow, INFO=Blue, DEBUG=Cyan, TRACE=Green}&quot; disableAnsi=&quot;false&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.example&quot;  level=&quot;ALL&quot; additivity=&quot;true&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot;  level=&quot;ALL&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nMy Class\r\n\r\n    package org.example;\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n\r\n    public class Main {\r\n\r\n    private static final Logger logger = LogManager.getLogger(Main.class);\r\n\r\n     public static void main(String[] args) {\r\n         logger.debug(&quot;Hello debug&quot;);\r\n         logger.info(&quot;Hello info&quot;);\r\n         logger.trace(&quot;Hello trace&quot;);\r\n     }\r\n    }\r\n\r\nOutput Console\r\n\r\n    2023-01-11T17:37:46,731 [main] DEBUG: Hello debug\r\n    2023-01-11T17:37:46,736 [main] INFO : Hello info\r\n    2023-01-11T17:37:46,736 [main] TRACE: Hello trace\r\n\r\nOutput File\r\n\r\n    2023-01-11T17:37:46,731 [main] DEBUG: Hello debug\r\n    2023-01-11T17:37:46,736 [main] INFO : Hello info\r\n    2023-01-11T17:37:46,736 [main] TRACE: Hello trace\r\n\r\n\r\n","title":"Why are DEBUG and TRACE messages printed when only INFO messages should be printed?","body":"<p>I have a very simple setup here. I want only the INFO messages to appear in the console. DEBUG and TRACE should only appear in the file. Why do I still have all messages in the console?\nThis is the Output\n<a href=\"https://i.stack.imgur.com/stjAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stjAe.png\" alt=\"enter image description here\" /></a></p>\n<p>Log4j2xmlFile:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n&lt;Properties&gt;\n    &lt;Property name=&quot;basePath&quot;&gt;target/logs&lt;/Property&gt;\n&lt;/Properties&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${basePath}/${date:yyyy-MM-dd}/all.trace.log&quot; filePattern=&quot;${basePath}/$${date:yyyy-MM-dd}/all.trace-%d{yyyy-MM-dd}-%i.log&quot; ignoreExceptions=&quot;false&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%highlight{%d{ISO8601} [%t] %-5level: %msg%n%throwable}{FATAL=Magenta, ERROR=Bright red, WARN=Yellow, INFO=Blue, DEBUG=Cyan, TRACE=Green}&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n    &lt;/RollingFile&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; ignoreExceptions=&quot;false&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%highlight{%d{ISO8601} [%t] %-5level: %msg%n%throwable}{FATAL=Magenta, ERROR=Bright red, WARN=Yellow, INFO=Blue, DEBUG=Cyan, TRACE=Green}&quot; disableAnsi=&quot;false&quot;/&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n\n&lt;Loggers&gt;\n    &lt;Logger name=&quot;org.example&quot;  level=&quot;ALL&quot; additivity=&quot;true&quot;&gt;\n        &lt;AppenderRef ref=&quot;RollingFile&quot;  level=&quot;ALL&quot; /&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=&quot;INFO&quot;&gt;\n        &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>My Class</p>\n<pre><code>package org.example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class Main {\n\nprivate static final Logger logger = LogManager.getLogger(Main.class);\n\n public static void main(String[] args) {\n     logger.debug(&quot;Hello debug&quot;);\n     logger.info(&quot;Hello info&quot;);\n     logger.trace(&quot;Hello trace&quot;);\n }\n}\n</code></pre>\n<p>Output Console</p>\n<pre><code>2023-01-11T17:37:46,731 [main] DEBUG: Hello debug\n2023-01-11T17:37:46,736 [main] INFO : Hello info\n2023-01-11T17:37:46,736 [main] TRACE: Hello trace\n</code></pre>\n<p>Output File</p>\n<pre><code>2023-01-11T17:37:46,731 [main] DEBUG: Hello debug\n2023-01-11T17:37:46,736 [main] INFO : Hello info\n2023-01-11T17:37:46,736 [main] TRACE: Hello trace\n</code></pre>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":7952,"reputation":2184,"user_id":14026,"accept_rate":89,"display_name":"matt lohkamp"},"score":0,"creation_date":1267145580,"post_id":2338790,"comment_id":2310277,"body_markdown":"not knowing anything about java, I know you could do this with regex. first strip out all the characters that aren&#39;t 0-9, then parseInt whatever is left. Is that the sort of thing you&#39;re looking for?","body":"not knowing anything about java, I know you could do this with regex. first strip out all the characters that aren&#39;t 0-9, then parseInt whatever is left. Is that the sort of thing you&#39;re looking for?"}],"answers":[{"comments":[{"owner":{"account_id":17105,"reputation":70822,"user_id":37947,"accept_rate":98,"display_name":"DisgruntledGoat"},"score":0,"creation_date":1267196732,"post_id":2338807,"comment_id":2314362,"body_markdown":"Thanks, I did it using regex. I thought there might be a built-in method somewhere though.","body":"Thanks, I did it using regex. I thought there might be a built-in method somewhere though."}],"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1267145534,"creation_date":1267145534,"answer_id":2338807,"question_id":2338790,"body_markdown":"Unless you&#39;re talking about base 16 numbers (for which there&#39;s a method to parse as Hex), you need to explicitly separate out the part that you are interested in, and then convert it. After all, what would be the semantics of something like 23e44e11d in base 10?\r\n\r\nRegular expressions could do the trick if you know for sure that you only have one number. Java has a built in regular expression parser. \r\n \r\nIf, on the other hands, your goal is to concatenate all the digits and dump the alphas, then that is fairly straightforward to do by iterating character by character to build a string with StringBuilder, and then parsing that one.\r\n","title":"Get int from String, also containing letters, in Java","body":"<p>Unless you're talking about base 16 numbers (for which there's a method to parse as Hex), you need to explicitly separate out the part that you are interested in, and then convert it. After all, what would be the semantics of something like 23e44e11d in base 10?</p>\n\n<p>Regular expressions could do the trick if you know for sure that you only have one number. Java has a built in regular expression parser. </p>\n\n<p>If, on the other hands, your goal is to concatenate all the digits and dump the alphas, then that is fairly straightforward to do by iterating character by character to build a string with StringBuilder, and then parsing that one.</p>\n"},{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":3,"creation_date":1267146741,"post_id":2338814,"comment_id":2310384,"body_markdown":"The algorithm is correct, but you should use StringBuilder to append to result.","body":"The algorithm is correct, but you should use StringBuilder to append to result."},{"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"score":3,"creation_date":1267147056,"post_id":2338814,"comment_id":2310411,"body_markdown":"Agreed.  I guess one can&#39;t always be perfect when typing in haste.","body":"Agreed.  I guess one can&#39;t always be perfect when typing in haste."},{"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"score":0,"creation_date":1471608778,"post_id":2338814,"comment_id":65426951,"body_markdown":"Better not be so hasty then. Concatenation in a cycle is one of the worst things you could possibly do with strings. And it is still not fixed after 6 years.","body":"Better not be so hasty then. Concatenation in a cycle is one of the worst things you could possibly do with strings. And it is still not fixed after 6 years."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1489407669,"post_id":2338814,"comment_id":72642089,"body_markdown":"If only there was an [edit](http://stackoverflow.com/posts/2338814/edit) link....","body":"If only there was an <a href=\"http://stackoverflow.com/posts/2338814/edit\">edit</a> link...."}],"tags":[],"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"comment_count":4,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1267145632,"creation_date":1267145632,"answer_id":2338814,"question_id":2338790,"body_markdown":"Perhaps get the size of the string and loop through each character and call isDigit() on each character.  If it is a digit, then add it to a string that only collects the numbers before calling Integer.parseInt().\r\n\r\nSomething like:\r\n\r\n        String something = &quot;423e&quot;;\r\n        int length = something.length();\r\n        String result = &quot;&quot;;\r\n        for (int i = 0; i &lt; length; i++) {\r\n            Character character = something.charAt(i);\r\n            if (Character.isDigit(character)) {\r\n                result += character;\r\n            }\r\n        }\r\n        System.out.println(&quot;result is: &quot; + result);","title":"Get int from String, also containing letters, in Java","body":"<p>Perhaps get the size of the string and loop through each character and call isDigit() on each character.  If it is a digit, then add it to a string that only collects the numbers before calling Integer.parseInt().</p>\n\n<p>Something like:</p>\n\n<pre><code>    String something = \"423e\";\n    int length = something.length();\n    String result = \"\";\n    for (int i = 0; i &lt; length; i++) {\n        Character character = something.charAt(i);\n        if (Character.isDigit(character)) {\n            result += character;\n        }\n    }\n    System.out.println(\"result is: \" + result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":92,"is_accepted":true,"score":92,"last_activity_date":1267146559,"creation_date":1267145682,"answer_id":2338819,"question_id":2338790,"body_markdown":"Replace all non-digit with blank: the remaining string contains only digits.\r\n\r\n    Integer.parseInt(s.replaceAll(&quot;[\\\\D]&quot;, &quot;&quot;))\r\n\r\nThis will also remove non-digits inbetween digits, so `&quot;x1x1x&quot;` becomes `11`.\r\n\r\nIf you need to confirm that the string consists of a sequence of digits (at least one) possibly followed a letter, then use this:\r\n\r\n    s.matches(&quot;[\\\\d]+[A-Za-z]?&quot;)\r\n","title":"Get int from String, also containing letters, in Java","body":"<p>Replace all non-digit with blank: the remaining string contains only digits.</p>\n\n<pre><code>Integer.parseInt(s.replaceAll(\"[\\\\D]\", \"\"))\n</code></pre>\n\n<p>This will also remove non-digits inbetween digits, so <code>\"x1x1x\"</code> becomes <code>11</code>.</p>\n\n<p>If you need to confirm that the string consists of a sequence of digits (at least one) possibly followed a letter, then use this:</p>\n\n<pre><code>s.matches(\"[\\\\d]+[A-Za-z]?\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":342588,"reputation":1620,"user_id":673826,"accept_rate":69,"display_name":"mlt"},"score":1,"creation_date":1461697814,"post_id":2338828,"comment_id":61314070,"body_markdown":"There is also [getIntegerInstance()](https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html#getIntegerInstance%28%29)","body":"There is also <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html#getIntegerInstance%28%29\" rel=\"nofollow noreferrer\">getIntegerInstance()</a>"}],"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1267145878,"creation_date":1267145878,"answer_id":2338828,"question_id":2338790,"body_markdown":"The NumberFormat class will only parse the string until it reaches a non-parseable character:\r\n\r\n    ((Number)NumberFormat.getInstance().parse(&quot;123e&quot;)).intValue()\r\n\r\nwill hence return 123.","title":"Get int from String, also containing letters, in Java","body":"<p>The NumberFormat class will only parse the string until it reaches a non-parseable character:</p>\n\n<pre><code>((Number)NumberFormat.getInstance().parse(\"123e\")).intValue()\n</code></pre>\n\n<p>will hence return 123.</p>\n"},{"comments":[{"owner":{"account_id":322637,"reputation":3332,"user_id":642160,"accept_rate":64,"display_name":"benkc"},"score":0,"creation_date":1377046055,"post_id":2338849,"comment_id":26933481,"body_markdown":"Pretty sure that last line should be `res = res * 10 + c - &#39;0&#39;;`","body":"Pretty sure that last line should be <code>res = res * 10 + c - &#39;0&#39;;</code>"}],"tags":[],"owner":{"account_id":8372,"reputation":225292,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1377049282,"creation_date":1267146179,"answer_id":2338849,"question_id":2338790,"body_markdown":"Just go through the string, building up an int as usual, but ignore non-number characters:\r\n\r\n    int res = 0;\r\n    for (int i=0; i &lt; str.length(); i++) {\r\n        char c = s.charAt(i);\r\n        if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;) continue;\r\n        res = res * 10 + (c - &#39;0&#39;);\r\n    }","title":"Get int from String, also containing letters, in Java","body":"<p>Just go through the string, building up an int as usual, but ignore non-number characters:</p>\n\n<pre><code>int res = 0;\nfor (int i=0; i &lt; str.length(); i++) {\n    char c = s.charAt(i);\n    if (c &lt; '0' || c &gt; '9') continue;\n    res = res * 10 + (c - '0');\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":149298,"reputation":366,"user_id":361681,"display_name":"Diogo Kollross"},"score":1,"creation_date":1425307108,"post_id":15919034,"comment_id":45896651,"body_markdown":"The [Scanner](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html) class assumes whitespace as the delimiter between the tokens, but that can be changed to any regex like in `new Scanner(&quot;456e&quot;).useDelimiter(&quot;\\\\D&quot;).nextInt()`.","body":"The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a> class assumes whitespace as the delimiter between the tokens, but that can be changed to any regex like in <code>new Scanner(&quot;456e&quot;).useDelimiter(&quot;\\\\D&quot;).nextInt()</code>."}],"tags":[],"owner":{"account_id":2318185,"reputation":2343,"user_id":2034697,"accept_rate":85,"display_name":"Soheil Setayeshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1365577150,"creation_date":1365577150,"answer_id":15919034,"question_id":2338790,"body_markdown":"You can also use Scanner :\r\n\r\n    Scanner s = new Scanner(MyString);\r\n    s.nextInt();","title":"Get int from String, also containing letters, in Java","body":"<p>You can also use Scanner :</p>\n\n<pre><code>Scanner s = new Scanner(MyString);\ns.nextInt();\n</code></pre>\n"}],"owner":{"account_id":17105,"reputation":70822,"user_id":37947,"accept_rate":98,"display_name":"DisgruntledGoat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175121,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":2338819,"answer_count":6,"score":37,"last_activity_date":1673455564,"creation_date":1267145393,"question_id":2338790,"body_markdown":"How can I get the int value from a string such as `423e` - i.e. a string that contains a number but also maybe a letter?\r\n\r\n`Integer.parseInt()` fails since the string must be entirely a number.","title":"Get int from String, also containing letters, in Java","body":"<p>How can I get the int value from a string such as <code>423e</code> - i.e. a string that contains a number but also maybe a letter?</p>\n\n<p><code>Integer.parseInt()</code> fails since the string must be entirely a number.</p>\n"},{"tags":["java","maven","command-line","java-11"],"owner":{"account_id":329854,"reputation":7189,"user_id":653622,"accept_rate":84,"display_name":"Sreedhar Danturthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673455454,"creation_date":1673455454,"question_id":75086381,"body_markdown":"While I try executing Maven project using any of the commands \r\n\r\n&gt; maven clean install\r\n&gt; \r\n&gt; \r\n&gt; maven compile\r\n\r\n from command prompt I&#39;m getting below error\r\n\r\n&gt; The JAVA_HOME environment variable is not defined correctly, so Apache\r\n&gt; Maven cannot be started. JAVA_HOME is set to &quot;C:\\Program\r\n&gt; Files\\AdoptOpenJDK\\jdk-11.0.8.10&quot;, but &quot;%JAVA_HOME%\\bin\\java.exe&quot; does\r\n&gt; not exist.","title":"Error while executing Maven project from Command prompt","body":"<p>While I try executing Maven project using any of the commands</p>\n<blockquote>\n<p>maven clean install</p>\n<p>maven compile</p>\n</blockquote>\n<p>from command prompt I'm getting below error</p>\n<blockquote>\n<p>The JAVA_HOME environment variable is not defined correctly, so Apache\nMaven cannot be started. JAVA_HOME is set to &quot;C:\\Program\nFiles\\AdoptOpenJDK\\jdk-11.0.8.10&quot;, but &quot;%JAVA_HOME%\\bin\\java.exe&quot; does\nnot exist.</p>\n</blockquote>\n"},{"tags":["java","loops","do-while"],"comments":[{"owner":{"account_id":1935339,"reputation":741,"user_id":1743735,"display_name":"apoteet"},"score":1,"creation_date":1673455742,"post_id":75086347,"comment_id":132504742,"body_markdown":"You haven&#39;t actually said what&#39;s wrong, but one immediate issue i see is that you increment counter inside the user prompt loop. So if a user tries to enter a single letter more than 5 times and then 5 letters, they lose after one &#39;guess&#39;","body":"You haven&#39;t actually said what&#39;s wrong, but one immediate issue i see is that you increment counter inside the user prompt loop. So if a user tries to enter a single letter more than 5 times and then 5 letters, they lose after one &#39;guess&#39;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673455961,"post_id":75086347,"comment_id":132504825,"body_markdown":"Don&#39;t put inside the loop what doesn&#39;t need to be, i.e. `String word = &quot;tyler&quot;;` of ` System.out.println(&quot;Press enter to begin&quot;);` etc. You should also end the loop when the user found the word, either by checking for the win condition in the `while(...)` as well or checking inside the body and using `break` to end the loop. Finally, before printing &quot;You lost!&quot; check the user still had a try - you might need to rearrange this to make it easier, e.g. rename `counter` to `attempts` or so, initialize it with 5, decrement on each attempt and change the condition to `attempts &gt; 0`.","body":"Don&#39;t put inside the loop what doesn&#39;t need to be, i.e. <code>String word = &quot;tyler&quot;;</code> of ` System.out.println(&quot;Press enter to begin&quot;);` etc. You should also end the loop when the user found the word, either by checking for the win condition in the <code>while(...)</code> as well or checking inside the body and using <code>break</code> to end the loop. Finally, before printing &quot;You lost!&quot; check the user still had a try - you might need to rearrange this to make it easier, e.g. rename <code>counter</code> to <code>attempts</code> or so, initialize it with 5, decrement on each attempt and change the condition to <code>attempts &gt; 0</code>."}],"owner":{"account_id":26786568,"reputation":11,"user_id":20380666,"display_name":"Random user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673455279,"creation_date":1673455279,"question_id":75086347,"body_markdown":"I am creating a wordle project, where the word is set to &quot;tyler&quot;. The user&#39;s guess is saved as a string, as is the wordle word, &quot;tyler&quot;. Both the strings are saved as characters in an array, then the program checks whether each character in the arrays match.\r\nMy code is here:\r\n```\r\n\r\n// Nelson&#39;s work\r\nimport java.util.Scanner;\r\n\r\nclass FinalProject {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        // Nelson&#39;s work\r\n        int counter = 0;\r\n        do {\r\n            String word = &quot;tyler&quot;;\r\n            System.out.println(&quot;Press enter to begin&quot;);\r\n            // Saves userInput as a string\r\n            String userInput = input.nextLine();\r\n            while (userInput.length() != 5) {\r\n                System.out.println(&quot;Enter a 5 letter word: &quot;);\r\n                userInput = input.nextLine();\r\n                counter++;\r\n            }\r\n            // End of Nelson&#39;s work\r\n            // Tyler&#39;s work\r\n            // Creates an array of length equal to string length\r\n            char[] ch = new char[userInput.length()];\r\n\r\n            // For loop to put characters into array\r\n            for (int i = 0; i &lt; userInput.length(); i++) {\r\n                ch[i] = userInput.charAt(i);\r\n            }\r\n            // &#39;For each&#39; loop to print each element of the array\r\n            for (char c : ch) {\r\n                System.out.println(c);\r\n            }\r\n            // Creates an array of the size of the wordle word\r\n            char[] wordle = new char[word.length()];\r\n\r\n            System.out.println(&quot; &quot;);\r\n            // Characters of string wordle word which is &#39;tyler&#39; are in an array\r\n            for (int i = 0; i &lt; word.length(); i++) {\r\n                wordle[i] = word.charAt(i);\r\n                // System.out.println(wordle[i]);\r\n                if (wordle[i] == ch[i]) {\r\n                    System.out.println(&quot;Letter &quot; + ch[i] + &quot; is correct&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Letter &quot; + ch[i] + &quot; is not correct&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot; &quot;);\r\n\r\n        } while (counter &lt;= 5);\r\n\r\n        System.out.println(&quot;You lost!&quot;);\r\n\r\n        // End of Tyler&#39;s work\r\n\r\n    }\r\n\r\n}\r\n```\r\nI am trying to make a do while loop that reprompts the user for a word, giving the user 5 tries, and the program would end if A) the user has had all 5 tries, or B) the user gets the word right. Please help with the loop, or if there is additional code I should try.\r\n\r\nI tried to put the variables inside the dowhile loop, but one of the variables is from a scanner (it is user input), but I need that inside the do while loop so it reprompts the user while the counter is less than or equal to 5.","title":"Need help ending a program with a do while loop","body":"<p>I am creating a wordle project, where the word is set to &quot;tyler&quot;. The user's guess is saved as a string, as is the wordle word, &quot;tyler&quot;. Both the strings are saved as characters in an array, then the program checks whether each character in the arrays match.\nMy code is here:</p>\n<pre><code>\n// Nelson's work\nimport java.util.Scanner;\n\nclass FinalProject {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n\n        // Nelson's work\n        int counter = 0;\n        do {\n            String word = &quot;tyler&quot;;\n            System.out.println(&quot;Press enter to begin&quot;);\n            // Saves userInput as a string\n            String userInput = input.nextLine();\n            while (userInput.length() != 5) {\n                System.out.println(&quot;Enter a 5 letter word: &quot;);\n                userInput = input.nextLine();\n                counter++;\n            }\n            // End of Nelson's work\n            // Tyler's work\n            // Creates an array of length equal to string length\n            char[] ch = new char[userInput.length()];\n\n            // For loop to put characters into array\n            for (int i = 0; i &lt; userInput.length(); i++) {\n                ch[i] = userInput.charAt(i);\n            }\n            // 'For each' loop to print each element of the array\n            for (char c : ch) {\n                System.out.println(c);\n            }\n            // Creates an array of the size of the wordle word\n            char[] wordle = new char[word.length()];\n\n            System.out.println(&quot; &quot;);\n            // Characters of string wordle word which is 'tyler' are in an array\n            for (int i = 0; i &lt; word.length(); i++) {\n                wordle[i] = word.charAt(i);\n                // System.out.println(wordle[i]);\n                if (wordle[i] == ch[i]) {\n                    System.out.println(&quot;Letter &quot; + ch[i] + &quot; is correct&quot;);\n                } else {\n                    System.out.println(&quot;Letter &quot; + ch[i] + &quot; is not correct&quot;);\n                }\n            }\n            System.out.println(&quot; &quot;);\n\n        } while (counter &lt;= 5);\n\n        System.out.println(&quot;You lost!&quot;);\n\n        // End of Tyler's work\n\n    }\n\n}\n</code></pre>\n<p>I am trying to make a do while loop that reprompts the user for a word, giving the user 5 tries, and the program would end if A) the user has had all 5 tries, or B) the user gets the word right. Please help with the loop, or if there is additional code I should try.</p>\n<p>I tried to put the variables inside the dowhile loop, but one of the variables is from a scanner (it is user input), but I need that inside the do while loop so it reprompts the user while the counter is less than or equal to 5.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1359947542,"post_id":14679837,"comment_id":20522993,"body_markdown":"Make sure you run the `Server` class in your Eclipse or in your NetBeans only. Otherwise, if you want to run both servers, change the port number.","body":"Make sure you run the <code>Server</code> class in your Eclipse or in your NetBeans only. Otherwise, if you want to run both servers, change the port number."},{"owner":{"account_id":1295086,"reputation":3100,"user_id":1246356,"accept_rate":81,"display_name":"nairware"},"score":0,"creation_date":1359948005,"post_id":14679837,"comment_id":20523070,"body_markdown":"Where am I supposed to run the Client app if not within Netbeans?  Also, what do you mean by both servers?  There is only one Server app.","body":"Where am I supposed to run the Client app if not within Netbeans?  Also, what do you mean by both servers?  There is only one Server app."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1359948155,"post_id":14679837,"comment_id":20523096,"body_markdown":"Which class are you running on eclipse and which one on netbeans?","body":"Which class are you running on eclipse and which one on netbeans?"},{"owner":{"account_id":1295086,"reputation":3100,"user_id":1246356,"accept_rate":81,"display_name":"nairware"},"score":1,"creation_date":1359948281,"post_id":14679837,"comment_id":20523114,"body_markdown":"No no...I was trying to develop it in Netbeans (both classes).  When I ran into trouble, I flipped over to Eclipse, developed both classes there, and I have no problems.  So my problem is...within Netbeans, how can I successfully run both classes/apps?  If you look at the code, once the server app is running, the client app can startup and interact with the server app using sockets.","body":"No no...I was trying to develop it in Netbeans (both classes).  When I ran into trouble, I flipped over to Eclipse, developed both classes there, and I have no problems.  So my problem is...within Netbeans, how can I successfully run both classes/apps?  If you look at the code, once the server app is running, the client app can startup and interact with the server app using sockets."}],"answers":[{"comments":[{"owner":{"account_id":1295086,"reputation":3100,"user_id":1246356,"accept_rate":81,"display_name":"nairware"},"score":0,"creation_date":1359947873,"post_id":14679872,"comment_id":20523050,"body_markdown":"I have tried various port numbers with the same result.  Also, my OS is linux.","body":"I have tried various port numbers with the same result.  Also, my OS is linux."}],"tags":[],"owner":{"account_id":2145090,"reputation":624,"user_id":1902886,"display_name":"William Feirie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359947554,"creation_date":1359947554,"answer_id":14679872,"question_id":14679837,"body_markdown":"If you write this in Windows OS,you can use &quot;netstat -nao&quot; to see which process use the 9999 port.If it is some unimportant process,you can kill this process.Otherwise you can change the port of the pragram.","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>If you write this in Windows OS,you can use \"netstat -nao\" to see which process use the 9999 port.If it is some unimportant process,you can kill this process.Otherwise you can change the port of the pragram.</p>\n"},{"comments":[{"owner":{"account_id":1295086,"reputation":3100,"user_id":1246356,"accept_rate":81,"display_name":"nairware"},"score":0,"creation_date":1359948830,"post_id":14679933,"comment_id":20523200,"body_markdown":"I figured out how to manually kill the processes in Netbeans, so I do not think that is it.  In fact, I even closed the IDE completely and restarted.  Perhaps I am not starting my apps correctly?","body":"I figured out how to manually kill the processes in Netbeans, so I do not think that is it.  In fact, I even closed the IDE completely and restarted.  Perhaps I am not starting my apps correctly?"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359948199,"creation_date":1359948199,"answer_id":14679933,"question_id":14679837,"body_markdown":"The problem is due to the fact that you left one instance of your server running and then started another one.","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>The problem is due to the fact that you left one instance of your server running and then started another one.</p>\n"},{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1360561594,"post_id":14731944,"comment_id":20738647,"body_markdown":"Something similar occurs in Eclipse console when you run 2 or more classes with `public static void main(String[] args)`. I don&#39;t think this is an IDE problem.","body":"Something similar occurs in Eclipse console when you run 2 or more classes with <code>public static void main(String[] args)</code>. I don&#39;t think this is an IDE problem."}],"tags":[],"owner":{"account_id":1295086,"reputation":3100,"user_id":1246356,"accept_rate":81,"display_name":"nairware"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1360162407,"creation_date":1360162407,"answer_id":14731944,"question_id":14679837,"body_markdown":"The way to achieve what I want is to right-click on the particular class (ex. `Server.java`) that I want to run and select &quot;Run this file&quot;.  This enables me to run only the Server app.  Then, do the same process for the other file, `Client.java`.\r\n\r\nHowever, Netbeans is somewhat confusing/deceiving in this particular circumstance.  What Netbeans does is it runs the `Server` process, but labels that process as the name of the project (ex. MyTestNetworkingProject) and puts a run number on it, thus giving us `MyTestNetworkingProject run #1` (it actually leaves out the #1 on the first process).  Then, if I go to the Client.java file and select &quot;Run this file&quot;, it generates a second process, `MyTestNetworkingProject run #2`.  It then generates a second results window down at the bottom of the screen, as it generates these in new tabs as new processes get created.\r\n\r\nBecause of the nature of my specific code, what I wanted to see in my results window to confirm that my application was working was I wanted to observe the Server.java results window (which in this case is `MyTestNetworkingProject run #1`).  Given my exact sequence of steps outlined above of running the different files, run #2 is the last run process and thus the tab on top, covering the run #1 tab.  I can click on run #1 and see the results I was hoping to see in the console (&quot;Hello server&quot;), but I just have to know/remember that `MyTestNetworkingProject run #1` represents the Server app and not the Client app.\r\n\r\nUncool, IMO.","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>The way to achieve what I want is to right-click on the particular class (ex. <code>Server.java</code>) that I want to run and select \"Run this file\".  This enables me to run only the Server app.  Then, do the same process for the other file, <code>Client.java</code>.</p>\n\n<p>However, Netbeans is somewhat confusing/deceiving in this particular circumstance.  What Netbeans does is it runs the <code>Server</code> process, but labels that process as the name of the project (ex. MyTestNetworkingProject) and puts a run number on it, thus giving us <code>MyTestNetworkingProject run #1</code> (it actually leaves out the #1 on the first process).  Then, if I go to the Client.java file and select \"Run this file\", it generates a second process, <code>MyTestNetworkingProject run #2</code>.  It then generates a second results window down at the bottom of the screen, as it generates these in new tabs as new processes get created.</p>\n\n<p>Because of the nature of my specific code, what I wanted to see in my results window to confirm that my application was working was I wanted to observe the Server.java results window (which in this case is <code>MyTestNetworkingProject run #1</code>).  Given my exact sequence of steps outlined above of running the different files, run #2 is the last run process and thus the tab on top, covering the run #1 tab.  I can click on run #1 and see the results I was hoping to see in the console (\"Hello server\"), but I just have to know/remember that <code>MyTestNetworkingProject run #1</code> represents the Server app and not the Client app.</p>\n\n<p>Uncool, IMO.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1550481692,"post_id":50440855,"comment_id":96269899,"body_markdown":"It may indeed work for you, despite the obvious socket leak, but it doesn&#39;t answer the question in any way.","body":"It may indeed work for you, despite the obvious socket leak, but it doesn&#39;t answer the question in any way."}],"tags":[],"owner":{"account_id":10487804,"reputation":137,"user_id":7875419,"display_name":"Hansa Tharuka"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1526865611,"creation_date":1526865611,"answer_id":50440855,"question_id":14679837,"body_markdown":"Server.java\r\n\r\n    public class SocServer {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                ServerSocket server = new ServerSocket(5001);\r\n                Socket client = server.accept();\r\n                DataOutputStream os = new DataOutputStream(client.getOutputStream());\r\n                os.writeBytes(&quot;Hello Sockets\\n&quot;);\r\n                client.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nClient.java\r\n\r\n    public class SocClient {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Socket socClient = new Socket(&quot;localhost&quot;, 5001);\r\n                InputStream is = socClient.getInputStream();\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n                String receivedData = br.readLine();\r\n                System.out.println(&quot;Received Data: &quot; + receivedData);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nrefer above code and it works for me..  ","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>Server.java</p>\n\n<pre><code>public class SocServer {\n\n    public static void main(String[] args) {\n        try {\n            ServerSocket server = new ServerSocket(5001);\n            Socket client = server.accept();\n            DataOutputStream os = new DataOutputStream(client.getOutputStream());\n            os.writeBytes(\"Hello Sockets\\n\");\n            client.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Client.java</p>\n\n<pre><code>public class SocClient {\n\n    public static void main(String[] args) {\n        try {\n            Socket socClient = new Socket(\"localhost\", 5001);\n            InputStream is = socClient.getInputStream();\n            BufferedReader br = new BufferedReader(new InputStreamReader(is));\n            String receivedData = br.readLine();\n            System.out.println(\"Received Data: \" + receivedData);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>refer above code and it works for me..  </p>\n"},{"tags":[],"owner":{"account_id":20862207,"reputation":31,"user_id":15324143,"display_name":"Xan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617777301,"creation_date":1617519307,"answer_id":66938754,"question_id":14679837,"body_markdown":"I did try the method `catch` and solved the problem.","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>I did try the method <code>catch</code> and solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":20106306,"reputation":1,"user_id":14743736,"display_name":"Aayaan Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673455096,"creation_date":1673455096,"answer_id":75086311,"question_id":14679837,"body_markdown":"I change the port address and it work for me in the Neat Beans IDE . This problem will come if we used the same port address for other one times . so to fix this error you have to change the port address and I am sure it will work","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>I change the port address and it work for me in the Neat Beans IDE . This problem will come if we used the same port address for other one times . so to fix this error you have to change the port address and I am sure it will work</p>\n"}],"owner":{"account_id":1295086,"reputation":3100,"user_id":1246356,"accept_rate":81,"display_name":"nairware"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45103,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14731944,"answer_count":6,"score":7,"last_activity_date":1673455096,"creation_date":1359947086,"question_id":14679837,"body_markdown":"On my machine, the following code compiles within Eclipse but throws an exception within Netbeans.  The error message says &quot;Exception in thread &quot;main&quot; java.net.BindException: Address already in use&quot;.\r\n\r\nWhat is the proper configuration within Netbeans to make this code compile?  It seems like the problem has to do with the fact that I have two main functions.  If I start running either one of the apps, the second will fail to start, throwing the exception posted above.\r\n\r\nServer.java\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    public class Server {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n        \r\n            Server myServ = new Server();\r\n            myServ.run();\r\n        \r\n        }\r\n    \r\n        public void run() throws Exception {\r\n        \r\n            ServerSocket mySS = new ServerSocket(9999);\r\n            Socket SS_accept = mySS.accept();\r\n        \r\n            InputStreamReader mySR = new InputStreamReader(SS_accept.getInputStream());\r\n            BufferedReader myBR = new BufferedReader(mySR);\r\n        \r\n            String temp = myBR.readLine();\r\n            System.out.println(temp);\r\n        \r\n        }\r\n    \r\n    }\r\n\r\nClient.java\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    public class Client {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n        \r\n            Client myCli = new Client();\r\n            myCli.run();\r\n        \r\n        }\r\n    \r\n        public void run() throws Exception {\r\n        \r\n            Socket mySkt = new Socket(&quot;localhost&quot;, 9999);\r\n            PrintStream myPS = new PrintStream(mySkt.getOutputStream());\r\n        \r\n            myPS.println(&quot;Hello server&quot;);\r\n        \r\n        }\r\n    \r\n    }","title":"Exception in thread &quot;main&quot; java.net.BindException: Address already in use - Error in Netbeans only","body":"<p>On my machine, the following code compiles within Eclipse but throws an exception within Netbeans.  The error message says \"Exception in thread \"main\" java.net.BindException: Address already in use\".</p>\n\n<p>What is the proper configuration within Netbeans to make this code compile?  It seems like the problem has to do with the fact that I have two main functions.  If I start running either one of the apps, the second will fail to start, throwing the exception posted above.</p>\n\n<p>Server.java</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Server {\n\n    public static void main(String[] args) throws Exception {\n\n        Server myServ = new Server();\n        myServ.run();\n\n    }\n\n    public void run() throws Exception {\n\n        ServerSocket mySS = new ServerSocket(9999);\n        Socket SS_accept = mySS.accept();\n\n        InputStreamReader mySR = new InputStreamReader(SS_accept.getInputStream());\n        BufferedReader myBR = new BufferedReader(mySR);\n\n        String temp = myBR.readLine();\n        System.out.println(temp);\n\n    }\n\n}\n</code></pre>\n\n<p>Client.java</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Client {\n\n    public static void main(String[] args) throws Exception {\n\n        Client myCli = new Client();\n        myCli.run();\n\n    }\n\n    public void run() throws Exception {\n\n        Socket mySkt = new Socket(\"localhost\", 9999);\n        PrintStream myPS = new PrintStream(mySkt.getOutputStream());\n\n        myPS.println(\"Hello server\");\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","data-structures","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":11896372,"reputation":182,"user_id":8705653,"display_name":"Fakipo"},"score":0,"creation_date":1672938161,"post_id":75020918,"comment_id":132390784,"body_markdown":"How about writing a function to delete a node. Then skipping m times using while or for loop, then call the delete function n times using another loop or till the end of linked list is reached. Also please either pass First as an argument. or use this keyword.","body":"How about writing a function to delete a node. Then skipping m times using while or for loop, then call the delete function n times using another loop or till the end of linked list is reached. Also please either pass First as an argument. or use this keyword."}],"answers":[{"tags":[],"owner":{"account_id":25958789,"reputation":3,"user_id":19675746,"display_name":"Izza Mujeeb Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673454912,"creation_date":1673454912,"answer_id":75086273,"question_id":75020918,"body_markdown":"You can either try to put an additional check of curr1!=null in the second while loop or simplify the problem.\r\n\r\nSimplifying the problem can be done by:\r\n\r\n 1. Using a for loop (m number of times) to traverse the list.\r\n 2. Using another for loop (n number of times) to call a piece of code that deletes the nodes one by one.\r\n\r\nAlso check for edge conditions i.e. if m + n &lt; size and so on.\r\n","title":"Deleting N nodes after M nodes in a Singly Linked List","body":"<p>You can either try to put an additional check of curr1!=null in the second while loop or simplify the problem.</p>\n<p>Simplifying the problem can be done by:</p>\n<ol>\n<li>Using a for loop (m number of times) to traverse the list.</li>\n<li>Using another for loop (n number of times) to call a piece of code that deletes the nodes one by one.</li>\n</ol>\n<p>Also check for edge conditions i.e. if m + n &lt; size and so on.</p>\n"}],"owner":{"account_id":15253259,"reputation":3,"user_id":20873959,"display_name":"userUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673454912,"creation_date":1672933080,"question_id":75020918,"body_markdown":"Given a linked list, delete N nodes after skipping M nodes of a linked list until the last of the linked list\r\n\r\nThis is the Java program I wrote to solve this problem. For certain large test cases it&#39;s showing error,\r\n&quot;*Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;next&quot; because &quot;&lt;local3&gt;&quot; is null\r\n        at SinglyLinkedList.deleteNNodesAfterEveryMNodes(DeleteNNodesAfterMNodesOfALinkedList.java:88)\r\n        at DeleteNNodesAfterMNodesOfALinkedList.main(DeleteNNodesAfterMNodesOfALinkedList.java:127)*&quot;\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass Link\r\n{\r\n    public int data;\r\n    public Link next;\r\n\r\n    public Link(int d)\r\n    {\r\n        data = d;\r\n    }\r\n\r\n    public void displayLink()\r\n    {\r\n        System.out.print(data + &quot; &quot;);\r\n    }\r\n}\r\n\r\nclass SinglyLinkedList\r\n{\r\n    public Link first;\r\n\r\n    public SinglyLinkedList()\r\n    {\r\n        first = null;\r\n    }\r\n\r\n    public boolean isEmpty()\r\n    {\r\n        return(first == null);\r\n    }\r\n\r\n    public void insertLast(int d)\r\n    {\r\n        Link nl = new Link(d);\r\n\r\n        if(isEmpty())\r\n        {\r\n            first = nl;\r\n        }\r\n\r\n        else\r\n        {\r\n            Link curr = first;\r\n\r\n            while(curr.next != null)\r\n            {\r\n                curr = curr.next;\r\n            }\r\n\r\n            curr.next = nl;\r\n        }\r\n    }\r\n\r\n    public void displayList()\r\n    {\r\n        Link curr = first;\r\n\r\n        while(curr != null)\r\n        {\r\n            curr.displayLink();\r\n            curr = curr.next;\r\n        }\r\n    }\r\n\r\n    public void deleteNNodesAfterEveryMNodes(int N, int M)\r\n    {\r\n        Link curr1=first, curr2=first;\r\n\r\n        int n=N+M, m=M;\r\n\r\n        while(curr1!=null &amp;&amp; curr1.next!=null)\r\n        {\r\n            while(curr2!=null &amp;&amp; n!=0)\r\n            {\r\n                if(m != 1)\r\n                {\r\n                    curr1 = curr1.next;\r\n                    m--;\r\n                }\r\n\r\n                curr2 = curr2.next;\r\n                n--;\r\n            }\r\n\r\n\r\n            curr1.next = curr2;\r\n\r\n            m = M;\r\n            n = N+M;\r\n            curr1 = curr2;\r\n        }\r\n    }\r\n}\r\n\r\nclass DeleteNNodesAfterMNodesOfALinkedList\r\n{\r\n    public static void main(String st[])\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        SinglyLinkedList sll = new SinglyLinkedList();\r\n\r\n        int count, d, N, M;\r\n\r\n        System.out.println(&quot;Enter the number of integers you want to store in the singly linked list: &quot;);\r\n        count = sc.nextInt();\r\n\r\n        System.out.println(&quot;\\nEnter the &quot; + count + &quot; integers: &quot;);\r\n        for(int i=0; i&lt;count; i++)\r\n        {\r\n            d = sc.nextInt();\r\n            sll.insertLast(d);\r\n        }\r\n\r\n        System.out.println(&quot;\\nThe singly linked list is: &quot;);\r\n        sll.displayList();\r\n\r\n        System.out.println(&quot;\\n\\nEnter the value of &#39;M&#39;, the number of nodes to be skipped: &quot;);\r\n        M = sc.nextInt();\r\n\r\n        System.out.println(&quot;\\nEnter the value of &#39;N&#39;, the number of nodes now to be deleted: &quot;);\r\n        N = sc.nextInt();\r\n\r\n\r\n        sll.deleteNNodesAfterEveryMNodes(N, M);\r\n\r\n        System.out.println(&quot;\\nThe resultant singly linked list is: &quot;);\r\n        sll.displayList();\r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t figure out what went wrong and how is assigning curr1.next = curr2; is of any issue at line 127","title":"Deleting N nodes after M nodes in a Singly Linked List","body":"<p>Given a linked list, delete N nodes after skipping M nodes of a linked list until the last of the linked list</p>\n<p>This is the Java program I wrote to solve this problem. For certain large test cases it's showing error,\n&quot;<em>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;next&quot; because &quot;&quot; is null\nat SinglyLinkedList.deleteNNodesAfterEveryMNodes(DeleteNNodesAfterMNodesOfALinkedList.java:88)\nat DeleteNNodesAfterMNodesOfALinkedList.main(DeleteNNodesAfterMNodesOfALinkedList.java:127)</em>&quot;</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Link\n{\n    public int data;\n    public Link next;\n\n    public Link(int d)\n    {\n        data = d;\n    }\n\n    public void displayLink()\n    {\n        System.out.print(data + &quot; &quot;);\n    }\n}\n\nclass SinglyLinkedList\n{\n    public Link first;\n\n    public SinglyLinkedList()\n    {\n        first = null;\n    }\n\n    public boolean isEmpty()\n    {\n        return(first == null);\n    }\n\n    public void insertLast(int d)\n    {\n        Link nl = new Link(d);\n\n        if(isEmpty())\n        {\n            first = nl;\n        }\n\n        else\n        {\n            Link curr = first;\n\n            while(curr.next != null)\n            {\n                curr = curr.next;\n            }\n\n            curr.next = nl;\n        }\n    }\n\n    public void displayList()\n    {\n        Link curr = first;\n\n        while(curr != null)\n        {\n            curr.displayLink();\n            curr = curr.next;\n        }\n    }\n\n    public void deleteNNodesAfterEveryMNodes(int N, int M)\n    {\n        Link curr1=first, curr2=first;\n\n        int n=N+M, m=M;\n\n        while(curr1!=null &amp;&amp; curr1.next!=null)\n        {\n            while(curr2!=null &amp;&amp; n!=0)\n            {\n                if(m != 1)\n                {\n                    curr1 = curr1.next;\n                    m--;\n                }\n\n                curr2 = curr2.next;\n                n--;\n            }\n\n\n            curr1.next = curr2;\n\n            m = M;\n            n = N+M;\n            curr1 = curr2;\n        }\n    }\n}\n\nclass DeleteNNodesAfterMNodesOfALinkedList\n{\n    public static void main(String st[])\n    {\n        Scanner sc = new Scanner(System.in);\n\n        SinglyLinkedList sll = new SinglyLinkedList();\n\n        int count, d, N, M;\n\n        System.out.println(&quot;Enter the number of integers you want to store in the singly linked list: &quot;);\n        count = sc.nextInt();\n\n        System.out.println(&quot;\\nEnter the &quot; + count + &quot; integers: &quot;);\n        for(int i=0; i&lt;count; i++)\n        {\n            d = sc.nextInt();\n            sll.insertLast(d);\n        }\n\n        System.out.println(&quot;\\nThe singly linked list is: &quot;);\n        sll.displayList();\n\n        System.out.println(&quot;\\n\\nEnter the value of 'M', the number of nodes to be skipped: &quot;);\n        M = sc.nextInt();\n\n        System.out.println(&quot;\\nEnter the value of 'N', the number of nodes now to be deleted: &quot;);\n        N = sc.nextInt();\n\n\n        sll.deleteNNodesAfterEveryMNodes(N, M);\n\n        System.out.println(&quot;\\nThe resultant singly linked list is: &quot;);\n        sll.displayList();\n    }\n}\n</code></pre>\n<p>I can't figure out what went wrong and how is assigning curr1.next = curr2; is of any issue at line 127</p>\n"},{"tags":["java","spring-boot","google-app-engine","google-cloud-platform","google-cloud-sql"],"comments":[{"owner":{"account_id":15617541,"reputation":61,"user_id":11267359,"display_name":"Tagada85"},"score":0,"creation_date":1579598102,"post_id":59827604,"comment_id":105809867,"body_markdown":"We finally solved our issue. For those who might have the same issue:\n\nThe problem was caused by our guava version. We add the version 18.0, which was problematic apparently. We added the version 28.2-jre in our pom.xml to solve the issue.","body":"We finally solved our issue. For those who might have the same issue:  The problem was caused by our guava version. We add the version 18.0, which was problematic apparently. We added the version 28.2-jre in our pom.xml to solve the issue."}],"answers":[{"tags":[],"owner":{"account_id":15617541,"reputation":61,"user_id":11267359,"display_name":"Tagada85"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1579598263,"creation_date":1579598263,"answer_id":59837694,"question_id":59827604,"body_markdown":"We finally solved our issue. For those who might have the same issue:\r\n\r\nThe problem was caused by our guava version. We add the version 18.0, which was problematic apparently. We added the following dependencies in the pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;28.2-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd the problem was solved :)","title":"Can&#39;t get Spring Boot application to work on Google Cloud Platform Flexible Environment","body":"<p>We finally solved our issue. For those who might have the same issue:</p>\n\n<p>The problem was caused by our guava version. We add the version 18.0, which was problematic apparently. We added the following dependencies in the pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;28.2-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>And the problem was solved :)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673558750,"post_id":75086207,"comment_id":132532935,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75086207/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19023822,"reputation":31,"user_id":13887336,"display_name":"jj2206"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673454610,"creation_date":1673454610,"answer_id":75086207,"question_id":59827604,"body_markdown":"Wow, just doing some venting here but have been pulling my hair out for about 2 weeks now attempting to deploy a spring boot app to google cloud. It&#39;s incredibly nerve wracking to hear that a modification of a guava dependency could cause an application to not startup - even far worse make the logs go silent with no trace of what is going on. At the moment, I too am dealing with a situation where there are no application logs to be found and no trace of what is going wrong while just simply trying to hit an endpoint after what google cloud tells me is a successful deploy.\r\n\r\nThis comment and I&#39;m sure to write others in the future is more aimed at getting other people to vent their frustration as google cloud support is non-existent unless you pay a premium for it. Making matters worse the product appears to be just plain terrible in terms of allowing developers insights into what is actually going wrong when a deployment doesn&#39;t work. I hope this gets their attention and I hope others voice their frustration as well because this product is simply unusable when it gives no indication of what is going wrong with a deployment. I&#39;ve scoured their docs to no avail and it seems others have similar issues. Unfortunately my hands are tied by my client to use google cloud otherwise I would have migrated away from it after seeing first hand some of the very basic ways it is flawed. If you&#39;re in the process of evaluating a cloud product I would highly recommend not using google.","title":"Can&#39;t get Spring Boot application to work on Google Cloud Platform Flexible Environment","body":"<p>Wow, just doing some venting here but have been pulling my hair out for about 2 weeks now attempting to deploy a spring boot app to google cloud. It's incredibly nerve wracking to hear that a modification of a guava dependency could cause an application to not startup - even far worse make the logs go silent with no trace of what is going on. At the moment, I too am dealing with a situation where there are no application logs to be found and no trace of what is going wrong while just simply trying to hit an endpoint after what google cloud tells me is a successful deploy.</p>\n<p>This comment and I'm sure to write others in the future is more aimed at getting other people to vent their frustration as google cloud support is non-existent unless you pay a premium for it. Making matters worse the product appears to be just plain terrible in terms of allowing developers insights into what is actually going wrong when a deployment doesn't work. I hope this gets their attention and I hope others voice their frustration as well because this product is simply unusable when it gives no indication of what is going wrong with a deployment. I've scoured their docs to no avail and it seems others have similar issues. Unfortunately my hands are tied by my client to use google cloud otherwise I would have migrated away from it after seeing first hand some of the very basic ways it is flawed. If you're in the process of evaluating a cloud product I would highly recommend not using google.</p>\n"}],"owner":{"account_id":15617541,"reputation":61,"user_id":11267359,"display_name":"Tagada85"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59837694,"answer_count":2,"score":1,"last_activity_date":1673454610,"creation_date":1579538479,"question_id":59827604,"body_markdown":"I&#39;m having trouble deploying my Spring Boot application on the Google Cloud Platform Flexible environment. \r\n\r\nI run the following command to deploy: `mvn clean compile package -DskipTests appengine:deploy -P cloud-gcp`\r\n\r\nThe `cloud-gcp` profile in my pom.xml has the following:\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;cloud-gcp&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;beta3&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n```\r\n\r\nThis is my `app.yaml` file located at `src/main/appengine/app.yaml`:\r\n\r\n```yaml\r\nruntime: java\r\nenv: flex\r\nruntime_config:\r\n  jdk: openjdk8\r\nenv_variables:\r\n  SPRING_PROFILES_ACTIVE: &quot;gcp&quot;\r\n\r\nhandlers:\r\n- url: /.*\r\n  script: this field is required, but ignored\r\nmanual_scaling:\r\n  instances: 1\r\nresources:\r\n  cpu: 1\r\n  memory_gb: 4\r\n  disk_size_gb: 10\r\n```\r\n\r\nHere is my `application-gcp.properties`:\r\n\r\n```\r\nserver.address=0.0.0.0\r\nserver.port=8080\r\n\r\n# Datasource\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\nspring.datasource.username=xxx\r\nspring.datasource.password=xxx\r\nspring.datasource.url=jdbc:postgresql://google/xxx?cloudSqlInstance=xxx:europe-west4:xxx&amp;autoReconnect=true&amp;user=xxx&amp;password=xxx&amp;socketFactory=com.google.cloud.sql.postgres.SocketFactory&amp;useSSL=false\r\n\r\n\r\nserver.error.whitelabel.enabled=false\r\n\r\n# Optimize start of application\r\nspring.jmx.enabled=false\r\n\r\n# Gcp configuration\r\nspring.cloud.gcp.sql.enabled=false\r\nspring.cloud.gcp.sql.database-name=xxx\r\nspring.cloud.gcp.sql.instance-connection-name=xxx:europe-west4:xxx\r\nspring.cloud.gcp.logging.enabled=true\r\n```\r\n\r\nThe compilation is successful, no problems there. The problem occurs when I want to access my Spring Boot application. I constantly get a 502 Error. There is nothing in the logs that gives me a clue on what is wrong:\r\n\r\n```\r\nA 2020-01-20T16:14:17Z   .   ____          _            __ _ _\r\n \r\nA 2020-01-20T16:14:17Z  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n \r\nA 2020-01-20T16:14:17Z ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \r\nA 2020-01-20T16:14:17Z  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n \r\nA 2020-01-20T16:14:17Z   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n \r\nA 2020-01-20T16:14:17Z  =========|_|==============|___/=/_/_/_/\r\n \r\nA 2020-01-20T16:14:17Z  :: Spring Boot ::        (v2.1.5.RELEASE)\r\n \r\n \r\ncom.xxx.api.xxxApplication       : Starting xxxApplication v0.0.1-SNAPSHOT on bc233766746a with PID 1 (/app.jar started by root in /)\r\n \r\ncom.xxx.api.xxxApplication       : The following profiles are active: gcp\r\n \r\n .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n \r\n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 532ms. Found 17 repository interfaces.\r\n \r\n trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2c4dbf14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\ntrationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration&#39; of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c4fb874e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\n trationDelegate$BeanPostProcessorChecker : Bean &#39;objectPostProcessor&#39; of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\n trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6b00f608&#39; of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\n trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration&#39; of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e9d02a00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\n trationDelegate$BeanPostProcessorChecker : Bean &#39;methodSecurityMetadataSource&#39; of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\n trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.hateoas.config.HateoasConfiguration&#39; of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$abce0c46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n \r\no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n \r\no.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n \r\norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.19]\r\n \r\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 11326 ms\r\n \r\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n \r\nConnecting to Cloud SQL instance [xxx:europe-west4:xxx] via SSL socket.\r\n \r\nFirst Cloud SQL connection, generating RSA key pair.\r\n \r\n```\r\n\r\nThis is the last lines I have in the logs. Nothing seems to break, no errors as far as I can tell. It seems to correctly connect to the Cloud SQL instance. I&#39;m lost here. I&#39;ve tried a lot of things, but I always get a 502 request from Spring Boot no matter what.\r\n\r\nFor information, the `/liveness_check` and `/readiness_check` always return 200 even when the server is not launched (which is strange...).\r\n\r\nTell me if you need any more informations on the configuration I am using.\r\nThank you in advance!","title":"Can&#39;t get Spring Boot application to work on Google Cloud Platform Flexible Environment","body":"<p>I'm having trouble deploying my Spring Boot application on the Google Cloud Platform Flexible environment. </p>\n\n<p>I run the following command to deploy: <code>mvn clean compile package -DskipTests appengine:deploy -P cloud-gcp</code></p>\n\n<p>The <code>cloud-gcp</code> profile in my pom.xml has the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;cloud-gcp&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.3.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;version&gt;beta3&lt;/version&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n\n<p>This is my <code>app.yaml</code> file located at <code>src/main/appengine/app.yaml</code>:</p>\n\n<pre><code>runtime: java\nenv: flex\nruntime_config:\n  jdk: openjdk8\nenv_variables:\n  SPRING_PROFILES_ACTIVE: \"gcp\"\n\nhandlers:\n- url: /.*\n  script: this field is required, but ignored\nmanual_scaling:\n  instances: 1\nresources:\n  cpu: 1\n  memory_gb: 4\n  disk_size_gb: 10\n</code></pre>\n\n<p>Here is my <code>application-gcp.properties</code>:</p>\n\n<pre><code>server.address=0.0.0.0\nserver.port=8080\n\n# Datasource\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\nspring.datasource.username=xxx\nspring.datasource.password=xxx\nspring.datasource.url=jdbc:postgresql://google/xxx?cloudSqlInstance=xxx:europe-west4:xxx&amp;autoReconnect=true&amp;user=xxx&amp;password=xxx&amp;socketFactory=com.google.cloud.sql.postgres.SocketFactory&amp;useSSL=false\n\n\nserver.error.whitelabel.enabled=false\n\n# Optimize start of application\nspring.jmx.enabled=false\n\n# Gcp configuration\nspring.cloud.gcp.sql.enabled=false\nspring.cloud.gcp.sql.database-name=xxx\nspring.cloud.gcp.sql.instance-connection-name=xxx:europe-west4:xxx\nspring.cloud.gcp.logging.enabled=true\n</code></pre>\n\n<p>The compilation is successful, no problems there. The problem occurs when I want to access my Spring Boot application. I constantly get a 502 Error. There is nothing in the logs that gives me a clue on what is wrong:</p>\n\n<pre><code>A 2020-01-20T16:14:17Z   .   ____          _            __ _ _\n\nA 2020-01-20T16:14:17Z  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n\nA 2020-01-20T16:14:17Z ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\nA 2020-01-20T16:14:17Z  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\nA 2020-01-20T16:14:17Z   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\nA 2020-01-20T16:14:17Z  =========|_|==============|___/=/_/_/_/\n\nA 2020-01-20T16:14:17Z  :: Spring Boot ::        (v2.1.5.RELEASE)\n\n\ncom.xxx.api.xxxApplication       : Starting xxxApplication v0.0.1-SNAPSHOT on bc233766746a with PID 1 (/app.jar started by root in /)\n\ncom.xxx.api.xxxApplication       : The following profiles are active: gcp\n\n .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n\n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 532ms. Found 17 repository interfaces.\n\n trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2c4dbf14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\ntrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c4fb874e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6b00f608' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e9d02a00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$abce0c46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n\no.apache.catalina.core.StandardService   : Starting service [Tomcat]\n\norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.19]\n\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 11326 ms\n\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n\nConnecting to Cloud SQL instance [xxx:europe-west4:xxx] via SSL socket.\n\nFirst Cloud SQL connection, generating RSA key pair.\n\n</code></pre>\n\n<p>This is the last lines I have in the logs. Nothing seems to break, no errors as far as I can tell. It seems to correctly connect to the Cloud SQL instance. I'm lost here. I've tried a lot of things, but I always get a 502 request from Spring Boot no matter what.</p>\n\n<p>For information, the <code>/liveness_check</code> and <code>/readiness_check</code> always return 200 even when the server is not launched (which is strange...).</p>\n\n<p>Tell me if you need any more informations on the configuration I am using.\nThank you in advance!</p>\n"},{"tags":["java","parallel-processing","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"score":0,"creation_date":1480512806,"post_id":40889544,"comment_id":68993028,"body_markdown":"you understood right, it can be considered as a solution. I just wanna know are there some other options (not necessarily from standard api) that allows work with Tuple2(firstListItem, secondListItem) on reducer side.","body":"you understood right, it can be considered as a solution. I just wanna know are there some other options (not necessarily from standard api) that allows work with Tuple2(firstListItem, secondListItem) on reducer side."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1480513281,"post_id":40889544,"comment_id":68993350,"body_markdown":"@Normal I think that what you are trying to say is that on the reduce side you want to consume/reduce those lists in *different* ways, right? If so, then, no, not really aware if that is possible. What you could do is first groupBy and then do whatever you want with the result.","body":"@Normal I think that what you are trying to say is that on the reduce side you want to consume/reduce those lists in <i>different</i> ways, right? If so, then, no, not really aware if that is possible. What you could do is first groupBy and then do whatever you want with the result."},{"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"score":0,"creation_date":1480518650,"post_id":40889544,"comment_id":68997339,"body_markdown":"you are right, current approach leads me to write reducer code like that:\n\nlist -&gt; {\n     if (list.get(0).type == 1)   {\n          ....\n    } else ....\n} And I&#39;m trying to avoid that","body":"you are right, current approach leads me to write reducer code like that:  list -&gt; {      if (list.get(0).type == 1)   {           ....     } else .... } And I&#39;m trying to avoid that"}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480512137,"creation_date":1480512137,"answer_id":40889544,"question_id":40888550,"body_markdown":"If I understood you correctly... there&#39;s a overloaded groupingBy that reduces the already grouped elements, something like this:\r\n\r\n\r\n      Map&lt;Boolean, Double&gt; result = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;ag&quot;).stream()\r\n                .collect(Collectors.groupingBy(elem -&gt; elem.startsWith(&quot;a&quot;), \r\n                        Collectors.averagingInt(String::length)));\r\n\r\n        System.out.println(result); // {false=1.0, true=1.5}\r\n\r\nThis groups the elements and then applies another Collector on the values, reducing them. ","title":"Joining two java streams","body":"<p>If I understood you correctly... there's a overloaded groupingBy that reduces the already grouped elements, something like this:</p>\n\n<pre><code>  Map&lt;Boolean, Double&gt; result = Arrays.asList(\"a\", \"b\", \"ag\").stream()\n            .collect(Collectors.groupingBy(elem -&gt; elem.startsWith(\"a\"), \n                    Collectors.averagingInt(String::length)));\n\n    System.out.println(result); // {false=1.0, true=1.5}\n</code></pre>\n\n<p>This groups the elements and then applies another Collector on the values, reducing them. </p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673454517,"creation_date":1480536947,"answer_id":40897362,"question_id":40888550,"body_markdown":"[abacus-common][1] provides the APIs to do exactly what you want:\r\n\r\n    \r\n    Stream.concat(a, b).parallel().groupBy(x -&gt; x.getId()).map(..);\r\n\r\nDeclaration： I&#39;m the developer of AbacusUtil.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Joining two java streams","body":"<p><a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a> provides the APIs to do exactly what you want:</p>\n<pre><code>Stream.concat(a, b).parallel().groupBy(x -&gt; x.getId()).map(..);\n</code></pre>\n<p>Declaration： I'm the developer of AbacusUtil.</p>\n"}],"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40897362,"answer_count":2,"score":1,"last_activity_date":1673454517,"creation_date":1480509376,"question_id":40888550,"body_markdown":"I have two java lists like this:\r\n\r\n    &quot;type 1&quot; list:\r\n    [(id:1, type: 1, value: 100), (id:2, type: 1, value: 50), ...]\r\n    &quot;type 2&quot; list:\r\n    [(id:1, type: 2, value: 150), (id:2, type: 2, value: 70), ...]\r\n\r\nAnd I want something like that:\r\n\r\n    Stream.concat(list1.stream(), list2.stream())\r\n    .parallel()\r\n    // I need to combine somehow items with the same id for following process\r\n    // ideally to have Tuple2(l1item, l2item) after that\r\n    .groupBy(x -&gt; x.getId())\r\n    .map ((l1item, l2item) -&gt; {\r\n       // some processing\r\n    }).collect(Collectors.toList())\r\n\r\nAFAIK it can be implemented via:\r\n\r\n    Stream.concat(list1.stream(), list2.stream())\r\n    .collect(groupingBy(x -&gt; x.getItem)).values().stream()\r\n    .map (listOftwo -&gt; ....)\r\n\r\n\r\nBut I don&#39;t want that intermediate map. Any ideas ? I can use any library.\r\n\r\nThanks","title":"Joining two java streams","body":"<p>I have two java lists like this:</p>\n\n<pre><code>\"type 1\" list:\n[(id:1, type: 1, value: 100), (id:2, type: 1, value: 50), ...]\n\"type 2\" list:\n[(id:1, type: 2, value: 150), (id:2, type: 2, value: 70), ...]\n</code></pre>\n\n<p>And I want something like that:</p>\n\n<pre><code>Stream.concat(list1.stream(), list2.stream())\n.parallel()\n// I need to combine somehow items with the same id for following process\n// ideally to have Tuple2(l1item, l2item) after that\n.groupBy(x -&gt; x.getId())\n.map ((l1item, l2item) -&gt; {\n   // some processing\n}).collect(Collectors.toList())\n</code></pre>\n\n<p>AFAIK it can be implemented via:</p>\n\n<pre><code>Stream.concat(list1.stream(), list2.stream())\n.collect(groupingBy(x -&gt; x.getItem)).values().stream()\n.map (listOftwo -&gt; ....)\n</code></pre>\n\n<p>But I don't want that intermediate map. Any ideas ? I can use any library.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"score":1,"creation_date":1387877789,"post_id":20746429,"comment_id":31109399,"body_markdown":"Possibly useful information at: http://stackoverflow.com/q/19803058/248082","body":"Possibly useful information at: <a href=\"http://stackoverflow.com/q/19803058/248082\">stackoverflow.com/q/19803058/248082</a>"},{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":0,"creation_date":1467117278,"post_id":20746429,"comment_id":63589329,"body_markdown":"Related: [Equivalent of Scala dropWhile](http://stackoverflow.com/q/25569836)","body":"Related: <a href=\"http://stackoverflow.com/q/25569836\">Equivalent of Scala dropWhile</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1475590660,"post_id":20746429,"comment_id":66997105,"body_markdown":"I am wondering how the architects could ever get through the &quot;what can we actually _use_ this for&quot; without running into this usecase.  As of Java 8 Streams are only actually helpful for existing datastructures :-/","body":"I am wondering how the architects could ever get through the &quot;what can we actually <i>use</i> this for&quot; without running into this usecase.  As of Java 8 Streams are only actually helpful for existing datastructures :-/"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1531766635,"post_id":20746429,"comment_id":89708898,"body_markdown":"See also [How to short-circuit a reduce() operation on a Stream?](https://stackoverflow.com/questions/32495069/how-to-short-circuit-a-reduce-operation-on-a-stream)","body":"See also <a href=\"https://stackoverflow.com/questions/32495069/how-to-short-circuit-a-reduce-operation-on-a-stream\">How to short-circuit a reduce() operation on a Stream?</a>"},{"owner":{"account_id":1410497,"reputation":425,"user_id":1337200,"accept_rate":50,"display_name":"Marc Dzaebel"},"score":0,"creation_date":1549624468,"post_id":20746429,"comment_id":95978695,"body_markdown":"With Java 9, it would be easier to write\n`IntStream.iterate(1, n-&gt;n&lt;10, n-&gt;n+1).forEach(System.out::print);`","body":"With Java 9, it would be easier to write <code>IntStream.iterate(1, n-&gt;n&lt;10, n-&gt;n+1).forEach(System.out::print);</code>"}],"answers":[{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":8,"creation_date":1388002777,"post_id":20765715,"comment_id":31141433,"body_markdown":"In theory, parallelizing takeWhile with a stateless predicate is easy. Evaluate the condition in parallel batches (assuming the predicate doesn&#39;t throw or have a side-effect if executed a few extra times). The problem is doing it in the context of recursive decomposition (fork/join framework) that Streams use. Really, it&#39;s Streams that are horribly inefficient.","body":"In theory, parallelizing takeWhile with a stateless predicate is easy. Evaluate the condition in parallel batches (assuming the predicate doesn&#39;t throw or have a side-effect if executed a few extra times). The problem is doing it in the context of recursive decomposition (fork/join framework) that Streams use. Really, it&#39;s Streams that are horribly inefficient."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":98,"creation_date":1388003095,"post_id":20765715,"comment_id":31141508,"body_markdown":"Streams would have been a lot better if they weren&#39;t so preoccupied with automagical parallelism. Parallelism is needed in only a tiny fraction of places where Streams can be used. Besides,  if Oracle cared so much about perfoance,  they could have made the JVM JIT autovectorize,  and gotten a much bigger performamce boost, without bothering the developers. Now that is automagical parallelism done right.","body":"Streams would have been a lot better if they weren&#39;t so preoccupied with automagical parallelism. Parallelism is needed in only a tiny fraction of places where Streams can be used. Besides,  if Oracle cared so much about perfoance,  they could have made the JVM JIT autovectorize,  and gotten a much bigger performamce boost, without bothering the developers. Now that is automagical parallelism done right."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1533424540,"post_id":20765715,"comment_id":90342212,"body_markdown":"You should update this answer now that Java 9 is released.","body":"You should update this answer now that Java 9 is released."},{"owner":{"account_id":1404879,"reputation":716,"user_id":1332865,"display_name":"Renato Back"},"score":10,"creation_date":1534448651,"post_id":20765715,"comment_id":90720226,"body_markdown":"No, @Radiodef. The question asks specifically for a Java 8 solution.","body":"No, @Radiodef. The question asks specifically for a Java 8 solution."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":4,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1626220188,"creation_date":1387912153,"answer_id":20765715,"question_id":20746429,"body_markdown":"Such an operation ought to be _possible_ with a Java 8 `Stream`, but it can&#39;t necessarily be done efficiently -- for example, you can&#39;t necessarily parallelize such an operation, as you have to look at elements in order.\r\n\r\nThe API doesn&#39;t provide an easy way to do it, but what&#39;s probably the simplest way is to take `Stream.iterator()`, wrap the [`Iterator`][1] to have a &quot;take-while&quot; implementation, and then go back to a `Spliterator` and then a `Stream`.  Or -- maybe -- wrap the [`Spliterator`][2], though it can&#39;t really be split anymore in this implementation.\r\n\r\nHere&#39;s an untested implementation of `takeWhile` on a `Spliterator`:\r\n\r\n    static &lt;T&gt; Spliterator&lt;T&gt; takeWhile(\r\n        Spliterator&lt;T&gt; splitr, Predicate&lt;? super T&gt; predicate) {\r\n      return new Spliterators.AbstractSpliterator&lt;T&gt;(splitr.estimateSize(), 0) {\r\n        boolean stillGoing = true;\r\n        @Override public boolean tryAdvance(Consumer&lt;? super T&gt; consumer) {\r\n          if (stillGoing) {\r\n            boolean hadNext = splitr.tryAdvance(elem -&gt; {\r\n              if (predicate.test(elem)) {\r\n                consumer.accept(elem);\r\n              } else {\r\n                stillGoing = false;\r\n              }\r\n            });\r\n            return hadNext &amp;&amp; stillGoing;\r\n          }\r\n          return false;\r\n        }\r\n      };\r\n    }\r\n\r\n    static &lt;T&gt; Stream&lt;T&gt; takeWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; predicate) {\r\n       return StreamSupport.stream(takeWhile(stream.spliterator(), predicate), false);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Spliterator.html","title":"Limit a stream by a predicate","body":"<p>Such an operation ought to be <em>possible</em> with a Java 8 <code>Stream</code>, but it can't necessarily be done efficiently -- for example, you can't necessarily parallelize such an operation, as you have to look at elements in order.</p>\n<p>The API doesn't provide an easy way to do it, but what's probably the simplest way is to take <code>Stream.iterator()</code>, wrap the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> to have a &quot;take-while&quot; implementation, and then go back to a <code>Spliterator</code> and then a <code>Stream</code>.  Or -- maybe -- wrap the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Spliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterator</code></a>, though it can't really be split anymore in this implementation.</p>\n<p>Here's an untested implementation of <code>takeWhile</code> on a <code>Spliterator</code>:</p>\n<pre><code>static &lt;T&gt; Spliterator&lt;T&gt; takeWhile(\n    Spliterator&lt;T&gt; splitr, Predicate&lt;? super T&gt; predicate) {\n  return new Spliterators.AbstractSpliterator&lt;T&gt;(splitr.estimateSize(), 0) {\n    boolean stillGoing = true;\n    @Override public boolean tryAdvance(Consumer&lt;? super T&gt; consumer) {\n      if (stillGoing) {\n        boolean hadNext = splitr.tryAdvance(elem -&gt; {\n          if (predicate.test(elem)) {\n            consumer.accept(elem);\n          } else {\n            stillGoing = false;\n          }\n        });\n        return hadNext &amp;&amp; stillGoing;\n      }\n      return false;\n    }\n  };\n}\n\nstatic &lt;T&gt; Stream&lt;T&gt; takeWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; predicate) {\n   return StreamSupport.stream(takeWhile(stream.spliterator(), predicate), false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1528506953,"creation_date":1387971018,"answer_id":20772290,"question_id":20746429,"body_markdown":"**Update: Java 9 `Stream` now comes with a [takeWhile][1] method.**\r\n\r\nNo needs for hacks or other solutions. Just use that!\r\n\r\n----------\r\n\r\n\r\nI am sure this can be greatly improved upon: \r\n(someone could make it thread-safe maybe)\r\n\r\n    Stream&lt;Integer&gt; stream = Stream.iterate(0, n -&gt; n + 1);\r\n        \r\n    TakeWhile.stream(stream, n -&gt; n &lt; 10000)\r\n             .forEach(n -&gt; System.out.print((n == 0 ? &quot;&quot; + n : &quot;,&quot; + n)));\r\n\r\nA hack for sure... Not elegant - but it works ~:D\r\n-------------------------------------------------\r\n\r\n    class TakeWhile&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \r\n        private final Iterator&lt;T&gt; iterator;\r\n        private final Predicate&lt;T&gt; predicate;\r\n        private volatile T next;\r\n        private volatile boolean keepGoing = true;\r\n    \r\n        public TakeWhile(Stream&lt;T&gt; s, Predicate&lt;T&gt; p) {\r\n            this.iterator = s.iterator();\r\n            this.predicate = p;\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            if (!keepGoing) {\r\n                return false;\r\n            }\r\n            if (next != null) {\r\n                return true;\r\n            }\r\n            if (iterator.hasNext()) {\r\n                next = iterator.next();\r\n                keepGoing = predicate.test(next);\r\n                if (!keepGoing) {\r\n                    next = null;\r\n                }\r\n            }\r\n            return next != null;\r\n        }\r\n    \r\n        @Override\r\n        public T next() {\r\n            if (next == null) {\r\n                if (!hasNext()) {\r\n                    throw new NoSuchElementException(&quot;Sorry. Nothing for you.&quot;);\r\n                }\r\n            }\r\n            T temp = next;\r\n            next = null;\r\n            return temp;\r\n        }\r\n    \r\n        public static &lt;T&gt; Stream&lt;T&gt; stream(Stream&lt;T&gt; s, Predicate&lt;T&gt; p) {\r\n            TakeWhile tw = new TakeWhile(s, p);\r\n            Spliterator split = Spliterators.spliterator(tw, Integer.MAX_VALUE, Spliterator.ORDERED);\r\n            return StreamSupport.stream(split, false);\r\n        }\r\n   \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-","title":"Limit a stream by a predicate","body":"<p><strong>Update: Java 9 <code>Stream</code> now comes with a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-\" rel=\"noreferrer\">takeWhile</a> method.</strong></p>\n\n<p>No needs for hacks or other solutions. Just use that!</p>\n\n<hr>\n\n<p>I am sure this can be greatly improved upon: \n(someone could make it thread-safe maybe)</p>\n\n<pre><code>Stream&lt;Integer&gt; stream = Stream.iterate(0, n -&gt; n + 1);\n\nTakeWhile.stream(stream, n -&gt; n &lt; 10000)\n         .forEach(n -&gt; System.out.print((n == 0 ? \"\" + n : \",\" + n)));\n</code></pre>\n\n<h2>A hack for sure... Not elegant - but it works ~:D</h2>\n\n<pre><code>class TakeWhile&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private final Iterator&lt;T&gt; iterator;\n    private final Predicate&lt;T&gt; predicate;\n    private volatile T next;\n    private volatile boolean keepGoing = true;\n\n    public TakeWhile(Stream&lt;T&gt; s, Predicate&lt;T&gt; p) {\n        this.iterator = s.iterator();\n        this.predicate = p;\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (!keepGoing) {\n            return false;\n        }\n        if (next != null) {\n            return true;\n        }\n        if (iterator.hasNext()) {\n            next = iterator.next();\n            keepGoing = predicate.test(next);\n            if (!keepGoing) {\n                next = null;\n            }\n        }\n        return next != null;\n    }\n\n    @Override\n    public T next() {\n        if (next == null) {\n            if (!hasNext()) {\n                throw new NoSuchElementException(\"Sorry. Nothing for you.\");\n            }\n        }\n        T temp = next;\n        next = null;\n        return temp;\n    }\n\n    public static &lt;T&gt; Stream&lt;T&gt; stream(Stream&lt;T&gt; s, Predicate&lt;T&gt; p) {\n        TakeWhile tw = new TakeWhile(s, p);\n        Spliterator split = Spliterators.spliterator(tw, Integer.MAX_VALUE, Spliterator.ORDERED);\n        return StreamSupport.stream(split, false);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4691736,"reputation":41,"user_id":3797695,"display_name":"Chris Greenaway"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404304998,"creation_date":1404304998,"answer_id":24531394,"question_id":20746429,"body_markdown":"Here is a version done on ints - as asked in the question.\r\n\r\nUsage:\r\n\r\n    StreamUtil.takeWhile(IntStream.iterate(1, n -&gt; n + 1), n -&gt; n &lt; 10);\r\n\r\nHere&#39;s code for StreamUtil:\r\n\r\n    import java.util.PrimitiveIterator;\r\n    import java.util.Spliterators;\r\n    import java.util.function.IntConsumer;\r\n    import java.util.function.IntPredicate;\r\n    import java.util.stream.IntStream;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    public class StreamUtil\r\n    {\r\n    \tpublic static IntStream takeWhile(IntStream stream, IntPredicate predicate)\r\n    \t{\r\n    \t\treturn StreamSupport.intStream(new PredicateIntSpliterator(stream, predicate), false);\r\n    \t}\r\n    \t\r\n    \tprivate static class PredicateIntSpliterator extends Spliterators.AbstractIntSpliterator\r\n    \t{\r\n    \t\tprivate final PrimitiveIterator.OfInt iterator;\r\n    \t\tprivate final IntPredicate predicate;\r\n    \t\t\r\n    \t\tpublic PredicateIntSpliterator(IntStream stream, IntPredicate predicate)\r\n    \t\t{\r\n    \t\t\tsuper(Long.MAX_VALUE, IMMUTABLE);\r\n    \t\t\tthis.iterator = stream.iterator();\r\n    \t\t\tthis.predicate = predicate;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean tryAdvance(IntConsumer action)\r\n    \t\t{\r\n    \t\t\tif (iterator.hasNext()) {\r\n    \t\t\t\tint value = iterator.nextInt();\r\n    \t\t\t\tif (predicate.test(value)) {\r\n    \t\t\t\t\taction.accept(value);\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Limit a stream by a predicate","body":"<p>Here is a version done on ints - as asked in the question.</p>\n\n<p>Usage:</p>\n\n<pre><code>StreamUtil.takeWhile(IntStream.iterate(1, n -&gt; n + 1), n -&gt; n &lt; 10);\n</code></pre>\n\n<p>Here's code for StreamUtil:</p>\n\n<pre><code>import java.util.PrimitiveIterator;\nimport java.util.Spliterators;\nimport java.util.function.IntConsumer;\nimport java.util.function.IntPredicate;\nimport java.util.stream.IntStream;\nimport java.util.stream.StreamSupport;\n\npublic class StreamUtil\n{\n    public static IntStream takeWhile(IntStream stream, IntPredicate predicate)\n    {\n        return StreamSupport.intStream(new PredicateIntSpliterator(stream, predicate), false);\n    }\n\n    private static class PredicateIntSpliterator extends Spliterators.AbstractIntSpliterator\n    {\n        private final PrimitiveIterator.OfInt iterator;\n        private final IntPredicate predicate;\n\n        public PredicateIntSpliterator(IntStream stream, IntPredicate predicate)\n        {\n            super(Long.MAX_VALUE, IMMUTABLE);\n            this.iterator = stream.iterator();\n            this.predicate = predicate;\n        }\n\n        @Override\n        public boolean tryAdvance(IntConsumer action)\n        {\n            if (iterator.hasNext()) {\n                int value = iterator.nextInt();\n                if (predicate.test(value)) {\n                    action.accept(value);\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":973816,"reputation":1039,"user_id":995737,"display_name":"Dominic Fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1477831000,"creation_date":1409842501,"answer_id":25668681,"question_id":20746429,"body_markdown":"`takeWhile` is one of the functions provided by the [protonpack library][1].\r\n\r\n    Stream&lt;Integer&gt; infiniteInts = Stream.iterate(0, i -&gt; i + 1);\r\n    Stream&lt;Integer&gt; finiteInts = StreamUtils.takeWhile(infiniteInts, i -&gt; i &lt; 10);\r\n    \r\n    assertThat(finiteInts.collect(Collectors.toList()),\r\n               hasSize(10));\r\n\r\n\r\n  [1]: https://github.com/poetix/protonpack","title":"Limit a stream by a predicate","body":"<p><code>takeWhile</code> is one of the functions provided by the <a href=\"https://github.com/poetix/protonpack\" rel=\"nofollow noreferrer\">protonpack library</a>.</p>\n\n<pre><code>Stream&lt;Integer&gt; infiniteInts = Stream.iterate(0, i -&gt; i + 1);\nStream&lt;Integer&gt; finiteInts = StreamUtils.takeWhile(infiniteInts, i -&gt; i &lt; 10);\n\nassertThat(finiteInts.collect(Collectors.toList()),\n           hasSize(10));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":2,"creation_date":1467109873,"post_id":26255154,"comment_id":63584242,"body_markdown":"You&#39;re evaluating the **whole** stream in advance! And if `current` never `.equals(e)`, you&#39;ll get an endless loop. Both even if you subsequently apply e.g. `.limit(1)`. That&#39;s far worse than *&#39;unclean&#39;*.","body":"You&#39;re evaluating the <b>whole</b> stream in advance! And if <code>current</code> never <code>.equals(e)</code>, you&#39;ll get an endless loop. Both even if you subsequently apply e.g. <code>.limit(1)</code>. That&#39;s far worse than <i>&#39;unclean&#39;</i>."}],"tags":[],"owner":{"account_id":2922411,"reputation":535,"user_id":2504380,"accept_rate":50,"display_name":"user2504380"},"comment_count":1,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1412765584,"creation_date":1412765584,"answer_id":26255154,"question_id":20746429,"body_markdown":"I have another quick solution by implementing this (which is rly unclean in fact, but you get the idea):\r\n\r\n    public static void main(String[] args) {\r\n\t\tSystem.out.println(StreamUtil.iterate(1, o -&gt; o + 1).terminateOn(15)\r\n\t\t\t\t.map(o -&gt; o.toString()).collect(Collectors.joining(&quot;, &quot;)));\r\n\t}\r\n\r\n\tstatic interface TerminatedStream&lt;T&gt; {\r\n\t\tStream&lt;T&gt; terminateOn(T e);\r\n\t}\r\n\r\n\tstatic class StreamUtil {\r\n\t\tstatic &lt;T&gt; TerminatedStream&lt;T&gt; iterate(T seed, UnaryOperator&lt;T&gt; op) {\r\n\t\t\treturn new TerminatedStream&lt;T&gt;() {\r\n\t\t\t\tpublic Stream&lt;T&gt; terminateOn(T e) {\r\n\t\t\t\t\tBuilder&lt;T&gt; builder = Stream.&lt;T&gt; builder().add(seed);\r\n\t\t\t\t\tT current = seed;\r\n\t\t\t\t\twhile (!current.equals(e)) {\r\n\t\t\t\t\t\tcurrent = op.apply(current);\r\n\t\t\t\t\t\tbuilder.add(current);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn builder.build();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}","title":"Limit a stream by a predicate","body":"<p>I have another quick solution by implementing this (which is rly unclean in fact, but you get the idea):</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(StreamUtil.iterate(1, o -&gt; o + 1).terminateOn(15)\n            .map(o -&gt; o.toString()).collect(Collectors.joining(\", \")));\n}\n\nstatic interface TerminatedStream&lt;T&gt; {\n    Stream&lt;T&gt; terminateOn(T e);\n}\n\nstatic class StreamUtil {\n    static &lt;T&gt; TerminatedStream&lt;T&gt; iterate(T seed, UnaryOperator&lt;T&gt; op) {\n        return new TerminatedStream&lt;T&gt;() {\n            public Stream&lt;T&gt; terminateOn(T e) {\n                Builder&lt;T&gt; builder = Stream.&lt;T&gt; builder().add(seed);\n                T current = seed;\n                while (!current.equals(e)) {\n                    current = op.apply(current);\n                    builder.add(current);\n                }\n                return builder.build();\n            }\n        };\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":275743,"reputation":15689,"user_id":568785,"accept_rate":93,"display_name":"Bailey Parker"},"score":5,"creation_date":1448491175,"post_id":26919665,"comment_id":55616290,"body_markdown":"This seemed unintuitive to me at first (given the method name), but the [docs confirm](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-) that `Stream.allMatch()` is a [short-circuiting operation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps). So this will complete even on an infinite stream like `IntStream.iterate()`. Of course, in retrospect, this is a sensible optimization.","body":"This seemed unintuitive to me at first (given the method name), but the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">docs confirm</a> that <code>Stream.allMatch()</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">short-circuiting operation</a>. So this will complete even on an infinite stream like <code>IntStream.iterate()</code>. Of course, in retrospect, this is a sensible optimization."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":3,"creation_date":1490212601,"post_id":26919665,"comment_id":73017169,"body_markdown":"This is neat, but I don&#39;t think it communicates very well that its intent is the body of the `peek`.  If I encountered it next month, I would take a minute to wonder why the programmer before me checked if `allMatch` and then ignored the answer.","body":"This is neat, but I don&#39;t think it communicates very well that its intent is the body of the <code>peek</code>.  If I encountered it next month, I would take a minute to wonder why the programmer before me checked if <code>allMatch</code> and then ignored the answer."},{"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"score":14,"creation_date":1507290908,"post_id":26919665,"comment_id":80161874,"body_markdown":"The disadvantage of this solution is that it returns a boolean so you cannot collect the results of the stream as you normally would.","body":"The disadvantage of this solution is that it returns a boolean so you cannot collect the results of the stream as you normally would."}],"tags":[],"owner":{"account_id":5329141,"reputation":597,"user_id":4250258,"display_name":"Michael Rowley"},"comment_count":3,"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1477830939,"creation_date":1415917731,"answer_id":26919665,"question_id":20746429,"body_markdown":"`allMatch()` is a short-circuiting function, so you can use it to stop processing. The main disadvantage is that you have to do your test twice: once to see if you should process it, and again to see whether to keep going.\r\n\r\n    IntStream\r\n        .iterate(1, n -&gt; n + 1)\r\n        .peek(n-&gt;{if (n&lt;10) System.out.println(n);})\r\n        .allMatch(n-&gt;n &lt; 10);\r\n","title":"Limit a stream by a predicate","body":"<p><code>allMatch()</code> is a short-circuiting function, so you can use it to stop processing. The main disadvantage is that you have to do your test twice: once to see if you should process it, and again to see whether to keep going.</p>\n\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .peek(n-&gt;{if (n&lt;10) System.out.println(n);})\n    .allMatch(n-&gt;n &lt; 10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1487340636,"creation_date":1433260151,"answer_id":30600756,"question_id":20746429,"body_markdown":"You can use java8 + [rxjava][1].\r\n\r\n    import java.util.stream.IntStream;\r\n    import rx.Observable;\r\n\r\n\r\n    // Example 1)\r\n    IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\r\n    Observable.from(() -&gt; intStream.iterator())\r\n        .takeWhile(n -&gt;\r\n              {\r\n                    System.out.println(n);\r\n                    return n &lt; 10;\r\n              }\r\n        ).subscribe() ;\r\n\r\n\r\n    // Example 2\r\n    IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\r\n    Observable.from(() -&gt; intStream.iterator())\r\n        .takeWhile(n -&gt; n &lt; 10)\r\n        .forEach( n -&gt; System.out.println(n));\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n\r\n","title":"Limit a stream by a predicate","body":"<p>You can use java8 + <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">rxjava</a>.</p>\n\n<pre><code>import java.util.stream.IntStream;\nimport rx.Observable;\n\n\n// Example 1)\nIntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\nObservable.from(() -&gt; intStream.iterator())\n    .takeWhile(n -&gt;\n          {\n                System.out.println(n);\n                return n &lt; 10;\n          }\n    ).subscribe() ;\n\n\n// Example 2\nIntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\nObservable.from(() -&gt; intStream.iterator())\n    .takeWhile(n -&gt; n &lt; 10)\n    .forEach( n -&gt; System.out.println(n));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1533425131,"post_id":31063252,"comment_id":90342318,"body_markdown":"[The `filter` predicate is supposed to be stateless.](https://docs.oracle.com/javase/10/docs/api/java/util/stream/IntStream.html#filter%28java.util.function.IntPredicate%29) `System.out.println` is a side-effect.","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/IntStream.html#filter%28java.util.function.IntPredicate%29\" rel=\"nofollow noreferrer\">The <code>filter</code> predicate is supposed to be stateless.</a> <code>System.out.println</code> is a side-effect."}],"tags":[],"owner":{"account_id":6166763,"reputation":83,"user_id":4806379,"display_name":"climbing_bum"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1435280402,"creation_date":1435280402,"answer_id":31063252,"question_id":20746429,"body_markdown":"Here is my attempt using just Java Stream library.\r\n\r\n            IntStream.iterate(0, i -&gt; i + 1)\r\n            .filter(n -&gt; {\r\n                    if (n &lt; 10) {\r\n                        System.out.println(n);\r\n                        return false;\r\n                    } else {\r\n                        return true;\r\n                    }\r\n                })\r\n            .findAny();\r\n","title":"Limit a stream by a predicate","body":"<p>Here is my attempt using just Java Stream library.</p>\n\n<pre><code>        IntStream.iterate(0, i -&gt; i + 1)\n        .filter(n -&gt; {\n                if (n &lt; 10) {\n                    System.out.println(n);\n                    return false;\n                } else {\n                    return true;\n                }\n            })\n        .findAny();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25162,"reputation":31580,"user_id":64474,"display_name":"Miles"},"score":3,"creation_date":1450228260,"post_id":32304570,"comment_id":56346817,"body_markdown":"Direct link to the preview docs for JDK9 Stream, with `takeWhile`/`dropWhile`: http://download.java.net/jdk9/docs/api/java/util/stream/Stream.html","body":"Direct link to the preview docs for JDK9 Stream, with <code>takeWhile</code>/<code>dropWhile</code>: <a href=\"http://download.java.net/jdk9/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">download.java.net/jdk9/docs/api/java/util/stream/Stream.html</a>"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1452125635,"post_id":32304570,"comment_id":57036312,"body_markdown":"Is there any reason why they&#39;re called `takeWhile` and `dropWhile` rather than `limitWhile` and `skipWhile`, for consistency with existing API?","body":"Is there any reason why they&#39;re called <code>takeWhile</code> and <code>dropWhile</code> rather than <code>limitWhile</code> and <code>skipWhile</code>, for consistency with existing API?"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":10,"creation_date":1452221162,"post_id":32304570,"comment_id":57083148,"body_markdown":"@LukasEder `takeWhile` and `dropWhile` are pretty widespread, occurring in Scala, Python, Groovy, Ruby, Haskell, and Clojure. The asymmetry with `skip` and `limit` is unfortunate. Maybe `skip` and `limit` ought to have been called `drop` and `take`, but those aren&#39;t as intuitive unless you&#39;re already familiar with Haskell.","body":"@LukasEder <code>takeWhile</code> and <code>dropWhile</code> are pretty widespread, occurring in Scala, Python, Groovy, Ruby, Haskell, and Clojure. The asymmetry with <code>skip</code> and <code>limit</code> is unfortunate. Maybe <code>skip</code> and <code>limit</code> ought to have been called <code>drop</code> and <code>take</code>, but those aren&#39;t as intuitive unless you&#39;re already familiar with Haskell."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":3,"creation_date":1452245884,"post_id":32304570,"comment_id":57092500,"body_markdown":"@StuartMarks: I understand that `dropXXX` and `takeXXX` are more popular terms but I can personally live with the more SQL-esque `limitXXX` and `skipXXX`. I find this new asymmetry much more confusing than the individual choice of terms... :) (btw: Scala also has `drop(int)` and `take(int)`)","body":"@StuartMarks: I understand that <code>dropXXX</code> and <code>takeXXX</code> are more popular terms but I can personally live with the more SQL-esque <code>limitXXX</code> and <code>skipXXX</code>. I find this new asymmetry much more confusing than the individual choice of terms... :) (btw: Scala also has <code>drop(int)</code> and <code>take(int)</code>)"},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":4,"creation_date":1561935157,"post_id":32304570,"comment_id":100209628,"body_markdown":"yeah let me just upgrade to Jdk 9 in production. Many devs are still on Jdk8, such a feature should have been included with Streams from the start.","body":"yeah let me just upgrade to Jdk 9 in production. Many devs are still on Jdk8, such a feature should have been included with Streams from the start."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1606574872,"post_id":32304570,"comment_id":115003787,"body_markdown":"`IntStream .iterate(1, n -&gt; n + 1) .takeWhile(n -&gt; n &lt; 10)` can be simplified to `IntStream .iterate(1, n -&gt; n &lt; 10, n -&gt; n + 1)`","body":"<code>IntStream .iterate(1, n -&gt; n + 1) .takeWhile(n -&gt; n &lt; 10)</code> can be simplified to <code>IntStream .iterate(1, n -&gt; n &lt; 10, n -&gt; n + 1)</code>"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1616433956,"post_id":32304570,"comment_id":117995833,"body_markdown":"@Holger it&#39;s preference, but I prefer the slightly more verbose one as it is easier to understand what is going on.","body":"@Holger it&#39;s preference, but I prefer the slightly more verbose one as it is easier to understand what is going on."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1616489659,"post_id":32304570,"comment_id":118011173,"body_markdown":"@ArchimedesTrajano in this case it’s understandable as `iterate(1, n -&gt; n &lt; 10, n -&gt; n + 1)` directly corresponds to `for(int n = 1; n &lt; 10; n = n + 1)`","body":"@ArchimedesTrajano in this case it’s understandable as <code>iterate(1, n -&gt; n &lt; 10, n -&gt; n + 1)</code> directly corresponds to <code>for(int n = 1; n &lt; 10; n = n + 1)</code>"}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":8,"down_vote_count":4,"up_vote_count":171,"is_accepted":true,"score":167,"last_activity_date":1597519358,"creation_date":1440999413,"answer_id":32304570,"question_id":20746429,"body_markdown":"Operations `takeWhile` and `dropWhile` have been added to JDK 9. Your example code\r\n\r\n    IntStream\r\n        .iterate(1, n -&gt; n + 1)\r\n        .takeWhile(n -&gt; n &lt; 10)\r\n        .forEach(System.out::println);\r\n\r\nwill behave exactly as you expect it to when compiled and run under JDK 9.\r\n\r\nJDK 9 has been released. It is available for download here: [JDK 9 Releases](http://jdk.java.net/9/).\r\n","title":"Limit a stream by a predicate","body":"<p>Operations <code>takeWhile</code> and <code>dropWhile</code> have been added to JDK 9. Your example code</p>\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .takeWhile(n -&gt; n &lt; 10)\n    .forEach(System.out::println);\n</code></pre>\n<p>will behave exactly as you expect it to when compiled and run under JDK 9.</p>\n<p>JDK 9 has been released. It is available for download here: <a href=\"http://jdk.java.net/9/\" rel=\"noreferrer\">JDK 9 Releases</a>.</p>\n"},{"comments":[{"owner":{"account_id":3979145,"reputation":303,"user_id":6645422,"display_name":"th0masb"},"score":0,"creation_date":1523293448,"post_id":32304962,"comment_id":86490442,"body_markdown":"Why have you not implemented it for the StreamEx class?","body":"Why have you not implemented it for the StreamEx class?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1523502422,"post_id":32304962,"comment_id":86589862,"body_markdown":"@Someguy I did implement it.","body":"@Someguy I did implement it."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1441001807,"creation_date":1441001807,"answer_id":32304962,"question_id":20746429,"body_markdown":"As a follow-up to [@StuartMarks answer](https://stackoverflow.com/a/32304570/4856258). My [StreamEx](https://github.com/amaembo/streamex) library has the [`takeWhile`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/IntStreamEx.html#takeWhile-java.util.function.IntPredicate-) operation which is compatible with current JDK-9 implementation. When running under JDK-9 it will just delegate to the JDK implementation (via `MethodHandle.invokeExact` which is really fast). When running under JDK-8, the &quot;polyfill&quot; implementation will be used. So using my library the problem can be solved like this:\r\n\r\n\tIntStreamEx.iterate(1, n -&gt; n + 1)\r\n\t\t\t   .takeWhile(n -&gt; n &lt; 10)\r\n\t\t\t   .forEach(System.out::println);\r\n","title":"Limit a stream by a predicate","body":"<p>As a follow-up to <a href=\"https://stackoverflow.com/a/32304570/4856258\">@StuartMarks answer</a>. My <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library has the <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/IntStreamEx.html#takeWhile-java.util.function.IntPredicate-\" rel=\"noreferrer\"><code>takeWhile</code></a> operation which is compatible with current JDK-9 implementation. When running under JDK-9 it will just delegate to the JDK implementation (via <code>MethodHandle.invokeExact</code> which is really fast). When running under JDK-8, the \"polyfill\" implementation will be used. So using my library the problem can be solved like this:</p>\n\n<pre><code>IntStreamEx.iterate(1, n -&gt; n + 1)\n           .takeWhile(n -&gt; n &lt; 10)\n           .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1673454509,"creation_date":1480534126,"answer_id":40896610,"question_id":20746429,"body_markdown":"Go to get library [abacus-common][1]. It provides the exact API you want and more:\r\n\r\n    \r\n    IntStream.iterate(1, n -&gt; n + 1).takeWhile(n -&gt; n &lt; 10).forEach(System.out::println);\r\n\r\nDeclaration： I&#39;m the developer of AbacusUtil.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Limit a stream by a predicate","body":"<p>Go to get library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>. It provides the exact API you want and more:</p>\n<pre><code>IntStream.iterate(1, n -&gt; n + 1).takeWhile(n -&gt; n &lt; 10).forEach(System.out::println);\n</code></pre>\n<p>Declaration： I'm the developer of AbacusUtil.</p>\n"},{"comments":[{"owner":{"account_id":3723533,"reputation":767,"user_id":3097931,"accept_rate":44,"display_name":"Matthew"},"score":0,"creation_date":1490460781,"post_id":42706892,"comment_id":73126385,"body_markdown":"It&#39;s lame that some anonymous rater downrated my answer without saying why. So neither I nor any other reader knows what&#39;s wrong with my answer. In the absence of their justification I&#39;ll consider their criticism invalid, and my answer as posted to be correct.","body":"It&#39;s lame that some anonymous rater downrated my answer without saying why. So neither I nor any other reader knows what&#39;s wrong with my answer. In the absence of their justification I&#39;ll consider their criticism invalid, and my answer as posted to be correct."},{"owner":{"account_id":135882,"reputation":84,"user_id":339028,"display_name":"SenoCtar"},"score":0,"creation_date":1491291778,"post_id":42706892,"comment_id":73474075,"body_markdown":"You answer does not solve the OPs problem, which is dealing with infinite streams. It also seems to needlessly complicate things as you can write the condition in the filter() call itself, without needing map().\nThe question already has an example code, just try to apply your answer to that code and you will see the program will loop forever.","body":"You answer does not solve the OPs problem, which is dealing with infinite streams. It also seems to needlessly complicate things as you can write the condition in the filter() call itself, without needing map(). The question already has an example code, just try to apply your answer to that code and you will see the program will loop forever."}],"tags":[],"owner":{"account_id":3723533,"reputation":767,"user_id":3097931,"accept_rate":44,"display_name":"Matthew"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489099198,"creation_date":1489099198,"answer_id":42706892,"question_id":20746429,"body_markdown":"You can&#39;t abort a stream except by a short-circuiting terminal operation, which would leave some stream values unprocessed regardless of their value. But if you just want to avoid operations on a stream you can add a transform and filter to the stream:\r\n\r\n    import java.util.Objects;\r\n    \r\n    class ThingProcessor\r\n    {\r\n        static Thing returnNullOnCondition(Thing thing)\r\n        {    return( (*** is condition met ***)? null : thing);    }\r\n        \r\n        void processThings(Collection&lt;Thing&gt; thingsCollection)\r\n        {\r\n            thingsCollection.stream()\r\n            *** regular stream processing ***\r\n            .map(ThingProcessor::returnNullOnCondition)\r\n            .filter(Objects::nonNull)\r\n            *** continue stream processing ***\r\n        }\r\n    } // class ThingProcessor\r\n\r\nThat transforms the stream of things to nulls when the things meet some condition, then filters out nulls.  If you&#39;re willing to indulge in side effects, you could set the condition value to true once some thing is encountered, so all subsequent things are filtered out regardless of their value. But even if not you can save a lot of (if not quite all) processing by filtering values out of the stream that you don&#39;t want to process.","title":"Limit a stream by a predicate","body":"<p>You can't abort a stream except by a short-circuiting terminal operation, which would leave some stream values unprocessed regardless of their value. But if you just want to avoid operations on a stream you can add a transform and filter to the stream:</p>\n\n<pre><code>import java.util.Objects;\n\nclass ThingProcessor\n{\n    static Thing returnNullOnCondition(Thing thing)\n    {    return( (*** is condition met ***)? null : thing);    }\n\n    void processThings(Collection&lt;Thing&gt; thingsCollection)\n    {\n        thingsCollection.stream()\n        *** regular stream processing ***\n        .map(ThingProcessor::returnNullOnCondition)\n        .filter(Objects::nonNull)\n        *** continue stream processing ***\n    }\n} // class ThingProcessor\n</code></pre>\n\n<p>That transforms the stream of things to nulls when the things meet some condition, then filters out nulls.  If you're willing to indulge in side effects, you could set the condition value to true once some thing is encountered, so all subsequent things are filtered out regardless of their value. But even if not you can save a lot of (if not quite all) processing by filtering values out of the stream that you don't want to process.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1493892332,"creation_date":1493892332,"answer_id":43779847,"question_id":20746429,"body_markdown":"Actually there are 2 ways to do it in Java 8 without any extra libraries or using Java 9.\r\n\r\nIf you want to print numbers from 2 to 20 on the console you can do this:\r\n\r\n    IntStream.iterate(2, (i) -&gt; i + 2).peek(System.out::println).allMatch(i -&gt; i &lt; 20);\r\n\r\nor\r\n\r\n    IntStream.iterate(2, (i) -&gt; i + 2).peek(System.out::println).anyMatch(i -&gt; i &gt;= 20);\r\n\r\nThe output is in both cases:\r\n\r\n    2\r\n    4\r\n    6\r\n    8\r\n    10\r\n    12\r\n    14\r\n    16\r\n    18\r\n    20\r\n\r\nNo one mentioned *anyMatch* yet. This is the reason for this post.\r\n\r\n","title":"Limit a stream by a predicate","body":"<p>Actually there are 2 ways to do it in Java 8 without any extra libraries or using Java 9.</p>\n\n<p>If you want to print numbers from 2 to 20 on the console you can do this:</p>\n\n<pre><code>IntStream.iterate(2, (i) -&gt; i + 2).peek(System.out::println).allMatch(i -&gt; i &lt; 20);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>IntStream.iterate(2, (i) -&gt; i + 2).peek(System.out::println).anyMatch(i -&gt; i &gt;= 20);\n</code></pre>\n\n<p>The output is in both cases:</p>\n\n<pre><code>2\n4\n6\n8\n10\n12\n14\n16\n18\n20\n</code></pre>\n\n<p>No one mentioned <em>anyMatch</em> yet. This is the reason for this post.</p>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1497538426,"creation_date":1497538426,"answer_id":44570690,"question_id":20746429,"body_markdown":"If you have different problem, different solution may be needed but for your current problem, I would simply go with:\r\n\r\n    IntStream\r\n        .iterate(1, n -&gt; n + 1)\r\n        .limit(10)\r\n        .forEach(System.out::println);\r\n\r\n","title":"Limit a stream by a predicate","body":"<p>If you have different problem, different solution may be needed but for your current problem, I would simply go with:</p>\n\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .limit(10)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6493251,"reputation":519,"user_id":5026611,"display_name":"martian"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1529418391,"creation_date":1506511022,"answer_id":46446546,"question_id":20746429,"body_markdown":"This is the source copied from JDK 9 java.util.stream.Stream.takeWhile(Predicate). A little difference in order to work with JDK 8.\r\n\r\n\r\n    static &lt;T&gt; Stream&lt;T&gt; takeWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; p) {\r\n        class Taking extends Spliterators.AbstractSpliterator&lt;T&gt; implements Consumer&lt;T&gt; {\r\n            private static final int CANCEL_CHECK_COUNT = 63;\r\n            private final Spliterator&lt;T&gt; s;\r\n            private int count;\r\n            private T t;\r\n            private final AtomicBoolean cancel = new AtomicBoolean();\r\n            private boolean takeOrDrop = true;\r\n\r\n            Taking(Spliterator&lt;T&gt; s) {\r\n                super(s.estimateSize(), s.characteristics() &amp; ~(Spliterator.SIZED | Spliterator.SUBSIZED));\r\n                this.s = s;\r\n            }\r\n\r\n            @Override\r\n            public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\r\n                boolean test = true;\r\n                if (takeOrDrop &amp;&amp;               // If can take\r\n                        (count != 0 || !cancel.get()) &amp;&amp; // and if not cancelled\r\n                        s.tryAdvance(this) &amp;&amp;   // and if advanced one element\r\n                        (test = p.test(t))) {   // and test on element passes\r\n                    action.accept(t);           // then accept element\r\n                    return true;\r\n                } else {\r\n                    // Taking is finished\r\n                    takeOrDrop = false;\r\n                    // Cancel all further traversal and splitting operations\r\n                    // only if test of element failed (short-circuited)\r\n                    if (!test)\r\n                        cancel.set(true);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Comparator&lt;? super T&gt; getComparator() {\r\n                return s.getComparator();\r\n            }\r\n\r\n            @Override\r\n            public void accept(T t) {\r\n                count = (count + 1) &amp; CANCEL_CHECK_COUNT;\r\n                this.t = t;\r\n            }\r\n\r\n            @Override\r\n            public Spliterator&lt;T&gt; trySplit() {\r\n                return null;\r\n            }\r\n        }\r\n        return StreamSupport.stream(new Taking(stream.spliterator()), stream.isParallel()).onClose(stream::close);\r\n    }\r\n","title":"Limit a stream by a predicate","body":"<p>This is the source copied from JDK 9 java.util.stream.Stream.takeWhile(Predicate). A little difference in order to work with JDK 8.</p>\n\n<pre><code>static &lt;T&gt; Stream&lt;T&gt; takeWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; p) {\n    class Taking extends Spliterators.AbstractSpliterator&lt;T&gt; implements Consumer&lt;T&gt; {\n        private static final int CANCEL_CHECK_COUNT = 63;\n        private final Spliterator&lt;T&gt; s;\n        private int count;\n        private T t;\n        private final AtomicBoolean cancel = new AtomicBoolean();\n        private boolean takeOrDrop = true;\n\n        Taking(Spliterator&lt;T&gt; s) {\n            super(s.estimateSize(), s.characteristics() &amp; ~(Spliterator.SIZED | Spliterator.SUBSIZED));\n            this.s = s;\n        }\n\n        @Override\n        public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\n            boolean test = true;\n            if (takeOrDrop &amp;&amp;               // If can take\n                    (count != 0 || !cancel.get()) &amp;&amp; // and if not cancelled\n                    s.tryAdvance(this) &amp;&amp;   // and if advanced one element\n                    (test = p.test(t))) {   // and test on element passes\n                action.accept(t);           // then accept element\n                return true;\n            } else {\n                // Taking is finished\n                takeOrDrop = false;\n                // Cancel all further traversal and splitting operations\n                // only if test of element failed (short-circuited)\n                if (!test)\n                    cancel.set(true);\n                return false;\n            }\n        }\n\n        @Override\n        public Comparator&lt;? super T&gt; getComparator() {\n            return s.getComparator();\n        }\n\n        @Override\n        public void accept(T t) {\n            count = (count + 1) &amp; CANCEL_CHECK_COUNT;\n            this.t = t;\n        }\n\n        @Override\n        public Spliterator&lt;T&gt; trySplit() {\n            return null;\n        }\n    }\n    return StreamSupport.stream(new Taking(stream.spliterator()), stream.isParallel()).onClose(stream::close);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7403907,"reputation":21,"user_id":5633377,"display_name":"Chinmay Phadke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532251349,"creation_date":1508850143,"answer_id":46911329,"question_id":20746429,"body_markdown":"Even I was having a similar requirement -- invoke the web-service, if it fails, retry it 3 times. If it fails even after these many trials, send an email notification. After googling a lot, `anyMatch()` came as a saviour. My sample code as follows. In the following example, if **webServiceCall** method returns true in the first iteration itself, stream does not iterate further as we have called `anyMatch()`. I believe, this is what you are looking for.\r\n\r\n    import java.util.stream.IntStream;\r\n\r\n    import io.netty.util.internal.ThreadLocalRandom;\r\n\r\n    class TrialStreamMatch {\r\n\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\tif(!IntStream.range(1,3).anyMatch(integ -&gt; webServiceCall(integ))){\r\n             //Code for sending email notifications\r\n        }\r\n\t}\r\n\r\n\tpublic static boolean webServiceCall(int i){\r\n        //For time being, I have written a code for generating boolean randomly\r\n        //This whole piece needs to be replaced by actual web-service client code\r\n\t\tboolean bool = ThreadLocalRandom.current().nextBoolean();\r\n\t\tSystem.out.println(&quot;Iteration index :: &quot;+i+&quot; bool :: &quot;+bool);\r\n\r\n        //Return success status -- true or false\r\n\t\treturn bool;\r\n    }\r\n","title":"Limit a stream by a predicate","body":"<p>Even I was having a similar requirement -- invoke the web-service, if it fails, retry it 3 times. If it fails even after these many trials, send an email notification. After googling a lot, <code>anyMatch()</code> came as a saviour. My sample code as follows. In the following example, if <strong>webServiceCall</strong> method returns true in the first iteration itself, stream does not iterate further as we have called <code>anyMatch()</code>. I believe, this is what you are looking for.</p>\n\n<pre><code>import java.util.stream.IntStream;\n\nimport io.netty.util.internal.ThreadLocalRandom;\n\nclass TrialStreamMatch {\n\npublic static void main(String[] args) {        \n    if(!IntStream.range(1,3).anyMatch(integ -&gt; webServiceCall(integ))){\n         //Code for sending email notifications\n    }\n}\n\npublic static boolean webServiceCall(int i){\n    //For time being, I have written a code for generating boolean randomly\n    //This whole piece needs to be replaced by actual web-service client code\n    boolean bool = ThreadLocalRandom.current().nextBoolean();\n    System.out.println(\"Iteration index :: \"+i+\" bool :: \"+bool);\n\n    //Return success status -- true or false\n    return bool;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2810135,"reputation":2075,"user_id":2416526,"display_name":"Max"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1532005838,"creation_date":1532005838,"answer_id":51423563,"question_id":20746429,"body_markdown":"Might be a bit off topic but this is what we have for `List&lt;T&gt;` rather than `Stream&lt;T&gt;`. \r\n\r\nFirst you need to have a `take` util method. This methods takes first `n` elements:\r\n\r\n    static &lt;T&gt; List&lt;T&gt; take(List&lt;T&gt; l, int n) {\r\n        if (n &lt;= 0) {\r\n            return newArrayList();\r\n        } else {\r\n            int takeTo = Math.min(Math.max(n, 0), l.size());\r\n            return l.subList(0, takeTo);\r\n        }\r\n    }\r\n\r\nit just works like `scala.List.take`\r\n\r\n        assertEquals(newArrayList(1, 2, 3), take(newArrayList(1, 2, 3, 4, 5), 3));\r\n        assertEquals(newArrayList(1, 2, 3), take(newArrayList(1, 2, 3), 5));\r\n\r\n        assertEquals(newArrayList(), take(newArrayList(1, 2, 3), -1));\r\n        assertEquals(newArrayList(), take(newArrayList(1, 2, 3), 0));\r\n\r\nnow it will be fairly simple to write a `takeWhile` method based on `take`\r\n\r\n    static &lt;T&gt; List&lt;T&gt; takeWhile(List&lt;T&gt; l, Predicate&lt;T&gt; p) {\r\n        return l.stream().\r\n                filter(p.negate()).findFirst(). // find first element when p is false\r\n                map(l::indexOf).        // find the index of that element\r\n                map(i -&gt; take(l, i)).   // take up to the index\r\n                orElse(l);  // return full list if p is true for all elements\r\n    }\r\n\r\nit works like this:\r\n\r\n        assertEquals(newArrayList(1, 2, 3), takeWhile(newArrayList(1, 2, 3, 4, 3, 2, 1), i -&gt; i &lt; 4));\r\n\r\nthis implementation iterate the list partially for a few times but it won&#39;t add add `O(n^2)` operations. Hope that&#39;s acceptable. \r\n","title":"Limit a stream by a predicate","body":"<p>Might be a bit off topic but this is what we have for <code>List&lt;T&gt;</code> rather than <code>Stream&lt;T&gt;</code>. </p>\n\n<p>First you need to have a <code>take</code> util method. This methods takes first <code>n</code> elements:</p>\n\n<pre><code>static &lt;T&gt; List&lt;T&gt; take(List&lt;T&gt; l, int n) {\n    if (n &lt;= 0) {\n        return newArrayList();\n    } else {\n        int takeTo = Math.min(Math.max(n, 0), l.size());\n        return l.subList(0, takeTo);\n    }\n}\n</code></pre>\n\n<p>it just works like <code>scala.List.take</code></p>\n\n<pre><code>    assertEquals(newArrayList(1, 2, 3), take(newArrayList(1, 2, 3, 4, 5), 3));\n    assertEquals(newArrayList(1, 2, 3), take(newArrayList(1, 2, 3), 5));\n\n    assertEquals(newArrayList(), take(newArrayList(1, 2, 3), -1));\n    assertEquals(newArrayList(), take(newArrayList(1, 2, 3), 0));\n</code></pre>\n\n<p>now it will be fairly simple to write a <code>takeWhile</code> method based on <code>take</code></p>\n\n<pre><code>static &lt;T&gt; List&lt;T&gt; takeWhile(List&lt;T&gt; l, Predicate&lt;T&gt; p) {\n    return l.stream().\n            filter(p.negate()).findFirst(). // find first element when p is false\n            map(l::indexOf).        // find the index of that element\n            map(i -&gt; take(l, i)).   // take up to the index\n            orElse(l);  // return full list if p is true for all elements\n}\n</code></pre>\n\n<p>it works like this:</p>\n\n<pre><code>    assertEquals(newArrayList(1, 2, 3), takeWhile(newArrayList(1, 2, 3, 4, 3, 2, 1), i -&gt; i &lt; 4));\n</code></pre>\n\n<p>this implementation iterate the list partially for a few times but it won't add add <code>O(n^2)</code> operations. Hope that's acceptable. </p>\n"},{"comments":[{"owner":{"account_id":1008902,"reputation":12661,"user_id":1021920,"accept_rate":70,"display_name":"hellow"},"score":1,"creation_date":1537771632,"post_id":52472225,"comment_id":91889518,"body_markdown":"While this might answer the authors question, it lacks some explaining words and links to documentation. Raw code snippets are not very helpful without some phrases around it. You may also find [how to write a good answer](https://stackoverflow.com/help/how-to-answer) very helpful. Please edit your answer.","body":"While this might answer the authors question, it lacks some explaining words and links to documentation. Raw code snippets are not very helpful without some phrases around it. You may also find <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write a good answer</a> very helpful. Please edit your answer."}],"tags":[],"owner":{"account_id":10104300,"reputation":67,"user_id":7467362,"display_name":"Dilip Tharoor"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1537758657,"creation_date":1537758657,"answer_id":52472225,"question_id":20746429,"body_markdown":"If you know the exact amount of repititions that will be performed, you can do \r\n\r\n    IntStream\r\n              .iterate(1, n -&gt; n + 1)\r\n              .limit(10)\r\n              .forEach(System.out::println);\r\n","title":"Limit a stream by a predicate","body":"<p>If you know the exact amount of repititions that will be performed, you can do </p>\n\n<pre><code>IntStream\n          .iterate(1, n -&gt; n + 1)\n          .limit(10)\n          .forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":0,"creation_date":1610705762,"post_id":55812232,"comment_id":116222341,"body_markdown":"This should be the accepted answer, if that works consistently","body":"This should be the accepted answer, if that works consistently"}],"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557074450,"creation_date":1556025701,"answer_id":55812232,"question_id":20746429,"body_markdown":"\t\tIntStream.iterate(1, n -&gt; n + 1)\r\n\t\t.peek(System.out::println) //it will be executed 9 times\r\n\t\t.filter(n-&gt;n&gt;=9)\r\n\t\t.findAny();\r\n\r\ninstead of peak you can use mapToObj to return final object or message\r\n\r\n \t\tIntStream.iterate(1, n -&gt; n + 1)\r\n\t\t.mapToObj(n-&gt;{   //it will be executed 9 times\r\n                if(n&lt;9)\r\n                    return &quot;&quot;;\r\n                return &quot;Loop repeats &quot; + n + &quot; times&quot;;});\r\n\t\t.filter(message-&gt;!message.isEmpty())\r\n\t\t.findAny()\r\n        .ifPresent(System.out::println);","title":"Limit a stream by a predicate","body":"<pre><code>    IntStream.iterate(1, n -&gt; n + 1)\n    .peek(System.out::println) //it will be executed 9 times\n    .filter(n-&gt;n&gt;=9)\n    .findAny();\n</code></pre>\n\n<p>instead of peak you can use mapToObj to return final object or message</p>\n\n<pre><code>    IntStream.iterate(1, n -&gt; n + 1)\n    .mapToObj(n-&gt;{   //it will be executed 9 times\n            if(n&lt;9)\n                return \"\";\n            return \"Loop repeats \" + n + \" times\";});\n    .filter(message-&gt;!message.isEmpty())\n    .findAny()\n    .ifPresent(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":229289,"reputation":8836,"user_id":492158,"display_name":"MForster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95187,"favorite_count":0,"down_vote_count":0,"up_vote_count":219,"accepted_answer_id":32304570,"answer_count":19,"score":219,"last_activity_date":1673454509,"creation_date":1387812299,"question_id":20746429,"body_markdown":"Is there a Java 8 stream operation that limits a (potentially infinite) `Stream` until the first element fails to match a predicate?\r\n\r\nIn Java 9 we can use `takeWhile` as in the example below to print all the numbers less than 10.\r\n\r\n    IntStream\r\n        .iterate(1, n -&gt; n + 1)\r\n        .takeWhile(n -&gt; n &lt; 10)\r\n        .forEach(System.out::println);\r\n\r\nAs there is no such operation in Java 8, what&#39;s the best way of implementing it in a general way? ","title":"Limit a stream by a predicate","body":"<p>Is there a Java 8 stream operation that limits a (potentially infinite) <code>Stream</code> until the first element fails to match a predicate?</p>\n\n<p>In Java 9 we can use <code>takeWhile</code> as in the example below to print all the numbers less than 10.</p>\n\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .takeWhile(n -&gt; n &lt; 10)\n    .forEach(System.out::println);\n</code></pre>\n\n<p>As there is no such operation in Java 8, what's the best way of implementing it in a general way? </p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1495713143,"creation_date":1495713143,"answer_id":44179923,"question_id":44171555,"body_markdown":"    Map&lt;String, Set&lt;Bank&gt;&gt; result = new HashMap&lt;&gt;();\r\n    for (Bank bank : banks) {\r\n        for (String branch : bank.getBranches()) {\r\n            result.computeIfAbsent(branch, b -&gt; new HashSet&lt;Bank&gt;()).add(bank);\r\n        }\r\n    }","title":"Group objects by multiple attributes with Java 8 stream API","body":"<pre><code>Map&lt;String, Set&lt;Bank&gt;&gt; result = new HashMap&lt;&gt;();\nfor (Bank bank : banks) {\n    for (String branch : bank.getBranches()) {\n        result.computeIfAbsent(branch, b -&gt; new HashSet&lt;Bank&gt;()).add(bank);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495715178,"creation_date":1495715178,"answer_id":44180551,"question_id":44171555,"body_markdown":"     banks.flatMap(bank -&gt; bank.getBranches()\r\n                 .stream()\r\n                 .map(branch -&gt; new AbstractMap.SimpleEntry&lt;&gt;(branch, bank)))\r\n           .collect(Collectors.groupingBy(\r\n                 Entry::getKey, \r\n                 Collectors.mapping(Entry::getValue, Collectors.toList())));\r\n\r\nResult would be:\r\n\r\n    {London=[Mizuho, Goldman], NewYork=[Mizuho], Toronto=[Goldman]}","title":"Group objects by multiple attributes with Java 8 stream API","body":"<pre><code> banks.flatMap(bank -&gt; bank.getBranches()\n             .stream()\n             .map(branch -&gt; new AbstractMap.SimpleEntry&lt;&gt;(branch, bank)))\n       .collect(Collectors.groupingBy(\n             Entry::getKey, \n             Collectors.mapping(Entry::getValue, Collectors.toList())));\n</code></pre>\n\n<p>Result would be:</p>\n\n<pre><code>{London=[Mizuho, Goldman], NewYork=[Mizuho], Toronto=[Goldman]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495739765,"creation_date":1495739765,"answer_id":44188210,"question_id":44171555,"body_markdown":"You could do it using the version of [`Stream.collect`][1] that accepts a supplier, an accumulator function and a combiner function, as follows:\r\n\r\n    Map&lt;String, List&lt;Bank&gt;&gt; result = banks.stream()\r\n        .collect(\r\n            HashMap::new,\r\n            (map, bank) -&gt; bank.getBranches().forEach(branch -&gt;\r\n                map.computeIfAbsent(branch, k -&gt; new ArrayList&lt;&gt;()).add(bank)),\r\n            (map1, map2) -&gt; map2.forEach((k, v) -&gt; map1.merge(k, v, (l1, l2) -&gt; {\r\n                l1.addAll(l2);\r\n                return l1;\r\n            })));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-","title":"Group objects by multiple attributes with Java 8 stream API","body":"<p>You could do it using the version of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>Stream.collect</code></a> that accepts a supplier, an accumulator function and a combiner function, as follows:</p>\n\n<pre><code>Map&lt;String, List&lt;Bank&gt;&gt; result = banks.stream()\n    .collect(\n        HashMap::new,\n        (map, bank) -&gt; bank.getBranches().forEach(branch -&gt;\n            map.computeIfAbsent(branch, k -&gt; new ArrayList&lt;&gt;()).add(bank)),\n        (map1, map2) -&gt; map2.forEach((k, v) -&gt; map1.merge(k, v, (l1, l2) -&gt; {\n            l1.addAll(l2);\n            return l1;\n        })));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673454400,"creation_date":1495864171,"answer_id":44213413,"question_id":44171555,"body_markdown":"I think solution provided by @JB Nizet is one of the most simple/efficient solutions. it can also be rewritten by forEach\r\n\r\n    banks.forEach(b -&gt; b.getBranches().forEach(ch -&gt; result.computeIfAbsent(ch, k -&gt; new ArrayList&lt;&gt;()).add(b)));\r\n\r\n\r\nAnother short solution by Stream with [abacus-common][1]\r\n\r\n    Map&lt;String, List&lt;Bank&gt;&gt; res = Stream.of(banks)\r\n              .flatMap(e -&gt; Stream.of(e.getBranches()).map(b -&gt; Pair.of(b, e)))\r\n              .collect(Collectors.toMap2());\r\n        \r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Group objects by multiple attributes with Java 8 stream API","body":"<p>I think solution provided by @JB Nizet is one of the most simple/efficient solutions. it can also be rewritten by forEach</p>\n<pre><code>banks.forEach(b -&gt; b.getBranches().forEach(ch -&gt; result.computeIfAbsent(ch, k -&gt; new ArrayList&lt;&gt;()).add(b)));\n</code></pre>\n<p>Another short solution by Stream with <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;String, List&lt;Bank&gt;&gt; res = Stream.of(banks)\n          .flatMap(e -&gt; Stream.of(e.getBranches()).map(b -&gt; Pair.of(b, e)))\n          .collect(Collectors.toMap2());\n    \n</code></pre>\n"}],"owner":{"account_id":9838855,"reputation":103,"user_id":7288380,"display_name":"haint504"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44179923,"answer_count":4,"score":4,"last_activity_date":1673454400,"creation_date":1495681017,"question_id":44171555,"body_markdown":"Given we have a list of Bank, each Bank have multiple offices, \r\n\r\n    public class Bank {\r\n       private String name;\r\n       private List&lt;String&gt; branches;\r\n       public String getName(){\r\n           return name;\r\n       }\r\n       public List&lt;String&gt; getBranches(){\r\n           return branches;\r\n       }\r\n    }\r\n\r\nFor example: \r\n\r\n    Bank &quot;Mizuho&quot;: branches=[&quot;London&quot;, &quot;New York&quot;]\r\n    Bank &quot;Goldman&quot;: branches = [&quot;London&quot;, &quot;Toronto&quot;]\r\n\r\nGiven a list of banks, I would have a map of bank representation for each city. In the example above, I need a result of \r\n\r\n    Map[&quot;London&quot;] == [&quot;Mizuho&quot;, &quot;Goldman&quot;]\r\n    Map[&quot;New York&quot;] == [&quot;Mizuho&quot;]\r\n    Map[&quot;Toronto&quot;] == [&quot;Goldman&quot;]\r\n\r\nHow can I achieve that result using Java 8 API? Using pre-Java8 is easy, but verbose. \r\nThank you.\r\n    ","title":"Group objects by multiple attributes with Java 8 stream API","body":"<p>Given we have a list of Bank, each Bank have multiple offices, </p>\n\n<pre><code>public class Bank {\n   private String name;\n   private List&lt;String&gt; branches;\n   public String getName(){\n       return name;\n   }\n   public List&lt;String&gt; getBranches(){\n       return branches;\n   }\n}\n</code></pre>\n\n<p>For example: </p>\n\n<pre><code>Bank \"Mizuho\": branches=[\"London\", \"New York\"]\nBank \"Goldman\": branches = [\"London\", \"Toronto\"]\n</code></pre>\n\n<p>Given a list of banks, I would have a map of bank representation for each city. In the example above, I need a result of </p>\n\n<pre><code>Map[\"London\"] == [\"Mizuho\", \"Goldman\"]\nMap[\"New York\"] == [\"Mizuho\"]\nMap[\"Toronto\"] == [\"Goldman\"]\n</code></pre>\n\n<p>How can I achieve that result using Java 8 API? Using pre-Java8 is easy, but verbose. \nThank you.</p>\n"},{"tags":["java","list","java-8","java-stream"],"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1493188882,"post_id":43616422,"comment_id":74302162,"body_markdown":"You can get a `Map` of `Company` to most used tag for that company using a `Stream` too. Also, no need for the `!company.getPerson().isEmpty()` etc.","body":"You can get a <code>Map</code> of <code>Company</code> to most used tag for that company using a <code>Stream</code> too. Also, no need for the <code>!company.getPerson().isEmpty()</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493141059,"creation_date":1493139504,"answer_id":43616793,"question_id":43616422,"body_markdown":"This should work for you:\r\n\r\n\tprivate void run() {\r\n\t\tList&lt;Person&gt; list = Arrays.asList(() -&gt; &quot;foo&quot;, () -&gt; &quot;foo&quot;, () -&gt; &quot;foo&quot;,\r\n                                          () -&gt; &quot;bar&quot;, () -&gt; &quot;bar&quot;);\r\n\t\tMap&lt;String, Long&gt; commonness = list.stream()\r\n                .collect(Collectors.groupingBy(Person::getTag, Collectors.counting()));\r\n\t\tOptional&lt;String&gt; mostCommon = commonness.entrySet().stream()\r\n                .max(Map.Entry.comparingByValue())\r\n                .map(Map.Entry::getKey);\r\n\t\tSystem.out.println(mostCommon.orElse(&quot;no elements in list&quot;));\r\n\t}\r\n\r\n\tpublic interface Person {\r\n\t\tString getTag();\r\n\t}\r\n\r\nThe `commonness` map contains the information which tag was found how often. The variable `mostCommon` contains the tag that was found most often. Also, `mostCommon` is empty, if the original list was empty.","title":"Find the most common attribute value from a List of objects using Stream","body":"<p>This should work for you:</p>\n\n<pre><code>private void run() {\n    List&lt;Person&gt; list = Arrays.asList(() -&gt; \"foo\", () -&gt; \"foo\", () -&gt; \"foo\",\n                                      () -&gt; \"bar\", () -&gt; \"bar\");\n    Map&lt;String, Long&gt; commonness = list.stream()\n            .collect(Collectors.groupingBy(Person::getTag, Collectors.counting()));\n    Optional&lt;String&gt; mostCommon = commonness.entrySet().stream()\n            .max(Map.Entry.comparingByValue())\n            .map(Map.Entry::getKey);\n    System.out.println(mostCommon.orElse(\"no elements in list\"));\n}\n\npublic interface Person {\n    String getTag();\n}\n</code></pre>\n\n<p>The <code>commonness</code> map contains the information which tag was found how often. The variable <code>mostCommon</code> contains the tag that was found most often. Also, <code>mostCommon</code> is empty, if the original list was empty.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1493201132,"post_id":43616794,"comment_id":74310142,"body_markdown":"This comparator does not handle equality - while this may work for `max`, it is usually not a good idea to do this - just use one of the numerous ways  to get an appropriate `Comparator`, e.g. via `Comparator.comparingLong`, `Long::compareTo`, [`Map.Entry.comparingByValue`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html#comparingByValue--)","body":"This comparator does not handle equality - while this may work for <code>max</code>, it is usually not a good idea to do this - just use one of the numerous ways  to get an appropriate <code>Comparator</code>, e.g. via <code>Comparator.comparingLong</code>, <code>Long::compareTo</code>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html#comparingByValue--\" rel=\"nofollow noreferrer\"><code>Map.Entry.comparingByValue</code></a>"}],"tags":[],"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493141124,"creation_date":1493139511,"answer_id":43616794,"question_id":43616422,"body_markdown":"This is helpful for you,\r\n\r\n \r\n\r\n    Map&lt;String, Long&gt; count = persons.stream().collect(\r\n                    Collectors.groupingBy(Person::getTag, Collectors.counting()));\r\n\r\n    Optional&lt;Entry&lt;String, Long&gt;&gt; maxValue = count .entrySet()\r\n            .stream().max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1).get().getKey();\r\n\r\n    maxValue.get().getValue();\r\n\r\n\r\n\r\n","title":"Find the most common attribute value from a List of objects using Stream","body":"<p>This is helpful for you,</p>\n\n<pre><code>Map&lt;String, Long&gt; count = persons.stream().collect(\n                Collectors.groupingBy(Person::getTag, Collectors.counting()));\n\nOptional&lt;Entry&lt;String, Long&gt;&gt; maxValue = count .entrySet()\n        .stream().max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1).get().getKey();\n\nmaxValue.get().getValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9755647,"reputation":810,"user_id":7232500,"accept_rate":0,"display_name":"000000000000000000000"},"score":0,"creation_date":1493145816,"post_id":43616847,"comment_id":74286039,"body_markdown":"Thanks for the detailed answer.  One clarification though, I am getting an &quot;element cannot be mapped to a null key&quot; exception due to apparently some Person without a Tag value.  How should I handle this in the Stream.","body":"Thanks for the detailed answer.  One clarification though, I am getting an &quot;element cannot be mapped to a null key&quot; exception due to apparently some Person without a Tag value.  How should I handle this in the Stream."}],"tags":[],"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1493149234,"creation_date":1493139684,"answer_id":43616847,"question_id":43616422,"body_markdown":"    String mostCommonTag = getPerson().stream()\r\n            // filter some person without a tag out \r\n            .filter(it -&gt; Objects.nonNull(it.getTag()))\r\n            // summarize tags\r\n            .collect(Collectors.groupingBy(Person::getTag, Collectors.counting()))\r\n            // fetch the max entry\r\n            .entrySet().stream().max(Map.Entry.comparingByValue())\r\n            // map to tag\r\n            .map(Map.Entry::getKey).orElse(null);\r\n\r\n**AND** the `getTag` method appeared twice, you can simplify the code as further:\r\n\r\n    String mostCommonTag = getPerson().stream()\r\n            // map person to tag &amp; filter null tag out \r\n            .map(Person::getTag).filter(Objects::nonNull)\r\n            // summarize tags\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n            // fetch the max entry\r\n            .entrySet().stream().max(Map.Entry.comparingByValue())\r\n            // map to tag\r\n            .map(Map.Entry::getKey).orElse(null);","title":"Find the most common attribute value from a List of objects using Stream","body":"<pre><code>String mostCommonTag = getPerson().stream()\n        // filter some person without a tag out \n        .filter(it -&gt; Objects.nonNull(it.getTag()))\n        // summarize tags\n        .collect(Collectors.groupingBy(Person::getTag, Collectors.counting()))\n        // fetch the max entry\n        .entrySet().stream().max(Map.Entry.comparingByValue())\n        // map to tag\n        .map(Map.Entry::getKey).orElse(null);\n</code></pre>\n\n<p><strong>AND</strong> the <code>getTag</code> method appeared twice, you can simplify the code as further:</p>\n\n<pre><code>String mostCommonTag = getPerson().stream()\n        // map person to tag &amp; filter null tag out \n        .map(Person::getTag).filter(Objects::nonNull)\n        // summarize tags\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n        // fetch the max entry\n        .entrySet().stream().max(Map.Entry.comparingByValue())\n        // map to tag\n        .map(Map.Entry::getKey).orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4963389,"reputation":72161,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1493139689,"creation_date":1493139689,"answer_id":43616850,"question_id":43616422,"body_markdown":"You could collect the counts to a Map, then get the key with the highest value\r\n\r\n    List&lt;String&gt; foo = Arrays.asList(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;e&quot;,&quot;e&quot;,&quot;f&quot;,&quot;f&quot;,&quot;f&quot;,&quot;g&quot;);\r\n    Map&lt;String, Long&gt; f = foo\r\n        .stream()\r\n        .collect(Collectors.groupingBy(v -&gt; v, Collectors.counting()));\r\n    String maxOccurence = \r\n                Collections.max(f.entrySet(), Comparator.comparing(Map.Entry::getValue)).getKey();\r\n        \r\n    System.out.println(maxOccurence);","title":"Find the most common attribute value from a List of objects using Stream","body":"<p>You could collect the counts to a Map, then get the key with the highest value</p>\n\n<pre><code>List&lt;String&gt; foo = Arrays.asList(\"a\",\"b\",\"c\",\"d\",\"e\",\"e\",\"e\",\"f\",\"f\",\"f\",\"g\");\nMap&lt;String, Long&gt; f = foo\n    .stream()\n    .collect(Collectors.groupingBy(v -&gt; v, Collectors.counting()));\nString maxOccurence = \n            Collections.max(f.entrySet(), Comparator.comparing(Map.Entry::getValue)).getKey();\n\nSystem.out.println(maxOccurence);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493182008,"creation_date":1493182008,"answer_id":43625259,"question_id":43616422,"body_markdown":"If you are open to using a third-party library, you can use [`Collectors2`][1] from [Eclipse Collections][2] with a Java 8 `Stream` to create a `Bag` and request the `topOccurrences`, which will return a `MutableList` of `ObjectIntPair` which is the tag value and the count of the number of occurrences.  \r\n\r\n    MutableList&lt;ObjectIntPair&lt;String&gt;&gt; topOccurrences = company.getPerson()\r\n            .stream()\r\n            .map(Person::getTag)\r\n            .collect(Collectors2.toBag())\r\n            .topOccurrences(1);\r\n    String mostCommonTag = topOccurrences.getFirst().getOne();\r\n\r\nIn the case of a tie, the `MutableList` will have more than one result.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/javadoc/8.1.0/org/eclipse/collections/impl/collector/Collectors2.html\r\n  [2]: https://www.eclipse.org/collections/","title":"Find the most common attribute value from a List of objects using Stream","body":"<p>If you are open to using a third-party library, you can use <a href=\"https://www.eclipse.org/collections/javadoc/8.1.0/org/eclipse/collections/impl/collector/Collectors2.html\" rel=\"noreferrer\"><code>Collectors2</code></a> from <a href=\"https://www.eclipse.org/collections/\" rel=\"noreferrer\">Eclipse Collections</a> with a Java 8 <code>Stream</code> to create a <code>Bag</code> and request the <code>topOccurrences</code>, which will return a <code>MutableList</code> of <code>ObjectIntPair</code> which is the tag value and the count of the number of occurrences.  </p>\n\n<pre><code>MutableList&lt;ObjectIntPair&lt;String&gt;&gt; topOccurrences = company.getPerson()\n        .stream()\n        .map(Person::getTag)\n        .collect(Collectors2.toBag())\n        .topOccurrences(1);\nString mostCommonTag = topOccurrences.getFirst().getOne();\n</code></pre>\n\n<p>In the case of a tie, the <code>MutableList</code> will have more than one result.</p>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673454367,"creation_date":1493187745,"answer_id":43626470,"question_id":43616422,"body_markdown":"One More solution by [abacus-common][1]\r\n\r\n    // Comparing the solution by jdk stream, \r\n    // there is no &quot;collect(Collectors.groupingBy(Person::getTag, Collectors.counting())).entrySet().stream&quot;\r\n    Stream.of(company.getPerson()).map(Person::getTag).skipNull() //\r\n            .groupBy(Fn.identity(), Collectors.counting()) //\r\n            .max(Comparators.comparingByValue()).map(e -&gt; e.getKey()).orNull();\r\n\r\n    // Or by multiset\r\n    Stream.of(company.getPerson()).map(Person::getTag).skipNull() //\r\n            .toMultiset().maxOccurrences().map(e -&gt; e.getKey()).orNull();\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Find the most common attribute value from a List of objects using Stream","body":"<p>One More solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>// Comparing the solution by jdk stream, \n// there is no &quot;collect(Collectors.groupingBy(Person::getTag, Collectors.counting())).entrySet().stream&quot;\nStream.of(company.getPerson()).map(Person::getTag).skipNull() //\n        .groupBy(Fn.identity(), Collectors.counting()) //\n        .max(Comparators.comparingByValue()).map(e -&gt; e.getKey()).orNull();\n\n// Or by multiset\nStream.of(company.getPerson()).map(Person::getTag).skipNull() //\n        .toMultiset().maxOccurrences().map(e -&gt; e.getKey()).orNull();\n</code></pre>\n"}],"owner":{"account_id":9755647,"reputation":810,"user_id":7232500,"accept_rate":0,"display_name":"000000000000000000000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5803,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":6,"score":21,"last_activity_date":1673454367,"creation_date":1493138352,"question_id":43616422,"body_markdown":"I have two classes that are structured like this:\r\n\r\n    public class Company {\r\n         private List&lt;Person&gt; person;\r\n         ...\r\n         public List&lt;Person&gt; getPerson() {\r\n              return person;\r\n         }\r\n         ...\r\n    }\r\n    \r\n    public class Person {\r\n         private String tag;\r\n         ...\r\n         public String getTag() {\r\n              return tag;\r\n         }\r\n         ...\r\n    }\r\n\r\nBasically the Company class has a List of Person objects, and each Person object can get a Tag value.\r\n\r\nIf I get the List of the Person objects, is there a way to use Stream from Java 8 to find the one Tag value that is the most common among all the Person objects (in case of a tie, maybe just a random of the most common)?\r\n\r\n    String mostCommonTag;\r\n    if(!company.getPerson().isEmpty) {\r\n         mostCommonTag = company.getPerson().stream() //How to do this in Stream?\r\n    }","title":"Find the most common attribute value from a List of objects using Stream","body":"<p>I have two classes that are structured like this:</p>\n\n<pre><code>public class Company {\n     private List&lt;Person&gt; person;\n     ...\n     public List&lt;Person&gt; getPerson() {\n          return person;\n     }\n     ...\n}\n\npublic class Person {\n     private String tag;\n     ...\n     public String getTag() {\n          return tag;\n     }\n     ...\n}\n</code></pre>\n\n<p>Basically the Company class has a List of Person objects, and each Person object can get a Tag value.</p>\n\n<p>If I get the List of the Person objects, is there a way to use Stream from Java 8 to find the one Tag value that is the most common among all the Person objects (in case of a tie, maybe just a random of the most common)?</p>\n\n<pre><code>String mostCommonTag;\nif(!company.getPerson().isEmpty) {\n     mostCommonTag = company.getPerson().stream() //How to do this in Stream?\n}\n</code></pre>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"comment_count":0,"down_vote_count":1,"up_vote_count":149,"is_accepted":true,"score":148,"last_activity_date":1586767272,"creation_date":1417439269,"answer_id":27229114,"question_id":27228961,"body_markdown":"Simply translating the &quot;old for loop way&quot; into streams:\r\n\r\n    private Map&lt;String, String&gt; mapConfig(Map&lt;String, Integer&gt; input, String prefix) {\r\n        int subLength = prefix.length();\r\n        return input.entrySet().stream()\r\n                .collect(Collectors.toMap(\r\n                       entry -&gt; entry.getKey().substring(subLength), \r\n                       entry -&gt; AttributeType.GetByName(entry.getValue())));\r\n    }\r\n","title":"Java 8 stream map on entry set","body":"<p>Simply translating the \"old for loop way\" into streams:</p>\n\n<pre><code>private Map&lt;String, String&gt; mapConfig(Map&lt;String, Integer&gt; input, String prefix) {\n    int subLength = prefix.length();\n    return input.entrySet().stream()\n            .collect(Collectors.toMap(\n                   entry -&gt; entry.getKey().substring(subLength), \n                   entry -&gt; AttributeType.GetByName(entry.getValue())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9893986,"reputation":291,"user_id":7326128,"display_name":"Dawid Pancerz"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1482330189,"creation_date":1482330189,"answer_id":41265013,"question_id":27228961,"body_markdown":"Question might be a little dated, but you could simply use AbstractMap.SimpleEntry&lt;&gt; as follows:\r\n\r\n    private Map&lt;String, AttributeType&gt; mapConfig(\r\n        Map&lt;String, String&gt; input, String prefix) {\r\n           int subLength = prefix.length();\r\n           return input.entrySet()\r\n              .stream()\r\n              .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(\r\n                   e.getKey().substring(subLength),\r\n                   AttributeType.GetByName(e.getValue()))\r\n              .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nany other Pair-like value object would work too (ie. ApacheCommons Pair tuple).","title":"Java 8 stream map on entry set","body":"<p>Question might be a little dated, but you could simply use AbstractMap.SimpleEntry&lt;> as follows:</p>\n\n<pre><code>private Map&lt;String, AttributeType&gt; mapConfig(\n    Map&lt;String, String&gt; input, String prefix) {\n       int subLength = prefix.length();\n       return input.entrySet()\n          .stream()\n          .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(\n               e.getKey().substring(subLength),\n               AttributeType.GetByName(e.getValue()))\n          .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n\n<p>any other Pair-like value object would work too (ie. ApacheCommons Pair tuple).</p>\n"},{"comments":[{"owner":{"account_id":544688,"reputation":1032,"user_id":817658,"accept_rate":84,"display_name":"nclark"},"score":3,"creation_date":1536342993,"post_id":43416812,"comment_id":91404380,"body_markdown":"How can this work? Stream.of is for either singletons or arrays (can be vararg), but not as far as I can see for Maps, by any stretch.","body":"How can this work? Stream.of is for either singletons or arrays (can be vararg), but not as far as I can see for Maps, by any stretch."},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1536433364,"post_id":43416812,"comment_id":91425543,"body_markdown":"There&#39;s Stream class included in the abacus-util library. Not the one in jdk","body":"There&#39;s Stream class included in the abacus-util library. Not the one in jdk"}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673454356,"creation_date":1492192952,"answer_id":43416812,"question_id":27228961,"body_markdown":"Here is a shorter solution by [abacus-common][1]\r\n\r\n    Stream.of(input).toMap(e -&gt; e.getKey().substring(subLength), \r\n                           e -&gt; AttributeType.GetByName(e.getValue()));\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java 8 stream map on entry set","body":"<p>Here is a shorter solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(input).toMap(e -&gt; e.getKey().substring(subLength), \n                       e -&gt; AttributeType.GetByName(e.getValue()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50594,"reputation":12311,"user_id":151004,"accept_rate":83,"display_name":"thoredge"},"score":0,"creation_date":1547027573,"post_id":52989113,"comment_id":95046789,"body_markdown":"While I generally agree, there need to be a normal way to instantiate the entry interface first. If not, it&#39;ll be of no use :-(","body":"While I generally agree, there need to be a normal way to instantiate the entry interface first. If not, it&#39;ll be of no use :-("},{"owner":{"account_id":4484790,"reputation":303,"user_id":3647804,"display_name":"michailgames"},"score":2,"creation_date":1547206116,"post_id":52989113,"comment_id":95122396,"body_markdown":"@thoredge It would still be extremely useful on entries obtained directly from another map, e.g.: `map.entrySet().stream().filter(...).collect(toMap())`.","body":"@thoredge It would still be extremely useful on entries obtained directly from another map, e.g.: <code>map.entrySet().stream().filter(...).collect(toMap())</code>."},{"owner":{"account_id":14618086,"reputation":529,"user_id":10557632,"display_name":"L&#243;r&#225;nt Migl&#233;cz"},"score":1,"creation_date":1547218697,"post_id":52989113,"comment_id":95128890,"body_markdown":"`.map(store -&gt; new AbstractMap.SimpleEntry&lt;&gt;(item1, item2))`\nShould have a simple static factory method, like: `AbstractMap.SimpleEntry.of(item1, item2)`\nand you static import the `of(` and done, its easy.","body":"<code>.map(store -&gt; new AbstractMap.SimpleEntry&lt;&gt;(item1, item2))</code> Should have a simple static factory method, like: <code>AbstractMap.SimpleEntry.of(item1, item2)</code> and you static import the <code>of(</code> and done, its easy."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":3,"creation_date":1618898373,"post_id":52989113,"comment_id":118734718,"body_markdown":"Am I missing something, or is this a request for a Java API improvement masquerading as a Stack Overflow answer?  It doesn&#39;t even seem to answer the question.","body":"Am I missing something, or is this a request for a Java API improvement masquerading as a Stack Overflow answer?  It doesn&#39;t even seem to answer the question."}],"tags":[],"owner":{"account_id":14618086,"reputation":529,"user_id":10557632,"display_name":"L&#243;r&#225;nt Migl&#233;cz"},"comment_count":4,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1540470176,"creation_date":1540469915,"answer_id":52989113,"question_id":27228961,"body_markdown":"Please make the following part of the Collectors API:\r\n\r\n    &lt;K, V&gt; Collector&lt;? super Map.Entry&lt;K, V&gt;, ?, Map&lt;K, V&gt;&gt; toMap() {\r\n      return Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\r\n    }\r\n\r\n","title":"Java 8 stream map on entry set","body":"<p>Please make the following part of the Collectors API:</p>\n\n<pre><code>&lt;K, V&gt; Collector&lt;? super Map.Entry&lt;K, V&gt;, ?, Map&lt;K, V&gt;&gt; toMap() {\n  return Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1642994265,"creation_date":1578412174,"answer_id":59631693,"question_id":27228961,"body_markdown":"On Java 9 or later, [`Map.entry`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-) can be used, so long as you know that neither the key nor value will be null.  If either value could legitimately be null, [`AbstractMap.SimpleEntry`](https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleEntry.html) (as suggested in another answer) or [`AbstractMap.SimpleImmutableEntry`](https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html) are good alternatives.\r\n\r\n```lang-java\r\nprivate Map&lt;String, AttributeType&gt; mapConfig(Map&lt;String, String&gt; input, String prefix) {\r\n   int subLength = prefix.length();\r\n   return input.entrySet().stream().map(e -&gt; \r\n      Map.entry(e.getKey().substring(subLength), AttributeType.GetByName(e.getValue()))\r\n   ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n}\r\n```\r\n\r\nThat being said, in this particular case, there&#39;s no real value in the interim `Entry` object, and it would be more idiomatic to perform the key/value mapping within `Collectors.toMap` (as demonstrated in [this other answer](https://stackoverflow.com/a/27229114/1108305)).  However, there are legitimate reasons to create interim entry objects, so it&#39;s still helpful to know.","title":"Java 8 stream map on entry set","body":"<p>On Java 9 or later, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"nofollow noreferrer\"><code>Map.entry</code></a> can be used, so long as you know that neither the key nor value will be null.  If either value could legitimately be null, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"nofollow noreferrer\"><code>AbstractMap.SimpleEntry</code></a> (as suggested in another answer) or <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"nofollow noreferrer\"><code>AbstractMap.SimpleImmutableEntry</code></a> are good alternatives.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;String, AttributeType&gt; mapConfig(Map&lt;String, String&gt; input, String prefix) {\n   int subLength = prefix.length();\n   return input.entrySet().stream().map(e -&gt; \n      Map.entry(e.getKey().substring(subLength), AttributeType.GetByName(e.getValue()))\n   ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n}\n</code></pre>\n<p>That being said, in this particular case, there's no real value in the interim <code>Entry</code> object, and it would be more idiomatic to perform the key/value mapping within <code>Collectors.toMap</code> (as demonstrated in <a href=\"https://stackoverflow.com/a/27229114/1108305\">this other answer</a>).  However, there are legitimate reasons to create interim entry objects, so it's still helpful to know.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618897642,"creation_date":1618897642,"answer_id":67173130,"question_id":27228961,"body_markdown":"As an alternative to using the built-in Java stream support, the [StreamEx](https://github.com/amaembo/streamex) library could be used.  It has fluent support for streams of `Entry` objects by way of the [`EntryStream`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/EntryStream.html) class:\r\n\r\n```lang-java\r\nprivate Map&lt;String, String&gt; mapConfig(Map&lt;String, Integer&gt; input, String prefix) {\r\n    int subLength = prefix.length();\r\n    return EntryStream.of(input)\r\n            .mapKeys(key -&gt; key.substring(subLength))\r\n            .mapValues(AttributeType::GetByName)\r\n            .toMap();\r\n}\r\n```","title":"Java 8 stream map on entry set","body":"<p>As an alternative to using the built-in Java stream support, the <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> library could be used.  It has fluent support for streams of <code>Entry</code> objects by way of the <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/EntryStream.html\" rel=\"nofollow noreferrer\"><code>EntryStream</code></a> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;String, String&gt; mapConfig(Map&lt;String, Integer&gt; input, String prefix) {\n    int subLength = prefix.length();\n    return EntryStream.of(input)\n            .mapKeys(key -&gt; key.substring(subLength))\n            .mapValues(AttributeType::GetByName)\n            .toMap();\n}\n</code></pre>\n"}],"owner":{"account_id":2689543,"reputation":1112,"user_id":2323156,"accept_rate":67,"display_name":"Wil Selwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162401,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":27229114,"answer_count":6,"score":77,"last_activity_date":1673454356,"creation_date":1417438800,"question_id":27228961,"body_markdown":"I&#39;m trying to perform a map operation on each entry in a `Map` object.\r\n\r\nI need to take a prefix off the key and convert the value from one type to another. My code is taking configuration entries from a `Map&lt;String, String&gt;` and converting to a `Map&lt;String, AttributeType&gt;` (`AttributeType` is just a class holding some information. Further explanation is not relevant for this question.)\r\n\r\nThe best I have been able to come up with using the Java 8 Streams is the following:\r\n\r\n    private Map&lt;String, AttributeType&gt; mapConfig(Map&lt;String, String&gt; input, String prefix) {\r\n       int subLength = prefix.length();\r\n       return input.entrySet().stream().flatMap((Map.Entry&lt;String, Object&gt; e) -&gt; {\r\n          HashMap&lt;String, AttributeType&gt; r = new HashMap&lt;&gt;();\r\n          r.put(e.getKey().substring(subLength), AttributeType.GetByName(e.getValue()));\r\n          return r.entrySet().stream();\r\n       }).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    }\r\n\r\nBeing unable to construct an `Map.Entry` due to it being an interface causes the creation of the single entry `Map` instance and the use of `flatMap()`, which seems ugly.\r\n\r\nIs there a better alternative? It seems nicer to do this using a for loop:\r\n\r\n    private Map&lt;String, AttributeType&gt; mapConfig(Map&lt;String, String&gt; input, String prefix) {\r\n       Map&lt;String, AttributeType&gt; result = new HashMap&lt;&gt;(); \r\n       int subLength = prefix.length(); \r\n       for(Map.Entry&lt;String, String&gt; entry : input.entrySet()) {\r\n          result.put(entry.getKey().substring(subLength), AttributeType.GetByName( entry.getValue()));\r\n       }\r\n       return result;\r\n    }\r\n\r\nShould I avoid the Stream API for this? Or is there a nicer way I have missed?","title":"Java 8 stream map on entry set","body":"<p>I'm trying to perform a map operation on each entry in a <code>Map</code> object.</p>\n\n<p>I need to take a prefix off the key and convert the value from one type to another. My code is taking configuration entries from a <code>Map&lt;String, String&gt;</code> and converting to a <code>Map&lt;String, AttributeType&gt;</code> (<code>AttributeType</code> is just a class holding some information. Further explanation is not relevant for this question.)</p>\n\n<p>The best I have been able to come up with using the Java 8 Streams is the following:</p>\n\n<pre><code>private Map&lt;String, AttributeType&gt; mapConfig(Map&lt;String, String&gt; input, String prefix) {\n   int subLength = prefix.length();\n   return input.entrySet().stream().flatMap((Map.Entry&lt;String, Object&gt; e) -&gt; {\n      HashMap&lt;String, AttributeType&gt; r = new HashMap&lt;&gt;();\n      r.put(e.getKey().substring(subLength), AttributeType.GetByName(e.getValue()));\n      return r.entrySet().stream();\n   }).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n}\n</code></pre>\n\n<p>Being unable to construct an <code>Map.Entry</code> due to it being an interface causes the creation of the single entry <code>Map</code> instance and the use of <code>flatMap()</code>, which seems ugly.</p>\n\n<p>Is there a better alternative? It seems nicer to do this using a for loop:</p>\n\n<pre><code>private Map&lt;String, AttributeType&gt; mapConfig(Map&lt;String, String&gt; input, String prefix) {\n   Map&lt;String, AttributeType&gt; result = new HashMap&lt;&gt;(); \n   int subLength = prefix.length(); \n   for(Map.Entry&lt;String, String&gt; entry : input.entrySet()) {\n      result.put(entry.getKey().substring(subLength), AttributeType.GetByName( entry.getValue()));\n   }\n   return result;\n}\n</code></pre>\n\n<p>Should I avoid the Stream API for this? Or is there a nicer way I have missed?</p>\n"},{"tags":["java","arrays","string","hashset"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1491578052,"post_id":43281559,"comment_id":73631358,"body_markdown":"Use `LinkedHashSet` instead of `HashSet` to preserve insertion order, and sort `asList` before you pass it to the set. (Note, use `List&lt;String&gt; asList` rather than `List asList`).","body":"Use <code>LinkedHashSet</code> instead of <code>HashSet</code> to preserve insertion order, and sort <code>asList</code> before you pass it to the set. (Note, use <code>List&lt;String&gt; asList</code> rather than <code>List asList</code>)."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1491578078,"post_id":43281559,"comment_id":73631370,"body_markdown":"And one way you can sort the list is with [java.util.Collections.sort( List&lt;T&gt; list )](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-). If you need a special order, you can provide a Comparator&lt;T&gt; via similar methods in Collections and List.","body":"And one way you can sort the list is with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-\" rel=\"nofollow noreferrer\">java.util.Collections.sort( List&lt;T&gt; list )</a>. If you need a special order, you can provide a Comparator&lt;T&gt; via similar methods in Collections and List."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1491578121,"post_id":43281559,"comment_id":73631393,"body_markdown":"Note that if you&#39;ve sorted the list, you don&#39;t need to put them into a set...","body":"Note that if you&#39;ve sorted the list, you don&#39;t need to put them into a set..."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491578264,"post_id":43281559,"comment_id":73631466,"body_markdown":"Google: [`java count duplicates`](https://www.google.com/search?q=java+count+duplicates).","body":"Google: <a href=\"https://www.google.com/search?q=java+count+duplicates\" rel=\"nofollow noreferrer\"><code>java count duplicates</code></a>."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1491578644,"post_id":43281559,"comment_id":73631686,"body_markdown":"If external libraries are allowed, Guava&#39;s `TreeMultiset` is the perfect ADT for this.","body":"If external libraries are allowed, Guava&#39;s <code>TreeMultiset</code> is the perfect ADT for this."}],"answers":[{"comments":[{"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"score":0,"creation_date":1491578502,"post_id":43281705,"comment_id":73631604,"body_markdown":"If you want code as well, let me know. I will write it and post.","body":"If you want code as well, let me know. I will write it and post."}],"tags":[],"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491578367,"creation_date":1491578367,"answer_id":43281705,"question_id":43281559,"body_markdown":"Use trie to count frequency, it saves a lot of space. And use heap to sort them. While pushing in trie you can count number of distinct words. Create heap of that size, max heap if you want to sort in ascending order.","title":"How to count and sort repeating strings","body":"<p>Use trie to count frequency, it saves a lot of space. And use heap to sort them. While pushing in trie you can count number of distinct words. Create heap of that size, max heap if you want to sort in ascending order.</p>\n"},{"comments":[{"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"score":0,"creation_date":1491578896,"post_id":43281731,"comment_id":73631862,"body_markdown":"Nice use of groupingBy.","body":"Nice use of groupingBy."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491579033,"post_id":43281731,"comment_id":73631945,"body_markdown":"OP wants result sorted descending by count: *&quot;sort the occurancies from biggest to lowest&quot;*","body":"OP wants result sorted descending by count: <i>&quot;sort the occurancies from biggest to lowest&quot;</i>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491579844,"post_id":43281731,"comment_id":73632534,"body_markdown":"@DarshanMehta `descendingMap()` is descending by *key* (name), not by *value* (count). See [my answer](http://stackoverflow.com/a/43282011/5221149) for sorting descending by count, and for building result string correctly (your current result is `A. Walker=1, C. Riley=1, L. Gordon=2`, not the requested `L. Gordon 2, A. Walker 1, C. Riley 1`).","body":"@DarshanMehta <code>descendingMap()</code> is descending by <i>key</i> (name), not by <i>value</i> (count). See <a href=\"http://stackoverflow.com/a/43282011/5221149\">my answer</a> for sorting descending by count, and for building result string correctly (your current result is <code>A. Walker=1, C. Riley=1, L. Gordon=2</code>, not the requested <code>L. Gordon 2, A. Walker 1, C. Riley 1</code>)."}],"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1491581088,"creation_date":1491578441,"answer_id":43281731,"question_id":43281559,"body_markdown":"You can easily do it with `stream`, e.g.:\r\n\r\n    String str = &quot;A. Walker, L. Gordon, C. Riley, L. Gordon&quot;;\r\n    TreeMap&lt;String,Long&gt; data = Arrays.stream(str.split(&quot;,&quot;))\r\n        .map(s -&gt; s.trim())\r\n        .collect(Collectors.groupingBy(Function.identity(), TreeMap::new, Collectors.counting()));\r\n    \r\n    LinkedHashMap&lt;String,Long&gt; resultMap= data.entrySet().stream()\r\n.sorted(Map.Entry.&lt;String, Long&gt;comparingByValue().reversed())\r\n.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n    System.out.println(resultMap);\r\n\r\nIf you want to strip out curly braces from the beginning and end of string, you can use `substring`, e.g.:\r\n\r\n    String result = resultMap.toString();\r\n    if(result.length &gt; 2){\r\n       result = result.substring(1, result.length() - 1);\r\n    }\r\n    System.out.println(result);","title":"How to count and sort repeating strings","body":"<p>You can easily do it with <code>stream</code>, e.g.:</p>\n\n<pre><code>String str = \"A. Walker, L. Gordon, C. Riley, L. Gordon\";\nTreeMap&lt;String,Long&gt; data = Arrays.stream(str.split(\",\"))\n    .map(s -&gt; s.trim())\n    .collect(Collectors.groupingBy(Function.identity(), TreeMap::new, Collectors.counting()));\n\nLinkedHashMap&lt;String,Long&gt; resultMap= data.entrySet().stream()\n</code></pre>\n\n<p>.sorted(Map.Entry.comparingByValue().reversed())\n.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -> e1, LinkedHashMap::new));\n    System.out.println(resultMap);</p>\n\n<p>If you want to strip out curly braces from the beginning and end of string, you can use <code>substring</code>, e.g.:</p>\n\n<pre><code>String result = resultMap.toString();\nif(result.length &gt; 2){\n   result = result.substring(1, result.length() - 1);\n}\nSystem.out.println(result);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1491622164,"post_id":43281767,"comment_id":73647288,"body_markdown":"`new Integer(o2.freq).compareTo(o1.freq)` is unnecessarily boxing the `int` values. Use [`Integer.compare(o2.freq, o1.freq)`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#compare-int-int-) instead.","body":"<code>new Integer(o2.freq).compareTo(o1.freq)</code> is unnecessarily boxing the <code>int</code> values. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#compare-int-int-\" rel=\"nofollow noreferrer\"><code>Integer.compare(o2.freq, o1.freq)</code></a> instead."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491622334,"post_id":43281767,"comment_id":73647310,"body_markdown":"Although question doesn&#39;t specify a desired ordering of names with equal count, it would be common to require a secondary sort by name. This can be done by either changing the `HashMap` to a `TreeMap`, or by enhancing the `Comparator` with secondary comparison logic. For performance, the second option would be better.","body":"Although question doesn&#39;t specify a desired ordering of names with equal count, it would be common to require a secondary sort by name. This can be done by either changing the <code>HashMap</code> to a <code>TreeMap</code>, or by enhancing the <code>Comparator</code> with secondary comparison logic. For performance, the second option would be better."},{"owner":{"account_id":2085536,"reputation":1268,"user_id":1856618,"accept_rate":40,"display_name":"yavuzkavus"},"score":0,"creation_date":1491663164,"post_id":43281767,"comment_id":73657802,"body_markdown":"@Andreas is right, **Integer.compare(i1, i2)** method is better than **new Integer(i1).compareTo(i2)**","body":"@Andreas is right, <b>Integer.compare(i1, i2)</b> method is better than <b>new Integer(i1).compareTo(i2)</b>"}],"tags":[],"owner":{"account_id":2085536,"reputation":1268,"user_id":1856618,"accept_rate":40,"display_name":"yavuzkavus"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491663129,"creation_date":1491578514,"answer_id":43281767,"question_id":43281559,"body_markdown":"You can do something like this:\r\n\r\n\tpublic class Test {\r\n\t\tstatic class NameFreq {\r\n\t\t\tpublic NameFreq(String name, int freq) {\r\n\t\t\t\tthis.name = name;\r\n\t\t\t\tthis.freq = freq;\r\n\t\t\t}\r\n\t\t\tString name;\r\n\t\t\tint freq;\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn name + &quot; &quot; + freq;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tString str = &quot;A. Walker, L. Gordon, C. Riley, L. Gordon&quot;;\r\n\t\t\tMap&lt;String, NameFreq&gt; map = new HashMap&lt;&gt;();\r\n\t\t\tString[] array = str.split(&quot;\\\\s*,\\\\s*&quot;);\r\n\t\t\tfor(String name : array) {\r\n\t\t\t\tNameFreq nameFreq = map.get(name);\r\n\t\t\t\tif( nameFreq==null )\r\n\t\t\t\t\tmap.put(name, new NameFreq(name, 1));\r\n\t\t\t\telse\r\n\t\t\t\t\tnameFreq.freq++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tList&lt;NameFreq&gt; list = new ArrayList&lt;&gt;(map.values());\r\n\t\t\tCollections.sort(list, new Comparator&lt;NameFreq&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int compare(NameFreq o1, NameFreq o2) {\r\n\t\t\t\t\treturn Integer.compare(o2.freq, o1.freq);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tSystem.out.println(list);\r\n\t\t\t//output: [L. Gordon 2, A. Walker 1, C. Riley 1]\r\n\t\t}\r\n\t}\r\n","title":"How to count and sort repeating strings","body":"<p>You can do something like this:</p>\n\n<pre><code>public class Test {\n    static class NameFreq {\n        public NameFreq(String name, int freq) {\n            this.name = name;\n            this.freq = freq;\n        }\n        String name;\n        int freq;\n        @Override\n        public String toString() {\n            return name + \" \" + freq;\n        }\n    }\n    public static void main(String[] args) throws Exception {\n        String str = \"A. Walker, L. Gordon, C. Riley, L. Gordon\";\n        Map&lt;String, NameFreq&gt; map = new HashMap&lt;&gt;();\n        String[] array = str.split(\"\\\\s*,\\\\s*\");\n        for(String name : array) {\n            NameFreq nameFreq = map.get(name);\n            if( nameFreq==null )\n                map.put(name, new NameFreq(name, 1));\n            else\n                nameFreq.freq++;\n        }\n\n        List&lt;NameFreq&gt; list = new ArrayList&lt;&gt;(map.values());\n        Collections.sort(list, new Comparator&lt;NameFreq&gt;() {\n            @Override\n            public int compare(NameFreq o1, NameFreq o2) {\n                return Integer.compare(o2.freq, o1.freq);\n            }\n        });\n\n        System.out.println(list);\n        //output: [L. Gordon 2, A. Walker 1, C. Riley 1]\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1491607471,"post_id":43282011,"comment_id":73644914,"body_markdown":"Isn&#39;t the code too complicate for this simple question?","body":"Isn&#39;t the code too complicate for this simple question?"}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491579211,"creation_date":1491579211,"answer_id":43282011,"question_id":43281559,"body_markdown":"First, create a `Map`, keyed by name, with value being a count for that name. Then sort that descending by the value, secondary sort by key (aka name).\r\n\r\nIt seems you want result as a comma-separated string, so finally combine result that way.\r\n\r\nUsing Java 8 Streams, it can be done in a single method chain:\r\n\r\n\tString str = &quot;A. Walker, L. Gordon, C. Riley, L. Gordon&quot;;\r\n\tString res = Pattern.compile(&quot;, *&quot;)\r\n\t                    .splitAsStream(str)\r\n\t                    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n\t                    .entrySet()\r\n\t                    .stream()\r\n\t                    .sorted(Comparator.&lt;Entry&lt;String, Long&gt;, Long&gt;comparing(Entry::getValue)\r\n\t                                      .reversed()\r\n\t                                      .thenComparing(Entry::getKey))\r\n\t                    .map(e -&gt; e.getKey() + &quot; &quot; + e.getValue())\r\n\t                    .collect(Collectors.joining(&quot;, &quot;));\r\n\tSystem.out.println(res); // prints: L. Gordon 2, A. Walker 1, C. Riley 1\r\n\r\nNotice the use of [`splitAsStream()`][1], so the result of the split doesn&#39;t have to be stored in an intermediate array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-","title":"How to count and sort repeating strings","body":"<p>First, create a <code>Map</code>, keyed by name, with value being a count for that name. Then sort that descending by the value, secondary sort by key (aka name).</p>\n\n<p>It seems you want result as a comma-separated string, so finally combine result that way.</p>\n\n<p>Using Java 8 Streams, it can be done in a single method chain:</p>\n\n<pre><code>String str = \"A. Walker, L. Gordon, C. Riley, L. Gordon\";\nString res = Pattern.compile(\", *\")\n                    .splitAsStream(str)\n                    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n                    .entrySet()\n                    .stream()\n                    .sorted(Comparator.&lt;Entry&lt;String, Long&gt;, Long&gt;comparing(Entry::getValue)\n                                      .reversed()\n                                      .thenComparing(Entry::getKey))\n                    .map(e -&gt; e.getKey() + \" \" + e.getValue())\n                    .collect(Collectors.joining(\", \"));\nSystem.out.println(res); // prints: L. Gordon 2, A. Walker 1, C. Riley 1\n</code></pre>\n\n<p>Notice the use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>splitAsStream()</code></a>, so the result of the split doesn't have to be stored in an intermediate array.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673454346,"creation_date":1491601278,"answer_id":43287482,"question_id":43281559,"body_markdown":"Here is the simple solution by [abacus-common][1]\r\n\r\n    Stream.of(str.split(&quot;, &quot;))\r\n          .toMultiset()\r\n          .toMapSortedByOccurrences(Comparators.reverseOrder());\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to count and sort repeating strings","body":"<p>Here is the simple solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(str.split(&quot;, &quot;))\n      .toMultiset()\n      .toMapSortedByOccurrences(Comparators.reverseOrder());\n</code></pre>\n"}],"owner":{"account_id":5947715,"reputation":152,"user_id":4676753,"accept_rate":83,"display_name":"John Greg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43281767,"answer_count":5,"score":2,"last_activity_date":1673454346,"creation_date":1491577932,"question_id":43281559,"body_markdown":"i have got a string of names\r\n\r\n    String str = &quot;A. Walker, L. Gordon, C. Riley, L. Gordon&quot;;\r\n\r\nI need to count name occurancies and sort the occurancies from biggest to lowest.\r\n\r\nI have done the countung part, but I also need to sort it.\r\n\r\n    String[] array = str.split(&quot;, &quot;);        \r\n\r\n    List asList = Arrays.asList(array);\r\n    Set&lt;String&gt; mySet = new HashSet&lt;String&gt;(asList);\r\n    for(String s: mySet)\r\n        System.out.println(s + &quot; &quot; +Collections.frequency(asList,s));\r\n\r\nOutput should look like this\r\n\r\n    L. Gordon 2, A. Walker 1, C. Riley 1","title":"How to count and sort repeating strings","body":"<p>i have got a string of names</p>\n\n<pre><code>String str = \"A. Walker, L. Gordon, C. Riley, L. Gordon\";\n</code></pre>\n\n<p>I need to count name occurancies and sort the occurancies from biggest to lowest.</p>\n\n<p>I have done the countung part, but I also need to sort it.</p>\n\n<pre><code>String[] array = str.split(\", \");        \n\nList asList = Arrays.asList(array);\nSet&lt;String&gt; mySet = new HashSet&lt;String&gt;(asList);\nfor(String s: mySet)\n    System.out.println(s + \" \" +Collections.frequency(asList,s));\n</code></pre>\n\n<p>Output should look like this</p>\n\n<pre><code>L. Gordon 2, A. Walker 1, C. Riley 1\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":5,"creation_date":1489584385,"post_id":42811045,"comment_id":72734305,"body_markdown":"This is something streams are not very good at, because it wouldn&#39;t parallelize very well if you had to look at previous or next objects in the stream.","body":"This is something streams are not very good at, because it wouldn&#39;t parallelize very well if you had to look at previous or next objects in the stream."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1489584909,"post_id":42811045,"comment_id":72734737,"body_markdown":"Seems like you need symmetric difference between two sets and guava can help with that:  `Set&lt;Long&gt; all = LongStream.range(offsets.get(0), offsets.get(offsets.size() - 1)).boxed().collect(Collectors.toSet());\n        System.out.println(Sets.symmetricDifference(all, ImmutableSet.copyOf(offsets)));`","body":"Seems like you need symmetric difference between two sets and guava can help with that:  <code>Set&lt;Long&gt; all = LongStream.range(offsets.get(0), offsets.get(offsets.size() - 1)).boxed().collect(Collectors.toSet());         System.out.println(Sets.symmetricDifference(all, ImmutableSet.copyOf(offsets)));</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1489664973,"post_id":42811045,"comment_id":72775828,"body_markdown":"Why `.sorted(comparingLong(Message::getOffset)) .map(Message::getOffset)` instead of `.map(Message::getOffset).sorted()`?","body":"Why <code>.sorted(comparingLong(Message::getOffset)) .map(Message::getOffset)</code> instead of <code>.map(Message::getOffset).sorted()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489585664,"creation_date":1489585664,"answer_id":42811658,"question_id":42811045,"body_markdown":"You can do it with [StreamEx][1] using a `pairMap` method:\r\n\r\n    StreamEx.of(messages)\r\n            .sorted(Comparator.comparingLong(Message::getOffset))\r\n            .pairMap((prev, next) -&gt; new Message[] {prev, next})\r\n            .forEach(prevNext -&gt; {\r\n                long currentOffset = prevNext[0].getOffset();\r\n                long expectedNextOffset = prevNext[0].getOffset() + 1;\r\n                long actualNextOffset = prevNext[1].getOffset();\r\n                if (currentOffset != expectedNextOffset) {\r\n                    LOG.error(\r\n                        &quot;Missing offset(s) found in messages: missing from {} to {}&quot;,\r\n                        currentOffset + 1, actualNextOffset - 1);\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p>You can do it with <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> using a <code>pairMap</code> method:</p>\n\n<pre><code>StreamEx.of(messages)\n        .sorted(Comparator.comparingLong(Message::getOffset))\n        .pairMap((prev, next) -&gt; new Message[] {prev, next})\n        .forEach(prevNext -&gt; {\n            long currentOffset = prevNext[0].getOffset();\n            long expectedNextOffset = prevNext[0].getOffset() + 1;\n            long actualNextOffset = prevNext[1].getOffset();\n            if (currentOffset != expectedNextOffset) {\n                LOG.error(\n                    \"Missing offset(s) found in messages: missing from {} to {}\",\n                    currentOffset + 1, actualNextOffset - 1);\n            }\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4787817,"reputation":326,"user_id":4347951,"display_name":"SadBunny"},"score":0,"creation_date":1489662790,"post_id":42813674,"comment_id":72774333,"body_markdown":"I was afraid I was going to have to go to something like this, and as I wanted to learn more about custom collectors anyway I&#39;m going to give this a try. Thanks for that verbosity! :)\nHowever, it feels incredibly clunky to have to go through all that, for my productino code I&#39;ll just stick to the original code I guess.","body":"I was afraid I was going to have to go to something like this, and as I wanted to learn more about custom collectors anyway I&#39;m going to give this a try. Thanks for that verbosity! :) However, it feels incredibly clunky to have to go through all that, for my productino code I&#39;ll just stick to the original code I guess."}],"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489591834,"creation_date":1489590625,"answer_id":42813674,"question_id":42811045,"body_markdown":"For the sake of learning the Java 8 api, you can use a Collector where you essentially comparing each member of the stream in turn, and you use the accumulator class `BadPairs` to keep track of any gaps in the sequence of offsets.\r\n\r\nI have written this to be more verbose than it needs to be in order to help you understand the relationship between the supplier, accumulator, and combiner lambdas.\r\n\r\n    public class PairedStreamTest {\r\n        \r\n    \tprivate BiConsumer&lt;BadPairs,BadPairs&gt; combiner = (bad1,bad2) -&gt; bad1.add(bad2);\r\n    \r\n    \tprivate Supplier&lt;BadPairs&gt; supplier = BadPairs::new;\r\n    \r\n    \tprivate BiConsumer&lt;BadPairs,Message&gt; accumulator = (bad,msg) -&gt; bad.add(msg);\r\n    \t\r\n    \t@Test\r\n    \tpublic void returnsTwoBadPairs_givenInputStreamIsMissingOffsets_forFourAndSix() throws Exception {\r\n    \r\n    \t\tBadPairs badPairs = Stream.of(new Message(1), new Message(2), new Message(3), new Message(5), new Message(7))\r\n    \t\t\t\t.sorted(comparingLong(Message::getOffset))\r\n    \t\t\t\t.collect(supplier, accumulator, combiner);\r\n    \t\t\r\n            badPairs.pairs.forEach(pair -&gt;\r\n                    LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, pair.first.offset, pair.second.offset));\r\n\r\n    \t\tassertTrue(badPairs.pairs.size() == 2);\r\n    \t}\r\n    \r\n    \t// supporting classes for the above test code\r\n    \t\r\n        private final Logger LOG = LoggerFactory.getLogger(PairedStreamTest.class);\r\n    \r\n    \tclass Message {\r\n    \t\tpublic int offset;\r\n    \t\tpublic Message(int i) {\r\n    \t\t\tthis.offset = i;\r\n    \t\t}\r\n    \t\tpublic Integer getOffset() {\r\n    \t\t\treturn this.offset;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tclass Pair {\r\n    \t\tprivate Message first;\r\n    \t\tprivate Message second;\r\n    \t\tpublic Pair(Message smaller, Message larger) {\r\n    \t\t\tthis.first = smaller;\r\n    \t\t\tthis.second = larger;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tclass BadPairs {\r\n    \t\tpublic Message previous;\r\n    \t\tpublic Set&lt;Pair&gt; pairs = new HashSet&lt;&gt;();\r\n    \t\tpublic void add(BadPairs other) {\r\n    \t\t\tthis.pairs.addAll(other.pairs);\r\n    \t\t}\r\n    \t\tpublic void add(Message msg) {\r\n    \t\t\tif(previous != null &amp;&amp; previous.offset != msg.offset-1) {\r\n    \t\t\t\tthis.pairs.add(new Pair(previous, msg));\r\n    \t\t\t}\r\n    \t\t\tthis.previous = msg;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n*Please excuse the poor use of public member variables, and layout of this Test class. My intention is to initially focus the reader on the `@Test` case rather than supporting classes.*","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p>For the sake of learning the Java 8 api, you can use a Collector where you essentially comparing each member of the stream in turn, and you use the accumulator class <code>BadPairs</code> to keep track of any gaps in the sequence of offsets.</p>\n\n<p>I have written this to be more verbose than it needs to be in order to help you understand the relationship between the supplier, accumulator, and combiner lambdas.</p>\n\n<pre><code>public class PairedStreamTest {\n\n    private BiConsumer&lt;BadPairs,BadPairs&gt; combiner = (bad1,bad2) -&gt; bad1.add(bad2);\n\n    private Supplier&lt;BadPairs&gt; supplier = BadPairs::new;\n\n    private BiConsumer&lt;BadPairs,Message&gt; accumulator = (bad,msg) -&gt; bad.add(msg);\n\n    @Test\n    public void returnsTwoBadPairs_givenInputStreamIsMissingOffsets_forFourAndSix() throws Exception {\n\n        BadPairs badPairs = Stream.of(new Message(1), new Message(2), new Message(3), new Message(5), new Message(7))\n                .sorted(comparingLong(Message::getOffset))\n                .collect(supplier, accumulator, combiner);\n\n        badPairs.pairs.forEach(pair -&gt;\n                LOG.error(\"Missing offset(s) found in messages: missing from {} to {}\", pair.first.offset, pair.second.offset));\n\n        assertTrue(badPairs.pairs.size() == 2);\n    }\n\n    // supporting classes for the above test code\n\n    private final Logger LOG = LoggerFactory.getLogger(PairedStreamTest.class);\n\n    class Message {\n        public int offset;\n        public Message(int i) {\n            this.offset = i;\n        }\n        public Integer getOffset() {\n            return this.offset;\n        }\n    }\n\n    class Pair {\n        private Message first;\n        private Message second;\n        public Pair(Message smaller, Message larger) {\n            this.first = smaller;\n            this.second = larger;\n        }\n    }\n\n    class BadPairs {\n        public Message previous;\n        public Set&lt;Pair&gt; pairs = new HashSet&lt;&gt;();\n        public void add(BadPairs other) {\n            this.pairs.addAll(other.pairs);\n        }\n        public void add(Message msg) {\n            if(previous != null &amp;&amp; previous.offset != msg.offset-1) {\n                this.pairs.add(new Pair(previous, msg));\n            }\n            this.previous = msg;\n        }\n    }\n}\n</code></pre>\n\n<p><em>Please excuse the poor use of public member variables, and layout of this Test class. My intention is to initially focus the reader on the <code>@Test</code> case rather than supporting classes.</em></p>\n"},{"tags":[],"owner":{"account_id":5693086,"reputation":1112,"user_id":4500494,"display_name":"Roma Khomyshyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489593474,"creation_date":1489593110,"answer_id":42814694,"question_id":42811045,"body_markdown":"What about it:\r\n\r\n            List&lt;Long&gt; offsets = messages.stream()\r\n                    .sorted(comparingLong(Message::getOffset))\r\n                    .map(Message::getOffset)\r\n                    .collect(toList());\r\n    \r\n            IntStream.range(1, offsets.size())\r\n                    .mapToObj(i -&gt; new Pair&lt;&gt;(offsets.get(i - 1), offsets.get(i)))\r\n                    .forEach(pair -&gt; {\r\n                        final long currentOffset = pair.getKey();\r\n                        final long expectedNextOffset = pair.getKey() + 1;\r\n                        final long actualNextOffset = pair.getValue();\r\n                        if (actualNextOffset != expectedNextOffset) {\r\n                            LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, currentOffset + 1, actualNextOffset - 1);\r\n                        }\r\n                    });","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p>What about it:</p>\n\n<pre><code>        List&lt;Long&gt; offsets = messages.stream()\n                .sorted(comparingLong(Message::getOffset))\n                .map(Message::getOffset)\n                .collect(toList());\n\n        IntStream.range(1, offsets.size())\n                .mapToObj(i -&gt; new Pair&lt;&gt;(offsets.get(i - 1), offsets.get(i)))\n                .forEach(pair -&gt; {\n                    final long currentOffset = pair.getKey();\n                    final long expectedNextOffset = pair.getKey() + 1;\n                    final long actualNextOffset = pair.getValue();\n                    if (actualNextOffset != expectedNextOffset) {\n                        LOG.error(\"Missing offset(s) found in messages: missing from {} to {}\", currentOffset + 1, actualNextOffset - 1);\n                    }\n                });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4787817,"reputation":326,"user_id":4347951,"display_name":"SadBunny"},"score":0,"creation_date":1489662698,"post_id":42818115,"comment_id":72774269,"body_markdown":"Thank you for all those examples! I&#39;m sure they work, but the &quot;native&quot; example is almost the same as the existing code (just another way of writing a for loop). Thanks though, I hadn&#39;t seen that before. About the StreamEx: I saw that when I was googling before, but I wanted to learn Java. (I might have mentioned it though.)","body":"Thank you for all those examples! I&#39;m sure they work, but the &quot;native&quot; example is almost the same as the existing code (just another way of writing a for loop). Thanks though, I hadn&#39;t seen that before. About the StreamEx: I saw that when I was googling before, but I wanted to learn Java. (I might have mentioned it though.)"}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673454327,"creation_date":1489603151,"answer_id":42818115,"question_id":42811045,"body_markdown":"How about:\r\n\r\n    final List&lt;Long&gt; offsets = messages.stream().map(Message::getOffset).sorted().collect(toList());\r\n    IntStream.range(0, offsets.size() - 1).forEach(i -&gt; {\r\n        long currentOffset = offsets.get(i);\r\n        if (offsets.get(i + 1) != currentOffset + 1) {\r\n            LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, currentOffset + 1, offsets.get(i + 1) - 1);\r\n        }\r\n    });\r\n\r\nOr All in one statement by [StreamEx][1]:\r\n\r\n    StreamEx.of(messages).mapToLong(Message::getOffset).sorted().boxed()\r\n              .pairMap((i, j) -&gt; new long[] { i, j }).filter(a -&gt; a[1] - a[0] &gt; 1)\r\n              .forEach(a -&gt; LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, a[0] + 1, a[1] - 1));\r\n\r\nOr All in one statement by [abacus-common][2]:\r\n\r\n    Stream.of(messages).mapToLong(Message::getOffset).sorted()\r\n              .sliding0(2).filter(e -&gt; e.size() == 2 &amp;&amp; e.get(1) - e.get(0) &gt; 1)\r\n              .forEach(e -&gt; LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, e.get(0) + 1, e.get(1) - 1));\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p>How about:</p>\n<pre><code>final List&lt;Long&gt; offsets = messages.stream().map(Message::getOffset).sorted().collect(toList());\nIntStream.range(0, offsets.size() - 1).forEach(i -&gt; {\n    long currentOffset = offsets.get(i);\n    if (offsets.get(i + 1) != currentOffset + 1) {\n        LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, currentOffset + 1, offsets.get(i + 1) - 1);\n    }\n});\n</code></pre>\n<p>Or All in one statement by <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a>:</p>\n<pre><code>StreamEx.of(messages).mapToLong(Message::getOffset).sorted().boxed()\n          .pairMap((i, j) -&gt; new long[] { i, j }).filter(a -&gt; a[1] - a[0] &gt; 1)\n          .forEach(a -&gt; LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, a[0] + 1, a[1] - 1));\n</code></pre>\n<p>Or All in one statement by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>Stream.of(messages).mapToLong(Message::getOffset).sorted()\n          .sliding0(2).filter(e -&gt; e.size() == 2 &amp;&amp; e.get(1) - e.get(0) &gt; 1)\n          .forEach(e -&gt; LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, e.get(0) + 1, e.get(1) - 1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4787817,"reputation":326,"user_id":4347951,"display_name":"SadBunny"},"score":2,"creation_date":1490007514,"post_id":42834874,"comment_id":72903173,"body_markdown":"Thanks for that very complete answer. Yes, I know that I shouldn&#39;t make those lambda expressions my hammer and then expect every challenge to behave like a nail :) The thing is, this did look very much like a nail to me. But that&#39;s probably because I&#39;m simply awestruck by the usefulness of this particular hammer. I will play with some of your suggestions to learn from, although I went with a non-lambda approach in my actual code.","body":"Thanks for that very complete answer. Yes, I know that I shouldn&#39;t make those lambda expressions my hammer and then expect every challenge to behave like a nail :) The thing is, this did look very much like a nail to me. But that&#39;s probably because I&#39;m simply awestruck by the usefulness of this particular hammer. I will play with some of your suggestions to learn from, although I went with a non-lambda approach in my actual code."},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1572091497,"post_id":42834874,"comment_id":103458179,"body_markdown":"_&quot;Sometimes, attempting to do everything with lambda expressions makes solutions more complicated.&quot;_\nObviously the problem is to solve with one `sorted()` and one `reduce()` – [so no…](https://stackoverflow.com/questions/42811045/java-8-lambda-iterate-over-stream-objects-and-use-previous-next-objects-in-st/58568849#58568849)","body":"<i>&quot;Sometimes, attempting to do everything with lambda expressions makes solutions more complicated.&quot;</i> Obviously the problem is to solve with one <code>sorted()</code> and one <code>reduce()</code> – <a href=\"https://stackoverflow.com/questions/42811045/java-8-lambda-iterate-over-stream-objects-and-use-previous-next-objects-in-st/58568849#58568849\">so no…</a>"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489669307,"creation_date":1489669307,"answer_id":42834874,"question_id":42811045,"body_markdown":"Sometimes, attempting to do everything with lambda expressions makes solutions more complicated. You can use:\r\n\r\n    messages.stream()\r\n        .mapToLong(Message::getOffset)\r\n        .sorted()\r\n        .forEachOrdered(new LongConsumer() {\r\n            boolean first=true;\r\n            long expected;\r\n            public void accept(long value) {\r\n                if(first) first=false;\r\n                else if(value!=expected)\r\n                    LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;,\r\n                              expected, value);\r\n                expected=value+1;\r\n            }\r\n        });\r\n\r\nbut note that regardless of how fluent the stream chain may look like, `sorted()` is a stateful intermediate operation which creates and uses a backing array behind the scenes. You’re not loosing anything, if you use that array explicitly:\r\n\r\n    long[] l = messages.stream().mapToLong(Message::getOffset).toArray();\r\n    Arrays.sort(l);\r\n    for(int ix=1; ix&lt;l.length; ix++) {\r\n        long value = l[ix], expected = l[ix-1]+1;\r\n        if(value!=expected)\r\n            LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;,\r\n                      expected, value);\r\n    }\r\n\r\nIt’s hard to find a simpler solution. But if you want to reduce the amount of memory needed, you can use a `BitSet` instead of an array:\r\n\r\n    OptionalLong optMin = messages.stream().mapToLong(Message::getOffset).min();\r\n    if(!optMin.isPresent()) return;\r\n    long min = optMin.getAsLong();\r\n    BitSet bset = messages.stream()\r\n        .mapToLong(Message::getOffset)\r\n        .collect(BitSet::new, (bs,l) -&gt; bs.set((int)(l-min)), BitSet::or);\r\n    for(int set=0, clear; set&gt;=0; ) {\r\n        clear = bset.nextClearBit(set);\r\n        set = bset.nextSetBit(clear);\r\n        if(set &gt;= 0)\r\n            LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;,\r\n                      min+clear, min+set);\r\n    }\r\nThis will reduce the used memory significantly in the cases where no gaps or reasonably small gaps, compared to the value range of the offsets, occur. It fails when the distance between the smallest offset and the largest offset is greater than `Integer.MAX_VALUE`.\r\n\r\nYou might check that beforehand, which also opens the opportunity to short-cut if there are no gaps at all:\r\n\r\n    LongSummaryStatistics stat = messages.stream()\r\n        .mapToLong(Message::getOffset).summaryStatistics();\r\n    if(stat.getCount()==0 ||\r\n       // all solutions assume that there are no duplicates, in this case,\r\n       // the following test allows to prove that there are no gaps:\r\n       stat.getMax()-stat.getMin()==messages.size()-1) {\r\n        return;\r\n    }\r\n\r\n    if(stat.getMax()-stat.getMin()&gt;Integer.MAX_VALUE) {\r\n        // proceed with array based test\r\n        …\r\n    }\r\n    else {\r\n        long min = stat.getMin();\r\n        // proceed with BitSet based test\r\n        …","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p>Sometimes, attempting to do everything with lambda expressions makes solutions more complicated. You can use:</p>\n\n<pre><code>messages.stream()\n    .mapToLong(Message::getOffset)\n    .sorted()\n    .forEachOrdered(new LongConsumer() {\n        boolean first=true;\n        long expected;\n        public void accept(long value) {\n            if(first) first=false;\n            else if(value!=expected)\n                LOG.error(\"Missing offset(s) found in messages: missing from {} to {}\",\n                          expected, value);\n            expected=value+1;\n        }\n    });\n</code></pre>\n\n<p>but note that regardless of how fluent the stream chain may look like, <code>sorted()</code> is a stateful intermediate operation which creates and uses a backing array behind the scenes. You’re not loosing anything, if you use that array explicitly:</p>\n\n<pre><code>long[] l = messages.stream().mapToLong(Message::getOffset).toArray();\nArrays.sort(l);\nfor(int ix=1; ix&lt;l.length; ix++) {\n    long value = l[ix], expected = l[ix-1]+1;\n    if(value!=expected)\n        LOG.error(\"Missing offset(s) found in messages: missing from {} to {}\",\n                  expected, value);\n}\n</code></pre>\n\n<p>It’s hard to find a simpler solution. But if you want to reduce the amount of memory needed, you can use a <code>BitSet</code> instead of an array:</p>\n\n<pre><code>OptionalLong optMin = messages.stream().mapToLong(Message::getOffset).min();\nif(!optMin.isPresent()) return;\nlong min = optMin.getAsLong();\nBitSet bset = messages.stream()\n    .mapToLong(Message::getOffset)\n    .collect(BitSet::new, (bs,l) -&gt; bs.set((int)(l-min)), BitSet::or);\nfor(int set=0, clear; set&gt;=0; ) {\n    clear = bset.nextClearBit(set);\n    set = bset.nextSetBit(clear);\n    if(set &gt;= 0)\n        LOG.error(\"Missing offset(s) found in messages: missing from {} to {}\",\n                  min+clear, min+set);\n}\n</code></pre>\n\n<p>This will reduce the used memory significantly in the cases where no gaps or reasonably small gaps, compared to the value range of the offsets, occur. It fails when the distance between the smallest offset and the largest offset is greater than <code>Integer.MAX_VALUE</code>.</p>\n\n<p>You might check that beforehand, which also opens the opportunity to short-cut if there are no gaps at all:</p>\n\n<pre><code>LongSummaryStatistics stat = messages.stream()\n    .mapToLong(Message::getOffset).summaryStatistics();\nif(stat.getCount()==0 ||\n   // all solutions assume that there are no duplicates, in this case,\n   // the following test allows to prove that there are no gaps:\n   stat.getMax()-stat.getMin()==messages.size()-1) {\n    return;\n}\n\nif(stat.getMax()-stat.getMin()&gt;Integer.MAX_VALUE) {\n    // proceed with array based test\n    …\n}\nelse {\n    long min = stat.getMin();\n    // proceed with BitSet based test\n    …\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1572262037,"post_id":58568849,"comment_id":103493210,"body_markdown":"This is abusing `reduce` for a side effect and regarding the side effect, it’s violating the contract which requires it to be *associative*. For a function *f* and a sorted stream *a b c*, being associative means that it must produce the right result when being evaluated, e.g. as `f(a, f(b, c))` rather than the `f(f(a, b), c)` you expect.","body":"This is abusing <code>reduce</code> for a side effect and regarding the side effect, it’s violating the contract which requires it to be <i>associative</i>. For a function <i>f</i> and a sorted stream <i>a b c</i>, being associative means that it must produce the right result when being evaluated, e.g. as <code>f(a, f(b, c))</code> rather than the <code>f(f(a, b), c)</code> you expect."},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1572263535,"post_id":58568849,"comment_id":103493886,"body_markdown":"Interesting question. I thought **!=** is associativ.","body":"Interesting question. I thought <b>!=</b> is associativ."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1572263950,"post_id":58568849,"comment_id":103494074,"body_markdown":"The problem is not the use of `!=`. The problem is that you are returning the second argument, so in case of `f(a, f(b, c))`, you are comparing `a` and `c` rather than `a` and `b`. Obviously, returning the first argument wouldn’t work either. To use reduction for a check of consecutive elements, you would need to return a range, expressed by its first and last element, like `map(element -&gt; Range.of(element, element)) .reduce((r1,r2) -&gt; Range.of(r1.first, r2.last))`","body":"The problem is not the use of <code>!=</code>. The problem is that you are returning the second argument, so in case of <code>f(a, f(b, c))</code>, you are comparing <code>a</code> and <code>c</code> rather than <code>a</code> and <code>b</code>. Obviously, returning the first argument wouldn’t work either. To use reduction for a check of consecutive elements, you would need to return a range, expressed by its first and last element, like <code>map(element -&gt; Range.of(element, element)) .reduce((r1,r2) -&gt; Range.of(r1.first, r2.last))</code>"},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1572266388,"post_id":58568849,"comment_id":103495205,"body_markdown":"I know what You mean. But is that not just getting a problem for the use of a `parallelStream` – what definitly is not possible? _Btw:_ I don&#39;t use the result from `reduce` at all.","body":"I know what You mean. But is that not just getting a problem for the use of a <code>parallelStream</code> – what definitly is not possible? <i>Btw:</i> I don&#39;t use the result from <code>reduce</code> at all."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1572267387,"post_id":58568849,"comment_id":103495665,"body_markdown":"With more than two elements, your own reduction function will use the result of a previous evaluation. That’s what I meant with `f(a, f(b, c))` vs. `f(f(a, b), c)`. The specification never says that you can expect a particular evaluation order for a sequential stream (such a statement has been deliberately removed from the documentation before the release). So if it happens to do the desired thing, you have a solution that only works with a particular implementation for a sequential stream. Requiring the reader to understand these limitations by looking at it, makes it everything but “easy”.","body":"With more than two elements, your own reduction function will use the result of a previous evaluation. That’s what I meant with <code>f(a, f(b, c))</code> vs. <code>f(f(a, b), c)</code>. The specification never says that you can expect a particular evaluation order for a sequential stream (such a statement has been deliberately removed from the documentation before the release). So if it happens to do the desired thing, you have a solution that only works with a particular implementation for a sequential stream. Requiring the reader to understand these limitations by looking at it, makes it everything but “easy”."},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1572268172,"post_id":58568849,"comment_id":103496033,"body_markdown":"Thank you for your informed opinion. I&#39;ll add a note to the limitations of my solution.","body":"Thank you for your informed opinion. I&#39;ll add a note to the limitations of my solution."},{"owner":{"account_id":4787817,"reputation":326,"user_id":4347951,"display_name":"SadBunny"},"score":0,"creation_date":1587919257,"post_id":58568849,"comment_id":108692967,"body_markdown":"I know it&#39;s late, but I forgot all about this question and thanks for this actual answer! Still think in the end this answer is not actually what I would end up with facing this again, since it would probably, reduce code clarity, but it&#39;s the best actual answer and the comments are very insightful :)","body":"I know it&#39;s late, but I forgot all about this question and thanks for this actual answer! Still think in the end this answer is not actually what I would end up with facing this again, since it would probably, reduce code clarity, but it&#39;s the best actual answer and the comments are very insightful :)"}],"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572273793,"creation_date":1572074441,"answer_id":58568849,"question_id":42811045,"body_markdown":"_for the present problem, this approach seems to be more suitable_\r\n\r\n    messages.stream().sorted( Comparator.comparingLong( Message::getOffset ) )\r\n      .reduce( (m1, m2) -&gt; {\r\n        if( m1.getOffset() + 1 != m2.getOffset() )\r\n          LOG.error( &quot;Missing offset(s) found in messages: missing from {} to {}&quot;, m1.getOffset(), m2.getOffset() );\r\n        return( m2 );\r\n      } );\r\n\r\nThis solution uses `reduce` away from its intended use. It solely uses the ability of `reduce` to go over all the pairs in a stream.&lt;br /&gt;\r\nThe result of `reduce` is **not** used. (It would be impossible to use the result any further, because that would require a mutable reduction.)","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p><em>for the present problem, this approach seems to be more suitable</em></p>\n\n<pre><code>messages.stream().sorted( Comparator.comparingLong( Message::getOffset ) )\n  .reduce( (m1, m2) -&gt; {\n    if( m1.getOffset() + 1 != m2.getOffset() )\n      LOG.error( \"Missing offset(s) found in messages: missing from {} to {}\", m1.getOffset(), m2.getOffset() );\n    return( m2 );\n  } );\n</code></pre>\n\n<p>This solution uses <code>reduce</code> away from its intended use. It solely uses the ability of <code>reduce</code> to go over all the pairs in a stream.<br />\nThe result of <code>reduce</code> is <strong>not</strong> used. (It would be impossible to use the result any further, because that would require a mutable reduction.)</p>\n"}],"owner":{"account_id":4787817,"reputation":326,"user_id":4347951,"display_name":"SadBunny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8216,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":58568849,"answer_count":6,"score":6,"last_activity_date":1673454327,"creation_date":1489584048,"question_id":42811045,"body_markdown":"I am practising some entry-level java 8 lambda functionality.\r\n\r\nGiven a list of messages, each containing a message offset, where all offsets must form a consecutive list of integers, I&#39;m trying to find gaps to warn about. I get the feeling this all should be well doable with a nice lambda. But I can&#39;t get my head around it.\r\n\r\nSo, there&#39;s this working snippet:\r\n\r\n    private void warnAboutMessageGaps(final List&lt;Message&gt; messages) {\r\n\r\n        final List&lt;Long&gt; offsets = messages.stream()\r\n                .sorted(comparingLong(Message::getOffset))\r\n                .map(Message::getOffset)\r\n                .collect(toList())\r\n                ;\r\n\r\n        for (int i = 0; i &lt; offsets.size() - 1; i++) {\r\n            final long currentOffset = offsets.get(i);\r\n            final long expectedNextOffset = offsets.get(i) + 1;\r\n            final long actualNextOffset = offsets.get(i + 1);\r\n            if (currentOffset != expectedNextOffset) {\r\n                LOG.error(&quot;Missing offset(s) found in messages: missing from {} to {}&quot;, currentOffset + 1, actualNextOffset - 1);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat I can&#39;t figure out is how to make it so that I can do the &quot;compare with previous/next object&quot; in the lambda. Any pointers would be appreciated.\r\n\r\n/edit: Suggestions about StreamEx and other third-party solutions, while appreciated, are not what I was looking for.","title":"Java 8 lambda: iterate over stream objects and use previous/next object(s) in stream","body":"<p>I am practising some entry-level java 8 lambda functionality.</p>\n\n<p>Given a list of messages, each containing a message offset, where all offsets must form a consecutive list of integers, I'm trying to find gaps to warn about. I get the feeling this all should be well doable with a nice lambda. But I can't get my head around it.</p>\n\n<p>So, there's this working snippet:</p>\n\n<pre><code>private void warnAboutMessageGaps(final List&lt;Message&gt; messages) {\n\n    final List&lt;Long&gt; offsets = messages.stream()\n            .sorted(comparingLong(Message::getOffset))\n            .map(Message::getOffset)\n            .collect(toList())\n            ;\n\n    for (int i = 0; i &lt; offsets.size() - 1; i++) {\n        final long currentOffset = offsets.get(i);\n        final long expectedNextOffset = offsets.get(i) + 1;\n        final long actualNextOffset = offsets.get(i + 1);\n        if (currentOffset != expectedNextOffset) {\n            LOG.error(\"Missing offset(s) found in messages: missing from {} to {}\", currentOffset + 1, actualNextOffset - 1);\n        }\n    }\n}\n</code></pre>\n\n<p>What I can't figure out is how to make it so that I can do the \"compare with previous/next object\" in the lambda. Any pointers would be appreciated.</p>\n\n<p>/edit: Suggestions about StreamEx and other third-party solutions, while appreciated, are not what I was looking for.</p>\n"},{"tags":["java","functional-programming","java-8","java-stream","lazy-evaluation"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1489159527,"post_id":42721608,"comment_id":72563667,"body_markdown":"No, it&#39;s the documented and expected behavior. You can consume a stream only once. Not all operations should be on one line. Why do you pass a stream containing a single value nstead of passing the value in the first place?","body":"No, it&#39;s the documented and expected behavior. You can consume a stream only once. Not all operations should be on one line. Why do you pass a stream containing a single value nstead of passing the value in the first place?"},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489160805,"post_id":42721608,"comment_id":72564523,"body_markdown":"@JB Nizet I need to have an operation of &quot;associative&quot; nature (i.e.receving two same type arguments, and outputing same type result). Those associative operations are the only ones allowed for the `reduce` methods, and when you chain operations, you frequently come to use the `reduce` method as part of this holy trinity `filter`, `map`, `reduce`.","body":"@JB Nizet I need to have an operation of &quot;associative&quot; nature (i.e.receving two same type arguments, and outputing same type result). Those associative operations are the only ones allowed for the <code>reduce</code> methods, and when you chain operations, you frequently come to use the <code>reduce</code> method as part of this holy trinity <code>filter</code>, <code>map</code>, <code>reduce</code>."},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489294513,"post_id":42721608,"comment_id":72605214,"body_markdown":"Bojan&#39;s explanation made me realize, that java stream&#39;s very nature of &quot;short living&quot; objects disallow to &quot;make algebra&quot; with them, (i.e. applying on two streams an operation that would yield another stream) in a sensed way. For the problem given, findind the secund highest number in a serie, Holger&#39;s answer is the way to go : efficient and implemented using the java streams philosophy.","body":"Bojan&#39;s explanation made me realize, that java stream&#39;s very nature of &quot;short living&quot; objects disallow to &quot;make algebra&quot; with them, (i.e. applying on two streams an operation that would yield another stream) in a sensed way. For the problem given, findind the secund highest number in a serie, Holger&#39;s answer is the way to go : efficient and implemented using the java streams philosophy."},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489615565,"post_id":42721608,"comment_id":72754844,"body_markdown":"And to whom it may interest, here&#39;s my 1-line version of the answer. Not super efficient (3 streams are used which is better than O(n^2)), but one and only one line of code. Stupid but fun ;-) : `return Arrays.stream(Arrays.stream(tab).mapToObj(x-&gt; new int[] {x}).reduce( new int[] { tab[0], Arrays.stream(tab).max().getAsInt() }, (a, b) -&gt; new int[] { (a[0] == a[1]) ? b[0] : (b[0] == a[1]) ? a[0] : Math.max(a[0], b[0]), a[1] } ) ).reduce((a,b)-&gt; (a==b) ? OptionalInt.empty().getAsInt() : a).getAsInt();`","body":"And to whom it may interest, here&#39;s my 1-line version of the answer. Not super efficient (3 streams are used which is better than O(n^2)), but one and only one line of code. Stupid but fun ;-) : <code>return Arrays.stream(Arrays.stream(tab).mapToObj(x-&gt; new int[] {x}).reduce( new int[] { tab[0], Arrays.stream(tab).max().getAsInt() }, (a, b) -&gt; new int[] { (a[0] == a[1]) ? b[0] : (b[0] == a[1]) ? a[0] : Math.max(a[0], b[0]), a[1] } ) ).reduce((a,b)-&gt; (a==b) ? OptionalInt.empty().getAsInt() : a).getAsInt();</code>"}],"answers":[{"comments":[{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489159876,"post_id":42721930,"comment_id":72563900,"body_markdown":"Azro, your solution is elegant but problematic : you re-calculate the serie&#39;s max for each element in the stream. The max number won&#39;t change so there&#39;s no need to recalculate it (series.length) times. That is, O(n^2) in big O notation.","body":"Azro, your solution is elegant but problematic : you re-calculate the serie&#39;s max for each element in the stream. The max number won&#39;t change so there&#39;s no need to recalculate it (series.length) times. That is, O(n^2) in big O notation."},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1489161941,"post_id":42721930,"comment_id":72565300,"body_markdown":"@bistrot oh yes, on this small example it does not have effect but you&#39;re right, i changed","body":"@bistrot oh yes, on this small example it does not have effect but you&#39;re right, i changed"}],"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489161907,"creation_date":1489159488,"answer_id":42721930,"question_id":42721608,"body_markdown":"You have four lines : \r\n\r\n     IntStream S1 = Arrays.stream(numbers);\r\n     IntStream S2 = Arrays.stream(new int[] {Arrays.stream(numbers).max().getAsInt()} );\r\n     int  maxNumber = S2.toArray()[0];\r\n     IntStream S3 = S1.filter(x-&gt; x != maxNumber);\r\n     int secundMaxNumber = S3.max().getAsInt();\r\n\r\nSame in 2 :\r\n \r\n\r\n    int  maxNumber = Arrays.stream(numbers).max().getAsInt();\r\n    int secundMaxNumber = Arrays.stream(numbers).filter(x-&gt; x != maxNumber).max().getAsInt();\r\n\r\nIt&#39;s hard to re-use streams so better to do it in one-way, and better calculate the max in a variable and re-use to not calculate it each time","title":"How to combine two java8 stream operations - one terminal and one lazy - into a single operation?","body":"<p>You have four lines : </p>\n\n<pre><code> IntStream S1 = Arrays.stream(numbers);\n IntStream S2 = Arrays.stream(new int[] {Arrays.stream(numbers).max().getAsInt()} );\n int  maxNumber = S2.toArray()[0];\n IntStream S3 = S1.filter(x-&gt; x != maxNumber);\n int secundMaxNumber = S3.max().getAsInt();\n</code></pre>\n\n<p>Same in 2 :</p>\n\n<pre><code>int  maxNumber = Arrays.stream(numbers).max().getAsInt();\nint secundMaxNumber = Arrays.stream(numbers).filter(x-&gt; x != maxNumber).max().getAsInt();\n</code></pre>\n\n<p>It's hard to re-use streams so better to do it in one-way, and better calculate the max in a variable and re-use to not calculate it each time</p>\n"},{"comments":[{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489161479,"post_id":42722058,"comment_id":72564985,"body_markdown":"Bojan, your explanation is helpful and very clear, nonetheless, the `sorted()` operation may be problematic from an efficiency point of view : I don&#39;t know how sorting a serie compares to searching the serie twice (1st time: max number, 2nd time : the serie being filtered, max number is now the secund max).","body":"Bojan, your explanation is helpful and very clear, nonetheless, the <code>sorted()</code> operation may be problematic from an efficiency point of view : I don&#39;t know how sorting a serie compares to searching the serie twice (1st time: max number, 2nd time : the serie being filtered, max number is now the secund max)."},{"owner":{"account_id":6692704,"reputation":2426,"user_id":5161718,"display_name":"Bojan Petkovic"},"score":0,"creation_date":1489163820,"post_id":42722058,"comment_id":72566464,"body_markdown":"with streams, this should be optimal.  Since the sorted() is not going to do any work until a terminal operation, and since we have limit(x) it will actually not sort the whole stream, it will just get the limit values. \n\nOn a side note, programming should not having magic numbers.  E.g. find the second number should not be a function, instead findXthLargestNumber ( int valueToFind)","body":"with streams, this should be optimal.  Since the sorted() is not going to do any work until a terminal operation, and since we have limit(x) it will actually not sort the whole stream, it will just get the limit values.   On a side note, programming should not having magic numbers.  E.g. find the second number should not be a function, instead findXthLargestNumber ( int valueToFind)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1489164140,"post_id":42722058,"comment_id":72566644,"body_markdown":"@Bojan Petkovic: the `limit` and `skip` operations apply to the *sorted* elements, which implies that you have to know the sorted order to choose the right elements. In theory, the lazy nature allows a `Stream` implementation to recognize the combination of `sorted` and subsequent `limit`/`skip` to understand that this is a search for the n’th or last n’th element, but this doesn’t happen in practice (with the current implementation). So this will always sort all elements…","body":"@Bojan Petkovic: the <code>limit</code> and <code>skip</code> operations apply to the <i>sorted</i> elements, which implies that you have to know the sorted order to choose the right elements. In theory, the lazy nature allows a <code>Stream</code> implementation to recognize the combination of <code>sorted</code> and subsequent <code>limit</code>/<code>skip</code> to understand that this is a search for the n’th or last n’th element, but this doesn’t happen in practice (with the current implementation). So this will always sort all elements…"},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489164587,"post_id":42722058,"comment_id":72566940,"body_markdown":"@Bojan, you&#39;re right for programming that shouldn&#39;t be incorporating magic numbers in code, that&#39;s not really the case here, I&#39;m indeed searching for the secund highest value, but no magic numbers in the code. on [this link](http://bigocheatsheet.com/) you can see that sorting algorithms can be very expensive. Ho ! and I have forgotten to say thanks for your explanation : I finally understood my mistake thanks to it !","body":"@Bojan, you&#39;re right for programming that shouldn&#39;t be incorporating magic numbers in code, that&#39;s not really the case here, I&#39;m indeed searching for the secund highest value, but no magic numbers in the code. on <a href=\"http://bigocheatsheet.com/\" rel=\"nofollow noreferrer\">this link</a> you can see that sorting algorithms can be very expensive. Ho ! and I have forgotten to say thanks for your explanation : I finally understood my mistake thanks to it !"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1489164641,"post_id":42722058,"comment_id":72566977,"body_markdown":"By the way, this code returns the x’th number in natural order, not the “x’th maxNumber”. If you want the semi-biggest value, you have to know the stream’s size in advance to calculate the right `x`.","body":"By the way, this code returns the x’th number in natural order, not the “x’th maxNumber”. If you want the semi-biggest value, you have to know the stream’s size in advance to calculate the right <code>x</code>."},{"owner":{"account_id":6692704,"reputation":2426,"user_id":5161718,"display_name":"Bojan Petkovic"},"score":0,"creation_date":1489166029,"post_id":42722058,"comment_id":72567838,"body_markdown":"@Holger is correct, streams at the moment are not smart enough to realize they only need to find the first element.  or do limits\n\nDepending on your expected list size you should decide how to get the second largest value.","body":"@Holger is correct, streams at the moment are not smart enough to realize they only need to find the first element.  or do limits  Depending on your expected list size you should decide how to get the second largest value."},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489293035,"post_id":42722058,"comment_id":72604916,"body_markdown":"You won this question Bojan ;-) however I think the code provided by Holger is better from a few perspectives : efficiency first, and secund, doing the job the right way. However, your explanation took my mind out of its confusion and explained my mistake in a very clear way. So thank you and know that you&#39;re a lucky guy : you won my answer flipping a coin heads or tails, no kidding.","body":"You won this question Bojan ;-) however I think the code provided by Holger is better from a few perspectives : efficiency first, and secund, doing the job the right way. However, your explanation took my mind out of its confusion and explained my mistake in a very clear way. So thank you and know that you&#39;re a lucky guy : you won my answer flipping a coin heads or tails, no kidding."}],"tags":[],"owner":{"account_id":6692704,"reputation":2426,"user_id":5161718,"display_name":"Bojan Petkovic"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1535926068,"creation_date":1489159817,"answer_id":42722058,"question_id":42721608,"body_markdown":"The reason that this does not work:\r\n\r\n    IntStream S3 = S1.filter(x-&gt; x != S2.toArray()[0]);\r\n\r\nis because S2 can only be acted on once.  and filter recalculates it for every entry in S3.\r\n\r\nThink of it filter as a for loop, and s2 as a value that can be only ready once.\r\nYou can compare streams to System.in - once you read the value once you cannot re-read it.  You have to get a new one.\r\n\r\n\r\nA bit more information:\r\nThe operation is not lazy since you have this line of code which makes it terminal:\r\n\r\n    secundMaxNumber = S3.max().getAsInt();\r\n\r\nSide note: to get the Xth maxNumber, you can also just do: you do not need to use the stream multiple times. \r\n\r\n    S1.sorted().limit(x).skip(x-1).findFirst().getAsInt();\r\n\r\n\r\n\r\nReferences:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\r\n\r\n","title":"How to combine two java8 stream operations - one terminal and one lazy - into a single operation?","body":"<p>The reason that this does not work:</p>\n\n<pre><code>IntStream S3 = S1.filter(x-&gt; x != S2.toArray()[0]);\n</code></pre>\n\n<p>is because S2 can only be acted on once.  and filter recalculates it for every entry in S3.</p>\n\n<p>Think of it filter as a for loop, and s2 as a value that can be only ready once.\nYou can compare streams to System.in - once you read the value once you cannot re-read it.  You have to get a new one.</p>\n\n<p>A bit more information:\nThe operation is not lazy since you have this line of code which makes it terminal:</p>\n\n<pre><code>secundMaxNumber = S3.max().getAsInt();\n</code></pre>\n\n<p>Side note: to get the Xth maxNumber, you can also just do: you do not need to use the stream multiple times. </p>\n\n<pre><code>S1.sorted().limit(x).skip(x-1).findFirst().getAsInt();\n</code></pre>\n\n<p>References:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-</a></p>\n"},{"comments":[{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489292341,"post_id":42724429,"comment_id":72604790,"body_markdown":"I hesitated between your answer and Bojan&#39;s one. I did not know how to decide so I flipped a coin heads or tails (and Bojan&#39;s won). Someone said once &quot;identifying the ailment is half its cure&quot;, what Bojan&#39;s did by giving me a clear explanation of my mistake. You gave the secund half: the medicine. Thanks for your very pretty and &quot;zen&quot; snippet Holger and sorry for not having the ability to split my choice between the two of you.","body":"I hesitated between your answer and Bojan&#39;s one. I did not know how to decide so I flipped a coin heads or tails (and Bojan&#39;s won). Someone said once &quot;identifying the ailment is half its cure&quot;, what Bojan&#39;s did by giving me a clear explanation of my mistake. You gave the secund half: the medicine. Thanks for your very pretty and &quot;zen&quot; snippet Holger and sorry for not having the ability to split my choice between the two of you."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489167199,"creation_date":1489167199,"answer_id":42724429,"question_id":42721608,"body_markdown":"If streaming over the source is possible and not expensive, like with arrays, you may just stream twice, like in [azro’s answer](https://stackoverflow.com/a/42721930/2711488):\r\n\r\n    int maxNumber = Arrays.stream(numbers).max().getAsInt();\r\n    int secondMaxNumber = Arrays.stream(numbers).filter(x-&gt; x != maxNumber).max().getAsInt();\r\n\r\nIf streaming twice isn’t possible or expensive, you need a custom collector to get the second largest value efficiently, i.e. with holding only the necessary two values. E.g.\r\n\r\n    final class SecondMax {\r\n        long max=Long.MIN_VALUE, semi=max;\r\n\r\n        void add(int next) {\r\n            if(next&gt;semi) {\r\n                if(next&gt;max) {\r\n                    semi=max;\r\n                    max=next;\r\n                }\r\n                else if(next&lt;max) {\r\n                    semi=next;\r\n                }\r\n            }\r\n        }\r\n        void merge(SecondMax other) {\r\n            if(other.max&gt;Long.MIN_VALUE) {\r\n                add((int)other.max);\r\n                if(other.semi&gt;Long.MIN_VALUE) add((int)other.semi);\r\n            }\r\n        }\r\n        OptionalInt get() {\r\n            return semi&gt;Long.MIN_VALUE? OptionalInt.of((int)semi): OptionalInt.empty();\r\n        }\r\n    }\r\n\r\nWith this helper, you can get the value in a single stream operation:\r\n\r\n    OptionalInt secondMax = Arrays.stream(array)\r\n      .collect(SecondMax::new, SecondMax::add, SecondMax::merge).get();\r\n","title":"How to combine two java8 stream operations - one terminal and one lazy - into a single operation?","body":"<p>If streaming over the source is possible and not expensive, like with arrays, you may just stream twice, like in <a href=\"https://stackoverflow.com/a/42721930/2711488\">azro’s answer</a>:</p>\n\n<pre><code>int maxNumber = Arrays.stream(numbers).max().getAsInt();\nint secondMaxNumber = Arrays.stream(numbers).filter(x-&gt; x != maxNumber).max().getAsInt();\n</code></pre>\n\n<p>If streaming twice isn’t possible or expensive, you need a custom collector to get the second largest value efficiently, i.e. with holding only the necessary two values. E.g.</p>\n\n<pre><code>final class SecondMax {\n    long max=Long.MIN_VALUE, semi=max;\n\n    void add(int next) {\n        if(next&gt;semi) {\n            if(next&gt;max) {\n                semi=max;\n                max=next;\n            }\n            else if(next&lt;max) {\n                semi=next;\n            }\n        }\n    }\n    void merge(SecondMax other) {\n        if(other.max&gt;Long.MIN_VALUE) {\n            add((int)other.max);\n            if(other.semi&gt;Long.MIN_VALUE) add((int)other.semi);\n        }\n    }\n    OptionalInt get() {\n        return semi&gt;Long.MIN_VALUE? OptionalInt.of((int)semi): OptionalInt.empty();\n    }\n}\n</code></pre>\n\n<p>With this helper, you can get the value in a single stream operation:</p>\n\n<pre><code>OptionalInt secondMax = Arrays.stream(array)\n  .collect(SecondMax::new, SecondMax::add, SecondMax::merge).get();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1489185577,"post_id":42725505,"comment_id":72577367,"body_markdown":"Long story in short... I&#39;m here to try to provide the best answer by my knowledge. I may have the intention to promote the work we have done. but only when it&#39;s the right&amp;best answer. in other words, I will do the extract thing regardless i&#39;m the author/contributor or not. if any answer is judged by who wrote it, not itself here.  that will be funny to me.","body":"Long story in short... I&#39;m here to try to provide the best answer by my knowledge. I may have the intention to promote the work we have done. but only when it&#39;s the right&amp;best answer. in other words, I will do the extract thing regardless i&#39;m the author/contributor or not. if any answer is judged by who wrote it, not itself here.  that will be funny to me."},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489287763,"post_id":42725505,"comment_id":72603990,"body_markdown":"Thanks for this nice piece of code however theres&#39; one important trouble with it : when there is no secund max at all (e.g. `int [] nums =  {3};`  or `int [] nums = {2, 2, 2};`), I get this output : _the secund highest value in the serie is -2147483648_. @Holger &#39;s snippet handles this case better, it raises a _java.util.NoSuchElementException_.","body":"Thanks for this nice piece of code however theres&#39; one important trouble with it : when there is no secund max at all (e.g. <code>int [] nums =  {3};</code>  or <code>int [] nums = {2, 2, 2};</code>), I get this output : <i>the secund highest value in the serie is -2147483648</i>. @Holger &#39;s snippet handles this case better, it raises a <i>java.util.NoSuchElementException</i>."},{"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"score":0,"creation_date":1489291482,"post_id":42725505,"comment_id":72604644,"body_markdown":"However, your implementation with AbacusUtil is fine : it will cope with the &quot;no secund max&quot; cases correctly raising the same _java.util.NoSuchElementException_ as @Holger&#39;s code does. One small thing that I dislike, the need to insert the `distinct()`, when I drop it, it returns the max number :-( . This should be explicitly documented in your [API doc](http://www.landawn.com/api-docs/com/landawn/abacus/util/stream/IntStream.html#kthLargest-int-) or better, be corrected. But nice job, nonetheless !","body":"However, your implementation with AbacusUtil is fine : it will cope with the &quot;no secund max&quot; cases correctly raising the same <i>java.util.NoSuchElementException</i> as @Holger&#39;s code does. One small thing that I dislike, the need to insert the <code>distinct()</code>, when I drop it, it returns the max number :-( . This should be explicitly documented in your <a href=\"http://www.landawn.com/api-docs/com/landawn/abacus/util/stream/IntStream.html#kthLargest-int-\" rel=\"nofollow noreferrer\">API doc</a> or better, be corrected. But nice job, nonetheless !"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1489400727,"post_id":42725505,"comment_id":72637918,"body_markdown":"You should never provide a non-working merge function like `(a, b) -&gt; {}`. This might work with the current implementation when using a sequential stream, but leaves a time bomb in your code. Besides that, your variant doesn’t handle streams correctly when there is no second max value, e.g. when the stream is empty or has only a single element. You can’t even tell apart whether there is no second max value or whether `Integer.MIN_VALUE` is the actual second max value, e.g. with the input `{ MIN_VALUE, 42 }`.","body":"You should never provide a non-working merge function like <code>(a, b) -&gt; {}</code>. This might work with the current implementation when using a sequential stream, but leaves a time bomb in your code. Besides that, your variant doesn’t handle streams correctly when there is no second max value, e.g. when the stream is empty or has only a single element. You can’t even tell apart whether there is no second max value or whether <code>Integer.MIN_VALUE</code> is the actual second max value, e.g. with the input <code>{ MIN_VALUE, 42 }</code>."}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673454294,"creation_date":1489170999,"answer_id":42725505,"question_id":42721608,"body_markdown":"Since the input is an int array, The solution provided by @azro is good enough to me. just second @Holger: don&#39;t have to define a new class:\r\n\r\n    final Supplier&lt;int[]&gt; supplier = () -&gt; new int[] { Integer.MIN_VALUE, Integer.MIN_VALUE };\r\n    final ObjIntConsumer&lt;int[]&gt; accumulator = (a, i) -&gt; {\r\n        if (i &gt; a[0]) {\r\n            a[1] = a[0];\r\n            a[0] = i;\r\n        } else if (i != a[0] &amp;&amp; i &gt; a[1]) {\r\n            a[1] = i;\r\n        }\r\n    };\r\n\r\n    int secondMax = Arrays.stream(nums).collect(supplier, accumulator, (a, b) -&gt; {})[1];\r\n\r\nOr with the API provided in third-party library: [abacus-common][1]\r\n\r\n    int secondMax = IntStream.of(nums).distinct().kthLargest(2).get();\r\n\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to combine two java8 stream operations - one terminal and one lazy - into a single operation?","body":"<p>Since the input is an int array, The solution provided by @azro is good enough to me. just second @Holger: don't have to define a new class:</p>\n<pre><code>final Supplier&lt;int[]&gt; supplier = () -&gt; new int[] { Integer.MIN_VALUE, Integer.MIN_VALUE };\nfinal ObjIntConsumer&lt;int[]&gt; accumulator = (a, i) -&gt; {\n    if (i &gt; a[0]) {\n        a[1] = a[0];\n        a[0] = i;\n    } else if (i != a[0] &amp;&amp; i &gt; a[1]) {\n        a[1] = i;\n    }\n};\n\nint secondMax = Arrays.stream(nums).collect(supplier, accumulator, (a, b) -&gt; {})[1];\n</code></pre>\n<p>Or with the API provided in third-party library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>int secondMax = IntStream.of(nums).distinct().kthLargest(2).get();\n</code></pre>\n"}],"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":42722058,"answer_count":4,"score":0,"last_activity_date":1673454294,"creation_date":1489158523,"question_id":42721608,"body_markdown":"I&#39;m doing some &quot;algebra&quot; of Java 8&#39;s streams, that is, I&#39;m trying to code a simple operation Op that takes two streams as inputs and yields another stream as a result.\r\n\r\nSo I have this simple code whose aim is to print the secund highest value in a serie of numbers :\r\n\r\n    import java.util.Arrays;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class SecundHighestValue {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t//setting the input parameters\r\n    \t\tint [] numbers = {1, 2, 3, 4, 3, 4, 2, 1};\r\n    \r\n    \t\tIntStream S1 = Arrays.stream(numbers);\r\n    \t\tIntStream S2 = Arrays.stream(new int[] {Arrays.stream(numbers).max().getAsInt()} );\r\n    \t\t\r\n    \t\t// setting the operation\r\n    \t\tIntStream S3 = S1.filter(x-&gt; x != S2.toArray()[0]); // doesn&#39;t work\r\n\r\n    \t\t/*** does work  ***\r\n    \t\tint  maxNumber = S2.toArray()[0];\r\n    \t\tIntStream S3 = S1.filter(x-&gt; x != maxNumber);\r\n    \t\t*/\r\n\r\n    \t\t// accessing the operation&#39;s result stream S3\r\n    \t\tint secundMaxNumber = S3.max().getAsInt();\r\n    \t\tSystem.out.println(&quot;the secund highest value in the serie &quot; +\r\n    \t\t    \t\tArrays.toString(numbers) + &quot; is &quot; + secundMaxNumber);\t\r\n    \t}\r\n    }\r\n\r\nThis program won&#39;t work, unless I split the one-line operation this way :\r\n\r\n\t\tint  maxNumber = S2.toArray()[0];\r\n\t\tIntStream S3 = S1.filter(x-&gt; x != maxNumber);\r\n\r\nKeeping the operation in one line will raise this exception :\r\n\r\n*Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n...*\r\n\r\nI understand that it&#39;s related to the filter() method&#39;s inherent laziness.\r\nThe [API][1] explains :\r\n\r\n&gt;Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.\r\n\r\nand in fact, the stack trace shows that the operation doesn&#39;t execute until I try to access its result in the next line.\r\n\r\nIs this behaviour a flawed desing in java8 ? Is it a bug ? And most important, how can I keep the operation in one line and have it work ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"How to combine two java8 stream operations - one terminal and one lazy - into a single operation?","body":"<p>I'm doing some \"algebra\" of Java 8's streams, that is, I'm trying to code a simple operation Op that takes two streams as inputs and yields another stream as a result.</p>\n\n<p>So I have this simple code whose aim is to print the secund highest value in a serie of numbers :</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.stream.IntStream;\n\npublic class SecundHighestValue {\n\n    public static void main(String[] args) {\n\n        //setting the input parameters\n        int [] numbers = {1, 2, 3, 4, 3, 4, 2, 1};\n\n        IntStream S1 = Arrays.stream(numbers);\n        IntStream S2 = Arrays.stream(new int[] {Arrays.stream(numbers).max().getAsInt()} );\n\n        // setting the operation\n        IntStream S3 = S1.filter(x-&gt; x != S2.toArray()[0]); // doesn't work\n\n        /*** does work  ***\n        int  maxNumber = S2.toArray()[0];\n        IntStream S3 = S1.filter(x-&gt; x != maxNumber);\n        */\n\n        // accessing the operation's result stream S3\n        int secundMaxNumber = S3.max().getAsInt();\n        System.out.println(\"the secund highest value in the serie \" +\n                    Arrays.toString(numbers) + \" is \" + secundMaxNumber);   \n    }\n}\n</code></pre>\n\n<p>This program won't work, unless I split the one-line operation this way :</p>\n\n<pre><code>    int  maxNumber = S2.toArray()[0];\n    IntStream S3 = S1.filter(x-&gt; x != maxNumber);\n</code></pre>\n\n<p>Keeping the operation in one line will raise this exception :</p>\n\n<p><em>Exception in thread \"main\" java.lang.IllegalStateException: stream has already been operated upon or closed\n...</em></p>\n\n<p>I understand that it's related to the filter() method's inherent laziness.\nThe <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">API</a> explains :</p>\n\n<blockquote>\n  <p>Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.</p>\n</blockquote>\n\n<p>and in fact, the stack trace shows that the operation doesn't execute until I try to access its result in the next line.</p>\n\n<p>Is this behaviour a flawed desing in java8 ? Is it a bug ? And most important, how can I keep the operation in one line and have it work ?</p>\n"},{"tags":["java","design-patterns","singleton"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1673451758,"post_id":75085558,"comment_id":132503104,"body_markdown":"The second snippet would not be a singleton as you&#39;d need an instance to create an instance. So you&#39;d need at least 2 instances and your snippet actually creates 3. A singleton means there only exists 1 instance so you need to make sure this condition is met. You basically just have a shared instance.","body":"The second snippet would not be a singleton as you&#39;d need an instance to create an instance. So you&#39;d need at least 2 instances and your snippet actually creates 3. A singleton means there only exists 1 instance so you need to make sure this condition is met. You basically just have a shared instance."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1673453328,"post_id":75085558,"comment_id":132503745,"body_markdown":"I for one don&#39;t understand the use case for your second example. `Singleton` is programming pattern, one that has shown itself to be generally useful. It is not a formal language construct. So what I&#39;m saying is that it is less important to answer the question &quot;is this a singleton?&quot; then &quot;Why would we want to do this?&quot; / &quot;Is this the optimal way we could achieve this?&quot;","body":"I for one don&#39;t understand the use case for your second example. <code>Singleton</code> is programming pattern, one that has shown itself to be generally useful. It is not a formal language construct. So what I&#39;m saying is that it is less important to answer the question &quot;is this a singleton?&quot; then &quot;Why would we want to do this?&quot; / &quot;Is this the optimal way we could achieve this?&quot;"}],"answers":[{"comments":[{"owner":{"display_name":"user20937564"},"score":1,"creation_date":1673454067,"post_id":75086080,"comment_id":132504068,"body_markdown":"If you will make constructor as private in your second code, then new Singleton() won&#39;t work and only way to get the object of this class will be to call getInstance() then it will work as singleton.","body":"If you will make constructor as private in your second code, then new Singleton() won&#39;t work and only way to get the object of this class will be to call getInstance() then it will work as singleton."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673453964,"creation_date":1673453964,"answer_id":75086080,"question_id":75085558,"body_markdown":"For Single threaded env your first class is singleton but not second one.\r\n\r\nFor a singleton class, there must exist only a single object inside JVM but in your second case you haven&#39;t made constructor as private so by default at compile time compiler will add default public constructor and this will break the rule of singleton because whenever you will call `new Singleton()`, it will return a new instance so there is no meaning of having `getInstance` method with public constructor. \r\n\r\nFor a singleton class private constructor is must so that it cant be initialised from outside the class.","title":"Is this a valid Singleton class in a single threaded environment?","body":"<p>For Single threaded env your first class is singleton but not second one.</p>\n<p>For a singleton class, there must exist only a single object inside JVM but in your second case you haven't made constructor as private so by default at compile time compiler will add default public constructor and this will break the rule of singleton because whenever you will call <code>new Singleton()</code>, it will return a new instance so there is no meaning of having <code>getInstance</code> method with public constructor.</p>\n<p>For a singleton class private constructor is must so that it cant be initialised from outside the class.</p>\n"},{"tags":[],"owner":{"display_name":"user20937564"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673454211,"creation_date":1673454211,"answer_id":75086133,"question_id":75085558,"body_markdown":"Second one is not Singleton, constructor must be private for singleton class.\r\n\r\nYou can use early initialisation as well to create singleton class -\r\n\r\n    {\r\n    private static Singleton obj = new Singleton();\r\n\r\n    private Singleton() {}\r\n \r\n    public static Singleton getInstance()\r\n    {\r\n        return obj;\r\n    }\r\n}","title":"Is this a valid Singleton class in a single threaded environment?","body":"<p>Second one is not Singleton, constructor must be private for singleton class.</p>\n<p>You can use early initialisation as well to create singleton class -</p>\n<pre><code>{\nprivate static Singleton obj = new Singleton();\n\nprivate Singleton() {}\n\npublic static Singleton getInstance()\n{\n    return obj;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673454211,"creation_date":1673451635,"question_id":75085558,"body_markdown":"The most common example of a Singleton class in a single threaded environment is below:\r\n\r\n```class Singleton\r\n{\r\n    private static Singleton obj;\r\n \r\n    // private constructor to force use of\r\n    // getInstance() to create Singleton object\r\n    private Singleton() {}\r\n \r\n    public static Singleton getInstance()\r\n    {\r\n        if (obj==null)\r\n            obj = new Singleton();\r\n        return obj;\r\n    }\r\n}\r\n```\r\n\r\nAs per my understanding the following can also be considered a Singleton, isn&#39;t it?\r\n\r\n```\r\npublic class SingleTon {\r\n    static SingleTon s;\r\n     SingleTon getInstance() {\r\n        if (s == null) {\r\n            s = new SingleTon();\r\n        }\r\n        return s;\r\n    }\r\n    public static void main(String[] args) {\r\n        SingleTon s1 = new SingleTon();\r\n        s1 = s1.getInstance();\r\n        SingleTon s2 =new SingleTon();\r\n        s2 = s2.getInstance();\r\n    }\r\n}\r\n```\r\nThe difference in the second case is, I am not adding a private constructor and even though 2 different instances got created initially, by reassigning the value of ```getInstance```, we are making the instances use the same object.\r\n\r\nPlease let me know if my understanding is correct.","title":"Is this a valid Singleton class in a single threaded environment?","body":"<p>The most common example of a Singleton class in a single threaded environment is below:</p>\n<pre><code>{\n    private static Singleton obj;\n \n    // private constructor to force use of\n    // getInstance() to create Singleton object\n    private Singleton() {}\n \n    public static Singleton getInstance()\n    {\n        if (obj==null)\n            obj = new Singleton();\n        return obj;\n    }\n}\n</code></pre>\n<p>As per my understanding the following can also be considered a Singleton, isn't it?</p>\n<pre><code>public class SingleTon {\n    static SingleTon s;\n     SingleTon getInstance() {\n        if (s == null) {\n            s = new SingleTon();\n        }\n        return s;\n    }\n    public static void main(String[] args) {\n        SingleTon s1 = new SingleTon();\n        s1 = s1.getInstance();\n        SingleTon s2 =new SingleTon();\n        s2 = s2.getInstance();\n    }\n}\n</code></pre>\n<p>The difference in the second case is, I am not adding a private constructor and even though 2 different instances got created initially, by reassigning the value of <code>getInstance</code>, we are making the instances use the same object.</p>\n<p>Please let me know if my understanding is correct.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1497531289,"post_id":44567806,"comment_id":76124667,"body_markdown":"cast Stream&lt;Set&gt; to Stream&lt;Entry&gt;? no, I can&#39;t.","body":"cast Stream&lt;Set&gt; to Stream&lt;Entry&gt;? no, I can&#39;t."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":7,"creation_date":1497533396,"post_id":44567806,"comment_id":76126312,"body_markdown":"You should probably consider changing your `getMap()` to return an empty map instead of `null`. You wouldn&#39;t have wrap it in an `Optional` then, and you would easily avoid such issues. As [Stuart Marks](https://stackoverflow.com/users/1441122/stuart-marks) says it, [Rule #4: It&#39;s generally a bad idea to create an `Optional` for the specific purpose of chaining methods from it to get a value.](https://youtu.be/Ej0sss6cq14?t=27m55s).","body":"You should probably consider changing your <code>getMap()</code> to return an empty map instead of <code>null</code>. You wouldn&#39;t have wrap it in an <code>Optional</code> then, and you would easily avoid such issues. As <a href=\"https://stackoverflow.com/users/1441122/stuart-marks\">Stuart Marks</a> says it, <a href=\"https://youtu.be/Ej0sss6cq14?t=27m55s\" rel=\"nofollow noreferrer\">Rule #4: It&#39;s generally a bad idea to create an <code>Optional</code> for the specific purpose of chaining methods from it to get a value.</a>."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":3,"creation_date":1497534443,"post_id":44567806,"comment_id":76127122,"body_markdown":"In Java 9, [`Optional` will have a `stream()` method](http://download.java.net/java/jdk9/docs/api/java/util/Optional.html#stream--), you could simply do: `Optional.ofNullable(getMap()).map(Map::entrySet).stream().flatMap(Set::stream)...`","body":"In Java 9, <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/Optional.html#stream--\" rel=\"nofollow noreferrer\"><code>Optional</code> will have a <code>stream()</code> method</a>, you could simply do: <code>Optional.ofNullable(getMap()).map(Map::entrySet).stream().fl&zwnj;&#8203;atMap(Set::stream)..&zwnj;&#8203;.</code>"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1497535736,"post_id":44567806,"comment_id":76128109,"body_markdown":"yes, that looks promising ... however I&#39;m in an enterprise environment and it took us a few years to adopt Java8 ... not sure I will be switching in July :-(","body":"yes, that looks promising ... however I&#39;m in an enterprise environment and it took us a few years to adopt Java8 ... not sure I will be switching in July :-("},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1497535799,"post_id":44567806,"comment_id":76128148,"body_markdown":"@Nathan : yes, that might be, I edited the question a couple of times and you were very fast. Sorry for the confusion!","body":"@Nathan : yes, that might be, I edited the question a couple of times and you were very fast. Sorry for the confusion!"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":3,"creation_date":1497536586,"post_id":44567806,"comment_id":76128823,"body_markdown":"@JanGalinski If you are in an enterprise environment and have already adopted java8, you should be thankful, I think... I wouldn&#39;t adopt Java9 until it is quite mature and frameworks and libraries are equally mature.","body":"@JanGalinski If you are in an enterprise environment and have already adopted java8, you should be thankful, I think... I wouldn&#39;t adopt Java9 until it is quite mature and frameworks and libraries are equally mature."}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1497988379,"creation_date":1497530762,"answer_id":44567906,"question_id":44567806,"body_markdown":"Your mistake is in this line:\r\n\r\n    .map(Stream::of)\r\n\r\nThe `of` function takes a single parameter (or a vararg parameter), and returns a stream with only that element. You will therefore get a `Stream&lt;Set&lt;Map.Entry&gt;&gt;`. Instead, you should call the stream method on the entryset, like this:\r\n\r\n    .map(Set::stream)","title":"using a stream based on the content of Optional&lt;Map&gt;","body":"<p>Your mistake is in this line:</p>\n\n<pre><code>.map(Stream::of)\n</code></pre>\n\n<p>The <code>of</code> function takes a single parameter (or a vararg parameter), and returns a stream with only that element. You will therefore get a <code>Stream&lt;Set&lt;Map.Entry&gt;&gt;</code>. Instead, you should call the stream method on the entryset, like this:</p>\n\n<pre><code>.map(Set::stream)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1673454098,"creation_date":1497554590,"answer_id":44575379,"question_id":44567806,"body_markdown":"I think I&#39;m going to answer the question.\r\n\r\n\t return Optional.ofNullable(getMap())\r\n\t   .map(Map::entrySet) // gets the entryset\r\n\t   .map(Stream::of)\r\n\t   .orElseGet(Stream::empty)\r\n\t   // i would then like to continue with\r\n\t   .filter(e -&gt; e.getKey().startsWith(&quot;f&quot;)\r\n\t   .map(Entry::getValue)\r\n\t   .findFirst();\r\n\r\nI&#39;m sick, really sick when I saw above code. Is it really so important for you write code in fluent approach, instead of writing simple code? first of all, as @ Didier L mentioned in the comments, it&#39;s wrong way to use `Optional`. Secondly, the code is so hard to read, isn&#39;t it? if you write it with defining a local variable:\r\n\r\n\r\n    Map&lt;String, Integer&gt; map = getMap();\r\n    \r\n    return map == null ? Optional.&lt;Integer&gt; empty() \r\n                       : map.entrySet().stream()\r\n                            .filter(e -&gt; e.getKey().startsWith(&quot;f&quot;)).map(Entry::getValue).findFirst();\r\n\r\nIsn&#39;t it much clear? Or you can do it with [StreamEx][1] if you can&#39;t get over not using fluent approach:\r\n\r\n    StreamEx.ofNullable(getMap())\r\n            .flatMapToEntry(Function.identity())\r\n            .filterKeys(k -&gt; k.startsWith(&quot;f&quot;)).values().findFirst();\r\n\r\n\r\nOr my library [abacus-common][2]\r\n\r\n    EntryStream.of(getMap()).filterByKey(k -&gt; k.startsWith(&quot;f&quot;)).values().first();\r\n\r\n\r\nAlways trying to look for a better approach if things are stuck.  \r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"using a stream based on the content of Optional&lt;Map&gt;","body":"<p>I think I'm going to answer the question.</p>\n<pre><code> return Optional.ofNullable(getMap())\n   .map(Map::entrySet) // gets the entryset\n   .map(Stream::of)\n   .orElseGet(Stream::empty)\n   // i would then like to continue with\n   .filter(e -&gt; e.getKey().startsWith(&quot;f&quot;)\n   .map(Entry::getValue)\n   .findFirst();\n</code></pre>\n<p>I'm sick, really sick when I saw above code. Is it really so important for you write code in fluent approach, instead of writing simple code? first of all, as @ Didier L mentioned in the comments, it's wrong way to use <code>Optional</code>. Secondly, the code is so hard to read, isn't it? if you write it with defining a local variable:</p>\n<pre><code>Map&lt;String, Integer&gt; map = getMap();\n\nreturn map == null ? Optional.&lt;Integer&gt; empty() \n                   : map.entrySet().stream()\n                        .filter(e -&gt; e.getKey().startsWith(&quot;f&quot;)).map(Entry::getValue).findFirst();\n</code></pre>\n<p>Isn't it much clear? Or you can do it with <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> if you can't get over not using fluent approach:</p>\n<pre><code>StreamEx.ofNullable(getMap())\n        .flatMapToEntry(Function.identity())\n        .filterKeys(k -&gt; k.startsWith(&quot;f&quot;)).values().findFirst();\n</code></pre>\n<p>Or my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>EntryStream.of(getMap()).filterByKey(k -&gt; k.startsWith(&quot;f&quot;)).values().first();\n</code></pre>\n<p>Always trying to look for a better approach if things are stuck.</p>\n"}],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44567906,"answer_count":2,"score":5,"last_activity_date":1673454098,"creation_date":1497530471,"question_id":44567806,"body_markdown":"I get a map from a service not under my control that might be null and want to process it, let&#39;s say, filter, map and reduce to a single element I need.\r\n\r\nQuestion: is there a &quot;link&quot; from Optional&lt;Map&gt; to Stream&lt;Entry&gt;?\r\n\r\nI tried (among other things):\r\n\r\n     return Optional.ofNullable(getMap())\r\n       .map(Map::entrySet) // gets the entryset\r\n       .map(Stream::of)\r\n       .orElseGet(Stream::empty)\r\n       // i would then like to continue with\r\n       .filter(e -&gt; e.getKey().startsWith(&quot;f&quot;)\r\n       .map(Entry::getValue)\r\n       .findFirst();\r\n\r\nbut then I get not `Stream&lt;Entry&gt;` but `Stream&lt;Set&lt;Entry&gt;&gt;` ... is there a way to somehow flatMap a collection or map out of an Optional?\r\n\r\nNote: I am interested in a fluent, pure stream/optional approach here. It works of course when I save the map to local var first and make sure it is not null.","title":"using a stream based on the content of Optional&lt;Map&gt;","body":"<p>I get a map from a service not under my control that might be null and want to process it, let's say, filter, map and reduce to a single element I need.</p>\n\n<p>Question: is there a \"link\" from Optional to Stream?</p>\n\n<p>I tried (among other things):</p>\n\n<pre><code> return Optional.ofNullable(getMap())\n   .map(Map::entrySet) // gets the entryset\n   .map(Stream::of)\n   .orElseGet(Stream::empty)\n   // i would then like to continue with\n   .filter(e -&gt; e.getKey().startsWith(\"f\")\n   .map(Entry::getValue)\n   .findFirst();\n</code></pre>\n\n<p>but then I get not <code>Stream&lt;Entry&gt;</code> but <code>Stream&lt;Set&lt;Entry&gt;&gt;</code> ... is there a way to somehow flatMap a collection or map out of an Optional?</p>\n\n<p>Note: I am interested in a fluent, pure stream/optional approach here. It works of course when I save the map to local var first and make sure it is not null.</p>\n"},{"tags":["java","soap","proxy"],"owner":{"account_id":26536132,"reputation":1,"user_id":20167636,"display_name":"arnaud92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673454061,"creation_date":1673453643,"question_id":75086009,"body_markdown":"I have an application that sends SOAP messages using the SOAP API.\r\nIt worked from office perfectly, but when on remote from home using VPN, SOAP calls don&#39;t work anymore.\r\n\r\nError message is :\r\n\r\n    [Fatal Error] :1:1: Content is not allowed in prolog.\r\n    Content is not allowed in prolog.\r\n\r\nThe code I use for soap calls :\r\n\r\n    SOAPConnection con;\r\n    SOAPConnectionFactory conFactory = SOAPConnectionFactory.newInstance();\r\n    con = conFactory.createConnection();\r\n    URL endpoint = new URL(this.getURI());\r\n    SOAPMessage retval = con.call(message, endpoint);\r\n\r\nHow to add a proxy to make those calls work when using a VPN?","title":"How to add a proxy with SOAPConnection","body":"<p>I have an application that sends SOAP messages using the SOAP API.\nIt worked from office perfectly, but when on remote from home using VPN, SOAP calls don't work anymore.</p>\n<p>Error message is :</p>\n<pre><code>[Fatal Error] :1:1: Content is not allowed in prolog.\nContent is not allowed in prolog.\n</code></pre>\n<p>The code I use for soap calls :</p>\n<pre><code>SOAPConnection con;\nSOAPConnectionFactory conFactory = SOAPConnectionFactory.newInstance();\ncon = conFactory.createConnection();\nURL endpoint = new URL(this.getURI());\nSOAPMessage retval = con.call(message, endpoint);\n</code></pre>\n<p>How to add a proxy to make those calls work when using a VPN?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673452331,"post_id":75085706,"comment_id":132503321,"body_markdown":"Try `do { ... } while(!endLoop.equals(&quot;q&quot;));`, i.e. evaluate the input at the end. Or just use an endless loop and use `if(endLoop.equals(&quot;q&quot;)) { break; }` to end the loop.","body":"Try <code>do { ... } while(!endLoop.equals(&quot;q&quot;));</code>, i.e. evaluate the input at the end. Or just use an endless loop and use <code>if(endLoop.equals(&quot;q&quot;)) { break; }</code> to end the loop."},{"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"score":1,"creation_date":1673452418,"post_id":75085706,"comment_id":132503361,"body_markdown":"&quot;q&quot; and enter or just &quot;q&quot;?","body":"&quot;q&quot; and enter or just &quot;q&quot;?"},{"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"score":0,"creation_date":1673453739,"post_id":75085706,"comment_id":132503901,"body_markdown":"&quot;q&quot; enter. I want to catch a moment when q + enter is pressed","body":"&quot;q&quot; enter. I want to catch a moment when q + enter is pressed"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673453887,"post_id":75085706,"comment_id":132503981,"body_markdown":"What do you mean you want to catch that moment? What do you expect to happen here? You expect the loop to keep incrementing and printing `num` even if you don&#39;t press anything and then exit if you press &quot;q&quot; and then enter?","body":"What do you mean you want to catch that moment? What do you expect to happen here? You expect the loop to keep incrementing and printing <code>num</code> even if you don&#39;t press anything and then exit if you press &quot;q&quot; and then enter?"},{"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"score":0,"creation_date":1673454628,"post_id":75085706,"comment_id":132504306,"body_markdown":"Yes exactly!! I wanted google and find by my self but I don&#39;t know the keyword","body":"Yes exactly!! I wanted google and find by my self but I don&#39;t know the keyword"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673454921,"post_id":75085706,"comment_id":132504438,"body_markdown":"Then see this: https://stackoverflow.com/a/1066647/133203 TL;DR: there&#39;s no portable way of doing this.","body":"Then see this: <a href=\"https://stackoverflow.com/a/1066647/133203\">stackoverflow.com/a/1066647/133203</a> TL;DR: there&#39;s no portable way of doing this."}],"answers":[{"tags":[],"owner":{"account_id":27500183,"reputation":11,"user_id":20984055,"display_name":"Stack Overflow"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673453943,"creation_date":1673453943,"answer_id":75086074,"question_id":75085706,"body_markdown":"You can take a flag, initializing with true, and after the first input is taken, change it to false. ","title":"How to end loop by input in java","body":"<p>You can take a flag, initializing with true, and after the first input is taken, change it to false.</p>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1673453943,"creation_date":1673452251,"question_id":75085706,"body_markdown":"Hi I want to end loop when q was input.\r\n\r\nSo I made a code below\r\n\r\n    \t\tSystem.out.println(&quot;press q to end the loop&quot;);\r\n    \t\tString endLoop = &quot;&quot;;\r\n    \t\twhile(!endLoop.equals(&quot;q&quot;)) {\r\n    \t\t\tendLoop = sc.next();\r\n    \t\t\tSystem.out.println(num);\r\n    \t\t\tnum++;\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t}\r\n\r\n\r\nThe code I made have some problem.\r\nMy code wait for user to input every time. But I don&#39;t want to wait for input every repeat.\r\nI just want to catch when user input q by keyboard. And then I want to end the loop.\r\n\r\nWhat should I do to solve this problem??\r\n\r\n\r\n","title":"How to end loop by input in java","body":"<p>Hi I want to end loop when q was input.</p>\n<p>So I made a code below</p>\n<pre><code>        System.out.println(&quot;press q to end the loop&quot;);\n        String endLoop = &quot;&quot;;\n        while(!endLoop.equals(&quot;q&quot;)) {\n            endLoop = sc.next();\n            System.out.println(num);\n            num++;\n            Thread.sleep(1000);\n        }\n</code></pre>\n<p>The code I made have some problem.\nMy code wait for user to input every time. But I don't want to wait for input every repeat.\nI just want to catch when user input q by keyboard. And then I want to end the loop.</p>\n<p>What should I do to solve this problem??</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9485,"page":738,"page_size":100}
